function eq(e,t){for(var r=0;r<t.length;r++){const s=t[r];if(typeof s!="string"&&!Array.isArray(s)){for(const a in s)if(a!=="default"&&!(a in e)){const i=Object.getOwnPropertyDescriptor(s,a);i&&Object.defineProperty(e,a,i.get?i:{enumerable:!0,get:()=>s[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function r(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(a){if(a.ep)return;a.ep=!0;const i=r(a);fetch(a.href,i)}})();var Un=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Cr(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function fL(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function s(){return this instanceof s?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(s){var a=Object.getOwnPropertyDescriptor(e,s);Object.defineProperty(r,s,a.get?a:{enumerable:!0,get:function(){return e[s]}})}),r}var mL={exports:{}},u1={},pL={exports:{}},ar={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ag=Symbol.for("react.element"),tq=Symbol.for("react.portal"),rq=Symbol.for("react.fragment"),nq=Symbol.for("react.strict_mode"),sq=Symbol.for("react.profiler"),aq=Symbol.for("react.provider"),iq=Symbol.for("react.context"),oq=Symbol.for("react.forward_ref"),lq=Symbol.for("react.suspense"),cq=Symbol.for("react.memo"),dq=Symbol.for("react.lazy"),t3=Symbol.iterator;function uq(e){return e===null||typeof e!="object"?null:(e=t3&&e[t3]||e["@@iterator"],typeof e=="function"?e:null)}var vL={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},gL=Object.assign,xL={};function Zf(e,t,r){this.props=e,this.context=t,this.refs=xL,this.updater=r||vL}Zf.prototype.isReactComponent={};Zf.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Zf.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function yL(){}yL.prototype=Zf.prototype;function uA(e,t,r){this.props=e,this.context=t,this.refs=xL,this.updater=r||vL}var hA=uA.prototype=new yL;hA.constructor=uA;gL(hA,Zf.prototype);hA.isPureReactComponent=!0;var r3=Array.isArray,bL=Object.prototype.hasOwnProperty,fA={current:null},jL={key:!0,ref:!0,__self:!0,__source:!0};function wL(e,t,r){var s,a={},i=null,o=null;if(t!=null)for(s in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)bL.call(t,s)&&!jL.hasOwnProperty(s)&&(a[s]=t[s]);var l=arguments.length-2;if(l===1)a.children=r;else if(1<l){for(var c=Array(l),d=0;d<l;d++)c[d]=arguments[d+2];a.children=c}if(e&&e.defaultProps)for(s in l=e.defaultProps,l)a[s]===void 0&&(a[s]=l[s]);return{$$typeof:Ag,type:e,key:i,ref:o,props:a,_owner:fA.current}}function hq(e,t){return{$$typeof:Ag,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function mA(e){return typeof e=="object"&&e!==null&&e.$$typeof===Ag}function fq(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var n3=/\/+/g;function Gw(e,t){return typeof e=="object"&&e!==null&&e.key!=null?fq(""+e.key):t.toString(36)}function X0(e,t,r,s,a){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Ag:case tq:o=!0}}if(o)return o=e,a=a(o),e=s===""?"."+Gw(o,0):s,r3(a)?(r="",e!=null&&(r=e.replace(n3,"$&/")+"/"),X0(a,t,r,"",function(d){return d})):a!=null&&(mA(a)&&(a=hq(a,r+(!a.key||o&&o.key===a.key?"":(""+a.key).replace(n3,"$&/")+"/")+e)),t.push(a)),1;if(o=0,s=s===""?".":s+":",r3(e))for(var l=0;l<e.length;l++){i=e[l];var c=s+Gw(i,l);o+=X0(i,t,r,c,a)}else if(c=uq(e),typeof c=="function")for(e=c.call(e),l=0;!(i=e.next()).done;)i=i.value,c=s+Gw(i,l++),o+=X0(i,t,r,c,a);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Kx(e,t,r){if(e==null)return e;var s=[],a=0;return X0(e,s,"","",function(i){return t.call(r,i,a++)}),s}function mq(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var ta={current:null},Q0={transition:null},pq={ReactCurrentDispatcher:ta,ReactCurrentBatchConfig:Q0,ReactCurrentOwner:fA};function NL(){throw Error("act(...) is not supported in production builds of React.")}ar.Children={map:Kx,forEach:function(e,t,r){Kx(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return Kx(e,function(){t++}),t},toArray:function(e){return Kx(e,function(t){return t})||[]},only:function(e){if(!mA(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};ar.Component=Zf;ar.Fragment=rq;ar.Profiler=sq;ar.PureComponent=uA;ar.StrictMode=nq;ar.Suspense=lq;ar.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=pq;ar.act=NL;ar.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var s=gL({},e.props),a=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=fA.current),t.key!==void 0&&(a=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)bL.call(t,c)&&!jL.hasOwnProperty(c)&&(s[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)s.children=r;else if(1<c){l=Array(c);for(var d=0;d<c;d++)l[d]=arguments[d+2];s.children=l}return{$$typeof:Ag,type:e.type,key:a,ref:i,props:s,_owner:o}};ar.createContext=function(e){return e={$$typeof:iq,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:aq,_context:e},e.Consumer=e};ar.createElement=wL;ar.createFactory=function(e){var t=wL.bind(null,e);return t.type=e,t};ar.createRef=function(){return{current:null}};ar.forwardRef=function(e){return{$$typeof:oq,render:e}};ar.isValidElement=mA;ar.lazy=function(e){return{$$typeof:dq,_payload:{_status:-1,_result:e},_init:mq}};ar.memo=function(e,t){return{$$typeof:cq,type:e,compare:t===void 0?null:t}};ar.startTransition=function(e){var t=Q0.transition;Q0.transition={};try{e()}finally{Q0.transition=t}};ar.unstable_act=NL;ar.useCallback=function(e,t){return ta.current.useCallback(e,t)};ar.useContext=function(e){return ta.current.useContext(e)};ar.useDebugValue=function(){};ar.useDeferredValue=function(e){return ta.current.useDeferredValue(e)};ar.useEffect=function(e,t){return ta.current.useEffect(e,t)};ar.useId=function(){return ta.current.useId()};ar.useImperativeHandle=function(e,t,r){return ta.current.useImperativeHandle(e,t,r)};ar.useInsertionEffect=function(e,t){return ta.current.useInsertionEffect(e,t)};ar.useLayoutEffect=function(e,t){return ta.current.useLayoutEffect(e,t)};ar.useMemo=function(e,t){return ta.current.useMemo(e,t)};ar.useReducer=function(e,t,r){return ta.current.useReducer(e,t,r)};ar.useRef=function(e){return ta.current.useRef(e)};ar.useState=function(e){return ta.current.useState(e)};ar.useSyncExternalStore=function(e,t,r){return ta.current.useSyncExternalStore(e,t,r)};ar.useTransition=function(){return ta.current.useTransition()};ar.version="18.3.1";pL.exports=ar;var C=pL.exports;const pe=Cr(C),Eg=eq({__proto__:null,default:pe},[C]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vq=C,gq=Symbol.for("react.element"),xq=Symbol.for("react.fragment"),yq=Object.prototype.hasOwnProperty,bq=vq.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,jq={key:!0,ref:!0,__self:!0,__source:!0};function SL(e,t,r){var s,a={},i=null,o=null;r!==void 0&&(i=""+r),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(s in t)yq.call(t,s)&&!jq.hasOwnProperty(s)&&(a[s]=t[s]);if(e&&e.defaultProps)for(s in t=e.defaultProps,t)a[s]===void 0&&(a[s]=t[s]);return{$$typeof:gq,type:e,key:i,ref:o,props:a,_owner:bq.current}}u1.Fragment=xq;u1.jsx=SL;u1.jsxs=SL;mL.exports=u1;var n=mL.exports,UN={},CL={exports:{}},Wa={},AL={exports:{}},EL={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(B,U){var H=B.length;B.push(U);e:for(;0<H;){var q=H-1>>>1,L=B[q];if(0<a(L,U))B[q]=U,B[H]=L,H=q;else break e}}function r(B){return B.length===0?null:B[0]}function s(B){if(B.length===0)return null;var U=B[0],H=B.pop();if(H!==U){B[0]=H;e:for(var q=0,L=B.length,V=L>>>1;q<V;){var G=2*(q+1)-1,Z=B[G],te=G+1,he=B[te];if(0>a(Z,H))te<L&&0>a(he,Z)?(B[q]=he,B[te]=H,q=te):(B[q]=Z,B[G]=H,q=G);else if(te<L&&0>a(he,H))B[q]=he,B[te]=H,q=te;else break e}}return U}function a(B,U){var H=B.sortIndex-U.sortIndex;return H!==0?H:B.id-U.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],d=[],h=1,u=null,f=3,m=!1,v=!1,x=!1,p=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function y(B){for(var U=r(d);U!==null;){if(U.callback===null)s(d);else if(U.startTime<=B)s(d),U.sortIndex=U.expirationTime,t(c,U);else break;U=r(d)}}function j(B){if(x=!1,y(B),!v)if(r(c)!==null)v=!0,M(E);else{var U=r(d);U!==null&&R(j,U.startTime-B)}}function E(B,U){v=!1,x&&(x=!1,g(w),w=-1),m=!0;var H=f;try{for(y(U),u=r(c);u!==null&&(!(u.expirationTime>U)||B&&!T());){var q=u.callback;if(typeof q=="function"){u.callback=null,f=u.priorityLevel;var L=q(u.expirationTime<=U);U=e.unstable_now(),typeof L=="function"?u.callback=L:u===r(c)&&s(c),y(U)}else s(c);u=r(c)}if(u!==null)var V=!0;else{var G=r(d);G!==null&&R(j,G.startTime-U),V=!1}return V}finally{u=null,f=H,m=!1}}var S=!1,N=null,w=-1,_=5,k=-1;function T(){return!(e.unstable_now()-k<_)}function A(){if(N!==null){var B=e.unstable_now();k=B;var U=!0;try{U=N(!0,B)}finally{U?O():(S=!1,N=null)}}else S=!1}var O;if(typeof b=="function")O=function(){b(A)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,F=D.port2;D.port1.onmessage=A,O=function(){F.postMessage(null)}}else O=function(){p(A,0)};function M(B){N=B,S||(S=!0,O())}function R(B,U){w=p(function(){B(e.unstable_now())},U)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(B){B.callback=null},e.unstable_continueExecution=function(){v||m||(v=!0,M(E))},e.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):_=0<B?Math.floor(1e3/B):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(B){switch(f){case 1:case 2:case 3:var U=3;break;default:U=f}var H=f;f=U;try{return B()}finally{f=H}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(B,U){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var H=f;f=B;try{return U()}finally{f=H}},e.unstable_scheduleCallback=function(B,U,H){var q=e.unstable_now();switch(typeof H=="object"&&H!==null?(H=H.delay,H=typeof H=="number"&&0<H?q+H:q):H=q,B){case 1:var L=-1;break;case 2:L=250;break;case 5:L=1073741823;break;case 4:L=1e4;break;default:L=5e3}return L=H+L,B={id:h++,callback:U,priorityLevel:B,startTime:H,expirationTime:L,sortIndex:-1},H>q?(B.sortIndex=H,t(d,B),r(c)===null&&B===r(d)&&(x?(g(w),w=-1):x=!0,R(j,H-q))):(B.sortIndex=L,t(c,B),v||m||(v=!0,M(E))),B},e.unstable_shouldYield=T,e.unstable_wrapCallback=function(B){var U=f;return function(){var H=f;f=U;try{return B.apply(this,arguments)}finally{f=H}}}})(EL);AL.exports=EL;var wq=AL.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Nq=C,qa=wq;function at(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var PL=new Set,hv={};function Cu(e,t){uf(e,t),uf(e+"Capture",t)}function uf(e,t){for(hv[e]=t,e=0;e<t.length;e++)PL.add(t[e])}var Tl=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),VN=Object.prototype.hasOwnProperty,Sq=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,s3={},a3={};function Cq(e){return VN.call(a3,e)?!0:VN.call(s3,e)?!1:Sq.test(e)?a3[e]=!0:(s3[e]=!0,!1)}function Aq(e,t,r,s){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return s?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Eq(e,t,r,s){if(t===null||typeof t>"u"||Aq(e,t,r,s))return!0;if(s)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function ra(e,t,r,s,a,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=s,this.attributeNamespace=a,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var Es={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Es[e]=new ra(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Es[t]=new ra(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Es[e]=new ra(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Es[e]=new ra(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Es[e]=new ra(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Es[e]=new ra(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Es[e]=new ra(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Es[e]=new ra(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Es[e]=new ra(e,5,!1,e.toLowerCase(),null,!1,!1)});var pA=/[\-:]([a-z])/g;function vA(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(pA,vA);Es[t]=new ra(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(pA,vA);Es[t]=new ra(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(pA,vA);Es[t]=new ra(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Es[e]=new ra(e,1,!1,e.toLowerCase(),null,!1,!1)});Es.xlinkHref=new ra("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Es[e]=new ra(e,1,!1,e.toLowerCase(),null,!0,!0)});function gA(e,t,r,s){var a=Es.hasOwnProperty(t)?Es[t]:null;(a!==null?a.type!==0:s||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Eq(t,r,a,s)&&(r=null),s||a===null?Cq(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):a.mustUseProperty?e[a.propertyName]=r===null?a.type===3?!1:"":r:(t=a.attributeName,s=a.attributeNamespace,r===null?e.removeAttribute(t):(a=a.type,r=a===3||a===4&&r===!0?"":""+r,s?e.setAttributeNS(s,t,r):e.setAttribute(t,r))))}var Ul=Nq.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Yx=Symbol.for("react.element"),Oh=Symbol.for("react.portal"),Lh=Symbol.for("react.fragment"),xA=Symbol.for("react.strict_mode"),qN=Symbol.for("react.profiler"),TL=Symbol.for("react.provider"),_L=Symbol.for("react.context"),yA=Symbol.for("react.forward_ref"),WN=Symbol.for("react.suspense"),HN=Symbol.for("react.suspense_list"),bA=Symbol.for("react.memo"),vc=Symbol.for("react.lazy"),IL=Symbol.for("react.offscreen"),i3=Symbol.iterator;function ip(e){return e===null||typeof e!="object"?null:(e=i3&&e[i3]||e["@@iterator"],typeof e=="function"?e:null)}var vn=Object.assign,Kw;function Dp(e){if(Kw===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Kw=t&&t[1]||""}return`
`+Kw+e}var Yw=!1;function Xw(e,t){if(!e||Yw)return"";Yw=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(d){var s=d}Reflect.construct(e,[],t)}else{try{t.call()}catch(d){s=d}e.call(t.prototype)}else{try{throw Error()}catch(d){s=d}e()}}catch(d){if(d&&s&&typeof d.stack=="string"){for(var a=d.stack.split(`
`),i=s.stack.split(`
`),o=a.length-1,l=i.length-1;1<=o&&0<=l&&a[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(a[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||a[o]!==i[l]){var c=`
`+a[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=l);break}}}finally{Yw=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?Dp(e):""}function Pq(e){switch(e.tag){case 5:return Dp(e.type);case 16:return Dp("Lazy");case 13:return Dp("Suspense");case 19:return Dp("SuspenseList");case 0:case 2:case 15:return e=Xw(e.type,!1),e;case 11:return e=Xw(e.type.render,!1),e;case 1:return e=Xw(e.type,!0),e;default:return""}}function GN(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Lh:return"Fragment";case Oh:return"Portal";case qN:return"Profiler";case xA:return"StrictMode";case WN:return"Suspense";case HN:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case _L:return(e.displayName||"Context")+".Consumer";case TL:return(e._context.displayName||"Context")+".Provider";case yA:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case bA:return t=e.displayName||null,t!==null?t:GN(e.type)||"Memo";case vc:t=e._payload,e=e._init;try{return GN(e(t))}catch{}}return null}function Tq(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return GN(t);case 8:return t===xA?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Gc(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function kL(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function _q(e){var t=kL(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),s=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var a=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(o){s=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return s},setValue:function(o){s=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Xx(e){e._valueTracker||(e._valueTracker=_q(e))}function DL(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),s="";return e&&(s=kL(e)?e.checked?"true":"false":e.value),e=s,e!==r?(t.setValue(e),!0):!1}function gy(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function KN(e,t){var r=t.checked;return vn({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function o3(e,t){var r=t.defaultValue==null?"":t.defaultValue,s=t.checked!=null?t.checked:t.defaultChecked;r=Gc(t.value!=null?t.value:r),e._wrapperState={initialChecked:s,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function OL(e,t){t=t.checked,t!=null&&gA(e,"checked",t,!1)}function YN(e,t){OL(e,t);var r=Gc(t.value),s=t.type;if(r!=null)s==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(s==="submit"||s==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?XN(e,t.type,r):t.hasOwnProperty("defaultValue")&&XN(e,t.type,Gc(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function l3(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var s=t.type;if(!(s!=="submit"&&s!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function XN(e,t,r){(t!=="number"||gy(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var Op=Array.isArray;function Yh(e,t,r,s){if(e=e.options,t){t={};for(var a=0;a<r.length;a++)t["$"+r[a]]=!0;for(r=0;r<e.length;r++)a=t.hasOwnProperty("$"+e[r].value),e[r].selected!==a&&(e[r].selected=a),a&&s&&(e[r].defaultSelected=!0)}else{for(r=""+Gc(r),t=null,a=0;a<e.length;a++){if(e[a].value===r){e[a].selected=!0,s&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function QN(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(at(91));return vn({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function c3(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(at(92));if(Op(r)){if(1<r.length)throw Error(at(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Gc(r)}}function LL(e,t){var r=Gc(t.value),s=Gc(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),s!=null&&(e.defaultValue=""+s)}function d3(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function RL(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function JN(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?RL(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Qx,FL=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,s,a){MSApp.execUnsafeLocalFunction(function(){return e(t,r,s,a)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Qx=Qx||document.createElement("div"),Qx.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Qx.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function fv(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Mp={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Iq=["Webkit","ms","Moz","O"];Object.keys(Mp).forEach(function(e){Iq.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Mp[t]=Mp[e]})});function $L(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Mp.hasOwnProperty(e)&&Mp[e]?(""+t).trim():t+"px"}function ML(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var s=r.indexOf("--")===0,a=$L(r,t[r],s);r==="float"&&(r="cssFloat"),s?e.setProperty(r,a):e[r]=a}}var kq=vn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ZN(e,t){if(t){if(kq[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(at(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(at(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(at(61))}if(t.style!=null&&typeof t.style!="object")throw Error(at(62))}}function e5(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var t5=null;function jA(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var r5=null,Xh=null,Qh=null;function u3(e){if(e=_g(e)){if(typeof r5!="function")throw Error(at(280));var t=e.stateNode;t&&(t=v1(t),r5(e.stateNode,e.type,t))}}function BL(e){Xh?Qh?Qh.push(e):Qh=[e]:Xh=e}function zL(){if(Xh){var e=Xh,t=Qh;if(Qh=Xh=null,u3(e),t)for(e=0;e<t.length;e++)u3(t[e])}}function UL(e,t){return e(t)}function VL(){}var Qw=!1;function qL(e,t,r){if(Qw)return e(t,r);Qw=!0;try{return UL(e,t,r)}finally{Qw=!1,(Xh!==null||Qh!==null)&&(VL(),zL())}}function mv(e,t){var r=e.stateNode;if(r===null)return null;var s=v1(r);if(s===null)return null;r=s[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(e=e.type,s=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!s;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(at(231,t,typeof r));return r}var n5=!1;if(Tl)try{var op={};Object.defineProperty(op,"passive",{get:function(){n5=!0}}),window.addEventListener("test",op,op),window.removeEventListener("test",op,op)}catch{n5=!1}function Dq(e,t,r,s,a,i,o,l,c){var d=Array.prototype.slice.call(arguments,3);try{t.apply(r,d)}catch(h){this.onError(h)}}var Bp=!1,xy=null,yy=!1,s5=null,Oq={onError:function(e){Bp=!0,xy=e}};function Lq(e,t,r,s,a,i,o,l,c){Bp=!1,xy=null,Dq.apply(Oq,arguments)}function Rq(e,t,r,s,a,i,o,l,c){if(Lq.apply(this,arguments),Bp){if(Bp){var d=xy;Bp=!1,xy=null}else throw Error(at(198));yy||(yy=!0,s5=d)}}function Au(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function WL(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function h3(e){if(Au(e)!==e)throw Error(at(188))}function Fq(e){var t=e.alternate;if(!t){if(t=Au(e),t===null)throw Error(at(188));return t!==e?null:e}for(var r=e,s=t;;){var a=r.return;if(a===null)break;var i=a.alternate;if(i===null){if(s=a.return,s!==null){r=s;continue}break}if(a.child===i.child){for(i=a.child;i;){if(i===r)return h3(a),e;if(i===s)return h3(a),t;i=i.sibling}throw Error(at(188))}if(r.return!==s.return)r=a,s=i;else{for(var o=!1,l=a.child;l;){if(l===r){o=!0,r=a,s=i;break}if(l===s){o=!0,s=a,r=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===r){o=!0,r=i,s=a;break}if(l===s){o=!0,s=i,r=a;break}l=l.sibling}if(!o)throw Error(at(189))}}if(r.alternate!==s)throw Error(at(190))}if(r.tag!==3)throw Error(at(188));return r.stateNode.current===r?e:t}function HL(e){return e=Fq(e),e!==null?GL(e):null}function GL(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=GL(e);if(t!==null)return t;e=e.sibling}return null}var KL=qa.unstable_scheduleCallback,f3=qa.unstable_cancelCallback,$q=qa.unstable_shouldYield,Mq=qa.unstable_requestPaint,Tn=qa.unstable_now,Bq=qa.unstable_getCurrentPriorityLevel,wA=qa.unstable_ImmediatePriority,YL=qa.unstable_UserBlockingPriority,by=qa.unstable_NormalPriority,zq=qa.unstable_LowPriority,XL=qa.unstable_IdlePriority,h1=null,Ro=null;function Uq(e){if(Ro&&typeof Ro.onCommitFiberRoot=="function")try{Ro.onCommitFiberRoot(h1,e,void 0,(e.current.flags&128)===128)}catch{}}var Zi=Math.clz32?Math.clz32:Wq,Vq=Math.log,qq=Math.LN2;function Wq(e){return e>>>=0,e===0?32:31-(Vq(e)/qq|0)|0}var Jx=64,Zx=4194304;function Lp(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function jy(e,t){var r=e.pendingLanes;if(r===0)return 0;var s=0,a=e.suspendedLanes,i=e.pingedLanes,o=r&268435455;if(o!==0){var l=o&~a;l!==0?s=Lp(l):(i&=o,i!==0&&(s=Lp(i)))}else o=r&~a,o!==0?s=Lp(o):i!==0&&(s=Lp(i));if(s===0)return 0;if(t!==0&&t!==s&&!(t&a)&&(a=s&-s,i=t&-t,a>=i||a===16&&(i&4194240)!==0))return t;if(s&4&&(s|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=s;0<t;)r=31-Zi(t),a=1<<r,s|=e[r],t&=~a;return s}function Hq(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Gq(e,t){for(var r=e.suspendedLanes,s=e.pingedLanes,a=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-Zi(i),l=1<<o,c=a[o];c===-1?(!(l&r)||l&s)&&(a[o]=Hq(l,t)):c<=t&&(e.expiredLanes|=l),i&=~l}}function a5(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function QL(){var e=Jx;return Jx<<=1,!(Jx&4194240)&&(Jx=64),e}function Jw(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Pg(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Zi(t),e[t]=r}function Kq(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var s=e.eventTimes;for(e=e.expirationTimes;0<r;){var a=31-Zi(r),i=1<<a;t[a]=0,s[a]=-1,e[a]=-1,r&=~i}}function NA(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var s=31-Zi(r),a=1<<s;a&t|e[s]&t&&(e[s]|=t),r&=~a}}var Tr=0;function JL(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var ZL,SA,eR,tR,rR,i5=!1,e0=[],kc=null,Dc=null,Oc=null,pv=new Map,vv=new Map,bc=[],Yq="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function m3(e,t){switch(e){case"focusin":case"focusout":kc=null;break;case"dragenter":case"dragleave":Dc=null;break;case"mouseover":case"mouseout":Oc=null;break;case"pointerover":case"pointerout":pv.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":vv.delete(t.pointerId)}}function lp(e,t,r,s,a,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:r,eventSystemFlags:s,nativeEvent:i,targetContainers:[a]},t!==null&&(t=_g(t),t!==null&&SA(t)),e):(e.eventSystemFlags|=s,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function Xq(e,t,r,s,a){switch(t){case"focusin":return kc=lp(kc,e,t,r,s,a),!0;case"dragenter":return Dc=lp(Dc,e,t,r,s,a),!0;case"mouseover":return Oc=lp(Oc,e,t,r,s,a),!0;case"pointerover":var i=a.pointerId;return pv.set(i,lp(pv.get(i)||null,e,t,r,s,a)),!0;case"gotpointercapture":return i=a.pointerId,vv.set(i,lp(vv.get(i)||null,e,t,r,s,a)),!0}return!1}function nR(e){var t=Vd(e.target);if(t!==null){var r=Au(t);if(r!==null){if(t=r.tag,t===13){if(t=WL(r),t!==null){e.blockedOn=t,rR(e.priority,function(){eR(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function J0(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=o5(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var s=new r.constructor(r.type,r);t5=s,r.target.dispatchEvent(s),t5=null}else return t=_g(r),t!==null&&SA(t),e.blockedOn=r,!1;t.shift()}return!0}function p3(e,t,r){J0(e)&&r.delete(t)}function Qq(){i5=!1,kc!==null&&J0(kc)&&(kc=null),Dc!==null&&J0(Dc)&&(Dc=null),Oc!==null&&J0(Oc)&&(Oc=null),pv.forEach(p3),vv.forEach(p3)}function cp(e,t){e.blockedOn===t&&(e.blockedOn=null,i5||(i5=!0,qa.unstable_scheduleCallback(qa.unstable_NormalPriority,Qq)))}function gv(e){function t(a){return cp(a,e)}if(0<e0.length){cp(e0[0],e);for(var r=1;r<e0.length;r++){var s=e0[r];s.blockedOn===e&&(s.blockedOn=null)}}for(kc!==null&&cp(kc,e),Dc!==null&&cp(Dc,e),Oc!==null&&cp(Oc,e),pv.forEach(t),vv.forEach(t),r=0;r<bc.length;r++)s=bc[r],s.blockedOn===e&&(s.blockedOn=null);for(;0<bc.length&&(r=bc[0],r.blockedOn===null);)nR(r),r.blockedOn===null&&bc.shift()}var Jh=Ul.ReactCurrentBatchConfig,wy=!0;function Jq(e,t,r,s){var a=Tr,i=Jh.transition;Jh.transition=null;try{Tr=1,CA(e,t,r,s)}finally{Tr=a,Jh.transition=i}}function Zq(e,t,r,s){var a=Tr,i=Jh.transition;Jh.transition=null;try{Tr=4,CA(e,t,r,s)}finally{Tr=a,Jh.transition=i}}function CA(e,t,r,s){if(wy){var a=o5(e,t,r,s);if(a===null)l2(e,t,s,Ny,r),m3(e,s);else if(Xq(a,e,t,r,s))s.stopPropagation();else if(m3(e,s),t&4&&-1<Yq.indexOf(e)){for(;a!==null;){var i=_g(a);if(i!==null&&ZL(i),i=o5(e,t,r,s),i===null&&l2(e,t,s,Ny,r),i===a)break;a=i}a!==null&&s.stopPropagation()}else l2(e,t,s,null,r)}}var Ny=null;function o5(e,t,r,s){if(Ny=null,e=jA(s),e=Vd(e),e!==null)if(t=Au(e),t===null)e=null;else if(r=t.tag,r===13){if(e=WL(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Ny=e,null}function sR(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Bq()){case wA:return 1;case YL:return 4;case by:case zq:return 16;case XL:return 536870912;default:return 16}default:return 16}}var Cc=null,AA=null,Z0=null;function aR(){if(Z0)return Z0;var e,t=AA,r=t.length,s,a="value"in Cc?Cc.value:Cc.textContent,i=a.length;for(e=0;e<r&&t[e]===a[e];e++);var o=r-e;for(s=1;s<=o&&t[r-s]===a[i-s];s++);return Z0=a.slice(e,1<s?1-s:void 0)}function ey(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function t0(){return!0}function v3(){return!1}function Ha(e){function t(r,s,a,i,o){this._reactName=r,this._targetInst=a,this.type=s,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?t0:v3,this.isPropagationStopped=v3,this}return vn(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=t0)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=t0)},persist:function(){},isPersistent:t0}),t}var em={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},EA=Ha(em),Tg=vn({},em,{view:0,detail:0}),eW=Ha(Tg),Zw,e2,dp,f1=vn({},Tg,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:PA,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==dp&&(dp&&e.type==="mousemove"?(Zw=e.screenX-dp.screenX,e2=e.screenY-dp.screenY):e2=Zw=0,dp=e),Zw)},movementY:function(e){return"movementY"in e?e.movementY:e2}}),g3=Ha(f1),tW=vn({},f1,{dataTransfer:0}),rW=Ha(tW),nW=vn({},Tg,{relatedTarget:0}),t2=Ha(nW),sW=vn({},em,{animationName:0,elapsedTime:0,pseudoElement:0}),aW=Ha(sW),iW=vn({},em,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),oW=Ha(iW),lW=vn({},em,{data:0}),x3=Ha(lW),cW={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},dW={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},uW={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function hW(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=uW[e])?!!t[e]:!1}function PA(){return hW}var fW=vn({},Tg,{key:function(e){if(e.key){var t=cW[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=ey(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?dW[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:PA,charCode:function(e){return e.type==="keypress"?ey(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ey(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),mW=Ha(fW),pW=vn({},f1,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),y3=Ha(pW),vW=vn({},Tg,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:PA}),gW=Ha(vW),xW=vn({},em,{propertyName:0,elapsedTime:0,pseudoElement:0}),yW=Ha(xW),bW=vn({},f1,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),jW=Ha(bW),wW=[9,13,27,32],TA=Tl&&"CompositionEvent"in window,zp=null;Tl&&"documentMode"in document&&(zp=document.documentMode);var NW=Tl&&"TextEvent"in window&&!zp,iR=Tl&&(!TA||zp&&8<zp&&11>=zp),b3=String.fromCharCode(32),j3=!1;function oR(e,t){switch(e){case"keyup":return wW.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function lR(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Rh=!1;function SW(e,t){switch(e){case"compositionend":return lR(t);case"keypress":return t.which!==32?null:(j3=!0,b3);case"textInput":return e=t.data,e===b3&&j3?null:e;default:return null}}function CW(e,t){if(Rh)return e==="compositionend"||!TA&&oR(e,t)?(e=aR(),Z0=AA=Cc=null,Rh=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return iR&&t.locale!=="ko"?null:t.data;default:return null}}var AW={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function w3(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!AW[e.type]:t==="textarea"}function cR(e,t,r,s){BL(s),t=Sy(t,"onChange"),0<t.length&&(r=new EA("onChange","change",null,r,s),e.push({event:r,listeners:t}))}var Up=null,xv=null;function EW(e){bR(e,0)}function m1(e){var t=Mh(e);if(DL(t))return e}function PW(e,t){if(e==="change")return t}var dR=!1;if(Tl){var r2;if(Tl){var n2="oninput"in document;if(!n2){var N3=document.createElement("div");N3.setAttribute("oninput","return;"),n2=typeof N3.oninput=="function"}r2=n2}else r2=!1;dR=r2&&(!document.documentMode||9<document.documentMode)}function S3(){Up&&(Up.detachEvent("onpropertychange",uR),xv=Up=null)}function uR(e){if(e.propertyName==="value"&&m1(xv)){var t=[];cR(t,xv,e,jA(e)),qL(EW,t)}}function TW(e,t,r){e==="focusin"?(S3(),Up=t,xv=r,Up.attachEvent("onpropertychange",uR)):e==="focusout"&&S3()}function _W(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return m1(xv)}function IW(e,t){if(e==="click")return m1(t)}function kW(e,t){if(e==="input"||e==="change")return m1(t)}function DW(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var ro=typeof Object.is=="function"?Object.is:DW;function yv(e,t){if(ro(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),s=Object.keys(t);if(r.length!==s.length)return!1;for(s=0;s<r.length;s++){var a=r[s];if(!VN.call(t,a)||!ro(e[a],t[a]))return!1}return!0}function C3(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function A3(e,t){var r=C3(e);e=0;for(var s;r;){if(r.nodeType===3){if(s=e+r.textContent.length,e<=t&&s>=t)return{node:r,offset:t-e};e=s}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=C3(r)}}function hR(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?hR(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function fR(){for(var e=window,t=gy();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=gy(e.document)}return t}function _A(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function OW(e){var t=fR(),r=e.focusedElem,s=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&hR(r.ownerDocument.documentElement,r)){if(s!==null&&_A(r)){if(t=s.start,e=s.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var a=r.textContent.length,i=Math.min(s.start,a);s=s.end===void 0?i:Math.min(s.end,a),!e.extend&&i>s&&(a=s,s=i,i=a),a=A3(r,i);var o=A3(r,s);a&&o&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(a.node,a.offset),e.removeAllRanges(),i>s?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var LW=Tl&&"documentMode"in document&&11>=document.documentMode,Fh=null,l5=null,Vp=null,c5=!1;function E3(e,t,r){var s=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;c5||Fh==null||Fh!==gy(s)||(s=Fh,"selectionStart"in s&&_A(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),Vp&&yv(Vp,s)||(Vp=s,s=Sy(l5,"onSelect"),0<s.length&&(t=new EA("onSelect","select",null,t,r),e.push({event:t,listeners:s}),t.target=Fh)))}function r0(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var $h={animationend:r0("Animation","AnimationEnd"),animationiteration:r0("Animation","AnimationIteration"),animationstart:r0("Animation","AnimationStart"),transitionend:r0("Transition","TransitionEnd")},s2={},mR={};Tl&&(mR=document.createElement("div").style,"AnimationEvent"in window||(delete $h.animationend.animation,delete $h.animationiteration.animation,delete $h.animationstart.animation),"TransitionEvent"in window||delete $h.transitionend.transition);function p1(e){if(s2[e])return s2[e];if(!$h[e])return e;var t=$h[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in mR)return s2[e]=t[r];return e}var pR=p1("animationend"),vR=p1("animationiteration"),gR=p1("animationstart"),xR=p1("transitionend"),yR=new Map,P3="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function sd(e,t){yR.set(e,t),Cu(t,[e])}for(var a2=0;a2<P3.length;a2++){var i2=P3[a2],RW=i2.toLowerCase(),FW=i2[0].toUpperCase()+i2.slice(1);sd(RW,"on"+FW)}sd(pR,"onAnimationEnd");sd(vR,"onAnimationIteration");sd(gR,"onAnimationStart");sd("dblclick","onDoubleClick");sd("focusin","onFocus");sd("focusout","onBlur");sd(xR,"onTransitionEnd");uf("onMouseEnter",["mouseout","mouseover"]);uf("onMouseLeave",["mouseout","mouseover"]);uf("onPointerEnter",["pointerout","pointerover"]);uf("onPointerLeave",["pointerout","pointerover"]);Cu("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Cu("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Cu("onBeforeInput",["compositionend","keypress","textInput","paste"]);Cu("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Cu("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Cu("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Rp="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),$W=new Set("cancel close invalid load scroll toggle".split(" ").concat(Rp));function T3(e,t,r){var s=e.type||"unknown-event";e.currentTarget=r,Rq(s,t,void 0,e),e.currentTarget=null}function bR(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var s=e[r],a=s.event;s=s.listeners;e:{var i=void 0;if(t)for(var o=s.length-1;0<=o;o--){var l=s[o],c=l.instance,d=l.currentTarget;if(l=l.listener,c!==i&&a.isPropagationStopped())break e;T3(a,l,d),i=c}else for(o=0;o<s.length;o++){if(l=s[o],c=l.instance,d=l.currentTarget,l=l.listener,c!==i&&a.isPropagationStopped())break e;T3(a,l,d),i=c}}}if(yy)throw e=s5,yy=!1,s5=null,e}function Zr(e,t){var r=t[m5];r===void 0&&(r=t[m5]=new Set);var s=e+"__bubble";r.has(s)||(jR(t,e,2,!1),r.add(s))}function o2(e,t,r){var s=0;t&&(s|=4),jR(r,e,s,t)}var n0="_reactListening"+Math.random().toString(36).slice(2);function bv(e){if(!e[n0]){e[n0]=!0,PL.forEach(function(r){r!=="selectionchange"&&($W.has(r)||o2(r,!1,e),o2(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[n0]||(t[n0]=!0,o2("selectionchange",!1,t))}}function jR(e,t,r,s){switch(sR(t)){case 1:var a=Jq;break;case 4:a=Zq;break;default:a=CA}r=a.bind(null,t,r,e),a=void 0,!n5||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),s?a!==void 0?e.addEventListener(t,r,{capture:!0,passive:a}):e.addEventListener(t,r,!0):a!==void 0?e.addEventListener(t,r,{passive:a}):e.addEventListener(t,r,!1)}function l2(e,t,r,s,a){var i=s;if(!(t&1)&&!(t&2)&&s!==null)e:for(;;){if(s===null)return;var o=s.tag;if(o===3||o===4){var l=s.stateNode.containerInfo;if(l===a||l.nodeType===8&&l.parentNode===a)break;if(o===4)for(o=s.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===a||c.nodeType===8&&c.parentNode===a))return;o=o.return}for(;l!==null;){if(o=Vd(l),o===null)return;if(c=o.tag,c===5||c===6){s=i=o;continue e}l=l.parentNode}}s=s.return}qL(function(){var d=i,h=jA(r),u=[];e:{var f=yR.get(e);if(f!==void 0){var m=EA,v=e;switch(e){case"keypress":if(ey(r)===0)break e;case"keydown":case"keyup":m=mW;break;case"focusin":v="focus",m=t2;break;case"focusout":v="blur",m=t2;break;case"beforeblur":case"afterblur":m=t2;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=g3;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=rW;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=gW;break;case pR:case vR:case gR:m=aW;break;case xR:m=yW;break;case"scroll":m=eW;break;case"wheel":m=jW;break;case"copy":case"cut":case"paste":m=oW;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=y3}var x=(t&4)!==0,p=!x&&e==="scroll",g=x?f!==null?f+"Capture":null:f;x=[];for(var b=d,y;b!==null;){y=b;var j=y.stateNode;if(y.tag===5&&j!==null&&(y=j,g!==null&&(j=mv(b,g),j!=null&&x.push(jv(b,j,y)))),p)break;b=b.return}0<x.length&&(f=new m(f,v,null,r,h),u.push({event:f,listeners:x}))}}if(!(t&7)){e:{if(f=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",f&&r!==t5&&(v=r.relatedTarget||r.fromElement)&&(Vd(v)||v[_l]))break e;if((m||f)&&(f=h.window===h?h:(f=h.ownerDocument)?f.defaultView||f.parentWindow:window,m?(v=r.relatedTarget||r.toElement,m=d,v=v?Vd(v):null,v!==null&&(p=Au(v),v!==p||v.tag!==5&&v.tag!==6)&&(v=null)):(m=null,v=d),m!==v)){if(x=g3,j="onMouseLeave",g="onMouseEnter",b="mouse",(e==="pointerout"||e==="pointerover")&&(x=y3,j="onPointerLeave",g="onPointerEnter",b="pointer"),p=m==null?f:Mh(m),y=v==null?f:Mh(v),f=new x(j,b+"leave",m,r,h),f.target=p,f.relatedTarget=y,j=null,Vd(h)===d&&(x=new x(g,b+"enter",v,r,h),x.target=y,x.relatedTarget=p,j=x),p=j,m&&v)t:{for(x=m,g=v,b=0,y=x;y;y=ph(y))b++;for(y=0,j=g;j;j=ph(j))y++;for(;0<b-y;)x=ph(x),b--;for(;0<y-b;)g=ph(g),y--;for(;b--;){if(x===g||g!==null&&x===g.alternate)break t;x=ph(x),g=ph(g)}x=null}else x=null;m!==null&&_3(u,f,m,x,!1),v!==null&&p!==null&&_3(u,p,v,x,!0)}}e:{if(f=d?Mh(d):window,m=f.nodeName&&f.nodeName.toLowerCase(),m==="select"||m==="input"&&f.type==="file")var E=PW;else if(w3(f))if(dR)E=kW;else{E=_W;var S=TW}else(m=f.nodeName)&&m.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(E=IW);if(E&&(E=E(e,d))){cR(u,E,r,h);break e}S&&S(e,f,d),e==="focusout"&&(S=f._wrapperState)&&S.controlled&&f.type==="number"&&XN(f,"number",f.value)}switch(S=d?Mh(d):window,e){case"focusin":(w3(S)||S.contentEditable==="true")&&(Fh=S,l5=d,Vp=null);break;case"focusout":Vp=l5=Fh=null;break;case"mousedown":c5=!0;break;case"contextmenu":case"mouseup":case"dragend":c5=!1,E3(u,r,h);break;case"selectionchange":if(LW)break;case"keydown":case"keyup":E3(u,r,h)}var N;if(TA)e:{switch(e){case"compositionstart":var w="onCompositionStart";break e;case"compositionend":w="onCompositionEnd";break e;case"compositionupdate":w="onCompositionUpdate";break e}w=void 0}else Rh?oR(e,r)&&(w="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(w="onCompositionStart");w&&(iR&&r.locale!=="ko"&&(Rh||w!=="onCompositionStart"?w==="onCompositionEnd"&&Rh&&(N=aR()):(Cc=h,AA="value"in Cc?Cc.value:Cc.textContent,Rh=!0)),S=Sy(d,w),0<S.length&&(w=new x3(w,e,null,r,h),u.push({event:w,listeners:S}),N?w.data=N:(N=lR(r),N!==null&&(w.data=N)))),(N=NW?SW(e,r):CW(e,r))&&(d=Sy(d,"onBeforeInput"),0<d.length&&(h=new x3("onBeforeInput","beforeinput",null,r,h),u.push({event:h,listeners:d}),h.data=N))}bR(u,t)})}function jv(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Sy(e,t){for(var r=t+"Capture",s=[];e!==null;){var a=e,i=a.stateNode;a.tag===5&&i!==null&&(a=i,i=mv(e,r),i!=null&&s.unshift(jv(e,i,a)),i=mv(e,t),i!=null&&s.push(jv(e,i,a))),e=e.return}return s}function ph(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function _3(e,t,r,s,a){for(var i=t._reactName,o=[];r!==null&&r!==s;){var l=r,c=l.alternate,d=l.stateNode;if(c!==null&&c===s)break;l.tag===5&&d!==null&&(l=d,a?(c=mv(r,i),c!=null&&o.unshift(jv(r,c,l))):a||(c=mv(r,i),c!=null&&o.push(jv(r,c,l)))),r=r.return}o.length!==0&&e.push({event:t,listeners:o})}var MW=/\r\n?/g,BW=/\u0000|\uFFFD/g;function I3(e){return(typeof e=="string"?e:""+e).replace(MW,`
`).replace(BW,"")}function s0(e,t,r){if(t=I3(t),I3(e)!==t&&r)throw Error(at(425))}function Cy(){}var d5=null,u5=null;function h5(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var f5=typeof setTimeout=="function"?setTimeout:void 0,zW=typeof clearTimeout=="function"?clearTimeout:void 0,k3=typeof Promise=="function"?Promise:void 0,UW=typeof queueMicrotask=="function"?queueMicrotask:typeof k3<"u"?function(e){return k3.resolve(null).then(e).catch(VW)}:f5;function VW(e){setTimeout(function(){throw e})}function c2(e,t){var r=t,s=0;do{var a=r.nextSibling;if(e.removeChild(r),a&&a.nodeType===8)if(r=a.data,r==="/$"){if(s===0){e.removeChild(a),gv(t);return}s--}else r!=="$"&&r!=="$?"&&r!=="$!"||s++;r=a}while(r);gv(t)}function Lc(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function D3(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var tm=Math.random().toString(36).slice(2),To="__reactFiber$"+tm,wv="__reactProps$"+tm,_l="__reactContainer$"+tm,m5="__reactEvents$"+tm,qW="__reactListeners$"+tm,WW="__reactHandles$"+tm;function Vd(e){var t=e[To];if(t)return t;for(var r=e.parentNode;r;){if(t=r[_l]||r[To]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=D3(e);e!==null;){if(r=e[To])return r;e=D3(e)}return t}e=r,r=e.parentNode}return null}function _g(e){return e=e[To]||e[_l],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Mh(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(at(33))}function v1(e){return e[wv]||null}var p5=[],Bh=-1;function ad(e){return{current:e}}function sn(e){0>Bh||(e.current=p5[Bh],p5[Bh]=null,Bh--)}function Kr(e,t){Bh++,p5[Bh]=e.current,e.current=t}var Kc={},qs=ad(Kc),xa=ad(!1),uu=Kc;function hf(e,t){var r=e.type.contextTypes;if(!r)return Kc;var s=e.stateNode;if(s&&s.__reactInternalMemoizedUnmaskedChildContext===t)return s.__reactInternalMemoizedMaskedChildContext;var a={},i;for(i in r)a[i]=t[i];return s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function ya(e){return e=e.childContextTypes,e!=null}function Ay(){sn(xa),sn(qs)}function O3(e,t,r){if(qs.current!==Kc)throw Error(at(168));Kr(qs,t),Kr(xa,r)}function wR(e,t,r){var s=e.stateNode;if(t=t.childContextTypes,typeof s.getChildContext!="function")return r;s=s.getChildContext();for(var a in s)if(!(a in t))throw Error(at(108,Tq(e)||"Unknown",a));return vn({},r,s)}function Ey(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Kc,uu=qs.current,Kr(qs,e),Kr(xa,xa.current),!0}function L3(e,t,r){var s=e.stateNode;if(!s)throw Error(at(169));r?(e=wR(e,t,uu),s.__reactInternalMemoizedMergedChildContext=e,sn(xa),sn(qs),Kr(qs,e)):sn(xa),Kr(xa,r)}var vl=null,g1=!1,d2=!1;function NR(e){vl===null?vl=[e]:vl.push(e)}function HW(e){g1=!0,NR(e)}function id(){if(!d2&&vl!==null){d2=!0;var e=0,t=Tr;try{var r=vl;for(Tr=1;e<r.length;e++){var s=r[e];do s=s(!0);while(s!==null)}vl=null,g1=!1}catch(a){throw vl!==null&&(vl=vl.slice(e+1)),KL(wA,id),a}finally{Tr=t,d2=!1}}return null}var zh=[],Uh=0,Py=null,Ty=0,li=[],ci=0,hu=null,xl=1,yl="";function Dd(e,t){zh[Uh++]=Ty,zh[Uh++]=Py,Py=e,Ty=t}function SR(e,t,r){li[ci++]=xl,li[ci++]=yl,li[ci++]=hu,hu=e;var s=xl;e=yl;var a=32-Zi(s)-1;s&=~(1<<a),r+=1;var i=32-Zi(t)+a;if(30<i){var o=a-a%5;i=(s&(1<<o)-1).toString(32),s>>=o,a-=o,xl=1<<32-Zi(t)+a|r<<a|s,yl=i+e}else xl=1<<i|r<<a|s,yl=e}function IA(e){e.return!==null&&(Dd(e,1),SR(e,1,0))}function kA(e){for(;e===Py;)Py=zh[--Uh],zh[Uh]=null,Ty=zh[--Uh],zh[Uh]=null;for(;e===hu;)hu=li[--ci],li[ci]=null,yl=li[--ci],li[ci]=null,xl=li[--ci],li[ci]=null}var Ba=null,Fa=null,an=!1,Gi=null;function CR(e,t){var r=di(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function R3(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Ba=e,Fa=Lc(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Ba=e,Fa=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=hu!==null?{id:xl,overflow:yl}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=di(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Ba=e,Fa=null,!0):!1;default:return!1}}function v5(e){return(e.mode&1)!==0&&(e.flags&128)===0}function g5(e){if(an){var t=Fa;if(t){var r=t;if(!R3(e,t)){if(v5(e))throw Error(at(418));t=Lc(r.nextSibling);var s=Ba;t&&R3(e,t)?CR(s,r):(e.flags=e.flags&-4097|2,an=!1,Ba=e)}}else{if(v5(e))throw Error(at(418));e.flags=e.flags&-4097|2,an=!1,Ba=e}}}function F3(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Ba=e}function a0(e){if(e!==Ba)return!1;if(!an)return F3(e),an=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!h5(e.type,e.memoizedProps)),t&&(t=Fa)){if(v5(e))throw AR(),Error(at(418));for(;t;)CR(e,t),t=Lc(t.nextSibling)}if(F3(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(at(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Fa=Lc(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Fa=null}}else Fa=Ba?Lc(e.stateNode.nextSibling):null;return!0}function AR(){for(var e=Fa;e;)e=Lc(e.nextSibling)}function ff(){Fa=Ba=null,an=!1}function DA(e){Gi===null?Gi=[e]:Gi.push(e)}var GW=Ul.ReactCurrentBatchConfig;function up(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(at(309));var s=r.stateNode}if(!s)throw Error(at(147,e));var a=s,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var l=a.refs;o===null?delete l[i]:l[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(at(284));if(!r._owner)throw Error(at(290,e))}return e}function i0(e,t){throw e=Object.prototype.toString.call(t),Error(at(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function $3(e){var t=e._init;return t(e._payload)}function ER(e){function t(g,b){if(e){var y=g.deletions;y===null?(g.deletions=[b],g.flags|=16):y.push(b)}}function r(g,b){if(!e)return null;for(;b!==null;)t(g,b),b=b.sibling;return null}function s(g,b){for(g=new Map;b!==null;)b.key!==null?g.set(b.key,b):g.set(b.index,b),b=b.sibling;return g}function a(g,b){return g=Mc(g,b),g.index=0,g.sibling=null,g}function i(g,b,y){return g.index=y,e?(y=g.alternate,y!==null?(y=y.index,y<b?(g.flags|=2,b):y):(g.flags|=2,b)):(g.flags|=1048576,b)}function o(g){return e&&g.alternate===null&&(g.flags|=2),g}function l(g,b,y,j){return b===null||b.tag!==6?(b=g2(y,g.mode,j),b.return=g,b):(b=a(b,y),b.return=g,b)}function c(g,b,y,j){var E=y.type;return E===Lh?h(g,b,y.props.children,j,y.key):b!==null&&(b.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===vc&&$3(E)===b.type)?(j=a(b,y.props),j.ref=up(g,b,y),j.return=g,j):(j=oy(y.type,y.key,y.props,null,g.mode,j),j.ref=up(g,b,y),j.return=g,j)}function d(g,b,y,j){return b===null||b.tag!==4||b.stateNode.containerInfo!==y.containerInfo||b.stateNode.implementation!==y.implementation?(b=x2(y,g.mode,j),b.return=g,b):(b=a(b,y.children||[]),b.return=g,b)}function h(g,b,y,j,E){return b===null||b.tag!==7?(b=nu(y,g.mode,j,E),b.return=g,b):(b=a(b,y),b.return=g,b)}function u(g,b,y){if(typeof b=="string"&&b!==""||typeof b=="number")return b=g2(""+b,g.mode,y),b.return=g,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Yx:return y=oy(b.type,b.key,b.props,null,g.mode,y),y.ref=up(g,null,b),y.return=g,y;case Oh:return b=x2(b,g.mode,y),b.return=g,b;case vc:var j=b._init;return u(g,j(b._payload),y)}if(Op(b)||ip(b))return b=nu(b,g.mode,y,null),b.return=g,b;i0(g,b)}return null}function f(g,b,y,j){var E=b!==null?b.key:null;if(typeof y=="string"&&y!==""||typeof y=="number")return E!==null?null:l(g,b,""+y,j);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Yx:return y.key===E?c(g,b,y,j):null;case Oh:return y.key===E?d(g,b,y,j):null;case vc:return E=y._init,f(g,b,E(y._payload),j)}if(Op(y)||ip(y))return E!==null?null:h(g,b,y,j,null);i0(g,y)}return null}function m(g,b,y,j,E){if(typeof j=="string"&&j!==""||typeof j=="number")return g=g.get(y)||null,l(b,g,""+j,E);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case Yx:return g=g.get(j.key===null?y:j.key)||null,c(b,g,j,E);case Oh:return g=g.get(j.key===null?y:j.key)||null,d(b,g,j,E);case vc:var S=j._init;return m(g,b,y,S(j._payload),E)}if(Op(j)||ip(j))return g=g.get(y)||null,h(b,g,j,E,null);i0(b,j)}return null}function v(g,b,y,j){for(var E=null,S=null,N=b,w=b=0,_=null;N!==null&&w<y.length;w++){N.index>w?(_=N,N=null):_=N.sibling;var k=f(g,N,y[w],j);if(k===null){N===null&&(N=_);break}e&&N&&k.alternate===null&&t(g,N),b=i(k,b,w),S===null?E=k:S.sibling=k,S=k,N=_}if(w===y.length)return r(g,N),an&&Dd(g,w),E;if(N===null){for(;w<y.length;w++)N=u(g,y[w],j),N!==null&&(b=i(N,b,w),S===null?E=N:S.sibling=N,S=N);return an&&Dd(g,w),E}for(N=s(g,N);w<y.length;w++)_=m(N,g,w,y[w],j),_!==null&&(e&&_.alternate!==null&&N.delete(_.key===null?w:_.key),b=i(_,b,w),S===null?E=_:S.sibling=_,S=_);return e&&N.forEach(function(T){return t(g,T)}),an&&Dd(g,w),E}function x(g,b,y,j){var E=ip(y);if(typeof E!="function")throw Error(at(150));if(y=E.call(y),y==null)throw Error(at(151));for(var S=E=null,N=b,w=b=0,_=null,k=y.next();N!==null&&!k.done;w++,k=y.next()){N.index>w?(_=N,N=null):_=N.sibling;var T=f(g,N,k.value,j);if(T===null){N===null&&(N=_);break}e&&N&&T.alternate===null&&t(g,N),b=i(T,b,w),S===null?E=T:S.sibling=T,S=T,N=_}if(k.done)return r(g,N),an&&Dd(g,w),E;if(N===null){for(;!k.done;w++,k=y.next())k=u(g,k.value,j),k!==null&&(b=i(k,b,w),S===null?E=k:S.sibling=k,S=k);return an&&Dd(g,w),E}for(N=s(g,N);!k.done;w++,k=y.next())k=m(N,g,w,k.value,j),k!==null&&(e&&k.alternate!==null&&N.delete(k.key===null?w:k.key),b=i(k,b,w),S===null?E=k:S.sibling=k,S=k);return e&&N.forEach(function(A){return t(g,A)}),an&&Dd(g,w),E}function p(g,b,y,j){if(typeof y=="object"&&y!==null&&y.type===Lh&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case Yx:e:{for(var E=y.key,S=b;S!==null;){if(S.key===E){if(E=y.type,E===Lh){if(S.tag===7){r(g,S.sibling),b=a(S,y.props.children),b.return=g,g=b;break e}}else if(S.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===vc&&$3(E)===S.type){r(g,S.sibling),b=a(S,y.props),b.ref=up(g,S,y),b.return=g,g=b;break e}r(g,S);break}else t(g,S);S=S.sibling}y.type===Lh?(b=nu(y.props.children,g.mode,j,y.key),b.return=g,g=b):(j=oy(y.type,y.key,y.props,null,g.mode,j),j.ref=up(g,b,y),j.return=g,g=j)}return o(g);case Oh:e:{for(S=y.key;b!==null;){if(b.key===S)if(b.tag===4&&b.stateNode.containerInfo===y.containerInfo&&b.stateNode.implementation===y.implementation){r(g,b.sibling),b=a(b,y.children||[]),b.return=g,g=b;break e}else{r(g,b);break}else t(g,b);b=b.sibling}b=x2(y,g.mode,j),b.return=g,g=b}return o(g);case vc:return S=y._init,p(g,b,S(y._payload),j)}if(Op(y))return v(g,b,y,j);if(ip(y))return x(g,b,y,j);i0(g,y)}return typeof y=="string"&&y!==""||typeof y=="number"?(y=""+y,b!==null&&b.tag===6?(r(g,b.sibling),b=a(b,y),b.return=g,g=b):(r(g,b),b=g2(y,g.mode,j),b.return=g,g=b),o(g)):r(g,b)}return p}var mf=ER(!0),PR=ER(!1),_y=ad(null),Iy=null,Vh=null,OA=null;function LA(){OA=Vh=Iy=null}function RA(e){var t=_y.current;sn(_y),e._currentValue=t}function x5(e,t,r){for(;e!==null;){var s=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,s!==null&&(s.childLanes|=t)):s!==null&&(s.childLanes&t)!==t&&(s.childLanes|=t),e===r)break;e=e.return}}function Zh(e,t){Iy=e,OA=Vh=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(va=!0),e.firstContext=null)}function xi(e){var t=e._currentValue;if(OA!==e)if(e={context:e,memoizedValue:t,next:null},Vh===null){if(Iy===null)throw Error(at(308));Vh=e,Iy.dependencies={lanes:0,firstContext:e}}else Vh=Vh.next=e;return t}var qd=null;function FA(e){qd===null?qd=[e]:qd.push(e)}function TR(e,t,r,s){var a=t.interleaved;return a===null?(r.next=r,FA(t)):(r.next=a.next,a.next=r),t.interleaved=r,Il(e,s)}function Il(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var gc=!1;function $A(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function _R(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Sl(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Rc(e,t,r){var s=e.updateQueue;if(s===null)return null;if(s=s.shared,gr&2){var a=s.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),s.pending=t,Il(e,r)}return a=s.interleaved,a===null?(t.next=t,FA(s)):(t.next=a.next,a.next=t),s.interleaved=t,Il(e,r)}function ty(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var s=t.lanes;s&=e.pendingLanes,r|=s,t.lanes=r,NA(e,r)}}function M3(e,t){var r=e.updateQueue,s=e.alternate;if(s!==null&&(s=s.updateQueue,r===s)){var a=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?a=i=o:i=i.next=o,r=r.next}while(r!==null);i===null?a=i=t:i=i.next=t}else a=i=t;r={baseState:s.baseState,firstBaseUpdate:a,lastBaseUpdate:i,shared:s.shared,effects:s.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function ky(e,t,r,s){var a=e.updateQueue;gc=!1;var i=a.firstBaseUpdate,o=a.lastBaseUpdate,l=a.shared.pending;if(l!==null){a.shared.pending=null;var c=l,d=c.next;c.next=null,o===null?i=d:o.next=d,o=c;var h=e.alternate;h!==null&&(h=h.updateQueue,l=h.lastBaseUpdate,l!==o&&(l===null?h.firstBaseUpdate=d:l.next=d,h.lastBaseUpdate=c))}if(i!==null){var u=a.baseState;o=0,h=d=c=null,l=i;do{var f=l.lane,m=l.eventTime;if((s&f)===f){h!==null&&(h=h.next={eventTime:m,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var v=e,x=l;switch(f=t,m=r,x.tag){case 1:if(v=x.payload,typeof v=="function"){u=v.call(m,u,f);break e}u=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=x.payload,f=typeof v=="function"?v.call(m,u,f):v,f==null)break e;u=vn({},u,f);break e;case 2:gc=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,f=a.effects,f===null?a.effects=[l]:f.push(l))}else m={eventTime:m,lane:f,tag:l.tag,payload:l.payload,callback:l.callback,next:null},h===null?(d=h=m,c=u):h=h.next=m,o|=f;if(l=l.next,l===null){if(l=a.shared.pending,l===null)break;f=l,l=f.next,f.next=null,a.lastBaseUpdate=f,a.shared.pending=null}}while(1);if(h===null&&(c=u),a.baseState=c,a.firstBaseUpdate=d,a.lastBaseUpdate=h,t=a.shared.interleaved,t!==null){a=t;do o|=a.lane,a=a.next;while(a!==t)}else i===null&&(a.shared.lanes=0);mu|=o,e.lanes=o,e.memoizedState=u}}function B3(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var s=e[t],a=s.callback;if(a!==null){if(s.callback=null,s=r,typeof a!="function")throw Error(at(191,a));a.call(s)}}}var Ig={},Fo=ad(Ig),Nv=ad(Ig),Sv=ad(Ig);function Wd(e){if(e===Ig)throw Error(at(174));return e}function MA(e,t){switch(Kr(Sv,t),Kr(Nv,e),Kr(Fo,Ig),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:JN(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=JN(t,e)}sn(Fo),Kr(Fo,t)}function pf(){sn(Fo),sn(Nv),sn(Sv)}function IR(e){Wd(Sv.current);var t=Wd(Fo.current),r=JN(t,e.type);t!==r&&(Kr(Nv,e),Kr(Fo,r))}function BA(e){Nv.current===e&&(sn(Fo),sn(Nv))}var fn=ad(0);function Dy(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var u2=[];function zA(){for(var e=0;e<u2.length;e++)u2[e]._workInProgressVersionPrimary=null;u2.length=0}var ry=Ul.ReactCurrentDispatcher,h2=Ul.ReactCurrentBatchConfig,fu=0,pn=null,Xn=null,os=null,Oy=!1,qp=!1,Cv=0,KW=0;function Is(){throw Error(at(321))}function UA(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!ro(e[r],t[r]))return!1;return!0}function VA(e,t,r,s,a,i){if(fu=i,pn=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ry.current=e===null||e.memoizedState===null?JW:ZW,e=r(s,a),qp){i=0;do{if(qp=!1,Cv=0,25<=i)throw Error(at(301));i+=1,os=Xn=null,t.updateQueue=null,ry.current=eH,e=r(s,a)}while(qp)}if(ry.current=Ly,t=Xn!==null&&Xn.next!==null,fu=0,os=Xn=pn=null,Oy=!1,t)throw Error(at(300));return e}function qA(){var e=Cv!==0;return Cv=0,e}function So(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return os===null?pn.memoizedState=os=e:os=os.next=e,os}function yi(){if(Xn===null){var e=pn.alternate;e=e!==null?e.memoizedState:null}else e=Xn.next;var t=os===null?pn.memoizedState:os.next;if(t!==null)os=t,Xn=e;else{if(e===null)throw Error(at(310));Xn=e,e={memoizedState:Xn.memoizedState,baseState:Xn.baseState,baseQueue:Xn.baseQueue,queue:Xn.queue,next:null},os===null?pn.memoizedState=os=e:os=os.next=e}return os}function Av(e,t){return typeof t=="function"?t(e):t}function f2(e){var t=yi(),r=t.queue;if(r===null)throw Error(at(311));r.lastRenderedReducer=e;var s=Xn,a=s.baseQueue,i=r.pending;if(i!==null){if(a!==null){var o=a.next;a.next=i.next,i.next=o}s.baseQueue=a=i,r.pending=null}if(a!==null){i=a.next,s=s.baseState;var l=o=null,c=null,d=i;do{var h=d.lane;if((fu&h)===h)c!==null&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),s=d.hasEagerState?d.eagerState:e(s,d.action);else{var u={lane:h,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};c===null?(l=c=u,o=s):c=c.next=u,pn.lanes|=h,mu|=h}d=d.next}while(d!==null&&d!==i);c===null?o=s:c.next=l,ro(s,t.memoizedState)||(va=!0),t.memoizedState=s,t.baseState=o,t.baseQueue=c,r.lastRenderedState=s}if(e=r.interleaved,e!==null){a=e;do i=a.lane,pn.lanes|=i,mu|=i,a=a.next;while(a!==e)}else a===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function m2(e){var t=yi(),r=t.queue;if(r===null)throw Error(at(311));r.lastRenderedReducer=e;var s=r.dispatch,a=r.pending,i=t.memoizedState;if(a!==null){r.pending=null;var o=a=a.next;do i=e(i,o.action),o=o.next;while(o!==a);ro(i,t.memoizedState)||(va=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),r.lastRenderedState=i}return[i,s]}function kR(){}function DR(e,t){var r=pn,s=yi(),a=t(),i=!ro(s.memoizedState,a);if(i&&(s.memoizedState=a,va=!0),s=s.queue,WA(RR.bind(null,r,s,e),[e]),s.getSnapshot!==t||i||os!==null&&os.memoizedState.tag&1){if(r.flags|=2048,Ev(9,LR.bind(null,r,s,a,t),void 0,null),cs===null)throw Error(at(349));fu&30||OR(r,t,a)}return a}function OR(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=pn.updateQueue,t===null?(t={lastEffect:null,stores:null},pn.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function LR(e,t,r,s){t.value=r,t.getSnapshot=s,FR(t)&&$R(e)}function RR(e,t,r){return r(function(){FR(t)&&$R(e)})}function FR(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!ro(e,r)}catch{return!0}}function $R(e){var t=Il(e,1);t!==null&&eo(t,e,1,-1)}function z3(e){var t=So();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Av,lastRenderedState:e},t.queue=e,e=e.dispatch=QW.bind(null,pn,e),[t.memoizedState,e]}function Ev(e,t,r,s){return e={tag:e,create:t,destroy:r,deps:s,next:null},t=pn.updateQueue,t===null?(t={lastEffect:null,stores:null},pn.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(s=r.next,r.next=e,e.next=s,t.lastEffect=e)),e}function MR(){return yi().memoizedState}function ny(e,t,r,s){var a=So();pn.flags|=e,a.memoizedState=Ev(1|t,r,void 0,s===void 0?null:s)}function x1(e,t,r,s){var a=yi();s=s===void 0?null:s;var i=void 0;if(Xn!==null){var o=Xn.memoizedState;if(i=o.destroy,s!==null&&UA(s,o.deps)){a.memoizedState=Ev(t,r,i,s);return}}pn.flags|=e,a.memoizedState=Ev(1|t,r,i,s)}function U3(e,t){return ny(8390656,8,e,t)}function WA(e,t){return x1(2048,8,e,t)}function BR(e,t){return x1(4,2,e,t)}function zR(e,t){return x1(4,4,e,t)}function UR(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function VR(e,t,r){return r=r!=null?r.concat([e]):null,x1(4,4,UR.bind(null,t,e),r)}function HA(){}function qR(e,t){var r=yi();t=t===void 0?null:t;var s=r.memoizedState;return s!==null&&t!==null&&UA(t,s[1])?s[0]:(r.memoizedState=[e,t],e)}function WR(e,t){var r=yi();t=t===void 0?null:t;var s=r.memoizedState;return s!==null&&t!==null&&UA(t,s[1])?s[0]:(e=e(),r.memoizedState=[e,t],e)}function HR(e,t,r){return fu&21?(ro(r,t)||(r=QL(),pn.lanes|=r,mu|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,va=!0),e.memoizedState=r)}function YW(e,t){var r=Tr;Tr=r!==0&&4>r?r:4,e(!0);var s=h2.transition;h2.transition={};try{e(!1),t()}finally{Tr=r,h2.transition=s}}function GR(){return yi().memoizedState}function XW(e,t,r){var s=$c(e);if(r={lane:s,action:r,hasEagerState:!1,eagerState:null,next:null},KR(e))YR(t,r);else if(r=TR(e,t,r,s),r!==null){var a=Zs();eo(r,e,s,a),XR(r,t,s)}}function QW(e,t,r){var s=$c(e),a={lane:s,action:r,hasEagerState:!1,eagerState:null,next:null};if(KR(e))YR(t,a);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,l=i(o,r);if(a.hasEagerState=!0,a.eagerState=l,ro(l,o)){var c=t.interleaved;c===null?(a.next=a,FA(t)):(a.next=c.next,c.next=a),t.interleaved=a;return}}catch{}finally{}r=TR(e,t,a,s),r!==null&&(a=Zs(),eo(r,e,s,a),XR(r,t,s))}}function KR(e){var t=e.alternate;return e===pn||t!==null&&t===pn}function YR(e,t){qp=Oy=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function XR(e,t,r){if(r&4194240){var s=t.lanes;s&=e.pendingLanes,r|=s,t.lanes=r,NA(e,r)}}var Ly={readContext:xi,useCallback:Is,useContext:Is,useEffect:Is,useImperativeHandle:Is,useInsertionEffect:Is,useLayoutEffect:Is,useMemo:Is,useReducer:Is,useRef:Is,useState:Is,useDebugValue:Is,useDeferredValue:Is,useTransition:Is,useMutableSource:Is,useSyncExternalStore:Is,useId:Is,unstable_isNewReconciler:!1},JW={readContext:xi,useCallback:function(e,t){return So().memoizedState=[e,t===void 0?null:t],e},useContext:xi,useEffect:U3,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,ny(4194308,4,UR.bind(null,t,e),r)},useLayoutEffect:function(e,t){return ny(4194308,4,e,t)},useInsertionEffect:function(e,t){return ny(4,2,e,t)},useMemo:function(e,t){var r=So();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var s=So();return t=r!==void 0?r(t):t,s.memoizedState=s.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},s.queue=e,e=e.dispatch=XW.bind(null,pn,e),[s.memoizedState,e]},useRef:function(e){var t=So();return e={current:e},t.memoizedState=e},useState:z3,useDebugValue:HA,useDeferredValue:function(e){return So().memoizedState=e},useTransition:function(){var e=z3(!1),t=e[0];return e=YW.bind(null,e[1]),So().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var s=pn,a=So();if(an){if(r===void 0)throw Error(at(407));r=r()}else{if(r=t(),cs===null)throw Error(at(349));fu&30||OR(s,t,r)}a.memoizedState=r;var i={value:r,getSnapshot:t};return a.queue=i,U3(RR.bind(null,s,i,e),[e]),s.flags|=2048,Ev(9,LR.bind(null,s,i,r,t),void 0,null),r},useId:function(){var e=So(),t=cs.identifierPrefix;if(an){var r=yl,s=xl;r=(s&~(1<<32-Zi(s)-1)).toString(32)+r,t=":"+t+"R"+r,r=Cv++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=KW++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},ZW={readContext:xi,useCallback:qR,useContext:xi,useEffect:WA,useImperativeHandle:VR,useInsertionEffect:BR,useLayoutEffect:zR,useMemo:WR,useReducer:f2,useRef:MR,useState:function(){return f2(Av)},useDebugValue:HA,useDeferredValue:function(e){var t=yi();return HR(t,Xn.memoizedState,e)},useTransition:function(){var e=f2(Av)[0],t=yi().memoizedState;return[e,t]},useMutableSource:kR,useSyncExternalStore:DR,useId:GR,unstable_isNewReconciler:!1},eH={readContext:xi,useCallback:qR,useContext:xi,useEffect:WA,useImperativeHandle:VR,useInsertionEffect:BR,useLayoutEffect:zR,useMemo:WR,useReducer:m2,useRef:MR,useState:function(){return m2(Av)},useDebugValue:HA,useDeferredValue:function(e){var t=yi();return Xn===null?t.memoizedState=e:HR(t,Xn.memoizedState,e)},useTransition:function(){var e=m2(Av)[0],t=yi().memoizedState;return[e,t]},useMutableSource:kR,useSyncExternalStore:DR,useId:GR,unstable_isNewReconciler:!1};function Bi(e,t){if(e&&e.defaultProps){t=vn({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function y5(e,t,r,s){t=e.memoizedState,r=r(s,t),r=r==null?t:vn({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var y1={isMounted:function(e){return(e=e._reactInternals)?Au(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var s=Zs(),a=$c(e),i=Sl(s,a);i.payload=t,r!=null&&(i.callback=r),t=Rc(e,i,a),t!==null&&(eo(t,e,a,s),ty(t,e,a))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var s=Zs(),a=$c(e),i=Sl(s,a);i.tag=1,i.payload=t,r!=null&&(i.callback=r),t=Rc(e,i,a),t!==null&&(eo(t,e,a,s),ty(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Zs(),s=$c(e),a=Sl(r,s);a.tag=2,t!=null&&(a.callback=t),t=Rc(e,a,s),t!==null&&(eo(t,e,s,r),ty(t,e,s))}};function V3(e,t,r,s,a,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(s,i,o):t.prototype&&t.prototype.isPureReactComponent?!yv(r,s)||!yv(a,i):!0}function QR(e,t,r){var s=!1,a=Kc,i=t.contextType;return typeof i=="object"&&i!==null?i=xi(i):(a=ya(t)?uu:qs.current,s=t.contextTypes,i=(s=s!=null)?hf(e,a):Kc),t=new t(r,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=y1,e.stateNode=t,t._reactInternals=e,s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=i),t}function q3(e,t,r,s){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,s),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,s),t.state!==e&&y1.enqueueReplaceState(t,t.state,null)}function b5(e,t,r,s){var a=e.stateNode;a.props=r,a.state=e.memoizedState,a.refs={},$A(e);var i=t.contextType;typeof i=="object"&&i!==null?a.context=xi(i):(i=ya(t)?uu:qs.current,a.context=hf(e,i)),a.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(y5(e,t,i,r),a.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(t=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),t!==a.state&&y1.enqueueReplaceState(a,a.state,null),ky(e,r,a,s),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function vf(e,t){try{var r="",s=t;do r+=Pq(s),s=s.return;while(s);var a=r}catch(i){a=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:a,digest:null}}function p2(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function j5(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var tH=typeof WeakMap=="function"?WeakMap:Map;function JR(e,t,r){r=Sl(-1,r),r.tag=3,r.payload={element:null};var s=t.value;return r.callback=function(){Fy||(Fy=!0,I5=s),j5(e,t)},r}function ZR(e,t,r){r=Sl(-1,r),r.tag=3;var s=e.type.getDerivedStateFromError;if(typeof s=="function"){var a=t.value;r.payload=function(){return s(a)},r.callback=function(){j5(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){j5(e,t),typeof s!="function"&&(Fc===null?Fc=new Set([this]):Fc.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),r}function W3(e,t,r){var s=e.pingCache;if(s===null){s=e.pingCache=new tH;var a=new Set;s.set(t,a)}else a=s.get(t),a===void 0&&(a=new Set,s.set(t,a));a.has(r)||(a.add(r),e=pH.bind(null,e,t,r),t.then(e,e))}function H3(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function G3(e,t,r,s,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Sl(-1,1),t.tag=2,Rc(r,t,1))),r.lanes|=1),e)}var rH=Ul.ReactCurrentOwner,va=!1;function Ys(e,t,r,s){t.child=e===null?PR(t,null,r,s):mf(t,e.child,r,s)}function K3(e,t,r,s,a){r=r.render;var i=t.ref;return Zh(t,a),s=VA(e,t,r,s,i,a),r=qA(),e!==null&&!va?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,kl(e,t,a)):(an&&r&&IA(t),t.flags|=1,Ys(e,t,s,a),t.child)}function Y3(e,t,r,s,a){if(e===null){var i=r.type;return typeof i=="function"&&!e4(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=i,eF(e,t,i,s,a)):(e=oy(r.type,null,s,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&a)){var o=i.memoizedProps;if(r=r.compare,r=r!==null?r:yv,r(o,s)&&e.ref===t.ref)return kl(e,t,a)}return t.flags|=1,e=Mc(i,s),e.ref=t.ref,e.return=t,t.child=e}function eF(e,t,r,s,a){if(e!==null){var i=e.memoizedProps;if(yv(i,s)&&e.ref===t.ref)if(va=!1,t.pendingProps=s=i,(e.lanes&a)!==0)e.flags&131072&&(va=!0);else return t.lanes=e.lanes,kl(e,t,a)}return w5(e,t,r,s,a)}function tF(e,t,r){var s=t.pendingProps,a=s.children,i=e!==null?e.memoizedState:null;if(s.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Kr(Wh,Da),Da|=r;else{if(!(r&1073741824))return e=i!==null?i.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Kr(Wh,Da),Da|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},s=i!==null?i.baseLanes:r,Kr(Wh,Da),Da|=s}else i!==null?(s=i.baseLanes|r,t.memoizedState=null):s=r,Kr(Wh,Da),Da|=s;return Ys(e,t,a,r),t.child}function rF(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function w5(e,t,r,s,a){var i=ya(r)?uu:qs.current;return i=hf(t,i),Zh(t,a),r=VA(e,t,r,s,i,a),s=qA(),e!==null&&!va?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,kl(e,t,a)):(an&&s&&IA(t),t.flags|=1,Ys(e,t,r,a),t.child)}function X3(e,t,r,s,a){if(ya(r)){var i=!0;Ey(t)}else i=!1;if(Zh(t,a),t.stateNode===null)sy(e,t),QR(t,r,s),b5(t,r,s,a),s=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var c=o.context,d=r.contextType;typeof d=="object"&&d!==null?d=xi(d):(d=ya(r)?uu:qs.current,d=hf(t,d));var h=r.getDerivedStateFromProps,u=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function";u||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==s||c!==d)&&q3(t,o,s,d),gc=!1;var f=t.memoizedState;o.state=f,ky(t,s,o,a),c=t.memoizedState,l!==s||f!==c||xa.current||gc?(typeof h=="function"&&(y5(t,r,h,s),c=t.memoizedState),(l=gc||V3(t,r,l,s,f,c,d))?(u||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=s,t.memoizedState=c),o.props=s,o.state=c,o.context=d,s=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),s=!1)}else{o=t.stateNode,_R(e,t),l=t.memoizedProps,d=t.type===t.elementType?l:Bi(t.type,l),o.props=d,u=t.pendingProps,f=o.context,c=r.contextType,typeof c=="object"&&c!==null?c=xi(c):(c=ya(r)?uu:qs.current,c=hf(t,c));var m=r.getDerivedStateFromProps;(h=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==u||f!==c)&&q3(t,o,s,c),gc=!1,f=t.memoizedState,o.state=f,ky(t,s,o,a);var v=t.memoizedState;l!==u||f!==v||xa.current||gc?(typeof m=="function"&&(y5(t,r,m,s),v=t.memoizedState),(d=gc||V3(t,r,d,s,f,v,c)||!1)?(h||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(s,v,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(s,v,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=s,t.memoizedState=v),o.props=s,o.state=v,o.context=c,s=d):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),s=!1)}return N5(e,t,r,s,i,a)}function N5(e,t,r,s,a,i){rF(e,t);var o=(t.flags&128)!==0;if(!s&&!o)return a&&L3(t,r,!1),kl(e,t,i);s=t.stateNode,rH.current=t;var l=o&&typeof r.getDerivedStateFromError!="function"?null:s.render();return t.flags|=1,e!==null&&o?(t.child=mf(t,e.child,null,i),t.child=mf(t,null,l,i)):Ys(e,t,l,i),t.memoizedState=s.state,a&&L3(t,r,!0),t.child}function nF(e){var t=e.stateNode;t.pendingContext?O3(e,t.pendingContext,t.pendingContext!==t.context):t.context&&O3(e,t.context,!1),MA(e,t.containerInfo)}function Q3(e,t,r,s,a){return ff(),DA(a),t.flags|=256,Ys(e,t,r,s),t.child}var S5={dehydrated:null,treeContext:null,retryLane:0};function C5(e){return{baseLanes:e,cachePool:null,transitions:null}}function sF(e,t,r){var s=t.pendingProps,a=fn.current,i=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(a&2)!==0),l?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),Kr(fn,a&1),e===null)return g5(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=s.children,e=s.fallback,i?(s=t.mode,i=t.child,o={mode:"hidden",children:o},!(s&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=w1(o,s,0,null),e=nu(e,s,r,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=C5(r),t.memoizedState=S5,e):GA(t,o));if(a=e.memoizedState,a!==null&&(l=a.dehydrated,l!==null))return nH(e,t,o,s,l,a,r);if(i){i=s.fallback,o=t.mode,a=e.child,l=a.sibling;var c={mode:"hidden",children:s.children};return!(o&1)&&t.child!==a?(s=t.child,s.childLanes=0,s.pendingProps=c,t.deletions=null):(s=Mc(a,c),s.subtreeFlags=a.subtreeFlags&14680064),l!==null?i=Mc(l,i):(i=nu(i,o,r,null),i.flags|=2),i.return=t,s.return=t,s.sibling=i,t.child=s,s=i,i=t.child,o=e.child.memoizedState,o=o===null?C5(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~r,t.memoizedState=S5,s}return i=e.child,e=i.sibling,s=Mc(i,{mode:"visible",children:s.children}),!(t.mode&1)&&(s.lanes=r),s.return=t,s.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=s,t.memoizedState=null,s}function GA(e,t){return t=w1({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function o0(e,t,r,s){return s!==null&&DA(s),mf(t,e.child,null,r),e=GA(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function nH(e,t,r,s,a,i,o){if(r)return t.flags&256?(t.flags&=-257,s=p2(Error(at(422))),o0(e,t,o,s)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=s.fallback,a=t.mode,s=w1({mode:"visible",children:s.children},a,0,null),i=nu(i,a,o,null),i.flags|=2,s.return=t,i.return=t,s.sibling=i,t.child=s,t.mode&1&&mf(t,e.child,null,o),t.child.memoizedState=C5(o),t.memoizedState=S5,i);if(!(t.mode&1))return o0(e,t,o,null);if(a.data==="$!"){if(s=a.nextSibling&&a.nextSibling.dataset,s)var l=s.dgst;return s=l,i=Error(at(419)),s=p2(i,s,void 0),o0(e,t,o,s)}if(l=(o&e.childLanes)!==0,va||l){if(s=cs,s!==null){switch(o&-o){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(s.suspendedLanes|o)?0:a,a!==0&&a!==i.retryLane&&(i.retryLane=a,Il(e,a),eo(s,e,a,-1))}return ZA(),s=p2(Error(at(421))),o0(e,t,o,s)}return a.data==="$?"?(t.flags|=128,t.child=e.child,t=vH.bind(null,e),a._reactRetry=t,null):(e=i.treeContext,Fa=Lc(a.nextSibling),Ba=t,an=!0,Gi=null,e!==null&&(li[ci++]=xl,li[ci++]=yl,li[ci++]=hu,xl=e.id,yl=e.overflow,hu=t),t=GA(t,s.children),t.flags|=4096,t)}function J3(e,t,r){e.lanes|=t;var s=e.alternate;s!==null&&(s.lanes|=t),x5(e.return,t,r)}function v2(e,t,r,s,a){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:s,tail:r,tailMode:a}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=s,i.tail=r,i.tailMode=a)}function aF(e,t,r){var s=t.pendingProps,a=s.revealOrder,i=s.tail;if(Ys(e,t,s.children,r),s=fn.current,s&2)s=s&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&J3(e,r,t);else if(e.tag===19)J3(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}s&=1}if(Kr(fn,s),!(t.mode&1))t.memoizedState=null;else switch(a){case"forwards":for(r=t.child,a=null;r!==null;)e=r.alternate,e!==null&&Dy(e)===null&&(a=r),r=r.sibling;r=a,r===null?(a=t.child,t.child=null):(a=r.sibling,r.sibling=null),v2(t,!1,a,r,i);break;case"backwards":for(r=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&Dy(e)===null){t.child=a;break}e=a.sibling,a.sibling=r,r=a,a=e}v2(t,!0,r,null,i);break;case"together":v2(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function sy(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function kl(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),mu|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(at(153));if(t.child!==null){for(e=t.child,r=Mc(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Mc(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function sH(e,t,r){switch(t.tag){case 3:nF(t),ff();break;case 5:IR(t);break;case 1:ya(t.type)&&Ey(t);break;case 4:MA(t,t.stateNode.containerInfo);break;case 10:var s=t.type._context,a=t.memoizedProps.value;Kr(_y,s._currentValue),s._currentValue=a;break;case 13:if(s=t.memoizedState,s!==null)return s.dehydrated!==null?(Kr(fn,fn.current&1),t.flags|=128,null):r&t.child.childLanes?sF(e,t,r):(Kr(fn,fn.current&1),e=kl(e,t,r),e!==null?e.sibling:null);Kr(fn,fn.current&1);break;case 19:if(s=(r&t.childLanes)!==0,e.flags&128){if(s)return aF(e,t,r);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),Kr(fn,fn.current),s)break;return null;case 22:case 23:return t.lanes=0,tF(e,t,r)}return kl(e,t,r)}var iF,A5,oF,lF;iF=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};A5=function(){};oF=function(e,t,r,s){var a=e.memoizedProps;if(a!==s){e=t.stateNode,Wd(Fo.current);var i=null;switch(r){case"input":a=KN(e,a),s=KN(e,s),i=[];break;case"select":a=vn({},a,{value:void 0}),s=vn({},s,{value:void 0}),i=[];break;case"textarea":a=QN(e,a),s=QN(e,s),i=[];break;default:typeof a.onClick!="function"&&typeof s.onClick=="function"&&(e.onclick=Cy)}ZN(r,s);var o;r=null;for(d in a)if(!s.hasOwnProperty(d)&&a.hasOwnProperty(d)&&a[d]!=null)if(d==="style"){var l=a[d];for(o in l)l.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(hv.hasOwnProperty(d)?i||(i=[]):(i=i||[]).push(d,null));for(d in s){var c=s[d];if(l=a!=null?a[d]:void 0,s.hasOwnProperty(d)&&c!==l&&(c!=null||l!=null))if(d==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(r||(r={}),r[o]=c[o])}else r||(i||(i=[]),i.push(d,r)),r=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(i=i||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(hv.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&Zr("scroll",e),i||l===c||(i=[])):(i=i||[]).push(d,c))}r&&(i=i||[]).push("style",r);var d=i;(t.updateQueue=d)&&(t.flags|=4)}};lF=function(e,t,r,s){r!==s&&(t.flags|=4)};function hp(e,t){if(!an)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var s=null;r!==null;)r.alternate!==null&&(s=r),r=r.sibling;s===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:s.sibling=null}}function ks(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,s=0;if(t)for(var a=e.child;a!==null;)r|=a.lanes|a.childLanes,s|=a.subtreeFlags&14680064,s|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)r|=a.lanes|a.childLanes,s|=a.subtreeFlags,s|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=s,e.childLanes=r,t}function aH(e,t,r){var s=t.pendingProps;switch(kA(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ks(t),null;case 1:return ya(t.type)&&Ay(),ks(t),null;case 3:return s=t.stateNode,pf(),sn(xa),sn(qs),zA(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(a0(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Gi!==null&&(O5(Gi),Gi=null))),A5(e,t),ks(t),null;case 5:BA(t);var a=Wd(Sv.current);if(r=t.type,e!==null&&t.stateNode!=null)oF(e,t,r,s,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!s){if(t.stateNode===null)throw Error(at(166));return ks(t),null}if(e=Wd(Fo.current),a0(t)){s=t.stateNode,r=t.type;var i=t.memoizedProps;switch(s[To]=t,s[wv]=i,e=(t.mode&1)!==0,r){case"dialog":Zr("cancel",s),Zr("close",s);break;case"iframe":case"object":case"embed":Zr("load",s);break;case"video":case"audio":for(a=0;a<Rp.length;a++)Zr(Rp[a],s);break;case"source":Zr("error",s);break;case"img":case"image":case"link":Zr("error",s),Zr("load",s);break;case"details":Zr("toggle",s);break;case"input":o3(s,i),Zr("invalid",s);break;case"select":s._wrapperState={wasMultiple:!!i.multiple},Zr("invalid",s);break;case"textarea":c3(s,i),Zr("invalid",s)}ZN(r,i),a=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?s.textContent!==l&&(i.suppressHydrationWarning!==!0&&s0(s.textContent,l,e),a=["children",l]):typeof l=="number"&&s.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&s0(s.textContent,l,e),a=["children",""+l]):hv.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&Zr("scroll",s)}switch(r){case"input":Xx(s),l3(s,i,!0);break;case"textarea":Xx(s),d3(s);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(s.onclick=Cy)}s=a,t.updateQueue=s,s!==null&&(t.flags|=4)}else{o=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=RL(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof s.is=="string"?e=o.createElement(r,{is:s.is}):(e=o.createElement(r),r==="select"&&(o=e,s.multiple?o.multiple=!0:s.size&&(o.size=s.size))):e=o.createElementNS(e,r),e[To]=t,e[wv]=s,iF(e,t,!1,!1),t.stateNode=e;e:{switch(o=e5(r,s),r){case"dialog":Zr("cancel",e),Zr("close",e),a=s;break;case"iframe":case"object":case"embed":Zr("load",e),a=s;break;case"video":case"audio":for(a=0;a<Rp.length;a++)Zr(Rp[a],e);a=s;break;case"source":Zr("error",e),a=s;break;case"img":case"image":case"link":Zr("error",e),Zr("load",e),a=s;break;case"details":Zr("toggle",e),a=s;break;case"input":o3(e,s),a=KN(e,s),Zr("invalid",e);break;case"option":a=s;break;case"select":e._wrapperState={wasMultiple:!!s.multiple},a=vn({},s,{value:void 0}),Zr("invalid",e);break;case"textarea":c3(e,s),a=QN(e,s),Zr("invalid",e);break;default:a=s}ZN(r,a),l=a;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="style"?ML(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&FL(e,c)):i==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&fv(e,c):typeof c=="number"&&fv(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(hv.hasOwnProperty(i)?c!=null&&i==="onScroll"&&Zr("scroll",e):c!=null&&gA(e,i,c,o))}switch(r){case"input":Xx(e),l3(e,s,!1);break;case"textarea":Xx(e),d3(e);break;case"option":s.value!=null&&e.setAttribute("value",""+Gc(s.value));break;case"select":e.multiple=!!s.multiple,i=s.value,i!=null?Yh(e,!!s.multiple,i,!1):s.defaultValue!=null&&Yh(e,!!s.multiple,s.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=Cy)}switch(r){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}}s&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return ks(t),null;case 6:if(e&&t.stateNode!=null)lF(e,t,e.memoizedProps,s);else{if(typeof s!="string"&&t.stateNode===null)throw Error(at(166));if(r=Wd(Sv.current),Wd(Fo.current),a0(t)){if(s=t.stateNode,r=t.memoizedProps,s[To]=t,(i=s.nodeValue!==r)&&(e=Ba,e!==null))switch(e.tag){case 3:s0(s.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&s0(s.nodeValue,r,(e.mode&1)!==0)}i&&(t.flags|=4)}else s=(r.nodeType===9?r:r.ownerDocument).createTextNode(s),s[To]=t,t.stateNode=s}return ks(t),null;case 13:if(sn(fn),s=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(an&&Fa!==null&&t.mode&1&&!(t.flags&128))AR(),ff(),t.flags|=98560,i=!1;else if(i=a0(t),s!==null&&s.dehydrated!==null){if(e===null){if(!i)throw Error(at(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(at(317));i[To]=t}else ff(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;ks(t),i=!1}else Gi!==null&&(O5(Gi),Gi=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(s=s!==null,s!==(e!==null&&e.memoizedState!==null)&&s&&(t.child.flags|=8192,t.mode&1&&(e===null||fn.current&1?Jn===0&&(Jn=3):ZA())),t.updateQueue!==null&&(t.flags|=4),ks(t),null);case 4:return pf(),A5(e,t),e===null&&bv(t.stateNode.containerInfo),ks(t),null;case 10:return RA(t.type._context),ks(t),null;case 17:return ya(t.type)&&Ay(),ks(t),null;case 19:if(sn(fn),i=t.memoizedState,i===null)return ks(t),null;if(s=(t.flags&128)!==0,o=i.rendering,o===null)if(s)hp(i,!1);else{if(Jn!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=Dy(e),o!==null){for(t.flags|=128,hp(i,!1),s=o.updateQueue,s!==null&&(t.updateQueue=s,t.flags|=4),t.subtreeFlags=0,s=r,r=t.child;r!==null;)i=r,e=s,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Kr(fn,fn.current&1|2),t.child}e=e.sibling}i.tail!==null&&Tn()>gf&&(t.flags|=128,s=!0,hp(i,!1),t.lanes=4194304)}else{if(!s)if(e=Dy(o),e!==null){if(t.flags|=128,s=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),hp(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!an)return ks(t),null}else 2*Tn()-i.renderingStartTime>gf&&r!==1073741824&&(t.flags|=128,s=!0,hp(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(r=i.last,r!==null?r.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Tn(),t.sibling=null,r=fn.current,Kr(fn,s?r&1|2:r&1),t):(ks(t),null);case 22:case 23:return JA(),s=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==s&&(t.flags|=8192),s&&t.mode&1?Da&1073741824&&(ks(t),t.subtreeFlags&6&&(t.flags|=8192)):ks(t),null;case 24:return null;case 25:return null}throw Error(at(156,t.tag))}function iH(e,t){switch(kA(t),t.tag){case 1:return ya(t.type)&&Ay(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return pf(),sn(xa),sn(qs),zA(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return BA(t),null;case 13:if(sn(fn),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(at(340));ff()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return sn(fn),null;case 4:return pf(),null;case 10:return RA(t.type._context),null;case 22:case 23:return JA(),null;case 24:return null;default:return null}}var l0=!1,Ms=!1,oH=typeof WeakSet=="function"?WeakSet:Set,bt=null;function qh(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(s){wn(e,t,s)}else r.current=null}function E5(e,t,r){try{r()}catch(s){wn(e,t,s)}}var Z3=!1;function lH(e,t){if(d5=wy,e=fR(),_A(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var s=r.getSelection&&r.getSelection();if(s&&s.rangeCount!==0){r=s.anchorNode;var a=s.anchorOffset,i=s.focusNode;s=s.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var o=0,l=-1,c=-1,d=0,h=0,u=e,f=null;t:for(;;){for(var m;u!==r||a!==0&&u.nodeType!==3||(l=o+a),u!==i||s!==0&&u.nodeType!==3||(c=o+s),u.nodeType===3&&(o+=u.nodeValue.length),(m=u.firstChild)!==null;)f=u,u=m;for(;;){if(u===e)break t;if(f===r&&++d===a&&(l=o),f===i&&++h===s&&(c=o),(m=u.nextSibling)!==null)break;u=f,f=u.parentNode}u=m}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(u5={focusedElem:e,selectionRange:r},wy=!1,bt=t;bt!==null;)if(t=bt,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,bt=e;else for(;bt!==null;){t=bt;try{var v=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var x=v.memoizedProps,p=v.memoizedState,g=t.stateNode,b=g.getSnapshotBeforeUpdate(t.elementType===t.type?x:Bi(t.type,x),p);g.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var y=t.stateNode.containerInfo;y.nodeType===1?y.textContent="":y.nodeType===9&&y.documentElement&&y.removeChild(y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(at(163))}}catch(j){wn(t,t.return,j)}if(e=t.sibling,e!==null){e.return=t.return,bt=e;break}bt=t.return}return v=Z3,Z3=!1,v}function Wp(e,t,r){var s=t.updateQueue;if(s=s!==null?s.lastEffect:null,s!==null){var a=s=s.next;do{if((a.tag&e)===e){var i=a.destroy;a.destroy=void 0,i!==void 0&&E5(t,r,i)}a=a.next}while(a!==s)}}function b1(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var s=r.create;r.destroy=s()}r=r.next}while(r!==t)}}function P5(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function cF(e){var t=e.alternate;t!==null&&(e.alternate=null,cF(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[To],delete t[wv],delete t[m5],delete t[qW],delete t[WW])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function dF(e){return e.tag===5||e.tag===3||e.tag===4}function eT(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||dF(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function T5(e,t,r){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Cy));else if(s!==4&&(e=e.child,e!==null))for(T5(e,t,r),e=e.sibling;e!==null;)T5(e,t,r),e=e.sibling}function _5(e,t,r){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(s!==4&&(e=e.child,e!==null))for(_5(e,t,r),e=e.sibling;e!==null;)_5(e,t,r),e=e.sibling}var js=null,Vi=!1;function lc(e,t,r){for(r=r.child;r!==null;)uF(e,t,r),r=r.sibling}function uF(e,t,r){if(Ro&&typeof Ro.onCommitFiberUnmount=="function")try{Ro.onCommitFiberUnmount(h1,r)}catch{}switch(r.tag){case 5:Ms||qh(r,t);case 6:var s=js,a=Vi;js=null,lc(e,t,r),js=s,Vi=a,js!==null&&(Vi?(e=js,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):js.removeChild(r.stateNode));break;case 18:js!==null&&(Vi?(e=js,r=r.stateNode,e.nodeType===8?c2(e.parentNode,r):e.nodeType===1&&c2(e,r),gv(e)):c2(js,r.stateNode));break;case 4:s=js,a=Vi,js=r.stateNode.containerInfo,Vi=!0,lc(e,t,r),js=s,Vi=a;break;case 0:case 11:case 14:case 15:if(!Ms&&(s=r.updateQueue,s!==null&&(s=s.lastEffect,s!==null))){a=s=s.next;do{var i=a,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&E5(r,t,o),a=a.next}while(a!==s)}lc(e,t,r);break;case 1:if(!Ms&&(qh(r,t),s=r.stateNode,typeof s.componentWillUnmount=="function"))try{s.props=r.memoizedProps,s.state=r.memoizedState,s.componentWillUnmount()}catch(l){wn(r,t,l)}lc(e,t,r);break;case 21:lc(e,t,r);break;case 22:r.mode&1?(Ms=(s=Ms)||r.memoizedState!==null,lc(e,t,r),Ms=s):lc(e,t,r);break;default:lc(e,t,r)}}function tT(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new oH),t.forEach(function(s){var a=gH.bind(null,e,s);r.has(s)||(r.add(s),s.then(a,a))})}}function Oi(e,t){var r=t.deletions;if(r!==null)for(var s=0;s<r.length;s++){var a=r[s];try{var i=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:js=l.stateNode,Vi=!1;break e;case 3:js=l.stateNode.containerInfo,Vi=!0;break e;case 4:js=l.stateNode.containerInfo,Vi=!0;break e}l=l.return}if(js===null)throw Error(at(160));uF(i,o,a),js=null,Vi=!1;var c=a.alternate;c!==null&&(c.return=null),a.return=null}catch(d){wn(a,t,d)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)hF(t,e),t=t.sibling}function hF(e,t){var r=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Oi(t,e),jo(e),s&4){try{Wp(3,e,e.return),b1(3,e)}catch(x){wn(e,e.return,x)}try{Wp(5,e,e.return)}catch(x){wn(e,e.return,x)}}break;case 1:Oi(t,e),jo(e),s&512&&r!==null&&qh(r,r.return);break;case 5:if(Oi(t,e),jo(e),s&512&&r!==null&&qh(r,r.return),e.flags&32){var a=e.stateNode;try{fv(a,"")}catch(x){wn(e,e.return,x)}}if(s&4&&(a=e.stateNode,a!=null)){var i=e.memoizedProps,o=r!==null?r.memoizedProps:i,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&OL(a,i),e5(l,o);var d=e5(l,i);for(o=0;o<c.length;o+=2){var h=c[o],u=c[o+1];h==="style"?ML(a,u):h==="dangerouslySetInnerHTML"?FL(a,u):h==="children"?fv(a,u):gA(a,h,u,d)}switch(l){case"input":YN(a,i);break;case"textarea":LL(a,i);break;case"select":var f=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!i.multiple;var m=i.value;m!=null?Yh(a,!!i.multiple,m,!1):f!==!!i.multiple&&(i.defaultValue!=null?Yh(a,!!i.multiple,i.defaultValue,!0):Yh(a,!!i.multiple,i.multiple?[]:"",!1))}a[wv]=i}catch(x){wn(e,e.return,x)}}break;case 6:if(Oi(t,e),jo(e),s&4){if(e.stateNode===null)throw Error(at(162));a=e.stateNode,i=e.memoizedProps;try{a.nodeValue=i}catch(x){wn(e,e.return,x)}}break;case 3:if(Oi(t,e),jo(e),s&4&&r!==null&&r.memoizedState.isDehydrated)try{gv(t.containerInfo)}catch(x){wn(e,e.return,x)}break;case 4:Oi(t,e),jo(e);break;case 13:Oi(t,e),jo(e),a=e.child,a.flags&8192&&(i=a.memoizedState!==null,a.stateNode.isHidden=i,!i||a.alternate!==null&&a.alternate.memoizedState!==null||(XA=Tn())),s&4&&tT(e);break;case 22:if(h=r!==null&&r.memoizedState!==null,e.mode&1?(Ms=(d=Ms)||h,Oi(t,e),Ms=d):Oi(t,e),jo(e),s&8192){if(d=e.memoizedState!==null,(e.stateNode.isHidden=d)&&!h&&e.mode&1)for(bt=e,h=e.child;h!==null;){for(u=bt=h;bt!==null;){switch(f=bt,m=f.child,f.tag){case 0:case 11:case 14:case 15:Wp(4,f,f.return);break;case 1:qh(f,f.return);var v=f.stateNode;if(typeof v.componentWillUnmount=="function"){s=f,r=f.return;try{t=s,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(x){wn(s,r,x)}}break;case 5:qh(f,f.return);break;case 22:if(f.memoizedState!==null){nT(u);continue}}m!==null?(m.return=f,bt=m):nT(u)}h=h.sibling}e:for(h=null,u=e;;){if(u.tag===5){if(h===null){h=u;try{a=u.stateNode,d?(i=a.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=u.stateNode,c=u.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=$L("display",o))}catch(x){wn(e,e.return,x)}}}else if(u.tag===6){if(h===null)try{u.stateNode.nodeValue=d?"":u.memoizedProps}catch(x){wn(e,e.return,x)}}else if((u.tag!==22&&u.tag!==23||u.memoizedState===null||u===e)&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===e)break e;for(;u.sibling===null;){if(u.return===null||u.return===e)break e;h===u&&(h=null),u=u.return}h===u&&(h=null),u.sibling.return=u.return,u=u.sibling}}break;case 19:Oi(t,e),jo(e),s&4&&tT(e);break;case 21:break;default:Oi(t,e),jo(e)}}function jo(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(dF(r)){var s=r;break e}r=r.return}throw Error(at(160))}switch(s.tag){case 5:var a=s.stateNode;s.flags&32&&(fv(a,""),s.flags&=-33);var i=eT(e);_5(e,i,a);break;case 3:case 4:var o=s.stateNode.containerInfo,l=eT(e);T5(e,l,o);break;default:throw Error(at(161))}}catch(c){wn(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function cH(e,t,r){bt=e,fF(e)}function fF(e,t,r){for(var s=(e.mode&1)!==0;bt!==null;){var a=bt,i=a.child;if(a.tag===22&&s){var o=a.memoizedState!==null||l0;if(!o){var l=a.alternate,c=l!==null&&l.memoizedState!==null||Ms;l=l0;var d=Ms;if(l0=o,(Ms=c)&&!d)for(bt=a;bt!==null;)o=bt,c=o.child,o.tag===22&&o.memoizedState!==null?sT(a):c!==null?(c.return=o,bt=c):sT(a);for(;i!==null;)bt=i,fF(i),i=i.sibling;bt=a,l0=l,Ms=d}rT(e)}else a.subtreeFlags&8772&&i!==null?(i.return=a,bt=i):rT(e)}}function rT(e){for(;bt!==null;){var t=bt;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Ms||b1(5,t);break;case 1:var s=t.stateNode;if(t.flags&4&&!Ms)if(r===null)s.componentDidMount();else{var a=t.elementType===t.type?r.memoizedProps:Bi(t.type,r.memoizedProps);s.componentDidUpdate(a,r.memoizedState,s.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&B3(t,i,s);break;case 3:var o=t.updateQueue;if(o!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}B3(t,o,r)}break;case 5:var l=t.stateNode;if(r===null&&t.flags&4){r=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var d=t.alternate;if(d!==null){var h=d.memoizedState;if(h!==null){var u=h.dehydrated;u!==null&&gv(u)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(at(163))}Ms||t.flags&512&&P5(t)}catch(f){wn(t,t.return,f)}}if(t===e){bt=null;break}if(r=t.sibling,r!==null){r.return=t.return,bt=r;break}bt=t.return}}function nT(e){for(;bt!==null;){var t=bt;if(t===e){bt=null;break}var r=t.sibling;if(r!==null){r.return=t.return,bt=r;break}bt=t.return}}function sT(e){for(;bt!==null;){var t=bt;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{b1(4,t)}catch(c){wn(t,r,c)}break;case 1:var s=t.stateNode;if(typeof s.componentDidMount=="function"){var a=t.return;try{s.componentDidMount()}catch(c){wn(t,a,c)}}var i=t.return;try{P5(t)}catch(c){wn(t,i,c)}break;case 5:var o=t.return;try{P5(t)}catch(c){wn(t,o,c)}}}catch(c){wn(t,t.return,c)}if(t===e){bt=null;break}var l=t.sibling;if(l!==null){l.return=t.return,bt=l;break}bt=t.return}}var dH=Math.ceil,Ry=Ul.ReactCurrentDispatcher,KA=Ul.ReactCurrentOwner,fi=Ul.ReactCurrentBatchConfig,gr=0,cs=null,zn=null,As=0,Da=0,Wh=ad(0),Jn=0,Pv=null,mu=0,j1=0,YA=0,Hp=null,fa=null,XA=0,gf=1/0,fl=null,Fy=!1,I5=null,Fc=null,c0=!1,Ac=null,$y=0,Gp=0,k5=null,ay=-1,iy=0;function Zs(){return gr&6?Tn():ay!==-1?ay:ay=Tn()}function $c(e){return e.mode&1?gr&2&&As!==0?As&-As:GW.transition!==null?(iy===0&&(iy=QL()),iy):(e=Tr,e!==0||(e=window.event,e=e===void 0?16:sR(e.type)),e):1}function eo(e,t,r,s){if(50<Gp)throw Gp=0,k5=null,Error(at(185));Pg(e,r,s),(!(gr&2)||e!==cs)&&(e===cs&&(!(gr&2)&&(j1|=r),Jn===4&&jc(e,As)),ba(e,s),r===1&&gr===0&&!(t.mode&1)&&(gf=Tn()+500,g1&&id()))}function ba(e,t){var r=e.callbackNode;Gq(e,t);var s=jy(e,e===cs?As:0);if(s===0)r!==null&&f3(r),e.callbackNode=null,e.callbackPriority=0;else if(t=s&-s,e.callbackPriority!==t){if(r!=null&&f3(r),t===1)e.tag===0?HW(aT.bind(null,e)):NR(aT.bind(null,e)),UW(function(){!(gr&6)&&id()}),r=null;else{switch(JL(s)){case 1:r=wA;break;case 4:r=YL;break;case 16:r=by;break;case 536870912:r=XL;break;default:r=by}r=jF(r,mF.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function mF(e,t){if(ay=-1,iy=0,gr&6)throw Error(at(327));var r=e.callbackNode;if(ef()&&e.callbackNode!==r)return null;var s=jy(e,e===cs?As:0);if(s===0)return null;if(s&30||s&e.expiredLanes||t)t=My(e,s);else{t=s;var a=gr;gr|=2;var i=vF();(cs!==e||As!==t)&&(fl=null,gf=Tn()+500,ru(e,t));do try{fH();break}catch(l){pF(e,l)}while(1);LA(),Ry.current=i,gr=a,zn!==null?t=0:(cs=null,As=0,t=Jn)}if(t!==0){if(t===2&&(a=a5(e),a!==0&&(s=a,t=D5(e,a))),t===1)throw r=Pv,ru(e,0),jc(e,s),ba(e,Tn()),r;if(t===6)jc(e,s);else{if(a=e.current.alternate,!(s&30)&&!uH(a)&&(t=My(e,s),t===2&&(i=a5(e),i!==0&&(s=i,t=D5(e,i))),t===1))throw r=Pv,ru(e,0),jc(e,s),ba(e,Tn()),r;switch(e.finishedWork=a,e.finishedLanes=s,t){case 0:case 1:throw Error(at(345));case 2:Od(e,fa,fl);break;case 3:if(jc(e,s),(s&130023424)===s&&(t=XA+500-Tn(),10<t)){if(jy(e,0)!==0)break;if(a=e.suspendedLanes,(a&s)!==s){Zs(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=f5(Od.bind(null,e,fa,fl),t);break}Od(e,fa,fl);break;case 4:if(jc(e,s),(s&4194240)===s)break;for(t=e.eventTimes,a=-1;0<s;){var o=31-Zi(s);i=1<<o,o=t[o],o>a&&(a=o),s&=~i}if(s=a,s=Tn()-s,s=(120>s?120:480>s?480:1080>s?1080:1920>s?1920:3e3>s?3e3:4320>s?4320:1960*dH(s/1960))-s,10<s){e.timeoutHandle=f5(Od.bind(null,e,fa,fl),s);break}Od(e,fa,fl);break;case 5:Od(e,fa,fl);break;default:throw Error(at(329))}}}return ba(e,Tn()),e.callbackNode===r?mF.bind(null,e):null}function D5(e,t){var r=Hp;return e.current.memoizedState.isDehydrated&&(ru(e,t).flags|=256),e=My(e,t),e!==2&&(t=fa,fa=r,t!==null&&O5(t)),e}function O5(e){fa===null?fa=e:fa.push.apply(fa,e)}function uH(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var s=0;s<r.length;s++){var a=r[s],i=a.getSnapshot;a=a.value;try{if(!ro(i(),a))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function jc(e,t){for(t&=~YA,t&=~j1,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Zi(t),s=1<<r;e[r]=-1,t&=~s}}function aT(e){if(gr&6)throw Error(at(327));ef();var t=jy(e,0);if(!(t&1))return ba(e,Tn()),null;var r=My(e,t);if(e.tag!==0&&r===2){var s=a5(e);s!==0&&(t=s,r=D5(e,s))}if(r===1)throw r=Pv,ru(e,0),jc(e,t),ba(e,Tn()),r;if(r===6)throw Error(at(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Od(e,fa,fl),ba(e,Tn()),null}function QA(e,t){var r=gr;gr|=1;try{return e(t)}finally{gr=r,gr===0&&(gf=Tn()+500,g1&&id())}}function pu(e){Ac!==null&&Ac.tag===0&&!(gr&6)&&ef();var t=gr;gr|=1;var r=fi.transition,s=Tr;try{if(fi.transition=null,Tr=1,e)return e()}finally{Tr=s,fi.transition=r,gr=t,!(gr&6)&&id()}}function JA(){Da=Wh.current,sn(Wh)}function ru(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,zW(r)),zn!==null)for(r=zn.return;r!==null;){var s=r;switch(kA(s),s.tag){case 1:s=s.type.childContextTypes,s!=null&&Ay();break;case 3:pf(),sn(xa),sn(qs),zA();break;case 5:BA(s);break;case 4:pf();break;case 13:sn(fn);break;case 19:sn(fn);break;case 10:RA(s.type._context);break;case 22:case 23:JA()}r=r.return}if(cs=e,zn=e=Mc(e.current,null),As=Da=t,Jn=0,Pv=null,YA=j1=mu=0,fa=Hp=null,qd!==null){for(t=0;t<qd.length;t++)if(r=qd[t],s=r.interleaved,s!==null){r.interleaved=null;var a=s.next,i=r.pending;if(i!==null){var o=i.next;i.next=a,s.next=o}r.pending=s}qd=null}return e}function pF(e,t){do{var r=zn;try{if(LA(),ry.current=Ly,Oy){for(var s=pn.memoizedState;s!==null;){var a=s.queue;a!==null&&(a.pending=null),s=s.next}Oy=!1}if(fu=0,os=Xn=pn=null,qp=!1,Cv=0,KA.current=null,r===null||r.return===null){Jn=1,Pv=t,zn=null;break}e:{var i=e,o=r.return,l=r,c=t;if(t=As,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c,h=l,u=h.tag;if(!(h.mode&1)&&(u===0||u===11||u===15)){var f=h.alternate;f?(h.updateQueue=f.updateQueue,h.memoizedState=f.memoizedState,h.lanes=f.lanes):(h.updateQueue=null,h.memoizedState=null)}var m=H3(o);if(m!==null){m.flags&=-257,G3(m,o,l,i,t),m.mode&1&&W3(i,d,t),t=m,c=d;var v=t.updateQueue;if(v===null){var x=new Set;x.add(c),t.updateQueue=x}else v.add(c);break e}else{if(!(t&1)){W3(i,d,t),ZA();break e}c=Error(at(426))}}else if(an&&l.mode&1){var p=H3(o);if(p!==null){!(p.flags&65536)&&(p.flags|=256),G3(p,o,l,i,t),DA(vf(c,l));break e}}i=c=vf(c,l),Jn!==4&&(Jn=2),Hp===null?Hp=[i]:Hp.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var g=JR(i,c,t);M3(i,g);break e;case 1:l=c;var b=i.type,y=i.stateNode;if(!(i.flags&128)&&(typeof b.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(Fc===null||!Fc.has(y)))){i.flags|=65536,t&=-t,i.lanes|=t;var j=ZR(i,l,t);M3(i,j);break e}}i=i.return}while(i!==null)}xF(r)}catch(E){t=E,zn===r&&r!==null&&(zn=r=r.return);continue}break}while(1)}function vF(){var e=Ry.current;return Ry.current=Ly,e===null?Ly:e}function ZA(){(Jn===0||Jn===3||Jn===2)&&(Jn=4),cs===null||!(mu&268435455)&&!(j1&268435455)||jc(cs,As)}function My(e,t){var r=gr;gr|=2;var s=vF();(cs!==e||As!==t)&&(fl=null,ru(e,t));do try{hH();break}catch(a){pF(e,a)}while(1);if(LA(),gr=r,Ry.current=s,zn!==null)throw Error(at(261));return cs=null,As=0,Jn}function hH(){for(;zn!==null;)gF(zn)}function fH(){for(;zn!==null&&!$q();)gF(zn)}function gF(e){var t=bF(e.alternate,e,Da);e.memoizedProps=e.pendingProps,t===null?xF(e):zn=t,KA.current=null}function xF(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=iH(r,t),r!==null){r.flags&=32767,zn=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Jn=6,zn=null;return}}else if(r=aH(r,t,Da),r!==null){zn=r;return}if(t=t.sibling,t!==null){zn=t;return}zn=t=e}while(t!==null);Jn===0&&(Jn=5)}function Od(e,t,r){var s=Tr,a=fi.transition;try{fi.transition=null,Tr=1,mH(e,t,r,s)}finally{fi.transition=a,Tr=s}return null}function mH(e,t,r,s){do ef();while(Ac!==null);if(gr&6)throw Error(at(327));r=e.finishedWork;var a=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(at(177));e.callbackNode=null,e.callbackPriority=0;var i=r.lanes|r.childLanes;if(Kq(e,i),e===cs&&(zn=cs=null,As=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||c0||(c0=!0,jF(by,function(){return ef(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=fi.transition,fi.transition=null;var o=Tr;Tr=1;var l=gr;gr|=4,KA.current=null,lH(e,r),hF(r,e),OW(u5),wy=!!d5,u5=d5=null,e.current=r,cH(r),Mq(),gr=l,Tr=o,fi.transition=i}else e.current=r;if(c0&&(c0=!1,Ac=e,$y=a),i=e.pendingLanes,i===0&&(Fc=null),Uq(r.stateNode),ba(e,Tn()),t!==null)for(s=e.onRecoverableError,r=0;r<t.length;r++)a=t[r],s(a.value,{componentStack:a.stack,digest:a.digest});if(Fy)throw Fy=!1,e=I5,I5=null,e;return $y&1&&e.tag!==0&&ef(),i=e.pendingLanes,i&1?e===k5?Gp++:(Gp=0,k5=e):Gp=0,id(),null}function ef(){if(Ac!==null){var e=JL($y),t=fi.transition,r=Tr;try{if(fi.transition=null,Tr=16>e?16:e,Ac===null)var s=!1;else{if(e=Ac,Ac=null,$y=0,gr&6)throw Error(at(331));var a=gr;for(gr|=4,bt=e.current;bt!==null;){var i=bt,o=i.child;if(bt.flags&16){var l=i.deletions;if(l!==null){for(var c=0;c<l.length;c++){var d=l[c];for(bt=d;bt!==null;){var h=bt;switch(h.tag){case 0:case 11:case 15:Wp(8,h,i)}var u=h.child;if(u!==null)u.return=h,bt=u;else for(;bt!==null;){h=bt;var f=h.sibling,m=h.return;if(cF(h),h===d){bt=null;break}if(f!==null){f.return=m,bt=f;break}bt=m}}}var v=i.alternate;if(v!==null){var x=v.child;if(x!==null){v.child=null;do{var p=x.sibling;x.sibling=null,x=p}while(x!==null)}}bt=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,bt=o;else e:for(;bt!==null;){if(i=bt,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Wp(9,i,i.return)}var g=i.sibling;if(g!==null){g.return=i.return,bt=g;break e}bt=i.return}}var b=e.current;for(bt=b;bt!==null;){o=bt;var y=o.child;if(o.subtreeFlags&2064&&y!==null)y.return=o,bt=y;else e:for(o=b;bt!==null;){if(l=bt,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:b1(9,l)}}catch(E){wn(l,l.return,E)}if(l===o){bt=null;break e}var j=l.sibling;if(j!==null){j.return=l.return,bt=j;break e}bt=l.return}}if(gr=a,id(),Ro&&typeof Ro.onPostCommitFiberRoot=="function")try{Ro.onPostCommitFiberRoot(h1,e)}catch{}s=!0}return s}finally{Tr=r,fi.transition=t}}return!1}function iT(e,t,r){t=vf(r,t),t=JR(e,t,1),e=Rc(e,t,1),t=Zs(),e!==null&&(Pg(e,1,t),ba(e,t))}function wn(e,t,r){if(e.tag===3)iT(e,e,r);else for(;t!==null;){if(t.tag===3){iT(t,e,r);break}else if(t.tag===1){var s=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(Fc===null||!Fc.has(s))){e=vf(r,e),e=ZR(t,e,1),t=Rc(t,e,1),e=Zs(),t!==null&&(Pg(t,1,e),ba(t,e));break}}t=t.return}}function pH(e,t,r){var s=e.pingCache;s!==null&&s.delete(t),t=Zs(),e.pingedLanes|=e.suspendedLanes&r,cs===e&&(As&r)===r&&(Jn===4||Jn===3&&(As&130023424)===As&&500>Tn()-XA?ru(e,0):YA|=r),ba(e,t)}function yF(e,t){t===0&&(e.mode&1?(t=Zx,Zx<<=1,!(Zx&130023424)&&(Zx=4194304)):t=1);var r=Zs();e=Il(e,t),e!==null&&(Pg(e,t,r),ba(e,r))}function vH(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),yF(e,r)}function gH(e,t){var r=0;switch(e.tag){case 13:var s=e.stateNode,a=e.memoizedState;a!==null&&(r=a.retryLane);break;case 19:s=e.stateNode;break;default:throw Error(at(314))}s!==null&&s.delete(t),yF(e,r)}var bF;bF=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||xa.current)va=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return va=!1,sH(e,t,r);va=!!(e.flags&131072)}else va=!1,an&&t.flags&1048576&&SR(t,Ty,t.index);switch(t.lanes=0,t.tag){case 2:var s=t.type;sy(e,t),e=t.pendingProps;var a=hf(t,qs.current);Zh(t,r),a=VA(null,t,s,e,a,r);var i=qA();return t.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,ya(s)?(i=!0,Ey(t)):i=!1,t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,$A(t),a.updater=y1,t.stateNode=a,a._reactInternals=t,b5(t,s,e,r),t=N5(null,t,s,!0,i,r)):(t.tag=0,an&&i&&IA(t),Ys(null,t,a,r),t=t.child),t;case 16:s=t.elementType;e:{switch(sy(e,t),e=t.pendingProps,a=s._init,s=a(s._payload),t.type=s,a=t.tag=yH(s),e=Bi(s,e),a){case 0:t=w5(null,t,s,e,r);break e;case 1:t=X3(null,t,s,e,r);break e;case 11:t=K3(null,t,s,e,r);break e;case 14:t=Y3(null,t,s,Bi(s.type,e),r);break e}throw Error(at(306,s,""))}return t;case 0:return s=t.type,a=t.pendingProps,a=t.elementType===s?a:Bi(s,a),w5(e,t,s,a,r);case 1:return s=t.type,a=t.pendingProps,a=t.elementType===s?a:Bi(s,a),X3(e,t,s,a,r);case 3:e:{if(nF(t),e===null)throw Error(at(387));s=t.pendingProps,i=t.memoizedState,a=i.element,_R(e,t),ky(t,s,null,r);var o=t.memoizedState;if(s=o.element,i.isDehydrated)if(i={element:s,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){a=vf(Error(at(423)),t),t=Q3(e,t,s,r,a);break e}else if(s!==a){a=vf(Error(at(424)),t),t=Q3(e,t,s,r,a);break e}else for(Fa=Lc(t.stateNode.containerInfo.firstChild),Ba=t,an=!0,Gi=null,r=PR(t,null,s,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(ff(),s===a){t=kl(e,t,r);break e}Ys(e,t,s,r)}t=t.child}return t;case 5:return IR(t),e===null&&g5(t),s=t.type,a=t.pendingProps,i=e!==null?e.memoizedProps:null,o=a.children,h5(s,a)?o=null:i!==null&&h5(s,i)&&(t.flags|=32),rF(e,t),Ys(e,t,o,r),t.child;case 6:return e===null&&g5(t),null;case 13:return sF(e,t,r);case 4:return MA(t,t.stateNode.containerInfo),s=t.pendingProps,e===null?t.child=mf(t,null,s,r):Ys(e,t,s,r),t.child;case 11:return s=t.type,a=t.pendingProps,a=t.elementType===s?a:Bi(s,a),K3(e,t,s,a,r);case 7:return Ys(e,t,t.pendingProps,r),t.child;case 8:return Ys(e,t,t.pendingProps.children,r),t.child;case 12:return Ys(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(s=t.type._context,a=t.pendingProps,i=t.memoizedProps,o=a.value,Kr(_y,s._currentValue),s._currentValue=o,i!==null)if(ro(i.value,o)){if(i.children===a.children&&!xa.current){t=kl(e,t,r);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var c=l.firstContext;c!==null;){if(c.context===s){if(i.tag===1){c=Sl(-1,r&-r),c.tag=2;var d=i.updateQueue;if(d!==null){d=d.shared;var h=d.pending;h===null?c.next=c:(c.next=h.next,h.next=c),d.pending=c}}i.lanes|=r,c=i.alternate,c!==null&&(c.lanes|=r),x5(i.return,r,t),l.lanes|=r;break}c=c.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(at(341));o.lanes|=r,l=o.alternate,l!==null&&(l.lanes|=r),x5(o,r,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Ys(e,t,a.children,r),t=t.child}return t;case 9:return a=t.type,s=t.pendingProps.children,Zh(t,r),a=xi(a),s=s(a),t.flags|=1,Ys(e,t,s,r),t.child;case 14:return s=t.type,a=Bi(s,t.pendingProps),a=Bi(s.type,a),Y3(e,t,s,a,r);case 15:return eF(e,t,t.type,t.pendingProps,r);case 17:return s=t.type,a=t.pendingProps,a=t.elementType===s?a:Bi(s,a),sy(e,t),t.tag=1,ya(s)?(e=!0,Ey(t)):e=!1,Zh(t,r),QR(t,s,a),b5(t,s,a,r),N5(null,t,s,!0,e,r);case 19:return aF(e,t,r);case 22:return tF(e,t,r)}throw Error(at(156,t.tag))};function jF(e,t){return KL(e,t)}function xH(e,t,r,s){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function di(e,t,r,s){return new xH(e,t,r,s)}function e4(e){return e=e.prototype,!(!e||!e.isReactComponent)}function yH(e){if(typeof e=="function")return e4(e)?1:0;if(e!=null){if(e=e.$$typeof,e===yA)return 11;if(e===bA)return 14}return 2}function Mc(e,t){var r=e.alternate;return r===null?(r=di(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function oy(e,t,r,s,a,i){var o=2;if(s=e,typeof e=="function")e4(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Lh:return nu(r.children,a,i,t);case xA:o=8,a|=8;break;case qN:return e=di(12,r,t,a|2),e.elementType=qN,e.lanes=i,e;case WN:return e=di(13,r,t,a),e.elementType=WN,e.lanes=i,e;case HN:return e=di(19,r,t,a),e.elementType=HN,e.lanes=i,e;case IL:return w1(r,a,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case TL:o=10;break e;case _L:o=9;break e;case yA:o=11;break e;case bA:o=14;break e;case vc:o=16,s=null;break e}throw Error(at(130,e==null?e:typeof e,""))}return t=di(o,r,t,a),t.elementType=e,t.type=s,t.lanes=i,t}function nu(e,t,r,s){return e=di(7,e,s,t),e.lanes=r,e}function w1(e,t,r,s){return e=di(22,e,s,t),e.elementType=IL,e.lanes=r,e.stateNode={isHidden:!1},e}function g2(e,t,r){return e=di(6,e,null,t),e.lanes=r,e}function x2(e,t,r){return t=di(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function bH(e,t,r,s,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Jw(0),this.expirationTimes=Jw(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Jw(0),this.identifierPrefix=s,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function t4(e,t,r,s,a,i,o,l,c){return e=new bH(e,t,r,l,c),t===1?(t=1,i===!0&&(t|=8)):t=0,i=di(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:s,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},$A(i),e}function jH(e,t,r){var s=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Oh,key:s==null?null:""+s,children:e,containerInfo:t,implementation:r}}function wF(e){if(!e)return Kc;e=e._reactInternals;e:{if(Au(e)!==e||e.tag!==1)throw Error(at(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(ya(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(at(171))}if(e.tag===1){var r=e.type;if(ya(r))return wR(e,r,t)}return t}function NF(e,t,r,s,a,i,o,l,c){return e=t4(r,s,!0,e,a,i,o,l,c),e.context=wF(null),r=e.current,s=Zs(),a=$c(r),i=Sl(s,a),i.callback=t??null,Rc(r,i,a),e.current.lanes=a,Pg(e,a,s),ba(e,s),e}function N1(e,t,r,s){var a=t.current,i=Zs(),o=$c(a);return r=wF(r),t.context===null?t.context=r:t.pendingContext=r,t=Sl(i,o),t.payload={element:e},s=s===void 0?null:s,s!==null&&(t.callback=s),e=Rc(a,t,o),e!==null&&(eo(e,a,o,i),ty(e,a,o)),o}function By(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function oT(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function r4(e,t){oT(e,t),(e=e.alternate)&&oT(e,t)}function wH(){return null}var SF=typeof reportError=="function"?reportError:function(e){console.error(e)};function n4(e){this._internalRoot=e}S1.prototype.render=n4.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(at(409));N1(e,t,null,null)};S1.prototype.unmount=n4.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;pu(function(){N1(null,e,null,null)}),t[_l]=null}};function S1(e){this._internalRoot=e}S1.prototype.unstable_scheduleHydration=function(e){if(e){var t=tR();e={blockedOn:null,target:e,priority:t};for(var r=0;r<bc.length&&t!==0&&t<bc[r].priority;r++);bc.splice(r,0,e),r===0&&nR(e)}};function s4(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function C1(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function lT(){}function NH(e,t,r,s,a){if(a){if(typeof s=="function"){var i=s;s=function(){var d=By(o);i.call(d)}}var o=NF(t,s,e,0,null,!1,!1,"",lT);return e._reactRootContainer=o,e[_l]=o.current,bv(e.nodeType===8?e.parentNode:e),pu(),o}for(;a=e.lastChild;)e.removeChild(a);if(typeof s=="function"){var l=s;s=function(){var d=By(c);l.call(d)}}var c=t4(e,0,!1,null,null,!1,!1,"",lT);return e._reactRootContainer=c,e[_l]=c.current,bv(e.nodeType===8?e.parentNode:e),pu(function(){N1(t,c,r,s)}),c}function A1(e,t,r,s,a){var i=r._reactRootContainer;if(i){var o=i;if(typeof a=="function"){var l=a;a=function(){var c=By(o);l.call(c)}}N1(t,o,e,a)}else o=NH(r,t,e,a,s);return By(o)}ZL=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=Lp(t.pendingLanes);r!==0&&(NA(t,r|1),ba(t,Tn()),!(gr&6)&&(gf=Tn()+500,id()))}break;case 13:pu(function(){var s=Il(e,1);if(s!==null){var a=Zs();eo(s,e,1,a)}}),r4(e,1)}};SA=function(e){if(e.tag===13){var t=Il(e,134217728);if(t!==null){var r=Zs();eo(t,e,134217728,r)}r4(e,134217728)}};eR=function(e){if(e.tag===13){var t=$c(e),r=Il(e,t);if(r!==null){var s=Zs();eo(r,e,t,s)}r4(e,t)}};tR=function(){return Tr};rR=function(e,t){var r=Tr;try{return Tr=e,t()}finally{Tr=r}};r5=function(e,t,r){switch(t){case"input":if(YN(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var s=r[t];if(s!==e&&s.form===e.form){var a=v1(s);if(!a)throw Error(at(90));DL(s),YN(s,a)}}}break;case"textarea":LL(e,r);break;case"select":t=r.value,t!=null&&Yh(e,!!r.multiple,t,!1)}};UL=QA;VL=pu;var SH={usingClientEntryPoint:!1,Events:[_g,Mh,v1,BL,zL,QA]},fp={findFiberByHostInstance:Vd,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},CH={bundleType:fp.bundleType,version:fp.version,rendererPackageName:fp.rendererPackageName,rendererConfig:fp.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ul.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=HL(e),e===null?null:e.stateNode},findFiberByHostInstance:fp.findFiberByHostInstance||wH,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var d0=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!d0.isDisabled&&d0.supportsFiber)try{h1=d0.inject(CH),Ro=d0}catch{}}Wa.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=SH;Wa.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!s4(t))throw Error(at(200));return jH(e,t,null,r)};Wa.createRoot=function(e,t){if(!s4(e))throw Error(at(299));var r=!1,s="",a=SF;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=t4(e,1,!1,null,null,r,!1,s,a),e[_l]=t.current,bv(e.nodeType===8?e.parentNode:e),new n4(t)};Wa.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(at(188)):(e=Object.keys(e).join(","),Error(at(268,e)));return e=HL(t),e=e===null?null:e.stateNode,e};Wa.flushSync=function(e){return pu(e)};Wa.hydrate=function(e,t,r){if(!C1(t))throw Error(at(200));return A1(null,e,t,!0,r)};Wa.hydrateRoot=function(e,t,r){if(!s4(e))throw Error(at(405));var s=r!=null&&r.hydratedSources||null,a=!1,i="",o=SF;if(r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),t=NF(t,null,e,1,r??null,a,!1,i,o),e[_l]=t.current,bv(e),s)for(e=0;e<s.length;e++)r=s[e],a=r._getVersion,a=a(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,a]:t.mutableSourceEagerHydrationData.push(r,a);return new S1(t)};Wa.render=function(e,t,r){if(!C1(t))throw Error(at(200));return A1(null,e,t,!1,r)};Wa.unmountComponentAtNode=function(e){if(!C1(e))throw Error(at(40));return e._reactRootContainer?(pu(function(){A1(null,null,e,!1,function(){e._reactRootContainer=null,e[_l]=null})}),!0):!1};Wa.unstable_batchedUpdates=QA;Wa.unstable_renderSubtreeIntoContainer=function(e,t,r,s){if(!C1(r))throw Error(at(200));if(e==null||e._reactInternals===void 0)throw Error(at(38));return A1(e,t,r,!1,s)};Wa.version="18.3.1-next-f1338f8080-20240426";function CF(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(CF)}catch(e){console.error(e)}}CF(),CL.exports=Wa;var Vl=CL.exports;const a4=Cr(Vl);var cT=Vl;UN.createRoot=cT.createRoot,UN.hydrateRoot=cT.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Tv(){return Tv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},Tv.apply(this,arguments)}var Ec;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Ec||(Ec={}));const dT="popstate";function AH(e){e===void 0&&(e={});function t(s,a){let{pathname:i,search:o,hash:l}=s.location;return L5("",{pathname:i,search:o,hash:l},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function r(s,a){return typeof a=="string"?a:zy(a)}return PH(t,r,null,e)}function Dn(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function AF(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function EH(){return Math.random().toString(36).substr(2,8)}function uT(e,t){return{usr:e.state,key:e.key,idx:t}}function L5(e,t,r,s){return r===void 0&&(r=null),Tv({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?rm(t):t,{state:r,key:t&&t.key||s||EH()})}function zy(e){let{pathname:t="/",search:r="",hash:s=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),s&&s!=="#"&&(t+=s.charAt(0)==="#"?s:"#"+s),t}function rm(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let s=e.indexOf("?");s>=0&&(t.search=e.substr(s),e=e.substr(0,s)),e&&(t.pathname=e)}return t}function PH(e,t,r,s){s===void 0&&(s={});let{window:a=document.defaultView,v5Compat:i=!1}=s,o=a.history,l=Ec.Pop,c=null,d=h();d==null&&(d=0,o.replaceState(Tv({},o.state,{idx:d}),""));function h(){return(o.state||{idx:null}).idx}function u(){l=Ec.Pop;let p=h(),g=p==null?null:p-d;d=p,c&&c({action:l,location:x.location,delta:g})}function f(p,g){l=Ec.Push;let b=L5(x.location,p,g);r&&r(b,p),d=h()+1;let y=uT(b,d),j=x.createHref(b);try{o.pushState(y,"",j)}catch(E){if(E instanceof DOMException&&E.name==="DataCloneError")throw E;a.location.assign(j)}i&&c&&c({action:l,location:x.location,delta:1})}function m(p,g){l=Ec.Replace;let b=L5(x.location,p,g);r&&r(b,p),d=h();let y=uT(b,d),j=x.createHref(b);o.replaceState(y,"",j),i&&c&&c({action:l,location:x.location,delta:0})}function v(p){let g=a.location.origin!=="null"?a.location.origin:a.location.href,b=typeof p=="string"?p:zy(p);return b=b.replace(/ $/,"%20"),Dn(g,"No window.location.(origin|href) available to create URL for href: "+b),new URL(b,g)}let x={get action(){return l},get location(){return e(a,o)},listen(p){if(c)throw new Error("A history only accepts one active listener");return a.addEventListener(dT,u),c=p,()=>{a.removeEventListener(dT,u),c=null}},createHref(p){return t(a,p)},createURL:v,encodeLocation(p){let g=v(p);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:f,replace:m,go(p){return o.go(p)}};return x}var hT;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(hT||(hT={}));function TH(e,t,r){return r===void 0&&(r="/"),_H(e,t,r,!1)}function _H(e,t,r,s){let a=typeof t=="string"?rm(t):t,i=i4(a.pathname||"/",r);if(i==null)return null;let o=EF(e);IH(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let d=UH(i);l=BH(o[c],d,s)}return l}function EF(e,t,r,s){t===void 0&&(t=[]),r===void 0&&(r=[]),s===void 0&&(s="");let a=(i,o,l)=>{let c={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};c.relativePath.startsWith("/")&&(Dn(c.relativePath.startsWith(s),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+s+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(s.length));let d=Bc([s,c.relativePath]),h=r.concat(c);i.children&&i.children.length>0&&(Dn(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+d+'".')),EF(i.children,t,h,d)),!(i.path==null&&!i.index)&&t.push({path:d,score:$H(d,i.index),routesMeta:h})};return e.forEach((i,o)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))a(i,o);else for(let c of PF(i.path))a(i,o,c)}),t}function PF(e){let t=e.split("/");if(t.length===0)return[];let[r,...s]=t,a=r.endsWith("?"),i=r.replace(/\?$/,"");if(s.length===0)return a?[i,""]:[i];let o=PF(s.join("/")),l=[];return l.push(...o.map(c=>c===""?i:[i,c].join("/"))),a&&l.push(...o),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function IH(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:MH(t.routesMeta.map(s=>s.childrenIndex),r.routesMeta.map(s=>s.childrenIndex)))}const kH=/^:[\w-]+$/,DH=3,OH=2,LH=1,RH=10,FH=-2,fT=e=>e==="*";function $H(e,t){let r=e.split("/"),s=r.length;return r.some(fT)&&(s+=FH),t&&(s+=OH),r.filter(a=>!fT(a)).reduce((a,i)=>a+(kH.test(i)?DH:i===""?LH:RH),s)}function MH(e,t){return e.length===t.length&&e.slice(0,-1).every((s,a)=>s===t[a])?e[e.length-1]-t[t.length-1]:0}function BH(e,t,r){r===void 0&&(r=!1);let{routesMeta:s}=e,a={},i="/",o=[];for(let l=0;l<s.length;++l){let c=s[l],d=l===s.length-1,h=i==="/"?t:t.slice(i.length)||"/",u=mT({path:c.relativePath,caseSensitive:c.caseSensitive,end:d},h),f=c.route;if(!u&&d&&r&&!s[s.length-1].route.index&&(u=mT({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},h)),!u)return null;Object.assign(a,u.params),o.push({params:a,pathname:Bc([i,u.pathname]),pathnameBase:HH(Bc([i,u.pathnameBase])),route:f}),u.pathnameBase!=="/"&&(i=Bc([i,u.pathnameBase]))}return o}function mT(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,s]=zH(e.path,e.caseSensitive,e.end),a=t.match(r);if(!a)return null;let i=a[0],o=i.replace(/(.)\/+$/,"$1"),l=a.slice(1);return{params:s.reduce((d,h,u)=>{let{paramName:f,isOptional:m}=h;if(f==="*"){let x=l[u]||"";o=i.slice(0,i.length-x.length).replace(/(.)\/+$/,"$1")}const v=l[u];return m&&!v?d[f]=void 0:d[f]=(v||"").replace(/%2F/g,"/"),d},{}),pathname:i,pathnameBase:o,pattern:e}}function zH(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),AF(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let s=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(s.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(s.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),s]}function UH(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return AF(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function i4(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,s=e.charAt(r);return s&&s!=="/"?null:e.slice(r)||"/"}function VH(e,t){t===void 0&&(t="/");let{pathname:r,search:s="",hash:a=""}=typeof e=="string"?rm(e):e;return{pathname:r?r.startsWith("/")?r:qH(r,t):t,search:GH(s),hash:KH(a)}}function qH(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?r.length>1&&r.pop():a!=="."&&r.push(a)}),r.length>1?r.join("/"):"/"}function y2(e,t,r,s){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(s)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function WH(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function o4(e,t){let r=WH(e);return t?r.map((s,a)=>a===r.length-1?s.pathname:s.pathnameBase):r.map(s=>s.pathnameBase)}function l4(e,t,r,s){s===void 0&&(s=!1);let a;typeof e=="string"?a=rm(e):(a=Tv({},e),Dn(!a.pathname||!a.pathname.includes("?"),y2("?","pathname","search",a)),Dn(!a.pathname||!a.pathname.includes("#"),y2("#","pathname","hash",a)),Dn(!a.search||!a.search.includes("#"),y2("#","search","hash",a)));let i=e===""||a.pathname==="",o=i?"/":a.pathname,l;if(o==null)l=r;else{let u=t.length-1;if(!s&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),u-=1;a.pathname=f.join("/")}l=u>=0?t[u]:"/"}let c=VH(a,l),d=o&&o!=="/"&&o.endsWith("/"),h=(i||o===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(d||h)&&(c.pathname+="/"),c}const Bc=e=>e.join("/").replace(/\/\/+/g,"/"),HH=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),GH=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,KH=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function YH(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const TF=["post","put","patch","delete"];new Set(TF);const XH=["get",...TF];new Set(XH);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _v(){return _v=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},_v.apply(this,arguments)}const c4=C.createContext(null),QH=C.createContext(null),od=C.createContext(null),E1=C.createContext(null),ld=C.createContext({outlet:null,matches:[],isDataRoute:!1}),_F=C.createContext(null);function JH(e,t){let{relative:r}=t===void 0?{}:t;nm()||Dn(!1);let{basename:s,navigator:a}=C.useContext(od),{hash:i,pathname:o,search:l}=kF(e,{relative:r}),c=o;return s!=="/"&&(c=o==="/"?s:Bc([s,o])),a.createHref({pathname:c,search:l,hash:i})}function nm(){return C.useContext(E1)!=null}function sm(){return nm()||Dn(!1),C.useContext(E1).location}function IF(e){C.useContext(od).static||C.useLayoutEffect(e)}function d4(){let{isDataRoute:e}=C.useContext(ld);return e?uG():ZH()}function ZH(){nm()||Dn(!1);let e=C.useContext(c4),{basename:t,future:r,navigator:s}=C.useContext(od),{matches:a}=C.useContext(ld),{pathname:i}=sm(),o=JSON.stringify(o4(a,r.v7_relativeSplatPath)),l=C.useRef(!1);return IF(()=>{l.current=!0}),C.useCallback(function(d,h){if(h===void 0&&(h={}),!l.current)return;if(typeof d=="number"){s.go(d);return}let u=l4(d,JSON.parse(o),i,h.relative==="path");e==null&&t!=="/"&&(u.pathname=u.pathname==="/"?t:Bc([t,u.pathname])),(h.replace?s.replace:s.push)(u,h.state,h)},[t,s,o,i,e])}function kF(e,t){let{relative:r}=t===void 0?{}:t,{future:s}=C.useContext(od),{matches:a}=C.useContext(ld),{pathname:i}=sm(),o=JSON.stringify(o4(a,s.v7_relativeSplatPath));return C.useMemo(()=>l4(e,JSON.parse(o),i,r==="path"),[e,o,i,r])}function eG(e,t){return tG(e,t)}function tG(e,t,r,s){nm()||Dn(!1);let{navigator:a}=C.useContext(od),{matches:i}=C.useContext(ld),o=i[i.length-1],l=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let d=sm(),h;if(t){var u;let p=typeof t=="string"?rm(t):t;c==="/"||(u=p.pathname)!=null&&u.startsWith(c)||Dn(!1),h=p}else h=d;let f=h.pathname||"/",m=f;if(c!=="/"){let p=c.replace(/^\//,"").split("/");m="/"+f.replace(/^\//,"").split("/").slice(p.length).join("/")}let v=TH(e,{pathname:m}),x=iG(v&&v.map(p=>Object.assign({},p,{params:Object.assign({},l,p.params),pathname:Bc([c,a.encodeLocation?a.encodeLocation(p.pathname).pathname:p.pathname]),pathnameBase:p.pathnameBase==="/"?c:Bc([c,a.encodeLocation?a.encodeLocation(p.pathnameBase).pathname:p.pathnameBase])})),i,r,s);return t&&x?C.createElement(E1.Provider,{value:{location:_v({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:Ec.Pop}},x):x}function rG(){let e=dG(),t=YH(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},i=null;return C.createElement(C.Fragment,null,C.createElement("h2",null,"Unexpected Application Error!"),C.createElement("h3",{style:{fontStyle:"italic"}},t),r?C.createElement("pre",{style:a},r):null,i)}const nG=C.createElement(rG,null);class sG extends C.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?C.createElement(ld.Provider,{value:this.props.routeContext},C.createElement(_F.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function aG(e){let{routeContext:t,match:r,children:s}=e,a=C.useContext(c4);return a&&a.static&&a.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=r.route.id),C.createElement(ld.Provider,{value:t},s)}function iG(e,t,r,s){var a;if(t===void 0&&(t=[]),r===void 0&&(r=null),s===void 0&&(s=null),e==null){var i;if(!r)return null;if(r.errors)e=r.matches;else if((i=s)!=null&&i.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let o=e,l=(a=r)==null?void 0:a.errors;if(l!=null){let h=o.findIndex(u=>u.route.id&&(l==null?void 0:l[u.route.id])!==void 0);h>=0||Dn(!1),o=o.slice(0,Math.min(o.length,h+1))}let c=!1,d=-1;if(r&&s&&s.v7_partialHydration)for(let h=0;h<o.length;h++){let u=o[h];if((u.route.HydrateFallback||u.route.hydrateFallbackElement)&&(d=h),u.route.id){let{loaderData:f,errors:m}=r,v=u.route.loader&&f[u.route.id]===void 0&&(!m||m[u.route.id]===void 0);if(u.route.lazy||v){c=!0,d>=0?o=o.slice(0,d+1):o=[o[0]];break}}}return o.reduceRight((h,u,f)=>{let m,v=!1,x=null,p=null;r&&(m=l&&u.route.id?l[u.route.id]:void 0,x=u.route.errorElement||nG,c&&(d<0&&f===0?(hG("route-fallback",!1),v=!0,p=null):d===f&&(v=!0,p=u.route.hydrateFallbackElement||null)));let g=t.concat(o.slice(0,f+1)),b=()=>{let y;return m?y=x:v?y=p:u.route.Component?y=C.createElement(u.route.Component,null):u.route.element?y=u.route.element:y=h,C.createElement(aG,{match:u,routeContext:{outlet:h,matches:g,isDataRoute:r!=null},children:y})};return r&&(u.route.ErrorBoundary||u.route.errorElement||f===0)?C.createElement(sG,{location:r.location,revalidation:r.revalidation,component:x,error:m,children:b(),routeContext:{outlet:null,matches:g,isDataRoute:!0}}):b()},null)}var DF=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(DF||{}),Uy=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Uy||{});function oG(e){let t=C.useContext(c4);return t||Dn(!1),t}function lG(e){let t=C.useContext(QH);return t||Dn(!1),t}function cG(e){let t=C.useContext(ld);return t||Dn(!1),t}function OF(e){let t=cG(),r=t.matches[t.matches.length-1];return r.route.id||Dn(!1),r.route.id}function dG(){var e;let t=C.useContext(_F),r=lG(Uy.UseRouteError),s=OF(Uy.UseRouteError);return t!==void 0?t:(e=r.errors)==null?void 0:e[s]}function uG(){let{router:e}=oG(DF.UseNavigateStable),t=OF(Uy.UseNavigateStable),r=C.useRef(!1);return IF(()=>{r.current=!0}),C.useCallback(function(a,i){i===void 0&&(i={}),r.current&&(typeof a=="number"?e.navigate(a):e.navigate(a,_v({fromRouteId:t},i)))},[e,t])}const pT={};function hG(e,t,r){!t&&!pT[e]&&(pT[e]=!0)}function fG(e,t){e==null||e.v7_startTransition,(e==null?void 0:e.v7_relativeSplatPath)===void 0&&(!t||t.v7_relativeSplatPath),t&&(t.v7_fetcherPersist,t.v7_normalizeFormMethod,t.v7_partialHydration,t.v7_skipActionErrorRevalidation)}function mG(e){let{to:t,replace:r,state:s,relative:a}=e;nm()||Dn(!1);let{future:i,static:o}=C.useContext(od),{matches:l}=C.useContext(ld),{pathname:c}=sm(),d=d4(),h=l4(t,o4(l,i.v7_relativeSplatPath),c,a==="path"),u=JSON.stringify(h);return C.useEffect(()=>d(JSON.parse(u),{replace:r,state:s,relative:a}),[d,u,a,r,s]),null}function Ft(e){Dn(!1)}function pG(e){let{basename:t="/",children:r=null,location:s,navigationType:a=Ec.Pop,navigator:i,static:o=!1,future:l}=e;nm()&&Dn(!1);let c=t.replace(/^\/*/,"/"),d=C.useMemo(()=>({basename:c,navigator:i,static:o,future:_v({v7_relativeSplatPath:!1},l)}),[c,l,i,o]);typeof s=="string"&&(s=rm(s));let{pathname:h="/",search:u="",hash:f="",state:m=null,key:v="default"}=s,x=C.useMemo(()=>{let p=i4(h,c);return p==null?null:{location:{pathname:p,search:u,hash:f,state:m,key:v},navigationType:a}},[c,h,u,f,m,v,a]);return x==null?null:C.createElement(od.Provider,{value:d},C.createElement(E1.Provider,{children:r,value:x}))}function Ps(e){let{children:t,location:r}=e;return eG(R5(t),r)}new Promise(()=>{});function R5(e,t){t===void 0&&(t=[]);let r=[];return C.Children.forEach(e,(s,a)=>{if(!C.isValidElement(s))return;let i=[...t,a];if(s.type===C.Fragment){r.push.apply(r,R5(s.props.children,i));return}s.type!==Ft&&Dn(!1),!s.props.index||!s.props.children||Dn(!1);let o={id:s.props.id||i.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(o.children=R5(s.props.children,i)),r.push(o)}),r}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function F5(){return F5=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},F5.apply(this,arguments)}function vG(e,t){if(e==null)return{};var r={},s=Object.keys(e),a,i;for(i=0;i<s.length;i++)a=s[i],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function gG(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function xG(e,t){return e.button===0&&(!t||t==="_self")&&!gG(e)}const yG=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],bG="6";try{window.__reactRouterVersion=bG}catch{}const jG="startTransition",vT=Eg[jG];function wG(e){let{basename:t,children:r,future:s,window:a}=e,i=C.useRef();i.current==null&&(i.current=AH({window:a,v5Compat:!0}));let o=i.current,[l,c]=C.useState({action:o.action,location:o.location}),{v7_startTransition:d}=s||{},h=C.useCallback(u=>{d&&vT?vT(()=>c(u)):c(u)},[c,d]);return C.useLayoutEffect(()=>o.listen(h),[o,h]),C.useEffect(()=>fG(s),[s]),C.createElement(pG,{basename:t,children:r,location:l.location,navigationType:l.action,navigator:o,future:s})}const NG=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",SG=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,CG=C.forwardRef(function(t,r){let{onClick:s,relative:a,reloadDocument:i,replace:o,state:l,target:c,to:d,preventScrollReset:h,viewTransition:u}=t,f=vG(t,yG),{basename:m}=C.useContext(od),v,x=!1;if(typeof d=="string"&&SG.test(d)&&(v=d,NG))try{let y=new URL(window.location.href),j=d.startsWith("//")?new URL(y.protocol+d):new URL(d),E=i4(j.pathname,m);j.origin===y.origin&&E!=null?d=E+j.search+j.hash:x=!0}catch{}let p=JH(d,{relative:a}),g=AG(d,{replace:o,state:l,target:c,preventScrollReset:h,relative:a,viewTransition:u});function b(y){s&&s(y),y.defaultPrevented||g(y)}return C.createElement("a",F5({},f,{href:v||p,onClick:x||i?s:b,ref:r,target:c}))});var gT;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(gT||(gT={}));var xT;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(xT||(xT={}));function AG(e,t){let{target:r,replace:s,state:a,preventScrollReset:i,relative:o,viewTransition:l}=t===void 0?{}:t,c=d4(),d=sm(),h=kF(e,{relative:o});return C.useCallback(u=>{if(xG(u,r)){u.preventDefault();let f=s!==void 0?s:zy(d)===zy(h);c(e,{replace:f,state:a,preventScrollReset:i,relative:o,viewTransition:l})}},[d,c,h,s,a,r,e,i,o,l])}function on(e,t,{checkForDefaultPrevented:r=!0}={}){return function(a){if(e==null||e(a),r===!1||!a.defaultPrevented)return t==null?void 0:t(a)}}function yT(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function LF(...e){return t=>{let r=!1;const s=e.map(a=>{const i=yT(a,t);return!r&&typeof i=="function"&&(r=!0),i});if(r)return()=>{for(let a=0;a<s.length;a++){const i=s[a];typeof i=="function"?i():yT(e[a],null)}}}}function bi(...e){return C.useCallback(LF(...e),e)}function Eu(e,t=[]){let r=[];function s(i,o){const l=C.createContext(o),c=r.length;r=[...r,o];const d=u=>{var g;const{scope:f,children:m,...v}=u,x=((g=f==null?void 0:f[e])==null?void 0:g[c])||l,p=C.useMemo(()=>v,Object.values(v));return n.jsx(x.Provider,{value:p,children:m})};d.displayName=i+"Provider";function h(u,f){var x;const m=((x=f==null?void 0:f[e])==null?void 0:x[c])||l,v=C.useContext(m);if(v)return v;if(o!==void 0)return o;throw new Error(`\`${u}\` must be used within \`${i}\``)}return[d,h]}const a=()=>{const i=r.map(o=>C.createContext(o));return function(l){const c=(l==null?void 0:l[e])||i;return C.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return a.scopeName=e,[s,EG(a,...t)]}function EG(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const s=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(i){const o=s.reduce((l,{useScope:c,scopeName:d})=>{const u=c(i)[`__scope${d}`];return{...l,...u}},{});return C.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}function xf(e){const t=TG(e),r=C.forwardRef((s,a)=>{const{children:i,...o}=s,l=C.Children.toArray(i),c=l.find(IG);if(c){const d=c.props.children,h=l.map(u=>u===c?C.Children.count(d)>1?C.Children.only(null):C.isValidElement(d)?d.props.children:null:u);return n.jsx(t,{...o,ref:a,children:C.isValidElement(d)?C.cloneElement(d,void 0,h):null})}return n.jsx(t,{...o,ref:a,children:i})});return r.displayName=`${e}.Slot`,r}var PG=xf("Slot");function TG(e){const t=C.forwardRef((r,s)=>{const{children:a,...i}=r;if(C.isValidElement(a)){const o=DG(a),l=kG(i,a.props);return a.type!==C.Fragment&&(l.ref=s?LF(s,o):o),C.cloneElement(a,l)}return C.Children.count(a)>1?C.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var _G=Symbol("radix.slottable");function IG(e){return C.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===_G}function kG(e,t){const r={...t};for(const s in t){const a=e[s],i=t[s];/^on[A-Z]/.test(s)?a&&i?r[s]=(...l)=>{const c=i(...l);return a(...l),c}:a&&(r[s]=a):s==="style"?r[s]={...a,...i}:s==="className"&&(r[s]=[a,i].filter(Boolean).join(" "))}return{...e,...r}}function DG(e){var s,a;let t=(s=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function OG(e){const t=e+"CollectionProvider",[r,s]=Eu(t),[a,i]=r(t,{collectionRef:{current:null},itemMap:new Map}),o=x=>{const{scope:p,children:g}=x,b=pe.useRef(null),y=pe.useRef(new Map).current;return n.jsx(a,{scope:p,itemMap:y,collectionRef:b,children:g})};o.displayName=t;const l=e+"CollectionSlot",c=xf(l),d=pe.forwardRef((x,p)=>{const{scope:g,children:b}=x,y=i(l,g),j=bi(p,y.collectionRef);return n.jsx(c,{ref:j,children:b})});d.displayName=l;const h=e+"CollectionItemSlot",u="data-radix-collection-item",f=xf(h),m=pe.forwardRef((x,p)=>{const{scope:g,children:b,...y}=x,j=pe.useRef(null),E=bi(p,j),S=i(h,g);return pe.useEffect(()=>(S.itemMap.set(j,{ref:j,...y}),()=>void S.itemMap.delete(j))),n.jsx(f,{[u]:"",ref:E,children:b})});m.displayName=h;function v(x){const p=i(e+"CollectionConsumer",x);return pe.useCallback(()=>{const b=p.collectionRef.current;if(!b)return[];const y=Array.from(b.querySelectorAll(`[${u}]`));return Array.from(p.itemMap.values()).sort((S,N)=>y.indexOf(S.ref.current)-y.indexOf(N.ref.current))},[p.collectionRef,p.itemMap])}return[{Provider:o,Slot:d,ItemSlot:m},v,s]}var LG=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Cn=LG.reduce((e,t)=>{const r=xf(`Primitive.${t}`),s=C.forwardRef((a,i)=>{const{asChild:o,...l}=a,c=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),n.jsx(c,{...l,ref:i})});return s.displayName=`Primitive.${t}`,{...e,[t]:s}},{});function RF(e,t){e&&Vl.flushSync(()=>e.dispatchEvent(t))}function vu(e){const t=C.useRef(e);return C.useEffect(()=>{t.current=e}),C.useMemo(()=>(...r)=>{var s;return(s=t.current)==null?void 0:s.call(t,...r)},[])}function RG(e,t=globalThis==null?void 0:globalThis.document){const r=vu(e);C.useEffect(()=>{const s=a=>{a.key==="Escape"&&r(a)};return t.addEventListener("keydown",s,{capture:!0}),()=>t.removeEventListener("keydown",s,{capture:!0})},[r,t])}var FG="DismissableLayer",$5="dismissableLayer.update",$G="dismissableLayer.pointerDownOutside",MG="dismissableLayer.focusOutside",bT,FF=C.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),$F=C.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:s,onPointerDownOutside:a,onFocusOutside:i,onInteractOutside:o,onDismiss:l,...c}=e,d=C.useContext(FF),[h,u]=C.useState(null),f=(h==null?void 0:h.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,m]=C.useState({}),v=bi(t,N=>u(N)),x=Array.from(d.layers),[p]=[...d.layersWithOutsidePointerEventsDisabled].slice(-1),g=x.indexOf(p),b=h?x.indexOf(h):-1,y=d.layersWithOutsidePointerEventsDisabled.size>0,j=b>=g,E=zG(N=>{const w=N.target,_=[...d.branches].some(k=>k.contains(w));!j||_||(a==null||a(N),o==null||o(N),N.defaultPrevented||l==null||l())},f),S=UG(N=>{const w=N.target;[...d.branches].some(k=>k.contains(w))||(i==null||i(N),o==null||o(N),N.defaultPrevented||l==null||l())},f);return RG(N=>{b===d.layers.size-1&&(s==null||s(N),!N.defaultPrevented&&l&&(N.preventDefault(),l()))},f),C.useEffect(()=>{if(h)return r&&(d.layersWithOutsidePointerEventsDisabled.size===0&&(bT=f.body.style.pointerEvents,f.body.style.pointerEvents="none"),d.layersWithOutsidePointerEventsDisabled.add(h)),d.layers.add(h),jT(),()=>{r&&d.layersWithOutsidePointerEventsDisabled.size===1&&(f.body.style.pointerEvents=bT)}},[h,f,r,d]),C.useEffect(()=>()=>{h&&(d.layers.delete(h),d.layersWithOutsidePointerEventsDisabled.delete(h),jT())},[h,d]),C.useEffect(()=>{const N=()=>m({});return document.addEventListener($5,N),()=>document.removeEventListener($5,N)},[]),n.jsx(Cn.div,{...c,ref:v,style:{pointerEvents:y?j?"auto":"none":void 0,...e.style},onFocusCapture:on(e.onFocusCapture,S.onFocusCapture),onBlurCapture:on(e.onBlurCapture,S.onBlurCapture),onPointerDownCapture:on(e.onPointerDownCapture,E.onPointerDownCapture)})});$F.displayName=FG;var BG="DismissableLayerBranch",MF=C.forwardRef((e,t)=>{const r=C.useContext(FF),s=C.useRef(null),a=bi(t,s);return C.useEffect(()=>{const i=s.current;if(i)return r.branches.add(i),()=>{r.branches.delete(i)}},[r.branches]),n.jsx(Cn.div,{...e,ref:a})});MF.displayName=BG;function zG(e,t=globalThis==null?void 0:globalThis.document){const r=vu(e),s=C.useRef(!1),a=C.useRef(()=>{});return C.useEffect(()=>{const i=l=>{if(l.target&&!s.current){let c=function(){BF($G,r,d,{discrete:!0})};const d={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",a.current),a.current=c,t.addEventListener("click",a.current,{once:!0})):c()}else t.removeEventListener("click",a.current);s.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",i),t.removeEventListener("click",a.current)}},[t,r]),{onPointerDownCapture:()=>s.current=!0}}function UG(e,t=globalThis==null?void 0:globalThis.document){const r=vu(e),s=C.useRef(!1);return C.useEffect(()=>{const a=i=>{i.target&&!s.current&&BF(MG,r,{originalEvent:i},{discrete:!1})};return t.addEventListener("focusin",a),()=>t.removeEventListener("focusin",a)},[t,r]),{onFocusCapture:()=>s.current=!0,onBlurCapture:()=>s.current=!1}}function jT(){const e=new CustomEvent($5);document.dispatchEvent(e)}function BF(e,t,r,{discrete:s}){const a=r.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&a.addEventListener(e,t,{once:!0}),s?RF(a,i):a.dispatchEvent(i)}var VG=$F,qG=MF,Yc=globalThis!=null&&globalThis.document?C.useLayoutEffect:()=>{},WG="Portal",zF=C.forwardRef((e,t)=>{var l;const{container:r,...s}=e,[a,i]=C.useState(!1);Yc(()=>i(!0),[]);const o=r||a&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return o?a4.createPortal(n.jsx(Cn.div,{...s,ref:t}),o):null});zF.displayName=WG;function HG(e,t){return C.useReducer((r,s)=>t[r][s]??r,e)}var P1=e=>{const{present:t,children:r}=e,s=GG(t),a=typeof r=="function"?r({present:s.isPresent}):C.Children.only(r),i=bi(s.ref,KG(a));return typeof r=="function"||s.isPresent?C.cloneElement(a,{ref:i}):null};P1.displayName="Presence";function GG(e){const[t,r]=C.useState(),s=C.useRef(null),a=C.useRef(e),i=C.useRef("none"),o=e?"mounted":"unmounted",[l,c]=HG(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return C.useEffect(()=>{const d=u0(s.current);i.current=l==="mounted"?d:"none"},[l]),Yc(()=>{const d=s.current,h=a.current;if(h!==e){const f=i.current,m=u0(d);e?c("MOUNT"):m==="none"||(d==null?void 0:d.display)==="none"?c("UNMOUNT"):c(h&&f!==m?"ANIMATION_OUT":"UNMOUNT"),a.current=e}},[e,c]),Yc(()=>{if(t){let d;const h=t.ownerDocument.defaultView??window,u=m=>{const x=u0(s.current).includes(m.animationName);if(m.target===t&&x&&(c("ANIMATION_END"),!a.current)){const p=t.style.animationFillMode;t.style.animationFillMode="forwards",d=h.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=p)})}},f=m=>{m.target===t&&(i.current=u0(s.current))};return t.addEventListener("animationstart",f),t.addEventListener("animationcancel",u),t.addEventListener("animationend",u),()=>{h.clearTimeout(d),t.removeEventListener("animationstart",f),t.removeEventListener("animationcancel",u),t.removeEventListener("animationend",u)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:C.useCallback(d=>{s.current=d?getComputedStyle(d):null,r(d)},[])}}function u0(e){return(e==null?void 0:e.animationName)||"none"}function KG(e){var s,a;let t=(s=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var YG=Eg[" useInsertionEffect ".trim().toString()]||Yc;function T1({prop:e,defaultProp:t,onChange:r=()=>{},caller:s}){const[a,i,o]=XG({defaultProp:t,onChange:r}),l=e!==void 0,c=l?e:a;{const h=C.useRef(e!==void 0);C.useEffect(()=>{const u=h.current;u!==l&&console.warn(`${s} is changing from ${u?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),h.current=l},[l,s])}const d=C.useCallback(h=>{var u;if(l){const f=QG(h)?h(e):h;f!==e&&((u=o.current)==null||u.call(o,f))}else i(h)},[l,e,i,o]);return[c,d]}function XG({defaultProp:e,onChange:t}){const[r,s]=C.useState(e),a=C.useRef(r),i=C.useRef(t);return YG(()=>{i.current=t},[t]),C.useEffect(()=>{var o;a.current!==r&&((o=i.current)==null||o.call(i,r),a.current=r)},[r,a]),[r,s,i]}function QG(e){return typeof e=="function"}var JG=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),ZG="VisuallyHidden",u4=C.forwardRef((e,t)=>n.jsx(Cn.span,{...e,ref:t,style:{...JG,...e.style}}));u4.displayName=ZG;var h4="ToastProvider",[f4,eK,tK]=OG("Toast"),[UF,dOe]=Eu("Toast",[tK]),[rK,_1]=UF(h4),VF=e=>{const{__scopeToast:t,label:r="Notification",duration:s=5e3,swipeDirection:a="right",swipeThreshold:i=50,children:o}=e,[l,c]=C.useState(null),[d,h]=C.useState(0),u=C.useRef(!1),f=C.useRef(!1);return r.trim()||console.error(`Invalid prop \`label\` supplied to \`${h4}\`. Expected non-empty \`string\`.`),n.jsx(f4.Provider,{scope:t,children:n.jsx(rK,{scope:t,label:r,duration:s,swipeDirection:a,swipeThreshold:i,toastCount:d,viewport:l,onViewportChange:c,onToastAdd:C.useCallback(()=>h(m=>m+1),[]),onToastRemove:C.useCallback(()=>h(m=>m-1),[]),isFocusedToastEscapeKeyDownRef:u,isClosePausedRef:f,children:o})})};VF.displayName=h4;var qF="ToastViewport",nK=["F8"],M5="toast.viewportPause",B5="toast.viewportResume",WF=C.forwardRef((e,t)=>{const{__scopeToast:r,hotkey:s=nK,label:a="Notifications ({hotkey})",...i}=e,o=_1(qF,r),l=eK(r),c=C.useRef(null),d=C.useRef(null),h=C.useRef(null),u=C.useRef(null),f=bi(t,u,o.onViewportChange),m=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),v=o.toastCount>0;C.useEffect(()=>{const p=g=>{var y;s.length!==0&&s.every(j=>g[j]||g.code===j)&&((y=u.current)==null||y.focus())};return document.addEventListener("keydown",p),()=>document.removeEventListener("keydown",p)},[s]),C.useEffect(()=>{const p=c.current,g=u.current;if(v&&p&&g){const b=()=>{if(!o.isClosePausedRef.current){const S=new CustomEvent(M5);g.dispatchEvent(S),o.isClosePausedRef.current=!0}},y=()=>{if(o.isClosePausedRef.current){const S=new CustomEvent(B5);g.dispatchEvent(S),o.isClosePausedRef.current=!1}},j=S=>{!p.contains(S.relatedTarget)&&y()},E=()=>{p.contains(document.activeElement)||y()};return p.addEventListener("focusin",b),p.addEventListener("focusout",j),p.addEventListener("pointermove",b),p.addEventListener("pointerleave",E),window.addEventListener("blur",b),window.addEventListener("focus",y),()=>{p.removeEventListener("focusin",b),p.removeEventListener("focusout",j),p.removeEventListener("pointermove",b),p.removeEventListener("pointerleave",E),window.removeEventListener("blur",b),window.removeEventListener("focus",y)}}},[v,o.isClosePausedRef]);const x=C.useCallback(({tabbingDirection:p})=>{const b=l().map(y=>{const j=y.ref.current,E=[j,...vK(j)];return p==="forwards"?E:E.reverse()});return(p==="forwards"?b.reverse():b).flat()},[l]);return C.useEffect(()=>{const p=u.current;if(p){const g=b=>{var E,S,N;const y=b.altKey||b.ctrlKey||b.metaKey;if(b.key==="Tab"&&!y){const w=document.activeElement,_=b.shiftKey;if(b.target===p&&_){(E=d.current)==null||E.focus();return}const A=x({tabbingDirection:_?"backwards":"forwards"}),O=A.findIndex(D=>D===w);b2(A.slice(O+1))?b.preventDefault():_?(S=d.current)==null||S.focus():(N=h.current)==null||N.focus()}};return p.addEventListener("keydown",g),()=>p.removeEventListener("keydown",g)}},[l,x]),n.jsxs(qG,{ref:c,role:"region","aria-label":a.replace("{hotkey}",m),tabIndex:-1,style:{pointerEvents:v?void 0:"none"},children:[v&&n.jsx(z5,{ref:d,onFocusFromOutsideViewport:()=>{const p=x({tabbingDirection:"forwards"});b2(p)}}),n.jsx(f4.Slot,{scope:r,children:n.jsx(Cn.ol,{tabIndex:-1,...i,ref:f})}),v&&n.jsx(z5,{ref:h,onFocusFromOutsideViewport:()=>{const p=x({tabbingDirection:"backwards"});b2(p)}})]})});WF.displayName=qF;var HF="ToastFocusProxy",z5=C.forwardRef((e,t)=>{const{__scopeToast:r,onFocusFromOutsideViewport:s,...a}=e,i=_1(HF,r);return n.jsx(u4,{"aria-hidden":!0,tabIndex:0,...a,ref:t,style:{position:"fixed"},onFocus:o=>{var d;const l=o.relatedTarget;!((d=i.viewport)!=null&&d.contains(l))&&s()}})});z5.displayName=HF;var kg="Toast",sK="toast.swipeStart",aK="toast.swipeMove",iK="toast.swipeCancel",oK="toast.swipeEnd",GF=C.forwardRef((e,t)=>{const{forceMount:r,open:s,defaultOpen:a,onOpenChange:i,...o}=e,[l,c]=T1({prop:s,defaultProp:a??!0,onChange:i,caller:kg});return n.jsx(P1,{present:r||l,children:n.jsx(dK,{open:l,...o,ref:t,onClose:()=>c(!1),onPause:vu(e.onPause),onResume:vu(e.onResume),onSwipeStart:on(e.onSwipeStart,d=>{d.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:on(e.onSwipeMove,d=>{const{x:h,y:u}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","move"),d.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${h}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${u}px`)}),onSwipeCancel:on(e.onSwipeCancel,d=>{d.currentTarget.setAttribute("data-swipe","cancel"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:on(e.onSwipeEnd,d=>{const{x:h,y:u}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","end"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${h}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${u}px`),c(!1)})})})});GF.displayName=kg;var[lK,cK]=UF(kg,{onClose(){}}),dK=C.forwardRef((e,t)=>{const{__scopeToast:r,type:s="foreground",duration:a,open:i,onClose:o,onEscapeKeyDown:l,onPause:c,onResume:d,onSwipeStart:h,onSwipeMove:u,onSwipeCancel:f,onSwipeEnd:m,...v}=e,x=_1(kg,r),[p,g]=C.useState(null),b=bi(t,D=>g(D)),y=C.useRef(null),j=C.useRef(null),E=a||x.duration,S=C.useRef(0),N=C.useRef(E),w=C.useRef(0),{onToastAdd:_,onToastRemove:k}=x,T=vu(()=>{var F;(p==null?void 0:p.contains(document.activeElement))&&((F=x.viewport)==null||F.focus()),o()}),A=C.useCallback(D=>{!D||D===1/0||(window.clearTimeout(w.current),S.current=new Date().getTime(),w.current=window.setTimeout(T,D))},[T]);C.useEffect(()=>{const D=x.viewport;if(D){const F=()=>{A(N.current),d==null||d()},M=()=>{const R=new Date().getTime()-S.current;N.current=N.current-R,window.clearTimeout(w.current),c==null||c()};return D.addEventListener(M5,M),D.addEventListener(B5,F),()=>{D.removeEventListener(M5,M),D.removeEventListener(B5,F)}}},[x.viewport,E,c,d,A]),C.useEffect(()=>{i&&!x.isClosePausedRef.current&&A(E)},[i,E,x.isClosePausedRef,A]),C.useEffect(()=>(_(),()=>k()),[_,k]);const O=C.useMemo(()=>p?e$(p):null,[p]);return x.viewport?n.jsxs(n.Fragment,{children:[O&&n.jsx(uK,{__scopeToast:r,role:"status","aria-live":s==="foreground"?"assertive":"polite","aria-atomic":!0,children:O}),n.jsx(lK,{scope:r,onClose:T,children:Vl.createPortal(n.jsx(f4.ItemSlot,{scope:r,children:n.jsx(VG,{asChild:!0,onEscapeKeyDown:on(l,()=>{x.isFocusedToastEscapeKeyDownRef.current||T(),x.isFocusedToastEscapeKeyDownRef.current=!1}),children:n.jsx(Cn.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":x.swipeDirection,...v,ref:b,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:on(e.onKeyDown,D=>{D.key==="Escape"&&(l==null||l(D.nativeEvent),D.nativeEvent.defaultPrevented||(x.isFocusedToastEscapeKeyDownRef.current=!0,T()))}),onPointerDown:on(e.onPointerDown,D=>{D.button===0&&(y.current={x:D.clientX,y:D.clientY})}),onPointerMove:on(e.onPointerMove,D=>{if(!y.current)return;const F=D.clientX-y.current.x,M=D.clientY-y.current.y,R=!!j.current,B=["left","right"].includes(x.swipeDirection),U=["left","up"].includes(x.swipeDirection)?Math.min:Math.max,H=B?U(0,F):0,q=B?0:U(0,M),L=D.pointerType==="touch"?10:2,V={x:H,y:q},G={originalEvent:D,delta:V};R?(j.current=V,h0(aK,u,G,{discrete:!1})):wT(V,x.swipeDirection,L)?(j.current=V,h0(sK,h,G,{discrete:!1}),D.target.setPointerCapture(D.pointerId)):(Math.abs(F)>L||Math.abs(M)>L)&&(y.current=null)}),onPointerUp:on(e.onPointerUp,D=>{const F=j.current,M=D.target;if(M.hasPointerCapture(D.pointerId)&&M.releasePointerCapture(D.pointerId),j.current=null,y.current=null,F){const R=D.currentTarget,B={originalEvent:D,delta:F};wT(F,x.swipeDirection,x.swipeThreshold)?h0(oK,m,B,{discrete:!0}):h0(iK,f,B,{discrete:!0}),R.addEventListener("click",U=>U.preventDefault(),{once:!0})}})})})}),x.viewport)})]}):null}),uK=e=>{const{__scopeToast:t,children:r,...s}=e,a=_1(kg,t),[i,o]=C.useState(!1),[l,c]=C.useState(!1);return mK(()=>o(!0)),C.useEffect(()=>{const d=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(d)},[]),l?null:n.jsx(zF,{asChild:!0,children:n.jsx(u4,{...s,children:i&&n.jsxs(n.Fragment,{children:[a.label," ",r]})})})},hK="ToastTitle",KF=C.forwardRef((e,t)=>{const{__scopeToast:r,...s}=e;return n.jsx(Cn.div,{...s,ref:t})});KF.displayName=hK;var fK="ToastDescription",YF=C.forwardRef((e,t)=>{const{__scopeToast:r,...s}=e;return n.jsx(Cn.div,{...s,ref:t})});YF.displayName=fK;var XF="ToastAction",QF=C.forwardRef((e,t)=>{const{altText:r,...s}=e;return r.trim()?n.jsx(ZF,{altText:r,asChild:!0,children:n.jsx(m4,{...s,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${XF}\`. Expected non-empty \`string\`.`),null)});QF.displayName=XF;var JF="ToastClose",m4=C.forwardRef((e,t)=>{const{__scopeToast:r,...s}=e,a=cK(JF,r);return n.jsx(ZF,{asChild:!0,children:n.jsx(Cn.button,{type:"button",...s,ref:t,onClick:on(e.onClick,a.onClose)})})});m4.displayName=JF;var ZF=C.forwardRef((e,t)=>{const{__scopeToast:r,altText:s,...a}=e;return n.jsx(Cn.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":s||void 0,...a,ref:t})});function e$(e){const t=[];return Array.from(e.childNodes).forEach(s=>{if(s.nodeType===s.TEXT_NODE&&s.textContent&&t.push(s.textContent),pK(s)){const a=s.ariaHidden||s.hidden||s.style.display==="none",i=s.dataset.radixToastAnnounceExclude==="";if(!a)if(i){const o=s.dataset.radixToastAnnounceAlt;o&&t.push(o)}else t.push(...e$(s))}}),t}function h0(e,t,r,{discrete:s}){const a=r.originalEvent.currentTarget,i=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:r});t&&a.addEventListener(e,t,{once:!0}),s?RF(a,i):a.dispatchEvent(i)}var wT=(e,t,r=0)=>{const s=Math.abs(e.x),a=Math.abs(e.y),i=s>a;return t==="left"||t==="right"?i&&s>r:!i&&a>r};function mK(e=()=>{}){const t=vu(e);Yc(()=>{let r=0,s=0;return r=window.requestAnimationFrame(()=>s=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(r),window.cancelAnimationFrame(s)}},[t])}function pK(e){return e.nodeType===e.ELEMENT_NODE}function vK(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:s=>{const a=s.tagName==="INPUT"&&s.type==="hidden";return s.disabled||s.hidden||a?NodeFilter.FILTER_SKIP:s.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function b2(e){const t=document.activeElement;return e.some(r=>r===t?!0:(r.focus(),document.activeElement!==t))}var gK=VF,t$=WF,r$=GF,n$=KF,s$=YF,a$=QF,i$=m4;function o$(e){var t,r,s="";if(typeof e=="string"||typeof e=="number")s+=e;else if(typeof e=="object")if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(r=o$(e[t]))&&(s&&(s+=" "),s+=r);else for(t in e)e[t]&&(s&&(s+=" "),s+=t);return s}function l$(){for(var e,t,r=0,s="";r<arguments.length;)(e=arguments[r++])&&(t=o$(e))&&(s&&(s+=" "),s+=t);return s}const NT=e=>typeof e=="boolean"?"".concat(e):e===0?"0":e,ST=l$,I1=(e,t)=>r=>{var s;if((t==null?void 0:t.variants)==null)return ST(e,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:a,defaultVariants:i}=t,o=Object.keys(a).map(d=>{const h=r==null?void 0:r[d],u=i==null?void 0:i[d];if(h===null)return null;const f=NT(h)||NT(u);return a[d][f]}),l=r&&Object.entries(r).reduce((d,h)=>{let[u,f]=h;return f===void 0||(d[u]=f),d},{}),c=t==null||(s=t.compoundVariants)===null||s===void 0?void 0:s.reduce((d,h)=>{let{class:u,className:f,...m}=h;return Object.entries(m).every(v=>{let[x,p]=v;return Array.isArray(p)?p.includes({...i,...l}[x]):{...i,...l}[x]===p})?[...d,u,f]:d},[]);return ST(e,o,c,r==null?void 0:r.class,r==null?void 0:r.className)};var xK={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const yK=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),bK=(e,t)=>{const r=C.forwardRef(({color:s="currentColor",size:a=24,strokeWidth:i=2,absoluteStrokeWidth:o,children:l,...c},d)=>C.createElement("svg",{ref:d,...xK,width:a,height:a,stroke:s,strokeWidth:o?Number(i)*24/Number(a):i,className:`lucide lucide-${yK(e)}`,...c},[...t.map(([h,u])=>C.createElement(h,u)),...(Array.isArray(l)?l:[l])||[]]));return r.displayName=`${e}`,r};var ut=bK;const Co=ut("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]),tf=ut("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),Xi=ut("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),Ao=ut("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]),jK=ut("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]),Eo=ut("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]),Bn=ut("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]),c$=ut("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]),Po=ut("Brain",[["path",{d:"M9.5 2A2.5 2.5 0 0 1 12 4.5v15a2.5 2.5 0 0 1-4.96.44 2.5 2.5 0 0 1-2.96-3.08 3 3 0 0 1-.34-5.58 2.5 2.5 0 0 1 1.32-4.24 2.5 2.5 0 0 1 1.98-3A2.5 2.5 0 0 1 9.5 2Z",key:"1mhkh5"}],["path",{d:"M14.5 2A2.5 2.5 0 0 0 12 4.5v15a2.5 2.5 0 0 0 4.96.44 2.5 2.5 0 0 0 2.96-3.08 3 3 0 0 0 .34-5.58 2.5 2.5 0 0 0-1.32-4.24 2.5 2.5 0 0 0-1.98-3A2.5 2.5 0 0 0 14.5 2Z",key:"1d6s00"}]]),Iv=ut("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]),Dl=ut("Calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]]),Lr=ut("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]),bl=ut("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]),Xr=ut("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["polyline",{points:"22 4 12 14.01 9 11.01",key:"6xbx8j"}]]),p4=ut("CheckSquare",[["polyline",{points:"9 11 12 14 22 4",key:"19ybtz"}],["path",{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11",key:"1jnkn4"}]]),k1=ut("Check",[["polyline",{points:"20 6 9 17 4 12",key:"10jjfj"}]]),d$=ut("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),wK=ut("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]),gu=ut("ClipboardCheck",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"m9 14 2 2 4-4",key:"df797q"}]]),U5=ut("Clipboard",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}]]),sr=ut("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),v4=ut("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]),mi=ut("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]),u$=ut("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]),It=ut("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]),wa=ut("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]),NK=ut("ExternalLink",[["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}],["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["line",{x1:"10",x2:"21",y1:"14",y2:"3",key:"18c3s4"}]]),Ol=ut("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),ly=ut("FileCheck",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["path",{d:"m9 15 2 2 4-4",key:"1grp1n"}]]),ls=ut("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]),Na=ut("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]),Dg=ut("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"2",x2:"22",y1:"12",y2:"12",key:"1dnqot"}],["path",{d:"M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z",key:"nb9nel"}]]),SK=ut("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]),j2=ut("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]),CK=ut("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]),yf=ut("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]),AK=ut("Key",[["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["path",{d:"m15.5 7.5 3 3L22 7l-3-3",key:"1rn1fs"}]]),EK=ut("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]),PK=ut("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]),TK=ut("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]),Qr=ut("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]),Ll=ut("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]),ln=ut("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]),Vs=ut("Package",[["path",{d:"M16.5 9.4 7.55 4.24",key:"10qotr"}],["path",{d:"M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z",key:"yt0hxn"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["line",{x1:"12",x2:"12",y1:"22",y2:"12",key:"a4e8g8"}]]),h$=ut("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",key:"1xcu5"}],["circle",{cx:"17.5",cy:"10.5",r:".5",key:"736e4u"}],["circle",{cx:"8.5",cy:"7.5",r:".5",key:"clrty"}],["circle",{cx:"6.5",cy:"12.5",r:".5",key:"1s4xz9"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]),_K=ut("Pause",[["rect",{width:"4",height:"16",x:"6",y:"4",key:"iffhe4"}],["rect",{width:"4",height:"16",x:"14",y:"4",key:"sjin7j"}]]),zr=ut("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]]),f0=ut("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]),kv=ut("Percent",[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]]),am=ut("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]),w2=ut("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]),Nt=ut("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),Pu=ut("Printer",[["polyline",{points:"6 9 6 2 18 2 18 9",key:"1306q4"}],["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["rect",{width:"12",height:"8",x:"6",y:"14",key:"5ipwut"}]]),f$=ut("QrCode",[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]]),Xs=ut("Receipt",[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1-2-1Z",key:"wqdwcb"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17V7",key:"pyj7ub"}]]),bf=ut("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]),Rr=ut("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]),CT=ut("ScrollText",[["path",{d:"M8 21h12a2 2 0 0 0 2-2v-2H10v2a2 2 0 1 1-4 0V5a2 2 0 1 0-4 0v3h4",key:"13a6an"}],["path",{d:"M19 17V5a2 2 0 0 0-2-2H4",key:"zz82l3"}],["path",{d:"M15 8h-5",key:"1khuty"}],["path",{d:"M15 12h-5",key:"r7krc0"}]]),es=ut("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),$o=ut("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]),Dv=ut("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),D1=ut("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z",key:"3xmgem"}]]),g4=ut("Tag",[["path",{d:"M12 2H2v10l9.29 9.29c.94.94 2.48.94 3.42 0l6.58-6.58c.94-.94.94-2.48 0-3.42L12 2Z",key:"14b2ls"}],["path",{d:"M7 7h.01",key:"7u93v4"}]]),ja=ut("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]),IK=ut("ThumbsDown",[["path",{d:"M17 14V2",key:"8ymqnk"}],["path",{d:"M9 18.12 10 14H4.17a2 2 0 0 1-1.92-2.56l2.33-8A2 2 0 0 1 6.5 2H20a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2h-2.76a2 2 0 0 0-1.79 1.11L12 22h0a3.13 3.13 0 0 1-3-3.88Z",key:"s6e0r"}]]),kK=ut("ThumbsUp",[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2h0a3.13 3.13 0 0 1 3 3.88Z",key:"y3tblf"}]]),Sn=ut("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),rf=ut("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]),_t=ut("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]),ma=ut("Truck",[["path",{d:"M10 17h4V5H2v12h3",key:"1jq12e"}],["path",{d:"M20 17h2v-3.34a4 4 0 0 0-1.17-2.83L19 9h-5",key:"1xb3ft"}],["path",{d:"M14 17h1",key:"nufu4t"}],["circle",{cx:"7.5",cy:"17.5",r:"2.5",key:"a7aife"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]]),x4=ut("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]),us=ut("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),On=ut("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]),Vy=ut("Video",[["path",{d:"m22 8-6 4 6 4V8Z",key:"50v9me"}],["rect",{width:"14",height:"12",x:"2",y:"6",rx:"2",ry:"2",key:"1rqjg6"}]]),AT=ut("Webhook",[["path",{d:"M18 16.98h-5.99c-1.1 0-1.95.94-2.48 1.9A4 4 0 0 1 2 17c.01-.7.2-1.4.57-2",key:"q3hayz"}],["path",{d:"m6 17 3.13-5.78c.53-.97.1-2.18-.5-3.1a4 4 0 1 1 6.89-4.06",key:"1go1hn"}],["path",{d:"m12 6 3.13 5.73C15.66 12.7 16.9 13 18 13a4 4 0 0 1 0 8",key:"qlwsc0"}]]),Hd=ut("Wrench",[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]]),to=ut("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]),Ut=ut("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),DK=ut("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]);function OK(){for(var e=0,t,r,s="";e<arguments.length;)(t=arguments[e++])&&(r=m$(t))&&(s&&(s+=" "),s+=r);return s}function m$(e){if(typeof e=="string")return e;for(var t,r="",s=0;s<e.length;s++)e[s]&&(t=m$(e[s]))&&(r&&(r+=" "),r+=t);return r}var y4="-";function LK(e){var t=FK(e),r=e.conflictingClassGroups,s=e.conflictingClassGroupModifiers,a=s===void 0?{}:s;function i(l){var c=l.split(y4);return c[0]===""&&c.length!==1&&c.shift(),p$(c,t)||RK(l)}function o(l,c){var d=r[l]||[];return c&&a[l]?[].concat(d,a[l]):d}return{getClassGroupId:i,getConflictingClassGroupIds:o}}function p$(e,t){var o;if(e.length===0)return t.classGroupId;var r=e[0],s=t.nextPart.get(r),a=s?p$(e.slice(1),s):void 0;if(a)return a;if(t.validators.length!==0){var i=e.join(y4);return(o=t.validators.find(function(l){var c=l.validator;return c(i)}))==null?void 0:o.classGroupId}}var ET=/^\[(.+)\]$/;function RK(e){if(ET.test(e)){var t=ET.exec(e)[1],r=t==null?void 0:t.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}}function FK(e){var t=e.theme,r=e.prefix,s={nextPart:new Map,validators:[]},a=MK(Object.entries(e.classGroups),r);return a.forEach(function(i){var o=i[0],l=i[1];V5(l,s,o,t)}),s}function V5(e,t,r,s){e.forEach(function(a){if(typeof a=="string"){var i=a===""?t:PT(t,a);i.classGroupId=r;return}if(typeof a=="function"){if($K(a)){V5(a(s),t,r,s);return}t.validators.push({validator:a,classGroupId:r});return}Object.entries(a).forEach(function(o){var l=o[0],c=o[1];V5(c,PT(t,l),r,s)})})}function PT(e,t){var r=e;return t.split(y4).forEach(function(s){r.nextPart.has(s)||r.nextPart.set(s,{nextPart:new Map,validators:[]}),r=r.nextPart.get(s)}),r}function $K(e){return e.isThemeGetter}function MK(e,t){return t?e.map(function(r){var s=r[0],a=r[1],i=a.map(function(o){return typeof o=="string"?t+o:typeof o=="object"?Object.fromEntries(Object.entries(o).map(function(l){var c=l[0],d=l[1];return[t+c,d]})):o});return[s,i]}):e}function BK(e){if(e<1)return{get:function(){},set:function(){}};var t=0,r=new Map,s=new Map;function a(i,o){r.set(i,o),t++,t>e&&(t=0,s=r,r=new Map)}return{get:function(o){var l=r.get(o);if(l!==void 0)return l;if((l=s.get(o))!==void 0)return a(o,l),l},set:function(o,l){r.has(o)?r.set(o,l):a(o,l)}}}var v$="!";function zK(e){var t=e.separator||":",r=t.length===1,s=t[0],a=t.length;return function(o){for(var l=[],c=0,d=0,h,u=0;u<o.length;u++){var f=o[u];if(c===0){if(f===s&&(r||o.slice(u,u+a)===t)){l.push(o.slice(d,u)),d=u+a;continue}if(f==="/"){h=u;continue}}f==="["?c++:f==="]"&&c--}var m=l.length===0?o:o.substring(d),v=m.startsWith(v$),x=v?m.substring(1):m,p=h&&h>d?h-d:void 0;return{modifiers:l,hasImportantModifier:v,baseClassName:x,maybePostfixModifierPosition:p}}}function UK(e){if(e.length<=1)return e;var t=[],r=[];return e.forEach(function(s){var a=s[0]==="[";a?(t.push.apply(t,r.sort().concat([s])),r=[]):r.push(s)}),t.push.apply(t,r.sort()),t}function VK(e){return{cache:BK(e.cacheSize),splitModifiers:zK(e),...LK(e)}}var qK=/\s+/;function WK(e,t){var r=t.splitModifiers,s=t.getClassGroupId,a=t.getConflictingClassGroupIds,i=new Set;return e.trim().split(qK).map(function(o){var l=r(o),c=l.modifiers,d=l.hasImportantModifier,h=l.baseClassName,u=l.maybePostfixModifierPosition,f=s(u?h.substring(0,u):h),m=!!u;if(!f){if(!u)return{isTailwindClass:!1,originalClassName:o};if(f=s(h),!f)return{isTailwindClass:!1,originalClassName:o};m=!1}var v=UK(c).join(":"),x=d?v+v$:v;return{isTailwindClass:!0,modifierId:x,classGroupId:f,originalClassName:o,hasPostfixModifier:m}}).reverse().filter(function(o){if(!o.isTailwindClass)return!0;var l=o.modifierId,c=o.classGroupId,d=o.hasPostfixModifier,h=l+c;return i.has(h)?!1:(i.add(h),a(c,d).forEach(function(u){return i.add(l+u)}),!0)}).reverse().map(function(o){return o.originalClassName}).join(" ")}function HK(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var s,a,i,o=l;function l(d){var h=t[0],u=t.slice(1),f=u.reduce(function(m,v){return v(m)},h());return s=VK(f),a=s.cache.get,i=s.cache.set,o=c,c(d)}function c(d){var h=a(d);if(h)return h;var u=WK(d,s);return i(d,u),u}return function(){return o(OK.apply(null,arguments))}}function Jr(e){var t=function(s){return s[e]||[]};return t.isThemeGetter=!0,t}var g$=/^\[(?:([a-z-]+):)?(.+)\]$/i,GK=/^\d+\/\d+$/,KK=new Set(["px","full","screen"]),YK=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,XK=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,QK=/^-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/;function Li(e){return Gd(e)||KK.has(e)||GK.test(e)||q5(e)}function q5(e){return Tu(e,"length",nY)}function JK(e){return Tu(e,"size",x$)}function ZK(e){return Tu(e,"position",x$)}function eY(e){return Tu(e,"url",sY)}function m0(e){return Tu(e,"number",Gd)}function Gd(e){return!Number.isNaN(Number(e))}function tY(e){return e.endsWith("%")&&Gd(e.slice(0,-1))}function mp(e){return TT(e)||Tu(e,"number",TT)}function or(e){return g$.test(e)}function pp(){return!0}function cc(e){return YK.test(e)}function rY(e){return Tu(e,"",aY)}function Tu(e,t,r){var s=g$.exec(e);return s?s[1]?s[1]===t:r(s[2]):!1}function nY(e){return XK.test(e)}function x$(){return!1}function sY(e){return e.startsWith("url(")}function TT(e){return Number.isInteger(Number(e))}function aY(e){return QK.test(e)}function iY(){var e=Jr("colors"),t=Jr("spacing"),r=Jr("blur"),s=Jr("brightness"),a=Jr("borderColor"),i=Jr("borderRadius"),o=Jr("borderSpacing"),l=Jr("borderWidth"),c=Jr("contrast"),d=Jr("grayscale"),h=Jr("hueRotate"),u=Jr("invert"),f=Jr("gap"),m=Jr("gradientColorStops"),v=Jr("gradientColorStopPositions"),x=Jr("inset"),p=Jr("margin"),g=Jr("opacity"),b=Jr("padding"),y=Jr("saturate"),j=Jr("scale"),E=Jr("sepia"),S=Jr("skew"),N=Jr("space"),w=Jr("translate"),_=function(){return["auto","contain","none"]},k=function(){return["auto","hidden","clip","visible","scroll"]},T=function(){return["auto",or,t]},A=function(){return[or,t]},O=function(){return["",Li]},D=function(){return["auto",Gd,or]},F=function(){return["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"]},M=function(){return["solid","dashed","dotted","double","none"]},R=function(){return["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity","plus-lighter"]},B=function(){return["start","end","center","between","around","evenly","stretch"]},U=function(){return["","0",or]},H=function(){return["auto","avoid","all","avoid-page","page","left","right","column"]},q=function(){return[Gd,m0]},L=function(){return[Gd,or]};return{cacheSize:500,theme:{colors:[pp],spacing:[Li],blur:["none","",cc,or],brightness:q(),borderColor:[e],borderRadius:["none","","full",cc,or],borderSpacing:A(),borderWidth:O(),contrast:q(),grayscale:U(),hueRotate:L(),invert:U(),gap:A(),gradientColorStops:[e],gradientColorStopPositions:[tY,q5],inset:T(),margin:T(),opacity:q(),padding:A(),saturate:q(),scale:q(),sepia:U(),skew:L(),space:A(),translate:A()},classGroups:{aspect:[{aspect:["auto","square","video",or]}],container:["container"],columns:[{columns:[cc]}],"break-after":[{"break-after":H()}],"break-before":[{"break-before":H()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none"]}],clear:[{clear:["left","right","both","none"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[].concat(F(),[or])}],overflow:[{overflow:k()}],"overflow-x":[{"overflow-x":k()}],"overflow-y":[{"overflow-y":k()}],overscroll:[{overscroll:_()}],"overscroll-x":[{"overscroll-x":_()}],"overscroll-y":[{"overscroll-y":_()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[x]}],"inset-x":[{"inset-x":[x]}],"inset-y":[{"inset-y":[x]}],start:[{start:[x]}],end:[{end:[x]}],top:[{top:[x]}],right:[{right:[x]}],bottom:[{bottom:[x]}],left:[{left:[x]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",mp]}],basis:[{basis:T()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",or]}],grow:[{grow:U()}],shrink:[{shrink:U()}],order:[{order:["first","last","none",mp]}],"grid-cols":[{"grid-cols":[pp]}],"col-start-end":[{col:["auto",{span:["full",mp]},or]}],"col-start":[{"col-start":D()}],"col-end":[{"col-end":D()}],"grid-rows":[{"grid-rows":[pp]}],"row-start-end":[{row:["auto",{span:[mp]},or]}],"row-start":[{"row-start":D()}],"row-end":[{"row-end":D()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",or]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",or]}],gap:[{gap:[f]}],"gap-x":[{"gap-x":[f]}],"gap-y":[{"gap-y":[f]}],"justify-content":[{justify:["normal"].concat(B())}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal"].concat(B(),["baseline"])}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[].concat(B(),["baseline"])}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[b]}],px:[{px:[b]}],py:[{py:[b]}],ps:[{ps:[b]}],pe:[{pe:[b]}],pt:[{pt:[b]}],pr:[{pr:[b]}],pb:[{pb:[b]}],pl:[{pl:[b]}],m:[{m:[p]}],mx:[{mx:[p]}],my:[{my:[p]}],ms:[{ms:[p]}],me:[{me:[p]}],mt:[{mt:[p]}],mr:[{mr:[p]}],mb:[{mb:[p]}],ml:[{ml:[p]}],"space-x":[{"space-x":[N]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[N]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit",or,t]}],"min-w":[{"min-w":["min","max","fit",or,Li]}],"max-w":[{"max-w":["0","none","full","min","max","fit","prose",{screen:[cc]},cc,or]}],h:[{h:[or,t,"auto","min","max","fit"]}],"min-h":[{"min-h":["min","max","fit",or,Li]}],"max-h":[{"max-h":[or,t,"min","max","fit"]}],"font-size":[{text:["base",cc,q5]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",m0]}],"font-family":[{font:[pp]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",or]}],"line-clamp":[{"line-clamp":["none",Gd,m0]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",or,Li]}],"list-image":[{"list-image":["none",or]}],"list-style-type":[{list:["none","disc","decimal",or]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[g]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[g]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[].concat(M(),["wavy"])}],"text-decoration-thickness":[{decoration:["auto","from-font",Li]}],"underline-offset":[{"underline-offset":["auto",or,Li]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],indent:[{indent:A()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",or]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",or]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[g]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[].concat(F(),[ZK])}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",JK]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},eY]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[v]}],"gradient-via-pos":[{via:[v]}],"gradient-to-pos":[{to:[v]}],"gradient-from":[{from:[m]}],"gradient-via":[{via:[m]}],"gradient-to":[{to:[m]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[g]}],"border-style":[{border:[].concat(M(),["hidden"])}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[g]}],"divide-style":[{divide:M()}],"border-color":[{border:[a]}],"border-color-x":[{"border-x":[a]}],"border-color-y":[{"border-y":[a]}],"border-color-t":[{"border-t":[a]}],"border-color-r":[{"border-r":[a]}],"border-color-b":[{"border-b":[a]}],"border-color-l":[{"border-l":[a]}],"divide-color":[{divide:[a]}],"outline-style":[{outline:[""].concat(M())}],"outline-offset":[{"outline-offset":[or,Li]}],"outline-w":[{outline:[Li]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:O()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[g]}],"ring-offset-w":[{"ring-offset":[Li]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",cc,rY]}],"shadow-color":[{shadow:[pp]}],opacity:[{opacity:[g]}],"mix-blend":[{"mix-blend":R()}],"bg-blend":[{"bg-blend":R()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[s]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",cc,or]}],grayscale:[{grayscale:[d]}],"hue-rotate":[{"hue-rotate":[h]}],invert:[{invert:[u]}],saturate:[{saturate:[y]}],sepia:[{sepia:[E]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[s]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[d]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[h]}],"backdrop-invert":[{"backdrop-invert":[u]}],"backdrop-opacity":[{"backdrop-opacity":[g]}],"backdrop-saturate":[{"backdrop-saturate":[y]}],"backdrop-sepia":[{"backdrop-sepia":[E]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",or]}],duration:[{duration:L()}],ease:[{ease:["linear","in","out","in-out",or]}],delay:[{delay:L()}],animate:[{animate:["none","spin","ping","pulse","bounce",or]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[j]}],"scale-x":[{"scale-x":[j]}],"scale-y":[{"scale-y":[j]}],rotate:[{rotate:[mp,or]}],"translate-x":[{"translate-x":[w]}],"translate-y":[{"translate-y":[w]}],"skew-x":[{"skew-x":[S]}],"skew-y":[{"skew-y":[S]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",or]}],accent:[{accent:["auto",e]}],appearance:["appearance-none"],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",or]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":A()}],"scroll-mx":[{"scroll-mx":A()}],"scroll-my":[{"scroll-my":A()}],"scroll-ms":[{"scroll-ms":A()}],"scroll-me":[{"scroll-me":A()}],"scroll-mt":[{"scroll-mt":A()}],"scroll-mr":[{"scroll-mr":A()}],"scroll-mb":[{"scroll-mb":A()}],"scroll-ml":[{"scroll-ml":A()}],"scroll-p":[{"scroll-p":A()}],"scroll-px":[{"scroll-px":A()}],"scroll-py":[{"scroll-py":A()}],"scroll-ps":[{"scroll-ps":A()}],"scroll-pe":[{"scroll-pe":A()}],"scroll-pt":[{"scroll-pt":A()}],"scroll-pr":[{"scroll-pr":A()}],"scroll-pb":[{"scroll-pb":A()}],"scroll-pl":[{"scroll-pl":A()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","pinch-zoom","manipulation",{pan:["x","left","right","y","up","down"]}]}],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",or]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[Li,m0]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}}var oY=HK(iY);function He(...e){return oY(l$(e))}function _e(e){return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(e)}function ct(e){return new Intl.DateTimeFormat("en-US",{year:"numeric",month:"short",day:"numeric"}).format(new Date(e))}function Gr(e,t){try{localStorage.setItem(e,JSON.stringify(t))}catch(r){console.error("Failed to save to localStorage:",r)}}function mn(e,t){try{const r=localStorage.getItem(e);return r?JSON.parse(r):t}catch(r){return console.error("Failed to load from localStorage:",r),t}}function lY(e){try{localStorage.removeItem(e)}catch(t){console.error("Failed to remove from localStorage:",t)}}const cY=gK,y$=C.forwardRef(({className:e,...t},r)=>n.jsx(t$,{ref:r,className:He("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));y$.displayName=t$.displayName;const dY=I1("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),b$=C.forwardRef(({className:e,variant:t,...r},s)=>n.jsx(r$,{ref:s,className:He(dY({variant:t}),e),...r}));b$.displayName=r$.displayName;const uY=C.forwardRef(({className:e,...t},r)=>n.jsx(a$,{ref:r,className:He("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));uY.displayName=a$.displayName;const j$=C.forwardRef(({className:e,...t},r)=>n.jsx(i$,{ref:r,className:He("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:n.jsx(Ut,{className:"h-4 w-4"})}));j$.displayName=i$.displayName;const w$=C.forwardRef(({className:e,...t},r)=>n.jsx(n$,{ref:r,className:He("text-sm font-semibold",e),...t}));w$.displayName=n$.displayName;const N$=C.forwardRef(({className:e,...t},r)=>n.jsx(s$,{ref:r,className:He("text-sm opacity-90",e),...t}));N$.displayName=s$.displayName;const hY=1,fY=1e6;let N2=0;function mY(){return N2=(N2+1)%Number.MAX_SAFE_INTEGER,N2.toString()}const S2=new Map,_T=e=>{if(S2.has(e))return;const t=setTimeout(()=>{S2.delete(e),Kp({type:"REMOVE_TOAST",toastId:e})},fY);S2.set(e,t)},pY=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,hY)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(r=>r.id===t.toast.id?{...r,...t.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=t;return r?_T(r):e.toasts.forEach(s=>{_T(s.id)}),{...e,toasts:e.toasts.map(s=>s.id===r||r===void 0?{...s,open:!1}:s)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(r=>r.id!==t.toastId)}}},cy=[];let dy={toasts:[]};function Kp(e){dy=pY(dy,e),cy.forEach(t=>{t(dy)})}function vY({...e}){const t=mY(),r=a=>Kp({type:"UPDATE_TOAST",toast:{...a,id:t}}),s=()=>Kp({type:"DISMISS_TOAST",toastId:t});return Kp({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:a=>{a||s()}}}),{id:t,dismiss:s,update:r}}function At(){const[e,t]=C.useState(dy);return C.useEffect(()=>(cy.push(t),()=>{const r=cy.indexOf(t);r>-1&&cy.splice(r,1)}),[e]),{...e,toast:vY,dismiss:r=>Kp({type:"DISMISS_TOAST",toastId:r})}}function gY(){const{toasts:e}=At();return n.jsxs(cY,{children:[e.map(function({id:t,title:r,description:s,action:a,...i}){return n.jsxs(b$,{...i,children:[n.jsxs("div",{className:"grid gap-1",children:[r&&n.jsx(w$,{children:r}),s&&n.jsx(N$,{children:s})]}),a,n.jsx(j$,{})]},t)}),n.jsx(y$,{})]})}var Ki=(e=>(e.ADMIN="admin",e.MANAGER="manager",e.SALES="sales",e.SERVICE="service",e.USER="user",e))(Ki||{}),ii=(e=>(e.TEXT="text",e.NUMBER="number",e.DATE="date",e.BOOLEAN="boolean",e.SELECT="select",e.MULTISELECT="multiselect",e))(ii||{}),ys=(e=>(e.NEW="new",e.CONTACTED="contacted",e.QUALIFIED="qualified",e.PROPOSAL="proposal",e.NEGOTIATION="negotiation",e.CLOSED_WON="closed_won",e.CLOSED_LOST="closed_lost",e))(ys||{}),vt=(e=>(e.RV="rv",e.MOTORHOME="motorhome",e.TRAVEL_TRAILER="travel_trailer",e.FIFTH_WHEEL="fifth_wheel",e.TOY_HAULER="toy_hauler",e.SINGLE_WIDE="single_wide",e.DOUBLE_WIDE="double_wide",e.TRIPLE_WIDE="triple_wide",e.PARK_MODEL="park_model",e.MODULAR_HOME="modular_home",e))(vt||{}),Yt=(e=>(e.AVAILABLE="available",e.RESERVED="reserved",e.SOLD="sold",e.SERVICE="service",e.DELIVERED="delivered",e))(Yt||{}),oi=(e=>(e.DRAFT="draft",e.SENT="sent",e.VIEWED="viewed",e.ACCEPTED="accepted",e.REJECTED="rejected",e.EXPIRED="expired",e))(oi||{}),Kd=(e=>(e.PURCHASE="purchase",e.LEASE="lease",e.SERVICE="service",e.WARRANTY="warranty",e))(Kd||{}),zi=(e=>(e.DRAFT="draft",e.PENDING="pending",e.SIGNED="signed",e.ACTIVE="active",e.EXPIRED="expired",e.CANCELLED="cancelled",e))(zi||{}),rn=(e=>(e.LOW="low",e.MEDIUM="medium",e.HIGH="high",e.URGENT="urgent",e))(rn||{}),lr=(e=>(e.OPEN="open",e.IN_PROGRESS="in_progress",e.WAITING_PARTS="waiting_parts",e.COMPLETED="completed",e.CANCELLED="cancelled",e))(lr||{}),zt=(e=>(e.SCHEDULED="scheduled",e.IN_TRANSIT="in_transit",e.DELIVERED="delivered",e.CANCELLED="cancelled",e))(zt||{}),pr=(e=>(e.FLAT="flat",e.PERCENTAGE="percentage",e.TIERED="tiered",e))(pr||{}),Rt=(e=>(e.PENDING="pending",e.APPROVED="approved",e.PAID="paid",e.CANCELLED="cancelled",e))(Rt||{}),Mt=(e=>(e.DRAFT="draft",e.SENT="sent",e.VIEWED="viewed",e.PAID="paid",e.OVERDUE="overdue",e.CANCELLED="cancelled",e))(Mt||{}),gl=(e=>(e.CASH="cash",e.CHECK="check",e.CREDIT_CARD="credit_card",e.BANK_TRANSFER="bank_transfer",e.FINANCING="financing",e))(gl||{}),Pc=(e=>(e.PENDING="pending",e.PROCESSING="processing",e.COMPLETED="completed",e.FAILED="failed",e.REFUNDED="refunded",e))(Pc||{}),Mr=(e=>(e.SALES="sales",e.INVENTORY="inventory",e.SERVICE="service",e.FINANCIAL="financial",e.CUSTOM="custom",e))(Mr||{});const S$=C.createContext(void 0);function im(){const e=C.useContext(S$);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e}function xY({children:e}){const[t,r]=C.useState(null),[s,a]=C.useState(!0);C.useEffect(()=>{mn("auth_token",null)&&r({id:"1",email:"admin@renterinsight.com",name:"Admin User",role:Ki.ADMIN,tenantId:"tenant-1",permissions:[{id:"1",name:"All Access",resource:"*",action:"*"}],createdAt:new Date,updatedAt:new Date}),a(!1)},[]);const d={user:t,login:async(h,u)=>{a(!0);try{const f={id:"1",email:h,name:"Admin User",role:Ki.ADMIN,tenantId:"tenant-1",permissions:[{id:"1",name:"All Access",resource:"*",action:"*"}],createdAt:new Date,updatedAt:new Date};r(f),Gr("auth_token","mock-token"),a(!1)}catch{throw new Error("Login failed")}finally{}},logout:()=>{r(null),lY("auth_token")},isLoading:s,hasPermission:(h,u)=>t?t.permissions.some(f=>(f.resource==="*"||f.resource===h)&&(f.action==="*"||f.action===u)):!1,hasRole:h=>t?t.role===h||t.role===Ki.ADMIN:!1};return n.jsx(S$.Provider,{value:d,children:e})}const C$=C.createContext(void 0);function om(){const e=C.useContext(C$);if(e===void 0)throw new Error("useTenant must be used within a TenantProvider");return e}function yY({children:e}){const[t,r]=C.useState(null),[s,a]=C.useState([]);C.useEffect(()=>{const u={id:"tenant-1",name:"Demo RV Dealership",domain:"demo.renterinsight.com",settings:{timezone:"America/New_York",currency:"USD",dateFormat:"MM/dd/yyyy",businessHours:{monday:{open:"09:00",close:"18:00",closed:!1},tuesday:{open:"09:00",close:"18:00",closed:!1},wednesday:{open:"09:00",close:"18:00",closed:!1},thursday:{open:"09:00",close:"18:00",closed:!1},friday:{open:"09:00",close:"18:00",closed:!1},saturday:{open:"09:00",close:"17:00",closed:!1},sunday:{open:"12:00",close:"17:00",closed:!1}},features:{crm:!0,inventory:!0,quotes:!0,agreements:!0,service:!0,delivery:!0,commissions:!0,portal:!0,invoices:!0,reports:!0}},customFields:[],branding:{primaryColor:"#3b82f6",secondaryColor:"#64748b",fontFamily:"Inter"},createdAt:new Date,updatedAt:new Date};r(u),a(u.customFields)},[]);const h={tenant:t,customFields:s,getCustomFields:(u,f)=>s.filter(m=>m.module===u&&(f?m.section===f:!0)),updateTenantSettings:async u=>{if(!t)return;const f={...t,settings:{...t.settings,...u},updatedAt:new Date};r(f)},addCustomField:async u=>{const f={...u,id:Math.random().toString(36).substr(2,9)};a(m=>[...m,f])},updateCustomField:async(u,f)=>{a(m=>m.map(v=>v.id===u?{...v,...f}:v))},deleteCustomField:async u=>{a(f=>f.filter(m=>m.id!==u))}};return n.jsx(C$.Provider,{value:h,children:e})}const bY={theme:"system",setTheme:()=>null},jY=C.createContext(bY);function wY({children:e,defaultTheme:t="system",storageKey:r="vite-ui-theme",...s}){const[a,i]=C.useState(()=>localStorage.getItem(r)||t);C.useEffect(()=>{const l=window.document.documentElement;if(l.classList.remove("light","dark"),a==="system"){const c=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light";l.classList.add(c);return}l.classList.add(a)},[a]);const o={theme:a,setTheme:l=>{localStorage.setItem(r,l),i(l)}};return n.jsx(jY.Provider,{...s,value:o,children:e})}const NY=[{name:"Dashboard",href:"/",icon:CK},{name:"CRM & Prospecting",href:"/crm",icon:On},{name:"Inventory Management",href:"/inventory",icon:Vs},{name:"Sales Deals",href:"/deals",icon:ja},{name:"Finance",href:"/finance",icon:It},{name:"Quote Builder",href:"/quotes",icon:ls},{name:"Agreement Vault",href:"/agreements",icon:ly},{name:"PDI Checklist",href:"/pdi",icon:gu},{name:"Service Operations",href:"/service",icon:Hd},{name:"Delivery Tracker",href:"/delivery",icon:ma},{name:"Commission Engine",href:"/commissions",icon:It},{name:"Client Portal",href:"/portal",icon:Dg},{name:"Invoice & Payments",href:"/invoices",icon:Xs},{name:"Company Settings",href:"/settings",icon:Dv},{name:"Platform Admin",href:"/admin",icon:D1},{name:"Reporting Suite",href:"/reports",icon:Bn}];function SY(){const e=sm();return n.jsx("div",{className:"hidden lg:fixed lg:inset-y-0 lg:z-50 lg:flex lg:w-64 lg:flex-col",children:n.jsxs("div",{className:"flex grow flex-col gap-y-5 overflow-y-auto border-r border-border bg-card px-6 pb-4",children:[n.jsx("div",{className:"flex h-16 shrink-0 items-center",children:n.jsx("h1",{className:"text-xl font-bold text-primary",children:"Renter Insight"})}),n.jsx("nav",{className:"flex flex-1 flex-col",children:n.jsx("ul",{role:"list",className:"flex flex-1 flex-col gap-y-7",children:n.jsx("li",{children:n.jsx("ul",{role:"list",className:"-mx-2 space-y-1",children:NY.map(t=>{const r=e.pathname===t.href||t.href!=="/"&&e.pathname.startsWith(t.href);return n.jsx("li",{children:n.jsxs(CG,{to:t.href,className:He("group flex gap-x-3 rounded-md p-2 text-sm leading-6 font-semibold transition-colors",r?"bg-primary text-primary-foreground":"text-muted-foreground hover:text-foreground hover:bg-accent"),children:[n.jsx(t.icon,{className:He("h-6 w-6 shrink-0",r?"text-primary-foreground":"text-muted-foreground group-hover:text-foreground"),"aria-hidden":"true"}),t.name]})},t.name)})})})})})]})})}const CY=I1("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),J=C.forwardRef(({className:e,variant:t,size:r,asChild:s=!1,...a},i)=>{const o=s?PG:"button";return n.jsx(o,{className:He(CY({variant:t,size:r,className:e})),ref:i,...a})});J.displayName="Button";function AY(){const{user:e,logout:t}=im(),{tenant:r}=om();return n.jsx("div",{className:"sticky top-0 z-40 flex h-16 shrink-0 items-center gap-x-4 border-b border-border bg-background px-4 shadow-sm sm:gap-x-6 sm:px-6 lg:px-8",children:n.jsxs("div",{className:"flex flex-1 gap-x-4 self-stretch lg:gap-x-6",children:[n.jsx("div",{className:"flex flex-1 items-center",children:n.jsx("h2",{className:"text-lg font-semibold text-foreground",children:(r==null?void 0:r.name)||"Renter Insight CRM/DMS"})}),n.jsxs("div",{className:"flex items-center gap-x-4 lg:gap-x-6",children:[n.jsxs("div",{className:"flex items-center gap-x-2",children:[n.jsx(us,{className:"h-5 w-5 text-muted-foreground"}),n.jsx("span",{className:"text-sm font-medium text-foreground",children:e==null?void 0:e.name})]}),n.jsxs(J,{variant:"ghost",size:"sm",onClick:t,className:"flex items-center gap-x-2",children:[n.jsx(TK,{className:"h-4 w-4"}),"Logout"]})]})]})})}function EY({children:e}){return n.jsxs("div",{className:"min-h-screen bg-background",children:[n.jsx(SY,{}),n.jsxs("div",{className:"lg:pl-64",children:[n.jsx(AY,{}),n.jsx("main",{className:"py-6",children:n.jsx("div",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8",children:e})})]})]})}const de=C.forwardRef(({className:e,...t},r)=>n.jsx("div",{ref:r,className:He("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));de.displayName="Card";const ye=C.forwardRef(({className:e,...t},r)=>n.jsx("div",{ref:r,className:He("flex flex-col space-y-1.5 p-6",e),...t}));ye.displayName="CardHeader";const be=C.forwardRef(({className:e,...t},r)=>n.jsx("h3",{ref:r,className:He("text-2xl font-semibold leading-none tracking-tight",e),...t}));be.displayName="CardTitle";const $e=C.forwardRef(({className:e,...t},r)=>n.jsx("p",{ref:r,className:He("text-sm text-muted-foreground",e),...t}));$e.displayName="CardDescription";const ue=C.forwardRef(({className:e,...t},r)=>n.jsx("div",{ref:r,className:He("p-6 pt-0",e),...t}));ue.displayName="CardContent";const PY=C.forwardRef(({className:e,...t},r)=>n.jsx("div",{ref:r,className:He("flex items-center p-6 pt-0",e),...t}));PY.displayName="CardFooter";const Pe=C.forwardRef(({className:e,type:t,...r},s)=>n.jsx("input",{type:t,className:He("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:s,...r}));Pe.displayName="Input";const tr=C.forwardRef(({className:e,...t},r)=>n.jsx("textarea",{className:He("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,...t}));tr.displayName="Textarea";function st(){return st=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)({}).hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},st.apply(null,arguments)}function IT(e,[t,r]){return Math.min(r,Math.max(t,e))}function Qs(e,t,{checkForDefaultPrevented:r=!0}={}){return function(a){if(e==null||e(a),r===!1||!a.defaultPrevented)return t==null?void 0:t(a)}}function TY(e,t=[]){let r=[];function s(i,o){const l=C.createContext(o),c=r.length;r=[...r,o];function d(u){const{scope:f,children:m,...v}=u,x=(f==null?void 0:f[e][c])||l,p=C.useMemo(()=>v,Object.values(v));return C.createElement(x.Provider,{value:p},m)}function h(u,f){const m=(f==null?void 0:f[e][c])||l,v=C.useContext(m);if(v)return v;if(o!==void 0)return o;throw new Error(`\`${u}\` must be used within \`${i}\``)}return d.displayName=i+"Provider",[d,h]}const a=()=>{const i=r.map(o=>C.createContext(o));return function(l){const c=(l==null?void 0:l[e])||i;return C.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return a.scopeName=e,[s,_Y(a,...t)]}function _Y(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const s=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(i){const o=s.reduce((l,{useScope:c,scopeName:d})=>{const u=c(i)[`__scope${d}`];return{...l,...u}},{});return C.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}function IY(e,t){typeof e=="function"?e(t):e!=null&&(e.current=t)}function A$(...e){return t=>e.forEach(r=>IY(r,t))}function kT(...e){return C.useCallback(A$(...e),e)}const W5=C.forwardRef((e,t)=>{const{children:r,...s}=e,a=C.Children.toArray(r),i=a.find(DY);if(i){const o=i.props.children,l=a.map(c=>c===i?C.Children.count(o)>1?C.Children.only(null):C.isValidElement(o)?o.props.children:null:c);return C.createElement(H5,st({},s,{ref:t}),C.isValidElement(o)?C.cloneElement(o,void 0,l):null)}return C.createElement(H5,st({},s,{ref:t}),r)});W5.displayName="Slot";const H5=C.forwardRef((e,t)=>{const{children:r,...s}=e;return C.isValidElement(r)?C.cloneElement(r,{...OY(s,r.props),ref:t?A$(t,r.ref):r.ref}):C.Children.count(r)>1?C.Children.only(null):null});H5.displayName="SlotClone";const kY=({children:e})=>C.createElement(C.Fragment,null,e);function DY(e){return C.isValidElement(e)&&e.type===kY}function OY(e,t){const r={...t};for(const s in t){const a=e[s],i=t[s];/^on[A-Z]/.test(s)?a&&i?r[s]=(...l)=>{i(...l),a(...l)}:a&&(r[s]=a):s==="style"?r[s]={...a,...i}:s==="className"&&(r[s]=[a,i].filter(Boolean).join(" "))}return{...e,...r}}function LY(e){const t=e+"CollectionProvider",[r,s]=TY(t),[a,i]=r(t,{collectionRef:{current:null},itemMap:new Map}),o=m=>{const{scope:v,children:x}=m,p=pe.useRef(null),g=pe.useRef(new Map).current;return pe.createElement(a,{scope:v,itemMap:g,collectionRef:p},x)},l=e+"CollectionSlot",c=pe.forwardRef((m,v)=>{const{scope:x,children:p}=m,g=i(l,x),b=kT(v,g.collectionRef);return pe.createElement(W5,{ref:b},p)}),d=e+"CollectionItemSlot",h="data-radix-collection-item",u=pe.forwardRef((m,v)=>{const{scope:x,children:p,...g}=m,b=pe.useRef(null),y=kT(v,b),j=i(d,x);return pe.useEffect(()=>(j.itemMap.set(b,{ref:b,...g}),()=>void j.itemMap.delete(b))),pe.createElement(W5,{[h]:"",ref:y},p)});function f(m){const v=i(e+"CollectionConsumer",m);return pe.useCallback(()=>{const p=v.collectionRef.current;if(!p)return[];const g=Array.from(p.querySelectorAll(`[${h}]`));return Array.from(v.itemMap.values()).sort((j,E)=>g.indexOf(j.ref.current)-g.indexOf(E.ref.current))},[v.collectionRef,v.itemMap])}return[{Provider:o,Slot:c,ItemSlot:u},f,s]}function RY(e,t){typeof e=="function"?e(t):e!=null&&(e.current=t)}function E$(...e){return t=>e.forEach(r=>RY(r,t))}function Ko(...e){return C.useCallback(E$(...e),e)}function FY(e,t=[]){let r=[];function s(i,o){const l=C.createContext(o),c=r.length;r=[...r,o];function d(u){const{scope:f,children:m,...v}=u,x=(f==null?void 0:f[e][c])||l,p=C.useMemo(()=>v,Object.values(v));return C.createElement(x.Provider,{value:p},m)}function h(u,f){const m=(f==null?void 0:f[e][c])||l,v=C.useContext(m);if(v)return v;if(o!==void 0)return o;throw new Error(`\`${u}\` must be used within \`${i}\``)}return d.displayName=i+"Provider",[d,h]}const a=()=>{const i=r.map(o=>C.createContext(o));return function(l){const c=(l==null?void 0:l[e])||i;return C.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return a.scopeName=e,[s,$Y(a,...t)]}function $Y(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const s=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(i){const o=s.reduce((l,{useScope:c,scopeName:d})=>{const u=c(i)[`__scope${d}`];return{...l,...u}},{});return C.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}const MY=C.createContext(void 0);function BY(e){const t=C.useContext(MY);return e||t||"ltr"}function C2(e,t,{checkForDefaultPrevented:r=!0}={}){return function(a){if(e==null||e(a),r===!1||!a.defaultPrevented)return t==null?void 0:t(a)}}function zY(e,t){typeof e=="function"?e(t):e!=null&&(e.current=t)}function P$(...e){return t=>e.forEach(r=>zY(r,t))}function UY(...e){return C.useCallback(P$(...e),e)}const T$=C.forwardRef((e,t)=>{const{children:r,...s}=e,a=C.Children.toArray(r),i=a.find(qY);if(i){const o=i.props.children,l=a.map(c=>c===i?C.Children.count(o)>1?C.Children.only(null):C.isValidElement(o)?o.props.children:null:c);return C.createElement(G5,st({},s,{ref:t}),C.isValidElement(o)?C.cloneElement(o,void 0,l):null)}return C.createElement(G5,st({},s,{ref:t}),r)});T$.displayName="Slot";const G5=C.forwardRef((e,t)=>{const{children:r,...s}=e;return C.isValidElement(r)?C.cloneElement(r,{...WY(s,r.props),ref:t?P$(t,r.ref):r.ref}):C.Children.count(r)>1?C.Children.only(null):null});G5.displayName="SlotClone";const VY=({children:e})=>C.createElement(C.Fragment,null,e);function qY(e){return C.isValidElement(e)&&e.type===VY}function WY(e,t){const r={...t};for(const s in t){const a=e[s],i=t[s];/^on[A-Z]/.test(s)?a&&i?r[s]=(...l)=>{i(...l),a(...l)}:a&&(r[s]=a):s==="style"?r[s]={...a,...i}:s==="className"&&(r[s]=[a,i].filter(Boolean).join(" "))}return{...e,...r}}const HY=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],GY=HY.reduce((e,t)=>{const r=C.forwardRef((s,a)=>{const{asChild:i,...o}=s,l=i?T$:t;return C.useEffect(()=>{window[Symbol.for("radix-ui")]=!0},[]),C.createElement(l,st({},o,{ref:a}))});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function KY(e,t){e&&Vl.flushSync(()=>e.dispatchEvent(t))}function Rl(e){const t=C.useRef(e);return C.useEffect(()=>{t.current=e}),C.useMemo(()=>(...r)=>{var s;return(s=t.current)===null||s===void 0?void 0:s.call(t,...r)},[])}function YY(e,t=globalThis==null?void 0:globalThis.document){const r=Rl(e);C.useEffect(()=>{const s=a=>{a.key==="Escape"&&r(a)};return t.addEventListener("keydown",s),()=>t.removeEventListener("keydown",s)},[r,t])}const K5="dismissableLayer.update",XY="dismissableLayer.pointerDownOutside",QY="dismissableLayer.focusOutside";let DT;const JY=C.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),ZY=C.forwardRef((e,t)=>{var r;const{disableOutsidePointerEvents:s=!1,onEscapeKeyDown:a,onPointerDownOutside:i,onFocusOutside:o,onInteractOutside:l,onDismiss:c,...d}=e,h=C.useContext(JY),[u,f]=C.useState(null),m=(r=u==null?void 0:u.ownerDocument)!==null&&r!==void 0?r:globalThis==null?void 0:globalThis.document,[,v]=C.useState({}),x=UY(t,w=>f(w)),p=Array.from(h.layers),[g]=[...h.layersWithOutsidePointerEventsDisabled].slice(-1),b=p.indexOf(g),y=u?p.indexOf(u):-1,j=h.layersWithOutsidePointerEventsDisabled.size>0,E=y>=b,S=eX(w=>{const _=w.target,k=[...h.branches].some(T=>T.contains(_));!E||k||(i==null||i(w),l==null||l(w),w.defaultPrevented||c==null||c())},m),N=tX(w=>{const _=w.target;[...h.branches].some(T=>T.contains(_))||(o==null||o(w),l==null||l(w),w.defaultPrevented||c==null||c())},m);return YY(w=>{y===h.layers.size-1&&(a==null||a(w),!w.defaultPrevented&&c&&(w.preventDefault(),c()))},m),C.useEffect(()=>{if(u)return s&&(h.layersWithOutsidePointerEventsDisabled.size===0&&(DT=m.body.style.pointerEvents,m.body.style.pointerEvents="none"),h.layersWithOutsidePointerEventsDisabled.add(u)),h.layers.add(u),OT(),()=>{s&&h.layersWithOutsidePointerEventsDisabled.size===1&&(m.body.style.pointerEvents=DT)}},[u,m,s,h]),C.useEffect(()=>()=>{u&&(h.layers.delete(u),h.layersWithOutsidePointerEventsDisabled.delete(u),OT())},[u,h]),C.useEffect(()=>{const w=()=>v({});return document.addEventListener(K5,w),()=>document.removeEventListener(K5,w)},[]),C.createElement(GY.div,st({},d,{ref:x,style:{pointerEvents:j?E?"auto":"none":void 0,...e.style},onFocusCapture:C2(e.onFocusCapture,N.onFocusCapture),onBlurCapture:C2(e.onBlurCapture,N.onBlurCapture),onPointerDownCapture:C2(e.onPointerDownCapture,S.onPointerDownCapture)}))});function eX(e,t=globalThis==null?void 0:globalThis.document){const r=Rl(e),s=C.useRef(!1),a=C.useRef(()=>{});return C.useEffect(()=>{const i=l=>{if(l.target&&!s.current){let d=function(){_$(XY,r,c,{discrete:!0})};const c={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",a.current),a.current=d,t.addEventListener("click",a.current,{once:!0})):d()}s.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",i),t.removeEventListener("click",a.current)}},[t,r]),{onPointerDownCapture:()=>s.current=!0}}function tX(e,t=globalThis==null?void 0:globalThis.document){const r=Rl(e),s=C.useRef(!1);return C.useEffect(()=>{const a=i=>{i.target&&!s.current&&_$(QY,r,{originalEvent:i},{discrete:!1})};return t.addEventListener("focusin",a),()=>t.removeEventListener("focusin",a)},[t,r]),{onFocusCapture:()=>s.current=!0,onBlurCapture:()=>s.current=!1}}function OT(){const e=new CustomEvent(K5);document.dispatchEvent(e)}function _$(e,t,r,{discrete:s}){const a=r.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&a.addEventListener(e,t,{once:!0}),s?KY(a,i):a.dispatchEvent(i)}let A2=0;function rX(){C.useEffect(()=>{var e,t;const r=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",(e=r[0])!==null&&e!==void 0?e:LT()),document.body.insertAdjacentElement("beforeend",(t=r[1])!==null&&t!==void 0?t:LT()),A2++,()=>{A2===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(s=>s.remove()),A2--}},[])}function LT(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.cssText="outline: none; opacity: 0; position: fixed; pointer-events: none",e}function nX(e,t){typeof e=="function"?e(t):e!=null&&(e.current=t)}function I$(...e){return t=>e.forEach(r=>nX(r,t))}function sX(...e){return C.useCallback(I$(...e),e)}const k$=C.forwardRef((e,t)=>{const{children:r,...s}=e,a=C.Children.toArray(r),i=a.find(iX);if(i){const o=i.props.children,l=a.map(c=>c===i?C.Children.count(o)>1?C.Children.only(null):C.isValidElement(o)?o.props.children:null:c);return C.createElement(Y5,st({},s,{ref:t}),C.isValidElement(o)?C.cloneElement(o,void 0,l):null)}return C.createElement(Y5,st({},s,{ref:t}),r)});k$.displayName="Slot";const Y5=C.forwardRef((e,t)=>{const{children:r,...s}=e;return C.isValidElement(r)?C.cloneElement(r,{...oX(s,r.props),ref:t?I$(t,r.ref):r.ref}):C.Children.count(r)>1?C.Children.only(null):null});Y5.displayName="SlotClone";const aX=({children:e})=>C.createElement(C.Fragment,null,e);function iX(e){return C.isValidElement(e)&&e.type===aX}function oX(e,t){const r={...t};for(const s in t){const a=e[s],i=t[s];/^on[A-Z]/.test(s)?a&&i?r[s]=(...l)=>{i(...l),a(...l)}:a&&(r[s]=a):s==="style"?r[s]={...a,...i}:s==="className"&&(r[s]=[a,i].filter(Boolean).join(" "))}return{...e,...r}}const lX=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],cX=lX.reduce((e,t)=>{const r=C.forwardRef((s,a)=>{const{asChild:i,...o}=s,l=i?k$:t;return C.useEffect(()=>{window[Symbol.for("radix-ui")]=!0},[]),C.createElement(l,st({},o,{ref:a}))});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{}),E2="focusScope.autoFocusOnMount",P2="focusScope.autoFocusOnUnmount",RT={bubbles:!1,cancelable:!0},dX=C.forwardRef((e,t)=>{const{loop:r=!1,trapped:s=!1,onMountAutoFocus:a,onUnmountAutoFocus:i,...o}=e,[l,c]=C.useState(null),d=Rl(a),h=Rl(i),u=C.useRef(null),f=sX(t,x=>c(x)),m=C.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;C.useEffect(()=>{if(s){let x=function(y){if(m.paused||!l)return;const j=y.target;l.contains(j)?u.current=j:hc(u.current,{select:!0})},p=function(y){if(m.paused||!l)return;const j=y.relatedTarget;j!==null&&(l.contains(j)||hc(u.current,{select:!0}))},g=function(y){const j=document.activeElement;for(const E of y)E.removedNodes.length>0&&(l!=null&&l.contains(j)||hc(l))};document.addEventListener("focusin",x),document.addEventListener("focusout",p);const b=new MutationObserver(g);return l&&b.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",x),document.removeEventListener("focusout",p),b.disconnect()}}},[s,l,m.paused]),C.useEffect(()=>{if(l){$T.add(m);const x=document.activeElement;if(!l.contains(x)){const g=new CustomEvent(E2,RT);l.addEventListener(E2,d),l.dispatchEvent(g),g.defaultPrevented||(uX(vX(D$(l)),{select:!0}),document.activeElement===x&&hc(l))}return()=>{l.removeEventListener(E2,d),setTimeout(()=>{const g=new CustomEvent(P2,RT);l.addEventListener(P2,h),l.dispatchEvent(g),g.defaultPrevented||hc(x??document.body,{select:!0}),l.removeEventListener(P2,h),$T.remove(m)},0)}}},[l,d,h,m]);const v=C.useCallback(x=>{if(!r&&!s||m.paused)return;const p=x.key==="Tab"&&!x.altKey&&!x.ctrlKey&&!x.metaKey,g=document.activeElement;if(p&&g){const b=x.currentTarget,[y,j]=hX(b);y&&j?!x.shiftKey&&g===j?(x.preventDefault(),r&&hc(y,{select:!0})):x.shiftKey&&g===y&&(x.preventDefault(),r&&hc(j,{select:!0})):g===b&&x.preventDefault()}},[r,s,m.paused]);return C.createElement(cX.div,st({tabIndex:-1},o,{ref:f,onKeyDown:v}))});function uX(e,{select:t=!1}={}){const r=document.activeElement;for(const s of e)if(hc(s,{select:t}),document.activeElement!==r)return}function hX(e){const t=D$(e),r=FT(t,e),s=FT(t.reverse(),e);return[r,s]}function D$(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:s=>{const a=s.tagName==="INPUT"&&s.type==="hidden";return s.disabled||s.hidden||a?NodeFilter.FILTER_SKIP:s.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function FT(e,t){for(const r of e)if(!fX(r,{upTo:t}))return r}function fX(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function mX(e){return e instanceof HTMLInputElement&&"select"in e}function hc(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&mX(e)&&t&&e.select()}}const $T=pX();function pX(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=MT(e,t),e.unshift(t)},remove(t){var r;e=MT(e,t),(r=e[0])===null||r===void 0||r.resume()}}}function MT(e,t){const r=[...e],s=r.indexOf(t);return s!==-1&&r.splice(s,1),r}function vX(e){return e.filter(t=>t.tagName!=="A")}const gX=globalThis!=null&&globalThis.document?C.useLayoutEffect:()=>{},xX=Eg["useId".toString()]||(()=>{});let yX=0;function O$(e){const[t,r]=C.useState(xX());return gX(()=>{e||r(s=>s??String(yX++))},[e]),e||(t?`radix-${t}`:"")}const bX=["top","right","bottom","left"],Xc=Math.min,La=Math.max,qy=Math.round,p0=Math.floor,Mo=e=>({x:e,y:e}),jX={left:"right",right:"left",bottom:"top",top:"bottom"},wX={start:"end",end:"start"};function X5(e,t,r){return La(e,Xc(t,r))}function Fl(e,t){return typeof e=="function"?e(t):e}function $l(e){return e.split("-")[0]}function lm(e){return e.split("-")[1]}function b4(e){return e==="x"?"y":"x"}function j4(e){return e==="y"?"height":"width"}const NX=new Set(["top","bottom"]);function ko(e){return NX.has($l(e))?"y":"x"}function w4(e){return b4(ko(e))}function SX(e,t,r){r===void 0&&(r=!1);const s=lm(e),a=w4(e),i=j4(a);let o=a==="x"?s===(r?"end":"start")?"right":"left":s==="start"?"bottom":"top";return t.reference[i]>t.floating[i]&&(o=Wy(o)),[o,Wy(o)]}function CX(e){const t=Wy(e);return[Q5(e),t,Q5(t)]}function Q5(e){return e.replace(/start|end/g,t=>wX[t])}const BT=["left","right"],zT=["right","left"],AX=["top","bottom"],EX=["bottom","top"];function PX(e,t,r){switch(e){case"top":case"bottom":return r?t?zT:BT:t?BT:zT;case"left":case"right":return t?AX:EX;default:return[]}}function TX(e,t,r,s){const a=lm(e);let i=PX($l(e),r==="start",s);return a&&(i=i.map(o=>o+"-"+a),t&&(i=i.concat(i.map(Q5)))),i}function Wy(e){return e.replace(/left|right|bottom|top/g,t=>jX[t])}function _X(e){return{top:0,right:0,bottom:0,left:0,...e}}function L$(e){return typeof e!="number"?_X(e):{top:e,right:e,bottom:e,left:e}}function Hy(e){const{x:t,y:r,width:s,height:a}=e;return{width:s,height:a,top:r,left:t,right:t+s,bottom:r+a,x:t,y:r}}function UT(e,t,r){let{reference:s,floating:a}=e;const i=ko(t),o=w4(t),l=j4(o),c=$l(t),d=i==="y",h=s.x+s.width/2-a.width/2,u=s.y+s.height/2-a.height/2,f=s[l]/2-a[l]/2;let m;switch(c){case"top":m={x:h,y:s.y-a.height};break;case"bottom":m={x:h,y:s.y+s.height};break;case"right":m={x:s.x+s.width,y:u};break;case"left":m={x:s.x-a.width,y:u};break;default:m={x:s.x,y:s.y}}switch(lm(t)){case"start":m[o]-=f*(r&&d?-1:1);break;case"end":m[o]+=f*(r&&d?-1:1);break}return m}const IX=async(e,t,r)=>{const{placement:s="bottom",strategy:a="absolute",middleware:i=[],platform:o}=r,l=i.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(t));let d=await o.getElementRects({reference:e,floating:t,strategy:a}),{x:h,y:u}=UT(d,s,c),f=s,m={},v=0;for(let x=0;x<l.length;x++){const{name:p,fn:g}=l[x],{x:b,y,data:j,reset:E}=await g({x:h,y:u,initialPlacement:s,placement:f,strategy:a,middlewareData:m,rects:d,platform:o,elements:{reference:e,floating:t}});h=b??h,u=y??u,m={...m,[p]:{...m[p],...j}},E&&v<=50&&(v++,typeof E=="object"&&(E.placement&&(f=E.placement),E.rects&&(d=E.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:a}):E.rects),{x:h,y:u}=UT(d,f,c)),x=-1)}return{x:h,y:u,placement:f,strategy:a,middlewareData:m}};async function Ov(e,t){var r;t===void 0&&(t={});const{x:s,y:a,platform:i,rects:o,elements:l,strategy:c}=e,{boundary:d="clippingAncestors",rootBoundary:h="viewport",elementContext:u="floating",altBoundary:f=!1,padding:m=0}=Fl(t,e),v=L$(m),p=l[f?u==="floating"?"reference":"floating":u],g=Hy(await i.getClippingRect({element:(r=await(i.isElement==null?void 0:i.isElement(p)))==null||r?p:p.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(l.floating)),boundary:d,rootBoundary:h,strategy:c})),b=u==="floating"?{x:s,y:a,width:o.floating.width,height:o.floating.height}:o.reference,y=await(i.getOffsetParent==null?void 0:i.getOffsetParent(l.floating)),j=await(i.isElement==null?void 0:i.isElement(y))?await(i.getScale==null?void 0:i.getScale(y))||{x:1,y:1}:{x:1,y:1},E=Hy(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:b,offsetParent:y,strategy:c}):b);return{top:(g.top-E.top+v.top)/j.y,bottom:(E.bottom-g.bottom+v.bottom)/j.y,left:(g.left-E.left+v.left)/j.x,right:(E.right-g.right+v.right)/j.x}}const kX=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:s,placement:a,rects:i,platform:o,elements:l,middlewareData:c}=t,{element:d,padding:h=0}=Fl(e,t)||{};if(d==null)return{};const u=L$(h),f={x:r,y:s},m=w4(a),v=j4(m),x=await o.getDimensions(d),p=m==="y",g=p?"top":"left",b=p?"bottom":"right",y=p?"clientHeight":"clientWidth",j=i.reference[v]+i.reference[m]-f[m]-i.floating[v],E=f[m]-i.reference[m],S=await(o.getOffsetParent==null?void 0:o.getOffsetParent(d));let N=S?S[y]:0;(!N||!await(o.isElement==null?void 0:o.isElement(S)))&&(N=l.floating[y]||i.floating[v]);const w=j/2-E/2,_=N/2-x[v]/2-1,k=Xc(u[g],_),T=Xc(u[b],_),A=k,O=N-x[v]-T,D=N/2-x[v]/2+w,F=X5(A,D,O),M=!c.arrow&&lm(a)!=null&&D!==F&&i.reference[v]/2-(D<A?k:T)-x[v]/2<0,R=M?D<A?D-A:D-O:0;return{[m]:f[m]+R,data:{[m]:F,centerOffset:D-F-R,...M&&{alignmentOffset:R}},reset:M}}}),DX=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,s;const{placement:a,middlewareData:i,rects:o,initialPlacement:l,platform:c,elements:d}=t,{mainAxis:h=!0,crossAxis:u=!0,fallbackPlacements:f,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:v="none",flipAlignment:x=!0,...p}=Fl(e,t);if((r=i.arrow)!=null&&r.alignmentOffset)return{};const g=$l(a),b=ko(l),y=$l(l)===l,j=await(c.isRTL==null?void 0:c.isRTL(d.floating)),E=f||(y||!x?[Wy(l)]:CX(l)),S=v!=="none";!f&&S&&E.push(...TX(l,x,v,j));const N=[l,...E],w=await Ov(t,p),_=[];let k=((s=i.flip)==null?void 0:s.overflows)||[];if(h&&_.push(w[g]),u){const D=SX(a,o,j);_.push(w[D[0]],w[D[1]])}if(k=[...k,{placement:a,overflows:_}],!_.every(D=>D<=0)){var T,A;const D=(((T=i.flip)==null?void 0:T.index)||0)+1,F=N[D];if(F&&(!(u==="alignment"?b!==ko(F):!1)||k.every(B=>B.overflows[0]>0&&ko(B.placement)===b)))return{data:{index:D,overflows:k},reset:{placement:F}};let M=(A=k.filter(R=>R.overflows[0]<=0).sort((R,B)=>R.overflows[1]-B.overflows[1])[0])==null?void 0:A.placement;if(!M)switch(m){case"bestFit":{var O;const R=(O=k.filter(B=>{if(S){const U=ko(B.placement);return U===b||U==="y"}return!0}).map(B=>[B.placement,B.overflows.filter(U=>U>0).reduce((U,H)=>U+H,0)]).sort((B,U)=>B[1]-U[1])[0])==null?void 0:O[0];R&&(M=R);break}case"initialPlacement":M=l;break}if(a!==M)return{reset:{placement:M}}}return{}}}};function VT(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function qT(e){return bX.some(t=>e[t]>=0)}const OX=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r}=t,{strategy:s="referenceHidden",...a}=Fl(e,t);switch(s){case"referenceHidden":{const i=await Ov(t,{...a,elementContext:"reference"}),o=VT(i,r.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:qT(o)}}}case"escaped":{const i=await Ov(t,{...a,altBoundary:!0}),o=VT(i,r.floating);return{data:{escapedOffsets:o,escaped:qT(o)}}}default:return{}}}}},R$=new Set(["left","top"]);async function LX(e,t){const{placement:r,platform:s,elements:a}=e,i=await(s.isRTL==null?void 0:s.isRTL(a.floating)),o=$l(r),l=lm(r),c=ko(r)==="y",d=R$.has(o)?-1:1,h=i&&c?-1:1,u=Fl(t,e);let{mainAxis:f,crossAxis:m,alignmentAxis:v}=typeof u=="number"?{mainAxis:u,crossAxis:0,alignmentAxis:null}:{mainAxis:u.mainAxis||0,crossAxis:u.crossAxis||0,alignmentAxis:u.alignmentAxis};return l&&typeof v=="number"&&(m=l==="end"?v*-1:v),c?{x:m*h,y:f*d}:{x:f*d,y:m*h}}const RX=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,s;const{x:a,y:i,placement:o,middlewareData:l}=t,c=await LX(t,e);return o===((r=l.offset)==null?void 0:r.placement)&&(s=l.arrow)!=null&&s.alignmentOffset?{}:{x:a+c.x,y:i+c.y,data:{...c,placement:o}}}}},FX=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:s,placement:a}=t,{mainAxis:i=!0,crossAxis:o=!1,limiter:l={fn:p=>{let{x:g,y:b}=p;return{x:g,y:b}}},...c}=Fl(e,t),d={x:r,y:s},h=await Ov(t,c),u=ko($l(a)),f=b4(u);let m=d[f],v=d[u];if(i){const p=f==="y"?"top":"left",g=f==="y"?"bottom":"right",b=m+h[p],y=m-h[g];m=X5(b,m,y)}if(o){const p=u==="y"?"top":"left",g=u==="y"?"bottom":"right",b=v+h[p],y=v-h[g];v=X5(b,v,y)}const x=l.fn({...t,[f]:m,[u]:v});return{...x,data:{x:x.x-r,y:x.y-s,enabled:{[f]:i,[u]:o}}}}}},$X=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:s,placement:a,rects:i,middlewareData:o}=t,{offset:l=0,mainAxis:c=!0,crossAxis:d=!0}=Fl(e,t),h={x:r,y:s},u=ko(a),f=b4(u);let m=h[f],v=h[u];const x=Fl(l,t),p=typeof x=="number"?{mainAxis:x,crossAxis:0}:{mainAxis:0,crossAxis:0,...x};if(c){const y=f==="y"?"height":"width",j=i.reference[f]-i.floating[y]+p.mainAxis,E=i.reference[f]+i.reference[y]-p.mainAxis;m<j?m=j:m>E&&(m=E)}if(d){var g,b;const y=f==="y"?"width":"height",j=R$.has($l(a)),E=i.reference[u]-i.floating[y]+(j&&((g=o.offset)==null?void 0:g[u])||0)+(j?0:p.crossAxis),S=i.reference[u]+i.reference[y]+(j?0:((b=o.offset)==null?void 0:b[u])||0)-(j?p.crossAxis:0);v<E?v=E:v>S&&(v=S)}return{[f]:m,[u]:v}}}},MX=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,s;const{placement:a,rects:i,platform:o,elements:l}=t,{apply:c=()=>{},...d}=Fl(e,t),h=await Ov(t,d),u=$l(a),f=lm(a),m=ko(a)==="y",{width:v,height:x}=i.floating;let p,g;u==="top"||u==="bottom"?(p=u,g=f===(await(o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(g=u,p=f==="end"?"top":"bottom");const b=x-h.top-h.bottom,y=v-h.left-h.right,j=Xc(x-h[p],b),E=Xc(v-h[g],y),S=!t.middlewareData.shift;let N=j,w=E;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(w=y),(s=t.middlewareData.shift)!=null&&s.enabled.y&&(N=b),S&&!f){const k=La(h.left,0),T=La(h.right,0),A=La(h.top,0),O=La(h.bottom,0);m?w=v-2*(k!==0||T!==0?k+T:La(h.left,h.right)):N=x-2*(A!==0||O!==0?A+O:La(h.top,h.bottom))}await c({...t,availableWidth:w,availableHeight:N});const _=await o.getDimensions(l.floating);return v!==_.width||x!==_.height?{reset:{rects:!0}}:{}}}};function O1(){return typeof window<"u"}function cm(e){return F$(e)?(e.nodeName||"").toLowerCase():"#document"}function za(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Yo(e){var t;return(t=(F$(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function F$(e){return O1()?e instanceof Node||e instanceof za(e).Node:!1}function no(e){return O1()?e instanceof Element||e instanceof za(e).Element:!1}function Ho(e){return O1()?e instanceof HTMLElement||e instanceof za(e).HTMLElement:!1}function WT(e){return!O1()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof za(e).ShadowRoot}const BX=new Set(["inline","contents"]);function Og(e){const{overflow:t,overflowX:r,overflowY:s,display:a}=so(e);return/auto|scroll|overlay|hidden|clip/.test(t+s+r)&&!BX.has(a)}const zX=new Set(["table","td","th"]);function UX(e){return zX.has(cm(e))}const VX=[":popover-open",":modal"];function L1(e){return VX.some(t=>{try{return e.matches(t)}catch{return!1}})}const qX=["transform","translate","scale","rotate","perspective"],WX=["transform","translate","scale","rotate","perspective","filter"],HX=["paint","layout","strict","content"];function N4(e){const t=S4(),r=no(e)?so(e):e;return qX.some(s=>r[s]?r[s]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||WX.some(s=>(r.willChange||"").includes(s))||HX.some(s=>(r.contain||"").includes(s))}function GX(e){let t=Qc(e);for(;Ho(t)&&!jf(t);){if(N4(t))return t;if(L1(t))return null;t=Qc(t)}return null}function S4(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const KX=new Set(["html","body","#document"]);function jf(e){return KX.has(cm(e))}function so(e){return za(e).getComputedStyle(e)}function R1(e){return no(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Qc(e){if(cm(e)==="html")return e;const t=e.assignedSlot||e.parentNode||WT(e)&&e.host||Yo(e);return WT(t)?t.host:t}function $$(e){const t=Qc(e);return jf(t)?e.ownerDocument?e.ownerDocument.body:e.body:Ho(t)&&Og(t)?t:$$(t)}function Lv(e,t,r){var s;t===void 0&&(t=[]),r===void 0&&(r=!0);const a=$$(e),i=a===((s=e.ownerDocument)==null?void 0:s.body),o=za(a);if(i){const l=J5(o);return t.concat(o,o.visualViewport||[],Og(a)?a:[],l&&r?Lv(l):[])}return t.concat(a,Lv(a,[],r))}function J5(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function M$(e){const t=so(e);let r=parseFloat(t.width)||0,s=parseFloat(t.height)||0;const a=Ho(e),i=a?e.offsetWidth:r,o=a?e.offsetHeight:s,l=qy(r)!==i||qy(s)!==o;return l&&(r=i,s=o),{width:r,height:s,$:l}}function C4(e){return no(e)?e:e.contextElement}function nf(e){const t=C4(e);if(!Ho(t))return Mo(1);const r=t.getBoundingClientRect(),{width:s,height:a,$:i}=M$(t);let o=(i?qy(r.width):r.width)/s,l=(i?qy(r.height):r.height)/a;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const YX=Mo(0);function B$(e){const t=za(e);return!S4()||!t.visualViewport?YX:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function XX(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==za(e)?!1:t}function xu(e,t,r,s){t===void 0&&(t=!1),r===void 0&&(r=!1);const a=e.getBoundingClientRect(),i=C4(e);let o=Mo(1);t&&(s?no(s)&&(o=nf(s)):o=nf(e));const l=XX(i,r,s)?B$(i):Mo(0);let c=(a.left+l.x)/o.x,d=(a.top+l.y)/o.y,h=a.width/o.x,u=a.height/o.y;if(i){const f=za(i),m=s&&no(s)?za(s):s;let v=f,x=J5(v);for(;x&&s&&m!==v;){const p=nf(x),g=x.getBoundingClientRect(),b=so(x),y=g.left+(x.clientLeft+parseFloat(b.paddingLeft))*p.x,j=g.top+(x.clientTop+parseFloat(b.paddingTop))*p.y;c*=p.x,d*=p.y,h*=p.x,u*=p.y,c+=y,d+=j,v=za(x),x=J5(v)}}return Hy({width:h,height:u,x:c,y:d})}function A4(e,t){const r=R1(e).scrollLeft;return t?t.left+r:xu(Yo(e)).left+r}function z$(e,t,r){r===void 0&&(r=!1);const s=e.getBoundingClientRect(),a=s.left+t.scrollLeft-(r?0:A4(e,s)),i=s.top+t.scrollTop;return{x:a,y:i}}function QX(e){let{elements:t,rect:r,offsetParent:s,strategy:a}=e;const i=a==="fixed",o=Yo(s),l=t?L1(t.floating):!1;if(s===o||l&&i)return r;let c={scrollLeft:0,scrollTop:0},d=Mo(1);const h=Mo(0),u=Ho(s);if((u||!u&&!i)&&((cm(s)!=="body"||Og(o))&&(c=R1(s)),Ho(s))){const m=xu(s);d=nf(s),h.x=m.x+s.clientLeft,h.y=m.y+s.clientTop}const f=o&&!u&&!i?z$(o,c,!0):Mo(0);return{width:r.width*d.x,height:r.height*d.y,x:r.x*d.x-c.scrollLeft*d.x+h.x+f.x,y:r.y*d.y-c.scrollTop*d.y+h.y+f.y}}function JX(e){return Array.from(e.getClientRects())}function ZX(e){const t=Yo(e),r=R1(e),s=e.ownerDocument.body,a=La(t.scrollWidth,t.clientWidth,s.scrollWidth,s.clientWidth),i=La(t.scrollHeight,t.clientHeight,s.scrollHeight,s.clientHeight);let o=-r.scrollLeft+A4(e);const l=-r.scrollTop;return so(s).direction==="rtl"&&(o+=La(t.clientWidth,s.clientWidth)-a),{width:a,height:i,x:o,y:l}}function eQ(e,t){const r=za(e),s=Yo(e),a=r.visualViewport;let i=s.clientWidth,o=s.clientHeight,l=0,c=0;if(a){i=a.width,o=a.height;const d=S4();(!d||d&&t==="fixed")&&(l=a.offsetLeft,c=a.offsetTop)}return{width:i,height:o,x:l,y:c}}const tQ=new Set(["absolute","fixed"]);function rQ(e,t){const r=xu(e,!0,t==="fixed"),s=r.top+e.clientTop,a=r.left+e.clientLeft,i=Ho(e)?nf(e):Mo(1),o=e.clientWidth*i.x,l=e.clientHeight*i.y,c=a*i.x,d=s*i.y;return{width:o,height:l,x:c,y:d}}function HT(e,t,r){let s;if(t==="viewport")s=eQ(e,r);else if(t==="document")s=ZX(Yo(e));else if(no(t))s=rQ(t,r);else{const a=B$(e);s={x:t.x-a.x,y:t.y-a.y,width:t.width,height:t.height}}return Hy(s)}function U$(e,t){const r=Qc(e);return r===t||!no(r)||jf(r)?!1:so(r).position==="fixed"||U$(r,t)}function nQ(e,t){const r=t.get(e);if(r)return r;let s=Lv(e,[],!1).filter(l=>no(l)&&cm(l)!=="body"),a=null;const i=so(e).position==="fixed";let o=i?Qc(e):e;for(;no(o)&&!jf(o);){const l=so(o),c=N4(o);!c&&l.position==="fixed"&&(a=null),(i?!c&&!a:!c&&l.position==="static"&&!!a&&tQ.has(a.position)||Og(o)&&!c&&U$(e,o))?s=s.filter(h=>h!==o):a=l,o=Qc(o)}return t.set(e,s),s}function sQ(e){let{element:t,boundary:r,rootBoundary:s,strategy:a}=e;const o=[...r==="clippingAncestors"?L1(t)?[]:nQ(t,this._c):[].concat(r),s],l=o[0],c=o.reduce((d,h)=>{const u=HT(t,h,a);return d.top=La(u.top,d.top),d.right=Xc(u.right,d.right),d.bottom=Xc(u.bottom,d.bottom),d.left=La(u.left,d.left),d},HT(t,l,a));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function aQ(e){const{width:t,height:r}=M$(e);return{width:t,height:r}}function iQ(e,t,r){const s=Ho(t),a=Yo(t),i=r==="fixed",o=xu(e,!0,i,t);let l={scrollLeft:0,scrollTop:0};const c=Mo(0);function d(){c.x=A4(a)}if(s||!s&&!i)if((cm(t)!=="body"||Og(a))&&(l=R1(t)),s){const m=xu(t,!0,i,t);c.x=m.x+t.clientLeft,c.y=m.y+t.clientTop}else a&&d();i&&!s&&a&&d();const h=a&&!s&&!i?z$(a,l):Mo(0),u=o.left+l.scrollLeft-c.x-h.x,f=o.top+l.scrollTop-c.y-h.y;return{x:u,y:f,width:o.width,height:o.height}}function T2(e){return so(e).position==="static"}function GT(e,t){if(!Ho(e)||so(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return Yo(e)===r&&(r=r.ownerDocument.body),r}function V$(e,t){const r=za(e);if(L1(e))return r;if(!Ho(e)){let a=Qc(e);for(;a&&!jf(a);){if(no(a)&&!T2(a))return a;a=Qc(a)}return r}let s=GT(e,t);for(;s&&UX(s)&&T2(s);)s=GT(s,t);return s&&jf(s)&&T2(s)&&!N4(s)?r:s||GX(e)||r}const oQ=async function(e){const t=this.getOffsetParent||V$,r=this.getDimensions,s=await r(e.floating);return{reference:iQ(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:s.width,height:s.height}}};function lQ(e){return so(e).direction==="rtl"}const cQ={convertOffsetParentRelativeRectToViewportRelativeRect:QX,getDocumentElement:Yo,getClippingRect:sQ,getOffsetParent:V$,getElementRects:oQ,getClientRects:JX,getDimensions:aQ,getScale:nf,isElement:no,isRTL:lQ};function q$(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function dQ(e,t){let r=null,s;const a=Yo(e);function i(){var l;clearTimeout(s),(l=r)==null||l.disconnect(),r=null}function o(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),i();const d=e.getBoundingClientRect(),{left:h,top:u,width:f,height:m}=d;if(l||t(),!f||!m)return;const v=p0(u),x=p0(a.clientWidth-(h+f)),p=p0(a.clientHeight-(u+m)),g=p0(h),y={rootMargin:-v+"px "+-x+"px "+-p+"px "+-g+"px",threshold:La(0,Xc(1,c))||1};let j=!0;function E(S){const N=S[0].intersectionRatio;if(N!==c){if(!j)return o();N?o(!1,N):s=setTimeout(()=>{o(!1,1e-7)},1e3)}N===1&&!q$(d,e.getBoundingClientRect())&&o(),j=!1}try{r=new IntersectionObserver(E,{...y,root:a.ownerDocument})}catch{r=new IntersectionObserver(E,y)}r.observe(e)}return o(!0),i}function uQ(e,t,r,s){s===void 0&&(s={});const{ancestorScroll:a=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=s,d=C4(e),h=a||i?[...d?Lv(d):[],...Lv(t)]:[];h.forEach(g=>{a&&g.addEventListener("scroll",r,{passive:!0}),i&&g.addEventListener("resize",r)});const u=d&&l?dQ(d,r):null;let f=-1,m=null;o&&(m=new ResizeObserver(g=>{let[b]=g;b&&b.target===d&&m&&(m.unobserve(t),cancelAnimationFrame(f),f=requestAnimationFrame(()=>{var y;(y=m)==null||y.observe(t)})),r()}),d&&!c&&m.observe(d),m.observe(t));let v,x=c?xu(e):null;c&&p();function p(){const g=xu(e);x&&!q$(x,g)&&r(),x=g,v=requestAnimationFrame(p)}return r(),()=>{var g;h.forEach(b=>{a&&b.removeEventListener("scroll",r),i&&b.removeEventListener("resize",r)}),u==null||u(),(g=m)==null||g.disconnect(),m=null,c&&cancelAnimationFrame(v)}}const hQ=RX,fQ=FX,mQ=DX,pQ=MX,vQ=OX,KT=kX,gQ=$X,xQ=(e,t,r)=>{const s=new Map,a={platform:cQ,...r},i={...a.platform,_c:s};return IX(e,t,{...a,platform:i})};var yQ=typeof document<"u",bQ=function(){},uy=yQ?C.useLayoutEffect:bQ;function Gy(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,s,a;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(s=r;s--!==0;)if(!Gy(e[s],t[s]))return!1;return!0}if(a=Object.keys(e),r=a.length,r!==Object.keys(t).length)return!1;for(s=r;s--!==0;)if(!{}.hasOwnProperty.call(t,a[s]))return!1;for(s=r;s--!==0;){const i=a[s];if(!(i==="_owner"&&e.$$typeof)&&!Gy(e[i],t[i]))return!1}return!0}return e!==e&&t!==t}function W$(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function YT(e,t){const r=W$(e);return Math.round(t*r)/r}function _2(e){const t=C.useRef(e);return uy(()=>{t.current=e}),t}function jQ(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:s=[],platform:a,elements:{reference:i,floating:o}={},transform:l=!0,whileElementsMounted:c,open:d}=e,[h,u]=C.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[f,m]=C.useState(s);Gy(f,s)||m(s);const[v,x]=C.useState(null),[p,g]=C.useState(null),b=C.useCallback(B=>{B!==S.current&&(S.current=B,x(B))},[]),y=C.useCallback(B=>{B!==N.current&&(N.current=B,g(B))},[]),j=i||v,E=o||p,S=C.useRef(null),N=C.useRef(null),w=C.useRef(h),_=c!=null,k=_2(c),T=_2(a),A=_2(d),O=C.useCallback(()=>{if(!S.current||!N.current)return;const B={placement:t,strategy:r,middleware:f};T.current&&(B.platform=T.current),xQ(S.current,N.current,B).then(U=>{const H={...U,isPositioned:A.current!==!1};D.current&&!Gy(w.current,H)&&(w.current=H,Vl.flushSync(()=>{u(H)}))})},[f,t,r,T,A]);uy(()=>{d===!1&&w.current.isPositioned&&(w.current.isPositioned=!1,u(B=>({...B,isPositioned:!1})))},[d]);const D=C.useRef(!1);uy(()=>(D.current=!0,()=>{D.current=!1}),[]),uy(()=>{if(j&&(S.current=j),E&&(N.current=E),j&&E){if(k.current)return k.current(j,E,O);O()}},[j,E,O,k,_]);const F=C.useMemo(()=>({reference:S,floating:N,setReference:b,setFloating:y}),[b,y]),M=C.useMemo(()=>({reference:j,floating:E}),[j,E]),R=C.useMemo(()=>{const B={position:r,left:0,top:0};if(!M.floating)return B;const U=YT(M.floating,h.x),H=YT(M.floating,h.y);return l?{...B,transform:"translate("+U+"px, "+H+"px)",...W$(M.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:U,top:H}},[r,l,M.floating,h.x,h.y]);return C.useMemo(()=>({...h,update:O,refs:F,elements:M,floatingStyles:R}),[h,O,F,M,R])}const wQ=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:s,padding:a}=typeof e=="function"?e(r):e;return s&&t(s)?s.current!=null?KT({element:s.current,padding:a}).fn(r):{}:s?KT({element:s,padding:a}).fn(r):{}}}},NQ=(e,t)=>({...hQ(e),options:[e,t]}),SQ=(e,t)=>({...fQ(e),options:[e,t]}),CQ=(e,t)=>({...gQ(e),options:[e,t]}),AQ=(e,t)=>({...mQ(e),options:[e,t]}),EQ=(e,t)=>({...pQ(e),options:[e,t]}),PQ=(e,t)=>({...vQ(e),options:[e,t]}),TQ=(e,t)=>({...wQ(e),options:[e,t]});function _Q(e,t){typeof e=="function"?e(t):e!=null&&(e.current=t)}function H$(...e){return t=>e.forEach(r=>_Q(r,t))}function G$(...e){return C.useCallback(H$(...e),e)}function IQ(e,t=[]){let r=[];function s(i,o){const l=C.createContext(o),c=r.length;r=[...r,o];function d(u){const{scope:f,children:m,...v}=u,x=(f==null?void 0:f[e][c])||l,p=C.useMemo(()=>v,Object.values(v));return C.createElement(x.Provider,{value:p},m)}function h(u,f){const m=(f==null?void 0:f[e][c])||l,v=C.useContext(m);if(v)return v;if(o!==void 0)return o;throw new Error(`\`${u}\` must be used within \`${i}\``)}return d.displayName=i+"Provider",[d,h]}const a=()=>{const i=r.map(o=>C.createContext(o));return function(l){const c=(l==null?void 0:l[e])||i;return C.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return a.scopeName=e,[s,kQ(a,...t)]}function kQ(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const s=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(i){const o=s.reduce((l,{useScope:c,scopeName:d})=>{const u=c(i)[`__scope${d}`];return{...l,...u}},{});return C.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}const K$=C.forwardRef((e,t)=>{const{children:r,...s}=e,a=C.Children.toArray(r),i=a.find(OQ);if(i){const o=i.props.children,l=a.map(c=>c===i?C.Children.count(o)>1?C.Children.only(null):C.isValidElement(o)?o.props.children:null:c);return C.createElement(Z5,st({},s,{ref:t}),C.isValidElement(o)?C.cloneElement(o,void 0,l):null)}return C.createElement(Z5,st({},s,{ref:t}),r)});K$.displayName="Slot";const Z5=C.forwardRef((e,t)=>{const{children:r,...s}=e;return C.isValidElement(r)?C.cloneElement(r,{...LQ(s,r.props),ref:t?H$(t,r.ref):r.ref}):C.Children.count(r)>1?C.Children.only(null):null});Z5.displayName="SlotClone";const DQ=({children:e})=>C.createElement(C.Fragment,null,e);function OQ(e){return C.isValidElement(e)&&e.type===DQ}function LQ(e,t){const r={...t};for(const s in t){const a=e[s],i=t[s];/^on[A-Z]/.test(s)?a&&i?r[s]=(...l)=>{i(...l),a(...l)}:a&&(r[s]=a):s==="style"?r[s]={...a,...i}:s==="className"&&(r[s]=[a,i].filter(Boolean).join(" "))}return{...e,...r}}const RQ=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Y$=RQ.reduce((e,t)=>{const r=C.forwardRef((s,a)=>{const{asChild:i,...o}=s,l=i?K$:t;return C.useEffect(()=>{window[Symbol.for("radix-ui")]=!0},[]),C.createElement(l,st({},o,{ref:a}))});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{}),eS=globalThis!=null&&globalThis.document?C.useLayoutEffect:()=>{};function FQ(e){const[t,r]=C.useState(void 0);return eS(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const s=new ResizeObserver(a=>{if(!Array.isArray(a)||!a.length)return;const i=a[0];let o,l;if("borderBoxSize"in i){const c=i.borderBoxSize,d=Array.isArray(c)?c[0]:c;o=d.inlineSize,l=d.blockSize}else o=e.offsetWidth,l=e.offsetHeight;r({width:o,height:l})});return s.observe(e,{box:"border-box"}),()=>s.unobserve(e)}else r(void 0)},[e]),t}const X$="Popper",[Q$,J$]=IQ(X$),[$Q,Z$]=Q$(X$),MQ=e=>{const{__scopePopper:t,children:r}=e,[s,a]=C.useState(null);return C.createElement($Q,{scope:t,anchor:s,onAnchorChange:a},r)},BQ="PopperAnchor",zQ=C.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:s,...a}=e,i=Z$(BQ,r),o=C.useRef(null),l=G$(t,o);return C.useEffect(()=>{i.onAnchorChange((s==null?void 0:s.current)||o.current)}),s?null:C.createElement(Y$.div,st({},a,{ref:l}))}),eM="PopperContent",[UQ,uOe]=Q$(eM),VQ=C.forwardRef((e,t)=>{var r,s,a,i,o,l,c,d;const{__scopePopper:h,side:u="bottom",sideOffset:f=0,align:m="center",alignOffset:v=0,arrowPadding:x=0,collisionBoundary:p=[],collisionPadding:g=0,sticky:b="partial",hideWhenDetached:y=!1,avoidCollisions:j=!0,onPlaced:E,...S}=e,N=Z$(eM,h),[w,_]=C.useState(null),k=G$(t,ge=>_(ge)),[T,A]=C.useState(null),O=FQ(T),D=(r=O==null?void 0:O.width)!==null&&r!==void 0?r:0,F=(s=O==null?void 0:O.height)!==null&&s!==void 0?s:0,M=u+(m!=="center"?"-"+m:""),R=typeof g=="number"?g:{top:0,right:0,bottom:0,left:0,...g},B=Array.isArray(p)?p:[p],U=B.length>0,H={padding:R,boundary:B.filter(qQ),altBoundary:U},{refs:q,floatingStyles:L,placement:V,isPositioned:G,middlewareData:Z}=jQ({strategy:"fixed",placement:M,whileElementsMounted:uQ,elements:{reference:N.anchor},middleware:[NQ({mainAxis:f+F,alignmentAxis:v}),j&&SQ({mainAxis:!0,crossAxis:!1,limiter:b==="partial"?CQ():void 0,...H}),j&&AQ({...H}),EQ({...H,apply:({elements:ge,rects:le,availableWidth:re,availableHeight:Ce})=>{const{width:Ne,height:xe}=le.reference,Fe=ge.floating.style;Fe.setProperty("--radix-popper-available-width",`${re}px`),Fe.setProperty("--radix-popper-available-height",`${Ce}px`),Fe.setProperty("--radix-popper-anchor-width",`${Ne}px`),Fe.setProperty("--radix-popper-anchor-height",`${xe}px`)}}),T&&TQ({element:T,padding:x}),WQ({arrowWidth:D,arrowHeight:F}),y&&PQ({strategy:"referenceHidden"})]}),[te,he]=tM(V),fe=Rl(E);eS(()=>{G&&(fe==null||fe())},[G,fe]);const oe=(a=Z.arrow)===null||a===void 0?void 0:a.x,we=(i=Z.arrow)===null||i===void 0?void 0:i.y,je=((o=Z.arrow)===null||o===void 0?void 0:o.centerOffset)!==0,[ve,Le]=C.useState();return eS(()=>{w&&Le(window.getComputedStyle(w).zIndex)},[w]),C.createElement("div",{ref:q.setFloating,"data-radix-popper-content-wrapper":"",style:{...L,transform:G?L.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ve,"--radix-popper-transform-origin":[(l=Z.transformOrigin)===null||l===void 0?void 0:l.x,(c=Z.transformOrigin)===null||c===void 0?void 0:c.y].join(" ")},dir:e.dir},C.createElement(UQ,{scope:h,placedSide:te,onArrowChange:A,arrowX:oe,arrowY:we,shouldHideArrow:je},C.createElement(Y$.div,st({"data-side":te,"data-align":he},S,{ref:k,style:{...S.style,animation:G?void 0:"none",opacity:(d=Z.hide)!==null&&d!==void 0&&d.referenceHidden?0:void 0}}))))});function qQ(e){return e!==null}const WQ=e=>({name:"transformOrigin",options:e,fn(t){var r,s,a,i,o;const{placement:l,rects:c,middlewareData:d}=t,u=((r=d.arrow)===null||r===void 0?void 0:r.centerOffset)!==0,f=u?0:e.arrowWidth,m=u?0:e.arrowHeight,[v,x]=tM(l),p={start:"0%",center:"50%",end:"100%"}[x],g=((s=(a=d.arrow)===null||a===void 0?void 0:a.x)!==null&&s!==void 0?s:0)+f/2,b=((i=(o=d.arrow)===null||o===void 0?void 0:o.y)!==null&&i!==void 0?i:0)+m/2;let y="",j="";return v==="bottom"?(y=u?p:`${g}px`,j=`${-m}px`):v==="top"?(y=u?p:`${g}px`,j=`${c.floating.height+m}px`):v==="right"?(y=`${-m}px`,j=u?p:`${b}px`):v==="left"&&(y=`${c.floating.width+m}px`,j=u?p:`${b}px`),{data:{x:y,y:j}}}});function tM(e){const[t,r="center"]=e.split("-");return[t,r]}const HQ=MQ,GQ=zQ,KQ=VQ;function YQ(e,t){typeof e=="function"?e(t):e!=null&&(e.current=t)}function XQ(...e){return t=>e.forEach(r=>YQ(r,t))}const rM=C.forwardRef((e,t)=>{const{children:r,...s}=e,a=C.Children.toArray(r),i=a.find(JQ);if(i){const o=i.props.children,l=a.map(c=>c===i?C.Children.count(o)>1?C.Children.only(null):C.isValidElement(o)?o.props.children:null:c);return C.createElement(tS,st({},s,{ref:t}),C.isValidElement(o)?C.cloneElement(o,void 0,l):null)}return C.createElement(tS,st({},s,{ref:t}),r)});rM.displayName="Slot";const tS=C.forwardRef((e,t)=>{const{children:r,...s}=e;return C.isValidElement(r)?C.cloneElement(r,{...ZQ(s,r.props),ref:t?XQ(t,r.ref):r.ref}):C.Children.count(r)>1?C.Children.only(null):null});tS.displayName="SlotClone";const QQ=({children:e})=>C.createElement(C.Fragment,null,e);function JQ(e){return C.isValidElement(e)&&e.type===QQ}function ZQ(e,t){const r={...t};for(const s in t){const a=e[s],i=t[s];/^on[A-Z]/.test(s)?a&&i?r[s]=(...l)=>{i(...l),a(...l)}:a&&(r[s]=a):s==="style"?r[s]={...a,...i}:s==="className"&&(r[s]=[a,i].filter(Boolean).join(" "))}return{...e,...r}}const eJ=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],tJ=eJ.reduce((e,t)=>{const r=C.forwardRef((s,a)=>{const{asChild:i,...o}=s,l=i?rM:t;return C.useEffect(()=>{window[Symbol.for("radix-ui")]=!0},[]),C.createElement(l,st({},o,{ref:a}))});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{}),rJ=C.forwardRef((e,t)=>{var r;const{container:s=globalThis==null||(r=globalThis.document)===null||r===void 0?void 0:r.body,...a}=e;return s?a4.createPortal(C.createElement(tJ.div,st({},a,{ref:t})),s):null}),E4=C.forwardRef((e,t)=>{const{children:r,...s}=e,a=C.Children.toArray(r),i=a.find(sJ);if(i){const o=i.props.children,l=a.map(c=>c===i?C.Children.count(o)>1?C.Children.only(null):C.isValidElement(o)?o.props.children:null:c);return C.createElement(rS,st({},s,{ref:t}),C.isValidElement(o)?C.cloneElement(o,void 0,l):null)}return C.createElement(rS,st({},s,{ref:t}),r)});E4.displayName="Slot";const rS=C.forwardRef((e,t)=>{const{children:r,...s}=e;return C.isValidElement(r)?C.cloneElement(r,{...aJ(s,r.props),ref:t?E$(t,r.ref):r.ref}):C.Children.count(r)>1?C.Children.only(null):null});rS.displayName="SlotClone";const nJ=({children:e})=>C.createElement(C.Fragment,null,e);function sJ(e){return C.isValidElement(e)&&e.type===nJ}function aJ(e,t){const r={...t};for(const s in t){const a=e[s],i=t[s];/^on[A-Z]/.test(s)?a&&i?r[s]=(...l)=>{i(...l),a(...l)}:a&&(r[s]=a):s==="style"?r[s]={...a,...i}:s==="className"&&(r[s]=[a,i].filter(Boolean).join(" "))}return{...e,...r}}const iJ=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],ao=iJ.reduce((e,t)=>{const r=C.forwardRef((s,a)=>{const{asChild:i,...o}=s,l=i?E4:t;return C.useEffect(()=>{window[Symbol.for("radix-ui")]=!0},[]),C.createElement(l,st({},o,{ref:a}))});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function XT({prop:e,defaultProp:t,onChange:r=()=>{}}){const[s,a]=oJ({defaultProp:t,onChange:r}),i=e!==void 0,o=i?e:s,l=Rl(r),c=C.useCallback(d=>{if(i){const u=typeof d=="function"?d(e):d;u!==e&&l(u)}else a(d)},[i,e,a,l]);return[o,c]}function oJ({defaultProp:e,onChange:t}){const r=C.useState(e),[s]=r,a=C.useRef(s),i=Rl(t);return C.useEffect(()=>{a.current!==s&&(i(s),a.current=s)},[s,a,i]),r}const Jc=globalThis!=null&&globalThis.document?C.useLayoutEffect:()=>{};function lJ(e){const t=C.useRef({value:e,previous:e});return C.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}function cJ(e,t){typeof e=="function"?e(t):e!=null&&(e.current=t)}function dJ(...e){return t=>e.forEach(r=>cJ(r,t))}const nM=C.forwardRef((e,t)=>{const{children:r,...s}=e,a=C.Children.toArray(r),i=a.find(hJ);if(i){const o=i.props.children,l=a.map(c=>c===i?C.Children.count(o)>1?C.Children.only(null):C.isValidElement(o)?o.props.children:null:c);return C.createElement(nS,st({},s,{ref:t}),C.isValidElement(o)?C.cloneElement(o,void 0,l):null)}return C.createElement(nS,st({},s,{ref:t}),r)});nM.displayName="Slot";const nS=C.forwardRef((e,t)=>{const{children:r,...s}=e;return C.isValidElement(r)?C.cloneElement(r,{...fJ(s,r.props),ref:t?dJ(t,r.ref):r.ref}):C.Children.count(r)>1?C.Children.only(null):null});nS.displayName="SlotClone";const uJ=({children:e})=>C.createElement(C.Fragment,null,e);function hJ(e){return C.isValidElement(e)&&e.type===uJ}function fJ(e,t){const r={...t};for(const s in t){const a=e[s],i=t[s];/^on[A-Z]/.test(s)?a&&i?r[s]=(...l)=>{i(...l),a(...l)}:a&&(r[s]=a):s==="style"?r[s]={...a,...i}:s==="className"&&(r[s]=[a,i].filter(Boolean).join(" "))}return{...e,...r}}const mJ=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],pJ=mJ.reduce((e,t)=>{const r=C.forwardRef((s,a)=>{const{asChild:i,...o}=s,l=i?nM:t;return C.useEffect(()=>{window[Symbol.for("radix-ui")]=!0},[]),C.createElement(l,st({},o,{ref:a}))});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{}),vJ=C.forwardRef((e,t)=>C.createElement(pJ.span,st({},e,{ref:t,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...e.style}})));var gJ=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},vh=new WeakMap,v0=new WeakMap,g0={},I2=0,sM=function(e){return e&&(e.host||sM(e.parentNode))},xJ=function(e,t){return t.map(function(r){if(e.contains(r))return r;var s=sM(r);return s&&e.contains(s)?s:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},yJ=function(e,t,r,s){var a=xJ(t,Array.isArray(e)?e:[e]);g0[r]||(g0[r]=new WeakMap);var i=g0[r],o=[],l=new Set,c=new Set(a),d=function(u){!u||l.has(u)||(l.add(u),d(u.parentNode))};a.forEach(d);var h=function(u){!u||c.has(u)||Array.prototype.forEach.call(u.children,function(f){if(l.has(f))h(f);else try{var m=f.getAttribute(s),v=m!==null&&m!=="false",x=(vh.get(f)||0)+1,p=(i.get(f)||0)+1;vh.set(f,x),i.set(f,p),o.push(f),x===1&&v&&v0.set(f,!0),p===1&&f.setAttribute(r,"true"),v||f.setAttribute(s,"true")}catch(g){console.error("aria-hidden: cannot operate on ",f,g)}})};return h(t),l.clear(),I2++,function(){o.forEach(function(u){var f=vh.get(u)-1,m=i.get(u)-1;vh.set(u,f),i.set(u,m),f||(v0.has(u)||u.removeAttribute(s),v0.delete(u)),m||u.removeAttribute(r)}),I2--,I2||(vh=new WeakMap,vh=new WeakMap,v0=new WeakMap,g0={})}},bJ=function(e,t,r){r===void 0&&(r="data-aria-hidden");var s=Array.from(Array.isArray(e)?e:[e]),a=t||gJ(e);return a?(s.push.apply(s,Array.from(a.querySelectorAll("[aria-live], script"))),yJ(s,a,r,"aria-hidden")):function(){return null}},_o=function(){return _o=Object.assign||function(t){for(var r,s=1,a=arguments.length;s<a;s++){r=arguments[s];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},_o.apply(this,arguments)};function aM(e,t){var r={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(r[s]=e[s]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,s=Object.getOwnPropertySymbols(e);a<s.length;a++)t.indexOf(s[a])<0&&Object.prototype.propertyIsEnumerable.call(e,s[a])&&(r[s[a]]=e[s[a]]);return r}function _u(e,t,r,s){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(h){try{d(s.next(h))}catch(u){o(u)}}function c(h){try{d(s.throw(h))}catch(u){o(u)}}function d(h){h.done?i(h.value):a(h.value).then(l,c)}d((s=s.apply(e,t||[])).next())})}function jJ(e,t,r){if(r||arguments.length===2)for(var s=0,a=t.length,i;s<a;s++)(i||!(s in t))&&(i||(i=Array.prototype.slice.call(t,0,s)),i[s]=t[s]);return e.concat(i||Array.prototype.slice.call(t))}var hy="right-scroll-bar-position",fy="width-before-scroll-bar",wJ="with-scroll-bars-hidden",NJ="--removed-body-scroll-bar-size";function k2(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function SJ(e,t){var r=C.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(s){var a=r.value;a!==s&&(r.value=s,r.callback(s,a))}}}})[0];return r.callback=t,r.facade}var CJ=typeof window<"u"?C.useLayoutEffect:C.useEffect,QT=new WeakMap;function AJ(e,t){var r=SJ(t||null,function(s){return e.forEach(function(a){return k2(a,s)})});return CJ(function(){var s=QT.get(r);if(s){var a=new Set(s),i=new Set(e),o=r.current;a.forEach(function(l){i.has(l)||k2(l,null)}),i.forEach(function(l){a.has(l)||k2(l,o)})}QT.set(r,e)},[e]),r}function EJ(e){return e}function PJ(e,t){t===void 0&&(t=EJ);var r=[],s=!1,a={read:function(){if(s)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(i){var o=t(i,s);return r.push(o),function(){r=r.filter(function(l){return l!==o})}},assignSyncMedium:function(i){for(s=!0;r.length;){var o=r;r=[],o.forEach(i)}r={push:function(l){return i(l)},filter:function(){return r}}},assignMedium:function(i){s=!0;var o=[];if(r.length){var l=r;r=[],l.forEach(i),o=r}var c=function(){var h=o;o=[],h.forEach(i)},d=function(){return Promise.resolve().then(c)};d(),r={push:function(h){o.push(h),d()},filter:function(h){return o=o.filter(h),r}}}};return a}function TJ(e){e===void 0&&(e={});var t=PJ(null);return t.options=_o({async:!0,ssr:!1},e),t}var iM=function(e){var t=e.sideCar,r=aM(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var s=t.read();if(!s)throw new Error("Sidecar medium not found");return C.createElement(s,_o({},r))};iM.isSideCarExport=!0;function _J(e,t){return e.useMedium(t),iM}var oM=TJ(),D2=function(){},F1=C.forwardRef(function(e,t){var r=C.useRef(null),s=C.useState({onScrollCapture:D2,onWheelCapture:D2,onTouchMoveCapture:D2}),a=s[0],i=s[1],o=e.forwardProps,l=e.children,c=e.className,d=e.removeScrollBar,h=e.enabled,u=e.shards,f=e.sideCar,m=e.noIsolation,v=e.inert,x=e.allowPinchZoom,p=e.as,g=p===void 0?"div":p,b=aM(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as"]),y=f,j=AJ([r,t]),E=_o(_o({},b),a);return C.createElement(C.Fragment,null,h&&C.createElement(y,{sideCar:oM,removeScrollBar:d,shards:u,noIsolation:m,inert:v,setCallbacks:i,allowPinchZoom:!!x,lockRef:r}),o?C.cloneElement(C.Children.only(l),_o(_o({},E),{ref:j})):C.createElement(g,_o({},E,{className:c,ref:j}),l))});F1.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};F1.classNames={fullWidth:fy,zeroRight:hy};var JT,IJ=function(){if(JT)return JT;if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function kJ(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=IJ();return t&&e.setAttribute("nonce",t),e}function DJ(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function OJ(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var LJ=function(){var e=0,t=null;return{add:function(r){e==0&&(t=kJ())&&(DJ(t,r),OJ(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},RJ=function(){var e=LJ();return function(t,r){C.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},lM=function(){var e=RJ(),t=function(r){var s=r.styles,a=r.dynamic;return e(s,a),null};return t},FJ={left:0,top:0,right:0,gap:0},O2=function(e){return parseInt(e||"",10)||0},$J=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],s=t[e==="padding"?"paddingTop":"marginTop"],a=t[e==="padding"?"paddingRight":"marginRight"];return[O2(r),O2(s),O2(a)]},MJ=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return FJ;var t=$J(e),r=document.documentElement.clientWidth,s=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,s-r+t[2]-t[0])}},BJ=lM(),sf="data-scroll-locked",zJ=function(e,t,r,s){var a=e.left,i=e.top,o=e.right,l=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(wJ,` {
   overflow: hidden `).concat(s,`;
   padding-right: `).concat(l,"px ").concat(s,`;
  }
  body[`).concat(sf,`] {
    overflow: hidden `).concat(s,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(s,";"),r==="margin"&&`
    padding-left: `.concat(a,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(s,`;
    `),r==="padding"&&"padding-right: ".concat(l,"px ").concat(s,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(hy,` {
    right: `).concat(l,"px ").concat(s,`;
  }
  
  .`).concat(fy,` {
    margin-right: `).concat(l,"px ").concat(s,`;
  }
  
  .`).concat(hy," .").concat(hy,` {
    right: 0 `).concat(s,`;
  }
  
  .`).concat(fy," .").concat(fy,` {
    margin-right: 0 `).concat(s,`;
  }
  
  body[`).concat(sf,`] {
    `).concat(NJ,": ").concat(l,`px;
  }
`)},ZT=function(){var e=parseInt(document.body.getAttribute(sf)||"0",10);return isFinite(e)?e:0},UJ=function(){C.useEffect(function(){return document.body.setAttribute(sf,(ZT()+1).toString()),function(){var e=ZT()-1;e<=0?document.body.removeAttribute(sf):document.body.setAttribute(sf,e.toString())}},[])},VJ=function(e){var t=e.noRelative,r=e.noImportant,s=e.gapMode,a=s===void 0?"margin":s;UJ();var i=C.useMemo(function(){return MJ(a)},[a]);return C.createElement(BJ,{styles:zJ(i,!t,a,r?"":"!important")})},sS=!1;if(typeof window<"u")try{var x0=Object.defineProperty({},"passive",{get:function(){return sS=!0,!0}});window.addEventListener("test",x0,x0),window.removeEventListener("test",x0,x0)}catch{sS=!1}var gh=sS?{passive:!1}:!1,qJ=function(e){return e.tagName==="TEXTAREA"},cM=function(e,t){var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!qJ(e)&&r[t]==="visible")},WJ=function(e){return cM(e,"overflowY")},HJ=function(e){return cM(e,"overflowX")},e_=function(e,t){var r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=dM(e,r);if(s){var a=uM(e,r),i=a[1],o=a[2];if(i>o)return!0}r=r.parentNode}while(r&&r!==document.body);return!1},GJ=function(e){var t=e.scrollTop,r=e.scrollHeight,s=e.clientHeight;return[t,r,s]},KJ=function(e){var t=e.scrollLeft,r=e.scrollWidth,s=e.clientWidth;return[t,r,s]},dM=function(e,t){return e==="v"?WJ(t):HJ(t)},uM=function(e,t){return e==="v"?GJ(t):KJ(t)},YJ=function(e,t){return e==="h"&&t==="rtl"?-1:1},XJ=function(e,t,r,s,a){var i=YJ(e,window.getComputedStyle(t).direction),o=i*s,l=r.target,c=t.contains(l),d=!1,h=o>0,u=0,f=0;do{var m=uM(e,l),v=m[0],x=m[1],p=m[2],g=x-p-i*v;(v||g)&&dM(e,l)&&(u+=g,f+=v),l=l.parentNode}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(h&&(a&&u===0||!a&&o>u)||!h&&(a&&f===0||!a&&-o>f))&&(d=!0),d},y0=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},t_=function(e){return[e.deltaX,e.deltaY]},r_=function(e){return e&&"current"in e?e.current:e},QJ=function(e,t){return e[0]===t[0]&&e[1]===t[1]},JJ=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},ZJ=0,xh=[];function eZ(e){var t=C.useRef([]),r=C.useRef([0,0]),s=C.useRef(),a=C.useState(ZJ++)[0],i=C.useState(function(){return lM()})[0],o=C.useRef(e);C.useEffect(function(){o.current=e},[e]),C.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(a));var x=jJ([e.lockRef.current],(e.shards||[]).map(r_),!0).filter(Boolean);return x.forEach(function(p){return p.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),x.forEach(function(p){return p.classList.remove("allow-interactivity-".concat(a))})}}},[e.inert,e.lockRef.current,e.shards]);var l=C.useCallback(function(x,p){if("touches"in x&&x.touches.length===2)return!o.current.allowPinchZoom;var g=y0(x),b=r.current,y="deltaX"in x?x.deltaX:b[0]-g[0],j="deltaY"in x?x.deltaY:b[1]-g[1],E,S=x.target,N=Math.abs(y)>Math.abs(j)?"h":"v";if("touches"in x&&N==="h"&&S.type==="range")return!1;var w=e_(N,S);if(!w)return!0;if(w?E=N:(E=N==="v"?"h":"v",w=e_(N,S)),!w)return!1;if(!s.current&&"changedTouches"in x&&(y||j)&&(s.current=E),!E)return!0;var _=s.current||E;return XJ(_,p,x,_==="h"?y:j,!0)},[]),c=C.useCallback(function(x){var p=x;if(!(!xh.length||xh[xh.length-1]!==i)){var g="deltaY"in p?t_(p):y0(p),b=t.current.filter(function(E){return E.name===p.type&&E.target===p.target&&QJ(E.delta,g)})[0];if(b&&b.should){p.cancelable&&p.preventDefault();return}if(!b){var y=(o.current.shards||[]).map(r_).filter(Boolean).filter(function(E){return E.contains(p.target)}),j=y.length>0?l(p,y[0]):!o.current.noIsolation;j&&p.cancelable&&p.preventDefault()}}},[]),d=C.useCallback(function(x,p,g,b){var y={name:x,delta:p,target:g,should:b};t.current.push(y),setTimeout(function(){t.current=t.current.filter(function(j){return j!==y})},1)},[]),h=C.useCallback(function(x){r.current=y0(x),s.current=void 0},[]),u=C.useCallback(function(x){d(x.type,t_(x),x.target,l(x,e.lockRef.current))},[]),f=C.useCallback(function(x){d(x.type,y0(x),x.target,l(x,e.lockRef.current))},[]);C.useEffect(function(){return xh.push(i),e.setCallbacks({onScrollCapture:u,onWheelCapture:u,onTouchMoveCapture:f}),document.addEventListener("wheel",c,gh),document.addEventListener("touchmove",c,gh),document.addEventListener("touchstart",h,gh),function(){xh=xh.filter(function(x){return x!==i}),document.removeEventListener("wheel",c,gh),document.removeEventListener("touchmove",c,gh),document.removeEventListener("touchstart",h,gh)}},[]);var m=e.removeScrollBar,v=e.inert;return C.createElement(C.Fragment,null,v?C.createElement(i,{styles:JJ(a)}):null,m?C.createElement(VJ,{gapMode:"margin"}):null)}const tZ=_J(oM,eZ);var hM=C.forwardRef(function(e,t){return C.createElement(F1,_o({},e,{ref:t,sideCar:tZ}))});hM.classNames=F1.classNames;const rZ=hM,nZ=[" ","Enter","ArrowUp","ArrowDown"],sZ=[" ","Enter"],$1="Select",[M1,B1,aZ]=LY($1),[dm,hOe]=FY($1,[aZ,J$]),P4=J$(),[iZ,Iu]=dm($1),[oZ,lZ]=dm($1),cZ=e=>{const{__scopeSelect:t,children:r,open:s,defaultOpen:a,onOpenChange:i,value:o,defaultValue:l,onValueChange:c,dir:d,name:h,autoComplete:u,disabled:f,required:m}=e,v=P4(t),[x,p]=C.useState(null),[g,b]=C.useState(null),[y,j]=C.useState(!1),E=BY(d),[S=!1,N]=XT({prop:s,defaultProp:a,onChange:i}),[w,_]=XT({prop:o,defaultProp:l,onChange:c}),k=C.useRef(null),T=x?!!x.closest("form"):!0,[A,O]=C.useState(new Set),D=Array.from(A).map(F=>F.props.value).join(";");return C.createElement(HQ,v,C.createElement(iZ,{required:m,scope:t,trigger:x,onTriggerChange:p,valueNode:g,onValueNodeChange:b,valueNodeHasChildren:y,onValueNodeHasChildrenChange:j,contentId:O$(),value:w,onValueChange:_,open:S,onOpenChange:N,dir:E,triggerPointerDownPosRef:k,disabled:f},C.createElement(M1.Provider,{scope:t},C.createElement(oZ,{scope:e.__scopeSelect,onNativeOptionAdd:C.useCallback(F=>{O(M=>new Set(M).add(F))},[]),onNativeOptionRemove:C.useCallback(F=>{O(M=>{const R=new Set(M);return R.delete(F),R})},[])},r)),T?C.createElement(vM,{key:D,"aria-hidden":!0,required:m,tabIndex:-1,name:h,autoComplete:u,value:w,onChange:F=>_(F.target.value),disabled:f},w===void 0?C.createElement("option",{value:""}):null,Array.from(A)):null))},dZ="SelectTrigger",uZ=C.forwardRef((e,t)=>{const{__scopeSelect:r,disabled:s=!1,...a}=e,i=P4(r),o=Iu(dZ,r),l=o.disabled||s,c=Ko(t,o.onTriggerChange),d=B1(r),[h,u,f]=gM(v=>{const x=d().filter(b=>!b.disabled),p=x.find(b=>b.value===o.value),g=xM(x,v,p);g!==void 0&&o.onValueChange(g.value)}),m=()=>{l||(o.onOpenChange(!0),f())};return C.createElement(GQ,st({asChild:!0},i),C.createElement(ao.button,st({type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":o.value===void 0?"":void 0},a,{ref:c,onClick:Qs(a.onClick,v=>{v.currentTarget.focus()}),onPointerDown:Qs(a.onPointerDown,v=>{const x=v.target;x.hasPointerCapture(v.pointerId)&&x.releasePointerCapture(v.pointerId),v.button===0&&v.ctrlKey===!1&&(m(),o.triggerPointerDownPosRef.current={x:Math.round(v.pageX),y:Math.round(v.pageY)},v.preventDefault())}),onKeyDown:Qs(a.onKeyDown,v=>{const x=h.current!=="";!(v.ctrlKey||v.altKey||v.metaKey)&&v.key.length===1&&u(v.key),!(x&&v.key===" ")&&nZ.includes(v.key)&&(m(),v.preventDefault())})})))}),hZ="SelectValue",fZ=C.forwardRef((e,t)=>{const{__scopeSelect:r,className:s,style:a,children:i,placeholder:o,...l}=e,c=Iu(hZ,r),{onValueNodeHasChildrenChange:d}=c,h=i!==void 0,u=Ko(t,c.onValueNodeChange);return Jc(()=>{d(h)},[d,h]),C.createElement(ao.span,st({},l,{ref:u,style:{pointerEvents:"none"}}),c.value===void 0&&o!==void 0?o:i)}),mZ=C.forwardRef((e,t)=>{const{__scopeSelect:r,children:s,...a}=e;return C.createElement(ao.span,st({"aria-hidden":!0},a,{ref:t}),s||"")}),pZ=e=>C.createElement(rJ,st({asChild:!0},e)),wf="SelectContent",vZ=C.forwardRef((e,t)=>{const r=Iu(wf,e.__scopeSelect),[s,a]=C.useState();if(Jc(()=>{a(new DocumentFragment)},[]),!r.open){const i=s;return i?Vl.createPortal(C.createElement(fM,{scope:e.__scopeSelect},C.createElement(M1.Slot,{scope:e.__scopeSelect},C.createElement("div",null,e.children))),i):null}return C.createElement(gZ,st({},e,{ref:t}))}),ml=10,[fM,ku]=dm(wf),gZ=C.forwardRef((e,t)=>{const{__scopeSelect:r,position:s="item-aligned",onCloseAutoFocus:a,onEscapeKeyDown:i,onPointerDownOutside:o,side:l,sideOffset:c,align:d,alignOffset:h,arrowPadding:u,collisionBoundary:f,collisionPadding:m,sticky:v,hideWhenDetached:x,avoidCollisions:p,...g}=e,b=Iu(wf,r),[y,j]=C.useState(null),[E,S]=C.useState(null),N=Ko(t,he=>j(he)),[w,_]=C.useState(null),[k,T]=C.useState(null),A=B1(r),[O,D]=C.useState(!1),F=C.useRef(!1);C.useEffect(()=>{if(y)return bJ(y)},[y]),rX();const M=C.useCallback(he=>{const[fe,...oe]=A().map(ve=>ve.ref.current),[we]=oe.slice(-1),je=document.activeElement;for(const ve of he)if(ve===je||(ve==null||ve.scrollIntoView({block:"nearest"}),ve===fe&&E&&(E.scrollTop=0),ve===we&&E&&(E.scrollTop=E.scrollHeight),ve==null||ve.focus(),document.activeElement!==je))return},[A,E]),R=C.useCallback(()=>M([w,y]),[M,w,y]);C.useEffect(()=>{O&&R()},[O,R]);const{onOpenChange:B,triggerPointerDownPosRef:U}=b;C.useEffect(()=>{if(y){let he={x:0,y:0};const fe=we=>{var je,ve,Le,ge;he={x:Math.abs(Math.round(we.pageX)-((je=(ve=U.current)===null||ve===void 0?void 0:ve.x)!==null&&je!==void 0?je:0)),y:Math.abs(Math.round(we.pageY)-((Le=(ge=U.current)===null||ge===void 0?void 0:ge.y)!==null&&Le!==void 0?Le:0))}},oe=we=>{he.x<=10&&he.y<=10?we.preventDefault():y.contains(we.target)||B(!1),document.removeEventListener("pointermove",fe),U.current=null};return U.current!==null&&(document.addEventListener("pointermove",fe),document.addEventListener("pointerup",oe,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",fe),document.removeEventListener("pointerup",oe,{capture:!0})}}},[y,B,U]),C.useEffect(()=>{const he=()=>B(!1);return window.addEventListener("blur",he),window.addEventListener("resize",he),()=>{window.removeEventListener("blur",he),window.removeEventListener("resize",he)}},[B]);const[H,q]=gM(he=>{const fe=A().filter(je=>!je.disabled),oe=fe.find(je=>je.ref.current===document.activeElement),we=xM(fe,he,oe);we&&setTimeout(()=>we.ref.current.focus())}),L=C.useCallback((he,fe,oe)=>{const we=!F.current&&!oe;(b.value!==void 0&&b.value===fe||we)&&(_(he),we&&(F.current=!0))},[b.value]),V=C.useCallback(()=>y==null?void 0:y.focus(),[y]),G=C.useCallback((he,fe,oe)=>{const we=!F.current&&!oe;(b.value!==void 0&&b.value===fe||we)&&T(he)},[b.value]),Z=s==="popper"?n_:xZ,te=Z===n_?{side:l,sideOffset:c,align:d,alignOffset:h,arrowPadding:u,collisionBoundary:f,collisionPadding:m,sticky:v,hideWhenDetached:x,avoidCollisions:p}:{};return C.createElement(fM,{scope:r,content:y,viewport:E,onViewportChange:S,itemRefCallback:L,selectedItem:w,onItemLeave:V,itemTextRefCallback:G,focusSelectedItem:R,selectedItemText:k,position:s,isPositioned:O,searchRef:H},C.createElement(rZ,{as:E4,allowPinchZoom:!0},C.createElement(dX,{asChild:!0,trapped:b.open,onMountAutoFocus:he=>{he.preventDefault()},onUnmountAutoFocus:Qs(a,he=>{var fe;(fe=b.trigger)===null||fe===void 0||fe.focus({preventScroll:!0}),he.preventDefault()})},C.createElement(ZY,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:he=>he.preventDefault(),onDismiss:()=>b.onOpenChange(!1)},C.createElement(Z,st({role:"listbox",id:b.contentId,"data-state":b.open?"open":"closed",dir:b.dir,onContextMenu:he=>he.preventDefault()},g,te,{onPlaced:()=>D(!0),ref:N,style:{display:"flex",flexDirection:"column",outline:"none",...g.style},onKeyDown:Qs(g.onKeyDown,he=>{const fe=he.ctrlKey||he.altKey||he.metaKey;if(he.key==="Tab"&&he.preventDefault(),!fe&&he.key.length===1&&q(he.key),["ArrowUp","ArrowDown","Home","End"].includes(he.key)){let we=A().filter(je=>!je.disabled).map(je=>je.ref.current);if(["ArrowUp","End"].includes(he.key)&&(we=we.slice().reverse()),["ArrowUp","ArrowDown"].includes(he.key)){const je=he.target,ve=we.indexOf(je);we=we.slice(ve+1)}setTimeout(()=>M(we)),he.preventDefault()}})}))))))}),xZ=C.forwardRef((e,t)=>{const{__scopeSelect:r,onPlaced:s,...a}=e,i=Iu(wf,r),o=ku(wf,r),[l,c]=C.useState(null),[d,h]=C.useState(null),u=Ko(t,N=>h(N)),f=B1(r),m=C.useRef(!1),v=C.useRef(!0),{viewport:x,selectedItem:p,selectedItemText:g,focusSelectedItem:b}=o,y=C.useCallback(()=>{if(i.trigger&&i.valueNode&&l&&d&&x&&p&&g){const N=i.trigger.getBoundingClientRect(),w=d.getBoundingClientRect(),_=i.valueNode.getBoundingClientRect(),k=g.getBoundingClientRect();if(i.dir!=="rtl"){const je=k.left-w.left,ve=_.left-je,Le=N.left-ve,ge=N.width+Le,le=Math.max(ge,w.width),re=window.innerWidth-ml,Ce=IT(ve,[ml,re-le]);l.style.minWidth=ge+"px",l.style.left=Ce+"px"}else{const je=w.right-k.right,ve=window.innerWidth-_.right-je,Le=window.innerWidth-N.right-ve,ge=N.width+Le,le=Math.max(ge,w.width),re=window.innerWidth-ml,Ce=IT(ve,[ml,re-le]);l.style.minWidth=ge+"px",l.style.right=Ce+"px"}const T=f(),A=window.innerHeight-ml*2,O=x.scrollHeight,D=window.getComputedStyle(d),F=parseInt(D.borderTopWidth,10),M=parseInt(D.paddingTop,10),R=parseInt(D.borderBottomWidth,10),B=parseInt(D.paddingBottom,10),U=F+M+O+B+R,H=Math.min(p.offsetHeight*5,U),q=window.getComputedStyle(x),L=parseInt(q.paddingTop,10),V=parseInt(q.paddingBottom,10),G=N.top+N.height/2-ml,Z=A-G,te=p.offsetHeight/2,he=p.offsetTop+te,fe=F+M+he,oe=U-fe;if(fe<=G){const je=p===T[T.length-1].ref.current;l.style.bottom="0px";const ve=d.clientHeight-x.offsetTop-x.offsetHeight,Le=Math.max(Z,te+(je?V:0)+ve+R),ge=fe+Le;l.style.height=ge+"px"}else{const je=p===T[0].ref.current;l.style.top="0px";const Le=Math.max(G,F+x.offsetTop+(je?L:0)+te)+oe;l.style.height=Le+"px",x.scrollTop=fe-G+x.offsetTop}l.style.margin=`${ml}px 0`,l.style.minHeight=H+"px",l.style.maxHeight=A+"px",s==null||s(),requestAnimationFrame(()=>m.current=!0)}},[f,i.trigger,i.valueNode,l,d,x,p,g,i.dir,s]);Jc(()=>y(),[y]);const[j,E]=C.useState();Jc(()=>{d&&E(window.getComputedStyle(d).zIndex)},[d]);const S=C.useCallback(N=>{N&&v.current===!0&&(y(),b==null||b(),v.current=!1)},[y,b]);return C.createElement(yZ,{scope:r,contentWrapper:l,shouldExpandOnScrollRef:m,onScrollButtonChange:S},C.createElement("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:j}},C.createElement(ao.div,st({},a,{ref:u,style:{boxSizing:"border-box",maxHeight:"100%",...a.style}}))))}),n_=C.forwardRef((e,t)=>{const{__scopeSelect:r,align:s="start",collisionPadding:a=ml,...i}=e,o=P4(r);return C.createElement(KQ,st({},o,i,{ref:t,align:s,collisionPadding:a,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}}))}),[yZ,T4]=dm(wf,{}),s_="SelectViewport",bZ=C.forwardRef((e,t)=>{const{__scopeSelect:r,...s}=e,a=ku(s_,r),i=T4(s_,r),o=Ko(t,a.onViewportChange),l=C.useRef(0);return C.createElement(C.Fragment,null,C.createElement("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"}}),C.createElement(M1.Slot,{scope:r},C.createElement(ao.div,st({"data-radix-select-viewport":"",role:"presentation"},s,{ref:o,style:{position:"relative",flex:1,overflow:"auto",...s.style},onScroll:Qs(s.onScroll,c=>{const d=c.currentTarget,{contentWrapper:h,shouldExpandOnScrollRef:u}=i;if(u!=null&&u.current&&h){const f=Math.abs(l.current-d.scrollTop);if(f>0){const m=window.innerHeight-ml*2,v=parseFloat(h.style.minHeight),x=parseFloat(h.style.height),p=Math.max(v,x);if(p<m){const g=p+f,b=Math.min(m,g),y=g-b;h.style.height=b+"px",h.style.bottom==="0px"&&(d.scrollTop=y>0?y:0,h.style.justifyContent="flex-end")}}}l.current=d.scrollTop})}))))}),jZ="SelectGroup",[fOe,wZ]=dm(jZ),NZ="SelectLabel",SZ=C.forwardRef((e,t)=>{const{__scopeSelect:r,...s}=e,a=wZ(NZ,r);return C.createElement(ao.div,st({id:a.id},s,{ref:t}))}),aS="SelectItem",[CZ,mM]=dm(aS),AZ=C.forwardRef((e,t)=>{const{__scopeSelect:r,value:s,disabled:a=!1,textValue:i,...o}=e,l=Iu(aS,r),c=ku(aS,r),d=l.value===s,[h,u]=C.useState(i??""),[f,m]=C.useState(!1),v=Ko(t,g=>{var b;return(b=c.itemRefCallback)===null||b===void 0?void 0:b.call(c,g,s,a)}),x=O$(),p=()=>{a||(l.onValueChange(s),l.onOpenChange(!1))};return C.createElement(CZ,{scope:r,value:s,disabled:a,textId:x,isSelected:d,onItemTextChange:C.useCallback(g=>{u(b=>{var y;return b||((y=g==null?void 0:g.textContent)!==null&&y!==void 0?y:"").trim()})},[])},C.createElement(M1.ItemSlot,{scope:r,value:s,disabled:a,textValue:h},C.createElement(ao.div,st({role:"option","aria-labelledby":x,"data-highlighted":f?"":void 0,"aria-selected":d&&f,"data-state":d?"checked":"unchecked","aria-disabled":a||void 0,"data-disabled":a?"":void 0,tabIndex:a?void 0:-1},o,{ref:v,onFocus:Qs(o.onFocus,()=>m(!0)),onBlur:Qs(o.onBlur,()=>m(!1)),onPointerUp:Qs(o.onPointerUp,p),onPointerMove:Qs(o.onPointerMove,g=>{if(a){var b;(b=c.onItemLeave)===null||b===void 0||b.call(c)}else g.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Qs(o.onPointerLeave,g=>{if(g.currentTarget===document.activeElement){var b;(b=c.onItemLeave)===null||b===void 0||b.call(c)}}),onKeyDown:Qs(o.onKeyDown,g=>{var b;((b=c.searchRef)===null||b===void 0?void 0:b.current)!==""&&g.key===" "||(sZ.includes(g.key)&&p(),g.key===" "&&g.preventDefault())})}))))}),b0="SelectItemText",EZ=C.forwardRef((e,t)=>{const{__scopeSelect:r,className:s,style:a,...i}=e,o=Iu(b0,r),l=ku(b0,r),c=mM(b0,r),d=lZ(b0,r),[h,u]=C.useState(null),f=Ko(t,g=>u(g),c.onItemTextChange,g=>{var b;return(b=l.itemTextRefCallback)===null||b===void 0?void 0:b.call(l,g,c.value,c.disabled)}),m=h==null?void 0:h.textContent,v=C.useMemo(()=>C.createElement("option",{key:c.value,value:c.value,disabled:c.disabled},m),[c.disabled,c.value,m]),{onNativeOptionAdd:x,onNativeOptionRemove:p}=d;return Jc(()=>(x(v),()=>p(v)),[x,p,v]),C.createElement(C.Fragment,null,C.createElement(ao.span,st({id:c.textId},i,{ref:f})),c.isSelected&&o.valueNode&&!o.valueNodeHasChildren?Vl.createPortal(i.children,o.valueNode):null)}),PZ="SelectItemIndicator",TZ=C.forwardRef((e,t)=>{const{__scopeSelect:r,...s}=e;return mM(PZ,r).isSelected?C.createElement(ao.span,st({"aria-hidden":!0},s,{ref:t})):null}),a_="SelectScrollUpButton",_Z=C.forwardRef((e,t)=>{const r=ku(a_,e.__scopeSelect),s=T4(a_,e.__scopeSelect),[a,i]=C.useState(!1),o=Ko(t,s.onScrollButtonChange);return Jc(()=>{if(r.viewport&&r.isPositioned){let c=function(){const d=l.scrollTop>0;i(d)};const l=r.viewport;return c(),l.addEventListener("scroll",c),()=>l.removeEventListener("scroll",c)}},[r.viewport,r.isPositioned]),a?C.createElement(pM,st({},e,{ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}})):null}),i_="SelectScrollDownButton",IZ=C.forwardRef((e,t)=>{const r=ku(i_,e.__scopeSelect),s=T4(i_,e.__scopeSelect),[a,i]=C.useState(!1),o=Ko(t,s.onScrollButtonChange);return Jc(()=>{if(r.viewport&&r.isPositioned){let c=function(){const d=l.scrollHeight-l.clientHeight,h=Math.ceil(l.scrollTop)<d;i(h)};const l=r.viewport;return c(),l.addEventListener("scroll",c),()=>l.removeEventListener("scroll",c)}},[r.viewport,r.isPositioned]),a?C.createElement(pM,st({},e,{ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}})):null}),pM=C.forwardRef((e,t)=>{const{__scopeSelect:r,onAutoScroll:s,...a}=e,i=ku("SelectScrollButton",r),o=C.useRef(null),l=B1(r),c=C.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return C.useEffect(()=>()=>c(),[c]),Jc(()=>{var d;const h=l().find(u=>u.ref.current===document.activeElement);h==null||(d=h.ref.current)===null||d===void 0||d.scrollIntoView({block:"nearest"})},[l]),C.createElement(ao.div,st({"aria-hidden":!0},a,{ref:t,style:{flexShrink:0,...a.style},onPointerDown:Qs(a.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(s,50))}),onPointerMove:Qs(a.onPointerMove,()=>{var d;(d=i.onItemLeave)===null||d===void 0||d.call(i),o.current===null&&(o.current=window.setInterval(s,50))}),onPointerLeave:Qs(a.onPointerLeave,()=>{c()})}))}),kZ=C.forwardRef((e,t)=>{const{__scopeSelect:r,...s}=e;return C.createElement(ao.div,st({"aria-hidden":!0},s,{ref:t}))}),vM=C.forwardRef((e,t)=>{const{value:r,...s}=e,a=C.useRef(null),i=Ko(t,a),o=lJ(r);return C.useEffect(()=>{const l=a.current,c=window.HTMLSelectElement.prototype,h=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==r&&h){const u=new Event("change",{bubbles:!0});h.call(l,r),l.dispatchEvent(u)}},[o,r]),C.createElement(vJ,{asChild:!0},C.createElement("select",st({},s,{ref:i,defaultValue:r})))});vM.displayName="BubbleSelect";function gM(e){const t=Rl(e),r=C.useRef(""),s=C.useRef(0),a=C.useCallback(o=>{const l=r.current+o;t(l),function c(d){r.current=d,window.clearTimeout(s.current),d!==""&&(s.current=window.setTimeout(()=>c(""),1e3))}(l)},[t]),i=C.useCallback(()=>{r.current="",window.clearTimeout(s.current)},[]);return C.useEffect(()=>()=>window.clearTimeout(s.current),[]),[r,a,i]}function xM(e,t,r){const a=t.length>1&&Array.from(t).every(d=>d===t[0])?t[0]:t,i=r?e.indexOf(r):-1;let o=DZ(e,Math.max(i,0));a.length===1&&(o=o.filter(d=>d!==r));const c=o.find(d=>d.textValue.toLowerCase().startsWith(a.toLowerCase()));return c!==r?c:void 0}function DZ(e,t){return e.map((r,s)=>e[(t+s)%e.length])}const OZ=cZ,yM=uZ,LZ=fZ,RZ=mZ,FZ=pZ,bM=vZ,$Z=bZ,jM=SZ,wM=AZ,MZ=EZ,BZ=TZ,NM=_Z,SM=IZ,CM=kZ,Ve=OZ,qe=LZ,ze=C.forwardRef(({className:e,children:t,...r},s)=>n.jsxs(yM,{ref:s,className:He("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...r,children:[t,n.jsx(RZ,{asChild:!0,children:n.jsx(d$,{className:"h-4 w-4 opacity-50"})})]}));ze.displayName=yM.displayName;const AM=C.forwardRef(({className:e,...t},r)=>n.jsx(NM,{ref:r,className:He("flex cursor-default items-center justify-center py-1",e),...t,children:n.jsx(wK,{className:"h-4 w-4"})}));AM.displayName=NM.displayName;const EM=C.forwardRef(({className:e,...t},r)=>n.jsx(SM,{ref:r,className:He("flex cursor-default items-center justify-center py-1",e),...t,children:n.jsx(d$,{className:"h-4 w-4"})}));EM.displayName=SM.displayName;const Ue=C.forwardRef(({className:e,children:t,position:r="popper",...s},a)=>n.jsx(FZ,{children:n.jsxs(bM,{ref:a,className:He("relative z-50 max-h-96 min-w-[8rem] overflow-auto rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...s,children:[n.jsx(AM,{}),n.jsx($Z,{className:He("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),n.jsx(EM,{})]})}));Ue.displayName=bM.displayName;const zZ=C.forwardRef(({className:e,...t},r)=>n.jsx(jM,{ref:r,className:He("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));zZ.displayName=jM.displayName;const K=C.forwardRef(({className:e,children:t,...r},s)=>n.jsxs(wM,{ref:s,className:He("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[n.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:n.jsx(BZ,{children:n.jsx(k1,{className:"h-4 w-4"})})}),n.jsx(MZ,{children:t})]}));K.displayName=wM.displayName;const UZ=C.forwardRef(({className:e,...t},r)=>n.jsx(CM,{ref:r,className:He("-mx-1 my-1 h-px bg-muted",e),...t}));UZ.displayName=CM.displayName;var VZ="Label",PM=C.forwardRef((e,t)=>n.jsx(Cn.label,{...e,ref:t,onMouseDown:r=>{var a;r.target.closest("button, input, select, textarea")||((a=e.onMouseDown)==null||a.call(e,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));PM.displayName=VZ;var TM=PM;const qZ=I1("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),ae=C.forwardRef(({className:e,...t},r)=>n.jsx(TM,{ref:r,className:He(qZ(),e),...t}));ae.displayName=TM.displayName;var Yn=(e=>(e.NEW="new",e.CONTACTED="contacted",e.QUALIFIED="qualified",e.PROPOSAL="proposal",e.NEGOTIATION="negotiation",e.CLOSED_WON="closed_won",e.CLOSED_LOST="closed_lost",e))(Yn||{});function io(){const[e,t]=C.useState([]),[r,s]=C.useState([]),[a,i]=C.useState([]),[o,l]=C.useState([]),[c,d]=C.useState([]),[h,u]=C.useState([]),[f,m]=C.useState(!1);C.useEffect(()=>{v()},[]);const v=()=>{const A=[{id:"1",name:"Website Contact Form",type:"website",isActive:!0,trackingCode:"WEB_CONTACT",conversionRate:15.5,createdAt:new Date("2024-01-01")},{id:"2",name:"Facebook Ads",type:"advertising",isActive:!0,trackingCode:"FB_ADS",conversionRate:8.2,createdAt:new Date("2024-01-01")},{id:"3",name:"Customer Referral",type:"referral",isActive:!0,conversionRate:35.8,createdAt:new Date("2024-01-01")},{id:"4",name:"RV Show",type:"event",isActive:!0,trackingCode:"RV_SHOW_2024",conversionRate:22.1,createdAt:new Date("2024-01-01")},{id:"5",name:"Google Ads",type:"advertising",isActive:!0,trackingCode:"GOOGLE_ADS",conversionRate:12.3,createdAt:new Date("2024-01-01")},{id:"6",name:"Walk-in",type:"other",isActive:!0,conversionRate:45.2,createdAt:new Date("2024-01-01")}],O=[{id:"rep-001",name:"John Smith",email:"john.smith@dealership.com",phone:"(555) 123-4567",territory:"North Region",isActive:!0,targets:{monthly:10,quarterly:30,annual:120}},{id:"rep-002",name:"Sarah Johnson",email:"sarah.johnson@dealership.com",phone:"(555) 987-6543",territory:"South Region",isActive:!0,targets:{monthly:12,quarterly:36,annual:144}},{id:"rep-003",name:"Mike Davis",email:"mike.davis@dealership.com",phone:"(555) 456-7890",territory:"East Region",isActive:!0,targets:{monthly:8,quarterly:24,annual:96}}],D=mn("renter-insight-leads",[{id:"1",firstName:"John",lastName:"Smith",email:"john.smith@email.com",phone:"(555) 123-4567",source:"Website Contact Form",sourceId:"1",status:Yn.NEW,assignedTo:"rep-001",notes:"Interested in Class A Motorhome, budget $150k-200k",score:85,lastActivity:new Date("2024-01-20"),customFields:{budget:"$150k-200k",timeframe:"3-6 months",experience:"First-time buyer"},createdAt:new Date("2024-01-15"),updatedAt:new Date("2024-01-20")},{id:"2",firstName:"Sarah",lastName:"Johnson",email:"sarah.j@email.com",phone:"(555) 987-6543",source:"Customer Referral",sourceId:"3",status:Yn.QUALIFIED,assignedTo:"rep-002",notes:"Looking for travel trailer under $50k, referred by Mike Davis",score:92,lastActivity:new Date("2024-01-18"),customFields:{budget:"Under $50k",timeframe:"1-3 months",experience:"Experienced RVer"},createdAt:new Date("2024-01-14"),updatedAt:new Date("2024-01-18")}]),F=mn("renter-insight-activities",[{id:"1",leadId:"1",type:"call",description:"Initial qualification call",outcome:"positive",duration:25,completedDate:new Date("2024-01-20"),userId:"rep-001",createdAt:new Date("2024-01-20")},{id:"2",leadId:"2",type:"email",description:"Sent product brochures",outcome:"positive",completedDate:new Date("2024-01-18"),userId:"rep-002",createdAt:new Date("2024-01-18")}]),M=[{leadId:"1",totalScore:85,demographicScore:30,behaviorScore:25,engagementScore:30,lastCalculated:new Date("2024-01-20"),factors:[{factor:"Budget Match",points:25,reason:"Budget aligns with inventory"},{factor:"Response Time",points:20,reason:"Quick response to outreach"},{factor:"Engagement Level",points:15,reason:"High email open rates"}]}],R=[{id:"1",leadId:"1",userId:"rep-001",type:"follow_up",title:"Follow up on motorhome interest",description:"Schedule showroom visit",dueDate:new Date("2024-01-25"),isCompleted:!1,priority:"high",createdAt:new Date("2024-01-20")}];s(A),u(O),t(D),i(F),l(M),d(R)},x=A=>{Gr("renter-insight-leads",A)},p=A=>{Gr("renter-insight-activities",A)},g=async A=>{m(!0);try{const O={id:Math.random().toString(36).substr(2,9),firstName:A.firstName||"",lastName:A.lastName||"",email:A.email||"",phone:A.phone||"",source:A.source||"",sourceId:A.sourceId||"",status:Yn.NEW,assignedTo:A.assignedTo,notes:A.notes||"",score:0,lastActivity:new Date,customFields:A.customFields||{},createdAt:new Date,updatedAt:new Date},D=[...e,O];return t(D),x(D),await j({leadId:O.id,type:"note",description:`Lead created from ${O.source}`,userId:"current-user"}),await E(O.id),O}finally{m(!1)}},b=async(A,O)=>{const D=e.map(F=>F.id===A?{...F,status:O,updatedAt:new Date}:F);t(D),x(D),await j({leadId:A,type:"status_change",description:`Status changed to ${O}`,userId:"current-user"})},y=async(A,O)=>{var F;const D=e.map(M=>M.id===A?{...M,assignedTo:O,updatedAt:new Date}:M);t(D),x(D),await j({leadId:A,type:"note",description:`Lead assigned to ${(F=h.find(M=>M.id===O))==null?void 0:F.name}`,userId:"current-user"})},j=async A=>{const O={id:Math.random().toString(36).substr(2,9),leadId:A.leadId||"",type:A.type||"note",description:A.description||"",outcome:A.outcome,duration:A.duration,scheduledDate:A.scheduledDate,completedDate:A.completedDate||new Date,userId:A.userId||"current-user",metadata:A.metadata,createdAt:new Date},D=[...a,O];i(D),p(D);const F=e.map(M=>M.id===O.leadId?{...M,lastActivity:new Date,updatedAt:new Date}:M);t(F),x(F),await E(O.leadId)},E=async A=>{var te,he,fe;const O=e.find(oe=>oe.id===A);if(!O)return;const D=a.filter(oe=>oe.leadId===A);let F=0,M=0,R=0;const B=[];(te=O.customFields)!=null&&te.budget&&(F+=20,B.push({factor:"Budget Provided",points:20,reason:"Customer provided budget information"})),((he=O.customFields)==null?void 0:he.timeframe)==="1-3 months"?(F+=25,B.push({factor:"Short Timeframe",points:25,reason:"Ready to purchase soon"})):((fe=O.customFields)==null?void 0:fe.timeframe)==="3-6 months"&&(F+=15,B.push({factor:"Medium Timeframe",points:15,reason:"Moderate purchase timeline"})),D.filter(oe=>oe.type==="call").length>0&&(M+=30,B.push({factor:"Phone Engagement",points:30,reason:"Participated in phone calls"})),D.filter(oe=>oe.type==="email").length>2&&(M+=20,B.push({factor:"Email Engagement",points:20,reason:"Active email communication"})),D.filter(oe=>new Date(oe.createdAt).getTime()>Date.now()-7*24*60*60*1e3).length>0&&(R+=25,B.push({factor:"Recent Activity",points:25,reason:"Active in the last 7 days"}));const L=D.filter(oe=>oe.outcome==="positive").length;L>0&&(R+=L*10,B.push({factor:"Positive Interactions",points:L*10,reason:`${L} positive interactions`}));const V=F+M+R,G={leadId:A,totalScore:V,demographicScore:F,behaviorScore:M,engagementScore:R,lastCalculated:new Date,factors:B};l(oe=>oe.filter(we=>we.leadId!==A).concat(G));const Z=e.map(oe=>oe.id===A?{...oe,score:V,updatedAt:new Date}:oe);t(Z),x(Z)};return{leads:e,sources:r,activities:a,scores:o,reminders:c,salesReps:h,loading:f,createLead:g,updateLeadStatus:b,assignLead:y,logActivity:j,calculateLeadScore:E,createReminder:async A=>{const O={id:Math.random().toString(36).substr(2,9),leadId:A.leadId||"",userId:A.userId||"current-user",type:A.type||"follow_up",title:A.title||"",description:A.description||"",dueDate:A.dueDate||new Date,isCompleted:!1,priority:A.priority||"medium",createdAt:new Date};return d(D=>[...D,O]),O},completeReminder:async A=>{d(O=>O.map(D=>D.id===A?{...D,isCompleted:!0}:D))},getLeadsByRep:A=>e.filter(O=>O.assignedTo===A),getActivitiesByLead:A=>a.filter(O=>O.leadId===A),getRemindersByUser:A=>c.filter(O=>O.userId===A&&!O.isCompleted),getLeadScore:A=>o.find(O=>O.leadId===A)}}function Du({onClose:e,onSuccess:t}){const{sources:r,salesReps:s,createLead:a}=io(),{toast:i}=At(),[o,l]=C.useState(!1),[c,d]=C.useState({firstName:"",lastName:"",email:"",phone:"",source:"",sourceId:"",assignedTo:"",notes:"",customFields:{budget:"",timeframe:"",experience:"",interests:"",preferredContact:"email"}}),[h,u]=C.useState({}),f=()=>{const p={};return c.firstName.trim()||(p.firstName="First name is required"),c.lastName.trim()||(p.lastName="Last name is required"),c.email.trim()?/\S+@\S+\.\S+/.test(c.email)||(p.email="Please enter a valid email address"):p.email="Email is required",c.phone.trim()||(p.phone="Phone number is required"),c.sourceId||(p.sourceId="Lead source is required"),u(p),Object.keys(p).length===0},m=async p=>{if(p.preventDefault(),!f()){i({title:"Validation Error",description:"Please fill in all required fields correctly.",variant:"destructive"});return}l(!0);try{const g=r.find(j=>j.id===c.sourceId),b={firstName:c.firstName.trim(),lastName:c.lastName.trim(),email:c.email.trim().toLowerCase(),phone:c.phone.trim(),source:(g==null?void 0:g.name)||"",sourceId:c.sourceId,assignedTo:c.assignedTo||void 0,notes:c.notes.trim(),customFields:{...c.customFields,interests:c.customFields.interests.trim()}},y=await a(b);i({title:"Lead Created Successfully!",description:`${y.firstName} ${y.lastName} has been added to your CRM.`,variant:"default"}),t(y),e()}catch(g){console.error("Error creating lead:",g),i({title:"Error Creating Lead",description:"There was a problem creating the lead. Please try again.",variant:"destructive"})}finally{l(!1)}},v=(p,g)=>{d(b=>({...b,[p]:g})),h[p]&&u(b=>({...b,[p]:""}))},x=(p,g)=>{d(b=>({...b,customFields:{...b.customFields,[p]:g}}))};return n.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:n.jsxs(de,{className:"w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[n.jsx(ye,{children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsxs(be,{className:"text-xl flex items-center",children:[n.jsx(us,{className:"h-5 w-5 mr-2 text-blue-500"}),"Add New Lead"]}),n.jsx($e,{children:"Create a new lead and start the sales process"})]}),n.jsx(J,{variant:"ghost",size:"sm",onClick:e,children:n.jsx(Ut,{className:"h-4 w-4"})})]})}),n.jsx(ue,{children:n.jsxs("form",{onSubmit:m,className:"space-y-6",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsxs("h3",{className:"text-lg font-semibold flex items-center",children:[n.jsx(us,{className:"h-4 w-4 mr-2"}),"Contact Information"]}),n.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"firstName",children:"First Name *"}),n.jsx(Pe,{id:"firstName",value:c.firstName,onChange:p=>v("firstName",p.target.value),placeholder:"Enter first name",className:h.firstName?"border-red-500":""}),h.firstName&&n.jsx("p",{className:"text-sm text-red-500 mt-1",children:h.firstName})]}),n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"lastName",children:"Last Name *"}),n.jsx(Pe,{id:"lastName",value:c.lastName,onChange:p=>v("lastName",p.target.value),placeholder:"Enter last name",className:h.lastName?"border-red-500":""}),h.lastName&&n.jsx("p",{className:"text-sm text-red-500 mt-1",children:h.lastName})]})]}),n.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"email",children:"Email Address *"}),n.jsxs("div",{className:"relative",children:[n.jsx(Qr,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),n.jsx(Pe,{id:"email",type:"email",value:c.email,onChange:p=>v("email",p.target.value),placeholder:"Enter email address",className:`pl-10 ${h.email?"border-red-500":""}`})]}),h.email&&n.jsx("p",{className:"text-sm text-red-500 mt-1",children:h.email})]}),n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"phone",children:"Phone Number *"}),n.jsxs("div",{className:"relative",children:[n.jsx(am,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),n.jsx(Pe,{id:"phone",type:"tel",value:c.phone,onChange:p=>v("phone",p.target.value),placeholder:"Enter phone number",className:`pl-10 ${h.phone?"border-red-500":""}`})]}),h.phone&&n.jsx("p",{className:"text-sm text-red-500 mt-1",children:h.phone})]})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("h3",{className:"text-lg font-semibold flex items-center",children:[n.jsx(g4,{className:"h-4 w-4 mr-2"}),"Lead Details"]}),n.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"source",children:"Lead Source *"}),n.jsxs(Ve,{value:c.sourceId,onValueChange:p=>v("sourceId",p),children:[n.jsx(ze,{className:h.sourceId?"border-red-500":"",children:n.jsx(qe,{placeholder:"Select lead source"})}),n.jsx(Ue,{children:r.map(p=>n.jsx(K,{value:p.id,children:p.name},p.id))})]}),h.sourceId&&n.jsx("p",{className:"text-sm text-red-500 mt-1",children:h.sourceId})]}),n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"assignedTo",children:"Assign to Sales Rep"}),n.jsxs(Ve,{value:c.assignedTo,onValueChange:p=>v("assignedTo",p),children:[n.jsx(ze,{children:n.jsx(qe,{placeholder:"Select sales rep (optional)"})}),n.jsxs(Ue,{children:[n.jsx(K,{value:"",children:"Unassigned"}),s.map(p=>n.jsx(K,{value:p.id,children:p.name},p.id))]})]})]})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("h3",{className:"text-lg font-semibold flex items-center",children:[n.jsx(It,{className:"h-4 w-4 mr-2"}),"Additional Information"]}),n.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"budget",children:"Budget Range"}),n.jsxs(Ve,{value:c.customFields.budget,onValueChange:p=>x("budget",p),children:[n.jsx(ze,{children:n.jsx(qe,{placeholder:"Select budget range"})}),n.jsxs(Ue,{children:[n.jsx(K,{value:"Under $50k",children:"Under $50k"}),n.jsx(K,{value:"$50k-$100k",children:"$50k-$100k"}),n.jsx(K,{value:"$100k-$150k",children:"$100k-$150k"}),n.jsx(K,{value:"$150k-$200k",children:"$150k-$200k"}),n.jsx(K,{value:"$200k+",children:"$200k+"})]})]})]}),n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"timeframe",children:"Purchase Timeframe"}),n.jsxs(Ve,{value:c.customFields.timeframe,onValueChange:p=>x("timeframe",p),children:[n.jsx(ze,{children:n.jsx(qe,{placeholder:"Select timeframe"})}),n.jsxs(Ue,{children:[n.jsx(K,{value:"Immediate",children:"Immediate (within 1 month)"}),n.jsx(K,{value:"1-3 months",children:"1-3 months"}),n.jsx(K,{value:"3-6 months",children:"3-6 months"}),n.jsx(K,{value:"6-12 months",children:"6-12 months"}),n.jsx(K,{value:"12+ months",children:"12+ months"})]})]})]})]}),n.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"experience",children:"RV Experience"}),n.jsxs(Ve,{value:c.customFields.experience,onValueChange:p=>x("experience",p),children:[n.jsx(ze,{children:n.jsx(qe,{placeholder:"Select experience level"})}),n.jsxs(Ue,{children:[n.jsx(K,{value:"First-time buyer",children:"First-time buyer"}),n.jsx(K,{value:"Some experience",children:"Some experience"}),n.jsx(K,{value:"Experienced RVer",children:"Experienced RVer"}),n.jsx(K,{value:"Expert/Full-timer",children:"Expert/Full-timer"})]})]})]}),n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"preferredContact",children:"Preferred Contact Method"}),n.jsxs(Ve,{value:c.customFields.preferredContact,onValueChange:p=>x("preferredContact",p),children:[n.jsx(ze,{children:n.jsx(qe,{placeholder:"Select contact method"})}),n.jsxs(Ue,{children:[n.jsx(K,{value:"email",children:"Email"}),n.jsx(K,{value:"phone",children:"Phone"}),n.jsx(K,{value:"text",children:"Text/SMS"}),n.jsx(K,{value:"any",children:"Any method"})]})]})]})]}),n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"interests",children:"Interests/Requirements"}),n.jsx(Pe,{id:"interests",value:c.customFields.interests,onChange:p=>x("interests",p.target.value),placeholder:"e.g., Class A Motorhome, Solar panels, Pet-friendly"})]})]}),n.jsx("div",{className:"space-y-4",children:n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"notes",children:"Notes"}),n.jsx(tr,{id:"notes",value:c.notes,onChange:p=>v("notes",p.target.value),placeholder:"Add any additional notes about this lead...",rows:3})]})}),n.jsxs("div",{className:"flex justify-end space-x-3 pt-6 border-t",children:[n.jsx(J,{type:"button",variant:"outline",onClick:e,disabled:o,children:"Cancel"}),n.jsx(J,{type:"submit",disabled:o,children:o?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Creating Lead..."]}):n.jsxs(n.Fragment,{children:[n.jsx(Rr,{className:"h-4 w-4 mr-2"}),"Create Lead"]})})]})]})})]})})}const WZ=[{name:"Total Leads",value:"2,651",change:"+4.75%",changeType:"positive",icon:On},{name:"Inventory Units",value:"847",change:"+54.02%",changeType:"positive",icon:Vs},{name:"Active Quotes",value:"124",change:"-1.39%",changeType:"negative",icon:ls},{name:"Monthly Revenue",value:"$405,091",change:"+10.18%",changeType:"positive",icon:It}],HZ=[{id:1,type:"lead",title:"New lead from website",description:"John Smith interested in Class A Motorhome",time:"2 minutes ago"},{id:2,type:"quote",title:"Quote sent to customer",description:"Quote #Q-2024-001 sent to Sarah Johnson",time:"15 minutes ago"},{id:3,type:"service",title:"Service appointment scheduled",description:"Annual maintenance for RV #VIN123456",time:"1 hour ago"},{id:4,type:"delivery",title:"Delivery completed",description:"Travel Trailer delivered to Mike Davis",time:"2 hours ago"}];function GZ(){const[e,t]=C.useState(!1),r=a=>{console.log("New lead created from dashboard:",a)},s=a=>{switch(a){case"add-lead":t(!0);break;case"add-inventory":window.location.href="/inventory";break;case"create-quote":window.location.href="/quotes";break;case"schedule-service":window.location.href="/service";break}};return n.jsxs("div",{className:"space-y-6",children:[e&&n.jsx(Du,{onClose:()=>t(!1),onSuccess:r}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Dashboard"}),n.jsx("p",{className:"text-muted-foreground",children:"Welcome to your Renter Insight CRM/DMS dashboard"})]}),n.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:WZ.map(a=>n.jsxs(de,{children:[n.jsxs(ye,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(be,{className:"text-sm font-medium",children:a.name}),n.jsx(a.icon,{className:"h-4 w-4 text-muted-foreground"})]}),n.jsxs(ue,{children:[n.jsx("div",{className:"text-2xl font-bold",children:a.value}),n.jsxs("p",{className:`text-xs ${a.changeType==="positive"?"text-green-600":"text-red-600"}`,children:[a.change," from last month"]})]})]},a.name))}),n.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[n.jsxs(de,{children:[n.jsxs(ye,{children:[n.jsx(be,{children:"Recent Activity"}),n.jsx($e,{children:"Latest updates from your dealership"})]}),n.jsx(ue,{children:n.jsx("div",{className:"space-y-4",children:HZ.map(a=>n.jsxs("div",{className:"flex items-start space-x-3",children:[n.jsx("div",{className:"flex-shrink-0",children:n.jsx("div",{className:"h-2 w-2 bg-primary rounded-full mt-2"})}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("p",{className:"text-sm font-medium text-foreground",children:a.title}),n.jsx("p",{className:"text-sm text-muted-foreground",children:a.description}),n.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:a.time})]})]},a.id))})})]}),n.jsxs(de,{children:[n.jsxs(ye,{children:[n.jsx(be,{children:"Quick Actions"}),n.jsx($e,{children:"Common tasks and shortcuts"})]}),n.jsx(ue,{children:n.jsxs("div",{className:"grid gap-3",children:[n.jsxs("button",{onClick:()=>s("add-lead"),className:"flex items-center justify-between p-3 text-left border rounded-lg hover:bg-accent transition-colors",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx(On,{className:"h-5 w-5 text-primary"}),n.jsx("span",{className:"font-medium",children:"Add New Lead"})]}),n.jsx(Nt,{className:"h-4 w-4 text-muted-foreground"})]}),n.jsxs("button",{onClick:()=>s("add-inventory"),className:"flex items-center justify-between p-3 text-left border rounded-lg hover:bg-accent transition-colors",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx(Vs,{className:"h-5 w-5 text-primary"}),n.jsx("span",{className:"font-medium",children:"Add Inventory"})]}),n.jsx("span",{className:"text-muted-foreground",children:""})]}),n.jsxs("button",{onClick:()=>s("create-quote"),className:"flex items-center justify-between p-3 text-left border rounded-lg hover:bg-accent transition-colors",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx(ls,{className:"h-5 w-5 text-primary"}),n.jsx("span",{className:"font-medium",children:"Create Quote"})]}),n.jsx("span",{className:"text-muted-foreground",children:""})]}),n.jsxs("button",{onClick:()=>s("schedule-service"),className:"flex items-center justify-between p-3 text-left border rounded-lg hover:bg-accent transition-colors",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx(Lr,{className:"h-5 w-5 text-primary"}),n.jsx("span",{className:"font-medium",children:"Schedule Service"})]}),n.jsx("span",{className:"text-muted-foreground",children:""})]})]})})]})]})]})}function KZ(){const[e,t]=C.useState("admin@renterinsight.com"),[r,s]=C.useState("password"),{login:a,isLoading:i}=im(),{toast:o}=At(),l=d4(),c=async d=>{d.preventDefault();try{await a(e,r),l("/")}catch{o({title:"Login Failed",description:"Invalid email or password",variant:"destructive"})}};return n.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background px-4",children:n.jsxs(de,{className:"w-full max-w-md",children:[n.jsxs(ye,{className:"text-center",children:[n.jsx(be,{className:"text-2xl font-bold text-primary",children:"Renter Insight CRM/DMS"}),n.jsx($e,{children:"Sign in to your account to continue"})]}),n.jsxs(ue,{children:[n.jsxs("form",{onSubmit:c,className:"space-y-4",children:[n.jsx("div",{children:n.jsx(Pe,{type:"email",placeholder:"Email",value:e,onChange:d=>t(d.target.value),required:!0,autoComplete:"username"})}),n.jsx("div",{children:n.jsx(Pe,{type:"password",placeholder:"Password",value:r,onChange:d=>s(d.target.value),required:!0,autoComplete:"current-password"})}),n.jsx(J,{type:"submit",className:"w-full",disabled:i,children:i?"Signing in...":"Sign In"})]}),n.jsx("div",{className:"mt-4 text-center text-sm text-muted-foreground",children:"Demo credentials: admin@renterinsight.com / password"})]})]})})}function YZ({children:e}){const{user:t,isLoading:r}=im();return r?n.jsx("div",{className:"min-h-screen flex items-center justify-center",children:n.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-primary"})}):t?n.jsx(n.Fragment,{children:e}):n.jsx(mG,{to:"/login",replace:!0})}const XZ=I1("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Re({className:e,variant:t,...r}){return n.jsx("div",{className:He(XZ({variant:t}),e),...r})}function QZ(e){const t=e+"CollectionProvider",[r,s]=Eu(t),[a,i]=r(t,{collectionRef:{current:null},itemMap:new Map}),o=x=>{const{scope:p,children:g}=x,b=pe.useRef(null),y=pe.useRef(new Map).current;return n.jsx(a,{scope:p,itemMap:y,collectionRef:b,children:g})};o.displayName=t;const l=e+"CollectionSlot",c=xf(l),d=pe.forwardRef((x,p)=>{const{scope:g,children:b}=x,y=i(l,g),j=bi(p,y.collectionRef);return n.jsx(c,{ref:j,children:b})});d.displayName=l;const h=e+"CollectionItemSlot",u="data-radix-collection-item",f=xf(h),m=pe.forwardRef((x,p)=>{const{scope:g,children:b,...y}=x,j=pe.useRef(null),E=bi(p,j),S=i(h,g);return pe.useEffect(()=>(S.itemMap.set(j,{ref:j,...y}),()=>void S.itemMap.delete(j))),n.jsx(f,{[u]:"",ref:E,children:b})});m.displayName=h;function v(x){const p=i(e+"CollectionConsumer",x);return pe.useCallback(()=>{const b=p.collectionRef.current;if(!b)return[];const y=Array.from(b.querySelectorAll(`[${u}]`));return Array.from(p.itemMap.values()).sort((S,N)=>y.indexOf(S.ref.current)-y.indexOf(N.ref.current))},[p.collectionRef,p.itemMap])}return[{Provider:o,Slot:d,ItemSlot:m},v,s]}var JZ=Eg[" useId ".trim().toString()]||(()=>{}),ZZ=0;function eee(e){const[t,r]=C.useState(JZ());return Yc(()=>{e||r(s=>s??String(ZZ++))},[e]),e||(t?`radix-${t}`:"")}function tee(e){const t=C.useRef(e);return C.useEffect(()=>{t.current=e}),C.useMemo(()=>(...r)=>{var s;return(s=t.current)==null?void 0:s.call(t,...r)},[])}var ree=C.createContext(void 0);function nee(e){const t=C.useContext(ree);return e||t||"ltr"}var L2="rovingFocusGroup.onEntryFocus",see={bubbles:!1,cancelable:!0},Lg="RovingFocusGroup",[iS,_M,aee]=QZ(Lg),[iee,IM]=Eu(Lg,[aee]),[oee,lee]=iee(Lg),kM=C.forwardRef((e,t)=>n.jsx(iS.Provider,{scope:e.__scopeRovingFocusGroup,children:n.jsx(iS.Slot,{scope:e.__scopeRovingFocusGroup,children:n.jsx(cee,{...e,ref:t})})}));kM.displayName=Lg;var cee=C.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,orientation:s,loop:a=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:d,preventScrollOnEntryFocus:h=!1,...u}=e,f=C.useRef(null),m=bi(t,f),v=nee(i),[x,p]=T1({prop:o,defaultProp:l??null,onChange:c,caller:Lg}),[g,b]=C.useState(!1),y=tee(d),j=_M(r),E=C.useRef(!1),[S,N]=C.useState(0);return C.useEffect(()=>{const w=f.current;if(w)return w.addEventListener(L2,y),()=>w.removeEventListener(L2,y)},[y]),n.jsx(oee,{scope:r,orientation:s,dir:v,loop:a,currentTabStopId:x,onItemFocus:C.useCallback(w=>p(w),[p]),onItemShiftTab:C.useCallback(()=>b(!0),[]),onFocusableItemAdd:C.useCallback(()=>N(w=>w+1),[]),onFocusableItemRemove:C.useCallback(()=>N(w=>w-1),[]),children:n.jsx(Cn.div,{tabIndex:g||S===0?-1:0,"data-orientation":s,...u,ref:m,style:{outline:"none",...e.style},onMouseDown:on(e.onMouseDown,()=>{E.current=!0}),onFocus:on(e.onFocus,w=>{const _=!E.current;if(w.target===w.currentTarget&&_&&!g){const k=new CustomEvent(L2,see);if(w.currentTarget.dispatchEvent(k),!k.defaultPrevented){const T=j().filter(M=>M.focusable),A=T.find(M=>M.active),O=T.find(M=>M.id===x),F=[A,O,...T].filter(Boolean).map(M=>M.ref.current);LM(F,h)}}E.current=!1}),onBlur:on(e.onBlur,()=>b(!1))})})}),DM="RovingFocusGroupItem",OM=C.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,focusable:s=!0,active:a=!1,tabStopId:i,children:o,...l}=e,c=eee(),d=i||c,h=lee(DM,r),u=h.currentTabStopId===d,f=_M(r),{onFocusableItemAdd:m,onFocusableItemRemove:v,currentTabStopId:x}=h;return C.useEffect(()=>{if(s)return m(),()=>v()},[s,m,v]),n.jsx(iS.ItemSlot,{scope:r,id:d,focusable:s,active:a,children:n.jsx(Cn.span,{tabIndex:u?0:-1,"data-orientation":h.orientation,...l,ref:t,onMouseDown:on(e.onMouseDown,p=>{s?h.onItemFocus(d):p.preventDefault()}),onFocus:on(e.onFocus,()=>h.onItemFocus(d)),onKeyDown:on(e.onKeyDown,p=>{if(p.key==="Tab"&&p.shiftKey){h.onItemShiftTab();return}if(p.target!==p.currentTarget)return;const g=hee(p,h.orientation,h.dir);if(g!==void 0){if(p.metaKey||p.ctrlKey||p.altKey||p.shiftKey)return;p.preventDefault();let y=f().filter(j=>j.focusable).map(j=>j.ref.current);if(g==="last")y.reverse();else if(g==="prev"||g==="next"){g==="prev"&&y.reverse();const j=y.indexOf(p.currentTarget);y=h.loop?fee(y,j+1):y.slice(j+1)}setTimeout(()=>LM(y))}}),children:typeof o=="function"?o({isCurrentTabStop:u,hasTabStop:x!=null}):o})})});OM.displayName=DM;var dee={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function uee(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function hee(e,t,r){const s=uee(e.key,r);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(s))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(s)))return dee[s]}function LM(e,t=!1){const r=document.activeElement;for(const s of e)if(s===r||(s.focus({preventScroll:t}),document.activeElement!==r))return}function fee(e,t){return e.map((r,s)=>e[(t+s)%e.length])}var mee=kM,pee=OM,vee=C.createContext(void 0);function gee(e){const t=C.useContext(vee);return e||t||"ltr"}var xee=Eg[" useId ".trim().toString()]||(()=>{}),yee=0;function bee(e){const[t,r]=C.useState(xee());return Yc(()=>{e||r(s=>s??String(yee++))},[e]),e||(t?`radix-${t}`:"")}var z1="Tabs",[jee,mOe]=Eu(z1,[IM]),RM=IM(),[wee,_4]=jee(z1),FM=C.forwardRef((e,t)=>{const{__scopeTabs:r,value:s,onValueChange:a,defaultValue:i,orientation:o="horizontal",dir:l,activationMode:c="automatic",...d}=e,h=gee(l),[u,f]=T1({prop:s,onChange:a,defaultProp:i??"",caller:z1});return n.jsx(wee,{scope:r,baseId:bee(),value:u,onValueChange:f,orientation:o,dir:h,activationMode:c,children:n.jsx(Cn.div,{dir:h,"data-orientation":o,...d,ref:t})})});FM.displayName=z1;var $M="TabsList",MM=C.forwardRef((e,t)=>{const{__scopeTabs:r,loop:s=!0,...a}=e,i=_4($M,r),o=RM(r);return n.jsx(mee,{asChild:!0,...o,orientation:i.orientation,dir:i.dir,loop:s,children:n.jsx(Cn.div,{role:"tablist","aria-orientation":i.orientation,...a,ref:t})})});MM.displayName=$M;var BM="TabsTrigger",zM=C.forwardRef((e,t)=>{const{__scopeTabs:r,value:s,disabled:a=!1,...i}=e,o=_4(BM,r),l=RM(r),c=qM(o.baseId,s),d=WM(o.baseId,s),h=s===o.value;return n.jsx(pee,{asChild:!0,...l,focusable:!a,active:h,children:n.jsx(Cn.button,{type:"button",role:"tab","aria-selected":h,"aria-controls":d,"data-state":h?"active":"inactive","data-disabled":a?"":void 0,disabled:a,id:c,...i,ref:t,onMouseDown:on(e.onMouseDown,u=>{!a&&u.button===0&&u.ctrlKey===!1?o.onValueChange(s):u.preventDefault()}),onKeyDown:on(e.onKeyDown,u=>{[" ","Enter"].includes(u.key)&&o.onValueChange(s)}),onFocus:on(e.onFocus,()=>{const u=o.activationMode!=="manual";!h&&!a&&u&&o.onValueChange(s)})})})});zM.displayName=BM;var UM="TabsContent",VM=C.forwardRef((e,t)=>{const{__scopeTabs:r,value:s,forceMount:a,children:i,...o}=e,l=_4(UM,r),c=qM(l.baseId,s),d=WM(l.baseId,s),h=s===l.value,u=C.useRef(h);return C.useEffect(()=>{const f=requestAnimationFrame(()=>u.current=!1);return()=>cancelAnimationFrame(f)},[]),n.jsx(P1,{present:a||h,children:({present:f})=>n.jsx(Cn.div,{"data-state":h?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!f,id:d,tabIndex:0,...o,ref:t,style:{...e.style,animationDuration:u.current?"0s":void 0},children:f&&i})})});VM.displayName=UM;function qM(e,t){return`${e}-trigger-${t}`}function WM(e,t){return`${e}-content-${t}`}var Nee=FM,HM=MM,GM=zM,KM=VM;const xr=Nee,fr=C.forwardRef(({className:e,...t},r)=>n.jsx(HM,{ref:r,className:He("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));fr.displayName=HM.displayName;const Qe=C.forwardRef(({className:e,...t},r)=>n.jsx(GM,{ref:r,className:He("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...t}));Qe.displayName=GM.displayName;const et=C.forwardRef(({className:e,...t},r)=>n.jsx(KM,{ref:r,className:He("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));et.displayName=KM.displayName;const R2=[{id:"1",name:"New",order:1,probability:10,isActive:!0,color:"bg-blue-500"},{id:"2",name:"Contacted",order:2,probability:25,isActive:!0,color:"bg-yellow-500"},{id:"3",name:"Qualified",order:3,probability:50,isActive:!0,color:"bg-orange-500"},{id:"4",name:"Proposal",order:4,probability:75,isActive:!0,color:"bg-purple-500"},{id:"5",name:"Negotiation",order:5,probability:90,isActive:!0,color:"bg-indigo-500"},{id:"6",name:"Closed Won",order:6,probability:100,isActive:!0,color:"bg-green-500"},{id:"7",name:"Closed Lost",order:7,probability:0,isActive:!0,color:"bg-red-500"}];function See(){var u,f,m;const{leads:e,salesReps:t,activities:r}=io(),[s,a]=C.useState("all"),[i,o]=C.useState("30"),l=C.useMemo(()=>{const v=s==="all"?e:e.filter(p=>p.assignedTo===s);return R2.map(p=>{const g=v.filter(y=>{switch(p.name.toLowerCase()){case"new":return y.status===Yn.NEW;case"contacted":return y.status===Yn.CONTACTED;case"qualified":return y.status===Yn.QUALIFIED;case"proposal":return y.status===Yn.PROPOSAL;case"negotiation":return y.status===Yn.NEGOTIATION;case"closed won":return y.status===Yn.CLOSED_WON;case"closed lost":return y.status===Yn.CLOSED_LOST;default:return!1}}),b=g.reduce((y,j)=>{var S,N;const E=parseFloat(((N=(S=j.customFields)==null?void 0:S.budget)==null?void 0:N.replace(/[^0-9]/g,""))||"0");return y+E*p.probability/100},0);return{stage:p.name,count:g.length,value:b,averageTime:7,conversionRate:p.probability}})},[e,s]),c=C.useMemo(()=>t.map(x=>{const p=e.filter(k=>k.assignedTo===x.id),b=r.filter(k=>k.userId===x.id).filter(k=>{const T=new Date(k.createdAt),A=new Date;return A.setDate(A.getDate()-7),T>=A}),y=p.filter(k=>[Yn.QUALIFIED,Yn.PROPOSAL,Yn.NEGOTIATION,Yn.CLOSED_WON].includes(k.status)),j=p.filter(k=>k.status===Yn.CLOSED_WON),E=p.filter(k=>k.status===Yn.CLOSED_LOST),S=p.reduce((k,T)=>{var D,F;if(T.status===Yn.CLOSED_WON||T.status===Yn.CLOSED_LOST)return k;const A=parseFloat(((F=(D=T.customFields)==null?void 0:D.budget)==null?void 0:F.replace(/[^0-9]/g,""))||"0"),O=R2.find(M=>M.name.toLowerCase()===T.status.replace("_"," "));return k+A*((O==null?void 0:O.probability)||0)/100},0),N=j.length+E.length,w=N>0?j.length/N*100:0,_=j.length>0?j.reduce((k,T)=>{var O,D;const A=parseFloat(((D=(O=T.customFields)==null?void 0:O.budget)==null?void 0:D.replace(/[^0-9]/g,""))||"0");return k+A},0)/j.length:0;return{repId:x.id,repName:x.name,totalLeads:p.length,qualifiedLeads:y.length,closedWon:j.length,closedLost:E.length,pipelineValue:S,conversionRate:w,averageDealSize:_,activitiesThisWeek:b.length}}),[e,t,r]),d=l.reduce((v,x)=>v+x.value,0),h=l.reduce((v,x)=>v+x.count,0);return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex gap-4",children:[n.jsxs(Ve,{value:s,onValueChange:a,children:[n.jsx(ze,{className:"w-48",children:n.jsx(qe,{placeholder:"Select sales rep"})}),n.jsxs(Ue,{children:[n.jsx(K,{value:"all",children:"All Sales Reps"}),t.map(v=>n.jsx(K,{value:v.id,children:v.name},v.id))]})]}),n.jsxs(Ve,{value:i,onValueChange:o,children:[n.jsx(ze,{className:"w-32",children:n.jsx(qe,{})}),n.jsxs(Ue,{children:[n.jsx(K,{value:"7",children:"7 days"}),n.jsx(K,{value:"30",children:"30 days"}),n.jsx(K,{value:"90",children:"90 days"}),n.jsx(K,{value:"365",children:"1 year"})]})]})]}),n.jsxs("div",{className:"grid gap-4 md:grid-cols-4",children:[n.jsxs(de,{className:"shadow-sm border-0 bg-gradient-to-br from-blue-50 to-blue-100/50",children:[n.jsxs(ye,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(be,{className:"text-sm font-medium text-blue-900",children:"Total Pipeline"}),n.jsx(It,{className:"h-4 w-4 text-blue-600"})]}),n.jsxs(ue,{children:[n.jsx("div",{className:"text-2xl font-bold text-blue-900",children:_e(d)}),n.jsxs("p",{className:"text-xs text-blue-600 flex items-center mt-1",children:[n.jsx(_t,{className:"h-3 w-3 mr-1"}),h," active leads"]})]})]}),n.jsxs(de,{className:"shadow-sm border-0 bg-gradient-to-br from-green-50 to-green-100/50",children:[n.jsxs(ye,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(be,{className:"text-sm font-medium text-green-900",children:"Qualified Leads"}),n.jsx(ja,{className:"h-4 w-4 text-green-600"})]}),n.jsxs(ue,{children:[n.jsx("div",{className:"text-2xl font-bold text-green-900",children:((u=l.find(v=>v.stage==="Qualified"))==null?void 0:u.count)||0}),n.jsxs("p",{className:"text-xs text-green-600 flex items-center mt-1",children:[n.jsx(_t,{className:"h-3 w-3 mr-1"}),"Ready for proposal"]})]})]}),n.jsxs(de,{className:"shadow-sm border-0 bg-gradient-to-br from-purple-50 to-purple-100/50",children:[n.jsxs(ye,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(be,{className:"text-sm font-medium text-purple-900",children:"Conversion Rate"}),n.jsx(ja,{className:"h-4 w-4 text-purple-600"})]}),n.jsxs(ue,{children:[n.jsxs("div",{className:"text-2xl font-bold text-purple-900",children:[Math.round(s==="all"?c.reduce((v,x)=>v+x.conversionRate,0)/c.length||0:((f=c.find(v=>v.repId===s))==null?void 0:f.conversionRate)||0),"%"]}),n.jsxs("p",{className:"text-xs text-purple-600 flex items-center mt-1",children:[n.jsx(_t,{className:"h-3 w-3 mr-1"}),"Win rate"]})]})]}),n.jsxs(de,{className:"shadow-sm border-0 bg-gradient-to-br from-orange-50 to-orange-100/50",children:[n.jsxs(ye,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(be,{className:"text-sm font-medium text-orange-900",children:"Avg Deal Size"}),n.jsx(It,{className:"h-4 w-4 text-orange-600"})]}),n.jsxs(ue,{children:[n.jsx("div",{className:"text-2xl font-bold text-orange-900",children:_e(s==="all"?c.reduce((v,x)=>v+x.averageDealSize,0)/c.length||0:((m=c.find(v=>v.repId===s))==null?void 0:m.averageDealSize)||0)}),n.jsxs("p",{className:"text-xs text-orange-600 flex items-center mt-1",children:[n.jsx(It,{className:"h-3 w-3 mr-1"}),"Per closed deal"]})]})]})]}),n.jsxs(de,{children:[n.jsxs(ye,{children:[n.jsx(be,{children:"Sales Pipeline"}),n.jsx($e,{children:"Lead distribution across pipeline stages"})]}),n.jsx(ue,{children:n.jsx("div",{className:"grid gap-4 md:grid-cols-7",children:l.map((v,x)=>{const p=R2[x];return n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:He("w-full h-24 rounded-lg flex items-center justify-center text-white font-bold text-lg mb-2",p.color),children:v.count}),n.jsx("h3",{className:"font-semibold text-sm",children:p.name}),n.jsx("p",{className:"text-xs text-muted-foreground",children:_e(v.value)}),n.jsxs("p",{className:"text-xs text-muted-foreground",children:[p.probability,"% probability"]})]},p.id)})})})]}),n.jsxs(de,{children:[n.jsxs(ye,{children:[n.jsx(be,{children:"Sales Rep Performance"}),n.jsx($e,{children:"Individual performance metrics and activity levels"})]}),n.jsx(ue,{children:n.jsx("div",{className:"space-y-4",children:c.map(v=>n.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg hover:bg-accent/50 transition-colors",children:[n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[n.jsx("h3",{className:"font-semibold",children:v.repName}),n.jsxs(Re,{variant:"secondary",children:[v.totalLeads," leads"]}),n.jsxs(Re,{className:"bg-green-50 text-green-700 border-green-200",children:[v.conversionRate.toFixed(1),"% conversion"]})]}),n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm text-muted-foreground",children:[n.jsxs("div",{children:[n.jsx("span",{className:"font-medium",children:"Pipeline Value:"}),n.jsx("div",{className:"font-bold text-primary",children:_e(v.pipelineValue)})]}),n.jsxs("div",{children:[n.jsx("span",{className:"font-medium",children:"Qualified:"}),n.jsx("div",{className:"font-bold text-green-600",children:v.qualifiedLeads})]}),n.jsxs("div",{children:[n.jsx("span",{className:"font-medium",children:"Closed Won:"}),n.jsx("div",{className:"font-bold text-blue-600",children:v.closedWon})]}),n.jsxs("div",{children:[n.jsx("span",{className:"font-medium",children:"Activities (7d):"}),n.jsx("div",{className:"font-bold text-purple-600",children:v.activitiesThisWeek})]})]})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsxs(J,{variant:"outline",size:"sm",children:[n.jsx(On,{className:"h-3 w-3 mr-1"}),"View Leads"]}),n.jsxs(J,{variant:"outline",size:"sm",children:[n.jsx(Lr,{className:"h-3 w-3 mr-1"}),"Activities"]})]})]},v.repId))})})]})]})}var I4="Progress",k4=100,[Cee,pOe]=Eu(I4),[Aee,Eee]=Cee(I4),YM=C.forwardRef((e,t)=>{const{__scopeProgress:r,value:s=null,max:a,getValueLabel:i=Pee,...o}=e;(a||a===0)&&!o_(a)&&console.error(Tee(`${a}`,"Progress"));const l=o_(a)?a:k4;s!==null&&!l_(s,l)&&console.error(_ee(`${s}`,"Progress"));const c=l_(s,l)?s:null,d=Ky(c)?i(c,l):void 0;return n.jsx(Aee,{scope:r,value:c,max:l,children:n.jsx(Cn.div,{"aria-valuemax":l,"aria-valuemin":0,"aria-valuenow":Ky(c)?c:void 0,"aria-valuetext":d,role:"progressbar","data-state":JM(c,l),"data-value":c??void 0,"data-max":l,...o,ref:t})})});YM.displayName=I4;var XM="ProgressIndicator",QM=C.forwardRef((e,t)=>{const{__scopeProgress:r,...s}=e,a=Eee(XM,r);return n.jsx(Cn.div,{"data-state":JM(a.value,a.max),"data-value":a.value??void 0,"data-max":a.max,...s,ref:t})});QM.displayName=XM;function Pee(e,t){return`${Math.round(e/t*100)}%`}function JM(e,t){return e==null?"indeterminate":e===t?"complete":"loading"}function Ky(e){return typeof e=="number"}function o_(e){return Ky(e)&&!isNaN(e)&&e>0}function l_(e,t){return Ky(e)&&!isNaN(e)&&e<=t&&e>=0}function Tee(e,t){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${k4}\`.`}function _ee(e,t){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${k4} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var ZM=YM,Iee=QM;const su=C.forwardRef(({className:e,value:t,...r},s)=>n.jsx(ZM,{ref:s,className:He("relative h-4 w-full overflow-hidden rounded-full bg-secondary",e),...r,children:n.jsx(Iee,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})}));su.displayName=ZM.displayName;function kee({score:e,className:t}){const r=i=>i>=80?"text-green-600":i>=60?"text-yellow-600":i>=40?"text-orange-600":"text-red-600",s=i=>i>=80?"bg-green-50 text-green-700 border-green-200":i>=60?"bg-yellow-50 text-yellow-700 border-yellow-200":i>=40?"bg-orange-50 text-orange-700 border-orange-200":"bg-red-50 text-red-700 border-red-200",a=i=>i>=80?"Hot Lead":i>=60?"Warm Lead":i>=40?"Cool Lead":"Cold Lead";return n.jsxs(de,{className:He("shadow-sm",t),children:[n.jsx(ye,{children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx(be,{className:"text-lg",children:"Lead Score"}),n.jsxs($e,{children:["Last calculated: ",e.lastCalculated.toLocaleDateString()]})]}),n.jsxs("div",{className:"text-right",children:[n.jsx("div",{className:He("text-3xl font-bold",r(e.totalScore)),children:e.totalScore}),n.jsx(Re,{className:He("ri-badge-status",s(e.totalScore)),children:a(e.totalScore)})]})]})}),n.jsxs(ue,{className:"space-y-6",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(us,{className:"h-4 w-4 text-blue-500"}),n.jsx("span",{className:"text-sm font-medium",children:"Demographics"})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(su,{value:e.demographicScore/50*100,className:"w-20"}),n.jsx("span",{className:"text-sm font-bold w-8",children:e.demographicScore})]})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Co,{className:"h-4 w-4 text-green-500"}),n.jsx("span",{className:"text-sm font-medium",children:"Behavior"})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(su,{value:e.behaviorScore/50*100,className:"w-20"}),n.jsx("span",{className:"text-sm font-bold w-8",children:e.behaviorScore})]})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(SK,{className:"h-4 w-4 text-purple-500"}),n.jsx("span",{className:"text-sm font-medium",children:"Engagement"})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(su,{value:e.engagementScore/50*100,className:"w-20"}),n.jsx("span",{className:"text-sm font-bold w-8",children:e.engagementScore})]})]})]}),n.jsxs("div",{children:[n.jsxs("h4",{className:"font-semibold text-sm mb-3 flex items-center",children:[n.jsx(_t,{className:"h-4 w-4 mr-2"}),"Score Factors"]}),n.jsx("div",{className:"space-y-2",children:e.factors.map((i,o)=>n.jsxs("div",{className:"flex items-center justify-between p-2 bg-muted/30 rounded-md",children:[n.jsxs("div",{children:[n.jsx("span",{className:"text-sm font-medium",children:i.factor}),n.jsx("p",{className:"text-xs text-muted-foreground",children:i.reason})]}),n.jsxs(Re,{variant:"secondary",className:"text-xs",children:["+",i.points]})]},o))})]}),n.jsxs("div",{className:"bg-blue-50 p-3 rounded-lg",children:[n.jsx("h4",{className:"font-semibold text-sm text-blue-900 mb-2",children:"Recommendations"}),n.jsxs("div",{className:"space-y-1 text-xs text-blue-700",children:[e.totalScore>=80&&n.jsx("p",{children:" High priority lead - schedule immediate follow-up"}),e.totalScore>=60&&e.totalScore<80&&n.jsx("p",{children:" Good potential - maintain regular contact"}),e.totalScore>=40&&e.totalScore<60&&n.jsx("p",{children:" Nurture with educational content"}),e.totalScore<40&&n.jsx("p",{children:" Low priority - add to drip campaign"}),e.behaviorScore<20&&n.jsx("p",{children:" Increase engagement with personalized outreach"}),e.engagementScore<20&&n.jsx("p",{children:" Try different communication channels"})]})]})]})]})}function Dee({leadId:e,activities:t}){const{logActivity:r}=io(),[s,a]=C.useState(!1),[i,o]=C.useState({type:"note",description:"",outcome:void 0,duration:void 0,scheduledDate:void 0}),l=f=>{switch(f){case"call":return am;case"email":return Qr;case"meeting":return Lr;case"note":return ln;case"status_change":return us;default:return ln}},c=f=>{switch(f){case"call":return"text-green-500";case"email":return"text-blue-500";case"meeting":return"text-purple-500";case"note":return"text-gray-500";case"status_change":return"text-orange-500";default:return"text-gray-500"}},d=f=>{switch(f){case"positive":return"bg-green-50 text-green-700 border-green-200";case"neutral":return"bg-yellow-50 text-yellow-700 border-yellow-200";case"negative":return"bg-red-50 text-red-700 border-red-200";default:return"bg-gray-50 text-gray-700 border-gray-200"}},h=async()=>{i.description.trim()&&(await r({leadId:e,type:i.type,description:i.description,outcome:i.outcome,duration:i.duration,scheduledDate:i.scheduledDate,userId:"current-user"}),o({type:"note",description:"",outcome:void 0,duration:void 0,scheduledDate:void 0}),a(!1))},u=[...t].sort((f,m)=>new Date(m.createdAt).getTime()-new Date(f.createdAt).getTime());return n.jsxs(de,{className:"shadow-sm",children:[n.jsx(ye,{children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx(be,{className:"text-lg",children:"Activity Timeline"}),n.jsx($e,{children:"Track all interactions and activities for this lead"})]}),n.jsxs(J,{onClick:()=>a(!0),size:"sm",children:[n.jsx(Nt,{className:"h-4 w-4 mr-2"}),"Add Activity"]})]})}),n.jsxs(ue,{children:[s&&n.jsx(de,{className:"mb-6 border-dashed",children:n.jsx(ue,{className:"pt-6",children:n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium",children:"Activity Type"}),n.jsxs(Ve,{value:i.type,onValueChange:f=>o(m=>({...m,type:f})),children:[n.jsx(ze,{children:n.jsx(qe,{})}),n.jsxs(Ue,{children:[n.jsx(K,{value:"call",children:"Phone Call"}),n.jsx(K,{value:"email",children:"Email"}),n.jsx(K,{value:"meeting",children:"Meeting"}),n.jsx(K,{value:"note",children:"Note"})]})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium",children:"Outcome"}),n.jsxs(Ve,{value:i.outcome||"",onValueChange:f=>o(m=>({...m,outcome:f||void 0})),children:[n.jsx(ze,{children:n.jsx(qe,{placeholder:"Select outcome"})}),n.jsxs(Ue,{children:[n.jsx(K,{value:"positive",children:"Positive"}),n.jsx(K,{value:"neutral",children:"Neutral"}),n.jsx(K,{value:"negative",children:"Negative"})]})]})]})]}),i.type==="call"&&n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium",children:"Duration (minutes)"}),n.jsx(Pe,{type:"number",value:i.duration||"",onChange:f=>o(m=>({...m,duration:f.target.value?parseInt(f.target.value):void 0})),placeholder:"e.g., 15"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium",children:"Description"}),n.jsx(tr,{value:i.description,onChange:f=>o(m=>({...m,description:f.target.value})),placeholder:"Describe the activity...",rows:3})]}),n.jsxs("div",{className:"flex justify-end space-x-2",children:[n.jsx(J,{variant:"outline",onClick:()=>a(!1),children:"Cancel"}),n.jsx(J,{onClick:h,children:"Add Activity"})]})]})})}),n.jsx("div",{className:"space-y-4",children:u.length===0?n.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No activities recorded yet"}):u.map((f,m)=>{const v=l(f.type),x=m===u.length-1;return n.jsxs("div",{className:"relative",children:[!x&&n.jsx("div",{className:"absolute left-4 top-8 bottom-0 w-px bg-border"}),n.jsxs("div",{className:"flex items-start space-x-3",children:[n.jsx("div",{className:He("flex-shrink-0 w-8 h-8 rounded-full bg-background border-2 flex items-center justify-center",c(f.type)),children:n.jsx(v,{className:"h-4 w-4"})}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsxs("div",{className:"flex items-center justify-between mb-1",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("span",{className:"font-medium text-sm capitalize",children:f.type.replace("_"," ")}),f.outcome&&n.jsx(Re,{className:He("ri-badge-status text-xs",d(f.outcome)),children:f.outcome}),f.duration&&n.jsxs(Re,{variant:"secondary",className:"text-xs",children:[n.jsx(sr,{className:"h-3 w-3 mr-1"}),f.duration,"m"]})]}),n.jsx("span",{className:"text-xs text-muted-foreground",children:ct(f.createdAt)})]}),n.jsx("p",{className:"text-sm text-muted-foreground",children:f.description}),f.scheduledDate&&n.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["Scheduled for: ",ct(f.scheduledDate)]})]})]})]},f.id)})})]})]})}function Oee(e){const t=C.useRef({value:e,previous:e});return C.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}function Lee(e){const[t,r]=C.useState(void 0);return Yc(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const s=new ResizeObserver(a=>{if(!Array.isArray(a)||!a.length)return;const i=a[0];let o,l;if("borderBoxSize"in i){const c=i.borderBoxSize,d=Array.isArray(c)?c[0]:c;o=d.inlineSize,l=d.blockSize}else o=e.offsetWidth,l=e.offsetHeight;r({width:o,height:l})});return s.observe(e,{box:"border-box"}),()=>s.unobserve(e)}else r(void 0)},[e]),t}var U1="Checkbox",[Ree,vOe]=Eu(U1),[Fee,D4]=Ree(U1);function $ee(e){const{__scopeCheckbox:t,checked:r,children:s,defaultChecked:a,disabled:i,form:o,name:l,onCheckedChange:c,required:d,value:h="on",internal_do_not_use_render:u}=e,[f,m]=T1({prop:r,defaultProp:a??!1,onChange:c,caller:U1}),[v,x]=C.useState(null),[p,g]=C.useState(null),b=C.useRef(!1),y=v?!!o||!!v.closest("form"):!0,j={checked:f,disabled:i,setChecked:m,control:v,setControl:x,name:l,form:o,value:h,hasConsumerStoppedPropagationRef:b,required:d,defaultChecked:zc(a)?!1:a,isFormControl:y,bubbleInput:p,setBubbleInput:g};return n.jsx(Fee,{scope:t,...j,children:Mee(u)?u(j):s})}var e7="CheckboxTrigger",t7=C.forwardRef(({__scopeCheckbox:e,onKeyDown:t,onClick:r,...s},a)=>{const{control:i,value:o,disabled:l,checked:c,required:d,setControl:h,setChecked:u,hasConsumerStoppedPropagationRef:f,isFormControl:m,bubbleInput:v}=D4(e7,e),x=bi(a,h),p=C.useRef(c);return C.useEffect(()=>{const g=i==null?void 0:i.form;if(g){const b=()=>u(p.current);return g.addEventListener("reset",b),()=>g.removeEventListener("reset",b)}},[i,u]),n.jsx(Cn.button,{type:"button",role:"checkbox","aria-checked":zc(c)?"mixed":c,"aria-required":d,"data-state":i7(c),"data-disabled":l?"":void 0,disabled:l,value:o,...s,ref:x,onKeyDown:on(t,g=>{g.key==="Enter"&&g.preventDefault()}),onClick:on(r,g=>{u(b=>zc(b)?!0:!b),v&&m&&(f.current=g.isPropagationStopped(),f.current||g.stopPropagation())})})});t7.displayName=e7;var O4=C.forwardRef((e,t)=>{const{__scopeCheckbox:r,name:s,checked:a,defaultChecked:i,required:o,disabled:l,value:c,onCheckedChange:d,form:h,...u}=e;return n.jsx($ee,{__scopeCheckbox:r,checked:a,defaultChecked:i,disabled:l,required:o,onCheckedChange:d,name:s,form:h,value:c,internal_do_not_use_render:({isFormControl:f})=>n.jsxs(n.Fragment,{children:[n.jsx(t7,{...u,ref:t,__scopeCheckbox:r}),f&&n.jsx(a7,{__scopeCheckbox:r})]})})});O4.displayName=U1;var r7="CheckboxIndicator",n7=C.forwardRef((e,t)=>{const{__scopeCheckbox:r,forceMount:s,...a}=e,i=D4(r7,r);return n.jsx(P1,{present:s||zc(i.checked)||i.checked===!0,children:n.jsx(Cn.span,{"data-state":i7(i.checked),"data-disabled":i.disabled?"":void 0,...a,ref:t,style:{pointerEvents:"none",...e.style}})})});n7.displayName=r7;var s7="CheckboxBubbleInput",a7=C.forwardRef(({__scopeCheckbox:e,...t},r)=>{const{control:s,hasConsumerStoppedPropagationRef:a,checked:i,defaultChecked:o,required:l,disabled:c,name:d,value:h,form:u,bubbleInput:f,setBubbleInput:m}=D4(s7,e),v=bi(r,m),x=Oee(i),p=Lee(s);C.useEffect(()=>{const b=f;if(!b)return;const y=window.HTMLInputElement.prototype,E=Object.getOwnPropertyDescriptor(y,"checked").set,S=!a.current;if(x!==i&&E){const N=new Event("click",{bubbles:S});b.indeterminate=zc(i),E.call(b,zc(i)?!1:i),b.dispatchEvent(N)}},[f,x,i,a]);const g=C.useRef(zc(i)?!1:i);return n.jsx(Cn.input,{type:"checkbox","aria-hidden":!0,defaultChecked:o??g.current,required:l,disabled:c,name:d,value:h,form:u,...t,tabIndex:-1,ref:v,style:{...t.style,...p,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});a7.displayName=s7;function Mee(e){return typeof e=="function"}function zc(e){return e==="indeterminate"}function i7(e){return zc(e)?"indeterminate":e?"checked":"unchecked"}const Vt=C.forwardRef(({className:e,...t},r)=>n.jsx(O4,{ref:r,className:He("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...t,children:n.jsx(n7,{className:He("flex items-center justify-center text-current"),children:n.jsx(k1,{className:"h-4 w-4"})})}));Vt.displayName=O4.displayName;function Bee({leadId:e,reminders:t}){const{createReminder:r,completeReminder:s}=io(),[a,i]=C.useState(!1),[o,l]=C.useState({type:"follow_up",title:"",description:"",dueDate:"",priority:"medium"}),c=x=>{switch(x){case"urgent":return"bg-red-50 text-red-700 border-red-200";case"high":return"bg-orange-50 text-orange-700 border-orange-200";case"medium":return"bg-yellow-50 text-yellow-700 border-yellow-200";case"low":return"bg-green-50 text-green-700 border-green-200";default:return"bg-gray-50 text-gray-700 border-gray-200"}},d=x=>{switch(x){case"call":return"";case"email":return"";case"meeting":return"";case"deadline":return"";default:return""}},h=x=>new Date(x)<new Date,u=async()=>{!o.title.trim()||!o.dueDate||(await r({leadId:e,type:o.type,title:o.title,description:o.description,dueDate:new Date(o.dueDate),priority:o.priority,userId:"current-user"}),l({type:"follow_up",title:"",description:"",dueDate:"",priority:"medium"}),i(!1))},f=async x=>{await s(x)},m=t.filter(x=>!x.isCompleted),v=t.filter(x=>x.isCompleted);return n.jsxs(de,{className:"shadow-sm",children:[n.jsx(ye,{children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsxs(be,{className:"text-lg flex items-center",children:[n.jsx(c$,{className:"h-5 w-5 mr-2"}),"Reminders"]}),n.jsx($e,{children:"Set follow-up reminders and track completion"})]}),n.jsxs(J,{onClick:()=>i(!0),size:"sm",children:[n.jsx(Nt,{className:"h-4 w-4 mr-2"}),"Add Reminder"]})]})}),n.jsxs(ue,{children:[a&&n.jsx(de,{className:"mb-6 border-dashed",children:n.jsx(ue,{className:"pt-6",children:n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium",children:"Reminder Type"}),n.jsxs(Ve,{value:o.type,onValueChange:x=>l(p=>({...p,type:x})),children:[n.jsx(ze,{children:n.jsx(qe,{})}),n.jsxs(Ue,{children:[n.jsx(K,{value:"follow_up",children:"Follow Up"}),n.jsx(K,{value:"call",children:"Call"}),n.jsx(K,{value:"email",children:"Email"}),n.jsx(K,{value:"meeting",children:"Meeting"}),n.jsx(K,{value:"deadline",children:"Deadline"})]})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium",children:"Priority"}),n.jsxs(Ve,{value:o.priority,onValueChange:x=>l(p=>({...p,priority:x})),children:[n.jsx(ze,{children:n.jsx(qe,{})}),n.jsxs(Ue,{children:[n.jsx(K,{value:"low",children:"Low"}),n.jsx(K,{value:"medium",children:"Medium"}),n.jsx(K,{value:"high",children:"High"}),n.jsx(K,{value:"urgent",children:"Urgent"})]})]})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium",children:"Title"}),n.jsx(Pe,{value:o.title,onChange:x=>l(p=>({...p,title:x.target.value})),placeholder:"e.g., Follow up on pricing questions"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium",children:"Due Date"}),n.jsx(Pe,{type:"datetime-local",value:o.dueDate,onChange:x=>l(p=>({...p,dueDate:x.target.value}))})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium",children:"Description"}),n.jsx(tr,{value:o.description,onChange:x=>l(p=>({...p,description:x.target.value})),placeholder:"Additional details...",rows:2})]}),n.jsxs("div",{className:"flex justify-end space-x-2",children:[n.jsx(J,{variant:"outline",onClick:()=>i(!1),children:"Cancel"}),n.jsx(J,{onClick:u,children:"Add Reminder"})]})]})})}),n.jsxs("div",{className:"space-y-6",children:[m.length>0&&n.jsxs("div",{children:[n.jsxs("h4",{className:"font-semibold text-sm mb-3 flex items-center",children:[n.jsx(sr,{className:"h-4 w-4 mr-2"}),"Active Reminders (",m.length,")"]}),n.jsx("div",{className:"space-y-3",children:m.sort((x,p)=>new Date(x.dueDate).getTime()-new Date(p.dueDate).getTime()).map(x=>n.jsxs("div",{className:He("flex items-start space-x-3 p-3 border rounded-lg",h(x.dueDate)?"border-red-200 bg-red-50":"hover:bg-accent/50"),children:[n.jsx(Vt,{checked:!1,onCheckedChange:()=>f(x.id),className:"mt-1"}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[n.jsx("span",{className:"text-lg",children:d(x.type)}),n.jsx("span",{className:"font-medium text-sm",children:x.title}),n.jsx(Re,{className:He("ri-badge-status text-xs",c(x.priority)),children:x.priority}),h(x.dueDate)&&n.jsxs(Re,{className:"bg-red-50 text-red-700 border-red-200 text-xs",children:[n.jsx(Xi,{className:"h-3 w-3 mr-1"}),"Overdue"]})]}),n.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:x.description}),n.jsxs("div",{className:"flex items-center space-x-2 text-xs text-muted-foreground",children:[n.jsx(Lr,{className:"h-3 w-3"}),n.jsxs("span",{children:["Due: ",ct(x.dueDate)]})]})]})]},x.id))})]}),v.length>0&&n.jsxs("div",{children:[n.jsxs("h4",{className:"font-semibold text-sm mb-3 text-muted-foreground",children:["Completed (",v.length,")"]}),n.jsx("div",{className:"space-y-2",children:v.sort((x,p)=>new Date(p.dueDate).getTime()-new Date(x.dueDate).getTime()).slice(0,5).map(x=>n.jsxs("div",{className:"flex items-center space-x-3 p-2 text-sm text-muted-foreground",children:[n.jsx(Vt,{checked:!0,disabled:!0}),n.jsx("span",{className:"line-through",children:x.title}),n.jsx("span",{className:"text-xs",children:ct(x.dueDate)})]},x.id))})]}),m.length===0&&v.length===0&&n.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No reminders set for this lead"})]})]})]})}function zee({template:e,type:t,onSave:r,onCancel:s}){const{toast:a}=At(),[i,o]=C.useState(!1),[l,c]=C.useState({name:(e==null?void 0:e.name)||"",subject:(e==null?void 0:e.subject)||"",body:(e==null?void 0:e.body)||(e==null?void 0:e.message)||"",type:(e==null?void 0:e.type)||"custom",variables:(e==null?void 0:e.variables)||[],isActive:(e==null?void 0:e.isActive)??!0}),[d,h]=C.useState(""),u=[{value:"welcome",label:"Welcome"},{value:"follow_up",label:"Follow Up"},{value:"nurture",label:"Nurture"},{value:"proposal",label:"Proposal"},{value:"reminder",label:"Reminder"},{value:"custom",label:"Custom"}],f=["first_name","last_name","company_name","rep_name","rep_phone","rep_email","website_url","budget","timeframe"],m=async()=>{if(!l.name.trim()){a({title:"Validation Error",description:"Template name is required",variant:"destructive"});return}if(!l.body.trim()){a({title:"Validation Error",description:`${t==="email"?"Email body":"SMS message"} is required`,variant:"destructive"});return}if(t==="email"&&!l.subject.trim()){a({title:"Validation Error",description:"Email subject is required",variant:"destructive"});return}if(t==="sms"&&l.body.length>160){a({title:"Validation Error",description:"SMS message must be 160 characters or less",variant:"destructive"});return}o(!0);try{const g=t==="email"?{name:l.name,subject:l.subject,body:l.body,type:l.type,variables:l.variables,isActive:l.isActive}:{name:l.name,message:l.body,type:l.type,variables:l.variables,isActive:l.isActive};await r(g),a({title:"Success",description:`${t==="email"?"Email":"SMS"} template ${e?"updated":"created"} successfully`})}catch{a({title:"Error",description:`Failed to ${e?"update":"create"} template`,variant:"destructive"})}finally{o(!1)}},v=()=>{d.trim()&&!l.variables.includes(d.trim())&&(c(g=>({...g,variables:[...g.variables,d.trim()]})),h(""))},x=g=>{c(b=>({...b,variables:b.variables.filter(y=>y!==g)}))},p=g=>{const b=`{{${g}}}`;c(y=>({...y,body:y.body+b}))};return n.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:n.jsxs(de,{className:"w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[n.jsx(ye,{children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsxs(be,{className:"text-xl flex items-center",children:[t==="email"?n.jsx(Qr,{className:"h-5 w-5 mr-2 text-blue-500"}):n.jsx(ln,{className:"h-5 w-5 mr-2 text-green-500"}),e?"Edit":"Create"," ",t==="email"?"Email":"SMS"," Template"]}),n.jsx($e,{children:e?"Update the template details":"Create a new template for automated communications"})]}),n.jsx(J,{variant:"ghost",size:"sm",onClick:s,children:n.jsx(Ut,{className:"h-4 w-4"})})]})}),n.jsxs(ue,{className:"space-y-6",children:[n.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"name",children:"Template Name *"}),n.jsx(Pe,{id:"name",value:l.name,onChange:g=>c(b=>({...b,name:g.target.value})),placeholder:"e.g., Welcome New Lead"})]}),n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"type",children:"Template Type"}),n.jsxs(Ve,{value:l.type,onValueChange:g=>c(b=>({...b,type:g})),children:[n.jsx(ze,{children:n.jsx(qe,{})}),n.jsx(Ue,{children:u.map(g=>n.jsx(K,{value:g.value,children:g.label},g.value))})]})]})]}),t==="email"&&n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"subject",children:"Subject Line *"}),n.jsx(Pe,{id:"subject",value:l.subject,onChange:g=>c(b=>({...b,subject:g.target.value})),placeholder:"e.g., Welcome to {{company_name}}, {{first_name}}!"})]}),n.jsxs("div",{className:"grid gap-6 md:grid-cols-3",children:[n.jsxs("div",{className:"md:col-span-2",children:[n.jsxs(ae,{htmlFor:"body",children:[t==="email"?"Email Body":"SMS Message"," *"]}),n.jsx(tr,{id:"body",value:l.body,onChange:g=>c(b=>({...b,body:g.target.value})),placeholder:t==="email"?`Hi {{first_name}},

Thank you for your interest in our RV inventory!

Best regards,
{{rep_name}}`:"Hi {{first_name}}! Thanks for your interest. Call us at {{rep_phone}} - {{rep_name}}",rows:t==="email"?12:4,maxLength:t==="sms"?160:void 0}),t==="sms"&&n.jsxs("div",{className:"flex justify-between items-center mt-1",children:[n.jsxs("div",{className:"text-xs text-muted-foreground",children:[l.body.length,"/160 characters"]}),n.jsx("div",{className:`text-xs ${l.body.length>160?"text-red-500":"text-muted-foreground"}`,children:l.body.length>160&&"Message too long"})]})]}),n.jsxs("div",{children:[n.jsx(ae,{children:"Variables"}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"Common Variables:"}),n.jsx("div",{className:"space-y-1",children:f.map(g=>n.jsxs(J,{variant:"outline",size:"sm",className:"w-full justify-start text-xs",onClick:()=>p(g),children:[n.jsx(Nt,{className:"h-3 w-3 mr-1"}),g]},g))})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"Custom Variables:"}),n.jsxs("div",{className:"flex space-x-1 mb-2",children:[n.jsx(Pe,{value:d,onChange:g=>h(g.target.value),placeholder:"variable_name",className:"text-xs",onKeyPress:g=>g.key==="Enter"&&v()}),n.jsx(J,{size:"sm",onClick:v,children:n.jsx(Nt,{className:"h-3 w-3"})})]}),n.jsx("div",{className:"space-y-1",children:l.variables.map(g=>n.jsxs("div",{className:"flex items-center justify-between p-1 bg-muted rounded text-xs",children:[n.jsx("span",{children:g}),n.jsx(J,{variant:"ghost",size:"sm",onClick:()=>x(g),className:"h-4 w-4 p-0",children:n.jsx(Sn,{className:"h-3 w-3"})})]},g))})]})]})]})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Vt,{id:"isActive",checked:l.isActive,onCheckedChange:g=>c(b=>({...b,isActive:!!g}))}),n.jsx(ae,{htmlFor:"isActive",children:"Active template"})]}),n.jsxs("div",{children:[n.jsx(ae,{children:"Preview"}),n.jsxs("div",{className:"mt-2 p-4 bg-muted/30 rounded-lg",children:[t==="email"&&n.jsxs("div",{className:"mb-2",children:[n.jsx("strong",{children:"Subject:"})," ",l.subject||"No subject"]}),n.jsx("div",{className:"whitespace-pre-wrap text-sm",children:l.body||`No ${t==="email"?"content":"message"}`})]})]}),n.jsxs("div",{className:"flex justify-end space-x-3 pt-6 border-t",children:[n.jsx(J,{variant:"outline",onClick:s,disabled:i,children:"Cancel"}),n.jsx(J,{onClick:m,disabled:i,children:i?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Saving..."]}):n.jsxs(n.Fragment,{children:[n.jsx(Rr,{className:"h-4 w-4 mr-2"}),e?"Update":"Create"," Template"]})})]})]})]})})}function Uee({sequence:e,emailTemplates:t,smsTemplates:r,onSave:s,onCancel:a}){var S,N,w,_,k;const{toast:i}=At(),[o,l]=C.useState(!1),[c,d]=C.useState({name:(e==null?void 0:e.name)||"",description:(e==null?void 0:e.description)||"",targetAudience:(e==null?void 0:e.targetAudience)||"",steps:(e==null?void 0:e.steps)||[],isActive:(e==null?void 0:e.isActive)??!0}),[h,u]=C.useState(!1),[f,m]=C.useState({type:"email",delay:0,content:{body:""},isActive:!0}),v=[{value:"email",label:"Email",icon:Qr,color:"text-blue-500"},{value:"sms",label:"SMS",icon:ln,color:"text-green-500"},{value:"wait",label:"Wait",icon:sr,color:"text-orange-500"},{value:"task",label:"Task",icon:On,color:"text-purple-500"}],x=T=>{const A=v.find(O=>O.value===T);return(A==null?void 0:A.icon)||Qr},p=T=>{const A=v.find(O=>O.value===T);return(A==null?void 0:A.color)||"text-gray-500"},g=async()=>{if(!c.name.trim()){i({title:"Validation Error",description:"Sequence name is required",variant:"destructive"});return}if(c.steps.length===0){i({title:"Validation Error",description:"At least one step is required",variant:"destructive"});return}l(!0);try{const T={...c,steps:c.steps.map((A,O)=>({...A,order:O+1}))};await s(T),i({title:"Success",description:`Sequence ${e?"updated":"created"} successfully`})}catch{i({title:"Error",description:`Failed to ${e?"update":"create"} sequence`,variant:"destructive"})}finally{l(!1)}},b=()=>{var A,O;if(!((O=(A=f.content)==null?void 0:A.body)!=null&&O.trim())&&f.type!=="wait"){i({title:"Validation Error",description:"Step content is required",variant:"destructive"});return}const T={id:Math.random().toString(36).substr(2,9),type:f.type||"email",delay:f.delay||0,content:f.content||{body:""},isActive:!0};d(D=>({...D,steps:[...D.steps,T]})),m({type:"email",delay:0,content:{body:""},isActive:!0}),u(!1)},y=T=>{d(A=>({...A,steps:A.steps.filter(O=>O.id!==T)}))},j=(T,A)=>{const O=[...c.steps],D=O.findIndex(F=>F.id===T);A==="up"&&D>0?[O[D],O[D-1]]=[O[D-1],O[D]]:A==="down"&&D<O.length-1&&([O[D],O[D+1]]=[O[D+1],O[D]]),d(F=>({...F,steps:O}))},E=T=>{if(T<24)return`${T} hours`;const A=Math.floor(T/24),O=T%24;return O===0?`${A} days`:`${A} days ${O} hours`};return n.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:n.jsxs(de,{className:"w-full max-w-6xl max-h-[90vh] overflow-y-auto",children:[n.jsx(ye,{children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsxs(be,{className:"text-xl",children:[e?"Edit":"Create"," Nurture Sequence"]}),n.jsx($e,{children:e?"Update the sequence details and steps":"Create an automated sequence for lead nurturing"})]}),n.jsx(J,{variant:"ghost",size:"sm",onClick:a,children:n.jsx(Ut,{className:"h-4 w-4"})})]})}),n.jsxs(ue,{className:"space-y-6",children:[n.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"name",children:"Sequence Name *"}),n.jsx(Pe,{id:"name",value:c.name,onChange:T=>d(A=>({...A,name:T.target.value})),placeholder:"e.g., New Lead Welcome Series"})]}),n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"targetAudience",children:"Target Audience"}),n.jsx(Pe,{id:"targetAudience",value:c.targetAudience,onChange:T=>d(A=>({...A,targetAudience:T.target.value})),placeholder:"e.g., New website leads"})]})]}),n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"description",children:"Description"}),n.jsx(tr,{id:"description",value:c.description,onChange:T=>d(A=>({...A,description:T.target.value})),placeholder:"Describe the purpose and goals of this sequence",rows:3})]}),n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsxs(ae,{children:["Sequence Steps (",c.steps.length,")"]}),n.jsxs(J,{onClick:()=>u(!0),size:"sm",children:[n.jsx(Nt,{className:"h-4 w-4 mr-2"}),"Add Step"]})]}),h&&n.jsx(de,{className:"mb-4 border-dashed",children:n.jsx(ue,{className:"pt-6",children:n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[n.jsxs("div",{children:[n.jsx(ae,{children:"Step Type"}),n.jsxs(Ve,{value:f.type,onValueChange:T=>m(A=>({...A,type:T})),children:[n.jsx(ze,{children:n.jsx(qe,{})}),n.jsx(Ue,{children:v.map(T=>n.jsx(K,{value:T.value,children:n.jsxs("div",{className:"flex items-center",children:[n.jsx(T.icon,{className:He("h-4 w-4 mr-2",T.color)}),n.jsx("span",{children:T.label})]})},T.value))})]})]}),n.jsxs("div",{children:[n.jsx(ae,{children:"Delay (hours)"}),n.jsx(Pe,{type:"number",value:f.delay||0,onChange:T=>m(A=>({...A,delay:parseInt(T.target.value)||0})),placeholder:"0",min:"0"})]}),f.type==="email"&&n.jsxs("div",{children:[n.jsx(ae,{children:"Email Template"}),n.jsxs(Ve,{value:((S=f.content)==null?void 0:S.template)||"",onValueChange:T=>{const A=t.find(O=>O.id===T);m(O=>({...O,content:{...O.content,template:T,subject:(A==null?void 0:A.subject)||"",body:(A==null?void 0:A.body)||""}}))},children:[n.jsx(ze,{children:n.jsx(qe,{placeholder:"Select template"})}),n.jsxs(Ue,{children:[n.jsx(K,{value:"",children:"Custom Content"}),t.filter(T=>T.isActive).map(T=>n.jsx(K,{value:T.id,children:T.name},T.id))]})]})]}),f.type==="sms"&&n.jsxs("div",{children:[n.jsx(ae,{children:"SMS Template"}),n.jsxs(Ve,{value:((N=f.content)==null?void 0:N.template)||"",onValueChange:T=>{const A=r.find(O=>O.id===T);m(O=>({...O,content:{...O.content,template:T,body:(A==null?void 0:A.message)||""}}))},children:[n.jsx(ze,{children:n.jsx(qe,{placeholder:"Select template"})}),n.jsxs(Ue,{children:[n.jsx(K,{value:"",children:"Custom Content"}),r.filter(T=>T.isActive).map(T=>n.jsx(K,{value:T.id,children:T.name},T.id))]})]})]})]}),f.type==="email"&&n.jsxs("div",{children:[n.jsx(ae,{children:"Subject"}),n.jsx(Pe,{value:((w=f.content)==null?void 0:w.subject)||"",onChange:T=>m(A=>({...A,content:{...A.content,subject:T.target.value}})),placeholder:"Email subject line"})]}),(f.type==="email"||f.type==="sms"||f.type==="task")&&n.jsxs("div",{children:[n.jsx(ae,{children:f.type==="email"?"Email Body":f.type==="sms"?"SMS Message":"Task Description"}),n.jsx(tr,{value:((_=f.content)==null?void 0:_.body)||"",onChange:T=>m(A=>({...A,content:{...A.content,body:T.target.value}})),placeholder:f.type==="email"?"Email content...":f.type==="sms"?"SMS message...":"Task description...",rows:f.type==="email"?6:3,maxLength:f.type==="sms"?160:void 0}),f.type==="sms"&&n.jsxs("div",{className:"text-xs text-muted-foreground mt-1",children:[(((k=f.content)==null?void 0:k.body)||"").length,"/160 characters"]})]}),n.jsxs("div",{className:"flex justify-end space-x-2",children:[n.jsx(J,{variant:"outline",onClick:()=>u(!1),children:"Cancel"}),n.jsx(J,{onClick:b,children:"Add Step"})]})]})})}),n.jsxs("div",{className:"space-y-4",children:[c.steps.map((T,A)=>{const O=x(T.type),D=A===c.steps.length-1;return n.jsxs("div",{className:"relative",children:[!D&&n.jsx("div",{className:"absolute left-6 top-12 bottom-0 w-px bg-border"}),n.jsxs("div",{className:"flex items-start space-x-4 p-4 border rounded-lg hover:bg-accent/50 transition-colors",children:[n.jsx("div",{className:He("flex-shrink-0 w-12 h-12 rounded-full bg-background border-2 flex items-center justify-center",p(T.type)),children:n.jsx(O,{className:"h-5 w-5"})}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[n.jsx("span",{className:"font-medium capitalize",children:T.type}),T.delay>0&&n.jsxs(Re,{variant:"secondary",className:"text-xs",children:[n.jsx(sr,{className:"h-3 w-3 mr-1"}),E(T.delay)]})]}),T.type==="email"&&n.jsxs("div",{className:"bg-blue-50 p-3 rounded-md",children:[n.jsx("p",{className:"font-medium text-sm text-blue-900",children:T.content.subject||"No subject"}),n.jsx("p",{className:"text-sm text-blue-700 mt-1 line-clamp-2",children:T.content.body||"No content"})]}),T.type==="sms"&&n.jsx("div",{className:"bg-green-50 p-3 rounded-md",children:n.jsx("p",{className:"text-sm text-green-700",children:T.content.body||"No message"})}),T.type==="wait"&&n.jsx("div",{className:"bg-orange-50 p-3 rounded-md",children:n.jsxs("p",{className:"text-sm text-orange-700",children:["Wait ",E(T.delay)," before next step"]})}),T.type==="task"&&n.jsx("div",{className:"bg-purple-50 p-3 rounded-md",children:n.jsx("p",{className:"text-sm text-purple-700",children:T.content.body||"No task description"})})]}),n.jsxs("div",{className:"flex items-center space-x-1",children:[n.jsx(J,{variant:"outline",size:"sm",onClick:()=>j(T.id,"up"),disabled:A===0,children:n.jsx(Eo,{className:"h-3 w-3"})}),n.jsx(J,{variant:"outline",size:"sm",onClick:()=>j(T.id,"down"),disabled:A===c.steps.length-1,children:n.jsx(Ao,{className:"h-3 w-3"})}),n.jsx(J,{variant:"outline",size:"sm",onClick:()=>y(T.id),children:n.jsx(Sn,{className:"h-3 w-3"})})]})]})]},T.id)}),c.steps.length===0&&n.jsx("div",{className:"text-center py-8 text-muted-foreground border-2 border-dashed rounded-lg",children:'No steps added yet. Click "Add Step" to get started.'})]})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Vt,{id:"isActive",checked:c.isActive,onCheckedChange:T=>d(A=>({...A,isActive:!!T}))}),n.jsx(ae,{htmlFor:"isActive",children:"Active sequence"})]}),n.jsxs("div",{className:"flex justify-end space-x-3 pt-6 border-t",children:[n.jsx(J,{variant:"outline",onClick:a,disabled:o,children:"Cancel"}),n.jsx(J,{onClick:g,disabled:o,children:o?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Saving..."]}):n.jsxs(n.Fragment,{children:[n.jsx(Rr,{className:"h-4 w-4 mr-2"}),e?"Update":"Create"," Sequence"]})})]})]})]})})}const Vee=[{id:"1",name:"New Lead Welcome Series",description:"Automated welcome sequence for new leads",isActive:!0,targetAudience:"New website leads",steps:[{id:"1",type:"email",delay:0},{id:"2",type:"wait",delay:72},{id:"3",type:"email",delay:0},{id:"4",type:"sms",delay:48}]}],qee=[{id:"1",name:"Welcome New Lead",subject:"Welcome to our RV dealership!",body:"Thank you for your interest...",type:"welcome",isActive:!0}],Wee=[{id:"1",name:"Quick Follow-up",message:"Hi! Just wanted to check if you have any questions.",type:"follow_up",isActive:!0}];function c_(){const[e,t]=C.useState(Vee),[r,s]=C.useState(qee),[a,i]=C.useState(Wee),[o]=C.useState([]),[l,c]=C.useState(null),[d,h]=C.useState(!1),[u,f]=C.useState(!1),[m,v]=C.useState(null),[x,p]=C.useState(null),[g,b]=C.useState("email"),y=A=>{switch(A){case"email":return Qr;case"sms":return ln;case"wait":return sr;case"task":return On;default:return DK}},j=A=>{switch(A){case"email":return"text-blue-500 bg-blue-50";case"sms":return"text-green-500 bg-green-50";case"wait":return"text-orange-500 bg-orange-50";case"task":return"text-purple-500 bg-purple-50";default:return"text-gray-500 bg-gray-50"}},E=A=>{if(A<24)return`${A} hours`;const O=Math.floor(A/24),D=A%24;return D===0?`${O} days`:`${O} days ${D} hours`},S=A=>{const O=o.filter(D=>D.sequenceId===A);return{total:O.length,active:O.filter(D=>D.status==="active").length,completed:O.filter(D=>D.status==="completed").length,paused:O.filter(D=>D.status==="paused").length}},N=(A,O)=>{p({template:A,type:O}),f(!0)},w=async A=>{if(x)x.type==="email"?s(O=>O.map(D=>D.id===x.template.id?{...D,...A}:D)):i(O=>O.map(D=>D.id===x.template.id?{...D,...A}:D));else{const O={id:Math.random().toString(36).substr(2,9),...A,isActive:!0};g==="email"?s(D=>[...D,O]):i(D=>[...D,O])}f(!1),p(null)},_=()=>{h(!0),v(null)},k=A=>{v(A),h(!0)},T=async A=>{if(m)t(O=>O.map(D=>D.id===m.id?{...D,...A}:D));else{const O={id:Math.random().toString(36).substr(2,9),...A,steps:A.steps||[]};t(D=>[...D,O])}h(!1),v(null)};return n.jsxs("div",{className:"space-y-6",children:[u&&n.jsx(zee,{template:x==null?void 0:x.template,type:(x==null?void 0:x.type)||g,onSave:w,onCancel:()=>{f(!1),p(null)}}),d&&n.jsx(Uee,{sequence:m,emailTemplates:r,smsTemplates:a,onSave:T,onCancel:()=>{h(!1),v(null)}}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-2xl font-bold",children:"Nurture Sequences"}),n.jsx("p",{className:"text-muted-foreground",children:"Automate lead nurturing with email and SMS sequences"})]}),n.jsxs("div",{className:"flex space-x-2",children:[n.jsxs(J,{variant:"outline",onClick:()=>f(!0),children:[n.jsx(Nt,{className:"h-4 w-4 mr-2"}),"Template"]}),n.jsxs(J,{onClick:_,children:[n.jsx(Nt,{className:"h-4 w-4 mr-2"}),"Sequence"]})]})]}),n.jsxs(xr,{defaultValue:"sequences",className:"space-y-6",children:[n.jsxs(fr,{children:[n.jsx(Qe,{value:"sequences",children:"Sequences"}),n.jsx(Qe,{value:"templates",children:"Templates"}),n.jsx(Qe,{value:"analytics",children:"Analytics"})]}),n.jsxs(et,{value:"sequences",className:"space-y-6",children:[n.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:e.map(A=>{const O=S(A.id);return n.jsxs(de,{className:"shadow-sm hover:shadow-md transition-shadow cursor-pointer",onClick:()=>c(A),children:[n.jsx(ye,{children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx(be,{className:"text-lg",children:A.name}),n.jsx($e,{className:"mt-1",children:A.description})]}),n.jsx(Re,{className:A.isActive?"bg-green-50 text-green-700 border-green-200":"bg-gray-50 text-gray-700 border-gray-200",children:A.isActive?"Active":"Inactive"})]})}),n.jsx(ue,{children:n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center space-x-4 text-sm",children:[n.jsxs("div",{className:"flex items-center space-x-1",children:[n.jsx(On,{className:"h-4 w-4 text-blue-500"}),n.jsxs("span",{children:[O.total," enrolled"]})]}),n.jsxs("div",{className:"flex items-center space-x-1",children:[n.jsx(w2,{className:"h-4 w-4 text-green-500"}),n.jsxs("span",{children:[O.active," active"]})]})]}),n.jsxs("div",{className:"flex flex-wrap gap-1",children:[A.steps.slice(0,4).map((D,F)=>{const M=y(D.type);return n.jsx("div",{className:He("flex items-center justify-center w-8 h-8 rounded-full",j(D.type)),children:n.jsx(M,{className:"h-4 w-4"})},D.id)}),A.steps.length>4&&n.jsxs("div",{className:"flex items-center justify-center w-8 h-8 rounded-full bg-gray-100 text-gray-500 text-xs",children:["+",A.steps.length-4]})]}),n.jsxs("div",{className:"text-xs text-muted-foreground",children:["Target: ",A.targetAudience]})]})})]},A.id)})}),l&&n.jsxs(de,{className:"shadow-sm",children:[n.jsx(ye,{children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx(be,{className:"text-xl",children:l.name}),n.jsx($e,{children:l.description})]}),n.jsxs("div",{className:"flex space-x-2",children:[n.jsxs(J,{variant:"outline",size:"sm",onClick:()=>k(l),children:[n.jsx(zr,{className:"h-4 w-4 mr-2"}),"Edit"]}),n.jsxs(J,{variant:"outline",size:"sm",children:[l.isActive?n.jsx(_K,{className:"h-4 w-4 mr-2"}):n.jsx(w2,{className:"h-4 w-4 mr-2"}),l.isActive?"Pause":"Activate"]})]})]})}),n.jsx(ue,{children:n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx("h4",{className:"font-semibold mb-3",children:"Sequence Steps"}),n.jsx("div",{className:"space-y-4",children:l.steps.map((A,O)=>{const D=y(A.type),F=O===l.steps.length-1;return n.jsxs("div",{className:"relative",children:[!F&&n.jsx("div",{className:"absolute left-6 top-12 bottom-0 w-px bg-border"}),n.jsxs("div",{className:"flex items-start space-x-4",children:[n.jsx("div",{className:He("flex-shrink-0 w-12 h-12 rounded-full flex items-center justify-center",j(A.type)),children:n.jsx(D,{className:"h-5 w-5"})}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[n.jsx("span",{className:"font-medium capitalize",children:A.type}),A.delay>0&&n.jsxs(Re,{variant:"outline",className:"flex items-center space-x-1",children:[n.jsx(sr,{className:"h-3 w-3"}),n.jsxs("span",{children:["Wait ",E(A.delay)]})]})]}),A.type==="email"&&n.jsx("div",{className:"bg-muted/30 p-3 rounded-md",children:n.jsx("p",{className:"text-sm text-muted-foreground",children:A.type==="email"?"Email step":A.type==="sms"?"SMS step":A.type==="wait"?"Wait step":"Step"})})]})]})]},A.id)})})]}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-semibold mb-3",children:"Performance"}),n.jsx("div",{className:"grid gap-4 md:grid-cols-4",children:Object.entries(S(l.id)).map(([A,O])=>n.jsxs("div",{className:"text-center p-3 bg-muted/30 rounded-lg",children:[n.jsx("div",{className:"text-2xl font-bold",children:O}),n.jsx("div",{className:"text-sm text-muted-foreground capitalize",children:A})]},A))})]})]})})]})]}),n.jsx(et,{value:"templates",className:"space-y-6",children:n.jsxs(xr,{defaultValue:"email",className:"space-y-4",children:[n.jsxs(fr,{children:[n.jsx(Qe,{value:"email",children:"Email Templates"}),n.jsx(Qe,{value:"sms",children:"SMS Templates"})]}),u&&!x&&n.jsx("div",{className:"mb-4",children:n.jsx(xr,{value:g,onValueChange:A=>b(A),children:n.jsxs(fr,{children:[n.jsx(Qe,{value:"email",children:"Email Template"}),n.jsx(Qe,{value:"sms",children:"SMS Template"})]})})}),n.jsx(et,{value:"email",children:n.jsx("div",{className:"grid gap-4 md:grid-cols-2",children:r.map(A=>n.jsxs(de,{className:"shadow-sm",children:[n.jsx(ye,{children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx(be,{className:"text-lg",children:A.name}),n.jsx(Re,{variant:"secondary",className:"mt-1",children:A.type})]}),n.jsx(J,{variant:"outline",size:"sm",onClick:()=>N(A,"email"),children:n.jsx(zr,{className:"h-4 w-4"})})]})}),n.jsx(ue,{children:n.jsxs("div",{className:"space-y-2",children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:A.subject||A.body}),n.jsxs("div",{children:[n.jsx("span",{className:"text-sm font-medium",children:"Variables:"}),n.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:(A.variables||["first_name","company_name"]).map(O=>n.jsx(Re,{variant:"outline",className:"text-xs",children:O},O))})]})]})})]},A.id))})}),n.jsx(et,{value:"sms",children:n.jsx("div",{className:"grid gap-4 md:grid-cols-2",children:a.map(A=>n.jsxs(de,{className:"shadow-sm",children:[n.jsx(ye,{children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx(be,{className:"text-lg",children:A.name}),n.jsx(Re,{variant:"secondary",className:"mt-1",children:A.type})]}),n.jsx(J,{variant:"outline",size:"sm",onClick:()=>N(A,"sms"),children:n.jsx(zr,{className:"h-4 w-4"})})]})}),n.jsx(ue,{children:n.jsxs("div",{className:"space-y-2",children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:A.message}),n.jsxs("div",{children:[n.jsx("span",{className:"text-sm font-medium",children:"Variables:"}),n.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:(A.variables||["first_name"]).map(O=>n.jsx(Re,{variant:"outline",className:"text-xs",children:O},O))})]})]})})]},A.id))})})]})}),n.jsxs(et,{value:"analytics",className:"space-y-6",children:[n.jsxs("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-4",children:[n.jsxs(de,{className:"shadow-sm border-0 bg-gradient-to-br from-blue-50 to-blue-100/50",children:[n.jsxs(ye,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(be,{className:"text-sm font-medium text-blue-900",children:"Total Enrollments"}),n.jsx(On,{className:"h-4 w-4 text-blue-600"})]}),n.jsxs(ue,{children:[n.jsx("div",{className:"text-2xl font-bold text-blue-900",children:"0"}),n.jsxs("p",{className:"text-xs text-blue-600 flex items-center mt-1",children:[n.jsx(_t,{className:"h-3 w-3 mr-1"}),"Across all sequences"]})]})]}),n.jsxs(de,{className:"shadow-sm border-0 bg-gradient-to-br from-green-50 to-green-100/50",children:[n.jsxs(ye,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(be,{className:"text-sm font-medium text-green-900",children:"Active Sequences"}),n.jsx(w2,{className:"h-4 w-4 text-green-600"})]}),n.jsxs(ue,{children:[n.jsx("div",{className:"text-2xl font-bold text-green-900",children:e.filter(A=>A.isActive).length}),n.jsxs("p",{className:"text-xs text-green-600 flex items-center mt-1",children:[n.jsx(_t,{className:"h-3 w-3 mr-1"}),"Currently running"]})]})]}),n.jsxs(de,{className:"shadow-sm border-0 bg-gradient-to-br from-purple-50 to-purple-100/50",children:[n.jsxs(ye,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(be,{className:"text-sm font-medium text-purple-900",children:"Completion Rate"}),n.jsx(_t,{className:"h-4 w-4 text-purple-600"})]}),n.jsxs(ue,{children:[n.jsx("div",{className:"text-2xl font-bold text-purple-900",children:"0%"}),n.jsxs("p",{className:"text-xs text-purple-600 flex items-center mt-1",children:[n.jsx(_t,{className:"h-3 w-3 mr-1"}),"Average completion"]})]})]}),n.jsxs(de,{className:"shadow-sm border-0 bg-gradient-to-br from-orange-50 to-orange-100/50",children:[n.jsxs(ye,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(be,{className:"text-sm font-medium text-orange-900",children:"Templates"}),n.jsx(Qr,{className:"h-4 w-4 text-orange-600"})]}),n.jsxs(ue,{children:[n.jsx("div",{className:"text-2xl font-bold text-orange-900",children:r.length+a.length}),n.jsxs("p",{className:"text-xs text-orange-600 flex items-center mt-1",children:[n.jsx(Qr,{className:"h-3 w-3 mr-1"}),"Email & SMS templates"]})]})]})]}),n.jsxs(de,{className:"shadow-sm",children:[n.jsxs(ye,{children:[n.jsx(be,{children:"Sequence Performance"}),n.jsx($e,{children:"Detailed analytics for each nurture sequence"})]}),n.jsx(ue,{children:n.jsx("div",{className:"space-y-4",children:e.map(A=>{S(A.id);const O=0;return n.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[n.jsxs("div",{className:"flex-1",children:[n.jsx("h4",{className:"font-semibold",children:A.name}),n.jsx("p",{className:"text-sm text-muted-foreground",children:A.description})]}),n.jsxs("div",{className:"grid grid-cols-4 gap-4 text-center",children:[n.jsxs("div",{children:[n.jsx("div",{className:"text-lg font-bold",children:"0"}),n.jsx("div",{className:"text-xs text-muted-foreground",children:"Enrolled"})]}),n.jsxs("div",{children:[n.jsx("div",{className:"text-lg font-bold text-green-600",children:"0"}),n.jsx("div",{className:"text-xs text-muted-foreground",children:"Active"})]}),n.jsxs("div",{children:[n.jsx("div",{className:"text-lg font-bold text-blue-600",children:"0"}),n.jsx("div",{className:"text-xs text-muted-foreground",children:"Completed"})]}),n.jsxs("div",{children:[n.jsxs("div",{className:"text-lg font-bold text-purple-600",children:[O.toFixed(1),"%"]}),n.jsx("div",{className:"text-xs text-muted-foreground",children:"Rate"})]})]})]},A.id)})})})]})]})]})]})}function o7(){const[e,t]=C.useState([]),[r,s]=C.useState([]),[a,i]=C.useState([]),[o,l]=C.useState([]),[c,d]=C.useState([]),[h,u]=C.useState([]),[f,m]=C.useState([]),[v,x]=C.useState([]),[p,g]=C.useState(!1);C.useEffect(()=>{b()},[]);const b=()=>{const H=mn("renter-insight-email-templates",[]),q=mn("renter-insight-sms-templates",[]),L=mn("renter-insight-sequences",[]),V=mn("renter-insight-enrollments",[]),G=mn("renter-insight-communication-logs",[]),Z=mn("renter-insight-ai-insights",[]);if(H.length===0){const te=[{id:"1",name:"Welcome New Lead",subject:"Welcome to {{company_name}}, {{first_name}}!",body:`Hi {{first_name}},

Thank you for your interest in our RV inventory! We're excited to help you find the perfect recreational vehicle for your adventures.

Here's what happens next:
- One of our RV specialists will contact you within 24 hours
- We'll schedule a personalized tour of our showroom
- You'll receive our latest inventory updates and special offers

In the meantime, feel free to browse our current inventory at {{website_url}}.

Best regards,
{{rep_name}}
{{company_name}}`,type:"welcome",variables:["first_name","company_name","website_url","rep_name"],isActive:!0,createdAt:new Date("2024-01-01")},{id:"2",name:"Follow-up After 3 Days",subject:"Still looking for the perfect RV, {{first_name}}?",body:`Hi {{first_name}},

I wanted to follow up on your recent inquiry about our RV inventory. Have you had a chance to think about what type of RV would best suit your needs?

Based on your interests, I'd love to show you:
- {{suggested_models}}

We also have some exciting financing options that might interest you. Would you like to schedule a call this week to discuss your options?

You can reply to this email or call me directly at {{rep_phone}}.

Best regards,
{{rep_name}}`,type:"follow_up",variables:["first_name","suggested_models","rep_phone","rep_name"],isActive:!0,createdAt:new Date("2024-01-01")}];i(te),Gr("renter-insight-email-templates",te)}else i(H);if(q.length===0){const te=[{id:"1",name:"Quick Follow-up",message:"Hi {{first_name}}! This is {{rep_name}} from {{company_name}}. Just wanted to check if you have any questions about the RVs you viewed. Reply STOP to opt out.",type:"follow_up",variables:["first_name","rep_name","company_name"],isActive:!0,createdAt:new Date("2024-01-01")},{id:"2",name:"Appointment Reminder",message:"Hi {{first_name}}! Reminder: Your RV showroom appointment is tomorrow at {{appointment_time}}. See you then! - {{rep_name}}",type:"reminder",variables:["first_name","appointment_time","rep_name"],isActive:!0,createdAt:new Date("2024-01-01")}];l(te),Gr("renter-insight-sms-templates",te)}else l(q);if(L.length===0){const te=[{id:"1",name:"New Lead Welcome Series",description:"Automated welcome sequence for new leads",triggerConditions:[{type:"lead_status",operator:"equals",value:"new"}],steps:[{id:"1",sequenceId:"1",order:1,type:"email",delay:0,content:{subject:"Welcome to {{company_name}}, {{first_name}}!",body:mockEmailTemplates[0].body,template:"1"},isActive:!0},{id:"2",sequenceId:"1",order:2,type:"wait",delay:72,content:{body:"Wait 3 days"},isActive:!0},{id:"3",sequenceId:"1",order:3,type:"email",delay:0,content:{subject:"Still looking for the perfect RV, {{first_name}}?",body:mockEmailTemplates[1].body,template:"2"},isActive:!0},{id:"4",sequenceId:"1",order:4,type:"sms",delay:48,content:{body:mockSmsTemplates[0].message},isActive:!0}],isActive:!0,targetAudience:"New website leads",createdBy:"admin",createdAt:new Date("2024-01-01"),updatedAt:new Date("2024-01-01")}];t(te),Gr("renter-insight-sequences",te)}else t(L);if(Z.length===0){const te=[{id:"1",leadId:"1",type:"next_action",title:"Optimal Contact Time Identified",description:"Based on lead behavior patterns, the best time to contact this lead is Tuesday-Thursday between 2-4 PM.",confidence:85,actionable:!0,suggestedActions:["Schedule call for Tuesday 2-4 PM","Send follow-up email on Wednesday morning","Avoid Friday afternoon contact"],metadata:{timeZone:"EST",preferredDays:["Tuesday","Wednesday","Thursday"],preferredHours:[14,15,16]},generatedAt:new Date("2024-01-20"),isRead:!1},{id:"2",leadId:"1",type:"communication_style",title:"Communication Preference Analysis",description:"This lead responds better to detailed, educational content rather than high-pressure sales tactics.",confidence:78,actionable:!0,suggestedActions:["Share educational RV buying guides","Focus on features and benefits","Provide comparison charts","Avoid aggressive closing techniques"],metadata:{preferredStyle:"educational",responseRate:.65,engagementType:"content-focused"},generatedAt:new Date("2024-01-20"),isRead:!1}];u(te),Gr("renter-insight-ai-insights",te)}else u(Z);s(V),d(G)},y=async(H,q)=>{var L,V;g(!0);try{const G={id:Math.random().toString(36).substr(2,9),leadId:H,sequenceId:q,currentStepId:((V=(L=e.find(Z=>Z.id===q))==null?void 0:L.steps[0])==null?void 0:V.id)||"",status:"active",enrolledAt:new Date,nextActionAt:new Date};return s(Z=>[...Z,G]),await j(G),G}finally{g(!1)}},j=async H=>{const q=e.find(G=>G.id===H.sequenceId);if(!q)return;const L=q.steps.find(G=>G.id===H.currentStepId);if(!L)return;switch(L.type){case"email":await E(H.leadId,L);break;case"sms":await S(H.leadId,L);break;case"wait":const G=new Date;G.setHours(G.getHours()+L.delay),s(Z=>Z.map(te=>te.id===H.id?{...te,nextActionAt:G}:te));break}const V=q.steps.findIndex(G=>G.id===L.id)+1;if(V<q.steps.length){const G=q.steps[V];s(Z=>Z.map(te=>te.id===H.id?{...te,currentStepId:G.id}:te))}else s(G=>G.map(Z=>Z.id===H.id?{...Z,status:"completed",completedAt:new Date}:Z))},E=async(H,q)=>{const L={id:Math.random().toString(36).substr(2,9),leadId:H,type:"email",direction:"outbound",subject:q.content.subject,content:q.content.body,status:"sent",sentAt:new Date,metadata:{sequenceStep:q.id,template:q.content.template}};d(V=>[...V,L]),setTimeout(()=>{d(V=>V.map(G=>G.id===L.id?{...G,status:"delivered",deliveredAt:new Date}:G))},2e3),setTimeout(()=>{d(V=>V.map(G=>G.id===L.id?{...G,status:"opened",openedAt:new Date}:G))},5e3)},S=async(H,q)=>{const L={id:Math.random().toString(36).substr(2,9),leadId:H,type:"sms",direction:"outbound",content:q.content.body,status:"sent",sentAt:new Date,metadata:{sequenceStep:q.id}};d(V=>[...V,L]),setTimeout(()=>{d(V=>V.map(G=>G.id===L.id?{...G,status:"delivered",deliveredAt:new Date}:G))},1e3)};return{sequences:e,enrollments:r,emailTemplates:a,smsTemplates:o,communicationLogs:c,aiInsights:h,automationRules:f,analytics:v,loading:p,enrollLeadInSequence:y,processNextStep:j,generateAIInsights:async(H,q)=>{var L;g(!0);try{const V=[];q.score>70&&V.push({id:Math.random().toString(36).substr(2,9),leadId:H,type:"next_action",title:"High-Priority Lead - Immediate Action Recommended",description:"This lead has a high score and recent activity. Schedule a personal call within 24 hours.",confidence:92,actionable:!0,suggestedActions:["Schedule personal phone call","Send personalized video message","Invite to exclusive showroom tour"],generatedAt:new Date,isRead:!1});const G=new Date(q.lastActivity),Z=Math.floor((Date.now()-G.getTime())/(1e3*60*60*24));return Z>7&&V.push({id:Math.random().toString(36).substr(2,9),leadId:H,type:"timing",title:"Re-engagement Opportunity",description:`No activity for ${Z} days. Consider a re-engagement campaign.`,confidence:75,actionable:!0,suggestedActions:['Send "We miss you" email',"Offer special incentive","Share new inventory updates"],generatedAt:new Date,isRead:!1}),(L=q.customFields)!=null&&L.budget&&V.push({id:Math.random().toString(36).substr(2,9),leadId:H,type:"content_suggestion",title:"Personalized Content Recommendation",description:`Based on budget range ${q.customFields.budget}, suggest specific RV models and financing options.`,confidence:88,actionable:!0,suggestedActions:["Send budget-specific inventory","Share financing calculator","Provide trade-in valuation"],generatedAt:new Date,isRead:!1}),u(te=>[...te.filter(he=>he.leadId!==H),...V]),V}finally{g(!1)}},createEmailTemplate:async H=>{const q={id:Math.random().toString(36).substr(2,9),name:H.name||"",subject:H.subject||"",body:H.body||"",type:H.type||"custom",variables:H.variables||[],isActive:!0,createdAt:new Date},L=[...a,q];return i(L),Gr("renter-insight-email-templates",L),q},createSMSTemplate:async H=>{const q={id:Math.random().toString(36).substr(2,9),name:H.name||"",message:H.message||"",type:H.type||"custom",variables:H.variables||[],isActive:!0,createdAt:new Date},L=[...o,q];return l(L),Gr("renter-insight-sms-templates",L),q},createNurtureSequence:async H=>{const q={id:Math.random().toString(36).substr(2,9),name:H.name||"",description:H.description||"",triggerConditions:H.triggerConditions||[],steps:H.steps||[],isActive:!0,targetAudience:H.targetAudience||"",createdBy:"current-user",createdAt:new Date,updatedAt:new Date},L=[...e,q];return t(L),Gr("renter-insight-sequences",L),q},updateNurtureSequence:async(H,q)=>{const L=e.map(V=>V.id===H?{...V,...q,updatedAt:new Date}:V);t(L),Gr("renter-insight-sequences",L)},updateEmailTemplate:async(H,q)=>{const L=a.map(V=>V.id===H?{...V,...q}:V);i(L),Gr("renter-insight-email-templates",L)},updateSMSTemplate:async(H,q)=>{const L=o.map(V=>V.id===H?{...V,...q}:V);l(L),Gr("renter-insight-sms-templates",L)},getEnrollmentsByLead:H=>r.filter(q=>q.leadId===H),getCommunicationHistory:H=>c.filter(q=>q.leadId===H).sort((q,L)=>new Date(L.sentAt).getTime()-new Date(q.sentAt).getTime()),getAIInsightsByLead:H=>h.filter(q=>q.leadId===H&&!q.isRead),markInsightAsRead:async H=>{u(q=>q.map(L=>L.id===H?{...L,isRead:!0}:L))},pauseEnrollment:async H=>{s(q=>q.map(L=>L.id===H?{...L,status:"paused"}:L))},resumeEnrollment:async H=>{s(q=>q.map(L=>L.id===H?{...L,status:"active"}:L))}}}function Hee({leadId:e,leadData:t}){var E,S,N;const{aiInsights:r,generateAIInsights:s,markInsightAsRead:a,enrollLeadInSequence:i,sequences:o}=o7(),[l,c]=C.useState(!1),[d,h]=C.useState("insights"),u=r.filter(w=>w.leadId===e),f=u.filter(w=>!w.isRead),m=w=>{switch(w){case"next_action":return ja;case"communication_style":return ln;case"timing":return sr;case"content_suggestion":return EK;case"risk_assessment":return _t;default:return Po}},v=w=>{switch(w){case"next_action":return"from-blue-50 to-blue-100/50";case"communication_style":return"from-green-50 to-green-100/50";case"timing":return"from-orange-50 to-orange-100/50";case"content_suggestion":return"from-purple-50 to-purple-100/50";case"risk_assessment":return"from-red-50 to-red-100/50";default:return"from-gray-50 to-gray-100/50"}},x=w=>w>=80?"text-green-600 bg-green-50":w>=60?"text-yellow-600 bg-yellow-50":"text-orange-600 bg-orange-50",p=async()=>{c(!0);try{await s(e,t)}finally{c(!1)}},g=async w=>{await a(w)},b=async w=>{await i(e,w)},j=(w=>{var T;const _=[];if(w.score>80?_.push({type:"High Priority Action",suggestion:"This lead has excellent potential. Schedule a personal call within 24 hours and prepare a customized presentation.",confidence:95,actions:["Schedule immediate call","Prepare custom presentation","Send calendar invite"]}):w.score>60?_.push({type:"Warm Lead Nurturing",suggestion:"Good engagement level. Send educational content about RV ownership and schedule a follow-up in 3-5 days.",confidence:85,actions:["Send RV buying guide","Share customer testimonials","Schedule follow-up"]}):_.push({type:"Lead Warming",suggestion:"Lower engagement detected. Enroll in nurture sequence and focus on value-driven content.",confidence:75,actions:["Enroll in email sequence","Send value content","Monitor engagement"]}),(T=w.customFields)!=null&&T.budget){const A=w.customFields.budget;_.push({type:"Budget-Matched Recommendations",suggestion:`Based on ${A} budget, focus on specific inventory that matches their price range and financing options.`,confidence:90,actions:["Send matching inventory","Discuss financing","Offer trade-in evaluation"]})}const k=Math.floor((Date.now()-new Date(w.createdAt).getTime())/(1e3*60*60*24));return k>7&&_.push({type:"Re-engagement Strategy",suggestion:`Lead is ${k} days old. Implement re-engagement tactics with special offers or new inventory alerts.`,confidence:80,actions:["Send special offer","Share new arrivals","Offer exclusive preview"]}),w.source.toLowerCase().includes("website")&&_.push({type:"Digital-First Approach",suggestion:"Lead came from website - they prefer digital communication. Use email and video messages before phone calls.",confidence:85,actions:["Send welcome email","Create video message","Share virtual tour"]}),_})(t);return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsxs("h3",{className:"text-lg font-semibold flex items-center",children:[n.jsx(Po,{className:"h-5 w-5 mr-2 text-purple-500"}),"AI Insights & Suggestions"]}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"AI-powered recommendations for lead engagement"})]}),n.jsxs(J,{onClick:p,disabled:l,size:"sm",children:[n.jsx(Po,{className:"h-4 w-4 mr-2"}),l?"Analyzing...":"Generate Insights"]})]}),n.jsxs(xr,{value:d,onValueChange:h,className:"space-y-4",children:[n.jsxs(fr,{className:"grid w-full grid-cols-3",children:[n.jsxs(Qe,{value:"insights",className:"relative",children:["AI Insights",f.length>0&&n.jsx(Re,{className:"ml-2 h-5 w-5 rounded-full p-0 text-xs bg-red-500",children:f.length})]}),n.jsx(Qe,{value:"chatgpt",children:"ChatGPT Suggestions"}),n.jsx(Qe,{value:"automation",children:"Automation"})]}),n.jsx(et,{value:"insights",className:"space-y-4",children:u.length===0?n.jsx(de,{className:"shadow-sm",children:n.jsxs(ue,{className:"flex flex-col items-center justify-center py-12",children:[n.jsx(Po,{className:"h-12 w-12 text-muted-foreground mb-4"}),n.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No AI Insights Yet"}),n.jsx("p",{className:"text-muted-foreground text-center mb-4",children:"Generate AI-powered insights to get personalized recommendations for this lead."}),n.jsxs(J,{onClick:p,disabled:l,children:[n.jsx(Po,{className:"h-4 w-4 mr-2"}),"Generate First Insights"]})]})}):n.jsx("div",{className:"space-y-4",children:u.sort((w,_)=>new Date(_.generatedAt).getTime()-new Date(w.generatedAt).getTime()).map(w=>{const _=m(w.type);return n.jsxs(de,{className:He("shadow-sm border-0 bg-gradient-to-br",v(w.type),!w.isRead&&"ring-2 ring-blue-200"),children:[n.jsx(ye,{children:n.jsxs("div",{className:"flex items-start justify-between",children:[n.jsxs("div",{className:"flex items-start space-x-3",children:[n.jsx(_,{className:"h-6 w-6 text-primary mt-1"}),n.jsxs("div",{children:[n.jsx(be,{className:"text-lg",children:w.title}),n.jsx($e,{className:"mt-1",children:w.description})]})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsxs(Re,{className:He("ri-badge-status",x(w.confidence)),children:[w.confidence,"% confidence"]}),!w.isRead&&n.jsxs(J,{variant:"outline",size:"sm",onClick:()=>g(w.id),children:[n.jsx(Xr,{className:"h-3 w-3 mr-1"}),"Mark Read"]})]})]})}),w.actionable&&w.suggestedActions&&n.jsx(ue,{children:n.jsxs("div",{children:[n.jsx("h4",{className:"font-semibold text-sm mb-2",children:"Suggested Actions:"}),n.jsx("div",{className:"space-y-2",children:w.suggestedActions.map((k,T)=>n.jsxs("div",{className:"flex items-center justify-between p-2 bg-white/50 rounded-md",children:[n.jsx("span",{className:"text-sm",children:k}),n.jsx(J,{variant:"outline",size:"sm",children:"Execute"})]},T))})]})})]},w.id)})})}),n.jsxs(et,{value:"chatgpt",className:"space-y-4",children:[n.jsxs(de,{className:"shadow-sm border-0 bg-gradient-to-br from-green-50 to-green-100/50",children:[n.jsx(ye,{children:n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("div",{className:"w-8 h-8 bg-green-500 rounded-full flex items-center justify-center",children:n.jsx(Po,{className:"h-4 w-4 text-white"})}),n.jsxs("div",{children:[n.jsx(be,{className:"text-green-900",children:"ChatGPT Analysis"}),n.jsx($e,{className:"text-green-700",children:"AI-powered lead analysis and action recommendations"})]})]})}),n.jsx(ue,{children:n.jsx("div",{className:"space-y-4",children:j.map((w,_)=>n.jsxs("div",{className:"bg-white/70 p-4 rounded-lg",children:[n.jsxs("div",{className:"flex items-start justify-between mb-2",children:[n.jsx("h4",{className:"font-semibold text-green-900",children:w.type}),n.jsxs(Re,{className:"bg-green-100 text-green-700 border-green-200",children:[w.confidence,"% confidence"]})]}),n.jsx("p",{className:"text-sm text-green-800 mb-3",children:w.suggestion}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("h5",{className:"text-xs font-semibold text-green-900 uppercase tracking-wide",children:"Recommended Actions:"}),n.jsx("div",{className:"grid gap-2 md:grid-cols-3",children:w.actions.map((k,T)=>n.jsx(J,{variant:"outline",size:"sm",className:"justify-start text-xs bg-white/50 hover:bg-white/80",children:k},T))})]})]},_))})})]}),n.jsxs(de,{className:"shadow-sm",children:[n.jsx(ye,{children:n.jsxs(be,{className:"flex items-center",children:[n.jsx(ja,{className:"h-5 w-5 mr-2 text-blue-500"}),"Lead Scoring Analysis"]})}),n.jsx(ue,{children:n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between p-3 bg-blue-50 rounded-lg",children:[n.jsxs("div",{children:[n.jsxs("h4",{className:"font-semibold text-blue-900",children:["Current Score: ",t.score]}),n.jsx("p",{className:"text-sm text-blue-700",children:t.score>=80?"Hot Lead - High Priority":t.score>=60?"Warm Lead - Good Potential":t.score>=40?"Cool Lead - Needs Nurturing":"Cold Lead - Long-term Nurturing"})]}),n.jsxs("div",{className:"text-right",children:[n.jsx("div",{className:"text-2xl font-bold text-blue-600",children:t.score}),n.jsx("div",{className:"text-xs text-blue-500",children:"/ 100"})]})]}),n.jsxs("div",{className:"grid gap-3 md:grid-cols-2",children:[n.jsxs("div",{className:"p-3 bg-green-50 rounded-lg",children:[n.jsx("h5",{className:"font-semibold text-green-900 mb-1",children:"Strengths"}),n.jsxs("ul",{className:"text-sm text-green-700 space-y-1",children:[((E=t.customFields)==null?void 0:E.budget)&&n.jsx("li",{children:" Budget information provided"}),((S=t.customFields)==null?void 0:S.timeframe)&&n.jsx("li",{children:" Clear purchase timeline"}),t.score>60&&n.jsx("li",{children:" Good engagement level"}),t.source==="Customer Referral"&&n.jsx("li",{children:" High-quality referral source"})]})]}),n.jsxs("div",{className:"p-3 bg-orange-50 rounded-lg",children:[n.jsx("h5",{className:"font-semibold text-orange-900 mb-1",children:"Improvement Areas"}),n.jsxs("ul",{className:"text-sm text-orange-700 space-y-1",children:[!((N=t.customFields)!=null&&N.budget)&&n.jsx("li",{children:" No budget information"}),t.score<60&&n.jsx("li",{children:" Low engagement level"}),!t.assignedTo&&n.jsx("li",{children:" No sales rep assigned"}),n.jsx("li",{children:" Limited activity history"})]})]})]})]})})]})]}),n.jsxs(et,{value:"automation",className:"space-y-4",children:[n.jsxs(de,{className:"shadow-sm",children:[n.jsxs(ye,{children:[n.jsxs(be,{className:"flex items-center",children:[n.jsx(ln,{className:"h-5 w-5 mr-2 text-purple-500"}),"Nurture Sequences"]}),n.jsx($e,{children:"Enroll this lead in automated nurturing sequences"})]}),n.jsx(ue,{children:n.jsx("div",{className:"space-y-4",children:o.filter(w=>w.isActive).map(w=>n.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg hover:bg-accent/50 transition-colors",children:[n.jsxs("div",{className:"flex-1",children:[n.jsx("h4",{className:"font-semibold",children:w.name}),n.jsx("p",{className:"text-sm text-muted-foreground",children:w.description}),n.jsxs("div",{className:"flex items-center space-x-2 mt-2",children:[n.jsxs(Re,{variant:"secondary",className:"text-xs",children:[w.steps.length," steps"]}),n.jsx(Re,{variant:"outline",className:"text-xs",children:w.targetAudience})]})]}),n.jsx(J,{onClick:()=>b(w.id),size:"sm",children:"Enroll Lead"})]},w.id))})})]}),n.jsxs(de,{className:"shadow-sm",children:[n.jsx(ye,{children:n.jsxs(be,{className:"flex items-center",children:[n.jsx(sr,{className:"h-5 w-5 mr-2 text-orange-500"}),"Smart Timing Recommendations"]})}),n.jsx(ue,{children:n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"p-3 bg-blue-50 rounded-lg",children:[n.jsx("h4",{className:"font-semibold text-blue-900",children:"Best Contact Times"}),n.jsx("p",{className:"text-sm text-blue-700",children:"Based on lead behavior: Tuesday-Thursday, 2-4 PM"})]}),n.jsxs("div",{className:"p-3 bg-green-50 rounded-lg",children:[n.jsx("h4",{className:"font-semibold text-green-900",children:"Email Timing"}),n.jsx("p",{className:"text-sm text-green-700",children:"Send emails Tuesday/Wednesday mornings for best open rates"})]}),n.jsxs("div",{className:"p-3 bg-purple-50 rounded-lg",children:[n.jsx("h4",{className:"font-semibold text-purple-900",children:"Follow-up Schedule"}),n.jsx("p",{className:"text-sm text-purple-700",children:"Next follow-up recommended in 2-3 days based on engagement"})]})]})})]})]})]})]})}function Gee({leadId:e,leadData:t}){const{emailTemplates:r,smsTemplates:s,communicationLogs:a,getCommunicationHistory:i}=o7(),[o,l]=C.useState("history"),[c,d]=C.useState(""),[h,u]=C.useState(""),[f,m]=C.useState(""),[v,x]=C.useState(""),[p,g]=C.useState(""),[b,y]=C.useState(!1),j=i(e),E=T=>{switch(T){case"sent":return n.jsx($o,{className:"h-3 w-3 text-blue-500"});case"delivered":return n.jsx(Xr,{className:"h-3 w-3 text-green-500"});case"opened":return n.jsx(Qr,{className:"h-3 w-3 text-purple-500"});case"clicked":return n.jsx(Xr,{className:"h-3 w-3 text-green-600"});case"replied":return n.jsx(ln,{className:"h-3 w-3 text-blue-600"});case"failed":return n.jsx(tf,{className:"h-3 w-3 text-red-500"});default:return n.jsx(sr,{className:"h-3 w-3 text-gray-500"})}},S=T=>{switch(T){case"sent":return"bg-blue-50 text-blue-700 border-blue-200";case"delivered":return"bg-green-50 text-green-700 border-green-200";case"opened":return"bg-purple-50 text-purple-700 border-purple-200";case"clicked":return"bg-green-50 text-green-700 border-green-200";case"replied":return"bg-blue-50 text-blue-700 border-blue-200";case"failed":return"bg-red-50 text-red-700 border-red-200";default:return"bg-gray-50 text-gray-700 border-gray-200"}},N=(T,A)=>{var O;return T.replace(/\{\{first_name\}\}/g,A.firstName).replace(/\{\{last_name\}\}/g,A.lastName).replace(/\{\{company_name\}\}/g,"Renter Insight RV").replace(/\{\{rep_name\}\}/g,"Your Sales Representative").replace(/\{\{rep_phone\}\}/g,"(555) 123-4567").replace(/\{\{website_url\}\}/g,"https://renterinsight.com").replace(/\{\{budget\}\}/g,((O=A.customFields)==null?void 0:O.budget)||"your budget")},w=async()=>{y(!0);try{let T=f,A=v;if(c){const O=r.find(D=>D.id===c);O&&(T=N(O.subject,t),A=N(O.body,t))}await new Promise(O=>setTimeout(O,2e3)),m(""),x(""),d(""),console.log("Email sent:",{subject:T,body:A,to:t.email})}finally{y(!1)}},_=async()=>{y(!0);try{let T=p;if(h){const A=s.find(O=>O.id===h);A&&(T=N(A.message,t))}await new Promise(A=>setTimeout(A,1500)),g(""),u(""),console.log("SMS sent:",{message:T,to:t.phone})}finally{y(!1)}},k=(T,A)=>{if(A==="email"){d(T);const O=r.find(D=>D.id===T);O&&(m(N(O.subject,t)),x(N(O.body,t)))}else{u(T);const O=s.find(D=>D.id===T);O&&g(N(O.message,t))}};return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{children:[n.jsxs("h3",{className:"text-lg font-semibold flex items-center",children:[n.jsx(ln,{className:"h-5 w-5 mr-2 text-blue-500"}),"Communication Center"]}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Send emails, SMS, and track communication history"})]}),n.jsxs(xr,{value:o,onValueChange:l,className:"space-y-4",children:[n.jsxs(fr,{className:"grid w-full grid-cols-3",children:[n.jsx(Qe,{value:"history",children:"History"}),n.jsx(Qe,{value:"email",children:"Send Email"}),n.jsx(Qe,{value:"sms",children:"Send SMS"})]}),n.jsx(et,{value:"history",className:"space-y-4",children:n.jsxs(de,{className:"shadow-sm",children:[n.jsxs(ye,{children:[n.jsxs(be,{className:"flex items-center",children:[n.jsx(sr,{className:"h-5 w-5 mr-2"}),"Communication History"]}),n.jsx($e,{children:"All email and SMS communications with this lead"})]}),n.jsx(ue,{children:j.length===0?n.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[n.jsx(ln,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground/50"}),n.jsx("p",{children:"No communication history yet"}),n.jsx("p",{className:"text-sm",children:"Start by sending an email or SMS"})]}):n.jsx("div",{className:"space-y-4",children:j.map((T,A)=>n.jsxs("div",{className:"relative",children:[A<j.length-1&&n.jsx("div",{className:"absolute left-4 top-12 bottom-0 w-px bg-border"}),n.jsxs("div",{className:"flex items-start space-x-4",children:[n.jsx("div",{className:He("flex-shrink-0 w-8 h-8 rounded-full border-2 bg-background flex items-center justify-center",T.type==="email"?"border-blue-200":"border-green-200"),children:T.type==="email"?n.jsx(Qr,{className:"h-4 w-4 text-blue-500"}):n.jsx(ln,{className:"h-4 w-4 text-green-500"})}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsxs("span",{className:"font-medium text-sm capitalize",children:[T.type," ",T.direction]}),n.jsxs(Re,{className:He("ri-badge-status text-xs",S(T.status)),children:[E(T.status),n.jsx("span",{className:"ml-1",children:T.status})]})]}),n.jsx("span",{className:"text-xs text-muted-foreground",children:ct(T.sentAt)})]}),T.subject&&n.jsx("p",{className:"font-medium text-sm mb-1",children:T.subject}),n.jsx("div",{className:"bg-muted/30 p-3 rounded-md",children:n.jsx("p",{className:"text-sm text-muted-foreground whitespace-pre-wrap",children:T.content})}),n.jsxs("div",{className:"flex items-center space-x-4 mt-2 text-xs text-muted-foreground",children:[n.jsxs("span",{children:["Sent: ",ct(T.sentAt)]}),T.deliveredAt&&n.jsxs("span",{children:["Delivered: ",ct(T.deliveredAt)]}),T.openedAt&&n.jsxs("span",{children:["Opened: ",ct(T.openedAt)]}),T.clickedAt&&n.jsxs("span",{children:["Clicked: ",ct(T.clickedAt)]})]})]})]})]},T.id))})})]})}),n.jsx(et,{value:"email",className:"space-y-4",children:n.jsxs(de,{className:"shadow-sm",children:[n.jsxs(ye,{children:[n.jsxs(be,{className:"flex items-center",children:[n.jsx(Qr,{className:"h-5 w-5 mr-2 text-blue-500"}),"Send Email"]}),n.jsx($e,{children:"Send personalized emails using templates or custom content"})]}),n.jsxs(ue,{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium",children:"Email Template (Optional)"}),n.jsxs(Ve,{value:c,onValueChange:T=>k(T,"email"),children:[n.jsx(ze,{children:n.jsx(qe,{placeholder:"Choose a template or write custom email"})}),n.jsxs(Ue,{children:[n.jsx(K,{value:"",children:"Custom Email"}),r.filter(T=>T.isActive).map(T=>n.jsxs(K,{value:T.id,children:[T.name," (",T.type,")"]},T.id))]})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium",children:"To"}),n.jsx(Pe,{value:t.email,disabled:!0,className:"bg-muted/50"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium",children:"Subject"}),n.jsx(Pe,{value:f,onChange:T=>m(T.target.value),placeholder:"Enter email subject"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium",children:"Message"}),n.jsx(tr,{value:v,onChange:T=>x(T.target.value),placeholder:"Enter your email message",rows:8})]}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsxs("div",{className:"text-xs text-muted-foreground",children:["Available variables: ",{first_name},", ",{last_name},", ",{company_name},", ",{rep_name}]}),n.jsxs(J,{onClick:w,disabled:b||!f||!v,children:[n.jsx($o,{className:"h-4 w-4 mr-2"}),b?"Sending...":"Send Email"]})]})]})]})}),n.jsx(et,{value:"sms",className:"space-y-4",children:n.jsxs(de,{className:"shadow-sm",children:[n.jsxs(ye,{children:[n.jsxs(be,{className:"flex items-center",children:[n.jsx(ln,{className:"h-5 w-5 mr-2 text-green-500"}),"Send SMS"]}),n.jsx($e,{children:"Send text messages using templates or custom content"})]}),n.jsxs(ue,{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium",children:"SMS Template (Optional)"}),n.jsxs(Ve,{value:h,onValueChange:T=>k(T,"sms"),children:[n.jsx(ze,{children:n.jsx(qe,{placeholder:"Choose a template or write custom SMS"})}),n.jsxs(Ue,{children:[n.jsx(K,{value:"",children:"Custom SMS"}),s.filter(T=>T.isActive).map(T=>n.jsxs(K,{value:T.id,children:[T.name," (",T.type,")"]},T.id))]})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium",children:"To"}),n.jsx(Pe,{value:t.phone,disabled:!0,className:"bg-muted/50"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium",children:"Message"}),n.jsx(tr,{value:p,onChange:T=>g(T.target.value),placeholder:"Enter your SMS message",rows:4,maxLength:160}),n.jsxs("div",{className:"flex justify-between items-center mt-1",children:[n.jsxs("div",{className:"text-xs text-muted-foreground",children:[p.length,"/160 characters"]}),n.jsx("div",{className:He("text-xs",p.length>160?"text-red-500":"text-muted-foreground"),children:p.length>160&&"Message too long"})]})]}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsxs("div",{className:"text-xs text-muted-foreground",children:["Available variables: ",{first_name},", ",{company_name},", ",{rep_name}]}),n.jsxs(J,{onClick:_,disabled:b||!p||p.length>160,children:[n.jsx($o,{className:"h-4 w-4 mr-2"}),b?"Sending...":"Send SMS"]})]})]})]})})]})]})}var l7={exports:{}};/* @license
Papa Parse
v5.5.3
https://github.com/mholt/PapaParse
License: MIT
*/(function(e,t){((r,s)=>{e.exports=s()})(Un,function r(){var s=typeof self<"u"?self:typeof window<"u"?window:s!==void 0?s:{},a,i=!s.document&&!!s.postMessage,o=s.IS_PAPA_WORKER||!1,l={},c=0,d={};function h(w){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},(function(_){var k=E(_);k.chunkSize=parseInt(k.chunkSize),_.step||_.chunk||(k.chunkSize=null),this._handle=new x(k),(this._handle.streamer=this)._config=k}).call(this,w),this.parseChunk=function(_,k){var T=parseInt(this._config.skipFirstNLines)||0;if(this.isFirstChunk&&0<T){let O=this._config.newline;O||(A=this._config.quoteChar||'"',O=this._handle.guessLineEndings(_,A)),_=[..._.split(O).slice(T)].join(O)}this.isFirstChunk&&N(this._config.beforeFirstChunk)&&(A=this._config.beforeFirstChunk(_))!==void 0&&(_=A),this.isFirstChunk=!1,this._halted=!1;var T=this._partialLine+_,A=(this._partialLine="",this._handle.parse(T,this._baseIndex,!this._finished));if(!this._handle.paused()&&!this._handle.aborted()){if(_=A.meta.cursor,T=(this._finished||(this._partialLine=T.substring(_-this._baseIndex),this._baseIndex=_),A&&A.data&&(this._rowCount+=A.data.length),this._finished||this._config.preview&&this._rowCount>=this._config.preview),o)s.postMessage({results:A,workerId:d.WORKER_ID,finished:T});else if(N(this._config.chunk)&&!k){if(this._config.chunk(A,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);this._completeResults=A=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(A.data),this._completeResults.errors=this._completeResults.errors.concat(A.errors),this._completeResults.meta=A.meta),this._completed||!T||!N(this._config.complete)||A&&A.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),T||A&&A.meta.paused||this._nextChunk(),A}this._halted=!0},this._sendError=function(_){N(this._config.error)?this._config.error(_):o&&this._config.error&&s.postMessage({workerId:d.WORKER_ID,error:_,finished:!1})}}function u(w){var _;(w=w||{}).chunkSize||(w.chunkSize=d.RemoteChunkSize),h.call(this,w),this._nextChunk=i?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(k){this._input=k,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(_=new XMLHttpRequest,this._config.withCredentials&&(_.withCredentials=this._config.withCredentials),i||(_.onload=S(this._chunkLoaded,this),_.onerror=S(this._chunkError,this)),_.open(this._config.downloadRequestBody?"POST":"GET",this._input,!i),this._config.downloadRequestHeaders){var k,T=this._config.downloadRequestHeaders;for(k in T)_.setRequestHeader(k,T[k])}var A;this._config.chunkSize&&(A=this._start+this._config.chunkSize-1,_.setRequestHeader("Range","bytes="+this._start+"-"+A));try{_.send(this._config.downloadRequestBody)}catch(O){this._chunkError(O.message)}i&&_.status===0&&this._chunkError()}},this._chunkLoaded=function(){_.readyState===4&&(_.status<200||400<=_.status?this._chunkError():(this._start+=this._config.chunkSize||_.responseText.length,this._finished=!this._config.chunkSize||this._start>=(k=>(k=k.getResponseHeader("Content-Range"))!==null?parseInt(k.substring(k.lastIndexOf("/")+1)):-1)(_),this.parseChunk(_.responseText)))},this._chunkError=function(k){k=_.statusText||k,this._sendError(new Error(k))}}function f(w){(w=w||{}).chunkSize||(w.chunkSize=d.LocalChunkSize),h.call(this,w);var _,k,T=typeof FileReader<"u";this.stream=function(A){this._input=A,k=A.slice||A.webkitSlice||A.mozSlice,T?((_=new FileReader).onload=S(this._chunkLoaded,this),_.onerror=S(this._chunkError,this)):_=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var A=this._input,O=(this._config.chunkSize&&(O=Math.min(this._start+this._config.chunkSize,this._input.size),A=k.call(A,this._start,O)),_.readAsText(A,this._config.encoding));T||this._chunkLoaded({target:{result:O}})},this._chunkLoaded=function(A){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(A.target.result)},this._chunkError=function(){this._sendError(_.error)}}function m(w){var _;h.call(this,w=w||{}),this.stream=function(k){return _=k,this._nextChunk()},this._nextChunk=function(){var k,T;if(!this._finished)return k=this._config.chunkSize,_=k?(T=_.substring(0,k),_.substring(k)):(T=_,""),this._finished=!_,this.parseChunk(T)}}function v(w){h.call(this,w=w||{});var _=[],k=!0,T=!1;this.pause=function(){h.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){h.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(A){this._input=A,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){T&&_.length===1&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),_.length?this.parseChunk(_.shift()):k=!0},this._streamData=S(function(A){try{_.push(typeof A=="string"?A:A.toString(this._config.encoding)),k&&(k=!1,this._checkIsFinished(),this.parseChunk(_.shift()))}catch(O){this._streamError(O)}},this),this._streamError=S(function(A){this._streamCleanUp(),this._sendError(A)},this),this._streamEnd=S(function(){this._streamCleanUp(),T=!0,this._streamData("")},this),this._streamCleanUp=S(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function x(w){var _,k,T,A,O=Math.pow(2,53),D=-O,F=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,M=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,R=this,B=0,U=0,H=!1,q=!1,L=[],V={data:[],errors:[],meta:{}};function G(fe){return w.skipEmptyLines==="greedy"?fe.join("").trim()==="":fe.length===1&&fe[0].length===0}function Z(){if(V&&T&&(he("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+d.DefaultDelimiter+"'"),T=!1),w.skipEmptyLines&&(V.data=V.data.filter(function(je){return!G(je)})),te()){let je=function(ve,Le){N(w.transformHeader)&&(ve=w.transformHeader(ve,Le)),L.push(ve)};if(V)if(Array.isArray(V.data[0])){for(var fe=0;te()&&fe<V.data.length;fe++)V.data[fe].forEach(je);V.data.splice(0,1)}else V.data.forEach(je)}function oe(je,ve){for(var Le=w.header?{}:[],ge=0;ge<je.length;ge++){var le=ge,re=je[ge],re=((Ce,Ne)=>(xe=>(w.dynamicTypingFunction&&w.dynamicTyping[xe]===void 0&&(w.dynamicTyping[xe]=w.dynamicTypingFunction(xe)),(w.dynamicTyping[xe]||w.dynamicTyping)===!0))(Ce)?Ne==="true"||Ne==="TRUE"||Ne!=="false"&&Ne!=="FALSE"&&((xe=>{if(F.test(xe)&&(xe=parseFloat(xe),D<xe&&xe<O))return 1})(Ne)?parseFloat(Ne):M.test(Ne)?new Date(Ne):Ne===""?null:Ne):Ne)(le=w.header?ge>=L.length?"__parsed_extra":L[ge]:le,re=w.transform?w.transform(re,le):re);le==="__parsed_extra"?(Le[le]=Le[le]||[],Le[le].push(re)):Le[le]=re}return w.header&&(ge>L.length?he("FieldMismatch","TooManyFields","Too many fields: expected "+L.length+" fields but parsed "+ge,U+ve):ge<L.length&&he("FieldMismatch","TooFewFields","Too few fields: expected "+L.length+" fields but parsed "+ge,U+ve)),Le}var we;V&&(w.header||w.dynamicTyping||w.transform)&&(we=1,!V.data.length||Array.isArray(V.data[0])?(V.data=V.data.map(oe),we=V.data.length):V.data=oe(V.data,0),w.header&&V.meta&&(V.meta.fields=L),U+=we)}function te(){return w.header&&L.length===0}function he(fe,oe,we,je){fe={type:fe,code:oe,message:we},je!==void 0&&(fe.row=je),V.errors.push(fe)}N(w.step)&&(A=w.step,w.step=function(fe){V=fe,te()?Z():(Z(),V.data.length!==0&&(B+=fe.data.length,w.preview&&B>w.preview?k.abort():(V.data=V.data[0],A(V,R))))}),this.parse=function(fe,oe,we){var je=w.quoteChar||'"',je=(w.newline||(w.newline=this.guessLineEndings(fe,je)),T=!1,w.delimiter?N(w.delimiter)&&(w.delimiter=w.delimiter(fe),V.meta.delimiter=w.delimiter):((je=((ve,Le,ge,le,re)=>{var Ce,Ne,xe,Fe;re=re||[",","	","|",";",d.RECORD_SEP,d.UNIT_SEP];for(var nt=0;nt<re.length;nt++){for(var rt,gt=re[nt],Me=0,Ze=0,ht=0,xt=(xe=void 0,new g({comments:le,delimiter:gt,newline:Le,preview:10}).parse(ve)),kt=0;kt<xt.data.length;kt++)ge&&G(xt.data[kt])?ht++:(rt=xt.data[kt].length,Ze+=rt,xe===void 0?xe=rt:0<rt&&(Me+=Math.abs(rt-xe),xe=rt));0<xt.data.length&&(Ze/=xt.data.length-ht),(Ne===void 0||Me<=Ne)&&(Fe===void 0||Fe<Ze)&&1.99<Ze&&(Ne=Me,Ce=gt,Fe=Ze)}return{successful:!!(w.delimiter=Ce),bestDelimiter:Ce}})(fe,w.newline,w.skipEmptyLines,w.comments,w.delimitersToGuess)).successful?w.delimiter=je.bestDelimiter:(T=!0,w.delimiter=d.DefaultDelimiter),V.meta.delimiter=w.delimiter),E(w));return w.preview&&w.header&&je.preview++,_=fe,k=new g(je),V=k.parse(_,oe,we),Z(),H?{meta:{paused:!0}}:V||{meta:{paused:!1}}},this.paused=function(){return H},this.pause=function(){H=!0,k.abort(),_=N(w.chunk)?"":_.substring(k.getCharIndex())},this.resume=function(){R.streamer._halted?(H=!1,R.streamer.parseChunk(_,!0)):setTimeout(R.resume,3)},this.aborted=function(){return q},this.abort=function(){q=!0,k.abort(),V.meta.aborted=!0,N(w.complete)&&w.complete(V),_=""},this.guessLineEndings=function(ve,je){ve=ve.substring(0,1048576);var je=new RegExp(p(je)+"([^]*?)"+p(je),"gm"),we=(ve=ve.replace(je,"")).split("\r"),je=ve.split(`
`),ve=1<je.length&&je[0].length<we[0].length;if(we.length===1||ve)return`
`;for(var Le=0,ge=0;ge<we.length;ge++)we[ge][0]===`
`&&Le++;return Le>=we.length/2?`\r
`:"\r"}}function p(w){return w.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function g(w){var _=(w=w||{}).delimiter,k=w.newline,T=w.comments,A=w.step,O=w.preview,D=w.fastMode,F=null,M=!1,R=w.quoteChar==null?'"':w.quoteChar,B=R;if(w.escapeChar!==void 0&&(B=w.escapeChar),(typeof _!="string"||-1<d.BAD_DELIMITERS.indexOf(_))&&(_=","),T===_)throw new Error("Comment character same as delimiter");T===!0?T="#":(typeof T!="string"||-1<d.BAD_DELIMITERS.indexOf(T))&&(T=!1),k!==`
`&&k!=="\r"&&k!==`\r
`&&(k=`
`);var U=0,H=!1;this.parse=function(q,L,V){if(typeof q!="string")throw new Error("Input must be a string");var G=q.length,Z=_.length,te=k.length,he=T.length,fe=N(A),oe=[],we=[],je=[],ve=U=0;if(!q)return Me();if(D||D!==!1&&q.indexOf(R)===-1){for(var Le=q.split(k),ge=0;ge<Le.length;ge++){if(je=Le[ge],U+=je.length,ge!==Le.length-1)U+=k.length;else if(V)return Me();if(!T||je.substring(0,he)!==T){if(fe){if(oe=[],Fe(je.split(_)),Ze(),H)return Me()}else Fe(je.split(_));if(O&&O<=ge)return oe=oe.slice(0,O),Me(!0)}}return Me()}for(var le=q.indexOf(_,U),re=q.indexOf(k,U),Ce=new RegExp(p(B)+p(R),"g"),Ne=q.indexOf(R,U);;)if(q[U]===R)for(Ne=U,U++;;){if((Ne=q.indexOf(R,Ne+1))===-1)return V||we.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:oe.length,index:U}),rt();if(Ne===G-1)return rt(q.substring(U,Ne).replace(Ce,R));if(R===B&&q[Ne+1]===B)Ne++;else if(R===B||Ne===0||q[Ne-1]!==B){le!==-1&&le<Ne+1&&(le=q.indexOf(_,Ne+1));var xe=nt((re=re!==-1&&re<Ne+1?q.indexOf(k,Ne+1):re)===-1?le:Math.min(le,re));if(q.substr(Ne+1+xe,Z)===_){je.push(q.substring(U,Ne).replace(Ce,R)),q[U=Ne+1+xe+Z]!==R&&(Ne=q.indexOf(R,U)),le=q.indexOf(_,U),re=q.indexOf(k,U);break}if(xe=nt(re),q.substring(Ne+1+xe,Ne+1+xe+te)===k){if(je.push(q.substring(U,Ne).replace(Ce,R)),gt(Ne+1+xe+te),le=q.indexOf(_,U),Ne=q.indexOf(R,U),fe&&(Ze(),H))return Me();if(O&&oe.length>=O)return Me(!0);break}we.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:oe.length,index:U}),Ne++}}else if(T&&je.length===0&&q.substring(U,U+he)===T){if(re===-1)return Me();U=re+te,re=q.indexOf(k,U),le=q.indexOf(_,U)}else if(le!==-1&&(le<re||re===-1))je.push(q.substring(U,le)),U=le+Z,le=q.indexOf(_,U);else{if(re===-1)break;if(je.push(q.substring(U,re)),gt(re+te),fe&&(Ze(),H))return Me();if(O&&oe.length>=O)return Me(!0)}return rt();function Fe(ht){oe.push(ht),ve=U}function nt(ht){var xt=0;return xt=ht!==-1&&(ht=q.substring(Ne+1,ht))&&ht.trim()===""?ht.length:xt}function rt(ht){return V||(ht===void 0&&(ht=q.substring(U)),je.push(ht),U=G,Fe(je),fe&&Ze()),Me()}function gt(ht){U=ht,Fe(je),je=[],re=q.indexOf(k,U)}function Me(ht){if(w.header&&!L&&oe.length&&!M){var xt=oe[0],kt=Object.create(null),St=new Set(xt);let Bt=!1;for(let lt=0;lt<xt.length;lt++){let jr=xt[lt];if(kt[jr=N(w.transformHeader)?w.transformHeader(jr,lt):jr]){let Xt,qn=kt[jr];for(;Xt=jr+"_"+qn,qn++,St.has(Xt););St.add(Xt),xt[lt]=Xt,kt[jr]++,Bt=!0,(F=F===null?{}:F)[Xt]=jr}else kt[jr]=1,xt[lt]=jr;St.add(jr)}Bt&&console.warn("Duplicate headers found and renamed."),M=!0}return{data:oe,errors:we,meta:{delimiter:_,linebreak:k,aborted:H,truncated:!!ht,cursor:ve+(L||0),renamedHeaders:F}}}function Ze(){A(Me()),oe=[],we=[]}},this.abort=function(){H=!0},this.getCharIndex=function(){return U}}function b(w){var _=w.data,k=l[_.workerId],T=!1;if(_.error)k.userError(_.error,_.file);else if(_.results&&_.results.data){var A={abort:function(){T=!0,y(_.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:j,resume:j};if(N(k.userStep)){for(var O=0;O<_.results.data.length&&(k.userStep({data:_.results.data[O],errors:_.results.errors,meta:_.results.meta},A),!T);O++);delete _.results}else N(k.userChunk)&&(k.userChunk(_.results,A,_.file),delete _.results)}_.finished&&!T&&y(_.workerId,_.results)}function y(w,_){var k=l[w];N(k.userComplete)&&k.userComplete(_),k.terminate(),delete l[w]}function j(){throw new Error("Not implemented.")}function E(w){if(typeof w!="object"||w===null)return w;var _,k=Array.isArray(w)?[]:{};for(_ in w)k[_]=E(w[_]);return k}function S(w,_){return function(){w.apply(_,arguments)}}function N(w){return typeof w=="function"}return d.parse=function(w,_){var k=(_=_||{}).dynamicTyping||!1;if(N(k)&&(_.dynamicTypingFunction=k,k={}),_.dynamicTyping=k,_.transform=!!N(_.transform)&&_.transform,!_.worker||!d.WORKERS_SUPPORTED)return k=null,d.NODE_STREAM_INPUT,typeof w=="string"?(w=(T=>T.charCodeAt(0)!==65279?T:T.slice(1))(w),k=new(_.download?u:m)(_)):w.readable===!0&&N(w.read)&&N(w.on)?k=new v(_):(s.File&&w instanceof File||w instanceof Object)&&(k=new f(_)),k.stream(w);(k=(()=>{var T;return!!d.WORKERS_SUPPORTED&&(T=(()=>{var A=s.URL||s.webkitURL||null,O=r.toString();return d.BLOB_URL||(d.BLOB_URL=A.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",O,")();"],{type:"text/javascript"})))})(),(T=new s.Worker(T)).onmessage=b,T.id=c++,l[T.id]=T)})()).userStep=_.step,k.userChunk=_.chunk,k.userComplete=_.complete,k.userError=_.error,_.step=N(_.step),_.chunk=N(_.chunk),_.complete=N(_.complete),_.error=N(_.error),delete _.worker,k.postMessage({input:w,config:_,workerId:k.id})},d.unparse=function(w,_){var k=!1,T=!0,A=",",O=`\r
`,D='"',F=D+D,M=!1,R=null,B=!1,U=((()=>{if(typeof _=="object"){if(typeof _.delimiter!="string"||d.BAD_DELIMITERS.filter(function(L){return _.delimiter.indexOf(L)!==-1}).length||(A=_.delimiter),typeof _.quotes!="boolean"&&typeof _.quotes!="function"&&!Array.isArray(_.quotes)||(k=_.quotes),typeof _.skipEmptyLines!="boolean"&&typeof _.skipEmptyLines!="string"||(M=_.skipEmptyLines),typeof _.newline=="string"&&(O=_.newline),typeof _.quoteChar=="string"&&(D=_.quoteChar),typeof _.header=="boolean"&&(T=_.header),Array.isArray(_.columns)){if(_.columns.length===0)throw new Error("Option columns is empty");R=_.columns}_.escapeChar!==void 0&&(F=_.escapeChar+D),_.escapeFormulae instanceof RegExp?B=_.escapeFormulae:typeof _.escapeFormulae=="boolean"&&_.escapeFormulae&&(B=/^[=+\-@\t\r].*$/)}})(),new RegExp(p(D),"g"));if(typeof w=="string"&&(w=JSON.parse(w)),Array.isArray(w)){if(!w.length||Array.isArray(w[0]))return H(null,w,M);if(typeof w[0]=="object")return H(R||Object.keys(w[0]),w,M)}else if(typeof w=="object")return typeof w.data=="string"&&(w.data=JSON.parse(w.data)),Array.isArray(w.data)&&(w.fields||(w.fields=w.meta&&w.meta.fields||R),w.fields||(w.fields=Array.isArray(w.data[0])?w.fields:typeof w.data[0]=="object"?Object.keys(w.data[0]):[]),Array.isArray(w.data[0])||typeof w.data[0]=="object"||(w.data=[w.data])),H(w.fields||[],w.data||[],M);throw new Error("Unable to serialize unrecognized input");function H(L,V,G){var Z="",te=(typeof L=="string"&&(L=JSON.parse(L)),typeof V=="string"&&(V=JSON.parse(V)),Array.isArray(L)&&0<L.length),he=!Array.isArray(V[0]);if(te&&T){for(var fe=0;fe<L.length;fe++)0<fe&&(Z+=A),Z+=q(L[fe],fe);0<V.length&&(Z+=O)}for(var oe=0;oe<V.length;oe++){var we=(te?L:V[oe]).length,je=!1,ve=te?Object.keys(V[oe]).length===0:V[oe].length===0;if(G&&!te&&(je=G==="greedy"?V[oe].join("").trim()==="":V[oe].length===1&&V[oe][0].length===0),G==="greedy"&&te){for(var Le=[],ge=0;ge<we;ge++){var le=he?L[ge]:ge;Le.push(V[oe][le])}je=Le.join("").trim()===""}if(!je){for(var re=0;re<we;re++){0<re&&!ve&&(Z+=A);var Ce=te&&he?L[re]:re;Z+=q(V[oe][Ce],re)}oe<V.length-1&&(!G||0<we&&!ve)&&(Z+=O)}}return Z}function q(L,V){var G,Z;return L==null?"":L.constructor===Date?JSON.stringify(L).slice(1,25):(Z=!1,B&&typeof L=="string"&&B.test(L)&&(L="'"+L,Z=!0),G=L.toString().replace(U,F),(Z=Z||k===!0||typeof k=="function"&&k(L,V)||Array.isArray(k)&&k[V]||((te,he)=>{for(var fe=0;fe<he.length;fe++)if(-1<te.indexOf(he[fe]))return!0;return!1})(G,d.BAD_DELIMITERS)||-1<G.indexOf(A)||G.charAt(0)===" "||G.charAt(G.length-1)===" ")?D+G+D:G)}},d.RECORD_SEP=String.fromCharCode(30),d.UNIT_SEP=String.fromCharCode(31),d.BYTE_ORDER_MARK="\uFEFF",d.BAD_DELIMITERS=["\r",`
`,'"',d.BYTE_ORDER_MARK],d.WORKERS_SUPPORTED=!i&&!!s.Worker,d.NODE_STREAM_INPUT=1,d.LocalChunkSize=10485760,d.RemoteChunkSize=5242880,d.DefaultDelimiter=",",d.Parser=g,d.ParserHandle=x,d.NetworkStreamer=u,d.FileStreamer=f,d.StringStreamer=m,d.ReadableStreamStreamer=v,s.jQuery&&((a=s.jQuery).fn.parse=function(w){var _=w.config||{},k=[];return this.each(function(O){if(!(a(this).prop("tagName").toUpperCase()==="INPUT"&&a(this).attr("type").toLowerCase()==="file"&&s.FileReader)||!this.files||this.files.length===0)return!0;for(var D=0;D<this.files.length;D++)k.push({file:this.files[D],inputElem:this,instanceConfig:a.extend({},_)})}),T(),this;function T(){if(k.length===0)N(w.complete)&&w.complete();else{var O,D,F,M,R=k[0];if(N(w.before)){var B=w.before(R.file,R.inputElem);if(typeof B=="object"){if(B.action==="abort")return O="AbortError",D=R.file,F=R.inputElem,M=B.reason,void(N(w.error)&&w.error({name:O},D,F,M));if(B.action==="skip")return void A();typeof B.config=="object"&&(R.instanceConfig=a.extend(R.instanceConfig,B.config))}else if(B==="skip")return void A()}var U=R.instanceConfig.complete;R.instanceConfig.complete=function(H){N(U)&&U(H,R.file,R.inputElem),A()},d.parse(R.file,R.instanceConfig)}}function A(){k.splice(0,1),T()}}),o&&(s.onmessage=function(w){w=w.data,d.WORKER_ID===void 0&&w&&(d.WORKER_ID=w.workerId),typeof w.input=="string"?s.postMessage({workerId:d.WORKER_ID,results:d.parse(w.input,w.config),finished:!0}):(s.File&&w.input instanceof File||w.input instanceof Object)&&(w=d.parse(w.input,w.config))&&s.postMessage({workerId:d.WORKER_ID,results:w,finished:!0})}),(u.prototype=Object.create(h.prototype)).constructor=u,(f.prototype=Object.create(h.prototype)).constructor=f,(m.prototype=Object.create(m.prototype)).constructor=m,(v.prototype=Object.create(h.prototype)).constructor=v,d})})(l7);var Kee=l7.exports;const Nf=Cr(Kee);function cd(){const[e,t]=C.useState([]),[r,s]=C.useState(!1);C.useEffect(()=>{a()},[]);const a=()=>{const m=mn("renter-insight-vehicles",[{id:"1",vin:"1FDXE4FS8KDC12345",make:"Forest River",model:"Georgetown",year:2024,type:vt.MOTORHOME,status:Yt.AVAILABLE,price:125e3,cost:95e3,location:"Lot A-15",features:["Slide-out","Generator","Solar Panel"],images:["https://images.pexels.com/photos/1319515/pexels-photo-1319515.jpeg"],customFields:{},createdAt:new Date("2024-01-10"),updatedAt:new Date("2024-01-15")},{id:"2",vin:"1FDXE4FS8KDC67890",make:"Winnebago",model:"View",year:2023,type:vt.RV,status:Yt.AVAILABLE,price:89e3,cost:72e3,location:"Lot B-08",features:["Compact Design","Fuel Efficient"],images:["https://images.pexels.com/photos/2506923/pexels-photo-2506923.jpeg"],customFields:{},createdAt:new Date("2024-01-08"),updatedAt:new Date("2024-01-12")},{id:"3",vin:"1FDXE4FS8KDC11111",make:"Jayco",model:"Eagle",year:2024,type:vt.FIFTH_WHEEL,status:Yt.AVAILABLE,price:75e3,cost:58e3,location:"Lot C-12",features:["Bunk Beds","Outdoor Kitchen","Fireplace"],images:["https://images.pexels.com/photos/1319515/pexels-photo-1319515.jpeg"],customFields:{},createdAt:new Date("2024-01-05"),updatedAt:new Date("2024-01-10")},{id:"4",vin:"1FDXE4FS8KDC22222",make:"Airstream",model:"Flying Cloud",year:2024,type:vt.TRAVEL_TRAILER,status:Yt.AVAILABLE,price:95e3,cost:78e3,location:"Lot D-05",features:["Aluminum Construction","Premium Interior","Smart Technology"],images:["https://images.pexels.com/photos/2506923/pexels-photo-2506923.jpeg"],customFields:{},createdAt:new Date("2024-01-03"),updatedAt:new Date("2024-01-08")},{id:"5",vin:"1FDXE4FS8KDC33333",make:"Grand Design",model:"Momentum",year:2023,type:vt.TOY_HAULER,status:Yt.AVAILABLE,price:11e4,cost:88e3,location:"Lot E-18",features:["Garage Space","Fuel Station","Generator"],images:["https://images.pexels.com/photos/1319515/pexels-photo-1319515.jpeg"],customFields:{},createdAt:new Date("2024-01-01"),updatedAt:new Date("2024-01-05")},{id:"6",vin:"MH12345678901234",make:"Clayton Homes",model:"Inspiration",year:2024,type:vt.DOUBLE_WIDE,status:Yt.AVAILABLE,price:125e3,cost:95e3,location:"MH Section A-10",features:["3 Bedroom","2 Bathroom","Open Floor Plan","Energy Efficient"],images:["https://images.pexels.com/photos/2506923/pexels-photo-2506923.jpeg"],customFields:{length:"76",width:"28",squareFootage:"2128",constructionType:"Manufactured",roofType:"Shingle",exteriorSiding:"Vinyl",insulationRating:"R-21"},createdAt:new Date("2024-01-15"),updatedAt:new Date("2024-01-15")}]);t(m)},i=m=>{Gr("renter-insight-vehicles",m)};return{vehicles:e,loading:r,getAvailableVehicles:()=>e.filter(m=>m.status===Yt.AVAILABLE),getVehicleById:m=>e.find(v=>v.id===m),updateVehicleStatus:async(m,v)=>{const x=e.map(p=>p.id===m?{...p,status:v,updatedAt:new Date}:p);t(x),i(x)},createVehicle:async m=>{s(!0);try{const v={id:Math.random().toString(36).substr(2,9),vin:m.vin||"",make:m.make||"",model:m.model||"",year:m.year||new Date().getFullYear(),type:m.type||vt.RV,status:Yt.AVAILABLE,price:m.price||0,cost:m.cost||0,location:m.location||"",features:m.features||[],images:m.images||[],customFields:m.customFields||{},createdAt:new Date,updatedAt:new Date},x=[...e,v];return t(x),i(x),v}finally{s(!1)}},deleteVehicle:async m=>{const v=e.filter(x=>x.id!==m);t(v),i(v)},importVehiclesFromCSV:async m=>new Promise((v,x)=>{Nf.parse(m,{header:!0,skipEmptyLines:!0,complete:p=>{const g=p.data.map(b=>({vin:b.vin||"",make:b.make||"",model:b.model||"",year:parseInt(b.year)||new Date().getFullYear(),type:b.type||vt.RV,status:b.status||Yt.AVAILABLE,price:parseFloat(b.price)||0,cost:parseFloat(b.cost)||0,location:b.location||"",features:b.features?b.features.split(",").map(y=>y.trim()):[],images:[],customFields:{exteriorColor:b.exteriorColor||"",interiorColor:b.interiorColor||"",length:b.length||"",weight:b.weight||"",sleeps:b.sleeps||"",slideouts:b.slideouts||"",fuelType:b.fuelType||"",mileage:b.mileage||"",condition:b.condition||"New"}}));v(g)},error:p=>{x(p)}})}),exportVehiclesToCSV:()=>{const m=e.map(x=>{var p,g,b,y,j,E,S,N,w;return{id:x.id,vin:x.vin,make:x.make,model:x.model,year:x.year,type:x.type,status:x.status,price:x.price,cost:x.cost,location:x.location,features:x.features.join(", "),exteriorColor:((p=x.customFields)==null?void 0:p.exteriorColor)||"",interiorColor:((g=x.customFields)==null?void 0:g.interiorColor)||"",length:((b=x.customFields)==null?void 0:b.length)||"",weight:((y=x.customFields)==null?void 0:y.weight)||"",sleeps:((j=x.customFields)==null?void 0:j.sleeps)||"",slideouts:((E=x.customFields)==null?void 0:E.slideouts)||"",fuelType:((S=x.customFields)==null?void 0:S.fuelType)||"",mileage:((N=x.customFields)==null?void 0:N.mileage)||"",condition:((w=x.customFields)==null?void 0:w.condition)||""}});return Nf.unparse(m)}}}const vp=[{id:"1",name:"2024 Forest River Georgetown",description:"Class A Motorhome with premium features",price:125e3,category:"motorhome"},{id:"2",name:"Extended Warranty",description:"3-year comprehensive warranty coverage",price:2500,category:"warranty"},{id:"3",name:"Solar Panel Package",description:"400W solar panel system with inverter",price:3500,category:"accessory"},{id:"4",name:"Premium Package",description:"Includes extended warranty, solar panels, and premium interior",price:8e3,category:"bundle",isBundle:!0,bundleItems:[{productId:"2",quantity:1},{productId:"3",quantity:1},{productId:"5",quantity:1}]},{id:"5",name:"Premium Interior Upgrade",description:"Leather seating and premium finishes",price:2200,category:"upgrade"}],Yee=[{id:"1",name:"Bulk Accessory Discount",type:"quantity_discount",conditions:{minQuantity:3},discount:{type:"percentage",value:10},isActive:!0},{id:"2",name:"Premium Bundle Discount",type:"bundle_discount",conditions:{productIds:["4"]},discount:{type:"fixed",value:500},isActive:!0}];function c7({quote:e,customerId:t,onSave:r,onCancel:s}){const{toast:a}=At(),{getAvailableVehicles:i,getVehicleById:o}=cd(),[l,c]=C.useState(!1),[d,h]=C.useState("items"),[u,f]=C.useState({customerId:t,validUntil:new Date(Date.now()+30*24*60*60*1e3),notes:"",terms:"Payment due within 30 days. All sales final.",items:[],subtotal:0,totalDiscount:0,tax:0,taxRate:.08,total:0}),[m,v]=C.useState(""),[x,p]=C.useState(!1),[g,b]=C.useState(""),[y,j]=C.useState({description:"",quantity:1,unitPrice:0,discount:0,discountType:"percentage"}),E=i();C.useEffect(()=>{e&&f(R=>({...R,...e}))},[e]),C.useEffect(()=>{S()},[u.items,u.taxRate]);const S=()=>{const R=u.items.reduce((L,V)=>L+V.total,0),B=u.items.reduce((L,V)=>{const G=V.discountType==="percentage"?V.quantity*V.unitPrice*V.discount/100:V.discount*V.quantity;return L+G},0),U=R-B,H=U*u.taxRate,q=U+H;f(L=>({...L,subtotal:R,totalDiscount:B,tax:H,total:q}))},N=()=>{if(!y.description||!y.unitPrice){a({title:"Validation Error",description:"Description and unit price are required",variant:"destructive"});return}const R={id:Math.random().toString(36).substr(2,9),description:y.description,quantity:y.quantity||1,unitPrice:y.unitPrice||0,discount:y.discount||0,discountType:y.discountType||"percentage",total:k(y)};f(B=>({...B,items:[...B.items,R]})),j({description:"",quantity:1,unitPrice:0,discount:0,discountType:"percentage"}),v(""),p(!1)},w=R=>{const B=o(R);if(!B)return;const U={id:Math.random().toString(36).substr(2,9),productId:B.id,description:`${B.year} ${B.make} ${B.model}`,quantity:1,unitPrice:B.price,discount:0,discountType:"percentage",total:B.price};f(H=>({...H,items:[...H.items,U]})),b(""),a({title:"Vehicle Added",description:`${B.year} ${B.make} ${B.model} added to quote`})},_=R=>{const B=vp.find(U=>U.id===R);if(B){if(B.isBundle&&B.bundleItems){const U={id:Math.random().toString(36).substr(2,9),productId:B.id,description:B.description,quantity:1,unitPrice:B.price,discount:0,discountType:"percentage",total:B.price,isBundle:!0,bundleItems:B.bundleItems.map(H=>{const q=vp.find(L=>L.id===H.productId);return{id:Math.random().toString(36).substr(2,9),productId:H.productId,description:(q==null?void 0:q.name)||"",quantity:H.quantity,unitPrice:(q==null?void 0:q.price)||0,discount:0,discountType:"percentage",total:((q==null?void 0:q.price)||0)*H.quantity}})};f(H=>({...H,items:[...H.items,U]}))}else{const U={id:Math.random().toString(36).substr(2,9),productId:B.id,description:B.name,quantity:1,unitPrice:B.price,discount:0,discountType:"percentage",total:B.price};f(H=>({...H,items:[...H.items,U]}))}O()}},k=R=>{const B=R.quantity*R.unitPrice,U=R.discountType==="percentage"?B*(R.discount/100):R.discount*R.quantity;return B-U},T=(R,B)=>{f(U=>({...U,items:U.items.map(H=>{if(H.id===R){const q={...H,...B};return q.total=k(q),q}return H})}))},A=R=>{f(B=>({...B,items:B.items.filter(U=>U.id!==R)}))},O=()=>{const R=u.items.filter(U=>{var H;return((H=vp.find(q=>q.id===U.productId))==null?void 0:H.category)==="accessory"});R.length>=3&&R.forEach(U=>{T(U.id,{discount:10,discountType:"percentage"})}),u.items.filter(U=>U.isBundle).forEach(U=>{T(U.id,{discount:500,discountType:"fixed"})})},D=async()=>{c(!0);try{await new Promise(q=>setTimeout(q,2e3));const R=F(),B=new Blob([R],{type:"text/plain"}),U=URL.createObjectURL(B),H=document.createElement("a");H.href=U,H.download=`quote-${Date.now()}.txt`,document.body.appendChild(H),H.click(),document.body.removeChild(H),URL.revokeObjectURL(U),a({title:"PDF Generated",description:"Quote PDF has been downloaded successfully"})}catch{a({title:"Error",description:"Failed to generate PDF",variant:"destructive"})}finally{c(!1)}},F=()=>`
QUOTE DOCUMENT
==============

Customer ID: ${u.customerId}
Valid Until: ${u.validUntil.toLocaleDateString()}

LINE ITEMS:
-----------
${u.items.map(R=>{var B;return`
${R.description}
Quantity: ${R.quantity} x ${_e(R.unitPrice)}
${R.discount>0?`Discount: ${R.discount}${R.discountType==="percentage"?"%":" fixed"}`:""}
Total: ${_e(R.total)}
${R.isBundle?`
  Bundle Items:
  ${((B=R.bundleItems)==null?void 0:B.map(U=>`  - ${U.description} (${U.quantity}x)`).join(`
  `))||""}
`:""}
`}).join(`
`)}

TOTALS:
-------
Subtotal: ${_e(u.subtotal)}
Total Discount: ${_e(u.totalDiscount)}
Tax (${(u.taxRate*100).toFixed(1)}%): ${_e(u.tax)}
TOTAL: ${_e(u.total)}

Notes: ${u.notes}
Terms: ${u.terms}
    `,M=async()=>{if(u.items.length===0){a({title:"Validation Error",description:"At least one line item is required",variant:"destructive"});return}c(!0);try{const R={...u,customerId:u.customerId||t};await r(R),a({title:"Success",description:"Quote saved successfully"})}catch{a({title:"Error",description:"Failed to save quote",variant:"destructive"})}finally{c(!1)}};return n.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:n.jsxs(de,{className:"w-full max-w-6xl max-h-[90vh] overflow-y-auto",children:[n.jsx(ye,{children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsxs(be,{className:"text-xl flex items-center",children:[n.jsx(ls,{className:"h-5 w-5 mr-2 text-blue-500"}),e?"Edit Quote":"Create Quote"]}),n.jsx($e,{children:"Build a detailed quote with line items, pricing rules, and bundled products"})]}),n.jsx(J,{variant:"ghost",size:"sm",onClick:s,children:n.jsx(Ut,{className:"h-4 w-4"})})]})}),n.jsxs(ue,{children:[n.jsxs(xr,{value:d,onValueChange:h,className:"space-y-6",children:[n.jsxs(fr,{className:"grid w-full grid-cols-4",children:[n.jsx(Qe,{value:"items",children:"Line Items"}),n.jsx(Qe,{value:"products",children:"Products"}),n.jsx(Qe,{value:"pricing",children:"Pricing Rules"}),n.jsx(Qe,{value:"details",children:"Quote Details"})]}),n.jsxs(et,{value:"items",className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("h3",{className:"text-lg font-semibold",children:"Quote Line Items"}),n.jsxs("div",{className:"flex space-x-2",children:[n.jsxs(Ve,{value:g,onValueChange:b,children:[n.jsx(ze,{className:"w-64",children:n.jsx(qe,{placeholder:"Add vehicle from inventory"})}),n.jsx(Ue,{children:E.map(R=>n.jsxs(K,{value:R.id,children:[R.year," ",R.make," ",R.model," - ",_e(R.price)]},R.id))})]}),g&&n.jsxs(J,{onClick:()=>w(g),size:"sm",children:[n.jsx(Nt,{className:"h-4 w-4 mr-2"}),"Add Vehicle"]}),n.jsxs(J,{onClick:()=>p(!0),size:"sm",variant:"outline",children:[n.jsx(Nt,{className:"h-4 w-4 mr-2"}),"Custom Item"]})]})]}),x&&n.jsx(de,{className:"border-dashed",children:n.jsxs(ue,{className:"pt-6",children:[n.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[n.jsxs("div",{children:[n.jsx(ae,{children:"Description"}),n.jsx(Pe,{value:y.description||"",onChange:R=>j(B=>({...B,description:R.target.value})),placeholder:"Item description"})]}),n.jsxs("div",{children:[n.jsx(ae,{children:"Unit Price"}),n.jsx(Pe,{type:"number",value:y.unitPrice||"",onChange:R=>j(B=>({...B,unitPrice:parseFloat(R.target.value)||0})),placeholder:"0.00"})]}),n.jsxs("div",{children:[n.jsx(ae,{children:"Quantity"}),n.jsx(Pe,{type:"number",value:y.quantity||1,onChange:R=>j(B=>({...B,quantity:parseInt(R.target.value)||1})),min:"1"})]}),n.jsxs("div",{children:[n.jsx(ae,{children:"Discount"}),n.jsxs("div",{className:"flex space-x-2",children:[n.jsx(Pe,{type:"number",value:y.discount||0,onChange:R=>j(B=>({...B,discount:parseFloat(R.target.value)||0})),placeholder:"0"}),n.jsxs(Ve,{value:y.discountType,onValueChange:R=>j(B=>({...B,discountType:R})),children:[n.jsx(ze,{className:"w-32",children:n.jsx(qe,{})}),n.jsxs(Ue,{children:[n.jsx(K,{value:"percentage",children:"%"}),n.jsx(K,{value:"fixed",children:"$"})]})]})]})]})]}),n.jsxs("div",{className:"flex justify-end space-x-2 mt-4",children:[n.jsx(J,{variant:"outline",onClick:()=>p(!1),children:"Cancel"}),n.jsx(J,{onClick:N,children:"Add Item"})]})]})}),n.jsxs("div",{className:"space-y-4",children:[u.items.map((R,B)=>n.jsx(de,{className:"shadow-sm",children:n.jsxs(ue,{className:"pt-6",children:[n.jsxs("div",{className:"flex items-start justify-between",children:[n.jsxs("div",{className:"flex-1 grid gap-4 md:grid-cols-4",children:[n.jsxs("div",{children:[n.jsx(ae,{children:"Description"}),n.jsx(Pe,{value:R.description,onChange:U=>T(R.id,{description:U.target.value})}),R.isBundle&&n.jsxs(Re,{className:"mt-1 bg-purple-50 text-purple-700 border-purple-200",children:[n.jsx(Vs,{className:"h-3 w-3 mr-1"}),"Bundle"]})]}),n.jsxs("div",{children:[n.jsx(ae,{children:"Quantity"}),n.jsx(Pe,{type:"number",value:R.quantity,onChange:U=>T(R.id,{quantity:parseInt(U.target.value)||1}),min:"1"})]}),n.jsxs("div",{children:[n.jsx(ae,{children:"Unit Price"}),n.jsx(Pe,{type:"number",value:R.unitPrice,onChange:U=>T(R.id,{unitPrice:parseFloat(U.target.value)||0}),step:"0.01"})]}),n.jsxs("div",{children:[n.jsx(ae,{children:"Discount"}),n.jsxs("div",{className:"flex space-x-2",children:[n.jsx(Pe,{type:"number",value:R.discount,onChange:U=>T(R.id,{discount:parseFloat(U.target.value)||0}),step:"0.01"}),n.jsxs(Ve,{value:R.discountType,onValueChange:U=>T(R.id,{discountType:U}),children:[n.jsx(ze,{className:"w-16",children:n.jsx(qe,{})}),n.jsxs(Ue,{children:[n.jsx(K,{value:"percentage",children:"%"}),n.jsx(K,{value:"fixed",children:"$"})]})]})]})]})]}),n.jsxs("div",{className:"flex items-center space-x-3 ml-4",children:[n.jsxs("div",{className:"text-right",children:[n.jsx("div",{className:"text-sm text-muted-foreground",children:"Total"}),n.jsx("div",{className:"font-bold text-lg",children:_e(R.total)})]}),n.jsx(J,{variant:"outline",size:"sm",onClick:()=>A(R.id),children:n.jsx(Sn,{className:"h-4 w-4"})})]})]}),R.isBundle&&R.bundleItems&&n.jsxs("div",{className:"mt-4 pl-4 border-l-2 border-purple-200",children:[n.jsx("h4",{className:"text-sm font-semibold text-purple-700 mb-2",children:"Bundle Contents:"}),n.jsx("div",{className:"space-y-2",children:R.bundleItems.map(U=>n.jsxs("div",{className:"flex items-center justify-between text-sm bg-purple-50 p-2 rounded",children:[n.jsx("span",{children:U.description}),n.jsxs("span",{children:[U.quantity,"x ",_e(U.unitPrice)]})]},U.id))})]})]})},R.id)),u.items.length===0&&n.jsxs("div",{className:"text-center py-12 text-muted-foreground border-2 border-dashed rounded-lg",children:[n.jsx(ls,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground/50"}),n.jsx("p",{children:"No line items added yet"}),n.jsx("p",{className:"text-sm",children:"Add products or custom items to build your quote"})]})]}),u.items.length>0&&n.jsx(de,{className:"bg-muted/30",children:n.jsx(ue,{className:"pt-6",children:n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{children:"Subtotal:"}),n.jsx("span",{children:_e(u.subtotal)})]}),n.jsxs("div",{className:"flex justify-between text-red-600",children:[n.jsx("span",{children:"Total Discount:"}),n.jsxs("span",{children:["-",_e(u.totalDiscount)]})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsxs("span",{children:["Tax (",(u.taxRate*100).toFixed(1),"%):"]}),n.jsx("span",{children:_e(u.tax)})]}),n.jsxs("div",{className:"flex justify-between text-lg font-bold border-t pt-2",children:[n.jsx("span",{children:"Total:"}),n.jsx("span",{children:_e(u.total)})]})]})})})]}),n.jsx(et,{value:"products",className:"space-y-6",children:n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Available Inventory & Products"}),n.jsxs("div",{className:"mb-8",children:[n.jsx("h4",{className:"text-md font-semibold mb-3 text-blue-600",children:"Available Vehicles"}),n.jsx("div",{className:"grid gap-4 md:grid-cols-2",children:E.map(R=>n.jsx(de,{className:"shadow-sm hover:shadow-md transition-shadow cursor-pointer",children:n.jsx(ue,{className:"pt-6",children:n.jsxs("div",{className:"flex items-start justify-between",children:[n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[n.jsxs("h4",{className:"font-semibold",children:[R.year," ",R.make," ",R.model]}),n.jsx(Re,{className:"bg-blue-50 text-blue-700 border-blue-200",children:R.type.replace("_"," ").toUpperCase()})]}),n.jsxs("p",{className:"text-sm text-muted-foreground mb-2",children:["VIN: ",R.vin]}),n.jsxs("p",{className:"text-sm text-muted-foreground mb-2",children:["Location: ",R.location]}),n.jsx("div",{className:"text-lg font-bold text-primary",children:_e(R.price)}),R.features.length>0&&n.jsx("div",{className:"mt-3",children:n.jsxs("div",{className:"flex flex-wrap gap-1",children:[R.features.slice(0,3).map((B,U)=>n.jsx(Re,{variant:"outline",className:"text-xs",children:B},U)),R.features.length>3&&n.jsxs(Re,{variant:"outline",className:"text-xs",children:["+",R.features.length-3," more"]})]})})]}),n.jsxs(J,{onClick:()=>w(R.id),size:"sm",className:"ml-4",children:[n.jsx(Nt,{className:"h-4 w-4 mr-1"}),"Add"]})]})})},R.id))})]}),n.jsxs("div",{children:[n.jsx("h4",{className:"text-md font-semibold mb-3 text-green-600",children:"Available Products & Services"}),n.jsx("div",{className:"grid gap-4 md:grid-cols-2",children:vp.map(R=>n.jsx(de,{className:"shadow-sm hover:shadow-md transition-shadow cursor-pointer",children:n.jsx(ue,{className:"pt-6",children:n.jsxs("div",{className:"flex items-start justify-between",children:[n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[n.jsx("h4",{className:"font-semibold",children:R.name}),R.isBundle&&n.jsxs(Re,{className:"bg-purple-50 text-purple-700 border-purple-200",children:[n.jsx(Vs,{className:"h-3 w-3 mr-1"}),"Bundle"]})]}),n.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:R.description}),n.jsx("div",{className:"text-lg font-bold text-primary",children:_e(R.price)}),R.isBundle&&R.bundleItems&&n.jsxs("div",{className:"mt-3 p-2 bg-purple-50 rounded",children:[n.jsx("div",{className:"text-xs font-semibold text-purple-700 mb-1",children:"Includes:"}),R.bundleItems.map(B=>{const U=vp.find(H=>H.id===B.productId);return n.jsxs("div",{className:"text-xs text-purple-600",children:[" ",U==null?void 0:U.name," (",B.quantity,"x)"]},B.productId)})]})]}),n.jsxs(J,{onClick:()=>_(R.id),size:"sm",className:"ml-4",children:[n.jsx(Nt,{className:"h-4 w-4 mr-1"}),"Add"]})]})})},R.id))})]})]})}),n.jsx(et,{value:"pricing",className:"space-y-6",children:n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Active Pricing Rules"}),n.jsx("div",{className:"space-y-4",children:Yee.filter(R=>R.isActive).map(R=>n.jsx(de,{className:"shadow-sm",children:n.jsx(ue,{className:"pt-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h4",{className:"font-semibold",children:R.name}),n.jsxs("p",{className:"text-sm text-muted-foreground",children:[R.type==="quantity_discount"&&`Min quantity: ${R.conditions.minQuantity}`,R.type==="bundle_discount"&&"Applied to bundle products",R.type==="customer_discount"&&`Customer type: ${R.conditions.customerType}`]}),n.jsx("div",{className:"flex items-center space-x-2 mt-2",children:n.jsxs(Re,{className:"bg-green-50 text-green-700 border-green-200",children:[n.jsx(kv,{className:"h-3 w-3 mr-1"}),R.discount.type==="percentage"?`${R.discount.value}%`:_e(R.discount.value)," off"]})})]}),n.jsxs(J,{variant:"outline",size:"sm",onClick:()=>O(),children:[n.jsx(Dl,{className:"h-4 w-4 mr-1"}),"Apply"]})]})})},R.id))})]})}),n.jsxs(et,{value:"details",className:"space-y-6",children:[n.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"validUntil",children:"Valid Until"}),n.jsx(Pe,{id:"validUntil",type:"date",value:u.validUntil.toISOString().split("T")[0],onChange:R=>f(B=>({...B,validUntil:new Date(R.target.value)}))})]}),n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"taxRate",children:"Tax Rate (%)"}),n.jsx(Pe,{id:"taxRate",type:"number",value:(u.taxRate*100).toFixed(2),onChange:R=>f(B=>({...B,taxRate:parseFloat(R.target.value)/100||0})),step:"0.01",min:"0",max:"100"})]})]}),n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"notes",children:"Notes"}),n.jsx(tr,{id:"notes",value:u.notes,onChange:R=>f(B=>({...B,notes:R.target.value})),placeholder:"Additional notes for the customer...",rows:3})]}),n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"terms",children:"Terms & Conditions"}),n.jsx(tr,{id:"terms",value:u.terms,onChange:R=>f(B=>({...B,terms:R.target.value})),placeholder:"Terms and conditions...",rows:4})]})]})]}),n.jsxs("div",{className:"flex justify-between items-center pt-6 border-t",children:[n.jsx("div",{className:"flex space-x-2",children:n.jsxs(J,{variant:"outline",onClick:D,disabled:l||u.items.length===0,children:[n.jsx(wa,{className:"h-4 w-4 mr-2"}),l?"Generating...":"Export PDF"]})}),n.jsxs("div",{className:"flex space-x-3",children:[n.jsx(J,{variant:"outline",onClick:s,disabled:l,children:"Cancel"}),n.jsx(J,{onClick:M,disabled:l,children:l?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Saving..."]}):n.jsxs(n.Fragment,{children:[n.jsx(Rr,{className:"h-4 w-4 mr-2"}),"Save Quote"]})})]})]})]})]})})}function Xee(){const[e,t]=C.useState([]),[r,s]=C.useState([]),[a,i]=C.useState([]),[o,l]=C.useState(!1);C.useEffect(()=>{c()},[]);const c=()=>{const S=mn("renter-insight-quotes",[]);t(S);const N=[{id:"1",name:"2024 Forest River Georgetown",description:"Class A Motorhome with premium features",price:125e3,category:"motorhome"},{id:"2",name:"Extended Warranty",description:"3-year comprehensive warranty coverage",price:2500,category:"warranty"},{id:"3",name:"Solar Panel Package",description:"400W solar panel system with inverter",price:3500,category:"accessory"},{id:"4",name:"Premium Package",description:"Includes extended warranty, solar panels, and premium interior",price:8e3,category:"bundle",isBundle:!0,bundleItems:[{productId:"2",quantity:1},{productId:"3",quantity:1},{productId:"5",quantity:1}]},{id:"5",name:"Premium Interior Upgrade",description:"Leather seating and premium finishes",price:2200,category:"upgrade"},{id:"6",name:"Backup Camera System",description:"Wireless backup camera with monitor",price:450,category:"accessory"},{id:"7",name:"Awning Package",description:"Electric awning with LED lighting",price:1200,category:"accessory"}],w=[{id:"1",name:"Bulk Accessory Discount",type:"quantity_discount",conditions:{minQuantity:3},discount:{type:"percentage",value:10},isActive:!0},{id:"2",name:"Premium Bundle Discount",type:"bundle_discount",conditions:{productIds:["4"]},discount:{type:"fixed",value:500},isActive:!0},{id:"3",name:"First-Time Buyer Discount",type:"customer_discount",conditions:{customerType:"first_time"},discount:{type:"percentage",value:5},isActive:!0}];s(N),i(w)},d=S=>{Gr("renter-insight-quotes",S)},h=async S=>{l(!0);try{const N={id:Math.random().toString(36).substr(2,9),customerId:S.customerId||"",items:S.items||[],subtotal:S.subtotal||0,totalDiscount:S.totalDiscount||0,tax:S.tax||0,taxRate:S.taxRate||.08,total:S.total||0,status:"draft",validUntil:S.validUntil||new Date(Date.now()+2592e6),notes:S.notes||"",terms:S.terms||"",createdAt:new Date,updatedAt:new Date},w=[...e,N];return t(w),d(w),N}finally{l(!1)}},u=async(S,N)=>{l(!0);try{const w=e.map(_=>_.id===S?{..._,...N,updatedAt:new Date}:_);return t(w),d(w),w.find(_=>_.id===S)}finally{l(!1)}};return{quotes:e,products:r,pricingRules:a,loading:o,createQuote:h,updateQuote:u,deleteQuote:async S=>{const N=e.filter(w=>w.id!==S);t(N),d(N)},duplicateQuote:async S=>{const N=e.find(k=>k.id===S);if(!N)return;const w={...N,id:Math.random().toString(36).substr(2,9),status:"draft",createdAt:new Date,updatedAt:new Date},_=[...e,w];return t(_),d(_),w},sendQuote:async S=>u(S,{status:"sent"}),acceptQuote:async S=>u(S,{status:"accepted"}),rejectQuote:async S=>u(S,{status:"rejected"}),calculateQuoteTotals:(S,N=.08)=>{const w=S.reduce((O,D)=>O+D.total,0),_=S.reduce((O,D)=>{const F=D.discountType==="percentage"?D.quantity*D.unitPrice*D.discount/100:D.discount*D.quantity;return O+F},0),k=w-_,T=k*N,A=k+T;return{subtotal:w,totalDiscount:_,tax:T,total:A}},applyPricingRules:(S,N)=>{let w=[...S];return a.forEach(_=>{if(_.isActive)switch(_.type){case"quantity_discount":if(_.conditions.minQuantity){const k=w.filter(T=>{var A;return((A=r.find(O=>O.id===T.productId))==null?void 0:A.category)==="accessory"});k.length>=_.conditions.minQuantity&&(w=w.map(T=>k.includes(T)?{...T,discount:_.discount.value,discountType:_.discount.type}:T))}break;case"bundle_discount":_.conditions.productIds&&(w=w.map(k=>{var T;return k.isBundle&&((T=_.conditions.productIds)!=null&&T.includes(k.productId||""))?{...k,discount:_.discount.value,discountType:_.discount.type}:k}));break}}),w},getQuotesByCustomer:S=>e.filter(N=>N.customerId===S),getQuotesByStatus:S=>e.filter(N=>N.status===S),getExpiredQuotes:()=>{const S=new Date;return e.filter(N=>new Date(N.validUntil)<S&&N.status!=="accepted")}}}function Qee({quote:e,onClose:t,onEdit:r}){const s=a=>{switch(a){case"draft":return"bg-gray-50 text-gray-700 border-gray-200";case"sent":return"bg-blue-50 text-blue-700 border-blue-200";case"viewed":return"bg-yellow-50 text-yellow-700 border-yellow-200";case"accepted":return"bg-green-50 text-green-700 border-green-200";case"rejected":return"bg-red-50 text-red-700 border-red-200";case"expired":return"bg-orange-50 text-orange-700 border-orange-200";default:return"bg-gray-50 text-gray-700 border-gray-200"}};return n.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:n.jsxs(de,{className:"w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[n.jsx(ye,{children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsxs(be,{className:"text-xl",children:["Quote #",e.id]}),n.jsx($e,{children:"Quote details and line items"})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsxs(J,{onClick:()=>r(e),size:"sm",children:[n.jsx(zr,{className:"h-4 w-4 mr-2"}),"Edit Quote"]}),n.jsx(J,{variant:"ghost",size:"sm",onClick:t,children:n.jsx(Ut,{className:"h-4 w-4"})})]})]})}),n.jsxs(ue,{className:"space-y-6",children:[n.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Customer ID"}),n.jsx("p",{className:"font-medium",children:e.customerId})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Status"}),n.jsx("div",{className:"mt-1",children:n.jsx(Re,{className:He("ri-badge-status",s(e.status)),children:e.status.toUpperCase()})})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Created Date"}),n.jsx("p",{className:"font-medium",children:ct(e.createdAt)})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Valid Until"}),n.jsx("p",{className:"font-medium",children:ct(e.validUntil)})]})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Line Items"}),n.jsx("div",{className:"space-y-3",children:e.items.map((a,i)=>n.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[n.jsxs("div",{className:"flex-1",children:[n.jsx("h4",{className:"font-medium",children:a.description}),n.jsxs("p",{className:"text-sm text-muted-foreground",children:["Quantity: ",a.quantity,"  ",_e(a.unitPrice)]}),a.isBundle&&n.jsx(Re,{className:"mt-1 bg-purple-50 text-purple-700 border-purple-200",children:"Bundle"})]}),n.jsxs("div",{className:"text-right",children:[n.jsx("div",{className:"font-bold text-lg",children:_e(a.total)}),a.discount>0&&n.jsxs("div",{className:"text-sm text-green-600",children:["-",a.discountType==="percentage"?`${a.discount}%`:_e(a.discount)," discount"]})]})]},a.id))})]}),n.jsx("div",{className:"bg-muted/30 p-4 rounded-lg",children:n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{children:"Subtotal:"}),n.jsx("span",{children:_e(e.subtotal)})]}),e.totalDiscount>0&&n.jsxs("div",{className:"flex justify-between text-green-600",children:[n.jsx("span",{children:"Total Discount:"}),n.jsxs("span",{children:["-",_e(e.totalDiscount)]})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{children:"Tax:"}),n.jsx("span",{children:_e(e.tax)})]}),n.jsxs("div",{className:"flex justify-between text-lg font-bold border-t pt-2",children:[n.jsx("span",{children:"Total:"}),n.jsx("span",{children:_e(e.total)})]})]})}),e.notes&&n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Notes"}),n.jsx("div",{className:"mt-1 p-3 bg-muted/30 rounded-md",children:n.jsx("p",{className:"text-sm",children:e.notes})})]}),e.terms&&n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Terms & Conditions"}),n.jsx("div",{className:"mt-1 p-3 bg-muted/30 rounded-md",children:n.jsx("p",{className:"text-sm whitespace-pre-wrap",children:e.terms})})]})]})]})})}function Jee(){const{quotes:e,loading:t,createQuote:r,updateQuote:s,deleteQuote:a,duplicateQuote:i,sendQuote:o,acceptQuote:l,rejectQuote:c}=Xee(),{toast:d}=At(),[h,u]=C.useState(""),[f,m]=C.useState("all"),[v,x]=C.useState(!1),[p,g]=C.useState(null),[b,y]=C.useState(null),[j,E]=C.useState(""),S=R=>{switch(R){case"draft":return"bg-gray-50 text-gray-700 border-gray-200";case"sent":return"bg-blue-50 text-blue-700 border-blue-200";case"viewed":return"bg-yellow-50 text-yellow-700 border-yellow-200";case"accepted":return"bg-green-50 text-green-700 border-green-200";case"rejected":return"bg-red-50 text-red-700 border-red-200";case"expired":return"bg-orange-50 text-orange-700 border-orange-200";default:return"bg-gray-50 text-gray-700 border-gray-200"}},N=e.filter(R=>{const B=R.id.toLowerCase().includes(h.toLowerCase())||R.customerId.toLowerCase().includes(h.toLowerCase()),U=f==="all"||R.status===f;return B&&U}),w=()=>{g(null),E(""),x(!0)},_=R=>{g(R),E(R.customerId),x(!0)},k=R=>{y(R)},T=()=>y(null),A=async R=>{try{p?(await s(p.id,R),d({title:"Success",description:"Quote updated successfully"})):(await r(R),d({title:"Success",description:"Quote created successfully"})),x(!1),g(null)}catch{d({title:"Error",description:"Failed to save quote",variant:"destructive"})}},O=async R=>{try{await o(R),d({title:"Success",description:"Quote sent to customer"})}catch{d({title:"Error",description:"Failed to send quote",variant:"destructive"})}},D=async R=>{try{await i(R),d({title:"Success",description:"Quote duplicated successfully"})}catch{d({title:"Error",description:"Failed to duplicate quote",variant:"destructive"})}},F=async R=>{if(window.confirm("Are you sure you want to delete this quote?"))try{await a(R),d({title:"Success",description:"Quote deleted successfully"})}catch{d({title:"Error",description:"Failed to delete quote",variant:"destructive"})}},M={total:e.length,draft:e.filter(R=>R.status==="draft").length,sent:e.filter(R=>R.status==="sent").length,accepted:e.filter(R=>R.status==="accepted").length,totalValue:e.reduce((R,B)=>R+B.total,0),acceptedValue:e.filter(R=>R.status==="accepted").reduce((R,B)=>R+B.total,0)};return n.jsxs("div",{className:"space-y-8",children:[v&&n.jsx(c7,{quote:p,customerId:j,onSave:A,onCancel:()=>{x(!1),g(null)}}),b&&n.jsx(Qee,{quote:b,onClose:T,onEdit:_}),n.jsx("div",{className:"ri-page-header",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"ri-page-title",children:"Quote Builder"}),n.jsx("p",{className:"ri-page-description",children:"Create and manage customer quotes with advanced pricing rules"})]}),n.jsxs(J,{className:"shadow-sm",onClick:w,children:[n.jsx(Nt,{className:"h-4 w-4 mr-2"}),"New Quote"]})]})}),n.jsxs("div",{className:"ri-stats-grid",children:[n.jsxs(de,{className:"shadow-sm border-0 bg-gradient-to-br from-blue-50 to-blue-100/50",children:[n.jsxs(ye,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(be,{className:"text-sm font-medium text-blue-900",children:"Total Quotes"}),n.jsx(ls,{className:"h-4 w-4 text-blue-600"})]}),n.jsxs(ue,{children:[n.jsx("div",{className:"text-2xl font-bold text-blue-900",children:M.total}),n.jsxs("p",{className:"text-xs text-blue-600 flex items-center mt-1",children:[n.jsx(_t,{className:"h-3 w-3 mr-1"}),"All quotes"]})]})]}),n.jsxs(de,{className:"shadow-sm border-0 bg-gradient-to-br from-yellow-50 to-yellow-100/50",children:[n.jsxs(ye,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(be,{className:"text-sm font-medium text-yellow-900",children:"Pending"}),n.jsx(ls,{className:"h-4 w-4 text-yellow-600"})]}),n.jsxs(ue,{children:[n.jsx("div",{className:"text-2xl font-bold text-yellow-900",children:M.sent}),n.jsxs("p",{className:"text-xs text-yellow-600 flex items-center mt-1",children:[n.jsx(Lr,{className:"h-3 w-3 mr-1"}),"Awaiting response"]})]})]}),n.jsxs(de,{className:"shadow-sm border-0 bg-gradient-to-br from-green-50 to-green-100/50",children:[n.jsxs(ye,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(be,{className:"text-sm font-medium text-green-900",children:"Accepted"}),n.jsx(ls,{className:"h-4 w-4 text-green-600"})]}),n.jsxs(ue,{children:[n.jsx("div",{className:"text-2xl font-bold text-green-900",children:M.accepted}),n.jsxs("p",{className:"text-xs text-green-600 flex items-center mt-1",children:[n.jsx(_t,{className:"h-3 w-3 mr-1"}),M.total>0?Math.round(M.accepted/M.total*100):0,"% acceptance rate"]})]})]}),n.jsxs(de,{className:"shadow-sm border-0 bg-gradient-to-br from-purple-50 to-purple-100/50",children:[n.jsxs(ye,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(be,{className:"text-sm font-medium text-purple-900",children:"Quote Value"}),n.jsx(It,{className:"h-4 w-4 text-purple-600"})]}),n.jsxs(ue,{children:[n.jsx("div",{className:"text-2xl font-bold text-purple-900",children:_e(M.totalValue)}),n.jsxs("p",{className:"text-xs text-purple-600 flex items-center mt-1",children:[n.jsx(It,{className:"h-3 w-3 mr-1"}),_e(M.acceptedValue)," accepted"]})]})]})]}),n.jsxs("div",{className:"flex gap-4",children:[n.jsxs("div",{className:"ri-search-bar",children:[n.jsx(es,{className:"ri-search-icon"}),n.jsx(Pe,{placeholder:"Search quotes...",value:h,onChange:R=>u(R.target.value),className:"ri-search-input shadow-sm"})]}),n.jsxs(Ve,{value:f,onValueChange:m,children:[n.jsx(ze,{className:"w-40",children:n.jsx(qe,{placeholder:"Status"})}),n.jsxs(Ue,{children:[n.jsx(K,{value:"all",children:"All Status"}),n.jsx(K,{value:"draft",children:"Draft"}),n.jsx(K,{value:"sent",children:"Sent"}),n.jsx(K,{value:"viewed",children:"Viewed"}),n.jsx(K,{value:"accepted",children:"Accepted"}),n.jsx(K,{value:"rejected",children:"Rejected"}),n.jsx(K,{value:"expired",children:"Expired"})]})]}),n.jsxs(J,{variant:"outline",className:"shadow-sm",children:[n.jsx(Na,{className:"h-4 w-4 mr-2"}),"Filter"]})]}),n.jsxs(de,{className:"shadow-sm",children:[n.jsxs(ye,{children:[n.jsxs(be,{className:"text-xl",children:["Quotes (",N.length,")"]}),n.jsx($e,{children:"Manage customer quotes with advanced pricing and bundling"})]}),n.jsx(ue,{children:n.jsxs("div",{className:"space-y-4",children:[N.map(R=>n.jsxs("div",{className:"ri-table-row",children:[n.jsx("div",{className:"flex items-center space-x-4 flex-1",children:n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[n.jsxs("h3",{className:"font-semibold text-foreground",children:["Quote #",R.id]}),n.jsx(Re,{className:He("ri-badge-status",S(R.status)),children:R.status.toUpperCase()}),R.items.some(B=>B.isBundle)&&n.jsx(Re,{className:"bg-purple-50 text-purple-700 border-purple-200",children:"Bundle"})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm text-muted-foreground",children:[n.jsxs("div",{children:[n.jsx("span",{className:"font-medium",children:"Customer:"})," ",R.customerId]}),n.jsxs("div",{children:[n.jsx("span",{className:"font-medium",children:"Total:"}),n.jsx("span",{className:"font-bold text-primary ml-1",children:_e(R.total)})]}),n.jsxs("div",{children:[n.jsx("span",{className:"font-medium",children:"Created:"})," ",ct(R.createdAt)]}),n.jsxs("div",{children:[n.jsx("span",{className:"font-medium",children:"Valid Until:"})," ",ct(R.validUntil)]})]}),n.jsxs("div",{className:"mt-2 bg-muted/30 p-2 rounded-md",children:[n.jsxs("p",{className:"text-sm text-muted-foreground",children:[R.items.length," item(s)",R.totalDiscount>0&&n.jsxs("span",{className:"text-green-600 ml-2",children:[" ",_e(R.totalDiscount)," discount applied"]})]}),R.notes&&n.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:[n.jsx("span",{className:"font-medium",children:"Notes:"})," ",R.notes]})]})]})}),n.jsxs("div",{className:"ri-action-buttons",children:[n.jsxs(J,{variant:"outline",size:"sm",className:"shadow-sm",onClick:()=>k(R),children:[n.jsx(Ol,{className:"h-3 w-3 mr-1"}),"View"]}),n.jsxs(J,{variant:"outline",size:"sm",className:"shadow-sm",onClick:()=>_(R),children:[n.jsx(zr,{className:"h-3 w-3 mr-1"}),"Edit"]}),R.status==="draft"&&n.jsxs(J,{variant:"outline",size:"sm",className:"shadow-sm",onClick:()=>O(R.id),children:[n.jsx($o,{className:"h-3 w-3 mr-1"}),"Send"]}),n.jsxs(J,{variant:"outline",size:"sm",className:"shadow-sm",onClick:()=>D(R.id),children:[n.jsx(v4,{className:"h-3 w-3 mr-1"}),"Copy"]}),n.jsx(J,{variant:"outline",size:"sm",className:"shadow-sm text-red-600 hover:text-red-700",onClick:()=>F(R.id),children:n.jsx(Sn,{className:"h-3 w-3"})})]})]},R.id)),N.length===0&&n.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[n.jsx(ls,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground/50"}),n.jsx("p",{children:"No quotes found"}),n.jsx("p",{className:"text-sm",children:"Create your first quote to get started"})]})]})})]})]})}function d_(){var _;const{leads:e,sources:t,activities:r,salesReps:s,updateLeadStatus:a,assignLead:i,getActivitiesByLead:o,getRemindersByUser:l,getLeadScore:c}=io(),[d,h]=C.useState(""),[u,f]=C.useState("all"),[m,v]=C.useState("all"),[x,p]=C.useState("all"),[g,b]=C.useState(null),[y,j]=C.useState(!1),E=k=>{switch(k){case ys.NEW:return"bg-blue-50 text-blue-700 border-blue-200";case ys.CONTACTED:return"bg-yellow-50 text-yellow-700 border-yellow-200";case ys.QUALIFIED:return"bg-green-50 text-green-700 border-green-200";case ys.PROPOSAL:return"bg-purple-50 text-purple-700 border-purple-200";case ys.NEGOTIATION:return"bg-orange-50 text-orange-700 border-orange-200";case ys.CLOSED_WON:return"bg-emerald-50 text-emerald-700 border-emerald-200";case ys.CLOSED_LOST:return"bg-red-50 text-red-700 border-red-200";default:return"bg-gray-50 text-gray-700 border-gray-200"}},S=k=>k>=80?"text-green-600 bg-green-50":k>=60?"text-yellow-600 bg-yellow-50":k>=40?"text-orange-600 bg-orange-50":"text-red-600 bg-red-50",N=e.filter(k=>{const T=`${k.firstName} ${k.lastName}`.toLowerCase().includes(d.toLowerCase())||k.email.toLowerCase().includes(d.toLowerCase())||k.phone.includes(d),A=u==="all"||k.status===u,O=m==="all"||k.sourceId===m,D=x==="all"||k.assignedTo===x;return T&&A&&O&&D}),w=k=>{console.log("New lead created:",k)};if(g){const k=o(g.id),T=l("current-user").filter(O=>O.leadId===g.id),A=c(g.id);return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx(J,{variant:"outline",onClick:()=>b(null),className:"mb-4",children:" Back to Leads"}),n.jsxs("h1",{className:"ri-page-title",children:[g.firstName," ",g.lastName]}),n.jsx("p",{className:"ri-page-description",children:"Lead details and activity management"})]}),n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx(Re,{className:He("ri-badge-status",E(g.status)),children:g.status.replace("_"," ").toUpperCase()}),g.score&&n.jsxs(Re,{className:He("ri-badge-status",S(g.score)),children:["Score: ",g.score]})]})]}),n.jsxs(xr,{defaultValue:"overview",className:"space-y-6",children:[n.jsxs(fr,{className:"grid w-full grid-cols-6",children:[n.jsx(Qe,{value:"overview",children:"Overview"}),n.jsx(Qe,{value:"activity",children:"Activity"}),n.jsx(Qe,{value:"communication",children:"Communication"}),n.jsx(Qe,{value:"ai-insights",children:"AI Insights"}),n.jsx(Qe,{value:"nurturing",children:"Nurturing"}),n.jsx(Qe,{value:"reminders",children:"Reminders"})]}),n.jsx(et,{value:"overview",className:"space-y-6",children:n.jsxs("div",{className:"grid gap-6 md:grid-cols-3",children:[n.jsx("div",{className:"md:col-span-2",children:n.jsxs(de,{className:"shadow-sm",children:[n.jsx(ye,{children:n.jsx(be,{children:"Lead Information"})}),n.jsxs(ue,{children:[n.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Email"}),n.jsx("p",{className:"font-medium",children:g.email})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Phone"}),n.jsx("p",{className:"font-medium",children:g.phone})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Source"}),n.jsx("p",{className:"font-medium",children:g.source})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Assigned To"}),n.jsx("p",{className:"font-medium",children:((_=s.find(O=>O.id===g.assignedTo))==null?void 0:_.name)||"Unassigned"})]}),Object.entries(g.customFields||{}).map(([O,D])=>n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-muted-foreground capitalize",children:O.replace(/([A-Z])/g," $1").trim()}),n.jsx("p",{className:"font-medium",children:D})]},O))]}),g.notes&&n.jsxs("div",{className:"mt-4",children:[n.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Notes"}),n.jsx("p",{className:"mt-1 p-3 bg-muted/30 rounded-md",children:g.notes})]})]})]})}),n.jsx("div",{className:"space-y-6",children:A&&n.jsx(kee,{score:A})})]})}),n.jsx(et,{value:"activity",children:n.jsx(Dee,{leadId:g.id,activities:k})}),n.jsx(et,{value:"communication",children:n.jsx(Gee,{leadId:g.id,leadData:g})}),n.jsx(et,{value:"ai-insights",children:n.jsx(Hee,{leadId:g.id,leadData:g})}),n.jsx(et,{value:"nurturing",children:n.jsx("div",{className:"space-y-6",children:n.jsx(c_,{})})}),n.jsx(et,{value:"reminders",children:n.jsx(Bee,{leadId:g.id,reminders:T})})]})]})}return n.jsxs("div",{className:"space-y-8",children:[y&&n.jsx(Du,{onClose:()=>j(!1),onSuccess:w}),n.jsx("div",{className:"ri-page-header",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"ri-page-title",children:"CRM & Prospecting"}),n.jsx("p",{className:"ri-page-description",children:"Manage leads, track activities, and monitor sales pipeline with AI-powered insights"})]}),n.jsxs(J,{className:"shadow-sm",onClick:()=>j(!0),children:[n.jsx(Nt,{className:"h-4 w-4 mr-2"}),"Add Lead"]})]})}),n.jsxs("div",{className:"ri-stats-grid",children:[n.jsxs(de,{className:"shadow-sm border-0 bg-gradient-to-br from-blue-50 to-blue-100/50",children:[n.jsxs(ye,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(be,{className:"text-sm font-medium text-blue-900",children:"Total Leads"}),n.jsx(On,{className:"h-4 w-4 text-blue-600"})]}),n.jsxs(ue,{children:[n.jsx("div",{className:"text-2xl font-bold text-blue-900",children:e.length}),n.jsxs("p",{className:"text-xs text-blue-600 flex items-center mt-1",children:[n.jsx(_t,{className:"h-3 w-3 mr-1"}),"+12% from last month"]})]})]}),n.jsxs(de,{className:"shadow-sm border-0 bg-gradient-to-br from-yellow-50 to-yellow-100/50",children:[n.jsxs(ye,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(be,{className:"text-sm font-medium text-yellow-900",children:"New Leads"}),n.jsx(On,{className:"h-4 w-4 text-yellow-600"})]}),n.jsxs(ue,{children:[n.jsx("div",{className:"text-2xl font-bold text-yellow-900",children:e.filter(k=>k.status===ys.NEW).length}),n.jsxs("p",{className:"text-xs text-yellow-600 flex items-center mt-1",children:[n.jsx(_t,{className:"h-3 w-3 mr-1"}),"+8% from last week"]})]})]}),n.jsxs(de,{className:"shadow-sm border-0 bg-gradient-to-br from-green-50 to-green-100/50",children:[n.jsxs(ye,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(be,{className:"text-sm font-medium text-green-900",children:"Qualified"}),n.jsx(ja,{className:"h-4 w-4 text-green-600"})]}),n.jsxs(ue,{children:[n.jsx("div",{className:"text-2xl font-bold text-green-900",children:e.filter(k=>k.status===ys.QUALIFIED).length}),n.jsxs("p",{className:"text-xs text-green-600 flex items-center mt-1",children:[n.jsx(_t,{className:"h-3 w-3 mr-1"}),"+15% from last month"]})]})]}),n.jsxs(de,{className:"shadow-sm border-0 bg-gradient-to-br from-purple-50 to-purple-100/50",children:[n.jsxs(ye,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(be,{className:"text-sm font-medium text-purple-900",children:"AI Insights"}),n.jsx(Po,{className:"h-4 w-4 text-purple-600"})]}),n.jsxs(ue,{children:[n.jsx("div",{className:"text-2xl font-bold text-purple-900",children:"47"}),n.jsxs("p",{className:"text-xs text-purple-600 flex items-center mt-1",children:[n.jsx(Po,{className:"h-3 w-3 mr-1"}),"Active recommendations"]})]})]})]}),n.jsxs(xr,{defaultValue:"leads",className:"space-y-6",children:[n.jsxs(fr,{className:"grid w-full grid-cols-6",children:[n.jsx(Qe,{value:"leads",children:"Leads"}),n.jsx(Qe,{value:"pipeline",children:"Pipeline"}),n.jsx(Qe,{value:"quotes",children:"Quotes"}),n.jsx(Qe,{value:"nurturing",children:"Nurturing"}),n.jsx(Qe,{value:"forms",children:"Intake Forms"}),n.jsx(Qe,{value:"sources",children:"Sources"})]}),n.jsxs(et,{value:"leads",className:"space-y-6",children:[n.jsxs("div",{className:"flex gap-4",children:[n.jsxs("div",{className:"ri-search-bar",children:[n.jsx(es,{className:"ri-search-icon"}),n.jsx(Pe,{placeholder:"Search leads...",value:d,onChange:k=>h(k.target.value),className:"ri-search-input shadow-sm"})]}),n.jsxs(Ve,{value:u,onValueChange:f,children:[n.jsx(ze,{className:"w-40",children:n.jsx(qe,{placeholder:"Status"})}),n.jsxs(Ue,{children:[n.jsx(K,{value:"all",children:"All Status"}),n.jsx(K,{value:ys.NEW,children:"New"}),n.jsx(K,{value:ys.CONTACTED,children:"Contacted"}),n.jsx(K,{value:ys.QUALIFIED,children:"Qualified"}),n.jsx(K,{value:ys.PROPOSAL,children:"Proposal"}),n.jsx(K,{value:ys.NEGOTIATION,children:"Negotiation"}),n.jsx(K,{value:ys.CLOSED_WON,children:"Closed Won"}),n.jsx(K,{value:ys.CLOSED_LOST,children:"Closed Lost"})]})]}),n.jsxs(Ve,{value:m,onValueChange:v,children:[n.jsx(ze,{className:"w-40",children:n.jsx(qe,{placeholder:"Source"})}),n.jsxs(Ue,{children:[n.jsx(K,{value:"all",children:"All Sources"}),t.map(k=>n.jsx(K,{value:k.id,children:k.name},k.id))]})]}),n.jsxs(Ve,{value:x,onValueChange:p,children:[n.jsx(ze,{className:"w-40",children:n.jsx(qe,{placeholder:"Assignee"})}),n.jsxs(Ue,{children:[n.jsx(K,{value:"all",children:"All Reps"}),s.map(k=>n.jsx(K,{value:k.id,children:k.name},k.id))]})]}),n.jsxs(J,{onClick:()=>j(!0),className:"shadow-sm",children:[n.jsx(Nt,{className:"h-4 w-4 mr-2"}),"Add Lead"]})]}),n.jsxs(de,{className:"shadow-sm",children:[n.jsx(ye,{children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsxs(be,{className:"text-xl",children:["Leads (",N.length,")"]}),n.jsx($e,{children:"Manage your sales prospects with AI-powered insights and automated nurturing"})]}),n.jsxs(J,{onClick:()=>j(!0),variant:"outline",className:"shadow-sm",children:[n.jsx(Nt,{className:"h-4 w-4 mr-2"}),"Add Lead"]})]})}),n.jsx(ue,{children:n.jsx("div",{className:"space-y-4",children:N.map(k=>{var T;return n.jsxs("div",{className:"ri-table-row cursor-pointer",onClick:()=>b(k),children:[n.jsx("div",{className:"flex items-center space-x-4 flex-1",children:n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[n.jsxs("h3",{className:"font-semibold text-foreground",children:[k.firstName," ",k.lastName]}),n.jsx(Re,{className:He("ri-badge-status",E(k.status)),children:k.status.replace("_"," ").toUpperCase()}),k.score&&n.jsx(Re,{className:He("ri-badge-status",S(k.score)),children:k.score}),n.jsxs(Re,{variant:"outline",className:"text-xs",children:[n.jsx(Po,{className:"h-3 w-3 mr-1"}),"AI Ready"]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-2 text-sm text-muted-foreground",children:[n.jsxs("span",{className:"flex items-center",children:[n.jsx(Qr,{className:"h-3 w-3 mr-2 text-blue-500"}),k.email]}),n.jsxs("span",{className:"flex items-center",children:[n.jsx(am,{className:"h-3 w-3 mr-2 text-green-500"}),k.phone]}),n.jsxs("span",{className:"flex items-center",children:[n.jsx(On,{className:"h-3 w-3 mr-2 text-purple-500"}),((T=s.find(A=>A.id===k.assignedTo))==null?void 0:T.name)||"Unassigned"]}),n.jsxs("span",{className:"flex items-center",children:[n.jsx(Lr,{className:"h-3 w-3 mr-2 text-orange-500"}),ct(k.createdAt)]})]}),k.notes&&n.jsx("p",{className:"text-sm text-muted-foreground mt-2 bg-muted/30 p-2 rounded-md",children:k.notes})]})}),n.jsxs("div",{className:"ri-action-buttons",children:[n.jsxs(J,{variant:"outline",size:"sm",className:"shadow-sm",onClick:A=>{A.stopPropagation()},children:[n.jsx(ln,{className:"h-3 w-3 mr-1"}),"Contact"]}),n.jsxs(J,{variant:"outline",size:"sm",className:"shadow-sm",onClick:A=>{A.stopPropagation(),b(k)},children:[n.jsx(Po,{className:"h-3 w-3 mr-1"}),"AI Insights"]})]})]},k.id)})})})]})]}),n.jsx(et,{value:"pipeline",children:n.jsx(See,{})}),n.jsx(et,{value:"quotes",children:n.jsx(Jee,{})}),n.jsx(et,{value:"nurturing",children:n.jsx(c_,{})}),n.jsx(et,{value:"forms",children:n.jsxs(de,{className:"shadow-sm",children:[n.jsxs(ye,{children:[n.jsx(be,{children:"Lead Intake Forms"}),n.jsx($e,{children:"Create and manage dynamic lead capture forms"})]}),n.jsx(ue,{children:n.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"Form builder coming soon..."})})]})}),n.jsx(et,{value:"sources",children:n.jsxs(de,{className:"shadow-sm",children:[n.jsxs(ye,{children:[n.jsx(be,{children:"Lead Sources"}),n.jsx($e,{children:"Manage and track lead source performance"})]}),n.jsx(ue,{children:n.jsx("div",{className:"space-y-4",children:t.map(k=>n.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg hover:bg-accent/50 transition-colors",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold",children:k.name}),n.jsxs("p",{className:"text-sm text-muted-foreground",children:["Type: ",k.type,"  Conversion: ",k.conversionRate,"%",k.trackingCode&&`  Code: ${k.trackingCode}`]})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Re,{className:k.isActive?"bg-green-50 text-green-700 border-green-200":"bg-gray-50 text-gray-700 border-gray-200",children:k.isActive?"Active":"Inactive"}),n.jsx(J,{variant:"outline",size:"sm",children:n.jsx(Dv,{className:"h-3 w-3"})})]})]},k.id))})})]})})]})]})}function Zee(){return n.jsxs(Ps,{children:[n.jsx(Ft,{path:"/",element:n.jsx(d_,{})}),n.jsx(Ft,{path:"/*",element:n.jsx(d_,{})})]})}function ete({vehicles:e,onEdit:t,onDelete:r,onView:s,onStatusChange:a}){const{toast:i}=At(),[o,l]=C.useState(""),[c,d]=C.useState("all"),[h,u]=C.useState("all"),[f,m]=C.useState("all"),[v,x]=C.useState([]),[p,g]=C.useState("updatedAt"),[b,y]=C.useState("desc"),j=Array.from(new Set(e.map(O=>O.location))),E=O=>{switch(O){case Yt.AVAILABLE:return"bg-green-50 text-green-700 border-green-200";case Yt.RESERVED:return"bg-yellow-50 text-yellow-700 border-yellow-200";case Yt.SOLD:return"bg-blue-50 text-blue-700 border-blue-200";case Yt.SERVICE:return"bg-orange-50 text-orange-700 border-orange-200";case Yt.DELIVERED:return"bg-purple-50 text-purple-700 border-purple-200";default:return"bg-gray-50 text-gray-700 border-gray-200"}},S=O=>O.replace("_"," ").toUpperCase(),N=e.filter(O=>{const D=`${O.make} ${O.model}`.toLowerCase().includes(o.toLowerCase())||O.vin.toLowerCase().includes(o.toLowerCase())||O.year.toString().includes(o),F=c==="all"||O.status===c,M=h==="all"||O.type===h,R=f==="all"||O.location===f;return D&&F&&M&&R}).sort((O,D)=>{let F=O[p],M=D[p];return F instanceof Date&&M instanceof Date&&(F=F.getTime(),M=M.getTime()),typeof F=="string"&&typeof M=="string"&&(F=F.toLowerCase(),M=M.toLowerCase()),F<M?b==="asc"?-1:1:F>M?b==="asc"?1:-1:0}),w=O=>{p===O?y(b==="asc"?"desc":"asc"):(g(O),y("asc"))},_=O=>{x(O?N.map(D=>D.id):[])},k=O=>{v.includes(O)?x(v.filter(D=>D!==O)):x([...v,O])},T=()=>{const D=(v.length>0?e.filter(U=>v.includes(U.id)):N).map(U=>({id:U.id,vin:U.vin,make:U.make,model:U.model,year:U.year,type:U.type,status:U.status,price:U.price,cost:U.cost,location:U.location,features:U.features.join(", "),createdAt:U.createdAt.toISOString(),updatedAt:U.updatedAt.toISOString()})),F=Nf.unparse(D),M=new Blob([F],{type:"text/csv;charset=utf-8;"}),R=URL.createObjectURL(M),B=document.createElement("a");B.href=R,B.setAttribute("download",`inventory_export_${new Date().toISOString().split("T")[0]}.csv`),document.body.appendChild(B),B.click(),document.body.removeChild(B),i({title:"Export Successful",description:`Exported ${D.length} vehicles to CSV`})},A=O=>{if(v.length===0){i({title:"No Vehicles Selected",description:"Please select vehicles to update",variant:"destructive"});return}v.forEach(D=>{a(D,O)}),i({title:"Status Updated",description:`Updated ${v.length} vehicles to ${O}`})};return n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[n.jsxs("div",{className:"ri-search-bar flex-1",children:[n.jsx(es,{className:"ri-search-icon"}),n.jsx(Pe,{placeholder:"Search by make, model, VIN...",value:o,onChange:O=>l(O.target.value),className:"ri-search-input shadow-sm"})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsxs(Ve,{value:c,onValueChange:d,children:[n.jsx(ze,{className:"w-[130px]",children:n.jsx(qe,{placeholder:"Status"})}),n.jsxs(Ue,{children:[n.jsx(K,{value:"all",children:"All Status"}),n.jsx(K,{value:Yt.AVAILABLE,children:"Available"}),n.jsx(K,{value:Yt.RESERVED,children:"Reserved"}),n.jsx(K,{value:Yt.SOLD,children:"Sold"}),n.jsx(K,{value:Yt.SERVICE,children:"Service"}),n.jsx(K,{value:Yt.DELIVERED,children:"Delivered"})]})]}),n.jsxs(Ve,{value:h,onValueChange:u,children:[n.jsx(ze,{className:"w-[130px]",children:n.jsx(qe,{placeholder:"Type"})}),n.jsxs(Ue,{children:[n.jsx(K,{value:"all",children:"All Types"}),n.jsx(K,{value:vt.RV,children:"RV"}),n.jsx(K,{value:vt.MOTORHOME,children:"Motorhome"}),n.jsx(K,{value:vt.TRAVEL_TRAILER,children:"Travel Trailer"}),n.jsx(K,{value:vt.FIFTH_WHEEL,children:"Fifth Wheel"}),n.jsx(K,{value:vt.TOY_HAULER,children:"Toy Hauler"})]})]}),n.jsxs(Ve,{value:f,onValueChange:m,children:[n.jsx(ze,{className:"w-[130px]",children:n.jsx(qe,{placeholder:"Location"})}),n.jsxs(Ue,{children:[n.jsx(K,{value:"all",children:"All Locations"}),j.map(O=>n.jsx(K,{value:O,children:O},O))]})]})]})]}),v.length>0&&n.jsxs("div",{className:"flex items-center justify-between bg-muted/30 p-2 rounded-lg",children:[n.jsxs("div",{className:"text-sm font-medium",children:[v.length," vehicles selected"]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsxs(Ve,{onValueChange:O=>A(O),children:[n.jsx(ze,{className:"w-[150px]",children:n.jsx(qe,{placeholder:"Change Status"})}),n.jsxs(Ue,{children:[n.jsx(K,{value:Yt.AVAILABLE,children:"Available"}),n.jsx(K,{value:Yt.RESERVED,children:"Reserved"}),n.jsx(K,{value:Yt.SOLD,children:"Sold"}),n.jsx(K,{value:Yt.SERVICE,children:"Service"}),n.jsx(K,{value:Yt.DELIVERED,children:"Delivered"}),n.jsx(K,{value:vt.SINGLE_WIDE,children:"Single Wide MH"}),n.jsx(K,{value:vt.DOUBLE_WIDE,children:"Double Wide MH"}),n.jsx(K,{value:vt.TRIPLE_WIDE,children:"Triple Wide MH"}),n.jsx(K,{value:vt.PARK_MODEL,children:"Park Model"}),n.jsx(K,{value:vt.MODULAR_HOME,children:"Modular Home"})]})]}),n.jsxs(J,{variant:"outline",size:"sm",onClick:T,children:[n.jsx(wa,{className:"h-4 w-4 mr-2"}),"Export Selected"]}),n.jsxs(J,{variant:"outline",size:"sm",onClick:()=>x([]),children:[n.jsx(Ut,{className:"h-4 w-4 mr-2"}),"Clear Selection"]})]})]}),n.jsxs(de,{className:"shadow-sm",children:[n.jsx(ye,{className:"pb-3",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsxs(be,{className:"text-xl",children:["Inventory (",N.length,")"]}),n.jsx($e,{children:"Manage your RV and motorhome inventory"})]}),n.jsx("div",{className:"flex gap-2",children:n.jsxs(J,{variant:"outline",size:"sm",onClick:T,children:[n.jsx(wa,{className:"h-4 w-4 mr-2"}),"Export CSV"]})})]})}),n.jsx(ue,{children:n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full border-collapse",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"border-b",children:[n.jsx("th",{className:"p-2 text-left",children:n.jsx(Vt,{checked:v.length===N.length&&N.length>0,onCheckedChange:_})}),n.jsx("th",{className:"p-2 text-left cursor-pointer hover:bg-muted/30",onClick:()=>w("make"),children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("span",{children:"Make/Model"}),p==="make"&&n.jsx("span",{className:"ml-1",children:b==="asc"?"":""})]})}),n.jsx("th",{className:"p-2 text-left cursor-pointer hover:bg-muted/30",onClick:()=>w("year"),children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("span",{children:"Year"}),p==="year"&&n.jsx("span",{className:"ml-1",children:b==="asc"?"":""})]})}),n.jsx("th",{className:"p-2 text-left cursor-pointer hover:bg-muted/30",onClick:()=>w("vin"),children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("span",{children:"VIN"}),p==="vin"&&n.jsx("span",{className:"ml-1",children:b==="asc"?"":""})]})}),n.jsx("th",{className:"p-2 text-left cursor-pointer hover:bg-muted/30",onClick:()=>w("type"),children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("span",{children:"Type"}),p==="type"&&n.jsx("span",{className:"ml-1",children:b==="asc"?"":""})]})}),n.jsx("th",{className:"p-2 text-left cursor-pointer hover:bg-muted/30",onClick:()=>w("status"),children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("span",{children:"Status"}),p==="status"&&n.jsx("span",{className:"ml-1",children:b==="asc"?"":""})]})}),n.jsx("th",{className:"p-2 text-left cursor-pointer hover:bg-muted/30",onClick:()=>w("location"),children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("span",{children:"Location"}),p==="location"&&n.jsx("span",{className:"ml-1",children:b==="asc"?"":""})]})}),n.jsx("th",{className:"p-2 text-left cursor-pointer hover:bg-muted/30",onClick:()=>w("price"),children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("span",{children:"Price"}),p==="price"&&n.jsx("span",{className:"ml-1",children:b==="asc"?"":""})]})}),n.jsx("th",{className:"p-2 text-left",children:"Media"}),n.jsx("th",{className:"p-2 text-left",children:"Actions"})]})}),n.jsxs("tbody",{children:[N.map(O=>n.jsxs("tr",{className:"border-b hover:bg-muted/10",children:[n.jsx("td",{className:"p-2",children:n.jsx(Vt,{checked:v.includes(O.id),onCheckedChange:()=>k(O.id)})}),n.jsx("td",{className:"p-2",children:n.jsxs("div",{className:"font-medium",children:[O.make," ",O.model]})}),n.jsx("td",{className:"p-2",children:O.year}),n.jsx("td",{className:"p-2",children:n.jsx("span",{className:"font-mono text-xs",children:O.vin})}),n.jsx("td",{className:"p-2",children:n.jsx("span",{className:"text-sm",children:S(O.type)})}),n.jsx("td",{className:"p-2",children:n.jsx(Re,{className:He("ri-badge-status",E(O.status)),children:O.status.toUpperCase()})}),n.jsx("td",{className:"p-2",children:O.location}),n.jsx("td",{className:"p-2 font-medium text-primary",children:_e(O.price)}),n.jsx("td",{className:"p-2",children:n.jsxs("div",{className:"flex items-center space-x-1",children:[n.jsxs(Re,{variant:"outline",className:"text-xs",children:[n.jsx(yf,{className:"h-3 w-3 mr-1"}),O.images.length]}),O.customFields.videos&&n.jsxs(Re,{variant:"outline",className:"text-xs",children:[n.jsx(Vy,{className:"h-3 w-3 mr-1"}),O.customFields.videos.length||0]})]})}),n.jsx("td",{className:"p-2",children:n.jsxs("div",{className:"flex items-center space-x-1",children:[n.jsx(J,{variant:"ghost",size:"sm",onClick:()=>s(O),children:n.jsx(Ol,{className:"h-4 w-4"})}),n.jsx(J,{variant:"ghost",size:"sm",onClick:()=>t(O),children:n.jsx(zr,{className:"h-4 w-4"})}),n.jsx(J,{variant:"ghost",size:"sm",onClick:()=>r(O.id),children:n.jsx(Sn,{className:"h-4 w-4"})})]})})]},O.id)),N.length===0&&n.jsx("tr",{children:n.jsxs("td",{colSpan:10,className:"p-8 text-center text-muted-foreground",children:[n.jsx(Vs,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground/50"}),n.jsx("p",{children:"No vehicles found"}),n.jsx("p",{className:"text-sm",children:"Try adjusting your search or filters"})]})})]})]})})})]})]})}var d7={exports:{}},tte="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",rte=tte,nte=rte;function u7(){}function h7(){}h7.resetWarningCache=u7;var ste=function(){function e(s,a,i,o,l,c){if(c!==nte){var d=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw d.name="Invariant Violation",d}}e.isRequired=e;function t(){return e}var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:h7,resetWarningCache:u7};return r.PropTypes=r,r};d7.exports=ste();var ate=d7.exports;const Ct=Cr(ate),ite=new Map([["1km","application/vnd.1000minds.decision-model+xml"],["3dml","text/vnd.in3d.3dml"],["3ds","image/x-3ds"],["3g2","video/3gpp2"],["3gp","video/3gp"],["3gpp","video/3gpp"],["3mf","model/3mf"],["7z","application/x-7z-compressed"],["7zip","application/x-7z-compressed"],["123","application/vnd.lotus-1-2-3"],["aab","application/x-authorware-bin"],["aac","audio/x-acc"],["aam","application/x-authorware-map"],["aas","application/x-authorware-seg"],["abw","application/x-abiword"],["ac","application/vnd.nokia.n-gage.ac+xml"],["ac3","audio/ac3"],["acc","application/vnd.americandynamics.acc"],["ace","application/x-ace-compressed"],["acu","application/vnd.acucobol"],["acutc","application/vnd.acucorp"],["adp","audio/adpcm"],["aep","application/vnd.audiograph"],["afm","application/x-font-type1"],["afp","application/vnd.ibm.modcap"],["ahead","application/vnd.ahead.space"],["ai","application/pdf"],["aif","audio/x-aiff"],["aifc","audio/x-aiff"],["aiff","audio/x-aiff"],["air","application/vnd.adobe.air-application-installer-package+zip"],["ait","application/vnd.dvb.ait"],["ami","application/vnd.amiga.ami"],["amr","audio/amr"],["apk","application/vnd.android.package-archive"],["apng","image/apng"],["appcache","text/cache-manifest"],["application","application/x-ms-application"],["apr","application/vnd.lotus-approach"],["arc","application/x-freearc"],["arj","application/x-arj"],["asc","application/pgp-signature"],["asf","video/x-ms-asf"],["asm","text/x-asm"],["aso","application/vnd.accpac.simply.aso"],["asx","video/x-ms-asf"],["atc","application/vnd.acucorp"],["atom","application/atom+xml"],["atomcat","application/atomcat+xml"],["atomdeleted","application/atomdeleted+xml"],["atomsvc","application/atomsvc+xml"],["atx","application/vnd.antix.game-component"],["au","audio/x-au"],["avi","video/x-msvideo"],["avif","image/avif"],["aw","application/applixware"],["azf","application/vnd.airzip.filesecure.azf"],["azs","application/vnd.airzip.filesecure.azs"],["azv","image/vnd.airzip.accelerator.azv"],["azw","application/vnd.amazon.ebook"],["b16","image/vnd.pco.b16"],["bat","application/x-msdownload"],["bcpio","application/x-bcpio"],["bdf","application/x-font-bdf"],["bdm","application/vnd.syncml.dm+wbxml"],["bdoc","application/x-bdoc"],["bed","application/vnd.realvnc.bed"],["bh2","application/vnd.fujitsu.oasysprs"],["bin","application/octet-stream"],["blb","application/x-blorb"],["blorb","application/x-blorb"],["bmi","application/vnd.bmi"],["bmml","application/vnd.balsamiq.bmml+xml"],["bmp","image/bmp"],["book","application/vnd.framemaker"],["box","application/vnd.previewsystems.box"],["boz","application/x-bzip2"],["bpk","application/octet-stream"],["bpmn","application/octet-stream"],["bsp","model/vnd.valve.source.compiled-map"],["btif","image/prs.btif"],["buffer","application/octet-stream"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["c","text/x-c"],["c4d","application/vnd.clonk.c4group"],["c4f","application/vnd.clonk.c4group"],["c4g","application/vnd.clonk.c4group"],["c4p","application/vnd.clonk.c4group"],["c4u","application/vnd.clonk.c4group"],["c11amc","application/vnd.cluetrust.cartomobile-config"],["c11amz","application/vnd.cluetrust.cartomobile-config-pkg"],["cab","application/vnd.ms-cab-compressed"],["caf","audio/x-caf"],["cap","application/vnd.tcpdump.pcap"],["car","application/vnd.curl.car"],["cat","application/vnd.ms-pki.seccat"],["cb7","application/x-cbr"],["cba","application/x-cbr"],["cbr","application/x-cbr"],["cbt","application/x-cbr"],["cbz","application/x-cbr"],["cc","text/x-c"],["cco","application/x-cocoa"],["cct","application/x-director"],["ccxml","application/ccxml+xml"],["cdbcmsg","application/vnd.contact.cmsg"],["cda","application/x-cdf"],["cdf","application/x-netcdf"],["cdfx","application/cdfx+xml"],["cdkey","application/vnd.mediastation.cdkey"],["cdmia","application/cdmi-capability"],["cdmic","application/cdmi-container"],["cdmid","application/cdmi-domain"],["cdmio","application/cdmi-object"],["cdmiq","application/cdmi-queue"],["cdr","application/cdr"],["cdx","chemical/x-cdx"],["cdxml","application/vnd.chemdraw+xml"],["cdy","application/vnd.cinderella"],["cer","application/pkix-cert"],["cfs","application/x-cfs-compressed"],["cgm","image/cgm"],["chat","application/x-chat"],["chm","application/vnd.ms-htmlhelp"],["chrt","application/vnd.kde.kchart"],["cif","chemical/x-cif"],["cii","application/vnd.anser-web-certificate-issue-initiation"],["cil","application/vnd.ms-artgalry"],["cjs","application/node"],["cla","application/vnd.claymore"],["class","application/octet-stream"],["clkk","application/vnd.crick.clicker.keyboard"],["clkp","application/vnd.crick.clicker.palette"],["clkt","application/vnd.crick.clicker.template"],["clkw","application/vnd.crick.clicker.wordbank"],["clkx","application/vnd.crick.clicker"],["clp","application/x-msclip"],["cmc","application/vnd.cosmocaller"],["cmdf","chemical/x-cmdf"],["cml","chemical/x-cml"],["cmp","application/vnd.yellowriver-custom-menu"],["cmx","image/x-cmx"],["cod","application/vnd.rim.cod"],["coffee","text/coffeescript"],["com","application/x-msdownload"],["conf","text/plain"],["cpio","application/x-cpio"],["cpp","text/x-c"],["cpt","application/mac-compactpro"],["crd","application/x-mscardfile"],["crl","application/pkix-crl"],["crt","application/x-x509-ca-cert"],["crx","application/x-chrome-extension"],["cryptonote","application/vnd.rig.cryptonote"],["csh","application/x-csh"],["csl","application/vnd.citationstyles.style+xml"],["csml","chemical/x-csml"],["csp","application/vnd.commonspace"],["csr","application/octet-stream"],["css","text/css"],["cst","application/x-director"],["csv","text/csv"],["cu","application/cu-seeme"],["curl","text/vnd.curl"],["cww","application/prs.cww"],["cxt","application/x-director"],["cxx","text/x-c"],["dae","model/vnd.collada+xml"],["daf","application/vnd.mobius.daf"],["dart","application/vnd.dart"],["dataless","application/vnd.fdsn.seed"],["davmount","application/davmount+xml"],["dbf","application/vnd.dbf"],["dbk","application/docbook+xml"],["dcr","application/x-director"],["dcurl","text/vnd.curl.dcurl"],["dd2","application/vnd.oma.dd2+xml"],["ddd","application/vnd.fujixerox.ddd"],["ddf","application/vnd.syncml.dmddf+xml"],["dds","image/vnd.ms-dds"],["deb","application/x-debian-package"],["def","text/plain"],["deploy","application/octet-stream"],["der","application/x-x509-ca-cert"],["dfac","application/vnd.dreamfactory"],["dgc","application/x-dgc-compressed"],["dic","text/x-c"],["dir","application/x-director"],["dis","application/vnd.mobius.dis"],["disposition-notification","message/disposition-notification"],["dist","application/octet-stream"],["distz","application/octet-stream"],["djv","image/vnd.djvu"],["djvu","image/vnd.djvu"],["dll","application/octet-stream"],["dmg","application/x-apple-diskimage"],["dmn","application/octet-stream"],["dmp","application/vnd.tcpdump.pcap"],["dms","application/octet-stream"],["dna","application/vnd.dna"],["doc","application/msword"],["docm","application/vnd.ms-word.template.macroEnabled.12"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["dot","application/msword"],["dotm","application/vnd.ms-word.template.macroEnabled.12"],["dotx","application/vnd.openxmlformats-officedocument.wordprocessingml.template"],["dp","application/vnd.osgi.dp"],["dpg","application/vnd.dpgraph"],["dra","audio/vnd.dra"],["drle","image/dicom-rle"],["dsc","text/prs.lines.tag"],["dssc","application/dssc+der"],["dtb","application/x-dtbook+xml"],["dtd","application/xml-dtd"],["dts","audio/vnd.dts"],["dtshd","audio/vnd.dts.hd"],["dump","application/octet-stream"],["dvb","video/vnd.dvb.file"],["dvi","application/x-dvi"],["dwd","application/atsc-dwd+xml"],["dwf","model/vnd.dwf"],["dwg","image/vnd.dwg"],["dxf","image/vnd.dxf"],["dxp","application/vnd.spotfire.dxp"],["dxr","application/x-director"],["ear","application/java-archive"],["ecelp4800","audio/vnd.nuera.ecelp4800"],["ecelp7470","audio/vnd.nuera.ecelp7470"],["ecelp9600","audio/vnd.nuera.ecelp9600"],["ecma","application/ecmascript"],["edm","application/vnd.novadigm.edm"],["edx","application/vnd.novadigm.edx"],["efif","application/vnd.picsel"],["ei6","application/vnd.pg.osasli"],["elc","application/octet-stream"],["emf","image/emf"],["eml","message/rfc822"],["emma","application/emma+xml"],["emotionml","application/emotionml+xml"],["emz","application/x-msmetafile"],["eol","audio/vnd.digital-winds"],["eot","application/vnd.ms-fontobject"],["eps","application/postscript"],["epub","application/epub+zip"],["es","application/ecmascript"],["es3","application/vnd.eszigno3+xml"],["esa","application/vnd.osgi.subsystem"],["esf","application/vnd.epson.esf"],["et3","application/vnd.eszigno3+xml"],["etx","text/x-setext"],["eva","application/x-eva"],["evy","application/x-envoy"],["exe","application/octet-stream"],["exi","application/exi"],["exp","application/express"],["exr","image/aces"],["ext","application/vnd.novadigm.ext"],["ez","application/andrew-inset"],["ez2","application/vnd.ezpix-album"],["ez3","application/vnd.ezpix-package"],["f","text/x-fortran"],["f4v","video/mp4"],["f77","text/x-fortran"],["f90","text/x-fortran"],["fbs","image/vnd.fastbidsheet"],["fcdt","application/vnd.adobe.formscentral.fcdt"],["fcs","application/vnd.isac.fcs"],["fdf","application/vnd.fdf"],["fdt","application/fdt+xml"],["fe_launch","application/vnd.denovo.fcselayout-link"],["fg5","application/vnd.fujitsu.oasysgp"],["fgd","application/x-director"],["fh","image/x-freehand"],["fh4","image/x-freehand"],["fh5","image/x-freehand"],["fh7","image/x-freehand"],["fhc","image/x-freehand"],["fig","application/x-xfig"],["fits","image/fits"],["flac","audio/x-flac"],["fli","video/x-fli"],["flo","application/vnd.micrografx.flo"],["flv","video/x-flv"],["flw","application/vnd.kde.kivio"],["flx","text/vnd.fmi.flexstor"],["fly","text/vnd.fly"],["fm","application/vnd.framemaker"],["fnc","application/vnd.frogans.fnc"],["fo","application/vnd.software602.filler.form+xml"],["for","text/x-fortran"],["fpx","image/vnd.fpx"],["frame","application/vnd.framemaker"],["fsc","application/vnd.fsc.weblaunch"],["fst","image/vnd.fst"],["ftc","application/vnd.fluxtime.clip"],["fti","application/vnd.anser-web-funds-transfer-initiation"],["fvt","video/vnd.fvt"],["fxp","application/vnd.adobe.fxp"],["fxpl","application/vnd.adobe.fxp"],["fzs","application/vnd.fuzzysheet"],["g2w","application/vnd.geoplan"],["g3","image/g3fax"],["g3w","application/vnd.geospace"],["gac","application/vnd.groove-account"],["gam","application/x-tads"],["gbr","application/rpki-ghostbusters"],["gca","application/x-gca-compressed"],["gdl","model/vnd.gdl"],["gdoc","application/vnd.google-apps.document"],["geo","application/vnd.dynageo"],["geojson","application/geo+json"],["gex","application/vnd.geometry-explorer"],["ggb","application/vnd.geogebra.file"],["ggt","application/vnd.geogebra.tool"],["ghf","application/vnd.groove-help"],["gif","image/gif"],["gim","application/vnd.groove-identity-message"],["glb","model/gltf-binary"],["gltf","model/gltf+json"],["gml","application/gml+xml"],["gmx","application/vnd.gmx"],["gnumeric","application/x-gnumeric"],["gpg","application/gpg-keys"],["gph","application/vnd.flographit"],["gpx","application/gpx+xml"],["gqf","application/vnd.grafeq"],["gqs","application/vnd.grafeq"],["gram","application/srgs"],["gramps","application/x-gramps-xml"],["gre","application/vnd.geometry-explorer"],["grv","application/vnd.groove-injector"],["grxml","application/srgs+xml"],["gsf","application/x-font-ghostscript"],["gsheet","application/vnd.google-apps.spreadsheet"],["gslides","application/vnd.google-apps.presentation"],["gtar","application/x-gtar"],["gtm","application/vnd.groove-tool-message"],["gtw","model/vnd.gtw"],["gv","text/vnd.graphviz"],["gxf","application/gxf"],["gxt","application/vnd.geonext"],["gz","application/gzip"],["gzip","application/gzip"],["h","text/x-c"],["h261","video/h261"],["h263","video/h263"],["h264","video/h264"],["hal","application/vnd.hal+xml"],["hbci","application/vnd.hbci"],["hbs","text/x-handlebars-template"],["hdd","application/x-virtualbox-hdd"],["hdf","application/x-hdf"],["heic","image/heic"],["heics","image/heic-sequence"],["heif","image/heif"],["heifs","image/heif-sequence"],["hej2","image/hej2k"],["held","application/atsc-held+xml"],["hh","text/x-c"],["hjson","application/hjson"],["hlp","application/winhlp"],["hpgl","application/vnd.hp-hpgl"],["hpid","application/vnd.hp-hpid"],["hps","application/vnd.hp-hps"],["hqx","application/mac-binhex40"],["hsj2","image/hsj2"],["htc","text/x-component"],["htke","application/vnd.kenameaapp"],["htm","text/html"],["html","text/html"],["hvd","application/vnd.yamaha.hv-dic"],["hvp","application/vnd.yamaha.hv-voice"],["hvs","application/vnd.yamaha.hv-script"],["i2g","application/vnd.intergeo"],["icc","application/vnd.iccprofile"],["ice","x-conference/x-cooltalk"],["icm","application/vnd.iccprofile"],["ico","image/x-icon"],["ics","text/calendar"],["ief","image/ief"],["ifb","text/calendar"],["ifm","application/vnd.shana.informed.formdata"],["iges","model/iges"],["igl","application/vnd.igloader"],["igm","application/vnd.insors.igm"],["igs","model/iges"],["igx","application/vnd.micrografx.igx"],["iif","application/vnd.shana.informed.interchange"],["img","application/octet-stream"],["imp","application/vnd.accpac.simply.imp"],["ims","application/vnd.ms-ims"],["in","text/plain"],["ini","text/plain"],["ink","application/inkml+xml"],["inkml","application/inkml+xml"],["install","application/x-install-instructions"],["iota","application/vnd.astraea-software.iota"],["ipfix","application/ipfix"],["ipk","application/vnd.shana.informed.package"],["irm","application/vnd.ibm.rights-management"],["irp","application/vnd.irepository.package+xml"],["iso","application/x-iso9660-image"],["itp","application/vnd.shana.informed.formtemplate"],["its","application/its+xml"],["ivp","application/vnd.immervision-ivp"],["ivu","application/vnd.immervision-ivu"],["jad","text/vnd.sun.j2me.app-descriptor"],["jade","text/jade"],["jam","application/vnd.jam"],["jar","application/java-archive"],["jardiff","application/x-java-archive-diff"],["java","text/x-java-source"],["jhc","image/jphc"],["jisp","application/vnd.jisp"],["jls","image/jls"],["jlt","application/vnd.hp-jlyt"],["jng","image/x-jng"],["jnlp","application/x-java-jnlp-file"],["joda","application/vnd.joost.joda-archive"],["jp2","image/jp2"],["jpe","image/jpeg"],["jpeg","image/jpeg"],["jpf","image/jpx"],["jpg","image/jpeg"],["jpg2","image/jp2"],["jpgm","video/jpm"],["jpgv","video/jpeg"],["jph","image/jph"],["jpm","video/jpm"],["jpx","image/jpx"],["js","application/javascript"],["json","application/json"],["json5","application/json5"],["jsonld","application/ld+json"],["jsonl","application/jsonl"],["jsonml","application/jsonml+json"],["jsx","text/jsx"],["jxr","image/jxr"],["jxra","image/jxra"],["jxrs","image/jxrs"],["jxs","image/jxs"],["jxsc","image/jxsc"],["jxsi","image/jxsi"],["jxss","image/jxss"],["kar","audio/midi"],["karbon","application/vnd.kde.karbon"],["kdb","application/octet-stream"],["kdbx","application/x-keepass2"],["key","application/x-iwork-keynote-sffkey"],["kfo","application/vnd.kde.kformula"],["kia","application/vnd.kidspiration"],["kml","application/vnd.google-earth.kml+xml"],["kmz","application/vnd.google-earth.kmz"],["kne","application/vnd.kinar"],["knp","application/vnd.kinar"],["kon","application/vnd.kde.kontour"],["kpr","application/vnd.kde.kpresenter"],["kpt","application/vnd.kde.kpresenter"],["kpxx","application/vnd.ds-keypoint"],["ksp","application/vnd.kde.kspread"],["ktr","application/vnd.kahootz"],["ktx","image/ktx"],["ktx2","image/ktx2"],["ktz","application/vnd.kahootz"],["kwd","application/vnd.kde.kword"],["kwt","application/vnd.kde.kword"],["lasxml","application/vnd.las.las+xml"],["latex","application/x-latex"],["lbd","application/vnd.llamagraphics.life-balance.desktop"],["lbe","application/vnd.llamagraphics.life-balance.exchange+xml"],["les","application/vnd.hhe.lesson-player"],["less","text/less"],["lgr","application/lgr+xml"],["lha","application/octet-stream"],["link66","application/vnd.route66.link66+xml"],["list","text/plain"],["list3820","application/vnd.ibm.modcap"],["listafp","application/vnd.ibm.modcap"],["litcoffee","text/coffeescript"],["lnk","application/x-ms-shortcut"],["log","text/plain"],["lostxml","application/lost+xml"],["lrf","application/octet-stream"],["lrm","application/vnd.ms-lrm"],["ltf","application/vnd.frogans.ltf"],["lua","text/x-lua"],["luac","application/x-lua-bytecode"],["lvp","audio/vnd.lucent.voice"],["lwp","application/vnd.lotus-wordpro"],["lzh","application/octet-stream"],["m1v","video/mpeg"],["m2a","audio/mpeg"],["m2v","video/mpeg"],["m3a","audio/mpeg"],["m3u","text/plain"],["m3u8","application/vnd.apple.mpegurl"],["m4a","audio/x-m4a"],["m4p","application/mp4"],["m4s","video/iso.segment"],["m4u","application/vnd.mpegurl"],["m4v","video/x-m4v"],["m13","application/x-msmediaview"],["m14","application/x-msmediaview"],["m21","application/mp21"],["ma","application/mathematica"],["mads","application/mads+xml"],["maei","application/mmt-aei+xml"],["mag","application/vnd.ecowin.chart"],["maker","application/vnd.framemaker"],["man","text/troff"],["manifest","text/cache-manifest"],["map","application/json"],["mar","application/octet-stream"],["markdown","text/markdown"],["mathml","application/mathml+xml"],["mb","application/mathematica"],["mbk","application/vnd.mobius.mbk"],["mbox","application/mbox"],["mc1","application/vnd.medcalcdata"],["mcd","application/vnd.mcd"],["mcurl","text/vnd.curl.mcurl"],["md","text/markdown"],["mdb","application/x-msaccess"],["mdi","image/vnd.ms-modi"],["mdx","text/mdx"],["me","text/troff"],["mesh","model/mesh"],["meta4","application/metalink4+xml"],["metalink","application/metalink+xml"],["mets","application/mets+xml"],["mfm","application/vnd.mfmp"],["mft","application/rpki-manifest"],["mgp","application/vnd.osgeo.mapguide.package"],["mgz","application/vnd.proteus.magazine"],["mid","audio/midi"],["midi","audio/midi"],["mie","application/x-mie"],["mif","application/vnd.mif"],["mime","message/rfc822"],["mj2","video/mj2"],["mjp2","video/mj2"],["mjs","application/javascript"],["mk3d","video/x-matroska"],["mka","audio/x-matroska"],["mkd","text/x-markdown"],["mks","video/x-matroska"],["mkv","video/x-matroska"],["mlp","application/vnd.dolby.mlp"],["mmd","application/vnd.chipnuts.karaoke-mmd"],["mmf","application/vnd.smaf"],["mml","text/mathml"],["mmr","image/vnd.fujixerox.edmics-mmr"],["mng","video/x-mng"],["mny","application/x-msmoney"],["mobi","application/x-mobipocket-ebook"],["mods","application/mods+xml"],["mov","video/quicktime"],["movie","video/x-sgi-movie"],["mp2","audio/mpeg"],["mp2a","audio/mpeg"],["mp3","audio/mpeg"],["mp4","video/mp4"],["mp4a","audio/mp4"],["mp4s","application/mp4"],["mp4v","video/mp4"],["mp21","application/mp21"],["mpc","application/vnd.mophun.certificate"],["mpd","application/dash+xml"],["mpe","video/mpeg"],["mpeg","video/mpeg"],["mpg","video/mpeg"],["mpg4","video/mp4"],["mpga","audio/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["mpm","application/vnd.blueice.multipass"],["mpn","application/vnd.mophun.application"],["mpp","application/vnd.ms-project"],["mpt","application/vnd.ms-project"],["mpy","application/vnd.ibm.minipay"],["mqy","application/vnd.mobius.mqy"],["mrc","application/marc"],["mrcx","application/marcxml+xml"],["ms","text/troff"],["mscml","application/mediaservercontrol+xml"],["mseed","application/vnd.fdsn.mseed"],["mseq","application/vnd.mseq"],["msf","application/vnd.epson.msf"],["msg","application/vnd.ms-outlook"],["msh","model/mesh"],["msi","application/x-msdownload"],["msl","application/vnd.mobius.msl"],["msm","application/octet-stream"],["msp","application/octet-stream"],["msty","application/vnd.muvee.style"],["mtl","model/mtl"],["mts","model/vnd.mts"],["mus","application/vnd.musician"],["musd","application/mmt-usd+xml"],["musicxml","application/vnd.recordare.musicxml+xml"],["mvb","application/x-msmediaview"],["mvt","application/vnd.mapbox-vector-tile"],["mwf","application/vnd.mfer"],["mxf","application/mxf"],["mxl","application/vnd.recordare.musicxml"],["mxmf","audio/mobile-xmf"],["mxml","application/xv+xml"],["mxs","application/vnd.triscape.mxs"],["mxu","video/vnd.mpegurl"],["n-gage","application/vnd.nokia.n-gage.symbian.install"],["n3","text/n3"],["nb","application/mathematica"],["nbp","application/vnd.wolfram.player"],["nc","application/x-netcdf"],["ncx","application/x-dtbncx+xml"],["nfo","text/x-nfo"],["ngdat","application/vnd.nokia.n-gage.data"],["nitf","application/vnd.nitf"],["nlu","application/vnd.neurolanguage.nlu"],["nml","application/vnd.enliven"],["nnd","application/vnd.noblenet-directory"],["nns","application/vnd.noblenet-sealer"],["nnw","application/vnd.noblenet-web"],["npx","image/vnd.net-fpx"],["nq","application/n-quads"],["nsc","application/x-conference"],["nsf","application/vnd.lotus-notes"],["nt","application/n-triples"],["ntf","application/vnd.nitf"],["numbers","application/x-iwork-numbers-sffnumbers"],["nzb","application/x-nzb"],["oa2","application/vnd.fujitsu.oasys2"],["oa3","application/vnd.fujitsu.oasys3"],["oas","application/vnd.fujitsu.oasys"],["obd","application/x-msbinder"],["obgx","application/vnd.openblox.game+xml"],["obj","model/obj"],["oda","application/oda"],["odb","application/vnd.oasis.opendocument.database"],["odc","application/vnd.oasis.opendocument.chart"],["odf","application/vnd.oasis.opendocument.formula"],["odft","application/vnd.oasis.opendocument.formula-template"],["odg","application/vnd.oasis.opendocument.graphics"],["odi","application/vnd.oasis.opendocument.image"],["odm","application/vnd.oasis.opendocument.text-master"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogex","model/vnd.opengex"],["ogg","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["omdoc","application/omdoc+xml"],["onepkg","application/onenote"],["onetmp","application/onenote"],["onetoc","application/onenote"],["onetoc2","application/onenote"],["opf","application/oebps-package+xml"],["opml","text/x-opml"],["oprc","application/vnd.palm"],["opus","audio/ogg"],["org","text/x-org"],["osf","application/vnd.yamaha.openscoreformat"],["osfpvg","application/vnd.yamaha.openscoreformat.osfpvg+xml"],["osm","application/vnd.openstreetmap.data+xml"],["otc","application/vnd.oasis.opendocument.chart-template"],["otf","font/otf"],["otg","application/vnd.oasis.opendocument.graphics-template"],["oth","application/vnd.oasis.opendocument.text-web"],["oti","application/vnd.oasis.opendocument.image-template"],["otp","application/vnd.oasis.opendocument.presentation-template"],["ots","application/vnd.oasis.opendocument.spreadsheet-template"],["ott","application/vnd.oasis.opendocument.text-template"],["ova","application/x-virtualbox-ova"],["ovf","application/x-virtualbox-ovf"],["owl","application/rdf+xml"],["oxps","application/oxps"],["oxt","application/vnd.openofficeorg.extension"],["p","text/x-pascal"],["p7a","application/x-pkcs7-signature"],["p7b","application/x-pkcs7-certificates"],["p7c","application/pkcs7-mime"],["p7m","application/pkcs7-mime"],["p7r","application/x-pkcs7-certreqresp"],["p7s","application/pkcs7-signature"],["p8","application/pkcs8"],["p10","application/x-pkcs10"],["p12","application/x-pkcs12"],["pac","application/x-ns-proxy-autoconfig"],["pages","application/x-iwork-pages-sffpages"],["pas","text/x-pascal"],["paw","application/vnd.pawaafile"],["pbd","application/vnd.powerbuilder6"],["pbm","image/x-portable-bitmap"],["pcap","application/vnd.tcpdump.pcap"],["pcf","application/x-font-pcf"],["pcl","application/vnd.hp-pcl"],["pclxl","application/vnd.hp-pclxl"],["pct","image/x-pict"],["pcurl","application/vnd.curl.pcurl"],["pcx","image/x-pcx"],["pdb","application/x-pilot"],["pde","text/x-processing"],["pdf","application/pdf"],["pem","application/x-x509-user-cert"],["pfa","application/x-font-type1"],["pfb","application/x-font-type1"],["pfm","application/x-font-type1"],["pfr","application/font-tdpfr"],["pfx","application/x-pkcs12"],["pgm","image/x-portable-graymap"],["pgn","application/x-chess-pgn"],["pgp","application/pgp"],["php","application/x-httpd-php"],["php3","application/x-httpd-php"],["php4","application/x-httpd-php"],["phps","application/x-httpd-php-source"],["phtml","application/x-httpd-php"],["pic","image/x-pict"],["pkg","application/octet-stream"],["pki","application/pkixcmp"],["pkipath","application/pkix-pkipath"],["pkpass","application/vnd.apple.pkpass"],["pl","application/x-perl"],["plb","application/vnd.3gpp.pic-bw-large"],["plc","application/vnd.mobius.plc"],["plf","application/vnd.pocketlearn"],["pls","application/pls+xml"],["pm","application/x-perl"],["pml","application/vnd.ctc-posml"],["png","image/png"],["pnm","image/x-portable-anymap"],["portpkg","application/vnd.macports.portpkg"],["pot","application/vnd.ms-powerpoint"],["potm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["potx","application/vnd.openxmlformats-officedocument.presentationml.template"],["ppa","application/vnd.ms-powerpoint"],["ppam","application/vnd.ms-powerpoint.addin.macroEnabled.12"],["ppd","application/vnd.cups-ppd"],["ppm","image/x-portable-pixmap"],["pps","application/vnd.ms-powerpoint"],["ppsm","application/vnd.ms-powerpoint.slideshow.macroEnabled.12"],["ppsx","application/vnd.openxmlformats-officedocument.presentationml.slideshow"],["ppt","application/powerpoint"],["pptm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["pqa","application/vnd.palm"],["prc","application/x-pilot"],["pre","application/vnd.lotus-freelance"],["prf","application/pics-rules"],["provx","application/provenance+xml"],["ps","application/postscript"],["psb","application/vnd.3gpp.pic-bw-small"],["psd","application/x-photoshop"],["psf","application/x-font-linux-psf"],["pskcxml","application/pskc+xml"],["pti","image/prs.pti"],["ptid","application/vnd.pvi.ptid1"],["pub","application/x-mspublisher"],["pvb","application/vnd.3gpp.pic-bw-var"],["pwn","application/vnd.3m.post-it-notes"],["pya","audio/vnd.ms-playready.media.pya"],["pyv","video/vnd.ms-playready.media.pyv"],["qam","application/vnd.epson.quickanime"],["qbo","application/vnd.intu.qbo"],["qfx","application/vnd.intu.qfx"],["qps","application/vnd.publishare-delta-tree"],["qt","video/quicktime"],["qwd","application/vnd.quark.quarkxpress"],["qwt","application/vnd.quark.quarkxpress"],["qxb","application/vnd.quark.quarkxpress"],["qxd","application/vnd.quark.quarkxpress"],["qxl","application/vnd.quark.quarkxpress"],["qxt","application/vnd.quark.quarkxpress"],["ra","audio/x-realaudio"],["ram","audio/x-pn-realaudio"],["raml","application/raml+yaml"],["rapd","application/route-apd+xml"],["rar","application/x-rar"],["ras","image/x-cmu-raster"],["rcprofile","application/vnd.ipunplugged.rcprofile"],["rdf","application/rdf+xml"],["rdz","application/vnd.data-vision.rdz"],["relo","application/p2p-overlay+xml"],["rep","application/vnd.businessobjects"],["res","application/x-dtbresource+xml"],["rgb","image/x-rgb"],["rif","application/reginfo+xml"],["rip","audio/vnd.rip"],["ris","application/x-research-info-systems"],["rl","application/resource-lists+xml"],["rlc","image/vnd.fujixerox.edmics-rlc"],["rld","application/resource-lists-diff+xml"],["rm","audio/x-pn-realaudio"],["rmi","audio/midi"],["rmp","audio/x-pn-realaudio-plugin"],["rms","application/vnd.jcp.javame.midlet-rms"],["rmvb","application/vnd.rn-realmedia-vbr"],["rnc","application/relax-ng-compact-syntax"],["rng","application/xml"],["roa","application/rpki-roa"],["roff","text/troff"],["rp9","application/vnd.cloanto.rp9"],["rpm","audio/x-pn-realaudio-plugin"],["rpss","application/vnd.nokia.radio-presets"],["rpst","application/vnd.nokia.radio-preset"],["rq","application/sparql-query"],["rs","application/rls-services+xml"],["rsa","application/x-pkcs7"],["rsat","application/atsc-rsat+xml"],["rsd","application/rsd+xml"],["rsheet","application/urc-ressheet+xml"],["rss","application/rss+xml"],["rtf","text/rtf"],["rtx","text/richtext"],["run","application/x-makeself"],["rusd","application/route-usd+xml"],["rv","video/vnd.rn-realvideo"],["s","text/x-asm"],["s3m","audio/s3m"],["saf","application/vnd.yamaha.smaf-audio"],["sass","text/x-sass"],["sbml","application/sbml+xml"],["sc","application/vnd.ibm.secure-container"],["scd","application/x-msschedule"],["scm","application/vnd.lotus-screencam"],["scq","application/scvp-cv-request"],["scs","application/scvp-cv-response"],["scss","text/x-scss"],["scurl","text/vnd.curl.scurl"],["sda","application/vnd.stardivision.draw"],["sdc","application/vnd.stardivision.calc"],["sdd","application/vnd.stardivision.impress"],["sdkd","application/vnd.solent.sdkm+xml"],["sdkm","application/vnd.solent.sdkm+xml"],["sdp","application/sdp"],["sdw","application/vnd.stardivision.writer"],["sea","application/octet-stream"],["see","application/vnd.seemail"],["seed","application/vnd.fdsn.seed"],["sema","application/vnd.sema"],["semd","application/vnd.semd"],["semf","application/vnd.semf"],["senmlx","application/senml+xml"],["sensmlx","application/sensml+xml"],["ser","application/java-serialized-object"],["setpay","application/set-payment-initiation"],["setreg","application/set-registration-initiation"],["sfd-hdstx","application/vnd.hydrostatix.sof-data"],["sfs","application/vnd.spotfire.sfs"],["sfv","text/x-sfv"],["sgi","image/sgi"],["sgl","application/vnd.stardivision.writer-global"],["sgm","text/sgml"],["sgml","text/sgml"],["sh","application/x-sh"],["shar","application/x-shar"],["shex","text/shex"],["shf","application/shf+xml"],["shtml","text/html"],["sid","image/x-mrsid-image"],["sieve","application/sieve"],["sig","application/pgp-signature"],["sil","audio/silk"],["silo","model/mesh"],["sis","application/vnd.symbian.install"],["sisx","application/vnd.symbian.install"],["sit","application/x-stuffit"],["sitx","application/x-stuffitx"],["siv","application/sieve"],["skd","application/vnd.koan"],["skm","application/vnd.koan"],["skp","application/vnd.koan"],["skt","application/vnd.koan"],["sldm","application/vnd.ms-powerpoint.slide.macroenabled.12"],["sldx","application/vnd.openxmlformats-officedocument.presentationml.slide"],["slim","text/slim"],["slm","text/slim"],["sls","application/route-s-tsid+xml"],["slt","application/vnd.epson.salt"],["sm","application/vnd.stepmania.stepchart"],["smf","application/vnd.stardivision.math"],["smi","application/smil"],["smil","application/smil"],["smv","video/x-smv"],["smzip","application/vnd.stepmania.package"],["snd","audio/basic"],["snf","application/x-font-snf"],["so","application/octet-stream"],["spc","application/x-pkcs7-certificates"],["spdx","text/spdx"],["spf","application/vnd.yamaha.smaf-phrase"],["spl","application/x-futuresplash"],["spot","text/vnd.in3d.spot"],["spp","application/scvp-vp-response"],["spq","application/scvp-vp-request"],["spx","audio/ogg"],["sql","application/x-sql"],["src","application/x-wais-source"],["srt","application/x-subrip"],["sru","application/sru+xml"],["srx","application/sparql-results+xml"],["ssdl","application/ssdl+xml"],["sse","application/vnd.kodak-descriptor"],["ssf","application/vnd.epson.ssf"],["ssml","application/ssml+xml"],["sst","application/octet-stream"],["st","application/vnd.sailingtracker.track"],["stc","application/vnd.sun.xml.calc.template"],["std","application/vnd.sun.xml.draw.template"],["stf","application/vnd.wt.stf"],["sti","application/vnd.sun.xml.impress.template"],["stk","application/hyperstudio"],["stl","model/stl"],["stpx","model/step+xml"],["stpxz","model/step-xml+zip"],["stpz","model/step+zip"],["str","application/vnd.pg.format"],["stw","application/vnd.sun.xml.writer.template"],["styl","text/stylus"],["stylus","text/stylus"],["sub","text/vnd.dvb.subtitle"],["sus","application/vnd.sus-calendar"],["susp","application/vnd.sus-calendar"],["sv4cpio","application/x-sv4cpio"],["sv4crc","application/x-sv4crc"],["svc","application/vnd.dvb.service"],["svd","application/vnd.svd"],["svg","image/svg+xml"],["svgz","image/svg+xml"],["swa","application/x-director"],["swf","application/x-shockwave-flash"],["swi","application/vnd.aristanetworks.swi"],["swidtag","application/swid+xml"],["sxc","application/vnd.sun.xml.calc"],["sxd","application/vnd.sun.xml.draw"],["sxg","application/vnd.sun.xml.writer.global"],["sxi","application/vnd.sun.xml.impress"],["sxm","application/vnd.sun.xml.math"],["sxw","application/vnd.sun.xml.writer"],["t","text/troff"],["t3","application/x-t3vm-image"],["t38","image/t38"],["taglet","application/vnd.mynfc"],["tao","application/vnd.tao.intent-module-archive"],["tap","image/vnd.tencent.tap"],["tar","application/x-tar"],["tcap","application/vnd.3gpp2.tcap"],["tcl","application/x-tcl"],["td","application/urc-targetdesc+xml"],["teacher","application/vnd.smart.teacher"],["tei","application/tei+xml"],["teicorpus","application/tei+xml"],["tex","application/x-tex"],["texi","application/x-texinfo"],["texinfo","application/x-texinfo"],["text","text/plain"],["tfi","application/thraud+xml"],["tfm","application/x-tex-tfm"],["tfx","image/tiff-fx"],["tga","image/x-tga"],["tgz","application/x-tar"],["thmx","application/vnd.ms-officetheme"],["tif","image/tiff"],["tiff","image/tiff"],["tk","application/x-tcl"],["tmo","application/vnd.tmobile-livetv"],["toml","application/toml"],["torrent","application/x-bittorrent"],["tpl","application/vnd.groove-tool-template"],["tpt","application/vnd.trid.tpt"],["tr","text/troff"],["tra","application/vnd.trueapp"],["trig","application/trig"],["trm","application/x-msterminal"],["ts","video/mp2t"],["tsd","application/timestamped-data"],["tsv","text/tab-separated-values"],["ttc","font/collection"],["ttf","font/ttf"],["ttl","text/turtle"],["ttml","application/ttml+xml"],["twd","application/vnd.simtech-mindmapper"],["twds","application/vnd.simtech-mindmapper"],["txd","application/vnd.genomatix.tuxedo"],["txf","application/vnd.mobius.txf"],["txt","text/plain"],["u8dsn","message/global-delivery-status"],["u8hdr","message/global-headers"],["u8mdn","message/global-disposition-notification"],["u8msg","message/global"],["u32","application/x-authorware-bin"],["ubj","application/ubjson"],["udeb","application/x-debian-package"],["ufd","application/vnd.ufdl"],["ufdl","application/vnd.ufdl"],["ulx","application/x-glulx"],["umj","application/vnd.umajin"],["unityweb","application/vnd.unity"],["uoml","application/vnd.uoml+xml"],["uri","text/uri-list"],["uris","text/uri-list"],["urls","text/uri-list"],["usdz","model/vnd.usdz+zip"],["ustar","application/x-ustar"],["utz","application/vnd.uiq.theme"],["uu","text/x-uuencode"],["uva","audio/vnd.dece.audio"],["uvd","application/vnd.dece.data"],["uvf","application/vnd.dece.data"],["uvg","image/vnd.dece.graphic"],["uvh","video/vnd.dece.hd"],["uvi","image/vnd.dece.graphic"],["uvm","video/vnd.dece.mobile"],["uvp","video/vnd.dece.pd"],["uvs","video/vnd.dece.sd"],["uvt","application/vnd.dece.ttml+xml"],["uvu","video/vnd.uvvu.mp4"],["uvv","video/vnd.dece.video"],["uvva","audio/vnd.dece.audio"],["uvvd","application/vnd.dece.data"],["uvvf","application/vnd.dece.data"],["uvvg","image/vnd.dece.graphic"],["uvvh","video/vnd.dece.hd"],["uvvi","image/vnd.dece.graphic"],["uvvm","video/vnd.dece.mobile"],["uvvp","video/vnd.dece.pd"],["uvvs","video/vnd.dece.sd"],["uvvt","application/vnd.dece.ttml+xml"],["uvvu","video/vnd.uvvu.mp4"],["uvvv","video/vnd.dece.video"],["uvvx","application/vnd.dece.unspecified"],["uvvz","application/vnd.dece.zip"],["uvx","application/vnd.dece.unspecified"],["uvz","application/vnd.dece.zip"],["vbox","application/x-virtualbox-vbox"],["vbox-extpack","application/x-virtualbox-vbox-extpack"],["vcard","text/vcard"],["vcd","application/x-cdlink"],["vcf","text/x-vcard"],["vcg","application/vnd.groove-vcard"],["vcs","text/x-vcalendar"],["vcx","application/vnd.vcx"],["vdi","application/x-virtualbox-vdi"],["vds","model/vnd.sap.vds"],["vhd","application/x-virtualbox-vhd"],["vis","application/vnd.visionary"],["viv","video/vnd.vivo"],["vlc","application/videolan"],["vmdk","application/x-virtualbox-vmdk"],["vob","video/x-ms-vob"],["vor","application/vnd.stardivision.writer"],["vox","application/x-authorware-bin"],["vrml","model/vrml"],["vsd","application/vnd.visio"],["vsf","application/vnd.vsf"],["vss","application/vnd.visio"],["vst","application/vnd.visio"],["vsw","application/vnd.visio"],["vtf","image/vnd.valve.source.texture"],["vtt","text/vtt"],["vtu","model/vnd.vtu"],["vxml","application/voicexml+xml"],["w3d","application/x-director"],["wad","application/x-doom"],["wadl","application/vnd.sun.wadl+xml"],["war","application/java-archive"],["wasm","application/wasm"],["wav","audio/x-wav"],["wax","audio/x-ms-wax"],["wbmp","image/vnd.wap.wbmp"],["wbs","application/vnd.criticaltools.wbs+xml"],["wbxml","application/wbxml"],["wcm","application/vnd.ms-works"],["wdb","application/vnd.ms-works"],["wdp","image/vnd.ms-photo"],["weba","audio/webm"],["webapp","application/x-web-app-manifest+json"],["webm","video/webm"],["webmanifest","application/manifest+json"],["webp","image/webp"],["wg","application/vnd.pmi.widget"],["wgt","application/widget"],["wks","application/vnd.ms-works"],["wm","video/x-ms-wm"],["wma","audio/x-ms-wma"],["wmd","application/x-ms-wmd"],["wmf","image/wmf"],["wml","text/vnd.wap.wml"],["wmlc","application/wmlc"],["wmls","text/vnd.wap.wmlscript"],["wmlsc","application/vnd.wap.wmlscriptc"],["wmv","video/x-ms-wmv"],["wmx","video/x-ms-wmx"],["wmz","application/x-msmetafile"],["woff","font/woff"],["woff2","font/woff2"],["word","application/msword"],["wpd","application/vnd.wordperfect"],["wpl","application/vnd.ms-wpl"],["wps","application/vnd.ms-works"],["wqd","application/vnd.wqd"],["wri","application/x-mswrite"],["wrl","model/vrml"],["wsc","message/vnd.wfa.wsc"],["wsdl","application/wsdl+xml"],["wspolicy","application/wspolicy+xml"],["wtb","application/vnd.webturbo"],["wvx","video/x-ms-wvx"],["x3d","model/x3d+xml"],["x3db","model/x3d+fastinfoset"],["x3dbz","model/x3d+binary"],["x3dv","model/x3d-vrml"],["x3dvz","model/x3d+vrml"],["x3dz","model/x3d+xml"],["x32","application/x-authorware-bin"],["x_b","model/vnd.parasolid.transmit.binary"],["x_t","model/vnd.parasolid.transmit.text"],["xaml","application/xaml+xml"],["xap","application/x-silverlight-app"],["xar","application/vnd.xara"],["xav","application/xcap-att+xml"],["xbap","application/x-ms-xbap"],["xbd","application/vnd.fujixerox.docuworks.binder"],["xbm","image/x-xbitmap"],["xca","application/xcap-caps+xml"],["xcs","application/calendar+xml"],["xdf","application/xcap-diff+xml"],["xdm","application/vnd.syncml.dm+xml"],["xdp","application/vnd.adobe.xdp+xml"],["xdssc","application/dssc+xml"],["xdw","application/vnd.fujixerox.docuworks"],["xel","application/xcap-el+xml"],["xenc","application/xenc+xml"],["xer","application/patch-ops-error+xml"],["xfdf","application/vnd.adobe.xfdf"],["xfdl","application/vnd.xfdl"],["xht","application/xhtml+xml"],["xhtml","application/xhtml+xml"],["xhvml","application/xv+xml"],["xif","image/vnd.xiff"],["xl","application/excel"],["xla","application/vnd.ms-excel"],["xlam","application/vnd.ms-excel.addin.macroEnabled.12"],["xlc","application/vnd.ms-excel"],["xlf","application/xliff+xml"],["xlm","application/vnd.ms-excel"],["xls","application/vnd.ms-excel"],["xlsb","application/vnd.ms-excel.sheet.binary.macroEnabled.12"],["xlsm","application/vnd.ms-excel.sheet.macroEnabled.12"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xlt","application/vnd.ms-excel"],["xltm","application/vnd.ms-excel.template.macroEnabled.12"],["xltx","application/vnd.openxmlformats-officedocument.spreadsheetml.template"],["xlw","application/vnd.ms-excel"],["xm","audio/xm"],["xml","application/xml"],["xns","application/xcap-ns+xml"],["xo","application/vnd.olpc-sugar"],["xop","application/xop+xml"],["xpi","application/x-xpinstall"],["xpl","application/xproc+xml"],["xpm","image/x-xpixmap"],["xpr","application/vnd.is-xpr"],["xps","application/vnd.ms-xpsdocument"],["xpw","application/vnd.intercon.formnet"],["xpx","application/vnd.intercon.formnet"],["xsd","application/xml"],["xsl","application/xml"],["xslt","application/xslt+xml"],["xsm","application/vnd.syncml+xml"],["xspf","application/xspf+xml"],["xul","application/vnd.mozilla.xul+xml"],["xvm","application/xv+xml"],["xvml","application/xv+xml"],["xwd","image/x-xwindowdump"],["xyz","chemical/x-xyz"],["xz","application/x-xz"],["yaml","text/yaml"],["yang","application/yang"],["yin","application/yin+xml"],["yml","text/yaml"],["ymp","text/x-suse-ymp"],["z","application/x-compress"],["z1","application/x-zmachine"],["z2","application/x-zmachine"],["z3","application/x-zmachine"],["z4","application/x-zmachine"],["z5","application/x-zmachine"],["z6","application/x-zmachine"],["z7","application/x-zmachine"],["z8","application/x-zmachine"],["zaz","application/vnd.zzazz.deck+xml"],["zip","application/zip"],["zir","application/vnd.zul"],["zirz","application/vnd.zul"],["zmm","application/vnd.handheld-entertainment+xml"],["zsh","text/x-scriptzsh"]]);function Sf(e,t,r){const s=ote(e),{webkitRelativePath:a}=e,i=typeof t=="string"?t:typeof a=="string"&&a.length>0?a:`./${e.name}`;return typeof s.path!="string"&&u_(s,"path",i),r!==void 0&&Object.defineProperty(s,"handle",{value:r,writable:!1,configurable:!1,enumerable:!0}),u_(s,"relativePath",i),s}function ote(e){const{name:t}=e;if(t&&t.lastIndexOf(".")!==-1&&!e.type){const s=t.split(".").pop().toLowerCase(),a=ite.get(s);a&&Object.defineProperty(e,"type",{value:a,writable:!1,configurable:!1,enumerable:!0})}return e}function u_(e,t,r){Object.defineProperty(e,t,{value:r,writable:!1,configurable:!1,enumerable:!0})}const lte=[".DS_Store","Thumbs.db"];function cte(e){return _u(this,void 0,void 0,function*(){return Yy(e)&&dte(e.dataTransfer)?mte(e.dataTransfer,e.type):ute(e)?hte(e):Array.isArray(e)&&e.every(t=>"getFile"in t&&typeof t.getFile=="function")?fte(e):[]})}function dte(e){return Yy(e)}function ute(e){return Yy(e)&&Yy(e.target)}function Yy(e){return typeof e=="object"&&e!==null}function hte(e){return oS(e.target.files).map(t=>Sf(t))}function fte(e){return _u(this,void 0,void 0,function*(){return(yield Promise.all(e.map(r=>r.getFile()))).map(r=>Sf(r))})}function mte(e,t){return _u(this,void 0,void 0,function*(){if(e.items){const r=oS(e.items).filter(a=>a.kind==="file");if(t!=="drop")return r;const s=yield Promise.all(r.map(pte));return h_(f7(s))}return h_(oS(e.files).map(r=>Sf(r)))})}function h_(e){return e.filter(t=>lte.indexOf(t.name)===-1)}function oS(e){if(e===null)return[];const t=[];for(let r=0;r<e.length;r++){const s=e[r];t.push(s)}return t}function pte(e){if(typeof e.webkitGetAsEntry!="function")return f_(e);const t=e.webkitGetAsEntry();return t&&t.isDirectory?m7(t):f_(e,t)}function f7(e){return e.reduce((t,r)=>[...t,...Array.isArray(r)?f7(r):[r]],[])}function f_(e,t){return _u(this,void 0,void 0,function*(){var r;if(globalThis.isSecureContext&&typeof e.getAsFileSystemHandle=="function"){const i=yield e.getAsFileSystemHandle();if(i===null)throw new Error(`${e} is not a File`);if(i!==void 0){const o=yield i.getFile();return o.handle=i,Sf(o)}}const s=e.getAsFile();if(!s)throw new Error(`${e} is not a File`);return Sf(s,(r=t==null?void 0:t.fullPath)!==null&&r!==void 0?r:void 0)})}function vte(e){return _u(this,void 0,void 0,function*(){return e.isDirectory?m7(e):gte(e)})}function m7(e){const t=e.createReader();return new Promise((r,s)=>{const a=[];function i(){t.readEntries(o=>_u(this,void 0,void 0,function*(){if(o.length){const l=Promise.all(o.map(vte));a.push(l),i()}else try{const l=yield Promise.all(a);r(l)}catch(l){s(l)}}),o=>{s(o)})}i()})}function gte(e){return _u(this,void 0,void 0,function*(){return new Promise((t,r)=>{e.file(s=>{const a=Sf(s,e.fullPath);t(a)},s=>{r(s)})})})}var F2=function(e,t){if(e&&t){var r=Array.isArray(t)?t:t.split(",");if(r.length===0)return!0;var s=e.name||"",a=(e.type||"").toLowerCase(),i=a.replace(/\/.*$/,"");return r.some(function(o){var l=o.trim().toLowerCase();return l.charAt(0)==="."?s.toLowerCase().endsWith(l):l.endsWith("/*")?i===l.replace(/\/.*$/,""):a===l})}return!0};function m_(e){return bte(e)||yte(e)||v7(e)||xte()}function xte(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function yte(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function bte(e){if(Array.isArray(e))return lS(e)}function p_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function v_(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?p_(Object(r),!0).forEach(function(s){p7(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p_(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function p7(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Rv(e,t){return Nte(e)||wte(e,t)||v7(e,t)||jte()}function jte(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function v7(e,t){if(e){if(typeof e=="string")return lS(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return lS(e,t)}}function lS(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,s=new Array(t);r<t;r++)s[r]=e[r];return s}function wte(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var s=[],a=!0,i=!1,o,l;try{for(r=r.call(e);!(a=(o=r.next()).done)&&(s.push(o.value),!(t&&s.length===t));a=!0);}catch(c){i=!0,l=c}finally{try{!a&&r.return!=null&&r.return()}finally{if(i)throw l}}return s}}function Nte(e){if(Array.isArray(e))return e}var Ste=typeof F2=="function"?F2:F2.default,Cte="file-invalid-type",Ate="file-too-large",Ete="file-too-small",Pte="too-many-files",Tte=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",r=t.split(","),s=r.length>1?"one of ".concat(r.join(", ")):r[0];return{code:Cte,message:"File type must be ".concat(s)}},g_=function(t){return{code:Ate,message:"File is larger than ".concat(t," ").concat(t===1?"byte":"bytes")}},x_=function(t){return{code:Ete,message:"File is smaller than ".concat(t," ").concat(t===1?"byte":"bytes")}},_te={code:Pte,message:"Too many files"};function g7(e,t){var r=e.type==="application/x-moz-file"||Ste(e,t);return[r,r?null:Tte(t)]}function x7(e,t,r){if(zd(e.size))if(zd(t)&&zd(r)){if(e.size>r)return[!1,g_(r)];if(e.size<t)return[!1,x_(t)]}else{if(zd(t)&&e.size<t)return[!1,x_(t)];if(zd(r)&&e.size>r)return[!1,g_(r)]}return[!0,null]}function zd(e){return e!=null}function Ite(e){var t=e.files,r=e.accept,s=e.minSize,a=e.maxSize,i=e.multiple,o=e.maxFiles,l=e.validator;return!i&&t.length>1||i&&o>=1&&t.length>o?!1:t.every(function(c){var d=g7(c,r),h=Rv(d,1),u=h[0],f=x7(c,s,a),m=Rv(f,1),v=m[0],x=l?l(c):null;return u&&v&&!x})}function Xy(e){return typeof e.isPropagationStopped=="function"?e.isPropagationStopped():typeof e.cancelBubble<"u"?e.cancelBubble:!1}function j0(e){return e.dataTransfer?Array.prototype.some.call(e.dataTransfer.types,function(t){return t==="Files"||t==="application/x-moz-file"}):!!e.target&&!!e.target.files}function y_(e){e.preventDefault()}function kte(e){return e.indexOf("MSIE")!==-1||e.indexOf("Trident/")!==-1}function Dte(e){return e.indexOf("Edge/")!==-1}function Ote(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window.navigator.userAgent;return kte(e)||Dte(e)}function wo(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(s){for(var a=arguments.length,i=new Array(a>1?a-1:0),o=1;o<a;o++)i[o-1]=arguments[o];return t.some(function(l){return!Xy(s)&&l&&l.apply(void 0,[s].concat(i)),Xy(s)})}}function Lte(){return"showOpenFilePicker"in window}function Rte(e){if(zd(e)){var t=Object.entries(e).filter(function(r){var s=Rv(r,2),a=s[0],i=s[1],o=!0;return y7(a)||(console.warn('Skipped "'.concat(a,'" because it is not a valid MIME type. Check https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_types/Common_types for a list of valid MIME types.')),o=!1),(!Array.isArray(i)||!i.every(b7))&&(console.warn('Skipped "'.concat(a,'" because an invalid file extension was provided.')),o=!1),o}).reduce(function(r,s){var a=Rv(s,2),i=a[0],o=a[1];return v_(v_({},r),{},p7({},i,o))},{});return[{description:"Files",accept:t}]}return e}function Fte(e){if(zd(e))return Object.entries(e).reduce(function(t,r){var s=Rv(r,2),a=s[0],i=s[1];return[].concat(m_(t),[a],m_(i))},[]).filter(function(t){return y7(t)||b7(t)}).join(",")}function $te(e){return e instanceof DOMException&&(e.name==="AbortError"||e.code===e.ABORT_ERR)}function Mte(e){return e instanceof DOMException&&(e.name==="SecurityError"||e.code===e.SECURITY_ERR)}function y7(e){return e==="audio/*"||e==="video/*"||e==="image/*"||e==="text/*"||e==="application/*"||/\w+\/[-+.\w]+/g.test(e)}function b7(e){return/^.*\.[\w]+$/.test(e)}var Bte=["children"],zte=["open"],Ute=["refKey","role","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"],Vte=["refKey","onChange","onClick"];function qte(e){return Gte(e)||Hte(e)||j7(e)||Wte()}function Wte(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Hte(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Gte(e){if(Array.isArray(e))return cS(e)}function $2(e,t){return Xte(e)||Yte(e,t)||j7(e,t)||Kte()}function Kte(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function j7(e,t){if(e){if(typeof e=="string")return cS(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return cS(e,t)}}function cS(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,s=new Array(t);r<t;r++)s[r]=e[r];return s}function Yte(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var s=[],a=!0,i=!1,o,l;try{for(r=r.call(e);!(a=(o=r.next()).done)&&(s.push(o.value),!(t&&s.length===t));a=!0);}catch(c){i=!0,l=c}finally{try{!a&&r.return!=null&&r.return()}finally{if(i)throw l}}return s}}function Xte(e){if(Array.isArray(e))return e}function b_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function un(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?b_(Object(r),!0).forEach(function(s){dS(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):b_(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function dS(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Qy(e,t){if(e==null)return{};var r=Qte(e,t),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(r[s]=e[s])}return r}function Qte(e,t){if(e==null)return{};var r={},s=Object.keys(e),a,i;for(i=0;i<s.length;i++)a=s[i],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}var L4=C.forwardRef(function(e,t){var r=e.children,s=Qy(e,Bte),a=Rg(s),i=a.open,o=Qy(a,zte);return C.useImperativeHandle(t,function(){return{open:i}},[i]),pe.createElement(C.Fragment,null,r(un(un({},o),{},{open:i})))});L4.displayName="Dropzone";var w7={disabled:!1,getFilesFromEvent:cte,maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1,validator:null,useFsAccessApi:!1,autoFocus:!1};L4.defaultProps=w7;L4.propTypes={children:Ct.func,accept:Ct.objectOf(Ct.arrayOf(Ct.string)),multiple:Ct.bool,preventDropOnDocument:Ct.bool,noClick:Ct.bool,noKeyboard:Ct.bool,noDrag:Ct.bool,noDragEventsBubbling:Ct.bool,minSize:Ct.number,maxSize:Ct.number,maxFiles:Ct.number,disabled:Ct.bool,getFilesFromEvent:Ct.func,onFileDialogCancel:Ct.func,onFileDialogOpen:Ct.func,useFsAccessApi:Ct.bool,autoFocus:Ct.bool,onDragEnter:Ct.func,onDragLeave:Ct.func,onDragOver:Ct.func,onDrop:Ct.func,onDropAccepted:Ct.func,onDropRejected:Ct.func,onError:Ct.func,validator:Ct.func};var uS={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,acceptedFiles:[],fileRejections:[]};function Rg(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=un(un({},w7),e),r=t.accept,s=t.disabled,a=t.getFilesFromEvent,i=t.maxSize,o=t.minSize,l=t.multiple,c=t.maxFiles,d=t.onDragEnter,h=t.onDragLeave,u=t.onDragOver,f=t.onDrop,m=t.onDropAccepted,v=t.onDropRejected,x=t.onFileDialogCancel,p=t.onFileDialogOpen,g=t.useFsAccessApi,b=t.autoFocus,y=t.preventDropOnDocument,j=t.noClick,E=t.noKeyboard,S=t.noDrag,N=t.noDragEventsBubbling,w=t.onError,_=t.validator,k=C.useMemo(function(){return Fte(r)},[r]),T=C.useMemo(function(){return Rte(r)},[r]),A=C.useMemo(function(){return typeof p=="function"?p:j_},[p]),O=C.useMemo(function(){return typeof x=="function"?x:j_},[x]),D=C.useRef(null),F=C.useRef(null),M=C.useReducer(Jte,uS),R=$2(M,2),B=R[0],U=R[1],H=B.isFocused,q=B.isFileDialogActive,L=C.useRef(typeof window<"u"&&window.isSecureContext&&g&&Lte()),V=function(){!L.current&&q&&setTimeout(function(){if(F.current){var Ze=F.current.files;Ze.length||(U({type:"closeDialog"}),O())}},300)};C.useEffect(function(){return window.addEventListener("focus",V,!1),function(){window.removeEventListener("focus",V,!1)}},[F,q,O,L]);var G=C.useRef([]),Z=function(Ze){D.current&&D.current.contains(Ze.target)||(Ze.preventDefault(),G.current=[])};C.useEffect(function(){return y&&(document.addEventListener("dragover",y_,!1),document.addEventListener("drop",Z,!1)),function(){y&&(document.removeEventListener("dragover",y_),document.removeEventListener("drop",Z))}},[D,y]),C.useEffect(function(){return!s&&b&&D.current&&D.current.focus(),function(){}},[D,b,s]);var te=C.useCallback(function(Me){w?w(Me):console.error(Me)},[w]),he=C.useCallback(function(Me){Me.preventDefault(),Me.persist(),Fe(Me),G.current=[].concat(qte(G.current),[Me.target]),j0(Me)&&Promise.resolve(a(Me)).then(function(Ze){if(!(Xy(Me)&&!N)){var ht=Ze.length,xt=ht>0&&Ite({files:Ze,accept:k,minSize:o,maxSize:i,multiple:l,maxFiles:c,validator:_}),kt=ht>0&&!xt;U({isDragAccept:xt,isDragReject:kt,isDragActive:!0,type:"setDraggedFiles"}),d&&d(Me)}}).catch(function(Ze){return te(Ze)})},[a,d,te,N,k,o,i,l,c,_]),fe=C.useCallback(function(Me){Me.preventDefault(),Me.persist(),Fe(Me);var Ze=j0(Me);if(Ze&&Me.dataTransfer)try{Me.dataTransfer.dropEffect="copy"}catch{}return Ze&&u&&u(Me),!1},[u,N]),oe=C.useCallback(function(Me){Me.preventDefault(),Me.persist(),Fe(Me);var Ze=G.current.filter(function(xt){return D.current&&D.current.contains(xt)}),ht=Ze.indexOf(Me.target);ht!==-1&&Ze.splice(ht,1),G.current=Ze,!(Ze.length>0)&&(U({type:"setDraggedFiles",isDragActive:!1,isDragAccept:!1,isDragReject:!1}),j0(Me)&&h&&h(Me))},[D,h,N]),we=C.useCallback(function(Me,Ze){var ht=[],xt=[];Me.forEach(function(kt){var St=g7(kt,k),Bt=$2(St,2),lt=Bt[0],jr=Bt[1],Xt=x7(kt,o,i),qn=$2(Xt,2),wr=qn[0],kr=qn[1],na=_?_(kt):null;if(lt&&wr&&!na)ht.push(kt);else{var dr=[jr,kr];na&&(dr=dr.concat(na)),xt.push({file:kt,errors:dr.filter(function(Jo){return Jo})})}}),(!l&&ht.length>1||l&&c>=1&&ht.length>c)&&(ht.forEach(function(kt){xt.push({file:kt,errors:[_te]})}),ht.splice(0)),U({acceptedFiles:ht,fileRejections:xt,isDragReject:xt.length>0,type:"setFiles"}),f&&f(ht,xt,Ze),xt.length>0&&v&&v(xt,Ze),ht.length>0&&m&&m(ht,Ze)},[U,l,k,o,i,c,f,m,v,_]),je=C.useCallback(function(Me){Me.preventDefault(),Me.persist(),Fe(Me),G.current=[],j0(Me)&&Promise.resolve(a(Me)).then(function(Ze){Xy(Me)&&!N||we(Ze,Me)}).catch(function(Ze){return te(Ze)}),U({type:"reset"})},[a,we,te,N]),ve=C.useCallback(function(){if(L.current){U({type:"openDialog"}),A();var Me={multiple:l,types:T};window.showOpenFilePicker(Me).then(function(Ze){return a(Ze)}).then(function(Ze){we(Ze,null),U({type:"closeDialog"})}).catch(function(Ze){$te(Ze)?(O(Ze),U({type:"closeDialog"})):Mte(Ze)?(L.current=!1,F.current?(F.current.value=null,F.current.click()):te(new Error("Cannot open the file picker because the https://developer.mozilla.org/en-US/docs/Web/API/File_System_Access_API is not supported and no <input> was provided."))):te(Ze)});return}F.current&&(U({type:"openDialog"}),A(),F.current.value=null,F.current.click())},[U,A,O,g,we,te,T,l]),Le=C.useCallback(function(Me){!D.current||!D.current.isEqualNode(Me.target)||(Me.key===" "||Me.key==="Enter"||Me.keyCode===32||Me.keyCode===13)&&(Me.preventDefault(),ve())},[D,ve]),ge=C.useCallback(function(){U({type:"focus"})},[]),le=C.useCallback(function(){U({type:"blur"})},[]),re=C.useCallback(function(){j||(Ote()?setTimeout(ve,0):ve())},[j,ve]),Ce=function(Ze){return s?null:Ze},Ne=function(Ze){return E?null:Ce(Ze)},xe=function(Ze){return S?null:Ce(Ze)},Fe=function(Ze){N&&Ze.stopPropagation()},nt=C.useMemo(function(){return function(){var Me=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Ze=Me.refKey,ht=Ze===void 0?"ref":Ze,xt=Me.role,kt=Me.onKeyDown,St=Me.onFocus,Bt=Me.onBlur,lt=Me.onClick,jr=Me.onDragEnter,Xt=Me.onDragOver,qn=Me.onDragLeave,wr=Me.onDrop,kr=Qy(Me,Ute);return un(un(dS({onKeyDown:Ne(wo(kt,Le)),onFocus:Ne(wo(St,ge)),onBlur:Ne(wo(Bt,le)),onClick:Ce(wo(lt,re)),onDragEnter:xe(wo(jr,he)),onDragOver:xe(wo(Xt,fe)),onDragLeave:xe(wo(qn,oe)),onDrop:xe(wo(wr,je)),role:typeof xt=="string"&&xt!==""?xt:"presentation"},ht,D),!s&&!E?{tabIndex:0}:{}),kr)}},[D,Le,ge,le,re,he,fe,oe,je,E,S,s]),rt=C.useCallback(function(Me){Me.stopPropagation()},[]),gt=C.useMemo(function(){return function(){var Me=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Ze=Me.refKey,ht=Ze===void 0?"ref":Ze,xt=Me.onChange,kt=Me.onClick,St=Qy(Me,Vte),Bt=dS({accept:k,multiple:l,type:"file",style:{border:0,clip:"rect(0, 0, 0, 0)",clipPath:"inset(50%)",height:"1px",margin:"0 -1px -1px 0",overflow:"hidden",padding:0,position:"absolute",width:"1px",whiteSpace:"nowrap"},onChange:Ce(wo(xt,je)),onClick:Ce(wo(kt,rt)),tabIndex:-1},ht,F);return un(un({},Bt),St)}},[F,r,l,je,s]);return un(un({},B),{},{isFocused:H&&!s,getRootProps:nt,getInputProps:gt,rootRef:D,inputRef:F,open:Ce(ve)})}function Jte(e,t){switch(t.type){case"focus":return un(un({},e),{},{isFocused:!0});case"blur":return un(un({},e),{},{isFocused:!1});case"openDialog":return un(un({},uS),{},{isFileDialogActive:!0});case"closeDialog":return un(un({},e),{},{isFileDialogActive:!1});case"setDraggedFiles":return un(un({},e),{},{isDragActive:t.isDragActive,isDragAccept:t.isDragAccept,isDragReject:t.isDragReject});case"setFiles":return un(un({},e),{},{acceptedFiles:t.acceptedFiles,fileRejections:t.fileRejections,isDragReject:t.isDragReject});case"reset":return un({},uS);default:return e}}function j_(){}function Zte({vehicle:e,onSave:t,onCancel:r,onScanBarcode:s}){var w,_,k,T,A,O,D,F,M,R,B,U,H,q,L,V,G,Z,te,he,fe,oe,we,je,ve,Le;const{toast:a}=At(),[i,o]=C.useState(!1),[l,c]=C.useState({vin:"",make:"",model:"",year:new Date().getFullYear(),type:vt.RV,status:Yt.AVAILABLE,price:0,cost:0,location:"",features:[],images:[],customFields:{videos:[],exteriorColor:"",interiorColor:"",length:"",weight:"",sleeps:"",slideouts:"",fuelType:"",mileage:"",condition:"New"}}),[d,h]=C.useState(""),[u,f]=C.useState(""),[m,v]=C.useState(!1);C.useEffect(()=>{e&&c({...e,customFields:{...e.customFields,videos:e.customFields.videos||[]}})},[e]);const{getRootProps:x,getInputProps:p}=Rg({accept:{"image/*":[]},onDrop:ge=>{const le=ge.map(re=>URL.createObjectURL(re));c(re=>({...re,images:[...re.images||[],...le]})),a({title:"Images Added",description:`Added ${ge.length} images`})}}),g=async ge=>{if(ge.preventDefault(),!l.vin||!l.make||!l.model||!l.year){a({title:"Validation Error",description:"Please fill in all required fields",variant:"destructive"});return}o(!0);try{await t(l),a({title:"Success",description:`Vehicle ${e?"updated":"created"} successfully`})}catch{a({title:"Error",description:`Failed to ${e?"update":"create"} vehicle`,variant:"destructive"})}finally{o(!1)}},b=()=>{var ge;d.trim()&&!((ge=l.features)!=null&&ge.includes(d.trim()))&&(c(le=>({...le,features:[...le.features||[],d.trim()]})),h(""))},y=ge=>{c(le=>{var re;return{...le,features:((re=le.features)==null?void 0:re.filter(Ce=>Ce!==ge))||[]}})},j=()=>{u.trim()&&(c(ge=>{var le;return{...ge,customFields:{...ge.customFields,videos:[...((le=ge.customFields)==null?void 0:le.videos)||[],u.trim()]}}}),f(""))},E=ge=>{c(le=>{var re,Ce;return{...le,customFields:{...le.customFields,videos:((Ce=(re=le.customFields)==null?void 0:re.videos)==null?void 0:Ce.filter(Ne=>Ne!==ge))||[]}}})},S=ge=>{c(le=>{var re;return{...le,images:((re=le.images)==null?void 0:re.filter(Ce=>Ce!==ge))||[]}})},N=ge=>{ge.length===17?(c(le=>({...le,vin:ge})),a({title:"Barcode Scanned",description:`VIN: ${ge}`}),v(!1)):a({title:"Invalid Barcode",description:"The scanned barcode does not appear to be a valid VIN",variant:"destructive"})};return n.jsxs("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:[n.jsxs(de,{className:"w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[n.jsx(ye,{children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx(be,{children:e?"Edit Vehicle":"Add New Home"}),n.jsx($e,{children:e?"Update vehicle details":"Add a new home to inventory"})]}),n.jsx(J,{variant:"ghost",size:"sm",onClick:r,children:n.jsx(Ut,{className:"h-4 w-4"})})]})}),n.jsx(ue,{children:n.jsxs("form",{onSubmit:g,className:"space-y-6",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-lg font-semibold",children:"Basic Information"}),n.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"vin",children:"VIN *"}),n.jsxs("div",{className:"flex",children:[n.jsx(Pe,{id:"vin",value:l.vin,onChange:ge=>c(le=>({...le,vin:ge.target.value})),placeholder:"Vehicle Identification Number",className:"flex-1"}),n.jsx(J,{type:"button",variant:"outline",className:"ml-2",onClick:()=>v(!0),children:n.jsx(f$,{className:"h-4 w-4"})})]})]}),n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"year",children:"Year *"}),n.jsx(Pe,{id:"year",type:"number",value:l.year,onChange:ge=>c(le=>({...le,year:parseInt(ge.target.value)||new Date().getFullYear()})),min:"1900",max:new Date().getFullYear()+1})]})]}),n.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"make",children:"Make *"}),n.jsx(Pe,{id:"make",value:l.make,onChange:ge=>c(le=>({...le,make:ge.target.value})),placeholder:"e.g., Forest River, Winnebago"})]}),n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"model",children:"Model *"}),n.jsx(Pe,{id:"model",value:l.model,onChange:ge=>c(le=>({...le,model:ge.target.value})),placeholder:"e.g., Georgetown, View"})]})]}),n.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"type",children:"Type"}),n.jsxs(Ve,{value:l.type,onValueChange:ge=>c(le=>({...le,type:ge})),children:[n.jsx(ze,{children:n.jsx(qe,{})}),n.jsxs(Ue,{children:[n.jsx(K,{value:vt.RV,children:"RV"}),n.jsx(K,{value:vt.MOTORHOME,children:"Motorhome"}),n.jsx(K,{value:vt.TRAVEL_TRAILER,children:"Travel Trailer"}),n.jsx(K,{value:vt.FIFTH_WHEEL,children:"Fifth Wheel"}),n.jsx(K,{value:vt.TOY_HAULER,children:"Toy Hauler"}),n.jsx(K,{value:vt.SINGLE_WIDE,children:"Single Wide MH"}),n.jsx(K,{value:vt.DOUBLE_WIDE,children:"Double Wide MH"}),n.jsx(K,{value:vt.TRIPLE_WIDE,children:"Triple Wide MH"}),n.jsx(K,{value:vt.PARK_MODEL,children:"Park Model"}),n.jsx(K,{value:vt.MODULAR_HOME,children:"Modular Home"})]})]})]}),n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"status",children:"Status"}),n.jsxs(Ve,{value:l.status,onValueChange:ge=>c(le=>({...le,status:ge})),children:[n.jsx(ze,{children:n.jsx(qe,{})}),n.jsxs(Ue,{children:[n.jsx(K,{value:Yt.AVAILABLE,children:"Available"}),n.jsx(K,{value:Yt.RESERVED,children:"Reserved"}),n.jsx(K,{value:Yt.SOLD,children:"Sold"}),n.jsx(K,{value:Yt.SERVICE,children:"Service"}),n.jsx(K,{value:Yt.DELIVERED,children:"Delivered"})]})]})]}),n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"location",children:"Location"}),n.jsx(Pe,{id:"location",value:l.location,onChange:ge=>c(le=>({...le,location:ge.target.value})),placeholder:"e.g., Lot A-15"})]})]}),n.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"price",children:"Price *"}),n.jsx(Pe,{id:"price",type:"number",value:l.price,onChange:ge=>c(le=>({...le,price:parseFloat(ge.target.value)||0})),min:"0",step:"0.01"})]}),n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"cost",children:"Cost *"}),n.jsx(Pe,{id:"cost",type:"number",value:l.cost,onChange:ge=>c(le=>({...le,cost:parseFloat(ge.target.value)||0})),min:"0",step:"0.01"})]})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-lg font-semibold",children:"Features"}),n.jsxs("div",{className:"flex space-x-2",children:[n.jsx(Pe,{value:d,onChange:ge=>h(ge.target.value),placeholder:"Add a feature",onKeyDown:ge=>{ge.key==="Enter"&&(ge.preventDefault(),b())}}),n.jsx(J,{type:"button",onClick:b,children:n.jsx(Nt,{className:"h-4 w-4"})})]}),n.jsxs("div",{className:"flex flex-wrap gap-2",children:[(w=l.features)==null?void 0:w.map((ge,le)=>n.jsxs(Re,{variant:"secondary",className:"flex items-center gap-1",children:[ge,n.jsx(Ut,{className:"h-3 w-3 cursor-pointer",onClick:()=>y(ge)})]},le)),(!l.features||l.features.length===0)&&n.jsx("div",{className:"text-sm text-muted-foreground",children:"No features added yet"})]})]}),(l.type===vt.SINGLE_WIDE||l.type===vt.DOUBLE_WIDE||l.type===vt.TRIPLE_WIDE||l.type===vt.PARK_MODEL||l.type===vt.MODULAR_HOME)&&n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-lg font-semibold",children:"Manufactured Housing Details"}),n.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"squareFootage",children:"Square Footage"}),n.jsx(Pe,{id:"squareFootage",value:((_=l.customFields)==null?void 0:_.squareFootage)||"",onChange:ge=>c(le=>({...le,customFields:{...le.customFields,squareFootage:ge.target.value}})),placeholder:"e.g., 1200"})]}),n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"bedrooms",children:"Bedrooms"}),n.jsxs(Ve,{value:((k=l.customFields)==null?void 0:k.bedrooms)||"",onValueChange:ge=>c(le=>({...le,customFields:{...le.customFields,bedrooms:ge}})),children:[n.jsx(ze,{children:n.jsx(qe,{placeholder:"Select number"})}),n.jsxs(Ue,{children:[n.jsx(K,{value:"1",children:"1"}),n.jsx(K,{value:"2",children:"2"}),n.jsx(K,{value:"3",children:"3"}),n.jsx(K,{value:"4",children:"4"}),n.jsx(K,{value:"5+",children:"5+"})]})]})]}),n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"bathrooms",children:"Bathrooms"}),n.jsxs(Ve,{value:((T=l.customFields)==null?void 0:T.bathrooms)||"",onValueChange:ge=>c(le=>({...le,customFields:{...le.customFields,bathrooms:ge}})),children:[n.jsx(ze,{children:n.jsx(qe,{placeholder:"Select number"})}),n.jsxs(Ue,{children:[n.jsx(K,{value:"1",children:"1"}),n.jsx(K,{value:"1.5",children:"1.5"}),n.jsx(K,{value:"2",children:"2"}),n.jsx(K,{value:"2.5",children:"2.5"}),n.jsx(K,{value:"3",children:"3"}),n.jsx(K,{value:"3+",children:"3+"})]})]})]}),n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"constructionType",children:"Construction Type"}),n.jsxs(Ve,{value:((A=l.customFields)==null?void 0:A.constructionType)||"",onValueChange:ge=>c(le=>({...le,customFields:{...le.customFields,constructionType:ge}})),children:[n.jsx(ze,{children:n.jsx(qe,{placeholder:"Select type"})}),n.jsxs(Ue,{children:[n.jsx(K,{value:"Manufactured",children:"Manufactured"}),n.jsx(K,{value:"Modular",children:"Modular"}),n.jsx(K,{value:"Park Model",children:"Park Model"})]})]})]}),n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"exteriorSiding",children:"Exterior Siding"}),n.jsx(Pe,{id:"exteriorSiding",value:((O=l.customFields)==null?void 0:O.exteriorSiding)||"",onChange:ge=>c(le=>({...le,customFields:{...le.customFields,exteriorSiding:ge.target.value}})),placeholder:"e.g., Vinyl, Hardiplank"})]}),n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"roofType",children:"Roof Type"}),n.jsx(Pe,{id:"roofType",value:((D=l.customFields)==null?void 0:D.roofType)||"",onChange:ge=>c(le=>({...le,customFields:{...le.customFields,roofType:ge.target.value}})),placeholder:"e.g., Shingle, Metal"})]})]})]}),(l.type===vt.SINGLE_WIDE||l.type===vt.DOUBLE_WIDE||l.type===vt.TRIPLE_WIDE||l.type===vt.PARK_MODEL||l.type===vt.MODULAR_HOME)&&n.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"squareFootage",children:"Square Footage"}),n.jsx(Pe,{id:"squareFootage",value:((F=l.customFields)==null?void 0:F.squareFootage)||"",onChange:ge=>c(le=>({...le,customFields:{...le.customFields,squareFootage:ge.target.value}}))})]}),n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"constructionType",children:"Construction Type"}),n.jsxs(Ve,{value:((M=l.customFields)==null?void 0:M.constructionType)||"",onValueChange:ge=>c(le=>({...le,customFields:{...le.customFields,constructionType:ge}})),children:[n.jsx(ze,{children:n.jsx(qe,{placeholder:"Select type"})}),n.jsxs(Ue,{children:[n.jsx(K,{value:"Manufactured",children:"Manufactured"}),n.jsx(K,{value:"Modular",children:"Modular"}),n.jsx(K,{value:"Park Model",children:"Park Model"})]})]})]}),n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"bedrooms",children:"Bedrooms"}),n.jsxs(Ve,{value:((R=l.customFields)==null?void 0:R.bedrooms)||"",onValueChange:ge=>c(le=>({...le,customFields:{...le.customFields,bedrooms:ge}})),children:[n.jsx(ze,{children:n.jsx(qe,{placeholder:"Select number"})}),n.jsxs(Ue,{children:[n.jsx(K,{value:"1",children:"1"}),n.jsx(K,{value:"2",children:"2"}),n.jsx(K,{value:"3",children:"3"}),n.jsx(K,{value:"4",children:"4"}),n.jsx(K,{value:"5+",children:"5+"})]})]})]}),n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"bathrooms",children:"Bathrooms"}),n.jsxs(Ve,{value:((B=l.customFields)==null?void 0:B.bathrooms)||"",onValueChange:ge=>c(le=>({...le,customFields:{...le.customFields,bathrooms:ge}})),children:[n.jsx(ze,{children:n.jsx(qe,{placeholder:"Select number"})}),n.jsxs(Ue,{children:[n.jsx(K,{value:"1",children:"1"}),n.jsx(K,{value:"1.5",children:"1.5"}),n.jsx(K,{value:"2",children:"2"}),n.jsx(K,{value:"2.5",children:"2.5"}),n.jsx(K,{value:"3",children:"3"}),n.jsx(K,{value:"3+",children:"3+"})]})]})]}),n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"exteriorSiding",children:"Exterior Siding"}),n.jsx(Pe,{id:"exteriorSiding",value:((U=l.customFields)==null?void 0:U.exteriorSiding)||"",onChange:ge=>c(le=>({...le,customFields:{...le.customFields,exteriorSiding:ge.target.value}}))})]}),n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"roofType",children:"Roof Type"}),n.jsx(Pe,{id:"roofType",value:((H=l.customFields)==null?void 0:H.roofType)||"",onChange:ge=>c(le=>({...le,customFields:{...le.customFields,roofType:ge.target.value}}))})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-lg font-semibold",children:"Specifications"}),n.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"exteriorColor",children:"Exterior Color"}),n.jsx(Pe,{id:"exteriorColor",value:((q=l.customFields)==null?void 0:q.exteriorColor)||"",onChange:ge=>c(le=>({...le,customFields:{...le.customFields,exteriorColor:ge.target.value}}))})]}),n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"interiorColor",children:"Interior Color"}),n.jsx(Pe,{id:"interiorColor",value:((L=l.customFields)==null?void 0:L.interiorColor)||"",onChange:ge=>c(le=>({...le,customFields:{...le.customFields,interiorColor:ge.target.value}}))})]}),n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"length",children:"Length (ft)"}),n.jsx(Pe,{id:"length",value:((V=l.customFields)==null?void 0:V.length)||"",onChange:ge=>c(le=>({...le,customFields:{...le.customFields,length:ge.target.value}}))})]}),n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"weight",children:"Weight (lbs)"}),n.jsx(Pe,{id:"weight",value:((G=l.customFields)==null?void 0:G.weight)||"",onChange:ge=>c(le=>({...le,customFields:{...le.customFields,weight:ge.target.value}}))})]}),n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"sleeps",children:"Sleeps"}),n.jsx(Pe,{id:"sleeps",value:((Z=l.customFields)==null?void 0:Z.sleeps)||"",onChange:ge=>c(le=>({...le,customFields:{...le.customFields,sleeps:ge.target.value}}))})]}),n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"slideouts",children:"Slideouts"}),n.jsx(Pe,{id:"slideouts",value:((te=l.customFields)==null?void 0:te.slideouts)||"",onChange:ge=>c(le=>({...le,customFields:{...le.customFields,slideouts:ge.target.value}}))})]}),n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"fuelType",children:"Fuel Type"}),n.jsxs(Ve,{value:((he=l.customFields)==null?void 0:he.fuelType)||"",onValueChange:ge=>c(le=>({...le,customFields:{...le.customFields,fuelType:ge}})),children:[n.jsx(ze,{children:n.jsx(qe,{placeholder:"Select fuel type"})}),n.jsxs(Ue,{children:[n.jsx(K,{value:"",children:"Not Applicable"}),n.jsx(K,{value:"gasoline",children:"Gasoline"}),n.jsx(K,{value:"diesel",children:"Diesel"}),n.jsx(K,{value:"propane",children:"Propane"})]})]})]}),n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"mileage",children:"Mileage"}),n.jsx(Pe,{id:"mileage",value:((fe=l.customFields)==null?void 0:fe.mileage)||"",onChange:ge=>c(le=>({...le,customFields:{...le.customFields,mileage:ge.target.value}}))})]}),n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"condition",children:"Condition"}),n.jsxs(Ve,{value:((oe=l.customFields)==null?void 0:oe.condition)||"New",onValueChange:ge=>c(le=>({...le,customFields:{...le.customFields,condition:ge}})),children:[n.jsx(ze,{children:n.jsx(qe,{})}),n.jsxs(Ue,{children:[n.jsx(K,{value:"New",children:"New"}),n.jsx(K,{value:"Used",children:"Used"}),n.jsx(K,{value:"Certified Pre-Owned",children:"Certified Pre-Owned"})]})]})]})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-lg font-semibold",children:"Images"}),n.jsxs("div",{...x(),className:"border-2 border-dashed rounded-lg p-6 text-center cursor-pointer hover:bg-muted/10",children:[n.jsx("input",{...p()}),n.jsx(yf,{className:"h-8 w-8 mx-auto mb-2 text-muted-foreground"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Drag & drop images here, or click to select files"})]}),l.images&&l.images.length>0&&n.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mt-4",children:l.images.map((ge,le)=>n.jsxs("div",{className:"relative group",children:[n.jsx("img",{src:ge,alt:`Vehicle ${le+1}`,className:"h-24 w-full object-cover rounded-md"}),n.jsx(J,{type:"button",variant:"destructive",size:"sm",className:"absolute top-1 right-1 opacity-0 group-hover:opacity-100 transition-opacity",onClick:()=>S(ge),children:n.jsx(Ut,{className:"h-3 w-3"})})]},le))})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-lg font-semibold",children:"Videos"}),n.jsxs("div",{className:"flex space-x-2",children:[n.jsx(Pe,{value:u,onChange:ge=>f(ge.target.value),placeholder:"Add a video URL (YouTube, Vimeo, etc.)",onKeyDown:ge=>{ge.key==="Enter"&&(ge.preventDefault(),j())}}),n.jsx(J,{type:"button",onClick:j,children:n.jsx(Nt,{className:"h-4 w-4"})})]}),n.jsxs("div",{className:"space-y-2",children:[(je=(we=l.customFields)==null?void 0:we.videos)==null?void 0:je.map((ge,le)=>n.jsxs("div",{className:"flex items-center justify-between p-2 bg-muted/30 rounded-md",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx(Vy,{className:"h-4 w-4 mr-2 text-blue-500"}),n.jsx("a",{href:ge,target:"_blank",rel:"noopener noreferrer",className:"text-sm text-blue-600 hover:underline truncate max-w-md",children:ge})]}),n.jsx(J,{type:"button",variant:"ghost",size:"sm",onClick:()=>E(ge),children:n.jsx(Ut,{className:"h-4 w-4"})})]},le)),(!((ve=l.customFields)!=null&&ve.videos)||l.customFields.videos.length===0)&&n.jsx("div",{className:"text-sm text-muted-foreground",children:"No videos added yet"})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-lg font-semibold",children:"Notes"}),n.jsx(tr,{value:((Le=l.customFields)==null?void 0:Le.notes)||"",onChange:ge=>c(le=>({...le,customFields:{...le.customFields,notes:ge.target.value}})),placeholder:"Add any additional notes about this vehicle...",rows:3})]}),n.jsxs("div",{className:"flex justify-end space-x-3 pt-6 border-t",children:[n.jsx(J,{type:"button",variant:"outline",onClick:r,disabled:i,children:"Cancel"}),n.jsx(J,{type:"submit",disabled:i,children:i?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),e?"Updating...":"Creating..."]}):n.jsxs(n.Fragment,{children:[n.jsx(Rr,{className:"h-4 w-4 mr-2"}),e?"Update":"Create"," Home"]})})]})]})})]}),m&&n.jsx("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center z-[60]",children:n.jsxs(de,{className:"w-full max-w-md",children:[n.jsxs(ye,{children:[n.jsx(be,{children:"Scan VIN Barcode"}),n.jsx($e,{children:"Position the barcode in front of your camera"})]}),n.jsxs(ue,{className:"space-y-4",children:[n.jsx("div",{className:"bg-black h-64 flex items-center justify-center rounded-md",children:n.jsx(bl,{className:"h-12 w-12 text-white/50"})}),n.jsxs("div",{className:"flex justify-end space-x-2",children:[n.jsx(J,{variant:"outline",onClick:()=>v(!1),children:"Cancel"}),n.jsx(J,{onClick:()=>{N("1FDXE4FS8KDC"+Math.floor(Math.random()*1e5).toString().padStart(5,"0"))},children:"Simulate Scan"})]})]})]})})]})}function ere({vehicle:e,onClose:t,onEdit:r}){var i,o,l,c,d,h,u,f,m,v,x,p,g,b,y,j,E,S,N,w,_,k,T;const s=A=>{switch(A){case Yt.AVAILABLE:return"bg-green-50 text-green-700 border-green-200";case Yt.RESERVED:return"bg-yellow-50 text-yellow-700 border-yellow-200";case Yt.SOLD:return"bg-blue-50 text-blue-700 border-blue-200";case Yt.SERVICE:return"bg-orange-50 text-orange-700 border-orange-200";case Yt.DELIVERED:return"bg-purple-50 text-purple-700 border-purple-200";default:return"bg-gray-50 text-gray-700 border-gray-200"}},a=A=>A.replace("_"," ").toUpperCase();return n.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:n.jsxs(de,{className:"w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[n.jsx(ye,{children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsxs(be,{className:"text-xl",children:[e.year," ",e.make," ",e.model]}),n.jsxs($e,{children:["VIN: ",e.vin]})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsxs(J,{onClick:()=>{t(),r(e)},size:"sm",children:[n.jsx(zr,{className:"h-4 w-4 mr-2"}),"Edit Home/RV"]}),n.jsx(J,{variant:"ghost",size:"sm",onClick:t,children:n.jsx(Ut,{className:"h-4 w-4"})})]})]})}),n.jsxs(ue,{className:"space-y-6",children:[n.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[n.jsx(Re,{className:He("ri-badge-status",s(e.status)),children:e.status.toUpperCase()}),n.jsx(Re,{variant:"outline",children:a(e.type)}),n.jsx("div",{className:"ml-auto font-bold text-lg text-primary",children:_e(e.price)})]}),n.jsxs(xr,{defaultValue:"details",className:"space-y-4",children:[n.jsxs(fr,{children:[n.jsx(Qe,{value:"details",children:"Details"}),n.jsx(Qe,{value:"images",children:"Images"}),n.jsx(Qe,{value:"features",children:"Features"}),n.jsx(Qe,{value:"videos",children:"Videos"}),n.jsx(Qe,{value:"notes",children:"Notes"})]}),n.jsxs(et,{value:"details",className:"space-y-4",children:[n.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Make"}),n.jsx("p",{className:"font-medium",children:e.make})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Model"}),n.jsx("p",{className:"font-medium",children:e.model})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Year"}),n.jsx("p",{className:"font-medium",children:e.year})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"VIN"}),n.jsx("p",{className:"font-medium font-mono",children:e.vin})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Type"}),n.jsx("p",{className:"font-medium",children:a(e.type)})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Location"}),n.jsx("p",{className:"font-medium",children:e.location})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Price"}),n.jsx("p",{className:"font-medium text-primary",children:_e(e.price)})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Cost"}),n.jsx("p",{className:"font-medium",children:_e(e.cost)})]})]}),n.jsxs("div",{className:"mt-6",children:[n.jsx("h3",{className:"text-lg font-semibold mb-3",children:"Specifications"}),n.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[((i=e.customFields)==null?void 0:i.exteriorColor)&&n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Exterior Color"}),n.jsx("p",{className:"font-medium",children:e.customFields.exteriorColor})]}),((o=e.customFields)==null?void 0:o.interiorColor)&&n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Interior Color"}),n.jsx("p",{className:"font-medium",children:e.customFields.interiorColor})]}),((l=e.customFields)==null?void 0:l.length)&&n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Length"}),n.jsxs("p",{className:"font-medium",children:[e.customFields.length," ft"]})]}),((c=e.customFields)==null?void 0:c.weight)&&n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Weight"}),n.jsxs("p",{className:"font-medium",children:[e.customFields.weight," lbs"]})]}),((d=e.customFields)==null?void 0:d.sleeps)&&n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Sleeps"}),n.jsx("p",{className:"font-medium",children:e.customFields.sleeps})]}),((h=e.customFields)==null?void 0:h.slideouts)&&n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Slideouts"}),n.jsx("p",{className:"font-medium",children:e.customFields.slideouts})]}),((u=e.customFields)==null?void 0:u.fuelType)&&n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Fuel Type"}),n.jsx("p",{className:"font-medium",children:e.customFields.fuelType})]}),((f=e.customFields)==null?void 0:f.mileage)&&n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Mileage"}),n.jsx("p",{className:"font-medium",children:e.customFields.mileage})]}),((m=e.customFields)==null?void 0:m.condition)&&n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Condition"}),n.jsx("p",{className:"font-medium",children:e.customFields.condition})]}),(e.type===vt.SINGLE_WIDE||e.type===vt.DOUBLE_WIDE||e.type===vt.TRIPLE_WIDE||e.type===vt.PARK_MODEL||e.type===vt.MODULAR_HOME)&&n.jsxs(n.Fragment,{children:[((v=e.customFields)==null?void 0:v.squareFootage)&&n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Square Footage"}),n.jsxs("p",{className:"font-medium",children:[e.customFields.squareFootage," sq ft"]})]}),((x=e.customFields)==null?void 0:x.bedrooms)&&n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Bedrooms"}),n.jsx("p",{className:"font-medium",children:e.customFields.bedrooms})]}),((p=e.customFields)==null?void 0:p.bathrooms)&&n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Bathrooms"}),n.jsx("p",{className:"font-medium",children:e.customFields.bathrooms})]}),((g=e.customFields)==null?void 0:g.constructionType)&&n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Construction Type"}),n.jsx("p",{className:"font-medium",children:e.customFields.constructionType})]}),((b=e.customFields)==null?void 0:b.exteriorSiding)&&n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Exterior Siding"}),n.jsx("p",{className:"font-medium",children:e.customFields.exteriorSiding})]}),((y=e.customFields)==null?void 0:y.roofType)&&n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Roof Type"}),n.jsx("p",{className:"font-medium",children:e.customFields.roofType})]})]}),(e.type===vt.SINGLE_WIDE||e.type===vt.DOUBLE_WIDE||e.type===vt.TRIPLE_WIDE||e.type===vt.PARK_MODEL||e.type===vt.MODULAR_HOME)&&n.jsxs(n.Fragment,{children:[((j=e.customFields)==null?void 0:j.squareFootage)&&n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Square Footage"}),n.jsxs("p",{className:"font-medium",children:[e.customFields.squareFootage," sq ft"]})]}),((E=e.customFields)==null?void 0:E.bedrooms)&&n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Bedrooms"}),n.jsx("p",{className:"font-medium",children:e.customFields.bedrooms})]}),((S=e.customFields)==null?void 0:S.bathrooms)&&n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Bathrooms"}),n.jsx("p",{className:"font-medium",children:e.customFields.bathrooms})]}),((N=e.customFields)==null?void 0:N.constructionType)&&n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Construction Type"}),n.jsx("p",{className:"font-medium",children:e.customFields.constructionType})]}),((w=e.customFields)==null?void 0:w.exteriorSiding)&&n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Exterior Siding"}),n.jsx("p",{className:"font-medium",children:e.customFields.exteriorSiding})]}),((_=e.customFields)==null?void 0:_.roofType)&&n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Roof Type"}),n.jsx("p",{className:"font-medium",children:e.customFields.roofType})]})]})]})]})]}),n.jsx(et,{value:"images",children:e.images&&e.images.length>0?n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:e.images.map((A,O)=>n.jsx("div",{className:"overflow-hidden rounded-md",children:n.jsx("img",{src:A,alt:`${e.make} ${e.model} ${O+1}`,className:"w-full h-auto object-cover hover:scale-105 transition-transform duration-300"})},O))}):n.jsxs("div",{className:"text-center py-12 text-muted-foreground border-2 border-dashed rounded-lg",children:[n.jsx(yf,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground/50"}),n.jsx("p",{children:"No images available"})]})}),n.jsx(et,{value:"features",children:e.features&&e.features.length>0?n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:e.features.map((A,O)=>n.jsxs("div",{className:"flex items-center p-2 bg-muted/30 rounded-md",children:[n.jsx(Vs,{className:"h-4 w-4 mr-2 text-primary"}),n.jsx("span",{children:A})]},O))}):n.jsxs("div",{className:"text-center py-12 text-muted-foreground border-2 border-dashed rounded-lg",children:[n.jsx(Vs,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground/50"}),n.jsx("p",{children:"No features listed"})]})}),n.jsx(et,{value:"videos",children:(k=e.customFields)!=null&&k.videos&&e.customFields.videos.length>0?n.jsx("div",{className:"space-y-4",children:e.customFields.videos.map((A,O)=>n.jsx("div",{className:"p-3 bg-muted/30 rounded-md",children:n.jsxs("div",{className:"flex items-center mb-2",children:[n.jsx(Vy,{className:"h-4 w-4 mr-2 text-primary"}),n.jsxs("a",{href:A,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline",children:["Video ",O+1]})]})},O))}):n.jsxs("div",{className:"text-center py-12 text-muted-foreground border-2 border-dashed rounded-lg",children:[n.jsx(Vy,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground/50"}),n.jsx("p",{children:"No videos available"})]})}),n.jsx(et,{value:"notes",children:(T=e.customFields)!=null&&T.notes?n.jsx("div",{className:"p-4 bg-muted/30 rounded-md whitespace-pre-wrap",children:e.customFields.notes}):n.jsxs("div",{className:"text-center py-12 text-muted-foreground border-2 border-dashed rounded-lg",children:[n.jsx(ls,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground/50"}),n.jsx("p",{children:"No notes available"})]})})]}),n.jsxs("div",{className:"flex justify-end space-x-3 pt-6 border-t",children:[n.jsx(J,{variant:"outline",onClick:t,children:"Close"}),n.jsxs(J,{onClick:()=>r(e),children:[n.jsx(zr,{className:"h-4 w-4 mr-2"}),"Edit Home/RV"]})]})]})]})})}function tre({onImport:e,onCancel:t}){const{toast:r}=At(),[s,a]=C.useState(null),[i,o]=C.useState([]),[l,c]=C.useState({}),[d,h]=C.useState(!1),[u,f]=C.useState("upload"),[m,v]=C.useState([]),x=["vin","make","model","year","price","cost"],p=[{key:"vin",label:"VIN"},{key:"make",label:"Make"},{key:"model",label:"Model"},{key:"year",label:"Year"},{key:"type",label:"Type"},{key:"status",label:"Status"},{key:"price",label:"Price"},{key:"cost",label:"Cost"},{key:"location",label:"Location"},{key:"features",label:"Features"},{key:"exteriorColor",label:"Exterior Color"},{key:"interiorColor",label:"Interior Color"},{key:"length",label:"Length"},{key:"weight",label:"Weight"},{key:"sleeps",label:"Sleeps"},{key:"slideouts",label:"Slideouts"},{key:"fuelType",label:"Fuel Type"},{key:"mileage",label:"Mileage"},{key:"condition",label:"Condition"}],g=_=>{var T;const k=(T=_.target.files)==null?void 0:T[0];k&&(a(k),Nf.parse(k,{header:!0,skipEmptyLines:!0,complete:A=>{if(o(A.data),A.meta.fields){const O={};A.meta.fields.forEach(D=>{const F=D.toLowerCase().replace(/[^a-z0-9]/g,"");p.forEach(M=>{const R=M.key.toLowerCase();(F===R||F===M.label.toLowerCase().replace(/[^a-z0-9]/g,""))&&(O[D]=M.key)})}),c(O)}f("map")},error:A=>{r({title:"Error Parsing CSV",description:A.message,variant:"destructive"})}}))},b=(_,k)=>{c(T=>({...T,[_]:k}))},y=()=>{if(x.filter(k=>Object.values(l).includes(k)).length<x.length){r({title:"Missing Required Fields",description:`Please map all required fields: ${x.join(", ")}`,variant:"destructive"});return}f("preview"),v(i.map((k,T)=>T))},j=_=>{v(_?i.map((k,T)=>T):[])},E=_=>{m.includes(_)?v(m.filter(k=>k!==_)):v([...m,_])},S=async()=>{if(m.length===0){r({title:"No Rows Selected",description:"Please select at least one row to import",variant:"destructive"});return}h(!0);try{const _=m.map(k=>{const T=i[k],A={images:[],features:[],customFields:{}};return Object.entries(l).forEach(([O,D])=>{const F=T[O];D==="features"?A.features=F?F.split(",").map(M=>M.trim()):[]:D==="year"||D==="price"||D==="cost"?A[D]=parseFloat(F)||0:D==="type"?A.type=N(F):D==="status"?A.status=w(F):["exteriorColor","interiorColor","length","weight","sleeps","slideouts","fuelType","mileage","condition"].includes(D)?A.customFields={...A.customFields,[D]:F}:A[D]=F}),A});await e(_),r({title:"Import Successful",description:`Imported ${_.length} vehicles`})}catch{r({title:"Import Failed",description:"There was an error importing the vehicles",variant:"destructive"})}finally{h(!1)}},N=_=>{const k=_.toLowerCase().replace(/[^a-z0-9]/g,"");return k.includes("motorhome")?vt.MOTORHOME:k.includes("travel")&&k.includes("trailer")?vt.TRAVEL_TRAILER:k.includes("fifth")&&k.includes("wheel")?vt.FIFTH_WHEEL:k.includes("toy")&&k.includes("hauler")?vt.TOY_HAULER:vt.RV},w=_=>{const k=_.toLowerCase().replace(/[^a-z0-9]/g,"");return k.includes("reserved")?Yt.RESERVED:k.includes("sold")?Yt.SOLD:k.includes("service")?Yt.SERVICE:k.includes("delivered")?Yt.DELIVERED:Yt.AVAILABLE};return n.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:n.jsxs(de,{className:"w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[n.jsx(ye,{children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx(be,{children:"Import Inventory from CSV"}),n.jsxs($e,{children:[u==="upload"&&"Upload a CSV file with your inventory data",u==="map"&&"Map CSV columns to vehicle fields",u==="preview"&&"Preview and select vehicles to import"]})]}),n.jsx(J,{variant:"ghost",size:"sm",onClick:t,children:n.jsx(Ut,{className:"h-4 w-4"})})]})}),n.jsxs(ue,{children:[u==="upload"&&n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"border-2 border-dashed rounded-lg p-6 text-center",children:[n.jsx(ls,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground"}),n.jsx("p",{className:"text-muted-foreground mb-4",children:"Upload a CSV file with your inventory data"}),n.jsx(Pe,{type:"file",accept:".csv",onChange:g,className:"max-w-sm mx-auto"})]}),n.jsxs("div",{className:"bg-muted/30 p-4 rounded-lg",children:[n.jsx("h3",{className:"font-medium mb-2",children:"CSV Format Guidelines"}),n.jsxs("ul",{className:"text-sm space-y-1 text-muted-foreground",children:[n.jsx("li",{children:" File should be in CSV format"}),n.jsx("li",{children:" First row should contain column headers"}),n.jsx("li",{children:" Required fields: VIN, Make, Model, Year, Price, Cost"}),n.jsx("li",{children:" Features should be comma-separated within quotes"})]})]}),n.jsx("div",{className:"flex justify-end",children:n.jsx(J,{variant:"outline",onClick:t,children:"Cancel"})})]}),u==="map"&&n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"bg-muted/30 p-4 rounded-lg",children:[n.jsxs("h3",{className:"font-medium mb-2 flex items-center",children:[n.jsx(ls,{className:"h-4 w-4 mr-2"}),s==null?void 0:s.name]}),n.jsxs("p",{className:"text-sm text-muted-foreground",children:[i.length," rows found"]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"font-medium",children:"Map CSV Columns to Vehicle Fields"}),n.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Required fields are marked with *"}),n.jsx("div",{className:"space-y-3 max-h-96 overflow-y-auto p-2",children:s&&i.length>0&&Object.keys(i[0]).map(_=>n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx("div",{className:"w-1/3 font-medium truncate",children:_}),n.jsx("div",{className:"w-2/3",children:n.jsxs("select",{value:l[_]||"",onChange:k=>b(_,k.target.value),className:"w-full p-2 border rounded-md",children:[n.jsx("option",{value:"",children:"-- Skip this field --"}),p.map(k=>n.jsxs("option",{value:k.key,children:[k.label," ",x.includes(k.key)?"*":""]},k.key))]})})]},_))})]}),n.jsxs("div",{className:"flex justify-end space-x-3",children:[n.jsx(J,{variant:"outline",onClick:t,children:"Cancel"}),n.jsx(J,{onClick:y,children:"Preview Data"})]})]}),u==="preview"&&n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Vt,{checked:m.length===i.length,onCheckedChange:j}),n.jsxs(ae,{children:["Select All (",i.length," vehicles)"]})]}),n.jsxs(Re,{children:[m.length," selected"]})]}),n.jsx("div",{className:"border rounded-md overflow-hidden",children:n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{className:"bg-muted/50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"p-2 text-left"}),Object.entries(l).filter(([_,k])=>k).map(([_,k])=>n.jsxs("th",{className:"p-2 text-left text-sm",children:[k,x.includes(k)&&n.jsx("span",{className:"text-red-500",children:"*"})]},_))]})}),n.jsx("tbody",{children:i.map((_,k)=>n.jsxs("tr",{className:"border-t hover:bg-muted/10",children:[n.jsx("td",{className:"p-2",children:n.jsx(Vt,{checked:m.includes(k),onCheckedChange:()=>E(k)})}),Object.entries(l).filter(([T,A])=>A).map(([T,A])=>n.jsx("td",{className:"p-2 text-sm",children:_[T]||n.jsx("span",{className:"text-muted-foreground italic",children:"Empty"})},T))]},k))})]})})}),n.jsxs("div",{className:"flex justify-end space-x-3",children:[n.jsx(J,{variant:"outline",onClick:()=>f("map"),children:"Back to Mapping"}),n.jsx(J,{onClick:S,disabled:d,children:d?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Importing..."]}):n.jsxs(n.Fragment,{children:[n.jsx(x4,{className:"h-4 w-4 mr-2"}),"Import ",m.length," Vehicles"]})})]})]})]})]})})}function rre({onScan:e,onClose:t}){const{toast:r}=At(),[s,a]=C.useState(!1),[i,o]=C.useState(null);C.useEffect(()=>{const d=setTimeout(()=>{a(!0)},1e3);return()=>clearTimeout(d)},[]);const l=()=>{const d="ABCDEFGHJKLMNPRSTUVWXYZ0123456789";let h="";for(let u=0;u<17;u++)h+=d.charAt(Math.floor(Math.random()*d.length));o(h),r({title:"Barcode Scanned",description:`VIN: ${h}`})},c=()=>{i&&e(i)};return n.jsx("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center z-[60]",children:n.jsxs(de,{className:"w-full max-w-md",children:[n.jsx(ye,{children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx(be,{children:"Scan VIN Barcode"}),n.jsx($e,{children:"Position the barcode in front of your camera"})]}),n.jsx(J,{variant:"ghost",size:"sm",onClick:t,children:n.jsx(Ut,{className:"h-4 w-4"})})]})}),n.jsxs(ue,{className:"space-y-4",children:[n.jsx("div",{className:"bg-black h-64 flex items-center justify-center rounded-md relative",children:s?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:n.jsx("div",{className:"w-3/4 h-1 bg-red-500 animate-pulse"})}),n.jsx("div",{className:"text-white text-sm absolute bottom-2 left-2",children:i?`Scanned: ${i}`:"Scanning..."})]}):n.jsx(bl,{className:"h-12 w-12 text-white/50"})}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx(J,{variant:"outline",onClick:t,children:"Cancel"}),i?n.jsxs(J,{onClick:c,children:[n.jsx(k1,{className:"h-4 w-4 mr-2"}),"Confirm"]}):n.jsx(J,{onClick:l,children:"Simulate Scan"})]})]})]})})}function w_(){const{vehicles:e,createVehicle:t,updateVehicleStatus:r,deleteVehicle:s}=cd(),{toast:a}=At(),[i,o]=C.useState(!1),[l,c]=C.useState(!1),[d,h]=C.useState(!1),[u,f]=C.useState(!1),[m,v]=C.useState(null),x=()=>{v(null),o(!0)},p=N=>{v(N),o(!0)},g=N=>{v(N),c(!0)},b=async N=>{if(window.confirm("Are you sure you want to delete this vehicle?"))try{await s(N),a({title:"Vehicle Deleted",description:"The vehicle has been removed from inventory"})}catch{a({title:"Error",description:"Failed to delete vehicle",variant:"destructive"})}},y=async(N,w)=>{try{await r(N,w),a({title:"Status Updated",description:`Vehicle status changed to ${w}`})}catch{a({title:"Error",description:"Failed to update vehicle status",variant:"destructive"})}},j=async N=>{try{m?(await r(m.id,N.status||m.status),a({title:"Vehicle Updated",description:"Vehicle information has been updated"})):(await t(N),a({title:"Vehicle Added",description:"New vehicle has been added to inventory"})),o(!1),v(null)}catch{a({title:"Error",description:`Failed to ${m?"update":"create"} vehicle`,variant:"destructive"})}},E=async N=>{try{for(const w of N)await t(w);h(!1),a({title:"Import Successful",description:`Imported ${N.length} vehicles`})}catch{a({title:"Import Failed",description:"There was an error importing the vehicles",variant:"destructive"})}},S=N=>{const w=e.find(_=>_.vin===N);w?(v(w),c(!0),a({title:"Vehicle Found",description:`Found existing vehicle with VIN: ${N}`})):(v(null),o(!0),setTimeout(()=>{const _=document.getElementById("vin");if(_){_.value=N;const k=new Event("input",{bubbles:!0});_.dispatchEvent(k)}},100),a({title:"New VIN Scanned",description:`Creating new vehicle with VIN: ${N}`})),f(!1)};return n.jsxs("div",{className:"space-y-8",children:[i&&n.jsx(Zte,{vehicle:m||void 0,onSave:j,onCancel:()=>{o(!1),v(null)}}),l&&m&&n.jsx(ere,{vehicle:m,onClose:()=>c(!1),onEdit:p}),d&&n.jsx(tre,{onImport:E,onCancel:()=>h(!1)}),u&&n.jsx(rre,{onScan:S,onClose:()=>f(!1)}),n.jsx("div",{className:"ri-page-header",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"ri-page-title",children:"Inventory Management"}),n.jsx("p",{className:"ri-page-description",children:"Manage your RV and motorhome inventory"})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsxs(J,{variant:"outline",onClick:()=>f(!0),children:[n.jsx(f$,{className:"h-4 w-4 mr-2"}),"Scan Barcode"]}),n.jsxs(J,{variant:"outline",onClick:()=>h(!0),children:[n.jsx(x4,{className:"h-4 w-4 mr-2"}),"Import CSV"]}),n.jsxs(J,{onClick:x,children:[n.jsx(Nt,{className:"h-4 w-4 mr-2"}),"Add Home"]})]})]})}),n.jsxs("div",{className:"ri-stats-grid",children:[n.jsxs(de,{className:"shadow-sm border-0 bg-gradient-to-br from-blue-50 to-blue-100/50",children:[n.jsxs(ye,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(be,{className:"text-sm font-medium text-blue-900",children:"Total Units"}),n.jsx(Vs,{className:"h-4 w-4 text-blue-600"})]}),n.jsxs(ue,{children:[n.jsx("div",{className:"text-2xl font-bold text-blue-900",children:e.length}),n.jsxs("p",{className:"text-xs text-blue-600 flex items-center mt-1",children:[n.jsx(_t,{className:"h-3 w-3 mr-1"}),"+5 units this month"]})]})]}),n.jsxs(de,{className:"shadow-sm border-0 bg-gradient-to-br from-green-50 to-green-100/50",children:[n.jsxs(ye,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(be,{className:"text-sm font-medium text-green-900",children:"Available"}),n.jsx(Vs,{className:"h-4 w-4 text-green-600"})]}),n.jsxs(ue,{children:[n.jsx("div",{className:"text-2xl font-bold text-green-900",children:e.filter(N=>N.status===Yt.AVAILABLE).length}),n.jsxs("p",{className:"text-xs text-green-600 flex items-center mt-1",children:[n.jsx(_t,{className:"h-3 w-3 mr-1"}),"Ready for sale"]})]})]}),n.jsxs(de,{className:"shadow-sm border-0 bg-gradient-to-br from-yellow-50 to-yellow-100/50",children:[n.jsxs(ye,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(be,{className:"text-sm font-medium text-yellow-900",children:"Reserved"}),n.jsx(Vs,{className:"h-4 w-4 text-yellow-600"})]}),n.jsxs(ue,{children:[n.jsx("div",{className:"text-2xl font-bold text-yellow-900",children:e.filter(N=>N.status===Yt.RESERVED).length}),n.jsxs("p",{className:"text-xs text-yellow-600 flex items-center mt-1",children:[n.jsx(_t,{className:"h-3 w-3 mr-1"}),"Pending sale"]})]})]}),n.jsxs(de,{className:"shadow-sm border-0 bg-gradient-to-br from-purple-50 to-purple-100/50",children:[n.jsxs(ye,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(be,{className:"text-sm font-medium text-purple-900",children:"Total Value"}),n.jsx(It,{className:"h-4 w-4 text-purple-600"})]}),n.jsxs(ue,{children:[n.jsx("div",{className:"text-2xl font-bold text-purple-900",children:_e(e.reduce((N,w)=>N+w.price,0))}),n.jsxs("p",{className:"text-xs text-purple-600 flex items-center mt-1",children:[n.jsx(_t,{className:"h-3 w-3 mr-1"}),"Inventory value"]})]})]})]}),n.jsx(ete,{vehicles:e,onEdit:p,onDelete:b,onView:g,onStatusChange:y})]})}function nre(){return n.jsxs(Ps,{children:[n.jsx(Ft,{path:"/",element:n.jsx(w_,{})}),n.jsx(Ft,{path:"/*",element:n.jsx(w_,{})})]})}const sre=[{id:"1",customerId:"cust-1",vehicleId:"veh-1",items:[{id:"1",description:"2024 Forest River Georgetown",quantity:1,unitPrice:125e3,total:125e3},{id:"2",description:"Extended Warranty",quantity:1,unitPrice:2500,total:2500}],subtotal:127500,tax:10200,total:137700,status:oi.SENT,validUntil:new Date("2024-02-15"),notes:"Customer interested in financing options",customFields:{},createdAt:new Date("2024-01-15"),updatedAt:new Date("2024-01-16")},{id:"2",customerId:"cust-2",vehicleId:"veh-2",items:[{id:"3",description:"2023 Winnebago View",quantity:1,unitPrice:89e3,total:89e3}],subtotal:89e3,tax:7120,total:96120,status:oi.ACCEPTED,validUntil:new Date("2024-02-20"),notes:"Ready to proceed with purchase",customFields:{},createdAt:new Date("2024-01-12"),updatedAt:new Date("2024-01-18")}];function are({quote:e,onClose:t,onEdit:r}){const s=a=>{switch(a){case"draft":return"bg-gray-50 text-gray-700 border-gray-200";case"sent":return"bg-blue-50 text-blue-700 border-blue-200";case"viewed":return"bg-yellow-50 text-yellow-700 border-yellow-200";case"accepted":return"bg-green-50 text-green-700 border-green-200";case"rejected":return"bg-red-50 text-red-700 border-red-200";case"expired":return"bg-orange-50 text-orange-700 border-orange-200";default:return"bg-gray-50 text-gray-700 border-gray-200"}};return n.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:n.jsxs(de,{className:"w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[n.jsx(ye,{children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsxs(be,{className:"text-xl",children:["Quote #",e.id]}),n.jsx($e,{children:"Quote details and line items"})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsxs(J,{onClick:()=>r(e),size:"sm",children:[n.jsx(zr,{className:"h-4 w-4 mr-2"}),"Edit Quote"]}),n.jsx(J,{variant:"ghost",size:"sm",onClick:t,children:n.jsx(Ut,{className:"h-4 w-4"})})]})]})}),n.jsxs(ue,{className:"space-y-6",children:[n.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Customer ID"}),n.jsx("p",{className:"font-medium",children:e.customerId})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Status"}),n.jsx("div",{className:"mt-1",children:n.jsx(Re,{className:He("ri-badge-status",s(e.status)),children:e.status.toUpperCase()})})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Created Date"}),n.jsx("p",{className:"font-medium",children:ct(e.createdAt)})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Valid Until"}),n.jsx("p",{className:"font-medium",children:ct(e.validUntil)})]})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Line Items"}),n.jsx("div",{className:"space-y-3",children:e.items.map((a,i)=>n.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[n.jsxs("div",{className:"flex-1",children:[n.jsx("h4",{className:"font-medium",children:a.description}),n.jsxs("p",{className:"text-sm text-muted-foreground",children:["Quantity: ",a.quantity,"  ",_e(a.unitPrice)]})]}),n.jsx("div",{className:"text-right",children:n.jsx("div",{className:"font-bold text-lg",children:_e(a.total)})})]},a.id))})]}),n.jsx("div",{className:"bg-muted/30 p-4 rounded-lg",children:n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{children:"Subtotal:"}),n.jsx("span",{children:_e(e.subtotal)})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{children:"Tax:"}),n.jsx("span",{children:_e(e.tax)})]}),n.jsxs("div",{className:"flex justify-between text-lg font-bold border-t pt-2",children:[n.jsx("span",{children:"Total:"}),n.jsx("span",{children:_e(e.total)})]})]})}),e.notes&&n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Notes"}),n.jsx("div",{className:"mt-1 p-3 bg-muted/30 rounded-md",children:n.jsx("p",{className:"text-sm",children:e.notes})})]})]})]})})}function N_(){const{toast:e}=At(),[t,r]=C.useState(sre),[s,a]=C.useState(""),[i,o]=C.useState("all"),[l,c]=C.useState(!1),[d,h]=C.useState(null),[u,f]=C.useState(null),[m,v]=C.useState(""),x=k=>{switch(k){case oi.DRAFT:return"bg-gray-50 text-gray-700 border-gray-200";case oi.SENT:return"bg-blue-50 text-blue-700 border-blue-200";case oi.VIEWED:return"bg-yellow-50 text-yellow-700 border-yellow-200";case oi.ACCEPTED:return"bg-green-50 text-green-700 border-green-200";case oi.REJECTED:return"bg-red-50 text-red-700 border-red-200";case oi.EXPIRED:return"bg-orange-50 text-orange-700 border-orange-200";default:return"bg-gray-50 text-gray-700 border-gray-200"}},p=t.filter(k=>{const T=k.id.toLowerCase().includes(s.toLowerCase())||k.customerId.toLowerCase().includes(s.toLowerCase()),A=i==="all"||k.status===i;return T&&A}),g=()=>{h(null),v(""),c(!0)},b=k=>{h(k),v(k.customerId),c(!0)},y=k=>{f(k)},j=()=>f(null),E=async k=>{try{if(d)r(T=>T.map(A=>A.id===d.id?{...A,...k,updatedAt:new Date}:A)),e({title:"Success",description:"Quote updated successfully"});else{const T={id:Math.random().toString(36).substr(2,9),...k,status:oi.DRAFT,createdAt:new Date,updatedAt:new Date};r(A=>[...A,T]),e({title:"Success",description:"Quote created successfully"})}c(!1),h(null)}catch{e({title:"Error",description:"Failed to save quote",variant:"destructive"})}},S=async k=>{try{r(T=>T.map(A=>A.id===k?{...A,status:oi.SENT,updatedAt:new Date}:A)),e({title:"Success",description:"Quote sent to customer"})}catch{e({title:"Error",description:"Failed to send quote",variant:"destructive"})}},N=async k=>{try{const T=t.find(A=>A.id===k);if(T){const A={...T,id:Math.random().toString(36).substr(2,9),status:oi.DRAFT,createdAt:new Date,updatedAt:new Date};r(O=>[...O,A]),e({title:"Success",description:"Quote duplicated successfully"})}}catch{e({title:"Error",description:"Failed to duplicate quote",variant:"destructive"})}},w=async k=>{if(window.confirm("Are you sure you want to delete this quote?"))try{r(T=>T.filter(A=>A.id!==k)),e({title:"Success",description:"Quote deleted successfully"})}catch{e({title:"Error",description:"Failed to delete quote",variant:"destructive"})}},_={total:t.length,draft:t.filter(k=>k.status==="draft").length,sent:t.filter(k=>k.status==="sent").length,accepted:t.filter(k=>k.status==="accepted").length,totalValue:t.reduce((k,T)=>k+T.total,0),acceptedValue:t.filter(k=>k.status==="accepted").reduce((k,T)=>k+T.total,0)};return n.jsxs("div",{className:"space-y-8",children:[l&&n.jsx(c7,{quote:d,customerId:m,onSave:E,onCancel:()=>{c(!1),h(null)}}),u&&n.jsx(are,{quote:u,onClose:j,onEdit:b}),n.jsx("div",{className:"ri-page-header",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"ri-page-title",children:"Quote Builder"}),n.jsx("p",{className:"ri-page-description",children:"Create and manage customer quotes with advanced pricing rules"})]}),n.jsxs(J,{className:"shadow-sm",onClick:g,children:[n.jsx(Nt,{className:"h-4 w-4 mr-2"}),"New Quote"]})]})}),n.jsxs("div",{className:"ri-stats-grid",children:[n.jsxs(de,{className:"shadow-sm border-0 bg-gradient-to-br from-blue-50 to-blue-100/50",children:[n.jsxs(ye,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(be,{className:"text-sm font-medium text-blue-900",children:"Total Quotes"}),n.jsx(ls,{className:"h-4 w-4 text-blue-600"})]}),n.jsxs(ue,{children:[n.jsx("div",{className:"text-2xl font-bold text-blue-900",children:_.total}),n.jsxs("p",{className:"text-xs text-blue-600 flex items-center mt-1",children:[n.jsx(_t,{className:"h-3 w-3 mr-1"}),"All quotes"]})]})]}),n.jsxs(de,{className:"shadow-sm border-0 bg-gradient-to-br from-yellow-50 to-yellow-100/50",children:[n.jsxs(ye,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(be,{className:"text-sm font-medium text-yellow-900",children:"Pending"}),n.jsx(ls,{className:"h-4 w-4 text-yellow-600"})]}),n.jsxs(ue,{children:[n.jsx("div",{className:"text-2xl font-bold text-yellow-900",children:_.sent}),n.jsxs("p",{className:"text-xs text-yellow-600 flex items-center mt-1",children:[n.jsx(_t,{className:"h-3 w-3 mr-1"}),"Awaiting response"]})]})]}),n.jsxs(de,{className:"shadow-sm border-0 bg-gradient-to-br from-green-50 to-green-100/50",children:[n.jsxs(ye,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(be,{className:"text-sm font-medium text-green-900",children:"Accepted"}),n.jsx(ls,{className:"h-4 w-4 text-green-600"})]}),n.jsxs(ue,{children:[n.jsx("div",{className:"text-2xl font-bold text-green-900",children:_.accepted}),n.jsxs("p",{className:"text-xs text-green-600 flex items-center mt-1",children:[n.jsx(_t,{className:"h-3 w-3 mr-1"}),_.total>0?Math.round(_.accepted/_.total*100):0,"% acceptance rate"]})]})]}),n.jsxs(de,{className:"shadow-sm border-0 bg-gradient-to-br from-purple-50 to-purple-100/50",children:[n.jsxs(ye,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(be,{className:"text-sm font-medium text-purple-900",children:"Quote Value"}),n.jsx(It,{className:"h-4 w-4 text-purple-600"})]}),n.jsxs(ue,{children:[n.jsx("div",{className:"text-2xl font-bold text-purple-900",children:_e(_.totalValue)}),n.jsxs("p",{className:"text-xs text-purple-600 flex items-center mt-1",children:[n.jsx(It,{className:"h-3 w-3 mr-1"}),_e(_.acceptedValue)," accepted"]})]})]})]}),n.jsxs("div",{className:"flex gap-4",children:[n.jsxs("div",{className:"ri-search-bar",children:[n.jsx(es,{className:"ri-search-icon"}),n.jsx(Pe,{placeholder:"Search quotes...",value:s,onChange:k=>a(k.target.value),className:"ri-search-input shadow-sm"})]}),n.jsxs(Ve,{value:i,onValueChange:o,children:[n.jsx(ze,{className:"w-40",children:n.jsx(qe,{placeholder:"Status"})}),n.jsxs(Ue,{children:[n.jsx(K,{value:"all",children:"All Status"}),n.jsx(K,{value:"draft",children:"Draft"}),n.jsx(K,{value:"sent",children:"Sent"}),n.jsx(K,{value:"viewed",children:"Viewed"}),n.jsx(K,{value:"accepted",children:"Accepted"}),n.jsx(K,{value:"rejected",children:"Rejected"}),n.jsx(K,{value:"expired",children:"Expired"})]})]}),n.jsxs(J,{variant:"outline",className:"shadow-sm",children:[n.jsx(Na,{className:"h-4 w-4 mr-2"}),"Filter"]})]}),n.jsxs(de,{className:"shadow-sm",children:[n.jsxs(ye,{children:[n.jsxs(be,{className:"text-xl",children:["Quotes (",p.length,")"]}),n.jsx($e,{children:"Manage customer quotes with advanced pricing and bundling"})]}),n.jsx(ue,{children:n.jsxs("div",{className:"space-y-4",children:[p.map(k=>n.jsxs("div",{className:"ri-table-row",children:[n.jsx("div",{className:"flex items-center space-x-4 flex-1",children:n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[n.jsxs("h3",{className:"font-semibold text-foreground",children:["Quote #",k.id]}),n.jsx(Re,{className:He("ri-badge-status",x(k.status)),children:k.status.toUpperCase()})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm text-muted-foreground",children:[n.jsxs("div",{children:[n.jsx("span",{className:"font-medium",children:"Customer:"})," ",k.customerId]}),n.jsxs("div",{children:[n.jsx("span",{className:"font-medium",children:"Total:"}),n.jsx("span",{className:"font-bold text-primary ml-1",children:_e(k.total)})]}),n.jsxs("div",{children:[n.jsx("span",{className:"font-medium",children:"Created:"})," ",ct(k.createdAt)]}),n.jsxs("div",{children:[n.jsx("span",{className:"font-medium",children:"Valid Until:"})," ",ct(k.validUntil)]})]}),n.jsxs("div",{className:"mt-2 bg-muted/30 p-2 rounded-md",children:[n.jsxs("p",{className:"text-sm text-muted-foreground",children:[k.items.length," item(s)"]}),k.notes&&n.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:[n.jsx("span",{className:"font-medium",children:"Notes:"})," ",k.notes]})]})]})}),n.jsxs("div",{className:"ri-action-buttons",children:[n.jsxs(J,{variant:"outline",size:"sm",className:"shadow-sm",onClick:()=>y(k),children:[n.jsx(Ol,{className:"h-3 w-3 mr-1"}),"View"]}),n.jsxs(J,{variant:"outline",size:"sm",className:"shadow-sm",onClick:()=>b(k),children:[n.jsx(zr,{className:"h-3 w-3 mr-1"}),"Edit"]}),k.status==="draft"&&n.jsxs(J,{variant:"outline",size:"sm",className:"shadow-sm",onClick:()=>S(k.id),children:[n.jsx($o,{className:"h-3 w-3 mr-1"}),"Send"]}),n.jsxs(J,{variant:"outline",size:"sm",className:"shadow-sm",onClick:()=>N(k.id),children:[n.jsx(v4,{className:"h-3 w-3 mr-1"}),"Copy"]}),n.jsx(J,{variant:"outline",size:"sm",className:"shadow-sm text-red-600 hover:text-red-700",onClick:()=>w(k.id),children:n.jsx(Sn,{className:"h-3 w-3"})})]})]},k.id)),p.length===0&&n.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[n.jsx(ls,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground/50"}),n.jsx("p",{children:"No quotes found"}),n.jsx("p",{className:"text-sm",children:"Create your first quote to get started"})]})]})})]})]})}function ire(){return n.jsxs(Ps,{children:[n.jsx(Ft,{path:"/",element:n.jsx(N_,{})}),n.jsx(Ft,{path:"/*",element:n.jsx(N_,{})})]})}function ore({schedule:e}){const[t,r]=C.useState(""),[s,a]=C.useState(1),[i,o]=C.useState("month"),[l,c]=C.useState("asc"),d=12,u=[...e.filter(g=>g.month.toString().includes(t))].sort((g,b)=>{const y=g[i],j=b[i];return l==="asc"?y>j?1:-1:y<j?1:-1}),f=Math.ceil(u.length/d),m=(s-1)*d,v=u.slice(m,m+d),x=g=>{i===g?c(l==="asc"?"desc":"asc"):(o(g),c("asc"))},p=g=>{a(g)};return e.length===0?n.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No amortization schedule available. Please calculate a loan first."}):n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsxs("div",{className:"relative w-64",children:[n.jsx(es,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),n.jsx(Pe,{placeholder:"Search by month...",value:t,onChange:g=>{r(g.target.value),a(1)},className:"pl-10"})]}),n.jsxs("div",{className:"text-sm text-muted-foreground",children:["Showing ",m+1,"-",Math.min(m+d,u.length)," of ",u.length," payments"]})]}),n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full border-collapse",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"bg-muted/50",children:[n.jsx("th",{className:"p-3 text-left font-medium text-muted-foreground cursor-pointer hover:bg-muted/80",onClick:()=>x("month"),children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("span",{children:"Month"}),i==="month"&&(l==="asc"?n.jsx(Eo,{className:"ml-1 h-3 w-3"}):n.jsx(Ao,{className:"ml-1 h-3 w-3"}))]})}),n.jsx("th",{className:"p-3 text-left font-medium text-muted-foreground cursor-pointer hover:bg-muted/80",onClick:()=>x("payment"),children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("span",{children:"Payment"}),i==="payment"&&(l==="asc"?n.jsx(Eo,{className:"ml-1 h-3 w-3"}):n.jsx(Ao,{className:"ml-1 h-3 w-3"}))]})}),n.jsx("th",{className:"p-3 text-left font-medium text-muted-foreground cursor-pointer hover:bg-muted/80",onClick:()=>x("principal"),children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("span",{children:"Principal"}),i==="principal"&&(l==="asc"?n.jsx(Eo,{className:"ml-1 h-3 w-3"}):n.jsx(Ao,{className:"ml-1 h-3 w-3"}))]})}),n.jsx("th",{className:"p-3 text-left font-medium text-muted-foreground cursor-pointer hover:bg-muted/80",onClick:()=>x("interest"),children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("span",{children:"Interest"}),i==="interest"&&(l==="asc"?n.jsx(Eo,{className:"ml-1 h-3 w-3"}):n.jsx(Ao,{className:"ml-1 h-3 w-3"}))]})}),n.jsx("th",{className:"p-3 text-left font-medium text-muted-foreground",children:"Additional"}),n.jsx("th",{className:"p-3 text-left font-medium text-muted-foreground cursor-pointer hover:bg-muted/80",onClick:()=>x("balance"),children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("span",{children:"Balance"}),i==="balance"&&(l==="asc"?n.jsx(Eo,{className:"ml-1 h-3 w-3"}):n.jsx(Ao,{className:"ml-1 h-3 w-3"}))]})}),n.jsx("th",{className:"p-3 text-left font-medium text-muted-foreground cursor-pointer hover:bg-muted/80",onClick:()=>x("totalInterestPaid"),children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("span",{children:"Total Interest"}),i==="totalInterestPaid"&&(l==="asc"?n.jsx(Eo,{className:"ml-1 h-3 w-3"}):n.jsx(Ao,{className:"ml-1 h-3 w-3"}))]})})]})}),n.jsx("tbody",{children:v.map((g,b)=>n.jsxs("tr",{className:b%2===0?"bg-muted/20":"",children:[n.jsx("td",{className:"p-3",children:g.month}),n.jsx("td",{className:"p-3",children:_e(g.payment)}),n.jsx("td",{className:"p-3",children:_e(g.principal)}),n.jsx("td",{className:"p-3",children:_e(g.interest)}),n.jsx("td",{className:"p-3",children:_e(g.additionalCosts)}),n.jsx("td",{className:"p-3",children:_e(g.balance)}),n.jsx("td",{className:"p-3",children:_e(g.totalInterestPaid)})]},g.month))})]})}),f>1&&n.jsxs("div",{className:"flex justify-center space-x-2 mt-4",children:[n.jsx(J,{variant:"outline",size:"sm",onClick:()=>p(1),disabled:s===1,children:"First"}),n.jsx(J,{variant:"outline",size:"sm",onClick:()=>p(s-1),disabled:s===1,children:"Previous"}),n.jsx("div",{className:"flex items-center space-x-1",children:Array.from({length:Math.min(5,f)},(g,b)=>{let y;return f<=5||s<=3?y=b+1:s>=f-2?y=f-4+b:y=s-2+b,n.jsx(J,{variant:s===y?"default":"outline",size:"sm",onClick:()=>p(y),children:y},y)})}),n.jsx(J,{variant:"outline",size:"sm",onClick:()=>p(s+1),disabled:s===f,children:"Next"}),n.jsx(J,{variant:"outline",size:"sm",onClick:()=>p(f),disabled:s===f,children:"Last"})]})]})}function lre({initialValues:e,onSave:t,onClose:r}){const{toast:s}=At(),[a,i]=C.useState((e==null?void 0:e.loanAmount)||1e5),[o,l]=C.useState((e==null?void 0:e.downPayment)||2e4),[c,d]=C.useState((e==null?void 0:e.interestRate)||6.99),[h,u]=C.useState((e==null?void 0:e.loanTerm)||60),[f,m]=C.useState("monthly"),[v,x]=C.useState(!1),[p,g]=C.useState(0),[b,y]=C.useState(!1),[j,E]=C.useState(0),[S,N]=C.useState("calculator"),[w,_]=C.useState(0),[k,T]=C.useState(0),[A,O]=C.useState(0),[D,F]=C.useState([]);C.useEffect(()=>{M()},[a,o,c,h,f,v,p,b,j]);const M=()=>{const q=a-o;if(q<=0){_(0),T(0),O(0),F([]);return}const L=c/100/12,V=q*L/(1-Math.pow(1+L,-h));let G=0;v&&(G+=p),b&&(G+=V*(j/100));let Z=1;switch(f){case"biweekly":Z=12/26;break;case"weekly":Z=12/52;break;default:Z=1;break}const te=V*Z+G*Z,he=h,fe=V*he-q,oe=q+fe+G*he,we=R(q,L,h,V,G);_(te),T(fe),O(oe),F(we)},R=(q,L,V,G,Z)=>{let te=q,he=0;const fe=[];for(let oe=1;oe<=V;oe++){const we=te*L;let je=G-we;if(te<je&&(je=te),te-=je,he+=we,fe.push({month:oe,payment:G+Z,principal:je,interest:we,additionalCosts:Z,balance:te,totalInterestPaid:he}),te<=0)break}return fe},B=()=>{t&&t({loanAmount:a,downPayment:o,interestRate:c,loanTerm:h,paymentFrequency:f,includeInsurance:v,insuranceAmount:p,includeTax:b,taxRate:j,monthlyPayment:w,totalInterest:k,totalCost:A,amortizationSchedule:D}),s({title:"Loan Calculation Saved",description:"Your loan calculation has been saved successfully."})},U=()=>{window.print()},H=()=>{const L=[["Month","Payment","Principal","Interest","Additional Costs","Balance","Total Interest Paid"].join(","),...D.map(te=>[te.month,te.payment.toFixed(2),te.principal.toFixed(2),te.interest.toFixed(2),te.additionalCosts.toFixed(2),te.balance.toFixed(2),te.totalInterestPaid.toFixed(2)].join(","))].join(`
`),V=new Blob([L],{type:"text/csv;charset=utf-8;"}),G=URL.createObjectURL(V),Z=document.createElement("a");Z.href=G,Z.setAttribute("download","amortization_schedule.csv"),document.body.appendChild(Z),Z.click(),document.body.removeChild(Z),s({title:"Export Successful",description:"Amortization schedule exported to CSV."})};return n.jsx("div",{className:"space-y-6",children:n.jsxs(xr,{value:S,onValueChange:N,className:"space-y-4",children:[n.jsxs(fr,{className:"grid w-full grid-cols-2",children:[n.jsx(Qe,{value:"calculator",children:"Calculator"}),n.jsx(Qe,{value:"amortization",children:"Amortization Schedule"})]}),n.jsxs(et,{value:"calculator",className:"space-y-6",children:[n.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[n.jsxs(de,{className:"shadow-sm",children:[n.jsxs(ye,{children:[n.jsxs(be,{className:"flex items-center",children:[n.jsx(Dl,{className:"h-5 w-5 mr-2 text-primary"}),"Loan Details"]}),n.jsx($e,{children:"Enter the details of your loan"})]}),n.jsxs(ue,{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"loanAmount",children:"Vehicle Price"}),n.jsxs("div",{className:"relative",children:[n.jsx(It,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),n.jsx(Pe,{id:"loanAmount",type:"number",value:a,onChange:q=>i(parseFloat(q.target.value)||0),className:"pl-10"})]})]}),n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"downPayment",children:"Down Payment"}),n.jsxs("div",{className:"relative",children:[n.jsx(It,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),n.jsx(Pe,{id:"downPayment",type:"number",value:o,onChange:q=>l(parseFloat(q.target.value)||0),className:"pl-10"})]})]}),n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"interestRate",children:"Interest Rate (%)"}),n.jsx(Pe,{id:"interestRate",type:"number",step:"0.01",value:c,onChange:q=>d(parseFloat(q.target.value)||0)})]}),n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"loanTerm",children:"Loan Term (months)"}),n.jsxs(Ve,{value:h.toString(),onValueChange:q=>u(parseInt(q)),children:[n.jsx(ze,{children:n.jsx(qe,{})}),n.jsxs(Ue,{children:[n.jsx(K,{value:"12",children:"12 months (1 year)"}),n.jsx(K,{value:"24",children:"24 months (2 years)"}),n.jsx(K,{value:"36",children:"36 months (3 years)"}),n.jsx(K,{value:"48",children:"48 months (4 years)"}),n.jsx(K,{value:"60",children:"60 months (5 years)"}),n.jsx(K,{value:"72",children:"72 months (6 years)"}),n.jsx(K,{value:"84",children:"84 months (7 years)"}),n.jsx(K,{value:"96",children:"96 months (8 years)"}),n.jsx(K,{value:"120",children:"120 months (10 years)"}),n.jsx(K,{value:"180",children:"180 months (15 years)"}),n.jsx(K,{value:"240",children:"240 months (20 years)"})]})]})]}),n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"paymentFrequency",children:"Payment Frequency"}),n.jsxs(Ve,{value:f,onValueChange:m,children:[n.jsx(ze,{children:n.jsx(qe,{})}),n.jsxs(Ue,{children:[n.jsx(K,{value:"monthly",children:"Monthly"}),n.jsx(K,{value:"biweekly",children:"Bi-weekly"}),n.jsx(K,{value:"weekly",children:"Weekly"})]})]})]})]})]}),n.jsxs(de,{className:"shadow-sm",children:[n.jsxs(ye,{children:[n.jsxs(be,{className:"flex items-center",children:[n.jsx(It,{className:"h-5 w-5 mr-2 text-primary"}),"Additional Costs"]}),n.jsx($e,{children:"Include additional costs in your calculation"})]}),n.jsxs(ue,{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Vt,{id:"includeInsurance",checked:v,onCheckedChange:q=>x(!!q)}),n.jsx(ae,{htmlFor:"includeInsurance",children:"Include Insurance"})]}),v&&n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"insuranceAmount",children:"Monthly Insurance Amount"}),n.jsxs("div",{className:"relative",children:[n.jsx(It,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),n.jsx(Pe,{id:"insuranceAmount",type:"number",value:p,onChange:q=>g(parseFloat(q.target.value)||0),className:"pl-10"})]})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Vt,{id:"includeTax",checked:b,onCheckedChange:q=>y(!!q)}),n.jsx(ae,{htmlFor:"includeTax",children:"Include Tax"})]}),b&&n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"taxRate",children:"Tax Rate (%)"}),n.jsx(Pe,{id:"taxRate",type:"number",step:"0.01",value:j,onChange:q=>E(parseFloat(q.target.value)||0)})]}),n.jsxs("div",{className:"mt-6 pt-6 border-t",children:[n.jsx("h3",{className:"font-semibold mb-4",children:"Loan Summary"}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-muted-foreground",children:"Principal Amount:"}),n.jsx("span",{className:"font-medium",children:_e(a-o)})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsxs("span",{className:"text-muted-foreground",children:[f==="monthly"?"Monthly":f==="biweekly"?"Bi-weekly":"Weekly"," Payment:"]}),n.jsx("span",{className:"font-bold text-primary",children:_e(w)})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-muted-foreground",children:"Total Interest:"}),n.jsx("span",{className:"font-medium",children:_e(k)})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-muted-foreground",children:"Total Cost:"}),n.jsx("span",{className:"font-medium",children:_e(A)})]})]})]})]})]})]}),n.jsxs("div",{className:"flex justify-end space-x-3",children:[r&&n.jsx(J,{variant:"outline",onClick:r,children:"Close"}),n.jsxs(J,{variant:"outline",onClick:()=>N("amortization"),children:[n.jsx(Lr,{className:"h-4 w-4 mr-2"}),"View Amortization"]}),t&&n.jsx(J,{onClick:B,children:"Save Calculation"})]})]}),n.jsxs(et,{value:"amortization",children:[n.jsxs(de,{className:"shadow-sm",children:[n.jsx(ye,{children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsxs(be,{className:"flex items-center",children:[n.jsx(Lr,{className:"h-5 w-5 mr-2 text-primary"}),"Amortization Schedule"]}),n.jsx($e,{children:"Detailed payment schedule over the life of the loan"})]}),n.jsxs("div",{className:"flex space-x-2",children:[n.jsxs(J,{variant:"outline",size:"sm",onClick:H,children:[n.jsx(wa,{className:"h-4 w-4 mr-2"}),"Export CSV"]}),n.jsxs(J,{variant:"outline",size:"sm",onClick:U,children:[n.jsx(Pu,{className:"h-4 w-4 mr-2"}),"Print"]})]})]})}),n.jsx(ue,{children:n.jsx(ore,{schedule:D})})]}),n.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[n.jsxs(J,{variant:"outline",onClick:()=>N("calculator"),children:[n.jsx(Dl,{className:"h-4 w-4 mr-2"}),"Back to Calculator"]}),t&&n.jsx(J,{onClick:B,children:"Save Calculation"})]})]})]})})}function cre({onSave:e,onCancel:t,onAddNewCustomer:r,preselectedCustomerId:s}){const{toast:a}=At(),{leads:i}=io(),{vehicles:o,getAvailableVehicles:l}=cd(),[c,d]=C.useState(!1),[h,u]=C.useState(!1),[f,m]=C.useState(null),[v,x]=C.useState({customerId:s||"",customerName:"",vehicleId:"",vehicleInfo:"",amount:0,downPayment:0,term:60,rate:6.99,paymentAmount:0,startDate:new Date().toISOString().split("T")[0],status:"active",notes:"",loanType:"standard",paymentFrequency:"monthly",includeInsurance:!1,insuranceAmount:0,includeTax:!1,taxRate:0});C.useEffect(()=>{s&&x(j=>({...j,customerId:s}))},[s]),C.useEffect(()=>{if(v.customerId){const j=i.find(E=>E.id===v.customerId);j&&x(E=>({...E,customerName:`${j.firstName} ${j.lastName}`}))}},[v.customerId,i]);const p=j=>{j==="add-new"?r==null||r():x(E=>({...E,customerId:j}))},g=j=>{const E=o.find(S=>S.id===j);E&&x(S=>({...S,vehicleId:j,vehicleInfo:`${E.year} ${E.make} ${E.model}`,amount:E.price}))},b=j=>{m(j),x(E=>({...E,amount:j.loanAmount,downPayment:j.downPayment,term:j.loanTerm,rate:j.interestRate,paymentAmount:j.monthlyPayment,paymentFrequency:j.paymentFrequency,includeInsurance:j.includeInsurance,insuranceAmount:j.insuranceAmount,includeTax:j.includeTax,taxRate:j.taxRate}))},y=async j=>{if(j.preventDefault(),!v.customerId||!v.vehicleId){a({title:"Validation Error",description:"Customer and vehicle are required.",variant:"destructive"});return}d(!0);try{await e(v)}catch{a({title:"Error",description:"Failed to create loan",variant:"destructive"})}finally{d(!1)}};return n.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:h?n.jsx("div",{className:"w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:n.jsx(lre,{initialValues:{loanAmount:v.amount,downPayment:v.downPayment,interestRate:v.rate,loanTerm:v.term},onSave:b,onClose:()=>u(!1)})}):n.jsxs(de,{className:"w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[n.jsx(ye,{children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx(be,{children:"Create New Loan"}),n.jsx($e,{children:"Set up a new loan for a customer"})]}),n.jsx(J,{variant:"ghost",size:"sm",onClick:t,children:n.jsx(Ut,{className:"h-4 w-4"})})]})}),n.jsx(ue,{children:n.jsxs("form",{onSubmit:y,className:"space-y-6",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-lg font-semibold",children:"Customer & Vehicle"}),n.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"customerId",children:"Customer *"}),n.jsxs(Ve,{value:v.customerId,onValueChange:p,children:[n.jsx(ze,{children:n.jsx(qe,{placeholder:"Select customer"})}),n.jsxs(Ue,{children:[n.jsx("div",{className:"px-2 py-1.5",children:n.jsxs(J,{variant:"outline",size:"sm",className:"w-full justify-start",onClick:()=>p("add-new"),children:[n.jsx(Ut,{className:"h-3.5 w-3.5 mr-2"}),"Add New Customer"]})}),n.jsx("div",{className:"px-2 py-1 border-t"}),i.map(j=>n.jsxs(K,{value:j.id,children:[j.firstName," ",j.lastName]},j.id))]})]})]}),n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"vehicleId",children:"Vehicle *"}),n.jsxs(Ve,{value:v.vehicleId,onValueChange:g,children:[n.jsx(ze,{children:n.jsx(qe,{placeholder:"Select vehicle"})}),n.jsx(Ue,{children:o.map(j=>n.jsxs(K,{value:j.id,children:[j.year," ",j.make," ",j.model]},j.id))})]})]})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("h3",{className:"text-lg font-semibold",children:"Loan Details"}),n.jsxs(J,{type:"button",variant:"outline",onClick:()=>u(!0),children:[n.jsx(Dl,{className:"h-4 w-4 mr-2"}),"Loan Calculator"]})]}),n.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"amount",children:"Loan Amount *"}),n.jsxs("div",{className:"relative",children:[n.jsx(It,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),n.jsx(Pe,{id:"amount",type:"number",value:v.amount,onChange:j=>x(E=>({...E,amount:parseFloat(j.target.value)||0})),className:"pl-10"})]})]}),n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"downPayment",children:"Down Payment"}),n.jsxs("div",{className:"relative",children:[n.jsx(It,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),n.jsx(Pe,{id:"downPayment",type:"number",value:v.downPayment,onChange:j=>x(E=>({...E,downPayment:parseFloat(j.target.value)||0})),className:"pl-10"})]})]})]}),n.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"term",children:"Term (months) *"}),n.jsxs(Ve,{value:v.term.toString(),onValueChange:j=>x(E=>({...E,term:parseInt(j)})),children:[n.jsx(ze,{children:n.jsx(qe,{})}),n.jsxs(Ue,{children:[n.jsx(K,{value:"12",children:"12 months (1 year)"}),n.jsx(K,{value:"24",children:"24 months (2 years)"}),n.jsx(K,{value:"36",children:"36 months (3 years)"}),n.jsx(K,{value:"48",children:"48 months (4 years)"}),n.jsx(K,{value:"60",children:"60 months (5 years)"}),n.jsx(K,{value:"72",children:"72 months (6 years)"}),n.jsx(K,{value:"84",children:"84 months (7 years)"}),n.jsx(K,{value:"96",children:"96 months (8 years)"}),n.jsx(K,{value:"120",children:"120 months (10 years)"})]})]})]}),n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"rate",children:"Interest Rate (%) *"}),n.jsx(Pe,{id:"rate",type:"number",step:"0.01",value:v.rate,onChange:j=>x(E=>({...E,rate:parseFloat(j.target.value)||0}))})]}),n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"paymentAmount",children:"Monthly Payment *"}),n.jsxs("div",{className:"relative",children:[n.jsx(It,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),n.jsx(Pe,{id:"paymentAmount",type:"number",step:"0.01",value:v.paymentAmount,onChange:j=>x(E=>({...E,paymentAmount:parseFloat(j.target.value)||0})),className:"pl-10"})]})]})]}),n.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"startDate",children:"Start Date *"}),n.jsx(Pe,{id:"startDate",type:"date",value:v.startDate,onChange:j=>x(E=>({...E,startDate:j.target.value}))})]}),n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"loanType",children:"Loan Type"}),n.jsxs(Ve,{value:v.loanType,onValueChange:j=>x(E=>({...E,loanType:j})),children:[n.jsx(ze,{children:n.jsx(qe,{})}),n.jsxs(Ue,{children:[n.jsx(K,{value:"standard",children:"Standard"}),n.jsx(K,{value:"bhph",children:"Buy Here Pay Here"}),n.jsx(K,{value:"balloon",children:"Balloon"}),n.jsx(K,{value:"lease",children:"Lease"})]})]})]})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-lg font-semibold",children:"Additional Options"}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Vt,{id:"includeInsurance",checked:v.includeInsurance,onCheckedChange:j=>x(E=>({...E,includeInsurance:!!j}))}),n.jsx(ae,{htmlFor:"includeInsurance",children:"Include Insurance"})]}),v.includeInsurance&&n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"insuranceAmount",children:"Monthly Insurance Amount"}),n.jsxs("div",{className:"relative",children:[n.jsx(It,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),n.jsx(Pe,{id:"insuranceAmount",type:"number",step:"0.01",value:v.insuranceAmount,onChange:j=>x(E=>({...E,insuranceAmount:parseFloat(j.target.value)||0})),className:"pl-10"})]})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Vt,{id:"includeTax",checked:v.includeTax,onCheckedChange:j=>x(E=>({...E,includeTax:!!j}))}),n.jsx(ae,{htmlFor:"includeTax",children:"Include Tax"})]}),v.includeTax&&n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"taxRate",children:"Tax Rate (%)"}),n.jsx(Pe,{id:"taxRate",type:"number",step:"0.01",value:v.taxRate,onChange:j=>x(E=>({...E,taxRate:parseFloat(j.target.value)||0}))})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-lg font-semibold",children:"Notes"}),n.jsx(tr,{value:v.notes,onChange:j=>x(E=>({...E,notes:j.target.value})),placeholder:"Add any additional notes about this loan...",rows:3})]}),n.jsxs("div",{className:"flex justify-end space-x-3 pt-6 border-t",children:[n.jsx(J,{type:"button",variant:"outline",onClick:t,disabled:c,children:"Cancel"}),n.jsx(J,{type:"submit",disabled:c,children:c?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Creating Loan..."]}):n.jsxs(n.Fragment,{children:[n.jsx(Rr,{className:"h-4 w-4 mr-2"}),"Create Loan"]})})]})]})})]})})}const dre=[{id:"1",customerId:"cust-1",customerName:"John Smith",vehicleId:"veh-1",vehicleInfo:"2024 Forest River Georgetown",amount:125e3,downPayment:2e4,term:60,rate:6.99,paymentAmount:2100.42,startDate:new Date("2024-01-15"),status:"active",remainingBalance:105e3,nextPaymentDate:new Date("2024-02-15"),createdAt:new Date("2024-01-15")},{id:"2",customerId:"cust-2",customerName:"Sarah Johnson",vehicleId:"veh-2",vehicleInfo:"2023 Winnebago View",amount:89e3,downPayment:15e3,term:72,rate:7.49,paymentAmount:1250.33,startDate:new Date("2024-01-10"),status:"active",remainingBalance:74e3,nextPaymentDate:new Date("2024-02-10"),createdAt:new Date("2024-01-10")}];function S_(){const[e,t]=C.useState(dre),[r,s]=C.useState(!1),[a,i]=C.useState(!1),[o,l]=C.useState(null),[c,d]=C.useState(!1);C.useState("dashboard"),C.useState("");const{toast:h}=At(),u=()=>{l(null),i(!0)},f=v=>{h({title:"Customer Added",description:`${v.firstName} ${v.lastName} has been added.`}),l(v.id),d(!1),i(!0)},m=async v=>{const x={id:Math.random().toString(36).substr(2,9),customerId:v.customerId,customerName:v.customerName,vehicleId:v.vehicleId,vehicleInfo:v.vehicleInfo,amount:v.amount,downPayment:v.downPayment,term:v.term,rate:v.rate,paymentAmount:v.paymentAmount,startDate:new Date(v.startDate),status:v.status,remainingBalance:v.amount-v.downPayment,nextPaymentDate:new Date(new Date(v.startDate).setMonth(new Date(v.startDate).getMonth()+1)),createdAt:new Date};t([...e,x]),i(!1),h({title:"Success",description:"Loan created successfully"})};return n.jsxs("div",{className:"space-y-8",children:[c&&n.jsx(Du,{onClose:()=>d(!1),onSuccess:f}),a&&n.jsx(cre,{preselectedCustomerId:o,onSave:m,onCancel:()=>i(!1),onAddNewCustomer:()=>{i(!1),d(!0)}}),n.jsx("div",{className:"ri-page-header",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"ri-page-title",children:"Finance & Loans"}),n.jsx("p",{className:"ri-page-description",children:"Manage loans, payments, and financial calculations"})]}),n.jsxs(J,{className:"shadow-sm",onClick:u,children:[n.jsx(Nt,{className:"h-4 w-4 mr-2"}),"New Loan"]})]})}),n.jsxs("div",{className:"ri-stats-grid",children:[n.jsxs(de,{className:"shadow-sm border-0 bg-gradient-to-br from-blue-50 to-blue-100/50",children:[n.jsxs(ye,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(be,{className:"text-sm font-medium text-blue-900",children:"Active Loans"}),n.jsx(It,{className:"h-4 w-4 text-blue-600"})]}),n.jsxs(ue,{children:[n.jsx("div",{className:"text-2xl font-bold text-blue-900",children:e.length}),n.jsxs("p",{className:"text-xs text-blue-600 flex items-center mt-1",children:[n.jsx(_t,{className:"h-3 w-3 mr-1"}),"Current loans"]})]})]}),n.jsxs(de,{className:"shadow-sm border-0 bg-gradient-to-br from-green-50 to-green-100/50",children:[n.jsxs(ye,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(be,{className:"text-sm font-medium text-green-900",children:"Total Financed"}),n.jsx(It,{className:"h-4 w-4 text-green-600"})]}),n.jsxs(ue,{children:[n.jsx("div",{className:"text-2xl font-bold text-green-900",children:_e(e.reduce((v,x)=>v+x.amount,0))}),n.jsxs("p",{className:"text-xs text-green-600 flex items-center mt-1",children:[n.jsx(_t,{className:"h-3 w-3 mr-1"}),"Loan volume"]})]})]}),n.jsxs(de,{className:"shadow-sm border-0 bg-gradient-to-br from-purple-50 to-purple-100/50",children:[n.jsxs(ye,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(be,{className:"text-sm font-medium text-purple-900",children:"Avg Rate"}),n.jsx(Dl,{className:"h-4 w-4 text-purple-600"})]}),n.jsxs(ue,{children:[n.jsxs("div",{className:"text-2xl font-bold text-purple-900",children:[(e.reduce((v,x)=>v+x.rate,0)/e.length).toFixed(2),"%"]}),n.jsxs("p",{className:"text-xs text-purple-600 flex items-center mt-1",children:[n.jsx(_t,{className:"h-3 w-3 mr-1"}),"Average interest rate"]})]})]}),n.jsxs(de,{className:"shadow-sm border-0 bg-gradient-to-br from-orange-50 to-orange-100/50",children:[n.jsxs(ye,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(be,{className:"text-sm font-medium text-orange-900",children:"Monthly Payments"}),n.jsx(mi,{className:"h-4 w-4 text-orange-600"})]}),n.jsxs(ue,{children:[n.jsx("div",{className:"text-2xl font-bold text-orange-900",children:_e(e.reduce((v,x)=>v+x.paymentAmount,0))}),n.jsxs("p",{className:"text-xs text-orange-600 flex items-center mt-1",children:[n.jsx(Lr,{className:"h-3 w-3 mr-1"}),"Total monthly"]})]})]})]}),n.jsxs(de,{className:"shadow-sm",children:[n.jsxs(ye,{children:[n.jsx(be,{className:"text-xl",children:"Loans"}),n.jsx($e,{children:"Manage customer loans and financing"})]}),n.jsx(ue,{children:n.jsxs("div",{className:"space-y-4",children:[e.map(v=>n.jsxs("div",{className:"ri-table-row",children:[n.jsx("div",{className:"flex items-center space-x-4 flex-1",children:n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[n.jsx("h3",{className:"font-semibold text-foreground",children:v.customerName}),n.jsx(Re,{className:"bg-blue-50 text-blue-700 border-blue-200",children:v.status.toUpperCase()})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm text-muted-foreground",children:[n.jsxs("div",{children:[n.jsx("span",{className:"font-medium",children:"Vehicle:"}),n.jsx("span",{className:"ml-1",children:v.vehicleInfo})]}),n.jsxs("div",{children:[n.jsx("span",{className:"font-medium",children:"Amount:"}),n.jsx("span",{className:"ml-1 font-bold text-primary",children:_e(v.amount)})]}),n.jsxs("div",{children:[n.jsx("span",{className:"font-medium",children:"Term:"}),n.jsxs("span",{className:"ml-1",children:[v.term," months @ ",v.rate,"%"]})]}),n.jsxs("div",{children:[n.jsx("span",{className:"font-medium",children:"Payment:"}),n.jsxs("span",{className:"ml-1",children:[_e(v.paymentAmount),"/month"]})]})]}),n.jsx("div",{className:"mt-2 bg-muted/30 p-2 rounded-md",children:n.jsxs("p",{className:"text-sm text-muted-foreground",children:[n.jsx("span",{className:"font-medium",children:"Next Payment:"})," ",v.nextPaymentDate.toLocaleDateString(),n.jsx("span",{className:"ml-4 font-medium",children:"Balance:"})," ",_e(v.remainingBalance)]})})]})}),n.jsxs("div",{className:"ri-action-buttons",children:[n.jsxs(J,{variant:"outline",size:"sm",className:"shadow-sm",onClick:()=>s(!0),children:[n.jsx(Dl,{className:"h-3 w-3 mr-1"}),"Calculator"]}),n.jsxs(J,{variant:"outline",size:"sm",className:"shadow-sm",children:[n.jsx(mi,{className:"h-3 w-3 mr-1"}),"Payments"]})]})]},v.id)),e.length===0&&n.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[n.jsx(It,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground/50"}),n.jsx("p",{children:"No loans found"}),n.jsx("p",{className:"text-sm",children:"Create your first loan to get started"})]})]})})]})]})}function ure(){return n.jsxs(Ps,{children:[n.jsx(Ft,{path:"/",element:n.jsx(S_,{})}),n.jsx(Ft,{path:"/*",element:n.jsx(S_,{})})]})}var yt=(e=>(e.PROSPECTING="prospecting",e.QUALIFICATION="qualification",e.NEEDS_ANALYSIS="needs_analysis",e.PROPOSAL="proposal",e.NEGOTIATION="negotiation",e.CLOSED_WON="closed_won",e.CLOSED_LOST="closed_lost",e))(yt||{}),Pr=(e=>(e.ACTIVE="active",e.WON="won",e.LOST="lost",e.ON_HOLD="on_hold",e.CANCELLED="cancelled",e))(Pr||{}),Io=(e=>(e.LOW="low",e.MEDIUM="medium",e.HIGH="high",e.CRITICAL="critical",e))(Io||{}),fc=(e=>(e.GEOGRAPHIC="geographic",e.INDUSTRY="industry",e.ACCOUNT_SIZE="account_size",e.PRODUCT_LINE="product_line",e))(fc||{});function hre(){const[e,t]=C.useState([]),[r,s]=C.useState([]),[a,i]=C.useState([]),[o,l]=C.useState([]),[c,d]=C.useState([]),[h,u]=C.useState(!1);C.useEffect(()=>{f()},[]);const f=()=>{const D=mn("renter-insight-deals",[{id:"1",name:"Georgetown Class A Sale - Smith Family",customerId:"cust-001",customerName:"John & Mary Smith",stage:yt.PROPOSAL,status:Pr.ACTIVE,priority:"high",value:145e3,probability:75,expectedCloseDate:new Date("2024-02-15"),assignedTo:"rep-001",territoryId:"territory-001",sourceId:"source-001",competitorIds:["comp-001"],products:[{id:"1",productId:"prod-001",productName:"2024 Forest River Georgetown",quantity:1,unitPrice:125e3,discount:5e3,total:12e4},{id:"2",productId:"prod-002",productName:"Extended Warranty Package",quantity:1,unitPrice:3500,discount:0,total:3500}],stageHistory:[],notes:"Customer very interested, financing pre-approved",requiresApproval:!0,approvalStatus:"pending",customFields:{tradeInValue:25e3,financingType:"bank_loan"},createdAt:new Date("2024-01-10"),updatedAt:new Date("2024-01-20")},{id:"2",name:"Travel Trailer - Johnson Family",customerId:"cust-002",customerName:"Sarah Johnson",stage:yt.NEGOTIATION,status:Pr.ACTIVE,priority:"medium",value:75e3,probability:85,expectedCloseDate:new Date("2024-02-10"),assignedTo:"rep-002",territoryId:"territory-002",competitorIds:[],products:[{id:"3",productId:"prod-003",productName:"2024 Airstream Flying Cloud",quantity:1,unitPrice:75e3,discount:2e3,total:73e3}],stageHistory:[],notes:"Ready to close, just finalizing delivery details",requiresApproval:!1,customFields:{},createdAt:new Date("2024-01-05"),updatedAt:new Date("2024-01-18")}]),F=mn("renter-insight-territories",[{id:"territory-001",name:"North Region",type:"geographic",description:"Northern states territory",assignedTo:["rep-001","rep-003"],rules:[{id:"1",field:"state",operator:"in_range",value:["IL","WI","MN","IA"],priority:1}],isActive:!0,createdAt:new Date("2024-01-01"),updatedAt:new Date("2024-01-01")},{id:"territory-002",name:"South Region",type:"geographic",description:"Southern states territory",assignedTo:["rep-002"],rules:[{id:"2",field:"state",operator:"in_range",value:["TX","FL","GA","NC"],priority:1}],isActive:!0,createdAt:new Date("2024-01-01"),updatedAt:new Date("2024-01-01")}]),M=mn("renter-insight-stage-history",[{id:"1",dealId:"1",fromStage:yt.QUALIFICATION,toStage:yt.NEEDS_ANALYSIS,changedBy:"rep-001",changedAt:new Date("2024-01-12"),duration:48,notes:"Customer qualified, moving to needs analysis"},{id:"2",dealId:"1",fromStage:yt.NEEDS_ANALYSIS,toStage:yt.PROPOSAL,changedBy:"rep-001",changedAt:new Date("2024-01-18"),duration:144,notes:"Proposal prepared and presented"}]);t(D),s(F),d(M)},m=D=>{Gr("renter-insight-deals",D)},v=D=>{Gr("renter-insight-stage-history",D)},x=async D=>{u(!0);try{const F={id:Math.random().toString(36).substr(2,9),name:D.name||"",customerId:D.customerId||"",customerName:D.customerName||"",stage:yt.PROSPECTING,status:Pr.ACTIVE,priority:D.priority||"medium",value:D.value||0,probability:10,expectedCloseDate:D.expectedCloseDate||new Date,assignedTo:D.assignedTo||"",territoryId:D.territoryId||"",sourceId:D.sourceId,competitorIds:D.competitorIds||[],products:D.products||[],stageHistory:[],notes:D.notes||"",requiresApproval:(D.value||0)>1e5,customFields:D.customFields||{},createdAt:new Date,updatedAt:new Date},M=[...e,F];return t(M),m(M),await g(F.id,void 0,yt.PROSPECTING,"system"),F}finally{u(!1)}},p=async(D,F,M)=>{const R=e.find(V=>V.id===D);if(!R)return;const B=R.stage,U=y(F),H=F===yt.CLOSED_WON?Pr.WON:F===yt.CLOSED_LOST?Pr.LOST:Pr.ACTIVE,q=F===yt.CLOSED_WON||F===yt.CLOSED_LOST?new Date:void 0,L=e.map(V=>V.id===D?{...V,stage:F,probability:U,status:H,actualCloseDate:q,updatedAt:new Date}:V);return t(L),m(L),await g(D,B,F,"current-user",M||`Stage changed from ${(B==null?void 0:B.replace("_"," "))||"none"} to ${F.replace("_"," ")}`),L.find(V=>V.id===D)},g=async(D,F,M,R,B)=>{const U=F?b(D,F):void 0,H={id:Math.random().toString(36).substr(2,9),dealId:D,fromStage:F,toStage:M,changedBy:R,changedAt:new Date,duration:U,notes:B},q=[...c,H];d(q),v(q)},b=(D,F)=>{const R=c.filter(B=>B.dealId===D).find(B=>B.toStage===F);return R?Math.floor((Date.now()-R.changedAt.getTime())/36e5):0},y=D=>{switch(D){case yt.PROSPECTING:return 10;case yt.QUALIFICATION:return 25;case yt.NEEDS_ANALYSIS:return 40;case yt.PROPOSAL:return 60;case yt.NEGOTIATION:return 80;case yt.CLOSED_WON:return 100;case yt.CLOSED_LOST:return 0;default:return 10}},j=async(D,F)=>{const M=r.find(R=>R.isActive);if(M){const R=e.map(B=>B.id===D?{...B,territoryId:M.id,updatedAt:new Date}:B);t(R),m(R)}},E=async(D,F)=>{const M={id:Math.random().toString(36).substr(2,9),dealId:D,workflowType:F,currentStep:1,totalSteps:2,steps:[{id:"1",stepNumber:1,approverRole:"sales_manager",approverIds:["manager-001"],requiredApprovals:1,currentApprovals:[],status:"pending"},{id:"2",stepNumber:2,approverRole:"sales_director",approverIds:["director-001"],requiredApprovals:1,currentApprovals:[],status:"pending"}],status:"pending",requestedBy:"current-user",requestedAt:new Date};return i(R=>[...R,M]),M},S=async(D,F,M)=>{const R={id:Math.random().toString(36).substr(2,9),dealId:D,outcome:F,primaryReason:M.primaryReason||"",secondaryReasons:M.secondaryReasons||[],competitorWon:M.competitorWon,feedback:M.feedback||"",lessonsLearned:M.lessonsLearned||[],actionItems:M.actionItems||[],reportedBy:"current-user",reportedAt:new Date};return l(B=>[...B,R]),R},N=()=>{const D=e.length,F=e.reduce((V,G)=>V+G.value,0),M=e.filter(V=>V.status===Pr.WON).length,R=e.filter(V=>V.status===Pr.WON).reduce((V,G)=>V+G.value,0),B=e.filter(V=>V.status===Pr.LOST).length,U=e.filter(V=>V.status===Pr.LOST).reduce((V,G)=>V+G.value,0),H=D>0?M/D*100:0,q=D>0?F/D:0,L=w();return{totalDeals:D,totalValue:F,wonDeals:M,wonValue:R,lostDeals:B,lostValue:U,winRate:H,averageDealSize:q,averageSalesCycle:L,conversionRates:_()}},w=()=>{const D=e.filter(M=>M.actualCloseDate);return D.length===0?0:D.reduce((M,R)=>{const B=new Date(R.actualCloseDate),U=new Date(R.createdAt),H=isNaN(B.getTime())?0:B.getTime(),q=isNaN(U.getTime())?0:U.getTime(),L=H&&q?Math.floor((H-q)/(1e3*60*60*24)):0;return M+L},0)/D.length},_=()=>[{fromStage:yt.PROSPECTING,toStage:yt.QUALIFICATION,rate:65,averageDuration:72},{fromStage:yt.QUALIFICATION,toStage:yt.NEEDS_ANALYSIS,rate:75,averageDuration:48},{fromStage:yt.NEEDS_ANALYSIS,toStage:yt.PROPOSAL,rate:80,averageDuration:96},{fromStage:yt.PROPOSAL,toStage:yt.NEGOTIATION,rate:70,averageDuration:120},{fromStage:yt.NEGOTIATION,toStage:yt.CLOSED_WON,rate:85,averageDuration:168}];return{deals:e,territories:r,approvalWorkflows:a,winLossReports:o,stageHistory:c,loading:h,createDeal:x,updateDealStage:p,assignTerritory:j,createApprovalWorkflow:E,createWinLossReport:S,getDealMetrics:N,getDealsByStage:D=>e.filter(F=>F.stage===D),getDealsByTerritory:D=>e.filter(F=>F.territoryId===D),getDealsByRep:D=>e.filter(F=>F.assignedTo===D),getStageHistory:D=>c.filter(F=>F.dealId===D).sort((F,M)=>new Date(F.changedAt).getTime()-new Date(M.changedAt).getTime())}}function hS(e,t){return hS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},hS(e,t)}function N7(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,hS(e,t)}function yr(e){"@babel/helpers - typeof";return yr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yr(e)}function fre(e,t){if(yr(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(yr(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function mre(e){var t=fre(e,"string");return yr(t)=="symbol"?t:t+""}function pre(e,t,r){return(t=mre(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function C_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function A_(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?C_(Object(r),!0).forEach(function(s){pre(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):C_(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function ua(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var E_=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),M2=function(){return Math.random().toString(36).substring(7).split("").join(".")},P_={INIT:"@@redux/INIT"+M2(),REPLACE:"@@redux/REPLACE"+M2(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+M2()}};function vre(e){if(typeof e!="object"||e===null)return!1;for(var t=e;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function S7(e,t,r){var s;if(typeof t=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(ua(0));if(typeof t=="function"&&typeof r>"u"&&(r=t,t=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(ua(1));return r(S7)(e,t)}if(typeof e!="function")throw new Error(ua(2));var a=e,i=t,o=[],l=o,c=!1;function d(){l===o&&(l=o.slice())}function h(){if(c)throw new Error(ua(3));return i}function u(x){if(typeof x!="function")throw new Error(ua(4));if(c)throw new Error(ua(5));var p=!0;return d(),l.push(x),function(){if(p){if(c)throw new Error(ua(6));p=!1,d();var b=l.indexOf(x);l.splice(b,1),o=null}}}function f(x){if(!vre(x))throw new Error(ua(7));if(typeof x.type>"u")throw new Error(ua(8));if(c)throw new Error(ua(9));try{c=!0,i=a(i,x)}finally{c=!1}for(var p=o=l,g=0;g<p.length;g++){var b=p[g];b()}return x}function m(x){if(typeof x!="function")throw new Error(ua(10));a=x,f({type:P_.REPLACE})}function v(){var x,p=u;return x={subscribe:function(b){if(typeof b!="object"||b===null)throw new Error(ua(11));function y(){b.next&&b.next(h())}y();var j=p(y);return{unsubscribe:j}}},x[E_]=function(){return this},x}return f({type:P_.INIT}),s={dispatch:f,subscribe:u,getState:h,replaceReducer:m},s[E_]=v,s}function T_(e,t){return function(){return t(e.apply(this,arguments))}}function __(e,t){if(typeof e=="function")return T_(e,t);if(typeof e!="object"||e===null)throw new Error(ua(16));var r={};for(var s in e){var a=e[s];typeof a=="function"&&(r[s]=T_(a,t))}return r}function C7(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.length===0?function(s){return s}:t.length===1?t[0]:t.reduce(function(s,a){return function(){return s(a.apply(void 0,arguments))}})}function gre(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(s){return function(){var a=s.apply(void 0,arguments),i=function(){throw new Error(ua(15))},o={getState:a.getState,dispatch:function(){return i.apply(void 0,arguments)}},l=t.map(function(c){return c(o)});return i=C7.apply(void 0,l)(a.dispatch),A_(A_({},a),{},{dispatch:i})}}}var A7=pe.createContext(null);function xre(e){e()}var E7=xre,yre=function(t){return E7=t},bre=function(){return E7};function jre(){var e=bre(),t=null,r=null;return{clear:function(){t=null,r=null},notify:function(){e(function(){for(var a=t;a;)a.callback(),a=a.next})},get:function(){for(var a=[],i=t;i;)a.push(i),i=i.next;return a},subscribe:function(a){var i=!0,o=r={callback:a,next:null,prev:r};return o.prev?o.prev.next=o:t=o,function(){!i||t===null||(i=!1,o.next?o.next.prev=o.prev:r=o.prev,o.prev?o.prev.next=o.next:t=o.next)}}}}var I_={notify:function(){},get:function(){return[]}};function P7(e,t){var r,s=I_;function a(u){return c(),s.subscribe(u)}function i(){s.notify()}function o(){h.onStateChange&&h.onStateChange()}function l(){return!!r}function c(){r||(r=t?t.addNestedSub(o):e.subscribe(o),s=jre())}function d(){r&&(r(),r=void 0,s.clear(),s=I_)}var h={addNestedSub:a,notifyNestedSubs:i,handleChangeWrapper:o,isSubscribed:l,trySubscribe:c,tryUnsubscribe:d,getListeners:function(){return s}};return h}var T7=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?C.useLayoutEffect:C.useEffect;function wre(e){var t=e.store,r=e.context,s=e.children,a=C.useMemo(function(){var l=P7(t);return{store:t,subscription:l}},[t]),i=C.useMemo(function(){return t.getState()},[t]);T7(function(){var l=a.subscription;return l.onStateChange=l.notifyNestedSubs,l.trySubscribe(),i!==t.getState()&&l.notifyNestedSubs(),function(){l.tryUnsubscribe(),l.onStateChange=null}},[a,i]);var o=r||A7;return pe.createElement(o.Provider,{value:a},s)}function Jy(e,t){if(e==null)return{};var r={};for(var s in e)if({}.hasOwnProperty.call(e,s)){if(t.indexOf(s)!==-1)continue;r[s]=e[s]}return r}var _7={exports:{}},_r={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fs=typeof Symbol=="function"&&Symbol.for,R4=fs?Symbol.for("react.element"):60103,F4=fs?Symbol.for("react.portal"):60106,V1=fs?Symbol.for("react.fragment"):60107,q1=fs?Symbol.for("react.strict_mode"):60108,W1=fs?Symbol.for("react.profiler"):60114,H1=fs?Symbol.for("react.provider"):60109,G1=fs?Symbol.for("react.context"):60110,$4=fs?Symbol.for("react.async_mode"):60111,K1=fs?Symbol.for("react.concurrent_mode"):60111,Y1=fs?Symbol.for("react.forward_ref"):60112,X1=fs?Symbol.for("react.suspense"):60113,Nre=fs?Symbol.for("react.suspense_list"):60120,Q1=fs?Symbol.for("react.memo"):60115,J1=fs?Symbol.for("react.lazy"):60116,Sre=fs?Symbol.for("react.block"):60121,Cre=fs?Symbol.for("react.fundamental"):60117,Are=fs?Symbol.for("react.responder"):60118,Ere=fs?Symbol.for("react.scope"):60119;function Ga(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case R4:switch(e=e.type,e){case $4:case K1:case V1:case W1:case q1:case X1:return e;default:switch(e=e&&e.$$typeof,e){case G1:case Y1:case J1:case Q1:case H1:return e;default:return t}}case F4:return t}}}function I7(e){return Ga(e)===K1}_r.AsyncMode=$4;_r.ConcurrentMode=K1;_r.ContextConsumer=G1;_r.ContextProvider=H1;_r.Element=R4;_r.ForwardRef=Y1;_r.Fragment=V1;_r.Lazy=J1;_r.Memo=Q1;_r.Portal=F4;_r.Profiler=W1;_r.StrictMode=q1;_r.Suspense=X1;_r.isAsyncMode=function(e){return I7(e)||Ga(e)===$4};_r.isConcurrentMode=I7;_r.isContextConsumer=function(e){return Ga(e)===G1};_r.isContextProvider=function(e){return Ga(e)===H1};_r.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===R4};_r.isForwardRef=function(e){return Ga(e)===Y1};_r.isFragment=function(e){return Ga(e)===V1};_r.isLazy=function(e){return Ga(e)===J1};_r.isMemo=function(e){return Ga(e)===Q1};_r.isPortal=function(e){return Ga(e)===F4};_r.isProfiler=function(e){return Ga(e)===W1};_r.isStrictMode=function(e){return Ga(e)===q1};_r.isSuspense=function(e){return Ga(e)===X1};_r.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===V1||e===K1||e===W1||e===q1||e===X1||e===Nre||typeof e=="object"&&e!==null&&(e.$$typeof===J1||e.$$typeof===Q1||e.$$typeof===H1||e.$$typeof===G1||e.$$typeof===Y1||e.$$typeof===Cre||e.$$typeof===Are||e.$$typeof===Ere||e.$$typeof===Sre)};_r.typeOf=Ga;_7.exports=_r;var Pre=_7.exports,M4=Pre,Tre={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},_re={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},Ire={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},k7={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},B4={};B4[M4.ForwardRef]=Ire;B4[M4.Memo]=k7;function k_(e){return M4.isMemo(e)?k7:B4[e.$$typeof]||Tre}var kre=Object.defineProperty,Dre=Object.getOwnPropertyNames,D_=Object.getOwnPropertySymbols,Ore=Object.getOwnPropertyDescriptor,Lre=Object.getPrototypeOf,O_=Object.prototype;function D7(e,t,r){if(typeof t!="string"){if(O_){var s=Lre(t);s&&s!==O_&&D7(e,s,r)}var a=Dre(t);D_&&(a=a.concat(D_(t)));for(var i=k_(e),o=k_(t),l=0;l<a.length;++l){var c=a[l];if(!_re[c]&&!(r&&r[c])&&!(o&&o[c])&&!(i&&i[c])){var d=Ore(t,c);try{kre(e,c,d)}catch{}}}}return e}var Rre=D7;const L_=Cr(Rre);var O7={exports:{}},Ur={};/** @license React v17.0.2
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Z1=60103,ej=60106,Fg=60107,$g=60108,Mg=60114,Bg=60109,zg=60110,Ug=60112,Vg=60113,z4=60120,qg=60115,Wg=60116,L7=60121,R7=60122,F7=60117,$7=60129,M7=60131;if(typeof Symbol=="function"&&Symbol.for){var xs=Symbol.for;Z1=xs("react.element"),ej=xs("react.portal"),Fg=xs("react.fragment"),$g=xs("react.strict_mode"),Mg=xs("react.profiler"),Bg=xs("react.provider"),zg=xs("react.context"),Ug=xs("react.forward_ref"),Vg=xs("react.suspense"),z4=xs("react.suspense_list"),qg=xs("react.memo"),Wg=xs("react.lazy"),L7=xs("react.block"),R7=xs("react.server.block"),F7=xs("react.fundamental"),$7=xs("react.debug_trace_mode"),M7=xs("react.legacy_hidden")}function oo(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case Z1:switch(e=e.type,e){case Fg:case Mg:case $g:case Vg:case z4:return e;default:switch(e=e&&e.$$typeof,e){case zg:case Ug:case Wg:case qg:case Bg:return e;default:return t}}case ej:return t}}}var Fre=Bg,$re=Z1,Mre=Ug,Bre=Fg,zre=Wg,Ure=qg,Vre=ej,qre=Mg,Wre=$g,Hre=Vg;Ur.ContextConsumer=zg;Ur.ContextProvider=Fre;Ur.Element=$re;Ur.ForwardRef=Mre;Ur.Fragment=Bre;Ur.Lazy=zre;Ur.Memo=Ure;Ur.Portal=Vre;Ur.Profiler=qre;Ur.StrictMode=Wre;Ur.Suspense=Hre;Ur.isAsyncMode=function(){return!1};Ur.isConcurrentMode=function(){return!1};Ur.isContextConsumer=function(e){return oo(e)===zg};Ur.isContextProvider=function(e){return oo(e)===Bg};Ur.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===Z1};Ur.isForwardRef=function(e){return oo(e)===Ug};Ur.isFragment=function(e){return oo(e)===Fg};Ur.isLazy=function(e){return oo(e)===Wg};Ur.isMemo=function(e){return oo(e)===qg};Ur.isPortal=function(e){return oo(e)===ej};Ur.isProfiler=function(e){return oo(e)===Mg};Ur.isStrictMode=function(e){return oo(e)===$g};Ur.isSuspense=function(e){return oo(e)===Vg};Ur.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===Fg||e===Mg||e===$7||e===$g||e===Vg||e===z4||e===M7||typeof e=="object"&&e!==null&&(e.$$typeof===Wg||e.$$typeof===qg||e.$$typeof===Bg||e.$$typeof===zg||e.$$typeof===Ug||e.$$typeof===F7||e.$$typeof===L7||e[0]===R7)};Ur.typeOf=oo;O7.exports=Ur;var Gre=O7.exports,Kre=["getDisplayName","methodName","renderCountProp","shouldHandleStateChanges","storeKey","withRef","forwardRef","context"],Yre=["reactReduxForwardedRef"],Xre=[],Qre=[null,null];function Jre(e,t){var r=e[1];return[t.payload,r+1]}function R_(e,t,r){T7(function(){return e.apply(void 0,t)},r)}function Zre(e,t,r,s,a,i,o){e.current=s,t.current=a,r.current=!1,i.current&&(i.current=null,o())}function ene(e,t,r,s,a,i,o,l,c,d){if(e){var h=!1,u=null,f=function(){if(!h){var x=t.getState(),p,g;try{p=s(x,a.current)}catch(b){g=b,u=b}g||(u=null),p===i.current?o.current||c():(i.current=p,l.current=p,o.current=!0,d({type:"STORE_UPDATED",payload:{error:g}}))}};r.onStateChange=f,r.trySubscribe(),f();var m=function(){if(h=!0,r.tryUnsubscribe(),r.onStateChange=null,u)throw u};return m}}var tne=function(){return[null,0]};function rne(e,t){t===void 0&&(t={});var r=t,s=r.getDisplayName,a=s===void 0?function(y){return"ConnectAdvanced("+y+")"}:s,i=r.methodName,o=i===void 0?"connectAdvanced":i,l=r.renderCountProp,c=l===void 0?void 0:l,d=r.shouldHandleStateChanges,h=d===void 0?!0:d,u=r.storeKey,f=u===void 0?"store":u;r.withRef;var m=r.forwardRef,v=m===void 0?!1:m,x=r.context,p=x===void 0?A7:x,g=Jy(r,Kre),b=p;return function(j){var E=j.displayName||j.name||"Component",S=a(E),N=st({},g,{getDisplayName:a,methodName:o,renderCountProp:c,shouldHandleStateChanges:h,storeKey:f,displayName:S,wrappedComponentName:E,WrappedComponent:j}),w=g.pure;function _(D){return e(D.dispatch,N)}var k=w?C.useMemo:function(D){return D()};function T(D){var F=C.useMemo(function(){var xe=D.reactReduxForwardedRef,Fe=Jy(D,Yre);return[D.context,xe,Fe]},[D]),M=F[0],R=F[1],B=F[2],U=C.useMemo(function(){return M&&M.Consumer&&Gre.isContextConsumer(pe.createElement(M.Consumer,null))?M:b},[M,b]),H=C.useContext(U),q=!!D.store&&!!D.store.getState&&!!D.store.dispatch;H&&H.store;var L=q?D.store:H.store,V=C.useMemo(function(){return _(L)},[L]),G=C.useMemo(function(){if(!h)return Qre;var xe=P7(L,q?null:H.subscription),Fe=xe.notifyNestedSubs.bind(xe);return[xe,Fe]},[L,q,H]),Z=G[0],te=G[1],he=C.useMemo(function(){return q?H:st({},H,{subscription:Z})},[q,H,Z]),fe=C.useReducer(Jre,Xre,tne),oe=fe[0],we=oe[0],je=fe[1];if(we&&we.error)throw we.error;var ve=C.useRef(),Le=C.useRef(B),ge=C.useRef(),le=C.useRef(!1),re=k(function(){return ge.current&&B===Le.current?ge.current:V(L.getState(),B)},[L,we,B]);R_(Zre,[Le,ve,le,B,re,ge,te]),R_(ene,[h,L,Z,V,Le,ve,le,ge,te,je],[L,Z,V]);var Ce=C.useMemo(function(){return pe.createElement(j,st({},re,{ref:R}))},[R,j,re]),Ne=C.useMemo(function(){return h?pe.createElement(U.Provider,{value:he},Ce):Ce},[U,Ce,he]);return Ne}var A=w?pe.memo(T):T;if(A.WrappedComponent=j,A.displayName=T.displayName=S,v){var O=pe.forwardRef(function(F,M){return pe.createElement(A,st({},F,{reactReduxForwardedRef:M}))});return O.displayName=S,O.WrappedComponent=j,L_(O,j)}return L_(A,j)}}function F_(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}function B2(e,t){if(F_(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),s=Object.keys(t);if(r.length!==s.length)return!1;for(var a=0;a<r.length;a++)if(!Object.prototype.hasOwnProperty.call(t,r[a])||!F_(e[r[a]],t[r[a]]))return!1;return!0}function nne(e,t){var r={},s=function(o){var l=e[o];typeof l=="function"&&(r[o]=function(){return t(l.apply(void 0,arguments))})};for(var a in e)s(a);return r}function U4(e){return function(r,s){var a=e(r,s);function i(){return a}return i.dependsOnOwnProps=!1,i}}function $_(e){return e.dependsOnOwnProps!==null&&e.dependsOnOwnProps!==void 0?!!e.dependsOnOwnProps:e.length!==1}function B7(e,t){return function(s,a){a.displayName;var i=function(l,c){return i.dependsOnOwnProps?i.mapToProps(l,c):i.mapToProps(l)};return i.dependsOnOwnProps=!0,i.mapToProps=function(l,c){i.mapToProps=e,i.dependsOnOwnProps=$_(e);var d=i(l,c);return typeof d=="function"&&(i.mapToProps=d,i.dependsOnOwnProps=$_(d),d=i(l,c)),d},i}}function sne(e){return typeof e=="function"?B7(e):void 0}function ane(e){return e?void 0:U4(function(t){return{dispatch:t}})}function ine(e){return e&&typeof e=="object"?U4(function(t){return nne(e,t)}):void 0}const one=[sne,ane,ine];function lne(e){return typeof e=="function"?B7(e):void 0}function cne(e){return e?void 0:U4(function(){return{}})}const dne=[lne,cne];function une(e,t,r){return st({},r,e,t)}function hne(e){return function(r,s){s.displayName;var a=s.pure,i=s.areMergedPropsEqual,o=!1,l;return function(d,h,u){var f=e(d,h,u);return o?(!a||!i(f,l))&&(l=f):(o=!0,l=f),l}}}function fne(e){return typeof e=="function"?hne(e):void 0}function mne(e){return e?void 0:function(){return une}}const pne=[fne,mne];var vne=["initMapStateToProps","initMapDispatchToProps","initMergeProps"];function gne(e,t,r,s){return function(i,o){return r(e(i,o),t(s,o),o)}}function xne(e,t,r,s,a){var i=a.areStatesEqual,o=a.areOwnPropsEqual,l=a.areStatePropsEqual,c=!1,d,h,u,f,m;function v(y,j){return d=y,h=j,u=e(d,h),f=t(s,h),m=r(u,f,h),c=!0,m}function x(){return u=e(d,h),t.dependsOnOwnProps&&(f=t(s,h)),m=r(u,f,h),m}function p(){return e.dependsOnOwnProps&&(u=e(d,h)),t.dependsOnOwnProps&&(f=t(s,h)),m=r(u,f,h),m}function g(){var y=e(d,h),j=!l(y,u);return u=y,j&&(m=r(u,f,h)),m}function b(y,j){var E=!o(j,h),S=!i(y,d,j,h);return d=y,h=j,E&&S?x():E?p():S?g():m}return function(j,E){return c?b(j,E):v(j,E)}}function yne(e,t){var r=t.initMapStateToProps,s=t.initMapDispatchToProps,a=t.initMergeProps,i=Jy(t,vne),o=r(e,i),l=s(e,i),c=a(e,i),d=i.pure?xne:gne;return d(o,l,c,e,i)}var bne=["pure","areStatesEqual","areOwnPropsEqual","areStatePropsEqual","areMergedPropsEqual"];function z2(e,t,r){for(var s=t.length-1;s>=0;s--){var a=t[s](e);if(a)return a}return function(i,o){throw new Error("Invalid value of type "+typeof e+" for "+r+" argument when connecting component "+o.wrappedComponentName+".")}}function jne(e,t){return e===t}function wne(e){var t=e===void 0?{}:e,r=t.connectHOC,s=r===void 0?rne:r,a=t.mapStateToPropsFactories,i=a===void 0?dne:a,o=t.mapDispatchToPropsFactories,l=o===void 0?one:o,c=t.mergePropsFactories,d=c===void 0?pne:c,h=t.selectorFactory,u=h===void 0?yne:h;return function(m,v,x,p){p===void 0&&(p={});var g=p,b=g.pure,y=b===void 0?!0:b,j=g.areStatesEqual,E=j===void 0?jne:j,S=g.areOwnPropsEqual,N=S===void 0?B2:S,w=g.areStatePropsEqual,_=w===void 0?B2:w,k=g.areMergedPropsEqual,T=k===void 0?B2:k,A=Jy(g,bne),O=z2(m,i,"mapStateToProps"),D=z2(v,l,"mapDispatchToProps"),F=z2(x,d,"mergeProps");return s(u,st({methodName:"connect",getDisplayName:function(R){return"Connect("+R+")"},shouldHandleStateChanges:!!m,initMapStateToProps:O,initMapDispatchToProps:D,initMergeProps:F,pure:y,areStatesEqual:E,areOwnPropsEqual:N,areStatePropsEqual:_,areMergedPropsEqual:T},A))}}const z7=wne();yre(Vl.unstable_batchedUpdates);function Nne(e,t){if(e.length!==t.length)return!1;for(var r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}function U7(e,t){var r=C.useState(function(){return{inputs:t,result:e()}})[0],s=C.useRef(!0),a=C.useRef(r),i=s.current||!!(t&&a.current.inputs&&Nne(t,a.current.inputs)),o=i?a.current:{inputs:t,result:e()};return C.useEffect(function(){s.current=!1,a.current=o},[o]),o.result}function Sne(e,t){return U7(function(){return e},t)}var vr=U7,Et=Sne,Cne=!0,U2="Invariant failed";function Zc(e,t){if(!e){if(Cne)throw new Error(U2);var r=typeof t=="function"?t():t,s=r?"".concat(U2,": ").concat(r):U2;throw new Error(s)}}var Qi=function(t){var r=t.top,s=t.right,a=t.bottom,i=t.left,o=s-i,l=a-r,c={top:r,right:s,bottom:a,left:i,width:o,height:l,x:i,y:r,center:{x:(s+i)/2,y:(a+r)/2}};return c},V4=function(t,r){return{top:t.top-r.top,left:t.left-r.left,bottom:t.bottom+r.bottom,right:t.right+r.right}},M_=function(t,r){return{top:t.top+r.top,left:t.left+r.left,bottom:t.bottom-r.bottom,right:t.right-r.right}},Ane=function(t,r){return{top:t.top+r.y,left:t.left+r.x,bottom:t.bottom+r.y,right:t.right+r.x}},V2={top:0,right:0,bottom:0,left:0},q4=function(t){var r=t.borderBox,s=t.margin,a=s===void 0?V2:s,i=t.border,o=i===void 0?V2:i,l=t.padding,c=l===void 0?V2:l,d=Qi(V4(r,a)),h=Qi(M_(r,o)),u=Qi(M_(h,c));return{marginBox:d,borderBox:Qi(r),paddingBox:h,contentBox:u,margin:a,border:o,padding:c}},ri=function(t){var r=t.slice(0,-2),s=t.slice(-2);if(s!=="px")return 0;var a=Number(r);return isNaN(a)&&Zc(!1),a},Ene=function(){return{x:window.pageXOffset,y:window.pageYOffset}},Zy=function(t,r){var s=t.borderBox,a=t.border,i=t.margin,o=t.padding,l=Ane(s,r);return q4({borderBox:l,border:a,margin:i,padding:o})},eb=function(t,r){return r===void 0&&(r=Ene()),Zy(t,r)},V7=function(t,r){var s={top:ri(r.marginTop),right:ri(r.marginRight),bottom:ri(r.marginBottom),left:ri(r.marginLeft)},a={top:ri(r.paddingTop),right:ri(r.paddingRight),bottom:ri(r.paddingBottom),left:ri(r.paddingLeft)},i={top:ri(r.borderTopWidth),right:ri(r.borderRightWidth),bottom:ri(r.borderBottomWidth),left:ri(r.borderLeftWidth)};return q4({borderBox:t,margin:s,padding:a,border:i})},q7=function(t){var r=t.getBoundingClientRect(),s=window.getComputedStyle(t);return V7(r,s)},B_=Number.isNaN||function(t){return typeof t=="number"&&t!==t};function Pne(e,t){return!!(e===t||B_(e)&&B_(t))}function Tne(e,t){if(e.length!==t.length)return!1;for(var r=0;r<e.length;r++)if(!Pne(e[r],t[r]))return!1;return!0}function ds(e,t){t===void 0&&(t=Tne);var r,s=[],a,i=!1;function o(){for(var l=[],c=0;c<arguments.length;c++)l[c]=arguments[c];return i&&r===this&&t(l,s)||(a=e.apply(this,l),i=!0,r=this,s=l),a}return o}var _ne=function(t){var r=[],s=null,a=function(){for(var o=arguments.length,l=new Array(o),c=0;c<o;c++)l[c]=arguments[c];r=l,!s&&(s=requestAnimationFrame(function(){s=null,t.apply(void 0,r)}))};return a.cancel=function(){s&&(cancelAnimationFrame(s),s=null)},a};const Fv=_ne;function W7(e,t){}W7.bind(null,"warn");W7.bind(null,"error");function Uc(){}function Ine(e,t){return st({},e,{},t)}function ui(e,t,r){var s=t.map(function(a){var i=Ine(r,a.options);return e.addEventListener(a.eventName,a.fn,i),function(){e.removeEventListener(a.eventName,a.fn,i)}});return function(){s.forEach(function(i){i()})}}var kne="Invariant failed";function tb(e){this.message=e}tb.prototype.toString=function(){return this.message};function ot(e,t){if(!e)throw new tb(kne)}var Dne=function(e){N7(t,e);function t(){for(var s,a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return s=e.call.apply(e,[this].concat(i))||this,s.callbacks=null,s.unbind=Uc,s.onWindowError=function(l){var c=s.getCallbacks();c.isDragging()&&c.tryAbort();var d=l.error;d instanceof tb&&l.preventDefault()},s.getCallbacks=function(){if(!s.callbacks)throw new Error("Unable to find AppCallbacks in <ErrorBoundary/>");return s.callbacks},s.setCallbacks=function(l){s.callbacks=l},s}var r=t.prototype;return r.componentDidMount=function(){this.unbind=ui(window,[{eventName:"error",fn:this.onWindowError}])},r.componentDidCatch=function(a){if(a instanceof tb){this.setState({});return}throw a},r.componentWillUnmount=function(){this.unbind()},r.render=function(){return this.props.children(this.setCallbacks)},t}(pe.Component),One=`
  Press space bar to start a drag.
  When dragging you can use the arrow keys to move the item around and escape to cancel.
  Some screen readers may require you to be in focus mode or to use your pass through key
`,rb=function(t){return t+1},Lne=function(t){return`
  You have lifted an item in position `+rb(t.source.index)+`
`},H7=function(t,r){var s=t.droppableId===r.droppableId,a=rb(t.index),i=rb(r.index);return s?`
      You have moved the item from position `+a+`
      to position `+i+`
    `:`
    You have moved the item from position `+a+`
    in list `+t.droppableId+`
    to list `+r.droppableId+`
    in position `+i+`
  `},G7=function(t,r,s){var a=r.droppableId===s.droppableId;return a?`
      The item `+t+`
      has been combined with `+s.draggableId:`
      The item `+t+`
      in list `+r.droppableId+`
      has been combined with `+s.draggableId+`
      in list `+s.droppableId+`
    `},Rne=function(t){var r=t.destination;if(r)return H7(t.source,r);var s=t.combine;return s?G7(t.draggableId,t.source,s):"You are over an area that cannot be dropped on"},z_=function(t){return`
  The item has returned to its starting position
  of `+rb(t.index)+`
`},Fne=function(t){if(t.reason==="CANCEL")return`
      Movement cancelled.
      `+z_(t.source)+`
    `;var r=t.destination,s=t.combine;return r?`
      You have dropped the item.
      `+H7(t.source,r)+`
    `:s?`
      You have dropped the item.
      `+G7(t.draggableId,t.source,s)+`
    `:`
    The item has been dropped while not over a drop area.
    `+z_(t.source)+`
  `},my={dragHandleUsageInstructions:One,onDragStart:Lne,onDragUpdate:Rne,onDragEnd:Fne},hs={x:0,y:0},Ss=function(t,r){return{x:t.x+r.x,y:t.y+r.y}},$a=function(t,r){return{x:t.x-r.x,y:t.y-r.y}},Vc=function(t,r){return t.x===r.x&&t.y===r.y},um=function(t){return{x:t.x!==0?-t.x:0,y:t.y!==0?-t.y:0}},yu=function(t,r,s){var a;return s===void 0&&(s=0),a={},a[t]=r,a[t==="x"?"y":"x"]=s,a},$v=function(t,r){return Math.sqrt(Math.pow(r.x-t.x,2)+Math.pow(r.y-t.y,2))},U_=function(t,r){return Math.min.apply(Math,r.map(function(s){return $v(t,s)}))},K7=function(t){return function(r){return{x:t(r.x),y:t(r.y)}}},$ne=function(e,t){var r=Qi({top:Math.max(t.top,e.top),right:Math.min(t.right,e.right),bottom:Math.min(t.bottom,e.bottom),left:Math.max(t.left,e.left)});return r.width<=0||r.height<=0?null:r},Hg=function(t,r){return{top:t.top+r.y,left:t.left+r.x,bottom:t.bottom+r.y,right:t.right+r.x}},V_=function(t){return[{x:t.left,y:t.top},{x:t.right,y:t.top},{x:t.left,y:t.bottom},{x:t.right,y:t.bottom}]},Mne={top:0,right:0,bottom:0,left:0},Bne=function(t,r){return r?Hg(t,r.scroll.diff.displacement):t},zne=function(t,r,s){if(s&&s.increasedBy){var a;return st({},t,(a={},a[r.end]=t[r.end]+s.increasedBy[r.line],a))}return t},Une=function(t,r){return r&&r.shouldClipSubject?$ne(r.pageMarginBox,t):Qi(t)},Cf=function(e){var t=e.page,r=e.withPlaceholder,s=e.axis,a=e.frame,i=Bne(t.marginBox,a),o=zne(i,s,r),l=Une(o,a);return{page:t,withPlaceholder:r,active:l}},W4=function(e,t){e.frame||ot(!1);var r=e.frame,s=$a(t,r.scroll.initial),a=um(s),i=st({},r,{scroll:{initial:r.scroll.initial,current:t,diff:{value:s,displacement:a},max:r.scroll.max}}),o=Cf({page:e.subject.page,withPlaceholder:e.subject.withPlaceholder,axis:e.axis,frame:i}),l=st({},e,{frame:i,subject:o});return l};function nb(e){return Object.values?Object.values(e):Object.keys(e).map(function(t){return e[t]})}function H4(e,t){if(e.findIndex)return e.findIndex(t);for(var r=0;r<e.length;r++)if(t(e[r]))return r;return-1}function dd(e,t){if(e.find)return e.find(t);var r=H4(e,t);if(r!==-1)return e[r]}function Y7(e){return Array.prototype.slice.call(e)}var X7=ds(function(e){return e.reduce(function(t,r){return t[r.descriptor.id]=r,t},{})}),Q7=ds(function(e){return e.reduce(function(t,r){return t[r.descriptor.id]=r,t},{})}),tj=ds(function(e){return nb(e)}),Vne=ds(function(e){return nb(e)}),hm=ds(function(e,t){var r=Vne(t).filter(function(s){return e===s.descriptor.droppableId}).sort(function(s,a){return s.descriptor.index-a.descriptor.index});return r});function G4(e){return e.at&&e.at.type==="REORDER"?e.at.destination:null}function rj(e){return e.at&&e.at.type==="COMBINE"?e.at.combine:null}var nj=ds(function(e,t){return t.filter(function(r){return r.descriptor.id!==e.descriptor.id})}),qne=function(e){var t=e.isMovingForward,r=e.draggable,s=e.destination,a=e.insideDestination,i=e.previousImpact;if(!s.isCombineEnabled)return null;var o=G4(i);if(!o)return null;function l(x){var p={type:"COMBINE",combine:{draggableId:x,droppableId:s.descriptor.id}};return st({},i,{at:p})}var c=i.displaced.all,d=c.length?c[0]:null;if(t)return d?l(d):null;var h=nj(r,a);if(!d){if(!h.length)return null;var u=h[h.length-1];return l(u.descriptor.id)}var f=H4(h,function(x){return x.descriptor.id===d});f===-1&&ot(!1);var m=f-1;if(m<0)return null;var v=h[m];return l(v.descriptor.id)},fm=function(e,t){return e.descriptor.droppableId===t.descriptor.id},J7={point:hs,value:0},Mv={invisible:{},visible:{},all:[]},Wne={displaced:Mv,displacedBy:J7,at:null},pi=function(e,t){return function(r){return e<=r&&r<=t}},Z7=function(e){var t=pi(e.top,e.bottom),r=pi(e.left,e.right);return function(s){var a=t(s.top)&&t(s.bottom)&&r(s.left)&&r(s.right);if(a)return!0;var i=t(s.top)||t(s.bottom),o=r(s.left)||r(s.right),l=i&&o;if(l)return!0;var c=s.top<e.top&&s.bottom>e.bottom,d=s.left<e.left&&s.right>e.right,h=c&&d;if(h)return!0;var u=c&&o||d&&i;return u}},Hne=function(e){var t=pi(e.top,e.bottom),r=pi(e.left,e.right);return function(s){var a=t(s.top)&&t(s.bottom)&&r(s.left)&&r(s.right);return a}},K4={direction:"vertical",line:"y",crossAxisLine:"x",start:"top",end:"bottom",size:"height",crossAxisStart:"left",crossAxisEnd:"right",crossAxisSize:"width"},e8={direction:"horizontal",line:"x",crossAxisLine:"y",start:"left",end:"right",size:"width",crossAxisStart:"top",crossAxisEnd:"bottom",crossAxisSize:"height"},Gne=function(e){return function(t){var r=pi(t.top,t.bottom),s=pi(t.left,t.right);return function(a){return e===K4?r(a.top)&&r(a.bottom):s(a.left)&&s(a.right)}}},Kne=function(t,r){var s=r.frame?r.frame.scroll.diff.displacement:hs;return Hg(t,s)},Yne=function(t,r,s){return r.subject.active?s(r.subject.active)(t):!1},Xne=function(t,r,s){return s(r)(t)},Y4=function(t){var r=t.target,s=t.destination,a=t.viewport,i=t.withDroppableDisplacement,o=t.isVisibleThroughFrameFn,l=i?Kne(r,s):r;return Yne(l,s,o)&&Xne(l,a,o)},Qne=function(t){return Y4(st({},t,{isVisibleThroughFrameFn:Z7}))},t8=function(t){return Y4(st({},t,{isVisibleThroughFrameFn:Hne}))},Jne=function(t){return Y4(st({},t,{isVisibleThroughFrameFn:Gne(t.destination.axis)}))},Zne=function(t,r,s){if(typeof s=="boolean")return s;if(!r)return!0;var a=r.invisible,i=r.visible;if(a[t])return!1;var o=i[t];return o?o.shouldAnimate:!0};function ese(e,t){var r=e.page.marginBox,s={top:t.point.y,right:0,bottom:0,left:t.point.x};return Qi(V4(r,s))}function Bv(e){var t=e.afterDragging,r=e.destination,s=e.displacedBy,a=e.viewport,i=e.forceShouldAnimate,o=e.last;return t.reduce(function(c,d){var h=ese(d,s),u=d.descriptor.id;c.all.push(u);var f=Qne({target:h,destination:r,viewport:a,withDroppableDisplacement:!0});if(!f)return c.invisible[d.descriptor.id]=!0,c;var m=Zne(u,o,i),v={draggableId:u,shouldAnimate:m};return c.visible[u]=v,c},{all:[],visible:{},invisible:{}})}function tse(e,t){if(!e.length)return 0;var r=e[e.length-1].descriptor.index;return t.inHomeList?r:r+1}function q_(e){var t=e.insideDestination,r=e.inHomeList,s=e.displacedBy,a=e.destination,i=tse(t,{inHomeList:r});return{displaced:Mv,displacedBy:s,at:{type:"REORDER",destination:{droppableId:a.descriptor.id,index:i}}}}function sb(e){var t=e.draggable,r=e.insideDestination,s=e.destination,a=e.viewport,i=e.displacedBy,o=e.last,l=e.index,c=e.forceShouldAnimate,d=fm(t,s);if(l==null)return q_({insideDestination:r,inHomeList:d,displacedBy:i,destination:s});var h=dd(r,function(x){return x.descriptor.index===l});if(!h)return q_({insideDestination:r,inHomeList:d,displacedBy:i,destination:s});var u=nj(t,r),f=r.indexOf(h),m=u.slice(f),v=Bv({afterDragging:m,destination:s,displacedBy:i,last:o,viewport:a.frame,forceShouldAnimate:c});return{displaced:v,displacedBy:i,at:{type:"REORDER",destination:{droppableId:s.descriptor.id,index:l}}}}function ed(e,t){return!!t.effected[e]}var rse=function(e){var t=e.isMovingForward,r=e.destination,s=e.draggables,a=e.combine,i=e.afterCritical;if(!r.isCombineEnabled)return null;var o=a.draggableId,l=s[o],c=l.descriptor.index,d=ed(o,i);return d?t?c:c-1:t?c+1:c},nse=function(e){var t=e.isMovingForward,r=e.isInHomeList,s=e.insideDestination,a=e.location;if(!s.length)return null;var i=a.index,o=t?i+1:i-1,l=s[0].descriptor.index,c=s[s.length-1].descriptor.index,d=r?c:c+1;return o<l||o>d?null:o},sse=function(e){var t=e.isMovingForward,r=e.isInHomeList,s=e.draggable,a=e.draggables,i=e.destination,o=e.insideDestination,l=e.previousImpact,c=e.viewport,d=e.afterCritical,h=l.at;if(h||ot(!1),h.type==="REORDER"){var u=nse({isMovingForward:t,isInHomeList:r,location:h.destination,insideDestination:o});return u==null?null:sb({draggable:s,insideDestination:o,destination:i,viewport:c,last:l.displaced,displacedBy:l.displacedBy,index:u})}var f=rse({isMovingForward:t,destination:i,displaced:l.displaced,draggables:a,combine:h.combine,afterCritical:d});return f==null?null:sb({draggable:s,insideDestination:o,destination:i,viewport:c,last:l.displaced,displacedBy:l.displacedBy,index:f})},ase=function(e){var t=e.displaced,r=e.afterCritical,s=e.combineWith,a=e.displacedBy,i=!!(t.visible[s]||t.invisible[s]);return ed(s,r)?i?hs:um(a.point):i?a.point:hs},ise=function(e){var t=e.afterCritical,r=e.impact,s=e.draggables,a=rj(r);a||ot(!1);var i=a.draggableId,o=s[i].page.borderBox.center,l=ase({displaced:r.displaced,afterCritical:t,combineWith:i,displacedBy:r.displacedBy});return Ss(o,l)},r8=function(t,r){return r.margin[t.start]+r.borderBox[t.size]/2},ose=function(t,r){return r.margin[t.end]+r.borderBox[t.size]/2},X4=function(t,r,s){return r[t.crossAxisStart]+s.margin[t.crossAxisStart]+s.borderBox[t.crossAxisSize]/2},W_=function(t){var r=t.axis,s=t.moveRelativeTo,a=t.isMoving;return yu(r.line,s.marginBox[r.end]+r8(r,a),X4(r,s.marginBox,a))},H_=function(t){var r=t.axis,s=t.moveRelativeTo,a=t.isMoving;return yu(r.line,s.marginBox[r.start]-ose(r,a),X4(r,s.marginBox,a))},lse=function(t){var r=t.axis,s=t.moveInto,a=t.isMoving;return yu(r.line,s.contentBox[r.start]+r8(r,a),X4(r,s.contentBox,a))},cse=function(e){var t=e.impact,r=e.draggable,s=e.draggables,a=e.droppable,i=e.afterCritical,o=hm(a.descriptor.id,s),l=r.page,c=a.axis;if(!o.length)return lse({axis:c,moveInto:a.page,isMoving:l});var d=t.displaced,h=t.displacedBy,u=d.all[0];if(u){var f=s[u];if(ed(u,i))return H_({axis:c,moveRelativeTo:f.page,isMoving:l});var m=Zy(f.page,h.point);return H_({axis:c,moveRelativeTo:m,isMoving:l})}var v=o[o.length-1];if(v.descriptor.id===r.descriptor.id)return l.borderBox.center;if(ed(v.descriptor.id,i)){var x=Zy(v.page,um(i.displacedBy.point));return W_({axis:c,moveRelativeTo:x,isMoving:l})}return W_({axis:c,moveRelativeTo:v.page,isMoving:l})},fS=function(e,t){var r=e.frame;return r?Ss(t,r.scroll.diff.displacement):t},dse=function(t){var r=t.impact,s=t.draggable,a=t.droppable,i=t.draggables,o=t.afterCritical,l=s.page.borderBox.center,c=r.at;return!a||!c?l:c.type==="REORDER"?cse({impact:r,draggable:s,draggables:i,droppable:a,afterCritical:o}):ise({impact:r,draggables:i,afterCritical:o})},sj=function(e){var t=dse(e),r=e.droppable,s=r?fS(r,t):t;return s},n8=function(e,t){var r=$a(t,e.scroll.initial),s=um(r),a=Qi({top:t.y,bottom:t.y+e.frame.height,left:t.x,right:t.x+e.frame.width}),i={frame:a,scroll:{initial:e.scroll.initial,max:e.scroll.max,current:t,diff:{value:r,displacement:s}}};return i};function G_(e,t){return e.map(function(r){return t[r]})}function use(e,t){for(var r=0;r<t.length;r++){var s=t[r].visible[e];if(s)return s}return null}var hse=function(e){var t=e.impact,r=e.viewport,s=e.destination,a=e.draggables,i=e.maxScrollChange,o=n8(r,Ss(r.scroll.current,i)),l=s.frame?W4(s,Ss(s.frame.scroll.current,i)):s,c=t.displaced,d=Bv({afterDragging:G_(c.all,a),destination:s,displacedBy:t.displacedBy,viewport:o.frame,last:c,forceShouldAnimate:!1}),h=Bv({afterDragging:G_(c.all,a),destination:l,displacedBy:t.displacedBy,viewport:r.frame,last:c,forceShouldAnimate:!1}),u={},f={},m=[c,d,h];c.all.forEach(function(x){var p=use(x,m);if(p){f[x]=p;return}u[x]=!0});var v=st({},t,{displaced:{all:c.all,invisible:u,visible:f}});return v},fse=function(e,t){return Ss(e.scroll.diff.displacement,t)},Q4=function(e){var t=e.pageBorderBoxCenter,r=e.draggable,s=e.viewport,a=fse(s,t),i=$a(a,r.page.borderBox.center);return Ss(r.client.borderBox.center,i)},s8=function(e){var t=e.draggable,r=e.destination,s=e.newPageBorderBoxCenter,a=e.viewport,i=e.withDroppableDisplacement,o=e.onlyOnMainAxis,l=o===void 0?!1:o,c=$a(s,t.page.borderBox.center),d=Hg(t.page.borderBox,c),h={target:d,destination:r,withDroppableDisplacement:i,viewport:a};return l?Jne(h):t8(h)},mse=function(e){var t=e.isMovingForward,r=e.draggable,s=e.destination,a=e.draggables,i=e.previousImpact,o=e.viewport,l=e.previousPageBorderBoxCenter,c=e.previousClientSelection,d=e.afterCritical;if(!s.isEnabled)return null;var h=hm(s.descriptor.id,a),u=fm(r,s),f=qne({isMovingForward:t,draggable:r,destination:s,insideDestination:h,previousImpact:i})||sse({isMovingForward:t,isInHomeList:u,draggable:r,draggables:a,destination:s,insideDestination:h,previousImpact:i,viewport:o,afterCritical:d});if(!f)return null;var m=sj({impact:f,draggable:r,droppable:s,draggables:a,afterCritical:d}),v=s8({draggable:r,destination:s,newPageBorderBoxCenter:m,viewport:o.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0});if(v){var x=Q4({pageBorderBoxCenter:m,draggable:r,viewport:o});return{clientSelection:x,impact:f,scrollJumpRequest:null}}var p=$a(m,l),g=hse({impact:f,viewport:o,destination:s,draggables:a,maxScrollChange:p});return{clientSelection:c,impact:g,scrollJumpRequest:p}},Ks=function(t){var r=t.subject.active;return r||ot(!1),r},pse=function(e){var t=e.isMovingForward,r=e.pageBorderBoxCenter,s=e.source,a=e.droppables,i=e.viewport,o=s.subject.active;if(!o)return null;var l=s.axis,c=pi(o[l.start],o[l.end]),d=tj(a).filter(function(u){return u!==s}).filter(function(u){return u.isEnabled}).filter(function(u){return!!u.subject.active}).filter(function(u){return Z7(i.frame)(Ks(u))}).filter(function(u){var f=Ks(u);return t?o[l.crossAxisEnd]<f[l.crossAxisEnd]:f[l.crossAxisStart]<o[l.crossAxisStart]}).filter(function(u){var f=Ks(u),m=pi(f[l.start],f[l.end]);return c(f[l.start])||c(f[l.end])||m(o[l.start])||m(o[l.end])}).sort(function(u,f){var m=Ks(u)[l.crossAxisStart],v=Ks(f)[l.crossAxisStart];return t?m-v:v-m}).filter(function(u,f,m){return Ks(u)[l.crossAxisStart]===Ks(m[0])[l.crossAxisStart]});if(!d.length)return null;if(d.length===1)return d[0];var h=d.filter(function(u){var f=pi(Ks(u)[l.start],Ks(u)[l.end]);return f(r[l.line])});return h.length===1?h[0]:h.length>1?h.sort(function(u,f){return Ks(u)[l.start]-Ks(f)[l.start]})[0]:d.sort(function(u,f){var m=U_(r,V_(Ks(u))),v=U_(r,V_(Ks(f)));return m!==v?m-v:Ks(u)[l.start]-Ks(f)[l.start]})[0]},K_=function(t,r){var s=t.page.borderBox.center;return ed(t.descriptor.id,r)?$a(s,r.displacedBy.point):s},vse=function(t,r){var s=t.page.borderBox;return ed(t.descriptor.id,r)?Hg(s,um(r.displacedBy.point)):s},gse=function(e){var t=e.pageBorderBoxCenter,r=e.viewport,s=e.destination,a=e.insideDestination,i=e.afterCritical,o=a.filter(function(l){return t8({target:vse(l,i),destination:s,viewport:r.frame,withDroppableDisplacement:!0})}).sort(function(l,c){var d=$v(t,fS(s,K_(l,i))),h=$v(t,fS(s,K_(c,i)));return d<h?-1:h<d?1:l.descriptor.index-c.descriptor.index});return o[0]||null},Gg=ds(function(t,r){var s=r[t.line];return{value:s,point:yu(t.line,s)}}),xse=function(t,r,s){var a=t.axis;if(t.descriptor.mode==="virtual")return yu(a.line,r[a.line]);var i=t.subject.page.contentBox[a.size],o=hm(t.descriptor.id,s),l=o.reduce(function(h,u){return h+u.client.marginBox[a.size]},0),c=l+r[a.line],d=c-i;return d<=0?null:yu(a.line,d)},a8=function(t,r){return st({},t,{scroll:st({},t.scroll,{max:r})})},i8=function(t,r,s){var a=t.frame;fm(r,t)&&ot(!1),t.subject.withPlaceholder&&ot(!1);var i=Gg(t.axis,r.displaceBy).point,o=xse(t,i,s),l={placeholderSize:i,increasedBy:o,oldFrameMaxScroll:t.frame?t.frame.scroll.max:null};if(!a){var c=Cf({page:t.subject.page,withPlaceholder:l,axis:t.axis,frame:t.frame});return st({},t,{subject:c})}var d=o?Ss(a.scroll.max,o):a.scroll.max,h=a8(a,d),u=Cf({page:t.subject.page,withPlaceholder:l,axis:t.axis,frame:h});return st({},t,{subject:u,frame:h})},yse=function(t){var r=t.subject.withPlaceholder;r||ot(!1);var s=t.frame;if(!s){var a=Cf({page:t.subject.page,axis:t.axis,frame:null,withPlaceholder:null});return st({},t,{subject:a})}var i=r.oldFrameMaxScroll;i||ot(!1);var o=a8(s,i),l=Cf({page:t.subject.page,axis:t.axis,frame:o,withPlaceholder:null});return st({},t,{subject:l,frame:o})},bse=function(e){var t=e.previousPageBorderBoxCenter,r=e.moveRelativeTo,s=e.insideDestination,a=e.draggable,i=e.draggables,o=e.destination,l=e.viewport,c=e.afterCritical;if(!r){if(s.length)return null;var d={displaced:Mv,displacedBy:J7,at:{type:"REORDER",destination:{droppableId:o.descriptor.id,index:0}}},h=sj({impact:d,draggable:a,droppable:o,draggables:i,afterCritical:c}),u=fm(a,o)?o:i8(o,a,i),f=s8({draggable:a,destination:u,newPageBorderBoxCenter:h,viewport:l.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0});return f?d:null}var m=t[o.axis.line]<=r.page.borderBox.center[o.axis.line],v=function(){var p=r.descriptor.index;return r.descriptor.id===a.descriptor.id||m?p:p+1}(),x=Gg(o.axis,a.displaceBy);return sb({draggable:a,insideDestination:s,destination:o,viewport:l,displacedBy:x,last:Mv,index:v})},jse=function(e){var t=e.isMovingForward,r=e.previousPageBorderBoxCenter,s=e.draggable,a=e.isOver,i=e.draggables,o=e.droppables,l=e.viewport,c=e.afterCritical,d=pse({isMovingForward:t,pageBorderBoxCenter:r,source:a,droppables:o,viewport:l});if(!d)return null;var h=hm(d.descriptor.id,i),u=gse({pageBorderBoxCenter:r,viewport:l,destination:d,insideDestination:h,afterCritical:c}),f=bse({previousPageBorderBoxCenter:r,destination:d,draggable:s,draggables:i,moveRelativeTo:u,insideDestination:h,viewport:l,afterCritical:c});if(!f)return null;var m=sj({impact:f,draggable:s,droppable:d,draggables:i,afterCritical:c}),v=Q4({pageBorderBoxCenter:m,draggable:s,viewport:l});return{clientSelection:v,impact:f,scrollJumpRequest:null}},Ua=function(e){var t=e.at;return t?t.type==="REORDER"?t.destination.droppableId:t.combine.droppableId:null},wse=function(t,r){var s=Ua(t);return s?r[s]:null},Nse=function(e){var t=e.state,r=e.type,s=wse(t.impact,t.dimensions.droppables),a=!!s,i=t.dimensions.droppables[t.critical.droppable.id],o=s||i,l=o.axis.direction,c=l==="vertical"&&(r==="MOVE_UP"||r==="MOVE_DOWN")||l==="horizontal"&&(r==="MOVE_LEFT"||r==="MOVE_RIGHT");if(c&&!a)return null;var d=r==="MOVE_DOWN"||r==="MOVE_RIGHT",h=t.dimensions.draggables[t.critical.draggable.id],u=t.current.page.borderBoxCenter,f=t.dimensions,m=f.draggables,v=f.droppables;return c?mse({isMovingForward:d,previousPageBorderBoxCenter:u,draggable:h,destination:o,draggables:m,viewport:t.viewport,previousClientSelection:t.current.client.selection,previousImpact:t.impact,afterCritical:t.afterCritical}):jse({isMovingForward:d,previousPageBorderBoxCenter:u,draggable:h,isOver:o,draggables:m,droppables:v,viewport:t.viewport,afterCritical:t.afterCritical})};function Ld(e){return e.phase==="DRAGGING"||e.phase==="COLLECTING"}function o8(e){var t=pi(e.top,e.bottom),r=pi(e.left,e.right);return function(a){return t(a.y)&&r(a.x)}}function Sse(e,t){return e.left<t.right&&e.right>t.left&&e.top<t.bottom&&e.bottom>t.top}function Cse(e){var t=e.pageBorderBox,r=e.draggable,s=e.candidates,a=r.page.borderBox.center,i=s.map(function(o){var l=o.axis,c=yu(o.axis.line,t.center[l.line],o.page.borderBox.center[l.crossAxisLine]);return{id:o.descriptor.id,distance:$v(a,c)}}).sort(function(o,l){return l.distance-o.distance});return i[0]?i[0].id:null}function Ase(e){var t=e.pageBorderBox,r=e.draggable,s=e.droppables,a=tj(s).filter(function(i){if(!i.isEnabled)return!1;var o=i.subject.active;if(!o||!Sse(t,o))return!1;if(o8(o)(t.center))return!0;var l=i.axis,c=o.center[l.crossAxisLine],d=t[l.crossAxisStart],h=t[l.crossAxisEnd],u=pi(o[l.crossAxisStart],o[l.crossAxisEnd]),f=u(d),m=u(h);return!f&&!m?!0:f?d<c:h>c});return a.length?a.length===1?a[0].descriptor.id:Cse({pageBorderBox:t,draggable:r,candidates:a}):null}var l8=function(t,r){return Qi(Hg(t,r))},Ese=function(e,t){var r=e.frame;return r?l8(t,r.scroll.diff.value):t};function c8(e){var t=e.displaced,r=e.id;return!!(t.visible[r]||t.invisible[r])}function Pse(e){var t=e.draggable,r=e.closest,s=e.inHomeList;return r?s&&r.descriptor.index>t.descriptor.index?r.descriptor.index-1:r.descriptor.index:null}var Tse=function(e){var t=e.pageBorderBoxWithDroppableScroll,r=e.draggable,s=e.destination,a=e.insideDestination,i=e.last,o=e.viewport,l=e.afterCritical,c=s.axis,d=Gg(s.axis,r.displaceBy),h=d.value,u=t[c.start],f=t[c.end],m=nj(r,a),v=dd(m,function(p){var g=p.descriptor.id,b=p.page.borderBox.center[c.line],y=ed(g,l),j=c8({displaced:i,id:g});return y?j?f<=b:u<b-h:j?f<=b+h:u<b}),x=Pse({draggable:r,closest:v,inHomeList:fm(r,s)});return sb({draggable:r,insideDestination:a,destination:s,viewport:o,last:i,displacedBy:d,index:x})},_se=4,Ise=function(e){var t=e.draggable,r=e.pageBorderBoxWithDroppableScroll,s=e.previousImpact,a=e.destination,i=e.insideDestination,o=e.afterCritical;if(!a.isCombineEnabled)return null;var l=a.axis,c=Gg(a.axis,t.displaceBy),d=c.value,h=r[l.start],u=r[l.end],f=nj(t,i),m=dd(f,function(x){var p=x.descriptor.id,g=x.page.borderBox,b=g[l.size],y=b/_se,j=ed(p,o),E=c8({displaced:s.displaced,id:p});return j?E?u>g[l.start]+y&&u<g[l.end]-y:h>g[l.start]-d+y&&h<g[l.end]-d-y:E?u>g[l.start]+d+y&&u<g[l.end]+d-y:h>g[l.start]+y&&h<g[l.end]-y});if(!m)return null;var v={displacedBy:c,displaced:s.displaced,at:{type:"COMBINE",combine:{draggableId:m.descriptor.id,droppableId:a.descriptor.id}}};return v},d8=function(e){var t=e.pageOffset,r=e.draggable,s=e.draggables,a=e.droppables,i=e.previousImpact,o=e.viewport,l=e.afterCritical,c=l8(r.page.borderBox,t),d=Ase({pageBorderBox:c,draggable:r,droppables:a});if(!d)return Wne;var h=a[d],u=hm(h.descriptor.id,s),f=Ese(h,c);return Ise({pageBorderBoxWithDroppableScroll:f,draggable:r,previousImpact:i,destination:h,insideDestination:u,afterCritical:l})||Tse({pageBorderBoxWithDroppableScroll:f,draggable:r,destination:h,insideDestination:u,last:i.displaced,viewport:o,afterCritical:l})},J4=function(e,t){var r;return st({},e,(r={},r[t.descriptor.id]=t,r))},kse=function(t){var r=t.previousImpact,s=t.impact,a=t.droppables,i=Ua(r),o=Ua(s);if(!i||i===o)return a;var l=a[i];if(!l.subject.withPlaceholder)return a;var c=yse(l);return J4(a,c)},Dse=function(e){var t=e.draggable,r=e.draggables,s=e.droppables,a=e.previousImpact,i=e.impact,o=kse({previousImpact:a,impact:i,droppables:s}),l=Ua(i);if(!l)return o;var c=s[l];if(fm(t,c)||c.subject.withPlaceholder)return o;var d=i8(c,t,r);return J4(o,d)},Yp=function(e){var t=e.state,r=e.clientSelection,s=e.dimensions,a=e.viewport,i=e.impact,o=e.scrollJumpRequest,l=a||t.viewport,c=s||t.dimensions,d=r||t.current.client.selection,h=$a(d,t.initial.client.selection),u={offset:h,selection:d,borderBoxCenter:Ss(t.initial.client.borderBoxCenter,h)},f={selection:Ss(u.selection,l.scroll.current),borderBoxCenter:Ss(u.borderBoxCenter,l.scroll.current),offset:Ss(u.offset,l.scroll.diff.value)},m={client:u,page:f};if(t.phase==="COLLECTING")return st({phase:"COLLECTING"},t,{dimensions:c,viewport:l,current:m});var v=c.draggables[t.critical.draggable.id],x=i||d8({pageOffset:f.offset,draggable:v,draggables:c.draggables,droppables:c.droppables,previousImpact:t.impact,viewport:l,afterCritical:t.afterCritical}),p=Dse({draggable:v,impact:x,previousImpact:t.impact,draggables:c.draggables,droppables:c.droppables}),g=st({},t,{current:m,dimensions:{draggables:c.draggables,droppables:p},impact:x,viewport:l,scrollJumpRequest:o||null,forceShouldAnimate:o?!1:null});return g};function Ose(e,t){return e.map(function(r){return t[r]})}var u8=function(e){var t=e.impact,r=e.viewport,s=e.draggables,a=e.destination,i=e.forceShouldAnimate,o=t.displaced,l=Ose(o.all,s),c=Bv({afterDragging:l,destination:a,displacedBy:t.displacedBy,viewport:r.frame,forceShouldAnimate:i,last:o});return st({},t,{displaced:c})},h8=function(e){var t=e.impact,r=e.draggable,s=e.droppable,a=e.draggables,i=e.viewport,o=e.afterCritical,l=sj({impact:t,draggable:r,draggables:a,droppable:s,afterCritical:o});return Q4({pageBorderBoxCenter:l,draggable:r,viewport:i})},f8=function(e){var t=e.state,r=e.dimensions,s=e.viewport;t.movementMode!=="SNAP"&&ot(!1);var a=t.impact,i=s||t.viewport,o=r||t.dimensions,l=o.draggables,c=o.droppables,d=l[t.critical.draggable.id],h=Ua(a);h||ot(!1);var u=c[h],f=u8({impact:a,viewport:i,destination:u,draggables:l}),m=h8({impact:f,draggable:d,droppable:u,draggables:l,viewport:i,afterCritical:t.afterCritical});return Yp({impact:f,clientSelection:m,state:t,dimensions:o,viewport:i})},Lse=function(e){return{index:e.index,droppableId:e.droppableId}},m8=function(e){var t=e.draggable,r=e.home,s=e.draggables,a=e.viewport,i=Gg(r.axis,t.displaceBy),o=hm(r.descriptor.id,s),l=o.indexOf(t);l===-1&&ot(!1);var c=o.slice(l+1),d=c.reduce(function(m,v){return m[v.descriptor.id]=!0,m},{}),h={inVirtualList:r.descriptor.mode==="virtual",displacedBy:i,effected:d},u=Bv({afterDragging:c,destination:r,displacedBy:i,last:null,viewport:a.frame,forceShouldAnimate:!1}),f={displaced:u,displacedBy:i,at:{type:"REORDER",destination:Lse(t.descriptor)}};return{impact:f,afterCritical:h}},Rse=function(e,t){return{draggables:e.draggables,droppables:J4(e.droppables,t)}},Fse=function(e){var t=e.draggable,r=e.offset,s=e.initialWindowScroll,a=Zy(t.client,r),i=eb(a,s),o=st({},t,{placeholder:st({},t.placeholder,{client:a}),client:a,page:i});return o},$se=function(e){var t=e.frame;return t||ot(!1),t},Mse=function(e){var t=e.additions,r=e.updatedDroppables,s=e.viewport,a=s.scroll.diff.value;return t.map(function(i){var o=i.descriptor.droppableId,l=r[o],c=$se(l),d=c.scroll.diff.value,h=Ss(a,d),u=Fse({draggable:i,offset:h,initialWindowScroll:s.scroll.initial});return u})},Bse=function(e){var t=e.state,r=e.published,s=r.modified.map(function(y){var j=t.dimensions.droppables[y.droppableId],E=W4(j,y.scroll);return E}),a=st({},t.dimensions.droppables,{},X7(s)),i=Q7(Mse({additions:r.additions,updatedDroppables:a,viewport:t.viewport})),o=st({},t.dimensions.draggables,{},i);r.removals.forEach(function(y){delete o[y]});var l={droppables:a,draggables:o},c=Ua(t.impact),d=c?l.droppables[c]:null,h=l.draggables[t.critical.draggable.id],u=l.droppables[t.critical.droppable.id],f=m8({draggable:h,home:u,draggables:o,viewport:t.viewport}),m=f.impact,v=f.afterCritical,x=d&&d.isCombineEnabled?t.impact:m,p=d8({pageOffset:t.current.page.offset,draggable:l.draggables[t.critical.draggable.id],draggables:l.draggables,droppables:l.droppables,previousImpact:x,viewport:t.viewport,afterCritical:v}),g=st({phase:"DRAGGING"},t,{phase:"DRAGGING",impact:p,onLiftImpact:m,dimensions:l,afterCritical:v,forceShouldAnimate:!1});if(t.phase==="COLLECTING")return g;var b=st({phase:"DROP_PENDING"},g,{phase:"DROP_PENDING",reason:t.reason,isWaiting:!1});return b},mS=function(t){return t.movementMode==="SNAP"},q2=function(t,r,s){var a=Rse(t.dimensions,r);return!mS(t)||s?Yp({state:t,dimensions:a}):f8({state:t,dimensions:a})};function W2(e){return e.isDragging&&e.movementMode==="SNAP"?st({phase:"DRAGGING"},e,{scrollJumpRequest:null}):e}var Y_={phase:"IDLE",completed:null,shouldFlush:!1},zse=function(e,t){if(e===void 0&&(e=Y_),t.type==="FLUSH")return st({},Y_,{shouldFlush:!0});if(t.type==="INITIAL_PUBLISH"){e.phase!=="IDLE"&&ot(!1);var r=t.payload,s=r.critical,a=r.clientSelection,i=r.viewport,o=r.dimensions,l=r.movementMode,c=o.draggables[s.draggable.id],d=o.droppables[s.droppable.id],h={selection:a,borderBoxCenter:c.client.borderBox.center,offset:hs},u={client:h,page:{selection:Ss(h.selection,i.scroll.initial),borderBoxCenter:Ss(h.selection,i.scroll.initial),offset:Ss(h.selection,i.scroll.diff.value)}},f=tj(o.droppables).every(function(je){return!je.isFixedOnPage}),m=m8({draggable:c,home:d,draggables:o.draggables,viewport:i}),v=m.impact,x=m.afterCritical,p={phase:"DRAGGING",isDragging:!0,critical:s,movementMode:l,dimensions:o,initial:u,current:u,isWindowScrollAllowed:f,impact:v,afterCritical:x,onLiftImpact:v,viewport:i,scrollJumpRequest:null,forceShouldAnimate:null};return p}if(t.type==="COLLECTION_STARTING"){if(e.phase==="COLLECTING"||e.phase==="DROP_PENDING")return e;e.phase!=="DRAGGING"&&ot(!1);var g=st({phase:"COLLECTING"},e,{phase:"COLLECTING"});return g}if(t.type==="PUBLISH_WHILE_DRAGGING")return e.phase==="COLLECTING"||e.phase==="DROP_PENDING"||ot(!1),Bse({state:e,published:t.payload});if(t.type==="MOVE"){if(e.phase==="DROP_PENDING")return e;Ld(e)||ot(!1);var b=t.payload.client;return Vc(b,e.current.client.selection)?e:Yp({state:e,clientSelection:b,impact:mS(e)?e.impact:null})}if(t.type==="UPDATE_DROPPABLE_SCROLL"){if(e.phase==="DROP_PENDING"||e.phase==="COLLECTING")return W2(e);Ld(e)||ot(!1);var y=t.payload,j=y.id,E=y.newScroll,S=e.dimensions.droppables[j];if(!S)return e;var N=W4(S,E);return q2(e,N,!1)}if(t.type==="UPDATE_DROPPABLE_IS_ENABLED"){if(e.phase==="DROP_PENDING")return e;Ld(e)||ot(!1);var w=t.payload,_=w.id,k=w.isEnabled,T=e.dimensions.droppables[_];T||ot(!1),T.isEnabled===k&&ot(!1);var A=st({},T,{isEnabled:k});return q2(e,A,!0)}if(t.type==="UPDATE_DROPPABLE_IS_COMBINE_ENABLED"){if(e.phase==="DROP_PENDING")return e;Ld(e)||ot(!1);var O=t.payload,D=O.id,F=O.isCombineEnabled,M=e.dimensions.droppables[D];M||ot(!1),M.isCombineEnabled===F&&ot(!1);var R=st({},M,{isCombineEnabled:F});return q2(e,R,!0)}if(t.type==="MOVE_BY_WINDOW_SCROLL"){if(e.phase==="DROP_PENDING"||e.phase==="DROP_ANIMATING")return e;Ld(e)||ot(!1),e.isWindowScrollAllowed||ot(!1);var B=t.payload.newScroll;if(Vc(e.viewport.scroll.current,B))return W2(e);var U=n8(e.viewport,B);return mS(e)?f8({state:e,viewport:U}):Yp({state:e,viewport:U})}if(t.type==="UPDATE_VIEWPORT_MAX_SCROLL"){if(!Ld(e))return e;var H=t.payload.maxScroll;if(Vc(H,e.viewport.scroll.max))return e;var q=st({},e.viewport,{scroll:st({},e.viewport.scroll,{max:H})});return st({phase:"DRAGGING"},e,{viewport:q})}if(t.type==="MOVE_UP"||t.type==="MOVE_DOWN"||t.type==="MOVE_LEFT"||t.type==="MOVE_RIGHT"){if(e.phase==="COLLECTING"||e.phase==="DROP_PENDING")return e;e.phase!=="DRAGGING"&&ot(!1);var L=Nse({state:e,type:t.type});return L?Yp({state:e,impact:L.impact,clientSelection:L.clientSelection,scrollJumpRequest:L.scrollJumpRequest}):e}if(t.type==="DROP_PENDING"){var V=t.payload.reason;e.phase!=="COLLECTING"&&ot(!1);var G=st({phase:"DROP_PENDING"},e,{phase:"DROP_PENDING",isWaiting:!0,reason:V});return G}if(t.type==="DROP_ANIMATE"){var Z=t.payload,te=Z.completed,he=Z.dropDuration,fe=Z.newHomeClientOffset;e.phase==="DRAGGING"||e.phase==="DROP_PENDING"||ot(!1);var oe={phase:"DROP_ANIMATING",completed:te,dropDuration:he,newHomeClientOffset:fe,dimensions:e.dimensions};return oe}if(t.type==="DROP_COMPLETE"){var we=t.payload.completed;return{phase:"IDLE",completed:we,shouldFlush:!1}}return e},Use=function(t){return{type:"BEFORE_INITIAL_CAPTURE",payload:t}},Vse=function(t){return{type:"LIFT",payload:t}},qse=function(t){return{type:"INITIAL_PUBLISH",payload:t}},Wse=function(t){return{type:"PUBLISH_WHILE_DRAGGING",payload:t}},Hse=function(){return{type:"COLLECTION_STARTING",payload:null}},Gse=function(t){return{type:"UPDATE_DROPPABLE_SCROLL",payload:t}},Kse=function(t){return{type:"UPDATE_DROPPABLE_IS_ENABLED",payload:t}},Yse=function(t){return{type:"UPDATE_DROPPABLE_IS_COMBINE_ENABLED",payload:t}},p8=function(t){return{type:"MOVE",payload:t}},Xse=function(t){return{type:"MOVE_BY_WINDOW_SCROLL",payload:t}},Qse=function(t){return{type:"UPDATE_VIEWPORT_MAX_SCROLL",payload:t}},Jse=function(){return{type:"MOVE_UP",payload:null}},Zse=function(){return{type:"MOVE_DOWN",payload:null}},eae=function(){return{type:"MOVE_RIGHT",payload:null}},tae=function(){return{type:"MOVE_LEFT",payload:null}},Z4=function(){return{type:"FLUSH",payload:null}},rae=function(t){return{type:"DROP_ANIMATE",payload:t}},eE=function(t){return{type:"DROP_COMPLETE",payload:t}},v8=function(t){return{type:"DROP",payload:t}},nae=function(t){return{type:"DROP_PENDING",payload:t}},g8=function(){return{type:"DROP_ANIMATION_FINISHED",payload:null}},sae=function(e){return function(t){var r=t.getState,s=t.dispatch;return function(a){return function(i){if(i.type!=="LIFT"){a(i);return}var o=i.payload,l=o.id,c=o.clientSelection,d=o.movementMode,h=r();h.phase==="DROP_ANIMATING"&&s(eE({completed:h.completed})),r().phase!=="IDLE"&&ot(!1),s(Z4()),s(Use({draggableId:l,movementMode:d}));var u={shouldPublishImmediately:d==="SNAP"},f={draggableId:l,scrollOptions:u},m=e.startPublishing(f),v=m.critical,x=m.dimensions,p=m.viewport;s(qse({critical:v,dimensions:x,clientSelection:c,movementMode:d,viewport:p}))}}}},aae=function(e){return function(){return function(t){return function(r){r.type==="INITIAL_PUBLISH"&&e.dragging(),r.type==="DROP_ANIMATE"&&e.dropping(r.payload.completed.result.reason),(r.type==="FLUSH"||r.type==="DROP_COMPLETE")&&e.resting(),t(r)}}}},tE={outOfTheWay:"cubic-bezier(0.2, 0, 0, 1)",drop:"cubic-bezier(.2,1,.1,1)"},zv={opacity:{drop:0,combining:.7},scale:{drop:.75}},rE={outOfTheWay:.2,minDropTime:.33,maxDropTime:.55},_d=rE.outOfTheWay+"s "+tE.outOfTheWay,Xp={fluid:"opacity "+_d,snap:"transform "+_d+", opacity "+_d,drop:function(t){var r=t+"s "+tE.drop;return"transform "+r+", opacity "+r},outOfTheWay:"transform "+_d,placeholder:"height "+_d+", width "+_d+", margin "+_d},X_=function(t){return Vc(t,hs)?null:"translate("+t.x+"px, "+t.y+"px)"},pS={moveTo:X_,drop:function(t,r){var s=X_(t);return s?r?s+" scale("+zv.scale.drop+")":s:null}},vS=rE.minDropTime,x8=rE.maxDropTime,iae=x8-vS,Q_=1500,oae=.6,lae=function(e){var t=e.current,r=e.destination,s=e.reason,a=$v(t,r);if(a<=0)return vS;if(a>=Q_)return x8;var i=a/Q_,o=vS+iae*i,l=s==="CANCEL"?o*oae:o;return Number(l.toFixed(2))},cae=function(e){var t=e.impact,r=e.draggable,s=e.dimensions,a=e.viewport,i=e.afterCritical,o=s.draggables,l=s.droppables,c=Ua(t),d=c?l[c]:null,h=l[r.descriptor.droppableId],u=h8({impact:t,draggable:r,draggables:o,afterCritical:i,droppable:d||h,viewport:a}),f=$a(u,r.client.borderBox.center);return f},dae=function(e){var t=e.draggables,r=e.reason,s=e.lastImpact,a=e.home,i=e.viewport,o=e.onLiftImpact;if(!s.at||r!=="DROP"){var l=u8({draggables:t,impact:o,destination:a,viewport:i,forceShouldAnimate:!0});return{impact:l,didDropInsideDroppable:!1}}if(s.at.type==="REORDER")return{impact:s,didDropInsideDroppable:!0};var c=st({},s,{displaced:Mv});return{impact:c,didDropInsideDroppable:!0}},uae=function(e){var t=e.getState,r=e.dispatch;return function(s){return function(a){if(a.type!=="DROP"){s(a);return}var i=t(),o=a.payload.reason;if(i.phase==="COLLECTING"){r(nae({reason:o}));return}if(i.phase!=="IDLE"){var l=i.phase==="DROP_PENDING"&&i.isWaiting;l&&ot(!1),i.phase==="DRAGGING"||i.phase==="DROP_PENDING"||ot(!1);var c=i.critical,d=i.dimensions,h=d.draggables[i.critical.draggable.id],u=dae({reason:o,lastImpact:i.impact,afterCritical:i.afterCritical,onLiftImpact:i.onLiftImpact,home:i.dimensions.droppables[i.critical.droppable.id],viewport:i.viewport,draggables:i.dimensions.draggables}),f=u.impact,m=u.didDropInsideDroppable,v=m?G4(f):null,x=m?rj(f):null,p={index:c.draggable.index,droppableId:c.droppable.id},g={draggableId:h.descriptor.id,type:h.descriptor.type,source:p,reason:o,mode:i.movementMode,destination:v,combine:x},b=cae({impact:f,draggable:h,dimensions:d,viewport:i.viewport,afterCritical:i.afterCritical}),y={critical:i.critical,afterCritical:i.afterCritical,result:g,impact:f},j=!Vc(i.current.client.offset,b)||!!g.combine;if(!j){r(eE({completed:y}));return}var E=lae({current:i.current.client.offset,destination:b,reason:o}),S={newHomeClientOffset:b,dropDuration:E,completed:y};r(rae(S))}}}},y8=function(){return{x:window.pageXOffset,y:window.pageYOffset}};function hae(e){return{eventName:"scroll",options:{passive:!0,capture:!1},fn:function(r){r.target!==window&&r.target!==window.document||e()}}}function fae(e){var t=e.onWindowScroll;function r(){t(y8())}var s=Fv(r),a=hae(s),i=Uc;function o(){return i!==Uc}function l(){o()&&ot(!1),i=ui(window,[a])}function c(){o()||ot(!1),s.cancel(),i(),i=Uc}return{start:l,stop:c,isActive:o}}var mae=function(t){return t.type==="DROP_COMPLETE"||t.type==="DROP_ANIMATE"||t.type==="FLUSH"},pae=function(e){var t=fae({onWindowScroll:function(s){e.dispatch(Xse({newScroll:s}))}});return function(r){return function(s){!t.isActive()&&s.type==="INITIAL_PUBLISH"&&t.start(),t.isActive()&&mae(s)&&t.stop(),r(s)}}},vae=function(e){var t=!1,r=!1,s=setTimeout(function(){r=!0}),a=function(o){t||r||(t=!0,e(o),clearTimeout(s))};return a.wasCalled=function(){return t},a},gae=function(){var e=[],t=function(i){var o=H4(e,function(d){return d.timerId===i});o===-1&&ot(!1);var l=e.splice(o,1),c=l[0];c.callback()},r=function(i){var o=setTimeout(function(){return t(o)}),l={timerId:o,callback:i};e.push(l)},s=function(){if(e.length){var i=[].concat(e);e.length=0,i.forEach(function(o){clearTimeout(o.timerId),o.callback()})}};return{add:r,flush:s}},xae=function(t,r){return t==null&&r==null?!0:t==null||r==null?!1:t.droppableId===r.droppableId&&t.index===r.index},yae=function(t,r){return t==null&&r==null?!0:t==null||r==null?!1:t.draggableId===r.draggableId&&t.droppableId===r.droppableId},bae=function(t,r){if(t===r)return!0;var s=t.draggable.id===r.draggable.id&&t.draggable.droppableId===r.draggable.droppableId&&t.draggable.type===r.draggable.type&&t.draggable.index===r.draggable.index,a=t.droppable.id===r.droppable.id&&t.droppable.type===r.droppable.type;return s&&a},gp=function(t,r){r()},w0=function(t,r){return{draggableId:t.draggable.id,type:t.droppable.type,source:{droppableId:t.droppable.id,index:t.draggable.index},mode:r}},H2=function(t,r,s,a){if(!t){s(a(r));return}var i=vae(s),o={announce:i};t(r,o),i.wasCalled()||s(a(r))},jae=function(e,t){var r=gae(),s=null,a=function(f,m){s&&ot(!1),gp("onBeforeCapture",function(){var v=e().onBeforeCapture;if(v){var x={draggableId:f,mode:m};v(x)}})},i=function(f,m){s&&ot(!1),gp("onBeforeDragStart",function(){var v=e().onBeforeDragStart;v&&v(w0(f,m))})},o=function(f,m){s&&ot(!1);var v=w0(f,m);s={mode:m,lastCritical:f,lastLocation:v.source,lastCombine:null},r.add(function(){gp("onDragStart",function(){return H2(e().onDragStart,v,t,my.onDragStart)})})},l=function(f,m){var v=G4(m),x=rj(m);s||ot(!1);var p=!bae(f,s.lastCritical);p&&(s.lastCritical=f);var g=!xae(s.lastLocation,v);g&&(s.lastLocation=v);var b=!yae(s.lastCombine,x);if(b&&(s.lastCombine=x),!(!p&&!g&&!b)){var y=st({},w0(f,s.mode),{combine:x,destination:v});r.add(function(){gp("onDragUpdate",function(){return H2(e().onDragUpdate,y,t,my.onDragUpdate)})})}},c=function(){s||ot(!1),r.flush()},d=function(f){s||ot(!1),s=null,gp("onDragEnd",function(){return H2(e().onDragEnd,f,t,my.onDragEnd)})},h=function(){if(s){var f=st({},w0(s.lastCritical,s.mode),{combine:null,destination:null,reason:"CANCEL"});d(f)}};return{beforeCapture:a,beforeStart:i,start:o,update:l,flush:c,drop:d,abort:h}},wae=function(e,t){var r=jae(e,t);return function(s){return function(a){return function(i){if(i.type==="BEFORE_INITIAL_CAPTURE"){r.beforeCapture(i.payload.draggableId,i.payload.movementMode);return}if(i.type==="INITIAL_PUBLISH"){var o=i.payload.critical;r.beforeStart(o,i.payload.movementMode),a(i),r.start(o,i.payload.movementMode);return}if(i.type==="DROP_COMPLETE"){var l=i.payload.completed.result;r.flush(),a(i),r.drop(l);return}if(a(i),i.type==="FLUSH"){r.abort();return}var c=s.getState();c.phase==="DRAGGING"&&r.update(c.critical,c.impact)}}}},Nae=function(e){return function(t){return function(r){if(r.type!=="DROP_ANIMATION_FINISHED"){t(r);return}var s=e.getState();s.phase!=="DROP_ANIMATING"&&ot(!1),e.dispatch(eE({completed:s.completed}))}}},Sae=function(e){var t=null,r=null;function s(){r&&(cancelAnimationFrame(r),r=null),t&&(t(),t=null)}return function(a){return function(i){if((i.type==="FLUSH"||i.type==="DROP_COMPLETE"||i.type==="DROP_ANIMATION_FINISHED")&&s(),a(i),i.type==="DROP_ANIMATE"){var o={eventName:"scroll",options:{capture:!0,passive:!1,once:!0},fn:function(){var c=e.getState();c.phase==="DROP_ANIMATING"&&e.dispatch(g8())}};r=requestAnimationFrame(function(){r=null,t=ui(window,[o])})}}}},Cae=function(e){return function(){return function(t){return function(r){(r.type==="DROP_COMPLETE"||r.type==="FLUSH"||r.type==="DROP_ANIMATE")&&e.stopPublishing(),t(r)}}}},Aae=function(e){var t=!1;return function(){return function(r){return function(s){if(s.type==="INITIAL_PUBLISH"){t=!0,e.tryRecordFocus(s.payload.critical.draggable.id),r(s),e.tryRestoreFocusRecorded();return}if(r(s),!!t){if(s.type==="FLUSH"){t=!1,e.tryRestoreFocusRecorded();return}if(s.type==="DROP_COMPLETE"){t=!1;var a=s.payload.completed.result;a.combine&&e.tryShiftRecord(a.draggableId,a.combine.draggableId),e.tryRestoreFocusRecorded()}}}}}},Eae=function(t){return t.type==="DROP_COMPLETE"||t.type==="DROP_ANIMATE"||t.type==="FLUSH"},Pae=function(e){return function(t){return function(r){return function(s){if(Eae(s)){e.stop(),r(s);return}if(s.type==="INITIAL_PUBLISH"){r(s);var a=t.getState();a.phase!=="DRAGGING"&&ot(!1),e.start(a);return}r(s),e.scroll(t.getState())}}}},Tae=function(e){return function(t){return function(r){if(t(r),r.type==="PUBLISH_WHILE_DRAGGING"){var s=e.getState();s.phase==="DROP_PENDING"&&(s.isWaiting||e.dispatch(v8({reason:s.reason})))}}}},_ae=C7,Iae=function(e){var t=e.dimensionMarshal,r=e.focusMarshal,s=e.styleMarshal,a=e.getResponders,i=e.announce,o=e.autoScroller;return S7(zse,_ae(gre(aae(s),Cae(t),sae(t),uae,Nae,Sae,Tae,Pae(o),pae,Aae(r),wae(a,i))))},G2=function(){return{additions:{},removals:{},modified:{}}};function kae(e){var t=e.registry,r=e.callbacks,s=G2(),a=null,i=function(){a||(r.collectionStarting(),a=requestAnimationFrame(function(){a=null;var h=s,u=h.additions,f=h.removals,m=h.modified,v=Object.keys(u).map(function(g){return t.draggable.getById(g).getDimension(hs)}).sort(function(g,b){return g.descriptor.index-b.descriptor.index}),x=Object.keys(m).map(function(g){var b=t.droppable.getById(g),y=b.callbacks.getScrollWhileDragging();return{droppableId:g,scroll:y}}),p={additions:v,removals:Object.keys(f),modified:x};s=G2(),r.publish(p)}))},o=function(h){var u=h.descriptor.id;s.additions[u]=h,s.modified[h.descriptor.droppableId]=!0,s.removals[u]&&delete s.removals[u],i()},l=function(h){var u=h.descriptor;s.removals[u.id]=!0,s.modified[u.droppableId]=!0,s.additions[u.id]&&delete s.additions[u.id],i()},c=function(){a&&(cancelAnimationFrame(a),a=null,s=G2())};return{add:o,remove:l,stop:c}}var b8=function(e){var t=e.scrollHeight,r=e.scrollWidth,s=e.height,a=e.width,i=$a({x:r,y:t},{x:a,y:s}),o={x:Math.max(0,i.x),y:Math.max(0,i.y)};return o},j8=function(){var e=document.documentElement;return e||ot(!1),e},w8=function(){var e=j8(),t=b8({scrollHeight:e.scrollHeight,scrollWidth:e.scrollWidth,width:e.clientWidth,height:e.clientHeight});return t},Dae=function(){var e=y8(),t=w8(),r=e.y,s=e.x,a=j8(),i=a.clientWidth,o=a.clientHeight,l=s+i,c=r+o,d=Qi({top:r,left:s,right:l,bottom:c}),h={frame:d,scroll:{initial:e,current:e,max:t,diff:{value:hs,displacement:hs}}};return h},Oae=function(e){var t=e.critical,r=e.scrollOptions,s=e.registry,a=Dae(),i=a.scroll.current,o=t.droppable,l=s.droppable.getAllByType(o.type).map(function(u){return u.callbacks.getDimensionAndWatchScroll(i,r)}),c=s.draggable.getAllByType(t.draggable.type).map(function(u){return u.getDimension(i)}),d={draggables:Q7(c),droppables:X7(l)},h={dimensions:d,critical:t,viewport:a};return h};function J_(e,t,r){if(r.descriptor.id===t.id||r.descriptor.type!==t.type)return!1;var s=e.droppable.getById(r.descriptor.droppableId);return s.descriptor.mode==="virtual"}var Lae=function(e,t){var r=null,s=kae({callbacks:{publish:t.publishWhileDragging,collectionStarting:t.collectionStarting},registry:e}),a=function(m,v){e.droppable.exists(m)||ot(!1),r&&t.updateDroppableIsEnabled({id:m,isEnabled:v})},i=function(m,v){r&&(e.droppable.exists(m)||ot(!1),t.updateDroppableIsCombineEnabled({id:m,isCombineEnabled:v}))},o=function(m,v){r&&(e.droppable.exists(m)||ot(!1),t.updateDroppableScroll({id:m,newScroll:v}))},l=function(m,v){r&&e.droppable.getById(m).callbacks.scroll(v)},c=function(){if(r){s.stop();var m=r.critical.droppable;e.droppable.getAllByType(m.type).forEach(function(v){return v.callbacks.dragStopped()}),r.unsubscribe(),r=null}},d=function(m){r||ot(!1);var v=r.critical.draggable;m.type==="ADDITION"&&J_(e,v,m.value)&&s.add(m.value),m.type==="REMOVAL"&&J_(e,v,m.value)&&s.remove(m.value)},h=function(m){r&&ot(!1);var v=e.draggable.getById(m.draggableId),x=e.droppable.getById(v.descriptor.droppableId),p={draggable:v.descriptor,droppable:x.descriptor},g=e.subscribe(d);return r={critical:p,unsubscribe:g},Oae({critical:p,registry:e,scrollOptions:m.scrollOptions})},u={updateDroppableIsEnabled:a,updateDroppableIsCombineEnabled:i,scrollDroppable:l,updateDroppableScroll:o,startPublishing:h,stopPublishing:c};return u},N8=function(e,t){return e.phase==="IDLE"?!0:e.phase!=="DROP_ANIMATING"||e.completed.result.draggableId===t?!1:e.completed.result.reason==="DROP"},Rae=function(e){window.scrollBy(e.x,e.y)},Fae=ds(function(e){return tj(e).filter(function(t){return!(!t.isEnabled||!t.frame)})}),$ae=function(t,r){var s=dd(Fae(r),function(a){return a.frame||ot(!1),o8(a.frame.pageMarginBox)(t)});return s},Mae=function(e){var t=e.center,r=e.destination,s=e.droppables;if(r){var a=s[r];return a.frame?a:null}var i=$ae(t,s);return i},qc={startFromPercentage:.25,maxScrollAtPercentage:.05,maxPixelScroll:28,ease:function(t){return Math.pow(t,2)},durationDampening:{stopDampeningAt:1200,accelerateAt:360}},Bae=function(e,t){var r=e[t.size]*qc.startFromPercentage,s=e[t.size]*qc.maxScrollAtPercentage,a={startScrollingFrom:r,maxScrollValueAt:s};return a},S8=function(e){var t=e.startOfRange,r=e.endOfRange,s=e.current,a=r-t;if(a===0)return 0;var i=s-t,o=i/a;return o},nE=1,zae=function(e,t){if(e>t.startScrollingFrom)return 0;if(e<=t.maxScrollValueAt)return qc.maxPixelScroll;if(e===t.startScrollingFrom)return nE;var r=S8({startOfRange:t.maxScrollValueAt,endOfRange:t.startScrollingFrom,current:e}),s=1-r,a=qc.maxPixelScroll*qc.ease(s);return Math.ceil(a)},Z_=qc.durationDampening.accelerateAt,eI=qc.durationDampening.stopDampeningAt,Uae=function(e,t){var r=t,s=eI,a=Date.now(),i=a-r;if(i>=eI)return e;if(i<Z_)return nE;var o=S8({startOfRange:Z_,endOfRange:s,current:i}),l=e*qc.ease(o);return Math.ceil(l)},tI=function(e){var t=e.distanceToEdge,r=e.thresholds,s=e.dragStartTime,a=e.shouldUseTimeDampening,i=zae(t,r);return i===0?0:a?Math.max(Uae(i,s),nE):i},rI=function(e){var t=e.container,r=e.distanceToEdges,s=e.dragStartTime,a=e.axis,i=e.shouldUseTimeDampening,o=Bae(t,a),l=r[a.end]<r[a.start];return l?tI({distanceToEdge:r[a.end],thresholds:o,dragStartTime:s,shouldUseTimeDampening:i}):-1*tI({distanceToEdge:r[a.start],thresholds:o,dragStartTime:s,shouldUseTimeDampening:i})},Vae=function(e){var t=e.container,r=e.subject,s=e.proposedScroll,a=r.height>t.height,i=r.width>t.width;return!i&&!a?s:i&&a?null:{x:i?0:s.x,y:a?0:s.y}},qae=K7(function(e){return e===0?0:e}),C8=function(e){var t=e.dragStartTime,r=e.container,s=e.subject,a=e.center,i=e.shouldUseTimeDampening,o={top:a.y-r.top,right:r.right-a.x,bottom:r.bottom-a.y,left:a.x-r.left},l=rI({container:r,distanceToEdges:o,dragStartTime:t,axis:K4,shouldUseTimeDampening:i}),c=rI({container:r,distanceToEdges:o,dragStartTime:t,axis:e8,shouldUseTimeDampening:i}),d=qae({x:c,y:l});if(Vc(d,hs))return null;var h=Vae({container:r,subject:s,proposedScroll:d});return h?Vc(h,hs)?null:h:null},Wae=K7(function(e){return e===0?0:e>0?1:-1}),sE=function(){var e=function(r,s){return r<0?r:r>s?r-s:0};return function(t){var r=t.current,s=t.max,a=t.change,i=Ss(r,a),o={x:e(i.x,s.x),y:e(i.y,s.y)};return Vc(o,hs)?null:o}}(),A8=function(t){var r=t.max,s=t.current,a=t.change,i={x:Math.max(s.x,r.x),y:Math.max(s.y,r.y)},o=Wae(a),l=sE({max:i,current:s,change:o});return!l||o.x!==0&&l.x===0||o.y!==0&&l.y===0},aE=function(t,r){return A8({current:t.scroll.current,max:t.scroll.max,change:r})},Hae=function(t,r){if(!aE(t,r))return null;var s=t.scroll.max,a=t.scroll.current;return sE({current:a,max:s,change:r})},iE=function(t,r){var s=t.frame;return s?A8({current:s.scroll.current,max:s.scroll.max,change:r}):!1},Gae=function(t,r){var s=t.frame;return!s||!iE(t,r)?null:sE({current:s.scroll.current,max:s.scroll.max,change:r})},Kae=function(e){var t=e.viewport,r=e.subject,s=e.center,a=e.dragStartTime,i=e.shouldUseTimeDampening,o=C8({dragStartTime:a,container:t.frame,subject:r,center:s,shouldUseTimeDampening:i});return o&&aE(t,o)?o:null},Yae=function(e){var t=e.droppable,r=e.subject,s=e.center,a=e.dragStartTime,i=e.shouldUseTimeDampening,o=t.frame;if(!o)return null;var l=C8({dragStartTime:a,container:o.pageMarginBox,subject:r,center:s,shouldUseTimeDampening:i});return l&&iE(t,l)?l:null},nI=function(e){var t=e.state,r=e.dragStartTime,s=e.shouldUseTimeDampening,a=e.scrollWindow,i=e.scrollDroppable,o=t.current.page.borderBoxCenter,l=t.dimensions.draggables[t.critical.draggable.id],c=l.page.marginBox;if(t.isWindowScrollAllowed){var d=t.viewport,h=Kae({dragStartTime:r,viewport:d,subject:c,center:o,shouldUseTimeDampening:s});if(h){a(h);return}}var u=Mae({center:o,destination:Ua(t.impact),droppables:t.dimensions.droppables});if(u){var f=Yae({dragStartTime:r,droppable:u,subject:c,center:o,shouldUseTimeDampening:s});f&&i(u.descriptor.id,f)}},Xae=function(e){var t=e.scrollWindow,r=e.scrollDroppable,s=Fv(t),a=Fv(r),i=null,o=function(h){i||ot(!1);var u=i,f=u.shouldUseTimeDampening,m=u.dragStartTime;nI({state:h,scrollWindow:s,scrollDroppable:a,dragStartTime:m,shouldUseTimeDampening:f})},l=function(h){i&&ot(!1);var u=Date.now(),f=!1,m=function(){f=!0};nI({state:h,dragStartTime:0,shouldUseTimeDampening:!1,scrollWindow:m,scrollDroppable:m}),i={dragStartTime:u,shouldUseTimeDampening:f},f&&o(h)},c=function(){i&&(s.cancel(),a.cancel(),i=null)};return{start:l,stop:c,scroll:o}},Qae=function(e){var t=e.move,r=e.scrollDroppable,s=e.scrollWindow,a=function(d,h){var u=Ss(d.current.client.selection,h);t({client:u})},i=function(d,h){if(!iE(d,h))return h;var u=Gae(d,h);if(!u)return r(d.descriptor.id,h),null;var f=$a(h,u);r(d.descriptor.id,f);var m=$a(h,f);return m},o=function(d,h,u){if(!d||!aE(h,u))return u;var f=Hae(h,u);if(!f)return s(u),null;var m=$a(u,f);s(m);var v=$a(u,m);return v},l=function(d){var h=d.scrollJumpRequest;if(h){var u=Ua(d.impact);u||ot(!1);var f=i(d.dimensions.droppables[u],h);if(f){var m=d.viewport,v=o(d.isWindowScrollAllowed,m,f);v&&a(d,v)}}};return l},Jae=function(e){var t=e.scrollDroppable,r=e.scrollWindow,s=e.move,a=Xae({scrollWindow:r,scrollDroppable:t}),i=Qae({move:s,scrollWindow:r,scrollDroppable:t}),o=function(d){if(d.phase==="DRAGGING"){if(d.movementMode==="FLUID"){a.scroll(d);return}d.scrollJumpRequest&&i(d)}},l={scroll:o,start:a.start,stop:a.stop};return l},Af="data-rbd",Ef=function(){var e=Af+"-drag-handle";return{base:e,draggableId:e+"-draggable-id",contextId:e+"-context-id"}}(),gS=function(){var e=Af+"-draggable";return{base:e,contextId:e+"-context-id",id:e+"-id"}}(),Zae=function(){var e=Af+"-droppable";return{base:e,contextId:e+"-context-id",id:e+"-id"}}(),sI={contextId:Af+"-scroll-container-context-id"},eie=function(t){return function(r){return"["+r+'="'+t+'"]'}},xp=function(t,r){return t.map(function(s){var a=s.styles[r];return a?s.selector+" { "+a+" }":""}).join(" ")},tie="pointer-events: none;",rie=function(e){var t=eie(e),r=function(){var l=`
      cursor: -webkit-grab;
      cursor: grab;
    `;return{selector:t(Ef.contextId),styles:{always:`
          -webkit-touch-callout: none;
          -webkit-tap-highlight-color: rgba(0,0,0,0);
          touch-action: manipulation;
        `,resting:l,dragging:tie,dropAnimating:l}}}(),s=function(){var l=`
      transition: `+Xp.outOfTheWay+`;
    `;return{selector:t(gS.contextId),styles:{dragging:l,dropAnimating:l,userCancel:l}}}(),a={selector:t(Zae.contextId),styles:{always:"overflow-anchor: none;"}},i={selector:"body",styles:{dragging:`
        cursor: grabbing;
        cursor: -webkit-grabbing;
        user-select: none;
        -webkit-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        overflow-anchor: none;
      `}},o=[s,r,a,i];return{always:xp(o,"always"),resting:xp(o,"resting"),dragging:xp(o,"dragging"),dropAnimating:xp(o,"dropAnimating"),userCancel:xp(o,"userCancel")}},Va=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?C.useLayoutEffect:C.useEffect,K2=function(){var t=document.querySelector("head");return t||ot(!1),t},aI=function(t){var r=document.createElement("style");return t&&r.setAttribute("nonce",t),r.type="text/css",r};function nie(e,t){var r=vr(function(){return rie(e)},[e]),s=C.useRef(null),a=C.useRef(null),i=Et(ds(function(u){var f=a.current;f||ot(!1),f.textContent=u}),[]),o=Et(function(u){var f=s.current;f||ot(!1),f.textContent=u},[]);Va(function(){!s.current&&!a.current||ot(!1);var u=aI(t),f=aI(t);return s.current=u,a.current=f,u.setAttribute(Af+"-always",e),f.setAttribute(Af+"-dynamic",e),K2().appendChild(u),K2().appendChild(f),o(r.always),i(r.resting),function(){var m=function(x){var p=x.current;p||ot(!1),K2().removeChild(p),x.current=null};m(s),m(a)}},[t,o,i,r.always,r.resting,e]);var l=Et(function(){return i(r.dragging)},[i,r.dragging]),c=Et(function(u){if(u==="DROP"){i(r.dropAnimating);return}i(r.userCancel)},[i,r.dropAnimating,r.userCancel]),d=Et(function(){a.current&&i(r.resting)},[i,r.resting]),h=vr(function(){return{dragging:l,dropping:c,resting:d}},[l,c,d]);return h}var E8=function(e){return e&&e.ownerDocument?e.ownerDocument.defaultView:window};function aj(e){return e instanceof E8(e).HTMLElement}function sie(e,t){var r="["+Ef.contextId+'="'+e+'"]',s=Y7(document.querySelectorAll(r));if(!s.length)return null;var a=dd(s,function(i){return i.getAttribute(Ef.draggableId)===t});return!a||!aj(a)?null:a}function aie(e){var t=C.useRef({}),r=C.useRef(null),s=C.useRef(null),a=C.useRef(!1),i=Et(function(f,m){var v={id:f,focus:m};return t.current[f]=v,function(){var p=t.current,g=p[f];g!==v&&delete p[f]}},[]),o=Et(function(f){var m=sie(e,f);m&&m!==document.activeElement&&m.focus()},[e]),l=Et(function(f,m){r.current===f&&(r.current=m)},[]),c=Et(function(){s.current||a.current&&(s.current=requestAnimationFrame(function(){s.current=null;var f=r.current;f&&o(f)}))},[o]),d=Et(function(f){r.current=null;var m=document.activeElement;m&&m.getAttribute(Ef.draggableId)===f&&(r.current=f)},[]);Va(function(){return a.current=!0,function(){a.current=!1;var f=s.current;f&&cancelAnimationFrame(f)}},[]);var h=vr(function(){return{register:i,tryRecordFocus:d,tryRestoreFocusRecorded:c,tryShiftRecord:l}},[i,d,c,l]);return h}function iie(){var e={draggables:{},droppables:{}},t=[];function r(u){return t.push(u),function(){var m=t.indexOf(u);m!==-1&&t.splice(m,1)}}function s(u){t.length&&t.forEach(function(f){return f(u)})}function a(u){return e.draggables[u]||null}function i(u){var f=a(u);return f||ot(!1),f}var o={register:function(f){e.draggables[f.descriptor.id]=f,s({type:"ADDITION",value:f})},update:function(f,m){var v=e.draggables[m.descriptor.id];v&&v.uniqueId===f.uniqueId&&(delete e.draggables[m.descriptor.id],e.draggables[f.descriptor.id]=f)},unregister:function(f){var m=f.descriptor.id,v=a(m);v&&f.uniqueId===v.uniqueId&&(delete e.draggables[m],s({type:"REMOVAL",value:f}))},getById:i,findById:a,exists:function(f){return!!a(f)},getAllByType:function(f){return nb(e.draggables).filter(function(m){return m.descriptor.type===f})}};function l(u){return e.droppables[u]||null}function c(u){var f=l(u);return f||ot(!1),f}var d={register:function(f){e.droppables[f.descriptor.id]=f},unregister:function(f){var m=l(f.descriptor.id);m&&f.uniqueId===m.uniqueId&&delete e.droppables[f.descriptor.id]},getById:c,findById:l,exists:function(f){return!!l(f)},getAllByType:function(f){return nb(e.droppables).filter(function(m){return m.descriptor.type===f})}};function h(){e.draggables={},e.droppables={},t.length=0}return{draggable:o,droppable:d,subscribe:r,clean:h}}function oie(){var e=vr(iie,[]);return C.useEffect(function(){return function(){requestAnimationFrame(e.clean)}},[e]),e}var oE=pe.createContext(null),ab=function(){var e=document.body;return e||ot(!1),e},lie={position:"absolute",width:"1px",height:"1px",margin:"-1px",border:"0",padding:"0",overflow:"hidden",clip:"rect(0 0 0 0)","clip-path":"inset(100%)"},cie=function(t){return"rbd-announcement-"+t};function die(e){var t=vr(function(){return cie(e)},[e]),r=C.useRef(null);C.useEffect(function(){var i=document.createElement("div");return r.current=i,i.id=t,i.setAttribute("aria-live","assertive"),i.setAttribute("aria-atomic","true"),st(i.style,lie),ab().appendChild(i),function(){setTimeout(function(){var c=ab();c.contains(i)&&c.removeChild(i),i===r.current&&(r.current=null)})}},[t]);var s=Et(function(a){var i=r.current;if(i){i.textContent=a;return}},[]);return s}var uie=0,hie={separator:"::"};function lE(e,t){return t===void 0&&(t=hie),vr(function(){return""+e+t.separator+uie++},[t.separator,e])}function fie(e){var t=e.contextId,r=e.uniqueId;return"rbd-hidden-text-"+t+"-"+r}function mie(e){var t=e.contextId,r=e.text,s=lE("hidden-text",{separator:"-"}),a=vr(function(){return fie({contextId:t,uniqueId:s})},[s,t]);return C.useEffect(function(){var o=document.createElement("div");return o.id=a,o.textContent=r,o.style.display="none",ab().appendChild(o),function(){var c=ab();c.contains(o)&&c.removeChild(o)}},[a,r]),a}var ij=pe.createContext(null);function P8(e){var t=C.useRef(e);return C.useEffect(function(){t.current=e}),t}function pie(){var e=null;function t(){return!!e}function r(o){return o===e}function s(o){e&&ot(!1);var l={abandon:o};return e=l,l}function a(){e||ot(!1),e=null}function i(){e&&(e.abandon(),a())}return{isClaimed:t,isActive:r,claim:s,release:a,tryAbandon:i}}var vie=9,gie=13,cE=27,T8=32,xie=33,yie=34,bie=35,jie=36,wie=37,Nie=38,Sie=39,Cie=40,N0,Aie=(N0={},N0[gie]=!0,N0[vie]=!0,N0),_8=function(e){Aie[e.keyCode]&&e.preventDefault()},oj=function(){var e="visibilitychange";if(typeof document>"u")return e;var t=[e,"ms"+e,"webkit"+e,"moz"+e,"o"+e],r=dd(t,function(s){return"on"+s in document});return r||e}(),I8=0,iI=5;function Eie(e,t){return Math.abs(t.x-e.x)>=iI||Math.abs(t.y-e.y)>=iI}var oI={type:"IDLE"};function Pie(e){var t=e.cancel,r=e.completed,s=e.getPhase,a=e.setPhase;return[{eventName:"mousemove",fn:function(o){var l=o.button,c=o.clientX,d=o.clientY;if(l===I8){var h={x:c,y:d},u=s();if(u.type==="DRAGGING"){o.preventDefault(),u.actions.move(h);return}u.type!=="PENDING"&&ot(!1);var f=u.point;if(Eie(f,h)){o.preventDefault();var m=u.actions.fluidLift(h);a({type:"DRAGGING",actions:m})}}}},{eventName:"mouseup",fn:function(o){var l=s();if(l.type!=="DRAGGING"){t();return}o.preventDefault(),l.actions.drop({shouldBlockNextClick:!0}),r()}},{eventName:"mousedown",fn:function(o){s().type==="DRAGGING"&&o.preventDefault(),t()}},{eventName:"keydown",fn:function(o){var l=s();if(l.type==="PENDING"){t();return}if(o.keyCode===cE){o.preventDefault(),t();return}_8(o)}},{eventName:"resize",fn:t},{eventName:"scroll",options:{passive:!0,capture:!1},fn:function(){s().type==="PENDING"&&t()}},{eventName:"webkitmouseforcedown",fn:function(o){var l=s();if(l.type==="IDLE"&&ot(!1),l.actions.shouldRespectForcePress()){t();return}o.preventDefault()}},{eventName:oj,fn:t}]}function Tie(e){var t=C.useRef(oI),r=C.useRef(Uc),s=vr(function(){return{eventName:"mousedown",fn:function(u){if(!u.defaultPrevented&&u.button===I8&&!(u.ctrlKey||u.metaKey||u.shiftKey||u.altKey)){var f=e.findClosestDraggableId(u);if(f){var m=e.tryGetLock(f,o,{sourceEvent:u});if(m){u.preventDefault();var v={x:u.clientX,y:u.clientY};r.current(),d(m,v)}}}}}},[e]),a=vr(function(){return{eventName:"webkitmouseforcewillbegin",fn:function(u){if(!u.defaultPrevented){var f=e.findClosestDraggableId(u);if(f){var m=e.findOptionsForDraggable(f);m&&(m.shouldRespectForcePress||e.canGetLock(f)&&u.preventDefault())}}}}},[e]),i=Et(function(){var u={passive:!1,capture:!0};r.current=ui(window,[a,s],u)},[a,s]),o=Et(function(){var h=t.current;h.type!=="IDLE"&&(t.current=oI,r.current(),i())},[i]),l=Et(function(){var h=t.current;o(),h.type==="DRAGGING"&&h.actions.cancel({shouldBlockNextClick:!0}),h.type==="PENDING"&&h.actions.abort()},[o]),c=Et(function(){var u={capture:!0,passive:!1},f=Pie({cancel:l,completed:o,getPhase:function(){return t.current},setPhase:function(v){t.current=v}});r.current=ui(window,f,u)},[l,o]),d=Et(function(u,f){t.current.type!=="IDLE"&&ot(!1),t.current={type:"PENDING",point:f,actions:u},c()},[c]);Va(function(){return i(),function(){r.current()}},[i])}var yh;function _ie(){}var Iie=(yh={},yh[yie]=!0,yh[xie]=!0,yh[jie]=!0,yh[bie]=!0,yh);function kie(e,t){function r(){t(),e.cancel()}function s(){t(),e.drop()}return[{eventName:"keydown",fn:function(i){if(i.keyCode===cE){i.preventDefault(),r();return}if(i.keyCode===T8){i.preventDefault(),s();return}if(i.keyCode===Cie){i.preventDefault(),e.moveDown();return}if(i.keyCode===Nie){i.preventDefault(),e.moveUp();return}if(i.keyCode===Sie){i.preventDefault(),e.moveRight();return}if(i.keyCode===wie){i.preventDefault(),e.moveLeft();return}if(Iie[i.keyCode]){i.preventDefault();return}_8(i)}},{eventName:"mousedown",fn:r},{eventName:"mouseup",fn:r},{eventName:"click",fn:r},{eventName:"touchstart",fn:r},{eventName:"resize",fn:r},{eventName:"wheel",fn:r,options:{passive:!0}},{eventName:oj,fn:r}]}function Die(e){var t=C.useRef(_ie),r=vr(function(){return{eventName:"keydown",fn:function(i){if(i.defaultPrevented||i.keyCode!==T8)return;var o=e.findClosestDraggableId(i);if(!o)return;var l=e.tryGetLock(o,h,{sourceEvent:i});if(!l)return;i.preventDefault();var c=!0,d=l.snapLift();t.current();function h(){c||ot(!1),c=!1,t.current(),s()}t.current=ui(window,kie(d,h),{capture:!0,passive:!1})}}},[e]),s=Et(function(){var i={passive:!1,capture:!0};t.current=ui(window,[r],i)},[r]);Va(function(){return s(),function(){t.current()}},[s])}var Y2={type:"IDLE"},Oie=120,Lie=.15;function Rie(e){var t=e.cancel,r=e.getPhase;return[{eventName:"orientationchange",fn:t},{eventName:"resize",fn:t},{eventName:"contextmenu",fn:function(a){a.preventDefault()}},{eventName:"keydown",fn:function(a){if(r().type!=="DRAGGING"){t();return}a.keyCode===cE&&a.preventDefault(),t()}},{eventName:oj,fn:t}]}function Fie(e){var t=e.cancel,r=e.completed,s=e.getPhase;return[{eventName:"touchmove",options:{capture:!1},fn:function(i){var o=s();if(o.type!=="DRAGGING"){t();return}o.hasMoved=!0;var l=i.touches[0],c=l.clientX,d=l.clientY,h={x:c,y:d};i.preventDefault(),o.actions.move(h)}},{eventName:"touchend",fn:function(i){var o=s();if(o.type!=="DRAGGING"){t();return}i.preventDefault(),o.actions.drop({shouldBlockNextClick:!0}),r()}},{eventName:"touchcancel",fn:function(i){if(s().type!=="DRAGGING"){t();return}i.preventDefault(),t()}},{eventName:"touchforcechange",fn:function(i){var o=s();o.type==="IDLE"&&ot(!1);var l=i.touches[0];if(l){var c=l.force>=Lie;if(c){var d=o.actions.shouldRespectForcePress();if(o.type==="PENDING"){d&&t();return}if(d){if(o.hasMoved){i.preventDefault();return}t();return}i.preventDefault()}}}},{eventName:oj,fn:t}]}function $ie(e){var t=C.useRef(Y2),r=C.useRef(Uc),s=Et(function(){return t.current},[]),a=Et(function(m){t.current=m},[]),i=vr(function(){return{eventName:"touchstart",fn:function(m){if(!m.defaultPrevented){var v=e.findClosestDraggableId(m);if(v){var x=e.tryGetLock(v,l,{sourceEvent:m});if(x){var p=m.touches[0],g=p.clientX,b=p.clientY,y={x:g,y:b};r.current(),u(x,y)}}}}}},[e]),o=Et(function(){var m={capture:!0,passive:!1};r.current=ui(window,[i],m)},[i]),l=Et(function(){var f=t.current;f.type!=="IDLE"&&(f.type==="PENDING"&&clearTimeout(f.longPressTimerId),a(Y2),r.current(),o())},[o,a]),c=Et(function(){var f=t.current;l(),f.type==="DRAGGING"&&f.actions.cancel({shouldBlockNextClick:!0}),f.type==="PENDING"&&f.actions.abort()},[l]),d=Et(function(){var m={capture:!0,passive:!1},v={cancel:c,completed:l,getPhase:s},x=ui(window,Fie(v),m),p=ui(window,Rie(v),m);r.current=function(){x(),p()}},[c,s,l]),h=Et(function(){var m=s();m.type!=="PENDING"&&ot(!1);var v=m.actions.fluidLift(m.point);a({type:"DRAGGING",actions:v,hasMoved:!1})},[s,a]),u=Et(function(m,v){s().type!=="IDLE"&&ot(!1);var x=setTimeout(h,Oie);a({type:"PENDING",point:v,actions:m,longPressTimerId:x}),d()},[d,s,a,h]);Va(function(){return o(),function(){r.current();var v=s();v.type==="PENDING"&&(clearTimeout(v.longPressTimerId),a(Y2))}},[s,o,a]),Va(function(){var m=ui(window,[{eventName:"touchmove",fn:function(){},options:{capture:!1,passive:!1}}]);return m},[])}var Mie={input:!0,button:!0,textarea:!0,select:!0,option:!0,optgroup:!0,video:!0,audio:!0};function k8(e,t){if(t==null)return!1;var r=!!Mie[t.tagName.toLowerCase()];if(r)return!0;var s=t.getAttribute("contenteditable");return s==="true"||s===""?!0:t===e?!1:k8(e,t.parentElement)}function Bie(e,t){var r=t.target;return aj(r)?k8(e,r):!1}var zie=function(e){return Qi(e.getBoundingClientRect()).center};function Uie(e){return e instanceof E8(e).Element}var Vie=function(){var e="matches";if(typeof document>"u")return e;var t=[e,"msMatchesSelector","webkitMatchesSelector"],r=dd(t,function(s){return s in Element.prototype});return r||e}();function D8(e,t){return e==null?null:e[Vie](t)?e:D8(e.parentElement,t)}function qie(e,t){return e.closest?e.closest(t):D8(e,t)}function Wie(e){return"["+Ef.contextId+'="'+e+'"]'}function Hie(e,t){var r=t.target;if(!Uie(r))return null;var s=Wie(e),a=qie(r,s);return!a||!aj(a)?null:a}function Gie(e,t){var r=Hie(e,t);return r?r.getAttribute(Ef.draggableId):null}function Kie(e,t){var r="["+gS.contextId+'="'+e+'"]',s=Y7(document.querySelectorAll(r)),a=dd(s,function(i){return i.getAttribute(gS.id)===t});return!a||!aj(a)?null:a}function Yie(e){e.preventDefault()}function S0(e){var t=e.expected,r=e.phase,s=e.isLockActive;return e.shouldWarn,!(!s()||t!==r)}function O8(e){var t=e.lockAPI,r=e.store,s=e.registry,a=e.draggableId;if(t.isClaimed())return!1;var i=s.draggable.findById(a);return!(!i||!i.options.isEnabled||!N8(r.getState(),a))}function Xie(e){var t=e.lockAPI,r=e.contextId,s=e.store,a=e.registry,i=e.draggableId,o=e.forceSensorStop,l=e.sourceEvent,c=O8({lockAPI:t,store:s,registry:a,draggableId:i});if(!c)return null;var d=a.draggable.getById(i),h=Kie(r,d.descriptor.id);if(!h||l&&!d.options.canDragInteractiveElements&&Bie(h,l))return null;var u=t.claim(o||Uc),f="PRE_DRAG";function m(){return d.options.shouldRespectForcePress}function v(){return t.isActive(u)}function x(S,N){S0({expected:S,phase:f,isLockActive:v,shouldWarn:!0})&&s.dispatch(N())}var p=x.bind(null,"DRAGGING");function g(S){function N(){t.release(),f="COMPLETED"}f!=="PRE_DRAG"&&(N(),f!=="PRE_DRAG"&&ot(!1)),s.dispatch(Vse(S.liftActionArgs)),f="DRAGGING";function w(_,k){if(k===void 0&&(k={shouldBlockNextClick:!1}),S.cleanup(),k.shouldBlockNextClick){var T=ui(window,[{eventName:"click",fn:Yie,options:{once:!0,passive:!1,capture:!0}}]);setTimeout(T)}N(),s.dispatch(v8({reason:_}))}return st({isActive:function(){return S0({expected:"DRAGGING",phase:f,isLockActive:v,shouldWarn:!1})},shouldRespectForcePress:m,drop:function(k){return w("DROP",k)},cancel:function(k){return w("CANCEL",k)}},S.actions)}function b(S){var N=Fv(function(_){p(function(){return p8({client:_})})}),w=g({liftActionArgs:{id:i,clientSelection:S,movementMode:"FLUID"},cleanup:function(){return N.cancel()},actions:{move:N}});return st({},w,{move:N})}function y(){var S={moveUp:function(){return p(Jse)},moveRight:function(){return p(eae)},moveDown:function(){return p(Zse)},moveLeft:function(){return p(tae)}};return g({liftActionArgs:{id:i,clientSelection:zie(h),movementMode:"SNAP"},cleanup:Uc,actions:S})}function j(){var S=S0({expected:"PRE_DRAG",phase:f,isLockActive:v,shouldWarn:!0});S&&t.release()}var E={isActive:function(){return S0({expected:"PRE_DRAG",phase:f,isLockActive:v,shouldWarn:!1})},shouldRespectForcePress:m,fluidLift:b,snapLift:y,abort:j};return E}var Qie=[Tie,Die,$ie];function Jie(e){var t=e.contextId,r=e.store,s=e.registry,a=e.customSensors,i=e.enableDefaultSensors,o=[].concat(i?Qie:[],a||[]),l=C.useState(function(){return pie()})[0],c=Et(function(b,y){b.isDragging&&!y.isDragging&&l.tryAbandon()},[l]);Va(function(){var b=r.getState(),y=r.subscribe(function(){var j=r.getState();c(b,j),b=j});return y},[l,r,c]),Va(function(){return l.tryAbandon},[l.tryAbandon]);for(var d=Et(function(g){return O8({lockAPI:l,registry:s,store:r,draggableId:g})},[l,s,r]),h=Et(function(g,b,y){return Xie({lockAPI:l,registry:s,contextId:t,store:r,draggableId:g,forceSensorStop:b,sourceEvent:y&&y.sourceEvent?y.sourceEvent:null})},[t,l,s,r]),u=Et(function(g){return Gie(t,g)},[t]),f=Et(function(g){var b=s.draggable.findById(g);return b?b.options:null},[s.draggable]),m=Et(function(){l.isClaimed()&&(l.tryAbandon(),r.getState().phase!=="IDLE"&&r.dispatch(Z4()))},[l,r]),v=Et(l.isClaimed,[l]),x=vr(function(){return{canGetLock:d,tryGetLock:h,findClosestDraggableId:u,findOptionsForDraggable:f,tryReleaseLock:m,isLockClaimed:v}},[d,h,u,f,m,v]),p=0;p<o.length;p++)o[p](x)}var Zie=function(t){return{onBeforeCapture:t.onBeforeCapture,onBeforeDragStart:t.onBeforeDragStart,onDragStart:t.onDragStart,onDragEnd:t.onDragEnd,onDragUpdate:t.onDragUpdate}};function yp(e){return e.current||ot(!1),e.current}function eoe(e){var t=e.contextId,r=e.setCallbacks,s=e.sensors,a=e.nonce,i=e.dragHandleUsageInstructions,o=C.useRef(null),l=P8(e),c=Et(function(){return Zie(l.current)},[l]),d=die(t),h=mie({contextId:t,text:i}),u=nie(t,a),f=Et(function(_){yp(o).dispatch(_)},[]),m=vr(function(){return __({publishWhileDragging:Wse,updateDroppableScroll:Gse,updateDroppableIsEnabled:Kse,updateDroppableIsCombineEnabled:Yse,collectionStarting:Hse},f)},[f]),v=oie(),x=vr(function(){return Lae(v,m)},[v,m]),p=vr(function(){return Jae(st({scrollWindow:Rae,scrollDroppable:x.scrollDroppable},__({move:p8},f)))},[x.scrollDroppable,f]),g=aie(t),b=vr(function(){return Iae({announce:d,autoScroller:p,dimensionMarshal:x,focusMarshal:g,getResponders:c,styleMarshal:u})},[d,p,x,g,c,u]);o.current=b;var y=Et(function(){var _=yp(o),k=_.getState();k.phase!=="IDLE"&&_.dispatch(Z4())},[]),j=Et(function(){var _=yp(o).getState();return _.isDragging||_.phase==="DROP_ANIMATING"},[]),E=vr(function(){return{isDragging:j,tryAbort:y}},[j,y]);r(E);var S=Et(function(_){return N8(yp(o).getState(),_)},[]),N=Et(function(){return Ld(yp(o).getState())},[]),w=vr(function(){return{marshal:x,focus:g,contextId:t,canLift:S,isMovementAllowed:N,dragHandleUsageInstructionsId:h,registry:v}},[t,x,h,g,S,N,v]);return Jie({contextId:t,store:b,registry:v,customSensors:s,enableDefaultSensors:e.enableDefaultSensors!==!1}),C.useEffect(function(){return y},[y]),pe.createElement(ij.Provider,{value:w},pe.createElement(wre,{context:oE,store:b},e.children))}var toe=0;function roe(){return vr(function(){return""+toe++},[])}function noe(e){var t=roe(),r=e.dragHandleUsageInstructions||my.dragHandleUsageInstructions;return pe.createElement(Dne,null,function(s){return pe.createElement(eoe,{nonce:e.nonce,contextId:t,setCallbacks:s,dragHandleUsageInstructions:r,enableDefaultSensors:e.enableDefaultSensors,sensors:e.sensors,onBeforeCapture:e.onBeforeCapture,onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragUpdate:e.onDragUpdate,onDragEnd:e.onDragEnd},e.children)})}var L8=function(t){return function(r){return t===r}},soe=L8("scroll"),aoe=L8("auto"),lI=function(t,r){return r(t.overflowX)||r(t.overflowY)},ioe=function(t){var r=window.getComputedStyle(t),s={overflowX:r.overflowX,overflowY:r.overflowY};return lI(s,soe)||lI(s,aoe)},ooe=function(){return!1},loe=function e(t){return t==null?null:t===document.body?ooe()?t:null:t===document.documentElement?null:ioe(t)?t:e(t.parentElement)},xS=function(e){return{x:e.scrollLeft,y:e.scrollTop}},coe=function e(t){if(!t)return!1;var r=window.getComputedStyle(t);return r.position==="fixed"?!0:e(t.parentElement)},doe=function(e){var t=loe(e),r=coe(e);return{closestScrollable:t,isFixedOnPage:r}},uoe=function(e){var t=e.descriptor,r=e.isEnabled,s=e.isCombineEnabled,a=e.isFixedOnPage,i=e.direction,o=e.client,l=e.page,c=e.closest,d=function(){if(!c)return null;var m=c.scrollSize,v=c.client,x=b8({scrollHeight:m.scrollHeight,scrollWidth:m.scrollWidth,height:v.paddingBox.height,width:v.paddingBox.width});return{pageMarginBox:c.page.marginBox,frameClient:v,scrollSize:m,shouldClipSubject:c.shouldClipSubject,scroll:{initial:c.scroll,current:c.scroll,max:x,diff:{value:hs,displacement:hs}}}}(),h=i==="vertical"?K4:e8,u=Cf({page:l,withPlaceholder:null,axis:h,frame:d}),f={descriptor:t,isCombineEnabled:s,isFixedOnPage:a,axis:h,isEnabled:r,client:o,page:l,frame:d,subject:u};return f},hoe=function(t,r){var s=q7(t);if(!r||t!==r)return s;var a=s.paddingBox.top-r.scrollTop,i=s.paddingBox.left-r.scrollLeft,o=a+r.scrollHeight,l=i+r.scrollWidth,c={top:a,right:l,bottom:o,left:i},d=V4(c,s.border),h=q4({borderBox:d,margin:s.margin,border:s.border,padding:s.padding});return h},foe=function(e){var t=e.ref,r=e.descriptor,s=e.env,a=e.windowScroll,i=e.direction,o=e.isDropDisabled,l=e.isCombineEnabled,c=e.shouldClipSubject,d=s.closestScrollable,h=hoe(t,d),u=eb(h,a),f=function(){if(!d)return null;var v=q7(d),x={scrollHeight:d.scrollHeight,scrollWidth:d.scrollWidth};return{client:v,page:eb(v,a),scroll:xS(d),scrollSize:x,shouldClipSubject:c}}(),m=uoe({descriptor:r,isEnabled:!o,isCombineEnabled:l,isFixedOnPage:s.isFixedOnPage,direction:i,client:h,page:u,closest:f});return m},moe={passive:!1},poe={passive:!0},cI=function(e){return e.shouldPublishImmediately?moe:poe};function ib(e){var t=C.useContext(e);return t||ot(!1),t}var C0=function(t){return t&&t.env.closestScrollable||null};function voe(e){var t=C.useRef(null),r=ib(ij),s=lE("droppable"),a=r.registry,i=r.marshal,o=P8(e),l=vr(function(){return{id:e.droppableId,type:e.type,mode:e.mode}},[e.droppableId,e.mode,e.type]),c=C.useRef(l),d=vr(function(){return ds(function(j,E){t.current||ot(!1);var S={x:j,y:E};i.updateDroppableScroll(l.id,S)})},[l.id,i]),h=Et(function(){var j=t.current;return!j||!j.env.closestScrollable?hs:xS(j.env.closestScrollable)},[]),u=Et(function(){var j=h();d(j.x,j.y)},[h,d]),f=vr(function(){return Fv(u)},[u]),m=Et(function(){var j=t.current,E=C0(j);j&&E||ot(!1);var S=j.scrollOptions;if(S.shouldPublishImmediately){u();return}f()},[f,u]),v=Et(function(j,E){t.current&&ot(!1);var S=o.current,N=S.getDroppableRef();N||ot(!1);var w=doe(N),_={ref:N,descriptor:l,env:w,scrollOptions:E};t.current=_;var k=foe({ref:N,descriptor:l,env:w,windowScroll:j,direction:S.direction,isDropDisabled:S.isDropDisabled,isCombineEnabled:S.isCombineEnabled,shouldClipSubject:!S.ignoreContainerClipping}),T=w.closestScrollable;return T&&(T.setAttribute(sI.contextId,r.contextId),T.addEventListener("scroll",m,cI(_.scrollOptions))),k},[r.contextId,l,m,o]),x=Et(function(){var j=t.current,E=C0(j);return j&&E||ot(!1),xS(E)},[]),p=Et(function(){var j=t.current;j||ot(!1);var E=C0(j);t.current=null,E&&(f.cancel(),E.removeAttribute(sI.contextId),E.removeEventListener("scroll",m,cI(j.scrollOptions)))},[m,f]),g=Et(function(j){var E=t.current;E||ot(!1);var S=C0(E);S||ot(!1),S.scrollTop+=j.y,S.scrollLeft+=j.x},[]),b=vr(function(){return{getDimensionAndWatchScroll:v,getScrollWhileDragging:x,dragStopped:p,scroll:g}},[p,v,x,g]),y=vr(function(){return{uniqueId:s,descriptor:l,callbacks:b}},[b,l,s]);Va(function(){return c.current=y.descriptor,a.droppable.register(y),function(){t.current&&p(),a.droppable.unregister(y)}},[b,l,p,y,i,a.droppable]),Va(function(){t.current&&i.updateDroppableIsEnabled(c.current.id,!e.isDropDisabled)},[e.isDropDisabled,i]),Va(function(){t.current&&i.updateDroppableIsCombineEnabled(c.current.id,e.isCombineEnabled)},[e.isCombineEnabled,i])}function X2(){}var dI={width:0,height:0,margin:Mne},goe=function(t){var r=t.isAnimatingOpenOnMount,s=t.placeholder,a=t.animate;return r||a==="close"?dI:{height:s.client.borderBox.height,width:s.client.borderBox.width,margin:s.client.margin}},xoe=function(t){var r=t.isAnimatingOpenOnMount,s=t.placeholder,a=t.animate,i=goe({isAnimatingOpenOnMount:r,placeholder:s,animate:a});return{display:s.display,boxSizing:"border-box",width:i.width,height:i.height,marginTop:i.margin.top,marginRight:i.margin.right,marginBottom:i.margin.bottom,marginLeft:i.margin.left,flexShrink:"0",flexGrow:"0",pointerEvents:"none",transition:a!=="none"?Xp.placeholder:null}};function yoe(e){var t=C.useRef(null),r=Et(function(){t.current&&(clearTimeout(t.current),t.current=null)},[]),s=e.animate,a=e.onTransitionEnd,i=e.onClose,o=e.contextId,l=C.useState(e.animate==="open"),c=l[0],d=l[1];C.useEffect(function(){return c?s!=="open"?(r(),d(!1),X2):t.current?X2:(t.current=setTimeout(function(){t.current=null,d(!1)}),r):X2},[s,c,r]);var h=Et(function(f){f.propertyName==="height"&&(a(),s==="close"&&i())},[s,i,a]),u=xoe({isAnimatingOpenOnMount:c,animate:e.animate,placeholder:e.placeholder});return pe.createElement(e.placeholder.tagName,{style:u,"data-rbd-placeholder-context-id":o,onTransitionEnd:h,ref:e.innerRef})}var boe=pe.memo(yoe),dE=pe.createContext(null),joe=function(e){N7(t,e);function t(){for(var s,a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return s=e.call.apply(e,[this].concat(i))||this,s.state={isVisible:!!s.props.on,data:s.props.on,animate:s.props.shouldAnimate&&s.props.on?"open":"none"},s.onClose=function(){s.state.animate==="close"&&s.setState({isVisible:!1})},s}t.getDerivedStateFromProps=function(a,i){return a.shouldAnimate?a.on?{isVisible:!0,data:a.on,animate:"open"}:i.isVisible?{isVisible:!0,data:i.data,animate:"close"}:{isVisible:!1,animate:"close",data:null}:{isVisible:!!a.on,data:a.on,animate:"none"}};var r=t.prototype;return r.render=function(){if(!this.state.isVisible)return null;var a={onClose:this.onClose,data:this.state.data,animate:this.state.animate};return this.props.children(a)},t}(pe.PureComponent),uI={dragging:5e3,dropAnimating:4500},woe=function(t,r){return r?Xp.drop(r.duration):t?Xp.snap:Xp.fluid},Noe=function(t,r){return t?r?zv.opacity.drop:zv.opacity.combining:null},Soe=function(t){return t.forceShouldAnimate!=null?t.forceShouldAnimate:t.mode==="SNAP"};function Coe(e){var t=e.dimension,r=t.client,s=e.offset,a=e.combineWith,i=e.dropping,o=!!a,l=Soe(e),c=!!i,d=c?pS.drop(s,o):pS.moveTo(s),h={position:"fixed",top:r.marginBox.top,left:r.marginBox.left,boxSizing:"border-box",width:r.borderBox.width,height:r.borderBox.height,transition:woe(l,i),transform:d,opacity:Noe(o,c),zIndex:c?uI.dropAnimating:uI.dragging,pointerEvents:"none"};return h}function Aoe(e){return{transform:pS.moveTo(e.offset),transition:e.shouldAnimateDisplacement?null:"none"}}function Eoe(e){return e.type==="DRAGGING"?Coe(e):Aoe(e)}function Poe(e,t,r){r===void 0&&(r=hs);var s=window.getComputedStyle(t),a=t.getBoundingClientRect(),i=V7(a,s),o=eb(i,r),l={client:i,tagName:t.tagName.toLowerCase(),display:s.display},c={x:i.marginBox.width,y:i.marginBox.height},d={descriptor:e,placeholder:l,displaceBy:c,client:i,page:o};return d}function Toe(e){var t=lE("draggable"),r=e.descriptor,s=e.registry,a=e.getDraggableRef,i=e.canDragInteractiveElements,o=e.shouldRespectForcePress,l=e.isEnabled,c=vr(function(){return{canDragInteractiveElements:i,shouldRespectForcePress:o,isEnabled:l}},[i,l,o]),d=Et(function(m){var v=a();return v||ot(!1),Poe(r,v,m)},[r,a]),h=vr(function(){return{uniqueId:t,descriptor:r,options:c,getDimension:d}},[r,d,c,t]),u=C.useRef(h),f=C.useRef(!0);Va(function(){return s.draggable.register(u.current),function(){return s.draggable.unregister(u.current)}},[s.draggable]),Va(function(){if(f.current){f.current=!1;return}var m=u.current;u.current=h,s.draggable.update(h,m)},[h,s.draggable])}function _oe(e){e.preventDefault()}function Ioe(e){var t=C.useRef(null),r=Et(function(_){t.current=_},[]),s=Et(function(){return t.current},[]),a=ib(ij),i=a.contextId,o=a.dragHandleUsageInstructionsId,l=a.registry,c=ib(dE),d=c.type,h=c.droppableId,u=vr(function(){return{id:e.draggableId,index:e.index,type:d,droppableId:h}},[e.draggableId,e.index,d,h]),f=e.children,m=e.draggableId,v=e.isEnabled,x=e.shouldRespectForcePress,p=e.canDragInteractiveElements,g=e.isClone,b=e.mapped,y=e.dropAnimationFinished;if(!g){var j=vr(function(){return{descriptor:u,registry:l,getDraggableRef:s,canDragInteractiveElements:p,shouldRespectForcePress:x,isEnabled:v}},[u,l,s,p,x,v]);Toe(j)}var E=vr(function(){return v?{tabIndex:0,role:"button","aria-describedby":o,"data-rbd-drag-handle-draggable-id":m,"data-rbd-drag-handle-context-id":i,draggable:!1,onDragStart:_oe}:null},[i,o,m,v]),S=Et(function(_){b.type==="DRAGGING"&&b.dropping&&_.propertyName==="transform"&&y()},[y,b]),N=vr(function(){var _=Eoe(b),k=b.type==="DRAGGING"&&b.dropping?S:null,T={innerRef:r,draggableProps:{"data-rbd-draggable-context-id":i,"data-rbd-draggable-id":m,style:_,onTransitionEnd:k},dragHandleProps:E};return T},[i,E,m,b,S,r]),w=vr(function(){return{draggableId:u.id,type:u.type,source:{index:u.index,droppableId:u.droppableId}}},[u.droppableId,u.id,u.index,u.type]);return f(N,b.snapshot,w)}var R8=function(e,t){return e===t},F8=function(e){var t=e.combine,r=e.destination;return r?r.droppableId:t?t.droppableId:null},koe=function(t){return t.combine?t.combine.draggableId:null},Doe=function(t){return t.at&&t.at.type==="COMBINE"?t.at.combine.draggableId:null};function Ooe(){var e=ds(function(a,i){return{x:a,y:i}}),t=ds(function(a,i,o,l,c){return{isDragging:!0,isClone:i,isDropAnimating:!!c,dropAnimation:c,mode:a,draggingOver:o,combineWith:l,combineTargetFor:null}}),r=ds(function(a,i,o,l,c,d,h){return{mapped:{type:"DRAGGING",dropping:null,draggingOver:c,combineWith:d,mode:i,offset:a,dimension:o,forceShouldAnimate:h,snapshot:t(i,l,c,d,null)}}}),s=function(i,o){if(i.isDragging){if(i.critical.draggable.id!==o.draggableId)return null;var l=i.current.client.offset,c=i.dimensions.draggables[o.draggableId],d=Ua(i.impact),h=Doe(i.impact),u=i.forceShouldAnimate;return r(e(l.x,l.y),i.movementMode,c,o.isClone,d,h,u)}if(i.phase==="DROP_ANIMATING"){var f=i.completed;if(f.result.draggableId!==o.draggableId)return null;var m=o.isClone,v=i.dimensions.draggables[o.draggableId],x=f.result,p=x.mode,g=F8(x),b=koe(x),y=i.dropDuration,j={duration:y,curve:tE.drop,moveTo:i.newHomeClientOffset,opacity:b?zv.opacity.drop:null,scale:b?zv.scale.drop:null};return{mapped:{type:"DRAGGING",offset:i.newHomeClientOffset,dimension:v,dropping:j,draggingOver:g,combineWith:b,mode:p,forceShouldAnimate:null,snapshot:t(p,m,g,b,j)}}}return null};return s}function $8(e){return{isDragging:!1,isDropAnimating:!1,isClone:!1,dropAnimation:null,mode:null,draggingOver:null,combineTargetFor:e,combineWith:null}}var Loe={mapped:{type:"SECONDARY",offset:hs,combineTargetFor:null,shouldAnimateDisplacement:!0,snapshot:$8(null)}};function Roe(){var e=ds(function(o,l){return{x:o,y:l}}),t=ds($8),r=ds(function(o,l,c){return l===void 0&&(l=null),{mapped:{type:"SECONDARY",offset:o,combineTargetFor:l,shouldAnimateDisplacement:c,snapshot:t(l)}}}),s=function(l){return l?r(hs,l,!0):null},a=function(l,c,d,h){var u=d.displaced.visible[l],f=!!(h.inVirtualList&&h.effected[l]),m=rj(d),v=m&&m.draggableId===l?c:null;if(!u){if(!f)return s(v);if(d.displaced.invisible[l])return null;var x=um(h.displacedBy.point),p=e(x.x,x.y);return r(p,v,!0)}if(f)return s(v);var g=d.displacedBy.point,b=e(g.x,g.y);return r(b,v,u.shouldAnimate)},i=function(l,c){if(l.isDragging)return l.critical.draggable.id===c.draggableId?null:a(c.draggableId,l.critical.draggable.id,l.impact,l.afterCritical);if(l.phase==="DROP_ANIMATING"){var d=l.completed;return d.result.draggableId===c.draggableId?null:a(c.draggableId,d.result.draggableId,d.impact,d.afterCritical)}return null};return i}var Foe=function(){var t=Ooe(),r=Roe(),s=function(i,o){return t(i,o)||r(i,o)||Loe};return s},$oe={dropAnimationFinished:g8},Moe=z7(Foe,$oe,null,{context:oE,pure:!0,areStatePropsEqual:R8})(Ioe);function M8(e){var t=ib(dE),r=t.isUsingCloneFor;return r===e.draggableId&&!e.isClone?null:pe.createElement(Moe,e)}function Boe(e){var t=typeof e.isDragDisabled=="boolean"?!e.isDragDisabled:!0,r=!!e.disableInteractiveElementBlocking,s=!!e.shouldRespectForcePress;return pe.createElement(M8,st({},e,{isClone:!1,isEnabled:t,canDragInteractiveElements:r,shouldRespectForcePress:s}))}function zoe(e){var t=C.useContext(ij);t||ot(!1);var r=t.contextId,s=t.isMovementAllowed,a=C.useRef(null),i=C.useRef(null),o=e.children,l=e.droppableId,c=e.type,d=e.mode,h=e.direction,u=e.ignoreContainerClipping,f=e.isDropDisabled,m=e.isCombineEnabled,v=e.snapshot,x=e.useClone,p=e.updateViewportMaxScroll,g=e.getContainerForClone,b=Et(function(){return a.current},[]),y=Et(function(T){a.current=T},[]);Et(function(){return i.current},[]);var j=Et(function(T){i.current=T},[]),E=Et(function(){s()&&p({maxScroll:w8()})},[s,p]);voe({droppableId:l,type:c,mode:d,direction:h,isDropDisabled:f,isCombineEnabled:m,ignoreContainerClipping:u,getDroppableRef:b});var S=pe.createElement(joe,{on:e.placeholder,shouldAnimate:e.shouldAnimatePlaceholder},function(T){var A=T.onClose,O=T.data,D=T.animate;return pe.createElement(boe,{placeholder:O,onClose:A,innerRef:j,animate:D,contextId:r,onTransitionEnd:E})}),N=vr(function(){return{innerRef:y,placeholder:S,droppableProps:{"data-rbd-droppable-id":l,"data-rbd-droppable-context-id":r}}},[r,l,S,y]),w=x?x.dragging.draggableId:null,_=vr(function(){return{droppableId:l,type:c,isUsingCloneFor:w}},[l,w,c]);function k(){if(!x)return null;var T=x.dragging,A=x.render,O=pe.createElement(M8,{draggableId:T.draggableId,index:T.source.index,isClone:!0,isEnabled:!0,shouldRespectForcePress:!1,canDragInteractiveElements:!0},function(D,F){return A(D,F,T)});return a4.createPortal(O,g())}return pe.createElement(dE.Provider,{value:_},o(N,v),k())}var Q2=function(t,r){return t===r.droppable.type},hI=function(t,r){return r.draggables[t.draggable.id]},Uoe=function(){var t={placeholder:null,shouldAnimatePlaceholder:!0,snapshot:{isDraggingOver:!1,draggingOverWith:null,draggingFromThisWith:null,isUsingPlaceholder:!1},useClone:null},r=st({},t,{shouldAnimatePlaceholder:!1}),s=ds(function(o){return{draggableId:o.id,type:o.type,source:{index:o.index,droppableId:o.droppableId}}}),a=ds(function(o,l,c,d,h,u){var f=h.descriptor.id,m=h.descriptor.droppableId===o;if(m){var v=u?{render:u,dragging:s(h.descriptor)}:null,x={isDraggingOver:c,draggingOverWith:c?f:null,draggingFromThisWith:f,isUsingPlaceholder:!0};return{placeholder:h.placeholder,shouldAnimatePlaceholder:!1,snapshot:x,useClone:v}}if(!l)return r;if(!d)return t;var p={isDraggingOver:c,draggingOverWith:f,draggingFromThisWith:null,isUsingPlaceholder:!0};return{placeholder:h.placeholder,shouldAnimatePlaceholder:!0,snapshot:p,useClone:null}}),i=function(l,c){var d=c.droppableId,h=c.type,u=!c.isDropDisabled,f=c.renderClone;if(l.isDragging){var m=l.critical;if(!Q2(h,m))return r;var v=hI(m,l.dimensions),x=Ua(l.impact)===d;return a(d,u,x,x,v,f)}if(l.phase==="DROP_ANIMATING"){var p=l.completed;if(!Q2(h,p.critical))return r;var g=hI(p.critical,l.dimensions);return a(d,u,F8(p.result)===d,Ua(p.impact)===d,g,f)}if(l.phase==="IDLE"&&l.completed&&!l.shouldFlush){var b=l.completed;if(!Q2(h,b.critical))return r;var y=Ua(b.impact)===d,j=!!(b.impact.at&&b.impact.at.type==="COMBINE"),E=b.critical.droppable.id===d;return y?j?t:r:E?t:r}return r};return i},Voe={updateViewportMaxScroll:Qse};function qoe(){return document.body||ot(!1),document.body}var Woe={mode:"standard",type:"DEFAULT",direction:"vertical",isDropDisabled:!1,isCombineEnabled:!1,ignoreContainerClipping:!1,renderClone:null,getContainerForClone:qoe},B8=z7(Uoe,Voe,null,{context:oE,pure:!0,areStatePropsEqual:R8})(zoe);B8.defaultProps=Woe;const fI=[{stage:yt.PROSPECTING,name:"Prospecting",color:"bg-blue-500"},{stage:yt.QUALIFICATION,name:"Qualification",color:"bg-yellow-500"},{stage:yt.NEEDS_ANALYSIS,name:"Needs Analysis",color:"bg-orange-500"},{stage:yt.PROPOSAL,name:"Proposal",color:"bg-purple-500"},{stage:yt.NEGOTIATION,name:"Negotiation",color:"bg-indigo-500"},{stage:yt.CLOSED_WON,name:"Closed Won",color:"bg-green-500"},{stage:yt.CLOSED_LOST,name:"Closed Lost",color:"bg-red-500"}];function Hoe({deals:e,onDealStageChange:t,onDealClick:r}){const[s,a]=C.useState(null),i=m=>{switch(m){case Pr.ACTIVE:return"bg-blue-50 text-blue-700 border-blue-200";case Pr.WON:return"bg-green-50 text-green-700 border-green-200";case Pr.LOST:return"bg-red-50 text-red-700 border-red-200";case Pr.ON_HOLD:return"bg-yellow-50 text-yellow-700 border-yellow-200";case Pr.CANCELLED:return"bg-gray-50 text-gray-700 border-gray-200";default:return"bg-gray-50 text-gray-700 border-gray-200"}},o=m=>{switch(m){case"critical":return"bg-red-50 text-red-700 border-red-200";case"high":return"bg-orange-50 text-orange-700 border-orange-200";case"medium":return"bg-yellow-50 text-yellow-700 border-yellow-200";case"low":return"bg-green-50 text-green-700 border-green-200";default:return"bg-gray-50 text-gray-700 border-gray-200"}},l=m=>new Date(m.expectedCloseDate)<new Date&&m.status===Pr.ACTIVE,c=m=>{if(a(null),!m.destination||m.source.droppableId===m.destination.droppableId)return;const v=m.draggableId,x=m.destination.droppableId;t(v,x)},d=m=>{a(m.draggableId)},h=m=>e.filter(v=>v.stage===m),u=m=>h(m).reduce((v,x)=>v+x.value,0),f=m=>h(m).reduce((v,x)=>v+x.value*x.probability/100,0);return n.jsxs("div",{className:"space-y-6 pb-10",children:[n.jsx("div",{className:"grid gap-4 md:grid-cols-7",children:fI.map(m=>{const v=h(m.stage),x=u(m.stage),p=f(m.stage);return n.jsxs(de,{className:"shadow-sm",children:[n.jsxs(ye,{className:"pb-3",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("div",{className:He("w-3 h-3 rounded-full",m.color)}),n.jsx("span",{className:"text-xs text-muted-foreground",children:v.length})]}),n.jsx(be,{className:"text-sm font-medium",children:m.name})]}),n.jsx(ue,{className:"pt-0",children:n.jsxs("div",{className:"space-y-1",children:[n.jsx("div",{className:"text-lg font-bold",children:_e(x)}),n.jsxs("div",{className:"text-xs text-muted-foreground",children:["Weighted: ",_e(p)]})]})})]},m.stage)})}),n.jsx(noe,{onDragEnd:c,onDragStart:d,children:n.jsx("div",{className:"grid gap-4 grid-cols-1 md:grid-cols-7 min-h-[600px]",children:fI.map(m=>n.jsx(B8,{droppableId:m.stage,children:(v,x)=>n.jsxs("div",{ref:v.innerRef,...v.droppableProps,className:He("space-y-3 p-3 rounded-lg border-2 border-dashed transition-colors min-h-[200px]",x.isDraggingOver?"border-primary bg-primary/5":"border-muted"),children:[n.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[n.jsx("div",{className:He("w-3 h-3 rounded-full",m.color)}),n.jsx("h3",{className:"font-semibold text-sm",children:m.name})]}),h(m.stage).map((p,g)=>n.jsx(Boe,{draggableId:p.id,index:g,children:(b,y)=>n.jsx(de,{ref:b.innerRef,...b.draggableProps,...b.dragHandleProps,className:He("cursor-pointer transition-all hover:shadow-md",y.isDragging&&"rotate-3 shadow-lg",s===p.id&&"opacity-50"),onClick:()=>r(p),children:n.jsx(ue,{className:"p-4",children:n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{children:[n.jsx("h4",{className:"font-semibold text-sm line-clamp-2",children:p.name}),n.jsx("p",{className:"text-xs text-muted-foreground truncate",children:p.customerName})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"font-bold text-primary",children:_e(p.value)}),n.jsx(Re,{className:He("ri-badge-status text-xs",o(p.priority)),children:p.priority.toUpperCase()})]}),n.jsxs("div",{className:"flex items-center justify-between text-xs text-muted-foreground",children:[n.jsxs("div",{className:"flex items-center space-x-1",children:[n.jsx(_t,{className:"h-3 w-3"}),n.jsxs("span",{children:[p.probability,"%"]})]}),n.jsxs("div",{className:"flex items-center space-x-1",children:[n.jsx(Lr,{className:"h-3 w-3 flex-shrink-0"}),n.jsx("span",{className:"truncate",children:new Date(p.expectedCloseDate).toLocaleDateString()})]})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx(Re,{className:He("ri-badge-status text-xs",i(p.status)),children:p.status.toUpperCase()}),l(p)&&n.jsxs("div",{className:"flex items-center space-x-1 text-red-500",children:[n.jsx(tf,{className:"h-3 w-3 flex-shrink-0"}),n.jsx("span",{className:"text-xs",children:"Overdue"})]})]})]})})},p.id)},p.id)),v.placeholder]})},m.stage))})})]})}function Goe({metrics:e}){const t=r=>r>=80?"text-green-600":r>=60?"text-yellow-600":"text-red-600";return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"grid gap-4 md:grid-cols-4",children:[n.jsxs(de,{className:"shadow-sm border-0 bg-gradient-to-br from-blue-50 to-blue-100/50",children:[n.jsxs(ye,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(be,{className:"text-sm font-medium text-blue-900",children:"Total Pipeline"}),n.jsx(It,{className:"h-4 w-4 text-blue-600"})]}),n.jsxs(ue,{children:[n.jsx("div",{className:"text-2xl font-bold text-blue-900",children:_e(e.totalValue)}),n.jsxs("p",{className:"text-xs text-blue-600 flex items-center mt-1",children:[n.jsx(Bn,{className:"h-3 w-3 mr-1"}),e.totalDeals," active deals"]})]})]}),n.jsxs(de,{className:"shadow-sm border-0 bg-gradient-to-br from-green-50 to-green-100/50",children:[n.jsxs(ye,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(be,{className:"text-sm font-medium text-green-900",children:"Won Deals"}),n.jsx(_t,{className:"h-4 w-4 text-green-600"})]}),n.jsxs(ue,{children:[n.jsx("div",{className:"text-2xl font-bold text-green-900",children:_e(e.wonValue)}),n.jsxs("p",{className:"text-xs text-green-600 flex items-center mt-1",children:[n.jsx(ja,{className:"h-3 w-3 mr-1"}),e.wonDeals," deals closed"]})]})]}),n.jsxs(de,{className:"shadow-sm border-0 bg-gradient-to-br from-purple-50 to-purple-100/50",children:[n.jsxs(ye,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(be,{className:"text-sm font-medium text-purple-900",children:"Win Rate"}),n.jsx(ja,{className:"h-4 w-4 text-purple-600"})]}),n.jsxs(ue,{children:[n.jsxs("div",{className:"text-2xl font-bold text-purple-900",children:[e.winRate.toFixed(1),"%"]}),n.jsxs("p",{className:"text-xs text-purple-600 flex items-center mt-1",children:[n.jsx(_t,{className:"h-3 w-3 mr-1"}),"Industry average: 27%"]})]})]}),n.jsxs(de,{className:"shadow-sm border-0 bg-gradient-to-br from-orange-50 to-orange-100/50",children:[n.jsxs(ye,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(be,{className:"text-sm font-medium text-orange-900",children:"Avg Deal Size"}),n.jsx(It,{className:"h-4 w-4 text-orange-600"})]}),n.jsxs(ue,{children:[n.jsx("div",{className:"text-2xl font-bold text-orange-900",children:_e(e.averageDealSize)}),n.jsxs("p",{className:"text-xs text-orange-600 flex items-center mt-1",children:[n.jsx(sr,{className:"h-3 w-3 mr-1"}),e.averageSalesCycle.toFixed(0)," day cycle"]})]})]})]}),n.jsxs(de,{className:"shadow-sm",children:[n.jsxs(ye,{children:[n.jsx(be,{children:"Stage Conversion Rates"}),n.jsx($e,{children:"Conversion rates and average time spent in each stage"})]}),n.jsx(ue,{children:n.jsx("div",{className:"space-y-6",children:e.conversionRates.map((r,s)=>n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsxs("span",{className:"text-sm font-medium capitalize",children:[r.fromStage.replace("_"," "),"  ",r.toStage.replace("_"," ")]}),n.jsxs("span",{className:`text-sm font-bold ${t(r.rate)}`,children:[r.rate.toFixed(1),"%"]})]}),n.jsxs("div",{className:"flex items-center space-x-2 text-xs text-muted-foreground",children:[n.jsx(sr,{className:"h-3 w-3"}),n.jsxs("span",{children:[r.averageDuration,"h avg"]})]})]}),n.jsx(su,{value:r.rate,className:"h-2"})]},`${r.fromStage}-${r.toStage}`))})})]}),n.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[n.jsxs(de,{className:"shadow-sm",children:[n.jsxs(ye,{children:[n.jsx(be,{children:"Pipeline Health"}),n.jsx($e,{children:"Key performance indicators"})]}),n.jsx(ue,{children:n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between p-3 bg-green-50 rounded-lg",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(_t,{className:"h-4 w-4 text-green-600"}),n.jsx("span",{className:"text-sm font-medium text-green-900",children:"Win Rate"})]}),n.jsxs("span",{className:"text-lg font-bold text-green-600",children:[e.winRate.toFixed(1),"%"]})]}),n.jsxs("div",{className:"flex items-center justify-between p-3 bg-blue-50 rounded-lg",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(It,{className:"h-4 w-4 text-blue-600"}),n.jsx("span",{className:"text-sm font-medium text-blue-900",children:"Average Deal Size"})]}),n.jsx("span",{className:"text-lg font-bold text-blue-600",children:_e(e.averageDealSize)})]}),n.jsxs("div",{className:"flex items-center justify-between p-3 bg-purple-50 rounded-lg",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(sr,{className:"h-4 w-4 text-purple-600"}),n.jsx("span",{className:"text-sm font-medium text-purple-900",children:"Sales Cycle"})]}),n.jsxs("span",{className:"text-lg font-bold text-purple-600",children:[e.averageSalesCycle.toFixed(0)," days"]})]})]})})]}),n.jsxs(de,{className:"shadow-sm",children:[n.jsxs(ye,{children:[n.jsx(be,{children:"Deal Breakdown"}),n.jsx($e,{children:"Current pipeline composition"})]}),n.jsx(ue,{children:n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-sm text-muted-foreground",children:"Total Deals"}),n.jsx("span",{className:"font-bold",children:e.totalDeals})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-sm text-muted-foreground",children:"Won Deals"}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("span",{className:"font-bold text-green-600",children:e.wonDeals}),n.jsxs("span",{className:"text-xs text-green-600",children:["(",_e(e.wonValue),")"]})]})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-sm text-muted-foreground",children:"Lost Deals"}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("span",{className:"font-bold text-red-600",children:e.lostDeals}),n.jsxs("span",{className:"text-xs text-red-600",children:["(",_e(e.lostValue),")"]})]})]}),n.jsx("div",{className:"pt-2 border-t",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-sm font-medium",children:"Active Pipeline"}),n.jsx("span",{className:"font-bold text-primary",children:_e(e.totalValue-e.wonValue-e.lostValue)})]})})]})})]})]})]})}const Koe=["Best Price","Superior Product Features","Excellent Service","Strong Relationship","Competitive Financing","Quick Delivery","Brand Reputation","Referral/Recommendation"],Yoe=["Price Too High","Lost to Competitor","Budget Constraints","Timing Issues","Product Limitations","Service Concerns","Decision Delayed","Requirements Changed"],Xoe=["Camping World","Lazydays","General RV","PPL Motor Homes","Local Dealer","Private Seller","Other"];function Qoe({deals:e,winLossReports:t,onCreateReport:r}){const[s,a]=C.useState(!1),[i,o]=C.useState(null),[l,c]=C.useState({outcome:"won",primaryReason:"",secondaryReasons:[],competitorWon:"",feedback:"",lessonsLearned:[],actionItems:[]}),d=e.filter(S=>S.status==="won"||S.status==="lost"),h=e.filter(S=>S.status==="won"),u=e.filter(S=>S.status==="lost"),f=d.length>0?h.length/d.length*100:0,m=h.length>0?h.reduce((S,N)=>S+N.value,0)/h.length:0,v=u.length>0?u.reduce((S,N)=>S+N.value,0)/u.length:0,x=S=>{o(S),c({...l,outcome:S.status==="won"?"won":"lost"}),a(!0)},p=()=>{i&&(r(i.id,l.outcome,l),a(!1),o(null),c({outcome:"won",primaryReason:"",secondaryReasons:[],competitorWon:"",feedback:"",lessonsLearned:[],actionItems:[]}))},g=(S,N,w)=>{N.trim()&&!S.includes(N.trim())&&w([...S,N.trim()])},b=(S,N,w)=>{w(S.filter((_,k)=>k!==N))},y=S=>{const N=t.filter(_=>_.outcome===S),w={};return N.forEach(_=>{w[_.primaryReason]=(w[_.primaryReason]||0)+1}),Object.entries(w).sort(([,_],[,k])=>k-_).slice(0,5).map(([_,k])=>({reason:_,count:k,percentage:N.length>0?k/N.length*100:0}))},j=y("won"),E=y("lost");return n.jsxs("div",{className:"space-y-6",children:[s&&i&&n.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:n.jsxs(de,{className:"w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[n.jsx(ye,{children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx(be,{children:"Win/Loss Report"}),n.jsxs($e,{children:[i.name," - ",_e(i.value)]})]}),n.jsx(J,{variant:"ghost",size:"sm",onClick:()=>a(!1),children:n.jsx(Ut,{className:"h-4 w-4"})})]})}),n.jsxs(ue,{className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx(ae,{children:"Outcome"}),n.jsxs(Ve,{value:l.outcome,onValueChange:S=>c(N=>({...N,outcome:S})),children:[n.jsx(ze,{children:n.jsx(qe,{})}),n.jsxs(Ue,{children:[n.jsx(K,{value:"won",children:"Won"}),n.jsx(K,{value:"lost",children:"Lost"})]})]})]}),n.jsxs("div",{children:[n.jsx(ae,{children:"Primary Reason"}),n.jsxs(Ve,{value:l.primaryReason,onValueChange:S=>c(N=>({...N,primaryReason:S})),children:[n.jsx(ze,{children:n.jsx(qe,{placeholder:"Select primary reason"})}),n.jsx(Ue,{children:(l.outcome==="won"?Koe:Yoe).map(S=>n.jsx(K,{value:S,children:S},S))})]})]}),l.outcome==="lost"&&n.jsxs("div",{children:[n.jsx(ae,{children:"Competitor Won"}),n.jsxs(Ve,{value:l.competitorWon,onValueChange:S=>c(N=>({...N,competitorWon:S})),children:[n.jsx(ze,{children:n.jsx(qe,{placeholder:"Select competitor"})}),n.jsx(Ue,{children:Xoe.map(S=>n.jsx(K,{value:S,children:S},S))})]})]}),n.jsxs("div",{children:[n.jsx(ae,{children:"Customer Feedback"}),n.jsx(tr,{value:l.feedback,onChange:S=>c(N=>({...N,feedback:S.target.value})),placeholder:"What did the customer say about their decision?",rows:3})]}),n.jsxs("div",{children:[n.jsx(ae,{children:"Lessons Learned"}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex space-x-2",children:[n.jsx(Pe,{placeholder:"Add a lesson learned",onKeyDown:S=>{if(S.key==="Enter"){S.preventDefault();const N=S.currentTarget;g(l.lessonsLearned,N.value,w=>c(_=>({..._,lessonsLearned:w}))),N.value=""}}}),n.jsx(J,{type:"button",variant:"outline",onClick:S=>{const N=S.currentTarget.previousElementSibling;g(l.lessonsLearned,N.value,w=>c(_=>({..._,lessonsLearned:w}))),N.value=""},children:n.jsx(Nt,{className:"h-4 w-4"})})]}),n.jsx("div",{className:"flex flex-wrap gap-2",children:l.lessonsLearned.map((S,N)=>n.jsxs(Re,{variant:"secondary",className:"flex items-center gap-1",children:[S,n.jsx(Ut,{className:"h-3 w-3 cursor-pointer",onClick:()=>b(l.lessonsLearned,N,w=>c(_=>({..._,lessonsLearned:w})))})]},N))})]})]}),n.jsxs("div",{children:[n.jsx(ae,{children:"Action Items"}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex space-x-2",children:[n.jsx(Pe,{placeholder:"Add an action item",onKeyDown:S=>{if(S.key==="Enter"){S.preventDefault();const N=S.currentTarget;g(l.actionItems,N.value,w=>c(_=>({..._,actionItems:w}))),N.value=""}}}),n.jsx(J,{type:"button",variant:"outline",onClick:S=>{const N=S.currentTarget.previousElementSibling;g(l.actionItems,N.value,w=>c(_=>({..._,actionItems:w}))),N.value=""},children:n.jsx(Nt,{className:"h-4 w-4"})})]}),n.jsx("div",{className:"flex flex-wrap gap-2",children:l.actionItems.map((S,N)=>n.jsxs(Re,{variant:"secondary",className:"flex items-center gap-1",children:[S,n.jsx(Ut,{className:"h-3 w-3 cursor-pointer",onClick:()=>b(l.actionItems,N,w=>c(_=>({..._,actionItems:w})))})]},N))})]})]}),n.jsxs("div",{className:"flex justify-end space-x-3 pt-6 border-t",children:[n.jsx(J,{variant:"outline",onClick:()=>a(!1),children:"Cancel"}),n.jsxs(J,{onClick:p,children:[n.jsx(Rr,{className:"h-4 w-4 mr-2"}),"Save Report"]})]})]})]})}),n.jsxs("div",{className:"grid gap-4 md:grid-cols-4",children:[n.jsxs(de,{className:"shadow-sm border-0 bg-gradient-to-br from-blue-50 to-blue-100/50",children:[n.jsxs(ye,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(be,{className:"text-sm font-medium text-blue-900",children:"Win Rate"}),n.jsx(ja,{className:"h-4 w-4 text-blue-600"})]}),n.jsxs(ue,{children:[n.jsxs("div",{className:"text-2xl font-bold text-blue-900",children:[f.toFixed(1),"%"]}),n.jsxs("p",{className:"text-xs text-blue-600 flex items-center mt-1",children:[n.jsx(Bn,{className:"h-3 w-3 mr-1"}),d.length," closed deals"]})]})]}),n.jsxs(de,{className:"shadow-sm border-0 bg-gradient-to-br from-green-50 to-green-100/50",children:[n.jsxs(ye,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(be,{className:"text-sm font-medium text-green-900",children:"Won Deals"}),n.jsx(_t,{className:"h-4 w-4 text-green-600"})]}),n.jsxs(ue,{children:[n.jsx("div",{className:"text-2xl font-bold text-green-900",children:h.length}),n.jsxs("p",{className:"text-xs text-green-600 flex items-center mt-1",children:[n.jsx(_t,{className:"h-3 w-3 mr-1"}),_e(m)," avg"]})]})]}),n.jsxs(de,{className:"shadow-sm border-0 bg-gradient-to-br from-red-50 to-red-100/50",children:[n.jsxs(ye,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(be,{className:"text-sm font-medium text-red-900",children:"Lost Deals"}),n.jsx(rf,{className:"h-4 w-4 text-red-600"})]}),n.jsxs(ue,{children:[n.jsx("div",{className:"text-2xl font-bold text-red-900",children:u.length}),n.jsxs("p",{className:"text-xs text-red-600 flex items-center mt-1",children:[n.jsx(rf,{className:"h-3 w-3 mr-1"}),_e(v)," avg"]})]})]}),n.jsxs(de,{className:"shadow-sm border-0 bg-gradient-to-br from-purple-50 to-purple-100/50",children:[n.jsxs(ye,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(be,{className:"text-sm font-medium text-purple-900",children:"Reports"}),n.jsx(Bn,{className:"h-4 w-4 text-purple-600"})]}),n.jsxs(ue,{children:[n.jsx("div",{className:"text-2xl font-bold text-purple-900",children:t.length}),n.jsxs("p",{className:"text-xs text-purple-600 flex items-center mt-1",children:[n.jsx(Bn,{className:"h-3 w-3 mr-1"}),"Completed reports"]})]})]})]}),n.jsxs(xr,{defaultValue:"analysis",className:"space-y-6",children:[n.jsxs(fr,{children:[n.jsx(Qe,{value:"analysis",children:"Analysis"}),n.jsx(Qe,{value:"closed-deals",children:"Closed Deals"}),n.jsx(Qe,{value:"reports",children:"Reports"})]}),n.jsxs(et,{value:"analysis",className:"space-y-6",children:[n.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[n.jsxs(de,{className:"shadow-sm",children:[n.jsxs(ye,{children:[n.jsxs(be,{className:"flex items-center",children:[n.jsx(_t,{className:"h-5 w-5 mr-2 text-green-500"}),"Win Reasons"]}),n.jsx($e,{children:"Top reasons for winning deals"})]}),n.jsx(ue,{children:n.jsx("div",{className:"space-y-4",children:j.length>0?j.map((S,N)=>n.jsxs("div",{className:"space-y-1",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-sm font-medium",children:S.reason}),n.jsxs("span",{className:"text-sm text-green-600",children:[S.percentage.toFixed(0),"%"]})]}),n.jsx(su,{value:S.percentage,className:"h-2"})]},N)):n.jsx("div",{className:"text-center py-6 text-muted-foreground",children:"No win reports available"})})})]}),n.jsxs(de,{className:"shadow-sm",children:[n.jsxs(ye,{children:[n.jsxs(be,{className:"flex items-center",children:[n.jsx(rf,{className:"h-5 w-5 mr-2 text-red-500"}),"Loss Reasons"]}),n.jsx($e,{children:"Top reasons for losing deals"})]}),n.jsx(ue,{children:n.jsx("div",{className:"space-y-4",children:E.length>0?E.map((S,N)=>n.jsxs("div",{className:"space-y-1",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-sm font-medium",children:S.reason}),n.jsxs("span",{className:"text-sm text-red-600",children:[S.percentage.toFixed(0),"%"]})]}),n.jsx(su,{value:S.percentage,className:"h-2"})]},N)):n.jsx("div",{className:"text-center py-6 text-muted-foreground",children:"No loss reports available"})})})]})]}),n.jsxs(de,{className:"shadow-sm",children:[n.jsxs(ye,{children:[n.jsx(be,{children:"Lessons Learned"}),n.jsx($e,{children:"Key insights from win/loss reports"})]}),n.jsx(ue,{children:t.length>0?n.jsx("div",{className:"space-y-4",children:t.slice(0,5).map((S,N)=>n.jsxs("div",{className:"p-3 rounded-lg bg-muted/30",children:[n.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[S.outcome==="won"?n.jsx(Re,{className:"bg-green-50 text-green-700 border-green-200",children:"WON"}):n.jsx(Re,{className:"bg-red-50 text-red-700 border-red-200",children:"LOST"}),n.jsx("span",{className:"text-sm font-medium",children:S.primaryReason})]}),n.jsx("div",{className:"space-y-2",children:S.lessonsLearned.map((w,_)=>n.jsxs("p",{className:"text-sm text-muted-foreground",children:[" ",w]},_))})]},N))}):n.jsx("div",{className:"text-center py-6 text-muted-foreground",children:"No lessons learned available"})})]})]}),n.jsx(et,{value:"closed-deals",className:"space-y-6",children:n.jsxs(de,{className:"shadow-sm",children:[n.jsxs(ye,{children:[n.jsx(be,{children:"Recently Closed Deals"}),n.jsx($e,{children:"Deals that have been won or lost"})]}),n.jsx(ue,{children:n.jsx("div",{className:"space-y-4",children:d.length>0?d.map(S=>n.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg hover:bg-accent/50 transition-colors",children:[n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[n.jsx("h3",{className:"font-semibold",children:S.name}),n.jsx(Re,{className:S.status==="won"?"bg-green-50 text-green-700 border-green-200":"bg-red-50 text-red-700 border-red-200",children:S.status.toUpperCase()})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm text-muted-foreground",children:[n.jsxs("div",{children:[n.jsx("span",{className:"font-medium",children:"Customer:"})," ",S.customerName]}),n.jsxs("div",{children:[n.jsx("span",{className:"font-medium",children:"Value:"})," ",_e(S.value)]}),n.jsxs("div",{children:[n.jsx("span",{className:"font-medium",children:"Closed:"})," ",S.actualCloseDate?ct(S.actualCloseDate):"N/A"]}),n.jsxs("div",{children:[n.jsx("span",{className:"font-medium",children:"Rep:"})," ",S.assignedTo]})]})]}),n.jsxs(J,{variant:"outline",size:"sm",onClick:()=>x(S),className:"shadow-sm",children:[n.jsx(Nt,{className:"h-3 w-3 mr-1"}),"Report"]})]},S.id)):n.jsx("div",{className:"text-center py-6 text-muted-foreground",children:"No closed deals available"})})})]})}),n.jsx(et,{value:"reports",className:"space-y-6",children:n.jsxs(de,{className:"shadow-sm",children:[n.jsxs(ye,{children:[n.jsx(be,{children:"Win/Loss Reports"}),n.jsx($e,{children:"Detailed reports on won and lost deals"})]}),n.jsx(ue,{children:n.jsx("div",{className:"space-y-4",children:t.length>0?t.map(S=>{const N=e.find(w=>w.id===S.dealId);return n.jsxs("div",{className:"p-4 border rounded-lg hover:bg-accent/50 transition-colors",children:[n.jsxs("div",{className:"flex items-center justify-between mb-3",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx(Re,{className:S.outcome==="won"?"bg-green-50 text-green-700 border-green-200":"bg-red-50 text-red-700 border-red-200",children:S.outcome.toUpperCase()}),n.jsx("h3",{className:"font-semibold",children:(N==null?void 0:N.name)||"Unknown Deal"})]}),n.jsx("span",{className:"text-sm text-muted-foreground",children:ct(S.reportedAt)})]}),n.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[n.jsxs("div",{children:[n.jsx("h4",{className:"text-sm font-medium mb-2",children:"Reasons"}),n.jsxs("div",{className:"space-y-1",children:[n.jsxs("p",{className:"text-sm",children:[n.jsx("span",{className:"font-medium",children:"Primary:"})," ",S.primaryReason]}),S.secondaryReasons.length>0&&n.jsxs("p",{className:"text-sm",children:[n.jsx("span",{className:"font-medium",children:"Secondary:"})," ",S.secondaryReasons.join(", ")]}),S.competitorWon&&n.jsxs("p",{className:"text-sm",children:[n.jsx("span",{className:"font-medium",children:"Competitor:"})," ",S.competitorWon]})]})]}),n.jsxs("div",{children:[n.jsx("h4",{className:"text-sm font-medium mb-2",children:"Feedback"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:S.feedback})]})]}),n.jsxs("div",{className:"mt-4 pt-4 border-t",children:[n.jsx("h4",{className:"text-sm font-medium mb-2",children:"Lessons & Action Items"}),n.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[n.jsxs("div",{children:[n.jsx("h5",{className:"text-xs font-medium text-muted-foreground mb-1",children:"Lessons Learned:"}),n.jsx("ul",{className:"text-sm space-y-1",children:S.lessonsLearned.map((w,_)=>n.jsxs("li",{children:[" ",w]},_))})]}),n.jsxs("div",{children:[n.jsx("h5",{className:"text-xs font-medium text-muted-foreground mb-1",children:"Action Items:"}),n.jsx("ul",{className:"text-sm space-y-1",children:S.actionItems.map((w,_)=>n.jsxs("li",{children:[" ",w]},_))})]})]})]})]},S.id)}):n.jsx("div",{className:"text-center py-6 text-muted-foreground",children:"No win/loss reports available"})})})]})})]})]})}function Joe({deal:e,onClose:t,onEdit:r}){const s=l=>{switch(l){case Pr.ACTIVE:return"bg-blue-50 text-blue-700 border-blue-200";case Pr.WON:return"bg-green-50 text-green-700 border-green-200";case Pr.LOST:return"bg-red-50 text-red-700 border-red-200";case Pr.ON_HOLD:return"bg-yellow-50 text-yellow-700 border-yellow-200";case Pr.CANCELLED:return"bg-gray-50 text-gray-700 border-gray-200";default:return"bg-gray-50 text-gray-700 border-gray-200"}},a=l=>{switch(l){case Io.CRITICAL:return"bg-red-50 text-red-700 border-red-200";case Io.HIGH:return"bg-orange-50 text-orange-700 border-orange-200";case Io.MEDIUM:return"bg-yellow-50 text-yellow-700 border-yellow-200";case Io.LOW:return"bg-green-50 text-green-700 border-green-200";default:return"bg-gray-50 text-gray-700 border-gray-200"}},i=l=>{switch(l){case yt.PROSPECTING:return"bg-blue-50 text-blue-700 border-blue-200";case yt.QUALIFICATION:return"bg-yellow-50 text-yellow-700 border-yellow-200";case yt.NEEDS_ANALYSIS:return"bg-orange-50 text-orange-700 border-orange-200";case yt.PROPOSAL:return"bg-purple-50 text-purple-700 border-purple-200";case yt.NEGOTIATION:return"bg-indigo-50 text-indigo-700 border-indigo-200";case yt.CLOSED_WON:return"bg-green-50 text-green-700 border-green-200";case yt.CLOSED_LOST:return"bg-red-50 text-red-700 border-red-200";default:return"bg-gray-50 text-gray-700 border-gray-200"}},o=l=>new Date(l.expectedCloseDate)<new Date&&l.status===Pr.ACTIVE;return n.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:n.jsxs(de,{className:"w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[n.jsx(ye,{children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx(be,{className:"text-xl",children:e.name}),n.jsx($e,{children:"Deal details and information"})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsxs(J,{onClick:()=>r(e),size:"sm",children:[n.jsx(zr,{className:"h-4 w-4 mr-2"}),"Edit Deal"]}),n.jsx(J,{variant:"ghost",size:"sm",onClick:t,children:n.jsx(Ut,{className:"h-4 w-4"})})]})]})}),n.jsxs(ue,{className:"space-y-6",children:[n.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[n.jsx(Re,{className:He("ri-badge-status",s(e.status)),children:e.status.toUpperCase()}),n.jsx(Re,{className:He("ri-badge-status",i(e.stage)),children:e.stage.replace("_"," ").toUpperCase()}),n.jsx(Re,{className:He("ri-badge-status",a(e.priority)),children:e.priority.toUpperCase()}),o(e)&&n.jsxs(Re,{className:"bg-red-50 text-red-700 border-red-200",children:[n.jsx(Xi,{className:"h-3 w-3 mr-1"}),"OVERDUE"]}),e.requiresApproval&&n.jsx(Re,{className:"bg-orange-50 text-orange-700 border-orange-200",children:"REQUIRES APPROVAL"})]}),n.jsxs(xr,{defaultValue:"overview",className:"space-y-4",children:[n.jsxs(fr,{children:[n.jsx(Qe,{value:"overview",children:"Overview"}),n.jsx(Qe,{value:"products",children:"Products"}),n.jsx(Qe,{value:"history",children:"History"})]}),n.jsxs(et,{value:"overview",className:"space-y-4",children:[n.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Customer"}),n.jsx("p",{className:"font-medium",children:e.customerName})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Value"}),n.jsx("p",{className:"font-bold text-primary text-lg",children:_e(e.value)})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Probability"}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(ja,{className:"h-4 w-4 text-blue-500"}),n.jsxs("p",{className:"font-medium",children:[e.probability,"%"]})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Expected Close"}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Lr,{className:"h-4 w-4 text-purple-500"}),n.jsx("p",{className:"font-medium",children:ct(e.expectedCloseDate)})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Assigned To"}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(us,{className:"h-4 w-4 text-green-500"}),n.jsx("p",{className:"font-medium",children:e.assignedTo||"Unassigned"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Territory"}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Ll,{className:"h-4 w-4 text-orange-500"}),n.jsx("p",{className:"font-medium",children:e.territoryId||"No Territory"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Created"}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(sr,{className:"h-4 w-4 text-blue-500"}),n.jsx("p",{className:"font-medium",children:ct(e.createdAt)})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Last Updated"}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(sr,{className:"h-4 w-4 text-blue-500"}),n.jsx("p",{className:"font-medium",children:ct(e.updatedAt)})]})]})]}),e.notes&&n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Notes"}),n.jsx("div",{className:"mt-1 p-3 bg-muted/30 rounded-md",children:n.jsx("p",{className:"text-sm whitespace-pre-wrap",children:e.notes})})]}),Object.keys(e.customFields||{}).length>0&&n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Custom Fields"}),n.jsx("div",{className:"mt-1 grid gap-2 md:grid-cols-2",children:Object.entries(e.customFields||{}).map(([l,c])=>n.jsxs("div",{className:"p-2 bg-muted/30 rounded-md",children:[n.jsxs("span",{className:"text-sm font-medium capitalize",children:[l.replace(/([A-Z])/g," $1").trim(),": "]}),n.jsx("span",{className:"text-sm",children:c==null?void 0:c.toString()})]},l))})]})]}),n.jsxs(et,{value:"products",className:"space-y-4",children:[n.jsx("h3",{className:"text-lg font-semibold",children:"Products & Services"}),e.products&&e.products.length>0?n.jsxs("div",{className:"space-y-3",children:[e.products.map(l=>n.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Vs,{className:"h-4 w-4 text-blue-500"}),n.jsx("span",{className:"font-medium",children:l.productName})]}),n.jsxs("div",{className:"flex items-center space-x-4 mt-1 text-sm text-muted-foreground",children:[n.jsxs("span",{children:["Quantity: ",l.quantity]}),n.jsxs("span",{children:["Unit Price: ",_e(l.unitPrice)]}),l.discount>0&&n.jsxs("span",{className:"text-green-600",children:["Discount: ",_e(l.discount)]})]})]}),n.jsx("div",{className:"text-right",children:n.jsx("div",{className:"font-bold",children:_e(l.total)})})]},l.id)),n.jsx("div",{className:"flex justify-end p-3 bg-muted/30 rounded-lg",children:n.jsxs("div",{className:"text-right",children:[n.jsx("span",{className:"text-sm font-medium",children:"Total Deal Value: "}),n.jsx("span",{className:"text-lg font-bold text-primary",children:_e(e.value)})]})})]}):n.jsxs("div",{className:"text-center py-8 text-muted-foreground border-2 border-dashed rounded-lg",children:[n.jsx(Vs,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground/50"}),n.jsx("p",{children:"No products added to this deal"}),n.jsx("p",{className:"text-sm",children:"Edit the deal to add products"})]})]}),n.jsxs(et,{value:"history",className:"space-y-4",children:[n.jsx("h3",{className:"text-lg font-semibold",children:"Stage History"}),e.stageHistory&&e.stageHistory.length>0?n.jsx("div",{className:"space-y-3",children:e.stageHistory.map((l,c)=>n.jsxs("div",{className:"relative",children:[c<e.stageHistory.length-1&&n.jsx("div",{className:"absolute left-4 top-8 bottom-0 w-px bg-border"}),n.jsxs("div",{className:"flex items-start space-x-3",children:[n.jsx("div",{className:"flex-shrink-0 w-8 h-8 rounded-full bg-primary flex items-center justify-center text-primary-foreground",children:c+1}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[n.jsx("span",{className:"font-medium capitalize",children:l.fromStage?`${l.fromStage.replace("_"," ")}  ${l.toStage.replace("_"," ")}`:`Started at ${l.toStage.replace("_"," ")}`}),n.jsx("span",{className:"text-xs text-muted-foreground",children:ct(l.changedAt)})]}),l.duration!==void 0&&n.jsxs("div",{className:"text-sm text-muted-foreground",children:["Duration: ",l.duration," hours"]}),l.notes&&n.jsx("div",{className:"mt-1 text-sm bg-muted/30 p-2 rounded-md",children:l.notes})]})]})]},c))}):n.jsxs("div",{className:"text-center py-8 text-muted-foreground border-2 border-dashed rounded-lg",children:[n.jsx(sr,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground/50"}),n.jsx("p",{children:"No stage history available"})]})]})]}),n.jsxs("div",{className:"flex justify-end space-x-3 pt-6 border-t",children:[n.jsx(J,{variant:"outline",onClick:t,children:"Close"}),n.jsxs(J,{onClick:()=>r(e),children:[n.jsx(zr,{className:"h-4 w-4 mr-2"}),"Edit Deal"]})]})]})]})})}function Zoe({territories:e,salesReps:t,deals:r,onCreateTerritory:s,onUpdateTerritory:a,onDeleteTerritory:i}){var S,N,w;const[o,l]=C.useState(!1),[c,d]=C.useState(null),[h,u]=C.useState({name:"",type:fc.GEOGRAPHIC,description:"",assignedTo:[],rules:[],isActive:!0}),[f,m]=C.useState({field:"",operator:"equals",value:"",priority:1}),v=()=>{d(null),u({name:"",type:fc.GEOGRAPHIC,description:"",assignedTo:[],rules:[],isActive:!0}),l(!0)},x=_=>{d(_),u({name:_.name,type:_.type,description:_.description,assignedTo:[..._.assignedTo],rules:[..._.rules],isActive:_.isActive}),l(!0)},p=()=>{h.name&&(c?a(c.id,h):s(h),l(!1),d(null),u({name:"",type:fc.GEOGRAPHIC,description:"",assignedTo:[],rules:[],isActive:!0}))},g=()=>{if(!f.field||!f.operator)return;const _={id:Math.random().toString(36).substr(2,9),field:f.field,operator:f.operator,value:f.value,priority:f.priority||1};u(k=>({...k,rules:[...k.rules||[],_]})),m({field:"",operator:"equals",value:"",priority:1})},b=_=>{u(k=>{var T;return{...k,rules:((T=k.rules)==null?void 0:T.filter(A=>A.id!==_))||[]}})},y=(_,k)=>{u(k?T=>({...T,assignedTo:[...T.assignedTo||[],_]}):T=>{var A;return{...T,assignedTo:((A=T.assignedTo)==null?void 0:A.filter(O=>O!==_))||[]}})},j=_=>r.filter(T=>T.territoryId===_).length,E=_=>{const k=e.find(T=>T.id===_);return k?t.filter(T=>k.assignedTo.includes(T.id)):[]};return n.jsxs("div",{className:"space-y-6",children:[o&&n.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:n.jsxs(de,{className:"w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[n.jsx(ye,{children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx(be,{children:c?"Edit Territory":"Create Territory"}),n.jsx($e,{children:c?"Update territory details and rules":"Define a new sales territory"})]}),n.jsx(J,{variant:"ghost",size:"sm",onClick:()=>l(!1),children:n.jsx(Ut,{className:"h-4 w-4"})})]})}),n.jsxs(ue,{className:"space-y-6",children:[n.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"name",children:"Territory Name *"}),n.jsx(Pe,{id:"name",value:h.name,onChange:_=>u(k=>({...k,name:_.target.value})),placeholder:"e.g., North Region"})]}),n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"type",children:"Territory Type"}),n.jsxs(Ve,{value:h.type,onValueChange:_=>u(k=>({...k,type:_})),children:[n.jsx(ze,{children:n.jsx(qe,{})}),n.jsxs(Ue,{children:[n.jsx(K,{value:fc.GEOGRAPHIC,children:"Geographic"}),n.jsx(K,{value:fc.INDUSTRY,children:"Industry"}),n.jsx(K,{value:fc.ACCOUNT_SIZE,children:"Account Size"}),n.jsx(K,{value:fc.PRODUCT_LINE,children:"Product Line"})]})]})]})]}),n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"description",children:"Description"}),n.jsx(tr,{id:"description",value:h.description,onChange:_=>u(k=>({...k,description:_.target.value})),placeholder:"Describe the territory",rows:3})]}),n.jsxs("div",{children:[n.jsx("div",{className:"flex items-center justify-between mb-4",children:n.jsx(ae,{children:"Territory Rules"})}),n.jsxs("div",{className:"space-y-4",children:[(S=h.rules)==null?void 0:S.map(_=>n.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("span",{className:"font-medium",children:_.field}),n.jsx("span",{className:"text-muted-foreground",children:_.operator}),n.jsx("span",{children:_.value.toString()})]}),n.jsxs("div",{className:"text-xs text-muted-foreground mt-1",children:["Priority: ",_.priority]})]}),n.jsx(J,{variant:"ghost",size:"sm",onClick:()=>b(_.id),children:n.jsx(Sn,{className:"h-4 w-4 text-red-500"})})]},_.id)),n.jsx(de,{className:"border-dashed",children:n.jsxs(ue,{className:"pt-6",children:[n.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[n.jsxs("div",{children:[n.jsx(ae,{children:"Field"}),n.jsxs(Ve,{value:f.field,onValueChange:_=>m(k=>({...k,field:_})),children:[n.jsx(ze,{children:n.jsx(qe,{placeholder:"Select field"})}),n.jsxs(Ue,{children:[n.jsx(K,{value:"state",children:"State"}),n.jsx(K,{value:"zipCode",children:"Zip Code"}),n.jsx(K,{value:"country",children:"Country"}),n.jsx(K,{value:"industry",children:"Industry"}),n.jsx(K,{value:"dealSize",children:"Deal Size"}),n.jsx(K,{value:"productType",children:"Product Type"})]})]})]}),n.jsxs("div",{children:[n.jsx(ae,{children:"Operator"}),n.jsxs(Ve,{value:f.operator,onValueChange:_=>m(k=>({...k,operator:_})),children:[n.jsx(ze,{children:n.jsx(qe,{})}),n.jsxs(Ue,{children:[n.jsx(K,{value:"equals",children:"Equals"}),n.jsx(K,{value:"contains",children:"Contains"}),n.jsx(K,{value:"starts_with",children:"Starts With"}),n.jsx(K,{value:"in_range",children:"In Range"}),n.jsx(K,{value:"greater_than",children:"Greater Than"}),n.jsx(K,{value:"less_than",children:"Less Than"})]})]})]})]}),n.jsxs("div",{className:"mt-4",children:[n.jsx(ae,{children:"Value"}),n.jsx(Pe,{value:((N=f.value)==null?void 0:N.toString())||"",onChange:_=>m(k=>({...k,value:_.target.value})),placeholder:"Rule value"}),n.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"For multiple values, separate with commas"})]}),n.jsxs("div",{className:"mt-4",children:[n.jsx(ae,{children:"Priority"}),n.jsxs(Ve,{value:((w=f.priority)==null?void 0:w.toString())||"1",onValueChange:_=>m(k=>({...k,priority:parseInt(_)})),children:[n.jsx(ze,{children:n.jsx(qe,{})}),n.jsxs(Ue,{children:[n.jsx(K,{value:"1",children:"1 - Highest"}),n.jsx(K,{value:"2",children:"2"}),n.jsx(K,{value:"3",children:"3"}),n.jsx(K,{value:"4",children:"4"}),n.jsx(K,{value:"5",children:"5 - Lowest"})]})]})]}),n.jsx("div",{className:"flex justify-end mt-4",children:n.jsxs(J,{onClick:g,children:[n.jsx(Nt,{className:"h-4 w-4 mr-2"}),"Add Rule"]})})]})})]})]}),n.jsxs("div",{children:[n.jsx(ae,{className:"mb-2 block",children:"Assign Sales Reps"}),n.jsx("div",{className:"space-y-2 max-h-40 overflow-y-auto p-2 border rounded-lg",children:t.map(_=>{var k;return n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Vt,{id:`rep-${_.id}`,checked:(k=h.assignedTo)==null?void 0:k.includes(_.id),onCheckedChange:T=>y(_.id,!!T)}),n.jsx(ae,{htmlFor:`rep-${_.id}`,className:"text-sm cursor-pointer",children:_.name})]},_.id)})})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Vt,{id:"isActive",checked:h.isActive,onCheckedChange:_=>u(k=>({...k,isActive:!!_}))}),n.jsx(ae,{htmlFor:"isActive",children:"Active territory"})]}),n.jsxs("div",{className:"flex justify-end space-x-3 pt-6 border-t",children:[n.jsx(J,{variant:"outline",onClick:()=>l(!1),children:"Cancel"}),n.jsxs(J,{onClick:p,children:[n.jsx(Rr,{className:"h-4 w-4 mr-2"}),c?"Update":"Create"," Territory"]})]})]})]})}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-2xl font-bold",children:"Territory Management"}),n.jsx("p",{className:"text-muted-foreground",children:"Define and manage sales territories and assignment rules"})]}),n.jsxs(J,{onClick:v,children:[n.jsx(Nt,{className:"h-4 w-4 mr-2"}),"Create Territory"]})]}),n.jsxs("div",{className:"space-y-6",children:[e.map(_=>n.jsxs(de,{className:"shadow-sm",children:[n.jsx(ye,{children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx(be,{children:_.name}),n.jsx(Re,{className:_.isActive?"bg-green-50 text-green-700 border-green-200":"bg-gray-50 text-gray-700 border-gray-200",children:_.isActive?"Active":"Inactive"}),n.jsx(Re,{variant:"outline",children:_.type.replace("_"," ")})]}),n.jsx($e,{className:"mt-1",children:_.description})]}),n.jsx("div",{className:"flex space-x-2",children:n.jsxs(J,{variant:"outline",size:"sm",onClick:()=>x(_),children:[n.jsx(zr,{className:"h-4 w-4 mr-2"}),"Edit"]})})]})}),n.jsx(ue,{children:n.jsxs("div",{className:"grid gap-6 md:grid-cols-3",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-sm font-semibold mb-3",children:"Territory Rules"}),n.jsxs("div",{className:"space-y-2",children:[_.rules.map(k=>n.jsx("div",{className:"p-2 bg-muted/30 rounded-lg text-sm",children:n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("span",{className:"font-medium",children:k.field}),n.jsx("span",{className:"text-muted-foreground",children:k.operator}),n.jsx("span",{children:k.value.toString()})]})},k.id)),_.rules.length===0&&n.jsx("p",{className:"text-sm text-muted-foreground",children:"No rules defined"})]})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-sm font-semibold mb-3",children:"Assigned Sales Reps"}),n.jsxs("div",{className:"space-y-2",children:[E(_.id).map(k=>n.jsxs("div",{className:"flex items-center space-x-2 p-2 bg-muted/30 rounded-lg",children:[n.jsx(On,{className:"h-4 w-4 text-blue-500"}),n.jsx("span",{className:"text-sm",children:k.name})]},k.id)),_.assignedTo.length===0&&n.jsx("p",{className:"text-sm text-muted-foreground",children:"No reps assigned"})]})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-sm font-semibold mb-3",children:"Territory Stats"}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex items-center justify-between p-2 bg-blue-50 rounded-lg",children:[n.jsx("span",{className:"text-sm text-blue-700",children:"Deals"}),n.jsx("span",{className:"font-bold text-blue-700",children:j(_.id)})]}),n.jsxs("div",{className:"flex items-center justify-between p-2 bg-green-50 rounded-lg",children:[n.jsx("span",{className:"text-sm text-green-700",children:"Reps"}),n.jsx("span",{className:"font-bold text-green-700",children:_.assignedTo.length})]})]})]})]})})]},_.id)),e.length===0&&n.jsx(de,{className:"shadow-sm",children:n.jsxs(ue,{className:"flex flex-col items-center justify-center py-12",children:[n.jsx(Ll,{className:"h-12 w-12 text-muted-foreground mb-4"}),n.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No Territories Defined"}),n.jsx("p",{className:"text-muted-foreground text-center mb-4",children:"Create territories to organize your sales team and deals by region, industry, or other criteria."}),n.jsxs(J,{onClick:v,children:[n.jsx(Nt,{className:"h-4 w-4 mr-2"}),"Create First Territory"]})]})})]})]})}function ele({deals:e,approvalWorkflows:t,onApprove:r,onReject:s,onEscalate:a}){var b;const[i,o]=C.useState("pending"),[l,c]=C.useState(null),[d,h]=C.useState(""),u=y=>{switch(y){case"pending":return"bg-yellow-50 text-yellow-700 border-yellow-200";case"approved":return"bg-green-50 text-green-700 border-green-200";case"rejected":return"bg-red-50 text-red-700 border-red-200";case"escalated":return"bg-orange-50 text-orange-700 border-orange-200";default:return"bg-gray-50 text-gray-700 border-gray-200"}},f=y=>{switch(y){case"pending":return n.jsx(sr,{className:"h-4 w-4 text-yellow-500"});case"approved":return n.jsx(Xr,{className:"h-4 w-4 text-green-500"});case"rejected":return n.jsx(to,{className:"h-4 w-4 text-red-500"});case"escalated":return n.jsx(Xi,{className:"h-4 w-4 text-orange-500"});default:return n.jsx(sr,{className:"h-4 w-4 text-gray-500"})}},m=y=>t.filter(j=>j.status===y),v=y=>e.find(j=>j.id===y),x=()=>{if(!l)return;const y=l.steps.find(j=>j.stepNumber===l.currentStep);y&&(r(l.id,y.id,d),h(""),c(null))},p=()=>{if(!l)return;const y=l.steps.find(j=>j.stepNumber===l.currentStep);y&&(s(l.id,y.id,d),h(""),c(null))},g=()=>{if(!l)return;const y=l.steps.find(j=>j.stepNumber===l.currentStep);y&&(a(l.id,y.id,d),h(""),c(null))};return n.jsxs("div",{className:"space-y-6",children:[l&&n.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:n.jsxs(de,{className:"w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[n.jsx(ye,{children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx(be,{children:"Approval Request"}),n.jsx($e,{children:((b=v(l.dealId))==null?void 0:b.name)||"Unknown Deal"})]}),n.jsx(Re,{className:He("ri-badge-status",u(l.status)),children:l.status.toUpperCase()})]})}),n.jsxs(ue,{className:"space-y-6",children:[n.jsx("div",{className:"p-4 bg-muted/30 rounded-lg",children:n.jsx("div",{className:"grid gap-4 md:grid-cols-2",children:(()=>{const y=v(l.dealId);return y?n.jsxs(n.Fragment,{children:[n.jsxs("div",{children:[n.jsx("span",{className:"text-sm font-medium",children:"Customer:"}),n.jsx("p",{className:"text-sm",children:y.customerName})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-sm font-medium",children:"Deal Value:"}),n.jsx("p",{className:"text-sm font-bold",children:_e(y.value)})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-sm font-medium",children:"Stage:"}),n.jsx("p",{className:"text-sm",children:y.stage.replace("_"," ")})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-sm font-medium",children:"Assigned To:"}),n.jsx("p",{className:"text-sm",children:y.assignedTo})]})]}):null})()})}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-sm font-semibold mb-2",children:"Workflow Details"}),n.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[n.jsxs("div",{children:[n.jsx("span",{className:"text-sm font-medium",children:"Type:"}),n.jsx("p",{className:"text-sm",children:l.workflowType.replace("_"," ")})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-sm font-medium",children:"Requested By:"}),n.jsx("p",{className:"text-sm",children:l.requestedBy})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-sm font-medium",children:"Requested:"}),n.jsx("p",{className:"text-sm",children:ct(l.requestedAt)})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-sm font-medium",children:"Current Step:"}),n.jsxs("p",{className:"text-sm",children:[l.currentStep," of ",l.totalSteps]})]})]})]}),n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"comments",children:"Comments"}),n.jsx(tr,{id:"comments",value:d,onChange:y=>h(y.target.value),placeholder:"Add your comments here...",rows:3})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-sm font-semibold mb-3",children:"Approval Steps"}),n.jsx("div",{className:"space-y-4",children:l.steps.map((y,j)=>{const E=y.stepNumber===l.currentStep,S=y.stepNumber<l.currentStep;return n.jsxs("div",{className:He("p-3 rounded-lg border-2",E?"border-primary bg-primary/5":S?"border-muted bg-muted/10":"border-dashed border-muted"),children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("span",{className:"flex items-center justify-center w-6 h-6 rounded-full bg-muted text-xs font-bold",children:y.stepNumber}),n.jsx("span",{className:"font-medium",children:y.approverRole.replace("_"," ")})]}),n.jsxs(Re,{className:He("ri-badge-status",u(y.status)),children:[f(y.status),n.jsx("span",{className:"ml-1",children:y.status.toUpperCase()})]})]}),n.jsxs("div",{className:"text-sm text-muted-foreground mb-2",children:["Requires ",y.requiredApprovals," approval(s) from ",y.approverIds.length," approver(s)"]}),y.currentApprovals.length>0&&n.jsxs("div",{className:"mt-3 space-y-2",children:[n.jsx("h4",{className:"text-xs font-medium",children:"Approvals:"}),y.currentApprovals.map((N,w)=>n.jsxs("div",{className:"flex items-start space-x-2 text-xs p-2 bg-muted/30 rounded",children:[N.action==="approve"?n.jsx(kK,{className:"h-3 w-3 text-green-500 mt-0.5"}):N.action==="reject"?n.jsx(IK,{className:"h-3 w-3 text-red-500 mt-0.5"}):n.jsx(Xi,{className:"h-3 w-3 text-orange-500 mt-0.5"}),n.jsxs("div",{children:[n.jsx("div",{className:"font-medium",children:N.approverId}),n.jsx("div",{className:"text-muted-foreground",children:ct(N.actionDate)}),N.comments&&n.jsx("div",{className:"mt-1 italic",children:N.comments})]})]},w))]})]},y.id)})})]}),l.status==="pending"&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"comments",children:"Comments"}),n.jsx(tr,{id:"comments",value:d,onChange:y=>h(y.target.value),placeholder:"Add your comments here...",rows:3})]}),n.jsxs("div",{className:"flex justify-end space-x-3 pt-6 border-t",children:[n.jsx(J,{variant:"outline",onClick:()=>c(null),children:"Cancel"}),n.jsxs(J,{variant:"outline",onClick:g,children:[n.jsx(Xi,{className:"h-4 w-4 mr-2"}),"Escalate"]}),n.jsxs(J,{variant:"destructive",onClick:p,children:[n.jsx(to,{className:"h-4 w-4 mr-2"}),"Reject"]}),n.jsxs(J,{variant:"default",onClick:x,children:[n.jsx(Xr,{className:"h-4 w-4 mr-2"}),"Approve"]})]})]}),l.status!=="pending"&&n.jsx("div",{className:"flex justify-end pt-6 border-t",children:n.jsx(J,{variant:"outline",onClick:()=>c(null),children:"Close"})})]})]})}),n.jsx("div",{className:"flex items-center justify-between",children:n.jsxs("div",{children:[n.jsx("h2",{className:"text-2xl font-bold",children:"Approval Workflows"}),n.jsx("p",{className:"text-muted-foreground",children:"Manage approval requests for deals above threshold"})]})}),n.jsxs(xr,{value:i,onValueChange:o,className:"space-y-6",children:[n.jsxs(fr,{children:[n.jsxs(Qe,{value:"pending",children:["Pending",n.jsx(Re,{className:"ml-2 bg-yellow-50 text-yellow-700 border-yellow-200",children:m("pending").length})]}),n.jsxs(Qe,{value:"approved",children:["Approved",n.jsx(Re,{className:"ml-2 bg-green-50 text-green-700 border-green-200",children:m("approved").length})]}),n.jsxs(Qe,{value:"rejected",children:["Rejected",n.jsx(Re,{className:"ml-2 bg-red-50 text-red-700 border-red-200",children:m("rejected").length})]}),n.jsxs(Qe,{value:"escalated",children:["Escalated",n.jsx(Re,{className:"ml-2 bg-orange-50 text-orange-700 border-orange-200",children:m("escalated").length})]})]}),n.jsx(et,{value:"pending",className:"space-y-4",children:m("pending").length>0?m("pending").map(y=>{const j=v(y.dealId);return j?n.jsx(de,{className:"shadow-sm hover:shadow-md transition-shadow cursor-pointer",onClick:()=>c(y),children:n.jsxs(ue,{className:"p-6",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold",children:j.name}),n.jsx("p",{className:"text-sm text-muted-foreground",children:j.customerName})]}),n.jsxs(Re,{className:He("ri-badge-status",u(y.status)),children:[f(y.status),n.jsx("span",{className:"ml-1",children:y.status.toUpperCase()})]})]}),n.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[n.jsxs("div",{children:[n.jsx("span",{className:"text-sm font-medium",children:"Deal Value:"}),n.jsx("p",{className:"text-lg font-bold text-primary",children:_e(j.value)})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-sm font-medium",children:"Requested By:"}),n.jsxs("div",{className:"flex items-center space-x-1 mt-1",children:[n.jsx(us,{className:"h-4 w-4 text-blue-500"}),n.jsx("span",{className:"text-sm",children:y.requestedBy})]})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-sm font-medium",children:"Requested:"}),n.jsx("p",{className:"text-sm",children:ct(y.requestedAt)})]})]}),n.jsxs("div",{className:"mt-4 pt-4 border-t",children:[n.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[n.jsx("span",{className:"text-sm font-medium",children:"Approval Progress:"}),n.jsxs("span",{className:"text-sm",children:[y.currentStep," of ",y.totalSteps]})]}),n.jsx("div",{className:"flex items-center space-x-2",children:y.steps.map((E,S)=>{const N=E.stepNumber<y.currentStep,w=E.stepNumber===y.currentStep;return n.jsxs(pe.Fragment,{children:[n.jsx("div",{className:He("flex items-center justify-center w-8 h-8 rounded-full",N?"bg-primary text-primary-foreground":w?"bg-primary/20 text-primary border-2 border-primary":"bg-muted text-muted-foreground"),children:E.stepNumber}),S<y.steps.length-1&&n.jsx(jK,{className:"h-4 w-4 text-muted-foreground"})]},E.id)})})]})]})},y.id):null}):n.jsx(de,{className:"shadow-sm",children:n.jsxs(ue,{className:"flex flex-col items-center justify-center py-12",children:[n.jsx(sr,{className:"h-12 w-12 text-muted-foreground mb-4"}),n.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No Pending Approvals"}),n.jsx("p",{className:"text-muted-foreground text-center",children:"There are no deals currently waiting for your approval."})]})})}),n.jsx(et,{value:"approved",className:"space-y-4",children:m("approved").length>0?m("approved").map(y=>{const j=v(y.dealId);return j?n.jsx(de,{className:"shadow-sm hover:shadow-md transition-shadow cursor-pointer",onClick:()=>c(y),children:n.jsxs(ue,{className:"p-6",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold",children:j.name}),n.jsx("p",{className:"text-sm text-muted-foreground",children:j.customerName})]}),n.jsxs(Re,{className:He("ri-badge-status",u(y.status)),children:[f(y.status),n.jsx("span",{className:"ml-1",children:y.status.toUpperCase()})]})]}),n.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[n.jsxs("div",{children:[n.jsx("span",{className:"text-sm font-medium",children:"Deal Value:"}),n.jsx("p",{className:"text-lg font-bold text-primary",children:_e(j.value)})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-sm font-medium",children:"Completed:"}),n.jsx("p",{className:"text-sm",children:y.completedAt?ct(y.completedAt):"N/A"})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-sm font-medium",children:"Workflow Type:"}),n.jsx("p",{className:"text-sm capitalize",children:y.workflowType.replace("_"," ")})]})]})]})},y.id):null}):n.jsx(de,{className:"shadow-sm",children:n.jsxs(ue,{className:"flex flex-col items-center justify-center py-12",children:[n.jsx(Xr,{className:"h-12 w-12 text-muted-foreground mb-4"}),n.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No Approved Workflows"}),n.jsx("p",{className:"text-muted-foreground text-center",children:"There are no approved deal workflows yet."})]})})}),n.jsx(et,{value:"rejected",className:"space-y-4",children:m("rejected").length>0?m("rejected").map(y=>{const j=v(y.dealId);return j?n.jsx(de,{className:"shadow-sm hover:shadow-md transition-shadow cursor-pointer",onClick:()=>c(y),children:n.jsxs(ue,{className:"p-6",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold",children:j.name}),n.jsx("p",{className:"text-sm text-muted-foreground",children:j.customerName})]}),n.jsxs(Re,{className:He("ri-badge-status",u(y.status)),children:[f(y.status),n.jsx("span",{className:"ml-1",children:y.status.toUpperCase()})]})]}),n.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[n.jsxs("div",{children:[n.jsx("span",{className:"text-sm font-medium",children:"Deal Value:"}),n.jsx("p",{className:"text-lg font-bold text-primary",children:_e(j.value)})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-sm font-medium",children:"Completed:"}),n.jsx("p",{className:"text-sm",children:y.completedAt?ct(y.completedAt):"N/A"})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-sm font-medium",children:"Workflow Type:"}),n.jsx("p",{className:"text-sm capitalize",children:y.workflowType.replace("_"," ")})]})]})]})},y.id):null}):n.jsx(de,{className:"shadow-sm",children:n.jsxs(ue,{className:"flex flex-col items-center justify-center py-12",children:[n.jsx(to,{className:"h-12 w-12 text-muted-foreground mb-4"}),n.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No Rejected Workflows"}),n.jsx("p",{className:"text-muted-foreground text-center",children:"There are no rejected deal workflows."})]})})}),n.jsx(et,{value:"escalated",className:"space-y-4",children:m("escalated").length>0?m("escalated").map(y=>{const j=v(y.dealId);return j?n.jsx(de,{className:"shadow-sm hover:shadow-md transition-shadow cursor-pointer",onClick:()=>c(y),children:n.jsxs(ue,{className:"p-6",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold",children:j.name}),n.jsx("p",{className:"text-sm text-muted-foreground",children:j.customerName})]}),n.jsxs(Re,{className:He("ri-badge-status",u(y.status)),children:[f(y.status),n.jsx("span",{className:"ml-1",children:y.status.toUpperCase()})]})]}),n.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[n.jsxs("div",{children:[n.jsx("span",{className:"text-sm font-medium",children:"Deal Value:"}),n.jsx("p",{className:"text-lg font-bold text-primary",children:_e(j.value)})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-sm font-medium",children:"Requested:"}),n.jsx("p",{className:"text-sm",children:ct(y.requestedAt)})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-sm font-medium",children:"Workflow Type:"}),n.jsx("p",{className:"text-sm capitalize",children:y.workflowType.replace("_"," ")})]})]})]})},y.id):null}):n.jsx(de,{className:"shadow-sm",children:n.jsxs(ue,{className:"flex flex-col items-center justify-center py-12",children:[n.jsx(Xi,{className:"h-12 w-12 text-muted-foreground mb-4"}),n.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No Escalated Workflows"}),n.jsx("p",{className:"text-muted-foreground text-center",children:"There are no escalated deal workflows."})]})})})]})]})}function tle({deal:e,customers:t,salesReps:r,territories:s,products:a,onSave:i,onCancel:o}){const{toast:l}=At(),[c,d]=C.useState(!1),[h,u]=C.useState({name:"",customerId:"",customerName:"",stage:yt.PROSPECTING,status:Pr.ACTIVE,priority:Io.MEDIUM,value:0,probability:10,expectedCloseDate:new Date(Date.now()+30*24*60*60*1e3),assignedTo:"",territoryId:"",sourceId:"",competitorIds:[],products:[],notes:"",requiresApproval:!1,customFields:{}}),[f,m]=C.useState(!1),[v,x]=C.useState(!1),[p,g]=C.useState({productId:"",productName:"",quantity:1,unitPrice:0,discount:0,total:0});C.useEffect(()=>{e&&u({...e,expectedCloseDate:new Date(e.expectedCloseDate)})},[e]),C.useEffect(()=>{if(h.customerId){const N=t.find(w=>w.id===h.customerId);N&&u(w=>({...w,customerName:`${N.firstName} ${N.lastName}`}))}},[h.customerId,t]),C.useEffect(()=>{if(h.products&&h.products.length>0){const N=h.products.reduce((w,_)=>w+_.total,0);u(w=>({...w,value:N}))}},[h.products]),C.useEffect(()=>{const N=p.quantity||1,w=p.unitPrice||0,_=p.discount||0,k=N*w-_;g(T=>({...T,total:k}))},[p.quantity,p.unitPrice,p.discount]);const b=async N=>{if(N.preventDefault(),!h.name||!h.customerId||!h.expectedCloseDate){l({title:"Validation Error",description:"Please fill in all required fields",variant:"destructive"});return}d(!0);try{await i(h),l({title:"Success",description:`Deal ${e?"updated":"created"} successfully`})}catch{l({title:"Error",description:`Failed to ${e?"update":"create"} deal`,variant:"destructive"})}finally{d(!1)}},y=()=>{if(!p.productId||!p.productName){l({title:"Validation Error",description:"Please select a product",variant:"destructive"});return}const N={id:Math.random().toString(36).substr(2,9),productId:p.productId,productName:p.productName,quantity:p.quantity||1,unitPrice:p.unitPrice||0,discount:p.discount||0,total:p.total||0};u(w=>({...w,products:[...w.products||[],N]})),g({productId:"",productName:"",quantity:1,unitPrice:0,discount:0,total:0}),m(!1)},j=N=>{u(w=>{var _;return{...w,products:((_=w.products)==null?void 0:_.filter(k=>k.id!==N))||[]}})},E=N=>{const w=a.find(_=>_.id===N);w&&g({productId:w.id,productName:w.name,quantity:1,unitPrice:w.price,discount:0,total:w.price})},S=N=>{u(w=>({...w,customerId:N.id,customerName:`${N.firstName} ${N.lastName}`})),x(!1),l({title:"Customer Added",description:`${N.firstName} ${N.lastName} has been added as a customer.`})};return n.jsxs("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:[v&&n.jsx(Du,{onClose:()=>x(!1),onSuccess:S}),n.jsxs(de,{className:"w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[n.jsx(ye,{children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx(be,{children:e?"Edit Deal":"Create Deal"}),n.jsx($e,{children:e?"Update deal details":"Create a new sales deal"})]}),n.jsx(J,{variant:"ghost",size:"sm",onClick:o,children:n.jsx(Ut,{className:"h-4 w-4"})})]})}),n.jsx(ue,{children:n.jsxs("form",{onSubmit:b,className:"space-y-6",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsxs("h3",{className:"text-lg font-semibold flex items-center",children:[n.jsx(ja,{className:"h-4 w-4 mr-2"}),"Deal Information"]}),n.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"name",children:"Deal Name *"}),n.jsx(Pe,{id:"name",value:h.name,onChange:N=>u(w=>({...w,name:N.target.value})),placeholder:"Enter deal name"})]}),n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"customerId",children:"Customer *"}),n.jsxs(Ve,{value:h.customerId||"",onValueChange:N=>u(w=>({...w,customerId:N})),children:[n.jsx(ze,{children:n.jsx(qe,{placeholder:"Select customer"})}),n.jsxs(Ue,{children:[n.jsx("div",{className:"px-2 py-1.5",children:n.jsxs(J,{variant:"outline",size:"sm",className:"w-full justify-start",onClick:()=>x(!0),children:[n.jsx(Nt,{className:"h-3.5 w-3.5 mr-2"}),"Add New Customer"]})}),n.jsx("div",{className:"px-2 py-1 border-t"}),t.map(N=>n.jsxs(K,{value:N.id,children:[N.firstName," ",N.lastName]},N.id))]})]})]})]}),n.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"stage",children:"Stage"}),n.jsxs(Ve,{value:h.stage,onValueChange:N=>u(w=>({...w,stage:N,probability:N===yt.PROSPECTING?10:N===yt.QUALIFICATION?25:N===yt.NEEDS_ANALYSIS?40:N===yt.PROPOSAL?60:N===yt.NEGOTIATION?80:N===yt.CLOSED_WON?100:N===yt.CLOSED_LOST?0:10})),children:[n.jsx(ze,{children:n.jsx(qe,{})}),n.jsxs(Ue,{children:[n.jsx(K,{value:yt.PROSPECTING,children:"Prospecting"}),n.jsx(K,{value:yt.QUALIFICATION,children:"Qualification"}),n.jsx(K,{value:yt.NEEDS_ANALYSIS,children:"Needs Analysis"}),n.jsx(K,{value:yt.PROPOSAL,children:"Proposal"}),n.jsx(K,{value:yt.NEGOTIATION,children:"Negotiation"}),n.jsx(K,{value:yt.CLOSED_WON,children:"Closed Won"}),n.jsx(K,{value:yt.CLOSED_LOST,children:"Closed Lost"})]})]})]}),n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"priority",children:"Priority"}),n.jsxs(Ve,{value:h.priority,onValueChange:N=>u(w=>({...w,priority:N})),children:[n.jsx(ze,{children:n.jsx(qe,{})}),n.jsxs(Ue,{children:[n.jsx(K,{value:Io.LOW,children:"Low"}),n.jsx(K,{value:Io.MEDIUM,children:"Medium"}),n.jsx(K,{value:Io.HIGH,children:"High"}),n.jsx(K,{value:Io.CRITICAL,children:"Critical"})]})]})]}),n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"probability",children:"Probability (%)"}),n.jsx(Pe,{id:"probability",type:"number",min:"0",max:"100",value:h.probability,onChange:N=>u(w=>({...w,probability:parseInt(N.target.value)||0}))})]})]}),n.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"expectedCloseDate",children:"Expected Close Date *"}),n.jsx(Pe,{id:"expectedCloseDate",type:"date",value:h.expectedCloseDate?new Date(h.expectedCloseDate).toISOString().split("T")[0]:"",onChange:N=>u(w=>({...w,expectedCloseDate:new Date(N.target.value)}))})]}),n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"assignedTo",children:"Assigned To"}),n.jsxs(Ve,{value:h.assignedTo,onValueChange:N=>u(w=>({...w,assignedTo:N})),children:[n.jsx(ze,{children:n.jsx(qe,{placeholder:"Select sales rep"})}),n.jsx(Ue,{children:r.map(N=>n.jsx(K,{value:N.id,children:N.name},N.id))})]})]}),n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"territoryId",children:"Territory"}),n.jsxs(Ve,{value:h.territoryId,onValueChange:N=>u(w=>({...w,territoryId:N})),children:[n.jsx(ze,{children:n.jsx(qe,{placeholder:"Select territory"})}),n.jsx(Ue,{children:s.map(N=>n.jsx(K,{value:N.id,children:N.name},N.id))})]})]})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("h3",{className:"text-lg font-semibold flex items-center",children:[n.jsx(Vs,{className:"h-4 w-4 mr-2"}),"Products"]}),n.jsxs(J,{type:"button",onClick:()=>m(!0),size:"sm",children:[n.jsx(Nt,{className:"h-4 w-4 mr-2"}),"Add Product"]})]}),f&&n.jsx(de,{className:"border-dashed",children:n.jsxs(ue,{className:"pt-6",children:[n.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[n.jsxs("div",{children:[n.jsx(ae,{children:"Product"}),n.jsxs(Ve,{onValueChange:E,children:[n.jsx(ze,{children:n.jsx(qe,{placeholder:"Select product"})}),n.jsx(Ue,{children:a.map(N=>n.jsxs(K,{value:N.id,children:[N.name," - ",_e(N.price)]},N.id))})]})]}),n.jsxs("div",{children:[n.jsx(ae,{children:"Quantity"}),n.jsx(Pe,{type:"number",min:"1",value:p.quantity,onChange:N=>g(w=>({...w,quantity:parseInt(N.target.value)||1}))})]}),n.jsxs("div",{children:[n.jsx(ae,{children:"Unit Price"}),n.jsx(Pe,{type:"number",min:"0",step:"0.01",value:p.unitPrice,onChange:N=>g(w=>({...w,unitPrice:parseFloat(N.target.value)||0}))})]}),n.jsxs("div",{children:[n.jsx(ae,{children:"Discount"}),n.jsx(Pe,{type:"number",min:"0",step:"0.01",value:p.discount,onChange:N=>g(w=>({...w,discount:parseFloat(N.target.value)||0}))})]})]}),n.jsxs("div",{className:"flex items-center justify-between mt-4",children:[n.jsxs("div",{children:[n.jsx("span",{className:"text-sm font-medium",children:"Total: "}),n.jsx("span",{className:"font-bold",children:_e(p.total||0)})]}),n.jsxs("div",{className:"flex space-x-2",children:[n.jsx(J,{type:"button",variant:"outline",onClick:()=>m(!1),children:"Cancel"}),n.jsx(J,{type:"button",onClick:y,children:"Add Product"})]})]})]})}),n.jsx("div",{className:"space-y-3",children:h.products&&h.products.length>0?h.products.map(N=>n.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("span",{className:"font-medium",children:N.productName}),n.jsxs(Re,{variant:"outline",children:[N.quantity,"  ",_e(N.unitPrice)]})]}),N.discount>0&&n.jsxs("div",{className:"text-sm text-green-600 mt-1",children:["Discount: ",_e(N.discount)]})]}),n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx("span",{className:"font-bold",children:_e(N.total)}),n.jsx(J,{type:"button",variant:"ghost",size:"sm",onClick:()=>j(N.id),children:n.jsx(Sn,{className:"h-4 w-4 text-red-500"})})]})]},N.id)):n.jsxs("div",{className:"text-center py-6 text-muted-foreground border-2 border-dashed rounded-lg",children:[n.jsx(Vs,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground/50"}),n.jsx("p",{children:"No products added yet"}),n.jsx("p",{className:"text-sm",children:"Add products to calculate deal value"})]})}),h.products&&h.products.length>0&&n.jsx("div",{className:"flex justify-end p-3 bg-muted/30 rounded-lg",children:n.jsxs("div",{className:"text-right",children:[n.jsx("span",{className:"text-sm font-medium",children:"Total Deal Value: "}),n.jsx("span",{className:"text-lg font-bold text-primary",children:_e(h.value||0)})]})})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-lg font-semibold",children:"Notes"}),n.jsx(tr,{value:h.notes,onChange:N=>u(w=>({...w,notes:N.target.value})),placeholder:"Add any additional notes about this deal...",rows:3})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-lg font-semibold",children:"Approval Settings"}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Vt,{id:"requiresApproval",checked:h.requiresApproval,onCheckedChange:N=>u(w=>({...w,requiresApproval:!!N}))}),n.jsx(ae,{htmlFor:"requiresApproval",children:"This deal requires approval"})]}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Deals over $100,000 automatically require approval"})]}),n.jsxs("div",{className:"flex justify-end space-x-3 pt-6 border-t",children:[n.jsx(J,{type:"button",variant:"outline",onClick:o,disabled:c,children:"Cancel"}),n.jsx(J,{type:"submit",disabled:c,children:c?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),e?"Updating...":"Creating..."]}):n.jsxs(n.Fragment,{children:[n.jsx(Rr,{className:"h-4 w-4 mr-2"}),e?"Update":"Create"," Deal"]})})]})]})})]})]})}function mI(){const{deals:e,territories:t,approvalWorkflows:r,winLossReports:s,stageHistory:a,createDeal:i,updateDealStage:o,assignTerritory:l,createApprovalWorkflow:c,createWinLossReport:d,getDealMetrics:h}=hre(),{leads:u,salesReps:f}=io(),{vehicles:m}=cd(),[v,x]=C.useState(""),[p,g]=C.useState("all"),[b,y]=C.useState("all"),[j,E]=C.useState(null),[S,N]=C.useState(!1),[w,_]=C.useState("pipeline"),[k,T]=C.useState(!1),{toast:A}=At(),O=G=>{switch(G){case Pr.ACTIVE:return"bg-blue-50 text-blue-700 border-blue-200";case Pr.WON:return"bg-green-50 text-green-700 border-green-200";case Pr.LOST:return"bg-red-50 text-red-700 border-red-200";case Pr.ON_HOLD:return"bg-yellow-50 text-yellow-700 border-yellow-200";case Pr.CANCELLED:return"bg-gray-50 text-gray-700 border-gray-200";default:return"bg-gray-50 text-gray-700 border-gray-200"}},D=e.filter(G=>{const Z=G.name.toLowerCase().includes(v.toLowerCase())||G.customerName.toLowerCase().includes(v.toLowerCase()),te=p==="all"||G.stage===p,he=b==="all"||G.assignedTo===b;return Z&&te&&he}),F=async(G,Z)=>{try{await o(G,Z);const te=e.find(he=>he.id===G);te&&A({title:"Deal Stage Updated",description:`${te.name} moved to ${Z.replace("_"," ").toLowerCase()}`})}catch{A({title:"Error",description:"Failed to update deal stage",variant:"destructive"})}},M=G=>{E(G),T(!0)},R=()=>{E(null),N(!0)},B=G=>{E(G),N(!0)},U=async G=>{j?await o(j.id,G.stage||j.stage):await i(G),N(!1),E(null)},H=async(G,Z)=>{await c(G,Z)},q=async(G,Z,te)=>{await d(G,Z,te)},L=h(),V=m.map(G=>({id:G.id,name:`${G.year} ${G.make} ${G.model}`,price:G.price,category:"vehicle"})).concat([{id:"prod-001",name:"Extended Warranty Package",price:3500,category:"warranty"},{id:"prod-002",name:"Premium Interior Upgrade",price:2200,category:"upgrade"},{id:"prod-003",name:"Solar Panel Package",price:3500,category:"accessory"}]);return n.jsxs("div",{className:"space-y-8",children:[k&&j&&n.jsx(Joe,{deal:j,onClose:()=>T(!1),onEdit:B}),S&&n.jsx(tle,{deal:j||void 0,customers:u,salesReps:f,territories:t,products:V,onSave:U,onCancel:()=>{N(!1),E(null)}}),n.jsx("div",{className:"ri-page-header",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"ri-page-title",children:"Sales Deal Management"}),n.jsx("p",{className:"ri-page-description",children:"Track deals through the sales pipeline with approvals and territory management"})]}),n.jsxs(J,{className:"shadow-sm",onClick:R,children:[n.jsx(Nt,{className:"h-4 w-4 mr-2"}),"New Deal"]})]})}),n.jsxs("div",{className:"ri-stats-grid",children:[n.jsxs(de,{className:"shadow-sm border-0 bg-gradient-to-br from-blue-50 to-blue-100/50",children:[n.jsxs(ye,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(be,{className:"text-sm font-medium text-blue-900",children:"Total Pipeline"}),n.jsx(It,{className:"h-4 w-4 text-blue-600"})]}),n.jsxs(ue,{children:[n.jsx("div",{className:"text-2xl font-bold text-blue-900",children:_e(L.totalValue)}),n.jsxs("p",{className:"text-xs text-blue-600 flex items-center mt-1",children:[n.jsx(_t,{className:"h-3 w-3 mr-1"}),L.totalDeals," active deals"]})]})]}),n.jsxs(de,{className:"shadow-sm border-0 bg-gradient-to-br from-green-50 to-green-100/50",children:[n.jsxs(ye,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(be,{className:"text-sm font-medium text-green-900",children:"Win Rate"}),n.jsx(ja,{className:"h-4 w-4 text-green-600"})]}),n.jsxs(ue,{children:[n.jsxs("div",{className:"text-2xl font-bold text-green-900",children:[L.winRate.toFixed(1),"%"]}),n.jsxs("p",{className:"text-xs text-green-600 flex items-center mt-1",children:[n.jsx(_t,{className:"h-3 w-3 mr-1"}),L.wonDeals," won deals"]})]})]}),n.jsxs(de,{className:"shadow-sm border-0 bg-gradient-to-br from-purple-50 to-purple-100/50",children:[n.jsxs(ye,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(be,{className:"text-sm font-medium text-purple-900",children:"Avg Deal Size"}),n.jsx(It,{className:"h-4 w-4 text-purple-600"})]}),n.jsxs(ue,{children:[n.jsx("div",{className:"text-2xl font-bold text-purple-900",children:_e(L.averageDealSize)}),n.jsxs("p",{className:"text-xs text-purple-600 flex items-center mt-1",children:[n.jsx(_t,{className:"h-3 w-3 mr-1"}),L.averageSalesCycle.toFixed(0)," day cycle"]})]})]}),n.jsxs(de,{className:"shadow-sm border-0 bg-gradient-to-br from-orange-50 to-orange-100/50",children:[n.jsxs(ye,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(be,{className:"text-sm font-medium text-orange-900",children:"Territories"}),n.jsx(Ll,{className:"h-4 w-4 text-orange-600"})]}),n.jsxs(ue,{children:[n.jsx("div",{className:"text-2xl font-bold text-orange-900",children:t.length}),n.jsxs("p",{className:"text-xs text-orange-600 flex items-center mt-1",children:[n.jsx(On,{className:"h-3 w-3 mr-1"}),"Active territories"]})]})]})]}),n.jsxs(xr,{value:w,onValueChange:_,className:"space-y-6",children:[n.jsxs(fr,{className:"grid w-full grid-cols-5",children:[n.jsx(Qe,{value:"pipeline",children:"Pipeline"}),n.jsx(Qe,{value:"deals",children:"Deals"}),n.jsx(Qe,{value:"analytics",children:"Analytics"}),n.jsx(Qe,{value:"territories",children:"Territories"}),n.jsx(Qe,{value:"approvals",children:"Approvals"})]}),n.jsx(et,{value:"pipeline",className:"space-y-6",children:n.jsx(Hoe,{deals:e,onDealStageChange:F,onDealClick:M})}),n.jsxs(et,{value:"deals",className:"space-y-6",children:[n.jsxs("div",{className:"flex gap-4",children:[n.jsxs("div",{className:"ri-search-bar",children:[n.jsx(es,{className:"ri-search-icon"}),n.jsx(Pe,{placeholder:"Search deals...",value:v,onChange:G=>x(G.target.value),className:"ri-search-input shadow-sm"})]}),n.jsxs(Ve,{value:p,onValueChange:g,children:[n.jsx(ze,{className:"w-40",children:n.jsx(qe,{placeholder:"Stage"})}),n.jsxs(Ue,{children:[n.jsx(K,{value:"all",children:"All Stages"}),n.jsx(K,{value:yt.PROSPECTING,children:"Prospecting"}),n.jsx(K,{value:yt.QUALIFICATION,children:"Qualification"}),n.jsx(K,{value:yt.NEEDS_ANALYSIS,children:"Needs Analysis"}),n.jsx(K,{value:yt.PROPOSAL,children:"Proposal"}),n.jsx(K,{value:yt.NEGOTIATION,children:"Negotiation"}),n.jsx(K,{value:yt.CLOSED_WON,children:"Closed Won"}),n.jsx(K,{value:yt.CLOSED_LOST,children:"Closed Lost"})]})]}),n.jsxs(Ve,{value:b,onValueChange:y,children:[n.jsx(ze,{className:"w-40",children:n.jsx(qe,{placeholder:"Sales Rep"})}),n.jsxs(Ue,{children:[n.jsx(K,{value:"all",children:"All Reps"}),f.map(G=>n.jsx(K,{value:G.id,children:G.name},G.id))]})]}),n.jsxs(J,{variant:"outline",className:"shadow-sm",children:[n.jsx(Na,{className:"h-4 w-4 mr-2"}),"Filter"]})]}),n.jsxs(de,{className:"shadow-sm",children:[n.jsxs(ye,{children:[n.jsxs(be,{className:"text-xl",children:["Deals (",D.length,")"]}),n.jsx($e,{children:"Manage your sales pipeline and deal progression"})]}),n.jsx(ue,{children:n.jsxs("div",{className:"space-y-4",children:[D.map(G=>{var Z;return n.jsxs("div",{className:"ri-table-row cursor-pointer",onClick:()=>B(G),children:[n.jsx("div",{className:"flex items-center space-x-4 flex-1",children:n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[n.jsx("h3",{className:"font-semibold text-foreground",children:G.name}),n.jsx(Re,{className:He("ri-badge-status",O(G.status)),children:G.status.toUpperCase()}),n.jsx(Re,{variant:"outline",children:G.stage.replace("_"," ").toUpperCase()})]}),n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2 text-sm text-muted-foreground",children:[n.jsxs("span",{className:"flex items-center",children:[n.jsx(On,{className:"h-3 w-3 mr-2 text-blue-500"}),G.customerName]}),n.jsxs("span",{className:"flex items-center",children:[n.jsx(It,{className:"h-3 w-3 mr-2 text-green-500"}),_e(G.value)]}),n.jsxs("span",{className:"flex items-center",children:[n.jsx(ja,{className:"h-3 w-3 mr-2 text-purple-500"}),G.probability,"% probability"]}),n.jsxs("span",{className:"flex items-center",children:[n.jsx(Ll,{className:"h-3 w-3 mr-2 text-orange-500"}),((Z=t.find(te=>te.id===G.territoryId))==null?void 0:Z.name)||"No Territory"]})]}),G.notes&&n.jsx("p",{className:"text-sm text-muted-foreground mt-2 bg-muted/30 p-2 rounded-md",children:G.notes})]})}),n.jsxs("div",{className:"ri-action-buttons",children:[n.jsx(J,{variant:"outline",size:"sm",className:"shadow-sm",onClick:te=>{te.stopPropagation(),M(G)},children:"View"}),G.requiresApproval&&n.jsx(J,{variant:"outline",size:"sm",className:"shadow-sm",onClick:te=>{te.stopPropagation(),H(G.id,"deal_value")},children:"Request Approval"})]})]},G.id)}),D.length===0&&n.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[n.jsx(ja,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground/50"}),n.jsx("p",{children:"No deals found"}),n.jsx("p",{className:"text-sm",children:"Create your first deal to get started"})]})]})})]})]}),n.jsx(et,{value:"analytics",className:"space-y-6",children:n.jsxs(xr,{defaultValue:"metrics",className:"space-y-6",children:[n.jsxs(fr,{children:[n.jsx(Qe,{value:"metrics",children:"Deal Metrics"}),n.jsx(Qe,{value:"win-loss",children:"Win/Loss Analysis"})]}),n.jsx(et,{value:"metrics",children:n.jsx(Goe,{metrics:L})}),n.jsx(et,{value:"win-loss",children:n.jsx(Qoe,{deals:e,winLossReports:s,onCreateReport:q})})]})}),n.jsx(et,{value:"territories",className:"space-y-6",children:n.jsx(Zoe,{territories:t,salesReps:f,deals:e,onCreateTerritory:()=>{},onUpdateTerritory:()=>{},onDeleteTerritory:()=>{}})}),n.jsx(et,{value:"approvals",className:"space-y-6",children:n.jsx(ele,{deals:e,approvalWorkflows:r,onApprove:()=>{},onReject:()=>{},onEscalate:()=>{}})})]})]})}function rle(){return n.jsxs(Ps,{children:[n.jsx(Ft,{path:"/",element:n.jsx(mI,{})}),n.jsx(Ft,{path:"/*",element:n.jsx(mI,{})})]})}const nle=[{id:"1",type:Kd.PURCHASE,customerId:"cust-1",vehicleId:"veh-1",quoteId:"quote-1",status:zi.SIGNED,signedDate:new Date("2024-01-18"),effectiveDate:new Date("2024-01-18"),expirationDate:new Date("2025-01-18"),terms:"Standard purchase agreement with 90-day warranty",documents:[{id:"1",name:"Purchase Agreement.pdf",type:"application/pdf",url:"/documents/purchase-agreement-1.pdf",size:245760,uploadedAt:new Date("2024-01-18")}],customFields:{},createdAt:new Date("2024-01-15"),updatedAt:new Date("2024-01-18")},{id:"2",type:Kd.SERVICE,customerId:"cust-2",status:zi.ACTIVE,effectiveDate:new Date("2024-01-10"),expirationDate:new Date("2024-07-10"),terms:"Extended service contract for 6 months",documents:[{id:"2",name:"Service Contract.pdf",type:"application/pdf",url:"/documents/service-contract-2.pdf",size:189440,uploadedAt:new Date("2024-01-10")}],customFields:{},createdAt:new Date("2024-01-08"),updatedAt:new Date("2024-01-10")}];function pI(){const[e]=C.useState(nle),[t,r]=C.useState(""),s=o=>{switch(o){case zi.DRAFT:return"bg-gray-50 text-gray-700 border-gray-200";case zi.PENDING:return"bg-yellow-50 text-yellow-700 border-yellow-200";case zi.SIGNED:return"bg-blue-50 text-blue-700 border-blue-200";case zi.ACTIVE:return"bg-green-50 text-green-700 border-green-200";case zi.EXPIRED:return"bg-orange-50 text-orange-700 border-orange-200";case zi.CANCELLED:return"bg-red-50 text-red-700 border-red-200";default:return"bg-gray-50 text-gray-700 border-gray-200"}},a=o=>{switch(o){case Kd.PURCHASE:return"bg-blue-50 text-blue-700 border-blue-200";case Kd.LEASE:return"bg-purple-50 text-purple-700 border-purple-200";case Kd.SERVICE:return"bg-green-50 text-green-700 border-green-200";case Kd.WARRANTY:return"bg-orange-50 text-orange-700 border-orange-200";default:return"bg-gray-50 text-gray-700 border-gray-200"}},i=e.filter(o=>o.id.toLowerCase().includes(t.toLowerCase())||o.customerId.toLowerCase().includes(t.toLowerCase())||o.type.toLowerCase().includes(t.toLowerCase()));return n.jsxs("div",{className:"space-y-8",children:[n.jsx("div",{className:"ri-page-header",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"ri-page-title",children:"Agreement Vault"}),n.jsx("p",{className:"ri-page-description",children:"Manage contracts, agreements, and legal documents"})]}),n.jsxs(J,{className:"shadow-sm",children:[n.jsx(Nt,{className:"h-4 w-4 mr-2"}),"New Agreement"]})]})}),n.jsxs("div",{className:"ri-stats-grid",children:[n.jsxs(de,{className:"shadow-sm border-0 bg-gradient-to-br from-blue-50 to-blue-100/50",children:[n.jsxs(ye,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(be,{className:"text-sm font-medium text-blue-900",children:"Total Agreements"}),n.jsx(ly,{className:"h-4 w-4 text-blue-600"})]}),n.jsxs(ue,{children:[n.jsx("div",{className:"text-2xl font-bold text-blue-900",children:e.length}),n.jsxs("p",{className:"text-xs text-blue-600 flex items-center mt-1",children:[n.jsx(_t,{className:"h-3 w-3 mr-1"}),"All contracts"]})]})]}),n.jsxs(de,{className:"shadow-sm border-0 bg-gradient-to-br from-green-50 to-green-100/50",children:[n.jsxs(ye,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(be,{className:"text-sm font-medium text-green-900",children:"Active"}),n.jsx(ly,{className:"h-4 w-4 text-green-600"})]}),n.jsxs(ue,{children:[n.jsx("div",{className:"text-2xl font-bold text-green-900",children:e.filter(o=>o.status===zi.ACTIVE).length}),n.jsxs("p",{className:"text-xs text-green-600 flex items-center mt-1",children:[n.jsx(_t,{className:"h-3 w-3 mr-1"}),"Currently active"]})]})]}),n.jsxs(de,{className:"shadow-sm border-0 bg-gradient-to-br from-yellow-50 to-yellow-100/50",children:[n.jsxs(ye,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(be,{className:"text-sm font-medium text-yellow-900",children:"Pending"}),n.jsx(ly,{className:"h-4 w-4 text-yellow-600"})]}),n.jsxs(ue,{children:[n.jsx("div",{className:"text-2xl font-bold text-yellow-900",children:e.filter(o=>o.status===zi.PENDING).length}),n.jsxs("p",{className:"text-xs text-yellow-600 flex items-center mt-1",children:[n.jsx(Lr,{className:"h-3 w-3 mr-1"}),"Awaiting signature"]})]})]}),n.jsxs(de,{className:"shadow-sm border-0 bg-gradient-to-br from-orange-50 to-orange-100/50",children:[n.jsxs(ye,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(be,{className:"text-sm font-medium text-orange-900",children:"Expiring Soon"}),n.jsx(Lr,{className:"h-4 w-4 text-orange-600"})]}),n.jsxs(ue,{children:[n.jsx("div",{className:"text-2xl font-bold text-orange-900",children:"0"}),n.jsxs("p",{className:"text-xs text-orange-600 flex items-center mt-1",children:[n.jsx(Lr,{className:"h-3 w-3 mr-1"}),"Next 30 days"]})]})]})]}),n.jsxs("div",{className:"flex gap-4",children:[n.jsxs("div",{className:"ri-search-bar",children:[n.jsx(es,{className:"ri-search-icon"}),n.jsx(Pe,{placeholder:"Search agreements...",value:t,onChange:o=>r(o.target.value),className:"ri-search-input shadow-sm"})]}),n.jsxs(J,{variant:"outline",className:"shadow-sm",children:[n.jsx(Na,{className:"h-4 w-4 mr-2"}),"Filter"]})]}),n.jsxs(de,{className:"shadow-sm",children:[n.jsxs(ye,{children:[n.jsx(be,{className:"text-xl",children:"Agreements"}),n.jsx($e,{children:"Manage contracts, purchase agreements, and legal documents"})]}),n.jsx(ue,{children:n.jsx("div",{className:"space-y-4",children:i.map(o=>n.jsxs("div",{className:"ri-table-row",children:[n.jsx("div",{className:"flex items-center space-x-4 flex-1",children:n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[n.jsxs("h3",{className:"font-semibold text-foreground",children:["Agreement #",o.id]}),n.jsx(Re,{className:He("ri-badge-status",a(o.type)),children:o.type.toUpperCase()}),n.jsx(Re,{className:He("ri-badge-status",s(o.status)),children:o.status.toUpperCase()})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm text-muted-foreground",children:[n.jsxs("div",{children:[n.jsx("span",{className:"font-medium",children:"Customer:"})," ",o.customerId]}),n.jsxs("div",{children:[n.jsx("span",{className:"font-medium",children:"Effective:"})," ",ct(o.effectiveDate)]}),n.jsxs("div",{children:[n.jsx("span",{className:"font-medium",children:"Documents:"})," ",o.documents.length]}),o.expirationDate&&n.jsxs("div",{children:[n.jsx("span",{className:"font-medium",children:"Expires:"})," ",ct(o.expirationDate)]})]}),n.jsx("div",{className:"mt-2 bg-muted/30 p-2 rounded-md",children:n.jsx("p",{className:"text-sm text-muted-foreground",children:o.terms})})]})}),n.jsxs("div",{className:"ri-action-buttons",children:[n.jsxs(J,{variant:"outline",size:"sm",className:"shadow-sm",children:[n.jsx(Ol,{className:"h-3 w-3 mr-1"}),"View"]}),n.jsxs(J,{variant:"outline",size:"sm",className:"shadow-sm",children:[n.jsx(zr,{className:"h-3 w-3 mr-1"}),"Edit"]}),n.jsxs(J,{variant:"outline",size:"sm",className:"shadow-sm",children:[n.jsx(wa,{className:"h-3 w-3 mr-1"}),"Download"]})]})]},o.id))})})]})]})}function sle(){return n.jsxs(Ps,{children:[n.jsx(Ft,{path:"/",element:n.jsx(pI,{})}),n.jsx(Ft,{path:"/*",element:n.jsx(pI,{})})]})}function z8(){const[e,t]=C.useState([]),[r,s]=C.useState(!1);C.useEffect(()=>{a()},[]);const a=()=>{const p=mn("renter-insight-service-tickets",[{id:"1",customerId:"cust-1",vehicleId:"veh-1",title:"Annual Maintenance Service",description:"Complete annual maintenance including oil change, filter replacement, and system checks",priority:rn.MEDIUM,status:lr.IN_PROGRESS,assignedTo:"Tech-001",scheduledDate:new Date("2024-01-20"),parts:[{id:"1",partNumber:"OIL-001",description:"Engine Oil Filter",quantity:1,unitCost:25.99,total:25.99}],labor:[{id:"1",description:"Annual Maintenance",hours:3,rate:85,total:255}],notes:"Customer requested additional inspection of brake system",customFields:{warrantyStatus:"not_covered",estimatedCompletionDate:"2024-01-22",customerAuthorization:!0,technicianNotes:"Check brake pads and rotors during service",customerPortalAccess:!0},createdAt:new Date("2024-01-15"),updatedAt:new Date("2024-01-18")},{id:"2",customerId:"cust-2",vehicleId:"veh-2",title:"AC System Repair",description:"Air conditioning not cooling properly, needs diagnostic and repair",priority:rn.HIGH,status:lr.WAITING_PARTS,assignedTo:"Tech-002",scheduledDate:new Date("2024-01-22"),parts:[{id:"2",partNumber:"AC-COMP-001",description:"AC Compressor",quantity:1,unitCost:450,total:450}],labor:[{id:"2",description:"AC System Diagnostic",hours:2,rate:85,total:170}],notes:"Waiting for compressor part to arrive",customFields:{warrantyStatus:"partial",estimatedCompletionDate:"2024-01-25",customerAuthorization:!0,technicianNotes:"Compressor needs replacement, on order from supplier",customerPortalAccess:!0},createdAt:new Date("2024-01-12"),updatedAt:new Date("2024-01-16")}]);t(p)},i=p=>{Gr("renter-insight-service-tickets",p)};return{tickets:e,loading:r,getTicketsByCustomerId:p=>e.filter(g=>g.customerId===p),getTicketsByVehicleId:p=>e.filter(g=>g.vehicleId===p),getTicketById:p=>e.find(g=>g.id===p),createTicket:async p=>{s(!0);try{const g={id:Math.random().toString(36).substr(2,9),customerId:p.customerId||"",vehicleId:p.vehicleId,title:p.title||"",description:p.description||"",priority:p.priority||rn.MEDIUM,status:p.status||lr.OPEN,assignedTo:p.assignedTo,scheduledDate:p.scheduledDate,parts:p.parts||[],labor:p.labor||[],notes:p.notes||"",customFields:p.customFields||{},createdAt:new Date,updatedAt:new Date},b=[...e,g];return t(b),i(b),g}finally{s(!1)}},updateTicket:async(p,g)=>{const b=e.map(y=>y.id===p?{...y,...g,updatedAt:new Date}:y);t(b),i(b)},deleteTicket:async p=>{const g=e.filter(b=>b.id!==p);t(g),i(g)},updateTicketStatus:async(p,g)=>{const b=e.map(y=>y.id===p?{...y,status:g,completedDate:g===lr.COMPLETED?new Date:y.completedDate,updatedAt:new Date}:y);t(b),i(b)},assignTechnician:async(p,g)=>{const b=e.map(y=>y.id===p?{...y,assignedTo:g,updatedAt:new Date}:y);t(b),i(b)},addPart:async(p,g)=>{if(!e.find(E=>E.id===p))return null;const y={id:Math.random().toString(36).substr(2,9),partNumber:g.partNumber||"",description:g.description||"",quantity:g.quantity||1,unitCost:g.unitCost||0,total:g.total||0},j=e.map(E=>E.id===p?{...E,parts:[...E.parts,y],updatedAt:new Date}:E);return t(j),i(j),y},addLabor:async(p,g)=>{if(!e.find(E=>E.id===p))return null;const y={id:Math.random().toString(36).substr(2,9),description:g.description||"",hours:g.hours||1,rate:g.rate||85,total:g.total||85},j=e.map(E=>E.id===p?{...E,labor:[...E.labor,y],updatedAt:new Date}:E);return t(j),i(j),y}}}function ale({ticket:e,onSave:t,onCancel:r}){var D,F,M,R,B,U,H;const{toast:s}=At(),{vehicles:a}=cd(),{leads:i}=io(),[o,l]=C.useState(!1),[c,d]=C.useState(!1),[h,u]=C.useState({customerId:"",vehicleId:"",title:"",description:"",priority:rn.MEDIUM,status:lr.OPEN,assignedTo:"",scheduledDate:void 0,notes:"",parts:[],labor:[],customFields:{warrantyStatus:"not_covered",estimatedCompletionDate:"",customerAuthorization:!1,technicianNotes:"",customerPortalAccess:!0}}),[f,m]=C.useState(!1),[v,x]=C.useState(!1),[p,g]=C.useState({partNumber:"",description:"",quantity:1,unitCost:0,total:0}),[b,y]=C.useState({description:"",hours:1,rate:85,total:85});C.useEffect(()=>{var q,L,V,G,Z;e&&u({...e,customFields:{...e.customFields,warrantyStatus:((q=e.customFields)==null?void 0:q.warrantyStatus)||"not_covered",estimatedCompletionDate:((L=e.customFields)==null?void 0:L.estimatedCompletionDate)||"",customerAuthorization:((V=e.customFields)==null?void 0:V.customerAuthorization)||!1,technicianNotes:((G=e.customFields)==null?void 0:G.technicianNotes)||"",customerPortalAccess:((Z=e.customFields)==null?void 0:Z.customerPortalAccess)!==!1}})},[e]),C.useEffect(()=>{const q=p.quantity||1,L=p.unitCost||0;g(V=>({...V,total:q*L}))},[p.quantity,p.unitCost]),C.useEffect(()=>{const q=b.hours||1,L=b.rate||85;y(V=>({...V,total:q*L}))},[b.hours,b.rate]);const j=async q=>{if(q.preventDefault(),!h.customerId||!h.title||!h.description){s({title:"Validation Error",description:"Please fill in all required fields",variant:"destructive"});return}l(!0);try{await t(h),s({title:"Success",description:`Service ticket ${e?"updated":"created"} successfully`})}catch{s({title:"Error",description:`Failed to ${e?"update":"create"} service ticket`,variant:"destructive"})}finally{l(!1)}},E=q=>{q==="add-new"?d(!0):u(L=>({...L,customerId:q}))},S=q=>{u(L=>({...L,customerId:q.id})),d(!1),s({title:"Customer Added",description:`${q.firstName} ${q.lastName} has been added as a customer.`})},N=()=>{if(!p.partNumber||!p.description){s({title:"Validation Error",description:"Part number and description are required",variant:"destructive"});return}const q={id:Math.random().toString(36).substr(2,9),partNumber:p.partNumber||"",description:p.description||"",quantity:p.quantity||1,unitCost:p.unitCost||0,total:p.total||0};u(L=>({...L,parts:[...L.parts||[],q]})),g({partNumber:"",description:"",quantity:1,unitCost:0,total:0}),m(!1)},w=q=>{u(L=>{var V;return{...L,parts:((V=L.parts)==null?void 0:V.filter(G=>G.id!==q))||[]}})},_=()=>{if(!b.description){s({title:"Validation Error",description:"Labor description is required",variant:"destructive"});return}const q={id:Math.random().toString(36).substr(2,9),description:b.description||"",hours:b.hours||1,rate:b.rate||85,total:b.total||85};u(L=>({...L,labor:[...L.labor||[],q]})),y({description:"",hours:1,rate:85,total:85}),x(!1)},k=q=>{u(L=>{var V;return{...L,labor:((V=L.labor)==null?void 0:V.filter(G=>G.id!==q))||[]}})},A=(()=>{var V,G;const q=((V=h.parts)==null?void 0:V.reduce((Z,te)=>Z+te.total,0))||0,L=((G=h.labor)==null?void 0:G.reduce((Z,te)=>Z+te.total,0))||0;return{partsTotal:q,laborTotal:L,grandTotal:q+L}})(),O=[{id:"Tech-001",name:"John Smith"},{id:"Tech-002",name:"Sarah Johnson"},{id:"Tech-003",name:"Mike Davis"}];return n.jsxs("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:[c&&n.jsx(Du,{onClose:()=>d(!1),onSuccess:S}),n.jsxs(de,{className:"w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[n.jsx(ye,{children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx(be,{children:e?"Edit Service Ticket":"Create Service Ticket"}),n.jsx($e,{children:e?"Update service ticket details":"Create a new service ticket"})]}),n.jsx(J,{variant:"ghost",size:"sm",onClick:r,children:n.jsx(Ut,{className:"h-4 w-4"})})]})}),n.jsx(ue,{children:n.jsxs("form",{onSubmit:j,className:"space-y-6",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-lg font-semibold",children:"Ticket Information"}),n.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"customerId",children:"Customer *"}),n.jsxs(Ve,{value:h.customerId,onValueChange:E,children:[n.jsx(ze,{children:n.jsx(qe,{placeholder:"Select customer"})}),n.jsxs(Ue,{children:[n.jsx("div",{className:"px-2 py-1.5",children:n.jsxs(J,{variant:"outline",size:"sm",className:"w-full justify-start",onClick:()=>E("add-new"),children:[n.jsx(Nt,{className:"h-3.5 w-3.5 mr-2"}),"Add New Customer"]})}),n.jsx("div",{className:"px-2 py-1 border-t"}),i.map(q=>n.jsxs(K,{value:q.id,children:[q.firstName," ",q.lastName]},q.id))]})]})]}),n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"vehicleId",children:"Vehicle"}),n.jsxs(Ve,{value:h.vehicleId,onValueChange:q=>u(L=>({...L,vehicleId:q})),children:[n.jsx(ze,{children:n.jsx(qe,{placeholder:"Select vehicle (optional)"})}),n.jsxs(Ue,{children:[n.jsx(K,{value:"",children:"No Vehicle"}),a.map(q=>n.jsxs(K,{value:q.id,children:[q.year," ",q.make," ",q.model]},q.id))]})]})]})]}),n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"title",children:"Service Title *"}),n.jsx(Pe,{id:"title",value:h.title,onChange:q=>u(L=>({...L,title:q.target.value})),placeholder:"e.g., Annual Maintenance Service"})]}),n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"description",children:"Description *"}),n.jsx(tr,{id:"description",value:h.description,onChange:q=>u(L=>({...L,description:q.target.value})),placeholder:"Describe the service needed",rows:3})]}),n.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"priority",children:"Priority"}),n.jsxs(Ve,{value:h.priority,onValueChange:q=>u(L=>({...L,priority:q})),children:[n.jsx(ze,{children:n.jsx(qe,{})}),n.jsxs(Ue,{children:[n.jsx(K,{value:rn.LOW,children:"Low"}),n.jsx(K,{value:rn.MEDIUM,children:"Medium"}),n.jsx(K,{value:rn.HIGH,children:"High"}),n.jsx(K,{value:rn.URGENT,children:"Urgent"})]})]})]}),n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"status",children:"Status"}),n.jsxs(Ve,{value:h.status,onValueChange:q=>u(L=>({...L,status:q})),children:[n.jsx(ze,{children:n.jsx(qe,{})}),n.jsxs(Ue,{children:[n.jsx(K,{value:lr.OPEN,children:"Open"}),n.jsx(K,{value:lr.IN_PROGRESS,children:"In Progress"}),n.jsx(K,{value:lr.WAITING_PARTS,children:"Waiting for Parts"}),n.jsx(K,{value:lr.COMPLETED,children:"Completed"}),n.jsx(K,{value:lr.CANCELLED,children:"Cancelled"})]})]})]}),n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"assignedTo",children:"Assigned Technician"}),n.jsxs(Ve,{value:h.assignedTo,onValueChange:q=>u(L=>({...L,assignedTo:q})),children:[n.jsx(ze,{children:n.jsx(qe,{placeholder:"Select technician"})}),n.jsxs(Ue,{children:[n.jsx(K,{value:"",children:"Unassigned"}),O.map(q=>n.jsx(K,{value:q.id,children:q.name},q.id))]})]})]})]}),n.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"scheduledDate",children:"Scheduled Date"}),n.jsx(Pe,{id:"scheduledDate",type:"date",value:h.scheduledDate?new Date(h.scheduledDate).toISOString().split("T")[0]:"",onChange:q=>u(L=>({...L,scheduledDate:q.target.value?new Date(q.target.value):void 0}))})]}),n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"estimatedCompletionDate",children:"Estimated Completion"}),n.jsx(Pe,{id:"estimatedCompletionDate",type:"date",value:((D=h.customFields)==null?void 0:D.estimatedCompletionDate)||"",onChange:q=>u(L=>({...L,customFields:{...L.customFields,estimatedCompletionDate:q.target.value}}))})]})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-lg font-semibold",children:"Warranty Information"}),n.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"warrantyStatus",children:"Warranty Status"}),n.jsxs(Ve,{value:((F=h.customFields)==null?void 0:F.warrantyStatus)||"not_covered",onValueChange:q=>u(L=>({...L,customFields:{...L.customFields,warrantyStatus:q}})),children:[n.jsx(ze,{children:n.jsx(qe,{})}),n.jsxs(Ue,{children:[n.jsx(K,{value:"covered",children:"Covered by Warranty"}),n.jsx(K,{value:"partial",children:"Partially Covered"}),n.jsx(K,{value:"not_covered",children:"Not Covered"}),n.jsx(K,{value:"extended",children:"Extended Warranty"}),n.jsx(K,{value:"expired",children:"Warranty Expired"})]})]})]}),n.jsxs("div",{className:"flex items-center space-x-2 pt-8",children:[n.jsx(Vt,{id:"customerAuthorization",checked:((M=h.customFields)==null?void 0:M.customerAuthorization)||!1,onCheckedChange:q=>u(L=>({...L,customFields:{...L.customFields,customerAuthorization:!!q}}))}),n.jsx(ae,{htmlFor:"customerAuthorization",children:"Customer has authorized work"})]})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("h3",{className:"text-lg font-semibold",children:"Parts"}),n.jsxs(J,{type:"button",onClick:()=>m(!0),size:"sm",children:[n.jsx(Nt,{className:"h-4 w-4 mr-2"}),"Add Part"]})]}),f&&n.jsx(de,{className:"border-dashed",children:n.jsxs(ue,{className:"pt-6",children:[n.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"partNumber",children:"Part Number *"}),n.jsx(Pe,{id:"partNumber",value:p.partNumber,onChange:q=>g(L=>({...L,partNumber:q.target.value})),placeholder:"e.g., AC-COMP-001"})]}),n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"partDescription",children:"Description *"}),n.jsx(Pe,{id:"partDescription",value:p.description,onChange:q=>g(L=>({...L,description:q.target.value})),placeholder:"e.g., AC Compressor"})]}),n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"partQuantity",children:"Quantity"}),n.jsx(Pe,{id:"partQuantity",type:"number",min:"1",value:p.quantity,onChange:q=>g(L=>({...L,quantity:parseInt(q.target.value)||1}))})]}),n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"partUnitCost",children:"Unit Cost"}),n.jsx(Pe,{id:"partUnitCost",type:"number",step:"0.01",min:"0",value:p.unitCost,onChange:q=>g(L=>({...L,unitCost:parseFloat(q.target.value)||0}))})]})]}),n.jsxs("div",{className:"flex justify-between items-center mt-4",children:[n.jsxs("div",{children:[n.jsx("span",{className:"text-sm font-medium",children:"Total: "}),n.jsx("span",{className:"font-bold",children:_e(p.total||0)})]}),n.jsxs("div",{className:"flex space-x-2",children:[n.jsx(J,{type:"button",variant:"outline",onClick:()=>m(!1),children:"Cancel"}),n.jsx(J,{type:"button",onClick:N,children:"Add Part"})]})]})]})}),n.jsx("div",{className:"space-y-3",children:h.parts&&h.parts.length>0?h.parts.map(q=>n.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("span",{className:"font-medium",children:q.description}),n.jsx(Re,{variant:"outline",children:q.partNumber})]}),n.jsxs("p",{className:"text-sm text-muted-foreground",children:["Quantity: ",q.quantity,"  ",_e(q.unitCost)]})]}),n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx("span",{className:"font-bold",children:_e(q.total)}),n.jsx(J,{type:"button",variant:"ghost",size:"sm",onClick:()=>w(q.id),children:n.jsx(Sn,{className:"h-4 w-4 text-red-500"})})]})]},q.id)):n.jsxs("div",{className:"text-center py-6 text-muted-foreground border-2 border-dashed rounded-lg",children:[n.jsx(Hd,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground/50"}),n.jsx("p",{children:"No parts added yet"}),n.jsx("p",{className:"text-sm",children:"Add parts needed for this service"})]})})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("h3",{className:"text-lg font-semibold",children:"Labor"}),n.jsxs(J,{type:"button",onClick:()=>x(!0),size:"sm",children:[n.jsx(Nt,{className:"h-4 w-4 mr-2"}),"Add Labor"]})]}),v&&n.jsx(de,{className:"border-dashed",children:n.jsxs(ue,{className:"pt-6",children:[n.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[n.jsxs("div",{className:"md:col-span-3",children:[n.jsx(ae,{htmlFor:"laborDescription",children:"Description *"}),n.jsx(Pe,{id:"laborDescription",value:b.description,onChange:q=>y(L=>({...L,description:q.target.value})),placeholder:"e.g., Diagnostic and Repair"})]}),n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"laborHours",children:"Hours"}),n.jsx(Pe,{id:"laborHours",type:"number",step:"0.5",min:"0.5",value:b.hours,onChange:q=>y(L=>({...L,hours:parseFloat(q.target.value)||1}))})]}),n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"laborRate",children:"Hourly Rate"}),n.jsx(Pe,{id:"laborRate",type:"number",step:"0.01",min:"0",value:b.rate,onChange:q=>y(L=>({...L,rate:parseFloat(q.target.value)||85}))})]}),n.jsxs("div",{children:[n.jsx(ae,{children:"Total"}),n.jsx("div",{className:"h-10 px-3 py-2 rounded-md border border-input bg-muted/50 flex items-center",children:_e(b.total||0)})]})]}),n.jsxs("div",{className:"flex justify-end space-x-2 mt-4",children:[n.jsx(J,{type:"button",variant:"outline",onClick:()=>x(!1),children:"Cancel"}),n.jsx(J,{type:"button",onClick:_,children:"Add Labor"})]})]})}),n.jsx("div",{className:"space-y-3",children:h.labor&&h.labor.length>0?h.labor.map(q=>n.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[n.jsxs("div",{className:"flex-1",children:[n.jsx("div",{className:"font-medium",children:q.description}),n.jsxs("p",{className:"text-sm text-muted-foreground",children:[q.hours," hours  ",_e(q.rate),"/hr"]})]}),n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx("span",{className:"font-bold",children:_e(q.total)}),n.jsx(J,{type:"button",variant:"ghost",size:"sm",onClick:()=>k(q.id),children:n.jsx(Sn,{className:"h-4 w-4 text-red-500"})})]})]},q.id)):n.jsxs("div",{className:"text-center py-6 text-muted-foreground border-2 border-dashed rounded-lg",children:[n.jsx(sr,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground/50"}),n.jsx("p",{children:"No labor added yet"}),n.jsx("p",{className:"text-sm",children:"Add labor for this service"})]})})]}),(((R=h.parts)==null?void 0:R.length)>0||((B=h.labor)==null?void 0:B.length)>0)&&n.jsx(de,{className:"bg-muted/30",children:n.jsx(ue,{className:"pt-6",children:n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{children:"Parts Total:"}),n.jsx("span",{children:_e(A.partsTotal)})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{children:"Labor Total:"}),n.jsx("span",{children:_e(A.laborTotal)})]}),n.jsxs("div",{className:"flex justify-between text-lg font-bold border-t pt-2",children:[n.jsx("span",{children:"Grand Total:"}),n.jsx("span",{children:_e(A.grandTotal)})]})]})})}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-lg font-semibold",children:"Additional Information"}),n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"technicianNotes",children:"Technician Notes"}),n.jsx(tr,{id:"technicianNotes",value:((U=h.customFields)==null?void 0:U.technicianNotes)||"",onChange:q=>u(L=>({...L,customFields:{...L.customFields,technicianNotes:q.target.value}})),placeholder:"Notes for technicians only (not visible to customer)",rows:3})]}),n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"notes",children:"Customer Notes"}),n.jsx(tr,{id:"notes",value:h.notes,onChange:q=>u(L=>({...L,notes:q.target.value})),placeholder:"Notes visible to the customer",rows:3})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Vt,{id:"customerPortalAccess",checked:((H=h.customFields)==null?void 0:H.customerPortalAccess)!==!1,onCheckedChange:q=>u(L=>({...L,customFields:{...L.customFields,customerPortalAccess:!!q}}))}),n.jsx(ae,{htmlFor:"customerPortalAccess",children:"Allow customer to view this ticket in portal"})]})]}),n.jsxs("div",{className:"flex justify-end space-x-3 pt-6 border-t",children:[n.jsx(J,{type:"button",variant:"outline",onClick:r,disabled:o,children:"Cancel"}),n.jsx(J,{type:"submit",disabled:o,children:o?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),e?"Updating...":"Creating..."]}):n.jsxs(n.Fragment,{children:[n.jsx(Rr,{className:"h-4 w-4 mr-2"}),e?"Update":"Create"," Ticket"]})})]})]})})]})]})}const ile="modulepreload",ole=function(e){return"/"+e},vI={},td=function(t,r,s){if(!r||r.length===0)return t();const a=document.getElementsByTagName("link");return Promise.all(r.map(i=>{if(i=ole(i),i in vI)return;vI[i]=!0;const o=i.endsWith(".css"),l=o?'[rel="stylesheet"]':"";if(!!s)for(let h=a.length-1;h>=0;h--){const u=a[h];if(u.href===i&&(!o||u.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${i}"]${l}`))return;const d=document.createElement("link");if(d.rel=o?"stylesheet":ile,o||(d.as="script",d.crossOrigin=""),d.href=i,document.head.appendChild(d),o)return new Promise((h,u)=>{d.addEventListener("load",h),d.addEventListener("error",()=>u(new Error(`Unable to preload CSS for ${i}`)))})})).then(()=>t()).catch(i=>{const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=i,window.dispatchEvent(o),!o.defaultPrevented)throw i})};var Us=Uint8Array,Ma=Uint16Array,uE=Int32Array,lj=new Us([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),cj=new Us([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),yS=new Us([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),U8=function(e,t){for(var r=new Ma(31),s=0;s<31;++s)r[s]=t+=1<<e[s-1];for(var a=new uE(r[30]),s=1;s<30;++s)for(var i=r[s];i<r[s+1];++i)a[i]=i-r[s]<<5|s;return{b:r,r:a}},V8=U8(lj,2),q8=V8.b,bS=V8.r;q8[28]=258,bS[258]=28;var W8=U8(cj,0),lle=W8.b,gI=W8.r,jS=new Ma(32768);for(var nn=0;nn<32768;++nn){var dc=(nn&43690)>>1|(nn&21845)<<1;dc=(dc&52428)>>2|(dc&13107)<<2,dc=(dc&61680)>>4|(dc&3855)<<4,jS[nn]=((dc&65280)>>8|(dc&255)<<8)>>1}var Bo=function(e,t,r){for(var s=e.length,a=0,i=new Ma(t);a<s;++a)e[a]&&++i[e[a]-1];var o=new Ma(t);for(a=1;a<t;++a)o[a]=o[a-1]+i[a-1]<<1;var l;if(r){l=new Ma(1<<t);var c=15-t;for(a=0;a<s;++a)if(e[a])for(var d=a<<4|e[a],h=t-e[a],u=o[e[a]-1]++<<h,f=u|(1<<h)-1;u<=f;++u)l[jS[u]>>c]=d}else for(l=new Ma(s),a=0;a<s;++a)e[a]&&(l[a]=jS[o[e[a]-1]++]>>15-e[a]);return l},rd=new Us(288);for(var nn=0;nn<144;++nn)rd[nn]=8;for(var nn=144;nn<256;++nn)rd[nn]=9;for(var nn=256;nn<280;++nn)rd[nn]=7;for(var nn=280;nn<288;++nn)rd[nn]=8;var Uv=new Us(32);for(var nn=0;nn<32;++nn)Uv[nn]=5;var cle=Bo(rd,9,0),dle=Bo(rd,9,1),ule=Bo(Uv,5,0),hle=Bo(Uv,5,1),J2=function(e){for(var t=e[0],r=1;r<e.length;++r)e[r]>t&&(t=e[r]);return t},Ri=function(e,t,r){var s=t/8|0;return(e[s]|e[s+1]<<8)>>(t&7)&r},Z2=function(e,t){var r=t/8|0;return(e[r]|e[r+1]<<8|e[r+2]<<16)>>(t&7)},hE=function(e){return(e+7)/8|0},H8=function(e,t,r){return(t==null||t<0)&&(t=0),(r==null||r>e.length)&&(r=e.length),new Us(e.subarray(t,r))},fle=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],Ui=function(e,t,r){var s=new Error(t||fle[e]);if(s.code=e,Error.captureStackTrace&&Error.captureStackTrace(s,Ui),!r)throw s;return s},mle=function(e,t,r,s){var a=e.length,i=s?s.length:0;if(!a||t.f&&!t.l)return r||new Us(0);var o=!r,l=o||t.i!=2,c=t.i;o&&(r=new Us(a*3));var d=function(je){var ve=r.length;if(je>ve){var Le=new Us(Math.max(ve*2,je));Le.set(r),r=Le}},h=t.f||0,u=t.p||0,f=t.b||0,m=t.l,v=t.d,x=t.m,p=t.n,g=a*8;do{if(!m){h=Ri(e,u,1);var b=Ri(e,u+1,3);if(u+=3,b)if(b==1)m=dle,v=hle,x=9,p=5;else if(b==2){var S=Ri(e,u,31)+257,N=Ri(e,u+10,15)+4,w=S+Ri(e,u+5,31)+1;u+=14;for(var _=new Us(w),k=new Us(19),T=0;T<N;++T)k[yS[T]]=Ri(e,u+T*3,7);u+=N*3;for(var A=J2(k),O=(1<<A)-1,D=Bo(k,A,1),T=0;T<w;){var F=D[Ri(e,u,O)];u+=F&15;var y=F>>4;if(y<16)_[T++]=y;else{var M=0,R=0;for(y==16?(R=3+Ri(e,u,3),u+=2,M=_[T-1]):y==17?(R=3+Ri(e,u,7),u+=3):y==18&&(R=11+Ri(e,u,127),u+=7);R--;)_[T++]=M}}var B=_.subarray(0,S),U=_.subarray(S);x=J2(B),p=J2(U),m=Bo(B,x,1),v=Bo(U,p,1)}else Ui(1);else{var y=hE(u)+4,j=e[y-4]|e[y-3]<<8,E=y+j;if(E>a){c&&Ui(0);break}l&&d(f+j),r.set(e.subarray(y,E),f),t.b=f+=j,t.p=u=E*8,t.f=h;continue}if(u>g){c&&Ui(0);break}}l&&d(f+131072);for(var H=(1<<x)-1,q=(1<<p)-1,L=u;;L=u){var M=m[Z2(e,u)&H],V=M>>4;if(u+=M&15,u>g){c&&Ui(0);break}if(M||Ui(2),V<256)r[f++]=V;else if(V==256){L=u,m=null;break}else{var G=V-254;if(V>264){var T=V-257,Z=lj[T];G=Ri(e,u,(1<<Z)-1)+q8[T],u+=Z}var te=v[Z2(e,u)&q],he=te>>4;te||Ui(3),u+=te&15;var U=lle[he];if(he>3){var Z=cj[he];U+=Z2(e,u)&(1<<Z)-1,u+=Z}if(u>g){c&&Ui(0);break}l&&d(f+131072);var fe=f+G;if(f<U){var oe=i-U,we=Math.min(U,fe);for(oe+f<0&&Ui(3);f<we;++f)r[f]=s[oe+f]}for(;f<fe;++f)r[f]=r[f-U]}}t.l=m,t.p=L,t.b=f,t.f=h,m&&(h=1,t.m=x,t.d=v,t.n=p)}while(!h);return f!=r.length&&o?H8(r,0,f):r.subarray(0,f)},dl=function(e,t,r){r<<=t&7;var s=t/8|0;e[s]|=r,e[s+1]|=r>>8},bp=function(e,t,r){r<<=t&7;var s=t/8|0;e[s]|=r,e[s+1]|=r>>8,e[s+2]|=r>>16},eN=function(e,t){for(var r=[],s=0;s<e.length;++s)e[s]&&r.push({s,f:e[s]});var a=r.length,i=r.slice();if(!a)return{t:K8,l:0};if(a==1){var o=new Us(r[0].s+1);return o[r[0].s]=1,{t:o,l:1}}r.sort(function(E,S){return E.f-S.f}),r.push({s:-1,f:25001});var l=r[0],c=r[1],d=0,h=1,u=2;for(r[0]={s:-1,f:l.f+c.f,l,r:c};h!=a-1;)l=r[r[d].f<r[u].f?d++:u++],c=r[d!=h&&r[d].f<r[u].f?d++:u++],r[h++]={s:-1,f:l.f+c.f,l,r:c};for(var f=i[0].s,s=1;s<a;++s)i[s].s>f&&(f=i[s].s);var m=new Ma(f+1),v=wS(r[h-1],m,0);if(v>t){var s=0,x=0,p=v-t,g=1<<p;for(i.sort(function(S,N){return m[N.s]-m[S.s]||S.f-N.f});s<a;++s){var b=i[s].s;if(m[b]>t)x+=g-(1<<v-m[b]),m[b]=t;else break}for(x>>=p;x>0;){var y=i[s].s;m[y]<t?x-=1<<t-m[y]++-1:++s}for(;s>=0&&x;--s){var j=i[s].s;m[j]==t&&(--m[j],++x)}v=t}return{t:new Us(m),l:v}},wS=function(e,t,r){return e.s==-1?Math.max(wS(e.l,t,r+1),wS(e.r,t,r+1)):t[e.s]=r},xI=function(e){for(var t=e.length;t&&!e[--t];);for(var r=new Ma(++t),s=0,a=e[0],i=1,o=function(c){r[s++]=c},l=1;l<=t;++l)if(e[l]==a&&l!=t)++i;else{if(!a&&i>2){for(;i>138;i-=138)o(32754);i>2&&(o(i>10?i-11<<5|28690:i-3<<5|12305),i=0)}else if(i>3){for(o(a),--i;i>6;i-=6)o(8304);i>2&&(o(i-3<<5|8208),i=0)}for(;i--;)o(a);i=1,a=e[l]}return{c:r.subarray(0,s),n:t}},jp=function(e,t){for(var r=0,s=0;s<t.length;++s)r+=e[s]*t[s];return r},G8=function(e,t,r){var s=r.length,a=hE(t+2);e[a]=s&255,e[a+1]=s>>8,e[a+2]=e[a]^255,e[a+3]=e[a+1]^255;for(var i=0;i<s;++i)e[a+i+4]=r[i];return(a+4+s)*8},yI=function(e,t,r,s,a,i,o,l,c,d,h){dl(t,h++,r),++a[256];for(var u=eN(a,15),f=u.t,m=u.l,v=eN(i,15),x=v.t,p=v.l,g=xI(f),b=g.c,y=g.n,j=xI(x),E=j.c,S=j.n,N=new Ma(19),w=0;w<b.length;++w)++N[b[w]&31];for(var w=0;w<E.length;++w)++N[E[w]&31];for(var _=eN(N,7),k=_.t,T=_.l,A=19;A>4&&!k[yS[A-1]];--A);var O=d+5<<3,D=jp(a,rd)+jp(i,Uv)+o,F=jp(a,f)+jp(i,x)+o+14+3*A+jp(N,k)+2*N[16]+3*N[17]+7*N[18];if(c>=0&&O<=D&&O<=F)return G8(t,h,e.subarray(c,c+d));var M,R,B,U;if(dl(t,h,1+(F<D)),h+=2,F<D){M=Bo(f,m,0),R=f,B=Bo(x,p,0),U=x;var H=Bo(k,T,0);dl(t,h,y-257),dl(t,h+5,S-1),dl(t,h+10,A-4),h+=14;for(var w=0;w<A;++w)dl(t,h+3*w,k[yS[w]]);h+=3*A;for(var q=[b,E],L=0;L<2;++L)for(var V=q[L],w=0;w<V.length;++w){var G=V[w]&31;dl(t,h,H[G]),h+=k[G],G>15&&(dl(t,h,V[w]>>5&127),h+=V[w]>>12)}}else M=cle,R=rd,B=ule,U=Uv;for(var w=0;w<l;++w){var Z=s[w];if(Z>255){var G=Z>>18&31;bp(t,h,M[G+257]),h+=R[G+257],G>7&&(dl(t,h,Z>>23&31),h+=lj[G]);var te=Z&31;bp(t,h,B[te]),h+=U[te],te>3&&(bp(t,h,Z>>5&8191),h+=cj[te])}else bp(t,h,M[Z]),h+=R[Z]}return bp(t,h,M[256]),h+R[256]},ple=new uE([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),K8=new Us(0),vle=function(e,t,r,s,a,i){var o=i.z||e.length,l=new Us(s+o+5*(1+Math.ceil(o/7e3))+a),c=l.subarray(s,l.length-a),d=i.l,h=(i.r||0)&7;if(t){h&&(c[0]=i.r>>3);for(var u=ple[t-1],f=u>>13,m=u&8191,v=(1<<r)-1,x=i.p||new Ma(32768),p=i.h||new Ma(v+1),g=Math.ceil(r/3),b=2*g,y=function(ge){return(e[ge]^e[ge+1]<<g^e[ge+2]<<b)&v},j=new uE(25e3),E=new Ma(288),S=new Ma(32),N=0,w=0,_=i.i||0,k=0,T=i.w||0,A=0;_+2<o;++_){var O=y(_),D=_&32767,F=p[O];if(x[D]=F,p[O]=D,T<=_){var M=o-_;if((N>7e3||k>24576)&&(M>423||!d)){h=yI(e,c,0,j,E,S,w,k,A,_-A,h),k=N=w=0,A=_;for(var R=0;R<286;++R)E[R]=0;for(var R=0;R<30;++R)S[R]=0}var B=2,U=0,H=m,q=D-F&32767;if(M>2&&O==y(_-q))for(var L=Math.min(f,M)-1,V=Math.min(32767,_),G=Math.min(258,M);q<=V&&--H&&D!=F;){if(e[_+B]==e[_+B-q]){for(var Z=0;Z<G&&e[_+Z]==e[_+Z-q];++Z);if(Z>B){if(B=Z,U=q,Z>L)break;for(var te=Math.min(q,Z-2),he=0,R=0;R<te;++R){var fe=_-q+R&32767,oe=x[fe],we=fe-oe&32767;we>he&&(he=we,F=fe)}}}D=F,F=x[D],q+=D-F&32767}if(U){j[k++]=268435456|bS[B]<<18|gI[U];var je=bS[B]&31,ve=gI[U]&31;w+=lj[je]+cj[ve],++E[257+je],++S[ve],T=_+B,++N}else j[k++]=e[_],++E[e[_]]}}for(_=Math.max(_,T);_<o;++_)j[k++]=e[_],++E[e[_]];h=yI(e,c,d,j,E,S,w,k,A,_-A,h),d||(i.r=h&7|c[h/8|0]<<3,h-=7,i.h=p,i.p=x,i.i=_,i.w=T)}else{for(var _=i.w||0;_<o+d;_+=65535){var Le=_+65535;Le>=o&&(c[h/8|0]=d,Le=o),h=G8(c,h+1,e.subarray(_,Le))}i.i=o}return H8(l,0,s+hE(h)+a)},Y8=function(){var e=1,t=0;return{p:function(r){for(var s=e,a=t,i=r.length|0,o=0;o!=i;){for(var l=Math.min(o+2655,i);o<l;++o)a+=s+=r[o];s=(s&65535)+15*(s>>16),a=(a&65535)+15*(a>>16)}e=s,t=a},d:function(){return e%=65521,t%=65521,(e&255)<<24|(e&65280)<<8|(t&255)<<8|t>>8}}},gle=function(e,t,r,s,a){if(!a&&(a={l:1},t.dictionary)){var i=t.dictionary.subarray(-32768),o=new Us(i.length+e.length);o.set(i),o.set(e,i.length),e=o,a.w=i.length}return vle(e,t.level==null?6:t.level,t.mem==null?a.l?Math.ceil(Math.max(8,Math.min(13,Math.log(e.length)))*1.5):20:12+t.mem,r,s,a)},X8=function(e,t,r){for(;r;++t)e[t]=r,r>>>=8},xle=function(e,t){var r=t.level,s=r==0?0:r<6?1:r==9?3:2;if(e[0]=120,e[1]=s<<6|(t.dictionary&&32),e[1]|=31-(e[0]<<8|e[1])%31,t.dictionary){var a=Y8();a.p(t.dictionary),X8(e,2,a.d())}},yle=function(e,t){return((e[0]&15)!=8||e[0]>>4>7||(e[0]<<8|e[1])%31)&&Ui(6,"invalid zlib data"),(e[1]>>5&1)==+!t&&Ui(6,"invalid zlib data: "+(e[1]&32?"need":"unexpected")+" dictionary"),(e[1]>>3&4)+2};function NS(e,t){t||(t={});var r=Y8();r.p(e);var s=gle(e,t,t.dictionary?6:2,4);return xle(s,t),X8(s,s.length-4,r.d()),s}function ble(e,t){return mle(e.subarray(yle(e,t&&t.dictionary),-4),{i:2},t&&t.out,t&&t.dictionary)}var jle=typeof TextDecoder<"u"&&new TextDecoder,wle=0;try{jle.decode(K8,{stream:!0}),wle=1}catch{}var $t=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function tN(){$t.console&&typeof $t.console.log=="function"&&$t.console.log.apply($t.console,arguments)}var $r={log:tN,warn:function(e){$t.console&&(typeof $t.console.warn=="function"?$t.console.warn.apply($t.console,arguments):tN.call(null,arguments))},error:function(e){$t.console&&(typeof $t.console.error=="function"?$t.console.error.apply($t.console,arguments):tN(e))}};function rN(e,t,r){var s=new XMLHttpRequest;s.open("GET",e),s.responseType="blob",s.onload=function(){Rd(s.response,t,r)},s.onerror=function(){$r.error("could not download file")},s.send()}function bI(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch{}return t.status>=200&&t.status<=299}function A0(e){try{e.dispatchEvent(new MouseEvent("click"))}catch{var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var Qp,SS,Rd=$t.saveAs||((typeof window>"u"?"undefined":yr(window))!=="object"||window!==$t?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(e,t,r){var s=$t.URL||$t.webkitURL,a=document.createElement("a");t=t||e.name||"download",a.download=t,a.rel="noopener",typeof e=="string"?(a.href=e,a.origin!==location.origin?bI(a.href)?rN(e,t,r):A0(a,a.target="_blank"):A0(a)):(a.href=s.createObjectURL(e),setTimeout(function(){s.revokeObjectURL(a.href)},4e4),setTimeout(function(){A0(a)},0))}:"msSaveOrOpenBlob"in navigator?function(e,t,r){if(t=t||e.name||"download",typeof e=="string")if(bI(e))rN(e,t,r);else{var s=document.createElement("a");s.href=e,s.target="_blank",setTimeout(function(){A0(s)})}else navigator.msSaveOrOpenBlob(function(a,i){return i===void 0?i={autoBom:!1}:yr(i)!=="object"&&($r.warn("Deprecated: Expected third argument to be a object"),i={autoBom:!i}),i.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(a.type)?new Blob([String.fromCharCode(65279),a],{type:a.type}):a}(e,r),t)}:function(e,t,r,s){if((s=s||open("","_blank"))&&(s.document.title=s.document.body.innerText="downloading..."),typeof e=="string")return rN(e,t,r);var a=e.type==="application/octet-stream",i=/constructor/i.test($t.HTMLElement)||$t.safari,o=/CriOS\/[\d]+/.test(navigator.userAgent);if((o||a&&i)&&(typeof FileReader>"u"?"undefined":yr(FileReader))==="object"){var l=new FileReader;l.onloadend=function(){var h=l.result;h=o?h:h.replace(/^data:[^;]*;/,"data:attachment/file;"),s?s.location.href=h:location=h,s=null},l.readAsDataURL(e)}else{var c=$t.URL||$t.webkitURL,d=c.createObjectURL(e);s?s.location=d:location.href=d,s=null,setTimeout(function(){c.revokeObjectURL(d)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function Q8(e){var t;e=e||"",this.ok=!1,e.charAt(0)=="#"&&(e=e.substr(1,6)),e={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[e=(e=e.replace(/ /g,"")).toLowerCase()]||e;for(var r=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(l){return[parseInt(l[1]),parseInt(l[2]),parseInt(l[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(l){return[parseInt(l[1],16),parseInt(l[2],16),parseInt(l[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(l){return[parseInt(l[1]+l[1],16),parseInt(l[2]+l[2],16),parseInt(l[3]+l[3],16)]}}],s=0;s<r.length;s++){var a=r[s].re,i=r[s].process,o=a.exec(e);o&&(t=i(o),this.r=t[0],this.g=t[1],this.b=t[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var l=this.r.toString(16),c=this.g.toString(16),d=this.b.toString(16);return l.length==1&&(l="0"+l),c.length==1&&(c="0"+c),d.length==1&&(d="0"+d),"#"+l+c+d}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function nN(e,t){var r=e[0],s=e[1],a=e[2],i=e[3];r=Ds(r,s,a,i,t[0],7,-680876936),i=Ds(i,r,s,a,t[1],12,-389564586),a=Ds(a,i,r,s,t[2],17,606105819),s=Ds(s,a,i,r,t[3],22,-1044525330),r=Ds(r,s,a,i,t[4],7,-176418897),i=Ds(i,r,s,a,t[5],12,1200080426),a=Ds(a,i,r,s,t[6],17,-1473231341),s=Ds(s,a,i,r,t[7],22,-45705983),r=Ds(r,s,a,i,t[8],7,1770035416),i=Ds(i,r,s,a,t[9],12,-1958414417),a=Ds(a,i,r,s,t[10],17,-42063),s=Ds(s,a,i,r,t[11],22,-1990404162),r=Ds(r,s,a,i,t[12],7,1804603682),i=Ds(i,r,s,a,t[13],12,-40341101),a=Ds(a,i,r,s,t[14],17,-1502002290),r=Os(r,s=Ds(s,a,i,r,t[15],22,1236535329),a,i,t[1],5,-165796510),i=Os(i,r,s,a,t[6],9,-1069501632),a=Os(a,i,r,s,t[11],14,643717713),s=Os(s,a,i,r,t[0],20,-373897302),r=Os(r,s,a,i,t[5],5,-701558691),i=Os(i,r,s,a,t[10],9,38016083),a=Os(a,i,r,s,t[15],14,-660478335),s=Os(s,a,i,r,t[4],20,-405537848),r=Os(r,s,a,i,t[9],5,568446438),i=Os(i,r,s,a,t[14],9,-1019803690),a=Os(a,i,r,s,t[3],14,-187363961),s=Os(s,a,i,r,t[8],20,1163531501),r=Os(r,s,a,i,t[13],5,-1444681467),i=Os(i,r,s,a,t[2],9,-51403784),a=Os(a,i,r,s,t[7],14,1735328473),r=Ls(r,s=Os(s,a,i,r,t[12],20,-1926607734),a,i,t[5],4,-378558),i=Ls(i,r,s,a,t[8],11,-2022574463),a=Ls(a,i,r,s,t[11],16,1839030562),s=Ls(s,a,i,r,t[14],23,-35309556),r=Ls(r,s,a,i,t[1],4,-1530992060),i=Ls(i,r,s,a,t[4],11,1272893353),a=Ls(a,i,r,s,t[7],16,-155497632),s=Ls(s,a,i,r,t[10],23,-1094730640),r=Ls(r,s,a,i,t[13],4,681279174),i=Ls(i,r,s,a,t[0],11,-358537222),a=Ls(a,i,r,s,t[3],16,-722521979),s=Ls(s,a,i,r,t[6],23,76029189),r=Ls(r,s,a,i,t[9],4,-640364487),i=Ls(i,r,s,a,t[12],11,-421815835),a=Ls(a,i,r,s,t[15],16,530742520),r=Rs(r,s=Ls(s,a,i,r,t[2],23,-995338651),a,i,t[0],6,-198630844),i=Rs(i,r,s,a,t[7],10,1126891415),a=Rs(a,i,r,s,t[14],15,-1416354905),s=Rs(s,a,i,r,t[5],21,-57434055),r=Rs(r,s,a,i,t[12],6,1700485571),i=Rs(i,r,s,a,t[3],10,-1894986606),a=Rs(a,i,r,s,t[10],15,-1051523),s=Rs(s,a,i,r,t[1],21,-2054922799),r=Rs(r,s,a,i,t[8],6,1873313359),i=Rs(i,r,s,a,t[15],10,-30611744),a=Rs(a,i,r,s,t[6],15,-1560198380),s=Rs(s,a,i,r,t[13],21,1309151649),r=Rs(r,s,a,i,t[4],6,-145523070),i=Rs(i,r,s,a,t[11],10,-1120210379),a=Rs(a,i,r,s,t[2],15,718787259),s=Rs(s,a,i,r,t[9],21,-343485551),e[0]=Tc(r,e[0]),e[1]=Tc(s,e[1]),e[2]=Tc(a,e[2]),e[3]=Tc(i,e[3])}function dj(e,t,r,s,a,i){return t=Tc(Tc(t,e),Tc(s,i)),Tc(t<<a|t>>>32-a,r)}function Ds(e,t,r,s,a,i,o){return dj(t&r|~t&s,e,t,a,i,o)}function Os(e,t,r,s,a,i,o){return dj(t&s|r&~s,e,t,a,i,o)}function Ls(e,t,r,s,a,i,o){return dj(t^r^s,e,t,a,i,o)}function Rs(e,t,r,s,a,i,o){return dj(r^(t|~s),e,t,a,i,o)}function J8(e){var t,r=e.length,s=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=e.length;t+=64)nN(s,Nle(e.substring(t-64,t)));e=e.substring(t-64);var a=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<e.length;t++)a[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(a[t>>2]|=128<<(t%4<<3),t>55)for(nN(s,a),t=0;t<16;t++)a[t]=0;return a[14]=8*r,nN(s,a),s}function Nle(e){var t,r=[];for(t=0;t<64;t+=4)r[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return r}Qp=$t.atob.bind($t),SS=$t.btoa.bind($t);var jI="0123456789abcdef".split("");function Sle(e){for(var t="",r=0;r<4;r++)t+=jI[e>>8*r+4&15]+jI[e>>8*r&15];return t}function Cle(e){return String.fromCharCode((255&e)>>0,(65280&e)>>8,(16711680&e)>>16,(4278190080&e)>>24)}function CS(e){return J8(e).map(Cle).join("")}var Ale=function(e){for(var t=0;t<e.length;t++)e[t]=Sle(e[t]);return e.join("")}(J8("hello"))!="5d41402abc4b2a76b9719d911017c592";function Tc(e,t){if(Ale){var r=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(r>>16)<<16|65535&r}return e+t&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function AS(e,t){var r,s,a,i;if(e!==r){for(var o=(a=e,i=1+(256/e.length>>0),new Array(i+1).join(a)),l=[],c=0;c<256;c++)l[c]=c;var d=0;for(c=0;c<256;c++){var h=l[c];d=(d+h+o.charCodeAt(c))%256,l[c]=l[d],l[d]=h}r=e,s=l}else l=s;var u=t.length,f=0,m=0,v="";for(c=0;c<u;c++)m=(m+(h=l[f=(f+1)%256]))%256,l[f]=l[m],l[m]=h,o=l[(l[f]+l[m])%256],v+=String.fromCharCode(t.charCodeAt(c)^o);return v}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var wI={print:4,modify:8,copy:16,"annot-forms":32};function Ih(e,t,r,s){this.v=1,this.r=2;var a=192;e.forEach(function(l){if(wI.perm!==void 0)throw new Error("Invalid permission: "+l);a+=wI[l]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var i=(t+this.padding).substr(0,32),o=(r+this.padding).substr(0,32);this.O=this.processOwnerPassword(i,o),this.P=-(1+(255^a)),this.encryptionKey=CS(i+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(s)).substr(0,5),this.U=AS(this.encryptionKey,this.padding)}function kh(e){if(/[^\u0000-\u00ff]/.test(e))throw new Error("Invalid PDF Name Object: "+e+", Only accept ASCII characters.");for(var t="",r=e.length,s=0;s<r;s++){var a=e.charCodeAt(s);a<33||a===35||a===37||a===40||a===41||a===47||a===60||a===62||a===91||a===93||a===123||a===125||a>126?t+="#"+("0"+a.toString(16)).slice(-2):t+=e[s]}return t}function NI(e){if(yr(e)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var t={};this.subscribe=function(r,s,a){if(a=a||!1,typeof r!="string"||typeof s!="function"||typeof a!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");t.hasOwnProperty(r)||(t[r]={});var i=Math.random().toString(35);return t[r][i]=[s,!!a],i},this.unsubscribe=function(r){for(var s in t)if(t[s][r])return delete t[s][r],Object.keys(t[s]).length===0&&delete t[s],!0;return!1},this.publish=function(r){if(t.hasOwnProperty(r)){var s=Array.prototype.slice.call(arguments,1),a=[];for(var i in t[r]){var o=t[r][i];try{o[0].apply(e,s)}catch(l){$t.console&&$r.error("jsPDF PubSub Error",l.message,l)}o[1]&&a.push(i)}a.length&&a.forEach(this.unsubscribe)}},this.getTopics=function(){return t}}function Vv(e){if(!(this instanceof Vv))return new Vv(e);var t="opacity,stroke-opacity".split(",");for(var r in e)e.hasOwnProperty(r)&&t.indexOf(r)>=0&&(this[r]=e[r]);this.id="",this.objectNumber=-1}function Z8(e,t){this.gState=e,this.matrix=t,this.id="",this.objectNumber=-1}function wc(e,t,r,s,a){if(!(this instanceof wc))return new wc(e,t,r,s,a);this.type=e==="axial"?2:3,this.coords=t,this.colors=r,Z8.call(this,s,a)}function Yd(e,t,r,s,a){if(!(this instanceof Yd))return new Yd(e,t,r,s,a);this.boundingBox=e,this.xStep=t,this.yStep=r,this.stream="",this.cloneIndex=0,Z8.call(this,s,a)}function Tt(e){var t,r=typeof arguments[0]=="string"?arguments[0]:"p",s=arguments[1],a=arguments[2],i=arguments[3],o=[],l=1,c=16,d="S",h=null;yr(e=e||{})==="object"&&(r=e.orientation,s=e.unit||s,a=e.format||a,i=e.compress||e.compressPdf||i,(h=e.encryption||null)!==null&&(h.userPassword=h.userPassword||"",h.ownerPassword=h.ownerPassword||"",h.userPermissions=h.userPermissions||[]),l=typeof e.userUnit=="number"?Math.abs(e.userUnit):1,e.precision!==void 0&&(t=e.precision),e.floatPrecision!==void 0&&(c=e.floatPrecision),d=e.defaultPathOperation||"S"),o=e.filters||(i===!0?["FlateEncode"]:o),s=s||"mm",r=(""+(r||"P")).toLowerCase();var u=e.putOnlyUsedFonts||!1,f={},m={internal:{},__private__:{}};m.__private__.PubSub=NI;var v="1.3",x=m.__private__.getPdfVersion=function(){return v};m.__private__.setPdfVersion=function($){v=$};var p={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};m.__private__.getPageFormats=function(){return p};var g=m.__private__.getPageFormat=function($){return p[$]};a=a||"a4";var b={COMPAT:"compat",ADVANCED:"advanced"},y=b.COMPAT;function j(){this.saveGraphicsState(),re(new Ot(lt,0,0,-lt,0,Xl()*lt).toString()+" cm"),this.setFontSize(this.getFontSize()/lt),d="n",y=b.ADVANCED}function E(){this.restoreGraphicsState(),d="S",y=b.COMPAT}var S=m.__private__.combineFontStyleAndFontWeight=function($,Q){if($=="bold"&&Q=="normal"||$=="bold"&&Q==400||$=="normal"&&Q=="italic"||$=="bold"&&Q=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return Q&&($=Q==400||Q==="normal"?$==="italic"?"italic":"normal":Q!=700&&Q!=="bold"||$!=="normal"?(Q==700?"bold":Q)+""+$:"bold"),$};m.advancedAPI=function($){var Q=y===b.COMPAT;return Q&&j.call(this),typeof $!="function"||($(this),Q&&E.call(this)),this},m.compatAPI=function($){var Q=y===b.ADVANCED;return Q&&E.call(this),typeof $!="function"||($(this),Q&&j.call(this)),this},m.isAdvancedAPI=function(){return y===b.ADVANCED};var N,w=function($){if(y!==b.ADVANCED)throw new Error($+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},_=m.roundToPrecision=m.__private__.roundToPrecision=function($,Q){var me=t||Q;if(isNaN($)||isNaN(me))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return $.toFixed(me).replace(/0+$/,"")};N=m.hpf=m.__private__.hpf=typeof c=="number"?function($){if(isNaN($))throw new Error("Invalid argument passed to jsPDF.hpf");return _($,c)}:c==="smart"?function($){if(isNaN($))throw new Error("Invalid argument passed to jsPDF.hpf");return _($,$>-1&&$<1?16:5)}:function($){if(isNaN($))throw new Error("Invalid argument passed to jsPDF.hpf");return _($,16)};var k=m.f2=m.__private__.f2=function($){if(isNaN($))throw new Error("Invalid argument passed to jsPDF.f2");return _($,2)},T=m.__private__.f3=function($){if(isNaN($))throw new Error("Invalid argument passed to jsPDF.f3");return _($,3)},A=m.scale=m.__private__.scale=function($){if(isNaN($))throw new Error("Invalid argument passed to jsPDF.scale");return y===b.COMPAT?$*lt:y===b.ADVANCED?$:void 0},O=function($){return y===b.COMPAT?Xl()-$:y===b.ADVANCED?$:void 0},D=function($){return A(O($))};m.__private__.setPrecision=m.setPrecision=function($){typeof parseInt($,10)=="number"&&(t=parseInt($,10))};var F,M="00000000000000000000000000000000",R=m.__private__.getFileId=function(){return M},B=m.__private__.setFileId=function($){return M=$!==void 0&&/^[a-fA-F0-9]{32}$/.test($)?$.toUpperCase():M.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),h!==null&&(Ts=new Ih(h.userPermissions,h.userPassword,h.ownerPassword,M)),M};m.setFileId=function($){return B($),this},m.getFileId=function(){return R()};var U=m.__private__.convertDateToPDFDate=function($){var Q=$.getTimezoneOffset(),me=Q<0?"+":"-",Se=Math.floor(Math.abs(Q/60)),ke=Math.abs(Q%60),We=[me,G(Se),"'",G(ke),"'"].join("");return["D:",$.getFullYear(),G($.getMonth()+1),G($.getDate()),G($.getHours()),G($.getMinutes()),G($.getSeconds()),We].join("")},H=m.__private__.convertPDFDateToDate=function($){var Q=parseInt($.substr(2,4),10),me=parseInt($.substr(6,2),10)-1,Se=parseInt($.substr(8,2),10),ke=parseInt($.substr(10,2),10),We=parseInt($.substr(12,2),10),tt=parseInt($.substr(14,2),10);return new Date(Q,me,Se,ke,We,tt,0)},q=m.__private__.setCreationDate=function($){var Q;if($===void 0&&($=new Date),$ instanceof Date)Q=U($);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test($))throw new Error("Invalid argument passed to jsPDF.setCreationDate");Q=$}return F=Q},L=m.__private__.getCreationDate=function($){var Q=F;return $==="jsDate"&&(Q=H(F)),Q};m.setCreationDate=function($){return q($),this},m.getCreationDate=function($){return L($)};var V,G=m.__private__.padd2=function($){return("0"+parseInt($)).slice(-2)},Z=m.__private__.padd2Hex=function($){return("00"+($=$.toString())).substr($.length)},te=0,he=[],fe=[],oe=0,we=[],je=[],ve=!1,Le=fe,ge=function(){te=0,oe=0,fe=[],he=[],we=[],el=Ln(),Ai=Ln()};m.__private__.setCustomOutputDestination=function($){ve=!0,Le=$};var le=function($){ve||(Le=$)};m.__private__.resetCustomOutputDestination=function(){ve=!1,Le=fe};var re=m.__private__.out=function($){return $=$.toString(),oe+=$.length+1,Le.push($),Le},Ce=m.__private__.write=function($){return re(arguments.length===1?$.toString():Array.prototype.join.call(arguments," "))},Ne=m.__private__.getArrayBuffer=function($){for(var Q=$.length,me=new ArrayBuffer(Q),Se=new Uint8Array(me);Q--;)Se[Q]=$.charCodeAt(Q);return me},xe=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];m.__private__.getStandardFonts=function(){return xe};var Fe=e.fontSize||16;m.__private__.setFontSize=m.setFontSize=function($){return Fe=y===b.ADVANCED?$/lt:$,this};var nt,rt=m.__private__.getFontSize=m.getFontSize=function(){return y===b.COMPAT?Fe:Fe*lt},gt=e.R2L||!1;m.__private__.setR2L=m.setR2L=function($){return gt=$,this},m.__private__.getR2L=m.getR2L=function(){return gt};var Me,Ze=m.__private__.setZoomMode=function($){var Q=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test($))nt=$;else if(isNaN($)){if(Q.indexOf($)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+$+'" is not recognized.');nt=$}else nt=parseInt($,10)};m.__private__.getZoomMode=function(){return nt};var ht,xt=m.__private__.setPageMode=function($){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf($)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+$+'" is not recognized.');Me=$};m.__private__.getPageMode=function(){return Me};var kt=m.__private__.setLayoutMode=function($){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf($)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+$+'" is not recognized.');ht=$};m.__private__.getLayoutMode=function(){return ht},m.__private__.setDisplayMode=m.setDisplayMode=function($,Q,me){return Ze($),kt(Q),xt(me),this};var St={title:"",subject:"",author:"",keywords:"",creator:""};m.__private__.getDocumentProperty=function($){if(Object.keys(St).indexOf($)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return St[$]},m.__private__.getDocumentProperties=function(){return St},m.__private__.setDocumentProperties=m.setProperties=m.setDocumentProperties=function($){for(var Q in St)St.hasOwnProperty(Q)&&$[Q]&&(St[Q]=$[Q]);return this},m.__private__.setDocumentProperty=function($,Q){if(Object.keys(St).indexOf($)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return St[$]=Q};var Bt,lt,jr,Xt,qn,wr={},kr={},na=[],dr={},Jo={},gn={},Si={},Zo=null,xn=0,Wt=[],Sr=new NI(m),xd=e.hotfixes||[],ps={},ho={},fo=[],Ot=function $(Q,me,Se,ke,We,tt){if(!(this instanceof $))return new $(Q,me,Se,ke,We,tt);isNaN(Q)&&(Q=1),isNaN(me)&&(me=0),isNaN(Se)&&(Se=0),isNaN(ke)&&(ke=1),isNaN(We)&&(We=0),isNaN(tt)&&(tt=0),this._matrix=[Q,me,Se,ke,We,tt]};Object.defineProperty(Ot.prototype,"sx",{get:function(){return this._matrix[0]},set:function($){this._matrix[0]=$}}),Object.defineProperty(Ot.prototype,"shy",{get:function(){return this._matrix[1]},set:function($){this._matrix[1]=$}}),Object.defineProperty(Ot.prototype,"shx",{get:function(){return this._matrix[2]},set:function($){this._matrix[2]=$}}),Object.defineProperty(Ot.prototype,"sy",{get:function(){return this._matrix[3]},set:function($){this._matrix[3]=$}}),Object.defineProperty(Ot.prototype,"tx",{get:function(){return this._matrix[4]},set:function($){this._matrix[4]=$}}),Object.defineProperty(Ot.prototype,"ty",{get:function(){return this._matrix[5]},set:function($){this._matrix[5]=$}}),Object.defineProperty(Ot.prototype,"a",{get:function(){return this._matrix[0]},set:function($){this._matrix[0]=$}}),Object.defineProperty(Ot.prototype,"b",{get:function(){return this._matrix[1]},set:function($){this._matrix[1]=$}}),Object.defineProperty(Ot.prototype,"c",{get:function(){return this._matrix[2]},set:function($){this._matrix[2]=$}}),Object.defineProperty(Ot.prototype,"d",{get:function(){return this._matrix[3]},set:function($){this._matrix[3]=$}}),Object.defineProperty(Ot.prototype,"e",{get:function(){return this._matrix[4]},set:function($){this._matrix[4]=$}}),Object.defineProperty(Ot.prototype,"f",{get:function(){return this._matrix[5]},set:function($){this._matrix[5]=$}}),Object.defineProperty(Ot.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Ot.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Ot.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Ot.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),Ot.prototype.join=function($){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(N).join($)},Ot.prototype.multiply=function($){var Q=$.sx*this.sx+$.shy*this.shx,me=$.sx*this.shy+$.shy*this.sy,Se=$.shx*this.sx+$.sy*this.shx,ke=$.shx*this.shy+$.sy*this.sy,We=$.tx*this.sx+$.ty*this.shx+this.tx,tt=$.tx*this.shy+$.ty*this.sy+this.ty;return new Ot(Q,me,Se,ke,We,tt)},Ot.prototype.decompose=function(){var $=this.sx,Q=this.shy,me=this.shx,Se=this.sy,ke=this.tx,We=this.ty,tt=Math.sqrt($*$+Q*Q),mt=($/=tt)*me+(Q/=tt)*Se;me-=$*mt,Se-=Q*mt;var Pt=Math.sqrt(me*me+Se*Se);return mt/=Pt,$*(Se/=Pt)<Q*(me/=Pt)&&($=-$,Q=-Q,mt=-mt,tt=-tt),{scale:new Ot(tt,0,0,Pt,0,0),translate:new Ot(1,0,0,1,ke,We),rotate:new Ot($,Q,-Q,$,0,0),skew:new Ot(1,0,mt,1,0,0)}},Ot.prototype.toString=function($){return this.join(" ")},Ot.prototype.inversed=function(){var $=this.sx,Q=this.shy,me=this.shx,Se=this.sy,ke=this.tx,We=this.ty,tt=1/($*Se-Q*me),mt=Se*tt,Pt=-Q*tt,Kt=-me*tt,Ht=$*tt;return new Ot(mt,Pt,Kt,Ht,-mt*ke-Kt*We,-Pt*ke-Ht*We)},Ot.prototype.applyToPoint=function($){var Q=$.x*this.sx+$.y*this.shx+this.tx,me=$.x*this.shy+$.y*this.sy+this.ty;return new Zu(Q,me)},Ot.prototype.applyToRectangle=function($){var Q=this.applyToPoint($),me=this.applyToPoint(new Zu($.x+$.w,$.y+$.h));return new Bm(Q.x,Q.y,me.x-Q.x,me.y-Q.y)},Ot.prototype.clone=function(){var $=this.sx,Q=this.shy,me=this.shx,Se=this.sy,ke=this.tx,We=this.ty;return new Ot($,Q,me,Se,ke,We)},m.Matrix=Ot;var Ci=m.matrixMult=function($,Q){return Q.multiply($)},mo=new Ot(1,0,0,1,0,0);m.unitMatrix=m.identityMatrix=mo;var sa=function($,Q){if(!Jo[$]){var me=(Q instanceof wc?"Sh":"P")+(Object.keys(dr).length+1).toString(10);Q.id=me,Jo[$]=me,dr[me]=Q,Sr.publish("addPattern",Q)}};m.ShadingPattern=wc,m.TilingPattern=Yd,m.addShadingPattern=function($,Q){return w("addShadingPattern()"),sa($,Q),this},m.beginTilingPattern=function($){w("beginTilingPattern()"),wx($.boundingBox[0],$.boundingBox[1],$.boundingBox[2]-$.boundingBox[0],$.boundingBox[3]-$.boundingBox[1],$.matrix)},m.endTilingPattern=function($,Q){w("endTilingPattern()"),Q.stream=je[V].join(`
`),sa($,Q),Sr.publish("endTilingPattern",Q),fo.pop().restore()};var Wn=m.__private__.newObject=function(){var $=Ln();return Aa($,!0),$},Ln=m.__private__.newObjectDeferred=function(){return te++,he[te]=function(){return oe},te},Aa=function($,Q){return Q=typeof Q=="boolean"&&Q,he[$]=oe,Q&&re($+" 0 obj"),$},Bu=m.__private__.newAdditionalObject=function(){var $={objId:Ln(),content:""};return we.push($),$},el=Ln(),Ai=Ln(),Ei=m.__private__.decodeColorString=function($){var Q=$.split(" ");if(Q.length!==2||Q[1]!=="g"&&Q[1]!=="G")Q.length===5&&(Q[4]==="k"||Q[4]==="K")&&(Q=[(1-Q[0])*(1-Q[3]),(1-Q[1])*(1-Q[3]),(1-Q[2])*(1-Q[3]),"r"]);else{var me=parseFloat(Q[0]);Q=[me,me,me,"r"]}for(var Se="#",ke=0;ke<3;ke++)Se+=("0"+Math.floor(255*parseFloat(Q[ke])).toString(16)).slice(-2);return Se},Pi=m.__private__.encodeColorString=function($){var Q;typeof $=="string"&&($={ch1:$});var me=$.ch1,Se=$.ch2,ke=$.ch3,We=$.ch4,tt=$.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof me=="string"&&me.charAt(0)!=="#"){var mt=new Q8(me);if(mt.ok)me=mt.toHex();else if(!/^\d*\.?\d*$/.test(me))throw new Error('Invalid color "'+me+'" passed to jsPDF.encodeColorString.')}if(typeof me=="string"&&/^#[0-9A-Fa-f]{3}$/.test(me)&&(me="#"+me[1]+me[1]+me[2]+me[2]+me[3]+me[3]),typeof me=="string"&&/^#[0-9A-Fa-f]{6}$/.test(me)){var Pt=parseInt(me.substr(1),16);me=Pt>>16&255,Se=Pt>>8&255,ke=255&Pt}if(Se===void 0||We===void 0&&me===Se&&Se===ke)if(typeof me=="string")Q=me+" "+tt[0];else switch($.precision){case 2:Q=k(me/255)+" "+tt[0];break;case 3:default:Q=T(me/255)+" "+tt[0]}else if(We===void 0||yr(We)==="object"){if(We&&!isNaN(We.a)&&We.a===0)return Q=["1.","1.","1.",tt[1]].join(" ");if(typeof me=="string")Q=[me,Se,ke,tt[1]].join(" ");else switch($.precision){case 2:Q=[k(me/255),k(Se/255),k(ke/255),tt[1]].join(" ");break;default:case 3:Q=[T(me/255),T(Se/255),T(ke/255),tt[1]].join(" ")}}else if(typeof me=="string")Q=[me,Se,ke,We,tt[2]].join(" ");else switch($.precision){case 2:Q=[k(me),k(Se),k(ke),k(We),tt[2]].join(" ");break;case 3:default:Q=[T(me),T(Se),T(ke),T(We),tt[2]].join(" ")}return Q},po=m.__private__.getFilters=function(){return o},Ka=m.__private__.putStream=function($){var Q=($=$||{}).data||"",me=$.filters||po(),Se=$.alreadyAppliedFilters||[],ke=$.addLength1||!1,We=Q.length,tt=$.objectId,mt=function(_s){return _s};if(h!==null&&tt===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");h!==null&&(mt=Ts.encryptor(tt,0));var Pt={};me===!0&&(me=["FlateEncode"]);var Kt=$.additionalKeyValues||[],Ht=(Pt=Tt.API.processDataByFilters!==void 0?Tt.API.processDataByFilters(Q,me):{data:Q,reverseChain:[]}).reverseChain+(Array.isArray(Se)?Se.join(" "):Se.toString());if(Pt.data.length!==0&&(Kt.push({key:"Length",value:Pt.data.length}),ke===!0&&Kt.push({key:"Length1",value:We})),Ht.length!=0)if(Ht.split("/").length-1==1)Kt.push({key:"Filter",value:Ht});else{Kt.push({key:"Filter",value:"["+Ht+"]"});for(var ur=0;ur<Kt.length;ur+=1)if(Kt[ur].key==="DecodeParms"){for(var dn=[],yn=0;yn<Pt.reverseChain.split("/").length-1;yn+=1)dn.push("null");dn.push(Kt[ur].value),Kt[ur].value="["+dn.join(" ")+"]"}}re("<<");for(var Rn=0;Rn<Kt.length;Rn++)re("/"+Kt[Rn].key+" "+Kt[Rn].value);re(">>"),Pt.data.length!==0&&(re("stream"),re(mt(Pt.data)),re("endstream"))},vo=m.__private__.putPage=function($){var Q=$.number,me=$.data,Se=$.objId,ke=$.contentsObjId;Aa(Se,!0),re("<</Type /Page"),re("/Parent "+$.rootDictionaryObjId+" 0 R"),re("/Resources "+$.resourceDictionaryObjId+" 0 R"),re("/MediaBox ["+parseFloat(N($.mediaBox.bottomLeftX))+" "+parseFloat(N($.mediaBox.bottomLeftY))+" "+N($.mediaBox.topRightX)+" "+N($.mediaBox.topRightY)+"]"),$.cropBox!==null&&re("/CropBox ["+N($.cropBox.bottomLeftX)+" "+N($.cropBox.bottomLeftY)+" "+N($.cropBox.topRightX)+" "+N($.cropBox.topRightY)+"]"),$.bleedBox!==null&&re("/BleedBox ["+N($.bleedBox.bottomLeftX)+" "+N($.bleedBox.bottomLeftY)+" "+N($.bleedBox.topRightX)+" "+N($.bleedBox.topRightY)+"]"),$.trimBox!==null&&re("/TrimBox ["+N($.trimBox.bottomLeftX)+" "+N($.trimBox.bottomLeftY)+" "+N($.trimBox.topRightX)+" "+N($.trimBox.topRightY)+"]"),$.artBox!==null&&re("/ArtBox ["+N($.artBox.bottomLeftX)+" "+N($.artBox.bottomLeftY)+" "+N($.artBox.topRightX)+" "+N($.artBox.topRightY)+"]"),typeof $.userUnit=="number"&&$.userUnit!==1&&re("/UserUnit "+$.userUnit),Sr.publish("putPage",{objId:Se,pageContext:Wt[Q],pageNumber:Q,page:me}),re("/Contents "+ke+" 0 R"),re(">>"),re("endobj");var We=me.join(`
`);return y===b.ADVANCED&&(We+=`
Q`),Aa(ke,!0),Ka({data:We,filters:po(),objectId:ke}),re("endobj"),Se},yd=m.__private__.putPages=function(){var $,Q,me=[];for($=1;$<=xn;$++)Wt[$].objId=Ln(),Wt[$].contentsObjId=Ln();for($=1;$<=xn;$++)me.push(vo({number:$,data:je[$],objId:Wt[$].objId,contentsObjId:Wt[$].contentsObjId,mediaBox:Wt[$].mediaBox,cropBox:Wt[$].cropBox,bleedBox:Wt[$].bleedBox,trimBox:Wt[$].trimBox,artBox:Wt[$].artBox,userUnit:Wt[$].userUnit,rootDictionaryObjId:el,resourceDictionaryObjId:Ai}));Aa(el,!0),re("<</Type /Pages");var Se="/Kids [";for(Q=0;Q<xn;Q++)Se+=me[Q]+" 0 R ";re(Se+"]"),re("/Count "+xn),re(">>"),re("endobj"),Sr.publish("postPutPages")},zu=function($){Sr.publish("putFont",{font:$,out:re,newObject:Wn,putStream:Ka}),$.isAlreadyPutted!==!0&&($.objectNumber=Wn(),re("<<"),re("/Type /Font"),re("/BaseFont /"+kh($.postScriptName)),re("/Subtype /Type1"),typeof $.encoding=="string"&&re("/Encoding /"+$.encoding),re("/FirstChar 32"),re("/LastChar 255"),re(">>"),re("endobj"))},Uu=function(){for(var $ in wr)wr.hasOwnProperty($)&&(u===!1||u===!0&&f.hasOwnProperty($))&&zu(wr[$])},Vu=function($){$.objectNumber=Wn();var Q=[];Q.push({key:"Type",value:"/XObject"}),Q.push({key:"Subtype",value:"/Form"}),Q.push({key:"BBox",value:"["+[N($.x),N($.y),N($.x+$.width),N($.y+$.height)].join(" ")+"]"}),Q.push({key:"Matrix",value:"["+$.matrix.toString()+"]"});var me=$.pages[1].join(`
`);Ka({data:me,additionalKeyValues:Q,objectId:$.objectNumber}),re("endobj")},qu=function(){for(var $ in ps)ps.hasOwnProperty($)&&Vu(ps[$])},sx=function($,Q){var me,Se=[],ke=1/(Q-1);for(me=0;me<1;me+=ke)Se.push(me);if(Se.push(1),$[0].offset!=0){var We={offset:0,color:$[0].color};$.unshift(We)}if($[$.length-1].offset!=1){var tt={offset:1,color:$[$.length-1].color};$.push(tt)}for(var mt="",Pt=0,Kt=0;Kt<Se.length;Kt++){for(me=Se[Kt];me>$[Pt+1].offset;)Pt++;var Ht=$[Pt].offset,ur=(me-Ht)/($[Pt+1].offset-Ht),dn=$[Pt].color,yn=$[Pt+1].color;mt+=Z(Math.round((1-ur)*dn[0]+ur*yn[0]).toString(16))+Z(Math.round((1-ur)*dn[1]+ur*yn[1]).toString(16))+Z(Math.round((1-ur)*dn[2]+ur*yn[2]).toString(16))}return mt.trim()},aw=function($,Q){Q||(Q=21);var me=Wn(),Se=sx($.colors,Q),ke=[];ke.push({key:"FunctionType",value:"0"}),ke.push({key:"Domain",value:"[0.0 1.0]"}),ke.push({key:"Size",value:"["+Q+"]"}),ke.push({key:"BitsPerSample",value:"8"}),ke.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),ke.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Ka({data:Se,additionalKeyValues:ke,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:me}),re("endobj"),$.objectNumber=Wn(),re("<< /ShadingType "+$.type),re("/ColorSpace /DeviceRGB");var We="/Coords ["+N(parseFloat($.coords[0]))+" "+N(parseFloat($.coords[1]))+" ";$.type===2?We+=N(parseFloat($.coords[2]))+" "+N(parseFloat($.coords[3])):We+=N(parseFloat($.coords[2]))+" "+N(parseFloat($.coords[3]))+" "+N(parseFloat($.coords[4]))+" "+N(parseFloat($.coords[5])),re(We+="]"),$.matrix&&re("/Matrix ["+$.matrix.toString()+"]"),re("/Function "+me+" 0 R"),re("/Extend [true true]"),re(">>"),re("endobj")},iw=function($,Q){var me=Ln(),Se=Wn();Q.push({resourcesOid:me,objectOid:Se}),$.objectNumber=Se;var ke=[];ke.push({key:"Type",value:"/Pattern"}),ke.push({key:"PatternType",value:"1"}),ke.push({key:"PaintType",value:"1"}),ke.push({key:"TilingType",value:"1"}),ke.push({key:"BBox",value:"["+$.boundingBox.map(N).join(" ")+"]"}),ke.push({key:"XStep",value:N($.xStep)}),ke.push({key:"YStep",value:N($.yStep)}),ke.push({key:"Resources",value:me+" 0 R"}),$.matrix&&ke.push({key:"Matrix",value:"["+$.matrix.toString()+"]"}),Ka({data:$.stream,additionalKeyValues:ke,objectId:$.objectNumber}),re("endobj")},Wu=function($){var Q;for(Q in dr)dr.hasOwnProperty(Q)&&(dr[Q]instanceof wc?aw(dr[Q]):dr[Q]instanceof Yd&&iw(dr[Q],$))},ax=function($){for(var Q in $.objectNumber=Wn(),re("<<"),$)switch(Q){case"opacity":re("/ca "+k($[Q]));break;case"stroke-opacity":re("/CA "+k($[Q]))}re(">>"),re("endobj")},ow=function(){var $;for($ in gn)gn.hasOwnProperty($)&&ax(gn[$])},_m=function(){for(var $ in re("/XObject <<"),ps)ps.hasOwnProperty($)&&ps[$].objectNumber>=0&&re("/"+$+" "+ps[$].objectNumber+" 0 R");Sr.publish("putXobjectDict"),re(">>")},lw=function(){Ts.oid=Wn(),re("<<"),re("/Filter /Standard"),re("/V "+Ts.v),re("/R "+Ts.r),re("/U <"+Ts.toHexString(Ts.U)+">"),re("/O <"+Ts.toHexString(Ts.O)+">"),re("/P "+Ts.P),re(">>"),re("endobj")},ix=function(){for(var $ in re("/Font <<"),wr)wr.hasOwnProperty($)&&(u===!1||u===!0&&f.hasOwnProperty($))&&re("/"+$+" "+wr[$].objectNumber+" 0 R");re(">>")},cw=function(){if(Object.keys(dr).length>0){for(var $ in re("/Shading <<"),dr)dr.hasOwnProperty($)&&dr[$]instanceof wc&&dr[$].objectNumber>=0&&re("/"+$+" "+dr[$].objectNumber+" 0 R");Sr.publish("putShadingPatternDict"),re(">>")}},Hu=function($){if(Object.keys(dr).length>0){for(var Q in re("/Pattern <<"),dr)dr.hasOwnProperty(Q)&&dr[Q]instanceof m.TilingPattern&&dr[Q].objectNumber>=0&&dr[Q].objectNumber<$&&re("/"+Q+" "+dr[Q].objectNumber+" 0 R");Sr.publish("putTilingPatternDict"),re(">>")}},dw=function(){if(Object.keys(gn).length>0){var $;for($ in re("/ExtGState <<"),gn)gn.hasOwnProperty($)&&gn[$].objectNumber>=0&&re("/"+$+" "+gn[$].objectNumber+" 0 R");Sr.publish("putGStateDict"),re(">>")}},An=function($){Aa($.resourcesOid,!0),re("<<"),re("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),ix(),cw(),Hu($.objectOid),dw(),_m(),re(">>"),re("endobj")},ox=function(){var $=[];Uu(),ow(),qu(),Wu($),Sr.publish("putResources"),$.forEach(An),An({resourcesOid:Ai,objectOid:Number.MAX_SAFE_INTEGER}),Sr.publish("postPutResources")},lx=function(){Sr.publish("putAdditionalObjects");for(var $=0;$<we.length;$++){var Q=we[$];Aa(Q.objId,!0),re(Q.content),re("endobj")}Sr.publish("postPutAdditionalObjects")},cx=function($){kr[$.fontName]=kr[$.fontName]||{},kr[$.fontName][$.fontStyle]=$.id},Im=function($,Q,me,Se,ke){var We={id:"F"+(Object.keys(wr).length+1).toString(10),postScriptName:$,fontName:Q,fontStyle:me,encoding:Se,isStandardFont:ke||!1,metadata:{}};return Sr.publish("addFont",{font:We,instance:this}),wr[We.id]=We,cx(We),We.id},uw=function($){for(var Q=0,me=xe.length;Q<me;Q++){var Se=Im.call(this,$[Q][0],$[Q][1],$[Q][2],xe[Q][3],!0);u===!1&&(f[Se]=!0);var ke=$[Q][0].split("-");cx({id:Se,fontName:ke[0],fontStyle:ke[1]||""})}Sr.publish("addFonts",{fonts:wr,dictionary:kr})},Ti=function($){return $.foo=function(){try{return $.apply(this,arguments)}catch(Se){var Q=Se.stack||"";~Q.indexOf(" at ")&&(Q=Q.split(" at ")[1]);var me="Error in function "+Q.split(`
`)[0].split("<")[0]+": "+Se.message;if(!$t.console)throw new Error(me);$t.console.error(me,Se),$t.alert&&alert(me)}},$.foo.bar=$,$.foo},Gu=function($,Q){var me,Se,ke,We,tt,mt,Pt,Kt,Ht;if(ke=(Q=Q||{}).sourceEncoding||"Unicode",tt=Q.outputEncoding,(Q.autoencode||tt)&&wr[Bt].metadata&&wr[Bt].metadata[ke]&&wr[Bt].metadata[ke].encoding&&(We=wr[Bt].metadata[ke].encoding,!tt&&wr[Bt].encoding&&(tt=wr[Bt].encoding),!tt&&We.codePages&&(tt=We.codePages[0]),typeof tt=="string"&&(tt=We[tt]),tt)){for(Pt=!1,mt=[],me=0,Se=$.length;me<Se;me++)(Kt=tt[$.charCodeAt(me)])?mt.push(String.fromCharCode(Kt)):mt.push($[me]),mt[me].charCodeAt(0)>>8&&(Pt=!0);$=mt.join("")}for(me=$.length;Pt===void 0&&me!==0;)$.charCodeAt(me-1)>>8&&(Pt=!0),me--;if(!Pt)return $;for(mt=Q.noBOM?[]:[254,255],me=0,Se=$.length;me<Se;me++){if((Ht=(Kt=$.charCodeAt(me))>>8)>>8)throw new Error("Character at position "+me+" of string '"+$+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");mt.push(Ht),mt.push(Kt-(Ht<<8))}return String.fromCharCode.apply(void 0,mt)},aa=m.__private__.pdfEscape=m.pdfEscape=function($,Q){return Gu($,Q).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},km=m.__private__.beginPage=function($){je[++xn]=[],Wt[xn]={objId:0,contentsObjId:0,userUnit:Number(l),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number($[0]),topRightY:Number($[1])}},ux(xn),le(je[V])},dx=function($,Q){var me,Se,ke;switch(r=Q||r,typeof $=="string"&&(me=g($.toLowerCase()),Array.isArray(me)&&(Se=me[0],ke=me[1])),Array.isArray($)&&(Se=$[0]*lt,ke=$[1]*lt),isNaN(Se)&&(Se=a[0],ke=a[1]),(Se>14400||ke>14400)&&($r.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),Se=Math.min(14400,Se),ke=Math.min(14400,ke)),a=[Se,ke],r.substr(0,1)){case"l":ke>Se&&(a=[ke,Se]);break;case"p":Se>ke&&(a=[ke,Se])}km(a),gx(Rm),re(_i),$m!==0&&re($m+" J"),Mm!==0&&re(Mm+" j"),Sr.publish("addPage",{pageNumber:xn})},hw=function($){$>0&&$<=xn&&(je.splice($,1),Wt.splice($,1),xn--,V>xn&&(V=xn),this.setPage(V))},ux=function($){$>0&&$<=xn&&(V=$)},fw=m.__private__.getNumberOfPages=m.getNumberOfPages=function(){return je.length-1},hx=function($,Q,me){var Se,ke=void 0;return me=me||{},$=$!==void 0?$:wr[Bt].fontName,Q=Q!==void 0?Q:wr[Bt].fontStyle,Se=$.toLowerCase(),kr[Se]!==void 0&&kr[Se][Q]!==void 0?ke=kr[Se][Q]:kr[$]!==void 0&&kr[$][Q]!==void 0?ke=kr[$][Q]:me.disableWarning===!1&&$r.warn("Unable to look up font label for font '"+$+"', '"+Q+"'. Refer to getFontList() for available fonts."),ke||me.noFallback||(ke=kr.times[Q])==null&&(ke=kr.times.normal),ke},mw=m.__private__.putInfo=function(){var $=Wn(),Q=function(Se){return Se};for(var me in h!==null&&(Q=Ts.encryptor($,0)),re("<<"),re("/Producer ("+aa(Q("jsPDF "+Tt.version))+")"),St)St.hasOwnProperty(me)&&St[me]&&re("/"+me.substr(0,1).toUpperCase()+me.substr(1)+" ("+aa(Q(St[me]))+")");re("/CreationDate ("+aa(Q(F))+")"),re(">>"),re("endobj")},Dm=m.__private__.putCatalog=function($){var Q=($=$||{}).rootDictionaryObjId||el;switch(Wn(),re("<<"),re("/Type /Catalog"),re("/Pages "+Q+" 0 R"),nt||(nt="fullwidth"),nt){case"fullwidth":re("/OpenAction [3 0 R /FitH null]");break;case"fullheight":re("/OpenAction [3 0 R /FitV null]");break;case"fullpage":re("/OpenAction [3 0 R /Fit]");break;case"original":re("/OpenAction [3 0 R /XYZ null null 1]");break;default:var me=""+nt;me.substr(me.length-1)==="%"&&(nt=parseInt(nt)/100),typeof nt=="number"&&re("/OpenAction [3 0 R /XYZ null null "+k(nt)+"]")}switch(ht||(ht="continuous"),ht){case"continuous":re("/PageLayout /OneColumn");break;case"single":re("/PageLayout /SinglePage");break;case"two":case"twoleft":re("/PageLayout /TwoColumnLeft");break;case"tworight":re("/PageLayout /TwoColumnRight")}Me&&re("/PageMode /"+Me),Sr.publish("putCatalog"),re(">>"),re("endobj")},pw=m.__private__.putTrailer=function(){re("trailer"),re("<<"),re("/Size "+(te+1)),re("/Root "+te+" 0 R"),re("/Info "+(te-1)+" 0 R"),h!==null&&re("/Encrypt "+Ts.oid+" 0 R"),re("/ID [ <"+M+"> <"+M+"> ]"),re(">>")},vw=m.__private__.putHeader=function(){re("%PDF-"+v),re("%")},gw=m.__private__.putXRef=function(){var $="0000000000";re("xref"),re("0 "+(te+1)),re("0000000000 65535 f ");for(var Q=1;Q<=te;Q++)typeof he[Q]=="function"?re(($+he[Q]()).slice(-10)+" 00000 n "):he[Q]!==void 0?re(($+he[Q]).slice(-10)+" 00000 n "):re("0000000000 00000 n ")},tl=m.__private__.buildDocument=function(){ge(),le(fe),Sr.publish("buildDocument"),vw(),yd(),lx(),ox(),h!==null&&lw(),mw(),Dm();var $=oe;return gw(),pw(),re("startxref"),re(""+$),re("%%EOF"),le(je[V]),fe.join(`
`)},Ku=m.__private__.getBlob=function($){return new Blob([Ne($)],{type:"application/pdf"})},Yu=m.output=m.__private__.output=Ti(function($,Q){switch(typeof(Q=Q||{})=="string"?Q={filename:Q}:Q.filename=Q.filename||"generated.pdf",$){case void 0:return tl();case"save":m.save(Q.filename);break;case"arraybuffer":return Ne(tl());case"blob":return Ku(tl());case"bloburi":case"bloburl":if($t.URL!==void 0&&typeof $t.URL.createObjectURL=="function")return $t.URL&&$t.URL.createObjectURL(Ku(tl()))||void 0;$r.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var me="",Se=tl();try{me=SS(Se)}catch{me=SS(unescape(encodeURIComponent(Se)))}return"data:application/pdf;filename="+Q.filename+";base64,"+me;case"pdfobjectnewwindow":if(Object.prototype.toString.call($t)==="[object Window]"){var ke="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",We=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';Q.pdfObjectUrl&&(ke=Q.pdfObjectUrl,We="");var tt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+ke+'"'+We+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(Q)+");<\/script></body></html>",mt=$t.open();return mt!==null&&mt.document.write(tt),mt}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call($t)==="[object Window]"){var Pt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(Q.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+Q.filename+'" width="500px" height="400px" /></body></html>',Kt=$t.open();if(Kt!==null){Kt.document.write(Pt);var Ht=this;Kt.document.documentElement.querySelector("#pdfViewer").onload=function(){Kt.document.title=Q.filename,Kt.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(Ht.output("bloburl"))}}return Kt}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call($t)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var ur='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",Q)+'"></iframe></body></html>',dn=$t.open();if(dn!==null&&(dn.document.write(ur),dn.document.title=Q.filename),dn||typeof safari>"u")return dn;break;case"datauri":case"dataurl":return $t.document.location.href=this.output("datauristring",Q);default:return null}}),fx=function($){return Array.isArray(xd)===!0&&xd.indexOf($)>-1};switch(s){case"pt":lt=1;break;case"mm":lt=72/25.4;break;case"cm":lt=72/2.54;break;case"in":lt=72;break;case"px":lt=fx("px_scaling")==1?.75:96/72;break;case"pc":case"em":lt=12;break;case"ex":lt=6;break;default:if(typeof s!="number")throw new Error("Invalid unit: "+s);lt=s}var Ts=null;q(),B();var xw=function($){return h!==null?Ts.encryptor($,0):function(Q){return Q}},mx=m.__private__.getPageInfo=m.getPageInfo=function($){if(isNaN($)||$%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:Wt[$].objId,pageNumber:$,pageContext:Wt[$]}},qt=m.__private__.getPageInfoByObjId=function($){if(isNaN($)||$%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var Q in Wt)if(Wt[Q].objId===$)break;return mx(Q)},yw=m.__private__.getCurrentPageInfo=m.getCurrentPageInfo=function(){return{objId:Wt[V].objId,pageNumber:V,pageContext:Wt[V]}};m.addPage=function(){return dx.apply(this,arguments),this},m.setPage=function(){return ux.apply(this,arguments),le.call(this,je[V]),this},m.insertPage=function($){return this.addPage(),this.movePage(V,$),this},m.movePage=function($,Q){var me,Se;if($>Q){me=je[$],Se=Wt[$];for(var ke=$;ke>Q;ke--)je[ke]=je[ke-1],Wt[ke]=Wt[ke-1];je[Q]=me,Wt[Q]=Se,this.setPage(Q)}else if($<Q){me=je[$],Se=Wt[$];for(var We=$;We<Q;We++)je[We]=je[We+1],Wt[We]=Wt[We+1];je[Q]=me,Wt[Q]=Se,this.setPage(Q)}return this},m.deletePage=function(){return hw.apply(this,arguments),this},m.__private__.text=m.text=function($,Q,me,Se,ke){var We,tt,mt,Pt,Kt,Ht,ur,dn,yn,Rn=(Se=Se||{}).scope||this;if(typeof $=="number"&&typeof Q=="number"&&(typeof me=="string"||Array.isArray(me))){var _s=me;me=Q,Q=$,$=_s}if(arguments[3]instanceof Ot?(w("The transform parameter of text() with a Matrix value"),yn=ke):(mt=arguments[4],Pt=arguments[5],yr(ur=arguments[3])==="object"&&ur!==null||(typeof mt=="string"&&(Pt=mt,mt=null),typeof ur=="string"&&(Pt=ur,ur=null),typeof ur=="number"&&(mt=ur,ur=null),Se={flags:ur,angle:mt,align:Pt})),isNaN(Q)||isNaN(me)||$==null)throw new Error("Invalid arguments passed to jsPDF.text");if($.length===0)return Rn;var rs="",Ii=!1,Ea=typeof Se.lineHeightFactor=="number"?Se.lineHeightFactor:jd,yo=Rn.internal.scaleFactor;function Nx(Vr){return Vr=Vr.split("	").join(Array(Se.TabLen||9).join(" ")),aa(Vr,ur)}function qm(Vr){for(var qr,Pn=Vr.concat(),Hn=[],il=Pn.length;il--;)typeof(qr=Pn.shift())=="string"?Hn.push(qr):Array.isArray(Vr)&&(qr.length===1||qr[1]===void 0&&qr[2]===void 0)?Hn.push(qr[0]):Hn.push([qr[0],qr[1],qr[2]]);return Hn}function Wm(Vr,qr){var Pn;if(typeof Vr=="string")Pn=qr(Vr)[0];else if(Array.isArray(Vr)){for(var Hn,il,Zm=Vr.concat(),dh=[],Px=Zm.length;Px--;)typeof(Hn=Zm.shift())=="string"?dh.push(qr(Hn)[0]):Array.isArray(Hn)&&typeof Hn[0]=="string"&&(il=qr(Hn[0],Hn[1],Hn[2]),dh.push([il[0],il[1],il[2]]));Pn=dh}return Pn}var th=!1,Hm=!0;if(typeof $=="string")th=!0;else if(Array.isArray($)){var Gm=$.concat();tt=[];for(var rh,vs=Gm.length;vs--;)(typeof(rh=Gm.shift())!="string"||Array.isArray(rh)&&typeof rh[0]!="string")&&(Hm=!1);th=Hm}if(th===!1)throw new Error('Type of text must be string or Array. "'+$+'" is not recognized.');typeof $=="string"&&($=$.match(/[\r?\n]/)?$.split(/\r\n|\r|\n/g):[$]);var nh=Fe/Rn.internal.scaleFactor,sh=nh*(Ea-1);switch(Se.baseline){case"bottom":me-=sh;break;case"top":me+=nh-sh;break;case"hanging":me+=nh-2*sh;break;case"middle":me+=nh/2-sh}if((Ht=Se.maxWidth||0)>0&&(typeof $=="string"?$=Rn.splitTextToSize($,Ht):Object.prototype.toString.call($)==="[object Array]"&&($=$.reduce(function(Vr,qr){return Vr.concat(Rn.splitTextToSize(qr,Ht))},[]))),We={text:$,x:Q,y:me,options:Se,mutex:{pdfEscape:aa,activeFontKey:Bt,fonts:wr,activeFontSize:Fe}},Sr.publish("preProcessText",We),$=We.text,mt=(Se=We.options).angle,!(yn instanceof Ot)&&mt&&typeof mt=="number"){mt*=Math.PI/180,Se.rotationDirection===0&&(mt=-mt),y===b.ADVANCED&&(mt=-mt);var ah=Math.cos(mt),Km=Math.sin(mt);yn=new Ot(ah,Km,-Km,ah,0,0)}else mt&&mt instanceof Ot&&(yn=mt);y!==b.ADVANCED||yn||(yn=mo),(Kt=Se.charSpace||Ju)!==void 0&&(rs+=N(A(Kt))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(dn=Se.horizontalScale)!==void 0&&(rs+=N(100*dn)+` Tz
`),Se.lang;var ia=-1,Tw=Se.renderingMode!==void 0?Se.renderingMode:Se.stroke,Ym=Rn.internal.getCurrentPageInfo().pageContext;switch(Tw){case 0:case!1:case"fill":ia=0;break;case 1:case!0:case"stroke":ia=1;break;case 2:case"fillThenStroke":ia=2;break;case 3:case"invisible":ia=3;break;case 4:case"fillAndAddForClipping":ia=4;break;case 5:case"strokeAndAddPathForClipping":ia=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":ia=6;break;case 7:case"addToPathForClipping":ia=7}var Sx=Ym.usedRenderingMode!==void 0?Ym.usedRenderingMode:-1;ia!==-1?rs+=ia+` Tr
`:Sx!==-1&&(rs+=`0 Tr
`),ia!==-1&&(Ym.usedRenderingMode=ia),Pt=Se.align||"left";var Ya,ih=Fe*Ea,Cx=Rn.internal.pageSize.getWidth(),Ax=wr[Bt];Kt=Se.charSpace||Ju,Ht=Se.maxWidth||0,ur=Object.assign({autoencode:!0,noBOM:!0},Se.flags);var Ql=[],Sd=function(Vr){return Rn.getStringUnitWidth(Vr,{font:Ax,charSpace:Kt,fontSize:Fe,doKerning:!1})*Fe/yo};if(Object.prototype.toString.call($)==="[object Array]"){var oa;tt=qm($),Pt!=="left"&&(Ya=tt.map(Sd));var Ws,Jl=0;if(Pt==="right"){Q-=Ya[0],$=[],vs=tt.length;for(var nl=0;nl<vs;nl++)nl===0?(Ws=xo(Q),oa=rl(me)):(Ws=A(Jl-Ya[nl]),oa=-ih),$.push([tt[nl],Ws,oa]),Jl=Ya[nl]}else if(Pt==="center"){Q-=Ya[0]/2,$=[],vs=tt.length;for(var sl=0;sl<vs;sl++)sl===0?(Ws=xo(Q),oa=rl(me)):(Ws=A((Jl-Ya[sl])/2),oa=-ih),$.push([tt[sl],Ws,oa]),Jl=Ya[sl]}else if(Pt==="left"){$=[],vs=tt.length;for(var oh=0;oh<vs;oh++)$.push(tt[oh])}else if(Pt==="justify"&&Ax.encoding==="Identity-H"){$=[],vs=tt.length,Ht=Ht!==0?Ht:Cx;for(var al=0,En=0;En<vs;En++)if(oa=En===0?rl(me):-ih,Ws=En===0?xo(Q):al,En<vs-1){var Xm=A((Ht-Ya[En])/(tt[En].split(" ").length-1)),Hs=tt[En].split(" ");$.push([Hs[0]+" ",Ws,oa]),al=0;for(var Xa=1;Xa<Hs.length;Xa++){var lh=(Sd(Hs[Xa-1]+" "+Hs[Xa])-Sd(Hs[Xa]))*yo+Xm;Xa==Hs.length-1?$.push([Hs[Xa],lh,0]):$.push([Hs[Xa]+" ",lh,0]),al-=lh}}else $.push([tt[En],Ws,oa]);$.push(["",al,0])}else{if(Pt!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for($=[],vs=tt.length,Ht=Ht!==0?Ht:Cx,En=0;En<vs;En++)oa=En===0?rl(me):-ih,Ws=En===0?xo(Q):0,En<vs-1?Ql.push(N(A((Ht-Ya[En])/(tt[En].split(" ").length-1)))):Ql.push(0),$.push([tt[En],Ws,oa])}}var Ex=typeof Se.R2L=="boolean"?Se.R2L:gt;Ex===!0&&($=Wm($,function(Vr,qr,Pn){return[Vr.split("").reverse().join(""),qr,Pn]})),We={text:$,x:Q,y:me,options:Se,mutex:{pdfEscape:aa,activeFontKey:Bt,fonts:wr,activeFontSize:Fe}},Sr.publish("postProcessText",We),$=We.text,Ii=We.mutex.isHex||!1;var Qm=wr[Bt].encoding;Qm!=="WinAnsiEncoding"&&Qm!=="StandardEncoding"||($=Wm($,function(Vr,qr,Pn){return[Nx(Vr),qr,Pn]})),tt=qm($),$=[];for(var Cd,Ad,Zl,Ed=0,ch=1,Pd=Array.isArray(tt[0])?ch:Ed,ec="",Jm=function(Vr,qr,Pn){var Hn="";return Pn instanceof Ot?(Pn=typeof Se.angle=="number"?Ci(Pn,new Ot(1,0,0,1,Vr,qr)):Ci(new Ot(1,0,0,1,Vr,qr),Pn),y===b.ADVANCED&&(Pn=Ci(new Ot(1,0,0,-1,0,0),Pn)),Hn=Pn.join(" ")+` Tm
`):Hn=N(Vr)+" "+N(qr)+` Td
`,Hn},Qa=0;Qa<tt.length;Qa++){switch(ec="",Pd){case ch:Zl=(Ii?"<":"(")+tt[Qa][0]+(Ii?">":")"),Cd=parseFloat(tt[Qa][1]),Ad=parseFloat(tt[Qa][2]);break;case Ed:Zl=(Ii?"<":"(")+tt[Qa]+(Ii?">":")"),Cd=xo(Q),Ad=rl(me)}Ql!==void 0&&Ql[Qa]!==void 0&&(ec=Ql[Qa]+` Tw
`),Qa===0?$.push(ec+Jm(Cd,Ad,yn)+Zl):Pd===Ed?$.push(ec+Zl):Pd===ch&&$.push(ec+Jm(Cd,Ad,yn)+Zl)}$=Pd===Ed?$.join(` Tj
T* `):$.join(` Tj
`),$+=` Tj
`;var Ja=`BT
/`;return Ja+=Bt+" "+Fe+` Tf
`,Ja+=N(Fe*Ea)+` TL
`,Ja+=wd+`
`,Ja+=rs,Ja+=$,re(Ja+="ET"),f[Bt]=!0,Rn};var bw=m.__private__.clip=m.clip=function($){return re($==="evenodd"?"W*":"W"),this};m.clipEvenOdd=function(){return bw("evenodd")},m.__private__.discardPath=m.discardPath=function(){return re("n"),this};var go=m.__private__.isValidStyle=function($){var Q=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf($)!==-1&&(Q=!0),Q};m.__private__.setDefaultPathOperation=m.setDefaultPathOperation=function($){return go($)&&(d=$),this};var px=m.__private__.getStyle=m.getStyle=function($){var Q=d;switch($){case"D":case"S":Q="S";break;case"F":Q="f";break;case"FD":case"DF":Q="B";break;case"f":case"f*":case"B":case"B*":Q=$}return Q},vx=m.close=function(){return re("h"),this};m.stroke=function(){return re("S"),this},m.fill=function($){return Xu("f",$),this},m.fillEvenOdd=function($){return Xu("f*",$),this},m.fillStroke=function($){return Xu("B",$),this},m.fillStrokeEvenOdd=function($){return Xu("B*",$),this};var Xu=function($,Q){yr(Q)==="object"?ww(Q,$):re($)},Om=function($){$===null||y===b.ADVANCED&&$===void 0||($=px($),re($))};function jw($,Q,me,Se,ke){var We=new Yd(Q||this.boundingBox,me||this.xStep,Se||this.yStep,this.gState,ke||this.matrix);We.stream=this.stream;var tt=$+"$$"+this.cloneIndex+++"$$";return sa(tt,We),We}var ww=function($,Q){var me=Jo[$.key],Se=dr[me];if(Se instanceof wc)re("q"),re(Nw(Q)),Se.gState&&m.setGState(Se.gState),re($.matrix.toString()+" cm"),re("/"+me+" sh"),re("Q");else if(Se instanceof Yd){var ke=new Ot(1,0,0,-1,0,Xl());$.matrix&&(ke=ke.multiply($.matrix||mo),me=jw.call(Se,$.key,$.boundingBox,$.xStep,$.yStep,ke).id),re("q"),re("/Pattern cs"),re("/"+me+" scn"),Se.gState&&m.setGState(Se.gState),re(Q),re("Q")}},Nw=function($){switch($){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},Lm=m.moveTo=function($,Q){return re(N(A($))+" "+N(D(Q))+" m"),this},bd=m.lineTo=function($,Q){return re(N(A($))+" "+N(D(Q))+" l"),this},Kl=m.curveTo=function($,Q,me,Se,ke,We){return re([N(A($)),N(D(Q)),N(A(me)),N(D(Se)),N(A(ke)),N(D(We)),"c"].join(" ")),this};m.__private__.line=m.line=function($,Q,me,Se,ke){if(isNaN($)||isNaN(Q)||isNaN(me)||isNaN(Se)||!go(ke))throw new Error("Invalid arguments passed to jsPDF.line");return y===b.COMPAT?this.lines([[me-$,Se-Q]],$,Q,[1,1],ke||"S"):this.lines([[me-$,Se-Q]],$,Q,[1,1]).stroke()},m.__private__.lines=m.lines=function($,Q,me,Se,ke,We){var tt,mt,Pt,Kt,Ht,ur,dn,yn,Rn,_s,rs,Ii;if(typeof $=="number"&&(Ii=me,me=Q,Q=$,$=Ii),Se=Se||[1,1],We=We||!1,isNaN(Q)||isNaN(me)||!Array.isArray($)||!Array.isArray(Se)||!go(ke)||typeof We!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Lm(Q,me),tt=Se[0],mt=Se[1],Kt=$.length,_s=Q,rs=me,Pt=0;Pt<Kt;Pt++)(Ht=$[Pt]).length===2?(_s=Ht[0]*tt+_s,rs=Ht[1]*mt+rs,bd(_s,rs)):(ur=Ht[0]*tt+_s,dn=Ht[1]*mt+rs,yn=Ht[2]*tt+_s,Rn=Ht[3]*mt+rs,_s=Ht[4]*tt+_s,rs=Ht[5]*mt+rs,Kl(ur,dn,yn,Rn,_s,rs));return We&&vx(),Om(ke),this},m.path=function($){for(var Q=0;Q<$.length;Q++){var me=$[Q],Se=me.c;switch(me.op){case"m":Lm(Se[0],Se[1]);break;case"l":bd(Se[0],Se[1]);break;case"c":Kl.apply(this,Se);break;case"h":vx()}}return this},m.__private__.rect=m.rect=function($,Q,me,Se,ke){if(isNaN($)||isNaN(Q)||isNaN(me)||isNaN(Se)||!go(ke))throw new Error("Invalid arguments passed to jsPDF.rect");return y===b.COMPAT&&(Se=-Se),re([N(A($)),N(D(Q)),N(A(me)),N(A(Se)),"re"].join(" ")),Om(ke),this},m.__private__.triangle=m.triangle=function($,Q,me,Se,ke,We,tt){if(isNaN($)||isNaN(Q)||isNaN(me)||isNaN(Se)||isNaN(ke)||isNaN(We)||!go(tt))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[me-$,Se-Q],[ke-me,We-Se],[$-ke,Q-We]],$,Q,[1,1],tt,!0),this},m.__private__.roundedRect=m.roundedRect=function($,Q,me,Se,ke,We,tt){if(isNaN($)||isNaN(Q)||isNaN(me)||isNaN(Se)||isNaN(ke)||isNaN(We)||!go(tt))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var mt=4/3*(Math.SQRT2-1);return ke=Math.min(ke,.5*me),We=Math.min(We,.5*Se),this.lines([[me-2*ke,0],[ke*mt,0,ke,We-We*mt,ke,We],[0,Se-2*We],[0,We*mt,-ke*mt,We,-ke,We],[2*ke-me,0],[-ke*mt,0,-ke,-We*mt,-ke,-We],[0,2*We-Se],[0,-We*mt,ke*mt,-We,ke,-We]],$+ke,Q,[1,1],tt,!0),this},m.__private__.ellipse=m.ellipse=function($,Q,me,Se,ke){if(isNaN($)||isNaN(Q)||isNaN(me)||isNaN(Se)||!go(ke))throw new Error("Invalid arguments passed to jsPDF.ellipse");var We=4/3*(Math.SQRT2-1)*me,tt=4/3*(Math.SQRT2-1)*Se;return Lm($+me,Q),Kl($+me,Q-tt,$+We,Q-Se,$,Q-Se),Kl($-We,Q-Se,$-me,Q-tt,$-me,Q),Kl($-me,Q+tt,$-We,Q+Se,$,Q+Se),Kl($+We,Q+Se,$+me,Q+tt,$+me,Q),Om(ke),this},m.__private__.circle=m.circle=function($,Q,me,Se){if(isNaN($)||isNaN(Q)||isNaN(me)||!go(Se))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse($,Q,me,me,Se)},m.setFont=function($,Q,me){return me&&(Q=S(Q,me)),Bt=hx($,Q,{disableWarning:!1}),this};var Sw=m.__private__.getFont=m.getFont=function(){return wr[hx.apply(m,arguments)]};m.__private__.getFontList=m.getFontList=function(){var $,Q,me={};for($ in kr)if(kr.hasOwnProperty($))for(Q in me[$]=[],kr[$])kr[$].hasOwnProperty(Q)&&me[$].push(Q);return me},m.addFont=function($,Q,me,Se,ke){var We=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&We.indexOf(arguments[3])!==-1?ke=arguments[3]:arguments[3]&&We.indexOf(arguments[3])==-1&&(me=S(me,Se)),ke=ke||"Identity-H",Im.call(this,$,Q,me,ke)};var jd,Rm=e.lineWidth||.200025,Qu=m.__private__.getLineWidth=m.getLineWidth=function(){return Rm},gx=m.__private__.setLineWidth=m.setLineWidth=function($){return Rm=$,re(N(A($))+" w"),this};m.__private__.setLineDash=Tt.API.setLineDash=Tt.API.setLineDashPattern=function($,Q){if($=$||[],Q=Q||0,isNaN(Q)||!Array.isArray($))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return $=$.map(function(me){return N(A(me))}).join(" "),Q=N(A(Q)),re("["+$+"] "+Q+" d"),this};var xx=m.__private__.getLineHeight=m.getLineHeight=function(){return Fe*jd};m.__private__.getLineHeight=m.getLineHeight=function(){return Fe*jd};var yx=m.__private__.setLineHeightFactor=m.setLineHeightFactor=function($){return typeof($=$||1.15)=="number"&&(jd=$),this},bx=m.__private__.getLineHeightFactor=m.getLineHeightFactor=function(){return jd};yx(e.lineHeight);var xo=m.__private__.getHorizontalCoordinate=function($){return A($)},rl=m.__private__.getVerticalCoordinate=function($){return y===b.ADVANCED?$:Wt[V].mediaBox.topRightY-Wt[V].mediaBox.bottomLeftY-A($)},Cw=m.__private__.getHorizontalCoordinateString=m.getHorizontalCoordinateString=function($){return N(xo($))},Yl=m.__private__.getVerticalCoordinateString=m.getVerticalCoordinateString=function($){return N(rl($))},_i=e.strokeColor||"0 G";m.__private__.getStrokeColor=m.getDrawColor=function(){return Ei(_i)},m.__private__.setStrokeColor=m.setDrawColor=function($,Q,me,Se){return _i=Pi({ch1:$,ch2:Q,ch3:me,ch4:Se,pdfColorType:"draw",precision:2}),re(_i),this};var Fm=e.fillColor||"0 g";m.__private__.getFillColor=m.getFillColor=function(){return Ei(Fm)},m.__private__.setFillColor=m.setFillColor=function($,Q,me,Se){return Fm=Pi({ch1:$,ch2:Q,ch3:me,ch4:Se,pdfColorType:"fill",precision:2}),re(Fm),this};var wd=e.textColor||"0 g",Aw=m.__private__.getTextColor=m.getTextColor=function(){return Ei(wd)};m.__private__.setTextColor=m.setTextColor=function($,Q,me,Se){return wd=Pi({ch1:$,ch2:Q,ch3:me,ch4:Se,pdfColorType:"text",precision:3}),this};var Ju=e.charSpace,Ew=m.__private__.getCharSpace=m.getCharSpace=function(){return parseFloat(Ju||0)};m.__private__.setCharSpace=m.setCharSpace=function($){if(isNaN($))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Ju=$,this};var $m=0;m.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},m.__private__.setLineCap=m.setLineCap=function($){var Q=m.CapJoinStyles[$];if(Q===void 0)throw new Error("Line cap style of '"+$+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return $m=Q,re(Q+" J"),this};var Mm=0;m.__private__.setLineJoin=m.setLineJoin=function($){var Q=m.CapJoinStyles[$];if(Q===void 0)throw new Error("Line join style of '"+$+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Mm=Q,re(Q+" j"),this},m.__private__.setLineMiterLimit=m.__private__.setMiterLimit=m.setLineMiterLimit=m.setMiterLimit=function($){if($=$||0,isNaN($))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return re(N(A($))+" M"),this},m.GState=Vv,m.setGState=function($){($=typeof $=="string"?gn[Si[$]]:jx(null,$)).equals(Zo)||(re("/"+$.id+" gs"),Zo=$)};var jx=function($,Q){if(!$||!Si[$]){var me=!1;for(var Se in gn)if(gn.hasOwnProperty(Se)&&gn[Se].equals(Q)){me=!0;break}if(me)Q=gn[Se];else{var ke="GS"+(Object.keys(gn).length+1).toString(10);gn[ke]=Q,Q.id=ke}return $&&(Si[$]=Q.id),Sr.publish("addGState",Q),Q}};m.addGState=function($,Q){return jx($,Q),this},m.saveGraphicsState=function(){return re("q"),na.push({key:Bt,size:Fe,color:wd}),this},m.restoreGraphicsState=function(){re("Q");var $=na.pop();return Bt=$.key,Fe=$.size,wd=$.color,Zo=null,this},m.setCurrentTransformationMatrix=function($){return re($.toString()+" cm"),this},m.comment=function($){return re("#"+$),this};var Zu=function($,Q){var me=$||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return me},set:function(We){isNaN(We)||(me=parseFloat(We))}});var Se=Q||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return Se},set:function(We){isNaN(We)||(Se=parseFloat(We))}});var ke="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return ke},set:function(We){ke=We.toString()}}),this},Bm=function($,Q,me,Se){Zu.call(this,$,Q),this.type="rect";var ke=me||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return ke},set:function(tt){isNaN(tt)||(ke=parseFloat(tt))}});var We=Se||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return We},set:function(tt){isNaN(tt)||(We=parseFloat(tt))}}),this},zm=function(){this.page=xn,this.currentPage=V,this.pages=je.slice(0),this.pagesContext=Wt.slice(0),this.x=jr,this.y=Xt,this.matrix=qn,this.width=Nd(V),this.height=Xl(V),this.outputDestination=Le,this.id="",this.objectNumber=-1};zm.prototype.restore=function(){xn=this.page,V=this.currentPage,Wt=this.pagesContext,je=this.pages,jr=this.x,Xt=this.y,qn=this.matrix,Um(V,this.width),Vm(V,this.height),Le=this.outputDestination};var wx=function($,Q,me,Se,ke){fo.push(new zm),xn=V=0,je=[],jr=$,Xt=Q,qn=ke,km([me,Se])},Pw=function($){if(ho[$])fo.pop().restore();else{var Q=new zm,me="Xo"+(Object.keys(ps).length+1).toString(10);Q.id=me,ho[$]=me,ps[me]=Q,Sr.publish("addFormObject",Q),fo.pop().restore()}};for(var eh in m.beginFormObject=function($,Q,me,Se,ke){return wx($,Q,me,Se,ke),this},m.endFormObject=function($){return Pw($),this},m.doFormObject=function($,Q){var me=ps[ho[$]];return re("q"),re(Q.toString()+" cm"),re("/"+me.id+" Do"),re("Q"),this},m.getFormObject=function($){var Q=ps[ho[$]];return{x:Q.x,y:Q.y,width:Q.width,height:Q.height,matrix:Q.matrix}},m.save=function($,Q){return $=$||"generated.pdf",(Q=Q||{}).returnPromise=Q.returnPromise||!1,Q.returnPromise===!1?(Rd(Ku(tl()),$),typeof Rd.unload=="function"&&$t.setTimeout&&setTimeout(Rd.unload,911),this):new Promise(function(me,Se){try{var ke=Rd(Ku(tl()),$);typeof Rd.unload=="function"&&$t.setTimeout&&setTimeout(Rd.unload,911),me(ke)}catch(We){Se(We.message)}})},Tt.API)Tt.API.hasOwnProperty(eh)&&(eh==="events"&&Tt.API.events.length?function($,Q){var me,Se,ke;for(ke=Q.length-1;ke!==-1;ke--)me=Q[ke][0],Se=Q[ke][1],$.subscribe.apply($,[me].concat(typeof Se=="function"?[Se]:Se))}(Sr,Tt.API.events):m[eh]=Tt.API[eh]);var Nd=m.getPageWidth=function($){return(Wt[$=$||V].mediaBox.topRightX-Wt[$].mediaBox.bottomLeftX)/lt},Um=m.setPageWidth=function($,Q){Wt[$].mediaBox.topRightX=Q*lt+Wt[$].mediaBox.bottomLeftX},Xl=m.getPageHeight=function($){return(Wt[$=$||V].mediaBox.topRightY-Wt[$].mediaBox.bottomLeftY)/lt},Vm=m.setPageHeight=function($,Q){Wt[$].mediaBox.topRightY=Q*lt+Wt[$].mediaBox.bottomLeftY};return m.internal={pdfEscape:aa,getStyle:px,getFont:Sw,getFontSize:rt,getCharSpace:Ew,getTextColor:Aw,getLineHeight:xx,getLineHeightFactor:bx,getLineWidth:Qu,write:Ce,getHorizontalCoordinate:xo,getVerticalCoordinate:rl,getCoordinateString:Cw,getVerticalCoordinateString:Yl,collections:{},newObject:Wn,newAdditionalObject:Bu,newObjectDeferred:Ln,newObjectDeferredBegin:Aa,getFilters:po,putStream:Ka,events:Sr,scaleFactor:lt,pageSize:{getWidth:function(){return Nd(V)},setWidth:function($){Um(V,$)},getHeight:function(){return Xl(V)},setHeight:function($){Vm(V,$)}},encryptionOptions:h,encryption:Ts,getEncryptor:xw,output:Yu,getNumberOfPages:fw,pages:je,out:re,f2:k,f3:T,getPageInfo:mx,getPageInfoByObjId:qt,getCurrentPageInfo:yw,getPDFVersion:x,Point:Zu,Rectangle:Bm,Matrix:Ot,hasHotfix:fx},Object.defineProperty(m.internal.pageSize,"width",{get:function(){return Nd(V)},set:function($){Um(V,$)},enumerable:!0,configurable:!0}),Object.defineProperty(m.internal.pageSize,"height",{get:function(){return Xl(V)},set:function($){Vm(V,$)},enumerable:!0,configurable:!0}),uw.call(m,xe),Bt="F1",dx(a,r),Sr.publish("initialized"),m}Ih.prototype.lsbFirstWord=function(e){return String.fromCharCode(e>>0&255,e>>8&255,e>>16&255,e>>24&255)},Ih.prototype.toHexString=function(e){return e.split("").map(function(t){return("0"+(255&t.charCodeAt(0)).toString(16)).slice(-2)}).join("")},Ih.prototype.hexToBytes=function(e){for(var t=[],r=0;r<e.length;r+=2)t.push(String.fromCharCode(parseInt(e.substr(r,2),16)));return t.join("")},Ih.prototype.processOwnerPassword=function(e,t){return AS(CS(t).substr(0,5),e)},Ih.prototype.encryptor=function(e,t){var r=CS(this.encryptionKey+String.fromCharCode(255&e,e>>8&255,e>>16&255,255&t,t>>8&255)).substr(0,10);return function(s){return AS(r,s)}},Vv.prototype.equals=function(e){var t,r="id,objectNumber,equals";if(!e||yr(e)!==yr(this))return!1;var s=0;for(t in this)if(!(r.indexOf(t)>=0)){if(this.hasOwnProperty(t)&&!e.hasOwnProperty(t)||this[t]!==e[t])return!1;s++}for(t in e)e.hasOwnProperty(t)&&r.indexOf(t)<0&&s--;return s===0},Tt.API={events:[]},Tt.version="2.5.2";var jn=Tt.API,fE=1,Ou=function(e){return e.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},bh=function(e){return e.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Gt=function(e){return e.toFixed(2)},uc=function(e){return e.toFixed(5)};jn.__acroform__={};var Sa=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e},SI=function(e){return e*fE},No=function(e){var t=new tB,r=wt.internal.getHeight(e)||0,s=wt.internal.getWidth(e)||0;return t.BBox=[0,0,Number(Gt(s)),Number(Gt(r))],t},Ele=jn.__acroform__.setBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return e|=1<<t},Ple=jn.__acroform__.clearBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return e&=~(1<<t)},Tle=jn.__acroform__.getBit=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return e&1<<t?1:0},_n=jn.__acroform__.getBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return Tle(e,t-1)},In=jn.__acroform__.setBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return Ele(e,t-1)},kn=jn.__acroform__.clearBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return Ple(e,t-1)},_le=jn.__acroform__.calculateCoordinates=function(e,t){var r=t.internal.getHorizontalCoordinate,s=t.internal.getVerticalCoordinate,a=e[0],i=e[1],o=e[2],l=e[3],c={};return c.lowerLeft_X=r(a)||0,c.lowerLeft_Y=s(i+l)||0,c.upperRight_X=r(a+o)||0,c.upperRight_Y=s(i)||0,[Number(Gt(c.lowerLeft_X)),Number(Gt(c.lowerLeft_Y)),Number(Gt(c.upperRight_X)),Number(Gt(c.upperRight_Y))]},Ile=function(e){if(e.appearanceStreamContent)return e.appearanceStreamContent;if(e.V||e.DV){var t=[],r=e._V||e.DV,s=ES(e,r),a=e.scope.internal.getFont(e.fontName,e.fontStyle).id;t.push("/Tx BMC"),t.push("q"),t.push("BT"),t.push(e.scope.__private__.encodeColorString(e.color)),t.push("/"+a+" "+Gt(s.fontSize)+" Tf"),t.push("1 0 0 1 0 0 Tm"),t.push(s.text),t.push("ET"),t.push("Q"),t.push("EMC");var i=No(e);return i.scope=e.scope,i.stream=t.join(`
`),i}},ES=function(e,t){var r=e.fontSize===0?e.maxFontSize:e.fontSize,s={text:"",fontSize:""},a=(t=(t=t.substr(0,1)=="("?t.substr(1):t).substr(t.length-1)==")"?t.substr(0,t.length-1):t).split(" ");a=e.multiline?a.map(function(T){return T.split(`
`)}):a.map(function(T){return[T]});var i=r,o=wt.internal.getHeight(e)||0;o=o<0?-o:o;var l=wt.internal.getWidth(e)||0;l=l<0?-l:l;var c=function(T,A,O){if(T+1<a.length){var D=A+" "+a[T+1][0];return E0(D,e,O).width<=l-4}return!1};i++;e:for(;i>0;){t="",i--;var d,h,u=E0("3",e,i).height,f=e.multiline?o-i:(o-u)/2,m=f+=2,v=0,x=0,p=0;if(i<=0){t=`(...) Tj
`,t+="% Width of Text: "+E0(t,e,i=12).width+", FieldWidth:"+l+`
`;break}for(var g="",b=0,y=0;y<a.length;y++)if(a.hasOwnProperty(y)){var j=!1;if(a[y].length!==1&&p!==a[y].length-1){if((u+2)*(b+2)+2>o)continue e;g+=a[y][p],j=!0,x=y,y--}else{g=(g+=a[y][p]+" ").substr(g.length-1)==" "?g.substr(0,g.length-1):g;var E=parseInt(y),S=c(E,g,i),N=y>=a.length-1;if(S&&!N){g+=" ",p=0;continue}if(S||N){if(N)x=E;else if(e.multiline&&(u+2)*(b+2)+2>o)continue e}else{if(!e.multiline||(u+2)*(b+2)+2>o)continue e;x=E}}for(var w="",_=v;_<=x;_++){var k=a[_];if(e.multiline){if(_===x){w+=k[p]+" ",p=(p+1)%k.length;continue}if(_===v){w+=k[k.length-1]+" ";continue}}w+=k[0]+" "}switch(w=w.substr(w.length-1)==" "?w.substr(0,w.length-1):w,h=E0(w,e,i).width,e.textAlign){case"right":d=l-h-2;break;case"center":d=(l-h)/2;break;case"left":default:d=2}t+=Gt(d)+" "+Gt(m)+` Td
`,t+="("+Ou(w)+`) Tj
`,t+=-Gt(d)+` 0 Td
`,m=-(i+2),h=0,v=j?x:x+1,b++,g=""}break}return s.text=t,s.fontSize=i,s},E0=function(e,t,r){var s=t.scope.internal.getFont(t.fontName,t.fontStyle),a=t.scope.getStringUnitWidth(e,{font:s,fontSize:parseFloat(r),charSpace:0})*parseFloat(r);return{height:t.scope.getStringUnitWidth("3",{font:s,fontSize:parseFloat(r),charSpace:0})*parseFloat(r)*1.5,width:a}},kle={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},Dle=function(e,t){var r={type:"reference",object:e};t.internal.getPageInfo(e.page).pageContext.annotations.find(function(s){return s.type===r.type&&s.object===r.object})===void 0&&t.internal.getPageInfo(e.page).pageContext.annotations.push(r)},Ole=function(e,t){for(var r in e)if(e.hasOwnProperty(r)){var s=r,a=e[r];t.internal.newObjectDeferredBegin(a.objId,!0),yr(a)==="object"&&typeof a.putStream=="function"&&a.putStream(),delete e[s]}},Lle=function(e,t){if(t.scope=e,e.internal!==void 0&&(e.internal.acroformPlugin===void 0||e.internal.acroformPlugin.isInitialized===!1)){if(lo.FieldNum=0,e.internal.acroformPlugin=JSON.parse(JSON.stringify(kle)),e.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");fE=e.internal.scaleFactor,e.internal.acroformPlugin.acroFormDictionaryRoot=new rB,e.internal.acroformPlugin.acroFormDictionaryRoot.scope=e,e.internal.acroformPlugin.acroFormDictionaryRoot._eventID=e.internal.events.subscribe("postPutResources",function(){(function(r){r.internal.events.unsubscribe(r.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete r.internal.acroformPlugin.acroFormDictionaryRoot._eventID,r.internal.acroformPlugin.printedOut=!0})(e)}),e.internal.events.subscribe("buildDocument",function(){(function(r){r.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var s=r.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var a in s)if(s.hasOwnProperty(a)){var i=s[a];i.objId=void 0,i.hasAnnotation&&Dle(i,r)}})(e)}),e.internal.events.subscribe("putCatalog",function(){(function(r){if(r.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");r.internal.write("/AcroForm "+r.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(e)}),e.internal.events.subscribe("postPutPages",function(r){(function(s,a){var i=!s;for(var o in s||(a.internal.newObjectDeferredBegin(a.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),a.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),s=s||a.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(s.hasOwnProperty(o)){var l=s[o],c=[],d=l.Rect;if(l.Rect&&(l.Rect=_le(l.Rect,a)),a.internal.newObjectDeferredBegin(l.objId,!0),l.DA=wt.createDefaultAppearanceStream(l),yr(l)==="object"&&typeof l.getKeyValueListForStream=="function"&&(c=l.getKeyValueListForStream()),l.Rect=d,l.hasAppearanceStream&&!l.appearanceStreamContent){var h=Ile(l);c.push({key:"AP",value:"<</N "+h+">>"}),a.internal.acroformPlugin.xForms.push(h)}if(l.appearanceStreamContent){var u="";for(var f in l.appearanceStreamContent)if(l.appearanceStreamContent.hasOwnProperty(f)){var m=l.appearanceStreamContent[f];if(u+="/"+f+" ",u+="<<",Object.keys(m).length>=1||Array.isArray(m)){for(var o in m)if(m.hasOwnProperty(o)){var v=m[o];typeof v=="function"&&(v=v.call(a,l)),u+="/"+o+" "+v+" ",a.internal.acroformPlugin.xForms.indexOf(v)>=0||a.internal.acroformPlugin.xForms.push(v)}}else typeof(v=m)=="function"&&(v=v.call(a,l)),u+="/"+o+" "+v,a.internal.acroformPlugin.xForms.indexOf(v)>=0||a.internal.acroformPlugin.xForms.push(v);u+=">>"}c.push({key:"AP",value:`<<
`+u+">>"})}a.internal.putStream({additionalKeyValues:c,objectId:l.objId}),a.internal.out("endobj")}i&&Ole(a.internal.acroformPlugin.xForms,a)})(r,e)}),e.internal.acroformPlugin.isInitialized=!0}},eB=jn.__acroform__.arrayToPdfArray=function(e,t,r){var s=function(o){return o};if(Array.isArray(e)){for(var a="[",i=0;i<e.length;i++)switch(i!==0&&(a+=" "),yr(e[i])){case"boolean":case"number":case"object":a+=e[i].toString();break;case"string":e[i].substr(0,1)!=="/"?(t!==void 0&&r&&(s=r.internal.getEncryptor(t)),a+="("+Ou(s(e[i].toString()))+")"):a+=e[i].toString()}return a+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},sN=function(e,t,r){var s=function(a){return a};return t!==void 0&&r&&(s=r.internal.getEncryptor(t)),(e=e||"").toString(),e="("+Ou(s(e))+")"},Do=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(e){this._objId=e}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Do.prototype.toString=function(){return this.objId+" 0 R"},Do.prototype.putStream=function(){var e=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:e,objectId:this.objId}),this.scope.internal.out("endobj")},Do.prototype.getKeyValueListForStream=function(){var e=[],t=Object.getOwnPropertyNames(this).filter(function(i){return i!="content"&&i!="appearanceStreamContent"&&i!="scope"&&i!="objId"&&i.substring(0,1)!="_"});for(var r in t)if(Object.getOwnPropertyDescriptor(this,t[r]).configurable===!1){var s=t[r],a=this[s];a&&(Array.isArray(a)?e.push({key:s,value:eB(a,this.objId,this.scope)}):a instanceof Do?(a.scope=this.scope,e.push({key:s,value:a.objId+" 0 R"})):typeof a!="function"&&e.push({key:s,value:a}))}return e};var tB=function(){Do.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var e,t=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(r){e=r.trim()},get:function(){return e||null}})};Sa(tB,Do);var rB=function(){Do.call(this);var e,t=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return t.length>0?t:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return t}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(e){var r=function(s){return s};return this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),"("+Ou(r(e))+")"}},set:function(r){e=r}})};Sa(rB,Do);var lo=function e(){Do.call(this);var t=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return t},set:function(g){if(isNaN(g))throw new Error('Invalid value "'+g+'" for attribute F supplied.');t=g}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!_n(t,3)},set:function(g){g?this.F=In(t,3):this.F=kn(t,3)}});var r=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return r},set:function(g){if(isNaN(g))throw new Error('Invalid value "'+g+'" for attribute Ff supplied.');r=g}});var s=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(s.length!==0)return s},set:function(g){s=g!==void 0?g:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!s||isNaN(s[0])?0:s[0]},set:function(g){s[0]=g}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!s||isNaN(s[1])?0:s[1]},set:function(g){s[1]=g}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!s||isNaN(s[2])?0:s[2]},set:function(g){s[2]=g}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!s||isNaN(s[3])?0:s[3]},set:function(g){s[3]=g}});var a="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return a},set:function(g){switch(g){case"/Btn":case"/Tx":case"/Ch":case"/Sig":a=g;break;default:throw new Error('Invalid value "'+g+'" for attribute FT supplied.')}}});var i=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!i||i.length<1){if(this instanceof ob)return;i="FieldObject"+e.FieldNum++}var g=function(b){return b};return this.scope&&(g=this.scope.internal.getEncryptor(this.objId)),"("+Ou(g(i))+")"},set:function(g){i=g.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return i},set:function(g){i=g}});var o="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return o},set:function(g){o=g}});var l="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return l},set:function(g){l=g}});var c=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return c},set:function(g){c=g}});var d=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return d===void 0?50/fE:d},set:function(g){d=g}});var h="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return h},set:function(g){h=g}});var u="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!u||this instanceof ob||this instanceof Wc))return sN(u,this.objId,this.scope)},set:function(g){g=g.toString(),u=g}});var f=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(f)return this instanceof Qn?f:sN(f,this.objId,this.scope)},set:function(g){g=g.toString(),f=this instanceof Qn?g:g.substr(0,1)==="("?bh(g.substr(1,g.length-2)):bh(g)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Qn?bh(f.substr(1,f.length-1)):f},set:function(g){g=g.toString(),f=this instanceof Qn?"/"+g:g}});var m=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(m)return m},set:function(g){this.V=g}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(m)return this instanceof Qn?m:sN(m,this.objId,this.scope)},set:function(g){g=g.toString(),m=this instanceof Qn?g:g.substr(0,1)==="("?bh(g.substr(1,g.length-2)):bh(g)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Qn?bh(m.substr(1,m.length-1)):m},set:function(g){g=g.toString(),m=this instanceof Qn?"/"+g:g}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var v,x=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return x},set:function(g){g=!!g,x=g}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(v)return v},set:function(g){v=g}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!_n(this.Ff,1)},set:function(g){g?this.Ff=In(this.Ff,1):this.Ff=kn(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!_n(this.Ff,2)},set:function(g){g?this.Ff=In(this.Ff,2):this.Ff=kn(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!_n(this.Ff,3)},set:function(g){g?this.Ff=In(this.Ff,3):this.Ff=kn(this.Ff,3)}});var p=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(p!==null)return p},set:function(g){if([0,1,2].indexOf(g)===-1)throw new Error('Invalid value "'+g+'" for attribute Q supplied.');p=g}}),Object.defineProperty(this,"textAlign",{get:function(){var g;switch(p){case 0:default:g="left";break;case 1:g="center";break;case 2:g="right"}return g},configurable:!0,enumerable:!0,set:function(g){switch(g){case"right":case 2:p=2;break;case"center":case 1:p=1;break;case"left":case 0:default:p=0}}})};Sa(lo,Do);var au=function(){lo.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var e=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return e},set:function(r){e=r}});var t=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return eB(t,this.objId,this.scope)},set:function(r){var s,a;a=[],typeof(s=r)=="string"&&(a=function(i,o,l){l||(l=1);for(var c,d=[];c=o.exec(i);)d.push(c[l]);return d}(s,/\((.*?)\)/g)),t=a}}),this.getOptions=function(){return t},this.setOptions=function(r){t=r,this.sort&&t.sort()},this.addOption=function(r){r=(r=r||"").toString(),t.push(r),this.sort&&t.sort()},this.removeOption=function(r,s){for(s=s||!1,r=(r=r||"").toString();t.indexOf(r)!==-1&&(t.splice(t.indexOf(r),1),s!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!_n(this.Ff,18)},set:function(r){r?this.Ff=In(this.Ff,18):this.Ff=kn(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!_n(this.Ff,19)},set:function(r){this.combo===!0&&(r?this.Ff=In(this.Ff,19):this.Ff=kn(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!_n(this.Ff,20)},set:function(r){r?(this.Ff=In(this.Ff,20),t.sort()):this.Ff=kn(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!_n(this.Ff,22)},set:function(r){r?this.Ff=In(this.Ff,22):this.Ff=kn(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!_n(this.Ff,23)},set:function(r){r?this.Ff=In(this.Ff,23):this.Ff=kn(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!_n(this.Ff,27)},set:function(r){r?this.Ff=In(this.Ff,27):this.Ff=kn(this.Ff,27)}}),this.hasAppearanceStream=!1};Sa(au,lo);var iu=function(){au.call(this),this.fontName="helvetica",this.combo=!1};Sa(iu,au);var ou=function(){iu.call(this),this.combo=!0};Sa(ou,iu);var Jp=function(){ou.call(this),this.edit=!0};Sa(Jp,ou);var Qn=function(){lo.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!_n(this.Ff,15)},set:function(r){r?this.Ff=In(this.Ff,15):this.Ff=kn(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!_n(this.Ff,16)},set:function(r){r?this.Ff=In(this.Ff,16):this.Ff=kn(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!_n(this.Ff,17)},set:function(r){r?this.Ff=In(this.Ff,17):this.Ff=kn(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!_n(this.Ff,26)},set:function(r){r?this.Ff=In(this.Ff,26):this.Ff=kn(this.Ff,26)}});var e,t={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var r=function(i){return i};if(this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),Object.keys(t).length!==0){var s,a=[];for(s in a.push("<<"),t)a.push("/"+s+" ("+Ou(r(t[s]))+")");return a.push(">>"),a.join(`
`)}},set:function(r){yr(r)==="object"&&(t=r)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return t.CA||""},set:function(r){typeof r=="string"&&(t.CA=r)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(r){e="/"+r}})};Sa(Qn,lo);var Zp=function(){Qn.call(this),this.pushButton=!0};Sa(Zp,Qn);var lu=function(){Qn.call(this),this.radio=!0,this.pushButton=!1;var e=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t!==void 0?t:[]}})};Sa(lu,Qn);var ob=function(){var e,t;lo.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return e},set:function(a){e=a}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return t},set:function(a){t=a}});var r,s={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var a=function(l){return l};this.scope&&(a=this.scope.internal.getEncryptor(this.objId));var i,o=[];for(i in o.push("<<"),s)o.push("/"+i+" ("+Ou(a(s[i]))+")");return o.push(">>"),o.join(`
`)},set:function(a){yr(a)==="object"&&(s=a)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return s.CA||""},set:function(a){typeof a=="string"&&(s.CA=a)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(a){r=a}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(a){r="/"+a}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=wt.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Sa(ob,lo),lu.prototype.setAppearance=function(e){if(!("createAppearanceStream"in e)||!("getCA"in e))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var t in this.Kids)if(this.Kids.hasOwnProperty(t)){var r=this.Kids[t];r.appearanceStreamContent=e.createAppearanceStream(r.optionName),r.caption=e.getCA()}},lu.prototype.createOption=function(e){var t=new ob;return t.Parent=this,t.optionName=e,this.Kids.push(t),Rle.call(this.scope,t),t};var ev=function(){Qn.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=wt.CheckBox.createAppearanceStream()};Sa(ev,Qn);var Wc=function(){lo.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!_n(this.Ff,13)},set:function(t){t?this.Ff=In(this.Ff,13):this.Ff=kn(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!_n(this.Ff,21)},set:function(t){t?this.Ff=In(this.Ff,21):this.Ff=kn(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!_n(this.Ff,23)},set:function(t){t?this.Ff=In(this.Ff,23):this.Ff=kn(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!_n(this.Ff,24)},set:function(t){t?this.Ff=In(this.Ff,24):this.Ff=kn(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!_n(this.Ff,25)},set:function(t){t?this.Ff=In(this.Ff,25):this.Ff=kn(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!_n(this.Ff,26)},set:function(t){t?this.Ff=In(this.Ff,26):this.Ff=kn(this.Ff,26)}});var e=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return e},set:function(t){Number.isInteger(t)&&(e=t)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Sa(Wc,lo);var tv=function(){Wc.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!_n(this.Ff,14)},set:function(e){e?this.Ff=In(this.Ff,14):this.Ff=kn(this.Ff,14)}}),this.password=!0};Sa(tv,Wc);var wt={CheckBox:{createAppearanceStream:function(){return{N:{On:wt.CheckBox.YesNormal},D:{On:wt.CheckBox.YesPushDown,Off:wt.CheckBox.OffPushDown}}},YesPushDown:function(e){var t=No(e);t.scope=e.scope;var r=[],s=e.scope.internal.getFont(e.fontName,e.fontStyle).id,a=e.scope.__private__.encodeColorString(e.color),i=ES(e,e.caption);return r.push("0.749023 g"),r.push("0 0 "+Gt(wt.internal.getWidth(e))+" "+Gt(wt.internal.getHeight(e))+" re"),r.push("f"),r.push("BMC"),r.push("q"),r.push("0 0 1 rg"),r.push("/"+s+" "+Gt(i.fontSize)+" Tf "+a),r.push("BT"),r.push(i.text),r.push("ET"),r.push("Q"),r.push("EMC"),t.stream=r.join(`
`),t},YesNormal:function(e){var t=No(e);t.scope=e.scope;var r=e.scope.internal.getFont(e.fontName,e.fontStyle).id,s=e.scope.__private__.encodeColorString(e.color),a=[],i=wt.internal.getHeight(e),o=wt.internal.getWidth(e),l=ES(e,e.caption);return a.push("1 g"),a.push("0 0 "+Gt(o)+" "+Gt(i)+" re"),a.push("f"),a.push("q"),a.push("0 0 1 rg"),a.push("0 0 "+Gt(o-1)+" "+Gt(i-1)+" re"),a.push("W"),a.push("n"),a.push("0 g"),a.push("BT"),a.push("/"+r+" "+Gt(l.fontSize)+" Tf "+s),a.push(l.text),a.push("ET"),a.push("Q"),t.stream=a.join(`
`),t},OffPushDown:function(e){var t=No(e);t.scope=e.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+Gt(wt.internal.getWidth(e))+" "+Gt(wt.internal.getHeight(e))+" re"),r.push("f"),t.stream=r.join(`
`),t}},RadioButton:{Circle:{createAppearanceStream:function(e){var t={D:{Off:wt.RadioButton.Circle.OffPushDown},N:{}};return t.N[e]=wt.RadioButton.Circle.YesNormal,t.D[e]=wt.RadioButton.Circle.YesPushDown,t},getCA:function(){return"l"},YesNormal:function(e){var t=No(e);t.scope=e.scope;var r=[],s=wt.internal.getWidth(e)<=wt.internal.getHeight(e)?wt.internal.getWidth(e)/4:wt.internal.getHeight(e)/4;s=Number((.9*s).toFixed(5));var a=wt.internal.Bezier_C,i=Number((s*a).toFixed(5));return r.push("q"),r.push("1 0 0 1 "+uc(wt.internal.getWidth(e)/2)+" "+uc(wt.internal.getHeight(e)/2)+" cm"),r.push(s+" 0 m"),r.push(s+" "+i+" "+i+" "+s+" 0 "+s+" c"),r.push("-"+i+" "+s+" -"+s+" "+i+" -"+s+" 0 c"),r.push("-"+s+" -"+i+" -"+i+" -"+s+" 0 -"+s+" c"),r.push(i+" -"+s+" "+s+" -"+i+" "+s+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t},YesPushDown:function(e){var t=No(e);t.scope=e.scope;var r=[],s=wt.internal.getWidth(e)<=wt.internal.getHeight(e)?wt.internal.getWidth(e)/4:wt.internal.getHeight(e)/4;s=Number((.9*s).toFixed(5));var a=Number((2*s).toFixed(5)),i=Number((a*wt.internal.Bezier_C).toFixed(5)),o=Number((s*wt.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+uc(wt.internal.getWidth(e)/2)+" "+uc(wt.internal.getHeight(e)/2)+" cm"),r.push(a+" 0 m"),r.push(a+" "+i+" "+i+" "+a+" 0 "+a+" c"),r.push("-"+i+" "+a+" -"+a+" "+i+" -"+a+" 0 c"),r.push("-"+a+" -"+i+" -"+i+" -"+a+" 0 -"+a+" c"),r.push(i+" -"+a+" "+a+" -"+i+" "+a+" 0 c"),r.push("f"),r.push("Q"),r.push("0 g"),r.push("q"),r.push("1 0 0 1 "+uc(wt.internal.getWidth(e)/2)+" "+uc(wt.internal.getHeight(e)/2)+" cm"),r.push(s+" 0 m"),r.push(s+" "+o+" "+o+" "+s+" 0 "+s+" c"),r.push("-"+o+" "+s+" -"+s+" "+o+" -"+s+" 0 c"),r.push("-"+s+" -"+o+" -"+o+" -"+s+" 0 -"+s+" c"),r.push(o+" -"+s+" "+s+" -"+o+" "+s+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t},OffPushDown:function(e){var t=No(e);t.scope=e.scope;var r=[],s=wt.internal.getWidth(e)<=wt.internal.getHeight(e)?wt.internal.getWidth(e)/4:wt.internal.getHeight(e)/4;s=Number((.9*s).toFixed(5));var a=Number((2*s).toFixed(5)),i=Number((a*wt.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+uc(wt.internal.getWidth(e)/2)+" "+uc(wt.internal.getHeight(e)/2)+" cm"),r.push(a+" 0 m"),r.push(a+" "+i+" "+i+" "+a+" 0 "+a+" c"),r.push("-"+i+" "+a+" -"+a+" "+i+" -"+a+" 0 c"),r.push("-"+a+" -"+i+" -"+i+" -"+a+" 0 -"+a+" c"),r.push(i+" -"+a+" "+a+" -"+i+" "+a+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t}},Cross:{createAppearanceStream:function(e){var t={D:{Off:wt.RadioButton.Cross.OffPushDown},N:{}};return t.N[e]=wt.RadioButton.Cross.YesNormal,t.D[e]=wt.RadioButton.Cross.YesPushDown,t},getCA:function(){return"8"},YesNormal:function(e){var t=No(e);t.scope=e.scope;var r=[],s=wt.internal.calculateCross(e);return r.push("q"),r.push("1 1 "+Gt(wt.internal.getWidth(e)-2)+" "+Gt(wt.internal.getHeight(e)-2)+" re"),r.push("W"),r.push("n"),r.push(Gt(s.x1.x)+" "+Gt(s.x1.y)+" m"),r.push(Gt(s.x2.x)+" "+Gt(s.x2.y)+" l"),r.push(Gt(s.x4.x)+" "+Gt(s.x4.y)+" m"),r.push(Gt(s.x3.x)+" "+Gt(s.x3.y)+" l"),r.push("s"),r.push("Q"),t.stream=r.join(`
`),t},YesPushDown:function(e){var t=No(e);t.scope=e.scope;var r=wt.internal.calculateCross(e),s=[];return s.push("0.749023 g"),s.push("0 0 "+Gt(wt.internal.getWidth(e))+" "+Gt(wt.internal.getHeight(e))+" re"),s.push("f"),s.push("q"),s.push("1 1 "+Gt(wt.internal.getWidth(e)-2)+" "+Gt(wt.internal.getHeight(e)-2)+" re"),s.push("W"),s.push("n"),s.push(Gt(r.x1.x)+" "+Gt(r.x1.y)+" m"),s.push(Gt(r.x2.x)+" "+Gt(r.x2.y)+" l"),s.push(Gt(r.x4.x)+" "+Gt(r.x4.y)+" m"),s.push(Gt(r.x3.x)+" "+Gt(r.x3.y)+" l"),s.push("s"),s.push("Q"),t.stream=s.join(`
`),t},OffPushDown:function(e){var t=No(e);t.scope=e.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+Gt(wt.internal.getWidth(e))+" "+Gt(wt.internal.getHeight(e))+" re"),r.push("f"),t.stream=r.join(`
`),t}}},createDefaultAppearanceStream:function(e){var t=e.scope.internal.getFont(e.fontName,e.fontStyle).id,r=e.scope.__private__.encodeColorString(e.color);return"/"+t+" "+e.fontSize+" Tf "+r}};wt.internal={Bezier_C:.551915024494,calculateCross:function(e){var t=wt.internal.getWidth(e),r=wt.internal.getHeight(e),s=Math.min(t,r);return{x1:{x:(t-s)/2,y:(r-s)/2+s},x2:{x:(t-s)/2+s,y:(r-s)/2},x3:{x:(t-s)/2,y:(r-s)/2},x4:{x:(t-s)/2+s,y:(r-s)/2+s}}}},wt.internal.getWidth=function(e){var t=0;return yr(e)==="object"&&(t=SI(e.Rect[2])),t},wt.internal.getHeight=function(e){var t=0;return yr(e)==="object"&&(t=SI(e.Rect[3])),t};var Rle=jn.addField=function(e){if(Lle(this,e),!(e instanceof lo))throw new Error("Invalid argument passed to jsPDF.addField.");var t;return(t=e).scope.internal.acroformPlugin.printedOut&&(t.scope.internal.acroformPlugin.printedOut=!1,t.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),t.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(t),e.page=e.scope.internal.getCurrentPageInfo().pageNumber,this};jn.AcroFormChoiceField=au,jn.AcroFormListBox=iu,jn.AcroFormComboBox=ou,jn.AcroFormEditBox=Jp,jn.AcroFormButton=Qn,jn.AcroFormPushButton=Zp,jn.AcroFormRadioButton=lu,jn.AcroFormCheckBox=ev,jn.AcroFormTextField=Wc,jn.AcroFormPasswordField=tv,jn.AcroFormAppearance=wt,jn.AcroForm={ChoiceField:au,ListBox:iu,ComboBox:ou,EditBox:Jp,Button:Qn,PushButton:Zp,RadioButton:lu,CheckBox:ev,TextField:Wc,PasswordField:tv,Appearance:wt},Tt.AcroForm={ChoiceField:au,ListBox:iu,ComboBox:ou,EditBox:Jp,Button:Qn,PushButton:Zp,RadioButton:lu,CheckBox:ev,TextField:Wc,PasswordField:tv,Appearance:wt};var Fle=Tt.AcroForm;function nB(e){return e.reduce(function(t,r,s){return t[r]=s,t},{})}(function(e){e.__addimage__={};var t="UNKNOWN",r={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},s=e.__addimage__.getImageFileTypeByImageData=function(T,A){var O,D,F,M,R,B=t;if((A=A||t)==="RGBA"||T.data!==void 0&&T.data instanceof Uint8ClampedArray&&"height"in T&&"width"in T)return"RGBA";if(S(T))for(R in r)for(F=r[R],O=0;O<F.length;O+=1){for(M=!0,D=0;D<F[O].length;D+=1)if(F[O][D]!==void 0&&F[O][D]!==T[D]){M=!1;break}if(M===!0){B=R;break}}else for(R in r)for(F=r[R],O=0;O<F.length;O+=1){for(M=!0,D=0;D<F[O].length;D+=1)if(F[O][D]!==void 0&&F[O][D]!==T.charCodeAt(D)){M=!1;break}if(M===!0){B=R;break}}return B===t&&A!==t&&(B=A),B},a=function T(A){for(var O=this.internal.write,D=this.internal.putStream,F=(0,this.internal.getFilters)();F.indexOf("FlateEncode")!==-1;)F.splice(F.indexOf("FlateEncode"),1);A.objectId=this.internal.newObject();var M=[];if(M.push({key:"Type",value:"/XObject"}),M.push({key:"Subtype",value:"/Image"}),M.push({key:"Width",value:A.width}),M.push({key:"Height",value:A.height}),A.colorSpace===p.INDEXED?M.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(A.palette.length/3-1)+" "+("sMask"in A&&A.sMask!==void 0?A.objectId+2:A.objectId+1)+" 0 R]"}):(M.push({key:"ColorSpace",value:"/"+A.colorSpace}),A.colorSpace===p.DEVICE_CMYK&&M.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),M.push({key:"BitsPerComponent",value:A.bitsPerComponent}),"decodeParameters"in A&&A.decodeParameters!==void 0&&M.push({key:"DecodeParms",value:"<<"+A.decodeParameters+">>"}),"transparency"in A&&Array.isArray(A.transparency)){for(var R="",B=0,U=A.transparency.length;B<U;B++)R+=A.transparency[B]+" "+A.transparency[B]+" ";M.push({key:"Mask",value:"["+R+"]"})}A.sMask!==void 0&&M.push({key:"SMask",value:A.objectId+1+" 0 R"});var H=A.filter!==void 0?["/"+A.filter]:void 0;if(D({data:A.data,additionalKeyValues:M,alreadyAppliedFilters:H,objectId:A.objectId}),O("endobj"),"sMask"in A&&A.sMask!==void 0){var q="/Predictor "+A.predictor+" /Colors 1 /BitsPerComponent "+A.bitsPerComponent+" /Columns "+A.width,L={width:A.width,height:A.height,colorSpace:"DeviceGray",bitsPerComponent:A.bitsPerComponent,decodeParameters:q,data:A.sMask};"filter"in A&&(L.filter=A.filter),T.call(this,L)}if(A.colorSpace===p.INDEXED){var V=this.internal.newObject();D({data:w(new Uint8Array(A.palette)),objectId:V}),O("endobj")}},i=function(){var T=this.internal.collections.addImage_images;for(var A in T)a.call(this,T[A])},o=function(){var T,A=this.internal.collections.addImage_images,O=this.internal.write;for(var D in A)O("/I"+(T=A[D]).index,T.objectId,"0","R")},l=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",i),this.internal.events.subscribe("putXobjectDict",o))},c=function(){var T=this.internal.collections.addImage_images;return l.call(this),T},d=function(){return Object.keys(this.internal.collections.addImage_images).length},h=function(T){return typeof e["process"+T.toUpperCase()]=="function"},u=function(T){return yr(T)==="object"&&T.nodeType===1},f=function(T,A){if(T.nodeName==="IMG"&&T.hasAttribute("src")){var O=""+T.getAttribute("src");if(O.indexOf("data:image/")===0)return Qp(unescape(O).split("base64,").pop());var D=e.loadFile(O,!0);if(D!==void 0)return D}if(T.nodeName==="CANVAS"){if(T.width===0||T.height===0)throw new Error("Given canvas must have data. Canvas width: "+T.width+", height: "+T.height);var F;switch(A){case"PNG":F="image/png";break;case"WEBP":F="image/webp";break;case"JPEG":case"JPG":default:F="image/jpeg"}return Qp(T.toDataURL(F,1).split("base64,").pop())}},m=function(T){var A=this.internal.collections.addImage_images;if(A){for(var O in A)if(T===A[O].alias)return A[O]}},v=function(T,A,O){return T||A||(T=-96,A=-96),T<0&&(T=-1*O.width*72/T/this.internal.scaleFactor),A<0&&(A=-1*O.height*72/A/this.internal.scaleFactor),T===0&&(T=A*O.width/O.height),A===0&&(A=T*O.height/O.width),[T,A]},x=function(T,A,O,D,F,M){var R=v.call(this,O,D,F),B=this.internal.getCoordinateString,U=this.internal.getVerticalCoordinateString,H=c.call(this);if(O=R[0],D=R[1],H[F.index]=F,M){M*=Math.PI/180;var q=Math.cos(M),L=Math.sin(M),V=function(Z){return Z.toFixed(4)},G=[V(q),V(L),V(-1*L),V(q),0,0,"cm"]}this.internal.write("q"),M?(this.internal.write([1,"0","0",1,B(T),U(A+D),"cm"].join(" ")),this.internal.write(G.join(" ")),this.internal.write([B(O),"0","0",B(D),"0","0","cm"].join(" "))):this.internal.write([B(O),"0","0",B(D),B(T),U(A+D),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+F.index+" Do"),this.internal.write("Q")},p=e.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};e.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var g=e.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},b=e.__addimage__.sHashCode=function(T){var A,O,D=0;if(typeof T=="string")for(O=T.length,A=0;A<O;A++)D=(D<<5)-D+T.charCodeAt(A),D|=0;else if(S(T))for(O=T.byteLength/2,A=0;A<O;A++)D=(D<<5)-D+T[A],D|=0;return D},y=e.__addimage__.validateStringAsBase64=function(T){(T=T||"").toString().trim();var A=!0;return T.length===0&&(A=!1),T.length%4!=0&&(A=!1),/^[A-Za-z0-9+/]+$/.test(T.substr(0,T.length-2))===!1&&(A=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(T.substr(-2))===!1&&(A=!1),A},j=e.__addimage__.extractImageFromDataUrl=function(T){var A=(T=T||"").split("base64,"),O=null;if(A.length===2){var D=/^data:(\w*\/\w*);*(charset=(?!charset=)[\w=-]*)*;*$/.exec(A[0]);Array.isArray(D)&&(O={mimeType:D[1],charset:D[2],data:A[1]})}return O},E=e.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};e.__addimage__.isArrayBuffer=function(T){return E()&&T instanceof ArrayBuffer};var S=e.__addimage__.isArrayBufferView=function(T){return E()&&typeof Uint32Array<"u"&&(T instanceof Int8Array||T instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&T instanceof Uint8ClampedArray||T instanceof Int16Array||T instanceof Uint16Array||T instanceof Int32Array||T instanceof Uint32Array||T instanceof Float32Array||T instanceof Float64Array)},N=e.__addimage__.binaryStringToUint8Array=function(T){for(var A=T.length,O=new Uint8Array(A),D=0;D<A;D++)O[D]=T.charCodeAt(D);return O},w=e.__addimage__.arrayBufferToBinaryString=function(T){for(var A="",O=S(T)?T:new Uint8Array(T),D=0;D<O.length;D+=8192)A+=String.fromCharCode.apply(null,O.subarray(D,D+8192));return A};e.addImage=function(){var T,A,O,D,F,M,R,B,U;if(typeof arguments[1]=="number"?(A=t,O=arguments[1],D=arguments[2],F=arguments[3],M=arguments[4],R=arguments[5],B=arguments[6],U=arguments[7]):(A=arguments[1],O=arguments[2],D=arguments[3],F=arguments[4],M=arguments[5],R=arguments[6],B=arguments[7],U=arguments[8]),yr(T=arguments[0])==="object"&&!u(T)&&"imageData"in T){var H=T;T=H.imageData,A=H.format||A||t,O=H.x||O||0,D=H.y||D||0,F=H.w||H.width||F,M=H.h||H.height||M,R=H.alias||R,B=H.compression||B,U=H.rotation||H.angle||U}var q=this.internal.getFilters();if(B===void 0&&q.indexOf("FlateEncode")!==-1&&(B="SLOW"),isNaN(O)||isNaN(D))throw new Error("Invalid coordinates passed to jsPDF.addImage");l.call(this);var L=_.call(this,T,A,R,B);return x.call(this,O,D,F,M,L,U),this};var _=function(T,A,O,D){var F,M,R;if(typeof T=="string"&&s(T)===t){T=unescape(T);var B=k(T,!1);(B!==""||(B=e.loadFile(T,!0))!==void 0)&&(T=B)}if(u(T)&&(T=f(T,A)),A=s(T,A),!h(A))throw new Error("addImage does not support files of type '"+A+"', please ensure that a plugin for '"+A+"' support is added.");if(((R=O)==null||R.length===0)&&(O=function(U){return typeof U=="string"||S(U)?b(U):S(U.data)?b(U.data):null}(T)),(F=m.call(this,O))||(E()&&(T instanceof Uint8Array||A==="RGBA"||(M=T,T=N(T))),F=this["process"+A.toUpperCase()](T,d.call(this),O,function(U){return U&&typeof U=="string"&&(U=U.toUpperCase()),U in e.image_compression?U:g.NONE}(D),M)),!F)throw new Error("An unknown error occurred whilst processing the image.");return F},k=e.__addimage__.convertBase64ToBinaryString=function(T,A){var O;A=typeof A!="boolean"||A;var D,F="";if(typeof T=="string"){D=(O=j(T))!==null?O.data:T;try{F=Qp(D)}catch(M){if(A)throw y(D)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+M.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return F};e.getImageProperties=function(T){var A,O,D="";if(u(T)&&(T=f(T)),typeof T=="string"&&s(T)===t&&((D=k(T,!1))===""&&(D=e.loadFile(T)||""),T=D),O=s(T),!h(O))throw new Error("addImage does not support files of type '"+O+"', please ensure that a plugin for '"+O+"' support is added.");if(!E()||T instanceof Uint8Array||(T=N(T)),!(A=this["process"+O.toUpperCase()](T)))throw new Error("An unknown error occurred whilst processing the image");return A.fileType=O,A}})(Tt.API),function(e){var t=function(r){if(r!==void 0&&r!="")return!0};Tt.API.events.push(["addPage",function(r){this.internal.getPageInfo(r.pageNumber).pageContext.annotations=[]}]),e.events.push(["putPage",function(r){for(var s,a,i,o=this.internal.getCoordinateString,l=this.internal.getVerticalCoordinateString,c=this.internal.getPageInfoByObjId(r.objId),d=r.pageContext.annotations,h=!1,u=0;u<d.length&&!h;u++)switch((s=d[u]).type){case"link":(t(s.options.url)||t(s.options.pageNumber))&&(h=!0);break;case"reference":case"text":case"freetext":h=!0}if(h!=0){this.internal.write("/Annots [");for(var f=0;f<d.length;f++){s=d[f];var m=this.internal.pdfEscape,v=this.internal.getEncryptor(r.objId);switch(s.type){case"reference":this.internal.write(" "+s.object.objId+" 0 R ");break;case"text":var x=this.internal.newAdditionalObject(),p=this.internal.newAdditionalObject(),g=this.internal.getEncryptor(x.objId),b=s.title||"Note";i="<</Type /Annot /Subtype /Text "+(a="/Rect ["+o(s.bounds.x)+" "+l(s.bounds.y+s.bounds.h)+" "+o(s.bounds.x+s.bounds.w)+" "+l(s.bounds.y)+"] ")+"/Contents ("+m(g(s.contents))+")",i+=" /Popup "+p.objId+" 0 R",i+=" /P "+c.objId+" 0 R",i+=" /T ("+m(g(b))+") >>",x.content=i;var y=x.objId+" 0 R";i="<</Type /Annot /Subtype /Popup "+(a="/Rect ["+o(s.bounds.x+30)+" "+l(s.bounds.y+s.bounds.h)+" "+o(s.bounds.x+s.bounds.w+30)+" "+l(s.bounds.y)+"] ")+" /Parent "+y,s.open&&(i+=" /Open true"),i+=" >>",p.content=i,this.internal.write(x.objId,"0 R",p.objId,"0 R");break;case"freetext":a="/Rect ["+o(s.bounds.x)+" "+l(s.bounds.y)+" "+o(s.bounds.x+s.bounds.w)+" "+l(s.bounds.y+s.bounds.h)+"] ";var j=s.color||"#000000";i="<</Type /Annot /Subtype /FreeText "+a+"/Contents ("+m(v(s.contents))+")",i+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+j+")",i+=" /Border [0 0 0]",i+=" >>",this.internal.write(i);break;case"link":if(s.options.name){var E=this.annotations._nameMap[s.options.name];s.options.pageNumber=E.page,s.options.top=E.y}else s.options.top||(s.options.top=0);if(a="/Rect ["+s.finalBounds.x+" "+s.finalBounds.y+" "+s.finalBounds.w+" "+s.finalBounds.h+"] ",i="",s.options.url)i="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /A <</S /URI /URI ("+m(v(s.options.url))+") >>";else if(s.options.pageNumber)switch(i="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(s.options.pageNumber).objId+" 0 R",s.options.magFactor=s.options.magFactor||"XYZ",s.options.magFactor){case"Fit":i+=" /Fit]";break;case"FitH":i+=" /FitH "+s.options.top+"]";break;case"FitV":s.options.left=s.options.left||0,i+=" /FitV "+s.options.left+"]";break;case"XYZ":default:var S=l(s.options.top);s.options.left=s.options.left||0,s.options.zoom===void 0&&(s.options.zoom=0),i+=" /XYZ "+s.options.left+" "+S+" "+s.options.zoom+"]"}i!=""&&(i+=" >>",this.internal.write(i))}}this.internal.write("]")}}]),e.createAnnotation=function(r){var s=this.internal.getCurrentPageInfo();switch(r.type){case"link":this.link(r.bounds.x,r.bounds.y,r.bounds.w,r.bounds.h,r);break;case"text":case"freetext":s.pageContext.annotations.push(r)}},e.link=function(r,s,a,i,o){var l=this.internal.getCurrentPageInfo(),c=this.internal.getCoordinateString,d=this.internal.getVerticalCoordinateString;l.pageContext.annotations.push({finalBounds:{x:c(r),y:d(s),w:c(r+a),h:d(s+i)},options:o,type:"link"})},e.textWithLink=function(r,s,a,i){var o,l,c=this.getTextWidth(r),d=this.internal.getLineHeight()/this.internal.scaleFactor;if(i.maxWidth!==void 0){l=i.maxWidth;var h=this.splitTextToSize(r,l).length;o=Math.ceil(d*h)}else l=c,o=d;return this.text(r,s,a,i),a+=.2*d,i.align==="center"&&(s-=c/2),i.align==="right"&&(s-=c),this.link(s,a-d,l,o,i),c},e.getTextWidth=function(r){var s=this.internal.getFontSize();return this.getStringUnitWidth(r)*s/this.internal.scaleFactor}}(Tt.API),function(e){var t={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},r={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},s={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},a=[1570,1571,1573,1575];e.__arabicParser__={};var i=e.__arabicParser__.isInArabicSubstitutionA=function(x){return t[x.charCodeAt(0)]!==void 0},o=e.__arabicParser__.isArabicLetter=function(x){return typeof x=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(x)},l=e.__arabicParser__.isArabicEndLetter=function(x){return o(x)&&i(x)&&t[x.charCodeAt(0)].length<=2},c=e.__arabicParser__.isArabicAlfLetter=function(x){return o(x)&&a.indexOf(x.charCodeAt(0))>=0};e.__arabicParser__.arabicLetterHasIsolatedForm=function(x){return o(x)&&i(x)&&t[x.charCodeAt(0)].length>=1};var d=e.__arabicParser__.arabicLetterHasFinalForm=function(x){return o(x)&&i(x)&&t[x.charCodeAt(0)].length>=2};e.__arabicParser__.arabicLetterHasInitialForm=function(x){return o(x)&&i(x)&&t[x.charCodeAt(0)].length>=3};var h=e.__arabicParser__.arabicLetterHasMedialForm=function(x){return o(x)&&i(x)&&t[x.charCodeAt(0)].length==4},u=e.__arabicParser__.resolveLigatures=function(x){var p=0,g=r,b="",y=0;for(p=0;p<x.length;p+=1)g[x.charCodeAt(p)]!==void 0?(y++,typeof(g=g[x.charCodeAt(p)])=="number"&&(b+=String.fromCharCode(g),g=r,y=0),p===x.length-1&&(g=r,b+=x.charAt(p-(y-1)),p-=y-1,y=0)):(g=r,b+=x.charAt(p-y),p-=y,y=0);return b};e.__arabicParser__.isArabicDiacritic=function(x){return x!==void 0&&s[x.charCodeAt(0)]!==void 0};var f=e.__arabicParser__.getCorrectForm=function(x,p,g){return o(x)?i(x)===!1?-1:!d(x)||!o(p)&&!o(g)||!o(g)&&l(p)||l(x)&&!o(p)||l(x)&&c(p)||l(x)&&l(p)?0:h(x)&&o(p)&&!l(p)&&o(g)&&d(g)?3:l(x)||!o(g)?1:2:-1},m=function(x){var p=0,g=0,b=0,y="",j="",E="",S=(x=x||"").split("\\s+"),N=[];for(p=0;p<S.length;p+=1){for(N.push(""),g=0;g<S[p].length;g+=1)y=S[p][g],j=S[p][g-1],E=S[p][g+1],o(y)?(b=f(y,j,E),N[p]+=b!==-1?String.fromCharCode(t[y.charCodeAt(0)][b]):y):N[p]+=y;N[p]=u(N[p])}return N.join(" ")},v=e.__arabicParser__.processArabic=e.processArabic=function(){var x,p=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,g=[];if(Array.isArray(p)){var b=0;for(g=[],b=0;b<p.length;b+=1)Array.isArray(p[b])?g.push([m(p[b][0]),p[b][1],p[b][2]]):g.push([m(p[b])]);x=g}else x=m(p);return typeof arguments[0]=="string"?x:(arguments[0].text=x,arguments[0])};e.events.push(["preProcessText",v])}(Tt.API),Tt.API.autoPrint=function(e){var t;switch((e=e||{}).variant=e.variant||"non-conform",e.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+t+" 0 R")})}return this},function(e){var t=function(){var r=void 0;Object.defineProperty(this,"pdf",{get:function(){return r},set:function(l){r=l}});var s=150;Object.defineProperty(this,"width",{get:function(){return s},set:function(l){s=isNaN(l)||Number.isInteger(l)===!1||l<0?150:l,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=s+1)}});var a=300;Object.defineProperty(this,"height",{get:function(){return a},set:function(l){a=isNaN(l)||Number.isInteger(l)===!1||l<0?300:l,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=a+1)}});var i=[];Object.defineProperty(this,"childNodes",{get:function(){return i},set:function(l){i=l}});var o={};Object.defineProperty(this,"style",{get:function(){return o},set:function(l){o=l}}),Object.defineProperty(this,"parentNode",{})};t.prototype.getContext=function(r,s){var a;if((r=r||"2d")!=="2d")return null;for(a in s)this.pdf.context2d.hasOwnProperty(a)&&(this.pdf.context2d[a]=s[a]);return this.pdf.context2d._canvas=this,this.pdf.context2d},t.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},e.events.push(["initialized",function(){this.canvas=new t,this.canvas.pdf=this}])}(Tt.API),function(e){var t={left:0,top:0,bottom:0,right:0},r=!1,s=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},t),this.internal.__cell__.margins.width=this.getPageWidth(),a.call(this))},a=function(){this.internal.__cell__.lastCell=new i,this.internal.__cell__.pages=1},i=function(){var c=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return c},set:function(x){c=x}});var d=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return d},set:function(x){d=x}});var h=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return h},set:function(x){h=x}});var u=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return u},set:function(x){u=x}});var f=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return f},set:function(x){f=x}});var m=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return m},set:function(x){m=x}});var v=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return v},set:function(x){v=x}}),this};i.prototype.clone=function(){return new i(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},i.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},e.setHeaderFunction=function(c){return s.call(this),this.internal.__cell__.headerFunction=typeof c=="function"?c:void 0,this},e.getTextDimensions=function(c,d){s.call(this);var h=(d=d||{}).fontSize||this.getFontSize(),u=d.font||this.getFont(),f=d.scaleFactor||this.internal.scaleFactor,m=0,v=0,x=0,p=this;if(!Array.isArray(c)&&typeof c!="string"){if(typeof c!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");c=String(c)}var g=d.maxWidth;g>0?typeof c=="string"?c=this.splitTextToSize(c,g):Object.prototype.toString.call(c)==="[object Array]"&&(c=c.reduce(function(y,j){return y.concat(p.splitTextToSize(j,g))},[])):c=Array.isArray(c)?c:[c];for(var b=0;b<c.length;b++)m<(x=this.getStringUnitWidth(c[b],{font:u})*h)&&(m=x);return m!==0&&(v=c.length),{w:m/=f,h:Math.max((v*h*this.getLineHeightFactor()-h*(this.getLineHeightFactor()-1))/f,0)}},e.cellAddPage=function(){s.call(this),this.addPage();var c=this.internal.__cell__.margins||t;return this.internal.__cell__.lastCell=new i(c.left,c.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var o=e.cell=function(){var c;c=arguments[0]instanceof i?arguments[0]:new i(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),s.call(this);var d=this.internal.__cell__.lastCell,h=this.internal.__cell__.padding,u=this.internal.__cell__.margins||t,f=this.internal.__cell__.tableHeaderRow,m=this.internal.__cell__.printHeaders;return d.lineNumber!==void 0&&(d.lineNumber===c.lineNumber?(c.x=(d.x||0)+(d.width||0),c.y=d.y||0):d.y+d.height+c.height+u.bottom>this.getPageHeight()?(this.cellAddPage(),c.y=u.top,m&&f&&(this.printHeaderRow(c.lineNumber,!0),c.y+=f[0].height)):c.y=d.y+d.height||c.y),c.text[0]!==void 0&&(this.rect(c.x,c.y,c.width,c.height,r===!0?"FD":void 0),c.align==="right"?this.text(c.text,c.x+c.width-h,c.y+h,{align:"right",baseline:"top"}):c.align==="center"?this.text(c.text,c.x+c.width/2,c.y+h,{align:"center",baseline:"top",maxWidth:c.width-h-h}):this.text(c.text,c.x+h,c.y+h,{align:"left",baseline:"top",maxWidth:c.width-h-h})),this.internal.__cell__.lastCell=c,this};e.table=function(c,d,h,u,f){if(s.call(this),!h)throw new Error("No data for PDF table.");var m,v,x,p,g=[],b=[],y=[],j={},E={},S=[],N=[],w=(f=f||{}).autoSize||!1,_=f.printHeaders!==!1,k=f.css&&f.css["font-size"]!==void 0?16*f.css["font-size"]:f.fontSize||12,T=f.margins||Object.assign({width:this.getPageWidth()},t),A=typeof f.padding=="number"?f.padding:3,O=f.headerBackgroundColor||"#c8c8c8",D=f.headerTextColor||"#000";if(a.call(this),this.internal.__cell__.printHeaders=_,this.internal.__cell__.margins=T,this.internal.__cell__.table_font_size=k,this.internal.__cell__.padding=A,this.internal.__cell__.headerBackgroundColor=O,this.internal.__cell__.headerTextColor=D,this.setFontSize(k),u==null)b=g=Object.keys(h[0]),y=g.map(function(){return"left"});else if(Array.isArray(u)&&yr(u[0])==="object")for(g=u.map(function(H){return H.name}),b=u.map(function(H){return H.prompt||H.name||""}),y=u.map(function(H){return H.align||"left"}),m=0;m<u.length;m+=1)E[u[m].name]=u[m].width*(19.049976/25.4);else Array.isArray(u)&&typeof u[0]=="string"&&(b=g=u,y=g.map(function(){return"left"}));if(w||Array.isArray(u)&&typeof u[0]=="string")for(m=0;m<g.length;m+=1){for(j[p=g[m]]=h.map(function(H){return H[p]}),this.setFont(void 0,"bold"),S.push(this.getTextDimensions(b[m],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),v=j[p],this.setFont(void 0,"normal"),x=0;x<v.length;x+=1)S.push(this.getTextDimensions(v[x],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);E[p]=Math.max.apply(null,S)+A+A,S=[]}if(_){var F={};for(m=0;m<g.length;m+=1)F[g[m]]={},F[g[m]].text=b[m],F[g[m]].align=y[m];var M=l.call(this,F,E);N=g.map(function(H){return new i(c,d,E[H],M,F[H].text,void 0,F[H].align)}),this.setTableHeaderRow(N),this.printHeaderRow(1,!1)}var R=u.reduce(function(H,q){return H[q.name]=q.align,H},{});for(m=0;m<h.length;m+=1){"rowStart"in f&&f.rowStart instanceof Function&&f.rowStart({row:m,data:h[m]},this);var B=l.call(this,h[m],E);for(x=0;x<g.length;x+=1){var U=h[m][g[x]];"cellStart"in f&&f.cellStart instanceof Function&&f.cellStart({row:m,col:x,data:U},this),o.call(this,new i(c,d,E[g[x]],B,U,m+2,R[g[x]]))}}return this.internal.__cell__.table_x=c,this.internal.__cell__.table_y=d,this};var l=function(c,d){var h=this.internal.__cell__.padding,u=this.internal.__cell__.table_font_size,f=this.internal.scaleFactor;return Object.keys(c).map(function(m){var v=c[m];return this.splitTextToSize(v.hasOwnProperty("text")?v.text:v,d[m]-h-h)},this).map(function(m){return this.getLineHeightFactor()*m.length*u/f+h+h},this).reduce(function(m,v){return Math.max(m,v)},0)};e.setTableHeaderRow=function(c){s.call(this),this.internal.__cell__.tableHeaderRow=c},e.printHeaderRow=function(c,d){if(s.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var h;if(r=!0,typeof this.internal.__cell__.headerFunction=="function"){var u=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new i(u[0],u[1],u[2],u[3],void 0,-1)}this.setFont(void 0,"bold");for(var f=[],m=0;m<this.internal.__cell__.tableHeaderRow.length;m+=1){h=this.internal.__cell__.tableHeaderRow[m].clone(),d&&(h.y=this.internal.__cell__.margins.top||0,f.push(h)),h.lineNumber=c;var v=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),o.call(this,h),this.setTextColor(v)}f.length>0&&this.setTableHeaderRow(f),this.setFont(void 0,"normal"),r=!1}}(Tt.API);var sB={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},aB=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],PS=nB(aB),iB=[100,200,300,400,500,600,700,800,900],$le=nB(iB);function TS(e){var t=e.family.replace(/"|'/g,"").toLowerCase(),r=function(i){return sB[i=i||"normal"]?i:"normal"}(e.style),s=function(i){if(!i)return 400;if(typeof i=="number")return i>=100&&i<=900&&i%100==0?i:400;if(/^\d00$/.test(i))return parseInt(i);switch(i){case"bold":return 700;case"normal":default:return 400}}(e.weight),a=function(i){return typeof PS[i=i||"normal"]=="number"?i:"normal"}(e.stretch);return{family:t,style:r,weight:s,stretch:a,src:e.src||[],ref:e.ref||{name:t,style:[a,r,s].join(" ")}}}function CI(e,t,r,s){var a;for(a=r;a>=0&&a<t.length;a+=s)if(e[t[a]])return e[t[a]];for(a=r;a>=0&&a<t.length;a-=s)if(e[t[a]])return e[t[a]]}var Mle={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},AI={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function EI(e){return[e.stretch,e.style,e.weight,e.family].join(" ")}function Ble(e,t,r){for(var s=(r=r||{}).defaultFontFamily||"times",a=Object.assign({},Mle,r.genericFontFamilies||{}),i=null,o=null,l=0;l<t.length;++l)if(a[(i=TS(t[l])).family]&&(i.family=a[i.family]),e.hasOwnProperty(i.family)){o=e[i.family];break}if(!(o=o||e[s]))throw new Error("Could not find a font-family for the rule '"+EI(i)+"' and default family '"+s+"'.");if(o=function(c,d){if(d[c])return d[c];var h=PS[c],u=h<=PS.normal?-1:1,f=CI(d,aB,h,u);if(!f)throw new Error("Could not find a matching font-stretch value for "+c);return f}(i.stretch,o),o=function(c,d){if(d[c])return d[c];for(var h=sB[c],u=0;u<h.length;++u)if(d[h[u]])return d[h[u]];throw new Error("Could not find a matching font-style for "+c)}(i.style,o),!(o=function(c,d){if(d[c])return d[c];if(c===400&&d[500])return d[500];if(c===500&&d[400])return d[400];var h=$le[c],u=CI(d,iB,h,c<400?-1:1);if(!u)throw new Error("Could not find a matching font-weight for value "+c);return u}(i.weight,o)))throw new Error("Failed to resolve a font for the rule '"+EI(i)+"'.");return o}function PI(e){return e.trimLeft()}function zle(e,t){for(var r=0;r<e.length;){if(e.charAt(r)===t)return[e.substring(0,r),e.substring(r+1)];r+=1}return null}function Ule(e){var t=e.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return t===null?null:[t[0],e.substring(t[0].length)]}var P0,TI,_I,aN=["times"];(function(e){var t,r,s,a,i,o,l,c,d,h=function(L){return L=L||{},this.isStrokeTransparent=L.isStrokeTransparent||!1,this.strokeOpacity=L.strokeOpacity||1,this.strokeStyle=L.strokeStyle||"#000000",this.fillStyle=L.fillStyle||"#000000",this.isFillTransparent=L.isFillTransparent||!1,this.fillOpacity=L.fillOpacity||1,this.font=L.font||"10px sans-serif",this.textBaseline=L.textBaseline||"alphabetic",this.textAlign=L.textAlign||"left",this.lineWidth=L.lineWidth||1,this.lineJoin=L.lineJoin||"miter",this.lineCap=L.lineCap||"butt",this.path=L.path||[],this.transform=L.transform!==void 0?L.transform.clone():new c,this.globalCompositeOperation=L.globalCompositeOperation||"normal",this.globalAlpha=L.globalAlpha||1,this.clip_path=L.clip_path||[],this.currentPoint=L.currentPoint||new o,this.miterLimit=L.miterLimit||10,this.lastPoint=L.lastPoint||new o,this.lineDashOffset=L.lineDashOffset||0,this.lineDash=L.lineDash||[],this.margin=L.margin||[0,0,0,0],this.prevPageLastElemOffset=L.prevPageLastElemOffset||0,this.ignoreClearRect=typeof L.ignoreClearRect!="boolean"||L.ignoreClearRect,this};e.events.push(["initialized",function(){this.context2d=new u(this),t=this.internal.f2,r=this.internal.getCoordinateString,s=this.internal.getVerticalCoordinateString,a=this.internal.getHorizontalCoordinate,i=this.internal.getVerticalCoordinate,o=this.internal.Point,l=this.internal.Rectangle,c=this.internal.Matrix,d=new h}]);var u=function(L){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var V=L;Object.defineProperty(this,"pdf",{get:function(){return V}});var G=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return G},set:function(le){G=!!le}});var Z=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return Z},set:function(le){Z=!!le}});var te=0;Object.defineProperty(this,"posX",{get:function(){return te},set:function(le){isNaN(le)||(te=le)}});var he=0;Object.defineProperty(this,"posY",{get:function(){return he},set:function(le){isNaN(le)||(he=le)}}),Object.defineProperty(this,"margin",{get:function(){return d.margin},set:function(le){var re;typeof le=="number"?re=[le,le,le,le]:((re=new Array(4))[0]=le[0],re[1]=le.length>=2?le[1]:re[0],re[2]=le.length>=3?le[2]:re[0],re[3]=le.length>=4?le[3]:re[1]),d.margin=re}});var fe=!1;Object.defineProperty(this,"autoPaging",{get:function(){return fe},set:function(le){fe=le}});var oe=0;Object.defineProperty(this,"lastBreak",{get:function(){return oe},set:function(le){oe=le}});var we=[];Object.defineProperty(this,"pageBreaks",{get:function(){return we},set:function(le){we=le}}),Object.defineProperty(this,"ctx",{get:function(){return d},set:function(le){le instanceof h&&(d=le)}}),Object.defineProperty(this,"path",{get:function(){return d.path},set:function(le){d.path=le}});var je=[];Object.defineProperty(this,"ctxStack",{get:function(){return je},set:function(le){je=le}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(le){var re;re=f(le),this.ctx.fillStyle=re.style,this.ctx.isFillTransparent=re.a===0,this.ctx.fillOpacity=re.a,this.pdf.setFillColor(re.r,re.g,re.b,{a:re.a}),this.pdf.setTextColor(re.r,re.g,re.b,{a:re.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(le){var re=f(le);this.ctx.strokeStyle=re.style,this.ctx.isStrokeTransparent=re.a===0,this.ctx.strokeOpacity=re.a,re.a===0?this.pdf.setDrawColor(255,255,255):(re.a,this.pdf.setDrawColor(re.r,re.g,re.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(le){["butt","round","square"].indexOf(le)!==-1&&(this.ctx.lineCap=le,this.pdf.setLineCap(le))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(le){isNaN(le)||(this.ctx.lineWidth=le,this.pdf.setLineWidth(le))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(le){["bevel","round","miter"].indexOf(le)!==-1&&(this.ctx.lineJoin=le,this.pdf.setLineJoin(le))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(le){isNaN(le)||(this.ctx.miterLimit=le,this.pdf.setMiterLimit(le))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(le){this.ctx.textBaseline=le}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(le){["right","end","center","left","start"].indexOf(le)!==-1&&(this.ctx.textAlign=le)}});var ve=null;function Le(le,re){if(ve===null){var Ce=function(Ne){var xe=[];return Object.keys(Ne).forEach(function(Fe){Ne[Fe].forEach(function(nt){var rt=null;switch(nt){case"bold":rt={family:Fe,weight:"bold"};break;case"italic":rt={family:Fe,style:"italic"};break;case"bolditalic":rt={family:Fe,weight:"bold",style:"italic"};break;case"":case"normal":rt={family:Fe}}rt!==null&&(rt.ref={name:Fe,style:nt},xe.push(rt))})}),xe}(le.getFontList());ve=function(Ne){for(var xe={},Fe=0;Fe<Ne.length;++Fe){var nt=TS(Ne[Fe]),rt=nt.family,gt=nt.stretch,Me=nt.style,Ze=nt.weight;xe[rt]=xe[rt]||{},xe[rt][gt]=xe[rt][gt]||{},xe[rt][gt][Me]=xe[rt][gt][Me]||{},xe[rt][gt][Me][Ze]=nt}return xe}(Ce.concat(re))}return ve}var ge=null;Object.defineProperty(this,"fontFaces",{get:function(){return ge},set:function(le){ve=null,ge=le}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(le){var re;if(this.ctx.font=le,(re=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(le))!==null){var Ce=re[1],Ne=(re[2],re[3]),xe=re[4],Fe=(re[5],re[6]),nt=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(xe)[2];xe=Math.floor(nt==="px"?parseFloat(xe)*this.pdf.internal.scaleFactor:nt==="em"?parseFloat(xe)*this.pdf.getFontSize():parseFloat(xe)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(xe);var rt=function(St){var Bt,lt,jr=[],Xt=St.trim();if(Xt==="")return aN;if(Xt in AI)return[AI[Xt]];for(;Xt!=="";){switch(lt=null,Bt=(Xt=PI(Xt)).charAt(0)){case'"':case"'":lt=zle(Xt.substring(1),Bt);break;default:lt=Ule(Xt)}if(lt===null||(jr.push(lt[0]),(Xt=PI(lt[1]))!==""&&Xt.charAt(0)!==","))return aN;Xt=Xt.replace(/^,/,"")}return jr}(Fe);if(this.fontFaces){var gt=Ble(Le(this.pdf,this.fontFaces),rt.map(function(St){return{family:St,stretch:"normal",weight:Ne,style:Ce}}));this.pdf.setFont(gt.ref.name,gt.ref.style)}else{var Me="";(Ne==="bold"||parseInt(Ne,10)>=700||Ce==="bold")&&(Me="bold"),Ce==="italic"&&(Me+="italic"),Me.length===0&&(Me="normal");for(var Ze="",ht={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},xt=0;xt<rt.length;xt++){if(this.pdf.internal.getFont(rt[xt],Me,{noFallback:!0,disableWarning:!0})!==void 0){Ze=rt[xt];break}if(Me==="bolditalic"&&this.pdf.internal.getFont(rt[xt],"bold",{noFallback:!0,disableWarning:!0})!==void 0)Ze=rt[xt],Me="bold";else if(this.pdf.internal.getFont(rt[xt],"normal",{noFallback:!0,disableWarning:!0})!==void 0){Ze=rt[xt],Me="normal";break}}if(Ze===""){for(var kt=0;kt<rt.length;kt++)if(ht[rt[kt]]){Ze=ht[rt[kt]];break}}Ze=Ze===""?"Times":Ze,this.pdf.setFont(Ze,Me)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(le){this.ctx.globalCompositeOperation=le}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(le){this.ctx.globalAlpha=le}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(le){this.ctx.lineDashOffset=le,q.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(le){this.ctx.lineDash=le,q.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(le){this.ctx.ignoreClearRect=!!le}})};u.prototype.setLineDash=function(L){this.lineDash=L},u.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},u.prototype.fill=function(){j.call(this,"fill",!1)},u.prototype.stroke=function(){j.call(this,"stroke",!1)},u.prototype.beginPath=function(){this.path=[{type:"begin"}]},u.prototype.moveTo=function(L,V){if(isNaN(L)||isNaN(V))throw $r.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var G=this.ctx.transform.applyToPoint(new o(L,V));this.path.push({type:"mt",x:G.x,y:G.y}),this.ctx.lastPoint=new o(L,V)},u.prototype.closePath=function(){var L=new o(0,0),V=0;for(V=this.path.length-1;V!==-1;V--)if(this.path[V].type==="begin"&&yr(this.path[V+1])==="object"&&typeof this.path[V+1].x=="number"){L=new o(this.path[V+1].x,this.path[V+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new o(L.x,L.y)},u.prototype.lineTo=function(L,V){if(isNaN(L)||isNaN(V))throw $r.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var G=this.ctx.transform.applyToPoint(new o(L,V));this.path.push({type:"lt",x:G.x,y:G.y}),this.ctx.lastPoint=new o(G.x,G.y)},u.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),j.call(this,null,!0)},u.prototype.quadraticCurveTo=function(L,V,G,Z){if(isNaN(G)||isNaN(Z)||isNaN(L)||isNaN(V))throw $r.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var te=this.ctx.transform.applyToPoint(new o(G,Z)),he=this.ctx.transform.applyToPoint(new o(L,V));this.path.push({type:"qct",x1:he.x,y1:he.y,x:te.x,y:te.y}),this.ctx.lastPoint=new o(te.x,te.y)},u.prototype.bezierCurveTo=function(L,V,G,Z,te,he){if(isNaN(te)||isNaN(he)||isNaN(L)||isNaN(V)||isNaN(G)||isNaN(Z))throw $r.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var fe=this.ctx.transform.applyToPoint(new o(te,he)),oe=this.ctx.transform.applyToPoint(new o(L,V)),we=this.ctx.transform.applyToPoint(new o(G,Z));this.path.push({type:"bct",x1:oe.x,y1:oe.y,x2:we.x,y2:we.y,x:fe.x,y:fe.y}),this.ctx.lastPoint=new o(fe.x,fe.y)},u.prototype.arc=function(L,V,G,Z,te,he){if(isNaN(L)||isNaN(V)||isNaN(G)||isNaN(Z)||isNaN(te))throw $r.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(he=!!he,!this.ctx.transform.isIdentity){var fe=this.ctx.transform.applyToPoint(new o(L,V));L=fe.x,V=fe.y;var oe=this.ctx.transform.applyToPoint(new o(0,G)),we=this.ctx.transform.applyToPoint(new o(0,0));G=Math.sqrt(Math.pow(oe.x-we.x,2)+Math.pow(oe.y-we.y,2))}Math.abs(te-Z)>=2*Math.PI&&(Z=0,te=2*Math.PI),this.path.push({type:"arc",x:L,y:V,radius:G,startAngle:Z,endAngle:te,counterclockwise:he})},u.prototype.arcTo=function(L,V,G,Z,te){throw new Error("arcTo not implemented.")},u.prototype.rect=function(L,V,G,Z){if(isNaN(L)||isNaN(V)||isNaN(G)||isNaN(Z))throw $r.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(L,V),this.lineTo(L+G,V),this.lineTo(L+G,V+Z),this.lineTo(L,V+Z),this.lineTo(L,V),this.lineTo(L+G,V),this.lineTo(L,V)},u.prototype.fillRect=function(L,V,G,Z){if(isNaN(L)||isNaN(V)||isNaN(G)||isNaN(Z))throw $r.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!m.call(this)){var te={};this.lineCap!=="butt"&&(te.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(te.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(L,V,G,Z),this.fill(),te.hasOwnProperty("lineCap")&&(this.lineCap=te.lineCap),te.hasOwnProperty("lineJoin")&&(this.lineJoin=te.lineJoin)}},u.prototype.strokeRect=function(L,V,G,Z){if(isNaN(L)||isNaN(V)||isNaN(G)||isNaN(Z))throw $r.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");v.call(this)||(this.beginPath(),this.rect(L,V,G,Z),this.stroke())},u.prototype.clearRect=function(L,V,G,Z){if(isNaN(L)||isNaN(V)||isNaN(G)||isNaN(Z))throw $r.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(L,V,G,Z))},u.prototype.save=function(L){L=typeof L!="boolean"||L;for(var V=this.pdf.internal.getCurrentPageInfo().pageNumber,G=0;G<this.pdf.internal.getNumberOfPages();G++)this.pdf.setPage(G+1),this.pdf.internal.out("q");if(this.pdf.setPage(V),L){this.ctx.fontSize=this.pdf.internal.getFontSize();var Z=new h(this.ctx);this.ctxStack.push(this.ctx),this.ctx=Z}},u.prototype.restore=function(L){L=typeof L!="boolean"||L;for(var V=this.pdf.internal.getCurrentPageInfo().pageNumber,G=0;G<this.pdf.internal.getNumberOfPages();G++)this.pdf.setPage(G+1),this.pdf.internal.out("Q");this.pdf.setPage(V),L&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},u.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var f=function(L){var V,G,Z,te;if(L.isCanvasGradient===!0&&(L=L.getColor()),!L)return{r:0,g:0,b:0,a:0,style:L};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(L))V=0,G=0,Z=0,te=0;else{var he=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(L);if(he!==null)V=parseInt(he[1]),G=parseInt(he[2]),Z=parseInt(he[3]),te=1;else if((he=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(L))!==null)V=parseInt(he[1]),G=parseInt(he[2]),Z=parseInt(he[3]),te=parseFloat(he[4]);else{if(te=1,typeof L=="string"&&L.charAt(0)!=="#"){var fe=new Q8(L);L=fe.ok?fe.toHex():"#000000"}L.length===4?(V=L.substring(1,2),V+=V,G=L.substring(2,3),G+=G,Z=L.substring(3,4),Z+=Z):(V=L.substring(1,3),G=L.substring(3,5),Z=L.substring(5,7)),V=parseInt(V,16),G=parseInt(G,16),Z=parseInt(Z,16)}}return{r:V,g:G,b:Z,a:te,style:L}},m=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},v=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};u.prototype.fillText=function(L,V,G,Z){if(isNaN(V)||isNaN(G)||typeof L!="string")throw $r.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(Z=isNaN(Z)?void 0:Z,!m.call(this)){var te=B(this.ctx.transform.rotation),he=this.ctx.transform.scaleX;A.call(this,{text:L,x:V,y:G,scale:he,angle:te,align:this.textAlign,maxWidth:Z})}},u.prototype.strokeText=function(L,V,G,Z){if(isNaN(V)||isNaN(G)||typeof L!="string")throw $r.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!v.call(this)){Z=isNaN(Z)?void 0:Z;var te=B(this.ctx.transform.rotation),he=this.ctx.transform.scaleX;A.call(this,{text:L,x:V,y:G,scale:he,renderingMode:"stroke",angle:te,align:this.textAlign,maxWidth:Z})}},u.prototype.measureText=function(L){if(typeof L!="string")throw $r.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var V=this.pdf,G=this.pdf.internal.scaleFactor,Z=V.internal.getFontSize(),te=V.getStringUnitWidth(L)*Z/V.internal.scaleFactor,he=function(fe){var oe=(fe=fe||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return oe}}),this};return new he({width:te*=Math.round(96*G/72*1e4)/1e4})},u.prototype.scale=function(L,V){if(isNaN(L)||isNaN(V))throw $r.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var G=new c(L,0,0,V,0,0);this.ctx.transform=this.ctx.transform.multiply(G)},u.prototype.rotate=function(L){if(isNaN(L))throw $r.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var V=new c(Math.cos(L),Math.sin(L),-Math.sin(L),Math.cos(L),0,0);this.ctx.transform=this.ctx.transform.multiply(V)},u.prototype.translate=function(L,V){if(isNaN(L)||isNaN(V))throw $r.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var G=new c(1,0,0,1,L,V);this.ctx.transform=this.ctx.transform.multiply(G)},u.prototype.transform=function(L,V,G,Z,te,he){if(isNaN(L)||isNaN(V)||isNaN(G)||isNaN(Z)||isNaN(te)||isNaN(he))throw $r.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var fe=new c(L,V,G,Z,te,he);this.ctx.transform=this.ctx.transform.multiply(fe)},u.prototype.setTransform=function(L,V,G,Z,te,he){L=isNaN(L)?1:L,V=isNaN(V)?0:V,G=isNaN(G)?0:G,Z=isNaN(Z)?1:Z,te=isNaN(te)?0:te,he=isNaN(he)?0:he,this.ctx.transform=new c(L,V,G,Z,te,he)};var x=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};u.prototype.drawImage=function(L,V,G,Z,te,he,fe,oe,we){var je=this.pdf.getImageProperties(L),ve=1,Le=1,ge=1,le=1;Z!==void 0&&oe!==void 0&&(ge=oe/Z,le=we/te,ve=je.width/Z*oe/Z,Le=je.height/te*we/te),he===void 0&&(he=V,fe=G,V=0,G=0),Z!==void 0&&oe===void 0&&(oe=Z,we=te),Z===void 0&&oe===void 0&&(oe=je.width,we=je.height);for(var re,Ce=this.ctx.transform.decompose(),Ne=B(Ce.rotate.shx),xe=new c,Fe=(xe=(xe=(xe=xe.multiply(Ce.translate)).multiply(Ce.skew)).multiply(Ce.scale)).applyToRectangle(new l(he-V*ge,fe-G*le,Z*ve,te*Le)),nt=p.call(this,Fe),rt=[],gt=0;gt<nt.length;gt+=1)rt.indexOf(nt[gt])===-1&&rt.push(nt[gt]);if(y(rt),this.autoPaging)for(var Me=rt[0],Ze=rt[rt.length-1],ht=Me;ht<Ze+1;ht++){this.pdf.setPage(ht);var xt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],kt=ht===1?this.posY+this.margin[0]:this.margin[0],St=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Bt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],lt=ht===1?0:St+(ht-2)*Bt;if(this.ctx.clip_path.length!==0){var jr=this.path;re=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=b(re,this.posX+this.margin[3],-lt+kt+this.ctx.prevPageLastElemOffset),E.call(this,"fill",!0),this.path=jr}var Xt=JSON.parse(JSON.stringify(Fe));Xt=b([Xt],this.posX+this.margin[3],-lt+kt+this.ctx.prevPageLastElemOffset)[0];var qn=(ht>Me||ht<Ze)&&x.call(this);qn&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],xt,Bt,null).clip().discardPath()),this.pdf.addImage(L,"JPEG",Xt.x,Xt.y,Xt.w,Xt.h,null,null,Ne),qn&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(L,"JPEG",Fe.x,Fe.y,Fe.w,Fe.h,null,null,Ne)};var p=function(L,V,G){var Z=[];V=V||this.pdf.internal.pageSize.width,G=G||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var te=this.posY+this.ctx.prevPageLastElemOffset;switch(L.type){default:case"mt":case"lt":Z.push(Math.floor((L.y+te)/G)+1);break;case"arc":Z.push(Math.floor((L.y+te-L.radius)/G)+1),Z.push(Math.floor((L.y+te+L.radius)/G)+1);break;case"qct":var he=U(this.ctx.lastPoint.x,this.ctx.lastPoint.y,L.x1,L.y1,L.x,L.y);Z.push(Math.floor((he.y+te)/G)+1),Z.push(Math.floor((he.y+he.h+te)/G)+1);break;case"bct":var fe=H(this.ctx.lastPoint.x,this.ctx.lastPoint.y,L.x1,L.y1,L.x2,L.y2,L.x,L.y);Z.push(Math.floor((fe.y+te)/G)+1),Z.push(Math.floor((fe.y+fe.h+te)/G)+1);break;case"rect":Z.push(Math.floor((L.y+te)/G)+1),Z.push(Math.floor((L.y+L.h+te)/G)+1)}for(var oe=0;oe<Z.length;oe+=1)for(;this.pdf.internal.getNumberOfPages()<Z[oe];)g.call(this);return Z},g=function(){var L=this.fillStyle,V=this.strokeStyle,G=this.font,Z=this.lineCap,te=this.lineWidth,he=this.lineJoin;this.pdf.addPage(),this.fillStyle=L,this.strokeStyle=V,this.font=G,this.lineCap=Z,this.lineWidth=te,this.lineJoin=he},b=function(L,V,G){for(var Z=0;Z<L.length;Z++)switch(L[Z].type){case"bct":L[Z].x2+=V,L[Z].y2+=G;case"qct":L[Z].x1+=V,L[Z].y1+=G;case"mt":case"lt":case"arc":default:L[Z].x+=V,L[Z].y+=G}return L},y=function(L){return L.sort(function(V,G){return V-G})},j=function(L,V){for(var G,Z,te=this.fillStyle,he=this.strokeStyle,fe=this.lineCap,oe=this.lineWidth,we=Math.abs(oe*this.ctx.transform.scaleX),je=this.lineJoin,ve=JSON.parse(JSON.stringify(this.path)),Le=JSON.parse(JSON.stringify(this.path)),ge=[],le=0;le<Le.length;le++)if(Le[le].x!==void 0)for(var re=p.call(this,Le[le]),Ce=0;Ce<re.length;Ce+=1)ge.indexOf(re[Ce])===-1&&ge.push(re[Ce]);for(var Ne=0;Ne<ge.length;Ne++)for(;this.pdf.internal.getNumberOfPages()<ge[Ne];)g.call(this);if(y(ge),this.autoPaging)for(var xe=ge[0],Fe=ge[ge.length-1],nt=xe;nt<Fe+1;nt++){this.pdf.setPage(nt),this.fillStyle=te,this.strokeStyle=he,this.lineCap=fe,this.lineWidth=we,this.lineJoin=je;var rt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],gt=nt===1?this.posY+this.margin[0]:this.margin[0],Me=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Ze=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],ht=nt===1?0:Me+(nt-2)*Ze;if(this.ctx.clip_path.length!==0){var xt=this.path;G=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=b(G,this.posX+this.margin[3],-ht+gt+this.ctx.prevPageLastElemOffset),E.call(this,L,!0),this.path=xt}if(Z=JSON.parse(JSON.stringify(ve)),this.path=b(Z,this.posX+this.margin[3],-ht+gt+this.ctx.prevPageLastElemOffset),V===!1||nt===0){var kt=(nt>xe||nt<Fe)&&x.call(this);kt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],rt,Ze,null).clip().discardPath()),E.call(this,L,V),kt&&this.pdf.restoreGraphicsState()}this.lineWidth=oe}else this.lineWidth=we,E.call(this,L,V),this.lineWidth=oe;this.path=ve},E=function(L,V){if((L!=="stroke"||V||!v.call(this))&&(L==="stroke"||V||!m.call(this))){for(var G,Z,te=[],he=this.path,fe=0;fe<he.length;fe++){var oe=he[fe];switch(oe.type){case"begin":te.push({begin:!0});break;case"close":te.push({close:!0});break;case"mt":te.push({start:oe,deltas:[],abs:[]});break;case"lt":var we=te.length;if(he[fe-1]&&!isNaN(he[fe-1].x)&&(G=[oe.x-he[fe-1].x,oe.y-he[fe-1].y],we>0)){for(;we>=0;we--)if(te[we-1].close!==!0&&te[we-1].begin!==!0){te[we-1].deltas.push(G),te[we-1].abs.push(oe);break}}break;case"bct":G=[oe.x1-he[fe-1].x,oe.y1-he[fe-1].y,oe.x2-he[fe-1].x,oe.y2-he[fe-1].y,oe.x-he[fe-1].x,oe.y-he[fe-1].y],te[te.length-1].deltas.push(G);break;case"qct":var je=he[fe-1].x+2/3*(oe.x1-he[fe-1].x),ve=he[fe-1].y+2/3*(oe.y1-he[fe-1].y),Le=oe.x+2/3*(oe.x1-oe.x),ge=oe.y+2/3*(oe.y1-oe.y),le=oe.x,re=oe.y;G=[je-he[fe-1].x,ve-he[fe-1].y,Le-he[fe-1].x,ge-he[fe-1].y,le-he[fe-1].x,re-he[fe-1].y],te[te.length-1].deltas.push(G);break;case"arc":te.push({deltas:[],abs:[],arc:!0}),Array.isArray(te[te.length-1].abs)&&te[te.length-1].abs.push(oe)}}Z=V?null:L==="stroke"?"stroke":"fill";for(var Ce=!1,Ne=0;Ne<te.length;Ne++)if(te[Ne].arc)for(var xe=te[Ne].abs,Fe=0;Fe<xe.length;Fe++){var nt=xe[Fe];nt.type==="arc"?w.call(this,nt.x,nt.y,nt.radius,nt.startAngle,nt.endAngle,nt.counterclockwise,void 0,V,!Ce):O.call(this,nt.x,nt.y),Ce=!0}else if(te[Ne].close===!0)this.pdf.internal.out("h"),Ce=!1;else if(te[Ne].begin!==!0){var rt=te[Ne].start.x,gt=te[Ne].start.y;D.call(this,te[Ne].deltas,rt,gt),Ce=!0}Z&&_.call(this,Z),V&&k.call(this)}},S=function(L){var V=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,G=V*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return L-G;case"top":return L+V-G;case"hanging":return L+V-2*G;case"middle":return L+V/2-G;case"ideographic":return L;case"alphabetic":default:return L}},N=function(L){return L+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};u.prototype.createLinearGradient=function(){var L=function(){};return L.colorStops=[],L.addColorStop=function(V,G){this.colorStops.push([V,G])},L.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},L.isCanvasGradient=!0,L},u.prototype.createPattern=function(){return this.createLinearGradient()},u.prototype.createRadialGradient=function(){return this.createLinearGradient()};var w=function(L,V,G,Z,te,he,fe,oe,we){for(var je=M.call(this,G,Z,te,he),ve=0;ve<je.length;ve++){var Le=je[ve];ve===0&&(we?T.call(this,Le.x1+L,Le.y1+V):O.call(this,Le.x1+L,Le.y1+V)),F.call(this,L,V,Le.x2,Le.y2,Le.x3,Le.y3,Le.x4,Le.y4)}oe?k.call(this):_.call(this,fe)},_=function(L){switch(L){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},k=function(){this.pdf.clip(),this.pdf.discardPath()},T=function(L,V){this.pdf.internal.out(r(L)+" "+s(V)+" m")},A=function(L){var V;switch(L.align){case"right":case"end":V="right";break;case"center":V="center";break;case"left":case"start":default:V="left"}var G=this.pdf.getTextDimensions(L.text),Z=S.call(this,L.y),te=N.call(this,Z)-G.h,he=this.ctx.transform.applyToPoint(new o(L.x,Z)),fe=this.ctx.transform.decompose(),oe=new c;oe=(oe=(oe=oe.multiply(fe.translate)).multiply(fe.skew)).multiply(fe.scale);for(var we,je,ve,Le=this.ctx.transform.applyToRectangle(new l(L.x,Z,G.w,G.h)),ge=oe.applyToRectangle(new l(L.x,te,G.w,G.h)),le=p.call(this,ge),re=[],Ce=0;Ce<le.length;Ce+=1)re.indexOf(le[Ce])===-1&&re.push(le[Ce]);if(y(re),this.autoPaging)for(var Ne=re[0],xe=re[re.length-1],Fe=Ne;Fe<xe+1;Fe++){this.pdf.setPage(Fe);var nt=Fe===1?this.posY+this.margin[0]:this.margin[0],rt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],gt=this.pdf.internal.pageSize.height-this.margin[2],Me=gt-this.margin[0],Ze=this.pdf.internal.pageSize.width-this.margin[1],ht=Ze-this.margin[3],xt=Fe===1?0:rt+(Fe-2)*Me;if(this.ctx.clip_path.length!==0){var kt=this.path;we=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=b(we,this.posX+this.margin[3],-1*xt+nt),E.call(this,"fill",!0),this.path=kt}var St=b([JSON.parse(JSON.stringify(ge))],this.posX+this.margin[3],-xt+nt+this.ctx.prevPageLastElemOffset)[0];L.scale>=.01&&(je=this.pdf.internal.getFontSize(),this.pdf.setFontSize(je*L.scale),ve=this.lineWidth,this.lineWidth=ve*L.scale);var Bt=this.autoPaging!=="text";if(Bt||St.y+St.h<=gt){if(Bt||St.y>=nt&&St.x<=Ze){var lt=Bt?L.text:this.pdf.splitTextToSize(L.text,L.maxWidth||Ze-St.x)[0],jr=b([JSON.parse(JSON.stringify(Le))],this.posX+this.margin[3],-xt+nt+this.ctx.prevPageLastElemOffset)[0],Xt=Bt&&(Fe>Ne||Fe<xe)&&x.call(this);Xt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],ht,Me,null).clip().discardPath()),this.pdf.text(lt,jr.x,jr.y,{angle:L.angle,align:V,renderingMode:L.renderingMode}),Xt&&this.pdf.restoreGraphicsState()}}else St.y<gt&&(this.ctx.prevPageLastElemOffset+=gt-St.y);L.scale>=.01&&(this.pdf.setFontSize(je),this.lineWidth=ve)}else L.scale>=.01&&(je=this.pdf.internal.getFontSize(),this.pdf.setFontSize(je*L.scale),ve=this.lineWidth,this.lineWidth=ve*L.scale),this.pdf.text(L.text,he.x+this.posX,he.y+this.posY,{angle:L.angle,align:V,renderingMode:L.renderingMode,maxWidth:L.maxWidth}),L.scale>=.01&&(this.pdf.setFontSize(je),this.lineWidth=ve)},O=function(L,V,G,Z){G=G||0,Z=Z||0,this.pdf.internal.out(r(L+G)+" "+s(V+Z)+" l")},D=function(L,V,G){return this.pdf.lines(L,V,G,null,null)},F=function(L,V,G,Z,te,he,fe,oe){this.pdf.internal.out([t(a(G+L)),t(i(Z+V)),t(a(te+L)),t(i(he+V)),t(a(fe+L)),t(i(oe+V)),"c"].join(" "))},M=function(L,V,G,Z){for(var te=2*Math.PI,he=Math.PI/2;V>G;)V-=te;var fe=Math.abs(G-V);fe<te&&Z&&(fe=te-fe);for(var oe=[],we=Z?-1:1,je=V;fe>1e-5;){var ve=je+we*Math.min(fe,he);oe.push(R.call(this,L,je,ve)),fe-=Math.abs(ve-je),je=ve}return oe},R=function(L,V,G){var Z=(G-V)/2,te=L*Math.cos(Z),he=L*Math.sin(Z),fe=te,oe=-he,we=fe*fe+oe*oe,je=we+fe*te+oe*he,ve=4/3*(Math.sqrt(2*we*je)-je)/(fe*he-oe*te),Le=fe-ve*oe,ge=oe+ve*fe,le=Le,re=-ge,Ce=Z+V,Ne=Math.cos(Ce),xe=Math.sin(Ce);return{x1:L*Math.cos(V),y1:L*Math.sin(V),x2:Le*Ne-ge*xe,y2:Le*xe+ge*Ne,x3:le*Ne-re*xe,y3:le*xe+re*Ne,x4:L*Math.cos(G),y4:L*Math.sin(G)}},B=function(L){return 180*L/Math.PI},U=function(L,V,G,Z,te,he){var fe=L+.5*(G-L),oe=V+.5*(Z-V),we=te+.5*(G-te),je=he+.5*(Z-he),ve=Math.min(L,te,fe,we),Le=Math.max(L,te,fe,we),ge=Math.min(V,he,oe,je),le=Math.max(V,he,oe,je);return new l(ve,ge,Le-ve,le-ge)},H=function(L,V,G,Z,te,he,fe,oe){var we,je,ve,Le,ge,le,re,Ce,Ne,xe,Fe,nt,rt,gt,Me=G-L,Ze=Z-V,ht=te-G,xt=he-Z,kt=fe-te,St=oe-he;for(je=0;je<41;je++)Ne=(re=(ve=L+(we=je/40)*Me)+we*((ge=G+we*ht)-ve))+we*(ge+we*(te+we*kt-ge)-re),xe=(Ce=(Le=V+we*Ze)+we*((le=Z+we*xt)-Le))+we*(le+we*(he+we*St-le)-Ce),je==0?(Fe=Ne,nt=xe,rt=Ne,gt=xe):(Fe=Math.min(Fe,Ne),nt=Math.min(nt,xe),rt=Math.max(rt,Ne),gt=Math.max(gt,xe));return new l(Math.round(Fe),Math.round(nt),Math.round(rt-Fe),Math.round(gt-nt))},q=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var L,V,G=(L=this.ctx.lineDash,V=this.ctx.lineDashOffset,JSON.stringify({lineDash:L,lineDashOffset:V}));this.prevLineDash!==G&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=G)}}})(Tt.API),function(e){var t=function(i){var o,l,c,d,h,u,f,m,v,x;for(l=[],c=0,d=(i+=o="\0\0\0\0".slice(i.length%4||4)).length;d>c;c+=4)(h=(i.charCodeAt(c)<<24)+(i.charCodeAt(c+1)<<16)+(i.charCodeAt(c+2)<<8)+i.charCodeAt(c+3))!==0?(u=(h=((h=((h=((h=(h-(x=h%85))/85)-(v=h%85))/85)-(m=h%85))/85)-(f=h%85))/85)%85,l.push(u+33,f+33,m+33,v+33,x+33)):l.push(122);return function(p,g){for(var b=g;b>0;b--)p.pop()}(l,o.length),String.fromCharCode.apply(String,l)+"~>"},r=function(i){var o,l,c,d,h,u=String,f="length",m=255,v="charCodeAt",x="slice",p="replace";for(i[x](-2),i=i[x](0,-2)[p](/\s/g,"")[p]("z","!!!!!"),c=[],d=0,h=(i+=o="uuuuu"[x](i[f]%5||5))[f];h>d;d+=5)l=52200625*(i[v](d)-33)+614125*(i[v](d+1)-33)+7225*(i[v](d+2)-33)+85*(i[v](d+3)-33)+(i[v](d+4)-33),c.push(m&l>>24,m&l>>16,m&l>>8,m&l);return function(g,b){for(var y=b;y>0;y--)g.pop()}(c,o[f]),u.fromCharCode.apply(u,c)},s=function(i){var o=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((i=i.replace(/\s/g,"")).indexOf(">")!==-1&&(i=i.substr(0,i.indexOf(">"))),i.length%2&&(i+="0"),o.test(i)===!1)return"";for(var l="",c=0;c<i.length;c+=2)l+=String.fromCharCode("0x"+(i[c]+i[c+1]));return l},a=function(i){for(var o=new Uint8Array(i.length),l=i.length;l--;)o[l]=i.charCodeAt(l);return i=(o=NS(o)).reduce(function(c,d){return c+String.fromCharCode(d)},"")};e.processDataByFilters=function(i,o){var l=0,c=i||"",d=[];for(typeof(o=o||[])=="string"&&(o=[o]),l=0;l<o.length;l+=1)switch(o[l]){case"ASCII85Decode":case"/ASCII85Decode":c=r(c),d.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":c=t(c),d.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":c=s(c),d.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":c=c.split("").map(function(h){return("0"+h.charCodeAt().toString(16)).slice(-2)}).join("")+">",d.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":c=a(c),d.push("/FlateDecode");break;default:throw new Error('The filter: "'+o[l]+'" is not implemented')}return{data:c,reverseChain:d.reverse().join(" ")}}}(Tt.API),function(e){e.loadFile=function(t,r,s){return function(a,i,o){i=i!==!1,o=typeof o=="function"?o:function(){};var l=void 0;try{l=function(c,d,h){var u=new XMLHttpRequest,f=0,m=function(v){var x=v.length,p=[],g=String.fromCharCode;for(f=0;f<x;f+=1)p.push(g(255&v.charCodeAt(f)));return p.join("")};if(u.open("GET",c,!d),u.overrideMimeType("text/plain; charset=x-user-defined"),d===!1&&(u.onload=function(){u.status===200?h(m(this.responseText)):h(void 0)}),u.send(null),d&&u.status===200)return m(u.responseText)}(a,i,o)}catch{}return l}(t,r,s)},e.loadImageFile=e.loadFile}(Tt.API),function(e){function t(){return($t.html2canvas?Promise.resolve($t.html2canvas):td(()=>import("./html2canvas.esm-e0a7d97b.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load html2canvas: "+o))}).then(function(o){return o.default?o.default:o})}function r(){return($t.DOMPurify?Promise.resolve($t.DOMPurify):td(()=>import("./purify.es-2de9db7f.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load dompurify: "+o))}).then(function(o){return o.default?o.default:o})}var s=function(o){var l=yr(o);return l==="undefined"?"undefined":l==="string"||o instanceof String?"string":l==="number"||o instanceof Number?"number":l==="function"||o instanceof Function?"function":o&&o.constructor===Array?"array":o&&o.nodeType===1?"element":l==="object"?"object":"unknown"},a=function(o,l){var c=document.createElement(o);for(var d in l.className&&(c.className=l.className),l.innerHTML&&l.dompurify&&(c.innerHTML=l.dompurify.sanitize(l.innerHTML)),l.style)c.style[d]=l.style[d];return c},i=function o(l){var c=Object.assign(o.convert(Promise.resolve()),JSON.parse(JSON.stringify(o.template))),d=o.convert(Promise.resolve(),c);return d=(d=d.setProgress(1,o,1,[o])).set(l)};(i.prototype=Object.create(Promise.prototype)).constructor=i,i.convert=function(o,l){return o.__proto__=l||i.prototype,o},i.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},i.prototype.from=function(o,l){return this.then(function(){switch(l=l||function(c){switch(s(c)){case"string":return"string";case"element":return c.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(o)){case"string":return this.then(r).then(function(c){return this.set({src:a("div",{innerHTML:o,dompurify:c})})});case"element":return this.set({src:o});case"canvas":return this.set({canvas:o});case"img":return this.set({img:o});default:return this.error("Unknown source type.")}})},i.prototype.to=function(o){switch(o){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},i.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var o={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},l=function c(d,h){for(var u=d.nodeType===3?document.createTextNode(d.nodeValue):d.cloneNode(!1),f=d.firstChild;f;f=f.nextSibling)h!==!0&&f.nodeType===1&&f.nodeName==="SCRIPT"||u.appendChild(c(f,h));return d.nodeType===1&&(d.nodeName==="CANVAS"?(u.width=d.width,u.height=d.height,u.getContext("2d").drawImage(d,0,0)):d.nodeName!=="TEXTAREA"&&d.nodeName!=="SELECT"||(u.value=d.value),u.addEventListener("load",function(){u.scrollTop=d.scrollTop,u.scrollLeft=d.scrollLeft},!0)),u}(this.prop.src,this.opt.html2canvas.javascriptEnabled);l.tagName==="BODY"&&(o.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=a("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=a("div",{className:"html2pdf__container",style:o}),this.prop.container.appendChild(l),this.prop.container.firstChild.appendChild(a("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},i.prototype.toCanvas=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(t).then(function(l){var c=Object.assign({},this.opt.html2canvas);return delete c.onrendered,l(this.prop.container,c)}).then(function(l){(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},i.prototype.toContext2d=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(t).then(function(l){var c=this.opt.jsPDF,d=this.opt.fontFaces,h=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,u=Object.assign({async:!0,allowTaint:!0,scale:h,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete u.onrendered,c.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,c.context2d.posX=this.opt.x,c.context2d.posY=this.opt.y,c.context2d.margin=this.opt.margin,c.context2d.fontFaces=d,d)for(var f=0;f<d.length;++f){var m=d[f],v=m.src.find(function(x){return x.format==="truetype"});v&&c.addFont(v.url,m.ref.name,m.ref.style)}return u.windowHeight=u.windowHeight||0,u.windowHeight=u.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):u.windowHeight,c.context2d.save(!0),l(this.prop.container,u)}).then(function(l){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},i.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var o=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=o})},i.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},i.prototype.output=function(o,l,c){return(c=c||"pdf").toLowerCase()==="img"||c.toLowerCase()==="image"?this.outputImg(o,l):this.outputPdf(o,l)},i.prototype.outputPdf=function(o,l){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(o,l)})},i.prototype.outputImg=function(o){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(o){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+o+'" is not supported.'}})},i.prototype.save=function(o){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(o?{filename:o}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},i.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},i.prototype.set=function(o){if(s(o)!=="object")return this;var l=Object.keys(o||{}).map(function(c){if(c in i.template.prop)return function(){this.prop[c]=o[c]};switch(c){case"margin":return this.setMargin.bind(this,o.margin);case"jsPDF":return function(){return this.opt.jsPDF=o.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,o.pageSize);default:return function(){this.opt[c]=o[c]}}},this);return this.then(function(){return this.thenList(l)})},i.prototype.get=function(o,l){return this.then(function(){var c=o in i.template.prop?this.prop[o]:this.opt[o];return l?l(c):c})},i.prototype.setMargin=function(o){return this.then(function(){switch(s(o)){case"number":o=[o,o,o,o];case"array":if(o.length===2&&(o=[o[0],o[1],o[0],o[1]]),o.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=o}).then(this.setPageSize)},i.prototype.setPageSize=function(o){function l(c,d){return Math.floor(c*d/72*96)}return this.then(function(){(o=o||Tt.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(o.inner={width:o.width-this.opt.margin[1]-this.opt.margin[3],height:o.height-this.opt.margin[0]-this.opt.margin[2]},o.inner.px={width:l(o.inner.width,o.k),height:l(o.inner.height,o.k)},o.inner.ratio=o.inner.height/o.inner.width),this.prop.pageSize=o})},i.prototype.setProgress=function(o,l,c,d){return o!=null&&(this.progress.val=o),l!=null&&(this.progress.state=l),c!=null&&(this.progress.n=c),d!=null&&(this.progress.stack=d),this.progress.ratio=this.progress.val/this.progress.state,this},i.prototype.updateProgress=function(o,l,c,d){return this.setProgress(o?this.progress.val+o:null,l||null,c?this.progress.n+c:null,d?this.progress.stack.concat(d):null)},i.prototype.then=function(o,l){var c=this;return this.thenCore(o,l,function(d,h){return c.updateProgress(null,null,1,[d]),Promise.prototype.then.call(this,function(u){return c.updateProgress(null,d),u}).then(d,h).then(function(u){return c.updateProgress(1),u})})},i.prototype.thenCore=function(o,l,c){c=c||Promise.prototype.then,o&&(o=o.bind(this)),l&&(l=l.bind(this));var d=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:i.convert(Object.assign({},this),Promise.prototype),h=c.call(d,o,l);return i.convert(h,this.__proto__)},i.prototype.thenExternal=function(o,l){return Promise.prototype.then.call(this,o,l)},i.prototype.thenList=function(o){var l=this;return o.forEach(function(c){l=l.thenCore(c)}),l},i.prototype.catch=function(o){o&&(o=o.bind(this));var l=Promise.prototype.catch.call(this,o);return i.convert(l,this)},i.prototype.catchExternal=function(o){return Promise.prototype.catch.call(this,o)},i.prototype.error=function(o){return this.then(function(){throw new Error(o)})},i.prototype.using=i.prototype.set,i.prototype.saveAs=i.prototype.save,i.prototype.export=i.prototype.output,i.prototype.run=i.prototype.then,Tt.getPageSize=function(o,l,c){if(yr(o)==="object"){var d=o;o=d.orientation,l=d.unit||l,c=d.format||c}l=l||"mm",c=c||"a4",o=(""+(o||"P")).toLowerCase();var h,u=(""+c).toLowerCase(),f={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(l){case"pt":h=1;break;case"mm":h=72/25.4;break;case"cm":h=72/2.54;break;case"in":h=72;break;case"px":h=.75;break;case"pc":case"em":h=12;break;case"ex":h=6;break;default:throw"Invalid unit: "+l}var m,v=0,x=0;if(f.hasOwnProperty(u))v=f[u][1]/h,x=f[u][0]/h;else try{v=c[1],x=c[0]}catch{throw new Error("Invalid format: "+c)}if(o==="p"||o==="portrait")o="p",x>v&&(m=x,x=v,v=m);else{if(o!=="l"&&o!=="landscape")throw"Invalid orientation: "+o;o="l",v>x&&(m=x,x=v,v=m)}return{width:x,height:v,unit:l,k:h,orientation:o}},e.html=function(o,l){(l=l||{}).callback=l.callback||function(){},l.html2canvas=l.html2canvas||{},l.html2canvas.canvas=l.html2canvas.canvas||this.canvas,l.jsPDF=l.jsPDF||this,l.fontFaces=l.fontFaces?l.fontFaces.map(TS):null;var c=new i(l);return l.worker?c:c.from(o).doCallback()}}(Tt.API),Tt.API.addJS=function(e){return _I=e,this.internal.events.subscribe("postPutResources",function(){P0=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(P0+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),TI=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+_I+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){P0!==void 0&&TI!==void 0&&this.internal.out("/Names <</JavaScript "+P0+" 0 R>>")}),this},function(e){var t;e.events.push(["postPutResources",function(){var r=this,s=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var a=r.outline.render().split(/\r\n/),i=0;i<a.length;i++){var o=a[i],l=s.exec(o);if(l!=null){var c=l[1];r.internal.newObjectDeferredBegin(c,!1)}r.internal.write(o)}if(this.outline.createNamedDestinations){var d=this.internal.pages.length,h=[];for(i=0;i<d;i++){var u=r.internal.newObject();h.push(u);var f=r.internal.getPageInfo(i+1);r.internal.write("<< /D["+f.objId+" 0 R /XYZ null null null]>> endobj")}var m=r.internal.newObject();for(r.internal.write("<< /Names [ "),i=0;i<h.length;i++)r.internal.write("(page_"+(i+1)+")"+h[i]+" 0 R");r.internal.write(" ] >>","endobj"),t=r.internal.newObject(),r.internal.write("<< /Dests "+m+" 0 R"),r.internal.write(">>","endobj")}}]),e.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+t+" 0 R"))}]),e.events.push(["initialized",function(){var r=this;r.outline={createNamedDestinations:!1,root:{children:[]}},r.outline.add=function(s,a,i){var o={title:a,options:i,children:[]};return s==null&&(s=this.root),s.children.push(o),o},r.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=r,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},r.outline.genIds_r=function(s){s.id=r.internal.newObjectDeferred();for(var a=0;a<s.children.length;a++)this.genIds_r(s.children[a])},r.outline.renderRoot=function(s){this.objStart(s),this.line("/Type /Outlines"),s.children.length>0&&(this.line("/First "+this.makeRef(s.children[0])),this.line("/Last "+this.makeRef(s.children[s.children.length-1]))),this.line("/Count "+this.count_r({count:0},s)),this.objEnd()},r.outline.renderItems=function(s){for(var a=this.ctx.pdf.internal.getVerticalCoordinateString,i=0;i<s.children.length;i++){var o=s.children[i];this.objStart(o),this.line("/Title "+this.makeString(o.title)),this.line("/Parent "+this.makeRef(s)),i>0&&this.line("/Prev "+this.makeRef(s.children[i-1])),i<s.children.length-1&&this.line("/Next "+this.makeRef(s.children[i+1])),o.children.length>0&&(this.line("/First "+this.makeRef(o.children[0])),this.line("/Last "+this.makeRef(o.children[o.children.length-1])));var l=this.count=this.count_r({count:0},o);if(l>0&&this.line("/Count "+l),o.options&&o.options.pageNumber){var c=r.internal.getPageInfo(o.options.pageNumber);this.line("/Dest ["+c.objId+" 0 R /XYZ 0 "+a(0)+" 0]")}this.objEnd()}for(var d=0;d<s.children.length;d++)this.renderItems(s.children[d])},r.outline.line=function(s){this.ctx.val+=s+`\r
`},r.outline.makeRef=function(s){return s.id+" 0 R"},r.outline.makeString=function(s){return"("+r.internal.pdfEscape(s)+")"},r.outline.objStart=function(s){this.ctx.val+=`\r
`+s.id+` 0 obj\r
<<\r
`},r.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},r.outline.count_r=function(s,a){for(var i=0;i<a.children.length;i++)s.count++,this.count_r(s,a.children[i]);return s.count}}])}(Tt.API),function(e){var t=[192,193,194,195,196,197,198,199];e.processJPEG=function(r,s,a,i,o,l){var c,d=this.decode.DCT_DECODE,h=null;if(typeof r=="string"||this.__addimage__.isArrayBuffer(r)||this.__addimage__.isArrayBufferView(r)){switch(r=o||r,r=this.__addimage__.isArrayBuffer(r)?new Uint8Array(r):r,(c=function(u){for(var f,m=256*u.charCodeAt(4)+u.charCodeAt(5),v=u.length,x={width:0,height:0,numcomponents:1},p=4;p<v;p+=2){if(p+=m,t.indexOf(u.charCodeAt(p+1))!==-1){f=256*u.charCodeAt(p+5)+u.charCodeAt(p+6),x={width:256*u.charCodeAt(p+7)+u.charCodeAt(p+8),height:f,numcomponents:u.charCodeAt(p+9)};break}m=256*u.charCodeAt(p+2)+u.charCodeAt(p+3)}return x}(r=this.__addimage__.isArrayBufferView(r)?this.__addimage__.arrayBufferToBinaryString(r):r)).numcomponents){case 1:l=this.color_spaces.DEVICE_GRAY;break;case 4:l=this.color_spaces.DEVICE_CMYK;break;case 3:l=this.color_spaces.DEVICE_RGB}h={data:r,width:c.width,height:c.height,colorSpace:l,bitsPerComponent:8,filter:d,index:s,alias:a}}return h}}(Tt.API);var jh,T0,II,kI,DI,Vle=function(){var e,t,r;function s(i){var o,l,c,d,h,u,f,m,v,x,p,g,b,y;for(this.data=i,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},u=null;;){switch(o=this.readUInt32(),v=(function(){var j,E;for(E=[],j=0;j<4;++j)E.push(String.fromCharCode(this.data[this.pos++]));return E}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(o);break;case"fcTL":u&&this.animation.frames.push(u),this.pos+=4,u={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},h=this.readUInt16(),d=this.readUInt16()||100,u.delay=1e3*h/d,u.disposeOp=this.data[this.pos++],u.blendOp=this.data[this.pos++],u.data=[];break;case"IDAT":case"fdAT":for(v==="fdAT"&&(this.pos+=4,o-=4),i=(u!=null?u.data:void 0)||this.imgData,g=0;0<=o?g<o:g>o;0<=o?++g:--g)i.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(c=this.palette.length/3,this.transparency.indexed=this.read(o),this.transparency.indexed.length>c)throw new Error("More transparent colors than palette size");if((x=c-this.transparency.indexed.length)>0)for(b=0;0<=x?b<x:b>x;0<=x?++b:--b)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(o)[0];break;case 2:this.transparency.rgb=this.read(o)}break;case"tEXt":f=(p=this.read(o)).indexOf(0),m=String.fromCharCode.apply(String,p.slice(0,f)),this.text[m]=String.fromCharCode.apply(String,p.slice(f+1));break;case"IEND":return u&&this.animation.frames.push(u),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=(y=this.colorType)===4||y===6,l=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*l,this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=o}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}s.prototype.read=function(i){var o,l;for(l=[],o=0;0<=i?o<i:o>i;0<=i?++o:--o)l.push(this.data[this.pos++]);return l},s.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},s.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},s.prototype.decodePixels=function(i){var o=this.pixelBitlength/8,l=new Uint8Array(this.width*this.height*o),c=0,d=this;if(i==null&&(i=this.imgData),i.length===0)return new Uint8Array(0);function h(u,f,m,v){var x,p,g,b,y,j,E,S,N,w,_,k,T,A,O,D,F,M,R,B,U,H=Math.ceil((d.width-u)/m),q=Math.ceil((d.height-f)/v),L=d.width==H&&d.height==q;for(A=o*H,k=L?l:new Uint8Array(A*q),j=i.length,T=0,p=0;T<q&&c<j;){switch(i[c++]){case 0:for(b=F=0;F<A;b=F+=1)k[p++]=i[c++];break;case 1:for(b=M=0;M<A;b=M+=1)x=i[c++],y=b<o?0:k[p-o],k[p++]=(x+y)%256;break;case 2:for(b=R=0;R<A;b=R+=1)x=i[c++],g=(b-b%o)/o,O=T&&k[(T-1)*A+g*o+b%o],k[p++]=(O+x)%256;break;case 3:for(b=B=0;B<A;b=B+=1)x=i[c++],g=(b-b%o)/o,y=b<o?0:k[p-o],O=T&&k[(T-1)*A+g*o+b%o],k[p++]=(x+Math.floor((y+O)/2))%256;break;case 4:for(b=U=0;U<A;b=U+=1)x=i[c++],g=(b-b%o)/o,y=b<o?0:k[p-o],T===0?O=D=0:(O=k[(T-1)*A+g*o+b%o],D=g&&k[(T-1)*A+(g-1)*o+b%o]),E=y+O-D,S=Math.abs(E-y),w=Math.abs(E-O),_=Math.abs(E-D),N=S<=w&&S<=_?y:w<=_?O:D,k[p++]=(x+N)%256;break;default:throw new Error("Invalid filter algorithm: "+i[c-1])}if(!L){var V=((f+T*v)*d.width+u)*o,G=T*A;for(b=0;b<H;b+=1){for(var Z=0;Z<o;Z+=1)l[V++]=k[G++];V+=(m-1)*o}}T++}}return i=ble(i),d.interlaceMethod==1?(h(0,0,8,8),h(4,0,8,8),h(0,4,4,8),h(2,0,4,4),h(0,2,2,4),h(1,0,2,2),h(0,1,1,2)):h(0,0,1,1),l},s.prototype.decodePalette=function(){var i,o,l,c,d,h,u,f,m;for(l=this.palette,h=this.transparency.indexed||[],d=new Uint8Array((h.length||0)+l.length),c=0,i=0,o=u=0,f=l.length;u<f;o=u+=3)d[c++]=l[o],d[c++]=l[o+1],d[c++]=l[o+2],d[c++]=(m=h[i++])!=null?m:255;return d},s.prototype.copyToImageData=function(i,o){var l,c,d,h,u,f,m,v,x,p,g;if(c=this.colors,x=null,l=this.hasAlphaChannel,this.palette.length&&(x=(g=this._decodedPalette)!=null?g:this._decodedPalette=this.decodePalette(),c=4,l=!0),v=(d=i.data||i).length,u=x||o,h=f=0,c===1)for(;h<v;)m=x?4*o[h/4]:f,p=u[m++],d[h++]=p,d[h++]=p,d[h++]=p,d[h++]=l?u[m++]:255,f=m;else for(;h<v;)m=x?4*o[h/4]:f,d[h++]=u[m++],d[h++]=u[m++],d[h++]=u[m++],d[h++]=l?u[m++]:255,f=m},s.prototype.decode=function(){var i;return i=new Uint8Array(this.width*this.height*4),this.copyToImageData(i,this.decodePixels()),i};var a=function(){if(Object.prototype.toString.call($t)==="[object Window]"){try{t=$t.document.createElement("canvas"),r=t.getContext("2d")}catch{return!1}return!0}return!1};return a(),e=function(i){var o;if(a()===!0)return r.width=i.width,r.height=i.height,r.clearRect(0,0,i.width,i.height),r.putImageData(i,0,0),(o=new Image).src=t.toDataURL(),o;throw new Error("This method requires a Browser with Canvas-capability.")},s.prototype.decodeFrames=function(i){var o,l,c,d,h,u,f,m;if(this.animation){for(m=[],l=h=0,u=(f=this.animation.frames).length;h<u;l=++h)o=f[l],c=i.createImageData(o.width,o.height),d=this.decodePixels(new Uint8Array(o.data)),this.copyToImageData(c,d),o.imageData=c,m.push(o.image=e(c));return m}},s.prototype.renderFrame=function(i,o){var l,c,d;return l=(c=this.animation.frames)[o],d=c[o-1],o===0&&i.clearRect(0,0,this.width,this.height),(d!=null?d.disposeOp:void 0)===1?i.clearRect(d.xOffset,d.yOffset,d.width,d.height):(d!=null?d.disposeOp:void 0)===2&&i.putImageData(d.imageData,d.xOffset,d.yOffset),l.blendOp===0&&i.clearRect(l.xOffset,l.yOffset,l.width,l.height),i.drawImage(l.image,l.xOffset,l.yOffset)},s.prototype.animate=function(i){var o,l,c,d,h,u,f=this;return l=0,u=this.animation,d=u.numFrames,c=u.frames,h=u.numPlays,(o=function(){var m,v;if(m=l++%d,v=c[m],f.renderFrame(i,m),d>1&&l/d<h)return f.animation._timeout=setTimeout(o,v.delay)})()},s.prototype.stopAnimation=function(){var i;return clearTimeout((i=this.animation)!=null?i._timeout:void 0)},s.prototype.render=function(i){var o,l;return i._png&&i._png.stopAnimation(),i._png=this,i.width=this.width,i.height=this.height,o=i.getContext("2d"),this.animation?(this.decodeFrames(o),this.animate(o)):(l=o.createImageData(this.width,this.height),this.copyToImageData(l,this.decodePixels()),o.putImageData(l,0,0))},s}();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function qle(e){var t=0;if(e[t++]!==71||e[t++]!==73||e[t++]!==70||e[t++]!==56||(e[t++]+1&253)!=56||e[t++]!==97)throw new Error("Invalid GIF 87a/89a header.");var r=e[t++]|e[t++]<<8,s=e[t++]|e[t++]<<8,a=e[t++],i=a>>7,o=1<<(7&a)+1;e[t++],e[t++];var l=null,c=null;i&&(l=t,c=o,t+=3*o);var d=!0,h=[],u=0,f=null,m=0,v=null;for(this.width=r,this.height=s;d&&t<e.length;)switch(e[t++]){case 33:switch(e[t++]){case 255:if(e[t]!==11||e[t+1]==78&&e[t+2]==69&&e[t+3]==84&&e[t+4]==83&&e[t+5]==67&&e[t+6]==65&&e[t+7]==80&&e[t+8]==69&&e[t+9]==50&&e[t+10]==46&&e[t+11]==48&&e[t+12]==3&&e[t+13]==1&&e[t+16]==0)t+=14,v=e[t++]|e[t++]<<8,t++;else for(t+=12;;){if(!((T=e[t++])>=0))throw Error("Invalid block size");if(T===0)break;t+=T}break;case 249:if(e[t++]!==4||e[t+4]!==0)throw new Error("Invalid graphics extension block.");var x=e[t++];u=e[t++]|e[t++]<<8,f=e[t++],!(1&x)&&(f=null),m=x>>2&7,t++;break;case 254:for(;;){if(!((T=e[t++])>=0))throw Error("Invalid block size");if(T===0)break;t+=T}break;default:throw new Error("Unknown graphic control label: 0x"+e[t-1].toString(16))}break;case 44:var p=e[t++]|e[t++]<<8,g=e[t++]|e[t++]<<8,b=e[t++]|e[t++]<<8,y=e[t++]|e[t++]<<8,j=e[t++],E=j>>6&1,S=1<<(7&j)+1,N=l,w=c,_=!1;j>>7&&(_=!0,N=t,w=S,t+=3*S);var k=t;for(t++;;){var T;if(!((T=e[t++])>=0))throw Error("Invalid block size");if(T===0)break;t+=T}h.push({x:p,y:g,width:b,height:y,has_local_palette:_,palette_offset:N,palette_size:w,data_offset:k,data_length:t-k,transparent_index:f,interlaced:!!E,delay:u,disposal:m});break;case 59:d=!1;break;default:throw new Error("Unknown gif block: 0x"+e[t-1].toString(16))}this.numFrames=function(){return h.length},this.loopCount=function(){return v},this.frameInfo=function(A){if(A<0||A>=h.length)throw new Error("Frame index out of range.");return h[A]},this.decodeAndBlitFrameBGRA=function(A,O){var D=this.frameInfo(A),F=D.width*D.height,M=new Uint8Array(F);OI(e,D.data_offset,M,F);var R=D.palette_offset,B=D.transparent_index;B===null&&(B=256);var U=D.width,H=r-U,q=U,L=4*(D.y*r+D.x),V=4*((D.y+D.height)*r+D.x),G=L,Z=4*H;D.interlaced===!0&&(Z+=4*r*7);for(var te=8,he=0,fe=M.length;he<fe;++he){var oe=M[he];if(q===0&&(q=U,(G+=Z)>=V&&(Z=4*H+4*r*(te-1),G=L+(U+H)*(te<<1),te>>=1)),oe===B)G+=4;else{var we=e[R+3*oe],je=e[R+3*oe+1],ve=e[R+3*oe+2];O[G++]=ve,O[G++]=je,O[G++]=we,O[G++]=255}--q}},this.decodeAndBlitFrameRGBA=function(A,O){var D=this.frameInfo(A),F=D.width*D.height,M=new Uint8Array(F);OI(e,D.data_offset,M,F);var R=D.palette_offset,B=D.transparent_index;B===null&&(B=256);var U=D.width,H=r-U,q=U,L=4*(D.y*r+D.x),V=4*((D.y+D.height)*r+D.x),G=L,Z=4*H;D.interlaced===!0&&(Z+=4*r*7);for(var te=8,he=0,fe=M.length;he<fe;++he){var oe=M[he];if(q===0&&(q=U,(G+=Z)>=V&&(Z=4*H+4*r*(te-1),G=L+(U+H)*(te<<1),te>>=1)),oe===B)G+=4;else{var we=e[R+3*oe],je=e[R+3*oe+1],ve=e[R+3*oe+2];O[G++]=we,O[G++]=je,O[G++]=ve,O[G++]=255}--q}}}function OI(e,t,r,s){for(var a=e[t++],i=1<<a,o=i+1,l=o+1,c=a+1,d=(1<<c)-1,h=0,u=0,f=0,m=e[t++],v=new Int32Array(4096),x=null;;){for(;h<16&&m!==0;)u|=e[t++]<<h,h+=8,m===1?m=e[t++]:--m;if(h<c)break;var p=u&d;if(u>>=c,h-=c,p!==i){if(p===o)break;for(var g=p<l?p:x,b=0,y=g;y>i;)y=v[y]>>8,++b;var j=y;if(f+b+(g!==p?1:0)>s)return void $r.log("Warning, gif stream longer than expected.");r[f++]=j;var E=f+=b;for(g!==p&&(r[f++]=j),y=g;b--;)y=v[y],r[--E]=255&y,y>>=8;x!==null&&l<4096&&(v[l++]=x<<8|j,l>=d+1&&c<12&&(++c,d=d<<1|1)),x=p}else l=o+1,d=(1<<(c=a+1))-1,x=null}return f!==s&&$r.log("Warning, gif stream shorter than expected."),r}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function iN(e){var t,r,s,a,i,o=Math.floor,l=new Array(64),c=new Array(64),d=new Array(64),h=new Array(64),u=new Array(65535),f=new Array(65535),m=new Array(64),v=new Array(64),x=[],p=0,g=7,b=new Array(64),y=new Array(64),j=new Array(64),E=new Array(256),S=new Array(2048),N=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],w=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],_=[0,1,2,3,4,5,6,7,8,9,10,11],k=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],T=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],A=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],O=[0,1,2,3,4,5,6,7,8,9,10,11],D=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],F=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function M(L,V){for(var G=0,Z=0,te=new Array,he=1;he<=16;he++){for(var fe=1;fe<=L[he];fe++)te[V[Z]]=[],te[V[Z]][0]=G,te[V[Z]][1]=he,Z++,G++;G*=2}return te}function R(L){for(var V=L[0],G=L[1]-1;G>=0;)V&1<<G&&(p|=1<<g),G--,--g<0&&(p==255?(B(255),B(0)):B(p),g=7,p=0)}function B(L){x.push(L)}function U(L){B(L>>8&255),B(255&L)}function H(L,V,G,Z,te){for(var he,fe=te[0],oe=te[240],we=function(xe,Fe){var nt,rt,gt,Me,Ze,ht,xt,kt,St,Bt,lt=0;for(St=0;St<8;++St){nt=xe[lt],rt=xe[lt+1],gt=xe[lt+2],Me=xe[lt+3],Ze=xe[lt+4],ht=xe[lt+5],xt=xe[lt+6];var jr=nt+(kt=xe[lt+7]),Xt=nt-kt,qn=rt+xt,wr=rt-xt,kr=gt+ht,na=gt-ht,dr=Me+Ze,Jo=Me-Ze,gn=jr+dr,Si=jr-dr,Zo=qn+kr,xn=qn-kr;xe[lt]=gn+Zo,xe[lt+4]=gn-Zo;var Wt=.707106781*(xn+Si);xe[lt+2]=Si+Wt,xe[lt+6]=Si-Wt;var Sr=.382683433*((gn=Jo+na)-(xn=wr+Xt)),xd=.5411961*gn+Sr,ps=1.306562965*xn+Sr,ho=.707106781*(Zo=na+wr),fo=Xt+ho,Ot=Xt-ho;xe[lt+5]=Ot+xd,xe[lt+3]=Ot-xd,xe[lt+1]=fo+ps,xe[lt+7]=fo-ps,lt+=8}for(lt=0,St=0;St<8;++St){nt=xe[lt],rt=xe[lt+8],gt=xe[lt+16],Me=xe[lt+24],Ze=xe[lt+32],ht=xe[lt+40],xt=xe[lt+48];var Ci=nt+(kt=xe[lt+56]),mo=nt-kt,sa=rt+xt,Wn=rt-xt,Ln=gt+ht,Aa=gt-ht,Bu=Me+Ze,el=Me-Ze,Ai=Ci+Bu,Ei=Ci-Bu,Pi=sa+Ln,po=sa-Ln;xe[lt]=Ai+Pi,xe[lt+32]=Ai-Pi;var Ka=.707106781*(po+Ei);xe[lt+16]=Ei+Ka,xe[lt+48]=Ei-Ka;var vo=.382683433*((Ai=el+Aa)-(po=Wn+mo)),yd=.5411961*Ai+vo,zu=1.306562965*po+vo,Uu=.707106781*(Pi=Aa+Wn),Vu=mo+Uu,qu=mo-Uu;xe[lt+40]=qu+yd,xe[lt+24]=qu-yd,xe[lt+8]=Vu+zu,xe[lt+56]=Vu-zu,lt++}for(St=0;St<64;++St)Bt=xe[St]*Fe[St],m[St]=Bt>0?Bt+.5|0:Bt-.5|0;return m}(L,V),je=0;je<64;++je)v[N[je]]=we[je];var ve=v[0]-G;G=v[0],ve==0?R(Z[0]):(R(Z[f[he=32767+ve]]),R(u[he]));for(var Le=63;Le>0&&v[Le]==0;)Le--;if(Le==0)return R(fe),G;for(var ge,le=1;le<=Le;){for(var re=le;v[le]==0&&le<=Le;)++le;var Ce=le-re;if(Ce>=16){ge=Ce>>4;for(var Ne=1;Ne<=ge;++Ne)R(oe);Ce&=15}he=32767+v[le],R(te[(Ce<<4)+f[he]]),R(u[he]),le++}return Le!=63&&R(fe),G}function q(L){L=Math.min(Math.max(L,1),100),i!=L&&(function(V){for(var G=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],Z=0;Z<64;Z++){var te=o((G[Z]*V+50)/100);te=Math.min(Math.max(te,1),255),l[N[Z]]=te}for(var he=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],fe=0;fe<64;fe++){var oe=o((he[fe]*V+50)/100);oe=Math.min(Math.max(oe,1),255),c[N[fe]]=oe}for(var we=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],je=0,ve=0;ve<8;ve++)for(var Le=0;Le<8;Le++)d[je]=1/(l[N[je]]*we[ve]*we[Le]*8),h[je]=1/(c[N[je]]*we[ve]*we[Le]*8),je++}(L<50?Math.floor(5e3/L):Math.floor(200-2*L)),i=L)}this.encode=function(L,V){V&&q(V),x=new Array,p=0,g=7,U(65496),U(65504),U(16),B(74),B(70),B(73),B(70),B(0),B(1),B(1),B(0),U(1),U(1),B(0),B(0),function(){U(65499),U(132),B(0);for(var rt=0;rt<64;rt++)B(l[rt]);B(1);for(var gt=0;gt<64;gt++)B(c[gt])}(),function(rt,gt){U(65472),U(17),B(8),U(gt),U(rt),B(3),B(1),B(17),B(0),B(2),B(17),B(1),B(3),B(17),B(1)}(L.width,L.height),function(){U(65476),U(418),B(0);for(var rt=0;rt<16;rt++)B(w[rt+1]);for(var gt=0;gt<=11;gt++)B(_[gt]);B(16);for(var Me=0;Me<16;Me++)B(k[Me+1]);for(var Ze=0;Ze<=161;Ze++)B(T[Ze]);B(1);for(var ht=0;ht<16;ht++)B(A[ht+1]);for(var xt=0;xt<=11;xt++)B(O[xt]);B(17);for(var kt=0;kt<16;kt++)B(D[kt+1]);for(var St=0;St<=161;St++)B(F[St])}(),U(65498),U(12),B(3),B(1),B(0),B(2),B(17),B(3),B(17),B(0),B(63),B(0);var G=0,Z=0,te=0;p=0,g=7,this.encode.displayName="_encode_";for(var he,fe,oe,we,je,ve,Le,ge,le,re=L.data,Ce=L.width,Ne=L.height,xe=4*Ce,Fe=0;Fe<Ne;){for(he=0;he<xe;){for(je=xe*Fe+he,Le=-1,ge=0,le=0;le<64;le++)ve=je+(ge=le>>3)*xe+(Le=4*(7&le)),Fe+ge>=Ne&&(ve-=xe*(Fe+1+ge-Ne)),he+Le>=xe&&(ve-=he+Le-xe+4),fe=re[ve++],oe=re[ve++],we=re[ve++],b[le]=(S[fe]+S[oe+256>>0]+S[we+512>>0]>>16)-128,y[le]=(S[fe+768>>0]+S[oe+1024>>0]+S[we+1280>>0]>>16)-128,j[le]=(S[fe+1280>>0]+S[oe+1536>>0]+S[we+1792>>0]>>16)-128;G=H(b,d,G,t,s),Z=H(y,h,Z,r,a),te=H(j,h,te,r,a),he+=32}Fe+=8}if(g>=0){var nt=[];nt[1]=g+1,nt[0]=(1<<g+1)-1,R(nt)}return U(65497),new Uint8Array(x)},e=e||50,function(){for(var L=String.fromCharCode,V=0;V<256;V++)E[V]=L(V)}(),t=M(w,_),r=M(A,O),s=M(k,T),a=M(D,F),function(){for(var L=1,V=2,G=1;G<=15;G++){for(var Z=L;Z<V;Z++)f[32767+Z]=G,u[32767+Z]=[],u[32767+Z][1]=G,u[32767+Z][0]=Z;for(var te=-(V-1);te<=-L;te++)f[32767+te]=G,u[32767+te]=[],u[32767+te][1]=G,u[32767+te][0]=V-1+te;L<<=1,V<<=1}}(),function(){for(var L=0;L<256;L++)S[L]=19595*L,S[L+256>>0]=38470*L,S[L+512>>0]=7471*L+32768,S[L+768>>0]=-11059*L,S[L+1024>>0]=-21709*L,S[L+1280>>0]=32768*L+8421375,S[L+1536>>0]=-27439*L,S[L+1792>>0]=-5329*L}(),q(e)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function Fi(e,t){if(this.pos=0,this.buffer=e,this.datav=new DataView(e.buffer),this.is_with_alpha=!!t,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function LI(e){function t(w){if(!w)throw Error("assert :P")}function r(w,_,k){for(var T=0;4>T;T++)if(w[_+T]!=k.charCodeAt(T))return!0;return!1}function s(w,_,k,T,A){for(var O=0;O<A;O++)w[_+O]=k[T+O]}function a(w,_,k,T){for(var A=0;A<T;A++)w[_+A]=k}function i(w){return new Int32Array(w)}function o(w,_){for(var k=[],T=0;T<w;T++)k.push(new _);return k}function l(w,_){var k=[];return function T(A,O,D){for(var F=D[O],M=0;M<F&&(A.push(D.length>O+1?[]:new _),!(D.length<O+1));M++)T(A[M],O+1,D)}(k,0,w),k}var c=function(){var w=this;function _(P,I){for(var z=1<<I-1>>>0;P&z;)z>>>=1;return z?(P&z-1)+z:P}function k(P,I,z,W,Y){t(!(W%z));do P[I+(W-=z)]=Y;while(0<W)}function T(P,I,z,W,Y){if(t(2328>=Y),512>=Y)var ee=i(512);else if((ee=i(Y))==null)return 0;return function(ne,se,ie,ce,Ae,De){var Oe,Ie,Xe=se,Be=1<<ie,Ee=i(16),Te=i(16);for(t(Ae!=0),t(ce!=null),t(ne!=null),t(0<ie),Ie=0;Ie<Ae;++Ie){if(15<ce[Ie])return 0;++Ee[ce[Ie]]}if(Ee[0]==Ae)return 0;for(Te[1]=0,Oe=1;15>Oe;++Oe){if(Ee[Oe]>1<<Oe)return 0;Te[Oe+1]=Te[Oe]+Ee[Oe]}for(Ie=0;Ie<Ae;++Ie)Oe=ce[Ie],0<ce[Ie]&&(De[Te[Oe]++]=Ie);if(Te[15]==1)return(ce=new A).g=0,ce.value=De[0],k(ne,Xe,1,Be,ce),Be;var Ke,Je=-1,Ye=Be-1,pt=0,dt=1,Dt=1,ft=1<<ie;for(Ie=0,Oe=1,Ae=2;Oe<=ie;++Oe,Ae<<=1){if(dt+=Dt<<=1,0>(Dt-=Ee[Oe]))return 0;for(;0<Ee[Oe];--Ee[Oe])(ce=new A).g=Oe,ce.value=De[Ie++],k(ne,Xe+pt,Ae,ft,ce),pt=_(pt,Oe)}for(Oe=ie+1,Ae=2;15>=Oe;++Oe,Ae<<=1){if(dt+=Dt<<=1,0>(Dt-=Ee[Oe]))return 0;for(;0<Ee[Oe];--Ee[Oe]){if(ce=new A,(pt&Ye)!=Je){for(Xe+=ft,Ke=1<<(Je=Oe)-ie;15>Je&&!(0>=(Ke-=Ee[Je]));)++Je,Ke<<=1;Be+=ft=1<<(Ke=Je-ie),ne[se+(Je=pt&Ye)].g=Ke+ie,ne[se+Je].value=Xe-se-Je}ce.g=Oe-ie,ce.value=De[Ie++],k(ne,Xe+(pt>>ie),Ae,ft,ce),pt=_(pt,Oe)}}return dt!=2*Te[15]-1?0:Be}(P,I,z,W,Y,ee)}function A(){this.value=this.g=0}function O(){this.value=this.g=0}function D(){this.G=o(5,A),this.H=i(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=o(vs,O)}function F(P,I,z,W){t(P!=null),t(I!=null),t(2147483648>W),P.Ca=254,P.I=0,P.b=-8,P.Ka=0,P.oa=I,P.pa=z,P.Jd=I,P.Yc=z+W,P.Zc=4<=W?z+W-4+1:z,he(P)}function M(P,I){for(var z=0;0<I--;)z|=oe(P,128)<<I;return z}function R(P,I){var z=M(P,I);return fe(P)?-z:z}function B(P,I,z,W){var Y,ee=0;for(t(P!=null),t(I!=null),t(4294967288>W),P.Sb=W,P.Ra=0,P.u=0,P.h=0,4<W&&(W=4),Y=0;Y<W;++Y)ee+=I[z+Y]<<8*Y;P.Ra=ee,P.bb=W,P.oa=I,P.pa=z}function U(P){for(;8<=P.u&&P.bb<P.Sb;)P.Ra>>>=8,P.Ra+=P.oa[P.pa+P.bb]<<ah-8>>>0,++P.bb,P.u-=8;G(P)&&(P.h=1,P.u=0)}function H(P,I){if(t(0<=I),!P.h&&I<=sh){var z=V(P)&nh[I];return P.u+=I,U(P),z}return P.h=1,P.u=0}function q(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function L(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function V(P){return P.Ra>>>(P.u&ah-1)>>>0}function G(P){return t(P.bb<=P.Sb),P.h||P.bb==P.Sb&&P.u>ah}function Z(P,I){P.u=I,P.h=G(P)}function te(P){P.u>=Km&&(t(P.u>=Km),U(P))}function he(P){t(P!=null&&P.oa!=null),P.pa<P.Zc?(P.I=(P.oa[P.pa++]|P.I<<8)>>>0,P.b+=8):(t(P!=null&&P.oa!=null),P.pa<P.Yc?(P.b+=8,P.I=P.oa[P.pa++]|P.I<<8):P.Ka?P.b=0:(P.I<<=8,P.b+=8,P.Ka=1))}function fe(P){return M(P,1)}function oe(P,I){var z=P.Ca;0>P.b&&he(P);var W=P.b,Y=z*I>>>8,ee=(P.I>>>W>Y)+0;for(ee?(z-=Y,P.I-=Y+1<<W>>>0):z=Y+1,W=z,Y=0;256<=W;)Y+=8,W>>=8;return W=7^Y+ia[W],P.b-=W,P.Ca=(z<<W)-1,ee}function we(P,I,z){P[I+0]=z>>24&255,P[I+1]=z>>16&255,P[I+2]=z>>8&255,P[I+3]=z>>0&255}function je(P,I){return P[I+0]<<0|P[I+1]<<8}function ve(P,I){return je(P,I)|P[I+2]<<16}function Le(P,I){return je(P,I)|je(P,I+2)<<16}function ge(P,I){var z=1<<I;return t(P!=null),t(0<I),P.X=i(z),P.X==null?0:(P.Mb=32-I,P.Xa=I,1)}function le(P,I){t(P!=null),t(I!=null),t(P.Xa==I.Xa),s(I.X,0,P.X,0,1<<I.Xa)}function re(){this.X=[],this.Xa=this.Mb=0}function Ce(P,I,z,W){t(z!=null),t(W!=null);var Y=z[0],ee=W[0];return Y==0&&(Y=(P*ee+I/2)/I),ee==0&&(ee=(I*Y+P/2)/P),0>=Y||0>=ee?0:(z[0]=Y,W[0]=ee,1)}function Ne(P,I){return P+(1<<I)-1>>>I}function xe(P,I){return((4278255360&P)+(4278255360&I)>>>0&4278255360)+((16711935&P)+(16711935&I)>>>0&16711935)>>>0}function Fe(P,I){w[I]=function(z,W,Y,ee,ne,se,ie){var ce;for(ce=0;ce<ne;++ce){var Ae=w[P](se[ie+ce-1],Y,ee+ce);se[ie+ce]=xe(z[W+ce],Ae)}}}function nt(){this.ud=this.hd=this.jd=0}function rt(P,I){return((4278124286&(P^I))>>>1)+(P&I)>>>0}function gt(P){return 0<=P&&256>P?P:0>P?0:255<P?255:void 0}function Me(P,I){return gt(P+(P-I+.5>>1))}function Ze(P,I,z){return Math.abs(I-z)-Math.abs(P-z)}function ht(P,I,z,W,Y,ee,ne){for(W=ee[ne-1],z=0;z<Y;++z)ee[ne+z]=W=xe(P[I+z],W)}function xt(P,I,z,W,Y){var ee;for(ee=0;ee<z;++ee){var ne=P[I+ee],se=ne>>8&255,ie=16711935&(ie=(ie=16711935&ne)+((se<<16)+se));W[Y+ee]=(4278255360&ne)+ie>>>0}}function kt(P,I){I.jd=P>>0&255,I.hd=P>>8&255,I.ud=P>>16&255}function St(P,I,z,W,Y,ee){var ne;for(ne=0;ne<W;++ne){var se=I[z+ne],ie=se>>>8,ce=se,Ae=255&(Ae=(Ae=se>>>16)+((P.jd<<24>>24)*(ie<<24>>24)>>>5));ce=255&(ce=(ce=ce+((P.hd<<24>>24)*(ie<<24>>24)>>>5))+((P.ud<<24>>24)*(Ae<<24>>24)>>>5)),Y[ee+ne]=(4278255360&se)+(Ae<<16)+ce}}function Bt(P,I,z,W,Y){w[I]=function(ee,ne,se,ie,ce,Ae,De,Oe,Ie){for(ie=De;ie<Oe;++ie)for(De=0;De<Ie;++De)ce[Ae++]=Y(se[W(ee[ne++])])},w[P]=function(ee,ne,se,ie,ce,Ae,De){var Oe=8>>ee.b,Ie=ee.Ea,Xe=ee.K[0],Be=ee.w;if(8>Oe)for(ee=(1<<ee.b)-1,Be=(1<<Oe)-1;ne<se;++ne){var Ee,Te=0;for(Ee=0;Ee<Ie;++Ee)Ee&ee||(Te=W(ie[ce++])),Ae[De++]=Y(Xe[Te&Be]),Te>>=Oe}else w["VP8LMapColor"+z](ie,ce,Xe,Be,Ae,De,ne,se,Ie)}}function lt(P,I,z,W,Y){for(z=I+z;I<z;){var ee=P[I++];W[Y++]=ee>>16&255,W[Y++]=ee>>8&255,W[Y++]=ee>>0&255}}function jr(P,I,z,W,Y){for(z=I+z;I<z;){var ee=P[I++];W[Y++]=ee>>16&255,W[Y++]=ee>>8&255,W[Y++]=ee>>0&255,W[Y++]=ee>>24&255}}function Xt(P,I,z,W,Y){for(z=I+z;I<z;){var ee=(ne=P[I++])>>16&240|ne>>12&15,ne=ne>>0&240|ne>>28&15;W[Y++]=ee,W[Y++]=ne}}function qn(P,I,z,W,Y){for(z=I+z;I<z;){var ee=(ne=P[I++])>>16&248|ne>>13&7,ne=ne>>5&224|ne>>3&31;W[Y++]=ee,W[Y++]=ne}}function wr(P,I,z,W,Y){for(z=I+z;I<z;){var ee=P[I++];W[Y++]=ee>>0&255,W[Y++]=ee>>8&255,W[Y++]=ee>>16&255}}function kr(P,I,z,W,Y,ee){if(ee==0)for(z=I+z;I<z;)we(W,((ee=P[I++])[0]>>24|ee[1]>>8&65280|ee[2]<<8&16711680|ee[3]<<24)>>>0),Y+=32;else s(W,Y,P,I,z)}function na(P,I){w[I][0]=w[P+"0"],w[I][1]=w[P+"1"],w[I][2]=w[P+"2"],w[I][3]=w[P+"3"],w[I][4]=w[P+"4"],w[I][5]=w[P+"5"],w[I][6]=w[P+"6"],w[I][7]=w[P+"7"],w[I][8]=w[P+"8"],w[I][9]=w[P+"9"],w[I][10]=w[P+"10"],w[I][11]=w[P+"11"],w[I][12]=w[P+"12"],w[I][13]=w[P+"13"],w[I][14]=w[P+"0"],w[I][15]=w[P+"0"]}function dr(P){return P==kw||P==Dw||P==Ox||P==Ow}function Jo(){this.eb=[],this.size=this.A=this.fb=0}function gn(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Si(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Jo,this.f.kb=new gn,this.sd=null}function Zo(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function xn(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Wt(P){return alert("todo:WebPSamplerProcessPlane"),P.T}function Sr(P,I){var z=P.T,W=I.ba.f.RGBA,Y=W.eb,ee=W.fb+P.ka*W.A,ne=ei[I.ba.S],se=P.y,ie=P.O,ce=P.f,Ae=P.N,De=P.ea,Oe=P.W,Ie=I.cc,Xe=I.dc,Be=I.Mc,Ee=I.Nc,Te=P.ka,Ke=P.ka+P.T,Je=P.U,Ye=Je+1>>1;for(Te==0?ne(se,ie,null,null,ce,Ae,De,Oe,ce,Ae,De,Oe,Y,ee,null,null,Je):(ne(I.ec,I.fc,se,ie,Ie,Xe,Be,Ee,ce,Ae,De,Oe,Y,ee-W.A,Y,ee,Je),++z);Te+2<Ke;Te+=2)Ie=ce,Xe=Ae,Be=De,Ee=Oe,Ae+=P.Rc,Oe+=P.Rc,ee+=2*W.A,ne(se,(ie+=2*P.fa)-P.fa,se,ie,Ie,Xe,Be,Ee,ce,Ae,De,Oe,Y,ee-W.A,Y,ee,Je);return ie+=P.fa,P.j+Ke<P.o?(s(I.ec,I.fc,se,ie,Je),s(I.cc,I.dc,ce,Ae,Ye),s(I.Mc,I.Nc,De,Oe,Ye),z--):1&Ke||ne(se,ie,null,null,ce,Ae,De,Oe,ce,Ae,De,Oe,Y,ee+W.A,null,null,Je),z}function xd(P,I,z){var W=P.F,Y=[P.J];if(W!=null){var ee=P.U,ne=I.ba.S,se=ne==Dx||ne==Ox;I=I.ba.f.RGBA;var ie=[0],ce=P.ka;ie[0]=P.T,P.Kb&&(ce==0?--ie[0]:(--ce,Y[0]-=P.width),P.j+P.ka+P.T==P.o&&(ie[0]=P.o-P.j-ce));var Ae=I.eb;ce=I.fb+ce*I.A,P=qr(W,Y[0],P.width,ee,ie,Ae,ce+(se?0:3),I.A),t(z==ie),P&&dr(ne)&&Ja(Ae,ce,se,ee,ie,I.A)}return 0}function ps(P){var I=P.ma,z=I.ba.S,W=11>z,Y=z==Ix||z==kx||z==Dx||z==Iw||z==12||dr(z);if(I.memory=null,I.Ib=null,I.Jb=null,I.Nd=null,!Hm(I.Oa,P,Y?11:12))return 0;if(Y&&dr(z)&&tt(),P.da)alert("todo:use_scaling");else{if(W){if(I.Ib=Wt,P.Kb){if(z=P.U+1>>1,I.memory=i(P.U+2*z),I.memory==null)return 0;I.ec=I.memory,I.fc=0,I.cc=I.ec,I.dc=I.fc+P.U,I.Mc=I.cc,I.Nc=I.dc+z,I.Ib=Sr,tt()}}else alert("todo:EmitYUV");Y&&(I.Jb=xd,W&&ke())}if(W&&!FP){for(P=0;256>P;++P)LV[P]=89858*(P-128)+Rx>>Lx,$V[P]=-22014*(P-128)+Rx,FV[P]=-45773*(P-128),RV[P]=113618*(P-128)+Rx>>Lx;for(P=tp;P<Fw;++P)I=76283*(P-16)+Rx>>Lx,MV[P-tp]=Ea(I,255),BV[P-tp]=Ea(I+8>>4,15);FP=1}return 1}function ho(P){var I=P.ma,z=P.U,W=P.T;return t(!(1&P.ka)),0>=z||0>=W?0:(z=I.Ib(P,I),I.Jb!=null&&I.Jb(P,I,z),I.Dc+=z,1)}function fo(P){P.ma.memory=null}function Ot(P,I,z,W){return H(P,8)!=47?0:(I[0]=H(P,14)+1,z[0]=H(P,14)+1,W[0]=H(P,1),H(P,3)!=0?0:!P.h)}function Ci(P,I){if(4>P)return P+1;var z=P-2>>1;return(2+(1&P)<<z)+H(I,z)+1}function mo(P,I){return 120<I?I-120:1<=(z=((z=jV[I-1])>>4)*P+(8-(15&z)))?z:1;var z}function sa(P,I,z){var W=V(z),Y=P[I+=255&W].g-8;return 0<Y&&(Z(z,z.u+8),W=V(z),I+=P[I].value,I+=W&(1<<Y)-1),Z(z,z.u+P[I].g),P[I].value}function Wn(P,I,z){return z.g+=P.g,z.value+=P.value<<I>>>0,t(8>=z.g),P.g}function Ln(P,I,z){var W=P.xc;return t((I=W==0?0:P.vc[P.md*(z>>W)+(I>>W)])<P.Wb),P.Ya[I]}function Aa(P,I,z,W){var Y=P.ab,ee=P.c*I,ne=P.C;I=ne+I;var se=z,ie=W;for(W=P.Ta,z=P.Ua;0<Y--;){var ce=P.gc[Y],Ae=ne,De=I,Oe=se,Ie=ie,Xe=(ie=W,se=z,ce.Ea);switch(t(Ae<De),t(De<=ce.nc),ce.hc){case 2:Sx(Oe,Ie,(De-Ae)*Xe,ie,se);break;case 0:var Be=Ae,Ee=De,Te=ie,Ke=se,Je=(ft=ce).Ea;Be==0&&(Tw(Oe,Ie,null,null,1,Te,Ke),ht(Oe,Ie+1,0,0,Je-1,Te,Ke+1),Ie+=Je,Ke+=Je,++Be);for(var Ye=1<<ft.b,pt=Ye-1,dt=Ne(Je,ft.b),Dt=ft.K,ft=ft.w+(Be>>ft.b)*dt;Be<Ee;){var Nr=Dt,Ar=ft,mr=1;for(Ym(Oe,Ie,Te,Ke-Je,1,Te,Ke);mr<Je;){var ir=(mr&~pt)+Ye;ir>Je&&(ir=Je),(0,Ql[Nr[Ar++]>>8&15])(Oe,Ie+ +mr,Te,Ke+mr-Je,ir-mr,Te,Ke+mr),mr=ir}Ie+=Je,Ke+=Je,++Be&pt||(ft+=dt)}De!=ce.nc&&s(ie,se-Xe,ie,se+(De-Ae-1)*Xe,Xe);break;case 1:for(Xe=Oe,Ee=Ie,Je=(Oe=ce.Ea)-(Ke=Oe&~(Te=(Ie=1<<ce.b)-1)),Be=Ne(Oe,ce.b),Ye=ce.K,ce=ce.w+(Ae>>ce.b)*Be;Ae<De;){for(pt=Ye,dt=ce,Dt=new nt,ft=Ee+Ke,Nr=Ee+Oe;Ee<ft;)kt(pt[dt++],Dt),Sd(Dt,Xe,Ee,Ie,ie,se),Ee+=Ie,se+=Ie;Ee<Nr&&(kt(pt[dt++],Dt),Sd(Dt,Xe,Ee,Je,ie,se),Ee+=Je,se+=Je),++Ae&Te||(ce+=Be)}break;case 3:if(Oe==ie&&Ie==se&&0<ce.b){for(Ee=ie,Oe=Xe=se+(De-Ae)*Xe-(Ke=(De-Ae)*Ne(ce.Ea,ce.b)),Ie=ie,Te=se,Be=[],Ke=(Je=Ke)-1;0<=Ke;--Ke)Be[Ke]=Ie[Te+Ke];for(Ke=Je-1;0<=Ke;--Ke)Ee[Oe+Ke]=Be[Ke];Ya(ce,Ae,De,ie,Xe,ie,se)}else Ya(ce,Ae,De,Oe,Ie,ie,se)}se=W,ie=z}ie!=z&&s(W,z,se,ie,ee)}function Bu(P,I){var z=P.V,W=P.Ba+P.c*P.C,Y=I-P.C;if(t(I<=P.l.o),t(16>=Y),0<Y){var ee=P.l,ne=P.Ta,se=P.Ua,ie=ee.width;if(Aa(P,Y,z,W),Y=se=[se],t((z=P.C)<(W=I)),t(ee.v<ee.va),W>ee.o&&(W=ee.o),z<ee.j){var ce=ee.j-z;z=ee.j,Y[0]+=ce*ie}if(z>=W?z=0:(Y[0]+=4*ee.v,ee.ka=z-ee.j,ee.U=ee.va-ee.v,ee.T=W-z,z=1),z){if(se=se[0],11>(z=P.ca).S){var Ae=z.f.RGBA,De=(W=z.S,Y=ee.U,ee=ee.T,ce=Ae.eb,Ae.A),Oe=ee;for(Ae=Ae.fb+P.Ma*Ae.A;0<Oe--;){var Ie=ne,Xe=se,Be=Y,Ee=ce,Te=Ae;switch(W){case _x:oa(Ie,Xe,Be,Ee,Te);break;case Ix:Ws(Ie,Xe,Be,Ee,Te);break;case kw:Ws(Ie,Xe,Be,Ee,Te),Ja(Ee,Te,0,Be,1,0);break;case EP:sl(Ie,Xe,Be,Ee,Te);break;case kx:kr(Ie,Xe,Be,Ee,Te,1);break;case Dw:kr(Ie,Xe,Be,Ee,Te,1),Ja(Ee,Te,0,Be,1,0);break;case Dx:kr(Ie,Xe,Be,Ee,Te,0);break;case Ox:kr(Ie,Xe,Be,Ee,Te,0),Ja(Ee,Te,1,Be,1,0);break;case Iw:Jl(Ie,Xe,Be,Ee,Te);break;case Ow:Jl(Ie,Xe,Be,Ee,Te),Vr(Ee,Te,Be,1,0);break;case PP:nl(Ie,Xe,Be,Ee,Te);break;default:t(0)}se+=ie,Ae+=De}P.Ma+=ee}else alert("todo:EmitRescaledRowsYUVA");t(P.Ma<=z.height)}}P.C=I,t(P.C<=P.i)}function el(P){var I;if(0<P.ua)return 0;for(I=0;I<P.Wb;++I){var z=P.Ya[I].G,W=P.Ya[I].H;if(0<z[1][W[1]+0].g||0<z[2][W[2]+0].g||0<z[3][W[3]+0].g)return 0}return 1}function Ai(P,I,z,W,Y,ee){if(P.Z!=0){var ne=P.qd,se=P.rd;for(t(rc[P.Z]!=null);I<z;++I)rc[P.Z](ne,se,W,Y,W,Y,ee),ne=W,se=Y,Y+=ee;P.qd=ne,P.rd=se}}function Ei(P,I){var z=P.l.ma,W=z.Z==0||z.Z==1?P.l.j:P.C;if(W=P.C<W?W:P.C,t(I<=P.l.o),I>W){var Y=P.l.width,ee=z.ca,ne=z.tb+Y*W,se=P.V,ie=P.Ba+P.c*W,ce=P.gc;t(P.ab==1),t(ce[0].hc==3),Cx(ce[0],W,I,se,ie,ee,ne),Ai(z,W,I,ee,ne,Y)}P.C=P.Ma=I}function Pi(P,I,z,W,Y,ee,ne){var se=P.$/W,ie=P.$%W,ce=P.m,Ae=P.s,De=z+P.$,Oe=De;Y=z+W*Y;var Ie=z+W*ee,Xe=280+Ae.ua,Be=P.Pb?se:16777216,Ee=0<Ae.ua?Ae.Wa:null,Te=Ae.wc,Ke=De<Ie?Ln(Ae,ie,se):null;t(P.C<ee),t(Ie<=Y);var Je=!1;e:for(;;){for(;Je||De<Ie;){var Ye=0;if(se>=Be){var pt=De-z;t((Be=P).Pb),Be.wd=Be.m,Be.xd=pt,0<Be.s.ua&&le(Be.s.Wa,Be.s.vb),Be=se+NV}if(ie&Te||(Ke=Ln(Ae,ie,se)),t(Ke!=null),Ke.Qb&&(I[De]=Ke.qb,Je=!0),!Je)if(te(ce),Ke.jc){Ye=ce,pt=I;var dt=De,Dt=Ke.pd[V(Ye)&vs-1];t(Ke.jc),256>Dt.g?(Z(Ye,Ye.u+Dt.g),pt[dt]=Dt.value,Ye=0):(Z(Ye,Ye.u+Dt.g-256),t(256<=Dt.value),Ye=Dt.value),Ye==0&&(Je=!0)}else Ye=sa(Ke.G[0],Ke.H[0],ce);if(ce.h)break;if(Je||256>Ye){if(!Je)if(Ke.nd)I[De]=(Ke.qb|Ye<<8)>>>0;else{if(te(ce),Je=sa(Ke.G[1],Ke.H[1],ce),te(ce),pt=sa(Ke.G[2],Ke.H[2],ce),dt=sa(Ke.G[3],Ke.H[3],ce),ce.h)break;I[De]=(dt<<24|Je<<16|Ye<<8|pt)>>>0}if(Je=!1,++De,++ie>=W&&(ie=0,++se,ne!=null&&se<=ee&&!(se%16)&&ne(P,se),Ee!=null))for(;Oe<De;)Ye=I[Oe++],Ee.X[(506832829*Ye&4294967295)>>>Ee.Mb]=Ye}else if(280>Ye){if(Ye=Ci(Ye-256,ce),pt=sa(Ke.G[4],Ke.H[4],ce),te(ce),pt=mo(W,pt=Ci(pt,ce)),ce.h)break;if(De-z<pt||Y-De<Ye)break e;for(dt=0;dt<Ye;++dt)I[De+dt]=I[De+dt-pt];for(De+=Ye,ie+=Ye;ie>=W;)ie-=W,++se,ne!=null&&se<=ee&&!(se%16)&&ne(P,se);if(t(De<=Y),ie&Te&&(Ke=Ln(Ae,ie,se)),Ee!=null)for(;Oe<De;)Ye=I[Oe++],Ee.X[(506832829*Ye&4294967295)>>>Ee.Mb]=Ye}else{if(!(Ye<Xe))break e;for(Je=Ye-280,t(Ee!=null);Oe<De;)Ye=I[Oe++],Ee.X[(506832829*Ye&4294967295)>>>Ee.Mb]=Ye;Ye=De,t(!(Je>>>(pt=Ee).Xa)),I[Ye]=pt.X[Je],Je=!0}Je||t(ce.h==G(ce))}if(P.Pb&&ce.h&&De<Y)t(P.m.h),P.a=5,P.m=P.wd,P.$=P.xd,0<P.s.ua&&le(P.s.vb,P.s.Wa);else{if(ce.h)break e;ne!=null&&ne(P,se>ee?ee:se),P.a=0,P.$=De-z}return 1}return P.a=3,0}function po(P){t(P!=null),P.vc=null,P.yc=null,P.Ya=null;var I=P.Wa;I!=null&&(I.X=null),P.vb=null,t(P!=null)}function Ka(){var P=new Pw;return P==null?null:(P.a=0,P.xb=IP,na("Predictor","VP8LPredictors"),na("Predictor","VP8LPredictors_C"),na("PredictorAdd","VP8LPredictorsAdd"),na("PredictorAdd","VP8LPredictorsAdd_C"),Sx=xt,Sd=St,oa=lt,Ws=jr,Jl=Xt,nl=qn,sl=wr,w.VP8LMapColor32b=ih,w.VP8LMapColor8b=Ax,P)}function vo(P,I,z,W,Y){var ee=1,ne=[P],se=[I],ie=W.m,ce=W.s,Ae=null,De=0;e:for(;;){if(z)for(;ee&&H(ie,1);){var Oe=ne,Ie=se,Xe=W,Be=1,Ee=Xe.m,Te=Xe.gc[Xe.ab],Ke=H(Ee,2);if(Xe.Oc&1<<Ke)ee=0;else{switch(Xe.Oc|=1<<Ke,Te.hc=Ke,Te.Ea=Oe[0],Te.nc=Ie[0],Te.K=[null],++Xe.ab,t(4>=Xe.ab),Ke){case 0:case 1:Te.b=H(Ee,3)+2,Be=vo(Ne(Te.Ea,Te.b),Ne(Te.nc,Te.b),0,Xe,Te.K),Te.K=Te.K[0];break;case 3:var Je,Ye=H(Ee,8)+1,pt=16<Ye?0:4<Ye?1:2<Ye?2:3;if(Oe[0]=Ne(Te.Ea,pt),Te.b=pt,Je=Be=vo(Ye,1,0,Xe,Te.K)){var dt,Dt=Ye,ft=Te,Nr=1<<(8>>ft.b),Ar=i(Nr);if(Ar==null)Je=0;else{var mr=ft.K[0],ir=ft.w;for(Ar[0]=ft.K[0][0],dt=1;dt<1*Dt;++dt)Ar[dt]=xe(mr[ir+dt],Ar[dt-1]);for(;dt<4*Nr;++dt)Ar[dt]=0;ft.K[0]=null,ft.K[0]=Ar,Je=1}}Be=Je;break;case 2:break;default:t(0)}ee=Be}}if(ne=ne[0],se=se[0],ee&&H(ie,1)&&!(ee=1<=(De=H(ie,4))&&11>=De)){W.a=3;break e}var Fr;if(Fr=ee)t:{var Dr,Qt,Fn,la=W,$n=ne,ca=se,Er=De,Ta=z,_a=la.m,ns=la.s,gs=[null],Gs=1,ti=0,bo=wV[Er];r:for(;;){if(Ta&&H(_a,1)){var ss=H(_a,3)+2,ll=Ne($n,ss),Td=Ne(ca,ss),uh=ll*Td;if(!vo(ll,Td,0,la,gs))break r;for(gs=gs[0],ns.xc=ss,Dr=0;Dr<uh;++Dr){var nc=gs[Dr]>>8&65535;gs[Dr]=nc,nc>=Gs&&(Gs=nc+1)}}if(_a.h)break r;for(Qt=0;5>Qt;++Qt){var bn=TP[Qt];!Qt&&0<Er&&(bn+=1<<Er),ti<bn&&(ti=bn)}var $w=o(Gs*bo,A),BP=Gs,zP=o(BP,D);if(zP==null)var $x=null;else t(65536>=BP),$x=zP;var rp=i(ti);if($x==null||rp==null||$w==null){la.a=1;break r}var Mx=$w;for(Dr=Fn=0;Dr<Gs;++Dr){var Di=$x[Dr],hh=Di.G,fh=Di.H,UP=0,Bx=1,VP=0;for(Qt=0;5>Qt;++Qt){bn=TP[Qt],hh[Qt]=Mx,fh[Qt]=Fn,!Qt&&0<Er&&(bn+=1<<Er);s:{var zx,Mw=bn,Ux=la,np=rp,VV=Mx,qV=Fn,Bw=0,sc=Ux.m,WV=H(sc,1);if(a(np,0,0,Mw),WV){var HV=H(sc,1)+1,GV=H(sc,1),qP=H(sc,GV==0?1:8);np[qP]=1,HV==2&&(np[qP=H(sc,8)]=1);var Vx=1}else{var WP=i(19),HP=H(sc,4)+4;if(19<HP){Ux.a=3;var qx=0;break s}for(zx=0;zx<HP;++zx)WP[bV[zx]]=H(sc,3);var zw=void 0,sp=void 0,GP=Ux,KV=WP,Wx=Mw,KP=np,Uw=0,ac=GP.m,YP=8,XP=o(128,A);n:for(;T(XP,0,7,KV,19);){if(H(ac,1)){var YV=2+2*H(ac,3);if((zw=2+H(ac,YV))>Wx)break n}else zw=Wx;for(sp=0;sp<Wx&&zw--;){te(ac);var QP=XP[0+(127&V(ac))];Z(ac,ac.u+QP.g);var mh=QP.value;if(16>mh)KP[sp++]=mh,mh!=0&&(YP=mh);else{var XV=mh==16,JP=mh-16,QV=xV[JP],ZP=H(ac,gV[JP])+QV;if(sp+ZP>Wx)break n;for(var JV=XV?YP:0;0<ZP--;)KP[sp++]=JV}}Uw=1;break n}Uw||(GP.a=3),Vx=Uw}(Vx=Vx&&!sc.h)&&(Bw=T(VV,qV,8,np,Mw)),Vx&&Bw!=0?qx=Bw:(Ux.a=3,qx=0)}if(qx==0)break r;if(Bx&&yV[Qt]==1&&(Bx=Mx[Fn].g==0),UP+=Mx[Fn].g,Fn+=qx,3>=Qt){var ap,Vw=rp[0];for(ap=1;ap<bn;++ap)rp[ap]>Vw&&(Vw=rp[ap]);VP+=Vw}}if(Di.nd=Bx,Di.Qb=0,Bx&&(Di.qb=(hh[3][fh[3]+0].value<<24|hh[1][fh[1]+0].value<<16|hh[2][fh[2]+0].value)>>>0,UP==0&&256>hh[0][fh[0]+0].value&&(Di.Qb=1,Di.qb+=hh[0][fh[0]+0].value<<8)),Di.jc=!Di.Qb&&6>VP,Di.jc){var Hx,cl=Di;for(Hx=0;Hx<vs;++Hx){var ic=Hx,oc=cl.pd[ic],Gx=cl.G[0][cl.H[0]+ic];256<=Gx.value?(oc.g=Gx.g+256,oc.value=Gx.value):(oc.g=0,oc.value=0,ic>>=Wn(Gx,8,oc),ic>>=Wn(cl.G[1][cl.H[1]+ic],16,oc),ic>>=Wn(cl.G[2][cl.H[2]+ic],0,oc),Wn(cl.G[3][cl.H[3]+ic],24,oc))}}}ns.vc=gs,ns.Wb=Gs,ns.Ya=$x,ns.yc=$w,Fr=1;break t}Fr=0}if(!(ee=Fr)){W.a=3;break e}if(0<De){if(ce.ua=1<<De,!ge(ce.Wa,De)){W.a=1,ee=0;break e}}else ce.ua=0;var qw=W,e3=ne,ZV=se,Ww=qw.s,Hw=Ww.xc;if(qw.c=e3,qw.i=ZV,Ww.md=Ne(e3,Hw),Ww.wc=Hw==0?-1:(1<<Hw)-1,z){W.xb=_V;break e}if((Ae=i(ne*se))==null){W.a=1,ee=0;break e}ee=(ee=Pi(W,Ae,0,ne,se,se,null))&&!ie.h;break e}return ee?(Y!=null?Y[0]=Ae:(t(Ae==null),t(z)),W.$=0,z||po(ce)):po(ce),ee}function yd(P,I){var z=P.c*P.i,W=z+I+16*I;return t(P.c<=I),P.V=i(W),P.V==null?(P.Ta=null,P.Ua=0,P.a=1,0):(P.Ta=P.V,P.Ua=P.Ba+z+I,1)}function zu(P,I){var z=P.C,W=I-z,Y=P.V,ee=P.Ba+P.c*z;for(t(I<=P.l.o);0<W;){var ne=16<W?16:W,se=P.l.ma,ie=P.l.width,ce=ie*ne,Ae=se.ca,De=se.tb+ie*z,Oe=P.Ta,Ie=P.Ua;Aa(P,ne,Y,ee),Pn(Oe,Ie,Ae,De,ce),Ai(se,z,z+ne,Ae,De,ie),W-=ne,Y+=ne*P.c,z+=ne}t(z==I),P.C=P.Ma=I}function Uu(){this.ub=this.yd=this.td=this.Rb=0}function Vu(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function qu(){this.Fb=this.Bb=this.Cb=0,this.Zb=i(4),this.Lb=i(4)}function sx(){this.Yb=function(){var P=[];return function I(z,W,Y){for(var ee=Y[W],ne=0;ne<ee&&(z.push(Y.length>W+1?[]:0),!(Y.length<W+1));ne++)I(z[ne],W+1,Y)}(P,0,[3,11]),P}()}function aw(){this.jb=i(3),this.Wc=l([4,8],sx),this.Xc=l([4,17],sx)}function iw(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new i(4),this.od=new i(4)}function Wu(){this.ld=this.La=this.dd=this.tc=0}function ax(){this.Na=this.la=0}function ow(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function _m(){this.ad=i(384),this.Za=0,this.Ob=i(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function lw(){this.uc=this.M=this.Nb=0,this.wa=Array(new Wu),this.Y=0,this.ya=Array(new _m),this.aa=0,this.l=new Hu}function ix(){this.y=i(16),this.f=i(8),this.ea=i(8)}function cw(){this.cb=this.a=0,this.sc="",this.m=new q,this.Od=new Uu,this.Kc=new Vu,this.ed=new iw,this.Qa=new qu,this.Ic=this.$c=this.Aa=0,this.D=new lw,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=o(8,q),this.ia=0,this.pb=o(4,ow),this.Pa=new aw,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new ix),this.Hd=0,this.rb=Array(new ax),this.sb=0,this.wa=Array(new Wu),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new _m),this.L=this.aa=0,this.gd=l([4,2],Wu),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Hu(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function dw(){var P=new cw;return P!=null&&(P.a=0,P.sc="OK",P.cb=0,P.Xb=0,ep||(ep=cx)),P}function An(P,I,z){return P.a==0&&(P.a=I,P.sc=z,P.cb=0),0}function ox(P,I,z){return 3<=z&&P[I+0]==157&&P[I+1]==1&&P[I+2]==42}function lx(P,I){if(P==null)return 0;if(P.a=0,P.sc="OK",I==null)return An(P,2,"null VP8Io passed to VP8GetHeaders()");var z=I.data,W=I.w,Y=I.ha;if(4>Y)return An(P,7,"Truncated header.");var ee=z[W+0]|z[W+1]<<8|z[W+2]<<16,ne=P.Od;if(ne.Rb=!(1&ee),ne.td=ee>>1&7,ne.yd=ee>>4&1,ne.ub=ee>>5,3<ne.td)return An(P,3,"Incorrect keyframe parameters.");if(!ne.yd)return An(P,4,"Frame not displayable.");W+=3,Y-=3;var se=P.Kc;if(ne.Rb){if(7>Y)return An(P,7,"cannot parse picture header");if(!ox(z,W,Y))return An(P,3,"Bad code word");se.c=16383&(z[W+4]<<8|z[W+3]),se.Td=z[W+4]>>6,se.i=16383&(z[W+6]<<8|z[W+5]),se.Ud=z[W+6]>>6,W+=7,Y-=7,P.za=se.c+15>>4,P.Ub=se.i+15>>4,I.width=se.c,I.height=se.i,I.Da=0,I.j=0,I.v=0,I.va=I.width,I.o=I.height,I.da=0,I.ib=I.width,I.hb=I.height,I.U=I.width,I.T=I.height,a((ee=P.Pa).jb,0,255,ee.jb.length),t((ee=P.Qa)!=null),ee.Cb=0,ee.Bb=0,ee.Fb=1,a(ee.Zb,0,0,ee.Zb.length),a(ee.Lb,0,0,ee.Lb)}if(ne.ub>Y)return An(P,7,"bad partition length");F(ee=P.m,z,W,ne.ub),W+=ne.ub,Y-=ne.ub,ne.Rb&&(se.Ld=fe(ee),se.Kd=fe(ee)),se=P.Qa;var ie,ce=P.Pa;if(t(ee!=null),t(se!=null),se.Cb=fe(ee),se.Cb){if(se.Bb=fe(ee),fe(ee)){for(se.Fb=fe(ee),ie=0;4>ie;++ie)se.Zb[ie]=fe(ee)?R(ee,7):0;for(ie=0;4>ie;++ie)se.Lb[ie]=fe(ee)?R(ee,6):0}if(se.Bb)for(ie=0;3>ie;++ie)ce.jb[ie]=fe(ee)?M(ee,8):255}else se.Bb=0;if(ee.Ka)return An(P,3,"cannot parse segment header");if((se=P.ed).zd=fe(ee),se.Tb=M(ee,6),se.wb=M(ee,3),se.Pc=fe(ee),se.Pc&&fe(ee)){for(ce=0;4>ce;++ce)fe(ee)&&(se.vd[ce]=R(ee,6));for(ce=0;4>ce;++ce)fe(ee)&&(se.od[ce]=R(ee,6))}if(P.L=se.Tb==0?0:se.zd?1:2,ee.Ka)return An(P,3,"cannot parse filter header");var Ae=Y;if(Y=ie=W,W=ie+Ae,se=Ae,P.Xb=(1<<M(P.m,2))-1,Ae<3*(ce=P.Xb))z=7;else{for(ie+=3*ce,se-=3*ce,Ae=0;Ae<ce;++Ae){var De=z[Y+0]|z[Y+1]<<8|z[Y+2]<<16;De>se&&(De=se),F(P.Jc[+Ae],z,ie,De),ie+=De,se-=De,Y+=3}F(P.Jc[+ce],z,ie,se),z=ie<W?0:5}if(z!=0)return An(P,z,"cannot parse partitions");for(z=M(ie=P.m,7),Y=fe(ie)?R(ie,4):0,W=fe(ie)?R(ie,4):0,se=fe(ie)?R(ie,4):0,ce=fe(ie)?R(ie,4):0,ie=fe(ie)?R(ie,4):0,Ae=P.Qa,De=0;4>De;++De){if(Ae.Cb){var Oe=Ae.Zb[De];Ae.Fb||(Oe+=z)}else{if(0<De){P.pb[De]=P.pb[0];continue}Oe=z}var Ie=P.pb[De];Ie.Sc[0]=Lw[Ea(Oe+Y,127)],Ie.Sc[1]=Rw[Ea(Oe+0,127)],Ie.Eb[0]=2*Lw[Ea(Oe+W,127)],Ie.Eb[1]=101581*Rw[Ea(Oe+se,127)]>>16,8>Ie.Eb[1]&&(Ie.Eb[1]=8),Ie.Qc[0]=Lw[Ea(Oe+ce,117)],Ie.Qc[1]=Rw[Ea(Oe+ie,127)],Ie.lc=Oe+ie}if(!ne.Rb)return An(P,4,"Not a key frame.");for(fe(ee),ne=P.Pa,z=0;4>z;++z){for(Y=0;8>Y;++Y)for(W=0;3>W;++W)for(se=0;11>se;++se)ce=oe(ee,PV[z][Y][W][se])?M(ee,8):AV[z][Y][W][se],ne.Wc[z][Y].Yb[W][se]=ce;for(Y=0;17>Y;++Y)ne.Xc[z][Y]=ne.Wc[z][TV[Y]]}return P.kc=fe(ee),P.kc&&(P.Bd=M(ee,8)),P.cb=1}function cx(P,I,z,W,Y,ee,ne){var se=I[Y].Yb[z];for(z=0;16>Y;++Y){if(!oe(P,se[z+0]))return Y;for(;!oe(P,se[z+1]);)if(se=I[++Y].Yb[0],z=0,Y==16)return 16;var ie=I[Y+1].Yb;if(oe(P,se[z+2])){var ce=P,Ae=0;if(oe(ce,(Oe=se)[(De=z)+3]))if(oe(ce,Oe[De+6])){for(se=0,De=2*(Ae=oe(ce,Oe[De+8]))+(Oe=oe(ce,Oe[De+9+Ae])),Ae=0,Oe=SV[De];Oe[se];++se)Ae+=Ae+oe(ce,Oe[se]);Ae+=3+(8<<De)}else oe(ce,Oe[De+7])?(Ae=7+2*oe(ce,165),Ae+=oe(ce,145)):Ae=5+oe(ce,159);else Ae=oe(ce,Oe[De+4])?3+oe(ce,Oe[De+5]):2;se=ie[2]}else Ae=1,se=ie[1];ie=ne+CV[Y],0>(ce=P).b&&he(ce);var De,Oe=ce.b,Ie=(De=ce.Ca>>1)-(ce.I>>Oe)>>31;--ce.b,ce.Ca+=Ie,ce.Ca|=1,ce.I-=(De+1&Ie)<<Oe,ee[ie]=((Ae^Ie)-Ie)*W[(0<Y)+0]}return 16}function Im(P){var I=P.rb[P.sb-1];I.la=0,I.Na=0,a(P.zc,0,0,P.zc.length),P.ja=0}function uw(P,I){if(P==null)return 0;if(I==null)return An(P,2,"NULL VP8Io parameter in VP8Decode().");if(!P.cb&&!lx(P,I))return 0;if(t(P.cb),I.ac==null||I.ac(I)){I.ob&&(P.L=0);var z=Fx[P.L];if(P.L==2?(P.yb=0,P.zb=0):(P.yb=I.v-z>>4,P.zb=I.j-z>>4,0>P.yb&&(P.yb=0),0>P.zb&&(P.zb=0)),P.Va=I.o+15+z>>4,P.Hb=I.va+15+z>>4,P.Hb>P.za&&(P.Hb=P.za),P.Va>P.Ub&&(P.Va=P.Ub),0<P.L){var W=P.ed;for(z=0;4>z;++z){var Y;if(P.Qa.Cb){var ee=P.Qa.Lb[z];P.Qa.Fb||(ee+=W.Tb)}else ee=W.Tb;for(Y=0;1>=Y;++Y){var ne=P.gd[z][Y],se=ee;if(W.Pc&&(se+=W.vd[0],Y&&(se+=W.od[0])),0<(se=0>se?0:63<se?63:se)){var ie=se;0<W.wb&&(ie=4<W.wb?ie>>2:ie>>1)>9-W.wb&&(ie=9-W.wb),1>ie&&(ie=1),ne.dd=ie,ne.tc=2*se+ie,ne.ld=40<=se?2:15<=se?1:0}else ne.tc=0;ne.La=Y}}}z=0}else An(P,6,"Frame setup failed"),z=P.a;if(z=z==0){if(z){P.$c=0,0<P.Aa||(P.Ic=UV);e:{z=P.Ic,W=4*(ie=P.za);var ce=32*ie,Ae=ie+1,De=0<P.L?ie*(0<P.Aa?2:1):0,Oe=(P.Aa==2?2:1)*ie;if((ne=W+832+(Y=3*(16*z+Fx[P.L])/2*ce)+(ee=P.Fa!=null&&0<P.Fa.length?P.Kc.c*P.Kc.i:0))!=ne)z=0;else{if(ne>P.Vb){if(P.Vb=0,P.Ec=i(ne),P.Fc=0,P.Ec==null){z=An(P,1,"no memory during frame initialization.");break e}P.Vb=ne}ne=P.Ec,se=P.Fc,P.Ac=ne,P.Bc=se,se+=W,P.Gd=o(ce,ix),P.Hd=0,P.rb=o(Ae+1,ax),P.sb=1,P.wa=De?o(De,Wu):null,P.Y=0,P.D.Nb=0,P.D.wa=P.wa,P.D.Y=P.Y,0<P.Aa&&(P.D.Y+=ie),t(!0),P.oc=ne,P.pc=se,se+=832,P.ya=o(Oe,_m),P.aa=0,P.D.ya=P.ya,P.D.aa=P.aa,P.Aa==2&&(P.D.aa+=ie),P.R=16*ie,P.B=8*ie,ie=(ce=Fx[P.L])*P.R,ce=ce/2*P.B,P.sa=ne,P.ta=se+ie,P.qa=P.sa,P.ra=P.ta+16*z*P.R+ce,P.Ha=P.qa,P.Ia=P.ra+8*z*P.B+ce,P.$c=0,se+=Y,P.mb=ee?ne:null,P.nb=ee?se:null,t(se+ee<=P.Fc+P.Vb),Im(P),a(P.Ac,P.Bc,0,W),z=1}}if(z){if(I.ka=0,I.y=P.sa,I.O=P.ta,I.f=P.qa,I.N=P.ra,I.ea=P.Ha,I.Vd=P.Ia,I.fa=P.R,I.Rc=P.B,I.F=null,I.J=0,!Px){for(z=-255;255>=z;++z)Hn[255+z]=0>z?-z:z;for(z=-1020;1020>=z;++z)il[1020+z]=-128>z?-128:127<z?127:z;for(z=-112;112>=z;++z)Zm[112+z]=-16>z?-16:15<z?15:z;for(z=-255;510>=z;++z)dh[255+z]=0>z?0:255<z?255:z;Px=1}oh=mw,al=hw,Xm=ux,Hs=fw,Xa=hx,En=dx,lh=Fm,Ex=wd,Qm=Ew,Cd=$m,Ad=Aw,Zl=Ju,Ed=Mm,ch=jx,Pd=bx,ec=xo,Jm=rl,Qa=Cw,ki[0]=go,ki[1]=pw,ki[2]=yw,ki[3]=bw,ki[4]=px,ki[5]=Xu,ki[6]=vx,ki[7]=Om,ki[8]=ww,ki[9]=jw,tc[0]=fx,tc[1]=gw,tc[2]=tl,tc[3]=Ku,tc[4]=Ts,tc[5]=xw,tc[6]=mx,ol[0]=Kl,ol[1]=vw,ol[2]=Nw,ol[3]=Lm,ol[4]=jd,ol[5]=Sw,ol[6]=Rm,z=1}else z=0}z&&(z=function(Ie,Xe){for(Ie.M=0;Ie.M<Ie.Va;++Ie.M){var Be,Ee=Ie.Jc[Ie.M&Ie.Xb],Te=Ie.m,Ke=Ie;for(Be=0;Be<Ke.za;++Be){var Je=Te,Ye=Ke,pt=Ye.Ac,dt=Ye.Bc+4*Be,Dt=Ye.zc,ft=Ye.ya[Ye.aa+Be];if(Ye.Qa.Bb?ft.$b=oe(Je,Ye.Pa.jb[0])?2+oe(Je,Ye.Pa.jb[2]):oe(Je,Ye.Pa.jb[1]):ft.$b=0,Ye.kc&&(ft.Ad=oe(Je,Ye.Bd)),ft.Za=!oe(Je,145)+0,ft.Za){var Nr=ft.Ob,Ar=0;for(Ye=0;4>Ye;++Ye){var mr,ir=Dt[0+Ye];for(mr=0;4>mr;++mr){ir=EV[pt[dt+mr]][ir];for(var Fr=_P[oe(Je,ir[0])];0<Fr;)Fr=_P[2*Fr+oe(Je,ir[Fr])];ir=-Fr,pt[dt+mr]=ir}s(Nr,Ar,pt,dt,4),Ar+=4,Dt[0+Ye]=ir}}else ir=oe(Je,156)?oe(Je,128)?1:3:oe(Je,163)?2:0,ft.Ob[0]=ir,a(pt,dt,ir,4),a(Dt,0,ir,4);ft.Dd=oe(Je,142)?oe(Je,114)?oe(Je,183)?1:3:2:0}if(Ke.m.Ka)return An(Ie,7,"Premature end-of-partition0 encountered.");for(;Ie.ja<Ie.za;++Ie.ja){if(Ke=Ee,Je=(Te=Ie).rb[Te.sb-1],pt=Te.rb[Te.sb+Te.ja],Be=Te.ya[Te.aa+Te.ja],dt=Te.kc?Be.Ad:0)Je.la=pt.la=0,Be.Za||(Je.Na=pt.Na=0),Be.Hc=0,Be.Gc=0,Be.ia=0;else{var Dr,Qt;if(Je=pt,pt=Ke,dt=Te.Pa.Xc,Dt=Te.ya[Te.aa+Te.ja],ft=Te.pb[Dt.$b],Ye=Dt.ad,Nr=0,Ar=Te.rb[Te.sb-1],ir=mr=0,a(Ye,Nr,0,384),Dt.Za)var Fn=0,la=dt[3];else{Fr=i(16);var $n=Je.Na+Ar.Na;if($n=ep(pt,dt[1],$n,ft.Eb,0,Fr,0),Je.Na=Ar.Na=(0<$n)+0,1<$n)oh(Fr,0,Ye,Nr);else{var ca=Fr[0]+3>>3;for(Fr=0;256>Fr;Fr+=16)Ye[Nr+Fr]=ca}Fn=1,la=dt[0]}var Er=15&Je.la,Ta=15&Ar.la;for(Fr=0;4>Fr;++Fr){var _a=1&Ta;for(ca=Qt=0;4>ca;++ca)Er=Er>>1|(_a=($n=ep(pt,la,$n=_a+(1&Er),ft.Sc,Fn,Ye,Nr))>Fn)<<7,Qt=Qt<<2|(3<$n?3:1<$n?2:Ye[Nr+0]!=0),Nr+=16;Er>>=4,Ta=Ta>>1|_a<<7,mr=(mr<<8|Qt)>>>0}for(la=Er,Fn=Ta>>4,Dr=0;4>Dr;Dr+=2){for(Qt=0,Er=Je.la>>4+Dr,Ta=Ar.la>>4+Dr,Fr=0;2>Fr;++Fr){for(_a=1&Ta,ca=0;2>ca;++ca)$n=_a+(1&Er),Er=Er>>1|(_a=0<($n=ep(pt,dt[2],$n,ft.Qc,0,Ye,Nr)))<<3,Qt=Qt<<2|(3<$n?3:1<$n?2:Ye[Nr+0]!=0),Nr+=16;Er>>=2,Ta=Ta>>1|_a<<5}ir|=Qt<<4*Dr,la|=Er<<4<<Dr,Fn|=(240&Ta)<<Dr}Je.la=la,Ar.la=Fn,Dt.Hc=mr,Dt.Gc=ir,Dt.ia=43690&ir?0:ft.ia,dt=!(mr|ir)}if(0<Te.L&&(Te.wa[Te.Y+Te.ja]=Te.gd[Be.$b][Be.Za],Te.wa[Te.Y+Te.ja].La|=!dt),Ke.Ka)return An(Ie,7,"Premature end-of-file encountered.")}if(Im(Ie),Te=Xe,Ke=1,Be=(Ee=Ie).D,Je=0<Ee.L&&Ee.M>=Ee.zb&&Ee.M<=Ee.Va,Ee.Aa==0)e:{if(Be.M=Ee.M,Be.uc=Je,Wm(Ee,Be),Ke=1,Be=(Qt=Ee.D).Nb,Je=(ir=Fx[Ee.L])*Ee.R,pt=ir/2*Ee.B,Fr=16*Be*Ee.R,ca=8*Be*Ee.B,dt=Ee.sa,Dt=Ee.ta-Je+Fr,ft=Ee.qa,Ye=Ee.ra-pt+ca,Nr=Ee.Ha,Ar=Ee.Ia-pt+ca,Ta=(Er=Qt.M)==0,mr=Er>=Ee.Va-1,Ee.Aa==2&&Wm(Ee,Qt),Qt.uc)for(_a=($n=Ee).D.M,t($n.D.uc),Qt=$n.yb;Qt<$n.Hb;++Qt){Fn=Qt,la=_a;var ns=(gs=(bn=$n).D).Nb;Dr=bn.R;var gs=gs.wa[gs.Y+Fn],Gs=bn.sa,ti=bn.ta+16*ns*Dr+16*Fn,bo=gs.dd,ss=gs.tc;if(ss!=0)if(t(3<=ss),bn.L==1)0<Fn&&ec(Gs,ti,Dr,ss+4),gs.La&&Qa(Gs,ti,Dr,ss),0<la&&Pd(Gs,ti,Dr,ss+4),gs.La&&Jm(Gs,ti,Dr,ss);else{var ll=bn.B,Td=bn.qa,uh=bn.ra+8*ns*ll+8*Fn,nc=bn.Ha,bn=bn.Ia+8*ns*ll+8*Fn;ns=gs.ld,0<Fn&&(Ex(Gs,ti,Dr,ss+4,bo,ns),Cd(Td,uh,nc,bn,ll,ss+4,bo,ns)),gs.La&&(Zl(Gs,ti,Dr,ss,bo,ns),ch(Td,uh,nc,bn,ll,ss,bo,ns)),0<la&&(lh(Gs,ti,Dr,ss+4,bo,ns),Qm(Td,uh,nc,bn,ll,ss+4,bo,ns)),gs.La&&(Ad(Gs,ti,Dr,ss,bo,ns),Ed(Td,uh,nc,bn,ll,ss,bo,ns))}}if(Ee.ia&&alert("todo:DitherRow"),Te.put!=null){if(Qt=16*Er,Er=16*(Er+1),Ta?(Te.y=Ee.sa,Te.O=Ee.ta+Fr,Te.f=Ee.qa,Te.N=Ee.ra+ca,Te.ea=Ee.Ha,Te.W=Ee.Ia+ca):(Qt-=ir,Te.y=dt,Te.O=Dt,Te.f=ft,Te.N=Ye,Te.ea=Nr,Te.W=Ar),mr||(Er-=ir),Er>Te.o&&(Er=Te.o),Te.F=null,Te.J=null,Ee.Fa!=null&&0<Ee.Fa.length&&Qt<Er&&(Te.J=Vm(Ee,Te,Qt,Er-Qt),Te.F=Ee.mb,Te.F==null&&Te.F.length==0)){Ke=An(Ee,3,"Could not decode alpha data.");break e}Qt<Te.j&&(ir=Te.j-Qt,Qt=Te.j,t(!(1&ir)),Te.O+=Ee.R*ir,Te.N+=Ee.B*(ir>>1),Te.W+=Ee.B*(ir>>1),Te.F!=null&&(Te.J+=Te.width*ir)),Qt<Er&&(Te.O+=Te.v,Te.N+=Te.v>>1,Te.W+=Te.v>>1,Te.F!=null&&(Te.J+=Te.v),Te.ka=Qt-Te.j,Te.U=Te.va-Te.v,Te.T=Er-Qt,Ke=Te.put(Te))}Be+1!=Ee.Ic||mr||(s(Ee.sa,Ee.ta-Je,dt,Dt+16*Ee.R,Je),s(Ee.qa,Ee.ra-pt,ft,Ye+8*Ee.B,pt),s(Ee.Ha,Ee.Ia-pt,Nr,Ar+8*Ee.B,pt))}if(!Ke)return An(Ie,6,"Output aborted.")}return 1}(P,I)),I.bc!=null&&I.bc(I),z&=1}return z?(P.cb=0,z):0}function Ti(P,I,z,W,Y){Y=P[I+z+32*W]+(Y>>3),P[I+z+32*W]=-256&Y?0>Y?0:255:Y}function Gu(P,I,z,W,Y,ee){Ti(P,I,0,z,W+Y),Ti(P,I,1,z,W+ee),Ti(P,I,2,z,W-ee),Ti(P,I,3,z,W-Y)}function aa(P){return(20091*P>>16)+P}function km(P,I,z,W){var Y,ee=0,ne=i(16);for(Y=0;4>Y;++Y){var se=P[I+0]+P[I+8],ie=P[I+0]-P[I+8],ce=(35468*P[I+4]>>16)-aa(P[I+12]),Ae=aa(P[I+4])+(35468*P[I+12]>>16);ne[ee+0]=se+Ae,ne[ee+1]=ie+ce,ne[ee+2]=ie-ce,ne[ee+3]=se-Ae,ee+=4,I++}for(Y=ee=0;4>Y;++Y)se=(P=ne[ee+0]+4)+ne[ee+8],ie=P-ne[ee+8],ce=(35468*ne[ee+4]>>16)-aa(ne[ee+12]),Ti(z,W,0,0,se+(Ae=aa(ne[ee+4])+(35468*ne[ee+12]>>16))),Ti(z,W,1,0,ie+ce),Ti(z,W,2,0,ie-ce),Ti(z,W,3,0,se-Ae),ee++,W+=32}function dx(P,I,z,W){var Y=P[I+0]+4,ee=35468*P[I+4]>>16,ne=aa(P[I+4]),se=35468*P[I+1]>>16;Gu(z,W,0,Y+ne,P=aa(P[I+1]),se),Gu(z,W,1,Y+ee,P,se),Gu(z,W,2,Y-ee,P,se),Gu(z,W,3,Y-ne,P,se)}function hw(P,I,z,W,Y){km(P,I,z,W),Y&&km(P,I+16,z,W+4)}function ux(P,I,z,W){al(P,I+0,z,W,1),al(P,I+32,z,W+128,1)}function fw(P,I,z,W){var Y;for(P=P[I+0]+4,Y=0;4>Y;++Y)for(I=0;4>I;++I)Ti(z,W,I,Y,P)}function hx(P,I,z,W){P[I+0]&&Hs(P,I+0,z,W),P[I+16]&&Hs(P,I+16,z,W+4),P[I+32]&&Hs(P,I+32,z,W+128),P[I+48]&&Hs(P,I+48,z,W+128+4)}function mw(P,I,z,W){var Y,ee=i(16);for(Y=0;4>Y;++Y){var ne=P[I+0+Y]+P[I+12+Y],se=P[I+4+Y]+P[I+8+Y],ie=P[I+4+Y]-P[I+8+Y],ce=P[I+0+Y]-P[I+12+Y];ee[0+Y]=ne+se,ee[8+Y]=ne-se,ee[4+Y]=ce+ie,ee[12+Y]=ce-ie}for(Y=0;4>Y;++Y)ne=(P=ee[0+4*Y]+3)+ee[3+4*Y],se=ee[1+4*Y]+ee[2+4*Y],ie=ee[1+4*Y]-ee[2+4*Y],ce=P-ee[3+4*Y],z[W+0]=ne+se>>3,z[W+16]=ce+ie>>3,z[W+32]=ne-se>>3,z[W+48]=ce-ie>>3,W+=64}function Dm(P,I,z){var W,Y=I-32,ee=Pa,ne=255-P[Y-1];for(W=0;W<z;++W){var se,ie=ee,ce=ne+P[I-1];for(se=0;se<z;++se)P[I+se]=ie[ce+P[Y+se]];I+=32}}function pw(P,I){Dm(P,I,4)}function vw(P,I){Dm(P,I,8)}function gw(P,I){Dm(P,I,16)}function tl(P,I){var z;for(z=0;16>z;++z)s(P,I+32*z,P,I-32,16)}function Ku(P,I){var z;for(z=16;0<z;--z)a(P,I,P[I-1],16),I+=32}function Yu(P,I,z){var W;for(W=0;16>W;++W)a(I,z+32*W,P,16)}function fx(P,I){var z,W=16;for(z=0;16>z;++z)W+=P[I-1+32*z]+P[I+z-32];Yu(W>>5,P,I)}function Ts(P,I){var z,W=8;for(z=0;16>z;++z)W+=P[I-1+32*z];Yu(W>>4,P,I)}function xw(P,I){var z,W=8;for(z=0;16>z;++z)W+=P[I+z-32];Yu(W>>4,P,I)}function mx(P,I){Yu(128,P,I)}function qt(P,I,z){return P+2*I+z+2>>2}function yw(P,I){var z,W=I-32;for(W=new Uint8Array([qt(P[W-1],P[W+0],P[W+1]),qt(P[W+0],P[W+1],P[W+2]),qt(P[W+1],P[W+2],P[W+3]),qt(P[W+2],P[W+3],P[W+4])]),z=0;4>z;++z)s(P,I+32*z,W,0,W.length)}function bw(P,I){var z=P[I-1],W=P[I-1+32],Y=P[I-1+64],ee=P[I-1+96];we(P,I+0,16843009*qt(P[I-1-32],z,W)),we(P,I+32,16843009*qt(z,W,Y)),we(P,I+64,16843009*qt(W,Y,ee)),we(P,I+96,16843009*qt(Y,ee,ee))}function go(P,I){var z,W=4;for(z=0;4>z;++z)W+=P[I+z-32]+P[I-1+32*z];for(W>>=3,z=0;4>z;++z)a(P,I+32*z,W,4)}function px(P,I){var z=P[I-1+0],W=P[I-1+32],Y=P[I-1+64],ee=P[I-1-32],ne=P[I+0-32],se=P[I+1-32],ie=P[I+2-32],ce=P[I+3-32];P[I+0+96]=qt(W,Y,P[I-1+96]),P[I+1+96]=P[I+0+64]=qt(z,W,Y),P[I+2+96]=P[I+1+64]=P[I+0+32]=qt(ee,z,W),P[I+3+96]=P[I+2+64]=P[I+1+32]=P[I+0+0]=qt(ne,ee,z),P[I+3+64]=P[I+2+32]=P[I+1+0]=qt(se,ne,ee),P[I+3+32]=P[I+2+0]=qt(ie,se,ne),P[I+3+0]=qt(ce,ie,se)}function vx(P,I){var z=P[I+1-32],W=P[I+2-32],Y=P[I+3-32],ee=P[I+4-32],ne=P[I+5-32],se=P[I+6-32],ie=P[I+7-32];P[I+0+0]=qt(P[I+0-32],z,W),P[I+1+0]=P[I+0+32]=qt(z,W,Y),P[I+2+0]=P[I+1+32]=P[I+0+64]=qt(W,Y,ee),P[I+3+0]=P[I+2+32]=P[I+1+64]=P[I+0+96]=qt(Y,ee,ne),P[I+3+32]=P[I+2+64]=P[I+1+96]=qt(ee,ne,se),P[I+3+64]=P[I+2+96]=qt(ne,se,ie),P[I+3+96]=qt(se,ie,ie)}function Xu(P,I){var z=P[I-1+0],W=P[I-1+32],Y=P[I-1+64],ee=P[I-1-32],ne=P[I+0-32],se=P[I+1-32],ie=P[I+2-32],ce=P[I+3-32];P[I+0+0]=P[I+1+64]=ee+ne+1>>1,P[I+1+0]=P[I+2+64]=ne+se+1>>1,P[I+2+0]=P[I+3+64]=se+ie+1>>1,P[I+3+0]=ie+ce+1>>1,P[I+0+96]=qt(Y,W,z),P[I+0+64]=qt(W,z,ee),P[I+0+32]=P[I+1+96]=qt(z,ee,ne),P[I+1+32]=P[I+2+96]=qt(ee,ne,se),P[I+2+32]=P[I+3+96]=qt(ne,se,ie),P[I+3+32]=qt(se,ie,ce)}function Om(P,I){var z=P[I+0-32],W=P[I+1-32],Y=P[I+2-32],ee=P[I+3-32],ne=P[I+4-32],se=P[I+5-32],ie=P[I+6-32],ce=P[I+7-32];P[I+0+0]=z+W+1>>1,P[I+1+0]=P[I+0+64]=W+Y+1>>1,P[I+2+0]=P[I+1+64]=Y+ee+1>>1,P[I+3+0]=P[I+2+64]=ee+ne+1>>1,P[I+0+32]=qt(z,W,Y),P[I+1+32]=P[I+0+96]=qt(W,Y,ee),P[I+2+32]=P[I+1+96]=qt(Y,ee,ne),P[I+3+32]=P[I+2+96]=qt(ee,ne,se),P[I+3+64]=qt(ne,se,ie),P[I+3+96]=qt(se,ie,ce)}function jw(P,I){var z=P[I-1+0],W=P[I-1+32],Y=P[I-1+64],ee=P[I-1+96];P[I+0+0]=z+W+1>>1,P[I+2+0]=P[I+0+32]=W+Y+1>>1,P[I+2+32]=P[I+0+64]=Y+ee+1>>1,P[I+1+0]=qt(z,W,Y),P[I+3+0]=P[I+1+32]=qt(W,Y,ee),P[I+3+32]=P[I+1+64]=qt(Y,ee,ee),P[I+3+64]=P[I+2+64]=P[I+0+96]=P[I+1+96]=P[I+2+96]=P[I+3+96]=ee}function ww(P,I){var z=P[I-1+0],W=P[I-1+32],Y=P[I-1+64],ee=P[I-1+96],ne=P[I-1-32],se=P[I+0-32],ie=P[I+1-32],ce=P[I+2-32];P[I+0+0]=P[I+2+32]=z+ne+1>>1,P[I+0+32]=P[I+2+64]=W+z+1>>1,P[I+0+64]=P[I+2+96]=Y+W+1>>1,P[I+0+96]=ee+Y+1>>1,P[I+3+0]=qt(se,ie,ce),P[I+2+0]=qt(ne,se,ie),P[I+1+0]=P[I+3+32]=qt(z,ne,se),P[I+1+32]=P[I+3+64]=qt(W,z,ne),P[I+1+64]=P[I+3+96]=qt(Y,W,z),P[I+1+96]=qt(ee,Y,W)}function Nw(P,I){var z;for(z=0;8>z;++z)s(P,I+32*z,P,I-32,8)}function Lm(P,I){var z;for(z=0;8>z;++z)a(P,I,P[I-1],8),I+=32}function bd(P,I,z){var W;for(W=0;8>W;++W)a(I,z+32*W,P,8)}function Kl(P,I){var z,W=8;for(z=0;8>z;++z)W+=P[I+z-32]+P[I-1+32*z];bd(W>>4,P,I)}function Sw(P,I){var z,W=4;for(z=0;8>z;++z)W+=P[I+z-32];bd(W>>3,P,I)}function jd(P,I){var z,W=4;for(z=0;8>z;++z)W+=P[I-1+32*z];bd(W>>3,P,I)}function Rm(P,I){bd(128,P,I)}function Qu(P,I,z){var W=P[I-z],Y=P[I+0],ee=3*(Y-W)+_w[1020+P[I-2*z]-P[I+z]],ne=Tx[112+(ee+4>>3)];P[I-z]=Pa[255+W+Tx[112+(ee+3>>3)]],P[I+0]=Pa[255+Y-ne]}function gx(P,I,z,W){var Y=P[I+0],ee=P[I+z];return Za[255+P[I-2*z]-P[I-z]]>W||Za[255+ee-Y]>W}function xx(P,I,z,W){return 4*Za[255+P[I-z]-P[I+0]]+Za[255+P[I-2*z]-P[I+z]]<=W}function yx(P,I,z,W,Y){var ee=P[I-3*z],ne=P[I-2*z],se=P[I-z],ie=P[I+0],ce=P[I+z],Ae=P[I+2*z],De=P[I+3*z];return 4*Za[255+se-ie]+Za[255+ne-ce]>W?0:Za[255+P[I-4*z]-ee]<=Y&&Za[255+ee-ne]<=Y&&Za[255+ne-se]<=Y&&Za[255+De-Ae]<=Y&&Za[255+Ae-ce]<=Y&&Za[255+ce-ie]<=Y}function bx(P,I,z,W){var Y=2*W+1;for(W=0;16>W;++W)xx(P,I+W,z,Y)&&Qu(P,I+W,z)}function xo(P,I,z,W){var Y=2*W+1;for(W=0;16>W;++W)xx(P,I+W*z,1,Y)&&Qu(P,I+W*z,1)}function rl(P,I,z,W){var Y;for(Y=3;0<Y;--Y)bx(P,I+=4*z,z,W)}function Cw(P,I,z,W){var Y;for(Y=3;0<Y;--Y)xo(P,I+=4,z,W)}function Yl(P,I,z,W,Y,ee,ne,se){for(ee=2*ee+1;0<Y--;){if(yx(P,I,z,ee,ne))if(gx(P,I,z,se))Qu(P,I,z);else{var ie=P,ce=I,Ae=z,De=ie[ce-2*Ae],Oe=ie[ce-Ae],Ie=ie[ce+0],Xe=ie[ce+Ae],Be=ie[ce+2*Ae],Ee=27*(Ke=_w[1020+3*(Ie-Oe)+_w[1020+De-Xe]])+63>>7,Te=18*Ke+63>>7,Ke=9*Ke+63>>7;ie[ce-3*Ae]=Pa[255+ie[ce-3*Ae]+Ke],ie[ce-2*Ae]=Pa[255+De+Te],ie[ce-Ae]=Pa[255+Oe+Ee],ie[ce+0]=Pa[255+Ie-Ee],ie[ce+Ae]=Pa[255+Xe-Te],ie[ce+2*Ae]=Pa[255+Be-Ke]}I+=W}}function _i(P,I,z,W,Y,ee,ne,se){for(ee=2*ee+1;0<Y--;){if(yx(P,I,z,ee,ne))if(gx(P,I,z,se))Qu(P,I,z);else{var ie=P,ce=I,Ae=z,De=ie[ce-Ae],Oe=ie[ce+0],Ie=ie[ce+Ae],Xe=Tx[112+((Be=3*(Oe-De))+4>>3)],Be=Tx[112+(Be+3>>3)],Ee=Xe+1>>1;ie[ce-2*Ae]=Pa[255+ie[ce-2*Ae]+Ee],ie[ce-Ae]=Pa[255+De+Be],ie[ce+0]=Pa[255+Oe-Xe],ie[ce+Ae]=Pa[255+Ie-Ee]}I+=W}}function Fm(P,I,z,W,Y,ee){Yl(P,I,z,1,16,W,Y,ee)}function wd(P,I,z,W,Y,ee){Yl(P,I,1,z,16,W,Y,ee)}function Aw(P,I,z,W,Y,ee){var ne;for(ne=3;0<ne;--ne)_i(P,I+=4*z,z,1,16,W,Y,ee)}function Ju(P,I,z,W,Y,ee){var ne;for(ne=3;0<ne;--ne)_i(P,I+=4,1,z,16,W,Y,ee)}function Ew(P,I,z,W,Y,ee,ne,se){Yl(P,I,Y,1,8,ee,ne,se),Yl(z,W,Y,1,8,ee,ne,se)}function $m(P,I,z,W,Y,ee,ne,se){Yl(P,I,1,Y,8,ee,ne,se),Yl(z,W,1,Y,8,ee,ne,se)}function Mm(P,I,z,W,Y,ee,ne,se){_i(P,I+4*Y,Y,1,8,ee,ne,se),_i(z,W+4*Y,Y,1,8,ee,ne,se)}function jx(P,I,z,W,Y,ee,ne,se){_i(P,I+4,1,Y,8,ee,ne,se),_i(z,W+4,1,Y,8,ee,ne,se)}function Zu(){this.ba=new Si,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new xn,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Bm(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function zm(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function wx(){this.ua=0,this.Wa=new re,this.vb=new re,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new D,this.yc=new A}function Pw(){this.xb=this.a=0,this.l=new Hu,this.ca=new Si,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new L,this.Pb=0,this.wd=new L,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new wx,this.ab=0,this.gc=o(4,zm),this.Oc=0}function eh(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Hu,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function Nd(P,I,z,W,Y,ee,ne){for(P=P==null?0:P[I+0],I=0;I<ne;++I)Y[ee+I]=P+z[W+I]&255,P=Y[ee+I]}function Um(P,I,z,W,Y,ee,ne){var se;if(P==null)Nd(null,null,z,W,Y,ee,ne);else for(se=0;se<ne;++se)Y[ee+se]=P[I+se]+z[W+se]&255}function Xl(P,I,z,W,Y,ee,ne){if(P==null)Nd(null,null,z,W,Y,ee,ne);else{var se,ie=P[I+0],ce=ie,Ae=ie;for(se=0;se<ne;++se)ce=Ae+(ie=P[I+se])-ce,Ae=z[W+se]+(-256&ce?0>ce?0:255:ce)&255,ce=ie,Y[ee+se]=Ae}}function Vm(P,I,z,W){var Y=I.width,ee=I.o;if(t(P!=null&&I!=null),0>z||0>=W||z+W>ee)return null;if(!P.Cc){if(P.ga==null){var ne;if(P.ga=new eh,(ne=P.ga==null)||(ne=I.width*I.o,t(P.Gb.length==0),P.Gb=i(ne),P.Uc=0,P.Gb==null?ne=0:(P.mb=P.Gb,P.nb=P.Uc,P.rc=null,ne=1),ne=!ne),!ne){ne=P.ga;var se=P.Fa,ie=P.P,ce=P.qc,Ae=P.mb,De=P.nb,Oe=ie+1,Ie=ce-1,Xe=ne.l;if(t(se!=null&&Ae!=null&&I!=null),rc[0]=null,rc[1]=Nd,rc[2]=Um,rc[3]=Xl,ne.ca=Ae,ne.tb=De,ne.c=I.width,ne.i=I.height,t(0<ne.c&&0<ne.i),1>=ce)I=0;else if(ne.$a=se[ie+0]>>0&3,ne.Z=se[ie+0]>>2&3,ne.Lc=se[ie+0]>>4&3,ie=se[ie+0]>>6&3,0>ne.$a||1<ne.$a||4<=ne.Z||1<ne.Lc||ie)I=0;else if(Xe.put=ho,Xe.ac=ps,Xe.bc=fo,Xe.ma=ne,Xe.width=I.width,Xe.height=I.height,Xe.Da=I.Da,Xe.v=I.v,Xe.va=I.va,Xe.j=I.j,Xe.o=I.o,ne.$a)e:{t(ne.$a==1),I=Ka();t:for(;;){if(I==null){I=0;break e}if(t(ne!=null),ne.mc=I,I.c=ne.c,I.i=ne.i,I.l=ne.l,I.l.ma=ne,I.l.width=ne.c,I.l.height=ne.i,I.a=0,B(I.m,se,Oe,Ie),!vo(ne.c,ne.i,1,I,null)||(I.ab==1&&I.gc[0].hc==3&&el(I.s)?(ne.ic=1,se=I.c*I.i,I.Ta=null,I.Ua=0,I.V=i(se),I.Ba=0,I.V==null?(I.a=1,I=0):I=1):(ne.ic=0,I=yd(I,ne.c)),!I))break t;I=1;break e}ne.mc=null,I=0}else I=Ie>=ne.c*ne.i;ne=!I}if(ne)return null;P.ga.Lc!=1?P.Ga=0:W=ee-z}t(P.ga!=null),t(z+W<=ee);e:{if(I=(se=P.ga).c,ee=se.l.o,se.$a==0){if(Oe=P.rc,Ie=P.Vc,Xe=P.Fa,ie=P.P+1+z*I,ce=P.mb,Ae=P.nb+z*I,t(ie<=P.P+P.qc),se.Z!=0)for(t(rc[se.Z]!=null),ne=0;ne<W;++ne)rc[se.Z](Oe,Ie,Xe,ie,ce,Ae,I),Oe=ce,Ie=Ae,Ae+=I,ie+=I;else for(ne=0;ne<W;++ne)s(ce,Ae,Xe,ie,I),Oe=ce,Ie=Ae,Ae+=I,ie+=I;P.rc=Oe,P.Vc=Ie}else{if(t(se.mc!=null),I=z+W,t((ne=se.mc)!=null),t(I<=ne.i),ne.C>=I)I=1;else if(se.ic||ke(),se.ic){se=ne.V,Oe=ne.Ba,Ie=ne.c;var Be=ne.i,Ee=(Xe=1,ie=ne.$/Ie,ce=ne.$%Ie,Ae=ne.m,De=ne.s,ne.$),Te=Ie*Be,Ke=Ie*I,Je=De.wc,Ye=Ee<Ke?Ln(De,ce,ie):null;t(Ee<=Te),t(I<=Be),t(el(De));t:for(;;){for(;!Ae.h&&Ee<Ke;){if(ce&Je||(Ye=Ln(De,ce,ie)),t(Ye!=null),te(Ae),256>(Be=sa(Ye.G[0],Ye.H[0],Ae)))se[Oe+Ee]=Be,++Ee,++ce>=Ie&&(ce=0,++ie<=I&&!(ie%16)&&Ei(ne,ie));else{if(!(280>Be)){Xe=0;break t}Be=Ci(Be-256,Ae);var pt,dt=sa(Ye.G[4],Ye.H[4],Ae);if(te(Ae),!(Ee>=(dt=mo(Ie,dt=Ci(dt,Ae)))&&Te-Ee>=Be)){Xe=0;break t}for(pt=0;pt<Be;++pt)se[Oe+Ee+pt]=se[Oe+Ee+pt-dt];for(Ee+=Be,ce+=Be;ce>=Ie;)ce-=Ie,++ie<=I&&!(ie%16)&&Ei(ne,ie);Ee<Ke&&ce&Je&&(Ye=Ln(De,ce,ie))}t(Ae.h==G(Ae))}Ei(ne,ie>I?I:ie);break t}!Xe||Ae.h&&Ee<Te?(Xe=0,ne.a=Ae.h?5:3):ne.$=Ee,I=Xe}else I=Pi(ne,ne.V,ne.Ba,ne.c,ne.i,I,zu);if(!I){W=0;break e}}z+W>=ee&&(P.Cc=1),W=1}if(!W)return null;if(P.Cc&&((W=P.ga)!=null&&(W.mc=null),P.ga=null,0<P.Ga))return alert("todo:WebPDequantizeLevels"),null}return P.nb+z*Y}function $(P,I,z,W,Y,ee){for(;0<Y--;){var ne,se=P,ie=I+(z?1:0),ce=P,Ae=I+(z?0:3);for(ne=0;ne<W;++ne){var De=ce[Ae+4*ne];De!=255&&(De*=32897,se[ie+4*ne+0]=se[ie+4*ne+0]*De>>23,se[ie+4*ne+1]=se[ie+4*ne+1]*De>>23,se[ie+4*ne+2]=se[ie+4*ne+2]*De>>23)}I+=ee}}function Q(P,I,z,W,Y){for(;0<W--;){var ee;for(ee=0;ee<z;++ee){var ne=P[I+2*ee+0],se=15&(ce=P[I+2*ee+1]),ie=4369*se,ce=(240&ce|ce>>4)*ie>>16;P[I+2*ee+0]=(240&ne|ne>>4)*ie>>16&240|(15&ne|ne<<4)*ie>>16>>4&15,P[I+2*ee+1]=240&ce|se}I+=Y}}function me(P,I,z,W,Y,ee,ne,se){var ie,ce,Ae=255;for(ce=0;ce<Y;++ce){for(ie=0;ie<W;++ie){var De=P[I+ie];ee[ne+4*ie]=De,Ae&=De}I+=z,ne+=se}return Ae!=255}function Se(P,I,z,W,Y){var ee;for(ee=0;ee<Y;++ee)z[W+ee]=P[I+ee]>>8}function ke(){Ja=$,Vr=Q,qr=me,Pn=Se}function We(P,I,z){w[P]=function(W,Y,ee,ne,se,ie,ce,Ae,De,Oe,Ie,Xe,Be,Ee,Te,Ke,Je){var Ye,pt=Je-1>>1,dt=se[ie+0]|ce[Ae+0]<<16,Dt=De[Oe+0]|Ie[Xe+0]<<16;t(W!=null);var ft=3*dt+Dt+131074>>2;for(I(W[Y+0],255&ft,ft>>16,Be,Ee),ee!=null&&(ft=3*Dt+dt+131074>>2,I(ee[ne+0],255&ft,ft>>16,Te,Ke)),Ye=1;Ye<=pt;++Ye){var Nr=se[ie+Ye]|ce[Ae+Ye]<<16,Ar=De[Oe+Ye]|Ie[Xe+Ye]<<16,mr=dt+Nr+Dt+Ar+524296,ir=mr+2*(Nr+Dt)>>3;ft=ir+dt>>1,dt=(mr=mr+2*(dt+Ar)>>3)+Nr>>1,I(W[Y+2*Ye-1],255&ft,ft>>16,Be,Ee+(2*Ye-1)*z),I(W[Y+2*Ye-0],255&dt,dt>>16,Be,Ee+(2*Ye-0)*z),ee!=null&&(ft=mr+Dt>>1,dt=ir+Ar>>1,I(ee[ne+2*Ye-1],255&ft,ft>>16,Te,Ke+(2*Ye-1)*z),I(ee[ne+2*Ye+0],255&dt,dt>>16,Te,Ke+(2*Ye+0)*z)),dt=Nr,Dt=Ar}1&Je||(ft=3*dt+Dt+131074>>2,I(W[Y+Je-1],255&ft,ft>>16,Be,Ee+(Je-1)*z),ee!=null&&(ft=3*Dt+dt+131074>>2,I(ee[ne+Je-1],255&ft,ft>>16,Te,Ke+(Je-1)*z)))}}function tt(){ei[_x]=IV,ei[Ix]=kP,ei[EP]=kV,ei[kx]=DP,ei[Dx]=OP,ei[Iw]=LP,ei[PP]=DV,ei[kw]=kP,ei[Dw]=DP,ei[Ox]=OP,ei[Ow]=LP}function mt(P){return P&~OV?0>P?0:255:P>>RP}function Pt(P,I){return mt((19077*P>>8)+(26149*I>>8)-14234)}function Kt(P,I,z){return mt((19077*P>>8)-(6419*I>>8)-(13320*z>>8)+8708)}function Ht(P,I){return mt((19077*P>>8)+(33050*I>>8)-17685)}function ur(P,I,z,W,Y){W[Y+0]=Pt(P,z),W[Y+1]=Kt(P,I,z),W[Y+2]=Ht(P,I)}function dn(P,I,z,W,Y){W[Y+0]=Ht(P,I),W[Y+1]=Kt(P,I,z),W[Y+2]=Pt(P,z)}function yn(P,I,z,W,Y){var ee=Kt(P,I,z);I=ee<<3&224|Ht(P,I)>>3,W[Y+0]=248&Pt(P,z)|ee>>5,W[Y+1]=I}function Rn(P,I,z,W,Y){var ee=240&Ht(P,I)|15;W[Y+0]=240&Pt(P,z)|Kt(P,I,z)>>4,W[Y+1]=ee}function _s(P,I,z,W,Y){W[Y+0]=255,ur(P,I,z,W,Y+1)}function rs(P,I,z,W,Y){dn(P,I,z,W,Y),W[Y+3]=255}function Ii(P,I,z,W,Y){ur(P,I,z,W,Y),W[Y+3]=255}function Ea(P,I){return 0>P?0:P>I?I:P}function yo(P,I,z){w[P]=function(W,Y,ee,ne,se,ie,ce,Ae,De){for(var Oe=Ae+(-2&De)*z;Ae!=Oe;)I(W[Y+0],ee[ne+0],se[ie+0],ce,Ae),I(W[Y+1],ee[ne+0],se[ie+0],ce,Ae+z),Y+=2,++ne,++ie,Ae+=2*z;1&De&&I(W[Y+0],ee[ne+0],se[ie+0],ce,Ae)}}function Nx(P,I,z){return z==0?P==0?I==0?6:5:I==0?4:0:z}function qm(P,I,z,W,Y){switch(P>>>30){case 3:al(I,z,W,Y,0);break;case 2:En(I,z,W,Y);break;case 1:Hs(I,z,W,Y)}}function Wm(P,I){var z,W,Y=I.M,ee=I.Nb,ne=P.oc,se=P.pc+40,ie=P.oc,ce=P.pc+584,Ae=P.oc,De=P.pc+600;for(z=0;16>z;++z)ne[se+32*z-1]=129;for(z=0;8>z;++z)ie[ce+32*z-1]=129,Ae[De+32*z-1]=129;for(0<Y?ne[se-1-32]=ie[ce-1-32]=Ae[De-1-32]=129:(a(ne,se-32-1,127,21),a(ie,ce-32-1,127,9),a(Ae,De-32-1,127,9)),W=0;W<P.za;++W){var Oe=I.ya[I.aa+W];if(0<W){for(z=-1;16>z;++z)s(ne,se+32*z-4,ne,se+32*z+12,4);for(z=-1;8>z;++z)s(ie,ce+32*z-4,ie,ce+32*z+4,4),s(Ae,De+32*z-4,Ae,De+32*z+4,4)}var Ie=P.Gd,Xe=P.Hd+W,Be=Oe.ad,Ee=Oe.Hc;if(0<Y&&(s(ne,se-32,Ie[Xe].y,0,16),s(ie,ce-32,Ie[Xe].f,0,8),s(Ae,De-32,Ie[Xe].ea,0,8)),Oe.Za){var Te=ne,Ke=se-32+16;for(0<Y&&(W>=P.za-1?a(Te,Ke,Ie[Xe].y[15],4):s(Te,Ke,Ie[Xe+1].y,0,4)),z=0;4>z;z++)Te[Ke+128+z]=Te[Ke+256+z]=Te[Ke+384+z]=Te[Ke+0+z];for(z=0;16>z;++z,Ee<<=2)Te=ne,Ke=se+$P[z],ki[Oe.Ob[z]](Te,Ke),qm(Ee,Be,16*+z,Te,Ke)}else if(Te=Nx(W,Y,Oe.Ob[0]),tc[Te](ne,se),Ee!=0)for(z=0;16>z;++z,Ee<<=2)qm(Ee,Be,16*+z,ne,se+$P[z]);for(z=Oe.Gc,Te=Nx(W,Y,Oe.Dd),ol[Te](ie,ce),ol[Te](Ae,De),Ee=Be,Te=ie,Ke=ce,255&(Oe=z>>0)&&(170&Oe?Xm(Ee,256,Te,Ke):Xa(Ee,256,Te,Ke)),Oe=Ae,Ee=De,255&(z>>=8)&&(170&z?Xm(Be,320,Oe,Ee):Xa(Be,320,Oe,Ee)),Y<P.Ub-1&&(s(Ie[Xe].y,0,ne,se+480,16),s(Ie[Xe].f,0,ie,ce+224,8),s(Ie[Xe].ea,0,Ae,De+224,8)),z=8*ee*P.B,Ie=P.sa,Xe=P.ta+16*W+16*ee*P.R,Be=P.qa,Oe=P.ra+8*W+z,Ee=P.Ha,Te=P.Ia+8*W+z,z=0;16>z;++z)s(Ie,Xe+z*P.R,ne,se+32*z,16);for(z=0;8>z;++z)s(Be,Oe+z*P.B,ie,ce+32*z,8),s(Ee,Te+z*P.B,Ae,De+32*z,8)}}function th(P,I,z,W,Y,ee,ne,se,ie){var ce=[0],Ae=[0],De=0,Oe=ie!=null?ie.kd:0,Ie=ie??new Bm;if(P==null||12>z)return 7;Ie.data=P,Ie.w=I,Ie.ha=z,I=[I],z=[z],Ie.gb=[Ie.gb];e:{var Xe=I,Be=z,Ee=Ie.gb;if(t(P!=null),t(Be!=null),t(Ee!=null),Ee[0]=0,12<=Be[0]&&!r(P,Xe[0],"RIFF")){if(r(P,Xe[0]+8,"WEBP")){Ee=3;break e}var Te=Le(P,Xe[0]+4);if(12>Te||4294967286<Te){Ee=3;break e}if(Oe&&Te>Be[0]-8){Ee=7;break e}Ee[0]=Te,Xe[0]+=12,Be[0]-=12}Ee=0}if(Ee!=0)return Ee;for(Te=0<Ie.gb[0],z=z[0];;){e:{var Ke=P;Be=I,Ee=z;var Je=ce,Ye=Ae,pt=Xe=[0];if((ft=De=[De])[0]=0,8>Ee[0])Ee=7;else{if(!r(Ke,Be[0],"VP8X")){if(Le(Ke,Be[0]+4)!=10){Ee=3;break e}if(18>Ee[0]){Ee=7;break e}var dt=Le(Ke,Be[0]+8),Dt=1+ve(Ke,Be[0]+12);if(2147483648<=Dt*(Ke=1+ve(Ke,Be[0]+15))){Ee=3;break e}pt!=null&&(pt[0]=dt),Je!=null&&(Je[0]=Dt),Ye!=null&&(Ye[0]=Ke),Be[0]+=18,Ee[0]-=18,ft[0]=1}Ee=0}}if(De=De[0],Xe=Xe[0],Ee!=0)return Ee;if(Be=!!(2&Xe),!Te&&De)return 3;if(ee!=null&&(ee[0]=!!(16&Xe)),ne!=null&&(ne[0]=Be),se!=null&&(se[0]=0),ne=ce[0],Xe=Ae[0],De&&Be&&ie==null){Ee=0;break}if(4>z){Ee=7;break}if(Te&&De||!Te&&!De&&!r(P,I[0],"ALPH")){z=[z],Ie.na=[Ie.na],Ie.P=[Ie.P],Ie.Sa=[Ie.Sa];e:{dt=P,Ee=I,Te=z;var ft=Ie.gb;Je=Ie.na,Ye=Ie.P,pt=Ie.Sa,Dt=22,t(dt!=null),t(Te!=null),Ke=Ee[0];var Nr=Te[0];for(t(Je!=null),t(pt!=null),Je[0]=null,Ye[0]=null,pt[0]=0;;){if(Ee[0]=Ke,Te[0]=Nr,8>Nr){Ee=7;break e}var Ar=Le(dt,Ke+4);if(4294967286<Ar){Ee=3;break e}var mr=8+Ar+1&-2;if(Dt+=mr,0<ft&&Dt>ft){Ee=3;break e}if(!r(dt,Ke,"VP8 ")||!r(dt,Ke,"VP8L")){Ee=0;break e}if(Nr[0]<mr){Ee=7;break e}r(dt,Ke,"ALPH")||(Je[0]=dt,Ye[0]=Ke+8,pt[0]=Ar),Ke+=mr,Nr-=mr}}if(z=z[0],Ie.na=Ie.na[0],Ie.P=Ie.P[0],Ie.Sa=Ie.Sa[0],Ee!=0)break}z=[z],Ie.Ja=[Ie.Ja],Ie.xa=[Ie.xa];e:if(ft=P,Ee=I,Te=z,Je=Ie.gb[0],Ye=Ie.Ja,pt=Ie.xa,dt=Ee[0],Ke=!r(ft,dt,"VP8 "),Dt=!r(ft,dt,"VP8L"),t(ft!=null),t(Te!=null),t(Ye!=null),t(pt!=null),8>Te[0])Ee=7;else{if(Ke||Dt){if(ft=Le(ft,dt+4),12<=Je&&ft>Je-12){Ee=3;break e}if(Oe&&ft>Te[0]-8){Ee=7;break e}Ye[0]=ft,Ee[0]+=8,Te[0]-=8,pt[0]=Dt}else pt[0]=5<=Te[0]&&ft[dt+0]==47&&!(ft[dt+4]>>5),Ye[0]=Te[0];Ee=0}if(z=z[0],Ie.Ja=Ie.Ja[0],Ie.xa=Ie.xa[0],I=I[0],Ee!=0)break;if(4294967286<Ie.Ja)return 3;if(se==null||Be||(se[0]=Ie.xa?2:1),ne=[ne],Xe=[Xe],Ie.xa){if(5>z){Ee=7;break}se=ne,Oe=Xe,Be=ee,P==null||5>z?P=0:5<=z&&P[I+0]==47&&!(P[I+4]>>5)?(Te=[0],ft=[0],Je=[0],B(Ye=new L,P,I,z),Ot(Ye,Te,ft,Je)?(se!=null&&(se[0]=Te[0]),Oe!=null&&(Oe[0]=ft[0]),Be!=null&&(Be[0]=Je[0]),P=1):P=0):P=0}else{if(10>z){Ee=7;break}se=Xe,P==null||10>z||!ox(P,I+3,z-3)?P=0:(Oe=P[I+0]|P[I+1]<<8|P[I+2]<<16,Be=16383&(P[I+7]<<8|P[I+6]),P=16383&(P[I+9]<<8|P[I+8]),1&Oe||3<(Oe>>1&7)||!(Oe>>4&1)||Oe>>5>=Ie.Ja||!Be||!P?P=0:(ne&&(ne[0]=Be),se&&(se[0]=P),P=1))}if(!P||(ne=ne[0],Xe=Xe[0],De&&(ce[0]!=ne||Ae[0]!=Xe)))return 3;ie!=null&&(ie[0]=Ie,ie.offset=I-ie.w,t(4294967286>I-ie.w),t(ie.offset==ie.ha-z));break}return Ee==0||Ee==7&&De&&ie==null?(ee!=null&&(ee[0]|=Ie.na!=null&&0<Ie.na.length),W!=null&&(W[0]=ne),Y!=null&&(Y[0]=Xe),0):Ee}function Hm(P,I,z){var W=I.width,Y=I.height,ee=0,ne=0,se=W,ie=Y;if(I.Da=P!=null&&0<P.Da,I.Da&&(se=P.cd,ie=P.bd,ee=P.v,ne=P.j,11>z||(ee&=-2,ne&=-2),0>ee||0>ne||0>=se||0>=ie||ee+se>W||ne+ie>Y))return 0;if(I.v=ee,I.j=ne,I.va=ee+se,I.o=ne+ie,I.U=se,I.T=ie,I.da=P!=null&&0<P.da,I.da){if(!Ce(se,ie,z=[P.ib],ee=[P.hb]))return 0;I.ib=z[0],I.hb=ee[0]}return I.ob=P!=null&&P.ob,I.Kb=P==null||!P.Sd,I.da&&(I.ob=I.ib<3*W/4&&I.hb<3*Y/4,I.Kb=0),1}function Gm(P){if(P==null)return 2;if(11>P.S){var I=P.f.RGBA;I.fb+=(P.height-1)*I.A,I.A=-I.A}else I=P.f.kb,P=P.height,I.O+=(P-1)*I.fa,I.fa=-I.fa,I.N+=(P-1>>1)*I.Ab,I.Ab=-I.Ab,I.W+=(P-1>>1)*I.Db,I.Db=-I.Db,I.F!=null&&(I.J+=(P-1)*I.lb,I.lb=-I.lb);return 0}function rh(P,I,z,W){if(W==null||0>=P||0>=I)return 2;if(z!=null){if(z.Da){var Y=z.cd,ee=z.bd,ne=-2&z.v,se=-2&z.j;if(0>ne||0>se||0>=Y||0>=ee||ne+Y>P||se+ee>I)return 2;P=Y,I=ee}if(z.da){if(!Ce(P,I,Y=[z.ib],ee=[z.hb]))return 2;P=Y[0],I=ee[0]}}W.width=P,W.height=I;e:{var ie=W.width,ce=W.height;if(P=W.S,0>=ie||0>=ce||!(P>=_x&&13>P))P=2;else{if(0>=W.Rd&&W.sd==null){ne=ee=Y=I=0;var Ae=(se=ie*MP[P])*ce;if(11>P||(ee=(ce+1)/2*(I=(ie+1)/2),P==12&&(ne=(Y=ie)*ce)),(ce=i(Ae+2*ee+ne))==null){P=1;break e}W.sd=ce,11>P?((ie=W.f.RGBA).eb=ce,ie.fb=0,ie.A=se,ie.size=Ae):((ie=W.f.kb).y=ce,ie.O=0,ie.fa=se,ie.Fd=Ae,ie.f=ce,ie.N=0+Ae,ie.Ab=I,ie.Cd=ee,ie.ea=ce,ie.W=0+Ae+ee,ie.Db=I,ie.Ed=ee,P==12&&(ie.F=ce,ie.J=0+Ae+2*ee),ie.Tc=ne,ie.lb=Y)}if(I=1,Y=W.S,ee=W.width,ne=W.height,Y>=_x&&13>Y)if(11>Y)P=W.f.RGBA,I&=(se=Math.abs(P.A))*(ne-1)+ee<=P.size,I&=se>=ee*MP[Y],I&=P.eb!=null;else{P=W.f.kb,se=(ee+1)/2,Ae=(ne+1)/2,ie=Math.abs(P.fa),ce=Math.abs(P.Ab);var De=Math.abs(P.Db),Oe=Math.abs(P.lb),Ie=Oe*(ne-1)+ee;I&=ie*(ne-1)+ee<=P.Fd,I&=ce*(Ae-1)+se<=P.Cd,I=(I&=De*(Ae-1)+se<=P.Ed)&ie>=ee&ce>=se&De>=se,I&=P.y!=null,I&=P.f!=null,I&=P.ea!=null,Y==12&&(I&=Oe>=ee,I&=Ie<=P.Tc,I&=P.F!=null)}else I=0;P=I?0:2}}return P!=0||z!=null&&z.fd&&(P=Gm(W)),P}var vs=64,nh=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],sh=24,ah=32,Km=8,ia=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Fe("Predictor0","PredictorAdd0"),w.Predictor0=function(){return 4278190080},w.Predictor1=function(P){return P},w.Predictor2=function(P,I,z){return I[z+0]},w.Predictor3=function(P,I,z){return I[z+1]},w.Predictor4=function(P,I,z){return I[z-1]},w.Predictor5=function(P,I,z){return rt(rt(P,I[z+1]),I[z+0])},w.Predictor6=function(P,I,z){return rt(P,I[z-1])},w.Predictor7=function(P,I,z){return rt(P,I[z+0])},w.Predictor8=function(P,I,z){return rt(I[z-1],I[z+0])},w.Predictor9=function(P,I,z){return rt(I[z+0],I[z+1])},w.Predictor10=function(P,I,z){return rt(rt(P,I[z-1]),rt(I[z+0],I[z+1]))},w.Predictor11=function(P,I,z){var W=I[z+0];return 0>=Ze(W>>24&255,P>>24&255,(I=I[z-1])>>24&255)+Ze(W>>16&255,P>>16&255,I>>16&255)+Ze(W>>8&255,P>>8&255,I>>8&255)+Ze(255&W,255&P,255&I)?W:P},w.Predictor12=function(P,I,z){var W=I[z+0];return(gt((P>>24&255)+(W>>24&255)-((I=I[z-1])>>24&255))<<24|gt((P>>16&255)+(W>>16&255)-(I>>16&255))<<16|gt((P>>8&255)+(W>>8&255)-(I>>8&255))<<8|gt((255&P)+(255&W)-(255&I)))>>>0},w.Predictor13=function(P,I,z){var W=I[z-1];return(Me((P=rt(P,I[z+0]))>>24&255,W>>24&255)<<24|Me(P>>16&255,W>>16&255)<<16|Me(P>>8&255,W>>8&255)<<8|Me(P>>0&255,W>>0&255))>>>0};var Tw=w.PredictorAdd0;w.PredictorAdd1=ht,Fe("Predictor2","PredictorAdd2"),Fe("Predictor3","PredictorAdd3"),Fe("Predictor4","PredictorAdd4"),Fe("Predictor5","PredictorAdd5"),Fe("Predictor6","PredictorAdd6"),Fe("Predictor7","PredictorAdd7"),Fe("Predictor8","PredictorAdd8"),Fe("Predictor9","PredictorAdd9"),Fe("Predictor10","PredictorAdd10"),Fe("Predictor11","PredictorAdd11"),Fe("Predictor12","PredictorAdd12"),Fe("Predictor13","PredictorAdd13");var Ym=w.PredictorAdd2;Bt("ColorIndexInverseTransform","MapARGB","32b",function(P){return P>>8&255},function(P){return P}),Bt("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(P){return P},function(P){return P>>8&255});var Sx,Ya=w.ColorIndexInverseTransform,ih=w.MapARGB,Cx=w.VP8LColorIndexInverseTransformAlpha,Ax=w.MapAlpha,Ql=w.VP8LPredictorsAdd=[];Ql.length=16,(w.VP8LPredictors=[]).length=16,(w.VP8LPredictorsAdd_C=[]).length=16,(w.VP8LPredictors_C=[]).length=16;var Sd,oa,Ws,Jl,nl,sl,oh,al,En,Xm,Hs,Xa,lh,Ex,Qm,Cd,Ad,Zl,Ed,ch,Pd,ec,Jm,Qa,Ja,Vr,qr,Pn,Hn=i(511),il=i(2041),Zm=i(225),dh=i(767),Px=0,_w=il,Tx=Zm,Pa=dh,Za=Hn,_x=0,Ix=1,EP=2,kx=3,Dx=4,Iw=5,PP=6,kw=7,Dw=8,Ox=9,Ow=10,gV=[2,3,7],xV=[3,3,11],TP=[280,256,256,256,40],yV=[0,1,1,1,0],bV=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],jV=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],wV=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],NV=8,Lw=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],Rw=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],ep=null,SV=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],CV=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],_P=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],AV=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],EV=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],PV=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],TV=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],tc=[],ki=[],ol=[],_V=1,IP=2,rc=[],ei=[];We("UpsampleRgbLinePair",ur,3),We("UpsampleBgrLinePair",dn,3),We("UpsampleRgbaLinePair",Ii,4),We("UpsampleBgraLinePair",rs,4),We("UpsampleArgbLinePair",_s,4),We("UpsampleRgba4444LinePair",Rn,2),We("UpsampleRgb565LinePair",yn,2);var IV=w.UpsampleRgbLinePair,kV=w.UpsampleBgrLinePair,kP=w.UpsampleRgbaLinePair,DP=w.UpsampleBgraLinePair,OP=w.UpsampleArgbLinePair,LP=w.UpsampleRgba4444LinePair,DV=w.UpsampleRgb565LinePair,Lx=16,Rx=1<<Lx-1,tp=-227,Fw=482,RP=6,OV=(256<<RP)-1,FP=0,LV=i(256),RV=i(256),FV=i(256),$V=i(256),MV=i(Fw-tp),BV=i(Fw-tp);yo("YuvToRgbRow",ur,3),yo("YuvToBgrRow",dn,3),yo("YuvToRgbaRow",Ii,4),yo("YuvToBgraRow",rs,4),yo("YuvToArgbRow",_s,4),yo("YuvToRgba4444Row",Rn,2),yo("YuvToRgb565Row",yn,2);var $P=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Fx=[0,2,8],zV=[8,7,6,4,4,2,2,2,1,1,1,1],UV=1;this.WebPDecodeRGBA=function(P,I,z,W,Y){var ee=Ix,ne=new Zu,se=new Si;ne.ba=se,se.S=ee,se.width=[se.width],se.height=[se.height];var ie=se.width,ce=se.height,Ae=new Zo;if(Ae==null||P==null)var De=2;else t(Ae!=null),De=th(P,I,z,Ae.width,Ae.height,Ae.Pd,Ae.Qd,Ae.format,null);if(De!=0?ie=0:(ie!=null&&(ie[0]=Ae.width[0]),ce!=null&&(ce[0]=Ae.height[0]),ie=1),ie){se.width=se.width[0],se.height=se.height[0],W!=null&&(W[0]=se.width),Y!=null&&(Y[0]=se.height);e:{if(W=new Hu,(Y=new Bm).data=P,Y.w=I,Y.ha=z,Y.kd=1,I=[0],t(Y!=null),((P=th(Y.data,Y.w,Y.ha,null,null,null,I,null,Y))==0||P==7)&&I[0]&&(P=4),(I=P)==0){if(t(ne!=null),W.data=Y.data,W.w=Y.w+Y.offset,W.ha=Y.ha-Y.offset,W.put=ho,W.ac=ps,W.bc=fo,W.ma=ne,Y.xa){if((P=Ka())==null){ne=1;break e}if(function(Oe,Ie){var Xe=[0],Be=[0],Ee=[0];t:for(;;){if(Oe==null)return 0;if(Ie==null)return Oe.a=2,0;if(Oe.l=Ie,Oe.a=0,B(Oe.m,Ie.data,Ie.w,Ie.ha),!Ot(Oe.m,Xe,Be,Ee)){Oe.a=3;break t}if(Oe.xb=IP,Ie.width=Xe[0],Ie.height=Be[0],!vo(Xe[0],Be[0],1,Oe,null))break t;return 1}return t(Oe.a!=0),0}(P,W)){if(W=(I=rh(W.width,W.height,ne.Oa,ne.ba))==0){t:{W=P;r:for(;;){if(W==null){W=0;break t}if(t(W.s.yc!=null),t(W.s.Ya!=null),t(0<W.s.Wb),t((z=W.l)!=null),t((Y=z.ma)!=null),W.xb!=0){if(W.ca=Y.ba,W.tb=Y.tb,t(W.ca!=null),!Hm(Y.Oa,z,kx)){W.a=2;break r}if(!yd(W,z.width)||z.da)break r;if((z.da||dr(W.ca.S))&&ke(),11>W.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),W.ca.f.kb.F!=null&&ke()),W.Pb&&0<W.s.ua&&W.s.vb.X==null&&!ge(W.s.vb,W.s.Wa.Xa)){W.a=1;break r}W.xb=0}if(!Pi(W,W.V,W.Ba,W.c,W.i,z.o,Bu))break r;Y.Dc=W.Ma,W=1;break t}t(W.a!=0),W=0}W=!W}W&&(I=P.a)}else I=P.a}else{if((P=new dw)==null){ne=1;break e}if(P.Fa=Y.na,P.P=Y.P,P.qc=Y.Sa,lx(P,W)){if((I=rh(W.width,W.height,ne.Oa,ne.ba))==0){if(P.Aa=0,z=ne.Oa,t((Y=P)!=null),z!=null){if(0<(ie=0>(ie=z.Md)?0:100<ie?255:255*ie/100)){for(ce=Ae=0;4>ce;++ce)12>(De=Y.pb[ce]).lc&&(De.ia=ie*zV[0>De.lc?0:De.lc]>>3),Ae|=De.ia;Ae&&(alert("todo:VP8InitRandom"),Y.ia=1)}Y.Ga=z.Id,100<Y.Ga?Y.Ga=100:0>Y.Ga&&(Y.Ga=0)}uw(P,W)||(I=P.a)}}else I=P.a}I==0&&ne.Oa!=null&&ne.Oa.fd&&(I=Gm(ne.ba))}ne=I}ee=ne!=0?null:11>ee?se.f.RGBA.eb:se.f.kb.y}else ee=null;return ee};var MP=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function d(w,_){for(var k="",T=0;T<4;T++)k+=String.fromCharCode(w[_++]);return k}function h(w,_){return(w[_+0]<<0|w[_+1]<<8|w[_+2]<<16)>>>0}function u(w,_){return(w[_+0]<<0|w[_+1]<<8|w[_+2]<<16|w[_+3]<<24)>>>0}new c;var f=[0],m=[0],v=[],x=new c,p=e,g=function(w,_){var k={},T=0,A=!1,O=0,D=0;if(k.frames=[],!function(V,G,Z,te){for(var he=0;he<te;he++)if(V[G+he]!=Z.charCodeAt(he))return!0;return!1}(w,_,"RIFF",4)){var F,M;for(u(w,_+=4),_+=8;_<w.length;){var R=d(w,_),B=u(w,_+=4);_+=4;var U=B+(1&B);switch(R){case"VP8 ":case"VP8L":k.frames[T]===void 0&&(k.frames[T]={}),(L=k.frames[T]).src_off=A?D:_-8,L.src_size=O+B+8,T++,A&&(A=!1,O=0,D=0);break;case"VP8X":(L=k.header={}).feature_flags=w[_];var H=_+4;L.canvas_width=1+h(w,H),H+=3,L.canvas_height=1+h(w,H),H+=3;break;case"ALPH":A=!0,O=U+8,D=_-8;break;case"ANIM":(L=k.header).bgcolor=u(w,_),H=_+4,L.loop_count=(F=w)[(M=H)+0]<<0|F[M+1]<<8,H+=2;break;case"ANMF":var q,L;(L=k.frames[T]={}).offset_x=2*h(w,_),_+=3,L.offset_y=2*h(w,_),_+=3,L.width=1+h(w,_),_+=3,L.height=1+h(w,_),_+=3,L.duration=h(w,_),_+=3,q=w[_++],L.dispose=1&q,L.blend=q>>1&1}R!="ANMF"&&(_+=U)}return k}}(p,0);g.response=p,g.rgbaoutput=!0,g.dataurl=!1;var b=g.header?g.header:null,y=g.frames?g.frames:null;if(b){b.loop_counter=b.loop_count,f=[b.canvas_height],m=[b.canvas_width];for(var j=0;j<y.length&&y[j].blend!=0;j++);}var E=y[0],S=x.WebPDecodeRGBA(p,E.src_off,E.src_size,m,f);E.rgba=S,E.imgwidth=m[0],E.imgheight=f[0];for(var N=0;N<m[0]*f[0]*4;N++)v[N]=S[N];return this.width=m,this.height=f,this.data=v,this}(function(e){var t=function(){return typeof NS=="function"},r=function(f,m,v,x){var p=4,g=o;switch(x){case e.image_compression.FAST:p=1,g=i;break;case e.image_compression.MEDIUM:p=6,g=l;break;case e.image_compression.SLOW:p=9,g=c}f=s(f,m,v,g);var b=NS(f,{level:p});return e.__addimage__.arrayBufferToBinaryString(b)},s=function(f,m,v,x){for(var p,g,b,y=f.length/m,j=new Uint8Array(f.length+y),E=h(),S=0;S<y;S+=1){if(b=S*m,p=f.subarray(b,b+m),x)j.set(x(p,v,g),b+S);else{for(var N,w=E.length,_=[];N<w;N+=1)_[N]=E[N](p,v,g);var k=u(_.concat());j.set(_[k],b+S)}g=p}return j},a=function(f){var m=Array.apply([],f);return m.unshift(0),m},i=function(f,m){var v,x=[],p=f.length;x[0]=1;for(var g=0;g<p;g+=1)v=f[g-m]||0,x[g+1]=f[g]-v+256&255;return x},o=function(f,m,v){var x,p=[],g=f.length;p[0]=2;for(var b=0;b<g;b+=1)x=v&&v[b]||0,p[b+1]=f[b]-x+256&255;return p},l=function(f,m,v){var x,p,g=[],b=f.length;g[0]=3;for(var y=0;y<b;y+=1)x=f[y-m]||0,p=v&&v[y]||0,g[y+1]=f[y]+256-(x+p>>>1)&255;return g},c=function(f,m,v){var x,p,g,b,y=[],j=f.length;y[0]=4;for(var E=0;E<j;E+=1)x=f[E-m]||0,p=v&&v[E]||0,g=v&&v[E-m]||0,b=d(x,p,g),y[E+1]=f[E]-b+256&255;return y},d=function(f,m,v){if(f===m&&m===v)return f;var x=Math.abs(m-v),p=Math.abs(f-v),g=Math.abs(f+m-v-v);return x<=p&&x<=g?f:p<=g?m:v},h=function(){return[a,i,o,l,c]},u=function(f){var m=f.map(function(v){return v.reduce(function(x,p){return x+Math.abs(p)},0)});return m.indexOf(Math.min.apply(null,m))};e.processPNG=function(f,m,v,x){var p,g,b,y,j,E,S,N,w,_,k,T,A,O,D,F=this.decode.FLATE_DECODE,M="";if(this.__addimage__.isArrayBuffer(f)&&(f=new Uint8Array(f)),this.__addimage__.isArrayBufferView(f)){if(f=(b=new Vle(f)).imgData,g=b.bits,p=b.colorSpace,j=b.colors,[4,6].indexOf(b.colorType)!==-1){if(b.bits===8){w=(N=b.pixelBitlength==32?new Uint32Array(b.decodePixels().buffer):b.pixelBitlength==16?new Uint16Array(b.decodePixels().buffer):new Uint8Array(b.decodePixels().buffer)).length,k=new Uint8Array(w*b.colors),_=new Uint8Array(w);var R,B=b.pixelBitlength-b.bits;for(O=0,D=0;O<w;O++){for(A=N[O],R=0;R<B;)k[D++]=A>>>R&255,R+=b.bits;_[O]=A>>>R&255}}if(b.bits===16){w=(N=new Uint32Array(b.decodePixels().buffer)).length,k=new Uint8Array(w*(32/b.pixelBitlength)*b.colors),_=new Uint8Array(w*(32/b.pixelBitlength)),T=b.colors>1,O=0,D=0;for(var U=0;O<w;)A=N[O++],k[D++]=A>>>0&255,T&&(k[D++]=A>>>16&255,A=N[O++],k[D++]=A>>>0&255),_[U++]=A>>>16&255;g=8}x!==e.image_compression.NONE&&t()?(f=r(k,b.width*b.colors,b.colors,x),S=r(_,b.width,1,x)):(f=k,S=_,F=void 0)}if(b.colorType===3&&(p=this.color_spaces.INDEXED,E=b.palette,b.transparency.indexed)){var H=b.transparency.indexed,q=0;for(O=0,w=H.length;O<w;++O)q+=H[O];if((q/=255)===w-1&&H.indexOf(0)!==-1)y=[H.indexOf(0)];else if(q!==w){for(N=b.decodePixels(),_=new Uint8Array(N.length),O=0,w=N.length;O<w;O++)_[O]=H[N[O]];S=r(_,b.width,1)}}var L=function(V){var G;switch(V){case e.image_compression.FAST:G=11;break;case e.image_compression.MEDIUM:G=13;break;case e.image_compression.SLOW:G=14;break;default:G=12}return G}(x);return F===this.decode.FLATE_DECODE&&(M="/Predictor "+L+" "),M+="/Colors "+j+" /BitsPerComponent "+g+" /Columns "+b.width,(this.__addimage__.isArrayBuffer(f)||this.__addimage__.isArrayBufferView(f))&&(f=this.__addimage__.arrayBufferToBinaryString(f)),(S&&this.__addimage__.isArrayBuffer(S)||this.__addimage__.isArrayBufferView(S))&&(S=this.__addimage__.arrayBufferToBinaryString(S)),{alias:v,data:f,index:m,filter:F,decodeParameters:M,transparency:y,palette:E,sMask:S,predictor:L,width:b.width,height:b.height,bitsPerComponent:g,colorSpace:p}}}})(Tt.API),function(e){e.processGIF89A=function(t,r,s,a){var i=new qle(t),o=i.width,l=i.height,c=[];i.decodeAndBlitFrameRGBA(0,c);var d={data:c,width:o,height:l},h=new iN(100).encode(d,100);return e.processJPEG.call(this,h,r,s,a)},e.processGIF87A=e.processGIF89A}(Tt.API),Fi.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var e=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(e);for(var t=0;t<e;t++){var r=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0);this.palette[t]={red:a,green:s,blue:r,quad:i}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Fi.prototype.parseBGR=function(){this.pos=this.offset;try{var e="bit"+this.bitPP,t=this.width*this.height*4;this.data=new Uint8Array(t),this[e]()}catch(r){$r.log("bit decode error:"+r)}},Fi.prototype.bit1=function(){var e,t=Math.ceil(this.width/8),r=t%4;for(e=this.height-1;e>=0;e--){for(var s=this.bottom_up?e:this.height-1-e,a=0;a<t;a++)for(var i=this.datav.getUint8(this.pos++,!0),o=s*this.width*4+8*a*4,l=0;l<8&&8*a+l<this.width;l++){var c=this.palette[i>>7-l&1];this.data[o+4*l]=c.blue,this.data[o+4*l+1]=c.green,this.data[o+4*l+2]=c.red,this.data[o+4*l+3]=255}r!==0&&(this.pos+=4-r)}},Fi.prototype.bit4=function(){for(var e=Math.ceil(this.width/2),t=e%4,r=this.height-1;r>=0;r--){for(var s=this.bottom_up?r:this.height-1-r,a=0;a<e;a++){var i=this.datav.getUint8(this.pos++,!0),o=s*this.width*4+2*a*4,l=i>>4,c=15&i,d=this.palette[l];if(this.data[o]=d.blue,this.data[o+1]=d.green,this.data[o+2]=d.red,this.data[o+3]=255,2*a+1>=this.width)break;d=this.palette[c],this.data[o+4]=d.blue,this.data[o+4+1]=d.green,this.data[o+4+2]=d.red,this.data[o+4+3]=255}t!==0&&(this.pos+=4-t)}},Fi.prototype.bit8=function(){for(var e=this.width%4,t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,s=0;s<this.width;s++){var a=this.datav.getUint8(this.pos++,!0),i=r*this.width*4+4*s;if(a<this.palette.length){var o=this.palette[a];this.data[i]=o.red,this.data[i+1]=o.green,this.data[i+2]=o.blue,this.data[i+3]=255}else this.data[i]=255,this.data[i+1]=255,this.data[i+2]=255,this.data[i+3]=255}e!==0&&(this.pos+=4-e)}},Fi.prototype.bit15=function(){for(var e=this.width%3,t=parseInt("11111",2),r=this.height-1;r>=0;r--){for(var s=this.bottom_up?r:this.height-1-r,a=0;a<this.width;a++){var i=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(i&t)/t*255|0,l=(i>>5&t)/t*255|0,c=(i>>10&t)/t*255|0,d=i>>15?255:0,h=s*this.width*4+4*a;this.data[h]=c,this.data[h+1]=l,this.data[h+2]=o,this.data[h+3]=d}this.pos+=e}},Fi.prototype.bit16=function(){for(var e=this.width%3,t=parseInt("11111",2),r=parseInt("111111",2),s=this.height-1;s>=0;s--){for(var a=this.bottom_up?s:this.height-1-s,i=0;i<this.width;i++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var l=(o&t)/t*255|0,c=(o>>5&r)/r*255|0,d=(o>>11)/t*255|0,h=a*this.width*4+4*i;this.data[h]=d,this.data[h+1]=c,this.data[h+2]=l,this.data[h+3]=255}this.pos+=e}},Fi.prototype.bit24=function(){for(var e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var s=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=t*this.width*4+4*r;this.data[o]=i,this.data[o+1]=a,this.data[o+2]=s,this.data[o+3]=255}this.pos+=this.width%4}},Fi.prototype.bit32=function(){for(var e=this.height-1;e>=0;e--)for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var s=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),l=t*this.width*4+4*r;this.data[l]=i,this.data[l+1]=a,this.data[l+2]=s,this.data[l+3]=o}},Fi.prototype.getData=function(){return this.data},function(e){e.processBMP=function(t,r,s,a){var i=new Fi(t,!1),o=i.width,l=i.height,c={data:i.getData(),width:o,height:l},d=new iN(100).encode(c,100);return e.processJPEG.call(this,d,r,s,a)}}(Tt.API),LI.prototype.getData=function(){return this.data},function(e){e.processWEBP=function(t,r,s,a){var i=new LI(t),o=i.width,l=i.height,c={data:i.getData(),width:o,height:l},d=new iN(100).encode(c,100);return e.processJPEG.call(this,d,r,s,a)}}(Tt.API),Tt.API.processRGBA=function(e,t,r){for(var s=e.data,a=s.length,i=new Uint8Array(a/4*3),o=new Uint8Array(a/4),l=0,c=0,d=0;d<a;d+=4){var h=s[d],u=s[d+1],f=s[d+2],m=s[d+3];i[l++]=h,i[l++]=u,i[l++]=f,o[c++]=m}var v=this.__addimage__.arrayBufferToBinaryString(i);return{alpha:this.__addimage__.arrayBufferToBinaryString(o),data:v,index:t,alias:r,colorSpace:"DeviceRGB",bitsPerComponent:8,width:e.width,height:e.height}},Tt.API.setLanguage=function(e){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[e]!==void 0&&(this.internal.languageSettings.languageCode=e,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},jh=Tt.API,T0=jh.getCharWidthsArray=function(e,t){var r,s,a=(t=t||{}).font||this.internal.getFont(),i=t.fontSize||this.internal.getFontSize(),o=t.charSpace||this.internal.getCharSpace(),l=t.widths?t.widths:a.metadata.Unicode.widths,c=l.fof?l.fof:1,d=t.kerning?t.kerning:a.metadata.Unicode.kerning,h=d.fof?d.fof:1,u=t.doKerning!==!1,f=0,m=e.length,v=0,x=l[0]||c,p=[];for(r=0;r<m;r++)s=e.charCodeAt(r),typeof a.metadata.widthOfString=="function"?p.push((a.metadata.widthOfGlyph(a.metadata.characterToGlyph(s))+o*(1e3/i)||0)/1e3):(f=u&&yr(d[s])==="object"&&!isNaN(parseInt(d[s][v],10))?d[s][v]/h:0,p.push((l[s]||x)/c+f)),v=s;return p},II=jh.getStringUnitWidth=function(e,t){var r=(t=t||{}).fontSize||this.internal.getFontSize(),s=t.font||this.internal.getFont(),a=t.charSpace||this.internal.getCharSpace();return jh.processArabic&&(e=jh.processArabic(e)),typeof s.metadata.widthOfString=="function"?s.metadata.widthOfString(e,r,a)/r:T0.apply(this,arguments).reduce(function(i,o){return i+o},0)},kI=function(e,t,r,s){for(var a=[],i=0,o=e.length,l=0;i!==o&&l+t[i]<r;)l+=t[i],i++;a.push(e.slice(0,i));var c=i;for(l=0;i!==o;)l+t[i]>s&&(a.push(e.slice(c,i)),l=0,c=i),l+=t[i],i++;return c!==i&&a.push(e.slice(c,i)),a},DI=function(e,t,r){r||(r={});var s,a,i,o,l,c,d,h=[],u=[h],f=r.textIndent||0,m=0,v=0,x=e.split(" "),p=T0.apply(this,[" ",r])[0];if(c=r.lineIndent===-1?x[0].length+2:r.lineIndent||0){var g=Array(c).join(" "),b=[];x.map(function(j){(j=j.split(/\s*\n/)).length>1?b=b.concat(j.map(function(E,S){return(S&&E.length?`
`:"")+E})):b.push(j[0])}),x=b,c=II.apply(this,[g,r])}for(i=0,o=x.length;i<o;i++){var y=0;if(s=x[i],c&&s[0]==`
`&&(s=s.substr(1),y=1),f+m+(v=(a=T0.apply(this,[s,r])).reduce(function(j,E){return j+E},0))>t||y){if(v>t){for(l=kI.apply(this,[s,a,t-(f+m),t]),h.push(l.shift()),h=[l.pop()];l.length;)u.push([l.shift()]);v=a.slice(s.length-(h[0]?h[0].length:0)).reduce(function(j,E){return j+E},0)}else h=[s];u.push(h),f=v+c,m=p}else h.push(s),f+=m+v,m=p}return d=c?function(j,E){return(E?g:"")+j.join(" ")}:function(j){return j.join(" ")},u.map(d)},jh.splitTextToSize=function(e,t,r){var s,a=(r=r||{}).fontSize||this.internal.getFontSize(),i=(function(h){if(h.widths&&h.kerning)return{widths:h.widths,kerning:h.kerning};var u=this.internal.getFont(h.fontName,h.fontStyle);return u.metadata.Unicode?{widths:u.metadata.Unicode.widths||{0:1},kerning:u.metadata.Unicode.kerning||{}}:{font:u.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,r);s=Array.isArray(e)?e:String(e).split(/\r?\n/);var o=1*this.internal.scaleFactor*t/a;i.textIndent=r.textIndent?1*r.textIndent*this.internal.scaleFactor/a:0,i.lineIndent=r.lineIndent;var l,c,d=[];for(l=0,c=s.length;l<c;l++)d=d.concat(DI.apply(this,[s[l],o,i]));return d},function(e){e.__fontmetrics__=e.__fontmetrics__||{};for(var t="klmnopqrstuvwxyz",r={},s={},a=0;a<t.length;a++)r[t[a]]="0123456789abcdef"[a],s["0123456789abcdef"[a]]=t[a];var i=function(u){return"0x"+parseInt(u,10).toString(16)},o=e.__fontmetrics__.compress=function(u){var f,m,v,x,p=["{"];for(var g in u){if(f=u[g],isNaN(parseInt(g,10))?m="'"+g+"'":(g=parseInt(g,10),m=(m=i(g).slice(2)).slice(0,-1)+s[m.slice(-1)]),typeof f=="number")f<0?(v=i(f).slice(3),x="-"):(v=i(f).slice(2),x=""),v=x+v.slice(0,-1)+s[v.slice(-1)];else{if(yr(f)!=="object")throw new Error("Don't know what to do with value type "+yr(f)+".");v=o(f)}p.push(m+v)}return p.push("}"),p.join("")},l=e.__fontmetrics__.uncompress=function(u){if(typeof u!="string")throw new Error("Invalid argument passed to uncompress.");for(var f,m,v,x,p={},g=1,b=p,y=[],j="",E="",S=u.length-1,N=1;N<S;N+=1)(x=u[N])=="'"?f?(v=f.join(""),f=void 0):f=[]:f?f.push(x):x=="{"?(y.push([b,v]),b={},v=void 0):x=="}"?((m=y.pop())[0][m[1]]=b,v=void 0,b=m[0]):x=="-"?g=-1:v===void 0?r.hasOwnProperty(x)?(j+=r[x],v=parseInt(j,16)*g,g=1,j=""):j+=x:r.hasOwnProperty(x)?(E+=r[x],b[v]=parseInt(E,16)*g,g=1,v=void 0,E=""):E+=x;return p},c={codePages:["WinAnsiEncoding"],WinAnsiEncoding:l("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},d={Unicode:{Courier:c,"Courier-Bold":c,"Courier-BoldOblique":c,"Courier-Oblique":c,Helvetica:c,"Helvetica-Bold":c,"Helvetica-BoldOblique":c,"Helvetica-Oblique":c,"Times-Roman":c,"Times-Bold":c,"Times-BoldItalic":c,"Times-Italic":c}},h={Unicode:{"Courier-Oblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":l("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":l("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:l("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:l("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":l("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":l("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};e.events.push(["addFont",function(u){var f=u.font,m=h.Unicode[f.postScriptName];m&&(f.metadata.Unicode={},f.metadata.Unicode.widths=m.widths,f.metadata.Unicode.kerning=m.kerning);var v=d.Unicode[f.postScriptName];v&&(f.metadata.Unicode.encoding=v,f.encoding=v.codePages[0])}])}(Tt.API),function(e){var t=function(r){for(var s=r.length,a=new Uint8Array(s),i=0;i<s;i++)a[i]=r.charCodeAt(i);return a};e.API.events.push(["addFont",function(r){var s=void 0,a=r.font,i=r.instance;if(!a.isStandardFont){if(i===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");if(typeof(s=i.existsFileInVFS(a.postScriptName)===!1?i.loadFile(a.postScriptName):i.getFileFromVFS(a.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");(function(o,l){l=/^\x00\x01\x00\x00/.test(l)?t(l):t(Qp(l)),o.metadata=e.API.TTFFont.open(l),o.metadata.Unicode=o.metadata.Unicode||{encoding:{},kerning:{},widths:[]},o.metadata.glyIdsUsed=[0]})(a,s)}}])}(Tt),function(e){function t(){return($t.canvg?Promise.resolve($t.canvg):td(()=>import("./index.es-74fa0204.js"),[])).catch(function(r){return Promise.reject(new Error("Could not load canvg: "+r))}).then(function(r){return r.default?r.default:r})}Tt.API.addSvgAsImage=function(r,s,a,i,o,l,c,d){if(isNaN(s)||isNaN(a))throw $r.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(i)||isNaN(o))throw $r.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var h=document.createElement("canvas");h.width=i,h.height=o;var u=h.getContext("2d");u.fillStyle="#fff",u.fillRect(0,0,h.width,h.height);var f={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},m=this;return t().then(function(v){return v.fromString(u,r,f)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(v){return v.render(f)}).then(function(){m.addImage(h.toDataURL("image/jpeg",1),s,a,i,o,c,d)})}}(),Tt.API.putTotalPages=function(e){var t,r=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(t=new RegExp(e,"g"),r=this.internal.getNumberOfPages()):(t=new RegExp(this.pdfEscape16(e,this.internal.getFont()),"g"),r=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var s=1;s<=this.internal.getNumberOfPages();s++)for(var a=0;a<this.internal.pages[s].length;a++)this.internal.pages[s][a]=this.internal.pages[s][a].replace(t,r);return this},Tt.API.viewerPreferences=function(e,t){var r;e=e||{},t=t||!1;var s,a,i,o={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},l=Object.keys(o),c=[],d=0,h=0,u=0;function f(v,x){var p,g=!1;for(p=0;p<v.length;p+=1)v[p]===x&&(g=!0);return g}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(o)),this.internal.viewerpreferences.isSubscribed=!1),r=this.internal.viewerpreferences.configuration,e==="reset"||t===!0){var m=l.length;for(u=0;u<m;u+=1)r[l[u]].value=r[l[u]].defaultValue,r[l[u]].explicitSet=!1}if(yr(e)==="object"){for(a in e)if(i=e[a],f(l,a)&&i!==void 0){if(r[a].type==="boolean"&&typeof i=="boolean")r[a].value=i;else if(r[a].type==="name"&&f(r[a].valueSet,i))r[a].value=i;else if(r[a].type==="integer"&&Number.isInteger(i))r[a].value=i;else if(r[a].type==="array"){for(d=0;d<i.length;d+=1)if(s=!0,i[d].length===1&&typeof i[d][0]=="number")c.push(String(i[d]-1));else if(i[d].length>1){for(h=0;h<i[d].length;h+=1)typeof i[d][h]!="number"&&(s=!1);s===!0&&c.push([i[d][0]-1,i[d][1]-1].join(" "))}r[a].value="["+c.join(" ")+"]"}else r[a].value=r[a].defaultValue;r[a].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var v,x=[];for(v in r)r[v].explicitSet===!0&&(r[v].type==="name"?x.push("/"+v+" /"+r[v].value):x.push("/"+v+" "+r[v].value));x.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+x.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=r,this},function(e){var t=function(){var s='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',a=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),i=unescape(encodeURIComponent(s)),o=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),l=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),c=unescape(encodeURIComponent("</x:xmpmeta>")),d=i.length+o.length+l.length+a.length+c.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+d+" >>"),this.internal.write("stream"),this.internal.write(a+i+o+l+c),this.internal.write("endstream"),this.internal.write("endobj")},r=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};e.addMetadata=function(s,a){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:s,namespaceuri:a||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",r),this.internal.events.subscribe("postPutResources",t)),this}}(Tt.API),function(e){var t=e.API,r=t.pdfEscape16=function(i,o){for(var l,c=o.metadata.Unicode.widths,d=["","0","00","000","0000"],h=[""],u=0,f=i.length;u<f;++u){if(l=o.metadata.characterToGlyph(i.charCodeAt(u)),o.metadata.glyIdsUsed.push(l),o.metadata.toUnicode[l]=i.charCodeAt(u),c.indexOf(l)==-1&&(c.push(l),c.push([parseInt(o.metadata.widthOfGlyph(l),10)])),l=="0")return h.join("");l=l.toString(16),h.push(d[4-l.length],l)}return h.join("")},s=function(i){var o,l,c,d,h,u,f;for(h=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,c=[],u=0,f=(l=Object.keys(i).sort(function(m,v){return m-v})).length;u<f;u++)o=l[u],c.length>=100&&(h+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar`,c=[]),i[o]!==void 0&&i[o]!==null&&typeof i[o].toString=="function"&&(d=("0000"+i[o].toString(16)).slice(-4),o=("0000"+(+o).toString(16)).slice(-4),c.push("<"+o+"><"+d+">"));return c.length&&(h+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar
`),h+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};t.events.push(["putFont",function(i){(function(o){var l=o.font,c=o.out,d=o.newObject,h=o.putStream;if(l.metadata instanceof e.API.TTFFont&&l.encoding==="Identity-H"){for(var u=l.metadata.Unicode.widths,f=l.metadata.subset.encode(l.metadata.glyIdsUsed,1),m="",v=0;v<f.length;v++)m+=String.fromCharCode(f[v]);var x=d();h({data:m,addLength1:!0,objectId:x}),c("endobj");var p=d();h({data:s(l.metadata.toUnicode),addLength1:!0,objectId:p}),c("endobj");var g=d();c("<<"),c("/Type /FontDescriptor"),c("/FontName /"+kh(l.fontName)),c("/FontFile2 "+x+" 0 R"),c("/FontBBox "+e.API.PDFObject.convert(l.metadata.bbox)),c("/Flags "+l.metadata.flags),c("/StemV "+l.metadata.stemV),c("/ItalicAngle "+l.metadata.italicAngle),c("/Ascent "+l.metadata.ascender),c("/Descent "+l.metadata.decender),c("/CapHeight "+l.metadata.capHeight),c(">>"),c("endobj");var b=d();c("<<"),c("/Type /Font"),c("/BaseFont /"+kh(l.fontName)),c("/FontDescriptor "+g+" 0 R"),c("/W "+e.API.PDFObject.convert(u)),c("/CIDToGIDMap /Identity"),c("/DW 1000"),c("/Subtype /CIDFontType2"),c("/CIDSystemInfo"),c("<<"),c("/Supplement 0"),c("/Registry (Adobe)"),c("/Ordering ("+l.encoding+")"),c(">>"),c(">>"),c("endobj"),l.objectNumber=d(),c("<<"),c("/Type /Font"),c("/Subtype /Type0"),c("/ToUnicode "+p+" 0 R"),c("/BaseFont /"+kh(l.fontName)),c("/Encoding /"+l.encoding),c("/DescendantFonts ["+b+" 0 R]"),c(">>"),c("endobj"),l.isAlreadyPutted=!0}})(i)}]),t.events.push(["putFont",function(i){(function(o){var l=o.font,c=o.out,d=o.newObject,h=o.putStream;if(l.metadata instanceof e.API.TTFFont&&l.encoding==="WinAnsiEncoding"){for(var u=l.metadata.rawData,f="",m=0;m<u.length;m++)f+=String.fromCharCode(u[m]);var v=d();h({data:f,addLength1:!0,objectId:v}),c("endobj");var x=d();h({data:s(l.metadata.toUnicode),addLength1:!0,objectId:x}),c("endobj");var p=d();c("<<"),c("/Descent "+l.metadata.decender),c("/CapHeight "+l.metadata.capHeight),c("/StemV "+l.metadata.stemV),c("/Type /FontDescriptor"),c("/FontFile2 "+v+" 0 R"),c("/Flags 96"),c("/FontBBox "+e.API.PDFObject.convert(l.metadata.bbox)),c("/FontName /"+kh(l.fontName)),c("/ItalicAngle "+l.metadata.italicAngle),c("/Ascent "+l.metadata.ascender),c(">>"),c("endobj"),l.objectNumber=d();for(var g=0;g<l.metadata.hmtx.widths.length;g++)l.metadata.hmtx.widths[g]=parseInt(l.metadata.hmtx.widths[g]*(1e3/l.metadata.head.unitsPerEm));c("<</Subtype/TrueType/Type/Font/ToUnicode "+x+" 0 R/BaseFont/"+kh(l.fontName)+"/FontDescriptor "+p+" 0 R/Encoding/"+l.encoding+" /FirstChar 29 /LastChar 255 /Widths "+e.API.PDFObject.convert(l.metadata.hmtx.widths)+">>"),c("endobj"),l.isAlreadyPutted=!0}})(i)}]);var a=function(i){var o,l=i.text||"",c=i.x,d=i.y,h=i.options||{},u=i.mutex||{},f=u.pdfEscape,m=u.activeFontKey,v=u.fonts,x=m,p="",g=0,b="",y=v[x].encoding;if(v[x].encoding!=="Identity-H")return{text:l,x:c,y:d,options:h,mutex:u};for(b=l,x=m,Array.isArray(l)&&(b=l[0]),g=0;g<b.length;g+=1)v[x].metadata.hasOwnProperty("cmap")&&(o=v[x].metadata.cmap.unicode.codeMap[b[g].charCodeAt(0)]),o||b[g].charCodeAt(0)<256&&v[x].metadata.hasOwnProperty("Unicode")?p+=b[g]:p+="";var j="";return parseInt(x.slice(1))<14||y==="WinAnsiEncoding"?j=f(p,x).split("").map(function(E){return E.charCodeAt(0).toString(16)}).join(""):y==="Identity-H"&&(j=r(p,v[x])),u.isHex=!0,{text:j,x:c,y:d,options:h,mutex:u}};t.events.push(["postProcessText",function(i){var o=i.text||"",l=[],c={text:o,x:i.x,y:i.y,options:i.options,mutex:i.mutex};if(Array.isArray(o)){var d=0;for(d=0;d<o.length;d+=1)Array.isArray(o[d])&&o[d].length===3?l.push([a(Object.assign({},c,{text:o[d][0]})).text,o[d][1],o[d][2]]):l.push(a(Object.assign({},c,{text:o[d]})).text);i.text=l}else i.text=a(Object.assign({},c,{text:o})).text}])}(Tt),function(e){var t=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};e.existsFileInVFS=function(r){return t.call(this),this.internal.vFS[r]!==void 0},e.addFileToVFS=function(r,s){return t.call(this),this.internal.vFS[r]=s,this},e.getFileFromVFS=function(r){return t.call(this),this.internal.vFS[r]!==void 0?this.internal.vFS[r]:null}}(Tt.API),function(e){e.__bidiEngine__=e.prototype.__bidiEngine__=function(s){var a,i,o,l,c,d,h,u=t,f=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],m=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],v={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},x={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},p=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],g=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),b=!1,y=0;this.__bidiEngine__={};var j=function(T){var A=T.charCodeAt(),O=A>>8,D=x[O];return D!==void 0?u[256*D+(255&A)]:O===252||O===253?"AL":g.test(O)?"L":O===8?"R":"N"},E=function(T){for(var A,O=0;O<T.length;O++){if((A=j(T.charAt(O)))==="L")return!1;if(A==="R")return!0}return!1},S=function(T,A,O,D){var F,M,R,B,U=A[D];switch(U){case"L":case"R":b=!1;break;case"N":case"AN":break;case"EN":b&&(U="AN");break;case"AL":b=!0,U="R";break;case"WS":U="N";break;case"CS":D<1||D+1>=A.length||(F=O[D-1])!=="EN"&&F!=="AN"||(M=A[D+1])!=="EN"&&M!=="AN"?U="N":b&&(M="AN"),U=M===F?M:"N";break;case"ES":U=(F=D>0?O[D-1]:"B")==="EN"&&D+1<A.length&&A[D+1]==="EN"?"EN":"N";break;case"ET":if(D>0&&O[D-1]==="EN"){U="EN";break}if(b){U="N";break}for(R=D+1,B=A.length;R<B&&A[R]==="ET";)R++;U=R<B&&A[R]==="EN"?"EN":"N";break;case"NSM":if(o&&!l){for(B=A.length,R=D+1;R<B&&A[R]==="NSM";)R++;if(R<B){var H=T[D],q=H>=1425&&H<=2303||H===64286;if(F=A[R],q&&(F==="R"||F==="AL")){U="R";break}}}U=D<1||(F=A[D-1])==="B"?"N":O[D-1];break;case"B":b=!1,a=!0,U=y;break;case"S":i=!0,U="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":b=!1;break;case"BN":U="N"}return U},N=function(T,A,O){var D=T.split("");return O&&w(D,O,{hiLevel:y}),D.reverse(),A&&A.reverse(),D.join("")},w=function(T,A,O){var D,F,M,R,B,U=-1,H=T.length,q=0,L=[],V=y?m:f,G=[];for(b=!1,a=!1,i=!1,F=0;F<H;F++)G[F]=j(T[F]);for(M=0;M<H;M++){if(B=q,L[M]=S(T,G,L,M),D=240&(q=V[B][v[L[M]]]),q&=15,A[M]=R=V[q][5],D>0)if(D===16){for(F=U;F<M;F++)A[F]=1;U=-1}else U=-1;if(V[q][6])U===-1&&(U=M);else if(U>-1){for(F=U;F<M;F++)A[F]=R;U=-1}G[M]==="B"&&(A[M]=0),O.hiLevel|=R}i&&function(Z,te,he){for(var fe=0;fe<he;fe++)if(Z[fe]==="S"){te[fe]=y;for(var oe=fe-1;oe>=0&&Z[oe]==="WS";oe--)te[oe]=y}}(G,A,H)},_=function(T,A,O,D,F){if(!(F.hiLevel<T)){if(T===1&&y===1&&!a)return A.reverse(),void(O&&O.reverse());for(var M,R,B,U,H=A.length,q=0;q<H;){if(D[q]>=T){for(B=q+1;B<H&&D[B]>=T;)B++;for(U=q,R=B-1;U<R;U++,R--)M=A[U],A[U]=A[R],A[R]=M,O&&(M=O[U],O[U]=O[R],O[R]=M);q=B}q++}}},k=function(T,A,O){var D=T.split(""),F={hiLevel:y};return O||(O=[]),w(D,O,F),function(M,R,B){if(B.hiLevel!==0&&h)for(var U,H=0;H<M.length;H++)R[H]===1&&(U=p.indexOf(M[H]))>=0&&(M[H]=p[U+1])}(D,O,F),_(2,D,A,O,F),_(1,D,A,O,F),D.join("")};return this.__bidiEngine__.doBidiReorder=function(T,A,O){if(function(F,M){if(M)for(var R=0;R<F.length;R++)M[R]=R;l===void 0&&(l=E(F)),d===void 0&&(d=E(F))}(T,A),o||!c||d)if(o&&c&&l^d)y=l?1:0,T=N(T,A,O);else if(!o&&c&&d)y=l?1:0,T=k(T,A,O),T=N(T,A);else if(!o||l||c||d){if(o&&!c&&l^d)T=N(T,A),l?(y=0,T=k(T,A,O)):(y=1,T=k(T,A,O),T=N(T,A));else if(o&&l&&!c&&d)y=1,T=k(T,A,O),T=N(T,A);else if(!o&&!c&&l^d){var D=h;l?(y=1,T=k(T,A,O),y=0,h=!1,T=k(T,A,O),h=D):(y=0,T=k(T,A,O),T=N(T,A),y=1,h=!1,T=k(T,A,O),h=D,T=N(T,A))}}else y=0,T=k(T,A,O);else y=l?1:0,T=k(T,A,O);return T},this.__bidiEngine__.setOptions=function(T){T&&(o=T.isInputVisual,c=T.isOutputVisual,l=T.isInputRtl,d=T.isOutputRtl,h=T.isSymmetricSwapping)},this.__bidiEngine__.setOptions(s),this.__bidiEngine__};var t=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],r=new e.__bidiEngine__({isInputVisual:!0});e.API.events.push(["postProcessText",function(s){var a=s.text,i=(s.x,s.y,s.options||{}),o=(s.mutex,i.lang,[]);if(i.isInputVisual=typeof i.isInputVisual!="boolean"||i.isInputVisual,r.setOptions(i),Object.prototype.toString.call(a)==="[object Array]"){var l=0;for(o=[],l=0;l<a.length;l+=1)Object.prototype.toString.call(a[l])==="[object Array]"?o.push([r.doBidiReorder(a[l][0]),a[l][1],a[l][2]]):o.push([r.doBidiReorder(a[l])]);s.text=o}else s.text=r.doBidiReorder(a);r.setOptions({isInputVisual:!0})}])}(Tt),Tt.API.TTFFont=function(){function e(t){var r;if(this.rawData=t,r=this.contents=new nd(t),this.contents.pos=4,r.readString(4)==="ttcf")throw new Error("TTCF not supported.");r.pos=0,this.parse(),this.subset=new ace(this),this.registerTTF()}return e.open=function(t){return new e(t)},e.prototype.parse=function(){return this.directory=new Wle(this.contents),this.head=new Gle(this),this.name=new Jle(this),this.cmap=new oB(this),this.toUnicode={},this.hhea=new Kle(this),this.maxp=new Zle(this),this.hmtx=new ece(this),this.post=new Xle(this),this.os2=new Yle(this),this.loca=new sce(this),this.glyf=new tce(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},e.prototype.registerTTF=function(){var t,r,s,a,i;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var o,l,c,d;for(d=[],o=0,l=(c=this.bbox).length;o<l;o++)t=c[o],d.push(Math.round(t*this.scaleFactor));return d}).call(this),this.stemV=0,this.post.exists?(s=255&(a=this.post.italic_angle),32768&(r=a>>16)&&(r=-(1+(65535^r))),this.italicAngle=+(r+"."+s)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(i=this.familyClass)===1||i===2||i===3||i===4||i===5||i===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},e.prototype.characterToGlyph=function(t){var r;return((r=this.cmap.unicode)!=null?r.codeMap[t]:void 0)||0},e.prototype.widthOfGlyph=function(t){var r;return r=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(t).advance*r},e.prototype.widthOfString=function(t,r,s){var a,i,o,l;for(o=0,i=0,l=(t=""+t).length;0<=l?i<l:i>l;i=0<=l?++i:--i)a=t.charCodeAt(i),o+=this.widthOfGlyph(this.characterToGlyph(a))+s*(1e3/r)||0;return o*(r/1e3)},e.prototype.lineHeight=function(t,r){var s;return r==null&&(r=!1),s=r?this.lineGap:0,(this.ascender+s-this.decender)/1e3*t},e}();var co,nd=function(){function e(t){this.data=t??[],this.pos=0,this.length=this.data.length}return e.prototype.readByte=function(){return this.data[this.pos++]},e.prototype.writeByte=function(t){return this.data[this.pos++]=t},e.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},e.prototype.writeUInt32=function(t){return this.writeByte(t>>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt32=function(){var t;return(t=this.readUInt32())>=2147483648?t-4294967296:t},e.prototype.writeInt32=function(t){return t<0&&(t+=4294967296),this.writeUInt32(t)},e.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},e.prototype.writeUInt16=function(t){return this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt16=function(){var t;return(t=this.readUInt16())>=32768?t-65536:t},e.prototype.writeInt16=function(t){return t<0&&(t+=65536),this.writeUInt16(t)},e.prototype.readString=function(t){var r,s;for(s=[],r=0;0<=t?r<t:r>t;r=0<=t?++r:--r)s[r]=String.fromCharCode(this.readByte());return s.join("")},e.prototype.writeString=function(t){var r,s,a;for(a=[],r=0,s=t.length;0<=s?r<s:r>s;r=0<=s?++r:--r)a.push(this.writeByte(t.charCodeAt(r)));return a},e.prototype.readShort=function(){return this.readInt16()},e.prototype.writeShort=function(t){return this.writeInt16(t)},e.prototype.readLongLong=function(){var t,r,s,a,i,o,l,c;return t=this.readByte(),r=this.readByte(),s=this.readByte(),a=this.readByte(),i=this.readByte(),o=this.readByte(),l=this.readByte(),c=this.readByte(),128&t?-1*(72057594037927940*(255^t)+281474976710656*(255^r)+1099511627776*(255^s)+4294967296*(255^a)+16777216*(255^i)+65536*(255^o)+256*(255^l)+(255^c)+1):72057594037927940*t+281474976710656*r+1099511627776*s+4294967296*a+16777216*i+65536*o+256*l+c},e.prototype.writeLongLong=function(t){var r,s;return r=Math.floor(t/4294967296),s=4294967295&t,this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r),this.writeByte(s>>24&255),this.writeByte(s>>16&255),this.writeByte(s>>8&255),this.writeByte(255&s)},e.prototype.readInt=function(){return this.readInt32()},e.prototype.writeInt=function(t){return this.writeInt32(t)},e.prototype.read=function(t){var r,s;for(r=[],s=0;0<=t?s<t:s>t;s=0<=t?++s:--s)r.push(this.readByte());return r},e.prototype.write=function(t){var r,s,a,i;for(i=[],s=0,a=t.length;s<a;s++)r=t[s],i.push(this.writeByte(r));return i},e}(),Wle=function(){var e;function t(r){var s,a,i;for(this.scalarType=r.readInt(),this.tableCount=r.readShort(),this.searchRange=r.readShort(),this.entrySelector=r.readShort(),this.rangeShift=r.readShort(),this.tables={},a=0,i=this.tableCount;0<=i?a<i:a>i;a=0<=i?++a:--a)s={tag:r.readString(4),checksum:r.readInt(),offset:r.readInt(),length:r.readInt()},this.tables[s.tag]=s}return t.prototype.encode=function(r){var s,a,i,o,l,c,d,h,u,f,m,v,x;for(x in m=Object.keys(r).length,c=Math.log(2),u=16*Math.floor(Math.log(m)/c),o=Math.floor(u/c),h=16*m-u,(a=new nd).writeInt(this.scalarType),a.writeShort(m),a.writeShort(u),a.writeShort(o),a.writeShort(h),i=16*m,d=a.pos+i,l=null,v=[],r)for(f=r[x],a.writeString(x),a.writeInt(e(f)),a.writeInt(d),a.writeInt(f.length),v=v.concat(f),x==="head"&&(l=d),d+=f.length;d%4;)v.push(0),d++;return a.write(v),s=2981146554-e(a.data),a.pos=l+8,a.writeUInt32(s),a.data},e=function(r){var s,a,i,o;for(r=lB.call(r);r.length%4;)r.push(0);for(i=new nd(r),a=0,s=0,o=r.length;s<o;s=s+=4)a+=i.readUInt32();return 4294967295&a},t}(),Hle={}.hasOwnProperty,Xo=function(e,t){for(var r in t)Hle.call(t,r)&&(e[r]=t[r]);function s(){this.constructor=e}return s.prototype=t.prototype,e.prototype=new s,e.__super__=t.prototype,e};co=function(){function e(t){var r;this.file=t,r=this.file.directory.tables[this.tag],this.exists=!!r,r&&(this.offset=r.offset,this.length=r.length,this.parse(this.file.contents))}return e.prototype.parse=function(){},e.prototype.encode=function(){},e.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},e}();var Gle=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Xo(t,co),t.prototype.tag="head",t.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.revision=r.readInt(),this.checkSumAdjustment=r.readInt(),this.magicNumber=r.readInt(),this.flags=r.readShort(),this.unitsPerEm=r.readShort(),this.created=r.readLongLong(),this.modified=r.readLongLong(),this.xMin=r.readShort(),this.yMin=r.readShort(),this.xMax=r.readShort(),this.yMax=r.readShort(),this.macStyle=r.readShort(),this.lowestRecPPEM=r.readShort(),this.fontDirectionHint=r.readShort(),this.indexToLocFormat=r.readShort(),this.glyphDataFormat=r.readShort()},t.prototype.encode=function(r){var s;return(s=new nd).writeInt(this.version),s.writeInt(this.revision),s.writeInt(this.checkSumAdjustment),s.writeInt(this.magicNumber),s.writeShort(this.flags),s.writeShort(this.unitsPerEm),s.writeLongLong(this.created),s.writeLongLong(this.modified),s.writeShort(this.xMin),s.writeShort(this.yMin),s.writeShort(this.xMax),s.writeShort(this.yMax),s.writeShort(this.macStyle),s.writeShort(this.lowestRecPPEM),s.writeShort(this.fontDirectionHint),s.writeShort(r),s.writeShort(this.glyphDataFormat),s.data},t}(),RI=function(){function e(t,r){var s,a,i,o,l,c,d,h,u,f,m,v,x,p,g,b,y;switch(this.platformID=t.readUInt16(),this.encodingID=t.readShort(),this.offset=r+t.readInt(),u=t.pos,t.pos=this.offset,this.format=t.readUInt16(),this.length=t.readUInt16(),this.language=t.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(c=0;c<256;++c)this.codeMap[c]=t.readByte();break;case 4:for(m=t.readUInt16(),f=m/2,t.pos+=6,i=function(){var j,E;for(E=[],c=j=0;0<=f?j<f:j>f;c=0<=f?++j:--j)E.push(t.readUInt16());return E}(),t.pos+=2,x=function(){var j,E;for(E=[],c=j=0;0<=f?j<f:j>f;c=0<=f?++j:--j)E.push(t.readUInt16());return E}(),d=function(){var j,E;for(E=[],c=j=0;0<=f?j<f:j>f;c=0<=f?++j:--j)E.push(t.readUInt16());return E}(),h=function(){var j,E;for(E=[],c=j=0;0<=f?j<f:j>f;c=0<=f?++j:--j)E.push(t.readUInt16());return E}(),a=(this.length-t.pos+this.offset)/2,l=function(){var j,E;for(E=[],c=j=0;0<=a?j<a:j>a;c=0<=a?++j:--j)E.push(t.readUInt16());return E}(),c=g=0,y=i.length;g<y;c=++g)for(p=i[c],s=b=v=x[c];v<=p?b<=p:b>=p;s=v<=p?++b:--b)h[c]===0?o=s+d[c]:(o=l[h[c]/2+(s-v)-(f-c)]||0)!==0&&(o+=d[c]),this.codeMap[s]=65535&o}t.pos=u}return e.encode=function(t,r){var s,a,i,o,l,c,d,h,u,f,m,v,x,p,g,b,y,j,E,S,N,w,_,k,T,A,O,D,F,M,R,B,U,H,q,L,V,G,Z,te,he,fe,oe,we,je,ve;switch(D=new nd,o=Object.keys(t).sort(function(Le,ge){return Le-ge}),r){case"macroman":for(x=0,p=function(){var Le=[];for(v=0;v<256;++v)Le.push(0);return Le}(),b={0:0},i={},F=0,U=o.length;F<U;F++)b[oe=t[a=o[F]]]==null&&(b[oe]=++x),i[a]={old:t[a],new:b[t[a]]},p[a]=b[t[a]];return D.writeUInt16(1),D.writeUInt16(0),D.writeUInt32(12),D.writeUInt16(0),D.writeUInt16(262),D.writeUInt16(0),D.write(p),{charMap:i,subtable:D.data,maxGlyphID:x+1};case"unicode":for(A=[],u=[],y=0,b={},s={},g=d=null,M=0,H=o.length;M<H;M++)b[E=t[a=o[M]]]==null&&(b[E]=++y),s[a]={old:E,new:b[E]},l=b[E]-a,g!=null&&l===d||(g&&u.push(g),A.push(a),d=l),g=a;for(g&&u.push(g),u.push(65535),A.push(65535),k=2*(_=A.length),w=2*Math.pow(Math.log(_)/Math.LN2,2),f=Math.log(w/2)/Math.LN2,N=2*_-w,c=[],S=[],m=[],v=R=0,q=A.length;R<q;v=++R){if(T=A[v],h=u[v],T===65535){c.push(0),S.push(0);break}if(T-(O=s[T].new)>=32768)for(c.push(0),S.push(2*(m.length+_-v)),a=B=T;T<=h?B<=h:B>=h;a=T<=h?++B:--B)m.push(s[a].new);else c.push(O-T),S.push(0)}for(D.writeUInt16(3),D.writeUInt16(1),D.writeUInt32(12),D.writeUInt16(4),D.writeUInt16(16+8*_+2*m.length),D.writeUInt16(0),D.writeUInt16(k),D.writeUInt16(w),D.writeUInt16(f),D.writeUInt16(N),he=0,L=u.length;he<L;he++)a=u[he],D.writeUInt16(a);for(D.writeUInt16(0),fe=0,V=A.length;fe<V;fe++)a=A[fe],D.writeUInt16(a);for(we=0,G=c.length;we<G;we++)l=c[we],D.writeUInt16(l);for(je=0,Z=S.length;je<Z;je++)j=S[je],D.writeUInt16(j);for(ve=0,te=m.length;ve<te;ve++)x=m[ve],D.writeUInt16(x);return{charMap:s,subtable:D.data,maxGlyphID:y+1}}},e}(),oB=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Xo(t,co),t.prototype.tag="cmap",t.prototype.parse=function(r){var s,a,i;for(r.pos=this.offset,this.version=r.readUInt16(),i=r.readUInt16(),this.tables=[],this.unicode=null,a=0;0<=i?a<i:a>i;a=0<=i?++a:--a)s=new RI(r,this.offset),this.tables.push(s),s.isUnicode&&this.unicode==null&&(this.unicode=s);return!0},t.encode=function(r,s){var a,i;return s==null&&(s="macroman"),a=RI.encode(r,s),(i=new nd).writeUInt16(0),i.writeUInt16(1),a.table=i.data.concat(a.subtable),a},t}(),Kle=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Xo(t,co),t.prototype.tag="hhea",t.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.ascender=r.readShort(),this.decender=r.readShort(),this.lineGap=r.readShort(),this.advanceWidthMax=r.readShort(),this.minLeftSideBearing=r.readShort(),this.minRightSideBearing=r.readShort(),this.xMaxExtent=r.readShort(),this.caretSlopeRise=r.readShort(),this.caretSlopeRun=r.readShort(),this.caretOffset=r.readShort(),r.pos+=8,this.metricDataFormat=r.readShort(),this.numberOfMetrics=r.readUInt16()},t}(),Yle=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Xo(t,co),t.prototype.tag="OS/2",t.prototype.parse=function(r){if(r.pos=this.offset,this.version=r.readUInt16(),this.averageCharWidth=r.readShort(),this.weightClass=r.readUInt16(),this.widthClass=r.readUInt16(),this.type=r.readShort(),this.ySubscriptXSize=r.readShort(),this.ySubscriptYSize=r.readShort(),this.ySubscriptXOffset=r.readShort(),this.ySubscriptYOffset=r.readShort(),this.ySuperscriptXSize=r.readShort(),this.ySuperscriptYSize=r.readShort(),this.ySuperscriptXOffset=r.readShort(),this.ySuperscriptYOffset=r.readShort(),this.yStrikeoutSize=r.readShort(),this.yStrikeoutPosition=r.readShort(),this.familyClass=r.readShort(),this.panose=function(){var s,a;for(a=[],s=0;s<10;++s)a.push(r.readByte());return a}(),this.charRange=function(){var s,a;for(a=[],s=0;s<4;++s)a.push(r.readInt());return a}(),this.vendorID=r.readString(4),this.selection=r.readShort(),this.firstCharIndex=r.readShort(),this.lastCharIndex=r.readShort(),this.version>0&&(this.ascent=r.readShort(),this.descent=r.readShort(),this.lineGap=r.readShort(),this.winAscent=r.readShort(),this.winDescent=r.readShort(),this.codePageRange=function(){var s,a;for(a=[],s=0;s<2;s=++s)a.push(r.readInt());return a}(),this.version>1))return this.xHeight=r.readShort(),this.capHeight=r.readShort(),this.defaultChar=r.readShort(),this.breakChar=r.readShort(),this.maxContext=r.readShort()},t}(),Xle=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Xo(t,co),t.prototype.tag="post",t.prototype.parse=function(r){var s,a,i;switch(r.pos=this.offset,this.format=r.readInt(),this.italicAngle=r.readInt(),this.underlinePosition=r.readShort(),this.underlineThickness=r.readShort(),this.isFixedPitch=r.readInt(),this.minMemType42=r.readInt(),this.maxMemType42=r.readInt(),this.minMemType1=r.readInt(),this.maxMemType1=r.readInt(),this.format){case 65536:break;case 131072:var o;for(a=r.readUInt16(),this.glyphNameIndex=[],o=0;0<=a?o<a:o>a;o=0<=a?++o:--o)this.glyphNameIndex.push(r.readUInt16());for(this.names=[],i=[];r.pos<this.offset+this.length;)s=r.readByte(),i.push(this.names.push(r.readString(s)));return i;case 151552:return a=r.readUInt16(),this.offsets=r.read(a);case 196608:break;case 262144:return this.map=(function(){var l,c,d;for(d=[],o=l=0,c=this.file.maxp.numGlyphs;0<=c?l<c:l>c;o=0<=c?++l:--l)d.push(r.readUInt32());return d}).call(this)}},t}(),Qle=function(e,t){this.raw=e,this.length=e.length,this.platformID=t.platformID,this.encodingID=t.encodingID,this.languageID=t.languageID},Jle=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Xo(t,co),t.prototype.tag="name",t.prototype.parse=function(r){var s,a,i,o,l,c,d,h,u,f,m;for(r.pos=this.offset,r.readShort(),s=r.readShort(),c=r.readShort(),a=[],o=0;0<=s?o<s:o>s;o=0<=s?++o:--o)a.push({platformID:r.readShort(),encodingID:r.readShort(),languageID:r.readShort(),nameID:r.readShort(),length:r.readShort(),offset:this.offset+c+r.readShort()});for(d={},o=u=0,f=a.length;u<f;o=++u)i=a[o],r.pos=i.offset,h=r.readString(i.length),l=new Qle(h,i),d[m=i.nameID]==null&&(d[m]=[]),d[i.nameID].push(l);this.strings=d,this.copyright=d[0],this.fontFamily=d[1],this.fontSubfamily=d[2],this.uniqueSubfamily=d[3],this.fontName=d[4],this.version=d[5];try{this.postscriptName=d[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=d[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=d[7],this.manufacturer=d[8],this.designer=d[9],this.description=d[10],this.vendorUrl=d[11],this.designerUrl=d[12],this.license=d[13],this.licenseUrl=d[14],this.preferredFamily=d[15],this.preferredSubfamily=d[17],this.compatibleFull=d[18],this.sampleText=d[19]},t}(),Zle=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Xo(t,co),t.prototype.tag="maxp",t.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.numGlyphs=r.readUInt16(),this.maxPoints=r.readUInt16(),this.maxContours=r.readUInt16(),this.maxCompositePoints=r.readUInt16(),this.maxComponentContours=r.readUInt16(),this.maxZones=r.readUInt16(),this.maxTwilightPoints=r.readUInt16(),this.maxStorage=r.readUInt16(),this.maxFunctionDefs=r.readUInt16(),this.maxInstructionDefs=r.readUInt16(),this.maxStackElements=r.readUInt16(),this.maxSizeOfInstructions=r.readUInt16(),this.maxComponentElements=r.readUInt16(),this.maxComponentDepth=r.readUInt16()},t}(),ece=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Xo(t,co),t.prototype.tag="hmtx",t.prototype.parse=function(r){var s,a,i,o,l,c,d;for(r.pos=this.offset,this.metrics=[],s=0,c=this.file.hhea.numberOfMetrics;0<=c?s<c:s>c;s=0<=c?++s:--s)this.metrics.push({advance:r.readUInt16(),lsb:r.readInt16()});for(i=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var h,u;for(u=[],s=h=0;0<=i?h<i:h>i;s=0<=i?++h:--h)u.push(r.readInt16());return u}(),this.widths=(function(){var h,u,f,m;for(m=[],h=0,u=(f=this.metrics).length;h<u;h++)o=f[h],m.push(o.advance);return m}).call(this),a=this.widths[this.widths.length-1],d=[],s=l=0;0<=i?l<i:l>i;s=0<=i?++l:--l)d.push(this.widths.push(a));return d},t.prototype.forGlyph=function(r){return r in this.metrics?this.metrics[r]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[r-this.metrics.length]}},t}(),lB=[].slice,tce=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Xo(t,co),t.prototype.tag="glyf",t.prototype.parse=function(){return this.cache={}},t.prototype.glyphFor=function(r){var s,a,i,o,l,c,d,h,u,f;return r in this.cache?this.cache[r]:(o=this.file.loca,s=this.file.contents,a=o.indexOf(r),(i=o.lengthOf(r))===0?this.cache[r]=null:(s.pos=this.offset+a,l=(c=new nd(s.read(i))).readShort(),h=c.readShort(),f=c.readShort(),d=c.readShort(),u=c.readShort(),this.cache[r]=l===-1?new nce(c,h,f,d,u):new rce(c,l,h,f,d,u),this.cache[r]))},t.prototype.encode=function(r,s,a){var i,o,l,c,d;for(l=[],o=[],c=0,d=s.length;c<d;c++)i=r[s[c]],o.push(l.length),i&&(l=l.concat(i.encode(a)));return o.push(l.length),{table:l,offsets:o}},t}(),rce=function(){function e(t,r,s,a,i,o){this.raw=t,this.numberOfContours=r,this.xMin=s,this.yMin=a,this.xMax=i,this.yMax=o,this.compound=!1}return e.prototype.encode=function(){return this.raw.data},e}(),nce=function(){function e(t,r,s,a,i){var o,l;for(this.raw=t,this.xMin=r,this.yMin=s,this.xMax=a,this.yMax=i,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],o=this.raw;l=o.readShort(),this.glyphOffsets.push(o.pos),this.glyphIDs.push(o.readUInt16()),32&l;)o.pos+=1&l?4:2,128&l?o.pos+=8:64&l?o.pos+=4:8&l&&(o.pos+=2)}return e.prototype.encode=function(){var t,r,s;for(r=new nd(lB.call(this.raw.data)),t=0,s=this.glyphIDs.length;t<s;++t)r.pos=this.glyphOffsets[t];return r.data},e}(),sce=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Xo(t,co),t.prototype.tag="loca",t.prototype.parse=function(r){var s,a;return r.pos=this.offset,s=this.file.head.indexToLocFormat,this.offsets=s===0?(function(){var i,o;for(o=[],a=0,i=this.length;a<i;a+=2)o.push(2*r.readUInt16());return o}).call(this):(function(){var i,o;for(o=[],a=0,i=this.length;a<i;a+=4)o.push(r.readUInt32());return o}).call(this)},t.prototype.indexOf=function(r){return this.offsets[r]},t.prototype.lengthOf=function(r){return this.offsets[r+1]-this.offsets[r]},t.prototype.encode=function(r,s){for(var a=new Uint32Array(this.offsets.length),i=0,o=0,l=0;l<a.length;++l)if(a[l]=i,o<s.length&&s[o]==l){++o,a[l]=i;var c=this.offsets[l],d=this.offsets[l+1]-c;d>0&&(i+=d)}for(var h=new Array(4*a.length),u=0;u<a.length;++u)h[4*u+3]=255&a[u],h[4*u+2]=(65280&a[u])>>8,h[4*u+1]=(16711680&a[u])>>16,h[4*u]=(4278190080&a[u])>>24;return h},t}(),ace=function(){function e(t){this.font=t,this.subset={},this.unicodes={},this.next=33}return e.prototype.generateCmap=function(){var t,r,s,a,i;for(r in a=this.font.cmap.tables[0].codeMap,t={},i=this.subset)s=i[r],t[r]=a[s];return t},e.prototype.glyphsFor=function(t){var r,s,a,i,o,l,c;for(a={},o=0,l=t.length;o<l;o++)a[i=t[o]]=this.font.glyf.glyphFor(i);for(i in r=[],a)(s=a[i])!=null&&s.compound&&r.push.apply(r,s.glyphIDs);if(r.length>0)for(i in c=this.glyphsFor(r))s=c[i],a[i]=s;return a},e.prototype.encode=function(t,r){var s,a,i,o,l,c,d,h,u,f,m,v,x,p,g;for(a in s=oB.encode(this.generateCmap(),"unicode"),o=this.glyphsFor(t),m={0:0},g=s.charMap)m[(c=g[a]).old]=c.new;for(v in f=s.maxGlyphID,o)v in m||(m[v]=f++);return h=function(b){var y,j;for(y in j={},b)j[b[y]]=y;return j}(m),u=Object.keys(h).sort(function(b,y){return b-y}),x=function(){var b,y,j;for(j=[],b=0,y=u.length;b<y;b++)l=u[b],j.push(h[l]);return j}(),i=this.font.glyf.encode(o,x,m),d=this.font.loca.encode(i.offsets,x),p={cmap:this.font.cmap.raw(),glyf:i.table,loca:d,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(r)},this.font.os2.exists&&(p["OS/2"]=this.font.os2.raw()),this.font.directory.encode(p)},e}();Tt.API.PDFObject=function(){var e;function t(){}return e=function(r,s){return(Array(s+1).join("0")+r).slice(-s)},t.convert=function(r){var s,a,i,o;if(Array.isArray(r))return"["+function(){var l,c,d;for(d=[],l=0,c=r.length;l<c;l++)s=r[l],d.push(t.convert(s));return d}().join(" ")+"]";if(typeof r=="string")return"/"+r;if(r!=null&&r.isString)return"("+r+")";if(r instanceof Date)return"(D:"+e(r.getUTCFullYear(),4)+e(r.getUTCMonth(),2)+e(r.getUTCDate(),2)+e(r.getUTCHours(),2)+e(r.getUTCMinutes(),2)+e(r.getUTCSeconds(),2)+"Z)";if({}.toString.call(r)==="[object Object]"){for(a in i=["<<"],r)o=r[a],i.push("/"+a+" "+t.convert(o));return i.push(">>"),i.join(`
`)}return""+r},t}();const ice=Object.freeze(Object.defineProperty({__proto__:null,AcroForm:Fle,AcroFormAppearance:wt,AcroFormButton:Qn,AcroFormCheckBox:ev,AcroFormChoiceField:au,AcroFormComboBox:ou,AcroFormEditBox:Jp,AcroFormListBox:iu,AcroFormPasswordField:tv,AcroFormPushButton:Zp,AcroFormRadioButton:lu,AcroFormTextField:Wc,GState:Vv,ShadingPattern:wc,TilingPattern:Yd,default:Tt,jsPDF:Tt},Symbol.toStringTag,{value:"Module"}));var oce={exports:{}};const lce=fL(ice);/*!
 * 
 *               jsPDF AutoTable plugin v3.8.4
 *
 *               Copyright (c) 2024 Simon Bengtsson, https://github.com/simonbengtsson/jsPDF-AutoTable
 *               Licensed under the MIT License.
 *               http://opensource.org/licenses/mit-license
 *
 */(function(e,t){(function(s,a){e.exports=a(function(){try{return lce}catch{}}())})(typeof globalThis<"u"?globalThis:typeof Un<"u"?Un:typeof window<"u"?window:typeof self<"u"?self:Un,function(r){return function(){var s={172:function(l,c){var d=this&&this.__extends||function(){var f=function(m,v){return f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(x,p){x.__proto__=p}||function(x,p){for(var g in p)Object.prototype.hasOwnProperty.call(p,g)&&(x[g]=p[g])},f(m,v)};return function(m,v){if(typeof v!="function"&&v!==null)throw new TypeError("Class extends value "+String(v)+" is not a constructor or null");f(m,v);function x(){this.constructor=m}m.prototype=v===null?Object.create(v):(x.prototype=v.prototype,new x)}}();Object.defineProperty(c,"__esModule",{value:!0}),c.CellHookData=c.HookData=void 0;var h=function(){function f(m,v,x){this.table=v,this.pageNumber=v.pageNumber,this.pageCount=this.pageNumber,this.settings=v.settings,this.cursor=x,this.doc=m.getDocument()}return f}();c.HookData=h;var u=function(f){d(m,f);function m(v,x,p,g,b,y){var j=f.call(this,v,x,y)||this;return j.cell=p,j.row=g,j.column=b,j.section=g.section,j}return m}(h);c.CellHookData=u},340:function(l,c,d){Object.defineProperty(c,"__esModule",{value:!0});var h=d(4),u=d(136),f=d(744),m=d(776),v=d(664),x=d(972);function p(g){g.API.autoTable=function(){for(var b=[],y=0;y<arguments.length;y++)b[y]=arguments[y];var j;b.length===1?j=b[0]:(console.error("Use of deprecated autoTable initiation"),j=b[2]||{},j.columns=b[0],j.body=b[1]);var E=(0,m.parseInput)(this,j),S=(0,x.createTable)(this,E);return(0,v.drawTable)(this,S),this},g.API.lastAutoTable=!1,g.API.previousAutoTable=!1,g.API.autoTable.previous=!1,g.API.autoTableText=function(b,y,j,E){(0,u.default)(b,y,j,E,this)},g.API.autoTableSetDefaults=function(b){return f.DocHandler.setDefaults(b,this),this},g.autoTableSetDefaults=function(b,y){f.DocHandler.setDefaults(b,y)},g.API.autoTableHtmlToJson=function(b,y){var j;if(y===void 0&&(y=!1),typeof window>"u")return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var E=new f.DocHandler(this),S=(0,h.parseHtml)(E,b,window,y,!1),N=S.head,w=S.body,_=((j=N[0])===null||j===void 0?void 0:j.map(function(k){return k.content}))||[];return{columns:_,rows:w,data:w}},g.API.autoTableEndPosY=function(){console.error("Use of deprecated function: autoTableEndPosY. Use doc.lastAutoTable.finalY instead.");var b=this.lastAutoTable;return b&&b.finalY?b.finalY:0},g.API.autoTableAddPageContent=function(b){return console.error("Use of deprecated function: autoTableAddPageContent. Use jsPDF.autoTableSetDefaults({didDrawPage: () => {}}) instead."),g.API.autoTable.globalDefaults||(g.API.autoTable.globalDefaults={}),g.API.autoTable.globalDefaults.addPageContent=b,this},g.API.autoTableAddPage=function(){return console.error("Use of deprecated function: autoTableAddPage. Use doc.addPage()"),this.addPage(),this}}c.default=p},136:function(l,c){Object.defineProperty(c,"__esModule",{value:!0});function d(h,u,f,m,v){m=m||{};var x=1.15,p=v.internal.scaleFactor,g=v.internal.getFontSize()/p,b=v.getLineHeightFactor?v.getLineHeightFactor():x,y=g*b,j=/\r\n|\r|\n/g,E="",S=1;if((m.valign==="middle"||m.valign==="bottom"||m.halign==="center"||m.halign==="right")&&(E=typeof h=="string"?h.split(j):h,S=E.length||1),f+=g*(2-x),m.valign==="middle"?f-=S/2*y:m.valign==="bottom"&&(f-=S*y),m.halign==="center"||m.halign==="right"){var N=g;if(m.halign==="center"&&(N*=.5),E&&S>=1){for(var w=0;w<E.length;w++)v.text(E[w],u-v.getStringUnitWidth(E[w])*N,f),f+=y;return v}u-=v.getStringUnitWidth(h)*N}return m.halign==="justify"?v.text(h,u,f,{maxWidth:m.maxWidth||100,align:"justify"}):v.text(h,u,f),v}c.default=d},420:function(l,c){Object.defineProperty(c,"__esModule",{value:!0}),c.getPageAvailableWidth=c.parseSpacing=c.getFillStyle=c.addTableBorder=c.getStringWidth=void 0;function d(v,x,p){p.applyStyles(x,!0);var g=Array.isArray(v)?v:[v],b=g.map(function(y){return p.getTextWidth(y)}).reduce(function(y,j){return Math.max(y,j)},0);return b}c.getStringWidth=d;function h(v,x,p,g){var b=x.settings.tableLineWidth,y=x.settings.tableLineColor;v.applyStyles({lineWidth:b,lineColor:y});var j=u(b,!1);j&&v.rect(p.x,p.y,x.getWidth(v.pageSize().width),g.y-p.y,j)}c.addTableBorder=h;function u(v,x){var p=v>0,g=x||x===0;return p&&g?"DF":p?"S":g?"F":null}c.getFillStyle=u;function f(v,x){var p,g,b,y;if(v=v||x,Array.isArray(v)){if(v.length>=4)return{top:v[0],right:v[1],bottom:v[2],left:v[3]};if(v.length===3)return{top:v[0],right:v[1],bottom:v[2],left:v[1]};if(v.length===2)return{top:v[0],right:v[1],bottom:v[0],left:v[1]};v.length===1?v=v[0]:v=x}return typeof v=="object"?(typeof v.vertical=="number"&&(v.top=v.vertical,v.bottom=v.vertical),typeof v.horizontal=="number"&&(v.right=v.horizontal,v.left=v.horizontal),{left:(p=v.left)!==null&&p!==void 0?p:x,top:(g=v.top)!==null&&g!==void 0?g:x,right:(b=v.right)!==null&&b!==void 0?b:x,bottom:(y=v.bottom)!==null&&y!==void 0?y:x}):(typeof v!="number"&&(v=x),{top:v,right:v,bottom:v,left:v})}c.parseSpacing=f;function m(v,x){var p=f(x.settings.margin,0);return v.pageSize().width-(p.left+p.right)}c.getPageAvailableWidth=m},796:function(l,c){var d=this&&this.__extends||function(){var m=function(v,x){return m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,g){p.__proto__=g}||function(p,g){for(var b in g)Object.prototype.hasOwnProperty.call(g,b)&&(p[b]=g[b])},m(v,x)};return function(v,x){if(typeof x!="function"&&x!==null)throw new TypeError("Class extends value "+String(x)+" is not a constructor or null");m(v,x);function p(){this.constructor=v}v.prototype=x===null?Object.create(x):(p.prototype=x.prototype,new p)}}();Object.defineProperty(c,"__esModule",{value:!0}),c.getTheme=c.defaultStyles=c.HtmlRowInput=void 0;var h=function(m){d(v,m);function v(x){var p=m.call(this)||this;return p._element=x,p}return v}(Array);c.HtmlRowInput=h;function u(m){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/m,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}}c.defaultStyles=u;function f(m){var v={striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}};return v[m]}c.getTheme=f},903:function(l,c,d){Object.defineProperty(c,"__esModule",{value:!0}),c.parseCss=void 0;var h=d(420);function u(p,g,b,y,j){var E={},S=1.3333333333333333,N=m(g,function(U){return j.getComputedStyle(U).backgroundColor});N!=null&&(E.fillColor=N);var w=m(g,function(U){return j.getComputedStyle(U).color});w!=null&&(E.textColor=w);var _=x(y,b);_&&(E.cellPadding=_);var k="borderTopColor",T=S*b,A=y.borderTopWidth;if(y.borderBottomWidth===A&&y.borderRightWidth===A&&y.borderLeftWidth===A){var O=(parseFloat(A)||0)/T;O&&(E.lineWidth=O)}else E.lineWidth={top:(parseFloat(y.borderTopWidth)||0)/T,right:(parseFloat(y.borderRightWidth)||0)/T,bottom:(parseFloat(y.borderBottomWidth)||0)/T,left:(parseFloat(y.borderLeftWidth)||0)/T},E.lineWidth.top||(E.lineWidth.right?k="borderRightColor":E.lineWidth.bottom?k="borderBottomColor":E.lineWidth.left&&(k="borderLeftColor"));var D=m(g,function(U){return j.getComputedStyle(U)[k]});D!=null&&(E.lineColor=D);var F=["left","right","center","justify"];F.indexOf(y.textAlign)!==-1&&(E.halign=y.textAlign),F=["middle","bottom","top"],F.indexOf(y.verticalAlign)!==-1&&(E.valign=y.verticalAlign);var M=parseInt(y.fontSize||"");isNaN(M)||(E.fontSize=M/S);var R=f(y);R&&(E.fontStyle=R);var B=(y.fontFamily||"").toLowerCase();return p.indexOf(B)!==-1&&(E.font=B),E}c.parseCss=u;function f(p){var g="";return(p.fontWeight==="bold"||p.fontWeight==="bolder"||parseInt(p.fontWeight)>=700)&&(g="bold"),(p.fontStyle==="italic"||p.fontStyle==="oblique")&&(g+="italic"),g}function m(p,g){var b=v(p,g);if(!b)return null;var y=b.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!y||!Array.isArray(y))return null;var j=[parseInt(y[1]),parseInt(y[2]),parseInt(y[3])],E=parseInt(y[4]);return E===0||isNaN(j[0])||isNaN(j[1])||isNaN(j[2])?null:j}function v(p,g){var b=g(p);return b==="rgba(0, 0, 0, 0)"||b==="transparent"||b==="initial"||b==="inherit"?p.parentElement==null?null:v(p.parentElement,g):b}function x(p,g){var b=[p.paddingTop,p.paddingRight,p.paddingBottom,p.paddingLeft],y=96/(72/g),j=(parseInt(p.lineHeight)-parseInt(p.fontSize))/g/2,E=b.map(function(N){return parseInt(N||"0")/y}),S=(0,h.parseSpacing)(E,0);return j>S.top&&(S.top=j),j>S.bottom&&(S.bottom=j),S}},744:function(l,c){Object.defineProperty(c,"__esModule",{value:!0}),c.DocHandler=void 0;var d={},h=function(){function u(f){this.jsPDFDocument=f,this.userStyles={textColor:f.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:f.internal.getFontSize(),fontStyle:f.internal.getFont().fontStyle,font:f.internal.getFont().fontName,lineWidth:f.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:f.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return u.setDefaults=function(f,m){m===void 0&&(m=null),m?m.__autoTableDocumentDefaults=f:d=f},u.unifyColor=function(f){return Array.isArray(f)?f:typeof f=="number"?[f,f,f]:typeof f=="string"?[f]:null},u.prototype.applyStyles=function(f,m){var v,x,p;m===void 0&&(m=!1),f.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(f.fontStyle);var g=this.jsPDFDocument.internal.getFont(),b=g.fontStyle,y=g.fontName;if(f.font&&(y=f.font),f.fontStyle){b=f.fontStyle;var j=this.getFontList()[y];j&&j.indexOf(b)===-1&&(this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(j[0]),b=j[0])}if(this.jsPDFDocument.setFont(y,b),f.fontSize&&this.jsPDFDocument.setFontSize(f.fontSize),!m){var E=u.unifyColor(f.fillColor);E&&(v=this.jsPDFDocument).setFillColor.apply(v,E),E=u.unifyColor(f.textColor),E&&(x=this.jsPDFDocument).setTextColor.apply(x,E),E=u.unifyColor(f.lineColor),E&&(p=this.jsPDFDocument).setDrawColor.apply(p,E),typeof f.lineWidth=="number"&&this.jsPDFDocument.setLineWidth(f.lineWidth)}},u.prototype.splitTextToSize=function(f,m,v){return this.jsPDFDocument.splitTextToSize(f,m,v)},u.prototype.rect=function(f,m,v,x,p){return this.jsPDFDocument.rect(f,m,v,x,p)},u.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},u.prototype.getTextWidth=function(f){return this.jsPDFDocument.getTextWidth(f)},u.prototype.getDocument=function(){return this.jsPDFDocument},u.prototype.setPage=function(f){this.jsPDFDocument.setPage(f)},u.prototype.addPage=function(){return this.jsPDFDocument.addPage()},u.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},u.prototype.getGlobalOptions=function(){return d||{}},u.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},u.prototype.pageSize=function(){var f=this.jsPDFDocument.internal.pageSize;return f.width==null&&(f={width:f.getWidth(),height:f.getHeight()}),f},u.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},u.prototype.getLineHeightFactor=function(){var f=this.jsPDFDocument;return f.getLineHeightFactor?f.getLineHeightFactor():1.15},u.prototype.getLineHeight=function(f){return f/this.scaleFactor()*this.getLineHeightFactor()},u.prototype.pageNumber=function(){var f=this.jsPDFDocument.internal.getCurrentPageInfo();return f?f.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},u}();c.DocHandler=h},4:function(l,c,d){Object.defineProperty(c,"__esModule",{value:!0}),c.parseHtml=void 0;var h=d(903),u=d(796);function f(x,p,g,b,y){var j,E;b===void 0&&(b=!1),y===void 0&&(y=!1);var S;typeof p=="string"?S=g.document.querySelector(p):S=p;var N=Object.keys(x.getFontList()),w=x.scaleFactor(),_=[],k=[],T=[];if(!S)return console.error("Html table could not be found with input: ",p),{head:_,body:k,foot:T};for(var A=0;A<S.rows.length;A++){var O=S.rows[A],D=(E=(j=O==null?void 0:O.parentElement)===null||j===void 0?void 0:j.tagName)===null||E===void 0?void 0:E.toLowerCase(),F=m(N,w,g,O,b,y);F&&(D==="thead"?_.push(F):D==="tfoot"?T.push(F):k.push(F))}return{head:_,body:k,foot:T}}c.parseHtml=f;function m(x,p,g,b,y,j){for(var E=new u.HtmlRowInput(b),S=0;S<b.cells.length;S++){var N=b.cells[S],w=g.getComputedStyle(N);if(y||w.display!=="none"){var _=void 0;j&&(_=(0,h.parseCss)(x,N,p,w,g)),E.push({rowSpan:N.rowSpan,colSpan:N.colSpan,styles:_,_element:N,content:v(N)})}}var k=g.getComputedStyle(b);if(E.length>0&&(y||k.display!=="none"))return E}function v(x){var p=x.cloneNode(!0);return p.innerHTML=p.innerHTML.replace(/\n/g,"").replace(/ +/g," "),p.innerHTML=p.innerHTML.split(/<br.*?>/).map(function(g){return g.trim()}).join(`
`),p.innerText||p.textContent||""}},776:function(l,c,d){Object.defineProperty(c,"__esModule",{value:!0}),c.parseInput=void 0;var h=d(4),u=d(356),f=d(420),m=d(744),v=d(792);function x(S,N){var w=new m.DocHandler(S),_=w.getDocumentOptions(),k=w.getGlobalOptions();(0,v.default)(w,k,_,N);var T=(0,u.assign)({},k,_,N),A;typeof window<"u"&&(A=window);var O=p(k,_,N),D=g(k,_,N),F=b(w,T),M=j(w,T,A);return{id:N.tableId,content:M,hooks:D,styles:O,settings:F}}c.parseInput=x;function p(S,N,w){for(var _={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},k=function(D){if(D==="columnStyles"){var F=S[D],M=N[D],R=w[D];_.columnStyles=(0,u.assign)({},F,M,R)}else{var B=[S,N,w],U=B.map(function(H){return H[D]||{}});_[D]=(0,u.assign)({},U[0],U[1],U[2])}},T=0,A=Object.keys(_);T<A.length;T++){var O=A[T];k(O)}return _}function g(S,N,w){for(var _=[S,N,w],k={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},T=0,A=_;T<A.length;T++){var O=A[T];O.didParseCell&&k.didParseCell.push(O.didParseCell),O.willDrawCell&&k.willDrawCell.push(O.willDrawCell),O.didDrawCell&&k.didDrawCell.push(O.didDrawCell),O.willDrawPage&&k.willDrawPage.push(O.willDrawPage),O.didDrawPage&&k.didDrawPage.push(O.didDrawPage)}return k}function b(S,N){var w,_,k,T,A,O,D,F,M,R,B,U,H=(0,f.parseSpacing)(N.margin,40/S.scaleFactor()),q=(w=y(S,N.startY))!==null&&w!==void 0?w:H.top,L;N.showFoot===!0?L="everyPage":N.showFoot===!1?L="never":L=(_=N.showFoot)!==null&&_!==void 0?_:"everyPage";var V;N.showHead===!0?V="everyPage":N.showHead===!1?V="never":V=(k=N.showHead)!==null&&k!==void 0?k:"everyPage";var G=(T=N.useCss)!==null&&T!==void 0?T:!1,Z=N.theme||(G?"plain":"striped"),te=!!N.horizontalPageBreak,he=(A=N.horizontalPageBreakRepeat)!==null&&A!==void 0?A:null;return{includeHiddenHtml:(O=N.includeHiddenHtml)!==null&&O!==void 0?O:!1,useCss:G,theme:Z,startY:q,margin:H,pageBreak:(D=N.pageBreak)!==null&&D!==void 0?D:"auto",rowPageBreak:(F=N.rowPageBreak)!==null&&F!==void 0?F:"auto",tableWidth:(M=N.tableWidth)!==null&&M!==void 0?M:"auto",showHead:V,showFoot:L,tableLineWidth:(R=N.tableLineWidth)!==null&&R!==void 0?R:0,tableLineColor:(B=N.tableLineColor)!==null&&B!==void 0?B:200,horizontalPageBreak:te,horizontalPageBreakRepeat:he,horizontalPageBreakBehaviour:(U=N.horizontalPageBreakBehaviour)!==null&&U!==void 0?U:"afterAllRows"}}function y(S,N){var w=S.getLastAutoTable(),_=S.scaleFactor(),k=S.pageNumber(),T=!1;if(w&&w.startPageNumber){var A=w.startPageNumber+w.pageNumber-1;T=A===k}return typeof N=="number"?N:(N==null||N===!1)&&T&&(w==null?void 0:w.finalY)!=null?w.finalY+20/_:null}function j(S,N,w){var _=N.head||[],k=N.body||[],T=N.foot||[];if(N.html){var A=N.includeHiddenHtml;if(w){var O=(0,h.parseHtml)(S,N.html,w,A,N.useCss)||{};_=O.head||_,k=O.body||_,T=O.foot||_}else console.error("Cannot parse html in non browser environment")}var D=N.columns||E(_,k,T);return{columns:D,head:_,body:k,foot:T}}function E(S,N,w){var _=S[0]||N[0]||w[0]||[],k=[];return Object.keys(_).filter(function(T){return T!=="_element"}).forEach(function(T){var A=1,O;Array.isArray(_)?O=_[parseInt(T)]:O=_[T],typeof O=="object"&&!Array.isArray(O)&&(A=(O==null?void 0:O.colSpan)||1);for(var D=0;D<A;D++){var F=void 0;Array.isArray(_)?F=k.length:F=T+(D>0?"_".concat(D):"");var M={dataKey:F};k.push(M)}}),k}},792:function(l,c){Object.defineProperty(c,"__esModule",{value:!0});function d(u,f,m,v){for(var x=function(y){y&&typeof y!="object"&&console.error("The options parameter should be of type object, is: "+typeof y),typeof y.extendWidth<"u"&&(y.tableWidth=y.extendWidth?"auto":"wrap",console.error("Use of deprecated option: extendWidth, use tableWidth instead.")),typeof y.margins<"u"&&(typeof y.margin>"u"&&(y.margin=y.margins),console.error("Use of deprecated option: margins, use margin instead.")),y.startY&&typeof y.startY!="number"&&(console.error("Invalid value for startY option",y.startY),delete y.startY),!y.didDrawPage&&(y.afterPageContent||y.beforePageContent||y.afterPageAdd)&&(console.error("The afterPageContent, beforePageContent and afterPageAdd hooks are deprecated. Use didDrawPage instead"),y.didDrawPage=function(T){u.applyStyles(u.userStyles),y.beforePageContent&&y.beforePageContent(T),u.applyStyles(u.userStyles),y.afterPageContent&&y.afterPageContent(T),u.applyStyles(u.userStyles),y.afterPageAdd&&T.pageNumber>1&&T.afterPageAdd(T),u.applyStyles(u.userStyles)}),["createdHeaderCell","drawHeaderRow","drawRow","drawHeaderCell"].forEach(function(T){y[T]&&console.error('The "'.concat(T,'" hook has changed in version 3.0, check the changelog for how to migrate.'))}),[["showFoot","showFooter"],["showHead","showHeader"],["didDrawPage","addPageContent"],["didParseCell","createdCell"],["headStyles","headerStyles"]].forEach(function(T){var A=T[0],O=T[1];y[O]&&(console.error("Use of deprecated option ".concat(O,". Use ").concat(A," instead")),y[A]=y[O])}),[["padding","cellPadding"],["lineHeight","rowHeight"],"fontSize","overflow"].forEach(function(T){var A=typeof T=="string"?T:T[0],O=typeof T=="string"?T:T[1];typeof y[A]<"u"&&(typeof y.styles[O]>"u"&&(y.styles[O]=y[A]),console.error("Use of deprecated option: "+A+", use the style "+O+" instead."))});for(var j=0,E=["styles","bodyStyles","headStyles","footStyles"];j<E.length;j++){var S=E[j];h(y[S]||{})}for(var N=y.columnStyles||{},w=0,_=Object.keys(N);w<_.length;w++){var k=_[w];h(N[k]||{})}},p=0,g=[f,m,v];p<g.length;p++){var b=g[p];x(b)}}c.default=d;function h(u){u.rowHeight?(console.error("Use of deprecated style rowHeight. It is renamed to minCellHeight."),u.minCellHeight||(u.minCellHeight=u.rowHeight)):u.columnWidth&&(console.error("Use of deprecated style columnWidth. It is renamed to cellWidth."),u.cellWidth||(u.cellWidth=u.columnWidth))}},260:function(l,c,d){Object.defineProperty(c,"__esModule",{value:!0}),c.Column=c.Cell=c.Row=c.Table=void 0;var h=d(796),u=d(172),f=d(420),m=function(){function g(b,y){this.pageNumber=1,this.pageCount=1,this.id=b.id,this.settings=b.settings,this.styles=b.styles,this.hooks=b.hooks,this.columns=y.columns,this.head=y.head,this.body=y.body,this.foot=y.foot}return g.prototype.getHeadHeight=function(b){return this.head.reduce(function(y,j){return y+j.getMaxCellHeight(b)},0)},g.prototype.getFootHeight=function(b){return this.foot.reduce(function(y,j){return y+j.getMaxCellHeight(b)},0)},g.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},g.prototype.callCellHooks=function(b,y,j,E,S,N){for(var w=0,_=y;w<_.length;w++){var k=_[w],T=new u.CellHookData(b,this,j,E,S,N),A=k(T)===!1;if(j.text=Array.isArray(j.text)?j.text:[j.text],A)return!1}return!0},g.prototype.callEndPageHooks=function(b,y){b.applyStyles(b.userStyles);for(var j=0,E=this.hooks.didDrawPage;j<E.length;j++){var S=E[j];S(new u.HookData(b,this,y))}},g.prototype.callWillDrawPageHooks=function(b,y){for(var j=0,E=this.hooks.willDrawPage;j<E.length;j++){var S=E[j];S(new u.HookData(b,this,y))}},g.prototype.getWidth=function(b){if(typeof this.settings.tableWidth=="number")return this.settings.tableWidth;if(this.settings.tableWidth==="wrap"){var y=this.columns.reduce(function(E,S){return E+S.wrappedWidth},0);return y}else{var j=this.settings.margin;return b-j.left-j.right}},g}();c.Table=m;var v=function(){function g(b,y,j,E,S){S===void 0&&(S=!1),this.height=0,this.raw=b,b instanceof h.HtmlRowInput&&(this.raw=b._element,this.element=b._element),this.index=y,this.section=j,this.cells=E,this.spansMultiplePages=S}return g.prototype.getMaxCellHeight=function(b){var y=this;return b.reduce(function(j,E){var S;return Math.max(j,((S=y.cells[E.index])===null||S===void 0?void 0:S.height)||0)},0)},g.prototype.hasRowSpan=function(b){var y=this;return b.filter(function(j){var E=y.cells[j.index];return E?E.rowSpan>1:!1}).length>0},g.prototype.canEntireRowFit=function(b,y){return this.getMaxCellHeight(y)<=b},g.prototype.getMinimumRowHeight=function(b,y){var j=this;return b.reduce(function(E,S){var N=j.cells[S.index];if(!N)return 0;var w=y.getLineHeight(N.styles.fontSize),_=N.padding("vertical"),k=_+w;return k>E?k:E},0)},g}();c.Row=v;var x=function(){function g(b,y,j){var E,S;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=y,this.section=j,this.raw=b;var N=b;b!=null&&typeof b=="object"&&!Array.isArray(b)?(this.rowSpan=b.rowSpan||1,this.colSpan=b.colSpan||1,N=(S=(E=b.content)!==null&&E!==void 0?E:b.title)!==null&&S!==void 0?S:b,b._element&&(this.raw=b._element)):(this.rowSpan=1,this.colSpan=1);var w=N!=null?""+N:"",_=/\r\n|\r|\n/g;this.text=w.split(_)}return g.prototype.getTextPos=function(){var b;if(this.styles.valign==="top")b=this.y+this.padding("top");else if(this.styles.valign==="bottom")b=this.y+this.height-this.padding("bottom");else{var y=this.height-this.padding("vertical");b=this.y+y/2+this.padding("top")}var j;if(this.styles.halign==="right")j=this.x+this.width-this.padding("right");else if(this.styles.halign==="center"){var E=this.width-this.padding("horizontal");j=this.x+E/2+this.padding("left")}else j=this.x+this.padding("left");return{x:j,y:b}},g.prototype.getContentHeight=function(b,y){y===void 0&&(y=1.15);var j=Array.isArray(this.text)?this.text.length:1,E=this.styles.fontSize/b*y,S=j*E+this.padding("vertical");return Math.max(S,this.styles.minCellHeight)},g.prototype.padding=function(b){var y=(0,f.parseSpacing)(this.styles.cellPadding,0);return b==="vertical"?y.top+y.bottom:b==="horizontal"?y.left+y.right:y[b]},g}();c.Cell=x;var p=function(){function g(b,y,j){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=b,this.raw=y,this.index=j}return g.prototype.getMaxCustomCellWidth=function(b){for(var y=0,j=0,E=b.allRows();j<E.length;j++){var S=E[j],N=S.cells[this.index];N&&typeof N.styles.cellWidth=="number"&&(y=Math.max(y,N.styles.cellWidth))}return y},g}();c.Column=p},356:function(l,c){Object.defineProperty(c,"__esModule",{value:!0}),c.assign=void 0;function d(h,u,f,m,v){if(h==null)throw new TypeError("Cannot convert undefined or null to object");for(var x=Object(h),p=1;p<arguments.length;p++){var g=arguments[p];if(g!=null)for(var b in g)Object.prototype.hasOwnProperty.call(g,b)&&(x[b]=g[b])}return x}c.assign=d},972:function(l,c,d){Object.defineProperty(c,"__esModule",{value:!0}),c.createTable=void 0;var h=d(744),u=d(260),f=d(324),m=d(796),v=d(356);function x(S,N){var w=new h.DocHandler(S),_=p(N,w.scaleFactor()),k=new u.Table(N,_);return(0,f.calculateWidths)(w,k),w.applyStyles(w.userStyles),k}c.createTable=x;function p(S,N){var w=S.content,_=j(w.columns);if(w.head.length===0){var k=b(_,"head");k&&w.head.push(k)}if(w.foot.length===0){var k=b(_,"foot");k&&w.foot.push(k)}var T=S.settings.theme,A=S.styles;return{columns:_,head:g("head",w.head,_,A,T,N),body:g("body",w.body,_,A,T,N),foot:g("foot",w.foot,_,A,T,N)}}function g(S,N,w,_,k,T){var A={},O=N.map(function(D,F){for(var M=0,R={},B=0,U=0,H=0,q=w;H<q.length;H++){var L=q[H];if(A[L.index]==null||A[L.index].left===0)if(U===0){var V=void 0;Array.isArray(D)?V=D[L.index-B-M]:V=D[L.dataKey];var G={};typeof V=="object"&&!Array.isArray(V)&&(G=(V==null?void 0:V.styles)||{});var Z=E(S,L,F,k,_,T,G),te=new u.Cell(V,Z,S);R[L.dataKey]=te,R[L.index]=te,U=te.colSpan-1,A[L.index]={left:te.rowSpan-1,times:U}}else U--,B++;else A[L.index].left--,U=A[L.index].times,M++}return new u.Row(D,F,S,R)});return O}function b(S,N){var w={};return S.forEach(function(_){if(_.raw!=null){var k=y(N,_.raw);k!=null&&(w[_.dataKey]=k)}}),Object.keys(w).length>0?w:null}function y(S,N){if(S==="head"){if(typeof N=="object")return N.header||N.title||null;if(typeof N=="string"||typeof N=="number")return N}else if(S==="foot"&&typeof N=="object")return N.footer;return null}function j(S){return S.map(function(N,w){var _,k,T;return typeof N=="object"?T=(k=(_=N.dataKey)!==null&&_!==void 0?_:N.key)!==null&&k!==void 0?k:w:T=w,new u.Column(T,N,w)})}function E(S,N,w,_,k,T,A){var O=(0,m.getTheme)(_),D;S==="head"?D=k.headStyles:S==="body"?D=k.bodyStyles:S==="foot"&&(D=k.footStyles);var F=(0,v.assign)({},O.table,O[S],k.styles,D),M=k.columnStyles[N.dataKey]||k.columnStyles[N.index]||{},R=S==="body"?M:{},B=S==="body"&&w%2===0?(0,v.assign)({},O.alternateRow,k.alternateRowStyles):{},U=(0,m.defaultStyles)(T),H=(0,v.assign)({},U,F,B,R);return(0,v.assign)(H,A)}},664:function(l,c,d){Object.defineProperty(c,"__esModule",{value:!0}),c.addPage=c.drawTable=void 0;var h=d(420),u=d(260),f=d(744),m=d(356),v=d(136),x=d(224);function p(M,R){var B=R.settings,U=B.startY,H=B.margin,q={x:H.left,y:U},L=R.getHeadHeight(R.columns)+R.getFootHeight(R.columns),V=U+H.bottom+L;if(B.pageBreak==="avoid"){var G=R.body,Z=G.reduce(function(fe,oe){return fe+oe.height},0);V+=Z}var te=new f.DocHandler(M);(B.pageBreak==="always"||B.startY!=null&&V>te.pageSize().height)&&(F(te),q.y=H.top),R.callWillDrawPageHooks(te,q);var he=(0,m.assign)({},q);R.startPageNumber=te.pageNumber(),B.horizontalPageBreak?g(te,R,he,q):(te.applyStyles(te.userStyles),(B.showHead==="firstPage"||B.showHead==="everyPage")&&R.head.forEach(function(fe){return k(te,R,fe,q,R.columns)}),te.applyStyles(te.userStyles),R.body.forEach(function(fe,oe){var we=oe===R.body.length-1;_(te,R,fe,we,he,q,R.columns)}),te.applyStyles(te.userStyles),(B.showFoot==="lastPage"||B.showFoot==="everyPage")&&R.foot.forEach(function(fe){return k(te,R,fe,q,R.columns)})),(0,h.addTableBorder)(te,R,he,q),R.callEndPageHooks(te,q),R.finalY=q.y,M.lastAutoTable=R,M.previousAutoTable=R,M.autoTable&&(M.autoTable.previous=R),te.applyStyles(te.userStyles)}c.drawTable=p;function g(M,R,B,U){var H=(0,x.calculateAllColumnsCanFitInPage)(M,R),q=R.settings;if(q.horizontalPageBreakBehaviour==="afterAllRows")H.forEach(function(Z,te){M.applyStyles(M.userStyles),te>0?D(M,R,B,U,Z.columns,!0):b(M,R,U,Z.columns),y(M,R,B,U,Z.columns),E(M,R,U,Z.columns)});else for(var L=-1,V=H[0],G=function(){var Z=L;if(V){M.applyStyles(M.userStyles);var te=V.columns;L>=0?D(M,R,B,U,te,!0):b(M,R,U,te),Z=j(M,R,L+1,U,te),E(M,R,U,te)}var he=Z-L;H.slice(1).forEach(function(fe){M.applyStyles(M.userStyles),D(M,R,B,U,fe.columns,!0),j(M,R,L+1,U,fe.columns,he),E(M,R,U,fe.columns)}),L=Z};L<R.body.length-1;)G()}function b(M,R,B,U){var H=R.settings;M.applyStyles(M.userStyles),(H.showHead==="firstPage"||H.showHead==="everyPage")&&R.head.forEach(function(q){return k(M,R,q,B,U)})}function y(M,R,B,U,H){M.applyStyles(M.userStyles),R.body.forEach(function(q,L){var V=L===R.body.length-1;_(M,R,q,V,B,U,H)})}function j(M,R,B,U,H,q){M.applyStyles(M.userStyles),q=q??R.body.length;var L=Math.min(B+q,R.body.length),V=-1;return R.body.slice(B,L).forEach(function(G,Z){var te=B+Z===R.body.length-1,he=O(M,R,te,U);G.canEntireRowFit(he,H)&&(k(M,R,G,U,H),V=B+Z)}),V}function E(M,R,B,U){var H=R.settings;M.applyStyles(M.userStyles),(H.showFoot==="lastPage"||H.showFoot==="everyPage")&&R.foot.forEach(function(q){return k(M,R,q,B,U)})}function S(M,R,B){var U=B.getLineHeight(M.styles.fontSize),H=M.padding("vertical"),q=Math.floor((R-H)/U);return Math.max(0,q)}function N(M,R,B,U){var H={};M.spansMultiplePages=!0,M.height=0;for(var q=0,L=0,V=B.columns;L<V.length;L++){var G=V[L],Z=M.cells[G.index];if(Z){Array.isArray(Z.text)||(Z.text=[Z.text]);var te=new u.Cell(Z.raw,Z.styles,Z.section);te=(0,m.assign)(te,Z),te.text=[];var he=S(Z,R,U);Z.text.length>he&&(te.text=Z.text.splice(he,Z.text.length));var fe=U.scaleFactor(),oe=U.getLineHeightFactor();Z.contentHeight=Z.getContentHeight(fe,oe),Z.contentHeight>=R&&(Z.contentHeight=R,te.styles.minCellHeight-=R),Z.contentHeight>M.height&&(M.height=Z.contentHeight),te.contentHeight=te.getContentHeight(fe,oe),te.contentHeight>q&&(q=te.contentHeight),H[G.index]=te}}var we=new u.Row(M.raw,-1,M.section,H,!0);we.height=q;for(var je=0,ve=B.columns;je<ve.length;je++){var G=ve[je],te=we.cells[G.index];te&&(te.height=we.height);var Z=M.cells[G.index];Z&&(Z.height=M.height)}return we}function w(M,R,B,U){var H=M.pageSize().height,q=U.settings.margin,L=q.top+q.bottom,V=H-L;R.section==="body"&&(V-=U.getHeadHeight(U.columns)+U.getFootHeight(U.columns));var G=R.getMinimumRowHeight(U.columns,M),Z=G<B;if(G>V)return console.error("Will not be able to print row ".concat(R.index," correctly since it's minimum height is larger than page height")),!0;if(!Z)return!1;var te=R.hasRowSpan(U.columns),he=R.getMaxCellHeight(U.columns)>V;return he?(te&&console.error("The content of row ".concat(R.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!(te||U.settings.rowPageBreak==="avoid")}function _(M,R,B,U,H,q,L){var V=O(M,R,U,q);if(B.canEntireRowFit(V,L))k(M,R,B,q,L);else if(w(M,B,V,R)){var G=N(B,V,R,M);k(M,R,B,q,L),D(M,R,H,q,L),_(M,R,G,U,H,q,L)}else D(M,R,H,q,L),_(M,R,B,U,H,q,L)}function k(M,R,B,U,H){U.x=R.settings.margin.left;for(var q=0,L=H;q<L.length;q++){var V=L[q],G=B.cells[V.index];if(!G){U.x+=V.width;continue}M.applyStyles(G.styles),G.x=U.x,G.y=U.y;var Z=R.callCellHooks(M,R.hooks.willDrawCell,G,B,V,U);if(Z===!1){U.x+=V.width;continue}T(M,G,U);var te=G.getTextPos();(0,v.default)(G.text,te.x,te.y,{halign:G.styles.halign,valign:G.styles.valign,maxWidth:Math.ceil(G.width-G.padding("left")-G.padding("right"))},M.getDocument()),R.callCellHooks(M,R.hooks.didDrawCell,G,B,V,U),U.x+=V.width}U.y+=B.height}function T(M,R,B){var U=R.styles;if(M.getDocument().setFillColor(M.getDocument().getFillColor()),typeof U.lineWidth=="number"){var H=(0,h.getFillStyle)(U.lineWidth,U.fillColor);H&&M.rect(R.x,B.y,R.width,R.height,H)}else typeof U.lineWidth=="object"&&(U.fillColor&&M.rect(R.x,B.y,R.width,R.height,"F"),A(M,R,B,U.lineWidth))}function A(M,R,B,U){var H,q,L,V;U.top&&(H=B.x,q=B.y,L=B.x+R.width,V=B.y,U.right&&(L+=.5*U.right),U.left&&(H-=.5*U.left),G(U.top,H,q,L,V)),U.bottom&&(H=B.x,q=B.y+R.height,L=B.x+R.width,V=B.y+R.height,U.right&&(L+=.5*U.right),U.left&&(H-=.5*U.left),G(U.bottom,H,q,L,V)),U.left&&(H=B.x,q=B.y,L=B.x,V=B.y+R.height,U.top&&(q-=.5*U.top),U.bottom&&(V+=.5*U.bottom),G(U.left,H,q,L,V)),U.right&&(H=B.x+R.width,q=B.y,L=B.x+R.width,V=B.y+R.height,U.top&&(q-=.5*U.top),U.bottom&&(V+=.5*U.bottom),G(U.right,H,q,L,V));function G(Z,te,he,fe,oe){M.getDocument().setLineWidth(Z),M.getDocument().line(te,he,fe,oe,"S")}}function O(M,R,B,U){var H=R.settings.margin.bottom,q=R.settings.showFoot;return(q==="everyPage"||q==="lastPage"&&B)&&(H+=R.getFootHeight(R.columns)),M.pageSize().height-U.y-H}function D(M,R,B,U,H,q){H===void 0&&(H=[]),q===void 0&&(q=!1),M.applyStyles(M.userStyles),R.settings.showFoot==="everyPage"&&!q&&R.foot.forEach(function(V){return k(M,R,V,U,H)}),R.callEndPageHooks(M,U);var L=R.settings.margin;(0,h.addTableBorder)(M,R,B,U),F(M),R.pageNumber++,R.pageCount++,U.x=L.left,U.y=L.top,B.y=L.top,R.callWillDrawPageHooks(M,U),R.settings.showHead==="everyPage"&&(R.head.forEach(function(V){return k(M,R,V,U,H)}),M.applyStyles(M.userStyles))}c.addPage=D;function F(M){var R=M.pageNumber();M.setPage(R+1);var B=M.pageNumber();return B===R?(M.addPage(),!0):!1}},224:function(l,c,d){Object.defineProperty(c,"__esModule",{value:!0}),c.calculateAllColumnsCanFitInPage=void 0;var h=d(420);function u(m,v,x){var p;x===void 0&&(x={});var g=(0,h.getPageAvailableWidth)(m,v),b=new Map,y=[],j=[],E=[];v.settings.horizontalPageBreakRepeat,Array.isArray(v.settings.horizontalPageBreakRepeat)?E=v.settings.horizontalPageBreakRepeat:(typeof v.settings.horizontalPageBreakRepeat=="string"||typeof v.settings.horizontalPageBreakRepeat=="number")&&(E=[v.settings.horizontalPageBreakRepeat]),E.forEach(function(_){var k=v.columns.find(function(T){return T.dataKey===_||T.index===_});k&&!b.has(k.index)&&(b.set(k.index,!0),y.push(k.index),j.push(v.columns[k.index]),g-=k.wrappedWidth)});for(var S=!0,N=(p=x==null?void 0:x.start)!==null&&p!==void 0?p:0;N<v.columns.length;){if(b.has(N)){N++;continue}var w=v.columns[N].wrappedWidth;if(S||g>=w)S=!1,y.push(N),j.push(v.columns[N]),g-=w;else break;N++}return{colIndexes:y,columns:j,lastIndex:N-1}}function f(m,v){for(var x=[],p=0;p<v.columns.length;p++){var g=u(m,v,{start:p});g.columns.length&&(x.push(g),p=g.lastIndex)}return x}c.calculateAllColumnsCanFitInPage=f},324:function(l,c,d){Object.defineProperty(c,"__esModule",{value:!0}),c.ellipsize=c.resizeColumns=c.calculateWidths=void 0;var h=d(420);function u(y,j){f(y,j);var E=[],S=0;j.columns.forEach(function(w){var _=w.getMaxCustomCellWidth(j);_?w.width=_:(w.width=w.wrappedWidth,E.push(w)),S+=w.width});var N=j.getWidth(y.pageSize().width)-S;N&&(N=m(E,N,function(w){return Math.max(w.minReadableWidth,w.minWidth)})),N&&(N=m(E,N,function(w){return w.minWidth})),N=Math.abs(N),!j.settings.horizontalPageBreak&&N>.1/y.scaleFactor()&&(N=N<1?N:Math.round(N),console.warn("Of the table content, ".concat(N," units width could not fit page"))),x(j),p(j,y),v(j)}c.calculateWidths=u;function f(y,j){var E=y.scaleFactor(),S=j.settings.horizontalPageBreak,N=(0,h.getPageAvailableWidth)(y,j);j.allRows().forEach(function(w){for(var _=0,k=j.columns;_<k.length;_++){var T=k[_],A=w.cells[T.index];if(A){var O=j.hooks.didParseCell;j.callCellHooks(y,O,A,w,T,null);var D=A.padding("horizontal");A.contentWidth=(0,h.getStringWidth)(A.text,A.styles,y)+D;var F=(0,h.getStringWidth)(A.text.join(" ").split(/[^\S\u00A0]+/),A.styles,y);if(A.minReadableWidth=F+A.padding("horizontal"),typeof A.styles.cellWidth=="number")A.minWidth=A.styles.cellWidth,A.wrappedWidth=A.styles.cellWidth;else if(A.styles.cellWidth==="wrap"||S===!0)A.contentWidth>N?(A.minWidth=N,A.wrappedWidth=N):(A.minWidth=A.contentWidth,A.wrappedWidth=A.contentWidth);else{var M=10/E;A.minWidth=A.styles.minCellWidth||M,A.wrappedWidth=A.contentWidth,A.minWidth>A.wrappedWidth&&(A.wrappedWidth=A.minWidth)}}}}),j.allRows().forEach(function(w){for(var _=0,k=j.columns;_<k.length;_++){var T=k[_],A=w.cells[T.index];if(A&&A.colSpan===1)T.wrappedWidth=Math.max(T.wrappedWidth,A.wrappedWidth),T.minWidth=Math.max(T.minWidth,A.minWidth),T.minReadableWidth=Math.max(T.minReadableWidth,A.minReadableWidth);else{var O=j.styles.columnStyles[T.dataKey]||j.styles.columnStyles[T.index]||{},D=O.cellWidth||O.minCellWidth;D&&typeof D=="number"&&(T.minWidth=D,T.wrappedWidth=D)}A&&(A.colSpan>1&&!T.minWidth&&(T.minWidth=A.minWidth),A.colSpan>1&&!T.wrappedWidth&&(T.wrappedWidth=A.minWidth))}})}function m(y,j,E){for(var S=j,N=y.reduce(function(M,R){return M+R.wrappedWidth},0),w=0;w<y.length;w++){var _=y[w],k=_.wrappedWidth/N,T=S*k,A=_.width+T,O=E(_),D=A<O?O:A;j-=D-_.width,_.width=D}if(j=Math.round(j*1e10)/1e10,j){var F=y.filter(function(M){return j<0?M.width>E(M):!0});F.length&&(j=m(F,j,E))}return j}c.resizeColumns=m;function v(y){for(var j={},E=1,S=y.allRows(),N=0;N<S.length;N++)for(var w=S[N],_=0,k=y.columns;_<k.length;_++){var T=k[_],A=j[T.index];if(E>1)E--,delete w.cells[T.index];else if(A)A.cell.height+=w.height,E=A.cell.colSpan,delete w.cells[T.index],A.left--,A.left<=1&&delete j[T.index];else{var O=w.cells[T.index];if(!O)continue;if(O.height=w.height,O.rowSpan>1){var D=S.length-N,F=O.rowSpan>D?D:O.rowSpan;j[T.index]={cell:O,left:F,row:w}}}}}function x(y){for(var j=y.allRows(),E=0;E<j.length;E++)for(var S=j[E],N=null,w=0,_=0,k=0;k<y.columns.length;k++){var T=y.columns[k];if(_-=1,_>1&&y.columns[k+1])w+=T.width,delete S.cells[T.index];else if(N){var A=N;delete S.cells[T.index],N=null,A.width=T.width+w}else{var A=S.cells[T.index];if(!A)continue;if(_=A.colSpan,w=0,A.colSpan>1){N=A,w+=T.width;continue}A.width=T.width+w}}}function p(y,j){for(var E={count:0,height:0},S=0,N=y.allRows();S<N.length;S++){for(var w=N[S],_=0,k=y.columns;_<k.length;_++){var T=k[_],A=w.cells[T.index];if(A){j.applyStyles(A.styles,!0);var O=A.width-A.padding("horizontal");if(A.styles.overflow==="linebreak")A.text=j.splitTextToSize(A.text,O+1/j.scaleFactor(),{fontSize:A.styles.fontSize});else if(A.styles.overflow==="ellipsize")A.text=g(A.text,O,A.styles,j,"...");else if(A.styles.overflow==="hidden")A.text=g(A.text,O,A.styles,j,"");else if(typeof A.styles.overflow=="function"){var D=A.styles.overflow(A.text,O);typeof D=="string"?A.text=[D]:A.text=D}A.contentHeight=A.getContentHeight(j.scaleFactor(),j.getLineHeightFactor());var F=A.contentHeight/A.rowSpan;A.rowSpan>1&&E.count*E.height<F*A.rowSpan?E={height:F,count:A.rowSpan}:E&&E.count>0&&E.height>F&&(F=E.height),F>w.height&&(w.height=F)}}E.count--}}function g(y,j,E,S,N){return y.map(function(w){return b(w,j,E,S,N)})}c.ellipsize=g;function b(y,j,E,S,N){var w=1e4*S.scaleFactor();if(j=Math.ceil(j*w)/w,j>=(0,h.getStringWidth)(y,E,S))return y;for(;j<(0,h.getStringWidth)(y+N,E,S)&&!(y.length<=1);)y=y.substring(0,y.length-1);return y.trim()+N}},964:function(l){if(typeof r>"u"){var c=new Error("Cannot find module 'undefined'");throw c.code="MODULE_NOT_FOUND",c}l.exports=r}},a={};function i(l){var c=a[l];if(c!==void 0)return c.exports;var d=a[l]={exports:{}};return s[l].call(d.exports,d,d.exports,i),d.exports}var o={};return function(){var l=o;Object.defineProperty(l,"__esModule",{value:!0}),l.Cell=l.Column=l.Row=l.Table=l.CellHookData=l.__drawTable=l.__createTable=l.applyPlugin=void 0;var c=i(340),d=i(776),h=i(664),u=i(972),f=i(260);Object.defineProperty(l,"Table",{enumerable:!0,get:function(){return f.Table}});var m=i(172);Object.defineProperty(l,"CellHookData",{enumerable:!0,get:function(){return m.CellHookData}});var v=i(260);Object.defineProperty(l,"Cell",{enumerable:!0,get:function(){return v.Cell}}),Object.defineProperty(l,"Column",{enumerable:!0,get:function(){return v.Column}}),Object.defineProperty(l,"Row",{enumerable:!0,get:function(){return v.Row}});function x(j){(0,c.default)(j)}l.applyPlugin=x;function p(j,E){var S=(0,d.parseInput)(j,E),N=(0,u.createTable)(j,S);(0,h.drawTable)(j,N)}function g(j,E){var S=(0,d.parseInput)(j,E);return(0,u.createTable)(j,S)}l.__createTable=g;function b(j,E){(0,h.drawTable)(j,E)}l.__drawTable=b;try{var y=i(964);y.jsPDF&&(y=y.jsPDF),x(y)}catch{}l.default=p}(),o}()})})(oce);function cce({ticket:e,onClose:t,onEdit:r}){var m,v,x,p,g,b;const{toast:s}=At(),[a,i]=C.useState("details"),o=y=>{switch(y){case lr.OPEN:return"bg-blue-50 text-blue-700 border-blue-200";case lr.IN_PROGRESS:return"bg-yellow-50 text-yellow-700 border-yellow-200";case lr.WAITING_PARTS:return"bg-orange-50 text-orange-700 border-orange-200";case lr.COMPLETED:return"bg-green-50 text-green-700 border-green-200";case lr.CANCELLED:return"bg-red-50 text-red-700 border-red-200";default:return"bg-gray-50 text-gray-700 border-gray-200"}},l=y=>{switch(y){case rn.LOW:return"bg-green-50 text-green-700 border-green-200";case rn.MEDIUM:return"bg-yellow-50 text-yellow-700 border-yellow-200";case rn.HIGH:return"bg-orange-50 text-orange-700 border-orange-200";case rn.URGENT:return"bg-red-50 text-red-700 border-red-200";default:return"bg-gray-50 text-gray-700 border-gray-200"}},c=y=>{switch(y){case"covered":return"Covered by Warranty";case"partial":return"Partially Covered";case"not_covered":return"Not Covered";case"extended":return"Extended Warranty";case"expired":return"Warranty Expired";default:return"Unknown"}},d=y=>{switch(y){case"covered":return"bg-green-50 text-green-700 border-green-200";case"partial":return"bg-yellow-50 text-yellow-700 border-yellow-200";case"not_covered":return"bg-red-50 text-red-700 border-red-200";case"extended":return"bg-blue-50 text-blue-700 border-blue-200";case"expired":return"bg-orange-50 text-orange-700 border-orange-200";default:return"bg-gray-50 text-gray-700 border-gray-200"}},u=(()=>{const y=e.parts.reduce((E,S)=>E+S.total,0),j=e.labor.reduce((E,S)=>E+S.total,0);return{partsTotal:y,laborTotal:j,grandTotal:y+j}})(),f=()=>{try{const y=new Tt;y.setFontSize(20),y.text("Service Ticket",105,15,{align:"center"}),y.setFontSize(12),y.text(`Ticket #: ${e.id}`,20,30),y.text(`Date: ${ct(e.createdAt)}`,20,40),y.text(`Customer: ${e.customerId}`,20,50),y.text(`Status: ${e.status.replace("_"," ")}`,20,60),y.setFontSize(16),y.text("Service Details",20,75),y.setFontSize(12),y.text(`Title: ${e.title}`,20,85);const j=y.splitTextToSize(e.description,170);if(y.text(j,20,95),e.parts.length>0&&(y.setFontSize(16),y.text("Parts",20,120),y.autoTable({startY:125,head:[["Part Number","Description","Quantity","Unit Cost","Total"]],body:e.parts.map(S=>[S.partNumber,S.description,S.quantity,_e(S.unitCost),_e(S.total)]),foot:[["","","","Parts Total:",_e(u.partsTotal)]]})),e.labor.length>0){const S=y.lastAutoTable.finalY||125;y.setFontSize(16),y.text("Labor",20,S+15),y.autoTable({startY:S+20,head:[["Description","Hours","Rate","Total"]],body:e.labor.map(N=>[N.description,N.hours,_e(N.rate),_e(N.total)]),foot:[["","","Labor Total:",_e(u.laborTotal)]]})}const E=y.lastAutoTable.finalY||125;if(y.setFontSize(14),y.text(`Grand Total: ${_e(u.grandTotal)}`,150,E+20,{align:"right"}),e.notes){y.setFontSize(16),y.text("Notes",20,E+35),y.setFontSize(12);const S=y.splitTextToSize(e.notes,170);y.text(S,20,E+45)}y.save(`service-ticket-${e.id}.pdf`),s({title:"PDF Generated",description:"Service ticket PDF has been downloaded"})}catch(y){console.error("Error generating PDF:",y),s({title:"Error",description:"Failed to generate PDF",variant:"destructive"})}};return n.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:n.jsxs(de,{className:"w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[n.jsx(ye,{children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx(be,{className:"text-xl",children:e.title}),n.jsxs($e,{children:["Service Ticket #",e.id]})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsxs(J,{onClick:()=>r(e),size:"sm",children:[n.jsx(zr,{className:"h-4 w-4 mr-2"}),"Edit Ticket"]}),n.jsx(J,{variant:"ghost",size:"sm",onClick:t,children:n.jsx(Ut,{className:"h-4 w-4"})})]})]})}),n.jsxs(ue,{children:[n.jsxs(xr,{value:a,onValueChange:i,className:"space-y-4",children:[n.jsxs(fr,{className:"grid w-full grid-cols-3",children:[n.jsx(Qe,{value:"details",children:"Details"}),n.jsx(Qe,{value:"parts-labor",children:"Parts & Labor"}),n.jsx(Qe,{value:"notes",children:"Notes"})]}),n.jsxs(et,{value:"details",className:"space-y-6",children:[n.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[n.jsx(Re,{className:He("ri-badge-status",o(e.status)),children:e.status.replace("_"," ").toUpperCase()}),n.jsxs(Re,{className:He("ri-badge-status",l(e.priority)),children:[e.priority.toUpperCase()," PRIORITY"]}),((m=e.customFields)==null?void 0:m.warrantyStatus)&&n.jsx(Re,{className:He("ri-badge-status",d(e.customFields.warrantyStatus)),children:c(e.customFields.warrantyStatus)}),((v=e.customFields)==null?void 0:v.customerAuthorization)&&n.jsx(Re,{className:"bg-green-50 text-green-700 border-green-200",children:"AUTHORIZED"})]}),n.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Customer"}),n.jsx("p",{className:"font-medium",children:e.customerId})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Vehicle"}),n.jsx("p",{className:"font-medium",children:e.vehicleId||"No Vehicle"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Assigned To"}),n.jsx("p",{className:"font-medium",children:e.assignedTo||"Unassigned"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Created"}),n.jsx("p",{className:"font-medium",children:ct(e.createdAt)})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Scheduled Date"}),n.jsx("p",{className:"font-medium",children:e.scheduledDate?ct(e.scheduledDate):"Not scheduled"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Estimated Completion"}),n.jsx("p",{className:"font-medium",children:((x=e.customFields)==null?void 0:x.estimatedCompletionDate)||"Not specified"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Description"}),n.jsx("div",{className:"mt-1 p-3 bg-muted/30 rounded-md",children:n.jsx("p",{className:"whitespace-pre-wrap",children:e.description})})]}),n.jsxs("div",{className:"p-3 bg-blue-50 rounded-md",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(us,{className:"h-4 w-4 text-blue-600"}),n.jsx("span",{className:"font-medium text-blue-700",children:"Customer Portal Access:"}),n.jsx("span",{className:"text-blue-700",children:((p=e.customFields)==null?void 0:p.customerPortalAccess)!==!1?"Enabled":"Disabled"})]}),n.jsx("p",{className:"text-sm text-blue-600 mt-1",children:((g=e.customFields)==null?void 0:g.customerPortalAccess)!==!1?"Customer can view this ticket in the portal":"Customer cannot view this ticket in the portal"})]})]}),n.jsxs(et,{value:"parts-labor",className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold mb-3",children:"Parts"}),e.parts.length>0?n.jsxs("div",{className:"space-y-3",children:[e.parts.map(y=>n.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("span",{className:"font-medium",children:y.description}),n.jsx(Re,{variant:"outline",children:y.partNumber})]}),n.jsxs("p",{className:"text-sm text-muted-foreground",children:["Quantity: ",y.quantity,"  ",_e(y.unitCost)]})]}),n.jsx("div",{className:"font-bold",children:_e(y.total)})]},y.id)),n.jsx("div",{className:"flex justify-end p-2",children:n.jsxs("span",{className:"font-medium",children:["Parts Total: ",_e(u.partsTotal)]})})]}):n.jsx("div",{className:"text-center py-6 text-muted-foreground border-2 border-dashed rounded-lg",children:n.jsx("p",{children:"No parts added to this service ticket"})})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold mb-3",children:"Labor"}),e.labor.length>0?n.jsxs("div",{className:"space-y-3",children:[e.labor.map(y=>n.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[n.jsxs("div",{className:"flex-1",children:[n.jsx("div",{className:"font-medium",children:y.description}),n.jsxs("p",{className:"text-sm text-muted-foreground",children:[y.hours," hours  ",_e(y.rate),"/hr"]})]}),n.jsx("div",{className:"font-bold",children:_e(y.total)})]},y.id)),n.jsx("div",{className:"flex justify-end p-2",children:n.jsxs("span",{className:"font-medium",children:["Labor Total: ",_e(u.laborTotal)]})})]}):n.jsx("div",{className:"text-center py-6 text-muted-foreground border-2 border-dashed rounded-lg",children:n.jsx("p",{children:"No labor added to this service ticket"})})]}),n.jsx(de,{className:"bg-muted/30",children:n.jsx(ue,{className:"pt-6",children:n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{children:"Parts Total:"}),n.jsx("span",{children:_e(u.partsTotal)})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{children:"Labor Total:"}),n.jsx("span",{children:_e(u.laborTotal)})]}),n.jsxs("div",{className:"flex justify-between text-lg font-bold border-t pt-2",children:[n.jsx("span",{children:"Grand Total:"}),n.jsx("span",{children:_e(u.grandTotal)})]})]})})})]}),n.jsxs(et,{value:"notes",className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold mb-3",children:"Customer Notes"}),e.notes?n.jsx("div",{className:"p-3 bg-muted/30 rounded-md",children:n.jsx("p",{className:"whitespace-pre-wrap",children:e.notes})}):n.jsx("div",{className:"text-center py-6 text-muted-foreground border-2 border-dashed rounded-lg",children:n.jsx("p",{children:"No customer notes for this service ticket"})})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold mb-3",children:"Technician Notes"}),(b=e.customFields)!=null&&b.technicianNotes?n.jsx("div",{className:"p-3 bg-yellow-50 rounded-md",children:n.jsx("p",{className:"whitespace-pre-wrap text-yellow-800",children:e.customFields.technicianNotes})}):n.jsx("div",{className:"text-center py-6 text-muted-foreground border-2 border-dashed rounded-lg",children:n.jsx("p",{children:"No technician notes for this service ticket"})})]})]})]}),n.jsxs("div",{className:"flex justify-end space-x-3 pt-6 border-t mt-6",children:[n.jsx(J,{variant:"outline",onClick:t,children:"Close"}),n.jsxs(J,{variant:"outline",onClick:f,children:[n.jsx(Pu,{className:"h-4 w-4 mr-2"}),"Print PDF"]}),n.jsxs(J,{onClick:()=>r(e),children:[n.jsx(zr,{className:"h-4 w-4 mr-2"}),"Edit Ticket"]})]})]})]})})}function dce({ticket:e,onClose:t}){var l;const r=c=>{switch(c){case lr.OPEN:return"bg-blue-50 text-blue-700 border-blue-200";case lr.IN_PROGRESS:return"bg-yellow-50 text-yellow-700 border-yellow-200";case lr.WAITING_PARTS:return"bg-orange-50 text-orange-700 border-orange-200";case lr.COMPLETED:return"bg-green-50 text-green-700 border-green-200";case lr.CANCELLED:return"bg-red-50 text-red-700 border-red-200";default:return"bg-gray-50 text-gray-700 border-gray-200"}},s=c=>{switch(c){case rn.LOW:return"bg-green-50 text-green-700 border-green-200";case rn.MEDIUM:return"bg-yellow-50 text-yellow-700 border-yellow-200";case rn.HIGH:return"bg-orange-50 text-orange-700 border-orange-200";case rn.URGENT:return"bg-red-50 text-red-700 border-red-200";default:return"bg-gray-50 text-gray-700 border-gray-200"}},i=(()=>{const c=e.parts.reduce((h,u)=>h+u.total,0),d=e.labor.reduce((h,u)=>h+u.total,0);return{partsTotal:c,laborTotal:d,grandTotal:c+d}})(),o=()=>{try{const c=new Tt;c.setFontSize(20),c.text("Service Ticket",105,15,{align:"center"}),c.setFontSize(12),c.text(`Ticket #: ${e.id}`,20,30),c.text(`Date: ${ct(e.createdAt)}`,20,40),c.text(`Status: ${e.status.replace("_"," ")}`,20,50),c.setFontSize(16),c.text("Service Details",20,65),c.setFontSize(12),c.text(`Title: ${e.title}`,20,75);const d=c.splitTextToSize(e.description,170);if(c.text(d,20,85),e.parts.length>0&&(c.setFontSize(16),c.text("Parts",20,110),c.autoTable({startY:115,head:[["Description","Quantity","Unit Cost","Total"]],body:e.parts.map(u=>[u.description,u.quantity,_e(u.unitCost),_e(u.total)]),foot:[["","","Parts Total:",_e(i.partsTotal)]]})),e.labor.length>0){const u=c.lastAutoTable.finalY||115;c.setFontSize(16),c.text("Labor",20,u+15),c.autoTable({startY:u+20,head:[["Description","Hours","Rate","Total"]],body:e.labor.map(f=>[f.description,f.hours,_e(f.rate),_e(f.total)]),foot:[["","","Labor Total:",_e(i.laborTotal)]]})}const h=c.lastAutoTable.finalY||115;if(c.setFontSize(14),c.text(`Grand Total: ${_e(i.grandTotal)}`,150,h+20,{align:"right"}),e.notes){c.setFontSize(16),c.text("Notes",20,h+35),c.setFontSize(12);const u=c.splitTextToSize(e.notes,170);c.text(u,20,h+45)}c.save(`service-ticket-${e.id}.pdf`)}catch(c){console.error("Error generating PDF:",c)}};return n.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:n.jsxs(de,{className:"w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[n.jsx(ye,{children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx(be,{className:"text-xl",children:"Service Ticket"}),n.jsxs($e,{children:["Ticket #",e.id]})]}),n.jsx(J,{variant:"ghost",size:"sm",onClick:t,children:n.jsx(Ut,{className:"h-4 w-4"})})]})}),n.jsx(ue,{children:n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Hd,{className:"h-5 w-5 text-blue-600"}),n.jsx("h3",{className:"font-semibold text-blue-700",children:"Customer Portal View"})]}),n.jsx("p",{className:"text-sm text-blue-600 mt-1",children:"This is how your service ticket appears in the customer portal"})]}),n.jsxs("div",{children:[n.jsx("h2",{className:"text-2xl font-bold",children:e.title}),n.jsxs("div",{className:"flex flex-wrap items-center gap-2 mt-2",children:[n.jsx(Re,{className:He("ri-badge-status",r(e.status)),children:e.status.replace("_"," ").toUpperCase()}),n.jsxs(Re,{className:He("ri-badge-status",s(e.priority)),children:[e.priority.toUpperCase()," PRIORITY"]})]})]}),n.jsxs(xr,{defaultValue:"details",className:"space-y-4",children:[n.jsxs(fr,{className:"grid w-full grid-cols-3",children:[n.jsx(Qe,{value:"details",children:"Details"}),n.jsx(Qe,{value:"parts-labor",children:"Parts & Labor"}),n.jsx(Qe,{value:"timeline",children:"Timeline"})]}),n.jsxs(et,{value:"details",className:"space-y-4",children:[n.jsxs(de,{children:[n.jsx(ye,{children:n.jsx(be,{className:"text-lg",children:"Description"})}),n.jsx(ue,{children:n.jsx("p",{className:"whitespace-pre-wrap",children:e.description})})]}),n.jsxs(de,{children:[n.jsx(ye,{children:n.jsx(be,{className:"text-lg",children:"Schedule Information"})}),n.jsx(ue,{children:n.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Created Date"}),n.jsx("p",{className:"font-medium",children:ct(e.createdAt)})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Scheduled Date"}),n.jsx("p",{className:"font-medium",children:e.scheduledDate?ct(e.scheduledDate):"Not scheduled"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Estimated Completion"}),n.jsx("p",{className:"font-medium",children:((l=e.customFields)==null?void 0:l.estimatedCompletionDate)||"Not specified"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Completed Date"}),n.jsx("p",{className:"font-medium",children:e.completedDate?ct(e.completedDate):"Not completed"})]})]})})]}),e.notes&&n.jsxs(de,{children:[n.jsx(ye,{children:n.jsx(be,{className:"text-lg",children:"Notes"})}),n.jsx(ue,{children:n.jsx("p",{className:"whitespace-pre-wrap",children:e.notes})})]})]}),n.jsxs(et,{value:"parts-labor",className:"space-y-6",children:[n.jsxs(de,{children:[n.jsx(ye,{children:n.jsx(be,{className:"text-lg",children:"Parts"})}),n.jsx(ue,{children:e.parts.length>0?n.jsxs("div",{className:"space-y-3",children:[e.parts.map(c=>n.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[n.jsxs("div",{className:"flex-1",children:[n.jsx("div",{className:"font-medium",children:c.description}),n.jsxs("p",{className:"text-sm text-muted-foreground",children:["Quantity: ",c.quantity,"  ",_e(c.unitCost)]})]}),n.jsx("div",{className:"font-bold",children:_e(c.total)})]},c.id)),n.jsx("div",{className:"flex justify-end p-2",children:n.jsxs("span",{className:"font-medium",children:["Parts Total: ",_e(i.partsTotal)]})})]}):n.jsx("div",{className:"text-center py-6 text-muted-foreground",children:n.jsx("p",{children:"No parts added to this service ticket"})})})]}),n.jsxs(de,{children:[n.jsx(ye,{children:n.jsx(be,{className:"text-lg",children:"Labor"})}),n.jsx(ue,{children:e.labor.length>0?n.jsxs("div",{className:"space-y-3",children:[e.labor.map(c=>n.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[n.jsxs("div",{className:"flex-1",children:[n.jsx("div",{className:"font-medium",children:c.description}),n.jsxs("p",{className:"text-sm text-muted-foreground",children:[c.hours," hours  ",_e(c.rate),"/hr"]})]}),n.jsx("div",{className:"font-bold",children:_e(c.total)})]},c.id)),n.jsx("div",{className:"flex justify-end p-2",children:n.jsxs("span",{className:"font-medium",children:["Labor Total: ",_e(i.laborTotal)]})})]}):n.jsx("div",{className:"text-center py-6 text-muted-foreground",children:n.jsx("p",{children:"No labor added to this service ticket"})})})]}),n.jsx(de,{className:"bg-muted/30",children:n.jsx(ue,{className:"pt-6",children:n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{children:"Parts Total:"}),n.jsx("span",{children:_e(i.partsTotal)})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{children:"Labor Total:"}),n.jsx("span",{children:_e(i.laborTotal)})]}),n.jsxs("div",{className:"flex justify-between text-lg font-bold border-t pt-2",children:[n.jsx("span",{children:"Grand Total:"}),n.jsx("span",{children:_e(i.grandTotal)})]})]})})})]}),n.jsx(et,{value:"timeline",className:"space-y-4",children:n.jsxs(de,{children:[n.jsx(ye,{children:n.jsx(be,{className:"text-lg",children:"Service Timeline"})}),n.jsx(ue,{children:n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"relative pl-6 pb-6 border-l-2 border-muted",children:[n.jsx("div",{className:"absolute left-[-8px] top-0 w-4 h-4 rounded-full bg-blue-500"}),n.jsx("div",{className:"font-medium",children:"Ticket Created"}),n.jsx("div",{className:"text-sm text-muted-foreground",children:ct(e.createdAt)})]}),e.status!==lr.OPEN&&n.jsxs("div",{className:"relative pl-6 pb-6 border-l-2 border-muted",children:[n.jsx("div",{className:"absolute left-[-8px] top-0 w-4 h-4 rounded-full bg-yellow-500"}),n.jsx("div",{className:"font-medium",children:"Work Started"}),n.jsx("div",{className:"text-sm text-muted-foreground",children:new Date(e.createdAt.getTime()+864e5).toLocaleDateString()})]}),e.status===lr.WAITING_PARTS&&n.jsxs("div",{className:"relative pl-6 pb-6 border-l-2 border-muted",children:[n.jsx("div",{className:"absolute left-[-8px] top-0 w-4 h-4 rounded-full bg-orange-500"}),n.jsx("div",{className:"font-medium",children:"Waiting for Parts"}),n.jsx("div",{className:"text-sm text-muted-foreground",children:new Date(e.createdAt.getTime()+1728e5).toLocaleDateString()})]}),e.status===lr.COMPLETED&&n.jsxs("div",{className:"relative pl-6",children:[n.jsx("div",{className:"absolute left-[-8px] top-0 w-4 h-4 rounded-full bg-green-500"}),n.jsx("div",{className:"font-medium",children:"Service Completed"}),n.jsx("div",{className:"text-sm text-muted-foreground",children:e.completedDate?ct(e.completedDate):"Date not recorded"})]})]})})]})})]}),n.jsxs("div",{className:"flex justify-end space-x-3 pt-6 border-t",children:[n.jsx(J,{variant:"outline",onClick:t,children:"Close"}),n.jsxs(J,{variant:"outline",onClick:o,children:[n.jsx(Pu,{className:"h-4 w-4 mr-2"}),"Print PDF"]})]})]})})]})})}function uce(){const{tickets:e,createTicket:t,updateTicket:r,deleteTicket:s,updateTicketStatus:a}=z8(),{toast:i}=At(),[o,l]=C.useState(""),[c,d]=C.useState("all"),[h,u]=C.useState("all"),[f,m]=C.useState(!1),[v,x]=C.useState(!1),[p,g]=C.useState(!1),[b,y]=C.useState(!1),[j,E]=C.useState(null),S=F=>{switch(F){case lr.OPEN:return"bg-blue-50 text-blue-700 border-blue-200";case lr.IN_PROGRESS:return"bg-yellow-50 text-yellow-700 border-yellow-200";case lr.WAITING_PARTS:return"bg-orange-50 text-orange-700 border-orange-200";case lr.COMPLETED:return"bg-green-50 text-green-700 border-green-200";case lr.CANCELLED:return"bg-red-50 text-red-700 border-red-200";default:return"bg-gray-50 text-gray-700 border-gray-200"}},N=F=>{switch(F){case rn.LOW:return"bg-green-50 text-green-700 border-green-200";case rn.MEDIUM:return"bg-yellow-50 text-yellow-700 border-yellow-200";case rn.HIGH:return"bg-orange-50 text-orange-700 border-orange-200";case rn.URGENT:return"bg-red-50 text-red-700 border-red-200";default:return"bg-gray-50 text-gray-700 border-gray-200"}},w=e.filter(F=>F.title.toLowerCase().includes(o.toLowerCase())||F.description.toLowerCase().includes(o.toLowerCase())||F.customerId.toLowerCase().includes(o.toLowerCase())||F.id.toLowerCase().includes(o.toLowerCase())).filter(F=>c==="all"||F.status===c).filter(F=>h==="all"||F.priority===h),_=()=>{E(null),m(!0)},k=F=>{E(F),m(!0),x(!1)},T=F=>{E(F),x(!0)},A=F=>{E(F),g(!0)},O=async F=>{try{j?(await r(j.id,F),i({title:"Success",description:"Service ticket updated successfully"})):(await t(F),i({title:"Success",description:"Service ticket created successfully"})),m(!1),E(null)}catch{i({title:"Error",description:`Failed to ${j?"update":"create"} service ticket`,variant:"destructive"})}},D=F=>{i({title:"Customer Added",description:`${F.firstName} ${F.lastName} has been added.`}),E(null),y(!1),m(!0)};return n.jsxs("div",{className:"space-y-8",children:[b&&n.jsx(Du,{onClose:()=>y(!1),onSuccess:D}),f&&n.jsx(ale,{ticket:j||void 0,onSave:O,onCancel:()=>{m(!1),E(null)}}),v&&j&&n.jsx(cce,{ticket:j,onClose:()=>x(!1),onEdit:k}),p&&j&&n.jsx(dce,{ticket:j,onClose:()=>g(!1)}),n.jsx("div",{className:"ri-page-header",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"ri-page-title",children:"Service Operations"}),n.jsx("p",{className:"ri-page-description",children:"Manage service tickets and maintenance schedules"})]}),n.jsxs(J,{className:"shadow-sm",onClick:_,children:[n.jsx(Nt,{className:"h-4 w-4 mr-2"}),"New Service Ticket"]})]})}),n.jsxs("div",{className:"ri-stats-grid",children:[n.jsxs(de,{className:"shadow-sm border-0 bg-gradient-to-br from-blue-50 to-blue-100/50",children:[n.jsxs(ye,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(be,{className:"text-sm font-medium text-blue-900",children:"Total Tickets"}),n.jsx(Hd,{className:"h-4 w-4 text-blue-600"})]}),n.jsxs(ue,{children:[n.jsx("div",{className:"text-2xl font-bold text-blue-900",children:e.length}),n.jsxs("p",{className:"text-xs text-blue-600 flex items-center mt-1",children:[n.jsx(_t,{className:"h-3 w-3 mr-1"}),"All service requests"]})]})]}),n.jsxs(de,{className:"shadow-sm border-0 bg-gradient-to-br from-yellow-50 to-yellow-100/50",children:[n.jsxs(ye,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(be,{className:"text-sm font-medium text-yellow-900",children:"In Progress"}),n.jsx(Hd,{className:"h-4 w-4 text-yellow-600"})]}),n.jsxs(ue,{children:[n.jsx("div",{className:"text-2xl font-bold text-yellow-900",children:e.filter(F=>F.status===lr.IN_PROGRESS).length}),n.jsxs("p",{className:"text-xs text-yellow-600 flex items-center mt-1",children:[n.jsx(sr,{className:"h-3 w-3 mr-1"}),"Currently working"]})]})]}),n.jsxs(de,{className:"shadow-sm border-0 bg-gradient-to-br from-orange-50 to-orange-100/50",children:[n.jsxs(ye,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(be,{className:"text-sm font-medium text-orange-900",children:"Waiting Parts"}),n.jsx(Hd,{className:"h-4 w-4 text-orange-600"})]}),n.jsxs(ue,{children:[n.jsx("div",{className:"text-2xl font-bold text-orange-900",children:e.filter(F=>F.status===lr.WAITING_PARTS).length}),n.jsxs("p",{className:"text-xs text-orange-600 flex items-center mt-1",children:[n.jsx(sr,{className:"h-3 w-3 mr-1"}),"Parts on order"]})]})]}),n.jsxs(de,{className:"shadow-sm border-0 bg-gradient-to-br from-green-50 to-green-100/50",children:[n.jsxs(ye,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(be,{className:"text-sm font-medium text-green-900",children:"Revenue"}),n.jsx(It,{className:"h-4 w-4 text-green-600"})]}),n.jsxs(ue,{children:[n.jsx("div",{className:"text-2xl font-bold text-green-900",children:_e(e.reduce((F,M)=>F+M.parts.reduce((R,B)=>R+B.total,0)+M.labor.reduce((R,B)=>R+B.total,0),0))}),n.jsxs("p",{className:"text-xs text-green-600 flex items-center mt-1",children:[n.jsx(_t,{className:"h-3 w-3 mr-1"}),"Service revenue"]})]})]})]}),n.jsxs("div",{className:"flex gap-4",children:[n.jsxs("div",{className:"ri-search-bar",children:[n.jsx(es,{className:"ri-search-icon"}),n.jsx(Pe,{placeholder:"Search service tickets...",value:o,onChange:F=>l(F.target.value),className:"ri-search-input shadow-sm"})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsxs(Ve,{value:c,onValueChange:d,children:[n.jsx(ze,{className:"w-40",children:n.jsx(qe,{placeholder:"Status"})}),n.jsxs(Ue,{children:[n.jsx(K,{value:"all",children:"All Status"}),n.jsx(K,{value:lr.OPEN,children:"Open"}),n.jsx(K,{value:lr.IN_PROGRESS,children:"In Progress"}),n.jsx(K,{value:lr.WAITING_PARTS,children:"Waiting Parts"}),n.jsx(K,{value:lr.COMPLETED,children:"Completed"}),n.jsx(K,{value:lr.CANCELLED,children:"Cancelled"})]})]}),n.jsxs(Ve,{value:h,onValueChange:u,children:[n.jsx(ze,{className:"w-40",children:n.jsx(qe,{placeholder:"Priority"})}),n.jsxs(Ue,{children:[n.jsx(K,{value:"all",children:"All Priorities"}),n.jsx(K,{value:rn.LOW,children:"Low"}),n.jsx(K,{value:rn.MEDIUM,children:"Medium"}),n.jsx(K,{value:rn.HIGH,children:"High"}),n.jsx(K,{value:rn.URGENT,children:"Urgent"})]})]}),n.jsxs(J,{variant:"outline",className:"shadow-sm",children:[n.jsx(Na,{className:"h-4 w-4 mr-2"}),"More Filters"]})]})]}),n.jsxs(de,{className:"shadow-sm",children:[n.jsxs(ye,{children:[n.jsx(be,{className:"text-xl",children:"Service Tickets"}),n.jsx($e,{children:"Manage service requests and maintenance schedules"})]}),n.jsx(ue,{children:n.jsxs("div",{className:"space-y-4",children:[w.map(F=>{var M;return n.jsxs("div",{className:"ri-table-row",children:[n.jsx("div",{className:"flex items-center space-x-4 flex-1",children:n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[n.jsx("h3",{className:"font-semibold text-foreground",children:F.title}),n.jsx(Re,{className:He("ri-badge-status",N(F.priority)),children:F.priority.toUpperCase()}),n.jsx(Re,{className:He("ri-badge-status",S(F.status)),children:F.status.replace("_"," ").toUpperCase()})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm text-muted-foreground",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx(us,{className:"h-3 w-3 mr-2 text-blue-500"}),n.jsx("span",{className:"font-medium",children:"Customer:"}),n.jsx("span",{className:"ml-1",children:F.customerId})]}),n.jsxs("div",{className:"flex items-center",children:[n.jsx(us,{className:"h-3 w-3 mr-2 text-green-500"}),n.jsx("span",{className:"font-medium",children:"Assigned:"}),n.jsx("span",{className:"ml-1",children:F.assignedTo||"Unassigned"})]}),n.jsxs("div",{className:"flex items-center",children:[n.jsx(Lr,{className:"h-3 w-3 mr-2 text-purple-500"}),n.jsx("span",{className:"font-medium",children:"Scheduled:"}),n.jsx("span",{className:"ml-1",children:F.scheduledDate?ct(F.scheduledDate):"Not scheduled"})]}),n.jsxs("div",{className:"flex items-center",children:[n.jsx(sr,{className:"h-3 w-3 mr-2 text-orange-500"}),n.jsx("span",{className:"font-medium",children:"Created:"}),n.jsx("span",{className:"ml-1",children:ct(F.createdAt)})]})]}),n.jsxs("div",{className:"mt-2 bg-muted/30 p-2 rounded-md",children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:F.description}),F.notes&&n.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:[n.jsx("span",{className:"font-medium",children:"Notes:"})," ",F.notes]})]}),n.jsxs("div",{className:"flex items-center space-x-4 mt-3 text-sm",children:[n.jsxs("span",{className:"bg-blue-50 text-blue-700 px-2 py-1 rounded-md",children:[n.jsx("span",{className:"font-medium",children:"Parts:"})," ",_e(F.parts.reduce((R,B)=>R+B.total,0))]}),n.jsxs("span",{className:"bg-green-50 text-green-700 px-2 py-1 rounded-md",children:[n.jsx("span",{className:"font-medium",children:"Labor:"})," ",_e(F.labor.reduce((R,B)=>R+B.total,0))]}),n.jsxs("span",{className:"bg-purple-50 text-purple-700 px-2 py-1 rounded-md font-semibold",children:[n.jsx("span",{className:"font-medium",children:"Total:"})," ",_e(F.parts.reduce((R,B)=>R+B.total,0)+F.labor.reduce((R,B)=>R+B.total,0))]})]})]})}),n.jsxs("div",{className:"ri-action-buttons",children:[n.jsx(J,{variant:"outline",size:"sm",className:"shadow-sm",onClick:()=>T(F),children:"View"}),n.jsx(J,{variant:"outline",size:"sm",className:"shadow-sm",onClick:()=>k(F),children:"Edit"}),((M=F.customFields)==null?void 0:M.customerPortalAccess)!==!1&&n.jsx(J,{variant:"outline",size:"sm",className:"shadow-sm",onClick:()=>A(F),children:"Customer View"})]})]},F.id)}),w.length===0&&n.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[n.jsx(Hd,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground/50"}),n.jsx("p",{children:"No service tickets found"}),n.jsx("p",{className:"text-sm",children:"Try adjusting your search or filters"})]})]})})]})]})}function hce(){return n.jsx(Ps,{children:n.jsx(Ft,{path:"/*",element:n.jsx(uce,{})})})}function cB(){const[e,t]=C.useState([]),[r,s]=C.useState(!1);C.useEffect(()=>{a()},[]);const a=()=>{const p=mn("renter-insight-deliveries",[{id:"1",customerId:"cust-1",vehicleId:"veh-1",status:zt.SCHEDULED,scheduledDate:new Date("2024-01-25"),address:{street:"123 Main St",city:"Springfield",state:"IL",zipCode:"62701",country:"USA"},driver:"Driver-001",notes:"Customer prefers morning delivery",customFields:{contactPhone:"(555) 123-4567",contactEmail:"customer@example.com",sendSMSUpdates:!0,sendEmailUpdates:!0,estimatedArrival:"10:00"},createdAt:new Date("2024-01-15"),updatedAt:new Date("2024-01-18")},{id:"2",customerId:"cust-2",vehicleId:"veh-2",status:zt.IN_TRANSIT,scheduledDate:new Date("2024-01-20"),deliveredDate:void 0,address:{street:"456 Oak Ave",city:"Chicago",state:"IL",zipCode:"60601",country:"USA"},driver:"Driver-002",notes:"Call customer 30 minutes before arrival",customFields:{contactPhone:"(555) 987-6543",contactEmail:"customer2@example.com",sendSMSUpdates:!0,sendEmailUpdates:!0,estimatedArrival:"14:30",departureTime:"2024-01-20T08:00:00",departureNotes:"Left dealership on schedule",customerNotified:"2024-01-20T08:15:00",notificationMethod:"SMS",etaUpdated:"2024-01-20T10:30:00"},createdAt:new Date("2024-01-12"),updatedAt:new Date("2024-01-20")}]);t(p)},i=p=>{Gr("renter-insight-deliveries",p)};return{deliveries:e,loading:r,getDeliveriesByCustomerId:p=>e.filter(g=>g.customerId===p),getDeliveriesByVehicleId:p=>e.filter(g=>g.vehicleId===p),getDeliveryById:p=>e.find(g=>g.id===p),createDelivery:async p=>{s(!0);try{const g={id:Math.random().toString(36).substr(2,9),customerId:p.customerId||"",vehicleId:p.vehicleId||"",status:p.status||zt.SCHEDULED,scheduledDate:p.scheduledDate||new Date,deliveredDate:p.deliveredDate,address:p.address||{street:"",city:"",state:"",zipCode:"",country:"USA"},driver:p.driver||"",notes:p.notes||"",customFields:p.customFields||{},createdAt:new Date,updatedAt:new Date},b=[...e,g];return t(b),i(b),g}finally{s(!1)}},updateDelivery:async(p,g)=>{const b=e.map(y=>y.id===p?{...y,...g,updatedAt:new Date}:y);t(b),i(b)},deleteDelivery:async p=>{const g=e.filter(b=>b.id!==p);t(g),i(g)},updateDeliveryStatus:async(p,g)=>{const b=e.map(y=>y.id===p?{...y,status:g,deliveredDate:g===zt.DELIVERED?new Date:y.deliveredDate,updatedAt:new Date}:y);t(b),i(b)},sendNotification:async(p,g,b)=>{if(!e.find(E=>E.id===p))return;const j=e.map(E=>E.id===p?{...E,customFields:{...E.customFields,customerNotified:new Date().toISOString(),notificationMethod:g==="sms"?"SMS":"Email",lastNotificationMessage:b},updatedAt:new Date}:E);return t(j),i(j),await new Promise(E=>setTimeout(E,1e3)),!0},updateETA:async(p,g)=>{if(!e.find(j=>j.id===p))return;const y=e.map(j=>j.id===p?{...j,customFields:{...j.customFields,estimatedArrival:g,etaUpdated:new Date().toISOString()},updatedAt:new Date}:j);t(y),i(y)},addDeliveryPhotos:async(p,g,b)=>{if(!e.find(S=>S.id===p))return;const j=g.map((S,N)=>({url:S,caption:b[N]||""})),E=e.map(S=>{var N,w;return S.id===p?{...S,customFields:{...S.customFields,deliveryPhotos:[...((N=S.customFields)==null?void 0:N.deliveryPhotos)||[],...g],photoDetails:[...((w=S.customFields)==null?void 0:w.photoDetails)||[],...j]},updatedAt:new Date}:S});t(E),i(E)}}}function dB({delivery:e,vehicles:t,customers:r,onSave:s,onCancel:a}){var b,y,j,E,S,N,w,_,k,T,A,O,D;const{toast:i}=At(),[o,l]=C.useState(!1),[c,d]=C.useState(!1),[h,u]=C.useState({customerId:"",vehicleId:"",status:zt.SCHEDULED,scheduledDate:new Date,address:{street:"",city:"",state:"",zipCode:"",country:"USA"},driver:"",notes:"",customFields:{contactPhone:"",contactEmail:"",sendSMSUpdates:!0,sendEmailUpdates:!0,estimatedArrival:"",departureTime:"",departureNotes:"",deliveryNotes:"",deliveryPhotos:[]}});C.useEffect(()=>{var F,M,R,B,U,H,q,L,V;e&&u({...e,customFields:{...e.customFields,contactPhone:((F=e.customFields)==null?void 0:F.contactPhone)||"",contactEmail:((M=e.customFields)==null?void 0:M.contactEmail)||"",sendSMSUpdates:((R=e.customFields)==null?void 0:R.sendSMSUpdates)!==!1,sendEmailUpdates:((B=e.customFields)==null?void 0:B.sendEmailUpdates)!==!1,estimatedArrival:((U=e.customFields)==null?void 0:U.estimatedArrival)||"",departureTime:((H=e.customFields)==null?void 0:H.departureTime)||"",departureNotes:((q=e.customFields)==null?void 0:q.departureNotes)||"",deliveryNotes:((L=e.customFields)==null?void 0:L.deliveryNotes)||"",deliveryPhotos:((V=e.customFields)==null?void 0:V.deliveryPhotos)||[]}})},[e]);const{getRootProps:f,getInputProps:m}=Rg({accept:{"image/*":[]},onDrop:F=>{const M=F.map(R=>URL.createObjectURL(R));u(R=>{var B;return{...R,customFields:{...R.customFields,deliveryPhotos:[...((B=R.customFields)==null?void 0:B.deliveryPhotos)||[],...M]}}}),i({title:"Photos Added",description:`Added ${F.length} delivery photos`})}}),v=F=>{F==="__add_new_customer__"?d(!0):u(M=>({...M,customerId:F}))},x=F=>{u(M=>({...M,customerId:F.id})),d(!1),i({title:"Customer Added",description:`${F.firstName} ${F.lastName} has been added as a customer.`})},p=async F=>{var M,R,B,U;if(F.preventDefault(),!h.customerId||!h.vehicleId||!h.scheduledDate){i({title:"Validation Error",description:"Please fill in all required fields",variant:"destructive"});return}if(!((M=h.address)!=null&&M.street)||!((R=h.address)!=null&&R.city)||!((B=h.address)!=null&&B.state)||!((U=h.address)!=null&&U.zipCode)){i({title:"Validation Error",description:"Please provide a complete delivery address",variant:"destructive"});return}l(!0);try{await s(h),i({title:"Success",description:`Delivery ${e?"updated":"scheduled"} successfully`})}catch{i({title:"Error",description:`Failed to ${e?"update":"schedule"} delivery`,variant:"destructive"})}finally{l(!1)}},g=F=>{u(M=>{var R,B;return{...M,customFields:{...M.customFields,deliveryPhotos:((B=(R=M.customFields)==null?void 0:R.deliveryPhotos)==null?void 0:B.filter(U=>U!==F))||[]}}})};return n.jsxs("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:[c&&n.jsx(Du,{onClose:()=>d(!1),onSuccess:x}),n.jsxs(de,{className:"w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[n.jsx(ye,{children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx(be,{children:e?"Edit Delivery":"Schedule Delivery"}),n.jsx($e,{children:e?"Update delivery details":"Schedule a new delivery"})]}),n.jsx(J,{variant:"ghost",size:"sm",onClick:a,children:n.jsx(Ut,{className:"h-4 w-4"})})]})}),n.jsx(ue,{children:n.jsxs("form",{onSubmit:p,className:"space-y-6",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-lg font-semibold",children:"Delivery Information"}),n.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"customerId",children:"Customer *"}),n.jsxs(Ve,{value:h.customerId,onValueChange:v,children:[n.jsx(ze,{children:n.jsx(qe,{placeholder:"Select customer"})}),n.jsxs(Ue,{className:"z-50",children:[n.jsx("div",{className:"px-2 py-1.5",children:n.jsxs(J,{variant:"outline",size:"sm",className:"w-full justify-start",onClick:()=>v("__add_new_customer__"),children:[n.jsx(Nt,{className:"h-3.5 w-3.5 mr-2"}),"Add New Customer"]})}),n.jsx("div",{className:"px-2 py-1 border-t"}),r.map(F=>n.jsx(K,{value:F.id,children:n.jsxs("div",{className:"flex flex-col",children:[n.jsxs("span",{children:[F.firstName," ",F.lastName]}),n.jsx("span",{className:"text-xs text-muted-foreground",children:F.phone})]})},F.id)),r.length===0&&n.jsx("div",{className:"px-2 py-4 text-center text-sm text-muted-foreground",children:"No customers found"})]})]})]}),n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"vehicleId",children:"Vehicle *"}),n.jsxs(Ve,{value:h.vehicleId,onValueChange:F=>u(M=>({...M,vehicleId:F})),children:[n.jsx(ze,{children:n.jsx(qe,{placeholder:"Select vehicle"})}),n.jsx(Ue,{className:"z-50",children:t.map(F=>n.jsxs(K,{value:F.id,children:[F.year," ",F.make," ",F.model]},F.id))})]})]})]}),n.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"scheduledDate",children:"Scheduled Date *"}),n.jsx(Pe,{id:"scheduledDate",type:"date",value:h.scheduledDate?new Date(h.scheduledDate).toISOString().split("T")[0]:"",onChange:F=>u(M=>({...M,scheduledDate:F.target.value?new Date(F.target.value):new Date}))})]}),n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"estimatedArrival",children:"Estimated Arrival Time"}),n.jsx(Pe,{id:"estimatedArrival",type:"time",value:((b=h.customFields)==null?void 0:b.estimatedArrival)||"",onChange:F=>u(M=>({...M,customFields:{...M.customFields,estimatedArrival:F.target.value}}))})]})]}),n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"status",children:"Status"}),n.jsxs(Ve,{value:h.status,onValueChange:F=>u(M=>({...M,status:F})),children:[n.jsx(ze,{children:n.jsx(qe,{})}),n.jsxs(Ue,{className:"z-50",children:[n.jsx(K,{value:zt.SCHEDULED,children:"Scheduled"}),n.jsx(K,{value:zt.IN_TRANSIT,children:"In Transit"}),n.jsx(K,{value:zt.DELIVERED,children:"Delivered"}),n.jsx(K,{value:zt.CANCELLED,children:"Cancelled"})]})]})]}),n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"driver",children:"Driver"}),n.jsx(Pe,{id:"driver",value:h.driver||"",onChange:F=>u(M=>({...M,driver:F.target.value})),placeholder:"Driver name"})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-lg font-semibold",children:"Delivery Address"}),n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"street",children:"Street Address *"}),n.jsx(Pe,{id:"street",value:((y=h.address)==null?void 0:y.street)||"",onChange:F=>u(M=>({...M,address:{...M.address,street:F.target.value}})),placeholder:"123 Main St"})]}),n.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"city",children:"City *"}),n.jsx(Pe,{id:"city",value:((j=h.address)==null?void 0:j.city)||"",onChange:F=>u(M=>({...M,address:{...M.address,city:F.target.value}})),placeholder:"City"})]}),n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"state",children:"State *"}),n.jsx(Pe,{id:"state",value:((E=h.address)==null?void 0:E.state)||"",onChange:F=>u(M=>({...M,address:{...M.address,state:F.target.value}})),placeholder:"State"})]}),n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"zipCode",children:"Zip Code *"}),n.jsx(Pe,{id:"zipCode",value:((S=h.address)==null?void 0:S.zipCode)||"",onChange:F=>u(M=>({...M,address:{...M.address,zipCode:F.target.value}})),placeholder:"Zip Code"})]})]}),n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"country",children:"Country"}),n.jsx(Pe,{id:"country",value:((N=h.address)==null?void 0:N.country)||"USA",onChange:F=>u(M=>({...M,address:{...M.address,country:F.target.value}})),placeholder:"Country"})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-lg font-semibold",children:"Contact Information"}),n.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"contactPhone",children:"Contact Phone"}),n.jsx(Pe,{id:"contactPhone",value:((w=h.customFields)==null?void 0:w.contactPhone)||"",onChange:F=>u(M=>({...M,customFields:{...M.customFields,contactPhone:F.target.value}})),placeholder:"(555) 123-4567"})]}),n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"contactEmail",children:"Contact Email"}),n.jsx(Pe,{id:"contactEmail",type:"email",value:((_=h.customFields)==null?void 0:_.contactEmail)||"",onChange:F=>u(M=>({...M,customFields:{...M.customFields,contactEmail:F.target.value}})),placeholder:"customer@example.com"})]})]}),n.jsxs("div",{className:"flex flex-col space-y-2",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Vt,{id:"sendSMSUpdates",checked:((k=h.customFields)==null?void 0:k.sendSMSUpdates)!==!1,onCheckedChange:F=>u(M=>({...M,customFields:{...M.customFields,sendSMSUpdates:!!F}}))}),n.jsx(ae,{htmlFor:"sendSMSUpdates",children:"Send SMS updates"})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Vt,{id:"sendEmailUpdates",checked:((T=h.customFields)==null?void 0:T.sendEmailUpdates)!==!1,onCheckedChange:F=>u(M=>({...M,customFields:{...M.customFields,sendEmailUpdates:!!F}}))}),n.jsx(ae,{htmlFor:"sendEmailUpdates",children:"Send email updates"})]})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-lg font-semibold",children:"Delivery Details"}),(h.status===zt.IN_TRANSIT||h.status===zt.DELIVERED)&&n.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"departureTime",children:"Departure Time"}),n.jsx(Pe,{id:"departureTime",type:"datetime-local",value:((A=h.customFields)==null?void 0:A.departureTime)||"",onChange:F=>u(M=>({...M,customFields:{...M.customFields,departureTime:F.target.value}}))})]}),n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"departureNotes",children:"Departure Notes"}),n.jsx(Pe,{id:"departureNotes",value:((O=h.customFields)==null?void 0:O.departureNotes)||"",onChange:F=>u(M=>({...M,customFields:{...M.customFields,departureNotes:F.target.value}})),placeholder:"Notes about departure"})]})]}),h.status===zt.DELIVERED&&n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"deliveredDate",children:"Delivery Date"}),n.jsx(Pe,{id:"deliveredDate",type:"datetime-local",value:h.deliveredDate?new Date(h.deliveredDate).toISOString().slice(0,16):"",onChange:F=>u(M=>({...M,deliveredDate:F.target.value?new Date(F.target.value):void 0}))})]}),n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"notes",children:"Delivery Notes"}),n.jsx(tr,{id:"notes",value:h.notes||"",onChange:F=>u(M=>({...M,notes:F.target.value})),placeholder:"Add any notes about this delivery",rows:3})]})]}),(h.status===zt.DELIVERED||h.status===zt.IN_TRANSIT)&&n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-lg font-semibold",children:"Delivery Photos"}),n.jsxs("div",{...f(),className:"border-2 border-dashed rounded-lg p-6 text-center cursor-pointer hover:bg-muted/10",children:[n.jsx("input",{...m()}),n.jsxs("div",{className:"flex flex-col items-center",children:[n.jsx(Camera,{className:"h-8 w-8 mb-2 text-muted-foreground"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Drag & drop photos here, or click to select files"}),n.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Upload photos for delivery verification"})]})]}),((D=h.customFields)==null?void 0:D.deliveryPhotos)&&h.customFields.deliveryPhotos.length>0&&n.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mt-4",children:h.customFields.deliveryPhotos.map((F,M)=>n.jsxs("div",{className:"relative group",children:[n.jsx("img",{src:F,alt:`Delivery photo ${M+1}`,className:"h-24 w-full object-cover rounded-md"}),n.jsx(J,{type:"button",variant:"destructive",size:"sm",className:"absolute top-1 right-1 opacity-0 group-hover:opacity-100 transition-opacity",onClick:()=>g(F),children:n.jsx(Ut,{className:"h-3 w-3"})})]},M))})]}),n.jsxs("div",{className:"flex justify-end space-x-3 pt-6 border-t",children:[n.jsx(J,{type:"button",variant:"outline",onClick:a,disabled:o,children:"Cancel"}),n.jsx(J,{type:"submit",disabled:o,children:o?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),e?"Updating...":"Scheduling..."]}):n.jsxs(n.Fragment,{children:[n.jsx(Rr,{className:"h-4 w-4 mr-2"}),e?"Update":"Schedule"," Delivery"]})})]})]})})]})]})}function fce({delivery:e,onAddMilestone:t}){const s=(()=>{try{const a=[],i=e.customFields||{},o=c=>c?new Date(c):new Date;return a.push({id:"scheduled",title:"Delivery Scheduled",description:`Scheduled for ${ct(e.scheduledDate)}`,date:o(e.createdAt),icon:Lr}),[zt.IN_TRANSIT,zt.DELIVERED].includes(e.status)&&(a.push({id:"preparation",title:"Preparation Complete",description:"Vehicle prepared and ready for delivery",date:new Date(new Date(e.scheduledDate).getTime()-864e5),icon:Xr}),a.push({id:"in_transit",title:"In Transit",description:i.departureNotes||"Vehicle has left the dealership",date:o(i.departureTime),icon:ma})),i.etaUpdated&&i.estimatedArrival&&a.push({id:"eta_update",title:"ETA Updated",description:`New estimated arrival: ${i.estimatedArrival}`,date:o(i.etaUpdated),icon:sr}),i.customerNotified&&a.push({id:"customer_notified",title:"Customer Notified",description:`${i.notificationMethod||"SMS"} notification sent to customer`,date:o(i.customerNotified),icon:ln}),e.status===zt.DELIVERED&&(a.push({id:"arrived",title:"Arrived at Destination",description:"Vehicle arrived at delivery location",date:o(e.deliveredDate),icon:Ll}),a.push({id:"delivered",title:"Delivery Confirmed",description:i.deliveryNotes||"Delivery completed successfully",date:o(e.deliveredDate),icon:Xr}),Array.isArray(i.deliveryPhotos)&&i.deliveryPhotos.length>0&&a.push({id:"photos",title:"Delivery Photos",description:`${i.deliveryPhotos.length} photo(s) captured`,date:o(e.deliveredDate),icon:bl})),Array.from(new Map(a.map(c=>[c.id,c])).values()).sort((c,d)=>c.date.getTime()-d.date.getTime())}catch(a){return console.error("Failed to generate milestones:",a),[]}})();return n.jsxs(de,{className:"shadow-sm",children:[n.jsxs(ye,{children:[n.jsxs(be,{className:"flex items-center",children:[n.jsx(ma,{className:"h-5 w-5 mr-2 text-primary"}),"Delivery Timeline"]}),n.jsx($e,{children:"Track the progress of this delivery"})]}),n.jsx(ue,{children:n.jsxs("div",{className:"relative pl-8 space-y-8",children:[n.jsx("div",{className:"absolute left-3 top-0 bottom-0 w-px bg-border"}),s.map((a,i)=>{var l;const o=a.icon;return n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:He("absolute left-[-21px] w-6 h-6 rounded-full flex items-center justify-center","bg-primary text-primary-foreground"),children:n.jsx(o,{className:"h-3 w-3"})}),n.jsxs("div",{className:"mb-1 flex items-center",children:[n.jsx("h3",{className:"text-base font-semibold",children:a.title}),n.jsx(Re,{className:"ml-2 text-xs",variant:"outline",children:ct(a.date)})]}),n.jsx("p",{className:"text-sm text-muted-foreground",children:a.description}),a.id==="photos"&&((l=e.customFields)==null?void 0:l.deliveryPhotos)&&n.jsx("div",{className:"grid grid-cols-3 gap-2 mt-2",children:e.customFields.deliveryPhotos.map((c,d)=>n.jsx("img",{src:c,alt:`Delivery photo ${d+1}`,className:"h-20 w-full object-cover rounded-md"},d))})]},a.id)})]})})]})}function mce({delivery:e,vehicle:t,onClose:r,onEdit:s,onSendNotification:a}){var m,v,x,p,g,b,y,j,E;const{toast:i}=At(),[o,l]=C.useState("details"),[c,d]=C.useState(!1),h=S=>{switch(S){case zt.SCHEDULED:return"bg-blue-50 text-blue-700 border-blue-200";case zt.IN_TRANSIT:return"bg-yellow-50 text-yellow-700 border-yellow-200";case zt.DELIVERED:return"bg-green-50 text-green-700 border-green-200";case zt.CANCELLED:return"bg-red-50 text-red-700 border-red-200";default:return"bg-gray-50 text-gray-700 border-gray-200"}},u=async S=>{if(a){d(!0);try{await a(e.id,S),i({title:"Notification Sent",description:`${S==="sms"?"SMS":"Email"} notification sent successfully`})}catch{i({title:"Error",description:`Failed to send ${S==="sms"?"SMS":"email"} notification`,variant:"destructive"})}finally{d(!1)}}},f=()=>{var S,N;try{const w=new Tt;if(w.setFontSize(20),w.text("Delivery Information Sheet",105,15,{align:"center"}),w.setFontSize(12),w.text(`Delivery #: ${e.id}`,20,30),w.text(`Status: ${e.status.replace("_"," ")}`,20,40),w.text(`Scheduled Date: ${ct(e.scheduledDate)}`,20,50),w.setFontSize(16),w.text("Vehicle Information",20,65),w.setFontSize(12),t?(w.text(`Vehicle: ${t.year} ${t.make} ${t.model}`,20,75),w.text(`VIN: ${t.vin}`,20,85)):w.text(`Vehicle ID: ${e.vehicleId}`,20,75),w.setFontSize(16),w.text("Delivery Address",20,105),w.setFontSize(12),w.text(`${e.address.street}`,20,115),w.text(`${e.address.city}, ${e.address.state} ${e.address.zipCode}`,20,125),w.text(`${e.address.country}`,20,135),w.setFontSize(16),w.text("Contact Information",20,155),w.setFontSize(12),w.text(`Customer ID: ${e.customerId}`,20,165),(S=e.customFields)!=null&&S.contactPhone&&w.text(`Phone: ${e.customFields.contactPhone}`,20,175),(N=e.customFields)!=null&&N.contactEmail&&w.text(`Email: ${e.customFields.contactEmail}`,20,185),e.notes){w.setFontSize(16),w.text("Delivery Notes",20,205),w.setFontSize(12);const _=w.splitTextToSize(e.notes,170);w.text(_,20,215)}w.setFontSize(16),w.text("Signatures",20,245),w.setFontSize(12),w.text("Driver: _______________________________",20,255),w.text("Customer: _____________________________",20,270),w.save(`delivery-${e.id}.pdf`),i({title:"PDF Generated",description:"Delivery information sheet has been downloaded"})}catch(w){console.error("Error generating PDF:",w),i({title:"Error",description:"Failed to generate PDF",variant:"destructive"})}};return n.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:n.jsxs(de,{className:"w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[n.jsx(ye,{children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx(be,{className:"text-xl",children:"Delivery Details"}),n.jsxs($e,{children:["Delivery #",e.id]})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsxs(J,{onClick:()=>s(e),size:"sm",children:[n.jsx(zr,{className:"h-4 w-4 mr-2"}),"Edit Delivery"]}),n.jsx(J,{variant:"ghost",size:"sm",onClick:r,children:n.jsx(Ut,{className:"h-4 w-4"})})]})]})}),n.jsxs(ue,{children:[n.jsxs(xr,{value:o,onValueChange:l,className:"space-y-4",children:[n.jsxs(fr,{className:"grid w-full grid-cols-3",children:[n.jsx(Qe,{value:"details",children:"Details"}),n.jsx(Qe,{value:"timeline",children:"Timeline"}),n.jsx(Qe,{value:"photos",children:"Photos"})]}),n.jsxs(et,{value:"details",className:"space-y-6",children:[n.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[n.jsx(Re,{className:He("ri-badge-status",h(e.status)),children:e.status.replace("_"," ").toUpperCase()}),e.driver&&n.jsxs(Re,{variant:"outline",children:["Driver: ",e.driver]})]}),n.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Customer"}),n.jsx("p",{className:"font-medium",children:e.customerId})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Vehicle"}),n.jsx("p",{className:"font-medium",children:t?`${t.year} ${t.make} ${t.model}`:e.vehicleId})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Scheduled Date"}),n.jsx("p",{className:"font-medium",children:ct(e.scheduledDate)})]}),e.deliveredDate&&n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Delivered Date"}),n.jsx("p",{className:"font-medium",children:ct(e.deliveredDate)})]}),((m=e.customFields)==null?void 0:m.estimatedArrival)&&n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Estimated Arrival"}),n.jsx("p",{className:"font-medium",children:e.customFields.estimatedArrival})]}),((v=e.customFields)==null?void 0:v.departureTime)&&n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Departure Time"}),n.jsx("p",{className:"font-medium",children:new Date(e.customFields.departureTime).toLocaleString()})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Delivery Address"}),n.jsxs("div",{className:"mt-1 p-3 bg-muted/30 rounded-md",children:[n.jsx("p",{children:e.address.street}),n.jsxs("p",{children:[e.address.city,", ",e.address.state," ",e.address.zipCode]}),n.jsx("p",{children:e.address.country})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Contact Information"}),n.jsxs("div",{className:"mt-1 grid gap-2 md:grid-cols-2",children:[((x=e.customFields)==null?void 0:x.contactPhone)&&n.jsxs("div",{className:"flex items-center space-x-2 p-2 bg-muted/30 rounded-md",children:[n.jsx(am,{className:"h-4 w-4 text-muted-foreground"}),n.jsx("span",{children:e.customFields.contactPhone})]}),((p=e.customFields)==null?void 0:p.contactEmail)&&n.jsxs("div",{className:"flex items-center space-x-2 p-2 bg-muted/30 rounded-md",children:[n.jsx(Qr,{className:"h-4 w-4 text-muted-foreground"}),n.jsx("span",{children:e.customFields.contactEmail})]})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Notification Preferences"}),n.jsxs("div",{className:"mt-1 grid gap-2 md:grid-cols-2",children:[n.jsxs("div",{className:"flex items-center space-x-2 p-2 bg-muted/30 rounded-md",children:[n.jsx(ln,{className:"h-4 w-4 text-muted-foreground"}),n.jsxs("span",{children:["SMS Updates: ",((g=e.customFields)==null?void 0:g.sendSMSUpdates)!==!1?"Enabled":"Disabled"]})]}),n.jsxs("div",{className:"flex items-center space-x-2 p-2 bg-muted/30 rounded-md",children:[n.jsx(Qr,{className:"h-4 w-4 text-muted-foreground"}),n.jsxs("span",{children:["Email Updates: ",((b=e.customFields)==null?void 0:b.sendEmailUpdates)!==!1?"Enabled":"Disabled"]})]})]})]}),e.notes&&n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Notes"}),n.jsx("div",{className:"mt-1 p-3 bg-muted/30 rounded-md",children:n.jsx("p",{className:"whitespace-pre-wrap",children:e.notes})})]}),(e.status===zt.SCHEDULED||e.status===zt.IN_TRANSIT)&&n.jsxs("div",{className:"flex flex-wrap gap-2",children:[n.jsxs(J,{variant:"outline",size:"sm",onClick:()=>u("sms"),disabled:c||!((y=e.customFields)!=null&&y.contactPhone),children:[n.jsx(ln,{className:"h-4 w-4 mr-2"}),"Send SMS Update"]}),n.jsxs(J,{variant:"outline",size:"sm",onClick:()=>u("email"),disabled:c||!((j=e.customFields)!=null&&j.contactEmail),children:[n.jsx(Qr,{className:"h-4 w-4 mr-2"}),"Send Email Update"]}),n.jsxs(J,{variant:"outline",size:"sm",onClick:f,children:[n.jsx(Pu,{className:"h-4 w-4 mr-2"}),"Print Delivery Sheet"]})]})]}),n.jsx(et,{value:"timeline",children:n.jsx(fce,{delivery:e})}),n.jsxs(et,{value:"photos",className:"space-y-4",children:[n.jsx("h3",{className:"text-lg font-semibold",children:"Delivery Photos"}),(E=e.customFields)!=null&&E.deliveryPhotos&&e.customFields.deliveryPhotos.length>0?n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:e.customFields.deliveryPhotos.map((S,N)=>n.jsx("div",{className:"overflow-hidden rounded-md",children:n.jsx("img",{src:S,alt:`Delivery photo ${N+1}`,className:"w-full h-auto object-cover"})},N))}):n.jsxs("div",{className:"text-center py-12 text-muted-foreground border-2 border-dashed rounded-lg",children:[n.jsx(bl,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground/50"}),n.jsx("p",{children:"No delivery photos available"}),e.status!==zt.DELIVERED&&n.jsx("p",{className:"text-sm",children:"Photos will be added during delivery"})]})]})]}),n.jsxs("div",{className:"flex justify-end space-x-3 pt-6 border-t mt-6",children:[n.jsx(J,{variant:"outline",onClick:r,children:"Close"}),n.jsxs(J,{onClick:()=>s(e),children:[n.jsx(zr,{className:"h-4 w-4 mr-2"}),"Edit Delivery"]})]})]})]})})}function pce({delivery:e,onSend:t,onCancel:r}){var j,E,S;const{toast:s}=At(),[a,i]=C.useState(!1),[o,l]=C.useState("sms"),[c,d]=C.useState(""),[h,u]=C.useState(""),[f,m]=C.useState(""),v=((j=e.customer)==null?void 0:j.name)||"Customer",x=e.vehicle?`${e.vehicle.year||""} ${e.vehicle.make||""} ${e.vehicle.model||""}`.trim():"your Home/RV",p=!!((E=e.customer)!=null&&E.phone),g=!!((S=e.customer)!=null&&S.email),b=()=>{try{const N=h||new Date(e.scheduledDate).toLocaleDateString(),w=c||"the scheduled time";return o==="sms"?`Hi ${v}, your delivery of ${x} is scheduled for ${N} at ${w}. Reply HELP for assistance or STOP to opt out.`:`Dear ${v},

We're writing to confirm the delivery of ${x} scheduled for ${N} at ${w}.

If you have any questions or need to reschedule, please contact our delivery team.

Thank you,
The Delivery Team`}catch(N){return console.error("Failed to generate default message:",N),""}};C.useEffect(()=>{try{const N=b();m(N)}catch(N){console.error("Message generation error:",N)}},[o,c,h]);const y=async N=>{if(N.preventDefault(),!f.trim()){s({title:"Validation Error",description:"Please enter a message",variant:"destructive"});return}if(!h||!c){s({title:"Missing ETA",description:"Please select both a date and time for estimated arrival.",variant:"destructive"});return}if(o==="sms"&&!p){s({title:"Missing Phone Number",description:"Customer does not have a valid phone number for SMS.",variant:"destructive"});return}if(o==="email"&&!g){s({title:"Missing Email Address",description:"Customer does not have a valid email address.",variant:"destructive"});return}i(!0);try{await t(e.id,{type:o,estimatedArrival:`${h}T${c}`,message:f,updateDelivery:!0}),s({title:"Notification Sent",description:`${o.toUpperCase()} sent successfully.`}),r()}catch(w){console.error("Notification send failed:",w),s({title:"Error",description:`Failed to send ${o==="sms"?"SMS":"Email"} notification`,variant:"destructive"})}finally{i(!1)}};return n.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:n.jsxs(de,{className:"w-full max-w-md",children:[n.jsx(ye,{children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx(be,{children:"Send ETA Notification"}),n.jsx($e,{children:"Notify the customer about delivery status"})]}),n.jsx(J,{variant:"ghost",size:"sm",onClick:r,children:n.jsx(Ut,{className:"h-4 w-4"})})]})}),n.jsxs(ue,{children:[n.jsxs("div",{className:"text-sm mb-4 text-muted-foreground",children:["Delivering to: ",n.jsx("strong",{children:v}),n.jsx("br",{}),"Home/RV: ",n.jsx("strong",{children:x}),n.jsx("br",{}),o==="sms"&&!p&&n.jsx("span",{className:"text-red-500 text-xs",children:" No valid phone number on file"}),o==="email"&&!g&&n.jsx("span",{className:"text-red-500 text-xs",children:" No valid email address on file"})]}),n.jsxs("form",{onSubmit:y,className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"notificationType",children:"Notification Type"}),n.jsxs(Ve,{value:o,onValueChange:N=>l(N),children:[n.jsx(ze,{children:n.jsx(qe,{})}),n.jsxs(Ue,{className:"z-50",children:[n.jsx(K,{value:"sms",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx(ln,{className:"h-4 w-4 mr-2"}),n.jsx("span",{children:"SMS"})]})}),n.jsx(K,{value:"email",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx(Qr,{className:"h-4 w-4 mr-2"}),n.jsx("span",{children:"Email"})]})})]})]})]}),n.jsxs("div",{className:"flex gap-4",children:[n.jsxs("div",{className:"w-1/2",children:[n.jsx(ae,{htmlFor:"arrivalDate",children:"Arrival Date"}),n.jsx(Pe,{id:"arrivalDate",type:"date",value:h,onChange:N=>u(N.target.value)})]}),n.jsxs("div",{className:"w-1/2",children:[n.jsx(ae,{htmlFor:"arrivalTime",children:"Arrival Time"}),n.jsx(Pe,{id:"arrivalTime",type:"time",value:c,onChange:N=>d(N.target.value)})]})]}),n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"message",children:"Message"}),n.jsx(tr,{id:"message",value:f,onChange:N=>m(N.target.value),rows:o==="sms"?3:6,maxLength:o==="sms"?160:void 0}),o==="sms"&&n.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground mt-1",children:[n.jsxs("span",{children:[f.length," characters"]}),n.jsxs("span",{children:[160-f.length," remaining"]})]})]}),n.jsxs("div",{className:"flex justify-end space-x-2 pt-4",children:[n.jsx(J,{type:"button",variant:"outline",onClick:r,disabled:a,children:"Cancel"}),n.jsx(J,{type:"submit",disabled:a,children:a?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Sending..."]}):n.jsxs(n.Fragment,{children:[n.jsx($o,{className:"h-4 w-4 mr-2"}),"Send Notification"]})})]})]})]})]})})}function vce({onCapture:e,onCancel:t}){const{toast:r}=At(),[s,a]=C.useState(!1),[i,o]=C.useState([]),[l,c]=C.useState([]),[d,h]=C.useState([]),[u,f]=C.useState(!1),m=C.useRef(null);C.useRef(null);const v=async j=>new Promise(E=>{const S=new Image;S.onload=()=>{const N=document.createElement("canvas"),w=N.getContext("2d"),_=800,k=_/S.width;N.width=_,N.height=S.height*k,w==null||w.drawImage(S,0,0,N.width,N.height),E(N.toDataURL("image/jpeg",.7))},S.src=j});Rg({accept:{"image/*":[]},multiple:!0,maxFiles:10,onDrop:async j=>{try{const E=j.map(N=>new Promise(w=>{const _=new FileReader;_.onload=async()=>{const k=await v(_.result);w(k)},_.readAsDataURL(N)})),S=await Promise.all(E);o(N=>[...N,...S]),c(N=>[...N,...S.map(()=>"")]),h(N=>[...N,...S.map(()=>[])]),r({title:"Upload Successful",description:`${j.length} photo(s) added.`})}catch(E){console.error("File processing error:",E),r({title:"Upload Error",description:"An error occurred while processing files.",variant:"destructive"})}},onError:j=>{r({title:"Upload Failed",description:j.message,variant:"destructive"})}});const x=()=>{var j;(j=m.current)!=null&&j.srcObject&&(m.current.srcObject.getTracks().forEach(E=>E.stop()),m.current.srcObject=null,f(!1),r({title:"Camera Stopped"}))},p=(j,E)=>{c(S=>{const N=[...S];return N[j]=E,N})},g=(j,E)=>{const S=E.split(",").map(N=>N.trim()).filter(Boolean);h(N=>{const w=[...N];return w[j]=S,w})},b=j=>{o(E=>E.filter((S,N)=>N!==j)),c(E=>E.filter((S,N)=>N!==j)),h(E=>E.filter((S,N)=>N!==j))},y=async()=>{if(!i.length){r({title:"No Photos",description:"Please add or take at least one photo.",variant:"destructive"});return}a(!0);try{await e(i,l,d),r({title:"Photos Saved",description:`${i.length} photo(s) saved.`})}catch(j){console.error("Save error:",j),r({title:"Save Failed",description:"Unable to save photos.",variant:"destructive"})}finally{a(!1),x()}};return C.useEffect(()=>()=>{x()},[]),n.jsx("div",{className:"fixed inset-0 z-50 bg-black/50 flex justify-center items-center p-4",children:n.jsxs(de,{className:"w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[n.jsxs(ye,{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx(be,{children:"Delivery Photo Capture"}),n.jsx($e,{children:"Take or upload photos and add optional captions & tags"})]}),n.jsx(J,{size:"sm",variant:"ghost",onClick:t,children:n.jsx(Ut,{className:"w-4 h-4"})})]}),n.jsxs(ue,{className:"space-y-6",children:[i.length>0&&n.jsxs("div",{className:"space-y-4",children:[n.jsxs("h3",{className:"font-semibold text-lg",children:["Photos (",i.length,")"]}),n.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:i.map((j,E)=>{var S;return n.jsxs("div",{className:"border rounded-lg p-3 space-y-2",children:[n.jsxs("div",{className:"relative",children:[n.jsx("img",{src:j,className:"w-full h-40 object-cover rounded-md",alt:`Photo ${E+1}`}),n.jsx(J,{size:"sm",variant:"destructive",className:"absolute top-2 right-2",onClick:()=>b(E),children:n.jsx(Ut,{className:"w-4 h-4"})})]}),n.jsx(ae,{htmlFor:`caption-${E}`,children:"Caption"}),n.jsx(Pe,{id:`caption-${E}`,value:l[E]||"",placeholder:"Optional caption",onChange:N=>p(E,N.target.value)}),n.jsx(ae,{htmlFor:`tags-${E}`,children:"Tags (comma-separated)"}),n.jsx(Pe,{id:`tags-${E}`,value:((S=d[E])==null?void 0:S.join(", "))||"",placeholder:"e.g. front, side, receipt",onChange:N=>g(E,N.target.value)})]},E)})})]}),n.jsxs("div",{className:"flex justify-end space-x-2 border-t pt-4",children:[n.jsx(J,{onClick:t,variant:"outline",disabled:s,children:"Cancel"}),n.jsxs(J,{onClick:y,disabled:s||i.length===0,children:[s?n.jsx("div",{className:"animate-spin h-4 w-4 border-b-2 border-white rounded-full mr-2"}):n.jsx(k1,{className:"w-4 h-4 mr-2"}),s?"Saving...":"Save Photos"]})]})]})]})})}function gce({delivery:e,className:t}){const r=C.useRef(null);return C.useEffect(()=>{if(r.current){const s=r.current;s.innerHTML="";const a=document.createElement("div");a.className="relative w-full h-full bg-muted/30 rounded-lg overflow-hidden",a.innerHTML=`
        <div class="absolute inset-0 flex items-center justify-center">
          <div class="text-center">
            <div class="text-muted-foreground mb-2">Map would display here in a real application</div>
            <div class="flex flex-col items-center">
              <div class="text-sm font-medium">Delivery Address:</div>
              <div class="text-sm">${e.address.street}</div>
              <div class="text-sm">${e.address.city}, ${e.address.state} ${e.address.zipCode}</div>
            </div>
          </div>
        </div>
        
        <!-- Simulated map markers -->
        <div class="absolute bottom-4 right-4 bg-background p-2 rounded-md shadow-sm">
          <div class="flex items-center space-x-2 text-xs">
            <div class="flex items-center">
              <div class="w-3 h-3 rounded-full bg-green-500 mr-1"></div>
              <span>Origin</span>
            </div>
            <div class="flex items-center">
              <div class="w-3 h-3 rounded-full bg-red-500 mr-1"></div>
              <span>Destination</span>
            </div>
            ${e.status==="in_transit"?`
              <div class="flex items-center">
                <div class="w-3 h-3 rounded-full bg-blue-500 mr-1"></div>
                <span>Current Location</span>
              </div>
            `:""}
          </div>
        </div>
        
        <!-- Simulated route -->
        <div class="absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2">
          <svg width="200" height="100" viewBox="0 0 200 100">
            <path d="M20,80 Q100,20 180,80" stroke="#3b82f6" stroke-width="3" fill="none" stroke-dasharray="5,5" />
            ${e.status==="in_transit"?`
              <circle cx="100" cy="50" r="5" fill="#3b82f6" />
            `:""}
            <circle cx="20" cy="80" r="5" fill="#22c55e" />
            <circle cx="180" cy="80" r="5" fill="#ef4444" />
          </svg>
        </div>
      `,s.appendChild(a)}},[e]),n.jsxs(de,{className:t,children:[n.jsxs(ye,{children:[n.jsxs(be,{className:"flex items-center",children:[n.jsx(Ll,{className:"h-5 w-5 mr-2 text-primary"}),"Delivery Map"]}),n.jsx($e,{children:"Track delivery location and route"})]}),n.jsx(ue,{children:n.jsx("div",{ref:r,className:"h-64 w-full",children:n.jsx("div",{className:"flex items-center justify-center h-full bg-muted/30 rounded-lg",children:n.jsxs("div",{className:"text-center",children:[n.jsx(ma,{className:"h-12 w-12 mx-auto mb-2 text-muted-foreground"}),n.jsx("p",{className:"text-muted-foreground",children:"Loading map..."})]})})})})]})}function xce({deliveries:e,onScheduleDelivery:t}){const r=e.length,s=e.filter(f=>f.status===zt.SCHEDULED).length,a=e.filter(f=>f.status===zt.IN_TRANSIT).length,i=e.filter(f=>f.status===zt.DELIVERED).length,o=new Date,l=new Date(o.getTime()+7*24*60*60*1e3),c=e.filter(f=>f.status===zt.SCHEDULED&&f.scheduledDate>=o&&f.scheduledDate<=l).sort((f,m)=>f.scheduledDate.getTime()-m.scheduledDate.getTime()),d=e.filter(f=>f.status===zt.IN_TRANSIT).sort((f,m)=>f.scheduledDate.getTime()-m.scheduledDate.getTime()),h=new Date(o.getTime()-30*24*60*60*1e3),u=e.filter(f=>f.status===zt.DELIVERED&&f.deliveredDate&&f.deliveredDate>=h).sort((f,m)=>{var v,x;return(((v=m.deliveredDate)==null?void 0:v.getTime())||0)-(((x=f.deliveredDate)==null?void 0:x.getTime())||0)}).slice(0,5);return n.jsxs("div",{className:"space-y-6",children:[n.jsx("div",{className:"grid gap-4 md:grid-cols-4",children:[{title:"Total Deliveries",count:r,icon:n.jsx(ma,{className:"h-4 w-4 text-blue-800"}),description:"All time",bg:"bg-blue-100"},{title:"Scheduled",count:s,icon:n.jsx(Lr,{className:"h-4 w-4 text-yellow-700"}),description:"Upcoming deliveries",bg:"bg-yellow-100"},{title:"In Transit",count:a,icon:n.jsx(ma,{className:"h-4 w-4 text-orange-700"}),description:"Currently in transit",bg:"bg-orange-100"},{title:"Completed",count:i,icon:n.jsx(Xr,{className:"h-4 w-4 text-green-700"}),description:"Successful deliveries",bg:"bg-green-100"}].map((f,m)=>n.jsxs(de,{className:`${f.bg} border-0 shadow-sm`,children:[n.jsxs(ye,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(be,{className:"text-sm font-medium",children:f.title}),f.icon]}),n.jsxs(ue,{children:[n.jsx("div",{className:"text-2xl font-bold text-gray-900",children:f.count}),n.jsxs("p",{className:"text-xs text-gray-600 flex items-center mt-1",children:[n.jsx(_t,{className:"h-3 w-3 mr-1"}),f.description]})]})]},m))}),n.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[n.jsxs(de,{children:[n.jsxs(ye,{children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx(be,{children:"Upcoming Deliveries"}),n.jsxs(J,{size:"sm",onClick:t,children:[n.jsx(Nt,{className:"h-4 w-4 mr-2"}),"Schedule"]})]}),n.jsx($e,{children:"Deliveries scheduled for the next 7 days"})]}),n.jsx(ue,{children:c.length>0?n.jsx("div",{className:"space-y-4",children:c.map(f=>n.jsxs("div",{className:"flex items-start space-x-3 p-3 border rounded-lg",children:[n.jsx(Lr,{className:"h-5 w-5 text-blue-500 mt-1"}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("p",{className:"font-medium",children:["Delivery #",f.id]}),n.jsx("p",{className:"text-sm text-muted-foreground",children:ct(f.scheduledDate)})]}),n.jsxs("p",{className:"text-sm text-muted-foreground truncate",children:["Customer: ",f.customerId]}),n.jsxs("p",{className:"text-sm text-muted-foreground truncate",children:[f.address.city,", ",f.address.state]})]})]},f.id))}):n.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[n.jsx(Lr,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),n.jsx("p",{children:"No upcoming deliveries"}),n.jsx("p",{className:"text-sm",children:"Schedule a new delivery to get started"})]})})]}),n.jsxs(de,{children:[n.jsxs(ye,{children:[n.jsx(be,{children:"In-Transit Deliveries"}),n.jsx($e,{children:"Deliveries currently on the road"})]}),n.jsx(ue,{children:d.length>0?n.jsx("div",{className:"space-y-4",children:d.map(f=>{var m;return n.jsxs("div",{className:"flex items-start space-x-3 p-3 border rounded-lg",children:[n.jsx(ma,{className:"h-5 w-5 text-yellow-500 mt-1"}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("p",{className:"font-medium",children:["Delivery #",f.id]}),n.jsxs("p",{className:"text-sm text-muted-foreground",children:["ETA: ",((m=f.customFields)==null?void 0:m.estimatedArrival)||"Unknown"]})]}),n.jsxs("p",{className:"text-sm text-muted-foreground truncate",children:["Driver: ",f.driver||"Unassigned"]}),n.jsxs("p",{className:"text-sm text-muted-foreground truncate",children:[f.address.city,", ",f.address.state]})]})]},f.id)})}):n.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[n.jsx(ma,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),n.jsx("p",{children:"No deliveries in transit"})]})})]})]}),n.jsxs("div",{className:"grid gap-6 md:grid-cols-3",children:[n.jsx("div",{className:"md:col-span-2",children:d.length>0?n.jsx(gce,{delivery:d[0]}):n.jsxs(de,{children:[n.jsxs(ye,{children:[n.jsxs(be,{className:"flex items-center",children:[n.jsx(Ll,{className:"h-5 w-5 mr-2 text-primary"}),"Delivery Map"]}),n.jsx($e,{children:"No active deliveries to display"})]}),n.jsx(ue,{children:n.jsx("div",{className:"h-64 w-full flex items-center justify-center bg-muted/30 rounded-lg",children:n.jsxs("div",{className:"text-center",children:[n.jsx(Ll,{className:"h-12 w-12 mx-auto mb-2 text-muted-foreground"}),n.jsx("p",{className:"text-muted-foreground",children:"No active deliveries to track"})]})})})]})}),n.jsxs(de,{children:[n.jsxs(ye,{children:[n.jsx(be,{children:"Recent Deliveries"}),n.jsx($e,{children:"Recently completed deliveries"})]}),n.jsx(ue,{children:u.length>0?n.jsx("div",{className:"space-y-4",children:u.map(f=>n.jsxs("div",{className:"flex items-start space-x-3 p-3 border rounded-lg",children:[n.jsx(Xr,{className:"h-5 w-5 text-green-500 mt-1"}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("p",{className:"font-medium",children:["Delivery #",f.id]}),n.jsx("p",{className:"text-sm text-muted-foreground",children:f.deliveredDate?ct(f.deliveredDate):"Unknown"})]}),n.jsxs("p",{className:"text-sm text-muted-foreground truncate",children:["Customer: ",f.customerId]})]})]},f.id))}):n.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[n.jsx(Xr,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),n.jsx("p",{children:"No recent deliveries"})]})})]})]})]})}function FI(){const{deliveries:e,createDelivery:t,updateDelivery:r,deleteDelivery:s,updateDeliveryStatus:a,sendNotification:i,updateETA:o,addDeliveryPhotos:l}=cB(),{vehicles:c}=cd(),{leads:d}=io(),{toast:h}=At(),[u,f]=C.useState(""),[m,v]=C.useState("all"),[x,p]=C.useState(!1),[g,b]=C.useState(!1),[y,j]=C.useState(!1),[E,S]=C.useState(!1),[N,w]=C.useState(null),_=B=>{switch(B){case zt.SCHEDULED:return"bg-blue-50 text-blue-700 border-blue-200";case zt.IN_TRANSIT:return"bg-yellow-50 text-yellow-700 border-yellow-200";case zt.DELIVERED:return"bg-green-50 text-green-700 border-green-200";case zt.CANCELLED:return"bg-red-50 text-red-700 border-red-200";default:return"bg-gray-50 text-gray-700 border-gray-200"}},k=e.filter(B=>B.id.toLowerCase().includes(u.toLowerCase())||B.customerId.toLowerCase().includes(u.toLowerCase())||B.address.city.toLowerCase().includes(u.toLowerCase())).filter(B=>m==="all"||B.status===m),T=()=>{w(null),p(!0)},A=B=>{w(B),p(!0),b(!1)},O=B=>{w(B),b(!0)},D=async B=>{try{N?(await r(N.id,B),h({title:"Success",description:"Delivery updated successfully"})):(await t(B),h({title:"Success",description:"Delivery scheduled successfully"})),p(!1),w(null)}catch{h({title:"Error",description:`Failed to ${N?"update":"schedule"} delivery`,variant:"destructive"})}},F=async(B,U)=>{try{return U.estimatedArrival&&await o(B,U.estimatedArrival),await i(B,U.type,U.message),!0}catch(H){throw console.error("Error sending notification:",H),H}},M=async(B,U)=>{if(N)try{await l(N.id,B,U),N.status===zt.IN_TRANSIT&&await a(N.id,zt.DELIVERED),S(!1),h({title:"Photos Added",description:`${B.length} photos added to delivery`})}catch{h({title:"Error",description:"Failed to add photos",variant:"destructive"})}},R=B=>c.find(U=>U.id===B);return n.jsxs("div",{className:"space-y-8",children:[x&&n.jsx(dB,{delivery:N||void 0,vehicles:c,customers:d,onSave:D,onCancel:()=>{p(!1),w(null)}}),g&&N&&n.jsx(mce,{delivery:N,vehicle:R(N.vehicleId),onClose:()=>b(!1),onEdit:A,onSendNotification:async(B,U)=>{b(!1),j(!0)}}),y&&N&&n.jsx(pce,{delivery:N,onSend:F,onCancel:()=>{j(!1),b(!0)}}),E&&N&&n.jsx(vce,{onCapture:M,onCancel:()=>{S(!1),b(!0)}}),n.jsx("div",{className:"ri-page-header",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"ri-page-title",children:"Delivery Tracker"}),n.jsx("p",{className:"ri-page-description",children:"Track vehicle deliveries and logistics"})]}),n.jsxs(J,{className:"shadow-sm",onClick:T,children:[n.jsx(Nt,{className:"h-4 w-4 mr-2"}),"Schedule Delivery"]})]})}),n.jsxs("div",{className:"ri-stats-grid",children:[n.jsxs(de,{className:"shadow-sm border-0 bg-gradient-to-br from-blue-50 to-blue-100/50",children:[n.jsxs(ye,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(be,{className:"text-sm font-medium text-blue-900",children:"Total Deliveries"}),n.jsx(ma,{className:"h-4 w-4 text-blue-600"})]}),n.jsxs(ue,{children:[n.jsx("div",{className:"text-2xl font-bold text-blue-900",children:e.length}),n.jsxs("p",{className:"text-xs text-blue-600 flex items-center mt-1",children:[n.jsx(_t,{className:"h-3 w-3 mr-1"}),"All deliveries"]})]})]}),n.jsxs(de,{className:"shadow-sm border-0 bg-gradient-to-br from-blue-50 to-blue-100/50",children:[n.jsxs(ye,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(be,{className:"text-sm font-medium text-blue-900",children:"Scheduled"}),n.jsx(ma,{className:"h-4 w-4 text-blue-600"})]}),n.jsxs(ue,{children:[n.jsx("div",{className:"text-2xl font-bold text-blue-900",children:e.filter(B=>B.status===zt.SCHEDULED).length}),n.jsxs("p",{className:"text-xs text-blue-600 flex items-center mt-1",children:[n.jsx(Lr,{className:"h-3 w-3 mr-1"}),"Upcoming deliveries"]})]})]}),n.jsxs(de,{className:"shadow-sm border-0 bg-gradient-to-br from-yellow-50 to-yellow-100/50",children:[n.jsxs(ye,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(be,{className:"text-sm font-medium text-yellow-900",children:"In Transit"}),n.jsx(ma,{className:"h-4 w-4 text-yellow-600"})]}),n.jsxs(ue,{children:[n.jsx("div",{className:"text-2xl font-bold text-yellow-900",children:e.filter(B=>B.status===zt.IN_TRANSIT).length}),n.jsxs("p",{className:"text-xs text-yellow-600 flex items-center mt-1",children:[n.jsx(ma,{className:"h-3 w-3 mr-1"}),"On the road"]})]})]}),n.jsxs(de,{className:"shadow-sm border-0 bg-gradient-to-br from-green-50 to-green-100/50",children:[n.jsxs(ye,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(be,{className:"text-sm font-medium text-green-900",children:"Delivered"}),n.jsx(ma,{className:"h-4 w-4 text-green-600"})]}),n.jsxs(ue,{children:[n.jsx("div",{className:"text-2xl font-bold text-green-900",children:e.filter(B=>B.status===zt.DELIVERED).length}),n.jsxs("p",{className:"text-xs text-green-600 flex items-center mt-1",children:[n.jsx(_t,{className:"h-3 w-3 mr-1"}),"Completed"]})]})]}),n.jsxs(de,{className:"shadow-sm border-0 bg-gradient-to-br from-orange-50 to-orange-100/50",children:[n.jsxs(ye,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(be,{className:"text-sm font-medium text-orange-900",children:"Notifications"}),n.jsx(ln,{className:"h-4 w-4 text-orange-600"})]}),n.jsxs(ue,{children:[n.jsx("div",{className:"text-2xl font-bold text-orange-900",children:e.filter(B=>{var U;return(U=B.customFields)==null?void 0:U.customerNotified}).length}),n.jsxs("p",{className:"text-xs text-orange-600 flex items-center mt-1",children:[n.jsx(ln,{className:"h-3 w-3 mr-1"}),"Sent to customers"]})]})]})]}),n.jsxs("div",{className:"flex gap-4",children:[n.jsxs("div",{className:"ri-search-bar",children:[n.jsx(es,{className:"ri-search-icon"}),n.jsx(Pe,{placeholder:"Search deliveries...",value:u,onChange:B=>f(B.target.value),className:"ri-search-input shadow-sm"})]}),n.jsxs("select",{value:m,onChange:B=>v(B.target.value),className:"px-3 py-2 rounded-md border border-input bg-background",children:[n.jsx("option",{value:"all",children:"All Status"}),n.jsx("option",{value:zt.SCHEDULED,children:"Scheduled"}),n.jsx("option",{value:zt.IN_TRANSIT,children:"In Transit"}),n.jsx("option",{value:zt.DELIVERED,children:"Delivered"}),n.jsx("option",{value:zt.CANCELLED,children:"Cancelled"})]})]}),n.jsxs(de,{className:"shadow-sm",children:[n.jsxs(ye,{children:[n.jsx(be,{className:"text-xl",children:"Deliveries"}),n.jsx($e,{children:"Track and manage vehicle deliveries"})]}),n.jsx(ue,{children:n.jsxs("div",{className:"space-y-4",children:[k.map(B=>n.jsxs("div",{className:"ri-table-row",children:[n.jsx("div",{className:"flex items-center space-x-4 flex-1",children:n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[n.jsxs("h3",{className:"font-semibold text-foreground",children:["Delivery #",B.id]}),n.jsx(Re,{className:He("ri-badge-status",_(B.status)),children:B.status.replace("_"," ").toUpperCase()})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm text-muted-foreground",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx(us,{className:"h-3 w-3 mr-2 text-blue-500"}),n.jsx("span",{className:"font-medium",children:"Customer:"}),n.jsx("span",{className:"ml-1",children:B.customerId})]}),n.jsxs("div",{className:"flex items-center",children:[n.jsx(us,{className:"h-3 w-3 mr-2 text-green-500"}),n.jsx("span",{className:"font-medium",children:"Driver:"}),n.jsx("span",{className:"ml-1",children:B.driver||"Not assigned"})]}),n.jsxs("div",{className:"flex items-center",children:[n.jsx(Lr,{className:"h-3 w-3 mr-2 text-purple-500"}),n.jsx("span",{className:"font-medium",children:"Scheduled:"}),n.jsx("span",{className:"ml-1",children:ct(B.scheduledDate)})]}),B.deliveredDate&&n.jsxs("div",{className:"flex items-center",children:[n.jsx(Lr,{className:"h-3 w-3 mr-2 text-green-500"}),n.jsx("span",{className:"font-medium",children:"Delivered:"}),n.jsx("span",{className:"ml-1",children:ct(B.deliveredDate)})]})]}),n.jsxs("div",{className:"mt-2",children:[n.jsxs("div",{className:"flex items-start bg-muted/30 p-2 rounded-md",children:[n.jsx(Ll,{className:"h-3 w-3 mr-2 mt-0.5 text-red-500"}),n.jsxs("span",{className:"text-sm text-muted-foreground",children:[B.address.street,", ",B.address.city,", ",B.address.state," ",B.address.zipCode]})]}),B.notes&&n.jsxs("p",{className:"text-sm text-muted-foreground mt-2 bg-blue-50 p-2 rounded-md",children:[n.jsx("span",{className:"font-medium",children:"Notes:"})," ",B.notes]})]})]})}),n.jsxs("div",{className:"ri-action-buttons",children:[n.jsxs(J,{variant:"outline",size:"sm",className:"shadow-sm",onClick:()=>O(B),children:[n.jsx(Ol,{className:"h-3 w-3 mr-1"}),"View"]}),n.jsx(J,{variant:"outline",size:"sm",className:"shadow-sm",onClick:()=>A(B),children:"Edit"}),B.status===zt.IN_TRANSIT&&n.jsxs(J,{variant:"outline",size:"sm",className:"shadow-sm",onClick:()=>{w(B),S(!0)},children:[n.jsx(bl,{className:"h-3 w-3 mr-1"}),"Photos"]}),(B.status===zt.SCHEDULED||B.status===zt.IN_TRANSIT)&&n.jsxs(J,{variant:"outline",size:"sm",className:"shadow-sm",onClick:()=>{w(B),j(!0)},children:[n.jsx(ln,{className:"h-3 w-3 mr-1"}),"Notify"]})]})]},B.id)),k.length===0&&n.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[n.jsx(ma,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground/50"}),n.jsx("p",{children:"No deliveries found"}),n.jsx("p",{className:"text-sm",children:"Try adjusting your search or filters"})]})]})})]})]})}function yce(){const{deliveries:e}=cB(),[t,r]=C.useState(!1);return n.jsxs(n.Fragment,{children:[t&&n.jsx(dB,{vehicles:[],customers:[],onSave:async()=>{},onCancel:()=>r(!1)}),n.jsx(xce,{deliveries:e,onScheduleDelivery:()=>r(!0)})]})}function bce(){return n.jsxs(Ps,{children:[n.jsx(Ft,{path:"/",element:n.jsx(yce,{})}),n.jsx(Ft,{path:"/list",element:n.jsx(FI,{})}),n.jsx(Ft,{path:"/*",element:n.jsx(FI,{})})]})}var hn=(e=>(e.IN_PROGRESS="in_progress",e.COMPLETED="completed",e.APPROVED="approved",e.REJECTED="rejected",e))(hn||{}),hr=(e=>(e.PENDING="pending",e.PASSED="passed",e.FAILED="failed",e.NA="na",e))(hr||{}),ws=(e=>(e.LOW="low",e.MEDIUM="medium",e.HIGH="high",e.CRITICAL="critical",e))(ws||{}),py=(e=>(e.OPEN="open",e.IN_PROGRESS="in_progress",e.RESOLVED="resolved",e.VERIFIED="verified",e))(py||{}),Xd=(e=>(e.INSPECTOR="inspector",e.MANAGER="manager",e.QUALITY_CONTROL="quality_control",e))(Xd||{});function jce(){const[e,t]=C.useState([]),[r,s]=C.useState([]),[a,i]=C.useState(!1);C.useEffect(()=>{o()},[]);const o=()=>{const T=mn("renter-insight-pdi-templates",[{id:"1",name:"RV Pre-Delivery Inspection",description:"Standard PDI checklist for recreational vehicles",vehicleType:vt.RV,isActive:!0,sections:[{id:"1-1",templateId:"1",name:"Exterior",description:"Exterior inspection items",orderIndex:1,items:[{id:"1-1-1",sectionId:"1-1",name:"Exterior Body Condition",description:"Check for scratches, dents, or damage",itemType:"checkbox",isRequired:!0,orderIndex:1,createdAt:new Date("2024-01-01")},{id:"1-1-2",sectionId:"1-1",name:"Roof Inspection",description:"Check roof seals, vents, and AC units",itemType:"checkbox",isRequired:!0,orderIndex:2,createdAt:new Date("2024-01-01")},{id:"1-1-3",sectionId:"1-1",name:"Exterior Photos",description:"Take photos of all sides of the vehicle",itemType:"photo",isRequired:!0,orderIndex:3,createdAt:new Date("2024-01-01")}],createdAt:new Date("2024-01-01")},{id:"1-2",templateId:"1",name:"Interior",description:"Interior inspection items",orderIndex:2,items:[{id:"1-2-1",sectionId:"1-2",name:"Interior Cleanliness",description:"Verify interior is clean and free of debris",itemType:"checkbox",isRequired:!0,orderIndex:1,createdAt:new Date("2024-01-01")},{id:"1-2-2",sectionId:"1-2",name:"Furniture Condition",description:"Check all furniture for damage or defects",itemType:"checkbox",isRequired:!0,orderIndex:2,createdAt:new Date("2024-01-01")}],createdAt:new Date("2024-01-01")}],createdAt:new Date("2024-01-01"),updatedAt:new Date("2024-01-01")},{id:"2",name:"Motorhome Pre-Delivery Inspection",description:"Comprehensive PDI checklist for motorhomes",vehicleType:vt.MOTORHOME,isActive:!0,sections:[],createdAt:new Date("2024-01-01"),updatedAt:new Date("2024-01-01")}]),A=mn("renter-insight-pdi-inspections",[{id:"1",templateId:"1",vehicleId:"1",inspectorId:"user-001",status:hn.IN_PROGRESS,startedAt:new Date("2024-01-15"),notes:"Initial inspection for new RV",items:[{id:"1-1",inspectionId:"1",templateItemId:"1-1-1",status:hr.PASSED,notes:"No exterior damage found",createdAt:new Date("2024-01-15"),updatedAt:new Date("2024-01-15")},{id:"1-2",inspectionId:"1",templateItemId:"1-1-2",status:hr.FAILED,notes:"Roof seal damaged near AC unit",createdAt:new Date("2024-01-15"),updatedAt:new Date("2024-01-15")}],defects:[{id:"1-1",inspectionId:"1",inspectionItemId:"1-2",title:"Roof Seal Damage",description:"Damaged roof seal near AC unit on passenger side",severity:ws.MEDIUM,status:py.OPEN,assignedTo:"user-002",createdAt:new Date("2024-01-15"),updatedAt:new Date("2024-01-15")}],photos:[{id:"1-1",inspectionId:"1",inspectionItemId:"1-2",defectId:"1-1",url:"https://images.pexels.com/photos/1319515/pexels-photo-1319515.jpeg",caption:"Damaged roof seal",createdAt:new Date("2024-01-15")}],signoffs:[],createdAt:new Date("2024-01-15"),updatedAt:new Date("2024-01-15")}]);t(T),s(A)},l=T=>{Gr("renter-insight-pdi-templates",T)},c=T=>{Gr("renter-insight-pdi-inspections",T)};return{templates:e,inspections:r,loading:a,getTemplatesByVehicleType:T=>e.filter(A=>A.vehicleType===T&&A.isActive),getTemplateById:T=>e.find(A=>A.id===T),createTemplate:async T=>{i(!0);try{const A={id:Math.random().toString(36).substr(2,9),name:T.name||"",description:T.description||"",vehicleType:T.vehicleType||vt.RV,isActive:T.isActive??!0,sections:T.sections||[],createdAt:new Date,updatedAt:new Date},O=[...e,A];return t(O),l(O),A}finally{i(!1)}},updateTemplate:async(T,A)=>{const O=e.map(D=>D.id===T?{...D,...A,updatedAt:new Date}:D);t(O),l(O)},deleteTemplate:async T=>{const A=e.filter(O=>O.id!==T);t(A),l(A)},createTemplateSection:async(T,A)=>{const O=e.find(R=>R.id===T);if(!O)return null;const D={id:Math.random().toString(36).substr(2,9),templateId:T,name:A.name||"",description:A.description||"",orderIndex:A.orderIndex||O.sections.length+1,items:A.items||[],createdAt:new Date},F={...O,sections:[...O.sections,D],updatedAt:new Date},M=e.map(R=>R.id===T?F:R);return t(M),l(M),D},createTemplateItem:async(T,A)=>{const O=e.findIndex(L=>L.sections.some(V=>V.id===T));if(O===-1)return null;const D=e[O],F=D.sections.findIndex(L=>L.id===T);if(F===-1)return null;const M=D.sections[F],R={id:Math.random().toString(36).substr(2,9),sectionId:T,name:A.name||"",description:A.description||"",itemType:A.itemType||"checkbox",isRequired:A.isRequired??!0,orderIndex:A.orderIndex||M.items.length+1,createdAt:new Date},B={...M,items:[...M.items,R]},U=[...D.sections];U[F]=B;const H={...D,sections:U,updatedAt:new Date},q=[...e];return q[O]=H,t(q),l(q),R},getInspectionsByVehicleId:T=>r.filter(A=>A.vehicleId===T),getInspectionById:T=>r.find(A=>A.id===T),createInspection:async T=>{i(!0);try{const A=e.find(M=>M.id===T.templateId);if(!A)throw new Error("Template not found");const O=[];A.sections.forEach(M=>{M.items.forEach(R=>{O.push({id:Math.random().toString(36).substr(2,9),inspectionId:"",templateItemId:R.id,templateItem:R,status:hr.PENDING,createdAt:new Date,updatedAt:new Date})})});const D={id:Math.random().toString(36).substr(2,9),templateId:T.templateId||"",template:A||void 0,vehicleId:T.vehicleId||"",inspectorId:T.inspectorId||"",status:hn.IN_PROGRESS,startedAt:new Date,notes:T.notes||"",items:[],defects:[],photos:[],signoffs:[],createdAt:new Date,updatedAt:new Date};O.forEach(M=>{M.inspectionId=D.id}),D.items=O;const F=[...r,D];return s(F),c(F),D}finally{i(!1)}},updateInspection:async(T,A)=>{const O=r.map(D=>D.id===T?{...D,...A,updatedAt:new Date}:D);s(O),c(O)},updateInspectionItem:async(T,A,O)=>{const D=r.findIndex(H=>H.id===T);if(D===-1)return;const F=r[D],M=F.items.findIndex(H=>H.id===A);if(M===-1)return;const R=[...F.items];R[M]={...R[M],...O,updatedAt:new Date};const B={...F,items:R,updatedAt:new Date},U=[...r];U[D]=B,s(U),c(U)},completeInspection:async(T,A)=>{const O=r.findIndex(B=>B.id===T);if(O===-1)return;const D=r[O];if(!D.items.every(B=>{const U=e.flatMap(H=>H.sections).flatMap(H=>H.items).find(H=>H.id===B.templateItemId);return!(U!=null&&U.isRequired)||B.status!==hr.PENDING}))throw new Error("All required items must be completed");const M={...D,status:hn.COMPLETED,completedAt:new Date,notes:A||D.notes,updatedAt:new Date},R=[...r];R[O]=M,s(R),c(R)},createDefect:async(T,A)=>{const O=r.findIndex(B=>B.id===T);if(O===-1)return null;const D=r[O],F={id:Math.random().toString(36).substr(2,9),inspectionId:T,inspectionItemId:A.inspectionItemId,title:A.title||"",description:A.description||"",severity:A.severity||ws.MEDIUM,status:py.OPEN,assignedTo:A.assignedTo,photos:[],createdAt:new Date,updatedAt:new Date},M={...D,defects:[...D.defects,F],updatedAt:new Date},R=[...r];return R[O]=M,s(R),c(R),F},updateDefect:async(T,A,O)=>{const D=r.findIndex(H=>H.id===T);if(D===-1)return;const F=r[D],M=F.defects.findIndex(H=>H.id===A);if(M===-1)return;const R=[...F.defects];R[M]={...R[M],...O,updatedAt:new Date};const B={...F,defects:R,updatedAt:new Date},U=[...r];U[D]=B,s(U),c(U)},resolveDefect:async(T,A,O)=>{const D=r.findIndex(H=>H.id===T);if(D===-1)return;const F=r[D],M=F.defects.findIndex(H=>H.id===A);if(M===-1)return;const R=[...F.defects];R[M]={...R[M],status:py.RESOLVED,resolvedAt:new Date,resolutionNotes:O,updatedAt:new Date};const B={...F,defects:R,updatedAt:new Date},U=[...r];U[D]=B,s(U),c(U)},addPhoto:async(T,A)=>{const O=r.findIndex(B=>B.id===T);if(O===-1)return null;const D=r[O],F={id:Math.random().toString(36).substr(2,9),inspectionId:T,inspectionItemId:A.inspectionItemId,defectId:A.defectId,url:A.url||"",caption:A.caption,createdAt:new Date},M={...D,photos:[...D.photos,F],updatedAt:new Date},R=[...r];return R[O]=M,s(R),c(R),F},addSignoff:async(T,A)=>{const O=r.findIndex(U=>U.id===T);if(O===-1)return null;const D=r[O],F={id:Math.random().toString(36).substr(2,9),inspectionId:T,userId:A.userId||"",role:A.role||Xd.INSPECTOR,signatureUrl:A.signatureUrl,notes:A.notes,signedAt:new Date,createdAt:new Date};let M=D.status;A.role===Xd.MANAGER&&(M=hn.APPROVED);const R={...D,signoffs:[...D.signoffs,F],status:M,updatedAt:new Date},B=[...r];return B[O]=R,s(B),c(B),F}}}function wce({templates:e,onCreateTemplate:t,onEditTemplate:r,onDeleteTemplate:s,onDuplicateTemplate:a,onViewTemplate:i}){const[o,l]=C.useState(""),[c,d]=C.useState("all"),h=e.filter(f=>{var x;const m=f.name.toLowerCase().includes(o.toLowerCase())||((x=f.description)==null?void 0:x.toLowerCase().includes(o.toLowerCase())),v=c==="all"||f.vehicleType===c;return m&&v}),u=f=>f.replace("_"," ").toUpperCase();return n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[n.jsxs("div",{className:"ri-search-bar flex-1",children:[n.jsx(es,{className:"ri-search-icon"}),n.jsx(Pe,{placeholder:"Search templates...",value:o,onChange:f=>l(f.target.value),className:"ri-search-input shadow-sm"})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsxs("select",{value:c,onChange:f=>d(f.target.value),className:"px-3 py-2 rounded-md border border-input bg-background",children:[n.jsx("option",{value:"all",children:"All Types"}),n.jsx("option",{value:"rv",children:"RV"}),n.jsx("option",{value:"motorhome",children:"Motorhome"}),n.jsx("option",{value:"travel_trailer",children:"Travel Trailer"}),n.jsx("option",{value:"fifth_wheel",children:"Fifth Wheel"}),n.jsx("option",{value:"toy_hauler",children:"Toy Hauler"})]}),n.jsxs(J,{variant:"outline",className:"shadow-sm",children:[n.jsx(Na,{className:"h-4 w-4 mr-2"}),"Filter"]}),n.jsxs(J,{onClick:t,className:"shadow-sm",children:[n.jsx(Nt,{className:"h-4 w-4 mr-2"}),"New Template"]})]})]}),n.jsxs(de,{className:"shadow-sm",children:[n.jsxs(ye,{children:[n.jsxs(be,{className:"text-xl",children:["PDI Templates (",h.length,")"]}),n.jsx($e,{children:"Manage pre-delivery inspection templates for different vehicle types"})]}),n.jsx(ue,{children:n.jsxs("div",{className:"space-y-4",children:[h.map(f=>n.jsxs("div",{className:"ri-table-row",children:[n.jsx("div",{className:"flex items-center space-x-4 flex-1",children:n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[n.jsx("h3",{className:"font-semibold text-foreground",children:f.name}),n.jsx(Re,{variant:"outline",children:u(f.vehicleType)}),f.isActive?n.jsx(Re,{className:"bg-green-50 text-green-700 border-green-200",children:"ACTIVE"}):n.jsx(Re,{className:"bg-gray-50 text-gray-700 border-gray-200",children:"INACTIVE"})]}),n.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:f.description}),n.jsxs("div",{className:"flex items-center space-x-4 text-sm",children:[n.jsxs("span",{className:"flex items-center",children:[n.jsx(U5,{className:"h-3 w-3 mr-1 text-blue-500"}),f.sections.length," sections"]}),n.jsxs("span",{className:"flex items-center",children:[n.jsx(p4,{className:"h-3 w-3 mr-1 text-green-500"}),f.sections.reduce((m,v)=>m+v.items.length,0)," items"]})]})]})}),n.jsxs("div",{className:"ri-action-buttons",children:[n.jsx(J,{variant:"outline",size:"sm",className:"shadow-sm",onClick:()=>i(f),children:"View"}),n.jsxs(J,{variant:"outline",size:"sm",className:"shadow-sm",onClick:()=>r(f),children:[n.jsx(zr,{className:"h-3 w-3 mr-1"}),"Edit"]}),n.jsxs(J,{variant:"outline",size:"sm",className:"shadow-sm",onClick:()=>a(f),children:[n.jsx(v4,{className:"h-3 w-3 mr-1"}),"Duplicate"]}),n.jsx(J,{variant:"outline",size:"sm",className:"shadow-sm text-red-600 hover:text-red-700",onClick:()=>s(f.id),children:n.jsx(Sn,{className:"h-3 w-3"})})]})]},f.id)),h.length===0&&n.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[n.jsx(U5,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground/50"}),n.jsx("p",{children:"No templates found"}),n.jsx("p",{className:"text-sm",children:"Create your first template to get started"})]})]})})]})]})}function Nce({template:e,onSave:t,onCancel:r}){var T;const{toast:s}=At(),[a,i]=C.useState(!1),[o,l]=C.useState({name:"",description:"",vehicleType:vt.RV,isActive:!0,sections:[]}),[c,d]=C.useState(!1),[h,u]=C.useState({name:"",description:"",items:[]}),[f,m]=C.useState(null),[v,x]=C.useState(!1),[p,g]=C.useState({name:"",description:"",itemType:"checkbox",isRequired:!0});C.useEffect(()=>{e&&l({...e})},[e]);const b=async A=>{if(A.preventDefault(),!o.name){s({title:"Validation Error",description:"Template name is required",variant:"destructive"});return}if(!o.vehicleType){s({title:"Validation Error",description:"Vehicle type is required",variant:"destructive"});return}if(!o.sections||o.sections.length===0){s({title:"Validation Error",description:"At least one section is required",variant:"destructive"});return}const O=o.sections.filter(D=>!D.items||D.items.length===0);if(O.length>0){s({title:"Validation Error",description:`Section "${O[0].name}" must have at least one item`,variant:"destructive"});return}i(!0);try{await t(o),s({title:"Success",description:`Template ${e?"updated":"created"} successfully`})}catch{s({title:"Error",description:`Failed to ${e?"update":"create"} template`,variant:"destructive"})}finally{i(!1)}},y=()=>{var O;if(!h.name){s({title:"Validation Error",description:"Section name is required",variant:"destructive"});return}const A={id:Math.random().toString(36).substr(2,9),templateId:(e==null?void 0:e.id)||"",name:h.name,description:h.description||"",orderIndex:(((O=o.sections)==null?void 0:O.length)||0)+1,items:[],createdAt:new Date};l(D=>({...D,sections:[...D.sections||[],A]})),u({name:"",description:"",items:[]}),d(!1)},j=A=>{l(O=>{var D;return{...O,sections:((D=O.sections)==null?void 0:D.filter(F=>F.id!==A))||[]}})},E=A=>{const O=[...o.sections||[]],D=O.findIndex(F=>F.id===A);D<=0||([O[D-1],O[D]]=[O[D],O[D-1]],O.forEach((F,M)=>{F.orderIndex=M+1}),l(F=>({...F,sections:O})))},S=A=>{const O=[...o.sections||[]],D=O.findIndex(F=>F.id===A);D===-1||D>=O.length-1||([O[D],O[D+1]]=[O[D+1],O[D]],O.forEach((F,M)=>{F.orderIndex=M+1}),l(F=>({...F,sections:O})))},N=A=>{var R;if(!p.name){s({title:"Validation Error",description:"Item name is required",variant:"destructive"});return}const O=[...o.sections||[]],D=O.findIndex(B=>B.id===A);if(D===-1)return;const F=O[D],M={id:Math.random().toString(36).substr(2,9),sectionId:A,name:p.name,description:p.description||"",itemType:p.itemType||"checkbox",isRequired:p.isRequired??!0,orderIndex:(((R=F.items)==null?void 0:R.length)||0)+1,createdAt:new Date};F.items=[...F.items||[],M],O[D]=F,l(B=>({...B,sections:O})),g({name:"",description:"",itemType:"checkbox",isRequired:!0}),x(!1)},w=(A,O)=>{const D=[...o.sections||[]],F=D.findIndex(R=>R.id===A);if(F===-1)return;const M=D[F];M.items=M.items.filter(R=>R.id!==O),D[F]=M,l(R=>({...R,sections:D}))},_=(A,O)=>{const D=[...o.sections||[]],F=D.findIndex(U=>U.id===A);if(F===-1)return;const M=D[F],R=[...M.items],B=R.findIndex(U=>U.id===O);B<=0||([R[B-1],R[B]]=[R[B],R[B-1]],R.forEach((U,H)=>{U.orderIndex=H+1}),M.items=R,D[F]=M,l(U=>({...U,sections:D})))},k=(A,O)=>{const D=[...o.sections||[]],F=D.findIndex(U=>U.id===A);if(F===-1)return;const M=D[F],R=[...M.items],B=R.findIndex(U=>U.id===O);B===-1||B>=R.length-1||([R[B],R[B+1]]=[R[B+1],R[B]],R.forEach((U,H)=>{U.orderIndex=H+1}),M.items=R,D[F]=M,l(U=>({...U,sections:D})))};return n.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:n.jsxs(de,{className:"w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[n.jsx(ye,{children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx(be,{children:e?"Edit Template":"Create Template"}),n.jsx($e,{children:e?"Update PDI template details":"Create a new PDI template"})]}),n.jsx(J,{variant:"ghost",size:"sm",onClick:r,children:n.jsx(Ut,{className:"h-4 w-4"})})]})}),n.jsx(ue,{children:n.jsxs("form",{onSubmit:b,className:"space-y-6",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-lg font-semibold",children:"Template Information"}),n.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"name",children:"Template Name *"}),n.jsx(Pe,{id:"name",value:o.name,onChange:A=>l(O=>({...O,name:A.target.value})),placeholder:"e.g., RV Pre-Delivery Inspection"})]}),n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"vehicleType",children:"Home/Vehicle Type *"}),n.jsxs(Ve,{value:o.vehicleType,onValueChange:A=>l(O=>({...O,vehicleType:A})),children:[n.jsx(ze,{children:n.jsx(qe,{})}),n.jsxs(Ue,{children:[n.jsx(K,{value:vt.RV,children:"RV"}),n.jsx(K,{value:vt.MOTORHOME,children:"Motorhome"}),n.jsx(K,{value:vt.TRAVEL_TRAILER,children:"Travel Trailer"}),n.jsx(K,{value:vt.FIFTH_WHEEL,children:"Fifth Wheel"}),n.jsx(K,{value:vt.TOY_HAULER,children:"Toy Hauler"}),n.jsx(K,{value:vt.SINGLE_WIDE,children:"Single Wide MH"}),n.jsx(K,{value:vt.DOUBLE_WIDE,children:"Double Wide MH"}),n.jsx(K,{value:vt.TRIPLE_WIDE,children:"Triple Wide MH"}),n.jsx(K,{value:vt.PARK_MODEL,children:"Park Model"}),n.jsx(K,{value:vt.MODULAR_HOME,children:"Modular Home"})]})]})]})]}),n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"description",children:"Description"}),n.jsx(tr,{id:"description",value:o.description,onChange:A=>l(O=>({...O,description:A.target.value})),placeholder:"Describe the purpose and scope of this template",rows:3})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Vt,{id:"isActive",checked:o.isActive,onCheckedChange:A=>l(O=>({...O,isActive:!!A}))}),n.jsx(ae,{htmlFor:"isActive",children:"Active template"})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("h3",{className:"text-lg font-semibold",children:"Sections"}),n.jsxs(J,{type:"button",onClick:()=>d(!0),size:"sm",children:[n.jsx(Nt,{className:"h-4 w-4 mr-2"}),"Add Section"]})]}),c&&n.jsx(de,{className:"border-dashed",children:n.jsx(ue,{className:"pt-6",children:n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"sectionName",children:"Section Name *"}),n.jsx(Pe,{id:"sectionName",value:h.name,onChange:A=>u(O=>({...O,name:A.target.value})),placeholder:"e.g., Exterior Inspection"})]}),n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"sectionDescription",children:"Description"}),n.jsx(tr,{id:"sectionDescription",value:h.description,onChange:A=>u(O=>({...O,description:A.target.value})),placeholder:"Describe this section",rows:2})]}),n.jsxs("div",{className:"flex justify-end space-x-2",children:[n.jsx(J,{type:"button",variant:"outline",onClick:()=>d(!1),children:"Cancel"}),n.jsx(J,{type:"button",onClick:y,children:"Add Section"})]})]})})}),n.jsxs("div",{className:"space-y-6",children:[(T=o.sections)==null?void 0:T.map(A=>{var O;return n.jsxs(de,{className:"shadow-sm",children:[n.jsx(ye,{className:"pb-3",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx(be,{className:"text-lg",children:A.name}),A.description&&n.jsx($e,{children:A.description})]}),n.jsxs("div",{className:"flex items-center space-x-1",children:[n.jsx(J,{type:"button",variant:"ghost",size:"sm",onClick:()=>E(A.id),disabled:A.orderIndex<=1,children:n.jsx(Eo,{className:"h-4 w-4"})}),n.jsx(J,{type:"button",variant:"ghost",size:"sm",onClick:()=>S(A.id),disabled:A.orderIndex>=(((O=o.sections)==null?void 0:O.length)||0),children:n.jsx(Ao,{className:"h-4 w-4"})}),n.jsx(J,{type:"button",variant:"ghost",size:"sm",onClick:()=>j(A.id),children:n.jsx(Sn,{className:"h-4 w-4 text-red-500"})})]})]})}),n.jsx(ue,{children:n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("h4",{className:"text-sm font-semibold",children:["Items (",A.items.length,")"]}),n.jsxs(J,{type:"button",size:"sm",variant:"outline",onClick:()=>{m(A.id),x(!0)},children:[n.jsx(Nt,{className:"h-3 w-3 mr-1"}),"Add Item"]})]}),v&&f===A.id&&n.jsx(de,{className:"border-dashed",children:n.jsx(ue,{className:"pt-6",children:n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"itemName",children:"Item Name *"}),n.jsx(Pe,{id:"itemName",value:p.name,onChange:D=>g(F=>({...F,name:D.target.value})),placeholder:"e.g., Check Exterior Body Condition"})]}),n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"itemType",children:"Item Type"}),n.jsxs(Ve,{value:p.itemType,onValueChange:D=>g(F=>({...F,itemType:D})),children:[n.jsx(ze,{children:n.jsx(qe,{})}),n.jsxs(Ue,{children:[n.jsx(K,{value:"checkbox",children:"Checkbox"}),n.jsx(K,{value:"text",children:"Text Input"}),n.jsx(K,{value:"number",children:"Number Input"}),n.jsx(K,{value:"photo",children:"Photo Upload"})]})]})]})]}),n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"itemDescription",children:"Description"}),n.jsx(tr,{id:"itemDescription",value:p.description,onChange:D=>g(F=>({...F,description:D.target.value})),placeholder:"Describe this inspection item",rows:2})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Vt,{id:"isRequired",checked:p.isRequired,onCheckedChange:D=>g(F=>({...F,isRequired:!!D}))}),n.jsx(ae,{htmlFor:"isRequired",children:"Required item"})]}),n.jsxs("div",{className:"flex justify-end space-x-2",children:[n.jsx(J,{type:"button",variant:"outline",onClick:()=>{x(!1),m(null)},children:"Cancel"}),n.jsx(J,{type:"button",onClick:()=>N(A.id),children:"Add Item"})]})]})})}),n.jsxs("div",{className:"space-y-2",children:[A.items.map(D=>n.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("span",{className:"font-medium",children:D.name}),n.jsx(Re,{variant:"outline",className:"text-xs",children:D.itemType}),D.isRequired&&n.jsx(Re,{className:"bg-blue-50 text-blue-700 border-blue-200 text-xs",children:"Required"})]}),D.description&&n.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:D.description})]}),n.jsxs("div",{className:"flex items-center space-x-1",children:[n.jsx(J,{type:"button",variant:"ghost",size:"sm",onClick:()=>_(A.id,D.id),disabled:D.orderIndex<=1,children:n.jsx(Eo,{className:"h-3 w-3"})}),n.jsx(J,{type:"button",variant:"ghost",size:"sm",onClick:()=>k(A.id,D.id),disabled:D.orderIndex>=A.items.length,children:n.jsx(Ao,{className:"h-3 w-3"})}),n.jsx(J,{type:"button",variant:"ghost",size:"sm",onClick:()=>w(A.id,D.id),children:n.jsx(Sn,{className:"h-3 w-3 text-red-500"})})]})]},D.id)),A.items.length===0&&n.jsxs("div",{className:"text-center py-4 text-sm text-muted-foreground border-2 border-dashed rounded-lg",children:[n.jsx(p4,{className:"h-8 w-8 mx-auto mb-2 text-muted-foreground/50"}),n.jsx("p",{children:"No items added yet"}),n.jsx("p",{className:"text-xs",children:"Add items to this section"})]})]})]})})]},A.id)}),(!o.sections||o.sections.length===0)&&n.jsxs("div",{className:"text-center py-8 text-muted-foreground border-2 border-dashed rounded-lg",children:[n.jsx(U5,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground/50"}),n.jsx("p",{children:"No sections added yet"}),n.jsx("p",{className:"text-sm",children:"Add sections to organize your checklist"})]})]})]}),n.jsxs("div",{className:"flex justify-end space-x-3 pt-6 border-t",children:[n.jsx(J,{type:"button",variant:"outline",onClick:r,disabled:a,children:"Cancel"}),n.jsx(J,{type:"submit",disabled:a,children:a?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),e?"Updating...":"Creating..."]}):n.jsxs(n.Fragment,{children:[n.jsx(Rr,{className:"h-4 w-4 mr-2"}),e?"Update":"Create"," Template"]})})]})]})})]})})}function Sce({inspections:e,onCreateInspection:t,onViewInspection:r,onContinueInspection:s}){const[a,i]=C.useState(""),[o,l]=C.useState("all"),c=e.filter(u=>{const f=u.id.toLowerCase().includes(a.toLowerCase())||u.vehicleId.toLowerCase().includes(a.toLowerCase()),m=o==="all"||u.status===o;return f&&m}),d=u=>{switch(u){case hn.IN_PROGRESS:return"bg-yellow-50 text-yellow-700 border-yellow-200";case hn.COMPLETED:return"bg-blue-50 text-blue-700 border-blue-200";case hn.APPROVED:return"bg-green-50 text-green-700 border-green-200";case hn.REJECTED:return"bg-red-50 text-red-700 border-red-200";default:return"bg-gray-50 text-gray-700 border-gray-200"}},h=u=>{switch(u){case hn.IN_PROGRESS:return n.jsx(sr,{className:"h-4 w-4 text-yellow-500"});case hn.COMPLETED:return n.jsx(Xr,{className:"h-4 w-4 text-blue-500"});case hn.APPROVED:return n.jsx(Xr,{className:"h-4 w-4 text-green-500"});case hn.REJECTED:return n.jsx(tf,{className:"h-4 w-4 text-red-500"});default:return n.jsx(sr,{className:"h-4 w-4 text-gray-500"})}};return n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[n.jsxs("div",{className:"ri-search-bar flex-1",children:[n.jsx(es,{className:"ri-search-icon"}),n.jsx(Pe,{placeholder:"Search inspections...",value:a,onChange:u=>i(u.target.value),className:"ri-search-input shadow-sm"})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsxs("select",{value:o,onChange:u=>l(u.target.value),className:"px-3 py-2 rounded-md border border-input bg-background",children:[n.jsx("option",{value:"all",children:"All Status"}),n.jsx("option",{value:"in_progress",children:"In Progress"}),n.jsx("option",{value:"completed",children:"Completed"}),n.jsx("option",{value:"approved",children:"Approved"}),n.jsx("option",{value:"rejected",children:"Rejected"})]}),n.jsxs(J,{variant:"outline",className:"shadow-sm",children:[n.jsx(Na,{className:"h-4 w-4 mr-2"}),"Filter"]}),n.jsxs(J,{onClick:t,className:"shadow-sm",children:[n.jsx(Nt,{className:"h-4 w-4 mr-2"}),"New Inspection"]})]})]}),n.jsxs(de,{className:"shadow-sm",children:[n.jsxs(ye,{children:[n.jsxs(be,{className:"text-xl",children:["Home/Vehicle PDI Inspections (",c.length,")"]}),n.jsx($e,{children:"Manage pre-delivery inspections for homes and vehicles"})]}),n.jsx(ue,{children:n.jsxs("div",{className:"space-y-4",children:[c.map(u=>{var f,m,v;return n.jsxs("div",{className:"ri-table-row",children:[n.jsx("div",{className:"flex items-center space-x-4 flex-1",children:n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[n.jsxs("h3",{className:"font-semibold text-foreground",children:["Inspection #",u.id.substring(0,8)]}),n.jsxs(Re,{className:He("ri-badge-status",d(u.status)),children:[h(u.status),n.jsx("span",{className:"ml-1",children:u.status.replace("_"," ").toUpperCase()})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm text-muted-foreground",children:[n.jsxs("div",{children:[n.jsx("span",{className:"font-medium",children:"Vehicle:"}),n.jsxs("span",{className:"ml-1",children:[(f=u.vehicle)==null?void 0:f.make," ",(m=u.vehicle)==null?void 0:m.model," (",u.vehicleId,")"]})]}),n.jsxs("div",{children:[n.jsx("span",{className:"font-medium",children:"Inspector:"}),n.jsx("span",{className:"ml-1",children:((v=u.inspector)==null?void 0:v.name)||u.inspectorId})]}),n.jsxs("div",{children:[n.jsx("span",{className:"font-medium",children:"Started:"}),n.jsx("span",{className:"ml-1",children:ct(u.startedAt)})]}),u.completedAt&&n.jsxs("div",{children:[n.jsx("span",{className:"font-medium",children:"Completed:"}),n.jsx("span",{className:"ml-1",children:ct(u.completedAt)})]})]}),n.jsxs("div",{className:"flex items-center space-x-4 mt-2 text-sm",children:[n.jsxs("span",{className:"flex items-center",children:[n.jsx(Xr,{className:"h-3 w-3 mr-1 text-green-500"}),u.items.filter(x=>x.status==="passed").length," passed"]}),n.jsxs("span",{className:"flex items-center",children:[n.jsx(tf,{className:"h-3 w-3 mr-1 text-red-500"}),u.items.filter(x=>x.status==="failed").length," failed"]}),n.jsxs("span",{className:"flex items-center",children:[n.jsx(sr,{className:"h-3 w-3 mr-1 text-yellow-500"}),u.items.filter(x=>x.status==="pending").length," pending"]})]}),u.defects.length>0&&n.jsx("div",{className:"mt-2 bg-red-50 p-2 rounded-md",children:n.jsxs("p",{className:"text-sm text-red-700 flex items-center",children:[n.jsx(tf,{className:"h-3 w-3 mr-1"}),u.defects.length," defect",u.defects.length!==1?"s":""," found"]})})]})}),n.jsx("div",{className:"ri-action-buttons",children:u.status===hn.IN_PROGRESS?n.jsxs(J,{variant:"outline",size:"sm",className:"shadow-sm",onClick:()=>s(u),children:[n.jsx(gu,{className:"h-3 w-3 mr-1"}),"Continue"]}):n.jsxs(J,{variant:"outline",size:"sm",className:"shadow-sm",onClick:()=>r(u),children:[n.jsx(Ol,{className:"h-3 w-3 mr-1"}),"View"]})})]},u.id)}),c.length===0&&n.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[n.jsx(gu,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground/50"}),n.jsx("p",{children:"No inspections found"}),n.jsx("p",{className:"text-sm",children:"Create your first inspection to get started"})]})]})})]})]})}function Cce({inspection:e,vehicles:t,onSave:r,onComplete:s,onUpdateItem:a,onAddDefect:i,onAddPhoto:o,onCancel:l}){var U;const{toast:c}=At(),[d,h]=C.useState(!1),[u,f]=C.useState("checklist"),[m,v]=C.useState(e.notes||""),[x,p]=C.useState(!1),[g,b]=C.useState(null),[y,j]=C.useState({title:"",description:"",severity:ws.MEDIUM}),[E,S]=C.useState(!1),[N,w]=C.useState("");C.useEffect(()=>{v(e.notes||"")},[e]);const{getRootProps:_,getInputProps:k}=Rg({accept:{"image/*":[]},onDrop:H=>{if(H.length===0)return;const q=H[0],L=URL.createObjectURL(q);F(L)}}),T=async()=>{h(!0);try{await r({notes:m}),c({title:"Success",description:"Inspection saved successfully"})}catch{c({title:"Error",description:"Failed to save inspection",variant:"destructive"})}finally{h(!1)}},A=async()=>{const H=e.items.filter(q=>{const L=q.templateItem;return(L==null?void 0:L.isRequired)&&q.status===hr.PENDING});if(H.length>0){c({title:"Incomplete Inspection",description:`${H.length} required items are still pending`,variant:"destructive"});return}h(!0);try{await s(e.id,m),c({title:"Success",description:"Inspection completed successfully"}),l()}catch{c({title:"Error",description:"Failed to complete inspection",variant:"destructive"})}finally{h(!1)}},O=async(H,q,L,V)=>{try{await a(e.id,H,{status:q,value:L,notes:V}),q===hr.FAILED&&(b(H),p(!0))}catch{c({title:"Error",description:"Failed to update item",variant:"destructive"})}},D=async()=>{if(!y.title||!y.description){c({title:"Validation Error",description:"Title and description are required",variant:"destructive"});return}try{await i(e.id,{...y,inspectionItemId:g||void 0}),j({title:"",description:"",severity:ws.MEDIUM}),b(null),p(!1),c({title:"Success",description:"Defect added successfully"})}catch{c({title:"Error",description:"Failed to add defect",variant:"destructive"})}},F=async H=>{try{await o(e.id,{url:H,inspectionItemId:g||void 0,caption:N}),w(""),S(!1),c({title:"Success",description:"Photo added successfully"})}catch{c({title:"Error",description:"Failed to add photo",variant:"destructive"})}},M=H=>{switch(H){case hr.PENDING:return"bg-yellow-50 text-yellow-700 border-yellow-200";case hr.PASSED:return"bg-green-50 text-green-700 border-green-200";case hr.FAILED:return"bg-red-50 text-red-700 border-red-200";case hr.NA:return"bg-gray-50 text-gray-700 border-gray-200";default:return"bg-gray-50 text-gray-700 border-gray-200"}},R=H=>{switch(H){case ws.LOW:return"bg-blue-50 text-blue-700 border-blue-200";case ws.MEDIUM:return"bg-yellow-50 text-yellow-700 border-yellow-200";case ws.HIGH:return"bg-orange-50 text-orange-700 border-orange-200";case ws.CRITICAL:return"bg-red-50 text-red-700 border-red-200";default:return"bg-gray-50 text-gray-700 border-gray-200"}},B=t.find(H=>H.id===e.vehicleId);return n.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:n.jsxs(de,{className:"w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[n.jsx(ye,{children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx(be,{children:"PDI Inspection"}),n.jsx($e,{children:B?`${B.year} ${B.make} ${B.model}`:e.vehicleId})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Re,{className:He("ri-badge-status",e.status===hn.IN_PROGRESS?"bg-yellow-50 text-yellow-700 border-yellow-200":e.status===hn.COMPLETED?"bg-blue-50 text-blue-700 border-blue-200":e.status===hn.APPROVED?"bg-green-50 text-green-700 border-green-200":"bg-red-50 text-red-700 border-red-200"),children:e.status.replace("_"," ").toUpperCase()}),n.jsx(J,{variant:"ghost",size:"sm",onClick:l,children:n.jsx(Ut,{className:"h-4 w-4"})})]})]})}),n.jsx(ue,{children:n.jsxs(xr,{value:u,onValueChange:f,className:"space-y-4",children:[n.jsxs(fr,{className:"grid w-full grid-cols-3",children:[n.jsx(Qe,{value:"checklist",children:"Checklist"}),n.jsxs(Qe,{value:"defects",children:["Defects",e.defects.length>0&&n.jsx(Re,{className:"ml-2 bg-red-50 text-red-700 border-red-200",children:e.defects.length})]}),n.jsxs(Qe,{value:"photos",children:["Photos",e.photos.length>0&&n.jsx(Re,{className:"ml-2 bg-blue-50 text-blue-700 border-blue-200",children:e.photos.length})]})]}),n.jsxs(et,{value:"checklist",className:"space-y-6",children:[x&&n.jsxs(de,{className:"border-2 border-red-200",children:[n.jsxs(ye,{className:"bg-red-50",children:[n.jsxs(be,{className:"text-lg text-red-700 flex items-center",children:[n.jsx(Xi,{className:"h-5 w-5 mr-2"}),"Report Defect"]}),n.jsx($e,{className:"text-red-600",children:"Record details about the issue found"})]}),n.jsxs(ue,{className:"pt-6 space-y-4",children:[n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"defectTitle",children:"Defect Title *"}),n.jsx(Pe,{id:"defectTitle",value:y.title,onChange:H=>j(q=>({...q,title:H.target.value})),placeholder:"e.g., Damaged Roof Seal"})]}),n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"defectDescription",children:"Description *"}),n.jsx(tr,{id:"defectDescription",value:y.description,onChange:H=>j(q=>({...q,description:H.target.value})),placeholder:"Describe the defect in detail",rows:3})]}),n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"defectSeverity",children:"Severity"}),n.jsxs(Ve,{value:y.severity,onValueChange:H=>j(q=>({...q,severity:H})),children:[n.jsx(ze,{children:n.jsx(qe,{})}),n.jsxs(Ue,{children:[n.jsx(K,{value:ws.LOW,children:"Low"}),n.jsx(K,{value:ws.MEDIUM,children:"Medium"}),n.jsx(K,{value:ws.HIGH,children:"High"}),n.jsx(K,{value:ws.CRITICAL,children:"Critical"})]})]})]}),n.jsxs("div",{className:"flex justify-end space-x-2",children:[n.jsx(J,{type:"button",variant:"outline",onClick:()=>{p(!1),b(null)},children:"Cancel"}),n.jsx(J,{type:"button",onClick:D,children:"Add Defect"})]})]})]}),E&&n.jsxs(de,{className:"border-2 border-blue-200",children:[n.jsxs(ye,{className:"bg-blue-50",children:[n.jsxs(be,{className:"text-lg text-blue-700 flex items-center",children:[n.jsx(bl,{className:"h-5 w-5 mr-2"}),"Add Photo"]}),n.jsx($e,{className:"text-blue-600",children:"Upload a photo for documentation"})]}),n.jsxs(ue,{className:"pt-6 space-y-4",children:[n.jsxs("div",{..._(),className:"border-2 border-dashed rounded-lg p-6 text-center cursor-pointer hover:bg-muted/10",children:[n.jsx("input",{...k()}),n.jsx(yf,{className:"h-8 w-8 mx-auto mb-2 text-muted-foreground"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Drag & drop an image here, or click to select a file"})]}),n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"photoCaption",children:"Caption (Optional)"}),n.jsx(Pe,{id:"photoCaption",value:N,onChange:H=>w(H.target.value),placeholder:"e.g., Front view of vehicle"})]}),n.jsxs("div",{className:"flex justify-end space-x-2",children:[n.jsx(J,{type:"button",variant:"outline",onClick:()=>{S(!1),b(null),w("")},children:"Cancel"}),n.jsx(J,{type:"button",onClick:()=>{F("https://images.pexels.com/photos/1319515/pexels-photo-1319515.jpeg")},children:"Simulate Upload"})]})]})]}),(U=e.template)==null?void 0:U.sections.map(H=>n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-lg font-semibold",children:H.name}),H.description&&n.jsx("p",{className:"text-sm text-muted-foreground",children:H.description}),n.jsx("div",{className:"space-y-3",children:H.items.map(q=>{const L=e.items.find(V=>V.templateItemId===q.id);return L?n.jsx(de,{className:"shadow-sm",children:n.jsx(ue,{className:"p-4",children:n.jsxs("div",{className:"flex items-start justify-between",children:[n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[n.jsx("h4",{className:"font-medium",children:q.name}),q.isRequired&&n.jsx(Re,{className:"bg-blue-50 text-blue-700 border-blue-200 text-xs",children:"Required"}),n.jsx(Re,{className:He("ri-badge-status text-xs",M(L.status)),children:L.status.toUpperCase()})]}),q.description&&n.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:q.description}),q.itemType==="text"&&n.jsx("div",{className:"mb-3",children:n.jsx(Pe,{value:L.value||"",onChange:V=>O(L.id,hr.PASSED,V.target.value),placeholder:"Enter text"})}),q.itemType==="number"&&n.jsx("div",{className:"mb-3",children:n.jsx(Pe,{type:"number",value:L.value||"",onChange:V=>O(L.id,hr.PASSED,V.target.value),placeholder:"Enter number"})}),q.itemType==="photo"&&n.jsxs("div",{className:"mb-3",children:[n.jsxs(J,{variant:"outline",size:"sm",onClick:()=>{b(L.id),S(!0)},children:[n.jsx(bl,{className:"h-4 w-4 mr-2"}),"Add Photo"]}),e.photos.filter(V=>V.inspectionItemId===L.id).length>0&&n.jsx("div",{className:"grid grid-cols-3 gap-2 mt-2",children:e.photos.filter(V=>V.inspectionItemId===L.id).map(V=>n.jsxs("div",{className:"relative",children:[n.jsx("img",{src:V.url,alt:V.caption||"Inspection photo",className:"h-20 w-full object-cover rounded-md"}),V.caption&&n.jsx("div",{className:"absolute bottom-0 left-0 right-0 bg-black/50 text-white text-xs p-1 truncate",children:V.caption})]},V.id))})]}),L.notes&&n.jsx("div",{className:"mb-3 p-2 bg-muted/30 rounded-md",children:n.jsxs("p",{className:"text-sm text-muted-foreground",children:[n.jsx("span",{className:"font-medium",children:"Notes:"})," ",L.notes]})}),L.status!==hr.PENDING&&n.jsx("div",{className:"mb-3",children:n.jsx(tr,{value:L.notes||"",onChange:V=>O(L.id,L.status,L.value,V.target.value),placeholder:"Add notes (optional)",rows:2})})]}),q.itemType==="checkbox"&&n.jsxs("div",{className:"flex items-center space-x-2 ml-4",children:[n.jsxs(J,{variant:L.status===hr.PASSED?"default":"outline",size:"sm",onClick:()=>O(L.id,hr.PASSED),className:L.status===hr.PASSED?"":"border-green-200 text-green-700",children:[n.jsx(Xr,{className:"h-4 w-4 mr-1"}),"Pass"]}),n.jsxs(J,{variant:L.status===hr.FAILED?"default":"outline",size:"sm",onClick:()=>O(L.id,hr.FAILED),className:L.status===hr.FAILED?"":"border-red-200 text-red-700",children:[n.jsx(to,{className:"h-4 w-4 mr-1"}),"Fail"]}),n.jsx(J,{variant:L.status===hr.NA?"default":"outline",size:"sm",onClick:()=>O(L.id,hr.NA),className:L.status===hr.NA?"":"border-gray-200 text-gray-700",children:"N/A"})]})]})})},q.id):null})})]},H.id)),n.jsxs("div",{className:"space-y-4 pt-6 border-t",children:[n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"inspectionNotes",children:"Inspection Notes"}),n.jsx(tr,{id:"inspectionNotes",value:m,onChange:H=>v(H.target.value),placeholder:"Add general notes about this inspection",rows:3})]}),n.jsxs("div",{className:"flex justify-end space-x-3",children:[n.jsx(J,{type:"button",variant:"outline",onClick:l,disabled:d,children:"Cancel"}),n.jsxs(J,{type:"button",onClick:T,disabled:d,children:[n.jsx(Rr,{className:"h-4 w-4 mr-2"}),"Save Progress"]}),n.jsxs(J,{type:"button",onClick:A,disabled:d||e.status!=="in_progress",children:[n.jsx(gu,{className:"h-4 w-4 mr-2"}),"Complete Inspection"]})]})]})]}),n.jsxs(et,{value:"defects",className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("h3",{className:"text-lg font-semibold",children:"Defects"}),n.jsxs(J,{size:"sm",onClick:()=>{b(null),p(!0)},children:[n.jsx(Nt,{className:"h-4 w-4 mr-2"}),"Add Defect"]})]}),e.defects.length===0?n.jsxs("div",{className:"text-center py-8 text-muted-foreground border-2 border-dashed rounded-lg",children:[n.jsx(Xi,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground/50"}),n.jsx("p",{children:"No defects reported"}),n.jsx("p",{className:"text-sm",children:"Add defects when issues are found"})]}):n.jsx("div",{className:"space-y-4",children:e.defects.map(H=>n.jsxs(de,{className:"shadow-sm",children:[n.jsx(ye,{className:"pb-3",children:n.jsx("div",{className:"flex items-center justify-between",children:n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("h4",{className:"font-semibold",children:H.title}),n.jsx(Re,{className:He("ri-badge-status",R(H.severity)),children:H.severity.toUpperCase()}),n.jsx(Re,{className:H.status==="open"?"bg-red-50 text-red-700 border-red-200":H.status==="in_progress"?"bg-yellow-50 text-yellow-700 border-yellow-200":H.status==="resolved"?"bg-blue-50 text-blue-700 border-blue-200":"bg-green-50 text-green-700 border-green-200",children:H.status.replace("_"," ").toUpperCase()})]})})}),n.jsxs(ue,{children:[n.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:H.description}),e.photos.filter(q=>q.defectId===H.id).length>0&&n.jsxs("div",{className:"mb-4",children:[n.jsx("h5",{className:"text-sm font-medium mb-2",children:"Photos"}),n.jsx("div",{className:"grid grid-cols-3 gap-2",children:e.photos.filter(q=>q.defectId===H.id).map(q=>n.jsxs("div",{className:"relative",children:[n.jsx("img",{src:q.url,alt:q.caption||"Defect photo",className:"h-24 w-full object-cover rounded-md"}),q.caption&&n.jsx("div",{className:"absolute bottom-0 left-0 right-0 bg-black/50 text-white text-xs p-1 truncate",children:q.caption})]},q.id))})]}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("div",{className:"text-sm text-muted-foreground",children:H.assignedTo?n.jsxs("span",{children:["Assigned to: ",H.assignedTo]}):n.jsx("span",{children:"Unassigned"})}),n.jsx("div",{className:"flex space-x-2",children:n.jsxs(J,{variant:"outline",size:"sm",onClick:()=>{b(null),S(!0)},children:[n.jsx(bl,{className:"h-3 w-3 mr-1"}),"Add Photo"]})})]})]})]},H.id))})]}),n.jsxs(et,{value:"photos",className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("h3",{className:"text-lg font-semibold",children:"Photos"}),n.jsxs(J,{size:"sm",onClick:()=>{b(null),S(!0)},children:[n.jsx(bl,{className:"h-4 w-4 mr-2"}),"Add Photo"]})]}),e.photos.length===0?n.jsxs("div",{className:"text-center py-8 text-muted-foreground border-2 border-dashed rounded-lg",children:[n.jsx(yf,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground/50"}),n.jsx("p",{children:"No photos added"}),n.jsx("p",{className:"text-sm",children:"Add photos to document the inspection"})]}):n.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:e.photos.map(H=>n.jsxs("div",{className:"relative",children:[n.jsx("img",{src:H.url,alt:H.caption||"Inspection photo",className:"h-40 w-full object-cover rounded-md"}),H.caption&&n.jsx("div",{className:"absolute bottom-0 left-0 right-0 bg-black/50 text-white p-2 truncate",children:H.caption})]},H.id))})]})]})})]})})}function Ace({inspection:e,vehicles:t,onAddSignoff:r,onClose:s}){var S,N;const{toast:a}=At(),[i,o]=C.useState("summary"),[l,c]=C.useState(!1),[d,h]=C.useState(""),[u,f]=C.useState(Xd.INSPECTOR),m=async()=>{try{await r(e.id,{role:u,notes:d,signatureUrl:"https://via.placeholder.com/200x100?text=Signature"}),c(!1),h(""),a({title:"Success",description:"Signoff added successfully"})}catch{a({title:"Error",description:"Failed to add signoff",variant:"destructive"})}},v=w=>{switch(w){case hr.PENDING:return"bg-yellow-50 text-yellow-700 border-yellow-200";case hr.PASSED:return"bg-green-50 text-green-700 border-green-200";case hr.FAILED:return"bg-red-50 text-red-700 border-red-200";case hr.NA:return"bg-gray-50 text-gray-700 border-gray-200";default:return"bg-gray-50 text-gray-700 border-gray-200"}},x=w=>{switch(w){case ws.LOW:return"bg-blue-50 text-blue-700 border-blue-200";case ws.MEDIUM:return"bg-yellow-50 text-yellow-700 border-yellow-200";case ws.HIGH:return"bg-orange-50 text-orange-700 border-orange-200";case ws.CRITICAL:return"bg-red-50 text-red-700 border-red-200";default:return"bg-gray-50 text-gray-700 border-gray-200"}},p=t.find(w=>w.id===e.vehicleId),g=e.items.filter(w=>w.status===hr.PASSED).length,b=e.items.filter(w=>w.status===hr.FAILED).length,y=e.items.filter(w=>w.status===hr.NA).length,j=e.items.length,E=Math.round((g+b+y)/j*100);return n.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:n.jsxs(de,{className:"w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[n.jsx(ye,{children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx(be,{children:"PDI Inspection Report"}),n.jsx($e,{children:p?`${p.year} ${p.make} ${p.model}`:e.vehicleId})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Re,{className:He("ri-badge-status",e.status===hn.IN_PROGRESS?"bg-yellow-50 text-yellow-700 border-yellow-200":e.status===hn.COMPLETED?"bg-blue-50 text-blue-700 border-blue-200":e.status===hn.APPROVED?"bg-green-50 text-green-700 border-green-200":"bg-red-50 text-red-700 border-red-200"),children:e.status.replace("_"," ").toUpperCase()}),n.jsx(J,{variant:"ghost",size:"sm",onClick:s,children:n.jsx(Ut,{className:"h-4 w-4"})})]})]})}),n.jsx(ue,{children:n.jsxs(xr,{value:i,onValueChange:o,className:"space-y-4",children:[n.jsxs(fr,{className:"grid w-full grid-cols-4",children:[n.jsx(Qe,{value:"summary",children:"Summary"}),n.jsx(Qe,{value:"checklist",children:"Checklist"}),n.jsxs(Qe,{value:"defects",children:["Defects",e.defects.length>0&&n.jsx(Re,{className:"ml-2 bg-red-50 text-red-700 border-red-200",children:e.defects.length})]}),n.jsxs(Qe,{value:"signoffs",children:["Signoffs",e.signoffs.length>0&&n.jsx(Re,{className:"ml-2 bg-green-50 text-green-700 border-green-200",children:e.signoffs.length})]})]}),n.jsxs(et,{value:"summary",className:"space-y-6",children:[n.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[n.jsxs(de,{className:"shadow-sm",children:[n.jsx(ye,{children:n.jsx(be,{className:"text-lg",children:"Inspection Details"})}),n.jsx(ue,{children:n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"Status"}),n.jsx("p",{className:"font-medium",children:e.status.replace("_"," ")})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"Inspector"}),n.jsx("p",{className:"font-medium",children:((S=e.inspector)==null?void 0:S.name)||e.inspectorId})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"Started"}),n.jsx("p",{className:"font-medium",children:ct(e.startedAt)})]}),e.completedAt&&n.jsxs("div",{children:[n.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"Completed"}),n.jsx("p",{className:"font-medium",children:ct(e.completedAt)})]})]}),e.notes&&n.jsxs("div",{children:[n.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"Notes"}),n.jsx("p",{className:"text-sm mt-1 p-3 bg-muted/30 rounded-md",children:e.notes})]})]})})]}),n.jsxs(de,{className:"shadow-sm",children:[n.jsx(ye,{children:n.jsx(be,{className:"text-lg",children:"Inspection Results"})}),n.jsx(ue,{children:n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-sm font-medium",children:"Completion"}),n.jsxs("span",{className:"text-sm font-bold",children:[E,"%"]})]}),n.jsx("div",{className:"w-full bg-muted rounded-full h-2.5",children:n.jsx("div",{className:"bg-primary h-2.5 rounded-full",style:{width:`${E}%`}})}),n.jsxs("div",{className:"grid grid-cols-3 gap-2 text-center",children:[n.jsxs("div",{className:"p-3 bg-green-50 rounded-lg",children:[n.jsx("div",{className:"text-lg font-bold text-green-700",children:g}),n.jsx("p",{className:"text-xs text-green-600",children:"Passed"})]}),n.jsxs("div",{className:"p-3 bg-red-50 rounded-lg",children:[n.jsx("div",{className:"text-lg font-bold text-red-700",children:b}),n.jsx("p",{className:"text-xs text-red-600",children:"Failed"})]}),n.jsxs("div",{className:"p-3 bg-gray-50 rounded-lg",children:[n.jsx("div",{className:"text-lg font-bold text-gray-700",children:y}),n.jsx("p",{className:"text-xs text-gray-600",children:"N/A"})]})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-sm font-medium",children:"Defects"}),n.jsx("span",{className:"text-sm font-bold text-red-600",children:e.defects.length})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-sm font-medium",children:"Photos"}),n.jsx("span",{className:"text-sm font-bold",children:e.photos.length})]})]})})]})]}),n.jsxs("div",{className:"flex justify-end space-x-3",children:[n.jsx(J,{variant:"outline",onClick:s,children:"Close"}),n.jsxs(J,{variant:"outline",children:[n.jsx(Pu,{className:"h-4 w-4 mr-2"}),"Print Report"]}),n.jsxs(J,{variant:"outline",children:[n.jsx(wa,{className:"h-4 w-4 mr-2"}),"Export PDF"]}),e.status==="completed"&&n.jsxs(J,{onClick:()=>c(!0),children:[n.jsx(f0,{className:"h-4 w-4 mr-2"}),"Add Signoff"]})]})]}),n.jsx(et,{value:"checklist",className:"space-y-6",children:(N=e.template)==null?void 0:N.sections.map(w=>n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-lg font-semibold",children:w.name}),w.description&&n.jsx("p",{className:"text-sm text-muted-foreground",children:w.description}),n.jsx("div",{className:"space-y-3",children:w.items.map(_=>{const k=e.items.find(T=>T.templateItemId===_.id);return k?n.jsx(de,{className:"shadow-sm",children:n.jsx(ue,{className:"p-4",children:n.jsxs("div",{className:"flex items-start justify-between",children:[n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[n.jsx("h4",{className:"font-medium",children:_.name}),_.isRequired&&n.jsx(Re,{className:"bg-blue-50 text-blue-700 border-blue-200 text-xs",children:"Required"}),n.jsx(Re,{className:He("ri-badge-status text-xs",v(k.status)),children:k.status.toUpperCase()})]}),_.description&&n.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:_.description}),k.value&&n.jsx("div",{className:"mb-2 p-2 bg-muted/30 rounded-md",children:n.jsxs("p",{className:"text-sm",children:[n.jsx("span",{className:"font-medium",children:"Value:"})," ",k.value]})}),k.notes&&n.jsx("div",{className:"mb-2 p-2 bg-muted/30 rounded-md",children:n.jsxs("p",{className:"text-sm text-muted-foreground",children:[n.jsx("span",{className:"font-medium",children:"Notes:"})," ",k.notes]})}),e.photos.filter(T=>T.inspectionItemId===k.id).length>0&&n.jsxs("div",{className:"mt-2",children:[n.jsx("h5",{className:"text-sm font-medium mb-1",children:"Photos"}),n.jsx("div",{className:"grid grid-cols-3 gap-2",children:e.photos.filter(T=>T.inspectionItemId===k.id).map(T=>n.jsxs("div",{className:"relative",children:[n.jsx("img",{src:T.url,alt:T.caption||"Inspection photo",className:"h-20 w-full object-cover rounded-md"}),T.caption&&n.jsx("div",{className:"absolute bottom-0 left-0 right-0 bg-black/50 text-white text-xs p-1 truncate",children:T.caption})]},T.id))})]}),e.defects.filter(T=>T.inspectionItemId===k.id).length>0&&n.jsxs("div",{className:"mt-2",children:[n.jsx("h5",{className:"text-sm font-medium mb-1 text-red-600",children:"Defects"}),e.defects.filter(T=>T.inspectionItemId===k.id).map(T=>n.jsxs("div",{className:"p-2 bg-red-50 rounded-md mb-2",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("span",{className:"font-medium text-red-700",children:T.title}),n.jsx(Re,{className:He("ri-badge-status text-xs",x(T.severity)),children:T.severity.toUpperCase()})]}),n.jsx("p",{className:"text-sm text-red-600 mt-1",children:T.description})]},T.id))]})]}),n.jsxs("div",{className:"ml-4",children:[k.status===hr.PASSED&&n.jsx(Xr,{className:"h-6 w-6 text-green-500"}),k.status===hr.FAILED&&n.jsx(to,{className:"h-6 w-6 text-red-500"}),k.status===hr.PENDING&&n.jsx(sr,{className:"h-6 w-6 text-yellow-500"}),k.status===hr.NA&&n.jsx("span",{className:"text-sm font-medium text-gray-500",children:"N/A"})]})]})})},_.id):null})})]},w.id))}),n.jsxs(et,{value:"defects",className:"space-y-4",children:[n.jsx("h3",{className:"text-lg font-semibold",children:"Defects"}),e.defects.length===0?n.jsxs("div",{className:"text-center py-8 text-muted-foreground border-2 border-dashed rounded-lg",children:[n.jsx(Xr,{className:"h-12 w-12 mx-auto mb-4 text-green-500"}),n.jsx("p",{children:"No defects reported"}),n.jsx("p",{className:"text-sm",children:"This vehicle passed inspection without issues"})]}):n.jsx("div",{className:"space-y-4",children:e.defects.map(w=>n.jsxs(de,{className:"shadow-sm",children:[n.jsx(ye,{className:"pb-3",children:n.jsx("div",{className:"flex items-center justify-between",children:n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("h4",{className:"font-semibold",children:w.title}),n.jsx(Re,{className:He("ri-badge-status",x(w.severity)),children:w.severity.toUpperCase()}),n.jsx(Re,{className:w.status==="open"?"bg-red-50 text-red-700 border-red-200":w.status==="in_progress"?"bg-yellow-50 text-yellow-700 border-yellow-200":w.status==="resolved"?"bg-blue-50 text-blue-700 border-blue-200":"bg-green-50 text-green-700 border-green-200",children:w.status.replace("_"," ").toUpperCase()})]})})}),n.jsxs(ue,{children:[n.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:w.description}),e.photos.filter(_=>_.defectId===w.id).length>0&&n.jsxs("div",{className:"mb-4",children:[n.jsx("h5",{className:"text-sm font-medium mb-2",children:"Photos"}),n.jsx("div",{className:"grid grid-cols-3 gap-2",children:e.photos.filter(_=>_.defectId===w.id).map(_=>n.jsxs("div",{className:"relative",children:[n.jsx("img",{src:_.url,alt:_.caption||"Defect photo",className:"h-24 w-full object-cover rounded-md"}),_.caption&&n.jsx("div",{className:"absolute bottom-0 left-0 right-0 bg-black/50 text-white text-xs p-1 truncate",children:_.caption})]},_.id))})]}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("div",{className:"text-sm text-muted-foreground",children:w.assignedTo?n.jsxs("span",{children:["Assigned to: ",w.assignedTo]}):n.jsx("span",{children:"Unassigned"})}),w.resolvedAt&&n.jsxs("div",{className:"text-sm text-green-600",children:["Resolved: ",ct(w.resolvedAt)]})]}),w.resolutionNotes&&n.jsx("div",{className:"mt-3 p-2 bg-blue-50 rounded-md",children:n.jsxs("p",{className:"text-sm text-blue-700",children:[n.jsx("span",{className:"font-medium",children:"Resolution:"})," ",w.resolutionNotes]})})]})]},w.id))})]}),n.jsxs(et,{value:"signoffs",className:"space-y-4",children:[l&&n.jsxs(de,{className:"border-2 border-green-200 mb-6",children:[n.jsxs(ye,{className:"bg-green-50",children:[n.jsxs(be,{className:"text-lg text-green-700 flex items-center",children:[n.jsx(f0,{className:"h-5 w-5 mr-2"}),"Add Signoff"]}),n.jsx($e,{className:"text-green-600",children:"Sign off on the completed inspection"})]}),n.jsxs(ue,{className:"pt-6 space-y-4",children:[n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"signoffRole",children:"Role"}),n.jsxs("select",{id:"signoffRole",value:u,onChange:w=>f(w.target.value),className:"w-full p-2 border rounded-md",children:[n.jsx("option",{value:Xd.INSPECTOR,children:"Inspector"}),n.jsx("option",{value:Xd.MANAGER,children:"Manager"}),n.jsx("option",{value:Xd.QUALITY_CONTROL,children:"Quality Control"})]})]}),n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"signoffNotes",children:"Notes (Optional)"}),n.jsx(tr,{id:"signoffNotes",value:d,onChange:w=>h(w.target.value),placeholder:"Add any notes about this signoff",rows:3})]}),n.jsxs("div",{className:"border-2 border-dashed rounded-lg p-6 text-center",children:[n.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Signature Capture"}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"In a real app, this would be a signature pad"})]}),n.jsxs("div",{className:"flex justify-end space-x-2",children:[n.jsx(J,{type:"button",variant:"outline",onClick:()=>{c(!1),h("")},children:"Cancel"}),n.jsx(J,{type:"button",onClick:m,children:"Add Signoff"})]})]})]}),n.jsx("h3",{className:"text-lg font-semibold",children:"Signoffs"}),e.signoffs.length===0?n.jsxs("div",{className:"text-center py-8 text-muted-foreground border-2 border-dashed rounded-lg",children:[n.jsx(f0,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground/50"}),n.jsx("p",{children:"No signoffs yet"}),n.jsx("p",{className:"text-sm",children:"Add signoffs to approve the inspection"})]}):n.jsx("div",{className:"space-y-4",children:e.signoffs.map(w=>{var _;return n.jsx(de,{className:"shadow-sm",children:n.jsx(ue,{className:"p-4",children:n.jsxs("div",{className:"flex items-start justify-between",children:[n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[n.jsx("h4",{className:"font-medium",children:((_=w.user)==null?void 0:_.name)||w.userId}),n.jsx(Re,{className:"bg-blue-50 text-blue-700 border-blue-200",children:w.role.replace("_"," ").toUpperCase()})]}),n.jsxs("p",{className:"text-sm text-muted-foreground mb-2",children:["Signed: ",ct(w.signedAt)]}),w.notes&&n.jsx("p",{className:"text-sm text-muted-foreground p-2 bg-muted/30 rounded-md",children:w.notes})]}),n.jsx("div",{className:"ml-4",children:w.signatureUrl?n.jsx("img",{src:w.signatureUrl,alt:"Signature",className:"h-12 object-contain"}):n.jsx("div",{className:"h-12 w-32 border-2 border-dashed rounded flex items-center justify-center",children:n.jsx("span",{className:"text-xs text-muted-foreground",children:"No signature"})})})]})})},w.id)})}),e.status==="completed"&&!l&&n.jsx("div",{className:"flex justify-end mt-4",children:n.jsxs(J,{onClick:()=>c(!0),children:[n.jsx(f0,{className:"h-4 w-4 mr-2"}),"Add Signoff"]})})]})]})})]})})}function Ece({templates:e,vehicles:t,currentUserId:r,onCreateInspection:s,onCancel:a}){const{toast:i}=At(),[o,l]=C.useState(!1),[c,d]=C.useState(""),[h,u]=C.useState(""),[f,m]=C.useState(""),[v,x]=C.useState([]);C.useEffect(()=>{if(c){const g=t.find(b=>b.id===c);if(g){const b=g.type,y=e.filter(j=>j.isActive&&j.vehicleType===b);x(y),y.length===1?u(y[0].id):u("")}}else x([]),u("")},[c,e,t]);const p=async g=>{if(g.preventDefault(),!c){i({title:"Validation Error",description:"Please select a vehicle",variant:"destructive"});return}if(!h){i({title:"Validation Error",description:"Please select a template",variant:"destructive"});return}l(!0);try{await s({templateId:h,vehicleId:c,inspectorId:r,notes:f}),i({title:"Success",description:"Inspection created successfully"})}catch{i({title:"Error",description:"Failed to create inspection",variant:"destructive"})}finally{l(!1)}};return n.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:n.jsxs(de,{className:"w-full max-w-md",children:[n.jsx(ye,{children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx(be,{children:"New PDI Inspection"}),n.jsx($e,{children:"Create a new pre-delivery inspection"})]}),n.jsx(J,{variant:"ghost",size:"sm",onClick:a,children:n.jsx(Ut,{className:"h-4 w-4"})})]})}),n.jsx(ue,{children:n.jsxs("form",{onSubmit:p,className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"vehicle",children:"Vehicle *"}),n.jsxs(Ve,{value:c,onValueChange:d,children:[n.jsx(ze,{children:n.jsx(qe,{placeholder:"Select a home/vehicle"})}),n.jsx(Ue,{children:t.map(g=>n.jsxs(K,{value:g.id,children:[g.year," ",g.make," ",g.model," - ",g.vin]},g.id))})]})]}),n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"template",children:"Inspection Template *"}),n.jsxs(Ve,{value:h,onValueChange:u,disabled:v.length===0,children:[n.jsx(ze,{children:n.jsx(qe,{placeholder:v.length===0?"Select a home/vehicle first":"Select a template"})}),n.jsx(Ue,{children:v.map(g=>n.jsx(K,{value:g.id,children:g.name},g.id))})]}),v.length===0&&c&&n.jsx("p",{className:"text-xs text-red-500 mt-1",children:"No templates available for this vehicle type"})]}),n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"notes",children:"Notes (Optional)"}),n.jsx(tr,{id:"notes",value:f,onChange:g=>m(g.target.value),placeholder:"Add any initial notes about this inspection",rows:3})]}),n.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[n.jsx(J,{type:"button",variant:"outline",onClick:a,disabled:o,children:"Cancel"}),n.jsx(J,{type:"submit",disabled:o||!c||!h,children:o?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Creating..."]}):n.jsxs(n.Fragment,{children:[n.jsx(gu,{className:"h-4 w-4 mr-2"}),"Start Inspection"]})})]})]})})]})})}function $I(){const{templates:e,inspections:t,createTemplate:r,updateTemplate:s,deleteTemplate:a,createInspection:i,updateInspection:o,updateInspectionItem:l,completeInspection:c,createDefect:d,addPhoto:h,addSignoff:u}=jce(),{vehicles:f}=cd(),{user:m}=im(),{toast:v}=At(),[x,p]=C.useState("inspections"),[g,b]=C.useState(!1),[y,j]=C.useState(!1),[E,S]=C.useState(!1),[N,w]=C.useState(!1),[_,k]=C.useState(null),[T,A]=C.useState(null),O=()=>{k(null),b(!0)},D=re=>{k(re),b(!0)},F=re=>{k(re),b(!0)},M=async re=>{if(window.confirm("Are you sure you want to delete this template?"))try{await a(re),v({title:"Success",description:"Template deleted successfully"})}catch{v({title:"Error",description:"Failed to delete template",variant:"destructive"})}},R=async re=>{try{const Ce={...re,id:void 0,name:`${re.name} (Copy)`};await r(Ce),v({title:"Success",description:"Template duplicated successfully"})}catch{v({title:"Error",description:"Failed to duplicate template",variant:"destructive"})}},B=async re=>{try{_?await s(_.id,re):await r(re),b(!1),k(null)}catch{v({title:"Error",description:`Failed to ${_?"update":"create"} template`,variant:"destructive"})}},U=()=>{S(!0)},H=async re=>{try{const Ce=await i(re);S(!1),A(Ce),j(!0)}catch{v({title:"Error",description:"Failed to create inspection",variant:"destructive"})}},q=re=>{A(re),w(!0)},L=re=>{A(re),j(!0)},V=async re=>{if(T)try{await o(T.id,re),v({title:"Success",description:"Inspection saved successfully"})}catch{v({title:"Error",description:"Failed to save inspection",variant:"destructive"})}},G=async(re,Ce)=>{try{await c(re,Ce),j(!1),A(null),v({title:"Success",description:"Inspection completed successfully"})}catch{v({title:"Error",description:"Failed to complete inspection",variant:"destructive"})}},Z=async(re,Ce,Ne)=>{try{await l(re,Ce,Ne)}catch{v({title:"Error",description:"Failed to update item",variant:"destructive"})}},te=async(re,Ce)=>{try{await d(re,Ce)}catch{v({title:"Error",description:"Failed to add defect",variant:"destructive"})}},he=async(re,Ce)=>{try{await h(re,Ce)}catch{v({title:"Error",description:"Failed to add photo",variant:"destructive"})}},fe=async(re,Ce)=>{try{await u(re,{...Ce,userId:(m==null?void 0:m.id)||"current-user"})}catch{v({title:"Error",description:"Failed to add signoff",variant:"destructive"})}},oe=e.length,we=e.filter(re=>re.isActive).length,je=t.length,ve=t.filter(re=>re.status===hn.COMPLETED||re.status===hn.APPROVED).length,Le=t.filter(re=>re.status===hn.IN_PROGRESS).length,ge=t.reduce((re,Ce)=>re+Ce.defects.length,0),le=t.reduce((re,Ce)=>re+Ce.defects.filter(Ne=>Ne.status==="open"||Ne.status==="in_progress").length,0);return t.reduce((re,Ce)=>re+Ce.photos.length,0),n.jsxs("div",{className:"space-y-8",children:[g&&n.jsx(Nce,{template:_||void 0,onSave:B,onCancel:()=>{b(!1),k(null)}}),E&&n.jsx(Ece,{templates:e,vehicles:f,currentUserId:(m==null?void 0:m.id)||"current-user",onCreateInspection:H,onCancel:()=>S(!1)}),y&&T&&n.jsx(Cce,{inspection:T,vehicles:f,onSave:V,onComplete:G,onUpdateItem:Z,onAddDefect:te,onAddPhoto:he,onCancel:()=>{j(!1),A(null)}}),N&&T&&n.jsx(Ace,{inspection:T,vehicles:f,onAddSignoff:fe,onClose:()=>{w(!1),A(null)}}),n.jsx("div",{className:"ri-page-header",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"ri-page-title",children:"PDI Checklist - Home/Vehicle"}),n.jsx("p",{className:"ri-page-description",children:"Manage pre-delivery inspections and quality control for homes and vehicles"})]}),n.jsxs(J,{className:"shadow-sm",onClick:U,children:[n.jsx(Nt,{className:"h-4 w-4 mr-2"}),"New Inspection"]})]})}),n.jsxs("div",{className:"ri-stats-grid",children:[n.jsxs(de,{className:"shadow-sm border-0 bg-gradient-to-br from-blue-50 to-blue-100/50",children:[n.jsxs(ye,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(be,{className:"text-sm font-medium text-blue-900",children:"Inspections"}),n.jsx(gu,{className:"h-4 w-4 text-blue-600"})]}),n.jsxs(ue,{children:[n.jsx("div",{className:"text-2xl font-bold text-blue-900",children:je}),n.jsxs("p",{className:"text-xs text-blue-600 flex items-center mt-1",children:[n.jsx(_t,{className:"h-3 w-3 mr-1"}),ve," completed"]})]})]}),n.jsxs(de,{className:"shadow-sm border-0 bg-gradient-to-br from-yellow-50 to-yellow-100/50",children:[n.jsxs(ye,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(be,{className:"text-sm font-medium text-yellow-900",children:"In Progress"}),n.jsx(gu,{className:"h-4 w-4 text-yellow-600"})]}),n.jsxs(ue,{children:[n.jsx("div",{className:"text-2xl font-bold text-yellow-900",children:Le}),n.jsxs("p",{className:"text-xs text-yellow-600 flex items-center mt-1",children:[n.jsx(_t,{className:"h-3 w-3 mr-1"}),"Active inspections"]})]})]}),n.jsxs(de,{className:"shadow-sm border-0 bg-gradient-to-br from-red-50 to-red-100/50",children:[n.jsxs(ye,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(be,{className:"text-sm font-medium text-red-900",children:"Open Defects"}),n.jsx(Xi,{className:"h-4 w-4 text-red-600"})]}),n.jsxs(ue,{children:[n.jsx("div",{className:"text-2xl font-bold text-red-900",children:le}),n.jsxs("p",{className:"text-xs text-red-600 flex items-center mt-1",children:[n.jsx(_t,{className:"h-3 w-3 mr-1"}),ge," total defects"]})]})]}),n.jsxs(de,{className:"shadow-sm border-0 bg-gradient-to-br from-green-50 to-green-100/50",children:[n.jsxs(ye,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(be,{className:"text-sm font-medium text-green-900",children:"Templates"}),n.jsx(p4,{className:"h-4 w-4 text-green-600"})]}),n.jsxs(ue,{children:[n.jsx("div",{className:"text-2xl font-bold text-green-900",children:oe}),n.jsxs("p",{className:"text-xs text-green-600 flex items-center mt-1",children:[n.jsx(_t,{className:"h-3 w-3 mr-1"}),we," active"]})]})]})]}),n.jsxs(xr,{value:x,onValueChange:p,className:"space-y-6",children:[n.jsxs(fr,{className:"grid w-full grid-cols-2",children:[n.jsx(Qe,{value:"inspections",children:"Inspections"}),n.jsx(Qe,{value:"templates",children:"Templates"})]}),n.jsx(et,{value:"inspections",children:n.jsx(Sce,{inspections:t,onCreateInspection:U,onViewInspection:q,onContinueInspection:L})}),n.jsx(et,{value:"templates",children:n.jsx(wce,{templates:e,onCreateTemplate:O,onEditTemplate:D,onDeleteTemplate:M,onDuplicateTemplate:R,onViewTemplate:F})})]})]})}function Pce(){return n.jsxs(Ps,{children:[n.jsx(Ft,{path:"/",element:n.jsx($I,{})}),n.jsx(Ft,{path:"/*",element:n.jsx($I,{})})]})}function Tce(){const[e,t]=C.useState([]),[r,s]=C.useState([]),[a,i]=C.useState([]),[o,l]=C.useState(!1);C.useEffect(()=>{c()},[]);const c=()=>{const A=mn("renter-insight-commissions",[{id:"1",salesPersonId:"sales-001",dealId:"deal-001",type:pr.PERCENTAGE,rate:.05,amount:6875,status:Rt.APPROVED,paidDate:new Date("2024-01-20"),notes:"Commission for Georgetown sale",customFields:{},createdAt:new Date("2024-01-18"),updatedAt:new Date("2024-01-20")},{id:"2",salesPersonId:"sales-002",dealId:"deal-002",type:pr.FLAT,rate:0,amount:2500,status:Rt.PENDING,notes:"Flat commission for service contract",customFields:{},createdAt:new Date("2024-01-15"),updatedAt:new Date("2024-01-15")}]),O=mn("renter-insight-commission-rules",[{id:"1",name:"Standard Sales Commission",type:"percentage",rate:.05,isActive:!0,createdAt:new Date("2024-01-01"),updatedAt:new Date("2024-01-01")},{id:"2",name:"Service Contract Bonus",type:"flat",amount:500,isActive:!0,createdAt:new Date("2024-01-01"),updatedAt:new Date("2024-01-01")},{id:"3",name:"Tiered Sales Commission",type:"tiered",tiers:[{id:"1",ruleId:"3",minAmount:0,maxAmount:5e4,rate:.03},{id:"2",ruleId:"3",minAmount:5e4,maxAmount:1e5,rate:.05},{id:"3",ruleId:"3",minAmount:1e5,rate:.07}],isActive:!0,createdAt:new Date("2024-01-01"),updatedAt:new Date("2024-01-01")}]),D=mn("renter-insight-commission-audit",[{id:"1",commissionId:"1",userId:"user-001",userName:"Admin User",action:"created",newValue:{salesPersonId:"sales-001",dealId:"deal-001",type:pr.PERCENTAGE,rate:.05,amount:6875,status:Rt.PENDING},timestamp:new Date("2024-01-18")},{id:"2",commissionId:"1",userId:"user-001",userName:"Admin User",action:"approved",previousValue:{status:Rt.PENDING},newValue:{status:Rt.APPROVED},notes:"Approved after deal verification",timestamp:new Date("2024-01-19")}]);t(A),s(O),i(D)},d=A=>{Gr("renter-insight-commissions",A)},h=A=>{Gr("renter-insight-commission-rules",A)},u=A=>{Gr("renter-insight-commission-audit",A)},f=A=>e.filter(O=>O.salesPersonId===A),m=A=>e.filter(O=>O.dealId===A),v=A=>e.find(O=>O.id===A),x=A=>r.find(O=>O.id===A),p=A=>a.filter(O=>O.commissionId===A).sort((O,D)=>D.timestamp.getTime()-O.timestamp.getTime()),g=async(A,O,D)=>{l(!0);try{const F={id:Math.random().toString(36).substr(2,9),salesPersonId:A.salesPersonId||"",dealId:A.dealId||"",type:A.type||pr.PERCENTAGE,rate:A.rate||0,amount:A.amount||0,status:Rt.PENDING,notes:A.notes||"",customFields:A.customFields||{},createdAt:new Date,updatedAt:new Date},M=[...e,F];t(M),d(M);const R={id:Math.random().toString(36).substr(2,9),commissionId:F.id,userId:O,userName:D,action:"created",newValue:{...F},timestamp:new Date},B=[...a,R];return i(B),u(B),F}finally{l(!1)}},b=async(A,O,D,F,M)=>{const R=e.find(L=>L.id===A);if(!R)return null;const B={...R,...O,updatedAt:new Date},U=e.map(L=>L.id===A?B:L);t(U),d(U);const H={id:Math.random().toString(36).substr(2,9),commissionId:A,userId:D,userName:F,action:"updated",previousValue:{...R},newValue:O,notes:M,timestamp:new Date},q=[...a,H];return i(q),u(q),B};return{commissions:e,rules:r,auditTrail:a,loading:o,getCommissionsBySalesPerson:f,getCommissionsByDeal:m,getCommissionById:v,getRuleById:x,getAuditTrailByCommission:p,createCommission:g,updateCommission:b,approveCommission:async(A,O,D,F)=>b(A,{status:Rt.APPROVED},O,D,F),rejectCommission:async(A,O,D,F)=>b(A,{status:Rt.CANCELLED},O,D,F),markCommissionPaid:async(A,O,D,F)=>b(A,{status:Rt.PAID,paidDate:new Date},O,D,F),createRule:async A=>{l(!0);try{let O;switch(A.type){case"flat":O={id:Math.random().toString(36).substr(2,9),name:A.name||"",type:"flat",amount:A.amount||0,isActive:A.isActive??!0,createdAt:new Date,updatedAt:new Date};break;case"percentage":O={id:Math.random().toString(36).substr(2,9),name:A.name||"",type:"percentage",rate:A.rate||0,isActive:A.isActive??!0,createdAt:new Date,updatedAt:new Date};break;case"tiered":O={id:Math.random().toString(36).substr(2,9),name:A.name||"",type:"tiered",tiers:A.tiers||[],isActive:A.isActive??!0,createdAt:new Date,updatedAt:new Date};break;default:throw new Error("Invalid commission rule type")}const D=[...r,O];return s(D),h(D),O}finally{l(!1)}},updateRule:async(A,O)=>{const D=r.find(R=>R.id===A);if(!D)return null;const F={...D,...O,updatedAt:new Date},M=r.map(R=>R.id===A?F:R);return s(M),h(M),F},deleteRule:async A=>{const O=r.filter(D=>D.id!==A);s(O),h(O)},calculateCommission:(A,O)=>{const D=r.find(F=>F.id===O);if(!D)return 0;switch(D.type){case"flat":return D.amount;case"percentage":return A*D.rate;case"tiered":const M=D.tiers.find(R=>A>=R.minAmount&&(R.maxAmount===void 0||A<R.maxAmount));return M?A*M.rate:0;default:return 0}},generateCommissionReport:A=>{let O=[...e];A.startDate&&(O=O.filter(F=>new Date(F.createdAt)>=new Date(A.startDate))),A.endDate&&(O=O.filter(F=>new Date(F.createdAt)<=new Date(A.endDate))),A.salesPersonId&&(O=O.filter(F=>F.salesPersonId===A.salesPersonId)),A.status&&(O=O.filter(F=>F.status===A.status)),A.type&&(O=O.filter(F=>F.type===A.type));const D={totalCommissions:O.length,totalAmount:O.reduce((F,M)=>F+M.amount,0),pendingAmount:O.filter(F=>F.status===Rt.PENDING).reduce((F,M)=>F+M.amount,0),approvedAmount:O.filter(F=>F.status===Rt.APPROVED).reduce((F,M)=>F+M.amount,0),paidAmount:O.filter(F=>F.status===Rt.PAID).reduce((F,M)=>F+M.amount,0),byType:{flat:O.filter(F=>F.type===pr.FLAT).reduce((F,M)=>F+M.amount,0),percentage:O.filter(F=>F.type===pr.PERCENTAGE).reduce((F,M)=>F+M.amount,0),tiered:O.filter(F=>F.type===pr.TIERED).reduce((F,M)=>F+M.amount,0)}};return{commissions:O,summary:D}},exportCommissionsToCSV:A=>{const O=["ID","Sales Person","Deal ID","Type","Rate","Amount","Status","Paid Date","Notes","Created At"],D=A.map(F=>[F.id,F.salesPersonId,F.dealId,F.type,F.rate,F.amount,F.status,F.paidDate?F.paidDate.toISOString():"",F.notes,F.createdAt.toISOString()]);return[O,...D]}}}function _ce({commission:e,salesReps:t,deals:r,rules:s,onSave:a,onCancel:i}){const{toast:o}=At(),[l,c]=C.useState(!1),[d,h]=C.useState({salesPersonId:"",dealId:"",type:pr.PERCENTAGE,rate:.05,amount:0,notes:""}),[u,f]=C.useState(""),[m,v]=C.useState(0),[x,p]=C.useState("");C.useEffect(()=>{if(e){h({...e}),p("");const j=r.find(E=>E.id===e.dealId);j&&v(j.value)}},[e,r]),C.useEffect(()=>{if(d.dealId){const j=r.find(E=>E.id===d.dealId);j&&v(j.value)}},[d.dealId,r]),C.useEffect(()=>{if(u){const j=s.find(S=>S.id===u);if(!j)return;let E=0;switch(j.type){case"flat":E=j.amount,h(_=>({..._,type:pr.FLAT,rate:0,amount:E}));break;case"percentage":const S=j.rate;E=m*S,h(_=>({..._,type:pr.PERCENTAGE,rate:S,amount:E}));break;case"tiered":const w=j.tiers.find(_=>m>=_.minAmount&&(_.maxAmount===void 0||m<_.maxAmount));w&&(E=m*w.rate,h(_=>({..._,type:pr.TIERED,rate:w.rate,amount:E})));break}}else if(d.type===pr.PERCENTAGE){const j=m*(d.rate||0);h(E=>({...E,amount:j}))}},[u,m,d.rate,d.type,s]);const g=async j=>{if(j.preventDefault(),!d.salesPersonId||!d.dealId){o({title:"Validation Error",description:"Sales rep and deal are required",variant:"destructive"});return}if(d.amount<=0){o({title:"Validation Error",description:"Commission amount must be greater than zero",variant:"destructive"});return}c(!0);try{await a(d,x),o({title:"Success",description:`Commission ${e?"updated":"created"} successfully`})}catch{o({title:"Error",description:`Failed to ${e?"update":"create"} commission`,variant:"destructive"})}finally{c(!1)}},b=j=>{f(j)},y=()=>{if(d.type===pr.PERCENTAGE){const j=m*(d.rate||0);h(E=>({...E,amount:j}))}};return n.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:n.jsxs(de,{className:"w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[n.jsx(ye,{children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx(be,{children:e?"Edit Commission":"Create Commission"}),n.jsx($e,{children:e?"Update commission details":"Create a new commission record"})]}),n.jsx(J,{variant:"ghost",size:"sm",onClick:i,children:n.jsx(Ut,{className:"h-4 w-4"})})]})}),n.jsx(ue,{children:n.jsxs("form",{onSubmit:g,className:"space-y-6",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"salesPersonId",children:"Sales Rep *"}),n.jsxs(Ve,{value:d.salesPersonId,onValueChange:j=>h(E=>({...E,salesPersonId:j})),children:[n.jsx(ze,{children:n.jsx(qe,{placeholder:"Select sales rep"})}),n.jsx(Ue,{className:"z-50",children:t.map(j=>n.jsx(K,{value:j.id,children:j.name},j.id))})]})]}),n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"dealId",children:"Deal *"}),n.jsxs(Ve,{value:d.dealId,onValueChange:j=>h(E=>({...E,dealId:j})),children:[n.jsx(ze,{children:n.jsx(qe,{placeholder:"Select deal"})}),n.jsx(Ue,{className:"z-50",children:r.map(j=>n.jsxs(K,{value:j.id,children:[j.name," - ",_e(j.value)]},j.id))})]})]})]}),n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"commissionRule",children:"Commission Rule"}),n.jsxs(Ve,{value:u,onValueChange:b,children:[n.jsx(ze,{children:n.jsx(qe,{placeholder:"Select rule or enter manually"})}),n.jsxs(Ue,{className:"z-50",children:[n.jsx(K,{value:"",children:"Manual Entry"}),s.filter(j=>j.isActive).map(j=>n.jsxs(K,{value:j.id,children:[j.name," (",j.type,")"]},j.id))]})]})]}),n.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"dealValue",children:"Deal Value"}),n.jsxs("div",{className:"relative",children:[n.jsx(It,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),n.jsx(Pe,{id:"dealValue",type:"number",value:m,onChange:j=>v(parseFloat(j.target.value)||0),className:"pl-10",min:"0",step:"0.01"})]})]}),n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"commissionType",children:"Commission Type"}),n.jsxs(Ve,{value:d.type,onValueChange:j=>h(E=>({...E,type:j})),disabled:!!u,children:[n.jsx(ze,{children:n.jsx(qe,{})}),n.jsxs(Ue,{className:"z-50",children:[n.jsx(K,{value:pr.FLAT,children:"Flat"}),n.jsx(K,{value:pr.PERCENTAGE,children:"Percentage"}),n.jsx(K,{value:pr.TIERED,children:"Tiered"})]})]})]})]}),d.type===pr.PERCENTAGE&&!u&&n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"rate",children:"Commission Rate (%)"}),n.jsxs("div",{className:"relative",children:[n.jsx(kv,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),n.jsx(Pe,{id:"rate",type:"number",value:d.rate?d.rate*100:"",onChange:j=>h(E=>({...E,rate:parseFloat(j.target.value)/100||0})),className:"pl-10",min:"0",max:"100",step:"0.01"})]})]}),d.type===pr.FLAT&&!u&&n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"amount",children:"Flat Commission Amount"}),n.jsxs("div",{className:"relative",children:[n.jsx(It,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),n.jsx(Pe,{id:"amount",type:"number",value:d.amount||"",onChange:j=>h(E=>({...E,amount:parseFloat(j.target.value)||0})),className:"pl-10",min:"0",step:"0.01"})]})]}),!u&&d.type===pr.PERCENTAGE&&n.jsx("div",{className:"flex justify-end",children:n.jsxs(J,{type:"button",variant:"outline",onClick:y,size:"sm",children:[n.jsx(Dl,{className:"h-4 w-4 mr-2"}),"Calculate"]})}),n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"commissionAmount",children:"Commission Amount"}),n.jsxs("div",{className:"relative",children:[n.jsx(It,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),n.jsx(Pe,{id:"commissionAmount",type:"number",value:d.amount||"",onChange:j=>h(E=>({...E,amount:parseFloat(j.target.value)||0})),className:"pl-10",min:"0",step:"0.01"})]})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"notes",children:"Commission Notes"}),n.jsx(tr,{id:"notes",value:d.notes||"",onChange:j=>h(E=>({...E,notes:j.target.value})),placeholder:"Add any notes about this commission",rows:3})]}),e&&n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"auditNotes",children:"Audit Notes"}),n.jsx(tr,{id:"auditNotes",value:x,onChange:j=>p(j.target.value),placeholder:"Add notes about this update (for audit trail)",rows:2})]})]}),n.jsxs("div",{className:"flex justify-end space-x-3 pt-6 border-t",children:[n.jsx(J,{type:"button",variant:"outline",onClick:i,disabled:l,children:"Cancel"}),n.jsx(J,{type:"submit",disabled:l,children:l?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),e?"Updating...":"Creating..."]}):n.jsxs(n.Fragment,{children:[n.jsx(Rr,{className:"h-4 w-4 mr-2"}),e?"Update":"Create"," Commission"]})})]})]})})]})})}function Ice({auditEntries:e}){const t=a=>{switch(a){case"created":return n.jsx(Nt,{className:"h-4 w-4 text-blue-500"});case"updated":return n.jsx(zr,{className:"h-4 w-4 text-yellow-500"});case"approved":return n.jsx(Xr,{className:"h-4 w-4 text-green-500"});case"rejected":return n.jsx(to,{className:"h-4 w-4 text-red-500"});case"paid":return n.jsx(It,{className:"h-4 w-4 text-green-500"});default:return n.jsx(j2,{className:"h-4 w-4 text-gray-500"})}},r=a=>{switch(a){case"created":return"bg-blue-50 text-blue-700 border-blue-200";case"updated":return"bg-yellow-50 text-yellow-700 border-yellow-200";case"approved":return"bg-green-50 text-green-700 border-green-200";case"rejected":return"bg-red-50 text-red-700 border-red-200";case"paid":return"bg-purple-50 text-purple-700 border-purple-200";default:return"bg-gray-50 text-gray-700 border-gray-200"}},s=a=>{if(!a.previousValue&&!a.newValue)return null;const i=[];if(a.action==="created"&&a.newValue)return n.jsx("div",{className:"text-sm text-muted-foreground",children:n.jsx("p",{children:"Commission created with initial values"})});if(a.previousValue&&a.newValue)for(const[o,l]of Object.entries(a.newValue)){const c=a.previousValue[o];c!==l&&i.push(n.jsxs("div",{className:"text-sm",children:[n.jsxs("span",{className:"font-medium capitalize",children:[o.replace(/([A-Z])/g," $1").trim(),": "]}),n.jsx("span",{className:"line-through text-red-600 mr-2",children:c}),n.jsx("span",{className:"text-green-600",children:l})]},o))}return i.length>0?n.jsx("div",{className:"space-y-1",children:i}):null};return n.jsxs(de,{className:"shadow-sm",children:[n.jsxs(ye,{children:[n.jsxs(be,{className:"flex items-center",children:[n.jsx(j2,{className:"h-5 w-5 mr-2 text-primary"}),"Audit Trail"]}),n.jsx($e,{children:"History of changes to this commission"})]}),n.jsx(ue,{children:e.length===0?n.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[n.jsx(j2,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground/50"}),n.jsx("p",{children:"No audit history available"})]}):n.jsx("div",{className:"space-y-4",children:e.map(a=>n.jsxs("div",{className:"relative pl-6",children:[n.jsx("div",{className:"absolute left-0 top-1.5",children:t(a.action)}),n.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[n.jsx(Re,{className:He("ri-badge-status",r(a.action)),children:a.action.toUpperCase()}),n.jsx("span",{className:"text-sm text-muted-foreground",children:ct(a.timestamp)})]}),n.jsxs("p",{className:"text-sm",children:[n.jsx("span",{className:"font-medium",children:a.userName})," ",a.action," this commission"]}),s(a),a.notes&&n.jsx("div",{className:"mt-2 p-2 bg-muted/30 rounded-md",children:n.jsx("p",{className:"text-sm text-muted-foreground",children:a.notes})})]},a.id))})})]})}function kce({commission:e,salesReps:t,deals:r,auditTrail:s,onClose:a,onEdit:i,onApprove:o,onReject:l,onMarkPaid:c}){const{toast:d}=At(),[h,u]=C.useState("details"),[f,m]=C.useState(""),[v,x]=C.useState(!1),p=N=>{switch(N){case Rt.PENDING:return"bg-yellow-50 text-yellow-700 border-yellow-200";case Rt.APPROVED:return"bg-blue-50 text-blue-700 border-blue-200";case Rt.PAID:return"bg-green-50 text-green-700 border-green-200";case Rt.CANCELLED:return"bg-red-50 text-red-700 border-red-200";default:return"bg-gray-50 text-gray-700 border-gray-200"}},g=N=>{switch(N){case pr.FLAT:return"bg-blue-50 text-blue-700 border-blue-200";case pr.PERCENTAGE:return"bg-green-50 text-green-700 border-green-200";case pr.TIERED:return"bg-purple-50 text-purple-700 border-purple-200";default:return"bg-gray-50 text-gray-700 border-gray-200"}},b=async()=>{x(!0);try{await o(e.id,f),m(""),d({title:"Commission Approved",description:"The commission has been approved successfully"})}catch{d({title:"Error",description:"Failed to approve commission",variant:"destructive"})}finally{x(!1)}},y=async()=>{x(!0);try{await l(e.id,f),m(""),d({title:"Commission Rejected",description:"The commission has been rejected"})}catch{d({title:"Error",description:"Failed to reject commission",variant:"destructive"})}finally{x(!1)}},j=async()=>{x(!0);try{await c(e.id,f),m(""),d({title:"Commission Marked as Paid",description:"The commission has been marked as paid"})}catch{d({title:"Error",description:"Failed to mark commission as paid",variant:"destructive"})}finally{x(!1)}},E=t.find(N=>N.id===e.salesPersonId),S=r.find(N=>N.id===e.dealId);return n.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:n.jsxs(de,{className:"w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[n.jsx(ye,{children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx(be,{className:"text-xl",children:"Commission Details"}),n.jsxs($e,{children:["Commission #",e.id]})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsxs(J,{onClick:()=>i(e),size:"sm",children:[n.jsx(zr,{className:"h-4 w-4 mr-2"}),"Edit Commission"]}),n.jsx(J,{variant:"ghost",size:"sm",onClick:a,children:n.jsx(Ut,{className:"h-4 w-4"})})]})]})}),n.jsxs(ue,{children:[n.jsxs(xr,{value:h,onValueChange:u,className:"space-y-4",children:[n.jsxs(fr,{className:"grid w-full grid-cols-2",children:[n.jsx(Qe,{value:"details",children:"Details"}),n.jsxs(Qe,{value:"audit",children:["Audit Trail",s.length>0&&n.jsx(Re,{className:"ml-2 bg-blue-50 text-blue-700 border-blue-200",children:s.length})]})]}),n.jsxs(et,{value:"details",className:"space-y-6",children:[n.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[n.jsx(Re,{className:He("ri-badge-status",p(e.status)),children:e.status.toUpperCase()}),n.jsx(Re,{className:He("ri-badge-status",g(e.type)),children:e.type.toUpperCase()}),n.jsx("div",{className:"ml-auto font-bold text-lg text-primary",children:_e(e.amount)})]}),n.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Sales Rep"}),n.jsx("p",{className:"font-medium",children:(E==null?void 0:E.name)||e.salesPersonId})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Deal"}),n.jsx("p",{className:"font-medium",children:(S==null?void 0:S.name)||e.dealId})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Commission Type"}),n.jsx("p",{className:"font-medium",children:e.type.charAt(0).toUpperCase()+e.type.slice(1)})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Amount"}),n.jsx("p",{className:"font-medium text-primary",children:_e(e.amount)})]}),e.type===pr.PERCENTAGE&&n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Rate"}),n.jsxs("p",{className:"font-medium",children:[(e.rate*100).toFixed(2),"%"]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Created"}),n.jsx("p",{className:"font-medium",children:ct(e.createdAt)})]}),e.paidDate&&n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Paid Date"}),n.jsx("p",{className:"font-medium",children:ct(e.paidDate)})]})]}),e.notes&&n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Notes"}),n.jsx("div",{className:"mt-1 p-3 bg-muted/30 rounded-md",children:n.jsx("p",{className:"whitespace-pre-wrap",children:e.notes})})]}),(e.status===Rt.PENDING||e.status===Rt.APPROVED)&&n.jsxs("div",{className:"space-y-4 pt-4 border-t",children:[n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"actionNotes",children:"Action Notes"}),n.jsx(tr,{id:"actionNotes",value:f,onChange:N=>m(N.target.value),placeholder:"Add notes about this action (for audit trail)",rows:2})]}),n.jsxs("div",{className:"flex justify-end space-x-3",children:[e.status===Rt.PENDING&&n.jsxs(n.Fragment,{children:[n.jsxs(J,{variant:"outline",onClick:y,disabled:v,children:[n.jsx(to,{className:"h-4 w-4 mr-2"}),"Reject"]}),n.jsxs(J,{onClick:b,disabled:v,children:[n.jsx(Xr,{className:"h-4 w-4 mr-2"}),"Approve"]})]}),e.status===Rt.APPROVED&&n.jsxs(J,{onClick:j,disabled:v,children:[n.jsx(It,{className:"h-4 w-4 mr-2"}),"Mark as Paid"]})]})]})]}),n.jsx(et,{value:"audit",children:n.jsx(Ice,{auditEntries:s})})]}),n.jsxs("div",{className:"flex justify-end space-x-3 pt-6 border-t mt-6",children:[n.jsx(J,{variant:"outline",onClick:a,children:"Close"}),n.jsxs(J,{onClick:()=>i(e),children:[n.jsx(zr,{className:"h-4 w-4 mr-2"}),"Edit Commission"]})]})]})]})})}function Dce({rules:e,onCreateRule:t,onEditRule:r,onDeleteRule:s}){const[a,i]=C.useState(""),[o,l]=C.useState("all"),c=u=>{switch(u){case"flat":return"bg-blue-50 text-blue-700 border-blue-200";case"percentage":return"bg-green-50 text-green-700 border-green-200";case"tiered":return"bg-purple-50 text-purple-700 border-purple-200";default:return"bg-gray-50 text-gray-700 border-gray-200"}},d=e.filter(u=>{const f=u.name.toLowerCase().includes(a.toLowerCase()),m=o==="all"||u.type===o;return f&&m}),h=u=>{switch(u.type){case"flat":return`${_e(u.amount)} flat rate`;case"percentage":return`${(u.rate*100).toFixed(2)}% of deal value`;case"tiered":const f=u.tiers;return f.length===0?"No tiers defined":`${f.length} tiers, ${(f[0].rate*100).toFixed(2)}% to ${(f[f.length-1].rate*100).toFixed(2)}%`;default:return""}};return n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[n.jsxs("div",{className:"ri-search-bar flex-1",children:[n.jsx(es,{className:"ri-search-icon"}),n.jsx(Pe,{placeholder:"Search rules...",value:a,onChange:u=>i(u.target.value),className:"ri-search-input shadow-sm"})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsxs("select",{value:o,onChange:u=>l(u.target.value),className:"px-3 py-2 rounded-md border border-input bg-background",children:[n.jsx("option",{value:"all",children:"All Types"}),n.jsx("option",{value:"flat",children:"Flat"}),n.jsx("option",{value:"percentage",children:"Percentage"}),n.jsx("option",{value:"tiered",children:"Tiered"})]}),n.jsxs(J,{onClick:t,className:"shadow-sm",children:[n.jsx(Nt,{className:"h-4 w-4 mr-2"}),"New Rule"]})]})]}),n.jsxs(de,{className:"shadow-sm",children:[n.jsxs(ye,{children:[n.jsxs(be,{className:"text-xl",children:["Commission Rules (",d.length,")"]}),n.jsx($e,{children:"Define how commissions are calculated for different scenarios"})]}),n.jsx(ue,{children:n.jsxs("div",{className:"space-y-4",children:[d.map(u=>n.jsxs("div",{className:"ri-table-row",children:[n.jsx("div",{className:"flex items-center space-x-4 flex-1",children:n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[n.jsx("h3",{className:"font-semibold text-foreground",children:u.name}),n.jsx(Re,{className:He("ri-badge-status",c(u.type)),children:u.type.toUpperCase()}),u.isActive?n.jsx(Re,{className:"bg-green-50 text-green-700 border-green-200",children:"ACTIVE"}):n.jsx(Re,{className:"bg-gray-50 text-gray-700 border-gray-200",children:"INACTIVE"})]}),n.jsx("div",{className:"flex items-center space-x-2 text-sm text-muted-foreground",children:u.type==="flat"?n.jsxs("span",{className:"flex items-center",children:[n.jsx(It,{className:"h-3 w-3 mr-1 text-blue-500"}),h(u)]}):u.type==="percentage"?n.jsxs("span",{className:"flex items-center",children:[n.jsx(kv,{className:"h-3 w-3 mr-1 text-green-500"}),h(u)]}):n.jsxs("span",{className:"flex items-center",children:[n.jsx(Dl,{className:"h-3 w-3 mr-1 text-purple-500"}),h(u)]})}),u.type==="tiered"&&n.jsx("div",{className:"mt-2 grid grid-cols-3 gap-2",children:u.tiers.map((f,m)=>n.jsxs("div",{className:"text-xs p-1 bg-muted/30 rounded",children:[_e(f.minAmount),f.maxAmount?` - ${_e(f.maxAmount)}`:"+",":",n.jsxs("span",{className:"font-semibold ml-1",children:[(f.rate*100).toFixed(2),"%"]})]},f.id))})]})}),n.jsxs("div",{className:"ri-action-buttons",children:[n.jsxs(J,{variant:"outline",size:"sm",className:"shadow-sm",onClick:()=>r(u),children:[n.jsx(zr,{className:"h-3 w-3 mr-1"}),"Edit"]}),n.jsx(J,{variant:"outline",size:"sm",className:"shadow-sm text-red-600 hover:text-red-700",onClick:()=>s(u.id),children:n.jsx(Sn,{className:"h-3 w-3"})})]})]},u.id)),d.length===0&&n.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[n.jsx(Dl,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground/50"}),n.jsx("p",{children:"No commission rules found"}),n.jsx("p",{className:"text-sm",children:"Create your first rule to get started"})]})]})})]})]})}function Oce({rule:e,onSave:t,onCancel:r}){const{toast:s}=At(),[a,i]=C.useState(!1),[o,l]=C.useState((e==null?void 0:e.type)||"percentage"),[c,d]=C.useState((e==null?void 0:e.name)||""),[h,u]=C.useState((e==null?void 0:e.isActive)!==!1),[f,m]=C.useState((e==null?void 0:e.type)==="flat"?e.amount:500),[v,x]=C.useState((e==null?void 0:e.type)==="percentage"?e.rate:.05),[p,g]=C.useState((e==null?void 0:e.type)==="tiered"?e.tiers:[{id:"1",ruleId:"",minAmount:0,maxAmount:5e4,rate:.03},{id:"2",ruleId:"",minAmount:5e4,maxAmount:1e5,rate:.05},{id:"3",ruleId:"",minAmount:1e5,rate:.07}]),b=async S=>{if(S.preventDefault(),!c){s({title:"Validation Error",description:"Rule name is required",variant:"destructive"});return}i(!0);try{let N;switch(o){case"flat":N={name:c,type:"flat",amount:f,isActive:h};break;case"percentage":N={name:c,type:"percentage",rate:v,isActive:h};break;case"tiered":for(let w=0;w<p.length;w++)if(w<p.length-1&&p[w].maxAmount!==p[w+1].minAmount){s({title:"Validation Error",description:"Tier ranges must be continuous without gaps",variant:"destructive"});return}N={name:c,type:"tiered",tiers:p,isActive:h};break;default:throw new Error("Invalid rule type")}await t(N)}catch{s({title:"Error",description:`Failed to ${e?"update":"create"} commission rule`,variant:"destructive"})}finally{i(!1)}},y=()=>{if(p.length===0){g([{id:"1",ruleId:"",minAmount:0,rate:.03}]);return}const S=p[p.length-1],N={id:Math.random().toString(36).substr(2,9),ruleId:"",minAmount:S.maxAmount||S.minAmount+5e4,rate:S.rate+.01};g([...p,N])},j=S=>{g(p.filter(N=>N.id!==S))},E=(S,N)=>{g(p.map(w=>w.id===S?{...w,...N}:w))};return n.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:n.jsxs(de,{className:"w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[n.jsx(ye,{children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx(be,{children:e?"Edit Commission Rule":"Create Commission Rule"}),n.jsx($e,{children:e?"Update commission rule details":"Define a new commission calculation rule"})]}),n.jsx(J,{variant:"ghost",size:"sm",onClick:r,children:n.jsx(Ut,{className:"h-4 w-4"})})]})}),n.jsx(ue,{children:n.jsxs("form",{onSubmit:b,className:"space-y-6",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"name",children:"Rule Name *"}),n.jsx(Pe,{id:"name",value:c,onChange:S=>d(S.target.value),placeholder:"e.g., Standard Sales Commission"})]}),n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"type",children:"Commission Type"}),n.jsxs(Ve,{value:o,onValueChange:S=>l(S),children:[n.jsx(ze,{children:n.jsx(qe,{})}),n.jsxs(Ue,{children:[n.jsx(K,{value:"flat",children:"Flat Amount"}),n.jsx(K,{value:"percentage",children:"Percentage"}),n.jsx(K,{value:"tiered",children:"Tiered Percentage"})]})]})]})]}),o==="flat"&&n.jsxs("div",{className:"space-y-4",children:[n.jsx(ae,{htmlFor:"flatAmount",children:"Flat Commission Amount"}),n.jsxs("div",{className:"relative",children:[n.jsx(It,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),n.jsx(Pe,{id:"flatAmount",type:"number",value:f,onChange:S=>m(parseFloat(S.target.value)||0),className:"pl-10",min:"0",step:"0.01"})]}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"A fixed amount will be paid regardless of the deal value"})]}),o==="percentage"&&n.jsxs("div",{className:"space-y-4",children:[n.jsx(ae,{htmlFor:"percentageRate",children:"Commission Rate (%)"}),n.jsxs("div",{className:"relative",children:[n.jsx(kv,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),n.jsx(Pe,{id:"percentageRate",type:"number",value:v*100,onChange:S=>x(parseFloat(S.target.value)/100||0),className:"pl-10",min:"0",max:"100",step:"0.01"})]}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"A percentage of the deal value will be paid as commission"})]}),o==="tiered"&&n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx(ae,{children:"Tiered Commission Rates"}),n.jsxs(J,{type:"button",onClick:y,size:"sm",children:[n.jsx(Nt,{className:"h-4 w-4 mr-2"}),"Add Tier"]})]}),n.jsxs("div",{className:"space-y-3",children:[p.map((S,N)=>n.jsxs("div",{className:"flex items-center space-x-2 p-3 border rounded-lg",children:[n.jsxs("div",{className:"flex-1 grid grid-cols-3 gap-2",children:[n.jsxs("div",{children:[n.jsx(ae,{className:"text-xs",children:"Min Amount"}),n.jsxs("div",{className:"relative",children:[n.jsx(It,{className:"absolute left-2 top-2.5 h-3 w-3 text-muted-foreground"}),n.jsx(Pe,{type:"number",value:S.minAmount,onChange:w=>E(S.id,{minAmount:parseFloat(w.target.value)||0}),className:"pl-7 h-9 text-sm",min:"0",step:"1000"})]})]}),n.jsxs("div",{children:[n.jsx(ae,{className:"text-xs",children:"Max Amount"}),n.jsxs("div",{className:"relative",children:[n.jsx(It,{className:"absolute left-2 top-2.5 h-3 w-3 text-muted-foreground"}),n.jsx(Pe,{type:"number",value:S.maxAmount,onChange:w=>{const _=w.target.value?parseFloat(w.target.value):void 0;E(S.id,{maxAmount:_})},className:"pl-7 h-9 text-sm",min:S.minAmount,step:"1000",placeholder:N===p.length-1?"No limit":""})]})]}),n.jsxs("div",{children:[n.jsx(ae,{className:"text-xs",children:"Rate (%)"}),n.jsxs("div",{className:"relative",children:[n.jsx(kv,{className:"absolute left-2 top-2.5 h-3 w-3 text-muted-foreground"}),n.jsx(Pe,{type:"number",value:S.rate*100,onChange:w=>E(S.id,{rate:parseFloat(w.target.value)/100||0}),className:"pl-7 h-9 text-sm",min:"0",max:"100",step:"0.01"})]})]})]}),n.jsx(J,{type:"button",variant:"ghost",size:"sm",onClick:()=>j(S.id),disabled:p.length<=1,children:n.jsx(Sn,{className:"h-4 w-4 text-red-500"})})]},S.id)),p.length===0&&n.jsxs("div",{className:"text-center py-4 text-muted-foreground border-2 border-dashed rounded-lg",children:[n.jsx("p",{children:"No tiers defined"}),n.jsx("p",{className:"text-sm",children:'Click "Add Tier" to create commission tiers'})]})]}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Different commission rates will apply based on the deal value tiers"})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Vt,{id:"isActive",checked:h,onCheckedChange:S=>u(!!S)}),n.jsx(ae,{htmlFor:"isActive",children:"Active rule"})]}),n.jsxs("div",{className:"flex justify-end space-x-3 pt-6 border-t",children:[n.jsx(J,{type:"button",variant:"outline",onClick:r,disabled:a,children:"Cancel"}),n.jsx(J,{type:"submit",disabled:a,children:a?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),e?"Updating...":"Creating..."]}):n.jsxs(n.Fragment,{children:[n.jsx(Rr,{className:"h-4 w-4 mr-2"}),e?"Update":"Create"," Rule"]})})]})]})})]})})}function Lce({salesReps:e,onGenerateReport:t,onExportCSV:r}){const{toast:s}=At(),[a,i]=C.useState({startDate:new Date(new Date().getFullYear(),new Date().getMonth(),1),endDate:new Date,salesPersonId:"",status:"",type:""}),[o,l]=C.useState(!1),[c,d]=C.useState(null),[h,u]=C.useState("none"),f=()=>{try{const b=t(a);d(b),s({title:"Report Generated",description:`Generated report with ${b.commissions.length} commissions`})}catch{s({title:"Error",description:"Failed to generate report",variant:"destructive"})}},m=()=>{if(c)try{const b=r(c.commissions),y=Nf.unparse(b),j=new Blob([y],{type:"text/csv;charset=utf-8;"}),E=URL.createObjectURL(j),S=document.createElement("a");S.href=E,S.setAttribute("download",`commission_report_${new Date().toISOString().split("T")[0]}.csv`),document.body.appendChild(S),S.click(),document.body.removeChild(S),s({title:"Export Successful",description:"Commission report exported to CSV"})}catch{s({title:"Export Failed",description:"Failed to export report to CSV",variant:"destructive"})}},v=b=>{if(h==="none")return{"All Commissions":b};const y={};return b.forEach(j=>{let E="";switch(h){case"salesPerson":E=j.salesPersonId;break;case"status":E=j.status;break;case"type":E=j.type;break}y[E]||(y[E]=[]),y[E].push(j)}),y},x=b=>{switch(h){case"salesPerson":const y=e.find(j=>j.id===b);return y?y.name:b;case"status":return b.charAt(0).toUpperCase()+b.slice(1);case"type":return b.charAt(0).toUpperCase()+b.slice(1);default:return b}},p=b=>{switch(b){case Rt.PENDING:return"Pending";case Rt.APPROVED:return"Approved";case Rt.PAID:return"Paid";case Rt.CANCELLED:return"Cancelled";default:return b}},g=b=>{switch(b){case pr.FLAT:return"Flat";case pr.PERCENTAGE:return"Percentage";case pr.TIERED:return"Tiered";default:return b}};return n.jsx("div",{className:"space-y-6",children:n.jsxs(de,{className:"shadow-sm",children:[n.jsx(ye,{children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsxs(be,{className:"flex items-center",children:[n.jsx(Bn,{className:"h-5 w-5 mr-2 text-primary"}),"Commission Report Generator"]}),n.jsx($e,{children:"Generate detailed commission reports with custom filters"})]}),n.jsxs(J,{variant:"outline",onClick:()=>l(!o),className:"shadow-sm",children:[n.jsx(Na,{className:"h-4 w-4 mr-2"}),o?"Hide Filters":"Show Filters"]})]})}),n.jsxs(ue,{children:[o&&n.jsxs("div",{className:"space-y-4 mb-6 p-4 bg-muted/30 rounded-lg",children:[n.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"startDate",children:"Start Date"}),n.jsx(Pe,{id:"startDate",type:"date",value:a.startDate?new Date(a.startDate).toISOString().split("T")[0]:"",onChange:b=>i(y=>({...y,startDate:b.target.value?new Date(b.target.value):void 0}))})]}),n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"endDate",children:"End Date"}),n.jsx(Pe,{id:"endDate",type:"date",value:a.endDate?new Date(a.endDate).toISOString().split("T")[0]:"",onChange:b=>i(y=>({...y,endDate:b.target.value?new Date(b.target.value):void 0}))})]})]}),n.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"salesPersonId",children:"Sales Rep"}),n.jsxs(Ve,{value:a.salesPersonId||"",onValueChange:b=>i(y=>({...y,salesPersonId:b})),children:[n.jsx(ze,{children:n.jsx(qe,{placeholder:"All Sales Reps"})}),n.jsxs(Ue,{children:[n.jsx(K,{value:"",children:"All Sales Reps"}),e.map(b=>n.jsx(K,{value:b.id,children:b.name},b.id))]})]})]}),n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"status",children:"Status"}),n.jsxs(Ve,{value:a.status||"",onValueChange:b=>i(y=>({...y,status:b})),children:[n.jsx(ze,{children:n.jsx(qe,{placeholder:"All Statuses"})}),n.jsxs(Ue,{children:[n.jsx(K,{value:"",children:"All Statuses"}),n.jsx(K,{value:Rt.PENDING,children:"Pending"}),n.jsx(K,{value:Rt.APPROVED,children:"Approved"}),n.jsx(K,{value:Rt.PAID,children:"Paid"}),n.jsx(K,{value:Rt.CANCELLED,children:"Cancelled"})]})]})]}),n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"type",children:"Commission Type"}),n.jsxs(Ve,{value:a.type||"",onValueChange:b=>i(y=>({...y,type:b})),children:[n.jsx(ze,{children:n.jsx(qe,{placeholder:"All Types"})}),n.jsxs(Ue,{children:[n.jsx(K,{value:"",children:"All Types"}),n.jsx(K,{value:pr.FLAT,children:"Flat"}),n.jsx(K,{value:pr.PERCENTAGE,children:"Percentage"}),n.jsx(K,{value:pr.TIERED,children:"Tiered"})]})]})]})]}),n.jsx("div",{className:"flex justify-end",children:n.jsxs(J,{onClick:f,children:[n.jsx(Bn,{className:"h-4 w-4 mr-2"}),"Generate Report"]})})]}),!o&&n.jsx("div",{className:"flex justify-end mb-6",children:n.jsxs(J,{onClick:f,children:[n.jsx(Bn,{className:"h-4 w-4 mr-2"}),"Generate Report"]})}),c&&n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[n.jsx(de,{className:"shadow-sm bg-blue-50",children:n.jsx(ue,{className:"pt-6",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"text-sm font-medium text-blue-700 mb-1",children:"Total Commissions"}),n.jsx("div",{className:"text-2xl font-bold text-blue-900",children:c.summary.totalCommissions}),n.jsx("div",{className:"text-sm text-blue-700 mt-1",children:_e(c.summary.totalAmount)})]})})}),n.jsx(de,{className:"shadow-sm bg-yellow-50",children:n.jsx(ue,{className:"pt-6",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"text-sm font-medium text-yellow-700 mb-1",children:"Pending"}),n.jsx("div",{className:"text-2xl font-bold text-yellow-900",children:_e(c.summary.pendingAmount)}),n.jsx("div",{className:"text-sm text-yellow-700 mt-1",children:"Awaiting approval"})]})})}),n.jsx(de,{className:"shadow-sm bg-green-50",children:n.jsx(ue,{className:"pt-6",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"text-sm font-medium text-green-700 mb-1",children:"Paid"}),n.jsx("div",{className:"text-2xl font-bold text-green-900",children:_e(c.summary.paidAmount)}),n.jsx("div",{className:"text-sm text-green-700 mt-1",children:"Commissions paid"})]})})}),n.jsx(de,{className:"shadow-sm bg-purple-50",children:n.jsx(ue,{className:"pt-6",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"text-sm font-medium text-purple-700 mb-1",children:"Approved"}),n.jsx("div",{className:"text-2xl font-bold text-purple-900",children:_e(c.summary.approvedAmount)}),n.jsx("div",{className:"text-sm text-purple-700 mt-1",children:"Ready for payment"})]})})})]}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx(ae,{htmlFor:"groupBy",className:"whitespace-nowrap",children:"Group By:"}),n.jsxs(Ve,{value:h,onValueChange:b=>u(b),children:[n.jsx(ze,{className:"w-40",children:n.jsx(qe,{})}),n.jsxs(Ue,{children:[n.jsx(K,{value:"none",children:"No Grouping"}),n.jsx(K,{value:"salesPerson",children:"Sales Rep"}),n.jsx(K,{value:"status",children:"Status"}),n.jsx(K,{value:"type",children:"Commission Type"})]})]})]}),n.jsxs(J,{variant:"outline",onClick:m,disabled:!c,children:[n.jsx(wa,{className:"h-4 w-4 mr-2"}),"Export CSV"]})]}),n.jsx("div",{className:"space-y-6",children:Object.entries(v(c.commissions)).map(([b,y])=>n.jsxs("div",{className:"space-y-2",children:[n.jsxs("h3",{className:"text-lg font-semibold flex items-center",children:[h==="salesPerson"&&n.jsx(us,{className:"h-4 w-4 mr-2 text-blue-500"}),h==="status"&&n.jsx(ls,{className:"h-4 w-4 mr-2 text-yellow-500"}),h==="type"&&n.jsx(Bn,{className:"h-4 w-4 mr-2 text-purple-500"}),x(b),n.jsxs("span",{className:"ml-2 text-sm font-normal text-muted-foreground",children:["(",y.length," commissions, ",_e(y.reduce((j,E)=>j+E.amount,0)),")"]})]}),n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full border-collapse",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"bg-muted/50",children:[n.jsx("th",{className:"p-2 text-left font-medium text-muted-foreground",children:"Sales Rep"}),n.jsx("th",{className:"p-2 text-left font-medium text-muted-foreground",children:"Deal"}),n.jsx("th",{className:"p-2 text-left font-medium text-muted-foreground",children:"Type"}),n.jsx("th",{className:"p-2 text-left font-medium text-muted-foreground",children:"Amount"}),n.jsx("th",{className:"p-2 text-left font-medium text-muted-foreground",children:"Status"}),n.jsx("th",{className:"p-2 text-left font-medium text-muted-foreground",children:"Created"})]})}),n.jsx("tbody",{children:y.map(j=>{const E=e.find(S=>S.id===j.salesPersonId);return n.jsxs("tr",{className:"border-b hover:bg-muted/10",children:[n.jsx("td",{className:"p-2",children:(E==null?void 0:E.name)||j.salesPersonId}),n.jsx("td",{className:"p-2",children:j.dealId}),n.jsx("td",{className:"p-2",children:g(j.type)}),n.jsx("td",{className:"p-2 font-medium",children:_e(j.amount)}),n.jsx("td",{className:"p-2",children:p(j.status)}),n.jsx("td",{className:"p-2",children:new Date(j.createdAt).toLocaleDateString()})]},j.id)})})]})})]},b))})]}),!c&&n.jsxs("div",{className:"text-center py-12 text-muted-foreground border-2 border-dashed rounded-lg",children:[n.jsx(Bn,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground/50"}),n.jsx("p",{children:"No report generated yet"}),n.jsx("p",{className:"text-sm",children:"Use the filters above to generate a commission report"})]})]})]})})}const _0=[{id:"sales-001",name:"John Smith",email:"john.smith@dealership.com",phone:"(555) 123-4567",territory:"North Region",isActive:!0,targets:{monthly:10,quarterly:30,annual:120}},{id:"sales-002",name:"Sarah Johnson",email:"sarah.johnson@dealership.com",phone:"(555) 987-6543",territory:"South Region",isActive:!0,targets:{monthly:12,quarterly:36,annual:144}},{id:"sales-003",name:"Mike Davis",email:"mike.davis@dealership.com",phone:"(555) 456-7890",territory:"East Region",isActive:!0,targets:{monthly:8,quarterly:24,annual:96}}],oN=[{id:"deal-001",name:"Georgetown Class A Sale - Smith Family",customerName:"John & Mary Smith",value:137500,stage:"closed_won",status:"active",createdAt:new Date("2024-01-15")},{id:"deal-002",name:"Travel Trailer - Johnson Family",customerName:"Sarah Johnson",value:75e3,stage:"closed_won",status:"active",createdAt:new Date("2024-01-10")},{id:"deal-003",name:"Service Contract - Davis",customerName:"Mike Davis",value:2500,stage:"closed_won",status:"active",createdAt:new Date("2024-01-20")}];function MI(){const{commissions:e,rules:t,auditTrail:r,createCommission:s,updateCommission:a,approveCommission:i,rejectCommission:o,markCommissionPaid:l,createRule:c,updateRule:d,deleteRule:h,getAuditTrailByCommission:u,generateCommissionReport:f,exportCommissionsToCSV:m}=Tce(),{user:v}=im(),{toast:x}=At(),[p,g]=C.useState(""),[b,y]=C.useState("all"),[j,E]=C.useState("commissions"),[S,N]=C.useState(!1),[w,_]=C.useState(!1),[k,T]=C.useState(!1),[A,O]=C.useState(null),[D,F]=C.useState(null),M=xe=>{switch(xe){case Rt.PENDING:return"bg-yellow-50 text-yellow-700 border-yellow-200";case Rt.APPROVED:return"bg-blue-50 text-blue-700 border-blue-200";case Rt.PAID:return"bg-green-50 text-green-700 border-green-200";case Rt.CANCELLED:return"bg-red-50 text-red-700 border-red-200";default:return"bg-gray-50 text-gray-700 border-gray-200"}},R=xe=>{switch(xe){case pr.FLAT:return"bg-blue-50 text-blue-700 border-blue-200";case pr.PERCENTAGE:return"bg-green-50 text-green-700 border-green-200";case pr.TIERED:return"bg-purple-50 text-purple-700 border-purple-200";default:return"bg-gray-50 text-gray-700 border-gray-200"}},B=xe=>{switch(xe){case Rt.PENDING:return n.jsx(sr,{className:"h-4 w-4 text-yellow-500"});case Rt.APPROVED:return n.jsx(Xr,{className:"h-4 w-4 text-blue-500"});case Rt.PAID:return n.jsx(It,{className:"h-4 w-4 text-green-500"});case Rt.CANCELLED:return n.jsx(to,{className:"h-4 w-4 text-red-500"});default:return null}},U=e.filter(xe=>{const Fe=xe.salesPersonId.toLowerCase().includes(p.toLowerCase())||xe.dealId.toLowerCase().includes(p.toLowerCase())||xe.id.toLowerCase().includes(p.toLowerCase()),nt=b==="all"||xe.status===b;return Fe&&nt}),H=()=>{O(null),N(!0)},q=xe=>{O(xe),N(!0),_(!1)},L=xe=>{O(xe),_(!0)},V=async(xe,Fe)=>{try{A?(await a(A.id,xe,(v==null?void 0:v.id)||"current-user",(v==null?void 0:v.name)||"Current User",Fe),x({title:"Success",description:"Commission updated successfully"})):(await s(xe,(v==null?void 0:v.id)||"current-user",(v==null?void 0:v.name)||"Current User"),x({title:"Success",description:"Commission created successfully"})),N(!1),O(null)}catch{x({title:"Error",description:`Failed to ${A?"update":"create"} commission`,variant:"destructive"})}},G=async(xe,Fe)=>{try{await i(xe,(v==null?void 0:v.id)||"current-user",(v==null?void 0:v.name)||"Current User",Fe),x({title:"Success",description:"Commission approved successfully"})}catch{x({title:"Error",description:"Failed to approve commission",variant:"destructive"})}},Z=async(xe,Fe)=>{try{await o(xe,(v==null?void 0:v.id)||"current-user",(v==null?void 0:v.name)||"Current User",Fe),x({title:"Success",description:"Commission rejected successfully"})}catch{x({title:"Error",description:"Failed to reject commission",variant:"destructive"})}},te=async(xe,Fe)=>{try{await l(xe,(v==null?void 0:v.id)||"current-user",(v==null?void 0:v.name)||"Current User",Fe),x({title:"Success",description:"Commission marked as paid successfully"})}catch{x({title:"Error",description:"Failed to mark commission as paid",variant:"destructive"})}},he=()=>{F(null),T(!0)},fe=xe=>{F(xe),T(!0)},oe=async xe=>{try{D?(await d(D.id,xe),x({title:"Success",description:"Commission rule updated successfully"})):(await c(xe),x({title:"Success",description:"Commission rule created successfully"})),T(!1),F(null)}catch{x({title:"Error",description:`Failed to ${D?"update":"create"} commission rule`,variant:"destructive"})}},we=async xe=>{if(window.confirm("Are you sure you want to delete this commission rule?"))try{await h(xe),x({title:"Success",description:"Commission rule deleted successfully"})}catch{x({title:"Error",description:"Failed to delete commission rule",variant:"destructive"})}},je=e.length,ve=e.filter(xe=>xe.status===Rt.PENDING).length,Le=e.filter(xe=>xe.status===Rt.APPROVED).length,ge=e.filter(xe=>xe.status===Rt.PAID).length,le=e.reduce((xe,Fe)=>xe+Fe.amount,0),re=e.filter(xe=>xe.status===Rt.PENDING).reduce((xe,Fe)=>xe+Fe.amount,0),Ce=e.filter(xe=>xe.status===Rt.APPROVED).reduce((xe,Fe)=>xe+Fe.amount,0),Ne=e.filter(xe=>xe.status===Rt.PAID).reduce((xe,Fe)=>xe+Fe.amount,0);return n.jsxs("div",{className:"space-y-8",children:[S&&n.jsx(_ce,{commission:A||void 0,salesReps:_0,deals:oN,rules:t,onSave:V,onCancel:()=>{N(!1),O(null)}}),w&&A&&n.jsx(kce,{commission:A,salesReps:_0,deals:oN,auditTrail:u(A.id),onClose:()=>_(!1),onEdit:q,onApprove:G,onReject:Z,onMarkPaid:te}),k&&n.jsx(Oce,{rule:D||void 0,onSave:oe,onCancel:()=>{T(!1),F(null)}}),n.jsx("div",{className:"ri-page-header",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"ri-page-title",children:"Commission Engine"}),n.jsx("p",{className:"ri-page-description",children:"Manage sales commissions and payment rules"})]}),n.jsxs(J,{className:"shadow-sm",onClick:H,children:[n.jsx(Nt,{className:"h-4 w-4 mr-2"}),"New Commission"]})]})}),n.jsxs("div",{className:"ri-stats-grid",children:[n.jsxs(de,{className:"shadow-sm border-0 bg-gradient-to-br from-blue-50 to-blue-100/50",children:[n.jsxs(ye,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(be,{className:"text-sm font-medium text-blue-900",children:"Total Commissions"}),n.jsx(It,{className:"h-4 w-4 text-blue-600"})]}),n.jsxs(ue,{children:[n.jsx("div",{className:"text-2xl font-bold text-blue-900",children:_e(le)}),n.jsxs("p",{className:"text-xs text-blue-600 flex items-center mt-1",children:[n.jsx(us,{className:"h-3 w-3 mr-1"}),je," commissions"]})]})]}),n.jsxs(de,{className:"shadow-sm border-0 bg-gradient-to-br from-yellow-50 to-yellow-100/50",children:[n.jsxs(ye,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(be,{className:"text-sm font-medium text-yellow-900",children:"Pending"}),n.jsx(sr,{className:"h-4 w-4 text-yellow-600"})]}),n.jsxs(ue,{children:[n.jsx("div",{className:"text-2xl font-bold text-yellow-900",children:_e(re)}),n.jsxs("p",{className:"text-xs text-yellow-600 flex items-center mt-1",children:[n.jsx(sr,{className:"h-3 w-3 mr-1"}),ve," pending approval"]})]})]}),n.jsxs(de,{className:"shadow-sm border-0 bg-gradient-to-br from-blue-50 to-blue-100/50",children:[n.jsxs(ye,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(be,{className:"text-sm font-medium text-blue-900",children:"Approved"}),n.jsx(Xr,{className:"h-4 w-4 text-blue-600"})]}),n.jsxs(ue,{children:[n.jsx("div",{className:"text-2xl font-bold text-blue-900",children:_e(Ce)}),n.jsxs("p",{className:"text-xs text-blue-600 flex items-center mt-1",children:[n.jsx(Xr,{className:"h-3 w-3 mr-1"}),Le," approved"]})]})]}),n.jsxs(de,{className:"shadow-sm border-0 bg-gradient-to-br from-green-50 to-green-100/50",children:[n.jsxs(ye,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(be,{className:"text-sm font-medium text-green-900",children:"Paid"}),n.jsx(It,{className:"h-4 w-4 text-green-600"})]}),n.jsxs(ue,{children:[n.jsx("div",{className:"text-2xl font-bold text-green-900",children:_e(Ne)}),n.jsxs("p",{className:"text-xs text-green-600 flex items-center mt-1",children:[n.jsx(It,{className:"h-3 w-3 mr-1"}),ge," paid out"]})]})]})]}),n.jsxs(xr,{value:j,onValueChange:E,className:"space-y-6",children:[n.jsxs(fr,{className:"grid w-full grid-cols-3",children:[n.jsx(Qe,{value:"commissions",children:"Commissions"}),n.jsx(Qe,{value:"rules",children:"Commission Rules"}),n.jsx(Qe,{value:"reports",children:"Reports"})]}),n.jsxs(et,{value:"commissions",className:"space-y-6",children:[n.jsxs("div",{className:"flex gap-4",children:[n.jsxs("div",{className:"ri-search-bar",children:[n.jsx(es,{className:"ri-search-icon"}),n.jsx(Pe,{placeholder:"Search commissions...",value:p,onChange:xe=>g(xe.target.value),className:"ri-search-input shadow-sm"})]}),n.jsxs(Ve,{value:b,onValueChange:y,children:[n.jsx(ze,{className:"w-40",children:n.jsx(qe,{placeholder:"Status"})}),n.jsxs(Ue,{children:[n.jsx(K,{value:"all",children:"All Status"}),n.jsx(K,{value:Rt.PENDING,children:"Pending"}),n.jsx(K,{value:Rt.APPROVED,children:"Approved"}),n.jsx(K,{value:Rt.PAID,children:"Paid"}),n.jsx(K,{value:Rt.CANCELLED,children:"Cancelled"})]})]}),n.jsxs(J,{variant:"outline",className:"shadow-sm",children:[n.jsx(Na,{className:"h-4 w-4 mr-2"}),"Filter"]}),n.jsxs(J,{onClick:H,className:"shadow-sm",children:[n.jsx(Nt,{className:"h-4 w-4 mr-2"}),"New Commission"]})]}),n.jsxs(de,{className:"shadow-sm",children:[n.jsxs(ye,{children:[n.jsx(be,{className:"text-xl",children:"Commissions"}),n.jsx($e,{children:"Track and manage sales commissions"})]}),n.jsx(ue,{children:n.jsxs("div",{className:"space-y-4",children:[U.map(xe=>{const Fe=_0.find(rt=>rt.id===xe.salesPersonId),nt=oN.find(rt=>rt.id===xe.dealId);return n.jsxs("div",{className:"ri-table-row",children:[n.jsx("div",{className:"flex items-center space-x-4 flex-1",children:n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[n.jsxs("h3",{className:"font-semibold text-foreground",children:["Commission #",xe.id]}),n.jsx(Re,{className:He("ri-badge-status",R(xe.type)),children:xe.type.toUpperCase()}),n.jsxs(Re,{className:He("ri-badge-status",M(xe.status)),children:[B(xe.status),n.jsx("span",{className:"ml-1",children:xe.status.toUpperCase()})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm text-muted-foreground",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx(us,{className:"h-3 w-3 mr-2 text-blue-500"}),n.jsx("span",{className:"font-medium",children:"Sales Rep:"}),n.jsx("span",{className:"ml-1",children:(Fe==null?void 0:Fe.name)||xe.salesPersonId})]}),n.jsxs("div",{className:"flex items-center",children:[n.jsx(It,{className:"h-3 w-3 mr-2 text-green-500"}),n.jsx("span",{className:"font-medium",children:"Deal:"}),n.jsx("span",{className:"ml-1",children:(nt==null?void 0:nt.name)||xe.dealId})]}),n.jsxs("div",{className:"flex items-center",children:[n.jsx(It,{className:"h-3 w-3 mr-2 text-purple-500"}),n.jsx("span",{className:"font-medium",children:"Amount:"}),n.jsx("span",{className:"ml-1 font-bold text-primary",children:_e(xe.amount)})]}),n.jsxs("div",{className:"flex items-center",children:[n.jsx(Lr,{className:"h-3 w-3 mr-2 text-orange-500"}),n.jsx("span",{className:"font-medium",children:"Created:"}),n.jsx("span",{className:"ml-1",children:ct(xe.createdAt)})]})]}),xe.notes&&n.jsx("div",{className:"mt-2 bg-muted/30 p-2 rounded-md",children:n.jsxs("p",{className:"text-sm text-muted-foreground",children:[n.jsx("span",{className:"font-medium",children:"Notes:"})," ",xe.notes]})})]})}),n.jsxs("div",{className:"ri-action-buttons",children:[n.jsx(J,{variant:"outline",size:"sm",className:"shadow-sm",onClick:()=>L(xe),children:"View"}),n.jsx(J,{variant:"outline",size:"sm",className:"shadow-sm",onClick:()=>q(xe),children:"Edit"}),xe.status===Rt.PENDING&&n.jsx(J,{variant:"outline",size:"sm",className:"shadow-sm",onClick:()=>G(xe.id),children:"Approve"}),xe.status===Rt.APPROVED&&n.jsx(J,{variant:"outline",size:"sm",className:"shadow-sm",onClick:()=>te(xe.id),children:"Mark Paid"})]})]},xe.id)}),U.length===0&&n.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[n.jsx(It,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground/50"}),n.jsx("p",{children:"No commissions found"}),n.jsx("p",{className:"text-sm",children:"Create your first commission to get started"})]})]})})]})]}),n.jsx(et,{value:"rules",children:n.jsx(Dce,{rules:t,onCreateRule:he,onEditRule:fe,onDeleteRule:we})}),n.jsx(et,{value:"reports",children:n.jsx(Lce,{salesReps:_0,onGenerateReport:f,onExportCSV:m})})]})]})}function Rce(){return n.jsxs(Ps,{children:[n.jsx(Ft,{path:"/",element:n.jsx(MI,{})}),n.jsx(Ft,{path:"/*",element:n.jsx(MI,{})})]})}function Fce({user:e,onSave:t,onCancel:r}){const{toast:s}=At(),[a,i]=C.useState(!1),[o,l]=C.useState({firstName:(e==null?void 0:e.firstName)||"",lastName:(e==null?void 0:e.lastName)||"",email:(e==null?void 0:e.email)||"",phone:(e==null?void 0:e.phone)||"",sendInvite:!0,inviteMethod:"email",notes:(e==null?void 0:e.notes)||"",status:(e==null?void 0:e.status)||"active"}),c=async d=>{if(d.preventDefault(),!o.firstName||!o.lastName||!o.email){s({title:"Validation Error",description:"Please fill in all required fields",variant:"destructive"});return}i(!0);try{await new Promise(h=>setTimeout(h,1e3)),t({...o,id:(e==null?void 0:e.id)||Math.random().toString(36).substring(2,9)}),s({title:"Success",description:`Portal user ${e?"updated":"created"} successfully`})}catch{s({title:"Error",description:`Failed to ${e?"update":"create"} portal user`,variant:"destructive"})}finally{i(!1)}};return n.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:n.jsxs(de,{className:"w-full max-w-md",children:[n.jsx(ye,{children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx(be,{children:e?"Edit Portal User":"Add Portal User"}),n.jsx($e,{children:e?"Update user details":"Create a new portal user account"})]}),n.jsx(J,{variant:"ghost",size:"sm",onClick:r,children:n.jsx(Ut,{className:"h-4 w-4"})})]})}),n.jsx(ue,{children:n.jsxs("form",{onSubmit:c,className:"space-y-4",children:[n.jsxs("div",{className:"grid gap-4 grid-cols-2",children:[n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"firstName",children:"First Name *"}),n.jsx(Pe,{id:"firstName",value:o.firstName,onChange:d=>l(h=>({...h,firstName:d.target.value})),placeholder:"Enter first name"})]}),n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"lastName",children:"Last Name *"}),n.jsx(Pe,{id:"lastName",value:o.lastName,onChange:d=>l(h=>({...h,lastName:d.target.value})),placeholder:"Enter last name"})]})]}),n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"email",children:"Email Address *"}),n.jsxs("div",{className:"relative",children:[n.jsx(Qr,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),n.jsx(Pe,{id:"email",type:"email",value:o.email,onChange:d=>l(h=>({...h,email:d.target.value})),placeholder:"Enter email address",className:"pl-10"})]})]}),n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"phone",children:"Phone Number"}),n.jsxs("div",{className:"relative",children:[n.jsx(am,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),n.jsx(Pe,{id:"phone",type:"tel",value:o.phone,onChange:d=>l(h=>({...h,phone:d.target.value})),placeholder:"Enter phone number",className:"pl-10"})]})]}),!e&&n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Vt,{id:"sendInvite",checked:o.sendInvite,onCheckedChange:d=>l(h=>({...h,sendInvite:!!d}))}),n.jsx(ae,{htmlFor:"sendInvite",children:"Send invitation to user"})]}),o.sendInvite&&n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"inviteMethod",children:"Invitation Method"}),n.jsxs(Ve,{value:o.inviteMethod,onValueChange:d=>l(h=>({...h,inviteMethod:d})),children:[n.jsx(ze,{children:n.jsx(qe,{})}),n.jsxs(Ue,{children:[n.jsx(K,{value:"email",children:"Email"}),n.jsx(K,{value:"sms",children:"SMS"}),n.jsx(K,{value:"both",children:"Both Email & SMS"})]})]})]})]}),e&&n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"status",children:"Account Status"}),n.jsxs(Ve,{value:o.status,onValueChange:d=>l(h=>({...h,status:d})),children:[n.jsx(ze,{children:n.jsx(qe,{})}),n.jsxs(Ue,{children:[n.jsx(K,{value:"active",children:"Active"}),n.jsx(K,{value:"inactive",children:"Inactive"}),n.jsx(K,{value:"suspended",children:"Suspended"})]})]})]}),n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"notes",children:"Notes (Optional)"}),n.jsx(tr,{id:"notes",value:o.notes,onChange:d=>l(h=>({...h,notes:d.target.value})),placeholder:"Add any notes about this user",rows:3})]}),n.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[n.jsx(J,{type:"button",variant:"outline",onClick:r,disabled:a,children:"Cancel"}),n.jsx(J,{type:"submit",disabled:a,children:a?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),e?"Updating...":"Creating..."]}):n.jsxs(n.Fragment,{children:[n.jsx(Rr,{className:"h-4 w-4 mr-2"}),e?"Update":"Create"," User"]})})]})]})})]})})}const $ce=[{id:"user-1",firstName:"John",lastName:"Smith",email:"john.smith@example.com",phone:"(555) 123-4567",status:"active",lastLogin:new Date("2024-01-18"),createdAt:new Date("2023-12-15")},{id:"user-2",firstName:"Sarah",lastName:"Johnson",email:"sarah.j@example.com",phone:"(555) 987-6543",status:"active",lastLogin:new Date("2024-01-16"),createdAt:new Date("2023-12-10")},{id:"user-3",firstName:"Michael",lastName:"Davis",email:"michael.d@example.com",phone:"(555) 456-7890",status:"inactive",lastLogin:new Date("2023-12-05"),createdAt:new Date("2023-11-20")}];function Mce({onImpersonate:e}){const{toast:t}=At(),[r,s]=C.useState($ce),[a,i]=C.useState(""),[o,l]=C.useState("all"),c=f=>{switch(f){case"active":return"bg-green-50 text-green-700 border-green-200";case"inactive":return"bg-gray-50 text-gray-700 border-gray-200";case"suspended":return"bg-red-50 text-red-700 border-red-200";default:return"bg-gray-50 text-gray-700 border-gray-200"}},d=r.filter(f=>{const m=`${f.firstName} ${f.lastName}`.toLowerCase().includes(a.toLowerCase())||f.email.toLowerCase().includes(a.toLowerCase())||f.phone.includes(a),v=o==="all"||f.status===o;return m&&v}),h=f=>{t({title:"Password Reset Link Sent",description:"A password reset link has been sent to the user's email address."})},u=f=>{console.log("Edit user:",f)};return n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[n.jsxs("div",{className:"ri-search-bar flex-1",children:[n.jsx(es,{className:"ri-search-icon"}),n.jsx(Pe,{placeholder:"Search users...",value:a,onChange:f=>i(f.target.value),className:"ri-search-input shadow-sm"})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsxs(Ve,{value:o,onValueChange:l,children:[n.jsx(ze,{className:"w-40",children:n.jsx(qe,{placeholder:"Status"})}),n.jsxs(Ue,{children:[n.jsx(K,{value:"all",children:"All Status"}),n.jsx(K,{value:"active",children:"Active"}),n.jsx(K,{value:"inactive",children:"Inactive"}),n.jsx(K,{value:"suspended",children:"Suspended"})]})]}),n.jsxs(J,{variant:"outline",className:"shadow-sm",children:[n.jsx(Na,{className:"h-4 w-4 mr-2"}),"Filter"]})]})]}),n.jsxs(de,{className:"shadow-sm",children:[n.jsxs(ye,{children:[n.jsx(be,{className:"text-xl",children:"Portal Users"}),n.jsx($e,{children:"Manage customer portal access and permissions"})]}),n.jsx(ue,{children:n.jsxs("div",{className:"space-y-4",children:[d.map(f=>n.jsxs("div",{className:"ri-table-row",children:[n.jsx("div",{className:"flex items-center space-x-4 flex-1",children:n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[n.jsxs("h3",{className:"font-semibold text-foreground",children:[f.firstName," ",f.lastName]}),n.jsx(Re,{className:He("ri-badge-status",c(f.status)),children:f.status.toUpperCase()})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-2 text-sm text-muted-foreground",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx(Qr,{className:"h-3 w-3 mr-2 text-blue-500"}),f.email]}),n.jsxs("div",{className:"flex items-center",children:[n.jsx(am,{className:"h-3 w-3 mr-2 text-green-500"}),f.phone]}),n.jsxs("div",{className:"flex items-center",children:[n.jsx(Lr,{className:"h-3 w-3 mr-2 text-purple-500"}),"Last login: ",f.lastLogin.toLocaleDateString()]})]})]})}),n.jsxs("div",{className:"ri-action-buttons",children:[n.jsxs(J,{variant:"outline",size:"sm",className:"shadow-sm",onClick:()=>u(f),children:[n.jsx(zr,{className:"h-3 w-3 mr-1"}),"Edit"]}),n.jsx(J,{variant:"outline",size:"sm",className:"shadow-sm",onClick:()=>h(f.id),children:"Reset Password"}),n.jsxs(J,{variant:"outline",size:"sm",className:"shadow-sm",onClick:()=>e(f.id,`${f.firstName} ${f.lastName}`),children:[n.jsx(NK,{className:"h-3 w-3 mr-1"}),"Proxy as Client"]})]})]},f.id)),d.length===0&&n.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[n.jsx(Users,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground/50"}),n.jsx("p",{children:"No users found"}),n.jsx("p",{className:"text-sm",children:"Try adjusting your search or filters"})]})]})})]})]})}function Bce(){const{toast:e}=At(),[t,r]=C.useState("general"),[s,a]=C.useState("Customer Self-Service Portal"),[i,o]=C.useState("Access your quotes, service history, and more"),[l,c]=C.useState(""),[d,h]=C.useState("Welcome to your customer portal. Here you can view your quotes, track deliveries, and request service."),[u,f]=C.useState(!0),[m,v]=C.useState(!0),[x,p]=C.useState(!0),[g,b]=C.useState(!0),[y,j]=C.useState(!0),[E,S]=C.useState(!0),[N,w]=C.useState(90),[_,k]=C.useState(5),[T,A]=C.useState(30),[O,D]=C.useState(!1),F=()=>{e({title:"Settings Saved",description:"Portal settings have been updated successfully."})};return n.jsxs("div",{className:"space-y-6",children:[n.jsxs(xr,{value:t,onValueChange:r,className:"space-y-4",children:[n.jsxs(fr,{className:"grid w-full grid-cols-3",children:[n.jsx(Qe,{value:"general",children:"General"}),n.jsx(Qe,{value:"notifications",children:"Notifications"}),n.jsx(Qe,{value:"security",children:"Security"})]}),n.jsxs(et,{value:"general",className:"space-y-4",children:[n.jsxs(de,{className:"shadow-sm",children:[n.jsxs(ye,{children:[n.jsxs(be,{className:"flex items-center",children:[n.jsx(Dg,{className:"h-5 w-5 mr-2 text-primary"}),"Portal Configuration"]}),n.jsx($e,{children:"Configure general portal settings and appearance"})]}),n.jsxs(ue,{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"portalName",children:"Portal Name"}),n.jsx(Pe,{id:"portalName",value:s,onChange:M=>a(M.target.value)})]}),n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"portalDescription",children:"Portal Description"}),n.jsx(Pe,{id:"portalDescription",value:i,onChange:M=>o(M.target.value)})]}),n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"portalLogo",children:"Logo URL (Optional)"}),n.jsx(Pe,{id:"portalLogo",value:l,onChange:M=>c(M.target.value),placeholder:"https://example.com/logo.png"})]}),n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"welcomeMessage",children:"Welcome Message"}),n.jsx(tr,{id:"welcomeMessage",value:d,onChange:M=>h(M.target.value),rows:3})]})]})]}),n.jsxs(de,{className:"shadow-sm",children:[n.jsxs(ye,{children:[n.jsx(be,{className:"text-lg",children:"Portal Features"}),n.jsx($e,{children:"Enable or disable portal features"})]}),n.jsx(ue,{children:n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Vt,{id:"enableQuotes",defaultChecked:!0}),n.jsx(ae,{htmlFor:"enableQuotes",children:"Enable Quotes"})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Vt,{id:"enableService",defaultChecked:!0}),n.jsx(ae,{htmlFor:"enableService",children:"Enable Service Requests"})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Vt,{id:"enableDelivery",defaultChecked:!0}),n.jsx(ae,{htmlFor:"enableDelivery",children:"Enable Delivery Tracking"})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Vt,{id:"enableDocuments",defaultChecked:!0}),n.jsx(ae,{htmlFor:"enableDocuments",children:"Enable Document Signing"})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Vt,{id:"enableSurveys",defaultChecked:!0}),n.jsx(ae,{htmlFor:"enableSurveys",children:"Enable Satisfaction Surveys"})]})]})})]})]}),n.jsxs(et,{value:"notifications",className:"space-y-4",children:[n.jsxs(de,{className:"shadow-sm",children:[n.jsxs(ye,{children:[n.jsxs(be,{className:"flex items-center",children:[n.jsx(c$,{className:"h-5 w-5 mr-2 text-primary"}),"Notification Settings"]}),n.jsx($e,{children:"Configure how and when notifications are sent"})]}),n.jsx(ue,{className:"space-y-4",children:n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx(ae,{className:"text-base",children:"Notification Channels"}),n.jsxs("div",{className:"mt-2 space-y-2",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Vt,{id:"emailNotifications",checked:u,onCheckedChange:M=>f(!!M)}),n.jsxs(ae,{htmlFor:"emailNotifications",className:"flex items-center",children:[n.jsx(Qr,{className:"h-4 w-4 mr-2 text-blue-500"}),"Email Notifications"]})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Vt,{id:"smsNotifications",checked:m,onCheckedChange:M=>v(!!M)}),n.jsxs(ae,{htmlFor:"smsNotifications",className:"flex items-center",children:[n.jsx(ln,{className:"h-4 w-4 mr-2 text-green-500"}),"SMS Notifications"]})]})]})]}),n.jsxs("div",{children:[n.jsx(ae,{className:"text-base",children:"Notification Events"}),n.jsxs("div",{className:"mt-2 space-y-2",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Vt,{id:"notifyOnQuoteViewed",checked:x,onCheckedChange:M=>p(!!M)}),n.jsx(ae,{htmlFor:"notifyOnQuoteViewed",children:"Quote Viewed by Customer"})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Vt,{id:"notifyOnQuoteAccepted",checked:g,onCheckedChange:M=>b(!!M)}),n.jsx(ae,{htmlFor:"notifyOnQuoteAccepted",children:"Quote Accepted by Customer"})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Vt,{id:"notifyOnServiceRequest",checked:y,onCheckedChange:M=>j(!!M)}),n.jsx(ae,{htmlFor:"notifyOnServiceRequest",children:"New Service Request Submitted"})]})]})]})]})})]}),n.jsxs(de,{className:"shadow-sm",children:[n.jsxs(ye,{children:[n.jsx(be,{className:"text-lg",children:"Email Templates"}),n.jsx($e,{children:"Customize notification email templates"})]}),n.jsx(ue,{children:n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"welcomeEmailTemplate",children:"Welcome Email"}),n.jsxs(Ve,{defaultValue:"default",children:[n.jsx(ze,{children:n.jsx(qe,{})}),n.jsxs(Ue,{children:[n.jsx(K,{value:"default",children:"Default Welcome Template"}),n.jsx(K,{value:"minimal",children:"Minimal Welcome Template"}),n.jsx(K,{value:"branded",children:"Branded Welcome Template"})]})]})]}),n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"passwordResetTemplate",children:"Password Reset Email"}),n.jsxs(Ve,{defaultValue:"default",children:[n.jsx(ze,{children:n.jsx(qe,{})}),n.jsxs(Ue,{children:[n.jsx(K,{value:"default",children:"Default Password Reset Template"}),n.jsx(K,{value:"minimal",children:"Minimal Password Reset Template"}),n.jsx(K,{value:"secure",children:"Secure Password Reset Template"})]})]})]})]})})]})]}),n.jsxs(et,{value:"security",className:"space-y-4",children:[n.jsxs(de,{className:"shadow-sm",children:[n.jsxs(ye,{children:[n.jsxs(be,{className:"flex items-center",children:[n.jsx(PK,{className:"h-5 w-5 mr-2 text-primary"}),"Security Settings"]}),n.jsx($e,{children:"Configure portal security and access controls"})]}),n.jsx(ue,{className:"space-y-4",children:n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Vt,{id:"requireStrongPasswords",checked:E,onCheckedChange:M=>S(!!M)}),n.jsx(ae,{htmlFor:"requireStrongPasswords",children:"Require Strong Passwords"})]}),n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"passwordExpiryDays",children:"Password Expiry (Days)"}),n.jsx(Pe,{id:"passwordExpiryDays",type:"number",min:"0",value:N,onChange:M=>w(parseInt(M.target.value)||0)}),n.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Set to 0 for no expiration"})]}),n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"maxLoginAttempts",children:"Max Login Attempts"}),n.jsx(Pe,{id:"maxLoginAttempts",type:"number",min:"1",value:_,onChange:M=>k(parseInt(M.target.value)||5)})]}),n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"sessionTimeoutMinutes",children:"Session Timeout (Minutes)"}),n.jsx(Pe,{id:"sessionTimeoutMinutes",type:"number",min:"5",value:T,onChange:M=>A(parseInt(M.target.value)||30)})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Vt,{id:"twoFactorAuth",checked:O,onCheckedChange:M=>D(!!M)}),n.jsx(ae,{htmlFor:"twoFactorAuth",children:"Enable Two-Factor Authentication"})]})]})})]}),n.jsxs(de,{className:"shadow-sm",children:[n.jsxs(ye,{children:[n.jsx(be,{className:"text-lg",children:"Access Controls"}),n.jsx($e,{children:"Configure IP restrictions and access limits"})]}),n.jsx(ue,{children:n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"ipWhitelist",children:"IP Whitelist (Optional)"}),n.jsx(tr,{id:"ipWhitelist",placeholder:"Enter IP addresses, one per line",rows:3}),n.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Leave empty to allow access from any IP address"})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Vt,{id:"limitConcurrentSessions",defaultChecked:!0}),n.jsx(ae,{htmlFor:"limitConcurrentSessions",children:"Limit to One Active Session Per User"})]})]})})]})]})]}),n.jsx("div",{className:"flex justify-end",children:n.jsxs(J,{onClick:F,children:[n.jsx(Rr,{className:"h-4 w-4 mr-2"}),"Save Settings"]})})]})}function BI(){const[e,t]=C.useState("users"),[r,s]=C.useState(!1),a=()=>{s(!0)},i=(o,l)=>{const c=`/customer-portal?impersonateClientId=${o}`;window.open(c,"_blank")};return n.jsxs("div",{className:"space-y-8",children:[r&&n.jsx(Fce,{onSave:()=>{s(!1)},onCancel:()=>s(!1)}),n.jsx("div",{className:"ri-page-header",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"ri-page-title",children:"Client Portal Management"}),n.jsx("p",{className:"ri-page-description",children:"Manage customer portal access and self-service features"})]}),n.jsxs(J,{className:"shadow-sm",onClick:a,children:[n.jsx(Nt,{className:"h-4 w-4 mr-2"}),"Add Portal User"]})]})}),n.jsxs(xr,{value:e,onValueChange:t,className:"space-y-6",children:[n.jsxs(fr,{className:"grid w-full grid-cols-3",children:[n.jsx(Qe,{value:"users",children:"Portal Users"}),n.jsx(Qe,{value:"settings",children:"Portal Settings"}),n.jsx(Qe,{value:"activity",children:"User Activity"})]}),n.jsx(et,{value:"users",children:n.jsx(Mce,{onImpersonate:i})}),n.jsx(et,{value:"settings",children:n.jsx(Bce,{})}),n.jsx(et,{value:"activity",children:n.jsxs(de,{className:"shadow-sm",children:[n.jsxs(ye,{children:[n.jsx(be,{className:"text-xl",children:"Portal Activity"}),n.jsx($e,{children:"Recent user activity in the customer portal"})]}),n.jsx(ue,{children:n.jsx("div",{className:"space-y-4",children:n.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[n.jsx(Dg,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground/50"}),n.jsx("p",{children:"No recent activity to display"})]})})})]})})]})]})}function zce(){return n.jsxs(Ps,{children:[n.jsx(Ft,{path:"/",element:n.jsx(BI,{})}),n.jsx(Ft,{path:"/*",element:n.jsx(BI,{})})]})}function uB(){const[e,t]=C.useState([]),[r,s]=C.useState([]),[a,i]=C.useState(!1);C.useEffect(()=>{o()},[]);const o=()=>{const j=mn("renter-insight-invoices",[{id:"1",customerId:"cust-1",number:"INV-2024-001",items:[{id:"1",description:"2024 Forest River Georgetown",quantity:1,unitPrice:125e3,total:125e3},{id:"2",description:"Extended Warranty",quantity:1,unitPrice:2500,total:2500}],subtotal:127500,tax:10200,total:137700,status:Mt.PAID,dueDate:new Date("2024-02-15"),paidDate:new Date("2024-01-20"),paymentMethod:"Credit Card",notes:"Payment received via Zego",customFields:{},createdAt:new Date("2024-01-15"),updatedAt:new Date("2024-01-20")},{id:"2",customerId:"cust-2",number:"INV-2024-002",items:[{id:"3",description:"Service - AC Repair",quantity:1,unitPrice:620,total:620}],subtotal:620,tax:49.6,total:669.6,status:Mt.SENT,dueDate:new Date("2024-02-20"),notes:"Service invoice for AC repair",customFields:{},createdAt:new Date("2024-01-12"),updatedAt:new Date("2024-01-18")}]),E=mn("renter-insight-payments",[{id:"1",invoiceId:"1",amount:137700,method:gl.CREDIT_CARD,status:Pc.COMPLETED,transactionId:"txn_1234567890",processedDate:new Date("2024-01-20"),notes:"Processed via Zego payment gateway",customFields:{},createdAt:new Date("2024-01-20"),updatedAt:new Date("2024-01-20")}]);t(j),s(E)},l=j=>{Gr("renter-insight-invoices",j)},c=j=>{Gr("renter-insight-payments",j)},d=j=>e.filter(E=>E.customerId===j),h=j=>e.find(E=>E.id===j),u=j=>r.filter(E=>E.invoiceId===j),f=async j=>{i(!0);try{const E={id:Math.random().toString(36).substr(2,9),customerId:j.customerId||"",number:j.number||"",items:j.items||[],subtotal:j.subtotal||0,tax:j.tax||0,total:j.total||0,status:j.status||Mt.DRAFT,dueDate:j.dueDate||new Date,notes:j.notes||"",customFields:j.customFields||{},createdAt:new Date,updatedAt:new Date},S=[...e,E];return t(S),l(S),E}finally{i(!1)}},m=async(j,E)=>{const S=e.map(N=>N.id===j?{...N,...E,updatedAt:new Date}:N);t(S),l(S)},v=async j=>{const E=e.filter(S=>S.id!==j);t(E),l(E)},x=async(j,E)=>{const S=e.map(N=>N.id===j?{...N,status:E,updatedAt:new Date}:N);t(S),l(S)},p=async(j,E)=>{const S=e.map(N=>N.id===j?{...N,status:Mt.PAID,paidDate:new Date,paymentMethod:E,updatedAt:new Date}:N);t(S),l(S)};return{invoices:e,payments:r,loading:a,getInvoicesByCustomerId:d,getInvoiceById:h,getPaymentsByInvoiceId:u,createInvoice:f,updateInvoice:m,deleteInvoice:v,updateInvoiceStatus:x,markInvoiceAsPaid:p,sendInvoice:async j=>{const E=e.map(S=>S.id===j?{...S,status:Mt.SENT,updatedAt:new Date}:S);t(E),l(E)},recordPayment:async j=>{i(!0);try{const E={id:Math.random().toString(36).substr(2,9),invoiceId:j.invoiceId||"",amount:j.amount||0,method:j.method||gl.CREDIT_CARD,status:j.status||Pc.COMPLETED,transactionId:j.transactionId,processedDate:j.processedDate||new Date,notes:j.notes||"",customFields:j.customFields||{},createdAt:new Date,updatedAt:new Date},S=[...r,E];return s(S),c(S),E.status===Pc.COMPLETED&&await p(E.invoiceId,E.method),E}finally{i(!1)}},sendPaymentRequest:async j=>(await x(j,Mt.SENT),await new Promise(E=>setTimeout(E,1e3)),!0)}}function Uce({invoice:e,onSave:t,onCancel:r}){const{toast:s}=At(),{leads:a}=io(),[i,o]=C.useState(!1),[l,c]=C.useState({customerId:"",number:`INV-${new Date().getFullYear()}-${String(Math.floor(Math.random()*1e3)).padStart(3,"0")}`,items:[],subtotal:0,tax:0,total:0,status:Mt.DRAFT,dueDate:new Date(Date.now()+30*24*60*60*1e3),notes:"",customFields:{}}),[d,h]=C.useState({description:"",quantity:1,unitPrice:0,total:0}),[u,f]=C.useState(.08);C.useEffect(()=>{e&&(c({...e,dueDate:new Date(e.dueDate)}),e.subtotal>0&&f(e.tax/e.subtotal))},[e]),C.useEffect(()=>{const p=d.quantity||1,g=d.unitPrice||0;h(b=>({...b,total:p*g}))},[d.quantity,d.unitPrice]),C.useEffect(()=>{if(l.items&&l.items.length>0){const p=l.items.reduce((y,j)=>y+j.total,0),g=p*u,b=p+g;c(y=>({...y,subtotal:p,tax:g,total:b}))}else c(p=>({...p,subtotal:0,tax:0,total:0}))},[l.items,u]);const m=async p=>{if(p.preventDefault(),!l.customerId||!l.number||!l.dueDate){s({title:"Validation Error",description:"Please fill in all required fields",variant:"destructive"});return}if(!l.items||l.items.length===0){s({title:"Validation Error",description:"Please add at least one item to the invoice",variant:"destructive"});return}o(!0);try{await t(l),s({title:"Success",description:`Invoice ${e?"updated":"created"} successfully`})}catch{s({title:"Error",description:`Failed to ${e?"update":"create"} invoice`,variant:"destructive"})}finally{o(!1)}},v=()=>{if(!d.description||!d.unitPrice){s({title:"Validation Error",description:"Description and unit price are required",variant:"destructive"});return}const p={id:Math.random().toString(36).substr(2,9),description:d.description||"",quantity:d.quantity||1,unitPrice:d.unitPrice||0,total:d.total||0};c(g=>({...g,items:[...g.items||[],p]})),h({description:"",quantity:1,unitPrice:0,total:0})},x=p=>{c(g=>{var b;return{...g,items:((b=g.items)==null?void 0:b.filter(y=>y.id!==p))||[]}})};return n.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:n.jsxs(de,{className:"w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[n.jsx(ye,{children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx(be,{children:e?"Edit Invoice":"Create Invoice"}),n.jsx($e,{children:e?"Update invoice details":"Create a new invoice"})]}),n.jsx(J,{variant:"ghost",size:"sm",onClick:r,children:n.jsx(Ut,{className:"h-4 w-4"})})]})}),n.jsx(ue,{children:n.jsxs("form",{onSubmit:m,className:"space-y-6",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-lg font-semibold",children:"Invoice Information"}),n.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"customerId",children:"Customer *"}),n.jsxs(Ve,{value:l.customerId,onValueChange:p=>c(g=>({...g,customerId:p})),children:[n.jsx(ze,{children:n.jsx(qe,{placeholder:"Select customer"})}),n.jsx(Ue,{children:a.map(p=>n.jsxs(K,{value:p.id,children:[p.firstName," ",p.lastName]},p.id))})]})]}),n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"invoiceNumber",children:"Invoice Number *"}),n.jsx(Pe,{id:"invoiceNumber",value:l.number,onChange:p=>c(g=>({...g,number:p.target.value})),placeholder:"e.g., INV-2024-001"})]})]}),n.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"dueDate",children:"Due Date *"}),n.jsx(Pe,{id:"dueDate",type:"date",value:l.dueDate?new Date(l.dueDate).toISOString().split("T")[0]:"",onChange:p=>c(g=>({...g,dueDate:p.target.value?new Date(p.target.value):void 0}))})]}),n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"status",children:"Status"}),n.jsxs(Ve,{value:l.status,onValueChange:p=>c(g=>({...g,status:p})),children:[n.jsx(ze,{children:n.jsx(qe,{})}),n.jsxs(Ue,{children:[n.jsx(K,{value:Mt.DRAFT,children:"Draft"}),n.jsx(K,{value:Mt.SENT,children:"Sent"}),n.jsx(K,{value:Mt.VIEWED,children:"Viewed"}),n.jsx(K,{value:Mt.PAID,children:"Paid"}),n.jsx(K,{value:Mt.OVERDUE,children:"Overdue"}),n.jsx(K,{value:Mt.CANCELLED,children:"Cancelled"})]})]})]})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("h3",{className:"text-lg font-semibold",children:"Invoice Items"}),n.jsxs(J,{type:"button",onClick:v,size:"sm",children:[n.jsx(Nt,{className:"h-4 w-4 mr-2"}),"Add Item"]})]}),n.jsx(de,{className:"border-dashed",children:n.jsxs(ue,{className:"pt-6",children:[n.jsxs("div",{className:"grid gap-4 md:grid-cols-4",children:[n.jsxs("div",{className:"md:col-span-2",children:[n.jsx(ae,{htmlFor:"description",children:"Description *"}),n.jsx(Pe,{id:"description",value:d.description,onChange:p=>h(g=>({...g,description:p.target.value})),placeholder:"e.g., Service Labor"})]}),n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"quantity",children:"Quantity"}),n.jsx(Pe,{id:"quantity",type:"number",min:"1",value:d.quantity,onChange:p=>h(g=>({...g,quantity:parseInt(p.target.value)||1}))})]}),n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"unitPrice",children:"Unit Price"}),n.jsx(Pe,{id:"unitPrice",type:"number",step:"0.01",min:"0",value:d.unitPrice,onChange:p=>h(g=>({...g,unitPrice:parseFloat(p.target.value)||0}))})]})]}),n.jsxs("div",{className:"flex justify-between items-center mt-4",children:[n.jsxs("div",{children:[n.jsx("span",{className:"text-sm font-medium",children:"Total: "}),n.jsx("span",{className:"font-bold",children:_e(d.total||0)})]}),n.jsx(J,{type:"button",onClick:v,children:"Add Item"})]})]})}),n.jsx("div",{className:"space-y-3",children:l.items&&l.items.length>0?l.items.map(p=>n.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[n.jsxs("div",{className:"flex-1",children:[n.jsx("div",{className:"font-medium",children:p.description}),n.jsxs("p",{className:"text-sm text-muted-foreground",children:["Quantity: ",p.quantity,"  ",_e(p.unitPrice)]})]}),n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx("span",{className:"font-bold",children:_e(p.total)}),n.jsx(J,{type:"button",variant:"ghost",size:"sm",onClick:()=>x(p.id),children:n.jsx(Sn,{className:"h-4 w-4 text-red-500"})})]})]},p.id)):n.jsxs("div",{className:"text-center py-6 text-muted-foreground border-2 border-dashed rounded-lg",children:[n.jsx(Xs,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground/50"}),n.jsx("p",{children:"No items added yet"}),n.jsx("p",{className:"text-sm",children:"Add items to this invoice"})]})})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-lg font-semibold",children:"Invoice Totals"}),n.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"taxRate",children:"Tax Rate (%)"}),n.jsx(Pe,{id:"taxRate",type:"number",step:"0.01",min:"0",max:"100",value:u*100,onChange:p=>f(parseFloat(p.target.value)/100||0)})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{children:"Subtotal:"}),n.jsx("span",{children:_e(l.subtotal||0)})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsxs("span",{children:["Tax (",(u*100).toFixed(2),"%):"]}),n.jsx("span",{children:_e(l.tax||0)})]}),n.jsxs("div",{className:"flex justify-between font-bold text-lg",children:[n.jsx("span",{children:"Total:"}),n.jsx("span",{children:_e(l.total||0)})]})]})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-lg font-semibold",children:"Additional Information"}),n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"notes",children:"Notes"}),n.jsx(tr,{id:"notes",value:l.notes,onChange:p=>c(g=>({...g,notes:p.target.value})),placeholder:"Add any additional notes about this invoice",rows:3})]})]}),n.jsxs("div",{className:"flex justify-end space-x-3 pt-6 border-t",children:[n.jsx(J,{type:"button",variant:"outline",onClick:r,disabled:i,children:"Cancel"}),n.jsx(J,{type:"submit",disabled:i,children:i?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),e?"Updating...":"Creating..."]}):n.jsxs(n.Fragment,{children:[n.jsx(Rr,{className:"h-4 w-4 mr-2"}),e?"Update":"Create"," Invoice"]})})]})]})})]})})}function Vce({invoiceId:e,invoiceTotal:t,remainingBalance:r,onSave:s,onCancel:a}){const{toast:i}=At(),[o,l]=C.useState(!1),[c,d]=C.useState({invoiceId:e,amount:r,method:gl.CREDIT_CARD,status:Pc.COMPLETED,processedDate:new Date,notes:""}),h=async u=>{if(u.preventDefault(),!c.amount||c.amount<=0){i({title:"Validation Error",description:"Payment amount must be greater than zero",variant:"destructive"});return}if(c.amount>r){i({title:"Validation Error",description:"Payment amount cannot exceed the remaining balance",variant:"destructive"});return}l(!0);try{await s(c),i({title:"Success",description:"Payment recorded successfully"})}catch{i({title:"Error",description:"Failed to record payment",variant:"destructive"})}finally{l(!1)}};return n.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:n.jsxs(de,{className:"w-full max-w-md",children:[n.jsx(ye,{children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsxs(be,{className:"flex items-center",children:[n.jsx(mi,{className:"h-5 w-5 mr-2 text-primary"}),"Record Payment"]}),n.jsxs($e,{children:["Record a payment for invoice #",e]})]}),n.jsx(J,{variant:"ghost",size:"sm",onClick:a,children:n.jsx(Ut,{className:"h-4 w-4"})})]})}),n.jsx(ue,{children:n.jsxs("form",{onSubmit:h,className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"amount",children:"Payment Amount *"}),n.jsxs("div",{className:"relative",children:[n.jsx(It,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),n.jsx(Pe,{id:"amount",type:"number",step:"0.01",min:"0.01",max:r,value:c.amount,onChange:u=>d(f=>({...f,amount:parseFloat(u.target.value)||0})),className:"pl-10"})]}),n.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["Remaining balance: ",_e(r)]})]}),n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"method",children:"Payment Method *"}),n.jsxs(Ve,{value:c.method,onValueChange:u=>d(f=>({...f,method:u})),children:[n.jsx(ze,{children:n.jsx(qe,{})}),n.jsxs(Ue,{children:[n.jsx(K,{value:gl.CREDIT_CARD,children:"Credit Card"}),n.jsx(K,{value:gl.BANK_TRANSFER,children:"Bank Transfer"}),n.jsx(K,{value:gl.CASH,children:"Cash"}),n.jsx(K,{value:gl.CHECK,children:"Check"}),n.jsx(K,{value:gl.FINANCING,children:"Financing"})]})]})]}),n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"status",children:"Payment Status *"}),n.jsxs(Ve,{value:c.status,onValueChange:u=>d(f=>({...f,status:u})),children:[n.jsx(ze,{children:n.jsx(qe,{})}),n.jsxs(Ue,{children:[n.jsx(K,{value:Pc.COMPLETED,children:"Completed"}),n.jsx(K,{value:Pc.PENDING,children:"Pending"}),n.jsx(K,{value:Pc.PROCESSING,children:"Processing"})]})]})]}),n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"processedDate",children:"Payment Date *"}),n.jsx(Pe,{id:"processedDate",type:"date",value:c.processedDate?new Date(c.processedDate).toISOString().split("T")[0]:"",onChange:u=>d(f=>({...f,processedDate:u.target.value?new Date(u.target.value):void 0}))})]}),n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"transactionId",children:"Transaction ID"}),n.jsx(Pe,{id:"transactionId",value:c.transactionId||"",onChange:u=>d(f=>({...f,transactionId:u.target.value})),placeholder:"e.g., txn_1234567890"})]}),n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"notes",children:"Notes"}),n.jsx(tr,{id:"notes",value:c.notes||"",onChange:u=>d(f=>({...f,notes:u.target.value})),placeholder:"Add any notes about this payment",rows:3})]}),n.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[n.jsx(J,{type:"button",variant:"outline",onClick:a,disabled:o,children:"Cancel"}),n.jsx(J,{type:"submit",disabled:o,children:o?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Recording..."]}):n.jsxs(n.Fragment,{children:[n.jsx(Rr,{className:"h-4 w-4 mr-2"}),"Record Payment"]})})]})]})})]})})}function qce({invoice:e,payments:t,onClose:r,onEdit:s,onSendPaymentRequest:a,onRecordPayment:i}){const{toast:o}=At(),[l,c]=C.useState("details"),[d,h]=C.useState(!1),[u,f]=C.useState(!1),m=S=>{switch(S){case Mt.DRAFT:return"bg-gray-50 text-gray-700 border-gray-200";case Mt.SENT:return"bg-blue-50 text-blue-700 border-blue-200";case Mt.VIEWED:return"bg-yellow-50 text-yellow-700 border-yellow-200";case Mt.PAID:return"bg-green-50 text-green-700 border-green-200";case Mt.OVERDUE:return"bg-red-50 text-red-700 border-red-200";case Mt.CANCELLED:return"bg-gray-50 text-gray-700 border-gray-200";default:return"bg-gray-50 text-gray-700 border-gray-200"}},v=S=>{switch(S){case"completed":return n.jsx(Xr,{className:"h-4 w-4 text-green-500"});case"pending":return n.jsx(sr,{className:"h-4 w-4 text-yellow-500"});case"processing":return n.jsx(sr,{className:"h-4 w-4 text-blue-500"});case"failed":return n.jsx(to,{className:"h-4 w-4 text-red-500"});case"refunded":return n.jsx(tf,{className:"h-4 w-4 text-purple-500"});default:return null}},x=S=>{switch(S){case"credit_card":return n.jsx(mi,{className:"h-4 w-4 text-blue-500"});case"bank_transfer":return n.jsx(It,{className:"h-4 w-4 text-green-500"});case"cash":return n.jsx(It,{className:"h-4 w-4 text-green-500"});case"check":return n.jsx(Xs,{className:"h-4 w-4 text-blue-500"});case"financing":return n.jsx(It,{className:"h-4 w-4 text-purple-500"});default:return n.jsx(It,{className:"h-4 w-4 text-gray-500"})}},p=()=>{try{const S=new Tt;if(S.setFontSize(20),S.text("INVOICE",105,15,{align:"center"}),S.setFontSize(12),S.text(`Invoice #: ${e.number}`,20,30),S.text(`Date: ${ct(e.createdAt)}`,20,40),S.text(`Due Date: ${ct(e.dueDate)}`,20,50),S.text(`Status: ${e.status.toUpperCase()}`,20,60),S.setFontSize(14),S.text("Bill To:",20,75),S.setFontSize(12),S.text(`Customer ID: ${e.customerId}`,20,85),S.setFontSize(14),S.text("Invoice Items",20,105),S.autoTable({startY:110,head:[["Description","Quantity","Unit Price","Total"]],body:e.items.map(N=>[N.description,N.quantity,_e(N.unitPrice),_e(N.total)]),foot:[["","","Subtotal:",_e(e.subtotal)],["","","Tax:",_e(e.tax)],["","","Total:",_e(e.total)]],theme:"striped",headStyles:{fillColor:[66,139,202]}}),e.notes){const N=S.lastAutoTable.finalY||110;S.setFontSize(14),S.text("Notes",20,N+20),S.setFontSize(12);const w=S.splitTextToSize(e.notes,170);S.text(w,20,N+30)}S.save(`invoice-${e.number}.pdf`),o({title:"PDF Generated",description:"Invoice PDF has been downloaded"})}catch(S){console.error("Error generating PDF:",S),o({title:"Error",description:"Failed to generate PDF",variant:"destructive"})}},g=async()=>{if(a){h(!0);try{await a(e.id),o({title:"Payment Request Sent",description:"Payment request has been sent to the customer"})}catch{o({title:"Error",description:"Failed to send payment request",variant:"destructive"})}finally{h(!1)}}},b=async S=>{if(i)try{await i(S),f(!1)}catch(N){throw N}},y=t.filter(S=>S.invoiceId===e.id),j=y.reduce((S,N)=>S+N.amount,0),E=e.total-j;return n.jsxs("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:[u&&n.jsx(Vce,{invoiceId:e.id,invoiceTotal:e.total,remainingBalance:E,onSave:b,onCancel:()=>f(!1)}),n.jsxs(de,{className:"w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[n.jsx(ye,{children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsxs(be,{className:"text-xl",children:["Invoice #",e.number]}),n.jsx($e,{children:"Invoice details and payment information"})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsxs(J,{onClick:()=>s(e),size:"sm",children:[n.jsx(zr,{className:"h-4 w-4 mr-2"}),"Edit Invoice"]}),n.jsx(J,{variant:"ghost",size:"sm",onClick:r,children:n.jsx(Ut,{className:"h-4 w-4"})})]})]})}),n.jsxs(ue,{children:[n.jsxs(xr,{value:l,onValueChange:c,className:"space-y-4",children:[n.jsxs(fr,{className:"grid w-full grid-cols-3",children:[n.jsx(Qe,{value:"details",children:"Details"}),n.jsxs(Qe,{value:"payments",children:["Payments",y.length>0&&n.jsx(Re,{className:"ml-2 bg-green-50 text-green-700 border-green-200",children:y.length})]}),n.jsx(Qe,{value:"history",children:"History"})]}),n.jsxs(et,{value:"details",className:"space-y-6",children:[n.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[n.jsx(Re,{className:He("ri-badge-status",m(e.status)),children:e.status.toUpperCase()}),e.paidDate&&n.jsxs(Re,{className:"bg-green-50 text-green-700 border-green-200",children:["PAID ON ",ct(e.paidDate)]}),e.status===Mt.OVERDUE&&n.jsx(Re,{className:"bg-red-50 text-red-700 border-red-200",children:"OVERDUE"})]}),n.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Customer"}),n.jsx("p",{className:"font-medium",children:e.customerId})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Invoice Number"}),n.jsx("p",{className:"font-medium",children:e.number})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Created Date"}),n.jsx("p",{className:"font-medium",children:ct(e.createdAt)})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Due Date"}),n.jsx("p",{className:"font-medium",children:ct(e.dueDate)})]}),e.paidDate&&n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Paid Date"}),n.jsx("p",{className:"font-medium",children:ct(e.paidDate)})]}),e.paymentMethod&&n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Payment Method"}),n.jsx("p",{className:"font-medium",children:e.paymentMethod})]})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Invoice Items"}),n.jsx("div",{className:"space-y-3",children:e.items.map((S,N)=>n.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[n.jsxs("div",{className:"flex-1",children:[n.jsx("h4",{className:"font-medium",children:S.description}),n.jsxs("p",{className:"text-sm text-muted-foreground",children:["Quantity: ",S.quantity,"  ",_e(S.unitPrice)]})]}),n.jsx("div",{className:"text-right",children:n.jsx("div",{className:"font-bold text-lg",children:_e(S.total)})})]},S.id))})]}),n.jsx("div",{className:"bg-muted/30 p-4 rounded-lg",children:n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{children:"Subtotal:"}),n.jsx("span",{children:_e(e.subtotal)})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{children:"Tax:"}),n.jsx("span",{children:_e(e.tax)})]}),n.jsxs("div",{className:"flex justify-between text-lg font-bold border-t pt-2",children:[n.jsx("span",{children:"Total:"}),n.jsx("span",{children:_e(e.total)})]}),y.length>0&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"flex justify-between text-green-600",children:[n.jsx("span",{children:"Paid:"}),n.jsx("span",{children:_e(j)})]}),n.jsxs("div",{className:"flex justify-between font-bold",children:[n.jsx("span",{children:"Balance Due:"}),n.jsx("span",{children:_e(E)})]})]})]})}),e.notes&&n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Notes"}),n.jsx("div",{className:"mt-1 p-3 bg-muted/30 rounded-md",children:n.jsx("p",{className:"text-sm",children:e.notes})})]})]}),n.jsxs(et,{value:"payments",className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("h3",{className:"text-lg font-semibold",children:"Payment History"}),n.jsx("div",{className:"flex space-x-2",children:e.status!==Mt.PAID&&e.status!==Mt.CANCELLED&&n.jsxs(n.Fragment,{children:[n.jsxs(J,{onClick:g,disabled:d,size:"sm",variant:"outline",children:[n.jsx($o,{className:"h-4 w-4 mr-2"}),d?"Sending...":"Send Payment Request"]}),i&&E>0&&n.jsxs(J,{onClick:()=>f(!0),size:"sm",children:[n.jsx(Nt,{className:"h-4 w-4 mr-2"}),"Record Payment"]})]})})]}),y.length>0?n.jsxs("div",{className:"space-y-4",children:[y.map(S=>n.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[n.jsxs("h4",{className:"font-medium",children:["Payment #",S.id.substring(0,8)]}),n.jsx(Re,{className:S.status==="completed"?"bg-green-50 text-green-700 border-green-200":S.status==="pending"?"bg-yellow-50 text-yellow-700 border-yellow-200":S.status==="processing"?"bg-blue-50 text-blue-700 border-blue-200":S.status==="failed"?"bg-red-50 text-red-700 border-red-200":S.status==="refunded"?"bg-purple-50 text-purple-700 border-purple-200":"bg-gray-50 text-gray-700 border-gray-200",children:n.jsxs("span",{className:"flex items-center",children:[v(S.status),n.jsx("span",{className:"ml-1",children:S.status.toUpperCase()})]})})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-3 text-sm text-muted-foreground",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx(Lr,{className:"h-3 w-3 mr-1 text-blue-500"}),n.jsx("span",{className:"font-medium",children:"Date:"}),n.jsx("span",{className:"ml-1",children:ct(S.processedDate)})]}),n.jsxs("div",{className:"flex items-center",children:[x(S.method),n.jsx("span",{className:"font-medium ml-1",children:"Method:"}),n.jsx("span",{className:"ml-1",children:S.method.replace("_"," ").replace(/\b\w/g,N=>N.toUpperCase())})]}),S.transactionId&&n.jsxs("div",{className:"flex items-center",children:[n.jsx(Xs,{className:"h-3 w-3 mr-1 text-purple-500"}),n.jsx("span",{className:"font-medium",children:"Transaction ID:"}),n.jsx("span",{className:"ml-1 font-mono text-xs",children:S.transactionId})]})]}),S.notes&&n.jsx("p",{className:"text-sm text-muted-foreground mt-2 bg-muted/20 p-2 rounded-md",children:S.notes})]}),n.jsx("div",{className:"text-right",children:n.jsx("div",{className:"font-bold text-lg text-green-600",children:_e(S.amount)})})]},S.id)),n.jsx("div",{className:"bg-muted/30 p-4 rounded-lg",children:n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"font-medium",children:"Invoice Total:"}),n.jsx("span",{children:_e(e.total)})]}),n.jsxs("div",{className:"flex justify-between text-green-700",children:[n.jsx("span",{className:"font-medium",children:"Total Paid:"}),n.jsx("span",{children:_e(j)})]}),n.jsxs("div",{className:"flex justify-between font-bold border-t pt-2",children:[n.jsx("span",{className:E>0?"text-red-700":"text-green-700",children:"Balance Due:"}),n.jsx("span",{className:E>0?"text-red-700":"text-green-700",children:_e(E)})]})]})})]}):n.jsxs("div",{className:"text-center py-8 text-muted-foreground border-2 border-dashed rounded-lg",children:[n.jsx(mi,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground/50"}),n.jsx("p",{children:"No payments recorded for this invoice"}),e.status!==Mt.PAID&&e.status!==Mt.CANCELLED&&i&&n.jsxs(J,{onClick:()=>f(!0),className:"mt-4",size:"sm",children:[n.jsx(Nt,{className:"h-4 w-4 mr-2"}),"Record Payment"]})]}),n.jsxs(de,{className:"bg-blue-50 border-blue-200",children:[n.jsxs(ye,{className:"pb-2",children:[n.jsx(be,{className:"text-lg text-blue-800",children:"Zego Payment Integration"}),n.jsx($e,{className:"text-blue-700",children:"Secure payment processing for your customers"})]}),n.jsx(ue,{children:n.jsxs("div",{className:"space-y-3 text-blue-700",children:[n.jsx("p",{className:"text-sm",children:"When you send a payment request, your customer will receive an email with a secure link to make their payment online."}),n.jsx("p",{className:"text-sm",children:"Payments are processed securely through Zego's payment gateway, supporting credit cards, ACH transfers, and more."}),n.jsx("p",{className:"text-sm font-medium",children:"Processing fee: 2.9% + $0.30 per transaction"})]})})]})]}),n.jsxs(et,{value:"history",className:"space-y-6",children:[n.jsx("h3",{className:"text-lg font-semibold",children:"Invoice History"}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"relative pl-6 pb-6 border-l-2 border-muted",children:[n.jsx("div",{className:"absolute left-[-8px] top-0 w-4 h-4 rounded-full bg-blue-500"}),n.jsx("div",{className:"font-medium",children:"Invoice Created"}),n.jsx("div",{className:"text-sm text-muted-foreground",children:ct(e.createdAt)})]}),e.status!==Mt.DRAFT&&n.jsxs("div",{className:"relative pl-6 pb-6 border-l-2 border-muted",children:[n.jsx("div",{className:"absolute left-[-8px] top-0 w-4 h-4 rounded-full bg-yellow-500"}),n.jsx("div",{className:"font-medium",children:"Invoice Sent"}),n.jsx("div",{className:"text-sm text-muted-foreground",children:ct(e.updatedAt)})]}),e.status===Mt.VIEWED&&n.jsxs("div",{className:"relative pl-6 pb-6 border-l-2 border-muted",children:[n.jsx("div",{className:"absolute left-[-8px] top-0 w-4 h-4 rounded-full bg-purple-500"}),n.jsx("div",{className:"font-medium",children:"Invoice Viewed by Customer"}),n.jsx("div",{className:"text-sm text-muted-foreground",children:ct(e.updatedAt)})]}),e.status===Mt.PAID&&e.paidDate&&n.jsxs("div",{className:"relative pl-6",children:[n.jsx("div",{className:"absolute left-[-8px] top-0 w-4 h-4 rounded-full bg-green-500"}),n.jsx("div",{className:"font-medium",children:"Payment Received"}),n.jsx("div",{className:"text-sm text-muted-foreground",children:ct(e.paidDate)})]}),e.status===Mt.OVERDUE&&n.jsxs("div",{className:"relative pl-6",children:[n.jsx("div",{className:"absolute left-[-8px] top-0 w-4 h-4 rounded-full bg-red-500"}),n.jsx("div",{className:"font-medium",children:"Invoice Overdue"}),n.jsx("div",{className:"text-sm text-muted-foreground",children:ct(e.dueDate)})]}),e.status===Mt.CANCELLED&&n.jsxs("div",{className:"relative pl-6",children:[n.jsx("div",{className:"absolute left-[-8px] top-0 w-4 h-4 rounded-full bg-gray-500"}),n.jsx("div",{className:"font-medium",children:"Invoice Cancelled"}),n.jsx("div",{className:"text-sm text-muted-foreground",children:ct(e.updatedAt)})]})]})]})]}),n.jsxs("div",{className:"flex justify-end space-x-3 pt-6 border-t mt-6",children:[n.jsx(J,{variant:"outline",onClick:r,children:"Close"}),n.jsxs(J,{variant:"outline",onClick:p,children:[n.jsx(Pu,{className:"h-4 w-4 mr-2"}),"Print PDF"]}),n.jsxs("div",{className:"flex space-x-2",children:[e.status===Mt.DRAFT&&n.jsxs(J,{children:[n.jsx($o,{className:"h-4 w-4 mr-2"}),"Send Invoice"]}),e.status!==Mt.PAID&&e.status!==Mt.CANCELLED&&n.jsxs(n.Fragment,{children:[n.jsxs(J,{onClick:g,disabled:d,variant:"outline",children:[n.jsx($o,{className:"h-4 w-4 mr-2"}),d?"Sending...":"Request Payment"]}),i&&E>0&&n.jsxs(J,{onClick:()=>f(!0),children:[n.jsx(mi,{className:"h-4 w-4 mr-2"}),"Record Payment"]})]})]})]})]})]})]})}function Wce({payments:e,onViewPaymentDetails:t}){const{toast:r}=At(),[s,a]=C.useState(""),[i,o]=C.useState("all"),[l,c]=C.useState("all"),[d,h]=C.useState("all"),u=N=>{switch(N){case"completed":return"bg-green-50 text-green-700 border-green-200";case"pending":return"bg-yellow-50 text-yellow-700 border-yellow-200";case"processing":return"bg-blue-50 text-blue-700 border-blue-200";case"failed":return"bg-red-50 text-red-700 border-red-200";case"refunded":return"bg-purple-50 text-purple-700 border-purple-200";default:return"bg-gray-50 text-gray-700 border-gray-200"}},f=N=>{switch(N){case"completed":return n.jsx(Xr,{className:"h-4 w-4 text-green-500"});case"pending":return n.jsx(sr,{className:"h-4 w-4 text-yellow-500"});case"processing":return n.jsx(sr,{className:"h-4 w-4 text-blue-500"});case"failed":return n.jsx(to,{className:"h-4 w-4 text-red-500"});case"refunded":return n.jsx(Xs,{className:"h-4 w-4 text-purple-500"});default:return null}},m=N=>{switch(N){case"credit_card":return"Credit Card";case"bank_transfer":return"Bank Transfer";case"cash":return"Cash";case"check":return"Check";case"financing":return"Financing";default:return N}},v=N=>{switch(N){case"credit_card":return n.jsx(mi,{className:"h-4 w-4 text-blue-500"});case"bank_transfer":return n.jsx(Xs,{className:"h-4 w-4 text-green-500"});case"cash":return n.jsx(Xs,{className:"h-4 w-4 text-green-500"});case"check":return n.jsx(Xs,{className:"h-4 w-4 text-blue-500"});case"financing":return n.jsx(Xs,{className:"h-4 w-4 text-purple-500"});default:return n.jsx(Xs,{className:"h-4 w-4 text-gray-500"})}},x=e.filter(N=>{const w=N.invoiceId.toLowerCase().includes(s.toLowerCase())||N.id.toLowerCase().includes(s.toLowerCase())||N.transactionId&&N.transactionId.toLowerCase().includes(s.toLowerCase()),_=i==="all"||N.status===i,k=l==="all"||N.method===l;let T=!0;const A=new Date,O=N.processedDate;if(d==="today")T=O.toDateString()===A.toDateString();else if(d==="this_week"){const D=new Date(A);D.setDate(A.getDate()-A.getDay());const F=new Date(D);F.setDate(D.getDate()+6),T=O>=D&&O<=F}else d==="this_month"&&(T=O.getMonth()===A.getMonth()&&O.getFullYear()===A.getFullYear());return w&&_&&k&&T}),p=()=>{const w=[["ID","Invoice ID","Amount","Method","Status","Transaction ID","Date","Notes"].join(","),...x.map(A=>[A.id,A.invoiceId,A.amount.toFixed(2),A.method,A.status,A.transactionId||"",A.processedDate.toISOString().split("T")[0],A.notes||""].join(","))].join(`
`),_=new Blob([w],{type:"text/csv;charset=utf-8;"}),k=URL.createObjectURL(_),T=document.createElement("a");T.href=k,T.setAttribute("download","payment_history.csv"),document.body.appendChild(T),T.click(),document.body.removeChild(T),r({title:"Export Successful",description:"Payment history exported to CSV"})},g=e.length,b=e.reduce((N,w)=>N+w.amount,0),y=e.filter(N=>N.status==="completed").length,j=e.filter(N=>N.status==="pending"||N.status==="processing").length,E=e.filter(N=>N.status==="failed").length,S=e.reduce((N,w)=>{const _=w.method;return N[_]||(N[_]=0),w.status==="completed"&&(N[_]+=w.amount),N},{});return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"grid gap-4 md:grid-cols-4",children:[n.jsxs(de,{className:"shadow-sm border-0 bg-gradient-to-br from-blue-50 to-blue-100/50",children:[n.jsxs(ye,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(be,{className:"text-sm font-medium text-blue-900",children:"Total Payments"}),n.jsx(mi,{className:"h-4 w-4 text-blue-600"})]}),n.jsxs(ue,{children:[n.jsx("div",{className:"text-2xl font-bold text-blue-900",children:g}),n.jsxs("p",{className:"text-xs text-blue-600 flex items-center mt-1",children:[_e(b)," processed"]})]})]}),n.jsxs(de,{className:"shadow-sm border-0 bg-gradient-to-br from-green-50 to-green-100/50",children:[n.jsxs(ye,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(be,{className:"text-sm font-medium text-green-900",children:"Completed"}),n.jsx(Xr,{className:"h-4 w-4 text-green-600"})]}),n.jsxs(ue,{children:[n.jsx("div",{className:"text-2xl font-bold text-green-900",children:y}),n.jsxs("p",{className:"text-xs text-green-600 flex items-center mt-1",children:[(y/g*100||0).toFixed(1),"% success rate"]})]})]}),n.jsxs(de,{className:"shadow-sm border-0 bg-gradient-to-br from-yellow-50 to-yellow-100/50",children:[n.jsxs(ye,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(be,{className:"text-sm font-medium text-yellow-900",children:"Pending"}),n.jsx(sr,{className:"h-4 w-4 text-yellow-600"})]}),n.jsxs(ue,{children:[n.jsx("div",{className:"text-2xl font-bold text-yellow-900",children:j}),n.jsx("p",{className:"text-xs text-yellow-600 flex items-center mt-1",children:"Awaiting processing"})]})]}),n.jsxs(de,{className:"shadow-sm border-0 bg-gradient-to-br from-red-50 to-red-100/50",children:[n.jsxs(ye,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(be,{className:"text-sm font-medium text-red-900",children:"Failed"}),n.jsx(to,{className:"h-4 w-4 text-red-600"})]}),n.jsxs(ue,{children:[n.jsx("div",{className:"text-2xl font-bold text-red-900",children:E}),n.jsxs("p",{className:"text-xs text-red-600 flex items-center mt-1",children:[(E/g*100||0).toFixed(1),"% failure rate"]})]})]})]}),n.jsxs(de,{className:"shadow-sm",children:[n.jsxs(ye,{children:[n.jsx(be,{className:"text-lg",children:"Payment Methods"}),n.jsx($e,{children:"Breakdown of payments by method"})]}),n.jsx(ue,{children:n.jsxs("div",{className:"grid gap-3 md:grid-cols-3",children:[Object.entries(S).map(([N,w])=>n.jsxs("div",{className:"p-4 border rounded-lg",children:[n.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[v(N),n.jsx("span",{className:"font-medium",children:m(N)})]}),n.jsx("div",{className:"text-2xl font-bold text-primary",children:_e(w)}),n.jsxs("p",{className:"text-sm text-muted-foreground",children:[e.filter(_=>_.method===N&&_.status==="completed").length," payments"]})]},N)),Object.keys(S).length===0&&n.jsx("div",{className:"col-span-3 text-center py-8 text-muted-foreground",children:n.jsx("p",{children:"No payment data available"})})]})})]}),n.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[n.jsxs("div",{className:"relative flex-1",children:[n.jsx(es,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),n.jsx(Pe,{placeholder:"Search payments...",value:s,onChange:N=>a(N.target.value),className:"pl-10"})]}),n.jsxs(Ve,{value:i,onValueChange:o,children:[n.jsx(ze,{className:"w-[150px]",children:n.jsx(qe,{placeholder:"Status"})}),n.jsxs(Ue,{children:[n.jsx(K,{value:"all",children:"All Status"}),n.jsx(K,{value:"completed",children:"Completed"}),n.jsx(K,{value:"pending",children:"Pending"}),n.jsx(K,{value:"processing",children:"Processing"}),n.jsx(K,{value:"failed",children:"Failed"}),n.jsx(K,{value:"refunded",children:"Refunded"})]})]}),n.jsxs(Ve,{value:l,onValueChange:c,children:[n.jsx(ze,{className:"w-[150px]",children:n.jsx(qe,{placeholder:"Method"})}),n.jsxs(Ue,{children:[n.jsx(K,{value:"all",children:"All Methods"}),n.jsx(K,{value:"credit_card",children:"Credit Card"}),n.jsx(K,{value:"bank_transfer",children:"Bank Transfer"}),n.jsx(K,{value:"cash",children:"Cash"}),n.jsx(K,{value:"check",children:"Check"}),n.jsx(K,{value:"financing",children:"Financing"})]})]}),n.jsxs(Ve,{value:d,onValueChange:h,children:[n.jsx(ze,{className:"w-[150px]",children:n.jsx(qe,{placeholder:"Date"})}),n.jsxs(Ue,{children:[n.jsx(K,{value:"all",children:"All Dates"}),n.jsx(K,{value:"today",children:"Today"}),n.jsx(K,{value:"this_week",children:"This Week"}),n.jsx(K,{value:"this_month",children:"This Month"})]})]}),n.jsxs(J,{variant:"outline",children:[n.jsx(Na,{className:"h-4 w-4 mr-2"}),"More Filters"]})]}),n.jsxs(de,{className:"shadow-sm",children:[n.jsx(ye,{children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx(be,{children:"Payment History"}),n.jsx($e,{children:"Track and manage customer payments"})]}),n.jsxs("div",{className:"flex space-x-2",children:[n.jsxs(J,{variant:"outline",size:"sm",onClick:p,children:[n.jsx(wa,{className:"h-4 w-4 mr-2"}),"Export"]}),n.jsxs(J,{variant:"outline",size:"sm",children:[n.jsx(Pu,{className:"h-4 w-4 mr-2"}),"Print"]})]})]})}),n.jsx(ue,{children:n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full border-collapse",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"bg-muted/50",children:[n.jsx("th",{className:"p-3 text-left font-medium text-muted-foreground",children:"Invoice"}),n.jsx("th",{className:"p-3 text-left font-medium text-muted-foreground",children:"Amount"}),n.jsx("th",{className:"p-3 text-left font-medium text-muted-foreground",children:"Method"}),n.jsx("th",{className:"p-3 text-left font-medium text-muted-foreground",children:"Status"}),n.jsx("th",{className:"p-3 text-left font-medium text-muted-foreground",children:"Date"}),n.jsx("th",{className:"p-3 text-left font-medium text-muted-foreground",children:"Transaction ID"}),n.jsx("th",{className:"p-3 text-left font-medium text-muted-foreground",children:"Actions"})]})}),n.jsxs("tbody",{children:[x.map(N=>n.jsxs("tr",{className:"border-b hover:bg-muted/10",children:[n.jsx("td",{className:"p-3",children:n.jsxs("div",{className:"font-medium",children:["#",N.invoiceId.substring(0,8)]})}),n.jsx("td",{className:"p-3 font-medium",children:_e(N.amount)}),n.jsx("td",{className:"p-3",children:n.jsxs("div",{className:"flex items-center space-x-1",children:[v(N.method),n.jsx("span",{children:m(N.method)})]})}),n.jsx("td",{className:"p-3",children:n.jsxs(Re,{className:He("flex items-center space-x-1",u(N.status)),children:[f(N.status),n.jsx("span",{children:N.status.charAt(0).toUpperCase()+N.status.slice(1)})]})}),n.jsx("td",{className:"p-3",children:ct(N.processedDate)}),n.jsx("td",{className:"p-3",children:n.jsx("span",{className:"font-mono text-xs",children:N.transactionId?N.transactionId:"-"})}),n.jsx("td",{className:"p-3",children:n.jsx("div",{className:"flex space-x-2",children:n.jsx(J,{variant:"ghost",size:"sm",onClick:()=>t==null?void 0:t(N),children:"View"})})})]},N.id)),x.length===0&&n.jsx("tr",{children:n.jsxs("td",{colSpan:7,className:"p-8 text-center text-muted-foreground",children:[n.jsx(mi,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),n.jsx("p",{children:"No payments found matching your filters"})]})})]})]})})})]})]})}function zI(){const{invoices:e,payments:t,createInvoice:r,updateInvoice:s,deleteInvoice:a,updateInvoiceStatus:i,sendInvoice:o,sendPaymentRequest:l,recordPayment:c}=uB(),{toast:d}=At(),[h,u]=C.useState(""),[f,m]=C.useState("all"),[v,x]=C.useState("invoices"),[p,g]=C.useState(!1),[b,y]=C.useState(!1),[j,E]=C.useState(null),S=D=>{switch(D){case Mt.DRAFT:return"bg-gray-50 text-gray-700 border-gray-200";case Mt.SENT:return"bg-blue-50 text-blue-700 border-blue-200";case Mt.VIEWED:return"bg-yellow-50 text-yellow-700 border-yellow-200";case Mt.PAID:return"bg-green-50 text-green-700 border-green-200";case Mt.OVERDUE:return"bg-red-50 text-red-700 border-red-200";case Mt.CANCELLED:return"bg-gray-50 text-gray-700 border-gray-200";default:return"bg-gray-50 text-gray-700 border-gray-200"}},N=e.filter(D=>D.number.toLowerCase().includes(h.toLowerCase())||D.customerId.toLowerCase().includes(h.toLowerCase())).filter(D=>f==="all"||D.status===f),w=()=>{E(null),g(!0)},_=D=>{E(D),g(!0),y(!1)},k=D=>{E(D),y(!0)},T=async D=>{try{j?(await s(j.id,D),d({title:"Success",description:"Invoice updated successfully"})):(await r(D),d({title:"Success",description:"Invoice created successfully"})),g(!1),E(null)}catch{d({title:"Error",description:`Failed to ${j?"update":"create"} invoice`,variant:"destructive"})}},A=async D=>{try{return await l(D),!0}catch(F){throw console.error("Error sending payment request:",F),F}},O=async D=>{try{return await c(D),d({title:"Success",description:"Payment recorded successfully"}),!0}catch(F){throw d({title:"Error",description:"Failed to record payment",variant:"destructive"}),F}};return n.jsxs("div",{className:"space-y-8",children:[p&&n.jsx(Uce,{invoice:j||void 0,onSave:T,onCancel:()=>{g(!1),E(null)}}),b&&j&&n.jsx(qce,{invoice:j,payments:t.filter(D=>D.invoiceId===j.id),onClose:()=>y(!1),onEdit:_,onSendPaymentRequest:A,onRecordPayment:O}),n.jsx("div",{className:"ri-page-header",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"ri-page-title",children:"Invoice & Payments"}),n.jsx("p",{className:"ri-page-description",children:"Manage invoices and process payments via Zego integration"})]}),n.jsxs(J,{className:"shadow-sm",onClick:w,children:[n.jsx(Nt,{className:"h-4 w-4 mr-2"}),"New Invoice"]})]})}),n.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[n.jsxs(de,{className:"shadow-sm border-0 bg-gradient-to-br from-blue-50 to-blue-100/50",children:[n.jsxs(ye,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(be,{className:"text-sm font-medium text-blue-900",children:"Total Invoices"}),n.jsx(Xs,{className:"h-4 w-4 text-blue-600"})]}),n.jsxs(ue,{children:[n.jsx("div",{className:"text-2xl font-bold text-blue-900",children:e.length}),n.jsxs("p",{className:"text-xs text-blue-600 flex items-center mt-1",children:[n.jsx(_t,{className:"h-3 w-3 mr-1"}),"All invoices"]})]})]}),n.jsxs(de,{className:"shadow-sm border-0 bg-gradient-to-br from-orange-50 to-orange-100/50",children:[n.jsxs(ye,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(be,{className:"text-sm font-medium text-orange-900",children:"Outstanding"}),n.jsx(Xs,{className:"h-4 w-4 text-orange-600"})]}),n.jsxs(ue,{children:[n.jsx("div",{className:"text-2xl font-bold text-orange-900",children:_e(e.filter(D=>D.status!==Mt.PAID).reduce((D,F)=>D+F.total,0))}),n.jsxs("p",{className:"text-xs text-orange-600 flex items-center mt-1",children:[n.jsx(It,{className:"h-3 w-3 mr-1"}),"Unpaid invoices"]})]})]}),n.jsxs(de,{className:"shadow-sm border-0 bg-gradient-to-br from-green-50 to-green-100/50",children:[n.jsxs(ye,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(be,{className:"text-sm font-medium text-green-900",children:"Paid This Month"}),n.jsx(Xs,{className:"h-4 w-4 text-green-600"})]}),n.jsxs(ue,{children:[n.jsx("div",{className:"text-2xl font-bold text-green-900",children:_e(e.filter(D=>D.status===Mt.PAID).reduce((D,F)=>D+F.total,0))}),n.jsxs("p",{className:"text-xs text-green-600 flex items-center mt-1",children:[n.jsx(_t,{className:"h-3 w-3 mr-1"}),"Revenue collected"]})]})]}),n.jsxs(de,{className:"shadow-sm border-0 bg-gradient-to-br from-purple-50 to-purple-100/50",children:[n.jsxs(ye,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(be,{className:"text-sm font-medium text-purple-900",children:"Payment Success Rate"}),n.jsx(mi,{className:"h-4 w-4 text-purple-600"})]}),n.jsxs(ue,{children:[n.jsx("div",{className:"text-2xl font-bold text-purple-900",children:"98.5%"}),n.jsxs("p",{className:"text-xs text-purple-600 flex items-center mt-1",children:[n.jsx(Xr,{className:"h-3 w-3 mr-1"}),t.filter(D=>D.status==="completed").length," successful payments"]})]})]})]}),n.jsxs(de,{className:"shadow-sm border-0 bg-gradient-to-br from-blue-50 to-blue-100/50",children:[n.jsxs(ye,{children:[n.jsxs(be,{className:"flex items-center space-x-2 text-blue-900",children:[n.jsx(mi,{className:"h-5 w-5 text-blue-600"}),n.jsx("span",{children:"Zego Payment Integration"})]}),n.jsx($e,{className:"text-blue-700",children:"Seamlessly process payments and send payment requests to customers"})]}),n.jsx(ue,{children:n.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[n.jsxs("div",{className:"text-center p-4 bg-white/50 rounded-lg",children:[n.jsx("div",{className:"text-2xl font-bold text-blue-600",children:"99.9%"}),n.jsx("p",{className:"text-sm text-blue-700",children:"Uptime"})]}),n.jsxs("div",{className:"text-center p-4 bg-white/50 rounded-lg",children:[n.jsx("div",{className:"text-2xl font-bold text-blue-600",children:"2.9%"}),n.jsx("p",{className:"text-sm text-blue-700",children:"Processing Fee"})]}),n.jsxs("div",{className:"text-center p-4 bg-white/50 rounded-lg",children:[n.jsx("div",{className:"text-2xl font-bold text-blue-600",children:"24/7"}),n.jsx("p",{className:"text-sm text-blue-700",children:"Support"})]})]})})]}),n.jsxs(xr,{value:v,onValueChange:x,className:"space-y-6",children:[n.jsxs(fr,{className:"grid w-full grid-cols-2",children:[n.jsxs(Qe,{value:"invoices",className:"flex items-center",children:[n.jsx(Xs,{className:"h-4 w-4 mr-2"}),"Invoices"]}),n.jsxs(Qe,{value:"payments",className:"flex items-center",children:[n.jsx(mi,{className:"h-4 w-4 mr-2"}),"Payments"]})]}),n.jsxs(et,{value:"invoices",children:[n.jsxs("div",{className:"flex gap-4",children:[n.jsxs("div",{className:"ri-search-bar",children:[n.jsx(es,{className:"ri-search-icon"}),n.jsx(Pe,{placeholder:"Search invoices...",value:h,onChange:D=>u(D.target.value),className:"ri-search-input shadow-sm"})]}),n.jsxs(Ve,{value:f,onValueChange:m,children:[n.jsx(ze,{className:"w-40",children:n.jsx(qe,{placeholder:"Status"})}),n.jsxs(Ue,{children:[n.jsx(K,{value:"all",children:"All Status"}),n.jsx(K,{value:Mt.DRAFT,children:"Draft"}),n.jsx(K,{value:Mt.SENT,children:"Sent"}),n.jsx(K,{value:Mt.VIEWED,children:"Viewed"}),n.jsx(K,{value:Mt.PAID,children:"Paid"}),n.jsx(K,{value:Mt.OVERDUE,children:"Overdue"}),n.jsx(K,{value:Mt.CANCELLED,children:"Cancelled"})]})]}),n.jsxs(J,{variant:"outline",className:"shadow-sm",children:[n.jsx(Na,{className:"h-4 w-4 mr-2"}),"Filter"]})]}),n.jsxs(de,{className:"shadow-sm",children:[n.jsxs(ye,{children:[n.jsx(be,{className:"text-xl",children:"Invoices"}),n.jsx($e,{children:"Manage invoices and track payments"})]}),n.jsx(ue,{children:n.jsxs("div",{className:"space-y-4",children:[N.map(D=>n.jsxs("div",{className:"ri-table-row",children:[n.jsx("div",{className:"flex items-center space-x-4 flex-1",children:n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[n.jsx("h3",{className:"font-semibold text-foreground",children:D.number}),n.jsx(Re,{className:He("ri-badge-status",S(D.status)),children:D.status.toUpperCase()})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm text-muted-foreground",children:[n.jsxs("div",{children:[n.jsx("span",{className:"font-medium",children:"Customer:"}),n.jsx("span",{className:"ml-1",children:D.customerId})]}),n.jsxs("div",{children:[n.jsx("span",{className:"font-medium",children:"Total:"}),n.jsx("span",{className:"ml-1 font-bold text-primary",children:_e(D.total)})]}),n.jsxs("div",{children:[n.jsx("span",{className:"font-medium",children:"Due Date:"}),n.jsx("span",{className:"ml-1",children:ct(D.dueDate)})]}),D.paidDate&&n.jsxs("div",{children:[n.jsx("span",{className:"font-medium",children:"Paid Date:"}),n.jsx("span",{className:"ml-1",children:ct(D.paidDate)})]})]}),n.jsxs("div",{className:"mt-2 bg-muted/30 p-2 rounded-md",children:[n.jsxs("p",{className:"text-sm text-muted-foreground",children:[D.items.length," item(s) - ",D.notes]}),D.paymentMethod&&n.jsxs("p",{className:"text-sm text-muted-foreground",children:[n.jsx("span",{className:"font-medium",children:"Payment Method:"})," ",D.paymentMethod]})]})]})}),n.jsxs("div",{className:"ri-action-buttons",children:[n.jsxs(J,{variant:"outline",size:"sm",className:"shadow-sm",onClick:()=>k(D),children:[n.jsx(Ol,{className:"h-3 w-3 mr-1"}),"View"]}),n.jsx(J,{variant:"outline",size:"sm",className:"shadow-sm",onClick:()=>_(D),children:"Edit"}),n.jsxs(J,{variant:"outline",size:"sm",className:"shadow-sm",children:[n.jsx(wa,{className:"h-3 w-3 mr-1"}),"PDF"]}),D.status!==Mt.PAID&&n.jsxs(J,{variant:"outline",size:"sm",className:"shadow-sm",onClick:()=>A(D.id),children:[n.jsx($o,{className:"h-3 w-3 mr-1"}),"Send Payment Request"]})]})]},D.id)),N.length===0&&n.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[n.jsx(Xs,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground/50"}),n.jsx("p",{children:"No invoices found"}),n.jsx("p",{className:"text-sm",children:"Create your first invoice to get started"})]})]})})]})]}),n.jsx(et,{value:"payments",children:n.jsx(Wce,{payments:t,onViewPaymentDetails:D=>{const F=e.find(M=>M.id===D.invoiceId);F&&(E(F),y(!0),setTimeout(()=>{const M=document.querySelector('[role="tablist"]');if(M){const R=Array.from(M.children).find(B=>{var U;return(U=B.textContent)==null?void 0:U.includes("Payments")});R&&R.click()}},100))}})})]})]})}function Hce(){return n.jsxs(Ps,{children:[n.jsx(Ft,{path:"/",element:n.jsx(zI,{})}),n.jsx(Ft,{path:"/*",element:n.jsx(zI,{})})]})}function Gce({field:e,onSave:t,onCancel:r,modules:s}){var x;const{toast:a}=At(),[i,o]=C.useState(!1),[l,c]=C.useState({name:"",type:ii.TEXT,required:!1,options:[],module:"",section:""}),[d,h]=C.useState("");C.useEffect(()=>{e&&c({...e})},[e]);const u=async p=>{if(p.preventDefault(),!l.name||!l.module||!l.section){a({title:"Validation Error",description:"Please fill in all required fields",variant:"destructive"});return}if((l.type===ii.SELECT||l.type===ii.MULTISELECT)&&(!l.options||l.options.length===0)){a({title:"Validation Error",description:"Please add at least one option for select fields",variant:"destructive"});return}o(!0);try{await t(l),a({title:"Success",description:`Custom field ${e?"updated":"created"} successfully`})}catch{a({title:"Error",description:`Failed to ${e?"update":"create"} custom field`,variant:"destructive"})}finally{o(!1)}},f=()=>{var p;d.trim()&&!((p=l.options)!=null&&p.includes(d.trim()))&&(c(g=>({...g,options:[...g.options||[],d.trim()]})),h(""))},m=p=>{c(g=>{var b;return{...g,options:((b=g.options)==null?void 0:b.filter(y=>y!==p))||[]}})},v=p=>{switch(p){case"crm":return["Lead Information","Contact Details","Preferences","Notes"];case"inventory":return["Vehicle Details","Specifications","Pricing","Features"];case"quotes":return["Quote Details","Terms","Pricing"];case"agreements":return["Agreement Details","Terms","Conditions"];case"service":return["Service Details","Customer Requirements","Technical Notes"];case"delivery":return["Delivery Details","Customer Instructions","Logistics"];case"invoices":return["Invoice Details","Payment Terms","Additional Charges"];default:return["General","Details","Other"]}};return n.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:n.jsxs(de,{className:"w-full max-w-md",children:[n.jsx(ye,{children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx(be,{children:e?"Edit Custom Field":"Add Custom Field"}),n.jsx($e,{children:e?"Update custom field details":"Create a new custom field"})]}),n.jsx(J,{variant:"ghost",size:"sm",onClick:r,children:n.jsx(Ut,{className:"h-4 w-4"})})]})}),n.jsx(ue,{children:n.jsxs("form",{onSubmit:u,className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"name",children:"Field Name *"}),n.jsx(Pe,{id:"name",value:l.name,onChange:p=>c(g=>({...g,name:p.target.value})),placeholder:"e.g., Customer Budget"})]}),n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"module",children:"Module *"}),n.jsxs(Ve,{value:l.module,onValueChange:p=>{c(g=>({...g,module:p,section:""}))},children:[n.jsx(ze,{children:n.jsx(qe,{placeholder:"Select module"})}),n.jsx(Ue,{children:s.map(p=>n.jsx(K,{value:p,children:p.charAt(0).toUpperCase()+p.slice(1)},p))})]})]}),n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"section",children:"Section *"}),n.jsxs(Ve,{value:l.section,onValueChange:p=>c(g=>({...g,section:p})),disabled:!l.module,children:[n.jsx(ze,{children:n.jsx(qe,{placeholder:l.module?"Select section":"Select module first"})}),n.jsx(Ue,{children:l.module&&v(l.module).map(p=>n.jsx(K,{value:p,children:p},p))})]})]}),n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"type",children:"Field Type *"}),n.jsxs(Ve,{value:l.type,onValueChange:p=>c(g=>({...g,type:p})),children:[n.jsx(ze,{children:n.jsx(qe,{})}),n.jsxs(Ue,{children:[n.jsx(K,{value:ii.TEXT,children:"Text"}),n.jsx(K,{value:ii.NUMBER,children:"Number"}),n.jsx(K,{value:ii.DATE,children:"Date"}),n.jsx(K,{value:ii.BOOLEAN,children:"Boolean"}),n.jsx(K,{value:ii.SELECT,children:"Select"}),n.jsx(K,{value:ii.MULTISELECT,children:"Multi-select"})]})]})]}),(l.type===ii.SELECT||l.type===ii.MULTISELECT)&&n.jsxs("div",{children:[n.jsx(ae,{children:"Options"}),n.jsxs("div",{className:"flex space-x-2 mb-2",children:[n.jsx(Pe,{value:d,onChange:p=>h(p.target.value),placeholder:"Add an option",onKeyDown:p=>{p.key==="Enter"&&(p.preventDefault(),f())}}),n.jsx(J,{type:"button",onClick:f,children:n.jsx(Nt,{className:"h-4 w-4"})})]}),n.jsxs("div",{className:"flex flex-wrap gap-2 mt-2",children:[(x=l.options)==null?void 0:x.map((p,g)=>n.jsxs("div",{className:"flex items-center bg-muted/50 px-3 py-1 rounded-md",children:[n.jsx("span",{className:"mr-2",children:p}),n.jsx(J,{type:"button",variant:"ghost",size:"sm",className:"h-5 w-5 p-0",onClick:()=>m(p),children:n.jsx(Sn,{className:"h-3 w-3"})})]},g)),(!l.options||l.options.length===0)&&n.jsx("div",{className:"text-sm text-muted-foreground",children:"No options added yet"})]})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Vt,{id:"required",checked:l.required,onCheckedChange:p=>c(g=>({...g,required:!!p}))}),n.jsx(ae,{htmlFor:"required",children:"Required field"})]}),n.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[n.jsx(J,{type:"button",variant:"outline",onClick:r,disabled:i,children:"Cancel"}),n.jsx(J,{type:"submit",disabled:i,children:i?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),e?"Updating...":"Creating..."]}):n.jsxs(n.Fragment,{children:[n.jsx(Rr,{className:"h-4 w-4 mr-2"}),e?"Update":"Create"," Field"]})})]})]})})]})})}function Kce(){const{tenant:e,updateTenantSettings:t}=om(),{toast:r}=At(),[s,a]=C.useState(!1),[i,o]=C.useState((e==null?void 0:e.branding.primaryColor)||"#3b82f6"),[l,c]=C.useState((e==null?void 0:e.branding.secondaryColor)||"#64748b"),[d,h]=C.useState((e==null?void 0:e.branding.fontFamily)||"Inter"),[u,f]=C.useState((e==null?void 0:e.branding.logo)||""),[m,v]=C.useState((e==null?void 0:e.branding.logo)||""),x=C.useRef(null),p=[{value:"Inter",label:"Inter"},{value:"Roboto",label:"Roboto"},{value:"Open Sans",label:"Open Sans"},{value:"Montserrat",label:"Montserrat"},{value:"Lato",label:"Lato"},{value:"Poppins",label:"Poppins"},{value:"Source Sans Pro",label:"Source Sans Pro"},{value:"Oswald",label:"Oswald"}],g=y=>{var E;const j=(E=y.target.files)==null?void 0:E[0];if(j){const S=URL.createObjectURL(j);v(S),f(S)}},b=async()=>{a(!0);try{await t({branding:{primaryColor:i,secondaryColor:l,fontFamily:d,logo:u}}),r({title:"Branding Updated",description:"Your branding settings have been saved successfully."})}catch{r({title:"Error",description:"Failed to update branding settings.",variant:"destructive"})}finally{a(!1)}};return n.jsxs(de,{className:"shadow-sm",children:[n.jsxs(ye,{children:[n.jsxs(be,{className:"flex items-center",children:[n.jsx(h$,{className:"h-5 w-5 mr-2 text-primary"}),"Branding & Appearance"]}),n.jsx($e,{children:"Customize your dealership's visual identity"})]}),n.jsxs(ue,{className:"space-y-6",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsx(ae,{children:"Company Logo"}),n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx("div",{className:"border rounded-md p-4 w-40 h-40 flex items-center justify-center bg-muted/30",children:m?n.jsx("img",{src:m,alt:"Company Logo",className:"max-w-full max-h-full object-contain"}):n.jsx(yf,{className:"h-12 w-12 text-muted-foreground"})}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs(J,{variant:"outline",onClick:()=>{var y;return(y=x.current)==null?void 0:y.click()},children:[n.jsx(x4,{className:"h-4 w-4 mr-2"}),"Upload Logo"]}),n.jsx(Pe,{type:"file",ref:x,className:"hidden",accept:"image/*",onChange:g}),n.jsxs("p",{className:"text-xs text-muted-foreground",children:["Recommended size: 200x200px. Max file size: 2MB.",n.jsx("br",{}),"Supported formats: PNG, JPG, SVG"]})]})]})]}),n.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"primaryColor",children:"Primary Color"}),n.jsxs("div",{className:"flex items-center space-x-2 mt-1",children:[n.jsx(Pe,{type:"color",id:"primaryColor",value:i,onChange:y=>o(y.target.value),className:"w-16 h-10 shadow-sm"}),n.jsx(Pe,{value:i,onChange:y=>o(y.target.value),className:"shadow-sm"})]}),n.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Used for buttons, links, and primary actions"})]}),n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"secondaryColor",children:"Secondary Color"}),n.jsxs("div",{className:"flex items-center space-x-2 mt-1",children:[n.jsx(Pe,{type:"color",id:"secondaryColor",value:l,onChange:y=>c(y.target.value),className:"w-16 h-10 shadow-sm"}),n.jsx(Pe,{value:l,onChange:y=>c(y.target.value),className:"shadow-sm"})]}),n.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Used for secondary elements and accents"})]})]}),n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"fontFamily",children:"Font Family"}),n.jsxs(Ve,{value:d,onValueChange:h,children:[n.jsx(ze,{className:"shadow-sm",children:n.jsx(qe,{placeholder:"Select font family"})}),n.jsx(Ue,{children:p.map(y=>n.jsx(K,{value:y.value,children:y.label},y.value))})]}),n.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"The primary font used throughout your application"})]}),n.jsxs("div",{className:"border rounded-lg p-6 mt-6",children:[n.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Preview"}),n.jsxs("div",{className:"space-y-4 p-4 rounded-lg border",style:{fontFamily:d},children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx("h4",{className:"font-semibold",children:"Text Preview"}),n.jsx("p",{children:"This is how your text will appear with the selected font."})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("h4",{className:"font-semibold",children:"Color Preview"}),n.jsxs("div",{className:"flex space-x-4",children:[n.jsx("div",{className:"w-20 h-10 rounded-md flex items-center justify-center text-white",style:{backgroundColor:i},children:"Primary"}),n.jsx("div",{className:"w-20 h-10 rounded-md flex items-center justify-center text-white",style:{backgroundColor:l},children:"Secondary"})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("h4",{className:"font-semibold",children:"Button Preview"}),n.jsxs("div",{className:"flex space-x-4",children:[n.jsx("button",{className:"px-4 py-2 rounded-md text-white",style:{backgroundColor:i},children:"Primary Button"}),n.jsx("button",{className:"px-4 py-2 rounded-md border",style:{borderColor:l,color:l},children:"Secondary Button"})]})]})]})]}),n.jsx("div",{className:"flex justify-end",children:n.jsx(J,{onClick:b,disabled:s,children:s?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Saving..."]}):n.jsxs(n.Fragment,{children:[n.jsx(Rr,{className:"h-4 w-4 mr-2"}),"Save Branding"]})})})]})]})}function Yce(){var p,g;const{tenant:e,updateTenantSettings:t}=om(),{toast:r}=At(),[s,a]=C.useState(!1),[i,o]=C.useState("general"),[l,c]=C.useState(((p=e==null?void 0:e.settings)==null?void 0:p.labelOverrides)||{}),[d,h]=C.useState(((g=e==null?void 0:e.settings)==null?void 0:g.platformType)||"both"),u={general:{vehicle:"Home/RV",customer:"Customer",deal:"Deal",quote:"Quote",service:"Service",inventory:"Inventory"},crm:{lead:"Lead",prospect:"Prospect",contact:"Contact",activity:"Activity",source:"Source"},inventory:{vin:"VIN",make:"Make",model:"Model",year:"Year",type:"Type",price:"Price",cost:"Cost",features:"Features"},sales:{salesperson:"Sales Rep",commission:"Commission",deal_stage:"Deal Stage",close_date:"Close Date",financing:"Financing"},service:{technician:"Technician",service_ticket:"Service Ticket",parts:"Parts",labor:"Labor",warranty:"Warranty"}},f=(b,y,j)=>{c({...l,[`${b}.${y}`]:j})},m=(b,y)=>l[`${b}.${y}`]||"",v=b=>{const y={...l};Object.keys(y).forEach(j=>{j.startsWith(`${b}.`)&&delete y[j]}),c(y),r({title:"Labels Reset",description:`Default labels restored for ${b} module.`})},x=async()=>{a(!0);try{await t({labelOverrides:l,platformType:d}),r({title:"Labels Updated",description:"Your label overrides have been saved successfully."})}catch{r({title:"Error",description:"Failed to update label overrides.",variant:"destructive"})}finally{a(!1)}};return n.jsxs(de,{className:"shadow-sm",children:[n.jsxs(ye,{children:[n.jsxs(be,{className:"flex items-center",children:[n.jsx(g4,{className:"h-5 w-5 mr-2 text-primary"}),"Label Overrides"]}),n.jsx($e,{children:"Customize terminology throughout the platform"})]}),n.jsxs(ue,{className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"platformType",children:"Platform Type"}),n.jsxs(Ve,{value:d,onValueChange:h,children:[n.jsx(ze,{className:"shadow-sm",children:n.jsx(qe,{placeholder:"Select platform type"})}),n.jsxs(Ue,{children:[n.jsx(K,{value:"rv",children:"RV Dealership"}),n.jsx(K,{value:"mh",children:"Manufactured Housing"}),n.jsx(K,{value:"both",children:"Both RV & Manufactured Housing"})]})]}),n.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"This setting affects terminology and features throughout the platform"})]}),n.jsxs(xr,{value:i,onValueChange:o,className:"space-y-4",children:[n.jsxs(fr,{className:"grid grid-cols-5",children:[n.jsx(Qe,{value:"general",children:"General"}),n.jsx(Qe,{value:"crm",children:"CRM"}),n.jsx(Qe,{value:"inventory",children:"Inventory"}),n.jsx(Qe,{value:"sales",children:"Sales"}),n.jsx(Qe,{value:"service",children:"Service"})]}),Object.entries(u).map(([b,y])=>n.jsxs(et,{value:b,className:"space-y-4",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsxs("h3",{className:"text-lg font-semibold capitalize",children:[b," Labels"]}),n.jsxs(J,{variant:"outline",size:"sm",onClick:()=>v(b),children:[n.jsx(bf,{className:"h-3 w-3 mr-2"}),"Reset to Defaults"]})]}),n.jsx("div",{className:"grid gap-4 md:grid-cols-2",children:Object.entries(y).map(([j,E])=>{let S=E;return j==="vehicle"&&(d==="rv"?S="RV":d==="mh"?S="Home":S="Home/RV"),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ae,{htmlFor:`${b}-${j}`,className:"capitalize",children:j.replace(/_/g," ")}),n.jsx("div",{className:"flex space-x-2",children:n.jsx(Pe,{id:`${b}-${j}`,value:m(b,j),onChange:N=>f(b,j,N.target.value),placeholder:S,className:"shadow-sm"})}),n.jsxs("p",{className:"text-xs text-muted-foreground",children:["Default: ",n.jsx("span",{className:"font-medium",children:S})]})]},j)})})]},b))]}),n.jsxs("div",{className:"border rounded-lg p-6 mt-6",children:[n.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Preview"}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("p",{className:"text-sm",children:"Here's how your customized labels will appear in the application:"}),n.jsx("div",{className:"grid gap-4 md:grid-cols-2",children:Object.entries(u.general).map(([b,y])=>{const j=m("general",b);let S=j||y;return b==="vehicle"&&!j&&(d==="rv"?S="RV":d==="mh"?S="Home":S="Home/RV"),n.jsxs("div",{className:"p-2 bg-muted/30 rounded-md",children:[n.jsxs("span",{className:"font-medium capitalize",children:[b.replace(/_/g," "),":"]})," ",n.jsx("span",{children:S})]},b)})})]})]}),n.jsx("div",{className:"flex justify-end",children:n.jsx(J,{onClick:x,disabled:s,children:s?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Saving..."]}):n.jsxs(n.Fragment,{children:[n.jsx(Rr,{className:"h-4 w-4 mr-2"}),"Save Labels"]})})})]})]})}function Xce(){var le,re;const{tenant:e,updateTenantSettings:t}=om(),{toast:r}=At(),[s,a]=C.useState(!1),[i,o]=C.useState("email"),[l,c]=C.useState(((le=e==null?void 0:e.settings)==null?void 0:le.emailTemplates)||[]),[d,h]=C.useState(null),[u,f]=C.useState(""),[m,v]=C.useState(""),[x,p]=C.useState(""),[g,b]=C.useState("welcome"),[y,j]=C.useState(((re=e==null?void 0:e.settings)==null?void 0:re.smsTemplates)||[]),[E,S]=C.useState(null),[N,w]=C.useState(""),[_,k]=C.useState(""),[T,A]=C.useState("welcome"),[O,D]=C.useState(!1),[F,M]=C.useState("email"),[R,B]=C.useState(null),U=[{value:"welcome",label:"Welcome Email"},{value:"quote",label:"Quote Email"},{value:"service",label:"Service Notification"},{value:"delivery",label:"Delivery Notification"},{value:"invoice",label:"Invoice Email"},{value:"password_reset",label:"Password Reset"},{value:"custom",label:"Custom Email"}],H=[{value:"welcome",label:"Welcome SMS"},{value:"quote",label:"Quote SMS"},{value:"service",label:"Service Notification"},{value:"delivery",label:"Delivery Notification"},{value:"appointment",label:"Appointment Reminder"},{value:"custom",label:"Custom SMS"}],q=["{{first_name}}","{{last_name}}","{{company_name}}","{{quote_number}}","{{invoice_number}}","{{service_ticket}}","{{delivery_date}}","{{appointment_date}}","{{appointment_time}}","{{login_url}}","{{reset_url}}"],L=()=>{h(null),f(""),v(""),p(""),b("welcome")},V=()=>{S(null),w(""),k(""),A("welcome")},G=Ce=>{h(Ce),f(Ce.name),v(Ce.subject),p(Ce.body),b(Ce.type)},Z=Ce=>{S(Ce),w(Ce.name),k(Ce.message),A(Ce.type)},te=()=>{if(!u||!m||!x){r({title:"Validation Error",description:"Please fill in all required fields",variant:"destructive"});return}const Ce=/\{\{([^}]+)\}\}/g,Ne=[];let xe;for(;(xe=Ce.exec(m+x))!==null;)Ne.includes(xe[1])||Ne.push(xe[1]);c(d?l.map(Fe=>Fe.id===d.id?{...Fe,name:u,subject:m,body:x,type:g,variables:Ne}:Fe):[...l,{id:Math.random().toString(36).substring(2,9),name:u,subject:m,body:x,type:g,variables:Ne,isActive:!0}]),L()},he=()=>{if(!N||!_){r({title:"Validation Error",description:"Please fill in all required fields",variant:"destructive"});return}const Ce=/\{\{([^}]+)\}\}/g,Ne=[];let xe;for(;(xe=Ce.exec(_))!==null;)Ne.includes(xe[1])||Ne.push(xe[1]);j(E?y.map(Fe=>Fe.id===E.id?{...Fe,name:N,message:_,type:T,variables:Ne}:Fe):[...y,{id:Math.random().toString(36).substring(2,9),name:N,message:_,type:T,variables:Ne,isActive:!0}]),V()},fe=Ce=>{c(l.filter(Ne=>Ne.id!==Ce))},oe=Ce=>{j(y.filter(Ne=>Ne.id!==Ce))},we=Ce=>{c(l.map(Ne=>Ne.id===Ce?{...Ne,isActive:!Ne.isActive}:Ne))},je=Ce=>{j(y.map(Ne=>Ne.id===Ce?{...Ne,isActive:!Ne.isActive}:Ne))},ve=(Ce,Ne)=>{M(Ce),B(Ne),D(!0)},Le=Ce=>{i==="email"?p(x+Ce):k(_+Ce)},ge=async()=>{a(!0);try{await t({emailTemplates:l,smsTemplates:y}),r({title:"Templates Updated",description:"Your notification templates have been saved successfully."})}catch{r({title:"Error",description:"Failed to update notification templates.",variant:"destructive"})}finally{a(!1)}};return n.jsxs(n.Fragment,{children:[O&&R&&n.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:n.jsxs(de,{className:"w-full max-w-2xl",children:[n.jsx(ye,{children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx(be,{children:"Template Preview"}),n.jsx($e,{children:R.name})]}),n.jsx(J,{variant:"ghost",size:"sm",onClick:()=>D(!1),children:n.jsx(X,{className:"h-4 w-4"})})]})}),n.jsxs(ue,{className:"space-y-4",children:[F==="email"&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{children:[n.jsx(ae,{children:"Subject"}),n.jsx("div",{className:"p-3 bg-muted/30 rounded-md mt-1",children:R.subject})]}),n.jsxs("div",{children:[n.jsx(ae,{children:"Body"}),n.jsx("div",{className:"p-3 bg-muted/30 rounded-md mt-1 whitespace-pre-wrap",children:R.body})]})]}),F==="sms"&&n.jsxs("div",{children:[n.jsx(ae,{children:"Message"}),n.jsx("div",{className:"p-3 bg-muted/30 rounded-md mt-1",children:R.message})]}),n.jsxs("div",{children:[n.jsx(ae,{children:"Variables"}),n.jsxs("div",{className:"flex flex-wrap gap-2 mt-1",children:[R.variables.map((Ce,Ne)=>n.jsx(Re,{variant:"secondary",children:`{{${Ce}}}`},Ne)),R.variables.length===0&&n.jsx("div",{className:"text-sm text-muted-foreground",children:"No variables used"})]})]}),n.jsx("div",{className:"flex justify-end",children:n.jsx(J,{onClick:()=>D(!1),children:"Close Preview"})})]})]})}),n.jsxs(de,{className:"shadow-sm",children:[n.jsxs(ye,{children:[n.jsxs(be,{className:"flex items-center",children:[n.jsx(Qr,{className:"h-5 w-5 mr-2 text-primary"}),"Notification Templates"]}),n.jsx($e,{children:"Customize email and SMS notification templates"})]}),n.jsxs(ue,{className:"space-y-6",children:[n.jsxs(xr,{value:i,onValueChange:o,className:"space-y-4",children:[n.jsxs(fr,{className:"grid w-full grid-cols-2",children:[n.jsx(Qe,{value:"email",children:"Email Templates"}),n.jsx(Qe,{value:"sms",children:"SMS Templates"})]}),n.jsx(et,{value:"email",className:"space-y-6",children:n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("h3",{className:"text-lg font-semibold",children:"Email Templates"}),n.jsxs(J,{variant:"outline",size:"sm",onClick:L,disabled:!d,children:[n.jsx(Nt,{className:"h-4 w-4 mr-2"}),"New Template"]})]}),n.jsx(de,{className:"border-dashed",children:n.jsxs(ue,{className:"pt-6 space-y-4",children:[n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"emailName",children:"Template Name *"}),n.jsx(Pe,{id:"emailName",value:u,onChange:Ce=>f(Ce.target.value),placeholder:"e.g., Welcome Email",className:"shadow-sm"})]}),n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"emailType",children:"Template Type"}),n.jsxs(Ve,{value:g,onValueChange:b,children:[n.jsx(ze,{className:"shadow-sm",children:n.jsx(qe,{placeholder:"Select template type"})}),n.jsx(Ue,{children:U.map(Ce=>n.jsx(K,{value:Ce.value,children:Ce.label},Ce.value))})]})]}),n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"emailSubject",children:"Subject Line *"}),n.jsx(Pe,{id:"emailSubject",value:m,onChange:Ce=>v(Ce.target.value),placeholder:"e.g., Welcome to {{company_name}}!",className:"shadow-sm"})]}),n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx(ae,{htmlFor:"emailBody",children:"Email Body *"}),n.jsxs(Ve,{value:"",onValueChange:Ce=>Le(Ce),children:[n.jsx(ze,{className:"w-[200px] shadow-sm",children:n.jsx(qe,{placeholder:"Insert variable"})}),n.jsx(Ue,{children:q.map(Ce=>n.jsx(K,{value:Ce,children:Ce},Ce))})]})]}),n.jsx(tr,{id:"emailBody",value:x,onChange:Ce=>p(Ce.target.value),placeholder:"Enter your email content here...",className:"shadow-sm",rows:10})]}),n.jsxs("div",{className:"flex justify-end space-x-2",children:[n.jsx(J,{type:"button",variant:"outline",onClick:L,children:"Cancel"}),n.jsx(J,{type:"button",onClick:te,children:d?"Update Template":"Add Template"})]})]})}),n.jsxs("div",{className:"space-y-3 mt-6",children:[n.jsx("h3",{className:"text-lg font-semibold",children:"Saved Templates"}),l.length>0?l.map(Ce=>{var Ne;return n.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("h4",{className:"font-medium",children:Ce.name}),n.jsx(Re,{variant:"outline",children:((Ne=U.find(xe=>xe.value===Ce.type))==null?void 0:Ne.label)||Ce.type}),!Ce.isActive&&n.jsx(Re,{variant:"secondary",children:"Inactive"})]}),n.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:["Subject: ",Ce.subject]})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(J,{variant:"ghost",size:"sm",onClick:()=>we(Ce.id),children:Ce.isActive?"Disable":"Enable"}),n.jsx(J,{variant:"ghost",size:"sm",onClick:()=>ve("email",Ce),children:n.jsx(Ol,{className:"h-4 w-4"})}),n.jsx(J,{variant:"ghost",size:"sm",onClick:()=>G(Ce),children:"Edit"}),n.jsx(J,{variant:"ghost",size:"sm",onClick:()=>fe(Ce.id),children:n.jsx(Sn,{className:"h-4 w-4 text-red-500"})})]})]},Ce.id)}):n.jsxs("div",{className:"text-center py-6 text-muted-foreground border-2 border-dashed rounded-lg",children:[n.jsx(Qr,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground/50"}),n.jsx("p",{children:"No email templates created yet"}),n.jsx("p",{className:"text-sm",children:"Create your first template to get started"})]})]})]})}),n.jsx(et,{value:"sms",className:"space-y-6",children:n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("h3",{className:"text-lg font-semibold",children:"SMS Templates"}),n.jsxs(J,{variant:"outline",size:"sm",onClick:V,disabled:!E,children:[n.jsx(Nt,{className:"h-4 w-4 mr-2"}),"New Template"]})]}),n.jsx(de,{className:"border-dashed",children:n.jsxs(ue,{className:"pt-6 space-y-4",children:[n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"smsName",children:"Template Name *"}),n.jsx(Pe,{id:"smsName",value:N,onChange:Ce=>w(Ce.target.value),placeholder:"e.g., Appointment Reminder",className:"shadow-sm"})]}),n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"smsType",children:"Template Type"}),n.jsxs(Ve,{value:T,onValueChange:A,children:[n.jsx(ze,{className:"shadow-sm",children:n.jsx(qe,{placeholder:"Select template type"})}),n.jsx(Ue,{children:H.map(Ce=>n.jsx(K,{value:Ce.value,children:Ce.label},Ce.value))})]})]}),n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx(ae,{htmlFor:"smsMessage",children:"Message *"}),n.jsxs(Ve,{value:"",onValueChange:Ce=>Le(Ce),children:[n.jsx(ze,{className:"w-[200px] shadow-sm",children:n.jsx(qe,{placeholder:"Insert variable"})}),n.jsx(Ue,{children:q.map(Ce=>n.jsx(K,{value:Ce,children:Ce},Ce))})]})]}),n.jsx(tr,{id:"smsMessage",value:_,onChange:Ce=>k(Ce.target.value),placeholder:"Enter your SMS message here...",className:"shadow-sm",rows:4}),n.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground mt-1",children:[n.jsxs("span",{children:[_.length," characters"]}),n.jsxs("span",{children:[160-_.length," remaining"]})]})]}),n.jsxs("div",{className:"flex justify-end space-x-2",children:[n.jsx(J,{type:"button",variant:"outline",onClick:V,children:"Cancel"}),n.jsx(J,{type:"button",onClick:he,children:E?"Update Template":"Add Template"})]})]})}),n.jsxs("div",{className:"space-y-3 mt-6",children:[n.jsx("h3",{className:"text-lg font-semibold",children:"Saved Templates"}),y.length>0?y.map(Ce=>{var Ne;return n.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("h4",{className:"font-medium",children:Ce.name}),n.jsx(Re,{variant:"outline",children:((Ne=H.find(xe=>xe.value===Ce.type))==null?void 0:Ne.label)||Ce.type}),!Ce.isActive&&n.jsx(Re,{variant:"secondary",children:"Inactive"})]}),n.jsx("p",{className:"text-sm text-muted-foreground mt-1 truncate",children:Ce.message})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(J,{variant:"ghost",size:"sm",onClick:()=>je(Ce.id),children:Ce.isActive?"Disable":"Enable"}),n.jsx(J,{variant:"ghost",size:"sm",onClick:()=>ve("sms",Ce),children:n.jsx(Ol,{className:"h-4 w-4"})}),n.jsx(J,{variant:"ghost",size:"sm",onClick:()=>Z(Ce),children:"Edit"}),n.jsx(J,{variant:"ghost",size:"sm",onClick:()=>oe(Ce.id),children:n.jsx(Sn,{className:"h-4 w-4 text-red-500"})})]})]},Ce.id)}):n.jsxs("div",{className:"text-center py-6 text-muted-foreground border-2 border-dashed rounded-lg",children:[n.jsx(ln,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground/50"}),n.jsx("p",{children:"No SMS templates created yet"}),n.jsx("p",{className:"text-sm",children:"Create your first template to get started"})]})]})]})})]}),n.jsx("div",{className:"flex justify-end",children:n.jsx(J,{onClick:ge,disabled:s,children:s?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Saving..."]}):n.jsxs(n.Fragment,{children:[n.jsx(Rr,{className:"h-4 w-4 mr-2"}),"Save Templates"]})})})]})]})]})}function Qce(){var he,fe,oe,we,je,ve,Le,ge,le,re,Ce;const{tenant:e,updateTenantSettings:t}=om(),{toast:r}=At(),[s,a]=C.useState(!1),[i,o]=C.useState(((he=e==null?void 0:e.settings)==null?void 0:he.emailProvider)||"default"),[l,c]=C.useState(((fe=e==null?void 0:e.settings)==null?void 0:fe.emailApiKey)||""),[d,h]=C.useState(((oe=e==null?void 0:e.settings)==null?void 0:oe.emailFromAddress)||""),[u,f]=C.useState(((we=e==null?void 0:e.settings)==null?void 0:we.emailFromName)||""),[m,v]=C.useState(((je=e==null?void 0:e.settings)==null?void 0:je.smsProvider)||"default"),[x,p]=C.useState(((ve=e==null?void 0:e.settings)==null?void 0:ve.smsApiKey)||""),[g,b]=C.useState(((Le=e==null?void 0:e.settings)==null?void 0:Le.smsFromNumber)||""),[y,j]=C.useState(((ge=e==null?void 0:e.settings)==null?void 0:ge.webhooks)||[]),[E,S]=C.useState(""),[N,w]=C.useState(""),[_,k]=C.useState(((le=e==null?void 0:e.settings)==null?void 0:le.apiEnabled)||!1),[T,A]=C.useState(((re=e==null?void 0:e.settings)==null?void 0:re.apiKey)||""),[O,D]=C.useState(((Ce=e==null?void 0:e.settings)==null?void 0:Ce.allowedOrigins)||[]),[F,M]=C.useState(""),R=[{value:"default",label:"Default (Platform)"},{value:"sendgrid",label:"SendGrid"},{value:"mailchimp",label:"Mailchimp"},{value:"mailgun",label:"Mailgun"},{value:"smtp",label:"Custom SMTP"}],B=[{value:"default",label:"Default (Platform)"},{value:"twilio",label:"Twilio"},{value:"messagebird",label:"MessageBird"},{value:"vonage",label:"Vonage (Nexmo)"}],U=[{value:"lead.created",label:"Lead Created"},{value:"lead.updated",label:"Lead Updated"},{value:"quote.created",label:"Quote Created"},{value:"quote.accepted",label:"Quote Accepted"},{value:"service.created",label:"Service Ticket Created"},{value:"service.completed",label:"Service Completed"},{value:"vehicle.created",label:"Home/RV Created"},{value:"vehicle.sold",label:"Home/RV Sold"}],H=()=>{!E||!N||(j([...y,{id:Math.random().toString(36).substring(2,9),event:E,url:N,active:!0}]),S(""),w(""))},q=Ne=>{j(y.filter(xe=>xe.id!==Ne))},L=Ne=>{j(y.map(xe=>xe.id===Ne?{...xe,active:!xe.active}:xe))},V=()=>{F&&(D([...O,F]),M(""))},G=Ne=>{D(O.filter(xe=>xe!==Ne))},Z=()=>{const Ne=Array.from(crypto.getRandomValues(new Uint8Array(32))).map(xe=>xe.toString(16).padStart(2,"0")).join("");A(Ne)},te=async()=>{a(!0);try{await t({emailProvider:i,emailApiKey:l,emailFromAddress:d,emailFromName:u,smsProvider:m,smsApiKey:x,smsFromNumber:g,webhooks:y,apiEnabled:_,apiKey:T,allowedOrigins:O}),r({title:"Integrations Updated",description:"Your integration settings have been saved successfully."})}catch{r({title:"Error",description:"Failed to update integration settings.",variant:"destructive"})}finally{a(!1)}};return n.jsxs("div",{className:"space-y-6",children:[n.jsxs(de,{className:"shadow-sm",children:[n.jsxs(ye,{children:[n.jsxs(be,{className:"flex items-center",children:[n.jsx(Qr,{className:"h-5 w-5 mr-2 text-primary"}),"Email Provider"]}),n.jsx($e,{children:"Configure your email delivery service"})]}),n.jsxs(ue,{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"emailProvider",children:"Provider"}),n.jsxs(Ve,{value:i,onValueChange:o,children:[n.jsx(ze,{className:"shadow-sm",children:n.jsx(qe,{placeholder:"Select email provider"})}),n.jsx(Ue,{children:R.map(Ne=>n.jsx(K,{value:Ne.value,children:Ne.label},Ne.value))})]})]}),i!=="default"&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"emailApiKey",children:"API Key"}),n.jsx(Pe,{id:"emailApiKey",type:"password",value:l,onChange:Ne=>c(Ne.target.value),className:"shadow-sm",placeholder:"Enter API key"})]}),n.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"emailFromAddress",children:"From Email Address"}),n.jsx(Pe,{id:"emailFromAddress",type:"email",value:d,onChange:Ne=>h(Ne.target.value),className:"shadow-sm",placeholder:"noreply@yourdomain.com"})]}),n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"emailFromName",children:"From Name"}),n.jsx(Pe,{id:"emailFromName",value:u,onChange:Ne=>f(Ne.target.value),className:"shadow-sm",placeholder:"Your Company Name"})]})]})]}),i==="default"&&n.jsx("div",{className:"bg-blue-50 p-4 rounded-md",children:n.jsx("p",{className:"text-sm text-blue-700",children:"Using the default platform email provider. No additional configuration needed."})})]})]}),n.jsxs(de,{className:"shadow-sm",children:[n.jsxs(ye,{children:[n.jsxs(be,{className:"flex items-center",children:[n.jsx(ln,{className:"h-5 w-5 mr-2 text-primary"}),"SMS Provider"]}),n.jsx($e,{children:"Configure your SMS delivery service"})]}),n.jsxs(ue,{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"smsProvider",children:"Provider"}),n.jsxs(Ve,{value:m,onValueChange:v,children:[n.jsx(ze,{className:"shadow-sm",children:n.jsx(qe,{placeholder:"Select SMS provider"})}),n.jsx(Ue,{children:B.map(Ne=>n.jsx(K,{value:Ne.value,children:Ne.label},Ne.value))})]})]}),m!=="default"&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"smsApiKey",children:"API Key"}),n.jsx(Pe,{id:"smsApiKey",type:"password",value:x,onChange:Ne=>p(Ne.target.value),className:"shadow-sm",placeholder:"Enter API key"})]}),n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"smsFromNumber",children:"From Number"}),n.jsx(Pe,{id:"smsFromNumber",value:g,onChange:Ne=>b(Ne.target.value),className:"shadow-sm",placeholder:"+1234567890"}),n.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Must be in E.164 format (e.g., +1234567890)"})]})]}),m==="default"&&n.jsx("div",{className:"bg-blue-50 p-4 rounded-md",children:n.jsx("p",{className:"text-sm text-blue-700",children:"Using the default platform SMS provider. No additional configuration needed."})})]})]}),n.jsxs(de,{className:"shadow-sm",children:[n.jsxs(ye,{children:[n.jsxs(be,{className:"flex items-center",children:[n.jsx(AT,{className:"h-5 w-5 mr-2 text-primary"}),"Webhooks"]}),n.jsx($e,{children:"Configure webhooks to receive event notifications"})]}),n.jsxs(ue,{className:"space-y-4",children:[n.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"webhookEvent",children:"Event"}),n.jsxs(Ve,{value:E,onValueChange:S,children:[n.jsx(ze,{className:"shadow-sm",children:n.jsx(qe,{placeholder:"Select event"})}),n.jsx(Ue,{children:U.map(Ne=>n.jsx(K,{value:Ne.value,children:Ne.label},Ne.value))})]})]}),n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"webhookUrl",children:"Webhook URL"}),n.jsxs("div",{className:"flex space-x-2",children:[n.jsx(Pe,{id:"webhookUrl",value:N,onChange:Ne=>w(Ne.target.value),className:"shadow-sm flex-1",placeholder:"https://your-endpoint.com/webhook"}),n.jsx(J,{type:"button",onClick:H,children:n.jsx(Nt,{className:"h-4 w-4"})})]})]})]}),n.jsx("div",{className:"space-y-3 mt-4",children:y.length>0?y.map(Ne=>{var xe;return n.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx(Vt,{checked:Ne.active,onCheckedChange:()=>L(Ne.id)}),n.jsxs("div",{children:[n.jsx("div",{className:"font-medium",children:((xe=U.find(Fe=>Fe.value===Ne.event))==null?void 0:xe.label)||Ne.event}),n.jsx("div",{className:"text-sm text-muted-foreground",children:Ne.url})]})]}),n.jsx(J,{variant:"ghost",size:"sm",onClick:()=>q(Ne.id),children:n.jsx(Sn,{className:"h-4 w-4 text-red-500"})})]},Ne.id)}):n.jsxs("div",{className:"text-center py-6 text-muted-foreground border-2 border-dashed rounded-lg",children:[n.jsx(AT,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground/50"}),n.jsx("p",{children:"No webhooks configured"}),n.jsx("p",{className:"text-sm",children:"Add webhooks to receive event notifications"})]})})]})]}),n.jsxs(de,{className:"shadow-sm",children:[n.jsxs(ye,{children:[n.jsxs(be,{className:"flex items-center",children:[n.jsx(Dg,{className:"h-5 w-5 mr-2 text-primary"}),"API Access"]}),n.jsx($e,{children:"Configure API access for external integrations"})]}),n.jsxs(ue,{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Vt,{id:"apiEnabled",checked:_,onCheckedChange:Ne=>k(!!Ne)}),n.jsx(ae,{htmlFor:"apiEnabled",children:"Enable API access"})]}),_&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"apiKey",children:"API Key"}),n.jsxs("div",{className:"flex space-x-2",children:[n.jsx(Pe,{id:"apiKey",type:"password",value:T,onChange:Ne=>A(Ne.target.value),className:"shadow-sm flex-1",placeholder:"API key will appear here",readOnly:!0}),n.jsx(J,{type:"button",onClick:Z,children:"Generate"})]}),n.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Keep this key secure. It provides full access to your account."})]}),n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"allowedOrigins",children:"Allowed Origins (CORS)"}),n.jsxs("div",{className:"flex space-x-2",children:[n.jsx(Pe,{id:"allowedOrigins",value:F,onChange:Ne=>M(Ne.target.value),className:"shadow-sm flex-1",placeholder:"https://your-domain.com"}),n.jsx(J,{type:"button",onClick:V,children:n.jsx(Nt,{className:"h-4 w-4"})})]}),n.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Domains that are allowed to make API requests"})]}),n.jsxs("div",{className:"flex flex-wrap gap-2 mt-2",children:[O.map((Ne,xe)=>n.jsxs("div",{className:"flex items-center bg-muted/50 px-3 py-1 rounded-md",children:[n.jsx("span",{className:"mr-2",children:Ne}),n.jsx(J,{type:"button",variant:"ghost",size:"sm",className:"h-5 w-5 p-0",onClick:()=>G(Ne),children:n.jsx(Sn,{className:"h-3 w-3"})})]},xe)),O.length===0&&n.jsx("div",{className:"text-sm text-muted-foreground",children:"No origins added yet"})]})]})]})]}),n.jsx("div",{className:"flex justify-end",children:n.jsx(J,{onClick:te,disabled:s,children:s?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Saving..."]}):n.jsxs(n.Fragment,{children:[n.jsx(Rr,{className:"h-4 w-4 mr-2"}),"Save Integrations"]})})})]})}function UI(){const{tenant:e,customFields:t,updateTenantSettings:r,addCustomField:s,updateCustomField:a,deleteCustomField:i}=om(),{toast:o}=At(),[l,c]=C.useState("general"),[d,h]=C.useState(!1),u=[{id:"general",name:"General",icon:Iv},{id:"branding",name:"Branding",icon:h$},{id:"labels",name:"Labels",icon:g4},{id:"notifications",name:"Notifications",icon:Qr},{id:"integrations",name:"Integrations",icon:Dg},{id:"users",name:"Users",icon:On},{id:"custom-fields",name:"Custom Fields",icon:Dv}],f=["crm","inventory","quotes","agreements","service","delivery","invoices"],m=()=>{setSelectedCustomField(null),h(!0)},v=w=>{setSelectedCustomField(w),h(!0)},x=async w=>{if(window.confirm("Are you sure you want to delete this custom field?"))try{await i(w),o({title:"Success",description:"Custom field deleted successfully"})}catch{o({title:"Error",description:"Failed to delete custom field",variant:"destructive"})}},p=async w=>{try{return selectedCustomField?await a(selectedCustomField.id,w):await s(w),h(!1),!0}catch{return!1}},g=()=>n.jsxs("div",{className:"space-y-6",children:[n.jsxs(de,{className:"shadow-sm",children:[n.jsxs(ye,{children:[n.jsx(be,{className:"text-xl",children:"Company Information"}),n.jsx($e,{children:"Basic information about your dealership"})]}),n.jsx(ue,{className:"space-y-4",children:n.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-foreground",children:"Company Name"}),n.jsx(Pe,{defaultValue:e==null?void 0:e.name,className:"mt-1 shadow-sm"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-foreground",children:"Domain"}),n.jsx(Pe,{defaultValue:e==null?void 0:e.domain,className:"mt-1 shadow-sm"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-foreground",children:"Timezone"}),n.jsx(Pe,{defaultValue:e==null?void 0:e.settings.timezone,className:"mt-1 shadow-sm"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-foreground",children:"Currency"}),n.jsx(Pe,{defaultValue:e==null?void 0:e.settings.currency,className:"mt-1 shadow-sm"})]})]})})]}),n.jsxs(de,{className:"shadow-sm",children:[n.jsxs(ye,{children:[n.jsx(be,{className:"text-xl",children:"Business Hours"}),n.jsx($e,{children:"Set your dealership operating hours"})]}),n.jsx(ue,{children:n.jsx("div",{className:"space-y-4",children:(e==null?void 0:e.settings.businessHours)&&Object.entries(e.settings.businessHours).map(([w,_])=>n.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/30 rounded-lg",children:[n.jsx("div",{className:"w-24 capitalize font-medium",children:w}),n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx(Pe,{type:"time",defaultValue:_.open,disabled:_.closed,className:"w-32 shadow-sm"}),n.jsx("span",{className:"text-muted-foreground",children:"to"}),n.jsx(Pe,{type:"time",defaultValue:_.close,disabled:_.closed,className:"w-32 shadow-sm"}),n.jsxs("label",{className:"flex items-center space-x-2",children:[n.jsx("input",{type:"checkbox",defaultChecked:_.closed,className:"rounded"}),n.jsx("span",{className:"text-sm",children:"Closed"})]})]})]},w))})})]})]}),b=()=>n.jsx(Kce,{}),y=()=>n.jsx(Yce,{}),j=()=>n.jsx(Xce,{}),E=()=>n.jsx(Qce,{}),S=()=>n.jsxs(de,{className:"shadow-sm",children:[n.jsxs(ye,{children:[n.jsx(be,{className:"text-xl",children:"User Management"}),n.jsx($e,{children:"Manage user accounts and permissions"})]}),n.jsxs(ue,{children:[n.jsxs("div",{className:"flex justify-between items-center mb-6",children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Manage users, roles, and permissions for your dealership"}),n.jsxs(J,{className:"shadow-sm",children:[n.jsx(Nt,{className:"h-4 w-4 mr-2"}),"Add User"]})]}),n.jsx("div",{className:"space-y-4",children:n.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg hover:bg-accent/50 transition-colors",children:[n.jsxs("div",{children:[n.jsx("h4",{className:"font-semibold",children:"Admin User"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"admin@renterinsight.com"})]}),n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx(Re,{className:"bg-blue-50 text-blue-700 border-blue-200",children:"Admin"}),n.jsx(J,{variant:"outline",size:"sm",className:"shadow-sm",children:n.jsx(zr,{className:"h-3 w-3"})})]})]})})]})]}),N=()=>n.jsxs(de,{className:"shadow-sm",children:[n.jsx(ye,{children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx(be,{className:"text-xl",children:"Custom Fields"}),n.jsx($e,{children:"Add custom fields to capture additional information"})]}),n.jsxs(J,{className:"shadow-sm",onClick:m,children:[n.jsx(Nt,{className:"h-4 w-4 mr-2"}),"Add Custom Field"]})]})}),n.jsx(ue,{children:n.jsxs("div",{className:"space-y-4",children:[t.map(w=>n.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg hover:bg-accent/50 transition-colors",children:[n.jsxs("div",{children:[n.jsx("h4",{className:"font-semibold",children:w.name}),n.jsxs("p",{className:"text-sm text-muted-foreground",children:[w.module," - ",w.section," - ",w.type,w.required&&n.jsx(Re,{className:"ml-2 bg-orange-50 text-orange-700 border-orange-200",variant:"secondary",children:"Required"})]})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(J,{variant:"outline",size:"sm",className:"shadow-sm",onClick:()=>v(w),children:"Edit"}),n.jsx(J,{variant:"outline",size:"sm",className:"shadow-sm",onClick:()=>x(w.id),children:"Delete"})]})]},w.id)),t.length===0&&n.jsx("div",{className:"text-center py-12 text-muted-foreground bg-muted/30 rounded-lg",children:"No custom fields configured yet"})]})})]});return n.jsxs("div",{className:"space-y-8",children:[d&&n.jsx(Gce,{field:selectedCustomField||void 0,onSave:p,onCancel:()=>h(!1),modules:f}),n.jsx("div",{className:"ri-page-header",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"ri-page-title",children:"Company Settings"}),n.jsx("p",{className:"ri-page-description",children:"Configure your dealership settings and preferences"})]}),n.jsxs(J,{onClick:Jce,className:"shadow-sm",children:[n.jsx(Rr,{className:"h-4 w-4 mr-2"}),"Save Changes"]})]})}),n.jsx("div",{className:"border-b",children:n.jsx("nav",{className:"-mb-px flex flex-wrap space-x-4 md:space-x-8",children:u.map(w=>n.jsxs("button",{onClick:()=>c(w.id),className:He("flex items-center space-x-2 py-3 px-1 border-b-2 font-medium text-sm transition-colors",l===w.id?"border-primary text-primary":"border-transparent text-muted-foreground hover:text-foreground hover:border-gray-300"),children:[n.jsx(w.icon,{className:"h-4 w-4"}),n.jsx("span",{children:w.name})]},w.id))})}),n.jsxs("div",{children:[l==="general"&&g(),l==="branding"&&b(),l==="labels"&&y(),l==="notifications"&&j(),l==="integrations"&&E(),l==="users"&&S(),l==="custom-fields"&&N()]})]})}const Jce=async()=>{console.log("Saving settings...")};function Zce(){return n.jsxs(Ps,{children:[n.jsx(Ft,{path:"/",element:n.jsx(UI,{})}),n.jsx(Ft,{path:"/*",element:n.jsx(UI,{})})]})}function hB(e){var t,r,s="";if(typeof e=="string"||typeof e=="number")s+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(r=hB(e[t]))&&(s&&(s+=" "),s+=r)}else for(r in e)e[r]&&(s&&(s+=" "),s+=r);return s}function cr(){for(var e,t,r=0,s="",a=arguments.length;r<a;r++)(e=arguments[r])&&(t=hB(e))&&(s&&(s+=" "),s+=t);return s}var ede=Array.isArray,Ca=ede,tde=typeof Un=="object"&&Un&&Un.Object===Object&&Un,fB=tde,rde=fB,nde=typeof self=="object"&&self&&self.Object===Object&&self,sde=rde||nde||Function("return this")(),Qo=sde,ade=Qo,ide=ade.Symbol,Kg=ide,VI=Kg,mB=Object.prototype,ode=mB.hasOwnProperty,lde=mB.toString,wp=VI?VI.toStringTag:void 0;function cde(e){var t=ode.call(e,wp),r=e[wp];try{e[wp]=void 0;var s=!0}catch{}var a=lde.call(e);return s&&(t?e[wp]=r:delete e[wp]),a}var dde=cde,ude=Object.prototype,hde=ude.toString;function fde(e){return hde.call(e)}var mde=fde,qI=Kg,pde=dde,vde=mde,gde="[object Null]",xde="[object Undefined]",WI=qI?qI.toStringTag:void 0;function yde(e){return e==null?e===void 0?xde:gde:WI&&WI in Object(e)?pde(e):vde(e)}var ql=yde;function bde(e){return e!=null&&typeof e=="object"}var Wl=bde,jde=ql,wde=Wl,Nde="[object Symbol]";function Sde(e){return typeof e=="symbol"||wde(e)&&jde(e)==Nde}var mm=Sde,Cde=Ca,Ade=mm,Ede=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Pde=/^\w*$/;function Tde(e,t){if(Cde(e))return!1;var r=typeof e;return r=="number"||r=="symbol"||r=="boolean"||e==null||Ade(e)?!0:Pde.test(e)||!Ede.test(e)||t!=null&&e in Object(t)}var mE=Tde;function _de(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var ud=_de;const pm=Cr(ud);var Ide=ql,kde=ud,Dde="[object AsyncFunction]",Ode="[object Function]",Lde="[object GeneratorFunction]",Rde="[object Proxy]";function Fde(e){if(!kde(e))return!1;var t=Ide(e);return t==Ode||t==Lde||t==Dde||t==Rde}var pE=Fde;const Zt=Cr(pE);var $de=Qo,Mde=$de["__core-js_shared__"],Bde=Mde,lN=Bde,HI=function(){var e=/[^.]+$/.exec(lN&&lN.keys&&lN.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function zde(e){return!!HI&&HI in e}var Ude=zde,Vde=Function.prototype,qde=Vde.toString;function Wde(e){if(e!=null){try{return qde.call(e)}catch{}try{return e+""}catch{}}return""}var pB=Wde,Hde=pE,Gde=Ude,Kde=ud,Yde=pB,Xde=/[\\^$.*+?()[\]{}|]/g,Qde=/^\[object .+?Constructor\]$/,Jde=Function.prototype,Zde=Object.prototype,eue=Jde.toString,tue=Zde.hasOwnProperty,rue=RegExp("^"+eue.call(tue).replace(Xde,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function nue(e){if(!Kde(e)||Gde(e))return!1;var t=Hde(e)?rue:Qde;return t.test(Yde(e))}var sue=nue;function aue(e,t){return e==null?void 0:e[t]}var iue=aue,oue=sue,lue=iue;function cue(e,t){var r=lue(e,t);return oue(r)?r:void 0}var Lu=cue,due=Lu,uue=due(Object,"create"),uj=uue,GI=uj;function hue(){this.__data__=GI?GI(null):{},this.size=0}var fue=hue;function mue(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var pue=mue,vue=uj,gue="__lodash_hash_undefined__",xue=Object.prototype,yue=xue.hasOwnProperty;function bue(e){var t=this.__data__;if(vue){var r=t[e];return r===gue?void 0:r}return yue.call(t,e)?t[e]:void 0}var jue=bue,wue=uj,Nue=Object.prototype,Sue=Nue.hasOwnProperty;function Cue(e){var t=this.__data__;return wue?t[e]!==void 0:Sue.call(t,e)}var Aue=Cue,Eue=uj,Pue="__lodash_hash_undefined__";function Tue(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=Eue&&t===void 0?Pue:t,this}var _ue=Tue,Iue=fue,kue=pue,Due=jue,Oue=Aue,Lue=_ue;function vm(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var s=e[t];this.set(s[0],s[1])}}vm.prototype.clear=Iue;vm.prototype.delete=kue;vm.prototype.get=Due;vm.prototype.has=Oue;vm.prototype.set=Lue;var Rue=vm;function Fue(){this.__data__=[],this.size=0}var $ue=Fue;function Mue(e,t){return e===t||e!==e&&t!==t}var vE=Mue,Bue=vE;function zue(e,t){for(var r=e.length;r--;)if(Bue(e[r][0],t))return r;return-1}var hj=zue,Uue=hj,Vue=Array.prototype,que=Vue.splice;function Wue(e){var t=this.__data__,r=Uue(t,e);if(r<0)return!1;var s=t.length-1;return r==s?t.pop():que.call(t,r,1),--this.size,!0}var Hue=Wue,Gue=hj;function Kue(e){var t=this.__data__,r=Gue(t,e);return r<0?void 0:t[r][1]}var Yue=Kue,Xue=hj;function Que(e){return Xue(this.__data__,e)>-1}var Jue=Que,Zue=hj;function ehe(e,t){var r=this.__data__,s=Zue(r,e);return s<0?(++this.size,r.push([e,t])):r[s][1]=t,this}var the=ehe,rhe=$ue,nhe=Hue,she=Yue,ahe=Jue,ihe=the;function gm(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var s=e[t];this.set(s[0],s[1])}}gm.prototype.clear=rhe;gm.prototype.delete=nhe;gm.prototype.get=she;gm.prototype.has=ahe;gm.prototype.set=ihe;var fj=gm,ohe=Lu,lhe=Qo,che=ohe(lhe,"Map"),gE=che,KI=Rue,dhe=fj,uhe=gE;function hhe(){this.size=0,this.__data__={hash:new KI,map:new(uhe||dhe),string:new KI}}var fhe=hhe;function mhe(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var phe=mhe,vhe=phe;function ghe(e,t){var r=e.__data__;return vhe(t)?r[typeof t=="string"?"string":"hash"]:r.map}var mj=ghe,xhe=mj;function yhe(e){var t=xhe(this,e).delete(e);return this.size-=t?1:0,t}var bhe=yhe,jhe=mj;function whe(e){return jhe(this,e).get(e)}var Nhe=whe,She=mj;function Che(e){return She(this,e).has(e)}var Ahe=Che,Ehe=mj;function Phe(e,t){var r=Ehe(this,e),s=r.size;return r.set(e,t),this.size+=r.size==s?0:1,this}var The=Phe,_he=fhe,Ihe=bhe,khe=Nhe,Dhe=Ahe,Ohe=The;function xm(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var s=e[t];this.set(s[0],s[1])}}xm.prototype.clear=_he;xm.prototype.delete=Ihe;xm.prototype.get=khe;xm.prototype.has=Dhe;xm.prototype.set=Ohe;var xE=xm,vB=xE,Lhe="Expected a function";function yE(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(Lhe);var r=function(){var s=arguments,a=t?t.apply(this,s):s[0],i=r.cache;if(i.has(a))return i.get(a);var o=e.apply(this,s);return r.cache=i.set(a,o)||i,o};return r.cache=new(yE.Cache||vB),r}yE.Cache=vB;var gB=yE;const Rhe=Cr(gB);var Fhe=gB,$he=500;function Mhe(e){var t=Fhe(e,function(s){return r.size===$he&&r.clear(),s}),r=t.cache;return t}var Bhe=Mhe,zhe=Bhe,Uhe=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Vhe=/\\(\\)?/g,qhe=zhe(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(Uhe,function(r,s,a,i){t.push(a?i.replace(Vhe,"$1"):s||r)}),t}),Whe=qhe;function Hhe(e,t){for(var r=-1,s=e==null?0:e.length,a=Array(s);++r<s;)a[r]=t(e[r],r,e);return a}var bE=Hhe,YI=Kg,Ghe=bE,Khe=Ca,Yhe=mm,Xhe=1/0,XI=YI?YI.prototype:void 0,QI=XI?XI.toString:void 0;function xB(e){if(typeof e=="string")return e;if(Khe(e))return Ghe(e,xB)+"";if(Yhe(e))return QI?QI.call(e):"";var t=e+"";return t=="0"&&1/e==-Xhe?"-0":t}var Qhe=xB,Jhe=Qhe;function Zhe(e){return e==null?"":Jhe(e)}var yB=Zhe,efe=Ca,tfe=mE,rfe=Whe,nfe=yB;function sfe(e,t){return efe(e)?e:tfe(e,t)?[e]:rfe(nfe(e))}var bB=sfe,afe=mm,ife=1/0;function ofe(e){if(typeof e=="string"||afe(e))return e;var t=e+"";return t=="0"&&1/e==-ife?"-0":t}var pj=ofe,lfe=bB,cfe=pj;function dfe(e,t){t=lfe(t,e);for(var r=0,s=t.length;e!=null&&r<s;)e=e[cfe(t[r++])];return r&&r==s?e:void 0}var jE=dfe,ufe=jE;function hfe(e,t,r){var s=e==null?void 0:ufe(e,t);return s===void 0?r:s}var jB=hfe;const vi=Cr(jB);function ffe(e){return e==null}var mfe=ffe;const rr=Cr(mfe);var pfe=ql,vfe=Ca,gfe=Wl,xfe="[object String]";function yfe(e){return typeof e=="string"||!vfe(e)&&gfe(e)&&pfe(e)==xfe}var bfe=yfe;const bu=Cr(bfe);var wB={exports:{}},Ir={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wE=Symbol.for("react.element"),NE=Symbol.for("react.portal"),vj=Symbol.for("react.fragment"),gj=Symbol.for("react.strict_mode"),xj=Symbol.for("react.profiler"),yj=Symbol.for("react.provider"),bj=Symbol.for("react.context"),jfe=Symbol.for("react.server_context"),jj=Symbol.for("react.forward_ref"),wj=Symbol.for("react.suspense"),Nj=Symbol.for("react.suspense_list"),Sj=Symbol.for("react.memo"),Cj=Symbol.for("react.lazy"),wfe=Symbol.for("react.offscreen"),NB;NB=Symbol.for("react.module.reference");function wi(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case wE:switch(e=e.type,e){case vj:case xj:case gj:case wj:case Nj:return e;default:switch(e=e&&e.$$typeof,e){case jfe:case bj:case jj:case Cj:case Sj:case yj:return e;default:return t}}case NE:return t}}}Ir.ContextConsumer=bj;Ir.ContextProvider=yj;Ir.Element=wE;Ir.ForwardRef=jj;Ir.Fragment=vj;Ir.Lazy=Cj;Ir.Memo=Sj;Ir.Portal=NE;Ir.Profiler=xj;Ir.StrictMode=gj;Ir.Suspense=wj;Ir.SuspenseList=Nj;Ir.isAsyncMode=function(){return!1};Ir.isConcurrentMode=function(){return!1};Ir.isContextConsumer=function(e){return wi(e)===bj};Ir.isContextProvider=function(e){return wi(e)===yj};Ir.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===wE};Ir.isForwardRef=function(e){return wi(e)===jj};Ir.isFragment=function(e){return wi(e)===vj};Ir.isLazy=function(e){return wi(e)===Cj};Ir.isMemo=function(e){return wi(e)===Sj};Ir.isPortal=function(e){return wi(e)===NE};Ir.isProfiler=function(e){return wi(e)===xj};Ir.isStrictMode=function(e){return wi(e)===gj};Ir.isSuspense=function(e){return wi(e)===wj};Ir.isSuspenseList=function(e){return wi(e)===Nj};Ir.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===vj||e===xj||e===gj||e===wj||e===Nj||e===wfe||typeof e=="object"&&e!==null&&(e.$$typeof===Cj||e.$$typeof===Sj||e.$$typeof===yj||e.$$typeof===bj||e.$$typeof===jj||e.$$typeof===NB||e.getModuleId!==void 0)};Ir.typeOf=wi;wB.exports=Ir;var Nfe=wB.exports,Sfe=ql,Cfe=Wl,Afe="[object Number]";function Efe(e){return typeof e=="number"||Cfe(e)&&Sfe(e)==Afe}var SB=Efe;const Pfe=Cr(SB);var Tfe=SB;function _fe(e){return Tfe(e)&&e!=+e}var Ife=_fe;const ym=Cr(Ife);var Ji=function(t){return t===0?0:t>0?1:-1},Qd=function(t){return bu(t)&&t.indexOf("%")===t.length-1},it=function(t){return Pfe(t)&&!ym(t)},kfe=function(t){return rr(t)},Zn=function(t){return it(t)||bu(t)},Dfe=0,bm=function(t){var r=++Dfe;return"".concat(t||"").concat(r)},ju=function(t,r){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!it(t)&&!bu(t))return s;var i;if(Qd(t)){var o=t.indexOf("%");i=r*parseFloat(t.slice(0,o))/100}else i=+t;return ym(i)&&(i=s),a&&i>r&&(i=r),i},Nc=function(t){if(!t)return null;var r=Object.keys(t);return r&&r.length?t[r[0]]:null},Ofe=function(t){if(!Array.isArray(t))return!1;for(var r=t.length,s={},a=0;a<r;a++)if(!s[t[a]])s[t[a]]=!0;else return!0;return!1},Ns=function(t,r){return it(t)&&it(r)?function(s){return t+s*(r-t)}:function(){return r}};function lb(e,t,r){return!e||!e.length?null:e.find(function(s){return s&&(typeof t=="function"?t(s):vi(s,t))===r})}var Lfe=function(t,r){return it(t)&&it(r)?t-r:bu(t)&&bu(r)?t.localeCompare(r):t instanceof Date&&r instanceof Date?t.getTime()-r.getTime():String(t).localeCompare(String(r))};function af(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var s in t)if({}.hasOwnProperty.call(t,s)&&!{}.hasOwnProperty.call(e,s))return!1;return!0}function _S(e){"@babel/helpers - typeof";return _S=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_S(e)}var Rfe=["viewBox","children"],Ffe=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],JI=["points","pathLength"],cN={svg:Rfe,polygon:JI,polyline:JI},SE=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],cb=function(t,r){if(!t||typeof t=="function"||typeof t=="boolean")return null;var s=t;if(C.isValidElement(t)&&(s=t.props),!pm(s))return null;var a={};return Object.keys(s).forEach(function(i){SE.includes(i)&&(a[i]=r||function(o){return s[i](s,o)})}),a},$fe=function(t,r,s){return function(a){return t(r,s,a),null}},db=function(t,r,s){if(!pm(t)||_S(t)!=="object")return null;var a=null;return Object.keys(t).forEach(function(i){var o=t[i];SE.includes(i)&&typeof o=="function"&&(a||(a={}),a[i]=$fe(o,r,s))}),a},Mfe=["children"],Bfe=["children"];function ZI(e,t){if(e==null)return{};var r=zfe(e,t),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(r[s]=e[s])}return r}function zfe(e,t){if(e==null)return{};var r={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;r[s]=e[s]}return r}function IS(e){"@babel/helpers - typeof";return IS=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},IS(e)}var ek={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},Cl=function(t){return typeof t=="string"?t:t?t.displayName||t.name||"Component":""},tk=null,dN=null,CE=function e(t){if(t===tk&&Array.isArray(dN))return dN;var r=[];return C.Children.forEach(t,function(s){rr(s)||(Nfe.isFragment(s)?r=r.concat(e(s.props.children)):r.push(s))}),dN=r,tk=t,r};function gi(e,t){var r=[],s=[];return Array.isArray(t)?s=t.map(function(a){return Cl(a)}):s=[Cl(t)],CE(e).forEach(function(a){var i=vi(a,"type.displayName")||vi(a,"type.name");s.indexOf(i)!==-1&&r.push(a)}),r}function Oa(e,t){var r=gi(e,t);return r&&r[0]}var rk=function(t){if(!t||!t.props)return!1;var r=t.props,s=r.width,a=r.height;return!(!it(s)||s<=0||!it(a)||a<=0)},Ufe=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],Vfe=function(t){return t&&t.type&&bu(t.type)&&Ufe.indexOf(t.type)>=0},CB=function(t){return t&&IS(t)==="object"&&"clipDot"in t},qfe=function(t,r,s,a){var i,o=(i=cN==null?void 0:cN[a])!==null&&i!==void 0?i:[];return r.startsWith("data-")||!Zt(t)&&(a&&o.includes(r)||Ffe.includes(r))||s&&SE.includes(r)},er=function(t,r,s){if(!t||typeof t=="function"||typeof t=="boolean")return null;var a=t;if(C.isValidElement(t)&&(a=t.props),!pm(a))return null;var i={};return Object.keys(a).forEach(function(o){var l;qfe((l=a)===null||l===void 0?void 0:l[o],o,r,s)&&(i[o]=a[o])}),i},kS=function e(t,r){if(t===r)return!0;var s=C.Children.count(t);if(s!==C.Children.count(r))return!1;if(s===0)return!0;if(s===1)return nk(Array.isArray(t)?t[0]:t,Array.isArray(r)?r[0]:r);for(var a=0;a<s;a++){var i=t[a],o=r[a];if(Array.isArray(i)||Array.isArray(o)){if(!e(i,o))return!1}else if(!nk(i,o))return!1}return!0},nk=function(t,r){if(rr(t)&&rr(r))return!0;if(!rr(t)&&!rr(r)){var s=t.props||{},a=s.children,i=ZI(s,Mfe),o=r.props||{},l=o.children,c=ZI(o,Bfe);return a&&l?af(i,c)&&kS(a,l):!a&&!l?af(i,c):!1}return!1},sk=function(t,r){var s=[],a={};return CE(t).forEach(function(i,o){if(Vfe(i))s.push(i);else if(i){var l=Cl(i.type),c=r[l]||{},d=c.handler,h=c.once;if(d&&(!h||!a[l])){var u=d(i,l,o);s.push(u),a[l]=!0}}}),s},Wfe=function(t){var r=t&&t.type;return r&&ek[r]?ek[r]:null},Hfe=function(t,r){return CE(r).indexOf(t)},Gfe=["children","width","height","viewBox","className","style","title","desc"];function DS(){return DS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},DS.apply(this,arguments)}function Kfe(e,t){if(e==null)return{};var r=Yfe(e,t),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(r[s]=e[s])}return r}function Yfe(e,t){if(e==null)return{};var r={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;r[s]=e[s]}return r}function OS(e){var t=e.children,r=e.width,s=e.height,a=e.viewBox,i=e.className,o=e.style,l=e.title,c=e.desc,d=Kfe(e,Gfe),h=a||{width:r,height:s,x:0,y:0},u=cr("recharts-surface",i);return pe.createElement("svg",DS({},er(d,!0,"svg"),{className:u,width:r,height:s,style:o,viewBox:"".concat(h.x," ").concat(h.y," ").concat(h.width," ").concat(h.height)}),pe.createElement("title",null,l),pe.createElement("desc",null,c),t)}var Xfe=["children","className"];function LS(){return LS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},LS.apply(this,arguments)}function Qfe(e,t){if(e==null)return{};var r=Jfe(e,t),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(r[s]=e[s])}return r}function Jfe(e,t){if(e==null)return{};var r={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;r[s]=e[s]}return r}var Yr=pe.forwardRef(function(e,t){var r=e.children,s=e.className,a=Qfe(e,Xfe),i=cr("recharts-layer",s);return pe.createElement("g",LS({className:i},er(a,!0),{ref:t}),r)}),Al=function(t,r){for(var s=arguments.length,a=new Array(s>2?s-2:0),i=2;i<s;i++)a[i-2]=arguments[i]};function Zfe(e,t,r){var s=-1,a=e.length;t<0&&(t=-t>a?0:a+t),r=r>a?a:r,r<0&&(r+=a),a=t>r?0:r-t>>>0,t>>>=0;for(var i=Array(a);++s<a;)i[s]=e[s+t];return i}var eme=Zfe,tme=eme;function rme(e,t,r){var s=e.length;return r=r===void 0?s:r,!t&&r>=s?e:tme(e,t,r)}var nme=rme,sme="\\ud800-\\udfff",ame="\\u0300-\\u036f",ime="\\ufe20-\\ufe2f",ome="\\u20d0-\\u20ff",lme=ame+ime+ome,cme="\\ufe0e\\ufe0f",dme="\\u200d",ume=RegExp("["+dme+sme+lme+cme+"]");function hme(e){return ume.test(e)}var AB=hme;function fme(e){return e.split("")}var mme=fme,EB="\\ud800-\\udfff",pme="\\u0300-\\u036f",vme="\\ufe20-\\ufe2f",gme="\\u20d0-\\u20ff",xme=pme+vme+gme,yme="\\ufe0e\\ufe0f",bme="["+EB+"]",RS="["+xme+"]",FS="\\ud83c[\\udffb-\\udfff]",jme="(?:"+RS+"|"+FS+")",PB="[^"+EB+"]",TB="(?:\\ud83c[\\udde6-\\uddff]){2}",_B="[\\ud800-\\udbff][\\udc00-\\udfff]",wme="\\u200d",IB=jme+"?",kB="["+yme+"]?",Nme="(?:"+wme+"(?:"+[PB,TB,_B].join("|")+")"+kB+IB+")*",Sme=kB+IB+Nme,Cme="(?:"+[PB+RS+"?",RS,TB,_B,bme].join("|")+")",Ame=RegExp(FS+"(?="+FS+")|"+Cme+Sme,"g");function Eme(e){return e.match(Ame)||[]}var Pme=Eme,Tme=mme,_me=AB,Ime=Pme;function kme(e){return _me(e)?Ime(e):Tme(e)}var Dme=kme,Ome=nme,Lme=AB,Rme=Dme,Fme=yB;function $me(e){return function(t){t=Fme(t);var r=Lme(t)?Rme(t):void 0,s=r?r[0]:t.charAt(0),a=r?Ome(r,1).join(""):t.slice(1);return s[e]()+a}}var Mme=$me,Bme=Mme,zme=Bme("toUpperCase"),Ume=zme;const Aj=Cr(Ume);function Hr(e){return function(){return e}}const DB=Math.cos,ub=Math.sin,uo=Math.sqrt,hb=Math.PI,Ej=2*hb,$S=Math.PI,MS=2*$S,Fd=1e-6,Vme=MS-Fd;function OB(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function qme(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return OB;const r=10**t;return function(s){this._+=s[0];for(let a=1,i=s.length;a<i;++a)this._+=Math.round(arguments[a]*r)/r+s[a]}}class Wme{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?OB:qme(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,s,a){this._append`Q${+t},${+r},${this._x1=+s},${this._y1=+a}`}bezierCurveTo(t,r,s,a,i,o){this._append`C${+t},${+r},${+s},${+a},${this._x1=+i},${this._y1=+o}`}arcTo(t,r,s,a,i){if(t=+t,r=+r,s=+s,a=+a,i=+i,i<0)throw new Error(`negative radius: ${i}`);let o=this._x1,l=this._y1,c=s-t,d=a-r,h=o-t,u=l-r,f=h*h+u*u;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(f>Fd)if(!(Math.abs(u*c-d*h)>Fd)||!i)this._append`L${this._x1=t},${this._y1=r}`;else{let m=s-o,v=a-l,x=c*c+d*d,p=m*m+v*v,g=Math.sqrt(x),b=Math.sqrt(f),y=i*Math.tan(($S-Math.acos((x+f-p)/(2*g*b)))/2),j=y/b,E=y/g;Math.abs(j-1)>Fd&&this._append`L${t+j*h},${r+j*u}`,this._append`A${i},${i},0,0,${+(u*m>h*v)},${this._x1=t+E*c},${this._y1=r+E*d}`}}arc(t,r,s,a,i,o){if(t=+t,r=+r,s=+s,o=!!o,s<0)throw new Error(`negative radius: ${s}`);let l=s*Math.cos(a),c=s*Math.sin(a),d=t+l,h=r+c,u=1^o,f=o?a-i:i-a;this._x1===null?this._append`M${d},${h}`:(Math.abs(this._x1-d)>Fd||Math.abs(this._y1-h)>Fd)&&this._append`L${d},${h}`,s&&(f<0&&(f=f%MS+MS),f>Vme?this._append`A${s},${s},0,1,${u},${t-l},${r-c}A${s},${s},0,1,${u},${this._x1=d},${this._y1=h}`:f>Fd&&this._append`A${s},${s},0,${+(f>=$S)},${u},${this._x1=t+s*Math.cos(i)},${this._y1=r+s*Math.sin(i)}`)}rect(t,r,s,a){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${s=+s}v${+a}h${-s}Z`}toString(){return this._}}function AE(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const s=Math.floor(r);if(!(s>=0))throw new RangeError(`invalid digits: ${r}`);t=s}return e},()=>new Wme(t)}function EE(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function LB(e){this._context=e}LB.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function Pj(e){return new LB(e)}function RB(e){return e[0]}function FB(e){return e[1]}function $B(e,t){var r=Hr(!0),s=null,a=Pj,i=null,o=AE(l);e=typeof e=="function"?e:e===void 0?RB:Hr(e),t=typeof t=="function"?t:t===void 0?FB:Hr(t);function l(c){var d,h=(c=EE(c)).length,u,f=!1,m;for(s==null&&(i=a(m=o())),d=0;d<=h;++d)!(d<h&&r(u=c[d],d,c))===f&&((f=!f)?i.lineStart():i.lineEnd()),f&&i.point(+e(u,d,c),+t(u,d,c));if(m)return i=null,m+""||null}return l.x=function(c){return arguments.length?(e=typeof c=="function"?c:Hr(+c),l):e},l.y=function(c){return arguments.length?(t=typeof c=="function"?c:Hr(+c),l):t},l.defined=function(c){return arguments.length?(r=typeof c=="function"?c:Hr(!!c),l):r},l.curve=function(c){return arguments.length?(a=c,s!=null&&(i=a(s)),l):a},l.context=function(c){return arguments.length?(c==null?s=i=null:i=a(s=c),l):s},l}function I0(e,t,r){var s=null,a=Hr(!0),i=null,o=Pj,l=null,c=AE(d);e=typeof e=="function"?e:e===void 0?RB:Hr(+e),t=typeof t=="function"?t:Hr(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?FB:Hr(+r);function d(u){var f,m,v,x=(u=EE(u)).length,p,g=!1,b,y=new Array(x),j=new Array(x);for(i==null&&(l=o(b=c())),f=0;f<=x;++f){if(!(f<x&&a(p=u[f],f,u))===g)if(g=!g)m=f,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),v=f-1;v>=m;--v)l.point(y[v],j[v]);l.lineEnd(),l.areaEnd()}g&&(y[f]=+e(p,f,u),j[f]=+t(p,f,u),l.point(s?+s(p,f,u):y[f],r?+r(p,f,u):j[f]))}if(b)return l=null,b+""||null}function h(){return $B().defined(a).curve(o).context(i)}return d.x=function(u){return arguments.length?(e=typeof u=="function"?u:Hr(+u),s=null,d):e},d.x0=function(u){return arguments.length?(e=typeof u=="function"?u:Hr(+u),d):e},d.x1=function(u){return arguments.length?(s=u==null?null:typeof u=="function"?u:Hr(+u),d):s},d.y=function(u){return arguments.length?(t=typeof u=="function"?u:Hr(+u),r=null,d):t},d.y0=function(u){return arguments.length?(t=typeof u=="function"?u:Hr(+u),d):t},d.y1=function(u){return arguments.length?(r=u==null?null:typeof u=="function"?u:Hr(+u),d):r},d.lineX0=d.lineY0=function(){return h().x(e).y(t)},d.lineY1=function(){return h().x(e).y(r)},d.lineX1=function(){return h().x(s).y(t)},d.defined=function(u){return arguments.length?(a=typeof u=="function"?u:Hr(!!u),d):a},d.curve=function(u){return arguments.length?(o=u,i!=null&&(l=o(i)),d):o},d.context=function(u){return arguments.length?(u==null?i=l=null:l=o(i=u),d):i},d}class MB{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function Hme(e){return new MB(e,!0)}function Gme(e){return new MB(e,!1)}const PE={draw(e,t){const r=uo(t/hb);e.moveTo(r,0),e.arc(0,0,r,0,Ej)}},Kme={draw(e,t){const r=uo(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},BB=uo(1/3),Yme=BB*2,Xme={draw(e,t){const r=uo(t/Yme),s=r*BB;e.moveTo(0,-r),e.lineTo(s,0),e.lineTo(0,r),e.lineTo(-s,0),e.closePath()}},Qme={draw(e,t){const r=uo(t),s=-r/2;e.rect(s,s,r,r)}},Jme=.8908130915292852,zB=ub(hb/10)/ub(7*hb/10),Zme=ub(Ej/10)*zB,epe=-DB(Ej/10)*zB,tpe={draw(e,t){const r=uo(t*Jme),s=Zme*r,a=epe*r;e.moveTo(0,-r),e.lineTo(s,a);for(let i=1;i<5;++i){const o=Ej*i/5,l=DB(o),c=ub(o);e.lineTo(c*r,-l*r),e.lineTo(l*s-c*a,c*s+l*a)}e.closePath()}},uN=uo(3),rpe={draw(e,t){const r=-uo(t/(uN*3));e.moveTo(0,r*2),e.lineTo(-uN*r,-r),e.lineTo(uN*r,-r),e.closePath()}},ni=-.5,si=uo(3)/2,BS=1/uo(12),npe=(BS/2+1)*3,spe={draw(e,t){const r=uo(t/npe),s=r/2,a=r*BS,i=s,o=r*BS+r,l=-i,c=o;e.moveTo(s,a),e.lineTo(i,o),e.lineTo(l,c),e.lineTo(ni*s-si*a,si*s+ni*a),e.lineTo(ni*i-si*o,si*i+ni*o),e.lineTo(ni*l-si*c,si*l+ni*c),e.lineTo(ni*s+si*a,ni*a-si*s),e.lineTo(ni*i+si*o,ni*o-si*i),e.lineTo(ni*l+si*c,ni*c-si*l),e.closePath()}};function ape(e,t){let r=null,s=AE(a);e=typeof e=="function"?e:Hr(e||PE),t=typeof t=="function"?t:Hr(t===void 0?64:+t);function a(){let i;if(r||(r=i=s()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),i)return r=null,i+""||null}return a.type=function(i){return arguments.length?(e=typeof i=="function"?i:Hr(i),a):e},a.size=function(i){return arguments.length?(t=typeof i=="function"?i:Hr(+i),a):t},a.context=function(i){return arguments.length?(r=i??null,a):r},a}function fb(){}function mb(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function UB(e){this._context=e}UB.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:mb(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:mb(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function ipe(e){return new UB(e)}function VB(e){this._context=e}VB.prototype={areaStart:fb,areaEnd:fb,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:mb(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function ope(e){return new VB(e)}function qB(e){this._context=e}qB.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,s=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,s):this._context.moveTo(r,s);break;case 3:this._point=4;default:mb(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function lpe(e){return new qB(e)}function WB(e){this._context=e}WB.prototype={areaStart:fb,areaEnd:fb,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function cpe(e){return new WB(e)}function ak(e){return e<0?-1:1}function ik(e,t,r){var s=e._x1-e._x0,a=t-e._x1,i=(e._y1-e._y0)/(s||a<0&&-0),o=(r-e._y1)/(a||s<0&&-0),l=(i*a+o*s)/(s+a);return(ak(i)+ak(o))*Math.min(Math.abs(i),Math.abs(o),.5*Math.abs(l))||0}function ok(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function hN(e,t,r){var s=e._x0,a=e._y0,i=e._x1,o=e._y1,l=(i-s)/3;e._context.bezierCurveTo(s+l,a+l*t,i-l,o-l*r,i,o)}function pb(e){this._context=e}pb.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:hN(this,this._t0,ok(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,hN(this,ok(this,r=ik(this,e,t)),r);break;default:hN(this,this._t0,r=ik(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function HB(e){this._context=new GB(e)}(HB.prototype=Object.create(pb.prototype)).point=function(e,t){pb.prototype.point.call(this,t,e)};function GB(e){this._context=e}GB.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,s,a,i){this._context.bezierCurveTo(t,e,s,r,i,a)}};function dpe(e){return new pb(e)}function upe(e){return new HB(e)}function KB(e){this._context=e}KB.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var s=lk(e),a=lk(t),i=0,o=1;o<r;++i,++o)this._context.bezierCurveTo(s[0][i],a[0][i],s[1][i],a[1][i],e[o],t[o]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function lk(e){var t,r=e.length-1,s,a=new Array(r),i=new Array(r),o=new Array(r);for(a[0]=0,i[0]=2,o[0]=e[0]+2*e[1],t=1;t<r-1;++t)a[t]=1,i[t]=4,o[t]=4*e[t]+2*e[t+1];for(a[r-1]=2,i[r-1]=7,o[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)s=a[t]/i[t-1],i[t]-=s,o[t]-=s*o[t-1];for(a[r-1]=o[r-1]/i[r-1],t=r-2;t>=0;--t)a[t]=(o[t]-a[t+1])/i[t];for(i[r-1]=(e[r]+a[r-1])/2,t=0;t<r-1;++t)i[t]=2*e[t+1]-a[t+1];return[a,i]}function hpe(e){return new KB(e)}function Tj(e,t){this._context=e,this._t=t}Tj.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function fpe(e){return new Tj(e,.5)}function mpe(e){return new Tj(e,0)}function ppe(e){return new Tj(e,1)}function Pf(e,t){if((o=e.length)>1)for(var r=1,s,a,i=e[t[0]],o,l=i.length;r<o;++r)for(a=i,i=e[t[r]],s=0;s<l;++s)i[s][1]+=i[s][0]=isNaN(a[s][1])?a[s][0]:a[s][1]}function zS(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function vpe(e,t){return e[t]}function gpe(e){const t=[];return t.key=e,t}function xpe(){var e=Hr([]),t=zS,r=Pf,s=vpe;function a(i){var o=Array.from(e.apply(this,arguments),gpe),l,c=o.length,d=-1,h;for(const u of i)for(l=0,++d;l<c;++l)(o[l][d]=[0,+s(u,o[l].key,d,i)]).data=u;for(l=0,h=EE(t(o));l<c;++l)o[h[l]].index=l;return r(o,h),o}return a.keys=function(i){return arguments.length?(e=typeof i=="function"?i:Hr(Array.from(i)),a):e},a.value=function(i){return arguments.length?(s=typeof i=="function"?i:Hr(+i),a):s},a.order=function(i){return arguments.length?(t=i==null?zS:typeof i=="function"?i:Hr(Array.from(i)),a):t},a.offset=function(i){return arguments.length?(r=i??Pf,a):r},a}function ype(e,t){if((s=e.length)>0){for(var r,s,a=0,i=e[0].length,o;a<i;++a){for(o=r=0;r<s;++r)o+=e[r][a][1]||0;if(o)for(r=0;r<s;++r)e[r][a][1]/=o}Pf(e,t)}}function bpe(e,t){if((a=e.length)>0){for(var r=0,s=e[t[0]],a,i=s.length;r<i;++r){for(var o=0,l=0;o<a;++o)l+=e[o][r][1]||0;s[r][1]+=s[r][0]=-l/2}Pf(e,t)}}function jpe(e,t){if(!(!((o=e.length)>0)||!((i=(a=e[t[0]]).length)>0))){for(var r=0,s=1,a,i,o;s<i;++s){for(var l=0,c=0,d=0;l<o;++l){for(var h=e[t[l]],u=h[s][1]||0,f=h[s-1][1]||0,m=(u-f)/2,v=0;v<l;++v){var x=e[t[v]],p=x[s][1]||0,g=x[s-1][1]||0;m+=p-g}c+=u,d+=m*u}a[s-1][1]+=a[s-1][0]=r,c&&(r-=d/c)}a[s-1][1]+=a[s-1][0]=r,Pf(e,t)}}function qv(e){"@babel/helpers - typeof";return qv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qv(e)}var wpe=["type","size","sizeType"];function US(){return US=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},US.apply(this,arguments)}function ck(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function dk(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ck(Object(r),!0).forEach(function(s){Npe(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ck(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function Npe(e,t,r){return t=Spe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Spe(e){var t=Cpe(e,"string");return qv(t)=="symbol"?t:t+""}function Cpe(e,t){if(qv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(qv(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ape(e,t){if(e==null)return{};var r=Epe(e,t),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(r[s]=e[s])}return r}function Epe(e,t){if(e==null)return{};var r={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;r[s]=e[s]}return r}var YB={symbolCircle:PE,symbolCross:Kme,symbolDiamond:Xme,symbolSquare:Qme,symbolStar:tpe,symbolTriangle:rpe,symbolWye:spe},Ppe=Math.PI/180,Tpe=function(t){var r="symbol".concat(Aj(t));return YB[r]||PE},_pe=function(t,r,s){if(r==="area")return t;switch(s){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var a=18*Ppe;return 1.25*t*t*(Math.tan(a)-Math.tan(a*2)*Math.pow(Math.tan(a),2))}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},Ipe=function(t,r){YB["symbol".concat(Aj(t))]=r},TE=function(t){var r=t.type,s=r===void 0?"circle":r,a=t.size,i=a===void 0?64:a,o=t.sizeType,l=o===void 0?"area":o,c=Ape(t,wpe),d=dk(dk({},c),{},{type:s,size:i,sizeType:l}),h=function(){var p=Tpe(s),g=ape().type(p).size(_pe(i,l,s));return g()},u=d.className,f=d.cx,m=d.cy,v=er(d,!0);return f===+f&&m===+m&&i===+i?pe.createElement("path",US({},v,{className:cr("recharts-symbols",u),transform:"translate(".concat(f,", ").concat(m,")"),d:h()})):null};TE.registerSymbol=Ipe;function Tf(e){"@babel/helpers - typeof";return Tf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Tf(e)}function VS(){return VS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},VS.apply(this,arguments)}function uk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function kpe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?uk(Object(r),!0).forEach(function(s){Wv(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):uk(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function Dpe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function hk(e,t){for(var r=0;r<t.length;r++){var s=t[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,QB(s.key),s)}}function Ope(e,t,r){return t&&hk(e.prototype,t),r&&hk(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Lpe(e,t,r){return t=vb(t),Rpe(e,XB()?Reflect.construct(t,r||[],vb(e).constructor):t.apply(e,r))}function Rpe(e,t){if(t&&(Tf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Fpe(e)}function Fpe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function XB(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(XB=function(){return!!e})()}function vb(e){return vb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},vb(e)}function $pe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&qS(e,t)}function qS(e,t){return qS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},qS(e,t)}function Wv(e,t,r){return t=QB(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function QB(e){var t=Mpe(e,"string");return Tf(t)=="symbol"?t:t+""}function Mpe(e,t){if(Tf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(Tf(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ai=32,_E=function(e){function t(){return Dpe(this,t),Lpe(this,t,arguments)}return $pe(t,e),Ope(t,[{key:"renderIcon",value:function(s){var a=this.props.inactiveColor,i=ai/2,o=ai/6,l=ai/3,c=s.inactive?a:s.color;if(s.type==="plainline")return pe.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:s.payload.strokeDasharray,x1:0,y1:i,x2:ai,y2:i,className:"recharts-legend-icon"});if(s.type==="line")return pe.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(i,"h").concat(l,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*l,",").concat(i,`
            H`).concat(ai,"M").concat(2*l,",").concat(i,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(l,",").concat(i),className:"recharts-legend-icon"});if(s.type==="rect")return pe.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(ai/8,"h").concat(ai,"v").concat(ai*3/4,"h").concat(-ai,"z"),className:"recharts-legend-icon"});if(pe.isValidElement(s.legendIcon)){var d=kpe({},s);return delete d.legendIcon,pe.cloneElement(s.legendIcon,d)}return pe.createElement(TE,{fill:c,cx:i,cy:i,size:ai,sizeType:"diameter",type:s.type})}},{key:"renderItems",value:function(){var s=this,a=this.props,i=a.payload,o=a.iconSize,l=a.layout,c=a.formatter,d=a.inactiveColor,h={x:0,y:0,width:ai,height:ai},u={display:l==="horizontal"?"inline-block":"block",marginRight:10},f={display:"inline-block",verticalAlign:"middle",marginRight:4};return i.map(function(m,v){var x=m.formatter||c,p=cr(Wv(Wv({"recharts-legend-item":!0},"legend-item-".concat(v),!0),"inactive",m.inactive));if(m.type==="none")return null;var g=Zt(m.value)?null:m.value;Al(!Zt(m.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var b=m.inactive?d:m.color;return pe.createElement("li",VS({className:p,style:u,key:"legend-item-".concat(v)},db(s.props,m,v)),pe.createElement(OS,{width:o,height:o,viewBox:h,style:f},s.renderIcon(m)),pe.createElement("span",{className:"recharts-legend-item-text",style:{color:b}},x?x(g,m,v):g))})}},{key:"render",value:function(){var s=this.props,a=s.payload,i=s.layout,o=s.align;if(!a||!a.length)return null;var l={padding:0,margin:0,textAlign:i==="horizontal"?o:"left"};return pe.createElement("ul",{className:"recharts-default-legend",style:l},this.renderItems())}}])}(C.PureComponent);Wv(_E,"displayName","Legend");Wv(_E,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var Bpe=fj;function zpe(){this.__data__=new Bpe,this.size=0}var Upe=zpe;function Vpe(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}var qpe=Vpe;function Wpe(e){return this.__data__.get(e)}var Hpe=Wpe;function Gpe(e){return this.__data__.has(e)}var Kpe=Gpe,Ype=fj,Xpe=gE,Qpe=xE,Jpe=200;function Zpe(e,t){var r=this.__data__;if(r instanceof Ype){var s=r.__data__;if(!Xpe||s.length<Jpe-1)return s.push([e,t]),this.size=++r.size,this;r=this.__data__=new Qpe(s)}return r.set(e,t),this.size=r.size,this}var eve=Zpe,tve=fj,rve=Upe,nve=qpe,sve=Hpe,ave=Kpe,ive=eve;function jm(e){var t=this.__data__=new tve(e);this.size=t.size}jm.prototype.clear=rve;jm.prototype.delete=nve;jm.prototype.get=sve;jm.prototype.has=ave;jm.prototype.set=ive;var JB=jm,ove="__lodash_hash_undefined__";function lve(e){return this.__data__.set(e,ove),this}var cve=lve;function dve(e){return this.__data__.has(e)}var uve=dve,hve=xE,fve=cve,mve=uve;function gb(e){var t=-1,r=e==null?0:e.length;for(this.__data__=new hve;++t<r;)this.add(e[t])}gb.prototype.add=gb.prototype.push=fve;gb.prototype.has=mve;var ZB=gb;function pve(e,t){for(var r=-1,s=e==null?0:e.length;++r<s;)if(t(e[r],r,e))return!0;return!1}var e9=pve;function vve(e,t){return e.has(t)}var t9=vve,gve=ZB,xve=e9,yve=t9,bve=1,jve=2;function wve(e,t,r,s,a,i){var o=r&bve,l=e.length,c=t.length;if(l!=c&&!(o&&c>l))return!1;var d=i.get(e),h=i.get(t);if(d&&h)return d==t&&h==e;var u=-1,f=!0,m=r&jve?new gve:void 0;for(i.set(e,t),i.set(t,e);++u<l;){var v=e[u],x=t[u];if(s)var p=o?s(x,v,u,t,e,i):s(v,x,u,e,t,i);if(p!==void 0){if(p)continue;f=!1;break}if(m){if(!xve(t,function(g,b){if(!yve(m,b)&&(v===g||a(v,g,r,s,i)))return m.push(b)})){f=!1;break}}else if(!(v===x||a(v,x,r,s,i))){f=!1;break}}return i.delete(e),i.delete(t),f}var r9=wve,Nve=Qo,Sve=Nve.Uint8Array,Cve=Sve;function Ave(e){var t=-1,r=Array(e.size);return e.forEach(function(s,a){r[++t]=[a,s]}),r}var Eve=Ave;function Pve(e){var t=-1,r=Array(e.size);return e.forEach(function(s){r[++t]=s}),r}var IE=Pve,fk=Kg,mk=Cve,Tve=vE,_ve=r9,Ive=Eve,kve=IE,Dve=1,Ove=2,Lve="[object Boolean]",Rve="[object Date]",Fve="[object Error]",$ve="[object Map]",Mve="[object Number]",Bve="[object RegExp]",zve="[object Set]",Uve="[object String]",Vve="[object Symbol]",qve="[object ArrayBuffer]",Wve="[object DataView]",pk=fk?fk.prototype:void 0,fN=pk?pk.valueOf:void 0;function Hve(e,t,r,s,a,i,o){switch(r){case Wve:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case qve:return!(e.byteLength!=t.byteLength||!i(new mk(e),new mk(t)));case Lve:case Rve:case Mve:return Tve(+e,+t);case Fve:return e.name==t.name&&e.message==t.message;case Bve:case Uve:return e==t+"";case $ve:var l=Ive;case zve:var c=s&Dve;if(l||(l=kve),e.size!=t.size&&!c)return!1;var d=o.get(e);if(d)return d==t;s|=Ove,o.set(e,t);var h=_ve(l(e),l(t),s,a,i,o);return o.delete(e),h;case Vve:if(fN)return fN.call(e)==fN.call(t)}return!1}var Gve=Hve;function Kve(e,t){for(var r=-1,s=t.length,a=e.length;++r<s;)e[a+r]=t[r];return e}var n9=Kve,Yve=n9,Xve=Ca;function Qve(e,t,r){var s=t(e);return Xve(e)?s:Yve(s,r(e))}var Jve=Qve;function Zve(e,t){for(var r=-1,s=e==null?0:e.length,a=0,i=[];++r<s;){var o=e[r];t(o,r,e)&&(i[a++]=o)}return i}var ege=Zve;function tge(){return[]}var rge=tge,nge=ege,sge=rge,age=Object.prototype,ige=age.propertyIsEnumerable,vk=Object.getOwnPropertySymbols,oge=vk?function(e){return e==null?[]:(e=Object(e),nge(vk(e),function(t){return ige.call(e,t)}))}:sge,lge=oge;function cge(e,t){for(var r=-1,s=Array(e);++r<e;)s[r]=t(r);return s}var dge=cge,uge=ql,hge=Wl,fge="[object Arguments]";function mge(e){return hge(e)&&uge(e)==fge}var pge=mge,gk=pge,vge=Wl,s9=Object.prototype,gge=s9.hasOwnProperty,xge=s9.propertyIsEnumerable,yge=gk(function(){return arguments}())?gk:function(e){return vge(e)&&gge.call(e,"callee")&&!xge.call(e,"callee")},kE=yge,xb={exports:{}};function bge(){return!1}var jge=bge;xb.exports;(function(e,t){var r=Qo,s=jge,a=t&&!t.nodeType&&t,i=a&&!0&&e&&!e.nodeType&&e,o=i&&i.exports===a,l=o?r.Buffer:void 0,c=l?l.isBuffer:void 0,d=c||s;e.exports=d})(xb,xb.exports);var a9=xb.exports,wge=9007199254740991,Nge=/^(?:0|[1-9]\d*)$/;function Sge(e,t){var r=typeof e;return t=t??wge,!!t&&(r=="number"||r!="symbol"&&Nge.test(e))&&e>-1&&e%1==0&&e<t}var DE=Sge,Cge=9007199254740991;function Age(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=Cge}var OE=Age,Ege=ql,Pge=OE,Tge=Wl,_ge="[object Arguments]",Ige="[object Array]",kge="[object Boolean]",Dge="[object Date]",Oge="[object Error]",Lge="[object Function]",Rge="[object Map]",Fge="[object Number]",$ge="[object Object]",Mge="[object RegExp]",Bge="[object Set]",zge="[object String]",Uge="[object WeakMap]",Vge="[object ArrayBuffer]",qge="[object DataView]",Wge="[object Float32Array]",Hge="[object Float64Array]",Gge="[object Int8Array]",Kge="[object Int16Array]",Yge="[object Int32Array]",Xge="[object Uint8Array]",Qge="[object Uint8ClampedArray]",Jge="[object Uint16Array]",Zge="[object Uint32Array]",en={};en[Wge]=en[Hge]=en[Gge]=en[Kge]=en[Yge]=en[Xge]=en[Qge]=en[Jge]=en[Zge]=!0;en[_ge]=en[Ige]=en[Vge]=en[kge]=en[qge]=en[Dge]=en[Oge]=en[Lge]=en[Rge]=en[Fge]=en[$ge]=en[Mge]=en[Bge]=en[zge]=en[Uge]=!1;function exe(e){return Tge(e)&&Pge(e.length)&&!!en[Ege(e)]}var txe=exe;function rxe(e){return function(t){return e(t)}}var i9=rxe,yb={exports:{}};yb.exports;(function(e,t){var r=fB,s=t&&!t.nodeType&&t,a=s&&!0&&e&&!e.nodeType&&e,i=a&&a.exports===s,o=i&&r.process,l=function(){try{var c=a&&a.require&&a.require("util").types;return c||o&&o.binding&&o.binding("util")}catch{}}();e.exports=l})(yb,yb.exports);var nxe=yb.exports,sxe=txe,axe=i9,xk=nxe,yk=xk&&xk.isTypedArray,ixe=yk?axe(yk):sxe,o9=ixe,oxe=dge,lxe=kE,cxe=Ca,dxe=a9,uxe=DE,hxe=o9,fxe=Object.prototype,mxe=fxe.hasOwnProperty;function pxe(e,t){var r=cxe(e),s=!r&&lxe(e),a=!r&&!s&&dxe(e),i=!r&&!s&&!a&&hxe(e),o=r||s||a||i,l=o?oxe(e.length,String):[],c=l.length;for(var d in e)(t||mxe.call(e,d))&&!(o&&(d=="length"||a&&(d=="offset"||d=="parent")||i&&(d=="buffer"||d=="byteLength"||d=="byteOffset")||uxe(d,c)))&&l.push(d);return l}var vxe=pxe,gxe=Object.prototype;function xxe(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||gxe;return e===r}var yxe=xxe;function bxe(e,t){return function(r){return e(t(r))}}var l9=bxe,jxe=l9,wxe=jxe(Object.keys,Object),Nxe=wxe,Sxe=yxe,Cxe=Nxe,Axe=Object.prototype,Exe=Axe.hasOwnProperty;function Pxe(e){if(!Sxe(e))return Cxe(e);var t=[];for(var r in Object(e))Exe.call(e,r)&&r!="constructor"&&t.push(r);return t}var Txe=Pxe,_xe=pE,Ixe=OE;function kxe(e){return e!=null&&Ixe(e.length)&&!_xe(e)}var Yg=kxe,Dxe=vxe,Oxe=Txe,Lxe=Yg;function Rxe(e){return Lxe(e)?Dxe(e):Oxe(e)}var _j=Rxe,Fxe=Jve,$xe=lge,Mxe=_j;function Bxe(e){return Fxe(e,Mxe,$xe)}var zxe=Bxe,bk=zxe,Uxe=1,Vxe=Object.prototype,qxe=Vxe.hasOwnProperty;function Wxe(e,t,r,s,a,i){var o=r&Uxe,l=bk(e),c=l.length,d=bk(t),h=d.length;if(c!=h&&!o)return!1;for(var u=c;u--;){var f=l[u];if(!(o?f in t:qxe.call(t,f)))return!1}var m=i.get(e),v=i.get(t);if(m&&v)return m==t&&v==e;var x=!0;i.set(e,t),i.set(t,e);for(var p=o;++u<c;){f=l[u];var g=e[f],b=t[f];if(s)var y=o?s(b,g,f,t,e,i):s(g,b,f,e,t,i);if(!(y===void 0?g===b||a(g,b,r,s,i):y)){x=!1;break}p||(p=f=="constructor")}if(x&&!p){var j=e.constructor,E=t.constructor;j!=E&&"constructor"in e&&"constructor"in t&&!(typeof j=="function"&&j instanceof j&&typeof E=="function"&&E instanceof E)&&(x=!1)}return i.delete(e),i.delete(t),x}var Hxe=Wxe,Gxe=Lu,Kxe=Qo,Yxe=Gxe(Kxe,"DataView"),Xxe=Yxe,Qxe=Lu,Jxe=Qo,Zxe=Qxe(Jxe,"Promise"),e0e=Zxe,t0e=Lu,r0e=Qo,n0e=t0e(r0e,"Set"),c9=n0e,s0e=Lu,a0e=Qo,i0e=s0e(a0e,"WeakMap"),o0e=i0e,WS=Xxe,HS=gE,GS=e0e,KS=c9,YS=o0e,d9=ql,wm=pB,jk="[object Map]",l0e="[object Object]",wk="[object Promise]",Nk="[object Set]",Sk="[object WeakMap]",Ck="[object DataView]",c0e=wm(WS),d0e=wm(HS),u0e=wm(GS),h0e=wm(KS),f0e=wm(YS),$d=d9;(WS&&$d(new WS(new ArrayBuffer(1)))!=Ck||HS&&$d(new HS)!=jk||GS&&$d(GS.resolve())!=wk||KS&&$d(new KS)!=Nk||YS&&$d(new YS)!=Sk)&&($d=function(e){var t=d9(e),r=t==l0e?e.constructor:void 0,s=r?wm(r):"";if(s)switch(s){case c0e:return Ck;case d0e:return jk;case u0e:return wk;case h0e:return Nk;case f0e:return Sk}return t});var m0e=$d,mN=JB,p0e=r9,v0e=Gve,g0e=Hxe,Ak=m0e,Ek=Ca,Pk=a9,x0e=o9,y0e=1,Tk="[object Arguments]",_k="[object Array]",k0="[object Object]",b0e=Object.prototype,Ik=b0e.hasOwnProperty;function j0e(e,t,r,s,a,i){var o=Ek(e),l=Ek(t),c=o?_k:Ak(e),d=l?_k:Ak(t);c=c==Tk?k0:c,d=d==Tk?k0:d;var h=c==k0,u=d==k0,f=c==d;if(f&&Pk(e)){if(!Pk(t))return!1;o=!0,h=!1}if(f&&!h)return i||(i=new mN),o||x0e(e)?p0e(e,t,r,s,a,i):v0e(e,t,c,r,s,a,i);if(!(r&y0e)){var m=h&&Ik.call(e,"__wrapped__"),v=u&&Ik.call(t,"__wrapped__");if(m||v){var x=m?e.value():e,p=v?t.value():t;return i||(i=new mN),a(x,p,r,s,i)}}return f?(i||(i=new mN),g0e(e,t,r,s,a,i)):!1}var w0e=j0e,N0e=w0e,kk=Wl;function u9(e,t,r,s,a){return e===t?!0:e==null||t==null||!kk(e)&&!kk(t)?e!==e&&t!==t:N0e(e,t,r,s,u9,a)}var LE=u9,S0e=JB,C0e=LE,A0e=1,E0e=2;function P0e(e,t,r,s){var a=r.length,i=a,o=!s;if(e==null)return!i;for(e=Object(e);a--;){var l=r[a];if(o&&l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}for(;++a<i;){l=r[a];var c=l[0],d=e[c],h=l[1];if(o&&l[2]){if(d===void 0&&!(c in e))return!1}else{var u=new S0e;if(s)var f=s(d,h,c,e,t,u);if(!(f===void 0?C0e(h,d,A0e|E0e,s,u):f))return!1}}return!0}var T0e=P0e,_0e=ud;function I0e(e){return e===e&&!_0e(e)}var h9=I0e,k0e=h9,D0e=_j;function O0e(e){for(var t=D0e(e),r=t.length;r--;){var s=t[r],a=e[s];t[r]=[s,a,k0e(a)]}return t}var L0e=O0e;function R0e(e,t){return function(r){return r==null?!1:r[e]===t&&(t!==void 0||e in Object(r))}}var f9=R0e,F0e=T0e,$0e=L0e,M0e=f9;function B0e(e){var t=$0e(e);return t.length==1&&t[0][2]?M0e(t[0][0],t[0][1]):function(r){return r===e||F0e(r,e,t)}}var z0e=B0e;function U0e(e,t){return e!=null&&t in Object(e)}var V0e=U0e,q0e=bB,W0e=kE,H0e=Ca,G0e=DE,K0e=OE,Y0e=pj;function X0e(e,t,r){t=q0e(t,e);for(var s=-1,a=t.length,i=!1;++s<a;){var o=Y0e(t[s]);if(!(i=e!=null&&r(e,o)))break;e=e[o]}return i||++s!=a?i:(a=e==null?0:e.length,!!a&&K0e(a)&&G0e(o,a)&&(H0e(e)||W0e(e)))}var Q0e=X0e,J0e=V0e,Z0e=Q0e;function eye(e,t){return e!=null&&Z0e(e,t,J0e)}var tye=eye,rye=LE,nye=jB,sye=tye,aye=mE,iye=h9,oye=f9,lye=pj,cye=1,dye=2;function uye(e,t){return aye(e)&&iye(t)?oye(lye(e),t):function(r){var s=nye(r,e);return s===void 0&&s===t?sye(r,e):rye(t,s,cye|dye)}}var hye=uye;function fye(e){return e}var Nm=fye;function mye(e){return function(t){return t==null?void 0:t[e]}}var pye=mye,vye=jE;function gye(e){return function(t){return vye(t,e)}}var xye=gye,yye=pye,bye=xye,jye=mE,wye=pj;function Nye(e){return jye(e)?yye(wye(e)):bye(e)}var Sye=Nye,Cye=z0e,Aye=hye,Eye=Nm,Pye=Ca,Tye=Sye;function _ye(e){return typeof e=="function"?e:e==null?Eye:typeof e=="object"?Pye(e)?Aye(e[0],e[1]):Cye(e):Tye(e)}var hd=_ye;function Iye(e,t,r,s){for(var a=e.length,i=r+(s?1:-1);s?i--:++i<a;)if(t(e[i],i,e))return i;return-1}var m9=Iye;function kye(e){return e!==e}var Dye=kye;function Oye(e,t,r){for(var s=r-1,a=e.length;++s<a;)if(e[s]===t)return s;return-1}var Lye=Oye,Rye=m9,Fye=Dye,$ye=Lye;function Mye(e,t,r){return t===t?$ye(e,t,r):Rye(e,Fye,r)}var Bye=Mye,zye=Bye;function Uye(e,t){var r=e==null?0:e.length;return!!r&&zye(e,t,0)>-1}var Vye=Uye;function qye(e,t,r){for(var s=-1,a=e==null?0:e.length;++s<a;)if(r(t,e[s]))return!0;return!1}var Wye=qye;function Hye(){}var Gye=Hye,pN=c9,Kye=Gye,Yye=IE,Xye=1/0,Qye=pN&&1/Yye(new pN([,-0]))[1]==Xye?function(e){return new pN(e)}:Kye,Jye=Qye,Zye=ZB,ebe=Vye,tbe=Wye,rbe=t9,nbe=Jye,sbe=IE,abe=200;function ibe(e,t,r){var s=-1,a=ebe,i=e.length,o=!0,l=[],c=l;if(r)o=!1,a=tbe;else if(i>=abe){var d=t?null:nbe(e);if(d)return sbe(d);o=!1,a=rbe,c=new Zye}else c=t?[]:l;e:for(;++s<i;){var h=e[s],u=t?t(h):h;if(h=r||h!==0?h:0,o&&u===u){for(var f=c.length;f--;)if(c[f]===u)continue e;t&&c.push(u),l.push(h)}else a(c,u,r)||(c!==l&&c.push(u),l.push(h))}return l}var obe=ibe,lbe=hd,cbe=obe;function dbe(e,t){return e&&e.length?cbe(e,lbe(t)):[]}var ube=dbe;const Dk=Cr(ube);function p9(e,t,r){return t===!0?Dk(e,r):Zt(t)?Dk(e,t):e}function _f(e){"@babel/helpers - typeof";return _f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_f(e)}var hbe=["ref"];function Ok(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function ul(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ok(Object(r),!0).forEach(function(s){Ij(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ok(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function fbe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Lk(e,t){for(var r=0;r<t.length;r++){var s=t[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,g9(s.key),s)}}function mbe(e,t,r){return t&&Lk(e.prototype,t),r&&Lk(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function pbe(e,t,r){return t=bb(t),vbe(e,v9()?Reflect.construct(t,r||[],bb(e).constructor):t.apply(e,r))}function vbe(e,t){if(t&&(_f(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return gbe(e)}function gbe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function v9(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(v9=function(){return!!e})()}function bb(e){return bb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},bb(e)}function xbe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&XS(e,t)}function XS(e,t){return XS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},XS(e,t)}function Ij(e,t,r){return t=g9(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function g9(e){var t=ybe(e,"string");return _f(t)=="symbol"?t:t+""}function ybe(e,t){if(_f(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(_f(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function bbe(e,t){if(e==null)return{};var r=jbe(e,t),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(r[s]=e[s])}return r}function jbe(e,t){if(e==null)return{};var r={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;r[s]=e[s]}return r}function wbe(e){return e.value}function Nbe(e,t){if(pe.isValidElement(e))return pe.cloneElement(e,t);if(typeof e=="function")return pe.createElement(e,t);t.ref;var r=bbe(t,hbe);return pe.createElement(_E,r)}var Rk=1,of=function(e){function t(){var r;fbe(this,t);for(var s=arguments.length,a=new Array(s),i=0;i<s;i++)a[i]=arguments[i];return r=pbe(this,t,[].concat(a)),Ij(r,"lastBoundingBox",{width:-1,height:-1}),r}return xbe(t,e),mbe(t,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var s=this.wrapperNode.getBoundingClientRect();return s.height=this.wrapperNode.offsetHeight,s.width=this.wrapperNode.offsetWidth,s}return null}},{key:"updateBBox",value:function(){var s=this.props.onBBoxUpdate,a=this.getBBox();a?(Math.abs(a.width-this.lastBoundingBox.width)>Rk||Math.abs(a.height-this.lastBoundingBox.height)>Rk)&&(this.lastBoundingBox.width=a.width,this.lastBoundingBox.height=a.height,s&&s(a)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,s&&s(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?ul({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(s){var a=this.props,i=a.layout,o=a.align,l=a.verticalAlign,c=a.margin,d=a.chartWidth,h=a.chartHeight,u,f;if(!s||(s.left===void 0||s.left===null)&&(s.right===void 0||s.right===null))if(o==="center"&&i==="vertical"){var m=this.getBBoxSnapshot();u={left:((d||0)-m.width)/2}}else u=o==="right"?{right:c&&c.right||0}:{left:c&&c.left||0};if(!s||(s.top===void 0||s.top===null)&&(s.bottom===void 0||s.bottom===null))if(l==="middle"){var v=this.getBBoxSnapshot();f={top:((h||0)-v.height)/2}}else f=l==="bottom"?{bottom:c&&c.bottom||0}:{top:c&&c.top||0};return ul(ul({},u),f)}},{key:"render",value:function(){var s=this,a=this.props,i=a.content,o=a.width,l=a.height,c=a.wrapperStyle,d=a.payloadUniqBy,h=a.payload,u=ul(ul({position:"absolute",width:o||"auto",height:l||"auto"},this.getDefaultPosition(c)),c);return pe.createElement("div",{className:"recharts-legend-wrapper",style:u,ref:function(m){s.wrapperNode=m}},Nbe(i,ul(ul({},this.props),{},{payload:p9(h,d,wbe)})))}}],[{key:"getWithHeight",value:function(s,a){var i=ul(ul({},this.defaultProps),s.props),o=i.layout;return o==="vertical"&&it(s.props.height)?{height:s.props.height}:o==="horizontal"?{width:s.props.width||a}:null}}])}(C.PureComponent);Ij(of,"displayName","Legend");Ij(of,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var Fk=Kg,Sbe=kE,Cbe=Ca,$k=Fk?Fk.isConcatSpreadable:void 0;function Abe(e){return Cbe(e)||Sbe(e)||!!($k&&e&&e[$k])}var Ebe=Abe,Pbe=n9,Tbe=Ebe;function x9(e,t,r,s,a){var i=-1,o=e.length;for(r||(r=Tbe),a||(a=[]);++i<o;){var l=e[i];t>0&&r(l)?t>1?x9(l,t-1,r,s,a):Pbe(a,l):s||(a[a.length]=l)}return a}var y9=x9;function _be(e){return function(t,r,s){for(var a=-1,i=Object(t),o=s(t),l=o.length;l--;){var c=o[e?l:++a];if(r(i[c],c,i)===!1)break}return t}}var Ibe=_be,kbe=Ibe,Dbe=kbe(),Obe=Dbe,Lbe=Obe,Rbe=_j;function Fbe(e,t){return e&&Lbe(e,t,Rbe)}var b9=Fbe,$be=Yg;function Mbe(e,t){return function(r,s){if(r==null)return r;if(!$be(r))return e(r,s);for(var a=r.length,i=t?a:-1,o=Object(r);(t?i--:++i<a)&&s(o[i],i,o)!==!1;);return r}}var Bbe=Mbe,zbe=b9,Ube=Bbe,Vbe=Ube(zbe),RE=Vbe,qbe=RE,Wbe=Yg;function Hbe(e,t){var r=-1,s=Wbe(e)?Array(e.length):[];return qbe(e,function(a,i,o){s[++r]=t(a,i,o)}),s}var j9=Hbe;function Gbe(e,t){var r=e.length;for(e.sort(t);r--;)e[r]=e[r].value;return e}var Kbe=Gbe,Mk=mm;function Ybe(e,t){if(e!==t){var r=e!==void 0,s=e===null,a=e===e,i=Mk(e),o=t!==void 0,l=t===null,c=t===t,d=Mk(t);if(!l&&!d&&!i&&e>t||i&&o&&c&&!l&&!d||s&&o&&c||!r&&c||!a)return 1;if(!s&&!i&&!d&&e<t||d&&r&&a&&!s&&!i||l&&r&&a||!o&&a||!c)return-1}return 0}var Xbe=Ybe,Qbe=Xbe;function Jbe(e,t,r){for(var s=-1,a=e.criteria,i=t.criteria,o=a.length,l=r.length;++s<o;){var c=Qbe(a[s],i[s]);if(c){if(s>=l)return c;var d=r[s];return c*(d=="desc"?-1:1)}}return e.index-t.index}var Zbe=Jbe,vN=bE,e1e=jE,t1e=hd,r1e=j9,n1e=Kbe,s1e=i9,a1e=Zbe,i1e=Nm,o1e=Ca;function l1e(e,t,r){t.length?t=vN(t,function(i){return o1e(i)?function(o){return e1e(o,i.length===1?i[0]:i)}:i}):t=[i1e];var s=-1;t=vN(t,s1e(t1e));var a=r1e(e,function(i,o,l){var c=vN(t,function(d){return d(i)});return{criteria:c,index:++s,value:i}});return n1e(a,function(i,o){return a1e(i,o,r)})}var c1e=l1e;function d1e(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}var u1e=d1e,h1e=u1e,Bk=Math.max;function f1e(e,t,r){return t=Bk(t===void 0?e.length-1:t,0),function(){for(var s=arguments,a=-1,i=Bk(s.length-t,0),o=Array(i);++a<i;)o[a]=s[t+a];a=-1;for(var l=Array(t+1);++a<t;)l[a]=s[a];return l[t]=r(o),h1e(e,this,l)}}var m1e=f1e;function p1e(e){return function(){return e}}var v1e=p1e,g1e=Lu,x1e=function(){try{var e=g1e(Object,"defineProperty");return e({},"",{}),e}catch{}}(),w9=x1e,y1e=v1e,zk=w9,b1e=Nm,j1e=zk?function(e,t){return zk(e,"toString",{configurable:!0,enumerable:!1,value:y1e(t),writable:!0})}:b1e,w1e=j1e,N1e=800,S1e=16,C1e=Date.now;function A1e(e){var t=0,r=0;return function(){var s=C1e(),a=S1e-(s-r);if(r=s,a>0){if(++t>=N1e)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var E1e=A1e,P1e=w1e,T1e=E1e,_1e=T1e(P1e),I1e=_1e,k1e=Nm,D1e=m1e,O1e=I1e;function L1e(e,t){return O1e(D1e(e,t,k1e),e+"")}var R1e=L1e,F1e=vE,$1e=Yg,M1e=DE,B1e=ud;function z1e(e,t,r){if(!B1e(r))return!1;var s=typeof t;return(s=="number"?$1e(r)&&M1e(t,r.length):s=="string"&&t in r)?F1e(r[t],e):!1}var kj=z1e,U1e=y9,V1e=c1e,q1e=R1e,Uk=kj,W1e=q1e(function(e,t){if(e==null)return[];var r=t.length;return r>1&&Uk(e,t[0],t[1])?t=[]:r>2&&Uk(t[0],t[1],t[2])&&(t=[t[0]]),V1e(e,U1e(t,1),[])}),H1e=W1e;const FE=Cr(H1e);function Hv(e){"@babel/helpers - typeof";return Hv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hv(e)}function QS(){return QS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},QS.apply(this,arguments)}function G1e(e,t){return Q1e(e)||X1e(e,t)||Y1e(e,t)||K1e()}function K1e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Y1e(e,t){if(e){if(typeof e=="string")return Vk(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Vk(e,t)}}function Vk(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,s=new Array(t);r<t;r++)s[r]=e[r];return s}function X1e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var s,a,i,o,l=[],c=!0,d=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(s=i.call(r)).done)&&(l.push(s.value),l.length!==t);c=!0);}catch(h){d=!0,a=h}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw a}}return l}}function Q1e(e){if(Array.isArray(e))return e}function qk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function gN(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?qk(Object(r),!0).forEach(function(s){J1e(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):qk(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function J1e(e,t,r){return t=Z1e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Z1e(e){var t=eje(e,"string");return Hv(t)=="symbol"?t:t+""}function eje(e,t){if(Hv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(Hv(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function tje(e){return Array.isArray(e)&&Zn(e[0])&&Zn(e[1])?e.join(" ~ "):e}var rje=function(t){var r=t.separator,s=r===void 0?" : ":r,a=t.contentStyle,i=a===void 0?{}:a,o=t.itemStyle,l=o===void 0?{}:o,c=t.labelStyle,d=c===void 0?{}:c,h=t.payload,u=t.formatter,f=t.itemSorter,m=t.wrapperClassName,v=t.labelClassName,x=t.label,p=t.labelFormatter,g=t.accessibilityLayer,b=g===void 0?!1:g,y=function(){if(h&&h.length){var A={padding:0,margin:0},O=(f?FE(h,f):h).map(function(D,F){if(D.type==="none")return null;var M=gN({display:"block",paddingTop:4,paddingBottom:4,color:D.color||"#000"},l),R=D.formatter||u||tje,B=D.value,U=D.name,H=B,q=U;if(R&&H!=null&&q!=null){var L=R(B,U,D,F,h);if(Array.isArray(L)){var V=G1e(L,2);H=V[0],q=V[1]}else H=L}return pe.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(F),style:M},Zn(q)?pe.createElement("span",{className:"recharts-tooltip-item-name"},q):null,Zn(q)?pe.createElement("span",{className:"recharts-tooltip-item-separator"},s):null,pe.createElement("span",{className:"recharts-tooltip-item-value"},H),pe.createElement("span",{className:"recharts-tooltip-item-unit"},D.unit||""))});return pe.createElement("ul",{className:"recharts-tooltip-item-list",style:A},O)}return null},j=gN({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},i),E=gN({margin:0},d),S=!rr(x),N=S?x:"",w=cr("recharts-default-tooltip",m),_=cr("recharts-tooltip-label",v);S&&p&&h!==void 0&&h!==null&&(N=p(x,h));var k=b?{role:"status","aria-live":"assertive"}:{};return pe.createElement("div",QS({className:w,style:j},k),pe.createElement("p",{className:_,style:E},pe.isValidElement(N)?N:"".concat(N)),y())};function Gv(e){"@babel/helpers - typeof";return Gv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gv(e)}function D0(e,t,r){return t=nje(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nje(e){var t=sje(e,"string");return Gv(t)=="symbol"?t:t+""}function sje(e,t){if(Gv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(Gv(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Np="recharts-tooltip-wrapper",aje={visibility:"hidden"};function ije(e){var t=e.coordinate,r=e.translateX,s=e.translateY;return cr(Np,D0(D0(D0(D0({},"".concat(Np,"-right"),it(r)&&t&&it(t.x)&&r>=t.x),"".concat(Np,"-left"),it(r)&&t&&it(t.x)&&r<t.x),"".concat(Np,"-bottom"),it(s)&&t&&it(t.y)&&s>=t.y),"".concat(Np,"-top"),it(s)&&t&&it(t.y)&&s<t.y))}function Wk(e){var t=e.allowEscapeViewBox,r=e.coordinate,s=e.key,a=e.offsetTopLeft,i=e.position,o=e.reverseDirection,l=e.tooltipDimension,c=e.viewBox,d=e.viewBoxDimension;if(i&&it(i[s]))return i[s];var h=r[s]-l-a,u=r[s]+a;if(t[s])return o[s]?h:u;if(o[s]){var f=h,m=c[s];return f<m?Math.max(u,c[s]):Math.max(h,c[s])}var v=u+l,x=c[s]+d;return v>x?Math.max(h,c[s]):Math.max(u,c[s])}function oje(e){var t=e.translateX,r=e.translateY,s=e.useTranslate3d;return{transform:s?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function lje(e){var t=e.allowEscapeViewBox,r=e.coordinate,s=e.offsetTopLeft,a=e.position,i=e.reverseDirection,o=e.tooltipBox,l=e.useTranslate3d,c=e.viewBox,d,h,u;return o.height>0&&o.width>0&&r?(h=Wk({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:s,position:a,reverseDirection:i,tooltipDimension:o.width,viewBox:c,viewBoxDimension:c.width}),u=Wk({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:s,position:a,reverseDirection:i,tooltipDimension:o.height,viewBox:c,viewBoxDimension:c.height}),d=oje({translateX:h,translateY:u,useTranslate3d:l})):d=aje,{cssProperties:d,cssClasses:ije({translateX:h,translateY:u,coordinate:r})}}function If(e){"@babel/helpers - typeof";return If=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},If(e)}function Hk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function Gk(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Hk(Object(r),!0).forEach(function(s){ZS(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Hk(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function cje(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Kk(e,t){for(var r=0;r<t.length;r++){var s=t[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,S9(s.key),s)}}function dje(e,t,r){return t&&Kk(e.prototype,t),r&&Kk(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function uje(e,t,r){return t=jb(t),hje(e,N9()?Reflect.construct(t,r||[],jb(e).constructor):t.apply(e,r))}function hje(e,t){if(t&&(If(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return fje(e)}function fje(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function N9(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(N9=function(){return!!e})()}function jb(e){return jb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},jb(e)}function mje(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&JS(e,t)}function JS(e,t){return JS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},JS(e,t)}function ZS(e,t,r){return t=S9(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function S9(e){var t=pje(e,"string");return If(t)=="symbol"?t:t+""}function pje(e,t){if(If(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(If(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Yk=1,vje=function(e){function t(){var r;cje(this,t);for(var s=arguments.length,a=new Array(s),i=0;i<s;i++)a[i]=arguments[i];return r=uje(this,t,[].concat(a)),ZS(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),ZS(r,"handleKeyDown",function(o){if(o.key==="Escape"){var l,c,d,h;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(l=(c=r.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&l!==void 0?l:0,y:(d=(h=r.props.coordinate)===null||h===void 0?void 0:h.y)!==null&&d!==void 0?d:0}})}}),r}return mje(t,e),dje(t,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var s=this.wrapperNode.getBoundingClientRect();(Math.abs(s.width-this.state.lastBoundingBox.width)>Yk||Math.abs(s.height-this.state.lastBoundingBox.height)>Yk)&&this.setState({lastBoundingBox:{width:s.width,height:s.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var s,a;this.props.active&&this.updateBBox(),this.state.dismissed&&(((s=this.props.coordinate)===null||s===void 0?void 0:s.x)!==this.state.dismissedAtCoordinate.x||((a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var s=this,a=this.props,i=a.active,o=a.allowEscapeViewBox,l=a.animationDuration,c=a.animationEasing,d=a.children,h=a.coordinate,u=a.hasPayload,f=a.isAnimationActive,m=a.offset,v=a.position,x=a.reverseDirection,p=a.useTranslate3d,g=a.viewBox,b=a.wrapperStyle,y=lje({allowEscapeViewBox:o,coordinate:h,offsetTopLeft:m,position:v,reverseDirection:x,tooltipBox:this.state.lastBoundingBox,useTranslate3d:p,viewBox:g}),j=y.cssClasses,E=y.cssProperties,S=Gk(Gk({transition:f&&i?"transform ".concat(l,"ms ").concat(c):void 0},E),{},{pointerEvents:"none",visibility:!this.state.dismissed&&i&&u?"visible":"hidden",position:"absolute",top:0,left:0},b);return pe.createElement("div",{tabIndex:-1,className:j,style:S,ref:function(w){s.wrapperNode=w}},d)}}])}(C.PureComponent),gje=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},zo={isSsr:gje(),get:function(t){return zo[t]},set:function(t,r){if(typeof t=="string")zo[t]=r;else{var s=Object.keys(t);s&&s.length&&s.forEach(function(a){zo[a]=t[a]})}}};function kf(e){"@babel/helpers - typeof";return kf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},kf(e)}function Xk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function Qk(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Xk(Object(r),!0).forEach(function(s){$E(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Xk(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function xje(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Jk(e,t){for(var r=0;r<t.length;r++){var s=t[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,A9(s.key),s)}}function yje(e,t,r){return t&&Jk(e.prototype,t),r&&Jk(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function bje(e,t,r){return t=wb(t),jje(e,C9()?Reflect.construct(t,r||[],wb(e).constructor):t.apply(e,r))}function jje(e,t){if(t&&(kf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return wje(e)}function wje(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function C9(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(C9=function(){return!!e})()}function wb(e){return wb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},wb(e)}function Nje(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&eC(e,t)}function eC(e,t){return eC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},eC(e,t)}function $E(e,t,r){return t=A9(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function A9(e){var t=Sje(e,"string");return kf(t)=="symbol"?t:t+""}function Sje(e,t){if(kf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(kf(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Cje(e){return e.dataKey}function Aje(e,t){return pe.isValidElement(e)?pe.cloneElement(e,t):typeof e=="function"?pe.createElement(e,t):pe.createElement(rje,t)}var ha=function(e){function t(){return xje(this,t),bje(this,t,arguments)}return Nje(t,e),yje(t,[{key:"render",value:function(){var s=this,a=this.props,i=a.active,o=a.allowEscapeViewBox,l=a.animationDuration,c=a.animationEasing,d=a.content,h=a.coordinate,u=a.filterNull,f=a.isAnimationActive,m=a.offset,v=a.payload,x=a.payloadUniqBy,p=a.position,g=a.reverseDirection,b=a.useTranslate3d,y=a.viewBox,j=a.wrapperStyle,E=v??[];u&&E.length&&(E=p9(v.filter(function(N){return N.value!=null&&(N.hide!==!0||s.props.includeHidden)}),x,Cje));var S=E.length>0;return pe.createElement(vje,{allowEscapeViewBox:o,animationDuration:l,animationEasing:c,isAnimationActive:f,active:i,coordinate:h,hasPayload:S,offset:m,position:p,reverseDirection:g,useTranslate3d:b,viewBox:y,wrapperStyle:j},Aje(d,Qk(Qk({},this.props),{},{payload:E})))}}])}(C.PureComponent);$E(ha,"displayName","Tooltip");$E(ha,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!zo.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var Eje=Qo,Pje=function(){return Eje.Date.now()},Tje=Pje,_je=/\s/;function Ije(e){for(var t=e.length;t--&&_je.test(e.charAt(t)););return t}var kje=Ije,Dje=kje,Oje=/^\s+/;function Lje(e){return e&&e.slice(0,Dje(e)+1).replace(Oje,"")}var Rje=Lje,Fje=Rje,Zk=ud,$je=mm,eD=0/0,Mje=/^[-+]0x[0-9a-f]+$/i,Bje=/^0b[01]+$/i,zje=/^0o[0-7]+$/i,Uje=parseInt;function Vje(e){if(typeof e=="number")return e;if($je(e))return eD;if(Zk(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=Zk(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=Fje(e);var r=Bje.test(e);return r||zje.test(e)?Uje(e.slice(2),r?2:8):Mje.test(e)?eD:+e}var E9=Vje,qje=ud,xN=Tje,tD=E9,Wje="Expected a function",Hje=Math.max,Gje=Math.min;function Kje(e,t,r){var s,a,i,o,l,c,d=0,h=!1,u=!1,f=!0;if(typeof e!="function")throw new TypeError(Wje);t=tD(t)||0,qje(r)&&(h=!!r.leading,u="maxWait"in r,i=u?Hje(tD(r.maxWait)||0,t):i,f="trailing"in r?!!r.trailing:f);function m(S){var N=s,w=a;return s=a=void 0,d=S,o=e.apply(w,N),o}function v(S){return d=S,l=setTimeout(g,t),h?m(S):o}function x(S){var N=S-c,w=S-d,_=t-N;return u?Gje(_,i-w):_}function p(S){var N=S-c,w=S-d;return c===void 0||N>=t||N<0||u&&w>=i}function g(){var S=xN();if(p(S))return b(S);l=setTimeout(g,x(S))}function b(S){return l=void 0,f&&s?m(S):(s=a=void 0,o)}function y(){l!==void 0&&clearTimeout(l),d=0,s=c=a=l=void 0}function j(){return l===void 0?o:b(xN())}function E(){var S=xN(),N=p(S);if(s=arguments,a=this,c=S,N){if(l===void 0)return v(c);if(u)return clearTimeout(l),l=setTimeout(g,t),m(c)}return l===void 0&&(l=setTimeout(g,t)),o}return E.cancel=y,E.flush=j,E}var Yje=Kje,Xje=Yje,Qje=ud,Jje="Expected a function";function Zje(e,t,r){var s=!0,a=!0;if(typeof e!="function")throw new TypeError(Jje);return Qje(r)&&(s="leading"in r?!!r.leading:s,a="trailing"in r?!!r.trailing:a),Xje(e,t,{leading:s,maxWait:t,trailing:a})}var ewe=Zje;const P9=Cr(ewe);function Kv(e){"@babel/helpers - typeof";return Kv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Kv(e)}function rD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function O0(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?rD(Object(r),!0).forEach(function(s){twe(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rD(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function twe(e,t,r){return t=rwe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rwe(e){var t=nwe(e,"string");return Kv(t)=="symbol"?t:t+""}function nwe(e,t){if(Kv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(Kv(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function swe(e,t){return lwe(e)||owe(e,t)||iwe(e,t)||awe()}function awe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function iwe(e,t){if(e){if(typeof e=="string")return nD(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return nD(e,t)}}function nD(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,s=new Array(t);r<t;r++)s[r]=e[r];return s}function owe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var s,a,i,o,l=[],c=!0,d=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(s=i.call(r)).done)&&(l.push(s.value),l.length!==t);c=!0);}catch(h){d=!0,a=h}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw a}}return l}}function lwe(e){if(Array.isArray(e))return e}var rv=C.forwardRef(function(e,t){var r=e.aspect,s=e.initialDimension,a=s===void 0?{width:-1,height:-1}:s,i=e.width,o=i===void 0?"100%":i,l=e.height,c=l===void 0?"100%":l,d=e.minWidth,h=d===void 0?0:d,u=e.minHeight,f=e.maxHeight,m=e.children,v=e.debounce,x=v===void 0?0:v,p=e.id,g=e.className,b=e.onResize,y=e.style,j=y===void 0?{}:y,E=C.useRef(null),S=C.useRef();S.current=b,C.useImperativeHandle(t,function(){return Object.defineProperty(E.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),E.current},configurable:!0})});var N=C.useState({containerWidth:a.width,containerHeight:a.height}),w=swe(N,2),_=w[0],k=w[1],T=C.useCallback(function(O,D){k(function(F){var M=Math.round(O),R=Math.round(D);return F.containerWidth===M&&F.containerHeight===R?F:{containerWidth:M,containerHeight:R}})},[]);C.useEffect(function(){var O=function(U){var H,q=U[0].contentRect,L=q.width,V=q.height;T(L,V),(H=S.current)===null||H===void 0||H.call(S,L,V)};x>0&&(O=P9(O,x,{trailing:!0,leading:!1}));var D=new ResizeObserver(O),F=E.current.getBoundingClientRect(),M=F.width,R=F.height;return T(M,R),D.observe(E.current),function(){D.disconnect()}},[T,x]);var A=C.useMemo(function(){var O=_.containerWidth,D=_.containerHeight;if(O<0||D<0)return null;Al(Qd(o)||Qd(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,c),Al(!r||r>0,"The aspect(%s) must be greater than zero.",r);var F=Qd(o)?O:o,M=Qd(c)?D:c;r&&r>0&&(F?M=F/r:M&&(F=M*r),f&&M>f&&(M=f)),Al(F>0||M>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,F,M,o,c,h,u,r);var R=!Array.isArray(m)&&Cl(m.type).endsWith("Chart");return pe.Children.map(m,function(B){return pe.isValidElement(B)?C.cloneElement(B,O0({width:F,height:M},R?{style:O0({height:"100%",width:"100%",maxHeight:M,maxWidth:F},B.props.style)}:{})):B})},[r,m,c,f,u,h,_,o]);return pe.createElement("div",{id:p?"".concat(p):void 0,className:cr("recharts-responsive-container",g),style:O0(O0({},j),{},{width:o,height:c,minWidth:h,minHeight:u,maxHeight:f}),ref:E},A)}),T9=function(t){return null};T9.displayName="Cell";function Yv(e){"@babel/helpers - typeof";return Yv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Yv(e)}function sD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function tC(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?sD(Object(r),!0).forEach(function(s){cwe(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):sD(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function cwe(e,t,r){return t=dwe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function dwe(e){var t=uwe(e,"string");return Yv(t)=="symbol"?t:t+""}function uwe(e,t){if(Yv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(Yv(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var wh={widthCache:{},cacheCount:0},hwe=2e3,fwe={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},aD="recharts_measurement_span";function mwe(e){var t=tC({},e);return Object.keys(t).forEach(function(r){t[r]||delete t[r]}),t}var nv=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||zo.isSsr)return{width:0,height:0};var s=mwe(r),a=JSON.stringify({text:t,copyStyle:s});if(wh.widthCache[a])return wh.widthCache[a];try{var i=document.getElementById(aD);i||(i=document.createElement("span"),i.setAttribute("id",aD),i.setAttribute("aria-hidden","true"),document.body.appendChild(i));var o=tC(tC({},fwe),s);Object.assign(i.style,o),i.textContent="".concat(t);var l=i.getBoundingClientRect(),c={width:l.width,height:l.height};return wh.widthCache[a]=c,++wh.cacheCount>hwe&&(wh.cacheCount=0,wh.widthCache={}),c}catch{return{width:0,height:0}}},pwe=function(t){return{top:t.top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft}};function Xv(e){"@babel/helpers - typeof";return Xv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xv(e)}function Nb(e,t){return ywe(e)||xwe(e,t)||gwe(e,t)||vwe()}function vwe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gwe(e,t){if(e){if(typeof e=="string")return iD(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return iD(e,t)}}function iD(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,s=new Array(t);r<t;r++)s[r]=e[r];return s}function xwe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var s,a,i,o,l=[],c=!0,d=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(s=i.call(r)).done)&&(l.push(s.value),l.length!==t);c=!0);}catch(h){d=!0,a=h}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw a}}return l}}function ywe(e){if(Array.isArray(e))return e}function bwe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function oD(e,t){for(var r=0;r<t.length;r++){var s=t[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,wwe(s.key),s)}}function jwe(e,t,r){return t&&oD(e.prototype,t),r&&oD(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function wwe(e){var t=Nwe(e,"string");return Xv(t)=="symbol"?t:t+""}function Nwe(e,t){if(Xv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(Xv(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var lD=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,cD=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Swe=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Cwe=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,_9={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},Awe=Object.keys(_9),Hh="NaN";function Ewe(e,t){return e*_9[t]}var L0=function(){function e(t,r){bwe(this,e),this.num=t,this.unit=r,this.num=t,this.unit=r,Number.isNaN(t)&&(this.unit=""),r!==""&&!Swe.test(r)&&(this.num=NaN,this.unit=""),Awe.includes(r)&&(this.num=Ewe(t,r),this.unit="px")}return jwe(e,[{key:"add",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var s,a=(s=Cwe.exec(r))!==null&&s!==void 0?s:[],i=Nb(a,3),o=i[1],l=i[2];return new e(parseFloat(o),l??"")}}])}();function I9(e){if(e.includes(Hh))return Hh;for(var t=e;t.includes("*")||t.includes("/");){var r,s=(r=lD.exec(t))!==null&&r!==void 0?r:[],a=Nb(s,4),i=a[1],o=a[2],l=a[3],c=L0.parse(i??""),d=L0.parse(l??""),h=o==="*"?c.multiply(d):c.divide(d);if(h.isNaN())return Hh;t=t.replace(lD,h.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var u,f=(u=cD.exec(t))!==null&&u!==void 0?u:[],m=Nb(f,4),v=m[1],x=m[2],p=m[3],g=L0.parse(v??""),b=L0.parse(p??""),y=x==="+"?g.add(b):g.subtract(b);if(y.isNaN())return Hh;t=t.replace(cD,y.toString())}return t}var dD=/\(([^()]*)\)/;function Pwe(e){for(var t=e;t.includes("(");){var r=dD.exec(t),s=Nb(r,2),a=s[1];t=t.replace(dD,I9(a))}return t}function Twe(e){var t=e.replace(/\s+/g,"");return t=Pwe(t),t=I9(t),t}function _we(e){try{return Twe(e)}catch{return Hh}}function yN(e){var t=_we(e.slice(5,-1));return t===Hh?"":t}var Iwe=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],kwe=["dx","dy","angle","className","breakAll"];function rC(){return rC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},rC.apply(this,arguments)}function uD(e,t){if(e==null)return{};var r=Dwe(e,t),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(r[s]=e[s])}return r}function Dwe(e,t){if(e==null)return{};var r={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;r[s]=e[s]}return r}function hD(e,t){return Fwe(e)||Rwe(e,t)||Lwe(e,t)||Owe()}function Owe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Lwe(e,t){if(e){if(typeof e=="string")return fD(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return fD(e,t)}}function fD(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,s=new Array(t);r<t;r++)s[r]=e[r];return s}function Rwe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var s,a,i,o,l=[],c=!0,d=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(s=i.call(r)).done)&&(l.push(s.value),l.length!==t);c=!0);}catch(h){d=!0,a=h}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw a}}return l}}function Fwe(e){if(Array.isArray(e))return e}var k9=/[ \f\n\r\t\v\u2028\u2029]+/,D9=function(t){var r=t.children,s=t.breakAll,a=t.style;try{var i=[];rr(r)||(s?i=r.toString().split(""):i=r.toString().split(k9));var o=i.map(function(c){return{word:c,width:nv(c,a).width}}),l=s?0:nv("",a).width;return{wordsWithComputedWidth:o,spaceWidth:l}}catch{return null}},$we=function(t,r,s,a,i){var o=t.maxLines,l=t.children,c=t.style,d=t.breakAll,h=it(o),u=l,f=function(){var F=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return F.reduce(function(M,R){var B=R.word,U=R.width,H=M[M.length-1];if(H&&(a==null||i||H.width+U+s<Number(a)))H.words.push(B),H.width+=U+s;else{var q={words:[B],width:U};M.push(q)}return M},[])},m=f(r),v=function(F){return F.reduce(function(M,R){return M.width>R.width?M:R})};if(!h)return m;for(var x="",p=function(F){var M=u.slice(0,F),R=D9({breakAll:d,style:c,children:M+x}).wordsWithComputedWidth,B=f(R),U=B.length>o||v(B).width>Number(a);return[U,B]},g=0,b=u.length-1,y=0,j;g<=b&&y<=u.length-1;){var E=Math.floor((g+b)/2),S=E-1,N=p(S),w=hD(N,2),_=w[0],k=w[1],T=p(E),A=hD(T,1),O=A[0];if(!_&&!O&&(g=E+1),_&&O&&(b=E-1),!_&&O){j=k;break}y++}return j||m},mD=function(t){var r=rr(t)?[]:t.toString().split(k9);return[{words:r}]},Mwe=function(t){var r=t.width,s=t.scaleToFit,a=t.children,i=t.style,o=t.breakAll,l=t.maxLines;if((r||s)&&!zo.isSsr){var c,d,h=D9({breakAll:o,children:a,style:i});if(h){var u=h.wordsWithComputedWidth,f=h.spaceWidth;c=u,d=f}else return mD(a);return $we({breakAll:o,children:a,maxLines:l,style:i},c,d,r,s)}return mD(a)},pD="#808080",Sb=function(t){var r=t.x,s=r===void 0?0:r,a=t.y,i=a===void 0?0:a,o=t.lineHeight,l=o===void 0?"1em":o,c=t.capHeight,d=c===void 0?"0.71em":c,h=t.scaleToFit,u=h===void 0?!1:h,f=t.textAnchor,m=f===void 0?"start":f,v=t.verticalAnchor,x=v===void 0?"end":v,p=t.fill,g=p===void 0?pD:p,b=uD(t,Iwe),y=C.useMemo(function(){return Mwe({breakAll:b.breakAll,children:b.children,maxLines:b.maxLines,scaleToFit:u,style:b.style,width:b.width})},[b.breakAll,b.children,b.maxLines,u,b.style,b.width]),j=b.dx,E=b.dy,S=b.angle,N=b.className,w=b.breakAll,_=uD(b,kwe);if(!Zn(s)||!Zn(i))return null;var k=s+(it(j)?j:0),T=i+(it(E)?E:0),A;switch(x){case"start":A=yN("calc(".concat(d,")"));break;case"middle":A=yN("calc(".concat((y.length-1)/2," * -").concat(l," + (").concat(d," / 2))"));break;default:A=yN("calc(".concat(y.length-1," * -").concat(l,")"));break}var O=[];if(u){var D=y[0].width,F=b.width;O.push("scale(".concat((it(F)?F/D:1)/D,")"))}return S&&O.push("rotate(".concat(S,", ").concat(k,", ").concat(T,")")),O.length&&(_.transform=O.join(" ")),pe.createElement("text",rC({},er(_,!0),{x:k,y:T,className:cr("recharts-text",N),textAnchor:m,fill:g.includes("url")?pD:g}),y.map(function(M,R){var B=M.words.join(w?"":" ");return pe.createElement("tspan",{x:k,dy:R===0?A:l,key:"".concat(B,"-").concat(R)},B)}))};function Hc(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Bwe(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function ME(e){let t,r,s;e.length!==2?(t=Hc,r=(l,c)=>Hc(e(l),c),s=(l,c)=>e(l)-c):(t=e===Hc||e===Bwe?e:zwe,r=e,s=e);function a(l,c,d=0,h=l.length){if(d<h){if(t(c,c)!==0)return h;do{const u=d+h>>>1;r(l[u],c)<0?d=u+1:h=u}while(d<h)}return d}function i(l,c,d=0,h=l.length){if(d<h){if(t(c,c)!==0)return h;do{const u=d+h>>>1;r(l[u],c)<=0?d=u+1:h=u}while(d<h)}return d}function o(l,c,d=0,h=l.length){const u=a(l,c,d,h-1);return u>d&&s(l[u-1],c)>-s(l[u],c)?u-1:u}return{left:a,center:o,right:i}}function zwe(){return 0}function O9(e){return e===null?NaN:+e}function*Uwe(e,t){if(t===void 0)for(let r of e)r!=null&&(r=+r)>=r&&(yield r);else{let r=-1;for(let s of e)(s=t(s,++r,e))!=null&&(s=+s)>=s&&(yield s)}}const Vwe=ME(Hc),qwe=Vwe.right;ME(O9).center;const Xg=qwe;class vD extends Map{constructor(t,r=Gwe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[s,a]of t)this.set(s,a)}get(t){return super.get(gD(this,t))}has(t){return super.has(gD(this,t))}set(t,r){return super.set(Wwe(this,t),r)}delete(t){return super.delete(Hwe(this,t))}}function gD({_intern:e,_key:t},r){const s=t(r);return e.has(s)?e.get(s):r}function Wwe({_intern:e,_key:t},r){const s=t(r);return e.has(s)?e.get(s):(e.set(s,r),r)}function Hwe({_intern:e,_key:t},r){const s=t(r);return e.has(s)&&(r=e.get(s),e.delete(s)),r}function Gwe(e){return e!==null&&typeof e=="object"?e.valueOf():e}function Kwe(e=Hc){if(e===Hc)return L9;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const s=e(t,r);return s||s===0?s:(e(r,r)===0)-(e(t,t)===0)}}function L9(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const Ywe=Math.sqrt(50),Xwe=Math.sqrt(10),Qwe=Math.sqrt(2);function Cb(e,t,r){const s=(t-e)/Math.max(0,r),a=Math.floor(Math.log10(s)),i=s/Math.pow(10,a),o=i>=Ywe?10:i>=Xwe?5:i>=Qwe?2:1;let l,c,d;return a<0?(d=Math.pow(10,-a)/o,l=Math.round(e*d),c=Math.round(t*d),l/d<e&&++l,c/d>t&&--c,d=-d):(d=Math.pow(10,a)*o,l=Math.round(e/d),c=Math.round(t/d),l*d<e&&++l,c*d>t&&--c),c<l&&.5<=r&&r<2?Cb(e,t,r*2):[l,c,d]}function nC(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const s=t<e,[a,i,o]=s?Cb(t,e,r):Cb(e,t,r);if(!(i>=a))return[];const l=i-a+1,c=new Array(l);if(s)if(o<0)for(let d=0;d<l;++d)c[d]=(i-d)/-o;else for(let d=0;d<l;++d)c[d]=(i-d)*o;else if(o<0)for(let d=0;d<l;++d)c[d]=(a+d)/-o;else for(let d=0;d<l;++d)c[d]=(a+d)*o;return c}function sC(e,t,r){return t=+t,e=+e,r=+r,Cb(e,t,r)[2]}function aC(e,t,r){t=+t,e=+e,r=+r;const s=t<e,a=s?sC(t,e,r):sC(e,t,r);return(s?-1:1)*(a<0?1/-a:a)}function xD(e,t){let r;if(t===void 0)for(const s of e)s!=null&&(r<s||r===void 0&&s>=s)&&(r=s);else{let s=-1;for(let a of e)(a=t(a,++s,e))!=null&&(r<a||r===void 0&&a>=a)&&(r=a)}return r}function yD(e,t){let r;if(t===void 0)for(const s of e)s!=null&&(r>s||r===void 0&&s>=s)&&(r=s);else{let s=-1;for(let a of e)(a=t(a,++s,e))!=null&&(r>a||r===void 0&&a>=a)&&(r=a)}return r}function R9(e,t,r=0,s=1/0,a){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),s=Math.floor(Math.min(e.length-1,s)),!(r<=t&&t<=s))return e;for(a=a===void 0?L9:Kwe(a);s>r;){if(s-r>600){const c=s-r+1,d=t-r+1,h=Math.log(c),u=.5*Math.exp(2*h/3),f=.5*Math.sqrt(h*u*(c-u)/c)*(d-c/2<0?-1:1),m=Math.max(r,Math.floor(t-d*u/c+f)),v=Math.min(s,Math.floor(t+(c-d)*u/c+f));R9(e,t,m,v,a)}const i=e[t];let o=r,l=s;for(Sp(e,r,t),a(e[s],i)>0&&Sp(e,r,s);o<l;){for(Sp(e,o,l),++o,--l;a(e[o],i)<0;)++o;for(;a(e[l],i)>0;)--l}a(e[r],i)===0?Sp(e,r,l):(++l,Sp(e,l,s)),l<=t&&(r=l+1),t<=l&&(s=l-1)}return e}function Sp(e,t,r){const s=e[t];e[t]=e[r],e[r]=s}function Jwe(e,t,r){if(e=Float64Array.from(Uwe(e,r)),!(!(s=e.length)||isNaN(t=+t))){if(t<=0||s<2)return yD(e);if(t>=1)return xD(e);var s,a=(s-1)*t,i=Math.floor(a),o=xD(R9(e,i).subarray(0,i+1)),l=yD(e.subarray(i+1));return o+(l-o)*(a-i)}}function Zwe(e,t,r=O9){if(!(!(s=e.length)||isNaN(t=+t))){if(t<=0||s<2)return+r(e[0],0,e);if(t>=1)return+r(e[s-1],s-1,e);var s,a=(s-1)*t,i=Math.floor(a),o=+r(e[i],i,e),l=+r(e[i+1],i+1,e);return o+(l-o)*(a-i)}}function e2e(e,t,r){e=+e,t=+t,r=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+r;for(var s=-1,a=Math.max(0,Math.ceil((t-e)/r))|0,i=new Array(a);++s<a;)i[s]=e+s*r;return i}function Ni(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Hl(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const iC=Symbol("implicit");function BE(){var e=new vD,t=[],r=[],s=iC;function a(i){let o=e.get(i);if(o===void 0){if(s!==iC)return s;e.set(i,o=t.push(i)-1)}return r[o%r.length]}return a.domain=function(i){if(!arguments.length)return t.slice();t=[],e=new vD;for(const o of i)e.has(o)||e.set(o,t.push(o)-1);return a},a.range=function(i){return arguments.length?(r=Array.from(i),a):r.slice()},a.unknown=function(i){return arguments.length?(s=i,a):s},a.copy=function(){return BE(t,r).unknown(s)},Ni.apply(a,arguments),a}function Qv(){var e=BE().unknown(void 0),t=e.domain,r=e.range,s=0,a=1,i,o,l=!1,c=0,d=0,h=.5;delete e.unknown;function u(){var f=t().length,m=a<s,v=m?a:s,x=m?s:a;i=(x-v)/Math.max(1,f-c+d*2),l&&(i=Math.floor(i)),v+=(x-v-i*(f-c))*h,o=i*(1-c),l&&(v=Math.round(v),o=Math.round(o));var p=e2e(f).map(function(g){return v+i*g});return r(m?p.reverse():p)}return e.domain=function(f){return arguments.length?(t(f),u()):t()},e.range=function(f){return arguments.length?([s,a]=f,s=+s,a=+a,u()):[s,a]},e.rangeRound=function(f){return[s,a]=f,s=+s,a=+a,l=!0,u()},e.bandwidth=function(){return o},e.step=function(){return i},e.round=function(f){return arguments.length?(l=!!f,u()):l},e.padding=function(f){return arguments.length?(c=Math.min(1,d=+f),u()):c},e.paddingInner=function(f){return arguments.length?(c=Math.min(1,f),u()):c},e.paddingOuter=function(f){return arguments.length?(d=+f,u()):d},e.align=function(f){return arguments.length?(h=Math.max(0,Math.min(1,f)),u()):h},e.copy=function(){return Qv(t(),[s,a]).round(l).paddingInner(c).paddingOuter(d).align(h)},Ni.apply(u(),arguments)}function F9(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return F9(t())},e}function sv(){return F9(Qv.apply(null,arguments).paddingInner(1))}function zE(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function $9(e,t){var r=Object.create(e.prototype);for(var s in t)r[s]=t[s];return r}function Qg(){}var Jv=.7,Ab=1/Jv,lf="\\s*([+-]?\\d+)\\s*",Zv="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Uo="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",t2e=/^#([0-9a-f]{3,8})$/,r2e=new RegExp(`^rgb\\(${lf},${lf},${lf}\\)$`),n2e=new RegExp(`^rgb\\(${Uo},${Uo},${Uo}\\)$`),s2e=new RegExp(`^rgba\\(${lf},${lf},${lf},${Zv}\\)$`),a2e=new RegExp(`^rgba\\(${Uo},${Uo},${Uo},${Zv}\\)$`),i2e=new RegExp(`^hsl\\(${Zv},${Uo},${Uo}\\)$`),o2e=new RegExp(`^hsla\\(${Zv},${Uo},${Uo},${Zv}\\)$`),bD={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};zE(Qg,eg,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:jD,formatHex:jD,formatHex8:l2e,formatHsl:c2e,formatRgb:wD,toString:wD});function jD(){return this.rgb().formatHex()}function l2e(){return this.rgb().formatHex8()}function c2e(){return M9(this).formatHsl()}function wD(){return this.rgb().formatRgb()}function eg(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=t2e.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?ND(t):r===3?new ga(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?R0(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?R0(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=r2e.exec(e))?new ga(t[1],t[2],t[3],1):(t=n2e.exec(e))?new ga(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=s2e.exec(e))?R0(t[1],t[2],t[3],t[4]):(t=a2e.exec(e))?R0(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=i2e.exec(e))?AD(t[1],t[2]/100,t[3]/100,1):(t=o2e.exec(e))?AD(t[1],t[2]/100,t[3]/100,t[4]):bD.hasOwnProperty(e)?ND(bD[e]):e==="transparent"?new ga(NaN,NaN,NaN,0):null}function ND(e){return new ga(e>>16&255,e>>8&255,e&255,1)}function R0(e,t,r,s){return s<=0&&(e=t=r=NaN),new ga(e,t,r,s)}function d2e(e){return e instanceof Qg||(e=eg(e)),e?(e=e.rgb(),new ga(e.r,e.g,e.b,e.opacity)):new ga}function oC(e,t,r,s){return arguments.length===1?d2e(e):new ga(e,t,r,s??1)}function ga(e,t,r,s){this.r=+e,this.g=+t,this.b=+r,this.opacity=+s}zE(ga,oC,$9(Qg,{brighter(e){return e=e==null?Ab:Math.pow(Ab,e),new ga(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Jv:Math.pow(Jv,e),new ga(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new ga(cu(this.r),cu(this.g),cu(this.b),Eb(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:SD,formatHex:SD,formatHex8:u2e,formatRgb:CD,toString:CD}));function SD(){return`#${Jd(this.r)}${Jd(this.g)}${Jd(this.b)}`}function u2e(){return`#${Jd(this.r)}${Jd(this.g)}${Jd(this.b)}${Jd((isNaN(this.opacity)?1:this.opacity)*255)}`}function CD(){const e=Eb(this.opacity);return`${e===1?"rgb(":"rgba("}${cu(this.r)}, ${cu(this.g)}, ${cu(this.b)}${e===1?")":`, ${e})`}`}function Eb(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function cu(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Jd(e){return e=cu(e),(e<16?"0":"")+e.toString(16)}function AD(e,t,r,s){return s<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new Yi(e,t,r,s)}function M9(e){if(e instanceof Yi)return new Yi(e.h,e.s,e.l,e.opacity);if(e instanceof Qg||(e=eg(e)),!e)return new Yi;if(e instanceof Yi)return e;e=e.rgb();var t=e.r/255,r=e.g/255,s=e.b/255,a=Math.min(t,r,s),i=Math.max(t,r,s),o=NaN,l=i-a,c=(i+a)/2;return l?(t===i?o=(r-s)/l+(r<s)*6:r===i?o=(s-t)/l+2:o=(t-r)/l+4,l/=c<.5?i+a:2-i-a,o*=60):l=c>0&&c<1?0:o,new Yi(o,l,c,e.opacity)}function h2e(e,t,r,s){return arguments.length===1?M9(e):new Yi(e,t,r,s??1)}function Yi(e,t,r,s){this.h=+e,this.s=+t,this.l=+r,this.opacity=+s}zE(Yi,h2e,$9(Qg,{brighter(e){return e=e==null?Ab:Math.pow(Ab,e),new Yi(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Jv:Math.pow(Jv,e),new Yi(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,s=r+(r<.5?r:1-r)*t,a=2*r-s;return new ga(bN(e>=240?e-240:e+120,a,s),bN(e,a,s),bN(e<120?e+240:e-120,a,s),this.opacity)},clamp(){return new Yi(ED(this.h),F0(this.s),F0(this.l),Eb(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Eb(this.opacity);return`${e===1?"hsl(":"hsla("}${ED(this.h)}, ${F0(this.s)*100}%, ${F0(this.l)*100}%${e===1?")":`, ${e})`}`}}));function ED(e){return e=(e||0)%360,e<0?e+360:e}function F0(e){return Math.max(0,Math.min(1,e||0))}function bN(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const UE=e=>()=>e;function f2e(e,t){return function(r){return e+r*t}}function m2e(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(s){return Math.pow(e+s*t,r)}}function p2e(e){return(e=+e)==1?B9:function(t,r){return r-t?m2e(t,r,e):UE(isNaN(t)?r:t)}}function B9(e,t){var r=t-e;return r?f2e(e,r):UE(isNaN(e)?t:e)}const PD=function e(t){var r=p2e(t);function s(a,i){var o=r((a=oC(a)).r,(i=oC(i)).r),l=r(a.g,i.g),c=r(a.b,i.b),d=B9(a.opacity,i.opacity);return function(h){return a.r=o(h),a.g=l(h),a.b=c(h),a.opacity=d(h),a+""}}return s.gamma=e,s}(1);function v2e(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,s=t.slice(),a;return function(i){for(a=0;a<r;++a)s[a]=e[a]*(1-i)+t[a]*i;return s}}function g2e(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function x2e(e,t){var r=t?t.length:0,s=e?Math.min(r,e.length):0,a=new Array(s),i=new Array(r),o;for(o=0;o<s;++o)a[o]=Sm(e[o],t[o]);for(;o<r;++o)i[o]=t[o];return function(l){for(o=0;o<s;++o)i[o]=a[o](l);return i}}function y2e(e,t){var r=new Date;return e=+e,t=+t,function(s){return r.setTime(e*(1-s)+t*s),r}}function Pb(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function b2e(e,t){var r={},s={},a;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(a in t)a in e?r[a]=Sm(e[a],t[a]):s[a]=t[a];return function(i){for(a in r)s[a]=r[a](i);return s}}var lC=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,jN=new RegExp(lC.source,"g");function j2e(e){return function(){return e}}function w2e(e){return function(t){return e(t)+""}}function N2e(e,t){var r=lC.lastIndex=jN.lastIndex=0,s,a,i,o=-1,l=[],c=[];for(e=e+"",t=t+"";(s=lC.exec(e))&&(a=jN.exec(t));)(i=a.index)>r&&(i=t.slice(r,i),l[o]?l[o]+=i:l[++o]=i),(s=s[0])===(a=a[0])?l[o]?l[o]+=a:l[++o]=a:(l[++o]=null,c.push({i:o,x:Pb(s,a)})),r=jN.lastIndex;return r<t.length&&(i=t.slice(r),l[o]?l[o]+=i:l[++o]=i),l.length<2?c[0]?w2e(c[0].x):j2e(t):(t=c.length,function(d){for(var h=0,u;h<t;++h)l[(u=c[h]).i]=u.x(d);return l.join("")})}function Sm(e,t){var r=typeof t,s;return t==null||r==="boolean"?UE(t):(r==="number"?Pb:r==="string"?(s=eg(t))?(t=s,PD):N2e:t instanceof eg?PD:t instanceof Date?y2e:g2e(t)?v2e:Array.isArray(t)?x2e:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?b2e:Pb)(e,t)}function VE(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function S2e(e,t){t===void 0&&(t=e,e=Sm);for(var r=0,s=t.length-1,a=t[0],i=new Array(s<0?0:s);r<s;)i[r]=e(a,a=t[++r]);return function(o){var l=Math.max(0,Math.min(s-1,Math.floor(o*=s)));return i[l](o-l)}}function C2e(e){return function(){return e}}function Tb(e){return+e}var TD=[0,1];function Js(e){return e}function cC(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:C2e(isNaN(t)?NaN:.5)}function A2e(e,t){var r;return e>t&&(r=e,e=t,t=r),function(s){return Math.max(e,Math.min(t,s))}}function E2e(e,t,r){var s=e[0],a=e[1],i=t[0],o=t[1];return a<s?(s=cC(a,s),i=r(o,i)):(s=cC(s,a),i=r(i,o)),function(l){return i(s(l))}}function P2e(e,t,r){var s=Math.min(e.length,t.length)-1,a=new Array(s),i=new Array(s),o=-1;for(e[s]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<s;)a[o]=cC(e[o],e[o+1]),i[o]=r(t[o],t[o+1]);return function(l){var c=Xg(e,l,1,s)-1;return i[c](a[c](l))}}function Jg(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Dj(){var e=TD,t=TD,r=Sm,s,a,i,o=Js,l,c,d;function h(){var f=Math.min(e.length,t.length);return o!==Js&&(o=A2e(e[0],e[f-1])),l=f>2?P2e:E2e,c=d=null,u}function u(f){return f==null||isNaN(f=+f)?i:(c||(c=l(e.map(s),t,r)))(s(o(f)))}return u.invert=function(f){return o(a((d||(d=l(t,e.map(s),Pb)))(f)))},u.domain=function(f){return arguments.length?(e=Array.from(f,Tb),h()):e.slice()},u.range=function(f){return arguments.length?(t=Array.from(f),h()):t.slice()},u.rangeRound=function(f){return t=Array.from(f),r=VE,h()},u.clamp=function(f){return arguments.length?(o=f?!0:Js,h()):o!==Js},u.interpolate=function(f){return arguments.length?(r=f,h()):r},u.unknown=function(f){return arguments.length?(i=f,u):i},function(f,m){return s=f,a=m,h()}}function qE(){return Dj()(Js,Js)}function T2e(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function _b(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,s=e.slice(0,r);return[s.length>1?s[0]+s.slice(2):s,+e.slice(r+1)]}function Df(e){return e=_b(Math.abs(e)),e?e[1]:NaN}function _2e(e,t){return function(r,s){for(var a=r.length,i=[],o=0,l=e[0],c=0;a>0&&l>0&&(c+l+1>s&&(l=Math.max(1,s-c)),i.push(r.substring(a-=l,a+l)),!((c+=l+1)>s));)l=e[o=(o+1)%e.length];return i.reverse().join(t)}}function I2e(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var k2e=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function tg(e){if(!(t=k2e.exec(e)))throw new Error("invalid format: "+e);var t;return new WE({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}tg.prototype=WE.prototype;function WE(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}WE.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function D2e(e){e:for(var t=e.length,r=1,s=-1,a;r<t;++r)switch(e[r]){case".":s=a=r;break;case"0":s===0&&(s=r),a=r;break;default:if(!+e[r])break e;s>0&&(s=0);break}return s>0?e.slice(0,s)+e.slice(a+1):e}var z9;function O2e(e,t){var r=_b(e,t);if(!r)return e+"";var s=r[0],a=r[1],i=a-(z9=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,o=s.length;return i===o?s:i>o?s+new Array(i-o+1).join("0"):i>0?s.slice(0,i)+"."+s.slice(i):"0."+new Array(1-i).join("0")+_b(e,Math.max(0,t+i-1))[0]}function _D(e,t){var r=_b(e,t);if(!r)return e+"";var s=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+s:s.length>a+1?s.slice(0,a+1)+"."+s.slice(a+1):s+new Array(a-s.length+2).join("0")}const ID={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:T2e,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>_D(e*100,t),r:_D,s:O2e,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function kD(e){return e}var DD=Array.prototype.map,OD=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function L2e(e){var t=e.grouping===void 0||e.thousands===void 0?kD:_2e(DD.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",s=e.currency===void 0?"":e.currency[1]+"",a=e.decimal===void 0?".":e.decimal+"",i=e.numerals===void 0?kD:I2e(DD.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",l=e.minus===void 0?"":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function d(u){u=tg(u);var f=u.fill,m=u.align,v=u.sign,x=u.symbol,p=u.zero,g=u.width,b=u.comma,y=u.precision,j=u.trim,E=u.type;E==="n"?(b=!0,E="g"):ID[E]||(y===void 0&&(y=12),j=!0,E="g"),(p||f==="0"&&m==="=")&&(p=!0,f="0",m="=");var S=x==="$"?r:x==="#"&&/[boxX]/.test(E)?"0"+E.toLowerCase():"",N=x==="$"?s:/[%p]/.test(E)?o:"",w=ID[E],_=/[defgprs%]/.test(E);y=y===void 0?6:/[gprs]/.test(E)?Math.max(1,Math.min(21,y)):Math.max(0,Math.min(20,y));function k(T){var A=S,O=N,D,F,M;if(E==="c")O=w(T)+O,T="";else{T=+T;var R=T<0||1/T<0;if(T=isNaN(T)?c:w(Math.abs(T),y),j&&(T=D2e(T)),R&&+T==0&&v!=="+"&&(R=!1),A=(R?v==="("?v:l:v==="-"||v==="("?"":v)+A,O=(E==="s"?OD[8+z9/3]:"")+O+(R&&v==="("?")":""),_){for(D=-1,F=T.length;++D<F;)if(M=T.charCodeAt(D),48>M||M>57){O=(M===46?a+T.slice(D+1):T.slice(D))+O,T=T.slice(0,D);break}}}b&&!p&&(T=t(T,1/0));var B=A.length+T.length+O.length,U=B<g?new Array(g-B+1).join(f):"";switch(b&&p&&(T=t(U+T,U.length?g-O.length:1/0),U=""),m){case"<":T=A+T+O+U;break;case"=":T=A+U+T+O;break;case"^":T=U.slice(0,B=U.length>>1)+A+T+O+U.slice(B);break;default:T=U+A+T+O;break}return i(T)}return k.toString=function(){return u+""},k}function h(u,f){var m=d((u=tg(u),u.type="f",u)),v=Math.max(-8,Math.min(8,Math.floor(Df(f)/3)))*3,x=Math.pow(10,-v),p=OD[8+v/3];return function(g){return m(x*g)+p}}return{format:d,formatPrefix:h}}var $0,HE,U9;R2e({thousands:",",grouping:[3],currency:["$",""]});function R2e(e){return $0=L2e(e),HE=$0.format,U9=$0.formatPrefix,$0}function F2e(e){return Math.max(0,-Df(Math.abs(e)))}function $2e(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Df(t)/3)))*3-Df(Math.abs(e)))}function M2e(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Df(t)-Df(e))+1}function V9(e,t,r,s){var a=aC(e,t,r),i;switch(s=tg(s??",f"),s.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return s.precision==null&&!isNaN(i=$2e(a,o))&&(s.precision=i),U9(s,o)}case"":case"e":case"g":case"p":case"r":{s.precision==null&&!isNaN(i=M2e(a,Math.max(Math.abs(e),Math.abs(t))))&&(s.precision=i-(s.type==="e"));break}case"f":case"%":{s.precision==null&&!isNaN(i=F2e(a))&&(s.precision=i-(s.type==="%")*2);break}}return HE(s)}function fd(e){var t=e.domain;return e.ticks=function(r){var s=t();return nC(s[0],s[s.length-1],r??10)},e.tickFormat=function(r,s){var a=t();return V9(a[0],a[a.length-1],r??10,s)},e.nice=function(r){r==null&&(r=10);var s=t(),a=0,i=s.length-1,o=s[a],l=s[i],c,d,h=10;for(l<o&&(d=o,o=l,l=d,d=a,a=i,i=d);h-- >0;){if(d=sC(o,l,r),d===c)return s[a]=o,s[i]=l,t(s);if(d>0)o=Math.floor(o/d)*d,l=Math.ceil(l/d)*d;else if(d<0)o=Math.ceil(o*d)/d,l=Math.floor(l*d)/d;else break;c=d}return e},e}function Ib(){var e=qE();return e.copy=function(){return Jg(e,Ib())},Ni.apply(e,arguments),fd(e)}function q9(e){var t;function r(s){return s==null||isNaN(s=+s)?t:s}return r.invert=r,r.domain=r.range=function(s){return arguments.length?(e=Array.from(s,Tb),r):e.slice()},r.unknown=function(s){return arguments.length?(t=s,r):t},r.copy=function(){return q9(e).unknown(t)},e=arguments.length?Array.from(e,Tb):[0,1],fd(r)}function W9(e,t){e=e.slice();var r=0,s=e.length-1,a=e[r],i=e[s],o;return i<a&&(o=r,r=s,s=o,o=a,a=i,i=o),e[r]=t.floor(a),e[s]=t.ceil(i),e}function LD(e){return Math.log(e)}function RD(e){return Math.exp(e)}function B2e(e){return-Math.log(-e)}function z2e(e){return-Math.exp(-e)}function U2e(e){return isFinite(e)?+("1e"+e):e<0?0:e}function V2e(e){return e===10?U2e:e===Math.E?Math.exp:t=>Math.pow(e,t)}function q2e(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function FD(e){return(t,r)=>-e(-t,r)}function GE(e){const t=e(LD,RD),r=t.domain;let s=10,a,i;function o(){return a=q2e(s),i=V2e(s),r()[0]<0?(a=FD(a),i=FD(i),e(B2e,z2e)):e(LD,RD),t}return t.base=function(l){return arguments.length?(s=+l,o()):s},t.domain=function(l){return arguments.length?(r(l),o()):r()},t.ticks=l=>{const c=r();let d=c[0],h=c[c.length-1];const u=h<d;u&&([d,h]=[h,d]);let f=a(d),m=a(h),v,x;const p=l==null?10:+l;let g=[];if(!(s%1)&&m-f<p){if(f=Math.floor(f),m=Math.ceil(m),d>0){for(;f<=m;++f)for(v=1;v<s;++v)if(x=f<0?v/i(-f):v*i(f),!(x<d)){if(x>h)break;g.push(x)}}else for(;f<=m;++f)for(v=s-1;v>=1;--v)if(x=f>0?v/i(-f):v*i(f),!(x<d)){if(x>h)break;g.push(x)}g.length*2<p&&(g=nC(d,h,p))}else g=nC(f,m,Math.min(m-f,p)).map(i);return u?g.reverse():g},t.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=s===10?"s":","),typeof c!="function"&&(!(s%1)&&(c=tg(c)).precision==null&&(c.trim=!0),c=HE(c)),l===1/0)return c;const d=Math.max(1,s*l/t.ticks().length);return h=>{let u=h/i(Math.round(a(h)));return u*s<s-.5&&(u*=s),u<=d?c(h):""}},t.nice=()=>r(W9(r(),{floor:l=>i(Math.floor(a(l))),ceil:l=>i(Math.ceil(a(l)))})),t}function H9(){const e=GE(Dj()).domain([1,10]);return e.copy=()=>Jg(e,H9()).base(e.base()),Ni.apply(e,arguments),e}function $D(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function MD(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function KE(e){var t=1,r=e($D(t),MD(t));return r.constant=function(s){return arguments.length?e($D(t=+s),MD(t)):t},fd(r)}function G9(){var e=KE(Dj());return e.copy=function(){return Jg(e,G9()).constant(e.constant())},Ni.apply(e,arguments)}function BD(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function W2e(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function H2e(e){return e<0?-e*e:e*e}function YE(e){var t=e(Js,Js),r=1;function s(){return r===1?e(Js,Js):r===.5?e(W2e,H2e):e(BD(r),BD(1/r))}return t.exponent=function(a){return arguments.length?(r=+a,s()):r},fd(t)}function XE(){var e=YE(Dj());return e.copy=function(){return Jg(e,XE()).exponent(e.exponent())},Ni.apply(e,arguments),e}function G2e(){return XE.apply(null,arguments).exponent(.5)}function zD(e){return Math.sign(e)*e*e}function K2e(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function K9(){var e=qE(),t=[0,1],r=!1,s;function a(i){var o=K2e(e(i));return isNaN(o)?s:r?Math.round(o):o}return a.invert=function(i){return e.invert(zD(i))},a.domain=function(i){return arguments.length?(e.domain(i),a):e.domain()},a.range=function(i){return arguments.length?(e.range((t=Array.from(i,Tb)).map(zD)),a):t.slice()},a.rangeRound=function(i){return a.range(i).round(!0)},a.round=function(i){return arguments.length?(r=!!i,a):r},a.clamp=function(i){return arguments.length?(e.clamp(i),a):e.clamp()},a.unknown=function(i){return arguments.length?(s=i,a):s},a.copy=function(){return K9(e.domain(),t).round(r).clamp(e.clamp()).unknown(s)},Ni.apply(a,arguments),fd(a)}function Y9(){var e=[],t=[],r=[],s;function a(){var o=0,l=Math.max(1,t.length);for(r=new Array(l-1);++o<l;)r[o-1]=Zwe(e,o/l);return i}function i(o){return o==null||isNaN(o=+o)?s:t[Xg(r,o)]}return i.invertExtent=function(o){var l=t.indexOf(o);return l<0?[NaN,NaN]:[l>0?r[l-1]:e[0],l<r.length?r[l]:e[e.length-1]]},i.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let l of o)l!=null&&!isNaN(l=+l)&&e.push(l);return e.sort(Hc),a()},i.range=function(o){return arguments.length?(t=Array.from(o),a()):t.slice()},i.unknown=function(o){return arguments.length?(s=o,i):s},i.quantiles=function(){return r.slice()},i.copy=function(){return Y9().domain(e).range(t).unknown(s)},Ni.apply(i,arguments)}function X9(){var e=0,t=1,r=1,s=[.5],a=[0,1],i;function o(c){return c!=null&&c<=c?a[Xg(s,c,0,r)]:i}function l(){var c=-1;for(s=new Array(r);++c<r;)s[c]=((c+1)*t-(c-r)*e)/(r+1);return o}return o.domain=function(c){return arguments.length?([e,t]=c,e=+e,t=+t,l()):[e,t]},o.range=function(c){return arguments.length?(r=(a=Array.from(c)).length-1,l()):a.slice()},o.invertExtent=function(c){var d=a.indexOf(c);return d<0?[NaN,NaN]:d<1?[e,s[0]]:d>=r?[s[r-1],t]:[s[d-1],s[d]]},o.unknown=function(c){return arguments.length&&(i=c),o},o.thresholds=function(){return s.slice()},o.copy=function(){return X9().domain([e,t]).range(a).unknown(i)},Ni.apply(fd(o),arguments)}function Q9(){var e=[.5],t=[0,1],r,s=1;function a(i){return i!=null&&i<=i?t[Xg(e,i,0,s)]:r}return a.domain=function(i){return arguments.length?(e=Array.from(i),s=Math.min(e.length,t.length-1),a):e.slice()},a.range=function(i){return arguments.length?(t=Array.from(i),s=Math.min(e.length,t.length-1),a):t.slice()},a.invertExtent=function(i){var o=t.indexOf(i);return[e[o-1],e[o]]},a.unknown=function(i){return arguments.length?(r=i,a):r},a.copy=function(){return Q9().domain(e).range(t).unknown(r)},Ni.apply(a,arguments)}const wN=new Date,NN=new Date;function ts(e,t,r,s){function a(i){return e(i=arguments.length===0?new Date:new Date(+i)),i}return a.floor=i=>(e(i=new Date(+i)),i),a.ceil=i=>(e(i=new Date(i-1)),t(i,1),e(i),i),a.round=i=>{const o=a(i),l=a.ceil(i);return i-o<l-i?o:l},a.offset=(i,o)=>(t(i=new Date(+i),o==null?1:Math.floor(o)),i),a.range=(i,o,l)=>{const c=[];if(i=a.ceil(i),l=l==null?1:Math.floor(l),!(i<o)||!(l>0))return c;let d;do c.push(d=new Date(+i)),t(i,l),e(i);while(d<i&&i<o);return c},a.filter=i=>ts(o=>{if(o>=o)for(;e(o),!i(o);)o.setTime(o-1)},(o,l)=>{if(o>=o)if(l<0)for(;++l<=0;)for(;t(o,-1),!i(o););else for(;--l>=0;)for(;t(o,1),!i(o););}),r&&(a.count=(i,o)=>(wN.setTime(+i),NN.setTime(+o),e(wN),e(NN),Math.floor(r(wN,NN))),a.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?a.filter(s?o=>s(o)%i===0:o=>a.count(0,o)%i===0):a)),a}const kb=ts(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);kb.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?ts(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):kb);kb.range;const jl=1e3,hi=jl*60,wl=hi*60,Ml=wl*24,QE=Ml*7,UD=Ml*30,SN=Ml*365,Zd=ts(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*jl)},(e,t)=>(t-e)/jl,e=>e.getUTCSeconds());Zd.range;const JE=ts(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*jl)},(e,t)=>{e.setTime(+e+t*hi)},(e,t)=>(t-e)/hi,e=>e.getMinutes());JE.range;const ZE=ts(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*hi)},(e,t)=>(t-e)/hi,e=>e.getUTCMinutes());ZE.range;const eP=ts(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*jl-e.getMinutes()*hi)},(e,t)=>{e.setTime(+e+t*wl)},(e,t)=>(t-e)/wl,e=>e.getHours());eP.range;const tP=ts(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*wl)},(e,t)=>(t-e)/wl,e=>e.getUTCHours());tP.range;const Zg=ts(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*hi)/Ml,e=>e.getDate()-1);Zg.range;const Oj=ts(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Ml,e=>e.getUTCDate()-1);Oj.range;const J9=ts(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Ml,e=>Math.floor(e/Ml));J9.range;function Ru(e){return ts(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*hi)/QE)}const Lj=Ru(0),Db=Ru(1),Y2e=Ru(2),X2e=Ru(3),Of=Ru(4),Q2e=Ru(5),J2e=Ru(6);Lj.range;Db.range;Y2e.range;X2e.range;Of.range;Q2e.range;J2e.range;function Fu(e){return ts(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/QE)}const Rj=Fu(0),Ob=Fu(1),Z2e=Fu(2),eNe=Fu(3),Lf=Fu(4),tNe=Fu(5),rNe=Fu(6);Rj.range;Ob.range;Z2e.range;eNe.range;Lf.range;tNe.range;rNe.range;const rP=ts(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());rP.range;const nP=ts(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());nP.range;const Bl=ts(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Bl.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:ts(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});Bl.range;const zl=ts(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());zl.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:ts(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});zl.range;function Z9(e,t,r,s,a,i){const o=[[Zd,1,jl],[Zd,5,5*jl],[Zd,15,15*jl],[Zd,30,30*jl],[i,1,hi],[i,5,5*hi],[i,15,15*hi],[i,30,30*hi],[a,1,wl],[a,3,3*wl],[a,6,6*wl],[a,12,12*wl],[s,1,Ml],[s,2,2*Ml],[r,1,QE],[t,1,UD],[t,3,3*UD],[e,1,SN]];function l(d,h,u){const f=h<d;f&&([d,h]=[h,d]);const m=u&&typeof u.range=="function"?u:c(d,h,u),v=m?m.range(d,+h+1):[];return f?v.reverse():v}function c(d,h,u){const f=Math.abs(h-d)/u,m=ME(([,,p])=>p).right(o,f);if(m===o.length)return e.every(aC(d/SN,h/SN,u));if(m===0)return kb.every(Math.max(aC(d,h,u),1));const[v,x]=o[f/o[m-1][2]<o[m][2]/f?m-1:m];return v.every(x)}return[l,c]}const[nNe,sNe]=Z9(zl,nP,Rj,J9,tP,ZE),[aNe,iNe]=Z9(Bl,rP,Lj,Zg,eP,JE);function CN(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function AN(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Cp(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function oNe(e){var t=e.dateTime,r=e.date,s=e.time,a=e.periods,i=e.days,o=e.shortDays,l=e.months,c=e.shortMonths,d=Ap(a),h=Ep(a),u=Ap(i),f=Ep(i),m=Ap(o),v=Ep(o),x=Ap(l),p=Ep(l),g=Ap(c),b=Ep(c),y={a:R,A:B,b:U,B:H,c:null,d:KD,e:KD,f:_Ne,g:BNe,G:UNe,H:ENe,I:PNe,j:TNe,L:ez,m:INe,M:kNe,p:q,q:L,Q:QD,s:JD,S:DNe,u:ONe,U:LNe,V:RNe,w:FNe,W:$Ne,x:null,X:null,y:MNe,Y:zNe,Z:VNe,"%":XD},j={a:V,A:G,b:Z,B:te,c:null,d:YD,e:YD,f:GNe,g:n5e,G:a5e,H:qNe,I:WNe,j:HNe,L:rz,m:KNe,M:YNe,p:he,q:fe,Q:QD,s:JD,S:XNe,u:QNe,U:JNe,V:ZNe,w:e5e,W:t5e,x:null,X:null,y:r5e,Y:s5e,Z:i5e,"%":XD},E={a:k,A:T,b:A,B:O,c:D,d:HD,e:HD,f:NNe,g:WD,G:qD,H:GD,I:GD,j:yNe,L:wNe,m:xNe,M:bNe,p:_,q:gNe,Q:CNe,s:ANe,S:jNe,u:hNe,U:fNe,V:mNe,w:uNe,W:pNe,x:F,X:M,y:WD,Y:qD,Z:vNe,"%":SNe};y.x=S(r,y),y.X=S(s,y),y.c=S(t,y),j.x=S(r,j),j.X=S(s,j),j.c=S(t,j);function S(oe,we){return function(je){var ve=[],Le=-1,ge=0,le=oe.length,re,Ce,Ne;for(je instanceof Date||(je=new Date(+je));++Le<le;)oe.charCodeAt(Le)===37&&(ve.push(oe.slice(ge,Le)),(Ce=VD[re=oe.charAt(++Le)])!=null?re=oe.charAt(++Le):Ce=re==="e"?" ":"0",(Ne=we[re])&&(re=Ne(je,Ce)),ve.push(re),ge=Le+1);return ve.push(oe.slice(ge,Le)),ve.join("")}}function N(oe,we){return function(je){var ve=Cp(1900,void 0,1),Le=w(ve,oe,je+="",0),ge,le;if(Le!=je.length)return null;if("Q"in ve)return new Date(ve.Q);if("s"in ve)return new Date(ve.s*1e3+("L"in ve?ve.L:0));if(we&&!("Z"in ve)&&(ve.Z=0),"p"in ve&&(ve.H=ve.H%12+ve.p*12),ve.m===void 0&&(ve.m="q"in ve?ve.q:0),"V"in ve){if(ve.V<1||ve.V>53)return null;"w"in ve||(ve.w=1),"Z"in ve?(ge=AN(Cp(ve.y,0,1)),le=ge.getUTCDay(),ge=le>4||le===0?Ob.ceil(ge):Ob(ge),ge=Oj.offset(ge,(ve.V-1)*7),ve.y=ge.getUTCFullYear(),ve.m=ge.getUTCMonth(),ve.d=ge.getUTCDate()+(ve.w+6)%7):(ge=CN(Cp(ve.y,0,1)),le=ge.getDay(),ge=le>4||le===0?Db.ceil(ge):Db(ge),ge=Zg.offset(ge,(ve.V-1)*7),ve.y=ge.getFullYear(),ve.m=ge.getMonth(),ve.d=ge.getDate()+(ve.w+6)%7)}else("W"in ve||"U"in ve)&&("w"in ve||(ve.w="u"in ve?ve.u%7:"W"in ve?1:0),le="Z"in ve?AN(Cp(ve.y,0,1)).getUTCDay():CN(Cp(ve.y,0,1)).getDay(),ve.m=0,ve.d="W"in ve?(ve.w+6)%7+ve.W*7-(le+5)%7:ve.w+ve.U*7-(le+6)%7);return"Z"in ve?(ve.H+=ve.Z/100|0,ve.M+=ve.Z%100,AN(ve)):CN(ve)}}function w(oe,we,je,ve){for(var Le=0,ge=we.length,le=je.length,re,Ce;Le<ge;){if(ve>=le)return-1;if(re=we.charCodeAt(Le++),re===37){if(re=we.charAt(Le++),Ce=E[re in VD?we.charAt(Le++):re],!Ce||(ve=Ce(oe,je,ve))<0)return-1}else if(re!=je.charCodeAt(ve++))return-1}return ve}function _(oe,we,je){var ve=d.exec(we.slice(je));return ve?(oe.p=h.get(ve[0].toLowerCase()),je+ve[0].length):-1}function k(oe,we,je){var ve=m.exec(we.slice(je));return ve?(oe.w=v.get(ve[0].toLowerCase()),je+ve[0].length):-1}function T(oe,we,je){var ve=u.exec(we.slice(je));return ve?(oe.w=f.get(ve[0].toLowerCase()),je+ve[0].length):-1}function A(oe,we,je){var ve=g.exec(we.slice(je));return ve?(oe.m=b.get(ve[0].toLowerCase()),je+ve[0].length):-1}function O(oe,we,je){var ve=x.exec(we.slice(je));return ve?(oe.m=p.get(ve[0].toLowerCase()),je+ve[0].length):-1}function D(oe,we,je){return w(oe,t,we,je)}function F(oe,we,je){return w(oe,r,we,je)}function M(oe,we,je){return w(oe,s,we,je)}function R(oe){return o[oe.getDay()]}function B(oe){return i[oe.getDay()]}function U(oe){return c[oe.getMonth()]}function H(oe){return l[oe.getMonth()]}function q(oe){return a[+(oe.getHours()>=12)]}function L(oe){return 1+~~(oe.getMonth()/3)}function V(oe){return o[oe.getUTCDay()]}function G(oe){return i[oe.getUTCDay()]}function Z(oe){return c[oe.getUTCMonth()]}function te(oe){return l[oe.getUTCMonth()]}function he(oe){return a[+(oe.getUTCHours()>=12)]}function fe(oe){return 1+~~(oe.getUTCMonth()/3)}return{format:function(oe){var we=S(oe+="",y);return we.toString=function(){return oe},we},parse:function(oe){var we=N(oe+="",!1);return we.toString=function(){return oe},we},utcFormat:function(oe){var we=S(oe+="",j);return we.toString=function(){return oe},we},utcParse:function(oe){var we=N(oe+="",!0);return we.toString=function(){return oe},we}}}var VD={"-":"",_:" ",0:"0"},ms=/^\s*\d+/,lNe=/^%/,cNe=/[\\^$*+?|[\]().{}]/g;function br(e,t,r){var s=e<0?"-":"",a=(s?-e:e)+"",i=a.length;return s+(i<r?new Array(r-i+1).join(t)+a:a)}function dNe(e){return e.replace(cNe,"\\$&")}function Ap(e){return new RegExp("^(?:"+e.map(dNe).join("|")+")","i")}function Ep(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function uNe(e,t,r){var s=ms.exec(t.slice(r,r+1));return s?(e.w=+s[0],r+s[0].length):-1}function hNe(e,t,r){var s=ms.exec(t.slice(r,r+1));return s?(e.u=+s[0],r+s[0].length):-1}function fNe(e,t,r){var s=ms.exec(t.slice(r,r+2));return s?(e.U=+s[0],r+s[0].length):-1}function mNe(e,t,r){var s=ms.exec(t.slice(r,r+2));return s?(e.V=+s[0],r+s[0].length):-1}function pNe(e,t,r){var s=ms.exec(t.slice(r,r+2));return s?(e.W=+s[0],r+s[0].length):-1}function qD(e,t,r){var s=ms.exec(t.slice(r,r+4));return s?(e.y=+s[0],r+s[0].length):-1}function WD(e,t,r){var s=ms.exec(t.slice(r,r+2));return s?(e.y=+s[0]+(+s[0]>68?1900:2e3),r+s[0].length):-1}function vNe(e,t,r){var s=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return s?(e.Z=s[1]?0:-(s[2]+(s[3]||"00")),r+s[0].length):-1}function gNe(e,t,r){var s=ms.exec(t.slice(r,r+1));return s?(e.q=s[0]*3-3,r+s[0].length):-1}function xNe(e,t,r){var s=ms.exec(t.slice(r,r+2));return s?(e.m=s[0]-1,r+s[0].length):-1}function HD(e,t,r){var s=ms.exec(t.slice(r,r+2));return s?(e.d=+s[0],r+s[0].length):-1}function yNe(e,t,r){var s=ms.exec(t.slice(r,r+3));return s?(e.m=0,e.d=+s[0],r+s[0].length):-1}function GD(e,t,r){var s=ms.exec(t.slice(r,r+2));return s?(e.H=+s[0],r+s[0].length):-1}function bNe(e,t,r){var s=ms.exec(t.slice(r,r+2));return s?(e.M=+s[0],r+s[0].length):-1}function jNe(e,t,r){var s=ms.exec(t.slice(r,r+2));return s?(e.S=+s[0],r+s[0].length):-1}function wNe(e,t,r){var s=ms.exec(t.slice(r,r+3));return s?(e.L=+s[0],r+s[0].length):-1}function NNe(e,t,r){var s=ms.exec(t.slice(r,r+6));return s?(e.L=Math.floor(s[0]/1e3),r+s[0].length):-1}function SNe(e,t,r){var s=lNe.exec(t.slice(r,r+1));return s?r+s[0].length:-1}function CNe(e,t,r){var s=ms.exec(t.slice(r));return s?(e.Q=+s[0],r+s[0].length):-1}function ANe(e,t,r){var s=ms.exec(t.slice(r));return s?(e.s=+s[0],r+s[0].length):-1}function KD(e,t){return br(e.getDate(),t,2)}function ENe(e,t){return br(e.getHours(),t,2)}function PNe(e,t){return br(e.getHours()%12||12,t,2)}function TNe(e,t){return br(1+Zg.count(Bl(e),e),t,3)}function ez(e,t){return br(e.getMilliseconds(),t,3)}function _Ne(e,t){return ez(e,t)+"000"}function INe(e,t){return br(e.getMonth()+1,t,2)}function kNe(e,t){return br(e.getMinutes(),t,2)}function DNe(e,t){return br(e.getSeconds(),t,2)}function ONe(e){var t=e.getDay();return t===0?7:t}function LNe(e,t){return br(Lj.count(Bl(e)-1,e),t,2)}function tz(e){var t=e.getDay();return t>=4||t===0?Of(e):Of.ceil(e)}function RNe(e,t){return e=tz(e),br(Of.count(Bl(e),e)+(Bl(e).getDay()===4),t,2)}function FNe(e){return e.getDay()}function $Ne(e,t){return br(Db.count(Bl(e)-1,e),t,2)}function MNe(e,t){return br(e.getFullYear()%100,t,2)}function BNe(e,t){return e=tz(e),br(e.getFullYear()%100,t,2)}function zNe(e,t){return br(e.getFullYear()%1e4,t,4)}function UNe(e,t){var r=e.getDay();return e=r>=4||r===0?Of(e):Of.ceil(e),br(e.getFullYear()%1e4,t,4)}function VNe(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+br(t/60|0,"0",2)+br(t%60,"0",2)}function YD(e,t){return br(e.getUTCDate(),t,2)}function qNe(e,t){return br(e.getUTCHours(),t,2)}function WNe(e,t){return br(e.getUTCHours()%12||12,t,2)}function HNe(e,t){return br(1+Oj.count(zl(e),e),t,3)}function rz(e,t){return br(e.getUTCMilliseconds(),t,3)}function GNe(e,t){return rz(e,t)+"000"}function KNe(e,t){return br(e.getUTCMonth()+1,t,2)}function YNe(e,t){return br(e.getUTCMinutes(),t,2)}function XNe(e,t){return br(e.getUTCSeconds(),t,2)}function QNe(e){var t=e.getUTCDay();return t===0?7:t}function JNe(e,t){return br(Rj.count(zl(e)-1,e),t,2)}function nz(e){var t=e.getUTCDay();return t>=4||t===0?Lf(e):Lf.ceil(e)}function ZNe(e,t){return e=nz(e),br(Lf.count(zl(e),e)+(zl(e).getUTCDay()===4),t,2)}function e5e(e){return e.getUTCDay()}function t5e(e,t){return br(Ob.count(zl(e)-1,e),t,2)}function r5e(e,t){return br(e.getUTCFullYear()%100,t,2)}function n5e(e,t){return e=nz(e),br(e.getUTCFullYear()%100,t,2)}function s5e(e,t){return br(e.getUTCFullYear()%1e4,t,4)}function a5e(e,t){var r=e.getUTCDay();return e=r>=4||r===0?Lf(e):Lf.ceil(e),br(e.getUTCFullYear()%1e4,t,4)}function i5e(){return"+0000"}function XD(){return"%"}function QD(e){return+e}function JD(e){return Math.floor(+e/1e3)}var Nh,sz,az;o5e({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function o5e(e){return Nh=oNe(e),sz=Nh.format,Nh.parse,az=Nh.utcFormat,Nh.utcParse,Nh}function l5e(e){return new Date(e)}function c5e(e){return e instanceof Date?+e:+new Date(+e)}function sP(e,t,r,s,a,i,o,l,c,d){var h=qE(),u=h.invert,f=h.domain,m=d(".%L"),v=d(":%S"),x=d("%I:%M"),p=d("%I %p"),g=d("%a %d"),b=d("%b %d"),y=d("%B"),j=d("%Y");function E(S){return(c(S)<S?m:l(S)<S?v:o(S)<S?x:i(S)<S?p:s(S)<S?a(S)<S?g:b:r(S)<S?y:j)(S)}return h.invert=function(S){return new Date(u(S))},h.domain=function(S){return arguments.length?f(Array.from(S,c5e)):f().map(l5e)},h.ticks=function(S){var N=f();return e(N[0],N[N.length-1],S??10)},h.tickFormat=function(S,N){return N==null?E:d(N)},h.nice=function(S){var N=f();return(!S||typeof S.range!="function")&&(S=t(N[0],N[N.length-1],S??10)),S?f(W9(N,S)):h},h.copy=function(){return Jg(h,sP(e,t,r,s,a,i,o,l,c,d))},h}function d5e(){return Ni.apply(sP(aNe,iNe,Bl,rP,Lj,Zg,eP,JE,Zd,sz).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function u5e(){return Ni.apply(sP(nNe,sNe,zl,nP,Rj,Oj,tP,ZE,Zd,az).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Fj(){var e=0,t=1,r,s,a,i,o=Js,l=!1,c;function d(u){return u==null||isNaN(u=+u)?c:o(a===0?.5:(u=(i(u)-r)*a,l?Math.max(0,Math.min(1,u)):u))}d.domain=function(u){return arguments.length?([e,t]=u,r=i(e=+e),s=i(t=+t),a=r===s?0:1/(s-r),d):[e,t]},d.clamp=function(u){return arguments.length?(l=!!u,d):l},d.interpolator=function(u){return arguments.length?(o=u,d):o};function h(u){return function(f){var m,v;return arguments.length?([m,v]=f,o=u(m,v),d):[o(0),o(1)]}}return d.range=h(Sm),d.rangeRound=h(VE),d.unknown=function(u){return arguments.length?(c=u,d):c},function(u){return i=u,r=u(e),s=u(t),a=r===s?0:1/(s-r),d}}function md(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function iz(){var e=fd(Fj()(Js));return e.copy=function(){return md(e,iz())},Hl.apply(e,arguments)}function oz(){var e=GE(Fj()).domain([1,10]);return e.copy=function(){return md(e,oz()).base(e.base())},Hl.apply(e,arguments)}function lz(){var e=KE(Fj());return e.copy=function(){return md(e,lz()).constant(e.constant())},Hl.apply(e,arguments)}function aP(){var e=YE(Fj());return e.copy=function(){return md(e,aP()).exponent(e.exponent())},Hl.apply(e,arguments)}function h5e(){return aP.apply(null,arguments).exponent(.5)}function cz(){var e=[],t=Js;function r(s){if(s!=null&&!isNaN(s=+s))return t((Xg(e,s,1)-1)/(e.length-1))}return r.domain=function(s){if(!arguments.length)return e.slice();e=[];for(let a of s)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort(Hc),r},r.interpolator=function(s){return arguments.length?(t=s,r):t},r.range=function(){return e.map((s,a)=>t(a/(e.length-1)))},r.quantiles=function(s){return Array.from({length:s+1},(a,i)=>Jwe(e,i/s))},r.copy=function(){return cz(t).domain(e)},Hl.apply(r,arguments)}function $j(){var e=0,t=.5,r=1,s=1,a,i,o,l,c,d=Js,h,u=!1,f;function m(x){return isNaN(x=+x)?f:(x=.5+((x=+h(x))-i)*(s*x<s*i?l:c),d(u?Math.max(0,Math.min(1,x)):x))}m.domain=function(x){return arguments.length?([e,t,r]=x,a=h(e=+e),i=h(t=+t),o=h(r=+r),l=a===i?0:.5/(i-a),c=i===o?0:.5/(o-i),s=i<a?-1:1,m):[e,t,r]},m.clamp=function(x){return arguments.length?(u=!!x,m):u},m.interpolator=function(x){return arguments.length?(d=x,m):d};function v(x){return function(p){var g,b,y;return arguments.length?([g,b,y]=p,d=S2e(x,[g,b,y]),m):[d(0),d(.5),d(1)]}}return m.range=v(Sm),m.rangeRound=v(VE),m.unknown=function(x){return arguments.length?(f=x,m):f},function(x){return h=x,a=x(e),i=x(t),o=x(r),l=a===i?0:.5/(i-a),c=i===o?0:.5/(o-i),s=i<a?-1:1,m}}function dz(){var e=fd($j()(Js));return e.copy=function(){return md(e,dz())},Hl.apply(e,arguments)}function uz(){var e=GE($j()).domain([.1,1,10]);return e.copy=function(){return md(e,uz()).base(e.base())},Hl.apply(e,arguments)}function hz(){var e=KE($j());return e.copy=function(){return md(e,hz()).constant(e.constant())},Hl.apply(e,arguments)}function iP(){var e=YE($j());return e.copy=function(){return md(e,iP()).exponent(e.exponent())},Hl.apply(e,arguments)}function f5e(){return iP.apply(null,arguments).exponent(.5)}const ZD=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Qv,scaleDiverging:dz,scaleDivergingLog:uz,scaleDivergingPow:iP,scaleDivergingSqrt:f5e,scaleDivergingSymlog:hz,scaleIdentity:q9,scaleImplicit:iC,scaleLinear:Ib,scaleLog:H9,scaleOrdinal:BE,scalePoint:sv,scalePow:XE,scaleQuantile:Y9,scaleQuantize:X9,scaleRadial:K9,scaleSequential:iz,scaleSequentialLog:oz,scaleSequentialPow:aP,scaleSequentialQuantile:cz,scaleSequentialSqrt:h5e,scaleSequentialSymlog:lz,scaleSqrt:G2e,scaleSymlog:G9,scaleThreshold:Q9,scaleTime:d5e,scaleUtc:u5e,tickFormat:V9},Symbol.toStringTag,{value:"Module"}));var m5e=mm;function p5e(e,t,r){for(var s=-1,a=e.length;++s<a;){var i=e[s],o=t(i);if(o!=null&&(l===void 0?o===o&&!m5e(o):r(o,l)))var l=o,c=i}return c}var fz=p5e;function v5e(e,t){return e>t}var g5e=v5e,x5e=fz,y5e=g5e,b5e=Nm;function j5e(e){return e&&e.length?x5e(e,b5e,y5e):void 0}var w5e=j5e;const _c=Cr(w5e);function N5e(e,t){return e<t}var S5e=N5e,C5e=fz,A5e=S5e,E5e=Nm;function P5e(e){return e&&e.length?C5e(e,E5e,A5e):void 0}var T5e=P5e;const Mj=Cr(T5e);var _5e=bE,I5e=hd,k5e=j9,D5e=Ca;function O5e(e,t){var r=D5e(e)?_5e:k5e;return r(e,I5e(t))}var L5e=O5e,R5e=y9,F5e=L5e;function $5e(e,t){return R5e(F5e(e,t),1)}var M5e=$5e;const B5e=Cr(M5e);var z5e=LE;function U5e(e,t){return z5e(e,t)}var V5e=U5e;const Rf=Cr(V5e);var Cm=1e9,q5e={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},lP,cn=!0,ji="[DecimalError] ",du=ji+"Invalid argument: ",oP=ji+"Exponent out of range: ",Am=Math.floor,Md=Math.pow,W5e=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Ra,is=1e7,tn=7,mz=9007199254740991,Lb=Am(mz/tn),jt={};jt.absoluteValue=jt.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};jt.comparedTo=jt.cmp=function(e){var t,r,s,a,i=this;if(e=new i.constructor(e),i.s!==e.s)return i.s||-e.s;if(i.e!==e.e)return i.e>e.e^i.s<0?1:-1;for(s=i.d.length,a=e.d.length,t=0,r=s<a?s:a;t<r;++t)if(i.d[t]!==e.d[t])return i.d[t]>e.d[t]^i.s<0?1:-1;return s===a?0:s>a^i.s<0?1:-1};jt.decimalPlaces=jt.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*tn;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};jt.dividedBy=jt.div=function(e){return El(this,new this.constructor(e))};jt.dividedToIntegerBy=jt.idiv=function(e){var t=this,r=t.constructor;return Br(El(t,new r(e),0,1),r.precision)};jt.equals=jt.eq=function(e){return!this.cmp(e)};jt.exponent=function(){return Vn(this)};jt.greaterThan=jt.gt=function(e){return this.cmp(e)>0};jt.greaterThanOrEqualTo=jt.gte=function(e){return this.cmp(e)>=0};jt.isInteger=jt.isint=function(){return this.e>this.d.length-2};jt.isNegative=jt.isneg=function(){return this.s<0};jt.isPositive=jt.ispos=function(){return this.s>0};jt.isZero=function(){return this.s===0};jt.lessThan=jt.lt=function(e){return this.cmp(e)<0};jt.lessThanOrEqualTo=jt.lte=function(e){return this.cmp(e)<1};jt.logarithm=jt.log=function(e){var t,r=this,s=r.constructor,a=s.precision,i=a+5;if(e===void 0)e=new s(10);else if(e=new s(e),e.s<1||e.eq(Ra))throw Error(ji+"NaN");if(r.s<1)throw Error(ji+(r.s?"NaN":"-Infinity"));return r.eq(Ra)?new s(0):(cn=!1,t=El(rg(r,i),rg(e,i),i),cn=!0,Br(t,a))};jt.minus=jt.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?gz(t,e):pz(t,(e.s=-e.s,e))};jt.modulo=jt.mod=function(e){var t,r=this,s=r.constructor,a=s.precision;if(e=new s(e),!e.s)throw Error(ji+"NaN");return r.s?(cn=!1,t=El(r,e,0,1).times(e),cn=!0,r.minus(t)):Br(new s(r),a)};jt.naturalExponential=jt.exp=function(){return vz(this)};jt.naturalLogarithm=jt.ln=function(){return rg(this)};jt.negated=jt.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};jt.plus=jt.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?pz(t,e):gz(t,(e.s=-e.s,e))};jt.precision=jt.sd=function(e){var t,r,s,a=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(du+e);if(t=Vn(a)+1,s=a.d.length-1,r=s*tn+1,s=a.d[s],s){for(;s%10==0;s/=10)r--;for(s=a.d[0];s>=10;s/=10)r++}return e&&t>r?t:r};jt.squareRoot=jt.sqrt=function(){var e,t,r,s,a,i,o,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(ji+"NaN")}for(e=Vn(l),cn=!1,a=Math.sqrt(+l),a==0||a==1/0?(t=Oo(l.d),(t.length+e)%2==0&&(t+="0"),a=Math.sqrt(t),e=Am((e+1)/2)-(e<0||e%2),a==1/0?t="5e"+e:(t=a.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),s=new c(t)):s=new c(a.toString()),r=c.precision,a=o=r+3;;)if(i=s,s=i.plus(El(l,i,o+2)).times(.5),Oo(i.d).slice(0,o)===(t=Oo(s.d)).slice(0,o)){if(t=t.slice(o-3,o+1),a==o&&t=="4999"){if(Br(i,r+1,0),i.times(i).eq(l)){s=i;break}}else if(t!="9999")break;o+=4}return cn=!0,Br(s,r)};jt.times=jt.mul=function(e){var t,r,s,a,i,o,l,c,d,h=this,u=h.constructor,f=h.d,m=(e=new u(e)).d;if(!h.s||!e.s)return new u(0);for(e.s*=h.s,r=h.e+e.e,c=f.length,d=m.length,c<d&&(i=f,f=m,m=i,o=c,c=d,d=o),i=[],o=c+d,s=o;s--;)i.push(0);for(s=d;--s>=0;){for(t=0,a=c+s;a>s;)l=i[a]+m[s]*f[a-s-1]+t,i[a--]=l%is|0,t=l/is|0;i[a]=(i[a]+t)%is|0}for(;!i[--o];)i.pop();return t?++r:i.shift(),e.d=i,e.e=r,cn?Br(e,u.precision):e};jt.toDecimalPlaces=jt.todp=function(e,t){var r=this,s=r.constructor;return r=new s(r),e===void 0?r:(Go(e,0,Cm),t===void 0?t=s.rounding:Go(t,0,8),Br(r,e+Vn(r)+1,t))};jt.toExponential=function(e,t){var r,s=this,a=s.constructor;return e===void 0?r=wu(s,!0):(Go(e,0,Cm),t===void 0?t=a.rounding:Go(t,0,8),s=Br(new a(s),e+1,t),r=wu(s,!0,e+1)),r};jt.toFixed=function(e,t){var r,s,a=this,i=a.constructor;return e===void 0?wu(a):(Go(e,0,Cm),t===void 0?t=i.rounding:Go(t,0,8),s=Br(new i(a),e+Vn(a)+1,t),r=wu(s.abs(),!1,e+Vn(s)+1),a.isneg()&&!a.isZero()?"-"+r:r)};jt.toInteger=jt.toint=function(){var e=this,t=e.constructor;return Br(new t(e),Vn(e)+1,t.rounding)};jt.toNumber=function(){return+this};jt.toPower=jt.pow=function(e){var t,r,s,a,i,o,l=this,c=l.constructor,d=12,h=+(e=new c(e));if(!e.s)return new c(Ra);if(l=new c(l),!l.s){if(e.s<1)throw Error(ji+"Infinity");return l}if(l.eq(Ra))return l;if(s=c.precision,e.eq(Ra))return Br(l,s);if(t=e.e,r=e.d.length-1,o=t>=r,i=l.s,o){if((r=h<0?-h:h)<=mz){for(a=new c(Ra),t=Math.ceil(s/tn+4),cn=!1;r%2&&(a=a.times(l),tO(a.d,t)),r=Am(r/2),r!==0;)l=l.times(l),tO(l.d,t);return cn=!0,e.s<0?new c(Ra).div(a):Br(a,s)}}else if(i<0)throw Error(ji+"NaN");return i=i<0&&e.d[Math.max(t,r)]&1?-1:1,l.s=1,cn=!1,a=e.times(rg(l,s+d)),cn=!0,a=vz(a),a.s=i,a};jt.toPrecision=function(e,t){var r,s,a=this,i=a.constructor;return e===void 0?(r=Vn(a),s=wu(a,r<=i.toExpNeg||r>=i.toExpPos)):(Go(e,1,Cm),t===void 0?t=i.rounding:Go(t,0,8),a=Br(new i(a),e,t),r=Vn(a),s=wu(a,e<=r||r<=i.toExpNeg,e)),s};jt.toSignificantDigits=jt.tosd=function(e,t){var r=this,s=r.constructor;return e===void 0?(e=s.precision,t=s.rounding):(Go(e,1,Cm),t===void 0?t=s.rounding:Go(t,0,8)),Br(new s(r),e,t)};jt.toString=jt.valueOf=jt.val=jt.toJSON=jt[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=Vn(e),r=e.constructor;return wu(e,t<=r.toExpNeg||t>=r.toExpPos)};function pz(e,t){var r,s,a,i,o,l,c,d,h=e.constructor,u=h.precision;if(!e.s||!t.s)return t.s||(t=new h(e)),cn?Br(t,u):t;if(c=e.d,d=t.d,o=e.e,a=t.e,c=c.slice(),i=o-a,i){for(i<0?(s=c,i=-i,l=d.length):(s=d,a=o,l=c.length),o=Math.ceil(u/tn),l=o>l?o+1:l+1,i>l&&(i=l,s.length=1),s.reverse();i--;)s.push(0);s.reverse()}for(l=c.length,i=d.length,l-i<0&&(i=l,s=d,d=c,c=s),r=0;i;)r=(c[--i]=c[i]+d[i]+r)/is|0,c[i]%=is;for(r&&(c.unshift(r),++a),l=c.length;c[--l]==0;)c.pop();return t.d=c,t.e=a,cn?Br(t,u):t}function Go(e,t,r){if(e!==~~e||e<t||e>r)throw Error(du+e)}function Oo(e){var t,r,s,a=e.length-1,i="",o=e[0];if(a>0){for(i+=o,t=1;t<a;t++)s=e[t]+"",r=tn-s.length,r&&(i+=xc(r)),i+=s;o=e[t],s=o+"",r=tn-s.length,r&&(i+=xc(r))}else if(o===0)return"0";for(;o%10===0;)o/=10;return i+o}var El=function(){function e(s,a){var i,o=0,l=s.length;for(s=s.slice();l--;)i=s[l]*a+o,s[l]=i%is|0,o=i/is|0;return o&&s.unshift(o),s}function t(s,a,i,o){var l,c;if(i!=o)c=i>o?1:-1;else for(l=c=0;l<i;l++)if(s[l]!=a[l]){c=s[l]>a[l]?1:-1;break}return c}function r(s,a,i){for(var o=0;i--;)s[i]-=o,o=s[i]<a[i]?1:0,s[i]=o*is+s[i]-a[i];for(;!s[0]&&s.length>1;)s.shift()}return function(s,a,i,o){var l,c,d,h,u,f,m,v,x,p,g,b,y,j,E,S,N,w,_=s.constructor,k=s.s==a.s?1:-1,T=s.d,A=a.d;if(!s.s)return new _(s);if(!a.s)throw Error(ji+"Division by zero");for(c=s.e-a.e,N=A.length,E=T.length,m=new _(k),v=m.d=[],d=0;A[d]==(T[d]||0);)++d;if(A[d]>(T[d]||0)&&--c,i==null?b=i=_.precision:o?b=i+(Vn(s)-Vn(a))+1:b=i,b<0)return new _(0);if(b=b/tn+2|0,d=0,N==1)for(h=0,A=A[0],b++;(d<E||h)&&b--;d++)y=h*is+(T[d]||0),v[d]=y/A|0,h=y%A|0;else{for(h=is/(A[0]+1)|0,h>1&&(A=e(A,h),T=e(T,h),N=A.length,E=T.length),j=N,x=T.slice(0,N),p=x.length;p<N;)x[p++]=0;w=A.slice(),w.unshift(0),S=A[0],A[1]>=is/2&&++S;do h=0,l=t(A,x,N,p),l<0?(g=x[0],N!=p&&(g=g*is+(x[1]||0)),h=g/S|0,h>1?(h>=is&&(h=is-1),u=e(A,h),f=u.length,p=x.length,l=t(u,x,f,p),l==1&&(h--,r(u,N<f?w:A,f))):(h==0&&(l=h=1),u=A.slice()),f=u.length,f<p&&u.unshift(0),r(x,u,p),l==-1&&(p=x.length,l=t(A,x,N,p),l<1&&(h++,r(x,N<p?w:A,p))),p=x.length):l===0&&(h++,x=[0]),v[d++]=h,l&&x[0]?x[p++]=T[j]||0:(x=[T[j]],p=1);while((j++<E||x[0]!==void 0)&&b--)}return v[0]||v.shift(),m.e=c,Br(m,o?i+Vn(m)+1:i)}}();function vz(e,t){var r,s,a,i,o,l,c=0,d=0,h=e.constructor,u=h.precision;if(Vn(e)>16)throw Error(oP+Vn(e));if(!e.s)return new h(Ra);for(t==null?(cn=!1,l=u):l=t,o=new h(.03125);e.abs().gte(.1);)e=e.times(o),d+=5;for(s=Math.log(Md(2,d))/Math.LN10*2+5|0,l+=s,r=a=i=new h(Ra),h.precision=l;;){if(a=Br(a.times(e),l),r=r.times(++c),o=i.plus(El(a,r,l)),Oo(o.d).slice(0,l)===Oo(i.d).slice(0,l)){for(;d--;)i=Br(i.times(i),l);return h.precision=u,t==null?(cn=!0,Br(i,u)):i}i=o}}function Vn(e){for(var t=e.e*tn,r=e.d[0];r>=10;r/=10)t++;return t}function EN(e,t,r){if(t>e.LN10.sd())throw cn=!0,r&&(e.precision=r),Error(ji+"LN10 precision limit exceeded");return Br(new e(e.LN10),t)}function xc(e){for(var t="";e--;)t+="0";return t}function rg(e,t){var r,s,a,i,o,l,c,d,h,u=1,f=10,m=e,v=m.d,x=m.constructor,p=x.precision;if(m.s<1)throw Error(ji+(m.s?"NaN":"-Infinity"));if(m.eq(Ra))return new x(0);if(t==null?(cn=!1,d=p):d=t,m.eq(10))return t==null&&(cn=!0),EN(x,d);if(d+=f,x.precision=d,r=Oo(v),s=r.charAt(0),i=Vn(m),Math.abs(i)<15e14){for(;s<7&&s!=1||s==1&&r.charAt(1)>3;)m=m.times(e),r=Oo(m.d),s=r.charAt(0),u++;i=Vn(m),s>1?(m=new x("0."+r),i++):m=new x(s+"."+r.slice(1))}else return c=EN(x,d+2,p).times(i+""),m=rg(new x(s+"."+r.slice(1)),d-f).plus(c),x.precision=p,t==null?(cn=!0,Br(m,p)):m;for(l=o=m=El(m.minus(Ra),m.plus(Ra),d),h=Br(m.times(m),d),a=3;;){if(o=Br(o.times(h),d),c=l.plus(El(o,new x(a),d)),Oo(c.d).slice(0,d)===Oo(l.d).slice(0,d))return l=l.times(2),i!==0&&(l=l.plus(EN(x,d+2,p).times(i+""))),l=El(l,new x(u),d),x.precision=p,t==null?(cn=!0,Br(l,p)):l;l=c,a+=2}}function eO(e,t){var r,s,a;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(s=t.search(/e/i))>0?(r<0&&(r=s),r+=+t.slice(s+1),t=t.substring(0,s)):r<0&&(r=t.length),s=0;t.charCodeAt(s)===48;)++s;for(a=t.length;t.charCodeAt(a-1)===48;)--a;if(t=t.slice(s,a),t){if(a-=s,r=r-s-1,e.e=Am(r/tn),e.d=[],s=(r+1)%tn,r<0&&(s+=tn),s<a){for(s&&e.d.push(+t.slice(0,s)),a-=tn;s<a;)e.d.push(+t.slice(s,s+=tn));t=t.slice(s),s=tn-t.length}else s-=a;for(;s--;)t+="0";if(e.d.push(+t),cn&&(e.e>Lb||e.e<-Lb))throw Error(oP+r)}else e.s=0,e.e=0,e.d=[0];return e}function Br(e,t,r){var s,a,i,o,l,c,d,h,u=e.d;for(o=1,i=u[0];i>=10;i/=10)o++;if(s=t-o,s<0)s+=tn,a=t,d=u[h=0];else{if(h=Math.ceil((s+1)/tn),i=u.length,h>=i)return e;for(d=i=u[h],o=1;i>=10;i/=10)o++;s%=tn,a=s-tn+o}if(r!==void 0&&(i=Md(10,o-a-1),l=d/i%10|0,c=t<0||u[h+1]!==void 0||d%i,c=r<4?(l||c)&&(r==0||r==(e.s<0?3:2)):l>5||l==5&&(r==4||c||r==6&&(s>0?a>0?d/Md(10,o-a):0:u[h-1])%10&1||r==(e.s<0?8:7))),t<1||!u[0])return c?(i=Vn(e),u.length=1,t=t-i-1,u[0]=Md(10,(tn-t%tn)%tn),e.e=Am(-t/tn)||0):(u.length=1,u[0]=e.e=e.s=0),e;if(s==0?(u.length=h,i=1,h--):(u.length=h+1,i=Md(10,tn-s),u[h]=a>0?(d/Md(10,o-a)%Md(10,a)|0)*i:0),c)for(;;)if(h==0){(u[0]+=i)==is&&(u[0]=1,++e.e);break}else{if(u[h]+=i,u[h]!=is)break;u[h--]=0,i=1}for(s=u.length;u[--s]===0;)u.pop();if(cn&&(e.e>Lb||e.e<-Lb))throw Error(oP+Vn(e));return e}function gz(e,t){var r,s,a,i,o,l,c,d,h,u,f=e.constructor,m=f.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new f(e),cn?Br(t,m):t;if(c=e.d,u=t.d,s=t.e,d=e.e,c=c.slice(),o=d-s,o){for(h=o<0,h?(r=c,o=-o,l=u.length):(r=u,s=d,l=c.length),a=Math.max(Math.ceil(m/tn),l)+2,o>a&&(o=a,r.length=1),r.reverse(),a=o;a--;)r.push(0);r.reverse()}else{for(a=c.length,l=u.length,h=a<l,h&&(l=a),a=0;a<l;a++)if(c[a]!=u[a]){h=c[a]<u[a];break}o=0}for(h&&(r=c,c=u,u=r,t.s=-t.s),l=c.length,a=u.length-l;a>0;--a)c[l++]=0;for(a=u.length;a>o;){if(c[--a]<u[a]){for(i=a;i&&c[--i]===0;)c[i]=is-1;--c[i],c[a]+=is}c[a]-=u[a]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--s;return c[0]?(t.d=c,t.e=s,cn?Br(t,m):t):new f(0)}function wu(e,t,r){var s,a=Vn(e),i=Oo(e.d),o=i.length;return t?(r&&(s=r-o)>0?i=i.charAt(0)+"."+i.slice(1)+xc(s):o>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(a<0?"e":"e+")+a):a<0?(i="0."+xc(-a-1)+i,r&&(s=r-o)>0&&(i+=xc(s))):a>=o?(i+=xc(a+1-o),r&&(s=r-a-1)>0&&(i=i+"."+xc(s))):((s=a+1)<o&&(i=i.slice(0,s)+"."+i.slice(s)),r&&(s=r-o)>0&&(a+1===o&&(i+="."),i+=xc(s))),e.s<0?"-"+i:i}function tO(e,t){if(e.length>t)return e.length=t,!0}function xz(e){var t,r,s;function a(i){var o=this;if(!(o instanceof a))return new a(i);if(o.constructor=a,i instanceof a){o.s=i.s,o.e=i.e,o.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(du+i);if(i>0)o.s=1;else if(i<0)i=-i,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(i===~~i&&i<1e7){o.e=0,o.d=[i];return}return eO(o,i.toString())}else if(typeof i!="string")throw Error(du+i);if(i.charCodeAt(0)===45?(i=i.slice(1),o.s=-1):o.s=1,W5e.test(i))eO(o,i);else throw Error(du+i)}if(a.prototype=jt,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=xz,a.config=a.set=H5e,e===void 0&&(e={}),e)for(s=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<s.length;)e.hasOwnProperty(r=s[t++])||(e[r]=this[r]);return a.config(e),a}function H5e(e){if(!e||typeof e!="object")throw Error(ji+"Object expected");var t,r,s,a=["precision",1,Cm,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<a.length;t+=3)if((s=e[r=a[t]])!==void 0)if(Am(s)===s&&s>=a[t+1]&&s<=a[t+2])this[r]=s;else throw Error(du+r+": "+s);if((s=e[r="LN10"])!==void 0)if(s==Math.LN10)this[r]=new this(s);else throw Error(du+r+": "+s);return this}var lP=xz(q5e);Ra=new lP(1);const Or=lP;function G5e(e){return Q5e(e)||X5e(e)||Y5e(e)||K5e()}function K5e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Y5e(e,t){if(e){if(typeof e=="string")return dC(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return dC(e,t)}}function X5e(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function Q5e(e){if(Array.isArray(e))return dC(e)}function dC(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,s=new Array(t);r<t;r++)s[r]=e[r];return s}var J5e=function(t){return t},yz={"@@functional/placeholder":!0},bz=function(t){return t===yz},rO=function(t){return function r(){return arguments.length===0||arguments.length===1&&bz(arguments.length<=0?void 0:arguments[0])?r:t.apply(void 0,arguments)}},Z5e=function e(t,r){return t===1?r:rO(function(){for(var s=arguments.length,a=new Array(s),i=0;i<s;i++)a[i]=arguments[i];var o=a.filter(function(l){return l!==yz}).length;return o>=t?r.apply(void 0,a):e(t-o,rO(function(){for(var l=arguments.length,c=new Array(l),d=0;d<l;d++)c[d]=arguments[d];var h=a.map(function(u){return bz(u)?c.shift():u});return r.apply(void 0,G5e(h).concat(c))}))})},Bj=function(t){return Z5e(t.length,t)},uC=function(t,r){for(var s=[],a=t;a<r;++a)s[a-t]=a;return s},eSe=Bj(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(r){return t[r]}).map(e)}),tSe=function(){for(var t=arguments.length,r=new Array(t),s=0;s<t;s++)r[s]=arguments[s];if(!r.length)return J5e;var a=r.reverse(),i=a[0],o=a.slice(1);return function(){return o.reduce(function(l,c){return c(l)},i.apply(void 0,arguments))}},hC=function(t){return Array.isArray(t)?t.reverse():t.split("").reverse.join("")},jz=function(t){var r=null,s=null;return function(){for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return r&&i.every(function(l,c){return l===r[c]})||(r=i,s=t.apply(void 0,i)),s}};function rSe(e){var t;return e===0?t=1:t=Math.floor(new Or(e).abs().log(10).toNumber())+1,t}function nSe(e,t,r){for(var s=new Or(e),a=0,i=[];s.lt(t)&&a<1e5;)i.push(s.toNumber()),s=s.add(r),a++;return i}var sSe=Bj(function(e,t,r){var s=+e,a=+t;return s+r*(a-s)}),aSe=Bj(function(e,t,r){var s=t-+e;return s=s||1/0,(r-e)/s}),iSe=Bj(function(e,t,r){var s=t-+e;return s=s||1/0,Math.max(0,Math.min(1,(r-e)/s))});const zj={rangeStep:nSe,getDigitCount:rSe,interpolateNumber:sSe,uninterpolateNumber:aSe,uninterpolateTruncation:iSe};function fC(e){return cSe(e)||lSe(e)||wz(e)||oSe()}function oSe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lSe(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function cSe(e){if(Array.isArray(e))return mC(e)}function ng(e,t){return hSe(e)||uSe(e,t)||wz(e,t)||dSe()}function dSe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function wz(e,t){if(e){if(typeof e=="string")return mC(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return mC(e,t)}}function mC(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,s=new Array(t);r<t;r++)s[r]=e[r];return s}function uSe(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var r=[],s=!0,a=!1,i=void 0;try{for(var o=e[Symbol.iterator](),l;!(s=(l=o.next()).done)&&(r.push(l.value),!(t&&r.length===t));s=!0);}catch(c){a=!0,i=c}finally{try{!s&&o.return!=null&&o.return()}finally{if(a)throw i}}return r}}function hSe(e){if(Array.isArray(e))return e}function Nz(e){var t=ng(e,2),r=t[0],s=t[1],a=r,i=s;return r>s&&(a=s,i=r),[a,i]}function Sz(e,t,r){if(e.lte(0))return new Or(0);var s=zj.getDigitCount(e.toNumber()),a=new Or(10).pow(s),i=e.div(a),o=s!==1?.05:.1,l=new Or(Math.ceil(i.div(o).toNumber())).add(r).mul(o),c=l.mul(a);return t?c:new Or(Math.ceil(c))}function fSe(e,t,r){var s=1,a=new Or(e);if(!a.isint()&&r){var i=Math.abs(e);i<1?(s=new Or(10).pow(zj.getDigitCount(e)-1),a=new Or(Math.floor(a.div(s).toNumber())).mul(s)):i>1&&(a=new Or(Math.floor(e)))}else e===0?a=new Or(Math.floor((t-1)/2)):r||(a=new Or(Math.floor(e)));var o=Math.floor((t-1)/2),l=tSe(eSe(function(c){return a.add(new Or(c-o).mul(s)).toNumber()}),uC);return l(0,t)}function Cz(e,t,r,s){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(r-1)))return{step:new Or(0),tickMin:new Or(0),tickMax:new Or(0)};var i=Sz(new Or(t).sub(e).div(r-1),s,a),o;e<=0&&t>=0?o=new Or(0):(o=new Or(e).add(t).div(2),o=o.sub(new Or(o).mod(i)));var l=Math.ceil(o.sub(e).div(i).toNumber()),c=Math.ceil(new Or(t).sub(o).div(i).toNumber()),d=l+c+1;return d>r?Cz(e,t,r,s,a+1):(d<r&&(c=t>0?c+(r-d):c,l=t>0?l:l+(r-d)),{step:i,tickMin:o.sub(new Or(l).mul(i)),tickMax:o.add(new Or(c).mul(i))})}function mSe(e){var t=ng(e,2),r=t[0],s=t[1],a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(a,2),l=Nz([r,s]),c=ng(l,2),d=c[0],h=c[1];if(d===-1/0||h===1/0){var u=h===1/0?[d].concat(fC(uC(0,a-1).map(function(){return 1/0}))):[].concat(fC(uC(0,a-1).map(function(){return-1/0})),[h]);return r>s?hC(u):u}if(d===h)return fSe(d,a,i);var f=Cz(d,h,o,i),m=f.step,v=f.tickMin,x=f.tickMax,p=zj.rangeStep(v,x.add(new Or(.1).mul(m)),m);return r>s?hC(p):p}function pSe(e,t){var r=ng(e,2),s=r[0],a=r[1],i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Nz([s,a]),l=ng(o,2),c=l[0],d=l[1];if(c===-1/0||d===1/0)return[s,a];if(c===d)return[c];var h=Math.max(t,2),u=Sz(new Or(d).sub(c).div(h-1),i,0),f=[].concat(fC(zj.rangeStep(new Or(c),new Or(d).sub(new Or(.99).mul(u)),u)),[d]);return s>a?hC(f):f}var vSe=jz(mSe),gSe=jz(pSe),xSe=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Ff(e){"@babel/helpers - typeof";return Ff=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ff(e)}function Rb(){return Rb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},Rb.apply(this,arguments)}function ySe(e,t){return NSe(e)||wSe(e,t)||jSe(e,t)||bSe()}function bSe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jSe(e,t){if(e){if(typeof e=="string")return nO(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return nO(e,t)}}function nO(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,s=new Array(t);r<t;r++)s[r]=e[r];return s}function wSe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var s,a,i,o,l=[],c=!0,d=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(s=i.call(r)).done)&&(l.push(s.value),l.length!==t);c=!0);}catch(h){d=!0,a=h}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw a}}return l}}function NSe(e){if(Array.isArray(e))return e}function SSe(e,t){if(e==null)return{};var r=CSe(e,t),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(r[s]=e[s])}return r}function CSe(e,t){if(e==null)return{};var r={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;r[s]=e[s]}return r}function ASe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function sO(e,t){for(var r=0;r<t.length;r++){var s=t[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,Pz(s.key),s)}}function ESe(e,t,r){return t&&sO(e.prototype,t),r&&sO(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function PSe(e,t,r){return t=Fb(t),TSe(e,Az()?Reflect.construct(t,r||[],Fb(e).constructor):t.apply(e,r))}function TSe(e,t){if(t&&(Ff(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _Se(e)}function _Se(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Az(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Az=function(){return!!e})()}function Fb(e){return Fb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Fb(e)}function ISe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&pC(e,t)}function pC(e,t){return pC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},pC(e,t)}function Ez(e,t,r){return t=Pz(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Pz(e){var t=kSe(e,"string");return Ff(t)=="symbol"?t:t+""}function kSe(e,t){if(Ff(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(Ff(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ex=function(e){function t(){return ASe(this,t),PSe(this,t,arguments)}return ISe(t,e),ESe(t,[{key:"render",value:function(){var s=this.props,a=s.offset,i=s.layout,o=s.width,l=s.dataKey,c=s.data,d=s.dataPointFormatter,h=s.xAxis,u=s.yAxis,f=SSe(s,xSe),m=er(f,!1);this.props.direction==="x"&&h.type!=="number"&&Zc(!1);var v=c.map(function(x){var p=d(x,l),g=p.x,b=p.y,y=p.value,j=p.errorVal;if(!j)return null;var E=[],S,N;if(Array.isArray(j)){var w=ySe(j,2);S=w[0],N=w[1]}else S=N=j;if(i==="vertical"){var _=h.scale,k=b+a,T=k+o,A=k-o,O=_(y-S),D=_(y+N);E.push({x1:D,y1:T,x2:D,y2:A}),E.push({x1:O,y1:k,x2:D,y2:k}),E.push({x1:O,y1:T,x2:O,y2:A})}else if(i==="horizontal"){var F=u.scale,M=g+a,R=M-o,B=M+o,U=F(y-S),H=F(y+N);E.push({x1:R,y1:H,x2:B,y2:H}),E.push({x1:M,y1:U,x2:M,y2:H}),E.push({x1:R,y1:U,x2:B,y2:U})}return pe.createElement(Yr,Rb({className:"recharts-errorBar",key:"bar-".concat(E.map(function(q){return"".concat(q.x1,"-").concat(q.x2,"-").concat(q.y1,"-").concat(q.y2)}))},m),E.map(function(q){return pe.createElement("line",Rb({},q,{key:"line-".concat(q.x1,"-").concat(q.x2,"-").concat(q.y1,"-").concat(q.y2)}))}))});return pe.createElement(Yr,{className:"recharts-errorBars"},v)}}])}(pe.Component);Ez(ex,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});Ez(ex,"displayName","ErrorBar");function sg(e){"@babel/helpers - typeof";return sg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},sg(e)}function aO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function Id(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?aO(Object(r),!0).forEach(function(s){DSe(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):aO(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function DSe(e,t,r){return t=OSe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function OSe(e){var t=LSe(e,"string");return sg(t)=="symbol"?t:t+""}function LSe(e,t){if(sg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(sg(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Tz=function(t){var r=t.children,s=t.formattedGraphicalItems,a=t.legendWidth,i=t.legendContent,o=Oa(r,of);if(!o)return null;var l=of.defaultProps,c=l!==void 0?Id(Id({},l),o.props):{},d;return o.props&&o.props.payload?d=o.props&&o.props.payload:i==="children"?d=(s||[]).reduce(function(h,u){var f=u.item,m=u.props,v=m.sectors||m.data||[];return h.concat(v.map(function(x){return{type:o.props.iconType||f.props.legendType,value:x.name,color:x.fill,payload:x}}))},[]):d=(s||[]).map(function(h){var u=h.item,f=u.type.defaultProps,m=f!==void 0?Id(Id({},f),u.props):{},v=m.dataKey,x=m.name,p=m.legendType,g=m.hide;return{inactive:g,dataKey:v,type:c.iconType||p||"square",color:cP(u),value:x||v,payload:m}}),Id(Id(Id({},c),of.getWithHeight(o,a)),{},{payload:d,item:o})};function ag(e){"@babel/helpers - typeof";return ag=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ag(e)}function iO(e){return MSe(e)||$Se(e)||FSe(e)||RSe()}function RSe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function FSe(e,t){if(e){if(typeof e=="string")return vC(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return vC(e,t)}}function $Se(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function MSe(e){if(Array.isArray(e))return vC(e)}function vC(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,s=new Array(t);r<t;r++)s[r]=e[r];return s}function oO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function Nn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?oO(Object(r),!0).forEach(function(s){cf(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):oO(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function cf(e,t,r){return t=BSe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function BSe(e){var t=zSe(e,"string");return ag(t)=="symbol"?t:t+""}function zSe(e,t){if(ag(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(ag(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ea(e,t,r){return rr(e)||rr(t)?r:Zn(t)?vi(e,t,r):Zt(t)?t(e):r}function av(e,t,r,s){var a=B5e(e,function(l){return ea(l,t)});if(r==="number"){var i=a.filter(function(l){return it(l)||parseFloat(l)});return i.length?[Mj(i),_c(i)]:[1/0,-1/0]}var o=s?a.filter(function(l){return!rr(l)}):a;return o.map(function(l){return Zn(l)||l instanceof Date?l:""})}var USe=function(t){var r,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],a=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,o=-1,l=(r=s==null?void 0:s.length)!==null&&r!==void 0?r:0;if(l<=1)return 0;if(i&&i.axisType==="angleAxis"&&Math.abs(Math.abs(i.range[1]-i.range[0])-360)<=1e-6)for(var c=i.range,d=0;d<l;d++){var h=d>0?a[d-1].coordinate:a[l-1].coordinate,u=a[d].coordinate,f=d>=l-1?a[0].coordinate:a[d+1].coordinate,m=void 0;if(Ji(u-h)!==Ji(f-u)){var v=[];if(Ji(f-u)===Ji(c[1]-c[0])){m=f;var x=u+c[1]-c[0];v[0]=Math.min(x,(x+h)/2),v[1]=Math.max(x,(x+h)/2)}else{m=h;var p=f+c[1]-c[0];v[0]=Math.min(u,(p+u)/2),v[1]=Math.max(u,(p+u)/2)}var g=[Math.min(u,(m+u)/2),Math.max(u,(m+u)/2)];if(t>g[0]&&t<=g[1]||t>=v[0]&&t<=v[1]){o=a[d].index;break}}else{var b=Math.min(h,f),y=Math.max(h,f);if(t>(b+u)/2&&t<=(y+u)/2){o=a[d].index;break}}}else for(var j=0;j<l;j++)if(j===0&&t<=(s[j].coordinate+s[j+1].coordinate)/2||j>0&&j<l-1&&t>(s[j].coordinate+s[j-1].coordinate)/2&&t<=(s[j].coordinate+s[j+1].coordinate)/2||j===l-1&&t>(s[j].coordinate+s[j-1].coordinate)/2){o=s[j].index;break}return o},cP=function(t){var r,s=t,a=s.type.displayName,i=(r=t.type)!==null&&r!==void 0&&r.defaultProps?Nn(Nn({},t.type.defaultProps),t.props):t.props,o=i.stroke,l=i.fill,c;switch(a){case"Line":c=o;break;case"Area":case"Radar":c=o&&o!=="none"?o:l;break;default:c=l;break}return c},VSe=function(t){var r=t.barSize,s=t.totalSize,a=t.stackGroups,i=a===void 0?{}:a;if(!i)return{};for(var o={},l=Object.keys(i),c=0,d=l.length;c<d;c++)for(var h=i[l[c]].stackGroups,u=Object.keys(h),f=0,m=u.length;f<m;f++){var v=h[u[f]],x=v.items,p=v.cateAxisId,g=x.filter(function(N){return Cl(N.type).indexOf("Bar")>=0});if(g&&g.length){var b=g[0].type.defaultProps,y=b!==void 0?Nn(Nn({},b),g[0].props):g[0].props,j=y.barSize,E=y[p];o[E]||(o[E]=[]);var S=rr(j)?r:j;o[E].push({item:g[0],stackList:g.slice(1),barSize:rr(S)?void 0:ju(S,s,0)})}}return o},qSe=function(t){var r=t.barGap,s=t.barCategoryGap,a=t.bandSize,i=t.sizeList,o=i===void 0?[]:i,l=t.maxBarSize,c=o.length;if(c<1)return null;var d=ju(r,a,0,!0),h,u=[];if(o[0].barSize===+o[0].barSize){var f=!1,m=a/c,v=o.reduce(function(j,E){return j+E.barSize||0},0);v+=(c-1)*d,v>=a&&(v-=(c-1)*d,d=0),v>=a&&m>0&&(f=!0,m*=.9,v=c*m);var x=(a-v)/2>>0,p={offset:x-d,size:0};h=o.reduce(function(j,E){var S={item:E.item,position:{offset:p.offset+p.size+d,size:f?m:E.barSize}},N=[].concat(iO(j),[S]);return p=N[N.length-1].position,E.stackList&&E.stackList.length&&E.stackList.forEach(function(w){N.push({item:w,position:p})}),N},u)}else{var g=ju(s,a,0,!0);a-2*g-(c-1)*d<=0&&(d=0);var b=(a-2*g-(c-1)*d)/c;b>1&&(b>>=0);var y=l===+l?Math.min(b,l):b;h=o.reduce(function(j,E,S){var N=[].concat(iO(j),[{item:E.item,position:{offset:g+(b+d)*S+(b-y)/2,size:y}}]);return E.stackList&&E.stackList.length&&E.stackList.forEach(function(w){N.push({item:w,position:N[N.length-1].position})}),N},u)}return h},WSe=function(t,r,s,a){var i=s.children,o=s.width,l=s.margin,c=o-(l.left||0)-(l.right||0),d=Tz({children:i,legendWidth:c});if(d){var h=a||{},u=h.width,f=h.height,m=d.align,v=d.verticalAlign,x=d.layout;if((x==="vertical"||x==="horizontal"&&v==="middle")&&m!=="center"&&it(t[m]))return Nn(Nn({},t),{},cf({},m,t[m]+(u||0)));if((x==="horizontal"||x==="vertical"&&m==="center")&&v!=="middle"&&it(t[v]))return Nn(Nn({},t),{},cf({},v,t[v]+(f||0)))}return t},HSe=function(t,r,s){return rr(r)?!0:t==="horizontal"?r==="yAxis":t==="vertical"||s==="x"?r==="xAxis":s==="y"?r==="yAxis":!0},_z=function(t,r,s,a,i){var o=r.props.children,l=gi(o,ex).filter(function(d){return HSe(a,i,d.props.direction)});if(l&&l.length){var c=l.map(function(d){return d.props.dataKey});return t.reduce(function(d,h){var u=ea(h,s);if(rr(u))return d;var f=Array.isArray(u)?[Mj(u),_c(u)]:[u,u],m=c.reduce(function(v,x){var p=ea(h,x,0),g=f[0]-Math.abs(Array.isArray(p)?p[0]:p),b=f[1]+Math.abs(Array.isArray(p)?p[1]:p);return[Math.min(g,v[0]),Math.max(b,v[1])]},[1/0,-1/0]);return[Math.min(m[0],d[0]),Math.max(m[1],d[1])]},[1/0,-1/0])}return null},GSe=function(t,r,s,a,i){var o=r.map(function(l){return _z(t,l,s,i,a)}).filter(function(l){return!rr(l)});return o&&o.length?o.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]):null},Iz=function(t,r,s,a,i){var o=r.map(function(c){var d=c.props.dataKey;return s==="number"&&d&&_z(t,c,d,a)||av(t,d,s,i)});if(s==="number")return o.reduce(function(c,d){return[Math.min(c[0],d[0]),Math.max(c[1],d[1])]},[1/0,-1/0]);var l={};return o.reduce(function(c,d){for(var h=0,u=d.length;h<u;h++)l[d[h]]||(l[d[h]]=!0,c.push(d[h]));return c},[])},kz=function(t,r){return t==="horizontal"&&r==="xAxis"||t==="vertical"&&r==="yAxis"||t==="centric"&&r==="angleAxis"||t==="radial"&&r==="radiusAxis"},Dz=function(t,r,s,a){if(a)return t.map(function(c){return c.coordinate});var i,o,l=t.map(function(c){return c.coordinate===r&&(i=!0),c.coordinate===s&&(o=!0),c.coordinate});return i||l.push(r),o||l.push(s),l},Nl=function(t,r,s){if(!t)return null;var a=t.scale,i=t.duplicateDomain,o=t.type,l=t.range,c=t.realScaleType==="scaleBand"?a.bandwidth()/2:2,d=(r||s)&&o==="category"&&a.bandwidth?a.bandwidth()/c:0;if(d=t.axisType==="angleAxis"&&(l==null?void 0:l.length)>=2?Ji(l[0]-l[1])*2*d:d,r&&(t.ticks||t.niceTicks)){var h=(t.ticks||t.niceTicks).map(function(u){var f=i?i.indexOf(u):u;return{coordinate:a(f)+d,value:u,offset:d}});return h.filter(function(u){return!ym(u.coordinate)})}return t.isCategorical&&t.categoricalDomain?t.categoricalDomain.map(function(u,f){return{coordinate:a(u)+d,value:u,index:f,offset:d}}):a.ticks&&!s?a.ticks(t.tickCount).map(function(u){return{coordinate:a(u)+d,value:u,offset:d}}):a.domain().map(function(u,f){return{coordinate:a(u)+d,value:i?i[u]:u,index:f,offset:d}})},PN=new WeakMap,M0=function(t,r){if(typeof r!="function")return t;PN.has(t)||PN.set(t,new WeakMap);var s=PN.get(t);if(s.has(r))return s.get(r);var a=function(){t.apply(void 0,arguments),r.apply(void 0,arguments)};return s.set(r,a),a},KSe=function(t,r,s){var a=t.scale,i=t.type,o=t.layout,l=t.axisType;if(a==="auto")return o==="radial"&&l==="radiusAxis"?{scale:Qv(),realScaleType:"band"}:o==="radial"&&l==="angleAxis"?{scale:Ib(),realScaleType:"linear"}:i==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!s)?{scale:sv(),realScaleType:"point"}:i==="category"?{scale:Qv(),realScaleType:"band"}:{scale:Ib(),realScaleType:"linear"};if(bu(a)){var c="scale".concat(Aj(a));return{scale:(ZD[c]||sv)(),realScaleType:ZD[c]?c:"point"}}return Zt(a)?{scale:a}:{scale:sv(),realScaleType:"point"}},lO=1e-4,YSe=function(t){var r=t.domain();if(!(!r||r.length<=2)){var s=r.length,a=t.range(),i=Math.min(a[0],a[1])-lO,o=Math.max(a[0],a[1])+lO,l=t(r[0]),c=t(r[s-1]);(l<i||l>o||c<i||c>o)&&t.domain([r[0],r[s-1]])}},XSe=function(t,r){if(!t)return null;for(var s=0,a=t.length;s<a;s++)if(t[s].item===r)return t[s].position;return null},QSe=function(t,r){if(!r||r.length!==2||!it(r[0])||!it(r[1]))return t;var s=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]),i=[t[0],t[1]];return(!it(t[0])||t[0]<s)&&(i[0]=s),(!it(t[1])||t[1]>a)&&(i[1]=a),i[0]>a&&(i[0]=a),i[1]<s&&(i[1]=s),i},JSe=function(t){var r=t.length;if(!(r<=0))for(var s=0,a=t[0].length;s<a;++s)for(var i=0,o=0,l=0;l<r;++l){var c=ym(t[l][s][1])?t[l][s][0]:t[l][s][1];c>=0?(t[l][s][0]=i,t[l][s][1]=i+c,i=t[l][s][1]):(t[l][s][0]=o,t[l][s][1]=o+c,o=t[l][s][1])}},ZSe=function(t){var r=t.length;if(!(r<=0))for(var s=0,a=t[0].length;s<a;++s)for(var i=0,o=0;o<r;++o){var l=ym(t[o][s][1])?t[o][s][0]:t[o][s][1];l>=0?(t[o][s][0]=i,t[o][s][1]=i+l,i=t[o][s][1]):(t[o][s][0]=0,t[o][s][1]=0)}},eCe={sign:JSe,expand:ype,none:Pf,silhouette:bpe,wiggle:jpe,positive:ZSe},tCe=function(t,r,s){var a=r.map(function(l){return l.props.dataKey}),i=eCe[s],o=xpe().keys(a).value(function(l,c){return+ea(l,c,0)}).order(zS).offset(i);return o(t)},rCe=function(t,r,s,a,i,o){if(!t)return null;var l=o?r.reverse():r,c={},d=l.reduce(function(u,f){var m,v=(m=f.type)!==null&&m!==void 0&&m.defaultProps?Nn(Nn({},f.type.defaultProps),f.props):f.props,x=v.stackId,p=v.hide;if(p)return u;var g=v[s],b=u[g]||{hasStack:!1,stackGroups:{}};if(Zn(x)){var y=b.stackGroups[x]||{numericAxisId:s,cateAxisId:a,items:[]};y.items.push(f),b.hasStack=!0,b.stackGroups[x]=y}else b.stackGroups[bm("_stackId_")]={numericAxisId:s,cateAxisId:a,items:[f]};return Nn(Nn({},u),{},cf({},g,b))},c),h={};return Object.keys(d).reduce(function(u,f){var m=d[f];if(m.hasStack){var v={};m.stackGroups=Object.keys(m.stackGroups).reduce(function(x,p){var g=m.stackGroups[p];return Nn(Nn({},x),{},cf({},p,{numericAxisId:s,cateAxisId:a,items:g.items,stackedData:tCe(t,g.items,i)}))},v)}return Nn(Nn({},u),{},cf({},f,m))},h)},nCe=function(t,r){var s=r.realScaleType,a=r.type,i=r.tickCount,o=r.originalDomain,l=r.allowDecimals,c=s||r.scale;if(c!=="auto"&&c!=="linear")return null;if(i&&a==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var d=t.domain();if(!d.length)return null;var h=vSe(d,i,l);return t.domain([Mj(h),_c(h)]),{niceTicks:h}}if(i&&a==="number"){var u=t.domain(),f=gSe(u,i,l);return{niceTicks:f}}return null};function $b(e){var t=e.axis,r=e.ticks,s=e.bandSize,a=e.entry,i=e.index,o=e.dataKey;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!rr(a[t.dataKey])){var l=lb(r,"value",a[t.dataKey]);if(l)return l.coordinate+s/2}return r[i]?r[i].coordinate+s/2:null}var c=ea(a,rr(o)?t.dataKey:o);return rr(c)?null:t.scale(c)}var cO=function(t){var r=t.axis,s=t.ticks,a=t.offset,i=t.bandSize,o=t.entry,l=t.index;if(r.type==="category")return s[l]?s[l].coordinate+a:null;var c=ea(o,r.dataKey,r.domain[l]);return rr(c)?null:r.scale(c)-i/2+a},sCe=function(t){var r=t.numericAxis,s=r.scale.domain();if(r.type==="number"){var a=Math.min(s[0],s[1]),i=Math.max(s[0],s[1]);return a<=0&&i>=0?0:i<0?i:a}return s[0]},aCe=function(t,r){var s,a=(s=t.type)!==null&&s!==void 0&&s.defaultProps?Nn(Nn({},t.type.defaultProps),t.props):t.props,i=a.stackId;if(Zn(i)){var o=r[i];if(o){var l=o.items.indexOf(t);return l>=0?o.stackedData[l]:null}}return null},iCe=function(t){return t.reduce(function(r,s){return[Mj(s.concat([r[0]]).filter(it)),_c(s.concat([r[1]]).filter(it))]},[1/0,-1/0])},Oz=function(t,r,s){return Object.keys(t).reduce(function(a,i){var o=t[i],l=o.stackedData,c=l.reduce(function(d,h){var u=iCe(h.slice(r,s+1));return[Math.min(d[0],u[0]),Math.max(d[1],u[1])]},[1/0,-1/0]);return[Math.min(c[0],a[0]),Math.max(c[1],a[1])]},[1/0,-1/0]).map(function(a){return a===1/0||a===-1/0?0:a})},dO=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,uO=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,gC=function(t,r,s){if(Zt(t))return t(r,s);if(!Array.isArray(t))return r;var a=[];if(it(t[0]))a[0]=s?t[0]:Math.min(t[0],r[0]);else if(dO.test(t[0])){var i=+dO.exec(t[0])[1];a[0]=r[0]-i}else Zt(t[0])?a[0]=t[0](r[0]):a[0]=r[0];if(it(t[1]))a[1]=s?t[1]:Math.max(t[1],r[1]);else if(uO.test(t[1])){var o=+uO.exec(t[1])[1];a[1]=r[1]+o}else Zt(t[1])?a[1]=t[1](r[1]):a[1]=r[1];return a},Mb=function(t,r,s){if(t&&t.scale&&t.scale.bandwidth){var a=t.scale.bandwidth();if(!s||a>0)return a}if(t&&r&&r.length>=2){for(var i=FE(r,function(u){return u.coordinate}),o=1/0,l=1,c=i.length;l<c;l++){var d=i[l],h=i[l-1];o=Math.min((d.coordinate||0)-(h.coordinate||0),o)}return o===1/0?0:o}return s?void 0:0},hO=function(t,r,s){return!t||!t.length||Rf(t,vi(s,"type.defaultProps.domain"))?r:t},Lz=function(t,r){var s=t.type.defaultProps?Nn(Nn({},t.type.defaultProps),t.props):t.props,a=s.dataKey,i=s.name,o=s.unit,l=s.formatter,c=s.tooltipType,d=s.chartType,h=s.hide;return Nn(Nn({},er(t,!1)),{},{dataKey:a,unit:o,formatter:l,name:i||a,color:cP(t),value:ea(r,a),type:c,payload:r,chartType:d,hide:h})};function ig(e){"@babel/helpers - typeof";return ig=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ig(e)}function fO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function mO(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?fO(Object(r),!0).forEach(function(s){oCe(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fO(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function oCe(e,t,r){return t=lCe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lCe(e){var t=cCe(e,"string");return ig(t)=="symbol"?t:t+""}function cCe(e,t){if(ig(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(ig(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Bb=Math.PI/180,dCe=function(t){return t*180/Math.PI},Cs=function(t,r,s,a){return{x:t+Math.cos(-Bb*a)*s,y:r+Math.sin(-Bb*a)*s}},uCe=function(t,r){var s=t.x,a=t.y,i=r.x,o=r.y;return Math.sqrt(Math.pow(s-i,2)+Math.pow(a-o,2))},hCe=function(t,r){var s=t.x,a=t.y,i=r.cx,o=r.cy,l=uCe({x:s,y:a},{x:i,y:o});if(l<=0)return{radius:l};var c=(s-i)/l,d=Math.acos(c);return a>o&&(d=2*Math.PI-d),{radius:l,angle:dCe(d),angleInRadian:d}},fCe=function(t){var r=t.startAngle,s=t.endAngle,a=Math.floor(r/360),i=Math.floor(s/360),o=Math.min(a,i);return{startAngle:r-o*360,endAngle:s-o*360}},mCe=function(t,r){var s=r.startAngle,a=r.endAngle,i=Math.floor(s/360),o=Math.floor(a/360),l=Math.min(i,o);return t+l*360},pO=function(t,r){var s=t.x,a=t.y,i=hCe({x:s,y:a},r),o=i.radius,l=i.angle,c=r.innerRadius,d=r.outerRadius;if(o<c||o>d)return!1;if(o===0)return!0;var h=fCe(r),u=h.startAngle,f=h.endAngle,m=l,v;if(u<=f){for(;m>f;)m-=360;for(;m<u;)m+=360;v=m>=u&&m<=f}else{for(;m>u;)m-=360;for(;m<f;)m+=360;v=m>=f&&m<=u}return v?mO(mO({},r),{},{radius:o,angle:mCe(m,r)}):null};function og(e){"@babel/helpers - typeof";return og=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},og(e)}var pCe=["offset"];function vCe(e){return bCe(e)||yCe(e)||xCe(e)||gCe()}function gCe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xCe(e,t){if(e){if(typeof e=="string")return xC(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return xC(e,t)}}function yCe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function bCe(e){if(Array.isArray(e))return xC(e)}function xC(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,s=new Array(t);r<t;r++)s[r]=e[r];return s}function jCe(e,t){if(e==null)return{};var r=wCe(e,t),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(r[s]=e[s])}return r}function wCe(e,t){if(e==null)return{};var r={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;r[s]=e[s]}return r}function vO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function Kn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?vO(Object(r),!0).forEach(function(s){NCe(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vO(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function NCe(e,t,r){return t=SCe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function SCe(e){var t=CCe(e,"string");return og(t)=="symbol"?t:t+""}function CCe(e,t){if(og(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(og(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function lg(){return lg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},lg.apply(this,arguments)}var ACe=function(t){var r=t.value,s=t.formatter,a=rr(t.children)?r:t.children;return Zt(s)?s(a):a},ECe=function(t,r){var s=Ji(r-t),a=Math.min(Math.abs(r-t),360);return s*a},PCe=function(t,r,s){var a=t.position,i=t.viewBox,o=t.offset,l=t.className,c=i,d=c.cx,h=c.cy,u=c.innerRadius,f=c.outerRadius,m=c.startAngle,v=c.endAngle,x=c.clockWise,p=(u+f)/2,g=ECe(m,v),b=g>=0?1:-1,y,j;a==="insideStart"?(y=m+b*o,j=x):a==="insideEnd"?(y=v-b*o,j=!x):a==="end"&&(y=v+b*o,j=x),j=g<=0?j:!j;var E=Cs(d,h,p,y),S=Cs(d,h,p,y+(j?1:-1)*359),N="M".concat(E.x,",").concat(E.y,`
    A`).concat(p,",").concat(p,",0,1,").concat(j?0:1,`,
    `).concat(S.x,",").concat(S.y),w=rr(t.id)?bm("recharts-radial-line-"):t.id;return pe.createElement("text",lg({},s,{dominantBaseline:"central",className:cr("recharts-radial-bar-label",l)}),pe.createElement("defs",null,pe.createElement("path",{id:w,d:N})),pe.createElement("textPath",{xlinkHref:"#".concat(w)},r))},TCe=function(t){var r=t.viewBox,s=t.offset,a=t.position,i=r,o=i.cx,l=i.cy,c=i.innerRadius,d=i.outerRadius,h=i.startAngle,u=i.endAngle,f=(h+u)/2;if(a==="outside"){var m=Cs(o,l,d+s,f),v=m.x,x=m.y;return{x:v,y:x,textAnchor:v>=o?"start":"end",verticalAnchor:"middle"}}if(a==="center")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"middle"};if(a==="centerTop")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"start"};if(a==="centerBottom")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"end"};var p=(c+d)/2,g=Cs(o,l,p,f),b=g.x,y=g.y;return{x:b,y,textAnchor:"middle",verticalAnchor:"middle"}},_Ce=function(t){var r=t.viewBox,s=t.parentViewBox,a=t.offset,i=t.position,o=r,l=o.x,c=o.y,d=o.width,h=o.height,u=h>=0?1:-1,f=u*a,m=u>0?"end":"start",v=u>0?"start":"end",x=d>=0?1:-1,p=x*a,g=x>0?"end":"start",b=x>0?"start":"end";if(i==="top"){var y={x:l+d/2,y:c-u*a,textAnchor:"middle",verticalAnchor:m};return Kn(Kn({},y),s?{height:Math.max(c-s.y,0),width:d}:{})}if(i==="bottom"){var j={x:l+d/2,y:c+h+f,textAnchor:"middle",verticalAnchor:v};return Kn(Kn({},j),s?{height:Math.max(s.y+s.height-(c+h),0),width:d}:{})}if(i==="left"){var E={x:l-p,y:c+h/2,textAnchor:g,verticalAnchor:"middle"};return Kn(Kn({},E),s?{width:Math.max(E.x-s.x,0),height:h}:{})}if(i==="right"){var S={x:l+d+p,y:c+h/2,textAnchor:b,verticalAnchor:"middle"};return Kn(Kn({},S),s?{width:Math.max(s.x+s.width-S.x,0),height:h}:{})}var N=s?{width:d,height:h}:{};return i==="insideLeft"?Kn({x:l+p,y:c+h/2,textAnchor:b,verticalAnchor:"middle"},N):i==="insideRight"?Kn({x:l+d-p,y:c+h/2,textAnchor:g,verticalAnchor:"middle"},N):i==="insideTop"?Kn({x:l+d/2,y:c+f,textAnchor:"middle",verticalAnchor:v},N):i==="insideBottom"?Kn({x:l+d/2,y:c+h-f,textAnchor:"middle",verticalAnchor:m},N):i==="insideTopLeft"?Kn({x:l+p,y:c+f,textAnchor:b,verticalAnchor:v},N):i==="insideTopRight"?Kn({x:l+d-p,y:c+f,textAnchor:g,verticalAnchor:v},N):i==="insideBottomLeft"?Kn({x:l+p,y:c+h-f,textAnchor:b,verticalAnchor:m},N):i==="insideBottomRight"?Kn({x:l+d-p,y:c+h-f,textAnchor:g,verticalAnchor:m},N):pm(i)&&(it(i.x)||Qd(i.x))&&(it(i.y)||Qd(i.y))?Kn({x:l+ju(i.x,d),y:c+ju(i.y,h),textAnchor:"end",verticalAnchor:"end"},N):Kn({x:l+d/2,y:c+h/2,textAnchor:"middle",verticalAnchor:"middle"},N)},ICe=function(t){return"cx"in t&&it(t.cx)};function Bs(e){var t=e.offset,r=t===void 0?5:t,s=jCe(e,pCe),a=Kn({offset:r},s),i=a.viewBox,o=a.position,l=a.value,c=a.children,d=a.content,h=a.className,u=h===void 0?"":h,f=a.textBreakAll;if(!i||rr(l)&&rr(c)&&!C.isValidElement(d)&&!Zt(d))return null;if(C.isValidElement(d))return C.cloneElement(d,a);var m;if(Zt(d)){if(m=C.createElement(d,a),C.isValidElement(m))return m}else m=ACe(a);var v=ICe(i),x=er(a,!0);if(v&&(o==="insideStart"||o==="insideEnd"||o==="end"))return PCe(a,m,x);var p=v?TCe(a):_Ce(a);return pe.createElement(Sb,lg({className:cr("recharts-label",u)},x,p,{breakAll:f}),m)}Bs.displayName="Label";var Rz=function(t){var r=t.cx,s=t.cy,a=t.angle,i=t.startAngle,o=t.endAngle,l=t.r,c=t.radius,d=t.innerRadius,h=t.outerRadius,u=t.x,f=t.y,m=t.top,v=t.left,x=t.width,p=t.height,g=t.clockWise,b=t.labelViewBox;if(b)return b;if(it(x)&&it(p)){if(it(u)&&it(f))return{x:u,y:f,width:x,height:p};if(it(m)&&it(v))return{x:m,y:v,width:x,height:p}}return it(u)&&it(f)?{x:u,y:f,width:0,height:0}:it(r)&&it(s)?{cx:r,cy:s,startAngle:i||a||0,endAngle:o||a||0,innerRadius:d||0,outerRadius:h||c||l||0,clockWise:g}:t.viewBox?t.viewBox:{}},kCe=function(t,r){return t?t===!0?pe.createElement(Bs,{key:"label-implicit",viewBox:r}):Zn(t)?pe.createElement(Bs,{key:"label-implicit",viewBox:r,value:t}):C.isValidElement(t)?t.type===Bs?C.cloneElement(t,{key:"label-implicit",viewBox:r}):pe.createElement(Bs,{key:"label-implicit",content:t,viewBox:r}):Zt(t)?pe.createElement(Bs,{key:"label-implicit",content:t,viewBox:r}):pm(t)?pe.createElement(Bs,lg({viewBox:r},t,{key:"label-implicit"})):null:null},DCe=function(t,r){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&s&&!t.label)return null;var a=t.children,i=Rz(t),o=gi(a,Bs).map(function(c,d){return C.cloneElement(c,{viewBox:r||i,key:"label-".concat(d)})});if(!s)return o;var l=kCe(t.label,r||i);return[l].concat(vCe(o))};Bs.parseViewBox=Rz;Bs.renderCallByParent=DCe;function OCe(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var LCe=OCe;const RCe=Cr(LCe);function cg(e){"@babel/helpers - typeof";return cg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},cg(e)}var FCe=["valueAccessor"],$Ce=["data","dataKey","clockWise","id","textBreakAll"];function MCe(e){return VCe(e)||UCe(e)||zCe(e)||BCe()}function BCe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zCe(e,t){if(e){if(typeof e=="string")return yC(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return yC(e,t)}}function UCe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function VCe(e){if(Array.isArray(e))return yC(e)}function yC(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,s=new Array(t);r<t;r++)s[r]=e[r];return s}function zb(){return zb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},zb.apply(this,arguments)}function gO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function xO(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?gO(Object(r),!0).forEach(function(s){qCe(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gO(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function qCe(e,t,r){return t=WCe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function WCe(e){var t=HCe(e,"string");return cg(t)=="symbol"?t:t+""}function HCe(e,t){if(cg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(cg(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function yO(e,t){if(e==null)return{};var r=GCe(e,t),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(r[s]=e[s])}return r}function GCe(e,t){if(e==null)return{};var r={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;r[s]=e[s]}return r}var KCe=function(t){return Array.isArray(t.value)?RCe(t.value):t.value};function Pl(e){var t=e.valueAccessor,r=t===void 0?KCe:t,s=yO(e,FCe),a=s.data,i=s.dataKey,o=s.clockWise,l=s.id,c=s.textBreakAll,d=yO(s,$Ce);return!a||!a.length?null:pe.createElement(Yr,{className:"recharts-label-list"},a.map(function(h,u){var f=rr(i)?r(h,u):ea(h&&h.payload,i),m=rr(l)?{}:{id:"".concat(l,"-").concat(u)};return pe.createElement(Bs,zb({},er(h,!0),d,m,{parentViewBox:h.parentViewBox,value:f,textBreakAll:c,viewBox:Bs.parseViewBox(rr(o)?h:xO(xO({},h),{},{clockWise:o})),key:"label-".concat(u),index:u}))}))}Pl.displayName="LabelList";function YCe(e,t){return e?e===!0?pe.createElement(Pl,{key:"labelList-implicit",data:t}):pe.isValidElement(e)||Zt(e)?pe.createElement(Pl,{key:"labelList-implicit",data:t,content:e}):pm(e)?pe.createElement(Pl,zb({data:t},e,{key:"labelList-implicit"})):null:null}function XCe(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var s=e.children,a=gi(s,Pl).map(function(o,l){return C.cloneElement(o,{data:t,key:"labelList-".concat(l)})});if(!r)return a;var i=YCe(e.label,t);return[i].concat(MCe(a))}Pl.renderCallByParent=XCe;function dg(e){"@babel/helpers - typeof";return dg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},dg(e)}function bC(){return bC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},bC.apply(this,arguments)}function bO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function jO(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?bO(Object(r),!0).forEach(function(s){QCe(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bO(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function QCe(e,t,r){return t=JCe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function JCe(e){var t=ZCe(e,"string");return dg(t)=="symbol"?t:t+""}function ZCe(e,t){if(dg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(dg(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var eAe=function(t,r){var s=Ji(r-t),a=Math.min(Math.abs(r-t),359.999);return s*a},B0=function(t){var r=t.cx,s=t.cy,a=t.radius,i=t.angle,o=t.sign,l=t.isExternal,c=t.cornerRadius,d=t.cornerIsExternal,h=c*(l?1:-1)+a,u=Math.asin(c/h)/Bb,f=d?i:i+o*u,m=Cs(r,s,h,f),v=Cs(r,s,a,f),x=d?i-o*u:i,p=Cs(r,s,h*Math.cos(u*Bb),x);return{center:m,circleTangency:v,lineTangency:p,theta:u}},Fz=function(t){var r=t.cx,s=t.cy,a=t.innerRadius,i=t.outerRadius,o=t.startAngle,l=t.endAngle,c=eAe(o,l),d=o+c,h=Cs(r,s,i,o),u=Cs(r,s,i,d),f="M ".concat(h.x,",").concat(h.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(o>d),`,
    `).concat(u.x,",").concat(u.y,`
  `);if(a>0){var m=Cs(r,s,a,o),v=Cs(r,s,a,d);f+="L ".concat(v.x,",").concat(v.y,`
            A `).concat(a,",").concat(a,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(o<=d),`,
            `).concat(m.x,",").concat(m.y," Z")}else f+="L ".concat(r,",").concat(s," Z");return f},tAe=function(t){var r=t.cx,s=t.cy,a=t.innerRadius,i=t.outerRadius,o=t.cornerRadius,l=t.forceCornerRadius,c=t.cornerIsExternal,d=t.startAngle,h=t.endAngle,u=Ji(h-d),f=B0({cx:r,cy:s,radius:i,angle:d,sign:u,cornerRadius:o,cornerIsExternal:c}),m=f.circleTangency,v=f.lineTangency,x=f.theta,p=B0({cx:r,cy:s,radius:i,angle:h,sign:-u,cornerRadius:o,cornerIsExternal:c}),g=p.circleTangency,b=p.lineTangency,y=p.theta,j=c?Math.abs(d-h):Math.abs(d-h)-x-y;if(j<0)return l?"M ".concat(v.x,",").concat(v.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):Fz({cx:r,cy:s,innerRadius:a,outerRadius:i,startAngle:d,endAngle:h});var E="M ".concat(v.x,",").concat(v.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(u<0),",").concat(m.x,",").concat(m.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(j>180),",").concat(+(u<0),",").concat(g.x,",").concat(g.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(u<0),",").concat(b.x,",").concat(b.y,`
  `);if(a>0){var S=B0({cx:r,cy:s,radius:a,angle:d,sign:u,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),N=S.circleTangency,w=S.lineTangency,_=S.theta,k=B0({cx:r,cy:s,radius:a,angle:h,sign:-u,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),T=k.circleTangency,A=k.lineTangency,O=k.theta,D=c?Math.abs(d-h):Math.abs(d-h)-_-O;if(D<0&&o===0)return"".concat(E,"L").concat(r,",").concat(s,"Z");E+="L".concat(A.x,",").concat(A.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(u<0),",").concat(T.x,",").concat(T.y,`
      A`).concat(a,",").concat(a,",0,").concat(+(D>180),",").concat(+(u>0),",").concat(N.x,",").concat(N.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(u<0),",").concat(w.x,",").concat(w.y,"Z")}else E+="L".concat(r,",").concat(s,"Z");return E},rAe={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},$z=function(t){var r=jO(jO({},rAe),t),s=r.cx,a=r.cy,i=r.innerRadius,o=r.outerRadius,l=r.cornerRadius,c=r.forceCornerRadius,d=r.cornerIsExternal,h=r.startAngle,u=r.endAngle,f=r.className;if(o<i||h===u)return null;var m=cr("recharts-sector",f),v=o-i,x=ju(l,v,0,!0),p;return x>0&&Math.abs(h-u)<360?p=tAe({cx:s,cy:a,innerRadius:i,outerRadius:o,cornerRadius:Math.min(x,v/2),forceCornerRadius:c,cornerIsExternal:d,startAngle:h,endAngle:u}):p=Fz({cx:s,cy:a,innerRadius:i,outerRadius:o,startAngle:h,endAngle:u}),pe.createElement("path",bC({},er(r,!0),{className:m,d:p,role:"img"}))};function ug(e){"@babel/helpers - typeof";return ug=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ug(e)}function jC(){return jC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},jC.apply(this,arguments)}function wO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function NO(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?wO(Object(r),!0).forEach(function(s){nAe(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wO(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function nAe(e,t,r){return t=sAe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function sAe(e){var t=aAe(e,"string");return ug(t)=="symbol"?t:t+""}function aAe(e,t){if(ug(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(ug(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var SO={curveBasisClosed:ope,curveBasisOpen:lpe,curveBasis:ipe,curveBumpX:Hme,curveBumpY:Gme,curveLinearClosed:cpe,curveLinear:Pj,curveMonotoneX:dpe,curveMonotoneY:upe,curveNatural:hpe,curveStep:fpe,curveStepAfter:ppe,curveStepBefore:mpe},z0=function(t){return t.x===+t.x&&t.y===+t.y},Pp=function(t){return t.x},Tp=function(t){return t.y},iAe=function(t,r){if(Zt(t))return t;var s="curve".concat(Aj(t));return(s==="curveMonotone"||s==="curveBump")&&r?SO["".concat(s).concat(r==="vertical"?"Y":"X")]:SO[s]||Pj},oAe=function(t){var r=t.type,s=r===void 0?"linear":r,a=t.points,i=a===void 0?[]:a,o=t.baseLine,l=t.layout,c=t.connectNulls,d=c===void 0?!1:c,h=iAe(s,l),u=d?i.filter(function(x){return z0(x)}):i,f;if(Array.isArray(o)){var m=d?o.filter(function(x){return z0(x)}):o,v=u.map(function(x,p){return NO(NO({},x),{},{base:m[p]})});return l==="vertical"?f=I0().y(Tp).x1(Pp).x0(function(x){return x.base.x}):f=I0().x(Pp).y1(Tp).y0(function(x){return x.base.y}),f.defined(z0).curve(h),f(v)}return l==="vertical"&&it(o)?f=I0().y(Tp).x1(Pp).x0(o):it(o)?f=I0().x(Pp).y1(Tp).y0(o):f=$B().x(Pp).y(Tp),f.defined(z0).curve(h),f(u)},df=function(t){var r=t.className,s=t.points,a=t.path,i=t.pathRef;if((!s||!s.length)&&!a)return null;var o=s&&s.length?oAe(t):a;return C.createElement("path",jC({},er(t,!1),cb(t),{className:cr("recharts-curve",r),d:o,ref:i}))},lAe=Object.getOwnPropertyNames,cAe=Object.getOwnPropertySymbols,dAe=Object.prototype.hasOwnProperty;function CO(e,t){return function(s,a,i){return e(s,a,i)&&t(s,a,i)}}function U0(e){return function(r,s,a){if(!r||!s||typeof r!="object"||typeof s!="object")return e(r,s,a);var i=a.cache,o=i.get(r),l=i.get(s);if(o&&l)return o===s&&l===r;i.set(r,s),i.set(s,r);var c=e(r,s,a);return i.delete(r),i.delete(s),c}}function AO(e){return lAe(e).concat(cAe(e))}var uAe=Object.hasOwn||function(e,t){return dAe.call(e,t)};function $u(e,t){return e===t||!e&&!t&&e!==e&&t!==t}var hAe="__v",fAe="__o",mAe="_owner",EO=Object.getOwnPropertyDescriptor,PO=Object.keys;function pAe(e,t,r){var s=e.length;if(t.length!==s)return!1;for(;s-- >0;)if(!r.equals(e[s],t[s],s,s,e,t,r))return!1;return!0}function vAe(e,t){return $u(e.getTime(),t.getTime())}function gAe(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function xAe(e,t){return e===t}function TO(e,t,r){var s=e.size;if(s!==t.size)return!1;if(!s)return!0;for(var a=new Array(s),i=e.entries(),o,l,c=0;(o=i.next())&&!o.done;){for(var d=t.entries(),h=!1,u=0;(l=d.next())&&!l.done;){if(a[u]){u++;continue}var f=o.value,m=l.value;if(r.equals(f[0],m[0],c,u,e,t,r)&&r.equals(f[1],m[1],f[0],m[0],e,t,r)){h=a[u]=!0;break}u++}if(!h)return!1;c++}return!0}var yAe=$u;function bAe(e,t,r){var s=PO(e),a=s.length;if(PO(t).length!==a)return!1;for(;a-- >0;)if(!Mz(e,t,r,s[a]))return!1;return!0}function _p(e,t,r){var s=AO(e),a=s.length;if(AO(t).length!==a)return!1;for(var i,o,l;a-- >0;)if(i=s[a],!Mz(e,t,r,i)||(o=EO(e,i),l=EO(t,i),(o||l)&&(!o||!l||o.configurable!==l.configurable||o.enumerable!==l.enumerable||o.writable!==l.writable)))return!1;return!0}function jAe(e,t){return $u(e.valueOf(),t.valueOf())}function wAe(e,t){return e.source===t.source&&e.flags===t.flags}function _O(e,t,r){var s=e.size;if(s!==t.size)return!1;if(!s)return!0;for(var a=new Array(s),i=e.values(),o,l;(o=i.next())&&!o.done;){for(var c=t.values(),d=!1,h=0;(l=c.next())&&!l.done;){if(!a[h]&&r.equals(o.value,l.value,o.value,l.value,e,t,r)){d=a[h]=!0;break}h++}if(!d)return!1}return!0}function NAe(e,t){var r=e.length;if(t.length!==r)return!1;for(;r-- >0;)if(e[r]!==t[r])return!1;return!0}function SAe(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function Mz(e,t,r,s){return(s===mAe||s===fAe||s===hAe)&&(e.$$typeof||t.$$typeof)?!0:uAe(t,s)&&r.equals(e[s],t[s],s,s,e,t,r)}var CAe="[object Arguments]",AAe="[object Boolean]",EAe="[object Date]",PAe="[object Error]",TAe="[object Map]",_Ae="[object Number]",IAe="[object Object]",kAe="[object RegExp]",DAe="[object Set]",OAe="[object String]",LAe="[object URL]",RAe=Array.isArray,IO=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,kO=Object.assign,FAe=Object.prototype.toString.call.bind(Object.prototype.toString);function $Ae(e){var t=e.areArraysEqual,r=e.areDatesEqual,s=e.areErrorsEqual,a=e.areFunctionsEqual,i=e.areMapsEqual,o=e.areNumbersEqual,l=e.areObjectsEqual,c=e.arePrimitiveWrappersEqual,d=e.areRegExpsEqual,h=e.areSetsEqual,u=e.areTypedArraysEqual,f=e.areUrlsEqual;return function(v,x,p){if(v===x)return!0;if(v==null||x==null)return!1;var g=typeof v;if(g!==typeof x)return!1;if(g!=="object")return g==="number"?o(v,x,p):g==="function"?a(v,x,p):!1;var b=v.constructor;if(b!==x.constructor)return!1;if(b===Object)return l(v,x,p);if(RAe(v))return t(v,x,p);if(IO!=null&&IO(v))return u(v,x,p);if(b===Date)return r(v,x,p);if(b===RegExp)return d(v,x,p);if(b===Map)return i(v,x,p);if(b===Set)return h(v,x,p);var y=FAe(v);return y===EAe?r(v,x,p):y===kAe?d(v,x,p):y===TAe?i(v,x,p):y===DAe?h(v,x,p):y===IAe?typeof v.then!="function"&&typeof x.then!="function"&&l(v,x,p):y===LAe?f(v,x,p):y===PAe?s(v,x,p):y===CAe?l(v,x,p):y===AAe||y===_Ae||y===OAe?c(v,x,p):!1}}function MAe(e){var t=e.circular,r=e.createCustomConfig,s=e.strict,a={areArraysEqual:s?_p:pAe,areDatesEqual:vAe,areErrorsEqual:gAe,areFunctionsEqual:xAe,areMapsEqual:s?CO(TO,_p):TO,areNumbersEqual:yAe,areObjectsEqual:s?_p:bAe,arePrimitiveWrappersEqual:jAe,areRegExpsEqual:wAe,areSetsEqual:s?CO(_O,_p):_O,areTypedArraysEqual:s?_p:NAe,areUrlsEqual:SAe};if(r&&(a=kO({},a,r(a))),t){var i=U0(a.areArraysEqual),o=U0(a.areMapsEqual),l=U0(a.areObjectsEqual),c=U0(a.areSetsEqual);a=kO({},a,{areArraysEqual:i,areMapsEqual:o,areObjectsEqual:l,areSetsEqual:c})}return a}function BAe(e){return function(t,r,s,a,i,o,l){return e(t,r,l)}}function zAe(e){var t=e.circular,r=e.comparator,s=e.createState,a=e.equals,i=e.strict;if(s)return function(c,d){var h=s(),u=h.cache,f=u===void 0?t?new WeakMap:void 0:u,m=h.meta;return r(c,d,{cache:f,equals:a,meta:m,strict:i})};if(t)return function(c,d){return r(c,d,{cache:new WeakMap,equals:a,meta:void 0,strict:i})};var o={cache:void 0,equals:a,meta:void 0,strict:i};return function(c,d){return r(c,d,o)}}var UAe=pd();pd({strict:!0});pd({circular:!0});pd({circular:!0,strict:!0});pd({createInternalComparator:function(){return $u}});pd({strict:!0,createInternalComparator:function(){return $u}});pd({circular:!0,createInternalComparator:function(){return $u}});pd({circular:!0,createInternalComparator:function(){return $u},strict:!0});function pd(e){e===void 0&&(e={});var t=e.circular,r=t===void 0?!1:t,s=e.createInternalComparator,a=e.createState,i=e.strict,o=i===void 0?!1:i,l=MAe(e),c=$Ae(l),d=s?s(c):BAe(c);return zAe({circular:r,comparator:c,createState:a,equals:d,strict:o})}function VAe(e){typeof requestAnimationFrame<"u"&&requestAnimationFrame(e)}function DO(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,s=function a(i){r<0&&(r=i),i-r>t?(e(i),r=-1):VAe(a)};requestAnimationFrame(s)}function wC(e){"@babel/helpers - typeof";return wC=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wC(e)}function qAe(e){return KAe(e)||GAe(e)||HAe(e)||WAe()}function WAe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function HAe(e,t){if(e){if(typeof e=="string")return OO(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return OO(e,t)}}function OO(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,s=new Array(t);r<t;r++)s[r]=e[r];return s}function GAe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function KAe(e){if(Array.isArray(e))return e}function YAe(){var e={},t=function(){return null},r=!1,s=function a(i){if(!r){if(Array.isArray(i)){if(!i.length)return;var o=i,l=qAe(o),c=l[0],d=l.slice(1);if(typeof c=="number"){DO(a.bind(null,d),c);return}a(c),DO(a.bind(null,d));return}wC(i)==="object"&&(e=i,t(e)),typeof i=="function"&&i()}};return{stop:function(){r=!0},start:function(i){r=!1,s(i)},subscribe:function(i){return t=i,function(){t=function(){return null}}}}}function hg(e){"@babel/helpers - typeof";return hg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hg(e)}function LO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function RO(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?LO(Object(r),!0).forEach(function(s){Bz(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):LO(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function Bz(e,t,r){return t=XAe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function XAe(e){var t=QAe(e,"string");return hg(t)==="symbol"?t:String(t)}function QAe(e,t){if(hg(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(hg(s)!=="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var JAe=function(t,r){return[Object.keys(t),Object.keys(r)].reduce(function(s,a){return s.filter(function(i){return a.includes(i)})})},ZAe=function(t){return t},e4e=function(t){return t.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},iv=function(t,r){return Object.keys(r).reduce(function(s,a){return RO(RO({},s),{},Bz({},a,t(a,r[a])))},{})},FO=function(t,r,s){return t.map(function(a){return"".concat(e4e(a)," ").concat(r,"ms ").concat(s)}).join(",")};function t4e(e,t){return s4e(e)||n4e(e,t)||zz(e,t)||r4e()}function r4e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function n4e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var s,a,i,o,l=[],c=!0,d=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(s=i.call(r)).done)&&(l.push(s.value),l.length!==t);c=!0);}catch(h){d=!0,a=h}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw a}}return l}}function s4e(e){if(Array.isArray(e))return e}function a4e(e){return l4e(e)||o4e(e)||zz(e)||i4e()}function i4e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zz(e,t){if(e){if(typeof e=="string")return NC(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return NC(e,t)}}function o4e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function l4e(e){if(Array.isArray(e))return NC(e)}function NC(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,s=new Array(t);r<t;r++)s[r]=e[r];return s}var Ub=1e-4,Uz=function(t,r){return[0,3*t,3*r-6*t,3*t-3*r+1]},Vz=function(t,r){return t.map(function(s,a){return s*Math.pow(r,a)}).reduce(function(s,a){return s+a})},$O=function(t,r){return function(s){var a=Uz(t,r);return Vz(a,s)}},c4e=function(t,r){return function(s){var a=Uz(t,r),i=[].concat(a4e(a.map(function(o,l){return o*l}).slice(1)),[0]);return Vz(i,s)}},MO=function(){for(var t=arguments.length,r=new Array(t),s=0;s<t;s++)r[s]=arguments[s];var a=r[0],i=r[1],o=r[2],l=r[3];if(r.length===1)switch(r[0]){case"linear":a=0,i=0,o=1,l=1;break;case"ease":a=.25,i=.1,o=.25,l=1;break;case"ease-in":a=.42,i=0,o=1,l=1;break;case"ease-out":a=.42,i=0,o=.58,l=1;break;case"ease-in-out":a=0,i=0,o=.58,l=1;break;default:{var c=r[0].split("(");if(c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4){var d=c[1].split(")")[0].split(",").map(function(p){return parseFloat(p)}),h=t4e(d,4);a=h[0],i=h[1],o=h[2],l=h[3]}}}var u=$O(a,o),f=$O(i,l),m=c4e(a,o),v=function(g){return g>1?1:g<0?0:g},x=function(g){for(var b=g>1?1:g,y=b,j=0;j<8;++j){var E=u(y)-b,S=m(y);if(Math.abs(E-b)<Ub||S<Ub)return f(y);y=v(y-E/S)}return f(y)};return x.isStepper=!1,x},d4e=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.stiff,s=r===void 0?100:r,a=t.damping,i=a===void 0?8:a,o=t.dt,l=o===void 0?17:o,c=function(h,u,f){var m=-(h-u)*s,v=f*i,x=f+(m-v)*l/1e3,p=f*l/1e3+h;return Math.abs(p-u)<Ub&&Math.abs(x)<Ub?[u,0]:[p,x]};return c.isStepper=!0,c.dt=l,c},u4e=function(){for(var t=arguments.length,r=new Array(t),s=0;s<t;s++)r[s]=arguments[s];var a=r[0];if(typeof a=="string")switch(a){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return MO(a);case"spring":return d4e();default:if(a.split("(")[0]==="cubic-bezier")return MO(a)}return typeof a=="function"?a:null};function fg(e){"@babel/helpers - typeof";return fg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fg(e)}function BO(e){return m4e(e)||f4e(e)||qz(e)||h4e()}function h4e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function f4e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function m4e(e){if(Array.isArray(e))return CC(e)}function zO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function bs(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?zO(Object(r),!0).forEach(function(s){SC(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zO(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function SC(e,t,r){return t=p4e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function p4e(e){var t=v4e(e,"string");return fg(t)==="symbol"?t:String(t)}function v4e(e,t){if(fg(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(fg(s)!=="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function g4e(e,t){return b4e(e)||y4e(e,t)||qz(e,t)||x4e()}function x4e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qz(e,t){if(e){if(typeof e=="string")return CC(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return CC(e,t)}}function CC(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,s=new Array(t);r<t;r++)s[r]=e[r];return s}function y4e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var s,a,i,o,l=[],c=!0,d=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(s=i.call(r)).done)&&(l.push(s.value),l.length!==t);c=!0);}catch(h){d=!0,a=h}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw a}}return l}}function b4e(e){if(Array.isArray(e))return e}var Vb=function(t,r,s){return t+(r-t)*s},AC=function(t){var r=t.from,s=t.to;return r!==s},j4e=function e(t,r,s){var a=iv(function(i,o){if(AC(o)){var l=t(o.from,o.to,o.velocity),c=g4e(l,2),d=c[0],h=c[1];return bs(bs({},o),{},{from:d,velocity:h})}return o},r);return s<1?iv(function(i,o){return AC(o)?bs(bs({},o),{},{velocity:Vb(o.velocity,a[i].velocity,s),from:Vb(o.from,a[i].from,s)}):o},r):e(t,a,s-1)};const w4e=function(e,t,r,s,a){var i=JAe(e,t),o=i.reduce(function(p,g){return bs(bs({},p),{},SC({},g,[e[g],t[g]]))},{}),l=i.reduce(function(p,g){return bs(bs({},p),{},SC({},g,{from:e[g],velocity:0,to:t[g]}))},{}),c=-1,d,h,u=function(){return null},f=function(){return iv(function(g,b){return b.from},l)},m=function(){return!Object.values(l).filter(AC).length},v=function(g){d||(d=g);var b=g-d,y=b/r.dt;l=j4e(r,l,y),a(bs(bs(bs({},e),t),f())),d=g,m()||(c=requestAnimationFrame(u))},x=function(g){h||(h=g);var b=(g-h)/s,y=iv(function(E,S){return Vb.apply(void 0,BO(S).concat([r(b)]))},o);if(a(bs(bs(bs({},e),t),y)),b<1)c=requestAnimationFrame(u);else{var j=iv(function(E,S){return Vb.apply(void 0,BO(S).concat([r(1)]))},o);a(bs(bs(bs({},e),t),j))}};return u=r.isStepper?v:x,function(){return requestAnimationFrame(u),function(){cancelAnimationFrame(c)}}};function $f(e){"@babel/helpers - typeof";return $f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$f(e)}var N4e=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function S4e(e,t){if(e==null)return{};var r=C4e(e,t),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(r[s]=e[s])}return r}function C4e(e,t){if(e==null)return{};var r={},s=Object.keys(e),a,i;for(i=0;i<s.length;i++)a=s[i],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function TN(e){return T4e(e)||P4e(e)||E4e(e)||A4e()}function A4e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function E4e(e,t){if(e){if(typeof e=="string")return EC(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return EC(e,t)}}function P4e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function T4e(e){if(Array.isArray(e))return EC(e)}function EC(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,s=new Array(t);r<t;r++)s[r]=e[r];return s}function UO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function $i(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?UO(Object(r),!0).forEach(function(s){Fp(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):UO(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function Fp(e,t,r){return t=Wz(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _4e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function VO(e,t){for(var r=0;r<t.length;r++){var s=t[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,Wz(s.key),s)}}function I4e(e,t,r){return t&&VO(e.prototype,t),r&&VO(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Wz(e){var t=k4e(e,"string");return $f(t)==="symbol"?t:String(t)}function k4e(e,t){if($f(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if($f(s)!=="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function D4e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&PC(e,t)}function PC(e,t){return PC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},PC(e,t)}function O4e(e){var t=L4e();return function(){var s=qb(e),a;if(t){var i=qb(this).constructor;a=Reflect.construct(s,arguments,i)}else a=s.apply(this,arguments);return TC(this,a)}}function TC(e,t){if(t&&($f(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _C(e)}function _C(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function L4e(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function qb(e){return qb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},qb(e)}var Uj=function(e){D4e(r,e);var t=O4e(r);function r(s,a){var i;_4e(this,r),i=t.call(this,s,a);var o=i.props,l=o.isActive,c=o.attributeName,d=o.from,h=o.to,u=o.steps,f=o.children,m=o.duration;if(i.handleStyleChange=i.handleStyleChange.bind(_C(i)),i.changeStyle=i.changeStyle.bind(_C(i)),!l||m<=0)return i.state={style:{}},typeof f=="function"&&(i.state={style:h}),TC(i);if(u&&u.length)i.state={style:u[0].style};else if(d){if(typeof f=="function")return i.state={style:d},TC(i);i.state={style:c?Fp({},c,d):d}}else i.state={style:{}};return i}return I4e(r,[{key:"componentDidMount",value:function(){var a=this.props,i=a.isActive,o=a.canBegin;this.mounted=!0,!(!i||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(a){var i=this.props,o=i.isActive,l=i.canBegin,c=i.attributeName,d=i.shouldReAnimate,h=i.to,u=i.from,f=this.state.style;if(l){if(!o){var m={style:c?Fp({},c,h):h};this.state&&f&&(c&&f[c]!==h||!c&&f!==h)&&this.setState(m);return}if(!(UAe(a.to,h)&&a.canBegin&&a.isActive)){var v=!a.canBegin||!a.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var x=v||d?u:a.to;if(this.state&&f){var p={style:c?Fp({},c,x):x};(c&&f[c]!==x||!c&&f!==x)&&this.setState(p)}this.runAnimation($i($i({},this.props),{},{from:x,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var a=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),a&&a()}},{key:"handleStyleChange",value:function(a){this.changeStyle(a)}},{key:"changeStyle",value:function(a){this.mounted&&this.setState({style:a})}},{key:"runJSAnimation",value:function(a){var i=this,o=a.from,l=a.to,c=a.duration,d=a.easing,h=a.begin,u=a.onAnimationEnd,f=a.onAnimationStart,m=w4e(o,l,u4e(d),c,this.changeStyle),v=function(){i.stopJSAnimation=m()};this.manager.start([f,h,v,c,u])}},{key:"runStepAnimation",value:function(a){var i=this,o=a.steps,l=a.begin,c=a.onAnimationStart,d=o[0],h=d.style,u=d.duration,f=u===void 0?0:u,m=function(x,p,g){if(g===0)return x;var b=p.duration,y=p.easing,j=y===void 0?"ease":y,E=p.style,S=p.properties,N=p.onAnimationEnd,w=g>0?o[g-1]:p,_=S||Object.keys(E);if(typeof j=="function"||j==="spring")return[].concat(TN(x),[i.runJSAnimation.bind(i,{from:w.style,to:E,duration:b,easing:j}),b]);var k=FO(_,b,j),T=$i($i($i({},w.style),E),{},{transition:k});return[].concat(TN(x),[T,b,N]).filter(ZAe)};return this.manager.start([c].concat(TN(o.reduce(m,[h,Math.max(f,l)])),[a.onAnimationEnd]))}},{key:"runAnimation",value:function(a){this.manager||(this.manager=YAe());var i=a.begin,o=a.duration,l=a.attributeName,c=a.to,d=a.easing,h=a.onAnimationStart,u=a.onAnimationEnd,f=a.steps,m=a.children,v=this.manager;if(this.unSubscribe=v.subscribe(this.handleStyleChange),typeof d=="function"||typeof m=="function"||d==="spring"){this.runJSAnimation(a);return}if(f.length>1){this.runStepAnimation(a);return}var x=l?Fp({},l,c):c,p=FO(Object.keys(x),o,d);v.start([h,i,$i($i({},x),{},{transition:p}),o,u])}},{key:"render",value:function(){var a=this.props,i=a.children;a.begin;var o=a.duration;a.attributeName,a.easing;var l=a.isActive;a.steps,a.from,a.to,a.canBegin,a.onAnimationEnd,a.shouldReAnimate,a.onAnimationReStart;var c=S4e(a,N4e),d=C.Children.count(i),h=this.state.style;if(typeof i=="function")return i(h);if(!l||d===0||o<=0)return i;var u=function(m){var v=m.props,x=v.style,p=x===void 0?{}:x,g=v.className,b=C.cloneElement(m,$i($i({},c),{},{style:$i($i({},p),h),className:g}));return b};return d===1?u(C.Children.only(i)):pe.createElement("div",null,C.Children.map(i,function(f){return u(f)}))}}]),r}(C.PureComponent);Uj.displayName="Animate";Uj.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};Uj.propTypes={from:Ct.oneOfType([Ct.object,Ct.string]),to:Ct.oneOfType([Ct.object,Ct.string]),attributeName:Ct.string,duration:Ct.number,begin:Ct.number,easing:Ct.oneOfType([Ct.string,Ct.func]),steps:Ct.arrayOf(Ct.shape({duration:Ct.number.isRequired,style:Ct.object.isRequired,easing:Ct.oneOfType([Ct.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),Ct.func]),properties:Ct.arrayOf("string"),onAnimationEnd:Ct.func})),children:Ct.oneOfType([Ct.node,Ct.func]),isActive:Ct.bool,canBegin:Ct.bool,onAnimationEnd:Ct.func,shouldReAnimate:Ct.bool,onAnimationStart:Ct.func,onAnimationReStart:Ct.func};const Nu=Uj;function mg(e){"@babel/helpers - typeof";return mg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},mg(e)}function Wb(){return Wb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},Wb.apply(this,arguments)}function R4e(e,t){return B4e(e)||M4e(e,t)||$4e(e,t)||F4e()}function F4e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $4e(e,t){if(e){if(typeof e=="string")return qO(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return qO(e,t)}}function qO(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,s=new Array(t);r<t;r++)s[r]=e[r];return s}function M4e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var s,a,i,o,l=[],c=!0,d=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(s=i.call(r)).done)&&(l.push(s.value),l.length!==t);c=!0);}catch(h){d=!0,a=h}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw a}}return l}}function B4e(e){if(Array.isArray(e))return e}function WO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function HO(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?WO(Object(r),!0).forEach(function(s){z4e(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):WO(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function z4e(e,t,r){return t=U4e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function U4e(e){var t=V4e(e,"string");return mg(t)=="symbol"?t:t+""}function V4e(e,t){if(mg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(mg(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var GO=function(t,r,s,a,i){var o=Math.min(Math.abs(s)/2,Math.abs(a)/2),l=a>=0?1:-1,c=s>=0?1:-1,d=a>=0&&s>=0||a<0&&s<0?1:0,h;if(o>0&&i instanceof Array){for(var u=[0,0,0,0],f=0,m=4;f<m;f++)u[f]=i[f]>o?o:i[f];h="M".concat(t,",").concat(r+l*u[0]),u[0]>0&&(h+="A ".concat(u[0],",").concat(u[0],",0,0,").concat(d,",").concat(t+c*u[0],",").concat(r)),h+="L ".concat(t+s-c*u[1],",").concat(r),u[1]>0&&(h+="A ".concat(u[1],",").concat(u[1],",0,0,").concat(d,`,
        `).concat(t+s,",").concat(r+l*u[1])),h+="L ".concat(t+s,",").concat(r+a-l*u[2]),u[2]>0&&(h+="A ".concat(u[2],",").concat(u[2],",0,0,").concat(d,`,
        `).concat(t+s-c*u[2],",").concat(r+a)),h+="L ".concat(t+c*u[3],",").concat(r+a),u[3]>0&&(h+="A ".concat(u[3],",").concat(u[3],",0,0,").concat(d,`,
        `).concat(t,",").concat(r+a-l*u[3])),h+="Z"}else if(o>0&&i===+i&&i>0){var v=Math.min(o,i);h="M ".concat(t,",").concat(r+l*v,`
            A `).concat(v,",").concat(v,",0,0,").concat(d,",").concat(t+c*v,",").concat(r,`
            L `).concat(t+s-c*v,",").concat(r,`
            A `).concat(v,",").concat(v,",0,0,").concat(d,",").concat(t+s,",").concat(r+l*v,`
            L `).concat(t+s,",").concat(r+a-l*v,`
            A `).concat(v,",").concat(v,",0,0,").concat(d,",").concat(t+s-c*v,",").concat(r+a,`
            L `).concat(t+c*v,",").concat(r+a,`
            A `).concat(v,",").concat(v,",0,0,").concat(d,",").concat(t,",").concat(r+a-l*v," Z")}else h="M ".concat(t,",").concat(r," h ").concat(s," v ").concat(a," h ").concat(-s," Z");return h},q4e=function(t,r){if(!t||!r)return!1;var s=t.x,a=t.y,i=r.x,o=r.y,l=r.width,c=r.height;if(Math.abs(l)>0&&Math.abs(c)>0){var d=Math.min(i,i+l),h=Math.max(i,i+l),u=Math.min(o,o+c),f=Math.max(o,o+c);return s>=d&&s<=h&&a>=u&&a<=f}return!1},W4e={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},dP=function(t){var r=HO(HO({},W4e),t),s=C.useRef(),a=C.useState(-1),i=R4e(a,2),o=i[0],l=i[1];C.useEffect(function(){if(s.current&&s.current.getTotalLength)try{var j=s.current.getTotalLength();j&&l(j)}catch{}},[]);var c=r.x,d=r.y,h=r.width,u=r.height,f=r.radius,m=r.className,v=r.animationEasing,x=r.animationDuration,p=r.animationBegin,g=r.isAnimationActive,b=r.isUpdateAnimationActive;if(c!==+c||d!==+d||h!==+h||u!==+u||h===0||u===0)return null;var y=cr("recharts-rectangle",m);return b?pe.createElement(Nu,{canBegin:o>0,from:{width:h,height:u,x:c,y:d},to:{width:h,height:u,x:c,y:d},duration:x,animationEasing:v,isActive:b},function(j){var E=j.width,S=j.height,N=j.x,w=j.y;return pe.createElement(Nu,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:p,duration:x,isActive:g,easing:v},pe.createElement("path",Wb({},er(r,!0),{className:y,d:GO(N,w,E,S,f),ref:s})))}):pe.createElement("path",Wb({},er(r,!0),{className:y,d:GO(c,d,h,u,f)}))};function IC(){return IC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},IC.apply(this,arguments)}var Vj=function(t){var r=t.cx,s=t.cy,a=t.r,i=t.className,o=cr("recharts-dot",i);return r===+r&&s===+s&&a===+a?C.createElement("circle",IC({},er(t,!1),cb(t),{className:o,cx:r,cy:s,r:a})):null};function pg(e){"@babel/helpers - typeof";return pg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pg(e)}var H4e=["x","y","top","left","width","height","className"];function kC(){return kC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},kC.apply(this,arguments)}function KO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function G4e(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?KO(Object(r),!0).forEach(function(s){K4e(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):KO(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function K4e(e,t,r){return t=Y4e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Y4e(e){var t=X4e(e,"string");return pg(t)=="symbol"?t:t+""}function X4e(e,t){if(pg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(pg(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Q4e(e,t){if(e==null)return{};var r=J4e(e,t),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(r[s]=e[s])}return r}function J4e(e,t){if(e==null)return{};var r={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;r[s]=e[s]}return r}var Z4e=function(t,r,s,a,i,o){return"M".concat(t,",").concat(i,"v").concat(a,"M").concat(o,",").concat(r,"h").concat(s)},eEe=function(t){var r=t.x,s=r===void 0?0:r,a=t.y,i=a===void 0?0:a,o=t.top,l=o===void 0?0:o,c=t.left,d=c===void 0?0:c,h=t.width,u=h===void 0?0:h,f=t.height,m=f===void 0?0:f,v=t.className,x=Q4e(t,H4e),p=G4e({x:s,y:i,top:l,left:d,width:u,height:m},x);return!it(s)||!it(i)||!it(u)||!it(m)||!it(l)||!it(d)?null:pe.createElement("path",kC({},er(p,!0),{className:cr("recharts-cross",v),d:Z4e(s,i,u,m,l,d)}))},tEe=l9,rEe=tEe(Object.getPrototypeOf,Object),nEe=rEe,sEe=ql,aEe=nEe,iEe=Wl,oEe="[object Object]",lEe=Function.prototype,cEe=Object.prototype,Hz=lEe.toString,dEe=cEe.hasOwnProperty,uEe=Hz.call(Object);function hEe(e){if(!iEe(e)||sEe(e)!=oEe)return!1;var t=aEe(e);if(t===null)return!0;var r=dEe.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&Hz.call(r)==uEe}var fEe=hEe;const mEe=Cr(fEe);var pEe=ql,vEe=Wl,gEe="[object Boolean]";function xEe(e){return e===!0||e===!1||vEe(e)&&pEe(e)==gEe}var yEe=xEe;const bEe=Cr(yEe);function vg(e){"@babel/helpers - typeof";return vg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vg(e)}function Hb(){return Hb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},Hb.apply(this,arguments)}function jEe(e,t){return CEe(e)||SEe(e,t)||NEe(e,t)||wEe()}function wEe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function NEe(e,t){if(e){if(typeof e=="string")return YO(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return YO(e,t)}}function YO(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,s=new Array(t);r<t;r++)s[r]=e[r];return s}function SEe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var s,a,i,o,l=[],c=!0,d=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(s=i.call(r)).done)&&(l.push(s.value),l.length!==t);c=!0);}catch(h){d=!0,a=h}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw a}}return l}}function CEe(e){if(Array.isArray(e))return e}function XO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function QO(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?XO(Object(r),!0).forEach(function(s){AEe(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):XO(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function AEe(e,t,r){return t=EEe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function EEe(e){var t=PEe(e,"string");return vg(t)=="symbol"?t:t+""}function PEe(e,t){if(vg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(vg(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var JO=function(t,r,s,a,i){var o=s-a,l;return l="M ".concat(t,",").concat(r),l+="L ".concat(t+s,",").concat(r),l+="L ".concat(t+s-o/2,",").concat(r+i),l+="L ".concat(t+s-o/2-a,",").concat(r+i),l+="L ".concat(t,",").concat(r," Z"),l},TEe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},_Ee=function(t){var r=QO(QO({},TEe),t),s=C.useRef(),a=C.useState(-1),i=jEe(a,2),o=i[0],l=i[1];C.useEffect(function(){if(s.current&&s.current.getTotalLength)try{var y=s.current.getTotalLength();y&&l(y)}catch{}},[]);var c=r.x,d=r.y,h=r.upperWidth,u=r.lowerWidth,f=r.height,m=r.className,v=r.animationEasing,x=r.animationDuration,p=r.animationBegin,g=r.isUpdateAnimationActive;if(c!==+c||d!==+d||h!==+h||u!==+u||f!==+f||h===0&&u===0||f===0)return null;var b=cr("recharts-trapezoid",m);return g?pe.createElement(Nu,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:f,x:c,y:d},to:{upperWidth:h,lowerWidth:u,height:f,x:c,y:d},duration:x,animationEasing:v,isActive:g},function(y){var j=y.upperWidth,E=y.lowerWidth,S=y.height,N=y.x,w=y.y;return pe.createElement(Nu,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:p,duration:x,easing:v},pe.createElement("path",Hb({},er(r,!0),{className:b,d:JO(N,w,j,E,S),ref:s})))}):pe.createElement("g",null,pe.createElement("path",Hb({},er(r,!0),{className:b,d:JO(c,d,h,u,f)})))},IEe=["option","shapeType","propTransformer","activeClassName","isActive"];function gg(e){"@babel/helpers - typeof";return gg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gg(e)}function kEe(e,t){if(e==null)return{};var r=DEe(e,t),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(r[s]=e[s])}return r}function DEe(e,t){if(e==null)return{};var r={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;r[s]=e[s]}return r}function ZO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function Gb(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ZO(Object(r),!0).forEach(function(s){OEe(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ZO(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function OEe(e,t,r){return t=LEe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function LEe(e){var t=REe(e,"string");return gg(t)=="symbol"?t:t+""}function REe(e,t){if(gg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(gg(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function FEe(e,t){return Gb(Gb({},t),e)}function $Ee(e,t){return e==="symbols"}function e6(e){var t=e.shapeType,r=e.elementProps;switch(t){case"rectangle":return pe.createElement(dP,r);case"trapezoid":return pe.createElement(_Ee,r);case"sector":return pe.createElement($z,r);case"symbols":if($Ee(t))return pe.createElement(TE,r);break;default:return null}}function MEe(e){return C.isValidElement(e)?e.props:e}function BEe(e){var t=e.option,r=e.shapeType,s=e.propTransformer,a=s===void 0?FEe:s,i=e.activeClassName,o=i===void 0?"recharts-active-shape":i,l=e.isActive,c=kEe(e,IEe),d;if(C.isValidElement(t))d=C.cloneElement(t,Gb(Gb({},c),MEe(t)));else if(Zt(t))d=t(c);else if(mEe(t)&&!bEe(t)){var h=a(t,c);d=pe.createElement(e6,{shapeType:r,elementProps:h})}else{var u=c;d=pe.createElement(e6,{shapeType:r,elementProps:u})}return l?pe.createElement(Yr,{className:o},d):d}function qj(e,t){return t!=null&&"trapezoids"in e.props}function Wj(e,t){return t!=null&&"sectors"in e.props}function xg(e,t){return t!=null&&"points"in e.props}function zEe(e,t){var r,s,a=e.x===(t==null||(r=t.labelViewBox)===null||r===void 0?void 0:r.x)||e.x===t.x,i=e.y===(t==null||(s=t.labelViewBox)===null||s===void 0?void 0:s.y)||e.y===t.y;return a&&i}function UEe(e,t){var r=e.endAngle===t.endAngle,s=e.startAngle===t.startAngle;return r&&s}function VEe(e,t){var r=e.x===t.x,s=e.y===t.y,a=e.z===t.z;return r&&s&&a}function qEe(e,t){var r;return qj(e,t)?r=zEe:Wj(e,t)?r=UEe:xg(e,t)&&(r=VEe),r}function WEe(e,t){var r;return qj(e,t)?r="trapezoids":Wj(e,t)?r="sectors":xg(e,t)&&(r="points"),r}function HEe(e,t){if(qj(e,t)){var r;return(r=t.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(Wj(e,t)){var s;return(s=t.tooltipPayload)===null||s===void 0||(s=s[0])===null||s===void 0||(s=s.payload)===null||s===void 0?void 0:s.payload}return xg(e,t)?t.payload:{}}function GEe(e){var t=e.activeTooltipItem,r=e.graphicalItem,s=e.itemData,a=WEe(r,t),i=HEe(r,t),o=s.filter(function(c,d){var h=Rf(i,c),u=r.props[a].filter(function(v){var x=qEe(r,t);return x(v,t)}),f=r.props[a].indexOf(u[u.length-1]),m=d===f;return h&&m}),l=s.indexOf(o[o.length-1]);return l}var KEe=Math.ceil,YEe=Math.max;function XEe(e,t,r,s){for(var a=-1,i=YEe(KEe((t-e)/(r||1)),0),o=Array(i);i--;)o[s?i:++a]=e,e+=r;return o}var QEe=XEe,JEe=E9,t6=1/0,ZEe=17976931348623157e292;function ePe(e){if(!e)return e===0?e:0;if(e=JEe(e),e===t6||e===-t6){var t=e<0?-1:1;return t*ZEe}return e===e?e:0}var Gz=ePe,tPe=QEe,rPe=kj,_N=Gz;function nPe(e){return function(t,r,s){return s&&typeof s!="number"&&rPe(t,r,s)&&(r=s=void 0),t=_N(t),r===void 0?(r=t,t=0):r=_N(r),s=s===void 0?t<r?1:-1:_N(s),tPe(t,r,s,e)}}var sPe=nPe,aPe=sPe,iPe=aPe(),oPe=iPe;const Kb=Cr(oPe);function yg(e){"@babel/helpers - typeof";return yg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yg(e)}function r6(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function n6(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?r6(Object(r),!0).forEach(function(s){Kz(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):r6(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function Kz(e,t,r){return t=lPe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lPe(e){var t=cPe(e,"string");return yg(t)=="symbol"?t:t+""}function cPe(e,t){if(yg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(yg(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var dPe=["Webkit","Moz","O","ms"],uPe=function(t,r){if(!t)return null;var s=t.replace(/(\w)/,function(i){return i.toUpperCase()}),a=dPe.reduce(function(i,o){return n6(n6({},i),{},Kz({},o+s,r))},{});return a[t]=r,a};function Mf(e){"@babel/helpers - typeof";return Mf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Mf(e)}function Yb(){return Yb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},Yb.apply(this,arguments)}function s6(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function IN(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?s6(Object(r),!0).forEach(function(s){ka(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s6(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function hPe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a6(e,t){for(var r=0;r<t.length;r++){var s=t[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,Xz(s.key),s)}}function fPe(e,t,r){return t&&a6(e.prototype,t),r&&a6(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function mPe(e,t,r){return t=Xb(t),pPe(e,Yz()?Reflect.construct(t,r||[],Xb(e).constructor):t.apply(e,r))}function pPe(e,t){if(t&&(Mf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return vPe(e)}function vPe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Yz(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Yz=function(){return!!e})()}function Xb(e){return Xb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Xb(e)}function gPe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&DC(e,t)}function DC(e,t){return DC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},DC(e,t)}function ka(e,t,r){return t=Xz(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Xz(e){var t=xPe(e,"string");return Mf(t)=="symbol"?t:t+""}function xPe(e,t){if(Mf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(Mf(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var yPe=function(t){var r=t.data,s=t.startIndex,a=t.endIndex,i=t.x,o=t.width,l=t.travellerWidth;if(!r||!r.length)return{};var c=r.length,d=sv().domain(Kb(0,c)).range([i,i+o-l]),h=d.domain().map(function(u){return d(u)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:d(s),endX:d(a),scale:d,scaleValues:h}},i6=function(t){return t.changedTouches&&!!t.changedTouches.length},Bf=function(e){function t(r){var s;return hPe(this,t),s=mPe(this,t,[r]),ka(s,"handleDrag",function(a){s.leaveTimer&&(clearTimeout(s.leaveTimer),s.leaveTimer=null),s.state.isTravellerMoving?s.handleTravellerMove(a):s.state.isSlideMoving&&s.handleSlideDrag(a)}),ka(s,"handleTouchMove",function(a){a.changedTouches!=null&&a.changedTouches.length>0&&s.handleDrag(a.changedTouches[0])}),ka(s,"handleDragEnd",function(){s.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var a=s.props,i=a.endIndex,o=a.onDragEnd,l=a.startIndex;o==null||o({endIndex:i,startIndex:l})}),s.detachDragEndListener()}),ka(s,"handleLeaveWrapper",function(){(s.state.isTravellerMoving||s.state.isSlideMoving)&&(s.leaveTimer=window.setTimeout(s.handleDragEnd,s.props.leaveTimeOut))}),ka(s,"handleEnterSlideOrTraveller",function(){s.setState({isTextActive:!0})}),ka(s,"handleLeaveSlideOrTraveller",function(){s.setState({isTextActive:!1})}),ka(s,"handleSlideDragStart",function(a){var i=i6(a)?a.changedTouches[0]:a;s.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:i.pageX}),s.attachDragEndListener()}),s.travellerDragStartHandlers={startX:s.handleTravellerDragStart.bind(s,"startX"),endX:s.handleTravellerDragStart.bind(s,"endX")},s.state={},s}return gPe(t,e),fPe(t,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(s){var a=s.startX,i=s.endX,o=this.state.scaleValues,l=this.props,c=l.gap,d=l.data,h=d.length-1,u=Math.min(a,i),f=Math.max(a,i),m=t.getIndexInRange(o,u),v=t.getIndexInRange(o,f);return{startIndex:m-m%c,endIndex:v===h?h:v-v%c}}},{key:"getTextOfTick",value:function(s){var a=this.props,i=a.data,o=a.tickFormatter,l=a.dataKey,c=ea(i[s],l,s);return Zt(o)?o(c,s):c}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(s){var a=this.state,i=a.slideMoveStartX,o=a.startX,l=a.endX,c=this.props,d=c.x,h=c.width,u=c.travellerWidth,f=c.startIndex,m=c.endIndex,v=c.onChange,x=s.pageX-i;x>0?x=Math.min(x,d+h-u-l,d+h-u-o):x<0&&(x=Math.max(x,d-o,d-l));var p=this.getIndex({startX:o+x,endX:l+x});(p.startIndex!==f||p.endIndex!==m)&&v&&v(p),this.setState({startX:o+x,endX:l+x,slideMoveStartX:s.pageX})}},{key:"handleTravellerDragStart",value:function(s,a){var i=i6(a)?a.changedTouches[0]:a;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:s,brushMoveStartX:i.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(s){var a=this.state,i=a.brushMoveStartX,o=a.movingTravellerId,l=a.endX,c=a.startX,d=this.state[o],h=this.props,u=h.x,f=h.width,m=h.travellerWidth,v=h.onChange,x=h.gap,p=h.data,g={startX:this.state.startX,endX:this.state.endX},b=s.pageX-i;b>0?b=Math.min(b,u+f-m-d):b<0&&(b=Math.max(b,u-d)),g[o]=d+b;var y=this.getIndex(g),j=y.startIndex,E=y.endIndex,S=function(){var w=p.length-1;return o==="startX"&&(l>c?j%x===0:E%x===0)||l<c&&E===w||o==="endX"&&(l>c?E%x===0:j%x===0)||l>c&&E===w};this.setState(ka(ka({},o,d+b),"brushMoveStartX",s.pageX),function(){v&&S()&&v(y)})}},{key:"handleTravellerMoveKeyboard",value:function(s,a){var i=this,o=this.state,l=o.scaleValues,c=o.startX,d=o.endX,h=this.state[a],u=l.indexOf(h);if(u!==-1){var f=u+s;if(!(f===-1||f>=l.length)){var m=l[f];a==="startX"&&m>=d||a==="endX"&&m<=c||this.setState(ka({},a,m),function(){i.props.onChange(i.getIndex({startX:i.state.startX,endX:i.state.endX}))})}}}},{key:"renderBackground",value:function(){var s=this.props,a=s.x,i=s.y,o=s.width,l=s.height,c=s.fill,d=s.stroke;return pe.createElement("rect",{stroke:d,fill:c,x:a,y:i,width:o,height:l})}},{key:"renderPanorama",value:function(){var s=this.props,a=s.x,i=s.y,o=s.width,l=s.height,c=s.data,d=s.children,h=s.padding,u=C.Children.only(d);return u?pe.cloneElement(u,{x:a,y:i,width:o,height:l,margin:h,compact:!0,data:c}):null}},{key:"renderTravellerLayer",value:function(s,a){var i,o,l=this,c=this.props,d=c.y,h=c.travellerWidth,u=c.height,f=c.traveller,m=c.ariaLabel,v=c.data,x=c.startIndex,p=c.endIndex,g=Math.max(s,this.props.x),b=IN(IN({},er(this.props,!1)),{},{x:g,y:d,width:h,height:u}),y=m||"Min value: ".concat((i=v[x])===null||i===void 0?void 0:i.name,", Max value: ").concat((o=v[p])===null||o===void 0?void 0:o.name);return pe.createElement(Yr,{tabIndex:0,role:"slider","aria-label":y,"aria-valuenow":s,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[a],onTouchStart:this.travellerDragStartHandlers[a],onKeyDown:function(E){["ArrowLeft","ArrowRight"].includes(E.key)&&(E.preventDefault(),E.stopPropagation(),l.handleTravellerMoveKeyboard(E.key==="ArrowRight"?1:-1,a))},onFocus:function(){l.setState({isTravellerFocused:!0})},onBlur:function(){l.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(f,b))}},{key:"renderSlide",value:function(s,a){var i=this.props,o=i.y,l=i.height,c=i.stroke,d=i.travellerWidth,h=Math.min(s,a)+d,u=Math.max(Math.abs(a-s)-d,0);return pe.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:c,fillOpacity:.2,x:h,y:o,width:u,height:l})}},{key:"renderText",value:function(){var s=this.props,a=s.startIndex,i=s.endIndex,o=s.y,l=s.height,c=s.travellerWidth,d=s.stroke,h=this.state,u=h.startX,f=h.endX,m=5,v={pointerEvents:"none",fill:d};return pe.createElement(Yr,{className:"recharts-brush-texts"},pe.createElement(Sb,Yb({textAnchor:"end",verticalAnchor:"middle",x:Math.min(u,f)-m,y:o+l/2},v),this.getTextOfTick(a)),pe.createElement(Sb,Yb({textAnchor:"start",verticalAnchor:"middle",x:Math.max(u,f)+c+m,y:o+l/2},v),this.getTextOfTick(i)))}},{key:"render",value:function(){var s=this.props,a=s.data,i=s.className,o=s.children,l=s.x,c=s.y,d=s.width,h=s.height,u=s.alwaysShowText,f=this.state,m=f.startX,v=f.endX,x=f.isTextActive,p=f.isSlideMoving,g=f.isTravellerMoving,b=f.isTravellerFocused;if(!a||!a.length||!it(l)||!it(c)||!it(d)||!it(h)||d<=0||h<=0)return null;var y=cr("recharts-brush",i),j=pe.Children.count(o)===1,E=uPe("userSelect","none");return pe.createElement(Yr,{className:y,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:E},this.renderBackground(),j&&this.renderPanorama(),this.renderSlide(m,v),this.renderTravellerLayer(m,"startX"),this.renderTravellerLayer(v,"endX"),(x||p||g||b||u)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(s){var a=s.x,i=s.y,o=s.width,l=s.height,c=s.stroke,d=Math.floor(i+l/2)-1;return pe.createElement(pe.Fragment,null,pe.createElement("rect",{x:a,y:i,width:o,height:l,fill:c,stroke:"none"}),pe.createElement("line",{x1:a+1,y1:d,x2:a+o-1,y2:d,fill:"none",stroke:"#fff"}),pe.createElement("line",{x1:a+1,y1:d+2,x2:a+o-1,y2:d+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(s,a){var i;return pe.isValidElement(s)?i=pe.cloneElement(s,a):Zt(s)?i=s(a):i=t.renderDefaultTraveller(a),i}},{key:"getDerivedStateFromProps",value:function(s,a){var i=s.data,o=s.width,l=s.x,c=s.travellerWidth,d=s.updateId,h=s.startIndex,u=s.endIndex;if(i!==a.prevData||d!==a.prevUpdateId)return IN({prevData:i,prevTravellerWidth:c,prevUpdateId:d,prevX:l,prevWidth:o},i&&i.length?yPe({data:i,width:o,x:l,travellerWidth:c,startIndex:h,endIndex:u}):{scale:null,scaleValues:null});if(a.scale&&(o!==a.prevWidth||l!==a.prevX||c!==a.prevTravellerWidth)){a.scale.range([l,l+o-c]);var f=a.scale.domain().map(function(m){return a.scale(m)});return{prevData:i,prevTravellerWidth:c,prevUpdateId:d,prevX:l,prevWidth:o,startX:a.scale(s.startIndex),endX:a.scale(s.endIndex),scaleValues:f}}return null}},{key:"getIndexInRange",value:function(s,a){for(var i=s.length,o=0,l=i-1;l-o>1;){var c=Math.floor((o+l)/2);s[c]>a?l=c:o=c}return a>=s[l]?l:o}}])}(C.PureComponent);ka(Bf,"displayName","Brush");ka(Bf,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var bPe=RE;function jPe(e,t){var r;return bPe(e,function(s,a,i){return r=t(s,a,i),!r}),!!r}var wPe=jPe,NPe=e9,SPe=hd,CPe=wPe,APe=Ca,EPe=kj;function PPe(e,t,r){var s=APe(e)?NPe:CPe;return r&&EPe(e,t,r)&&(t=void 0),s(e,SPe(t))}var TPe=PPe;const _Pe=Cr(TPe);var Vo=function(t,r){var s=t.alwaysShow,a=t.ifOverflow;return s&&(a="extendDomain"),a===r},o6=w9;function IPe(e,t,r){t=="__proto__"&&o6?o6(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}var kPe=IPe,DPe=kPe,OPe=b9,LPe=hd;function RPe(e,t){var r={};return t=LPe(t),OPe(e,function(s,a,i){DPe(r,a,t(s,a,i))}),r}var FPe=RPe;const $Pe=Cr(FPe);function MPe(e,t){for(var r=-1,s=e==null?0:e.length;++r<s;)if(!t(e[r],r,e))return!1;return!0}var BPe=MPe,zPe=RE;function UPe(e,t){var r=!0;return zPe(e,function(s,a,i){return r=!!t(s,a,i),r}),r}var VPe=UPe,qPe=BPe,WPe=VPe,HPe=hd,GPe=Ca,KPe=kj;function YPe(e,t,r){var s=GPe(e)?qPe:WPe;return r&&KPe(e,t,r)&&(t=void 0),s(e,HPe(t))}var XPe=YPe;const Qz=Cr(XPe);var QPe=["x","y"];function bg(e){"@babel/helpers - typeof";return bg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bg(e)}function OC(){return OC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},OC.apply(this,arguments)}function l6(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function Ip(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?l6(Object(r),!0).forEach(function(s){JPe(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l6(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function JPe(e,t,r){return t=ZPe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ZPe(e){var t=e3e(e,"string");return bg(t)=="symbol"?t:t+""}function e3e(e,t){if(bg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(bg(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function t3e(e,t){if(e==null)return{};var r=r3e(e,t),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(r[s]=e[s])}return r}function r3e(e,t){if(e==null)return{};var r={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;r[s]=e[s]}return r}function n3e(e,t){var r=e.x,s=e.y,a=t3e(e,QPe),i="".concat(r),o=parseInt(i,10),l="".concat(s),c=parseInt(l,10),d="".concat(t.height||a.height),h=parseInt(d,10),u="".concat(t.width||a.width),f=parseInt(u,10);return Ip(Ip(Ip(Ip(Ip({},t),a),o?{x:o}:{}),c?{y:c}:{}),{},{height:h,width:f,name:t.name,radius:t.radius})}function c6(e){return pe.createElement(BEe,OC({shapeType:"rectangle",propTransformer:n3e,activeClassName:"recharts-active-bar"},e))}var s3e=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(s,a){if(typeof t=="number")return t;var i=it(s)||kfe(s);return i?t(s,a):(i||Zc(!1),r)}},a3e=["value","background"],Jz;function zf(e){"@babel/helpers - typeof";return zf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zf(e)}function i3e(e,t){if(e==null)return{};var r=o3e(e,t),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(r[s]=e[s])}return r}function o3e(e,t){if(e==null)return{};var r={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;r[s]=e[s]}return r}function Qb(){return Qb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},Qb.apply(this,arguments)}function d6(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function Mn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?d6(Object(r),!0).forEach(function(s){Ic(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d6(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function l3e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u6(e,t){for(var r=0;r<t.length;r++){var s=t[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,eU(s.key),s)}}function c3e(e,t,r){return t&&u6(e.prototype,t),r&&u6(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function d3e(e,t,r){return t=Jb(t),u3e(e,Zz()?Reflect.construct(t,r||[],Jb(e).constructor):t.apply(e,r))}function u3e(e,t){if(t&&(zf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return h3e(e)}function h3e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Zz(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Zz=function(){return!!e})()}function Jb(e){return Jb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Jb(e)}function f3e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&LC(e,t)}function LC(e,t){return LC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},LC(e,t)}function Ic(e,t,r){return t=eU(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function eU(e){var t=m3e(e,"string");return zf(t)=="symbol"?t:t+""}function m3e(e,t){if(zf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(zf(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var vd=function(e){function t(){var r;l3e(this,t);for(var s=arguments.length,a=new Array(s),i=0;i<s;i++)a[i]=arguments[i];return r=d3e(this,t,[].concat(a)),Ic(r,"state",{isAnimationFinished:!1}),Ic(r,"id",bm("recharts-bar-")),Ic(r,"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),o&&o()}),Ic(r,"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),o&&o()}),r}return f3e(t,e),c3e(t,[{key:"renderRectanglesStatically",value:function(s){var a=this,i=this.props,o=i.shape,l=i.dataKey,c=i.activeIndex,d=i.activeBar,h=er(this.props,!1);return s&&s.map(function(u,f){var m=f===c,v=m?d:o,x=Mn(Mn(Mn({},h),u),{},{isActive:m,option:v,index:f,dataKey:l,onAnimationStart:a.handleAnimationStart,onAnimationEnd:a.handleAnimationEnd});return pe.createElement(Yr,Qb({className:"recharts-bar-rectangle"},db(a.props,u,f),{key:"rectangle-".concat(u==null?void 0:u.x,"-").concat(u==null?void 0:u.y,"-").concat(u==null?void 0:u.value,"-").concat(f)}),pe.createElement(c6,x))})}},{key:"renderRectanglesWithAnimation",value:function(){var s=this,a=this.props,i=a.data,o=a.layout,l=a.isAnimationActive,c=a.animationBegin,d=a.animationDuration,h=a.animationEasing,u=a.animationId,f=this.state.prevData;return pe.createElement(Nu,{begin:c,duration:d,isActive:l,easing:h,from:{t:0},to:{t:1},key:"bar-".concat(u),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(m){var v=m.t,x=i.map(function(p,g){var b=f&&f[g];if(b){var y=Ns(b.x,p.x),j=Ns(b.y,p.y),E=Ns(b.width,p.width),S=Ns(b.height,p.height);return Mn(Mn({},p),{},{x:y(v),y:j(v),width:E(v),height:S(v)})}if(o==="horizontal"){var N=Ns(0,p.height),w=N(v);return Mn(Mn({},p),{},{y:p.y+p.height-w,height:w})}var _=Ns(0,p.width),k=_(v);return Mn(Mn({},p),{},{width:k})});return pe.createElement(Yr,null,s.renderRectanglesStatically(x))})}},{key:"renderRectangles",value:function(){var s=this.props,a=s.data,i=s.isAnimationActive,o=this.state.prevData;return i&&a&&a.length&&(!o||!Rf(o,a))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(a)}},{key:"renderBackground",value:function(){var s=this,a=this.props,i=a.data,o=a.dataKey,l=a.activeIndex,c=er(this.props.background,!1);return i.map(function(d,h){d.value;var u=d.background,f=i3e(d,a3e);if(!u)return null;var m=Mn(Mn(Mn(Mn(Mn({},f),{},{fill:"#eee"},u),c),db(s.props,d,h)),{},{onAnimationStart:s.handleAnimationStart,onAnimationEnd:s.handleAnimationEnd,dataKey:o,index:h,className:"recharts-bar-background-rectangle"});return pe.createElement(c6,Qb({key:"background-bar-".concat(h),option:s.props.background,isActive:h===l},m))})}},{key:"renderErrorBar",value:function(s,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.data,l=i.xAxis,c=i.yAxis,d=i.layout,h=i.children,u=gi(h,ex);if(!u)return null;var f=d==="vertical"?o[0].height/2:o[0].width/2,m=function(p,g){var b=Array.isArray(p.value)?p.value[1]:p.value;return{x:p.x,y:p.y,value:b,errorVal:ea(p,g)}},v={clipPath:s?"url(#clipPath-".concat(a,")"):null};return pe.createElement(Yr,v,u.map(function(x){return pe.cloneElement(x,{key:"error-bar-".concat(a,"-").concat(x.props.dataKey),data:o,xAxis:l,yAxis:c,layout:d,offset:f,dataPointFormatter:m})}))}},{key:"render",value:function(){var s=this.props,a=s.hide,i=s.data,o=s.className,l=s.xAxis,c=s.yAxis,d=s.left,h=s.top,u=s.width,f=s.height,m=s.isAnimationActive,v=s.background,x=s.id;if(a||!i||!i.length)return null;var p=this.state.isAnimationFinished,g=cr("recharts-bar",o),b=l&&l.allowDataOverflow,y=c&&c.allowDataOverflow,j=b||y,E=rr(x)?this.id:x;return pe.createElement(Yr,{className:g},b||y?pe.createElement("defs",null,pe.createElement("clipPath",{id:"clipPath-".concat(E)},pe.createElement("rect",{x:b?d:d-u/2,y:y?h:h-f/2,width:b?u:u*2,height:y?f:f*2}))):null,pe.createElement(Yr,{className:"recharts-bar-rectangles",clipPath:j?"url(#clipPath-".concat(E,")"):null},v?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(j,E),(!m||p)&&Pl.renderCallByParent(this.props,i))}}],[{key:"getDerivedStateFromProps",value:function(s,a){return s.animationId!==a.prevAnimationId?{prevAnimationId:s.animationId,curData:s.data,prevData:a.curData}:s.data!==a.curData?{curData:s.data}:null}}])}(C.PureComponent);Jz=vd;Ic(vd,"displayName","Bar");Ic(vd,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!zo.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Ic(vd,"getComposedData",function(e){var t=e.props,r=e.item,s=e.barPosition,a=e.bandSize,i=e.xAxis,o=e.yAxis,l=e.xAxisTicks,c=e.yAxisTicks,d=e.stackedData,h=e.dataStartIndex,u=e.displayedData,f=e.offset,m=XSe(s,r);if(!m)return null;var v=t.layout,x=r.type.defaultProps,p=x!==void 0?Mn(Mn({},x),r.props):r.props,g=p.dataKey,b=p.children,y=p.minPointSize,j=v==="horizontal"?o:i,E=d?j.scale.domain():null,S=sCe({numericAxis:j}),N=gi(b,T9),w=u.map(function(_,k){var T,A,O,D,F,M;d?T=QSe(d[h+k],E):(T=ea(_,g),Array.isArray(T)||(T=[S,T]));var R=s3e(y,Jz.defaultProps.minPointSize)(T[1],k);if(v==="horizontal"){var B,U=[o.scale(T[0]),o.scale(T[1])],H=U[0],q=U[1];A=cO({axis:i,ticks:l,bandSize:a,offset:m.offset,entry:_,index:k}),O=(B=q??H)!==null&&B!==void 0?B:void 0,D=m.size;var L=H-q;if(F=Number.isNaN(L)?0:L,M={x:A,y:o.y,width:D,height:o.height},Math.abs(R)>0&&Math.abs(F)<Math.abs(R)){var V=Ji(F||R)*(Math.abs(R)-Math.abs(F));O-=V,F+=V}}else{var G=[i.scale(T[0]),i.scale(T[1])],Z=G[0],te=G[1];if(A=Z,O=cO({axis:o,ticks:c,bandSize:a,offset:m.offset,entry:_,index:k}),D=te-Z,F=m.size,M={x:i.x,y:O,width:i.width,height:F},Math.abs(R)>0&&Math.abs(D)<Math.abs(R)){var he=Ji(D||R)*(Math.abs(R)-Math.abs(D));D+=he}}return Mn(Mn(Mn({},_),{},{x:A,y:O,width:D,height:F,value:d?T:T[1],payload:_,background:M},N&&N[k]&&N[k].props),{},{tooltipPayload:[Lz(r,_)],tooltipPosition:{x:A+D/2,y:O+F/2}})});return Mn({data:w,layout:v},f)});function jg(e){"@babel/helpers - typeof";return jg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jg(e)}function p3e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h6(e,t){for(var r=0;r<t.length;r++){var s=t[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,tU(s.key),s)}}function v3e(e,t,r){return t&&h6(e.prototype,t),r&&h6(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function f6(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function qi(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?f6(Object(r),!0).forEach(function(s){Hj(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f6(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function Hj(e,t,r){return t=tU(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tU(e){var t=g3e(e,"string");return jg(t)=="symbol"?t:t+""}function g3e(e,t){if(jg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(jg(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var uP=function(t,r,s,a,i){var o=t.width,l=t.height,c=t.layout,d=t.children,h=Object.keys(r),u={left:s.left,leftMirror:s.left,right:o-s.right,rightMirror:o-s.right,top:s.top,topMirror:s.top,bottom:l-s.bottom,bottomMirror:l-s.bottom},f=!!Oa(d,vd);return h.reduce(function(m,v){var x=r[v],p=x.orientation,g=x.domain,b=x.padding,y=b===void 0?{}:b,j=x.mirror,E=x.reversed,S="".concat(p).concat(j?"Mirror":""),N,w,_,k,T;if(x.type==="number"&&(x.padding==="gap"||x.padding==="no-gap")){var A=g[1]-g[0],O=1/0,D=x.categoricalDomain.sort(Lfe);if(D.forEach(function(G,Z){Z>0&&(O=Math.min((G||0)-(D[Z-1]||0),O))}),Number.isFinite(O)){var F=O/A,M=x.layout==="vertical"?s.height:s.width;if(x.padding==="gap"&&(N=F*M/2),x.padding==="no-gap"){var R=ju(t.barCategoryGap,F*M),B=F*M/2;N=B-R-(B-R)/M*R}}}a==="xAxis"?w=[s.left+(y.left||0)+(N||0),s.left+s.width-(y.right||0)-(N||0)]:a==="yAxis"?w=c==="horizontal"?[s.top+s.height-(y.bottom||0),s.top+(y.top||0)]:[s.top+(y.top||0)+(N||0),s.top+s.height-(y.bottom||0)-(N||0)]:w=x.range,E&&(w=[w[1],w[0]]);var U=KSe(x,i,f),H=U.scale,q=U.realScaleType;H.domain(g).range(w),YSe(H);var L=nCe(H,qi(qi({},x),{},{realScaleType:q}));a==="xAxis"?(T=p==="top"&&!j||p==="bottom"&&j,_=s.left,k=u[S]-T*x.height):a==="yAxis"&&(T=p==="left"&&!j||p==="right"&&j,_=u[S]-T*x.width,k=s.top);var V=qi(qi(qi({},x),L),{},{realScaleType:q,x:_,y:k,scale:H,width:a==="xAxis"?s.width:x.width,height:a==="yAxis"?s.height:x.height});return V.bandSize=Mb(V,L),!x.hide&&a==="xAxis"?u[S]+=(T?-1:1)*V.height:x.hide||(u[S]+=(T?-1:1)*V.width),qi(qi({},m),{},Hj({},v,V))},{})},rU=function(t,r){var s=t.x,a=t.y,i=r.x,o=r.y;return{x:Math.min(s,i),y:Math.min(a,o),width:Math.abs(i-s),height:Math.abs(o-a)}},x3e=function(t){var r=t.x1,s=t.y1,a=t.x2,i=t.y2;return rU({x:r,y:s},{x:a,y:i})},nU=function(){function e(t){p3e(this,e),this.scale=t}return v3e(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=s.bandAware,i=s.position;if(r!==void 0){if(i)switch(i){case"start":return this.scale(r);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+o}case"end":{var l=this.bandwidth?this.bandwidth():0;return this.scale(r)+l}default:return this.scale(r)}if(a){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+c}return this.scale(r)}}},{key:"isInRange",value:function(r){var s=this.range(),a=s[0],i=s[s.length-1];return a<=i?r>=a&&r<=i:r>=i&&r<=a}}],[{key:"create",value:function(r){return new e(r)}}])}();Hj(nU,"EPS",1e-4);var hP=function(t){var r=Object.keys(t).reduce(function(s,a){return qi(qi({},s),{},Hj({},a,nU.create(t[a])))},{});return qi(qi({},r),{},{apply:function(a){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=i.bandAware,l=i.position;return $Pe(a,function(c,d){return r[d].apply(c,{bandAware:o,position:l})})},isInRange:function(a){return Qz(a,function(i,o){return r[o].isInRange(i)})}})};function y3e(e){return(e%180+180)%180}var b3e=function(t){var r=t.width,s=t.height,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=y3e(a),o=i*Math.PI/180,l=Math.atan(s/r),c=o>l&&o<Math.PI-l?s/Math.sin(o):r/Math.cos(o);return Math.abs(c)},j3e=hd,w3e=Yg,N3e=_j;function S3e(e){return function(t,r,s){var a=Object(t);if(!w3e(t)){var i=j3e(r);t=N3e(t),r=function(l){return i(a[l],l,a)}}var o=e(t,r,s);return o>-1?a[i?t[o]:o]:void 0}}var C3e=S3e,A3e=Gz;function E3e(e){var t=A3e(e),r=t%1;return t===t?r?t-r:t:0}var P3e=E3e,T3e=m9,_3e=hd,I3e=P3e,k3e=Math.max;function D3e(e,t,r){var s=e==null?0:e.length;if(!s)return-1;var a=r==null?0:I3e(r);return a<0&&(a=k3e(s+a,0)),T3e(e,_3e(t),a)}var O3e=D3e,L3e=C3e,R3e=O3e,F3e=L3e(R3e),$3e=F3e;const M3e=Cr($3e);var B3e=Rhe(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),fP=C.createContext(void 0),mP=C.createContext(void 0),sU=C.createContext(void 0),aU=C.createContext({}),iU=C.createContext(void 0),oU=C.createContext(0),lU=C.createContext(0),m6=function(t){var r=t.state,s=r.xAxisMap,a=r.yAxisMap,i=r.offset,o=t.clipPathId,l=t.children,c=t.width,d=t.height,h=B3e(i);return pe.createElement(fP.Provider,{value:s},pe.createElement(mP.Provider,{value:a},pe.createElement(aU.Provider,{value:i},pe.createElement(sU.Provider,{value:h},pe.createElement(iU.Provider,{value:o},pe.createElement(oU.Provider,{value:d},pe.createElement(lU.Provider,{value:c},l)))))))},z3e=function(){return C.useContext(iU)},cU=function(t){var r=C.useContext(fP);r==null&&Zc(!1);var s=r[t];return s==null&&Zc(!1),s},U3e=function(){var t=C.useContext(fP);return Nc(t)},V3e=function(){var t=C.useContext(mP),r=M3e(t,function(s){return Qz(s.domain,Number.isFinite)});return r||Nc(t)},dU=function(t){var r=C.useContext(mP);r==null&&Zc(!1);var s=r[t];return s==null&&Zc(!1),s},q3e=function(){var t=C.useContext(sU);return t},W3e=function(){return C.useContext(aU)},pP=function(){return C.useContext(lU)},vP=function(){return C.useContext(oU)};function Uf(e){"@babel/helpers - typeof";return Uf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Uf(e)}function H3e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p6(e,t){for(var r=0;r<t.length;r++){var s=t[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,hU(s.key),s)}}function G3e(e,t,r){return t&&p6(e.prototype,t),r&&p6(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function K3e(e,t,r){return t=Zb(t),Y3e(e,uU()?Reflect.construct(t,r||[],Zb(e).constructor):t.apply(e,r))}function Y3e(e,t){if(t&&(Uf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return X3e(e)}function X3e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function uU(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(uU=function(){return!!e})()}function Zb(e){return Zb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Zb(e)}function Q3e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&RC(e,t)}function RC(e,t){return RC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},RC(e,t)}function v6(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function g6(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?v6(Object(r),!0).forEach(function(s){gP(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):v6(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function gP(e,t,r){return t=hU(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function hU(e){var t=J3e(e,"string");return Uf(t)=="symbol"?t:t+""}function J3e(e,t){if(Uf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(Uf(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Z3e(e,t){return nTe(e)||rTe(e,t)||tTe(e,t)||eTe()}function eTe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function tTe(e,t){if(e){if(typeof e=="string")return x6(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return x6(e,t)}}function x6(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,s=new Array(t);r<t;r++)s[r]=e[r];return s}function rTe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var s,a,i,o,l=[],c=!0,d=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(s=i.call(r)).done)&&(l.push(s.value),l.length!==t);c=!0);}catch(h){d=!0,a=h}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw a}}return l}}function nTe(e){if(Array.isArray(e))return e}function FC(){return FC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},FC.apply(this,arguments)}var sTe=function(t,r){var s;return pe.isValidElement(t)?s=pe.cloneElement(t,r):Zt(t)?s=t(r):s=pe.createElement("line",FC({},r,{className:"recharts-reference-line-line"})),s},aTe=function(t,r,s,a,i,o,l,c,d){var h=i.x,u=i.y,f=i.width,m=i.height;if(s){var v=d.y,x=t.y.apply(v,{position:o});if(Vo(d,"discard")&&!t.y.isInRange(x))return null;var p=[{x:h+f,y:x},{x:h,y:x}];return c==="left"?p.reverse():p}if(r){var g=d.x,b=t.x.apply(g,{position:o});if(Vo(d,"discard")&&!t.x.isInRange(b))return null;var y=[{x:b,y:u+m},{x:b,y:u}];return l==="top"?y.reverse():y}if(a){var j=d.segment,E=j.map(function(S){return t.apply(S,{position:o})});return Vo(d,"discard")&&_Pe(E,function(S){return!t.isInRange(S)})?null:E}return null};function iTe(e){var t=e.x,r=e.y,s=e.segment,a=e.xAxisId,i=e.yAxisId,o=e.shape,l=e.className,c=e.alwaysShow,d=z3e(),h=cU(a),u=dU(i),f=q3e();if(!d||!f)return null;Al(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var m=hP({x:h.scale,y:u.scale}),v=Zn(t),x=Zn(r),p=s&&s.length===2,g=aTe(m,v,x,p,f,e.position,h.orientation,u.orientation,e);if(!g)return null;var b=Z3e(g,2),y=b[0],j=y.x,E=y.y,S=b[1],N=S.x,w=S.y,_=Vo(e,"hidden")?"url(#".concat(d,")"):void 0,k=g6(g6({clipPath:_},er(e,!0)),{},{x1:j,y1:E,x2:N,y2:w});return pe.createElement(Yr,{className:cr("recharts-reference-line",l)},sTe(o,k),Bs.renderCallByParent(e,x3e({x1:j,y1:E,x2:N,y2:w})))}var xP=function(e){function t(){return H3e(this,t),K3e(this,t,arguments)}return Q3e(t,e),G3e(t,[{key:"render",value:function(){return pe.createElement(iTe,this.props)}}])}(pe.Component);gP(xP,"displayName","ReferenceLine");gP(xP,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function $C(){return $C=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},$C.apply(this,arguments)}function Vf(e){"@babel/helpers - typeof";return Vf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vf(e)}function y6(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function b6(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?y6(Object(r),!0).forEach(function(s){Gj(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):y6(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function oTe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function j6(e,t){for(var r=0;r<t.length;r++){var s=t[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,mU(s.key),s)}}function lTe(e,t,r){return t&&j6(e.prototype,t),r&&j6(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function cTe(e,t,r){return t=e1(t),dTe(e,fU()?Reflect.construct(t,r||[],e1(e).constructor):t.apply(e,r))}function dTe(e,t){if(t&&(Vf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return uTe(e)}function uTe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function fU(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(fU=function(){return!!e})()}function e1(e){return e1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},e1(e)}function hTe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&MC(e,t)}function MC(e,t){return MC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},MC(e,t)}function Gj(e,t,r){return t=mU(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function mU(e){var t=fTe(e,"string");return Vf(t)=="symbol"?t:t+""}function fTe(e,t){if(Vf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(Vf(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var mTe=function(t){var r=t.x,s=t.y,a=t.xAxis,i=t.yAxis,o=hP({x:a.scale,y:i.scale}),l=o.apply({x:r,y:s},{bandAware:!0});return Vo(t,"discard")&&!o.isInRange(l)?null:l},Kj=function(e){function t(){return oTe(this,t),cTe(this,t,arguments)}return hTe(t,e),lTe(t,[{key:"render",value:function(){var s=this.props,a=s.x,i=s.y,o=s.r,l=s.alwaysShow,c=s.clipPathId,d=Zn(a),h=Zn(i);if(Al(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!d||!h)return null;var u=mTe(this.props);if(!u)return null;var f=u.x,m=u.y,v=this.props,x=v.shape,p=v.className,g=Vo(this.props,"hidden")?"url(#".concat(c,")"):void 0,b=b6(b6({clipPath:g},er(this.props,!0)),{},{cx:f,cy:m});return pe.createElement(Yr,{className:cr("recharts-reference-dot",p)},t.renderDot(x,b),Bs.renderCallByParent(this.props,{x:f-o,y:m-o,width:2*o,height:2*o}))}}])}(pe.Component);Gj(Kj,"displayName","ReferenceDot");Gj(Kj,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});Gj(Kj,"renderDot",function(e,t){var r;return pe.isValidElement(e)?r=pe.cloneElement(e,t):Zt(e)?r=e(t):r=pe.createElement(Vj,$C({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"})),r});function BC(){return BC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},BC.apply(this,arguments)}function qf(e){"@babel/helpers - typeof";return qf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qf(e)}function w6(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function N6(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?w6(Object(r),!0).forEach(function(s){Yj(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):w6(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function pTe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function S6(e,t){for(var r=0;r<t.length;r++){var s=t[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,vU(s.key),s)}}function vTe(e,t,r){return t&&S6(e.prototype,t),r&&S6(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function gTe(e,t,r){return t=t1(t),xTe(e,pU()?Reflect.construct(t,r||[],t1(e).constructor):t.apply(e,r))}function xTe(e,t){if(t&&(qf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return yTe(e)}function yTe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function pU(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(pU=function(){return!!e})()}function t1(e){return t1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},t1(e)}function bTe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&zC(e,t)}function zC(e,t){return zC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},zC(e,t)}function Yj(e,t,r){return t=vU(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vU(e){var t=jTe(e,"string");return qf(t)=="symbol"?t:t+""}function jTe(e,t){if(qf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(qf(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var wTe=function(t,r,s,a,i){var o=i.x1,l=i.x2,c=i.y1,d=i.y2,h=i.xAxis,u=i.yAxis;if(!h||!u)return null;var f=hP({x:h.scale,y:u.scale}),m={x:t?f.x.apply(o,{position:"start"}):f.x.rangeMin,y:s?f.y.apply(c,{position:"start"}):f.y.rangeMin},v={x:r?f.x.apply(l,{position:"end"}):f.x.rangeMax,y:a?f.y.apply(d,{position:"end"}):f.y.rangeMax};return Vo(i,"discard")&&(!f.isInRange(m)||!f.isInRange(v))?null:rU(m,v)},Xj=function(e){function t(){return pTe(this,t),gTe(this,t,arguments)}return bTe(t,e),vTe(t,[{key:"render",value:function(){var s=this.props,a=s.x1,i=s.x2,o=s.y1,l=s.y2,c=s.className,d=s.alwaysShow,h=s.clipPathId;Al(d===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var u=Zn(a),f=Zn(i),m=Zn(o),v=Zn(l),x=this.props.shape;if(!u&&!f&&!m&&!v&&!x)return null;var p=wTe(u,f,m,v,this.props);if(!p&&!x)return null;var g=Vo(this.props,"hidden")?"url(#".concat(h,")"):void 0;return pe.createElement(Yr,{className:cr("recharts-reference-area",c)},t.renderRect(x,N6(N6({clipPath:g},er(this.props,!0)),p)),Bs.renderCallByParent(this.props,p))}}])}(pe.Component);Yj(Xj,"displayName","ReferenceArea");Yj(Xj,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});Yj(Xj,"renderRect",function(e,t){var r;return pe.isValidElement(e)?r=pe.cloneElement(e,t):Zt(e)?r=e(t):r=pe.createElement(dP,BC({},t,{className:"recharts-reference-area-rect"})),r});function gU(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var s=[],a=0;a<e.length;a+=t)if(r===void 0||r(e[a])===!0)s.push(e[a]);else return;return s}function NTe(e,t,r){var s={width:e.width+t.width,height:e.height+t.height};return b3e(s,r)}function STe(e,t,r){var s=r==="width",a=e.x,i=e.y,o=e.width,l=e.height;return t===1?{start:s?a:i,end:s?a+o:i+l}:{start:s?a+o:i+l,end:s?a:i}}function r1(e,t,r,s,a){if(e*t<e*s||e*t>e*a)return!1;var i=r();return e*(t-e*i/2-s)>=0&&e*(t+e*i/2-a)<=0}function CTe(e,t){return gU(e,t+1)}function ATe(e,t,r,s,a){for(var i=(s||[]).slice(),o=t.start,l=t.end,c=0,d=1,h=o,u=function(){var v=s==null?void 0:s[c];if(v===void 0)return{v:gU(s,d)};var x=c,p,g=function(){return p===void 0&&(p=r(v,x)),p},b=v.coordinate,y=c===0||r1(e,b,g,h,l);y||(c=0,h=o,d+=1),y&&(h=b+e*(g()/2+a),c+=d)},f;d<=i.length;)if(f=u(),f)return f.v;return[]}function wg(e){"@babel/helpers - typeof";return wg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wg(e)}function C6(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function $s(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?C6(Object(r),!0).forEach(function(s){ETe(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):C6(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function ETe(e,t,r){return t=PTe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function PTe(e){var t=TTe(e,"string");return wg(t)=="symbol"?t:t+""}function TTe(e,t){if(wg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(wg(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function _Te(e,t,r,s,a){for(var i=(s||[]).slice(),o=i.length,l=t.start,c=t.end,d=function(f){var m=i[f],v,x=function(){return v===void 0&&(v=r(m,f)),v};if(f===o-1){var p=e*(m.coordinate+e*x()/2-c);i[f]=m=$s($s({},m),{},{tickCoord:p>0?m.coordinate-p*e:m.coordinate})}else i[f]=m=$s($s({},m),{},{tickCoord:m.coordinate});var g=r1(e,m.tickCoord,x,l,c);g&&(c=m.tickCoord-e*(x()/2+a),i[f]=$s($s({},m),{},{isShow:!0}))},h=o-1;h>=0;h--)d(h);return i}function ITe(e,t,r,s,a,i){var o=(s||[]).slice(),l=o.length,c=t.start,d=t.end;if(i){var h=s[l-1],u=r(h,l-1),f=e*(h.coordinate+e*u/2-d);o[l-1]=h=$s($s({},h),{},{tickCoord:f>0?h.coordinate-f*e:h.coordinate});var m=r1(e,h.tickCoord,function(){return u},c,d);m&&(d=h.tickCoord-e*(u/2+a),o[l-1]=$s($s({},h),{},{isShow:!0}))}for(var v=i?l-1:l,x=function(b){var y=o[b],j,E=function(){return j===void 0&&(j=r(y,b)),j};if(b===0){var S=e*(y.coordinate-e*E()/2-c);o[b]=y=$s($s({},y),{},{tickCoord:S<0?y.coordinate-S*e:y.coordinate})}else o[b]=y=$s($s({},y),{},{tickCoord:y.coordinate});var N=r1(e,y.tickCoord,E,c,d);N&&(c=y.tickCoord+e*(E()/2+a),o[b]=$s($s({},y),{},{isShow:!0}))},p=0;p<v;p++)x(p);return o}function yP(e,t,r){var s=e.tick,a=e.ticks,i=e.viewBox,o=e.minTickGap,l=e.orientation,c=e.interval,d=e.tickFormatter,h=e.unit,u=e.angle;if(!a||!a.length||!s)return[];if(it(c)||zo.isSsr)return CTe(a,typeof c=="number"&&it(c)?c:0);var f=[],m=l==="top"||l==="bottom"?"width":"height",v=h&&m==="width"?nv(h,{fontSize:t,letterSpacing:r}):{width:0,height:0},x=function(y,j){var E=Zt(d)?d(y.value,j):y.value;return m==="width"?NTe(nv(E,{fontSize:t,letterSpacing:r}),v,u):nv(E,{fontSize:t,letterSpacing:r})[m]},p=a.length>=2?Ji(a[1].coordinate-a[0].coordinate):1,g=STe(i,p,m);return c==="equidistantPreserveStart"?ATe(p,g,x,a,o):(c==="preserveStart"||c==="preserveStartEnd"?f=ITe(p,g,x,a,o,c==="preserveStartEnd"):f=_Te(p,g,x,a,o),f.filter(function(b){return b.isShow}))}var kTe=["viewBox"],DTe=["viewBox"],OTe=["ticks"];function Wf(e){"@babel/helpers - typeof";return Wf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wf(e)}function Gh(){return Gh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},Gh.apply(this,arguments)}function A6(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function Gn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?A6(Object(r),!0).forEach(function(s){bP(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):A6(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function kN(e,t){if(e==null)return{};var r=LTe(e,t),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(r[s]=e[s])}return r}function LTe(e,t){if(e==null)return{};var r={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;r[s]=e[s]}return r}function RTe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function E6(e,t){for(var r=0;r<t.length;r++){var s=t[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,yU(s.key),s)}}function FTe(e,t,r){return t&&E6(e.prototype,t),r&&E6(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function $Te(e,t,r){return t=n1(t),MTe(e,xU()?Reflect.construct(t,r||[],n1(e).constructor):t.apply(e,r))}function MTe(e,t){if(t&&(Wf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return BTe(e)}function BTe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function xU(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(xU=function(){return!!e})()}function n1(e){return n1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},n1(e)}function zTe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&UC(e,t)}function UC(e,t){return UC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},UC(e,t)}function bP(e,t,r){return t=yU(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yU(e){var t=UTe(e,"string");return Wf(t)=="symbol"?t:t+""}function UTe(e,t){if(Wf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(Wf(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Em=function(e){function t(r){var s;return RTe(this,t),s=$Te(this,t,[r]),s.state={fontSize:"",letterSpacing:""},s}return zTe(t,e),FTe(t,[{key:"shouldComponentUpdate",value:function(s,a){var i=s.viewBox,o=kN(s,kTe),l=this.props,c=l.viewBox,d=kN(l,DTe);return!af(i,c)||!af(o,d)||!af(a,this.state)}},{key:"componentDidMount",value:function(){var s=this.layerReference;if(s){var a=s.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];a&&this.setState({fontSize:window.getComputedStyle(a).fontSize,letterSpacing:window.getComputedStyle(a).letterSpacing})}}},{key:"getTickLineCoord",value:function(s){var a=this.props,i=a.x,o=a.y,l=a.width,c=a.height,d=a.orientation,h=a.tickSize,u=a.mirror,f=a.tickMargin,m,v,x,p,g,b,y=u?-1:1,j=s.tickSize||h,E=it(s.tickCoord)?s.tickCoord:s.coordinate;switch(d){case"top":m=v=s.coordinate,p=o+ +!u*c,x=p-y*j,b=x-y*f,g=E;break;case"left":x=p=s.coordinate,v=i+ +!u*l,m=v-y*j,g=m-y*f,b=E;break;case"right":x=p=s.coordinate,v=i+ +u*l,m=v+y*j,g=m+y*f,b=E;break;default:m=v=s.coordinate,p=o+ +u*c,x=p+y*j,b=x+y*f,g=E;break}return{line:{x1:m,y1:x,x2:v,y2:p},tick:{x:g,y:b}}}},{key:"getTickTextAnchor",value:function(){var s=this.props,a=s.orientation,i=s.mirror,o;switch(a){case"left":o=i?"start":"end";break;case"right":o=i?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var s=this.props,a=s.orientation,i=s.mirror,o="end";switch(a){case"left":case"right":o="middle";break;case"top":o=i?"start":"end";break;default:o=i?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var s=this.props,a=s.x,i=s.y,o=s.width,l=s.height,c=s.orientation,d=s.mirror,h=s.axisLine,u=Gn(Gn(Gn({},er(this.props,!1)),er(h,!1)),{},{fill:"none"});if(c==="top"||c==="bottom"){var f=+(c==="top"&&!d||c==="bottom"&&d);u=Gn(Gn({},u),{},{x1:a,y1:i+f*l,x2:a+o,y2:i+f*l})}else{var m=+(c==="left"&&!d||c==="right"&&d);u=Gn(Gn({},u),{},{x1:a+m*o,y1:i,x2:a+m*o,y2:i+l})}return pe.createElement("line",Gh({},u,{className:cr("recharts-cartesian-axis-line",vi(h,"className"))}))}},{key:"renderTicks",value:function(s,a,i){var o=this,l=this.props,c=l.tickLine,d=l.stroke,h=l.tick,u=l.tickFormatter,f=l.unit,m=yP(Gn(Gn({},this.props),{},{ticks:s}),a,i),v=this.getTickTextAnchor(),x=this.getTickVerticalAnchor(),p=er(this.props,!1),g=er(h,!1),b=Gn(Gn({},p),{},{fill:"none"},er(c,!1)),y=m.map(function(j,E){var S=o.getTickLineCoord(j),N=S.line,w=S.tick,_=Gn(Gn(Gn(Gn({textAnchor:v,verticalAnchor:x},p),{},{stroke:"none",fill:d},g),w),{},{index:E,payload:j,visibleTicksCount:m.length,tickFormatter:u});return pe.createElement(Yr,Gh({className:"recharts-cartesian-axis-tick",key:"tick-".concat(j.value,"-").concat(j.coordinate,"-").concat(j.tickCoord)},db(o.props,j,E)),c&&pe.createElement("line",Gh({},b,N,{className:cr("recharts-cartesian-axis-tick-line",vi(c,"className"))})),h&&t.renderTickItem(h,_,"".concat(Zt(u)?u(j.value,E):j.value).concat(f||"")))});return pe.createElement("g",{className:"recharts-cartesian-axis-ticks"},y)}},{key:"render",value:function(){var s=this,a=this.props,i=a.axisLine,o=a.width,l=a.height,c=a.ticksGenerator,d=a.className,h=a.hide;if(h)return null;var u=this.props,f=u.ticks,m=kN(u,OTe),v=f;return Zt(c)&&(v=f&&f.length>0?c(this.props):c(m)),o<=0||l<=0||!v||!v.length?null:pe.createElement(Yr,{className:cr("recharts-cartesian-axis",d),ref:function(p){s.layerReference=p}},i&&this.renderAxisLine(),this.renderTicks(v,this.state.fontSize,this.state.letterSpacing),Bs.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(s,a,i){var o,l=cr(a.className,"recharts-cartesian-axis-tick-value");return pe.isValidElement(s)?o=pe.cloneElement(s,Gn(Gn({},a),{},{className:l})):Zt(s)?o=s(Gn(Gn({},a),{},{className:l})):o=pe.createElement(Sb,Gh({},a,{className:"recharts-cartesian-axis-tick-value"}),i),o}}])}(C.Component);bP(Em,"displayName","CartesianAxis");bP(Em,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var VTe=["x1","y1","x2","y2","key"],qTe=["offset"];function Su(e){"@babel/helpers - typeof";return Su=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Su(e)}function P6(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function zs(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?P6(Object(r),!0).forEach(function(s){WTe(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):P6(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function WTe(e,t,r){return t=HTe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function HTe(e){var t=GTe(e,"string");return Su(t)=="symbol"?t:t+""}function GTe(e,t){if(Su(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(Su(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function eu(){return eu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},eu.apply(this,arguments)}function T6(e,t){if(e==null)return{};var r=KTe(e,t),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(r[s]=e[s])}return r}function KTe(e,t){if(e==null)return{};var r={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;r[s]=e[s]}return r}var YTe=function(t){var r=t.fill;if(!r||r==="none")return null;var s=t.fillOpacity,a=t.x,i=t.y,o=t.width,l=t.height,c=t.ry;return pe.createElement("rect",{x:a,y:i,ry:c,width:o,height:l,stroke:"none",fill:r,fillOpacity:s,className:"recharts-cartesian-grid-bg"})};function bU(e,t){var r;if(pe.isValidElement(e))r=pe.cloneElement(e,t);else if(Zt(e))r=e(t);else{var s=t.x1,a=t.y1,i=t.x2,o=t.y2,l=t.key,c=T6(t,VTe),d=er(c,!1);d.offset;var h=T6(d,qTe);r=pe.createElement("line",eu({},h,{x1:s,y1:a,x2:i,y2:o,fill:"none",key:l}))}return r}function XTe(e){var t=e.x,r=e.width,s=e.horizontal,a=s===void 0?!0:s,i=e.horizontalPoints;if(!a||!i||!i.length)return null;var o=i.map(function(l,c){var d=zs(zs({},e),{},{x1:t,y1:l,x2:t+r,y2:l,key:"line-".concat(c),index:c});return bU(a,d)});return pe.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function QTe(e){var t=e.y,r=e.height,s=e.vertical,a=s===void 0?!0:s,i=e.verticalPoints;if(!a||!i||!i.length)return null;var o=i.map(function(l,c){var d=zs(zs({},e),{},{x1:l,y1:t,x2:l,y2:t+r,key:"line-".concat(c),index:c});return bU(a,d)});return pe.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function JTe(e){var t=e.horizontalFill,r=e.fillOpacity,s=e.x,a=e.y,i=e.width,o=e.height,l=e.horizontalPoints,c=e.horizontal,d=c===void 0?!0:c;if(!d||!t||!t.length)return null;var h=l.map(function(f){return Math.round(f+a-a)}).sort(function(f,m){return f-m});a!==h[0]&&h.unshift(0);var u=h.map(function(f,m){var v=!h[m+1],x=v?a+o-f:h[m+1]-f;if(x<=0)return null;var p=m%t.length;return pe.createElement("rect",{key:"react-".concat(m),y:f,x:s,height:x,width:i,stroke:"none",fill:t[p],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return pe.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},u)}function ZTe(e){var t=e.vertical,r=t===void 0?!0:t,s=e.verticalFill,a=e.fillOpacity,i=e.x,o=e.y,l=e.width,c=e.height,d=e.verticalPoints;if(!r||!s||!s.length)return null;var h=d.map(function(f){return Math.round(f+i-i)}).sort(function(f,m){return f-m});i!==h[0]&&h.unshift(0);var u=h.map(function(f,m){var v=!h[m+1],x=v?i+l-f:h[m+1]-f;if(x<=0)return null;var p=m%s.length;return pe.createElement("rect",{key:"react-".concat(m),x:f,y:o,width:x,height:c,stroke:"none",fill:s[p],fillOpacity:a,className:"recharts-cartesian-grid-bg"})});return pe.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},u)}var e_e=function(t,r){var s=t.xAxis,a=t.width,i=t.height,o=t.offset;return Dz(yP(zs(zs(zs({},Em.defaultProps),s),{},{ticks:Nl(s,!0),viewBox:{x:0,y:0,width:a,height:i}})),o.left,o.left+o.width,r)},t_e=function(t,r){var s=t.yAxis,a=t.width,i=t.height,o=t.offset;return Dz(yP(zs(zs(zs({},Em.defaultProps),s),{},{ticks:Nl(s,!0),viewBox:{x:0,y:0,width:a,height:i}})),o.top,o.top+o.height,r)},Sh={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function VC(e){var t,r,s,a,i,o,l=pP(),c=vP(),d=W3e(),h=zs(zs({},e),{},{stroke:(t=e.stroke)!==null&&t!==void 0?t:Sh.stroke,fill:(r=e.fill)!==null&&r!==void 0?r:Sh.fill,horizontal:(s=e.horizontal)!==null&&s!==void 0?s:Sh.horizontal,horizontalFill:(a=e.horizontalFill)!==null&&a!==void 0?a:Sh.horizontalFill,vertical:(i=e.vertical)!==null&&i!==void 0?i:Sh.vertical,verticalFill:(o=e.verticalFill)!==null&&o!==void 0?o:Sh.verticalFill,x:it(e.x)?e.x:d.left,y:it(e.y)?e.y:d.top,width:it(e.width)?e.width:d.width,height:it(e.height)?e.height:d.height}),u=h.x,f=h.y,m=h.width,v=h.height,x=h.syncWithTicks,p=h.horizontalValues,g=h.verticalValues,b=U3e(),y=V3e();if(!it(m)||m<=0||!it(v)||v<=0||!it(u)||u!==+u||!it(f)||f!==+f)return null;var j=h.verticalCoordinatesGenerator||e_e,E=h.horizontalCoordinatesGenerator||t_e,S=h.horizontalPoints,N=h.verticalPoints;if((!S||!S.length)&&Zt(E)){var w=p&&p.length,_=E({yAxis:y?zs(zs({},y),{},{ticks:w?p:y.ticks}):void 0,width:l,height:c,offset:d},w?!0:x);Al(Array.isArray(_),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(Su(_),"]")),Array.isArray(_)&&(S=_)}if((!N||!N.length)&&Zt(j)){var k=g&&g.length,T=j({xAxis:b?zs(zs({},b),{},{ticks:k?g:b.ticks}):void 0,width:l,height:c,offset:d},k?!0:x);Al(Array.isArray(T),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(Su(T),"]")),Array.isArray(T)&&(N=T)}return pe.createElement("g",{className:"recharts-cartesian-grid"},pe.createElement(YTe,{fill:h.fill,fillOpacity:h.fillOpacity,x:h.x,y:h.y,width:h.width,height:h.height,ry:h.ry}),pe.createElement(XTe,eu({},h,{offset:d,horizontalPoints:S,xAxis:b,yAxis:y})),pe.createElement(QTe,eu({},h,{offset:d,verticalPoints:N,xAxis:b,yAxis:y})),pe.createElement(JTe,eu({},h,{horizontalPoints:S})),pe.createElement(ZTe,eu({},h,{verticalPoints:N})))}VC.displayName="CartesianGrid";var r_e=["type","layout","connectNulls","ref"],n_e=["key"];function Hf(e){"@babel/helpers - typeof";return Hf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hf(e)}function _6(e,t){if(e==null)return{};var r=s_e(e,t),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(r[s]=e[s])}return r}function s_e(e,t){if(e==null)return{};var r={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;r[s]=e[s]}return r}function ov(){return ov=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},ov.apply(this,arguments)}function I6(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function Ia(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?I6(Object(r),!0).forEach(function(s){Wi(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):I6(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function Ch(e){return l_e(e)||o_e(e)||i_e(e)||a_e()}function a_e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function i_e(e,t){if(e){if(typeof e=="string")return qC(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return qC(e,t)}}function o_e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function l_e(e){if(Array.isArray(e))return qC(e)}function qC(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,s=new Array(t);r<t;r++)s[r]=e[r];return s}function c_e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function k6(e,t){for(var r=0;r<t.length;r++){var s=t[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,wU(s.key),s)}}function d_e(e,t,r){return t&&k6(e.prototype,t),r&&k6(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function u_e(e,t,r){return t=s1(t),h_e(e,jU()?Reflect.construct(t,r||[],s1(e).constructor):t.apply(e,r))}function h_e(e,t){if(t&&(Hf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return f_e(e)}function f_e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function jU(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(jU=function(){return!!e})()}function s1(e){return s1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},s1(e)}function m_e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&WC(e,t)}function WC(e,t){return WC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},WC(e,t)}function Wi(e,t,r){return t=wU(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wU(e){var t=p_e(e,"string");return Hf(t)=="symbol"?t:t+""}function p_e(e,t){if(Hf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(Hf(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var tx=function(e){function t(){var r;c_e(this,t);for(var s=arguments.length,a=new Array(s),i=0;i<s;i++)a[i]=arguments[i];return r=u_e(this,t,[].concat(a)),Wi(r,"state",{isAnimationFinished:!0,totalLength:0}),Wi(r,"generateSimpleStrokeDasharray",function(o,l){return"".concat(l,"px ").concat(o-l,"px")}),Wi(r,"getStrokeDasharray",function(o,l,c){var d=c.reduce(function(g,b){return g+b});if(!d)return r.generateSimpleStrokeDasharray(l,o);for(var h=Math.floor(o/d),u=o%d,f=l-o,m=[],v=0,x=0;v<c.length;x+=c[v],++v)if(x+c[v]>u){m=[].concat(Ch(c.slice(0,v)),[u-x]);break}var p=m.length%2===0?[0,f]:[f];return[].concat(Ch(t.repeat(c,h)),Ch(m),p).map(function(g){return"".concat(g,"px")}).join(", ")}),Wi(r,"id",bm("recharts-line-")),Wi(r,"pathRef",function(o){r.mainCurve=o}),Wi(r,"handleAnimationEnd",function(){r.setState({isAnimationFinished:!0}),r.props.onAnimationEnd&&r.props.onAnimationEnd()}),Wi(r,"handleAnimationStart",function(){r.setState({isAnimationFinished:!1}),r.props.onAnimationStart&&r.props.onAnimationStart()}),r}return m_e(t,e),d_e(t,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var s=this.getTotalLength();this.setState({totalLength:s})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var s=this.getTotalLength();s!==this.state.totalLength&&this.setState({totalLength:s})}}},{key:"getTotalLength",value:function(){var s=this.mainCurve;try{return s&&s.getTotalLength&&s.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(s,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.points,l=i.xAxis,c=i.yAxis,d=i.layout,h=i.children,u=gi(h,ex);if(!u)return null;var f=function(x,p){return{x:x.x,y:x.y,value:x.value,errorVal:ea(x.payload,p)}},m={clipPath:s?"url(#clipPath-".concat(a,")"):null};return pe.createElement(Yr,m,u.map(function(v){return pe.cloneElement(v,{key:"bar-".concat(v.props.dataKey),data:o,xAxis:l,yAxis:c,layout:d,dataPointFormatter:f})}))}},{key:"renderDots",value:function(s,a,i){var o=this.props.isAnimationActive;if(o&&!this.state.isAnimationFinished)return null;var l=this.props,c=l.dot,d=l.points,h=l.dataKey,u=er(this.props,!1),f=er(c,!0),m=d.map(function(x,p){var g=Ia(Ia(Ia({key:"dot-".concat(p),r:3},u),f),{},{index:p,cx:x.x,cy:x.y,value:x.value,dataKey:h,payload:x.payload,points:d});return t.renderDotItem(c,g)}),v={clipPath:s?"url(#clipPath-".concat(a?"":"dots-").concat(i,")"):null};return pe.createElement(Yr,ov({className:"recharts-line-dots",key:"dots"},v),m)}},{key:"renderCurveStatically",value:function(s,a,i,o){var l=this.props,c=l.type,d=l.layout,h=l.connectNulls;l.ref;var u=_6(l,r_e),f=Ia(Ia(Ia({},er(u,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:a?"url(#clipPath-".concat(i,")"):null,points:s},o),{},{type:c,layout:d,connectNulls:h});return pe.createElement(df,ov({},f,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(s,a){var i=this,o=this.props,l=o.points,c=o.strokeDasharray,d=o.isAnimationActive,h=o.animationBegin,u=o.animationDuration,f=o.animationEasing,m=o.animationId,v=o.animateNewValues,x=o.width,p=o.height,g=this.state,b=g.prevPoints,y=g.totalLength;return pe.createElement(Nu,{begin:h,duration:u,isActive:d,easing:f,from:{t:0},to:{t:1},key:"line-".concat(m),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(j){var E=j.t;if(b){var S=b.length/l.length,N=l.map(function(A,O){var D=Math.floor(O*S);if(b[D]){var F=b[D],M=Ns(F.x,A.x),R=Ns(F.y,A.y);return Ia(Ia({},A),{},{x:M(E),y:R(E)})}if(v){var B=Ns(x*2,A.x),U=Ns(p/2,A.y);return Ia(Ia({},A),{},{x:B(E),y:U(E)})}return Ia(Ia({},A),{},{x:A.x,y:A.y})});return i.renderCurveStatically(N,s,a)}var w=Ns(0,y),_=w(E),k;if(c){var T="".concat(c).split(/[,\s]+/gim).map(function(A){return parseFloat(A)});k=i.getStrokeDasharray(_,y,T)}else k=i.generateSimpleStrokeDasharray(y,_);return i.renderCurveStatically(l,s,a,{strokeDasharray:k})})}},{key:"renderCurve",value:function(s,a){var i=this.props,o=i.points,l=i.isAnimationActive,c=this.state,d=c.prevPoints,h=c.totalLength;return l&&o&&o.length&&(!d&&h>0||!Rf(d,o))?this.renderCurveWithAnimation(s,a):this.renderCurveStatically(o,s,a)}},{key:"render",value:function(){var s,a=this.props,i=a.hide,o=a.dot,l=a.points,c=a.className,d=a.xAxis,h=a.yAxis,u=a.top,f=a.left,m=a.width,v=a.height,x=a.isAnimationActive,p=a.id;if(i||!l||!l.length)return null;var g=this.state.isAnimationFinished,b=l.length===1,y=cr("recharts-line",c),j=d&&d.allowDataOverflow,E=h&&h.allowDataOverflow,S=j||E,N=rr(p)?this.id:p,w=(s=er(o,!1))!==null&&s!==void 0?s:{r:3,strokeWidth:2},_=w.r,k=_===void 0?3:_,T=w.strokeWidth,A=T===void 0?2:T,O=CB(o)?o:{},D=O.clipDot,F=D===void 0?!0:D,M=k*2+A;return pe.createElement(Yr,{className:y},j||E?pe.createElement("defs",null,pe.createElement("clipPath",{id:"clipPath-".concat(N)},pe.createElement("rect",{x:j?f:f-m/2,y:E?u:u-v/2,width:j?m:m*2,height:E?v:v*2})),!F&&pe.createElement("clipPath",{id:"clipPath-dots-".concat(N)},pe.createElement("rect",{x:f-M/2,y:u-M/2,width:m+M,height:v+M}))):null,!b&&this.renderCurve(S,N),this.renderErrorBar(S,N),(b||o)&&this.renderDots(S,F,N),(!x||g)&&Pl.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(s,a){return s.animationId!==a.prevAnimationId?{prevAnimationId:s.animationId,curPoints:s.points,prevPoints:a.curPoints}:s.points!==a.curPoints?{curPoints:s.points}:null}},{key:"repeat",value:function(s,a){for(var i=s.length%2!==0?[].concat(Ch(s),[0]):s,o=[],l=0;l<a;++l)o=[].concat(Ch(o),Ch(i));return o}},{key:"renderDotItem",value:function(s,a){var i;if(pe.isValidElement(s))i=pe.cloneElement(s,a);else if(Zt(s))i=s(a);else{var o=a.key,l=_6(a,n_e),c=cr("recharts-line-dot",typeof s!="boolean"?s.className:"");i=pe.createElement(Vj,ov({key:o},l,{className:c}))}return i}}])}(C.PureComponent);Wi(tx,"displayName","Line");Wi(tx,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!zo.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});Wi(tx,"getComposedData",function(e){var t=e.props,r=e.xAxis,s=e.yAxis,a=e.xAxisTicks,i=e.yAxisTicks,o=e.dataKey,l=e.bandSize,c=e.displayedData,d=e.offset,h=t.layout,u=c.map(function(f,m){var v=ea(f,o);return h==="horizontal"?{x:$b({axis:r,ticks:a,bandSize:l,entry:f,index:m}),y:rr(v)?null:s.scale(v),value:v,payload:f}:{x:rr(v)?null:r.scale(v),y:$b({axis:s,ticks:i,bandSize:l,entry:f,index:m}),value:v,payload:f}});return Ia({points:u,layout:h},d)});var v_e=["layout","type","stroke","connectNulls","isRange","ref"],g_e=["key"],NU;function Gf(e){"@babel/helpers - typeof";return Gf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gf(e)}function SU(e,t){if(e==null)return{};var r=x_e(e,t),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(r[s]=e[s])}return r}function x_e(e,t){if(e==null)return{};var r={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;r[s]=e[s]}return r}function tu(){return tu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},tu.apply(this,arguments)}function D6(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function mc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?D6(Object(r),!0).forEach(function(s){Lo(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):D6(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function y_e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function O6(e,t){for(var r=0;r<t.length;r++){var s=t[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,AU(s.key),s)}}function b_e(e,t,r){return t&&O6(e.prototype,t),r&&O6(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function j_e(e,t,r){return t=a1(t),w_e(e,CU()?Reflect.construct(t,r||[],a1(e).constructor):t.apply(e,r))}function w_e(e,t){if(t&&(Gf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return N_e(e)}function N_e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function CU(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(CU=function(){return!!e})()}function a1(e){return a1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},a1(e)}function S_e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&HC(e,t)}function HC(e,t){return HC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},HC(e,t)}function Lo(e,t,r){return t=AU(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function AU(e){var t=C_e(e,"string");return Gf(t)=="symbol"?t:t+""}function C_e(e,t){if(Gf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(Gf(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Gl=function(e){function t(){var r;y_e(this,t);for(var s=arguments.length,a=new Array(s),i=0;i<s;i++)a[i]=arguments[i];return r=j_e(this,t,[].concat(a)),Lo(r,"state",{isAnimationFinished:!0}),Lo(r,"id",bm("recharts-area-")),Lo(r,"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),Zt(o)&&o()}),Lo(r,"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),Zt(o)&&o()}),r}return S_e(t,e),b_e(t,[{key:"renderDots",value:function(s,a,i){var o=this.props.isAnimationActive,l=this.state.isAnimationFinished;if(o&&!l)return null;var c=this.props,d=c.dot,h=c.points,u=c.dataKey,f=er(this.props,!1),m=er(d,!0),v=h.map(function(p,g){var b=mc(mc(mc({key:"dot-".concat(g),r:3},f),m),{},{index:g,cx:p.x,cy:p.y,dataKey:u,value:p.value,payload:p.payload,points:h});return t.renderDotItem(d,b)}),x={clipPath:s?"url(#clipPath-".concat(a?"":"dots-").concat(i,")"):null};return pe.createElement(Yr,tu({className:"recharts-area-dots"},x),v)}},{key:"renderHorizontalRect",value:function(s){var a=this.props,i=a.baseLine,o=a.points,l=a.strokeWidth,c=o[0].x,d=o[o.length-1].x,h=s*Math.abs(c-d),u=_c(o.map(function(f){return f.y||0}));return it(i)&&typeof i=="number"?u=Math.max(i,u):i&&Array.isArray(i)&&i.length&&(u=Math.max(_c(i.map(function(f){return f.y||0})),u)),it(u)?pe.createElement("rect",{x:c<d?c:c-h,y:0,width:h,height:Math.floor(u+(l?parseInt("".concat(l),10):1))}):null}},{key:"renderVerticalRect",value:function(s){var a=this.props,i=a.baseLine,o=a.points,l=a.strokeWidth,c=o[0].y,d=o[o.length-1].y,h=s*Math.abs(c-d),u=_c(o.map(function(f){return f.x||0}));return it(i)&&typeof i=="number"?u=Math.max(i,u):i&&Array.isArray(i)&&i.length&&(u=Math.max(_c(i.map(function(f){return f.x||0})),u)),it(u)?pe.createElement("rect",{x:0,y:c<d?c:c-h,width:u+(l?parseInt("".concat(l),10):1),height:Math.floor(h)}):null}},{key:"renderClipRect",value:function(s){var a=this.props.layout;return a==="vertical"?this.renderVerticalRect(s):this.renderHorizontalRect(s)}},{key:"renderAreaStatically",value:function(s,a,i,o){var l=this.props,c=l.layout,d=l.type,h=l.stroke,u=l.connectNulls,f=l.isRange;l.ref;var m=SU(l,v_e);return pe.createElement(Yr,{clipPath:i?"url(#clipPath-".concat(o,")"):null},pe.createElement(df,tu({},er(m,!0),{points:s,connectNulls:u,type:d,baseLine:a,layout:c,stroke:"none",className:"recharts-area-area"})),h!=="none"&&pe.createElement(df,tu({},er(this.props,!1),{className:"recharts-area-curve",layout:c,type:d,connectNulls:u,fill:"none",points:s})),h!=="none"&&f&&pe.createElement(df,tu({},er(this.props,!1),{className:"recharts-area-curve",layout:c,type:d,connectNulls:u,fill:"none",points:a})))}},{key:"renderAreaWithAnimation",value:function(s,a){var i=this,o=this.props,l=o.points,c=o.baseLine,d=o.isAnimationActive,h=o.animationBegin,u=o.animationDuration,f=o.animationEasing,m=o.animationId,v=this.state,x=v.prevPoints,p=v.prevBaseLine;return pe.createElement(Nu,{begin:h,duration:u,isActive:d,easing:f,from:{t:0},to:{t:1},key:"area-".concat(m),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(g){var b=g.t;if(x){var y=x.length/l.length,j=l.map(function(w,_){var k=Math.floor(_*y);if(x[k]){var T=x[k],A=Ns(T.x,w.x),O=Ns(T.y,w.y);return mc(mc({},w),{},{x:A(b),y:O(b)})}return w}),E;if(it(c)&&typeof c=="number"){var S=Ns(p,c);E=S(b)}else if(rr(c)||ym(c)){var N=Ns(p,0);E=N(b)}else E=c.map(function(w,_){var k=Math.floor(_*y);if(p[k]){var T=p[k],A=Ns(T.x,w.x),O=Ns(T.y,w.y);return mc(mc({},w),{},{x:A(b),y:O(b)})}return w});return i.renderAreaStatically(j,E,s,a)}return pe.createElement(Yr,null,pe.createElement("defs",null,pe.createElement("clipPath",{id:"animationClipPath-".concat(a)},i.renderClipRect(b))),pe.createElement(Yr,{clipPath:"url(#animationClipPath-".concat(a,")")},i.renderAreaStatically(l,c,s,a)))})}},{key:"renderArea",value:function(s,a){var i=this.props,o=i.points,l=i.baseLine,c=i.isAnimationActive,d=this.state,h=d.prevPoints,u=d.prevBaseLine,f=d.totalLength;return c&&o&&o.length&&(!h&&f>0||!Rf(h,o)||!Rf(u,l))?this.renderAreaWithAnimation(s,a):this.renderAreaStatically(o,l,s,a)}},{key:"render",value:function(){var s,a=this.props,i=a.hide,o=a.dot,l=a.points,c=a.className,d=a.top,h=a.left,u=a.xAxis,f=a.yAxis,m=a.width,v=a.height,x=a.isAnimationActive,p=a.id;if(i||!l||!l.length)return null;var g=this.state.isAnimationFinished,b=l.length===1,y=cr("recharts-area",c),j=u&&u.allowDataOverflow,E=f&&f.allowDataOverflow,S=j||E,N=rr(p)?this.id:p,w=(s=er(o,!1))!==null&&s!==void 0?s:{r:3,strokeWidth:2},_=w.r,k=_===void 0?3:_,T=w.strokeWidth,A=T===void 0?2:T,O=CB(o)?o:{},D=O.clipDot,F=D===void 0?!0:D,M=k*2+A;return pe.createElement(Yr,{className:y},j||E?pe.createElement("defs",null,pe.createElement("clipPath",{id:"clipPath-".concat(N)},pe.createElement("rect",{x:j?h:h-m/2,y:E?d:d-v/2,width:j?m:m*2,height:E?v:v*2})),!F&&pe.createElement("clipPath",{id:"clipPath-dots-".concat(N)},pe.createElement("rect",{x:h-M/2,y:d-M/2,width:m+M,height:v+M}))):null,b?null:this.renderArea(S,N),(o||b)&&this.renderDots(S,F,N),(!x||g)&&Pl.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(s,a){return s.animationId!==a.prevAnimationId?{prevAnimationId:s.animationId,curPoints:s.points,curBaseLine:s.baseLine,prevPoints:a.curPoints,prevBaseLine:a.curBaseLine}:s.points!==a.curPoints||s.baseLine!==a.curBaseLine?{curPoints:s.points,curBaseLine:s.baseLine}:null}}])}(C.PureComponent);NU=Gl;Lo(Gl,"displayName","Area");Lo(Gl,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!zo.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});Lo(Gl,"getBaseValue",function(e,t,r,s){var a=e.layout,i=e.baseValue,o=t.props.baseValue,l=o??i;if(it(l)&&typeof l=="number")return l;var c=a==="horizontal"?s:r,d=c.scale.domain();if(c.type==="number"){var h=Math.max(d[0],d[1]),u=Math.min(d[0],d[1]);return l==="dataMin"?u:l==="dataMax"||h<0?h:Math.max(Math.min(d[0],d[1]),0)}return l==="dataMin"?d[0]:l==="dataMax"?d[1]:d[0]});Lo(Gl,"getComposedData",function(e){var t=e.props,r=e.item,s=e.xAxis,a=e.yAxis,i=e.xAxisTicks,o=e.yAxisTicks,l=e.bandSize,c=e.dataKey,d=e.stackedData,h=e.dataStartIndex,u=e.displayedData,f=e.offset,m=t.layout,v=d&&d.length,x=NU.getBaseValue(t,r,s,a),p=m==="horizontal",g=!1,b=u.map(function(j,E){var S;v?S=d[h+E]:(S=ea(j,c),Array.isArray(S)?g=!0:S=[x,S]);var N=S[1]==null||v&&ea(j,c)==null;return p?{x:$b({axis:s,ticks:i,bandSize:l,entry:j,index:E}),y:N?null:a.scale(S[1]),value:S,payload:j}:{x:N?null:s.scale(S[1]),y:$b({axis:a,ticks:o,bandSize:l,entry:j,index:E}),value:S,payload:j}}),y;return v||g?y=b.map(function(j){var E=Array.isArray(j.value)?j.value[0]:null;return p?{x:j.x,y:E!=null&&j.y!=null?a.scale(E):null}:{x:E!=null?s.scale(E):null,y:j.y}}):y=p?a.scale(x):s.scale(x),mc({points:b,baseLine:y,layout:m,isRange:g},f)});Lo(Gl,"renderDotItem",function(e,t){var r;if(pe.isValidElement(e))r=pe.cloneElement(e,t);else if(Zt(e))r=e(t);else{var s=cr("recharts-area-dot",typeof e!="boolean"?e.className:""),a=t.key,i=SU(t,g_e);r=pe.createElement(Vj,tu({},i,{key:a,className:s}))}return r});function Kf(e){"@babel/helpers - typeof";return Kf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Kf(e)}function A_e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function L6(e,t){for(var r=0;r<t.length;r++){var s=t[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,TU(s.key),s)}}function E_e(e,t,r){return t&&L6(e.prototype,t),r&&L6(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function P_e(e,t,r){return t=i1(t),T_e(e,EU()?Reflect.construct(t,r||[],i1(e).constructor):t.apply(e,r))}function T_e(e,t){if(t&&(Kf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return __e(e)}function __e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function EU(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(EU=function(){return!!e})()}function i1(e){return i1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},i1(e)}function I_e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&GC(e,t)}function GC(e,t){return GC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},GC(e,t)}function PU(e,t,r){return t=TU(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function TU(e){var t=k_e(e,"string");return Kf(t)=="symbol"?t:t+""}function k_e(e,t){if(Kf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(Kf(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function KC(){return KC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},KC.apply(this,arguments)}function D_e(e){var t=e.xAxisId,r=pP(),s=vP(),a=cU(t);return a==null?null:C.createElement(Em,KC({},a,{className:cr("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:r,height:s},ticksGenerator:function(o){return Nl(o,!0)}}))}var qo=function(e){function t(){return A_e(this,t),P_e(this,t,arguments)}return I_e(t,e),E_e(t,[{key:"render",value:function(){return C.createElement(D_e,this.props)}}])}(C.Component);PU(qo,"displayName","XAxis");PU(qo,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function Yf(e){"@babel/helpers - typeof";return Yf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Yf(e)}function O_e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function R6(e,t){for(var r=0;r<t.length;r++){var s=t[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,kU(s.key),s)}}function L_e(e,t,r){return t&&R6(e.prototype,t),r&&R6(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function R_e(e,t,r){return t=o1(t),F_e(e,_U()?Reflect.construct(t,r||[],o1(e).constructor):t.apply(e,r))}function F_e(e,t){if(t&&(Yf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $_e(e)}function $_e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _U(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_U=function(){return!!e})()}function o1(e){return o1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},o1(e)}function M_e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&YC(e,t)}function YC(e,t){return YC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},YC(e,t)}function IU(e,t,r){return t=kU(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function kU(e){var t=B_e(e,"string");return Yf(t)=="symbol"?t:t+""}function B_e(e,t){if(Yf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(Yf(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function XC(){return XC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},XC.apply(this,arguments)}var z_e=function(t){var r=t.yAxisId,s=pP(),a=vP(),i=dU(r);return i==null?null:C.createElement(Em,XC({},i,{className:cr("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:s,height:a},ticksGenerator:function(l){return Nl(l,!0)}}))},Wo=function(e){function t(){return O_e(this,t),R_e(this,t,arguments)}return M_e(t,e),L_e(t,[{key:"render",value:function(){return C.createElement(z_e,this.props)}}])}(C.Component);IU(Wo,"displayName","YAxis");IU(Wo,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function F6(e){return W_e(e)||q_e(e)||V_e(e)||U_e()}function U_e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function V_e(e,t){if(e){if(typeof e=="string")return QC(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return QC(e,t)}}function q_e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function W_e(e){if(Array.isArray(e))return QC(e)}function QC(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,s=new Array(t);r<t;r++)s[r]=e[r];return s}var JC=function(t,r,s,a,i){var o=gi(t,xP),l=gi(t,Kj),c=[].concat(F6(o),F6(l)),d=gi(t,Xj),h="".concat(a,"Id"),u=a[0],f=r;if(c.length&&(f=c.reduce(function(x,p){if(p.props[h]===s&&Vo(p.props,"extendDomain")&&it(p.props[u])){var g=p.props[u];return[Math.min(x[0],g),Math.max(x[1],g)]}return x},f)),d.length){var m="".concat(u,"1"),v="".concat(u,"2");f=d.reduce(function(x,p){if(p.props[h]===s&&Vo(p.props,"extendDomain")&&it(p.props[m])&&it(p.props[v])){var g=p.props[m],b=p.props[v];return[Math.min(x[0],g,b),Math.max(x[1],g,b)]}return x},f)}return i&&i.length&&(f=i.reduce(function(x,p){return it(p)?[Math.min(x[0],p),Math.max(x[1],p)]:x},f)),f},DU={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function s(){}Object.create&&(s.prototype=Object.create(null),new s().__proto__||(r=!1));function a(c,d,h){this.fn=c,this.context=d,this.once=h||!1}function i(c,d,h,u,f){if(typeof h!="function")throw new TypeError("The listener must be a function");var m=new a(h,u||c,f),v=r?r+d:d;return c._events[v]?c._events[v].fn?c._events[v]=[c._events[v],m]:c._events[v].push(m):(c._events[v]=m,c._eventsCount++),c}function o(c,d){--c._eventsCount===0?c._events=new s:delete c._events[d]}function l(){this._events=new s,this._eventsCount=0}l.prototype.eventNames=function(){var d=[],h,u;if(this._eventsCount===0)return d;for(u in h=this._events)t.call(h,u)&&d.push(r?u.slice(1):u);return Object.getOwnPropertySymbols?d.concat(Object.getOwnPropertySymbols(h)):d},l.prototype.listeners=function(d){var h=r?r+d:d,u=this._events[h];if(!u)return[];if(u.fn)return[u.fn];for(var f=0,m=u.length,v=new Array(m);f<m;f++)v[f]=u[f].fn;return v},l.prototype.listenerCount=function(d){var h=r?r+d:d,u=this._events[h];return u?u.fn?1:u.length:0},l.prototype.emit=function(d,h,u,f,m,v){var x=r?r+d:d;if(!this._events[x])return!1;var p=this._events[x],g=arguments.length,b,y;if(p.fn){switch(p.once&&this.removeListener(d,p.fn,void 0,!0),g){case 1:return p.fn.call(p.context),!0;case 2:return p.fn.call(p.context,h),!0;case 3:return p.fn.call(p.context,h,u),!0;case 4:return p.fn.call(p.context,h,u,f),!0;case 5:return p.fn.call(p.context,h,u,f,m),!0;case 6:return p.fn.call(p.context,h,u,f,m,v),!0}for(y=1,b=new Array(g-1);y<g;y++)b[y-1]=arguments[y];p.fn.apply(p.context,b)}else{var j=p.length,E;for(y=0;y<j;y++)switch(p[y].once&&this.removeListener(d,p[y].fn,void 0,!0),g){case 1:p[y].fn.call(p[y].context);break;case 2:p[y].fn.call(p[y].context,h);break;case 3:p[y].fn.call(p[y].context,h,u);break;case 4:p[y].fn.call(p[y].context,h,u,f);break;default:if(!b)for(E=1,b=new Array(g-1);E<g;E++)b[E-1]=arguments[E];p[y].fn.apply(p[y].context,b)}}return!0},l.prototype.on=function(d,h,u){return i(this,d,h,u,!1)},l.prototype.once=function(d,h,u){return i(this,d,h,u,!0)},l.prototype.removeListener=function(d,h,u,f){var m=r?r+d:d;if(!this._events[m])return this;if(!h)return o(this,m),this;var v=this._events[m];if(v.fn)v.fn===h&&(!f||v.once)&&(!u||v.context===u)&&o(this,m);else{for(var x=0,p=[],g=v.length;x<g;x++)(v[x].fn!==h||f&&!v[x].once||u&&v[x].context!==u)&&p.push(v[x]);p.length?this._events[m]=p.length===1?p[0]:p:o(this,m)}return this},l.prototype.removeAllListeners=function(d){var h;return d?(h=r?r+d:d,this._events[h]&&o(this,h)):(this._events=new s,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=r,l.EventEmitter=l,e.exports=l})(DU);var H_e=DU.exports;const G_e=Cr(H_e);var DN=new G_e,ON="recharts.syncMouseEvents";function Ng(e){"@babel/helpers - typeof";return Ng=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ng(e)}function K_e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function $6(e,t){for(var r=0;r<t.length;r++){var s=t[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,OU(s.key),s)}}function Y_e(e,t,r){return t&&$6(e.prototype,t),r&&$6(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function LN(e,t,r){return t=OU(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function OU(e){var t=X_e(e,"string");return Ng(t)=="symbol"?t:t+""}function X_e(e,t){if(Ng(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(Ng(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Q_e=function(){function e(){K_e(this,e),LN(this,"activeIndex",0),LN(this,"coordinateList",[]),LN(this,"layout","horizontal")}return Y_e(e,[{key:"setDetails",value:function(r){var s,a=r.coordinateList,i=a===void 0?null:a,o=r.container,l=o===void 0?null:o,c=r.layout,d=c===void 0?null:c,h=r.offset,u=h===void 0?null:h,f=r.mouseHandlerCallback,m=f===void 0?null:f;this.coordinateList=(s=i??this.coordinateList)!==null&&s!==void 0?s:[],this.container=l??this.container,this.layout=d??this.layout,this.offset=u??this.offset,this.mouseHandlerCallback=m??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,s;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var a=this.container.getBoundingClientRect(),i=a.x,o=a.y,l=a.height,c=this.coordinateList[this.activeIndex].coordinate,d=((r=window)===null||r===void 0?void 0:r.scrollX)||0,h=((s=window)===null||s===void 0?void 0:s.scrollY)||0,u=i+c+d,f=o+this.offset.top+l/2+h;this.mouseHandlerCallback({pageX:u,pageY:f})}}}])}();function J_e(e,t,r){if(r==="number"&&t===!0&&Array.isArray(e)){var s=e==null?void 0:e[0],a=e==null?void 0:e[1];if(s&&a&&it(s)&&it(a))return!0}return!1}function Z_e(e,t,r,s){var a=s/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-a:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-a,width:e==="horizontal"?s:r.width-1,height:e==="horizontal"?r.height-1:s}}function LU(e){var t=e.cx,r=e.cy,s=e.radius,a=e.startAngle,i=e.endAngle,o=Cs(t,r,s,a),l=Cs(t,r,s,i);return{points:[o,l],cx:t,cy:r,radius:s,startAngle:a,endAngle:i}}function eIe(e,t,r){var s,a,i,o;if(e==="horizontal")s=t.x,i=s,a=r.top,o=r.top+r.height;else if(e==="vertical")a=t.y,o=a,s=r.left,i=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var l=t.cx,c=t.cy,d=t.innerRadius,h=t.outerRadius,u=t.angle,f=Cs(l,c,d,u),m=Cs(l,c,h,u);s=f.x,a=f.y,i=m.x,o=m.y}else return LU(t);return[{x:s,y:a},{x:i,y:o}]}function Sg(e){"@babel/helpers - typeof";return Sg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Sg(e)}function M6(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function V0(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?M6(Object(r),!0).forEach(function(s){tIe(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):M6(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function tIe(e,t,r){return t=rIe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rIe(e){var t=nIe(e,"string");return Sg(t)=="symbol"?t:t+""}function nIe(e,t){if(Sg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(Sg(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function sIe(e){var t,r,s=e.element,a=e.tooltipEventType,i=e.isActive,o=e.activeCoordinate,l=e.activePayload,c=e.offset,d=e.activeTooltipIndex,h=e.tooltipAxisBandSize,u=e.layout,f=e.chartName,m=(t=s.props.cursor)!==null&&t!==void 0?t:(r=s.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!s||!m||!i||!o||f!=="ScatterChart"&&a!=="axis")return null;var v,x=df;if(f==="ScatterChart")v=o,x=eEe;else if(f==="BarChart")v=Z_e(u,o,c,h),x=dP;else if(u==="radial"){var p=LU(o),g=p.cx,b=p.cy,y=p.radius,j=p.startAngle,E=p.endAngle;v={cx:g,cy:b,startAngle:j,endAngle:E,innerRadius:y,outerRadius:y},x=$z}else v={points:eIe(u,o,c)},x=df;var S=V0(V0(V0(V0({stroke:"#ccc",pointerEvents:"none"},c),v),er(m,!1)),{},{payload:l,payloadIndex:d,className:cr("recharts-tooltip-cursor",m.className)});return C.isValidElement(m)?C.cloneElement(m,S):C.createElement(x,S)}var aIe=["item"],iIe=["children","className","width","height","style","compact","title","desc"];function Xf(e){"@babel/helpers - typeof";return Xf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xf(e)}function Kh(){return Kh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},Kh.apply(this,arguments)}function B6(e,t){return cIe(e)||lIe(e,t)||FU(e,t)||oIe()}function oIe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lIe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var s,a,i,o,l=[],c=!0,d=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(s=i.call(r)).done)&&(l.push(s.value),l.length!==t);c=!0);}catch(h){d=!0,a=h}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw a}}return l}}function cIe(e){if(Array.isArray(e))return e}function z6(e,t){if(e==null)return{};var r=dIe(e,t),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(r[s]=e[s])}return r}function dIe(e,t){if(e==null)return{};var r={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;r[s]=e[s]}return r}function uIe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function U6(e,t){for(var r=0;r<t.length;r++){var s=t[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,$U(s.key),s)}}function hIe(e,t,r){return t&&U6(e.prototype,t),r&&U6(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function fIe(e,t,r){return t=l1(t),mIe(e,RU()?Reflect.construct(t,r||[],l1(e).constructor):t.apply(e,r))}function mIe(e,t){if(t&&(Xf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return pIe(e)}function pIe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function RU(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(RU=function(){return!!e})()}function l1(e){return l1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},l1(e)}function vIe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ZC(e,t)}function ZC(e,t){return ZC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},ZC(e,t)}function Qf(e){return yIe(e)||xIe(e)||FU(e)||gIe()}function gIe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function FU(e,t){if(e){if(typeof e=="string")return eA(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return eA(e,t)}}function xIe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function yIe(e){if(Array.isArray(e))return eA(e)}function eA(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,s=new Array(t);r<t;r++)s[r]=e[r];return s}function V6(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function Ge(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?V6(Object(r),!0).forEach(function(s){Lt(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):V6(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function Lt(e,t,r){return t=$U(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $U(e){var t=bIe(e,"string");return Xf(t)=="symbol"?t:t+""}function bIe(e,t){if(Xf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(Xf(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var jIe={xAxis:["bottom","top"],yAxis:["left","right"]},wIe={width:"100%",height:"100%"},MU={x:0,y:0};function q0(e){return e}var NIe=function(t,r){return r==="horizontal"?t.x:r==="vertical"?t.y:r==="centric"?t.angle:t.radius},SIe=function(t,r,s,a){var i=r.find(function(h){return h&&h.index===s});if(i){if(t==="horizontal")return{x:i.coordinate,y:a.y};if(t==="vertical")return{x:a.x,y:i.coordinate};if(t==="centric"){var o=i.coordinate,l=a.radius;return Ge(Ge(Ge({},a),Cs(a.cx,a.cy,l,o)),{},{angle:o,radius:l})}var c=i.coordinate,d=a.angle;return Ge(Ge(Ge({},a),Cs(a.cx,a.cy,c,d)),{},{angle:d,radius:c})}return MU},Qj=function(t,r){var s=r.graphicalItems,a=r.dataStartIndex,i=r.dataEndIndex,o=(s??[]).reduce(function(l,c){var d=c.props.data;return d&&d.length?[].concat(Qf(l),Qf(d)):l},[]);return o.length>0?o:t&&t.length&&it(a)&&it(i)?t.slice(a,i+1):[]};function BU(e){return e==="number"?[0,"auto"]:void 0}var tA=function(t,r,s,a){var i=t.graphicalItems,o=t.tooltipAxis,l=Qj(r,t);return s<0||!i||!i.length||s>=l.length?null:i.reduce(function(c,d){var h,u=(h=d.props.data)!==null&&h!==void 0?h:r;u&&t.dataStartIndex+t.dataEndIndex!==0&&t.dataEndIndex-t.dataStartIndex>=s&&(u=u.slice(t.dataStartIndex,t.dataEndIndex+1));var f;if(o.dataKey&&!o.allowDuplicatedCategory){var m=u===void 0?l:u;f=lb(m,o.dataKey,a)}else f=u&&u[s]||l[s];return f?[].concat(Qf(c),[Lz(d,f)]):c},[])},q6=function(t,r,s,a){var i=a||{x:t.chartX,y:t.chartY},o=NIe(i,s),l=t.orderedTooltipTicks,c=t.tooltipAxis,d=t.tooltipTicks,h=USe(o,l,d,c);if(h>=0&&d){var u=d[h]&&d[h].value,f=tA(t,r,h,u),m=SIe(s,l,h,i);return{activeTooltipIndex:h,activeLabel:u,activePayload:f,activeCoordinate:m}}return null},CIe=function(t,r){var s=r.axes,a=r.graphicalItems,i=r.axisType,o=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,d=r.dataEndIndex,h=t.layout,u=t.children,f=t.stackOffset,m=kz(h,i);return s.reduce(function(v,x){var p,g=x.type.defaultProps!==void 0?Ge(Ge({},x.type.defaultProps),x.props):x.props,b=g.type,y=g.dataKey,j=g.allowDataOverflow,E=g.allowDuplicatedCategory,S=g.scale,N=g.ticks,w=g.includeHidden,_=g[o];if(v[_])return v;var k=Qj(t.data,{graphicalItems:a.filter(function(L){var V,G=o in L.props?L.props[o]:(V=L.type.defaultProps)===null||V===void 0?void 0:V[o];return G===_}),dataStartIndex:c,dataEndIndex:d}),T=k.length,A,O,D;J_e(g.domain,j,b)&&(A=gC(g.domain,null,j),m&&(b==="number"||S!=="auto")&&(D=av(k,y,"category")));var F=BU(b);if(!A||A.length===0){var M,R=(M=g.domain)!==null&&M!==void 0?M:F;if(y){if(A=av(k,y,b),b==="category"&&m){var B=Ofe(A);E&&B?(O=A,A=Kb(0,T)):E||(A=hO(R,A,x).reduce(function(L,V){return L.indexOf(V)>=0?L:[].concat(Qf(L),[V])},[]))}else if(b==="category")E?A=A.filter(function(L){return L!==""&&!rr(L)}):A=hO(R,A,x).reduce(function(L,V){return L.indexOf(V)>=0||V===""||rr(V)?L:[].concat(Qf(L),[V])},[]);else if(b==="number"){var U=GSe(k,a.filter(function(L){var V,G,Z=o in L.props?L.props[o]:(V=L.type.defaultProps)===null||V===void 0?void 0:V[o],te="hide"in L.props?L.props.hide:(G=L.type.defaultProps)===null||G===void 0?void 0:G.hide;return Z===_&&(w||!te)}),y,i,h);U&&(A=U)}m&&(b==="number"||S!=="auto")&&(D=av(k,y,"category"))}else m?A=Kb(0,T):l&&l[_]&&l[_].hasStack&&b==="number"?A=f==="expand"?[0,1]:Oz(l[_].stackGroups,c,d):A=Iz(k,a.filter(function(L){var V=o in L.props?L.props[o]:L.type.defaultProps[o],G="hide"in L.props?L.props.hide:L.type.defaultProps.hide;return V===_&&(w||!G)}),b,h,!0);if(b==="number")A=JC(u,A,_,i,N),R&&(A=gC(R,A,j));else if(b==="category"&&R){var H=R,q=A.every(function(L){return H.indexOf(L)>=0});q&&(A=H)}}return Ge(Ge({},v),{},Lt({},_,Ge(Ge({},g),{},{axisType:i,domain:A,categoricalDomain:D,duplicateDomain:O,originalDomain:(p=g.domain)!==null&&p!==void 0?p:F,isCategorical:m,layout:h})))},{})},AIe=function(t,r){var s=r.graphicalItems,a=r.Axis,i=r.axisType,o=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,d=r.dataEndIndex,h=t.layout,u=t.children,f=Qj(t.data,{graphicalItems:s,dataStartIndex:c,dataEndIndex:d}),m=f.length,v=kz(h,i),x=-1;return s.reduce(function(p,g){var b=g.type.defaultProps!==void 0?Ge(Ge({},g.type.defaultProps),g.props):g.props,y=b[o],j=BU("number");if(!p[y]){x++;var E;return v?E=Kb(0,m):l&&l[y]&&l[y].hasStack?(E=Oz(l[y].stackGroups,c,d),E=JC(u,E,y,i)):(E=gC(j,Iz(f,s.filter(function(S){var N,w,_=o in S.props?S.props[o]:(N=S.type.defaultProps)===null||N===void 0?void 0:N[o],k="hide"in S.props?S.props.hide:(w=S.type.defaultProps)===null||w===void 0?void 0:w.hide;return _===y&&!k}),"number",h),a.defaultProps.allowDataOverflow),E=JC(u,E,y,i)),Ge(Ge({},p),{},Lt({},y,Ge(Ge({axisType:i},a.defaultProps),{},{hide:!0,orientation:vi(jIe,"".concat(i,".").concat(x%2),null),domain:E,originalDomain:j,isCategorical:v,layout:h})))}return p},{})},EIe=function(t,r){var s=r.axisType,a=s===void 0?"xAxis":s,i=r.AxisComp,o=r.graphicalItems,l=r.stackGroups,c=r.dataStartIndex,d=r.dataEndIndex,h=t.children,u="".concat(a,"Id"),f=gi(h,i),m={};return f&&f.length?m=CIe(t,{axes:f,graphicalItems:o,axisType:a,axisIdKey:u,stackGroups:l,dataStartIndex:c,dataEndIndex:d}):o&&o.length&&(m=AIe(t,{Axis:i,graphicalItems:o,axisType:a,axisIdKey:u,stackGroups:l,dataStartIndex:c,dataEndIndex:d})),m},PIe=function(t){var r=Nc(t),s=Nl(r,!1,!0);return{tooltipTicks:s,orderedTooltipTicks:FE(s,function(a){return a.coordinate}),tooltipAxis:r,tooltipAxisBandSize:Mb(r,s)}},W6=function(t){var r=t.children,s=t.defaultShowTooltip,a=Oa(r,Bf),i=0,o=0;return t.data&&t.data.length!==0&&(o=t.data.length-1),a&&a.props&&(a.props.startIndex>=0&&(i=a.props.startIndex),a.props.endIndex>=0&&(o=a.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:i,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!s}},TIe=function(t){return!t||!t.length?!1:t.some(function(r){var s=Cl(r&&r.type);return s&&s.indexOf("Bar")>=0})},H6=function(t){return t==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:t==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:t==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},_Ie=function(t,r){var s=t.props,a=t.graphicalItems,i=t.xAxisMap,o=i===void 0?{}:i,l=t.yAxisMap,c=l===void 0?{}:l,d=s.width,h=s.height,u=s.children,f=s.margin||{},m=Oa(u,Bf),v=Oa(u,of),x=Object.keys(c).reduce(function(E,S){var N=c[S],w=N.orientation;return!N.mirror&&!N.hide?Ge(Ge({},E),{},Lt({},w,E[w]+N.width)):E},{left:f.left||0,right:f.right||0}),p=Object.keys(o).reduce(function(E,S){var N=o[S],w=N.orientation;return!N.mirror&&!N.hide?Ge(Ge({},E),{},Lt({},w,vi(E,"".concat(w))+N.height)):E},{top:f.top||0,bottom:f.bottom||0}),g=Ge(Ge({},p),x),b=g.bottom;m&&(g.bottom+=m.props.height||Bf.defaultProps.height),v&&r&&(g=WSe(g,a,s,r));var y=d-g.left-g.right,j=h-g.top-g.bottom;return Ge(Ge({brushBottom:b},g),{},{width:Math.max(y,0),height:Math.max(j,0)})},IIe=function(t,r){if(r==="xAxis")return t[r].width;if(r==="yAxis")return t[r].height},jP=function(t){var r=t.chartName,s=t.GraphicalChild,a=t.defaultTooltipEventType,i=a===void 0?"axis":a,o=t.validateTooltipEventTypes,l=o===void 0?["axis"]:o,c=t.axisComponents,d=t.legendContent,h=t.formatAxisMap,u=t.defaultProps,f=function(g,b){var y=b.graphicalItems,j=b.stackGroups,E=b.offset,S=b.updateId,N=b.dataStartIndex,w=b.dataEndIndex,_=g.barSize,k=g.layout,T=g.barGap,A=g.barCategoryGap,O=g.maxBarSize,D=H6(k),F=D.numericAxisName,M=D.cateAxisName,R=TIe(y),B=[];return y.forEach(function(U,H){var q=Qj(g.data,{graphicalItems:[U],dataStartIndex:N,dataEndIndex:w}),L=U.type.defaultProps!==void 0?Ge(Ge({},U.type.defaultProps),U.props):U.props,V=L.dataKey,G=L.maxBarSize,Z=L["".concat(F,"Id")],te=L["".concat(M,"Id")],he={},fe=c.reduce(function(nt,rt){var gt=b["".concat(rt.axisType,"Map")],Me=L["".concat(rt.axisType,"Id")];gt&&gt[Me]||rt.axisType==="zAxis"||Zc(!1);var Ze=gt[Me];return Ge(Ge({},nt),{},Lt(Lt({},rt.axisType,Ze),"".concat(rt.axisType,"Ticks"),Nl(Ze)))},he),oe=fe[M],we=fe["".concat(M,"Ticks")],je=j&&j[Z]&&j[Z].hasStack&&aCe(U,j[Z].stackGroups),ve=Cl(U.type).indexOf("Bar")>=0,Le=Mb(oe,we),ge=[],le=R&&VSe({barSize:_,stackGroups:j,totalSize:IIe(fe,M)});if(ve){var re,Ce,Ne=rr(G)?O:G,xe=(re=(Ce=Mb(oe,we,!0))!==null&&Ce!==void 0?Ce:Ne)!==null&&re!==void 0?re:0;ge=qSe({barGap:T,barCategoryGap:A,bandSize:xe!==Le?xe:Le,sizeList:le[te],maxBarSize:Ne}),xe!==Le&&(ge=ge.map(function(nt){return Ge(Ge({},nt),{},{position:Ge(Ge({},nt.position),{},{offset:nt.position.offset-xe/2})})}))}var Fe=U&&U.type&&U.type.getComposedData;Fe&&B.push({props:Ge(Ge({},Fe(Ge(Ge({},fe),{},{displayedData:q,props:g,dataKey:V,item:U,bandSize:Le,barPosition:ge,offset:E,stackedData:je,layout:k,dataStartIndex:N,dataEndIndex:w}))),{},Lt(Lt(Lt({key:U.key||"item-".concat(H)},F,fe[F]),M,fe[M]),"animationId",S)),childIndex:Hfe(U,g.children),item:U})}),B},m=function(g,b){var y=g.props,j=g.dataStartIndex,E=g.dataEndIndex,S=g.updateId;if(!rk({props:y}))return null;var N=y.children,w=y.layout,_=y.stackOffset,k=y.data,T=y.reverseStackOrder,A=H6(w),O=A.numericAxisName,D=A.cateAxisName,F=gi(N,s),M=rCe(k,F,"".concat(O,"Id"),"".concat(D,"Id"),_,T),R=c.reduce(function(L,V){var G="".concat(V.axisType,"Map");return Ge(Ge({},L),{},Lt({},G,EIe(y,Ge(Ge({},V),{},{graphicalItems:F,stackGroups:V.axisType===O&&M,dataStartIndex:j,dataEndIndex:E}))))},{}),B=_Ie(Ge(Ge({},R),{},{props:y,graphicalItems:F}),b==null?void 0:b.legendBBox);Object.keys(R).forEach(function(L){R[L]=h(y,R[L],B,L.replace("Map",""),r)});var U=R["".concat(D,"Map")],H=PIe(U),q=f(y,Ge(Ge({},R),{},{dataStartIndex:j,dataEndIndex:E,updateId:S,graphicalItems:F,stackGroups:M,offset:B}));return Ge(Ge({formattedGraphicalItems:q,graphicalItems:F,offset:B,stackGroups:M},H),R)},v=function(p){function g(b){var y,j,E;return uIe(this,g),E=fIe(this,g,[b]),Lt(E,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),Lt(E,"accessibilityManager",new Q_e),Lt(E,"handleLegendBBoxUpdate",function(S){if(S){var N=E.state,w=N.dataStartIndex,_=N.dataEndIndex,k=N.updateId;E.setState(Ge({legendBBox:S},m({props:E.props,dataStartIndex:w,dataEndIndex:_,updateId:k},Ge(Ge({},E.state),{},{legendBBox:S}))))}}),Lt(E,"handleReceiveSyncEvent",function(S,N,w){if(E.props.syncId===S){if(w===E.eventEmitterSymbol&&typeof E.props.syncMethod!="function")return;E.applySyncEvent(N)}}),Lt(E,"handleBrushChange",function(S){var N=S.startIndex,w=S.endIndex;if(N!==E.state.dataStartIndex||w!==E.state.dataEndIndex){var _=E.state.updateId;E.setState(function(){return Ge({dataStartIndex:N,dataEndIndex:w},m({props:E.props,dataStartIndex:N,dataEndIndex:w,updateId:_},E.state))}),E.triggerSyncEvent({dataStartIndex:N,dataEndIndex:w})}}),Lt(E,"handleMouseEnter",function(S){var N=E.getMouseInfo(S);if(N){var w=Ge(Ge({},N),{},{isTooltipActive:!0});E.setState(w),E.triggerSyncEvent(w);var _=E.props.onMouseEnter;Zt(_)&&_(w,S)}}),Lt(E,"triggeredAfterMouseMove",function(S){var N=E.getMouseInfo(S),w=N?Ge(Ge({},N),{},{isTooltipActive:!0}):{isTooltipActive:!1};E.setState(w),E.triggerSyncEvent(w);var _=E.props.onMouseMove;Zt(_)&&_(w,S)}),Lt(E,"handleItemMouseEnter",function(S){E.setState(function(){return{isTooltipActive:!0,activeItem:S,activePayload:S.tooltipPayload,activeCoordinate:S.tooltipPosition||{x:S.cx,y:S.cy}}})}),Lt(E,"handleItemMouseLeave",function(){E.setState(function(){return{isTooltipActive:!1}})}),Lt(E,"handleMouseMove",function(S){S.persist(),E.throttleTriggeredAfterMouseMove(S)}),Lt(E,"handleMouseLeave",function(S){E.throttleTriggeredAfterMouseMove.cancel();var N={isTooltipActive:!1};E.setState(N),E.triggerSyncEvent(N);var w=E.props.onMouseLeave;Zt(w)&&w(N,S)}),Lt(E,"handleOuterEvent",function(S){var N=Wfe(S),w=vi(E.props,"".concat(N));if(N&&Zt(w)){var _,k;/.*touch.*/i.test(N)?k=E.getMouseInfo(S.changedTouches[0]):k=E.getMouseInfo(S),w((_=k)!==null&&_!==void 0?_:{},S)}}),Lt(E,"handleClick",function(S){var N=E.getMouseInfo(S);if(N){var w=Ge(Ge({},N),{},{isTooltipActive:!0});E.setState(w),E.triggerSyncEvent(w);var _=E.props.onClick;Zt(_)&&_(w,S)}}),Lt(E,"handleMouseDown",function(S){var N=E.props.onMouseDown;if(Zt(N)){var w=E.getMouseInfo(S);N(w,S)}}),Lt(E,"handleMouseUp",function(S){var N=E.props.onMouseUp;if(Zt(N)){var w=E.getMouseInfo(S);N(w,S)}}),Lt(E,"handleTouchMove",function(S){S.changedTouches!=null&&S.changedTouches.length>0&&E.throttleTriggeredAfterMouseMove(S.changedTouches[0])}),Lt(E,"handleTouchStart",function(S){S.changedTouches!=null&&S.changedTouches.length>0&&E.handleMouseDown(S.changedTouches[0])}),Lt(E,"handleTouchEnd",function(S){S.changedTouches!=null&&S.changedTouches.length>0&&E.handleMouseUp(S.changedTouches[0])}),Lt(E,"handleDoubleClick",function(S){var N=E.props.onDoubleClick;if(Zt(N)){var w=E.getMouseInfo(S);N(w,S)}}),Lt(E,"handleContextMenu",function(S){var N=E.props.onContextMenu;if(Zt(N)){var w=E.getMouseInfo(S);N(w,S)}}),Lt(E,"triggerSyncEvent",function(S){E.props.syncId!==void 0&&DN.emit(ON,E.props.syncId,S,E.eventEmitterSymbol)}),Lt(E,"applySyncEvent",function(S){var N=E.props,w=N.layout,_=N.syncMethod,k=E.state.updateId,T=S.dataStartIndex,A=S.dataEndIndex;if(S.dataStartIndex!==void 0||S.dataEndIndex!==void 0)E.setState(Ge({dataStartIndex:T,dataEndIndex:A},m({props:E.props,dataStartIndex:T,dataEndIndex:A,updateId:k},E.state)));else if(S.activeTooltipIndex!==void 0){var O=S.chartX,D=S.chartY,F=S.activeTooltipIndex,M=E.state,R=M.offset,B=M.tooltipTicks;if(!R)return;if(typeof _=="function")F=_(B,S);else if(_==="value"){F=-1;for(var U=0;U<B.length;U++)if(B[U].value===S.activeLabel){F=U;break}}var H=Ge(Ge({},R),{},{x:R.left,y:R.top}),q=Math.min(O,H.x+H.width),L=Math.min(D,H.y+H.height),V=B[F]&&B[F].value,G=tA(E.state,E.props.data,F),Z=B[F]?{x:w==="horizontal"?B[F].coordinate:q,y:w==="horizontal"?L:B[F].coordinate}:MU;E.setState(Ge(Ge({},S),{},{activeLabel:V,activeCoordinate:Z,activePayload:G,activeTooltipIndex:F}))}else E.setState(S)}),Lt(E,"renderCursor",function(S){var N,w=E.state,_=w.isTooltipActive,k=w.activeCoordinate,T=w.activePayload,A=w.offset,O=w.activeTooltipIndex,D=w.tooltipAxisBandSize,F=E.getTooltipEventType(),M=(N=S.props.active)!==null&&N!==void 0?N:_,R=E.props.layout,B=S.key||"_recharts-cursor";return pe.createElement(sIe,{key:B,activeCoordinate:k,activePayload:T,activeTooltipIndex:O,chartName:r,element:S,isActive:M,layout:R,offset:A,tooltipAxisBandSize:D,tooltipEventType:F})}),Lt(E,"renderPolarAxis",function(S,N,w){var _=vi(S,"type.axisType"),k=vi(E.state,"".concat(_,"Map")),T=S.type.defaultProps,A=T!==void 0?Ge(Ge({},T),S.props):S.props,O=k&&k[A["".concat(_,"Id")]];return C.cloneElement(S,Ge(Ge({},O),{},{className:cr(_,O.className),key:S.key||"".concat(N,"-").concat(w),ticks:Nl(O,!0)}))}),Lt(E,"renderPolarGrid",function(S){var N=S.props,w=N.radialLines,_=N.polarAngles,k=N.polarRadius,T=E.state,A=T.radiusAxisMap,O=T.angleAxisMap,D=Nc(A),F=Nc(O),M=F.cx,R=F.cy,B=F.innerRadius,U=F.outerRadius;return C.cloneElement(S,{polarAngles:Array.isArray(_)?_:Nl(F,!0).map(function(H){return H.coordinate}),polarRadius:Array.isArray(k)?k:Nl(D,!0).map(function(H){return H.coordinate}),cx:M,cy:R,innerRadius:B,outerRadius:U,key:S.key||"polar-grid",radialLines:w})}),Lt(E,"renderLegend",function(){var S=E.state.formattedGraphicalItems,N=E.props,w=N.children,_=N.width,k=N.height,T=E.props.margin||{},A=_-(T.left||0)-(T.right||0),O=Tz({children:w,formattedGraphicalItems:S,legendWidth:A,legendContent:d});if(!O)return null;var D=O.item,F=z6(O,aIe);return C.cloneElement(D,Ge(Ge({},F),{},{chartWidth:_,chartHeight:k,margin:T,onBBoxUpdate:E.handleLegendBBoxUpdate}))}),Lt(E,"renderTooltip",function(){var S,N=E.props,w=N.children,_=N.accessibilityLayer,k=Oa(w,ha);if(!k)return null;var T=E.state,A=T.isTooltipActive,O=T.activeCoordinate,D=T.activePayload,F=T.activeLabel,M=T.offset,R=(S=k.props.active)!==null&&S!==void 0?S:A;return C.cloneElement(k,{viewBox:Ge(Ge({},M),{},{x:M.left,y:M.top}),active:R,label:F,payload:R?D:[],coordinate:O,accessibilityLayer:_})}),Lt(E,"renderBrush",function(S){var N=E.props,w=N.margin,_=N.data,k=E.state,T=k.offset,A=k.dataStartIndex,O=k.dataEndIndex,D=k.updateId;return C.cloneElement(S,{key:S.key||"_recharts-brush",onChange:M0(E.handleBrushChange,S.props.onChange),data:_,x:it(S.props.x)?S.props.x:T.left,y:it(S.props.y)?S.props.y:T.top+T.height+T.brushBottom-(w.bottom||0),width:it(S.props.width)?S.props.width:T.width,startIndex:A,endIndex:O,updateId:"brush-".concat(D)})}),Lt(E,"renderReferenceElement",function(S,N,w){if(!S)return null;var _=E,k=_.clipPathId,T=E.state,A=T.xAxisMap,O=T.yAxisMap,D=T.offset,F=S.type.defaultProps||{},M=S.props,R=M.xAxisId,B=R===void 0?F.xAxisId:R,U=M.yAxisId,H=U===void 0?F.yAxisId:U;return C.cloneElement(S,{key:S.key||"".concat(N,"-").concat(w),xAxis:A[B],yAxis:O[H],viewBox:{x:D.left,y:D.top,width:D.width,height:D.height},clipPathId:k})}),Lt(E,"renderActivePoints",function(S){var N=S.item,w=S.activePoint,_=S.basePoint,k=S.childIndex,T=S.isRange,A=[],O=N.props.key,D=N.item.type.defaultProps!==void 0?Ge(Ge({},N.item.type.defaultProps),N.item.props):N.item.props,F=D.activeDot,M=D.dataKey,R=Ge(Ge({index:k,dataKey:M,cx:w.x,cy:w.y,r:4,fill:cP(N.item),strokeWidth:2,stroke:"#fff",payload:w.payload,value:w.value},er(F,!1)),cb(F));return A.push(g.renderActiveDot(F,R,"".concat(O,"-activePoint-").concat(k))),_?A.push(g.renderActiveDot(F,Ge(Ge({},R),{},{cx:_.x,cy:_.y}),"".concat(O,"-basePoint-").concat(k))):T&&A.push(null),A}),Lt(E,"renderGraphicChild",function(S,N,w){var _=E.filterFormatItem(S,N,w);if(!_)return null;var k=E.getTooltipEventType(),T=E.state,A=T.isTooltipActive,O=T.tooltipAxis,D=T.activeTooltipIndex,F=T.activeLabel,M=E.props.children,R=Oa(M,ha),B=_.props,U=B.points,H=B.isRange,q=B.baseLine,L=_.item.type.defaultProps!==void 0?Ge(Ge({},_.item.type.defaultProps),_.item.props):_.item.props,V=L.activeDot,G=L.hide,Z=L.activeBar,te=L.activeShape,he=!!(!G&&A&&R&&(V||Z||te)),fe={};k!=="axis"&&R&&R.props.trigger==="click"?fe={onClick:M0(E.handleItemMouseEnter,S.props.onClick)}:k!=="axis"&&(fe={onMouseLeave:M0(E.handleItemMouseLeave,S.props.onMouseLeave),onMouseEnter:M0(E.handleItemMouseEnter,S.props.onMouseEnter)});var oe=C.cloneElement(S,Ge(Ge({},_.props),fe));function we(rt){return typeof O.dataKey=="function"?O.dataKey(rt.payload):null}if(he)if(D>=0){var je,ve;if(O.dataKey&&!O.allowDuplicatedCategory){var Le=typeof O.dataKey=="function"?we:"payload.".concat(O.dataKey.toString());je=lb(U,Le,F),ve=H&&q&&lb(q,Le,F)}else je=U==null?void 0:U[D],ve=H&&q&&q[D];if(te||Z){var ge=S.props.activeIndex!==void 0?S.props.activeIndex:D;return[C.cloneElement(S,Ge(Ge(Ge({},_.props),fe),{},{activeIndex:ge})),null,null]}if(!rr(je))return[oe].concat(Qf(E.renderActivePoints({item:_,activePoint:je,basePoint:ve,childIndex:D,isRange:H})))}else{var le,re=(le=E.getItemByXY(E.state.activeCoordinate))!==null&&le!==void 0?le:{graphicalItem:oe},Ce=re.graphicalItem,Ne=Ce.item,xe=Ne===void 0?S:Ne,Fe=Ce.childIndex,nt=Ge(Ge(Ge({},_.props),fe),{},{activeIndex:Fe});return[C.cloneElement(xe,nt),null,null]}return H?[oe,null,null]:[oe,null]}),Lt(E,"renderCustomized",function(S,N,w){return C.cloneElement(S,Ge(Ge({key:"recharts-customized-".concat(w)},E.props),E.state))}),Lt(E,"renderMap",{CartesianGrid:{handler:q0,once:!0},ReferenceArea:{handler:E.renderReferenceElement},ReferenceLine:{handler:q0},ReferenceDot:{handler:E.renderReferenceElement},XAxis:{handler:q0},YAxis:{handler:q0},Brush:{handler:E.renderBrush,once:!0},Bar:{handler:E.renderGraphicChild},Line:{handler:E.renderGraphicChild},Area:{handler:E.renderGraphicChild},Radar:{handler:E.renderGraphicChild},RadialBar:{handler:E.renderGraphicChild},Scatter:{handler:E.renderGraphicChild},Pie:{handler:E.renderGraphicChild},Funnel:{handler:E.renderGraphicChild},Tooltip:{handler:E.renderCursor,once:!0},PolarGrid:{handler:E.renderPolarGrid,once:!0},PolarAngleAxis:{handler:E.renderPolarAxis},PolarRadiusAxis:{handler:E.renderPolarAxis},Customized:{handler:E.renderCustomized}}),E.clipPathId="".concat((y=b.id)!==null&&y!==void 0?y:bm("recharts"),"-clip"),E.throttleTriggeredAfterMouseMove=P9(E.triggeredAfterMouseMove,(j=b.throttleDelay)!==null&&j!==void 0?j:1e3/60),E.state={},E}return vIe(g,p),hIe(g,[{key:"componentDidMount",value:function(){var y,j;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(y=this.props.margin.left)!==null&&y!==void 0?y:0,top:(j=this.props.margin.top)!==null&&j!==void 0?j:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var y=this.props,j=y.children,E=y.data,S=y.height,N=y.layout,w=Oa(j,ha);if(w){var _=w.props.defaultIndex;if(!(typeof _!="number"||_<0||_>this.state.tooltipTicks.length-1)){var k=this.state.tooltipTicks[_]&&this.state.tooltipTicks[_].value,T=tA(this.state,E,_,k),A=this.state.tooltipTicks[_].coordinate,O=(this.state.offset.top+S)/2,D=N==="horizontal",F=D?{x:A,y:O}:{y:A,x:O},M=this.state.formattedGraphicalItems.find(function(B){var U=B.item;return U.type.name==="Scatter"});M&&(F=Ge(Ge({},F),M.props.points[_].tooltipPosition),T=M.props.points[_].tooltipPayload);var R={activeTooltipIndex:_,isTooltipActive:!0,activeLabel:k,activePayload:T,activeCoordinate:F};this.setState(R),this.renderCursor(w),this.accessibilityManager.setIndex(_)}}}},{key:"getSnapshotBeforeUpdate",value:function(y,j){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==j.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==y.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==y.margin){var E,S;this.accessibilityManager.setDetails({offset:{left:(E=this.props.margin.left)!==null&&E!==void 0?E:0,top:(S=this.props.margin.top)!==null&&S!==void 0?S:0}})}return null}},{key:"componentDidUpdate",value:function(y){kS([Oa(y.children,ha)],[Oa(this.props.children,ha)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var y=Oa(this.props.children,ha);if(y&&typeof y.props.shared=="boolean"){var j=y.props.shared?"axis":"item";return l.indexOf(j)>=0?j:i}return i}},{key:"getMouseInfo",value:function(y){if(!this.container)return null;var j=this.container,E=j.getBoundingClientRect(),S=pwe(E),N={chartX:Math.round(y.pageX-S.left),chartY:Math.round(y.pageY-S.top)},w=E.width/j.offsetWidth||1,_=this.inRange(N.chartX,N.chartY,w);if(!_)return null;var k=this.state,T=k.xAxisMap,A=k.yAxisMap,O=this.getTooltipEventType(),D=q6(this.state,this.props.data,this.props.layout,_);if(O!=="axis"&&T&&A){var F=Nc(T).scale,M=Nc(A).scale,R=F&&F.invert?F.invert(N.chartX):null,B=M&&M.invert?M.invert(N.chartY):null;return Ge(Ge({},N),{},{xValue:R,yValue:B},D)}return D?Ge(Ge({},N),D):null}},{key:"inRange",value:function(y,j){var E=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,S=this.props.layout,N=y/E,w=j/E;if(S==="horizontal"||S==="vertical"){var _=this.state.offset,k=N>=_.left&&N<=_.left+_.width&&w>=_.top&&w<=_.top+_.height;return k?{x:N,y:w}:null}var T=this.state,A=T.angleAxisMap,O=T.radiusAxisMap;if(A&&O){var D=Nc(A);return pO({x:N,y:w},D)}return null}},{key:"parseEventsOfWrapper",value:function(){var y=this.props.children,j=this.getTooltipEventType(),E=Oa(y,ha),S={};E&&j==="axis"&&(E.props.trigger==="click"?S={onClick:this.handleClick}:S={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var N=cb(this.props,this.handleOuterEvent);return Ge(Ge({},N),S)}},{key:"addListener",value:function(){DN.on(ON,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){DN.removeListener(ON,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(y,j,E){for(var S=this.state.formattedGraphicalItems,N=0,w=S.length;N<w;N++){var _=S[N];if(_.item===y||_.props.key===y.key||j===Cl(_.item.type)&&E===_.childIndex)return _}return null}},{key:"renderClipPath",value:function(){var y=this.clipPathId,j=this.state.offset,E=j.left,S=j.top,N=j.height,w=j.width;return pe.createElement("defs",null,pe.createElement("clipPath",{id:y},pe.createElement("rect",{x:E,y:S,height:N,width:w})))}},{key:"getXScales",value:function(){var y=this.state.xAxisMap;return y?Object.entries(y).reduce(function(j,E){var S=B6(E,2),N=S[0],w=S[1];return Ge(Ge({},j),{},Lt({},N,w.scale))},{}):null}},{key:"getYScales",value:function(){var y=this.state.yAxisMap;return y?Object.entries(y).reduce(function(j,E){var S=B6(E,2),N=S[0],w=S[1];return Ge(Ge({},j),{},Lt({},N,w.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(y){var j;return(j=this.state.xAxisMap)===null||j===void 0||(j=j[y])===null||j===void 0?void 0:j.scale}},{key:"getYScaleByAxisId",value:function(y){var j;return(j=this.state.yAxisMap)===null||j===void 0||(j=j[y])===null||j===void 0?void 0:j.scale}},{key:"getItemByXY",value:function(y){var j=this.state,E=j.formattedGraphicalItems,S=j.activeItem;if(E&&E.length)for(var N=0,w=E.length;N<w;N++){var _=E[N],k=_.props,T=_.item,A=T.type.defaultProps!==void 0?Ge(Ge({},T.type.defaultProps),T.props):T.props,O=Cl(T.type);if(O==="Bar"){var D=(k.data||[]).find(function(B){return q4e(y,B)});if(D)return{graphicalItem:_,payload:D}}else if(O==="RadialBar"){var F=(k.data||[]).find(function(B){return pO(y,B)});if(F)return{graphicalItem:_,payload:F}}else if(qj(_,S)||Wj(_,S)||xg(_,S)){var M=GEe({graphicalItem:_,activeTooltipItem:S,itemData:A.data}),R=A.activeIndex===void 0?M:A.activeIndex;return{graphicalItem:Ge(Ge({},_),{},{childIndex:R}),payload:xg(_,S)?A.data[M]:_.props.data[M]}}}return null}},{key:"render",value:function(){var y=this;if(!rk(this))return null;var j=this.props,E=j.children,S=j.className,N=j.width,w=j.height,_=j.style,k=j.compact,T=j.title,A=j.desc,O=z6(j,iIe),D=er(O,!1);if(k)return pe.createElement(m6,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},pe.createElement(OS,Kh({},D,{width:N,height:w,title:T,desc:A}),this.renderClipPath(),sk(E,this.renderMap)));if(this.props.accessibilityLayer){var F,M;D.tabIndex=(F=this.props.tabIndex)!==null&&F!==void 0?F:0,D.role=(M=this.props.role)!==null&&M!==void 0?M:"application",D.onKeyDown=function(B){y.accessibilityManager.keyboardEvent(B)},D.onFocus=function(){y.accessibilityManager.focus()}}var R=this.parseEventsOfWrapper();return pe.createElement(m6,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},pe.createElement("div",Kh({className:cr("recharts-wrapper",S),style:Ge({position:"relative",cursor:"default",width:N,height:w},_)},R,{ref:function(U){y.container=U}}),pe.createElement(OS,Kh({},D,{width:N,height:w,title:T,desc:A,style:wIe}),this.renderClipPath(),sk(E,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(C.Component);Lt(v,"displayName",r),Lt(v,"defaultProps",Ge({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},u)),Lt(v,"getDerivedStateFromProps",function(p,g){var b=p.dataKey,y=p.data,j=p.children,E=p.width,S=p.height,N=p.layout,w=p.stackOffset,_=p.margin,k=g.dataStartIndex,T=g.dataEndIndex;if(g.updateId===void 0){var A=W6(p);return Ge(Ge(Ge({},A),{},{updateId:0},m(Ge(Ge({props:p},A),{},{updateId:0}),g)),{},{prevDataKey:b,prevData:y,prevWidth:E,prevHeight:S,prevLayout:N,prevStackOffset:w,prevMargin:_,prevChildren:j})}if(b!==g.prevDataKey||y!==g.prevData||E!==g.prevWidth||S!==g.prevHeight||N!==g.prevLayout||w!==g.prevStackOffset||!af(_,g.prevMargin)){var O=W6(p),D={chartX:g.chartX,chartY:g.chartY,isTooltipActive:g.isTooltipActive},F=Ge(Ge({},q6(g,y,N)),{},{updateId:g.updateId+1}),M=Ge(Ge(Ge({},O),D),F);return Ge(Ge(Ge({},M),m(Ge({props:p},M),g)),{},{prevDataKey:b,prevData:y,prevWidth:E,prevHeight:S,prevLayout:N,prevStackOffset:w,prevMargin:_,prevChildren:j})}if(!kS(j,g.prevChildren)){var R,B,U,H,q=Oa(j,Bf),L=q&&(R=(B=q.props)===null||B===void 0?void 0:B.startIndex)!==null&&R!==void 0?R:k,V=q&&(U=(H=q.props)===null||H===void 0?void 0:H.endIndex)!==null&&U!==void 0?U:T,G=L!==k||V!==T,Z=!rr(y),te=Z&&!G?g.updateId:g.updateId+1;return Ge(Ge({updateId:te},m(Ge(Ge({props:p},g),{},{updateId:te,dataStartIndex:L,dataEndIndex:V}),g)),{},{prevChildren:j,dataStartIndex:L,dataEndIndex:V})}return null}),Lt(v,"renderActiveDot",function(p,g,b){var y;return C.isValidElement(p)?y=C.cloneElement(p,g):Zt(p)?y=p(g):y=pe.createElement(Vj,g),pe.createElement(Yr,{className:"recharts-active-dot",key:b},y)});var x=C.forwardRef(function(g,b){return pe.createElement(v,Kh({},g,{ref:b}))});return x.displayName=v.displayName,x},kIe=jP({chartName:"LineChart",GraphicalChild:tx,axisComponents:[{axisType:"xAxis",AxisComp:qo},{axisType:"yAxis",AxisComp:Wo}],formatAxisMap:uP}),zU=jP({chartName:"BarChart",GraphicalChild:vd,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:qo},{axisType:"yAxis",AxisComp:Wo}],formatAxisMap:uP}),UU=jP({chartName:"AreaChart",GraphicalChild:Gl,axisComponents:[{axisType:"xAxis",AxisComp:qo},{axisType:"yAxis",AxisComp:Wo}],formatAxisMap:uP});const G6={totalApiCalls:123456,activeUsers:85,storageUsedGB:12.5,emailsSent:5678,smsSent:3456,modulesEnabled:10,dailyApiCalls:[{date:"2024-06-20",calls:1200},{date:"2024-06-21",calls:1500},{date:"2024-06-22",calls:1300},{date:"2024-06-23",calls:1800},{date:"2024-06-24",calls:1600},{date:"2024-06-25",calls:2e3},{date:"2024-06-26",calls:1900}],moduleUsage:[{name:"CRM & Prospecting",usage:45e3},{name:"Inventory Management",usage:3e4},{name:"Quote Builder",usage:15e3},{name:"Service Operations",usage:1e4},{name:"Delivery Tracker",usage:5e3}]};function DIe(){const{toast:e}=At(),[t,r]=C.useState(G6),[s,a]=C.useState("7d"),[i,o]=C.useState(!1),l=async()=>{o(!0);try{await new Promise(d=>setTimeout(d,1500)),r(G6),e({title:"Usage Stats Refreshed",description:"Latest usage data has been loaded."})}catch{e({title:"Error",description:"Failed to refresh usage stats.",variant:"destructive"})}finally{o(!1)}},c=()=>{e({title:"Export Initiated",description:"Usage data is being prepared for download."})};return n.jsx("div",{className:"space-y-6",children:n.jsxs(de,{className:"shadow-sm",children:[n.jsx(ye,{children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsxs(be,{className:"flex items-center",children:[n.jsx(Bn,{className:"h-5 w-5 mr-2 text-primary"}),"Platform Usage Statistics"]}),n.jsx($e,{children:"Monitor key performance indicators and usage trends"})]}),n.jsxs("div",{className:"flex space-x-2",children:[n.jsxs(J,{variant:"outline",size:"sm",onClick:l,disabled:i,children:[i?n.jsx(bf,{className:"h-4 w-4 mr-2 animate-spin"}):n.jsx(bf,{className:"h-4 w-4 mr-2"}),"Refresh"]}),n.jsxs(J,{variant:"outline",size:"sm",onClick:c,children:[n.jsx(wa,{className:"h-4 w-4 mr-2"}),"Export"]})]})]})}),n.jsxs(ue,{children:[n.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[n.jsxs(de,{className:"shadow-sm",children:[n.jsxs(ye,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(be,{className:"text-sm font-medium",children:"Total API Calls"}),n.jsx(Co,{className:"h-4 w-4 text-muted-foreground"})]}),n.jsxs(ue,{children:[n.jsx("div",{className:"text-2xl font-bold",children:t.totalApiCalls.toLocaleString()}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"All time"})]})]}),n.jsxs(de,{className:"shadow-sm",children:[n.jsxs(ye,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(be,{className:"text-sm font-medium",children:"Active Users"}),n.jsx(On,{className:"h-4 w-4 text-muted-foreground"})]}),n.jsxs(ue,{children:[n.jsx("div",{className:"text-2xl font-bold",children:t.activeUsers}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Currently logged in"})]})]}),n.jsxs(de,{className:"shadow-sm",children:[n.jsxs(ye,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(be,{className:"text-sm font-medium",children:"Storage Used"}),n.jsx(u$,{className:"h-4 w-4 text-muted-foreground"})]}),n.jsxs(ue,{children:[n.jsxs("div",{className:"text-2xl font-bold",children:[t.storageUsedGB," GB"]}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Total across all tenants"})]})]}),n.jsxs(de,{className:"shadow-sm",children:[n.jsxs(ye,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(be,{className:"text-sm font-medium",children:"Emails Sent"}),n.jsx(Qr,{className:"h-4 w-4 text-muted-foreground"})]}),n.jsxs(ue,{children:[n.jsx("div",{className:"text-2xl font-bold",children:t.emailsSent.toLocaleString()}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Last 30 days"})]})]})]}),n.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[n.jsxs(de,{className:"shadow-sm",children:[n.jsxs(ye,{children:[n.jsx(be,{children:"Daily API Calls"}),n.jsx($e,{children:"API call volume over time"})]}),n.jsx(ue,{className:"h-64",children:n.jsx(rv,{width:"100%",height:"100%",children:n.jsxs(UU,{data:t.dailyApiCalls,children:[n.jsx(qo,{dataKey:"date",tick:{fontSize:10}}),n.jsx(Wo,{tick:{fontSize:10}}),n.jsx(VC,{strokeDasharray:"3 3"}),n.jsx(ha,{}),n.jsx(Gl,{type:"monotone",dataKey:"calls",stroke:"#8884d8",fill:"#8884d8"})]})})})]}),n.jsxs(de,{className:"shadow-sm",children:[n.jsxs(ye,{children:[n.jsx(be,{children:"Module Usage"}),n.jsx($e,{children:"API calls by module"})]}),n.jsx(ue,{className:"h-64",children:n.jsx(rv,{width:"100%",height:"100%",children:n.jsxs(zU,{data:t.moduleUsage,layout:"vertical",children:[n.jsx(qo,{type:"number",tick:{fontSize:10}}),n.jsx(Wo,{type:"category",dataKey:"name",tick:{fontSize:10},width:120}),n.jsx(ha,{}),n.jsx(vd,{dataKey:"usage",fill:"#82ca9d"})]})})})]})]}),n.jsxs(de,{className:"shadow-sm",children:[n.jsxs(ye,{children:[n.jsx(be,{children:"Usage Trends"}),n.jsx($e,{children:"Historical data and forecasts"})]}),n.jsxs(ue,{children:[n.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[n.jsx(ae,{htmlFor:"timeframe",children:"Timeframe:"}),n.jsxs(Ve,{value:s,onValueChange:a,children:[n.jsx(ze,{className:"w-[120px]",children:n.jsx(qe,{})}),n.jsxs(Ue,{children:[n.jsx(K,{value:"7d",children:"Last 7 Days"}),n.jsx(K,{value:"30d",children:"Last 30 Days"}),n.jsx(K,{value:"90d",children:"Last 90 Days"}),n.jsx(K,{value:"1y",children:"Last Year"})]})]})]}),n.jsx("div",{className:"h-64",children:n.jsx(rv,{width:"100%",height:"100%",children:n.jsxs(kIe,{data:t.dailyApiCalls,margin:{top:5,right:30,left:20,bottom:5},children:[n.jsx(qo,{dataKey:"date",tick:{fontSize:10}}),n.jsx(Wo,{tick:{fontSize:10}}),n.jsx(VC,{strokeDasharray:"3 3"}),n.jsx(ha,{}),n.jsx(tx,{type:"monotone",dataKey:"calls",stroke:"#8884d8",activeDot:{r:8}})]})})})]})]})]})]})})}const K6=[{id:"1",timestamp:new Date("2024-06-27T10:00:00Z"),actor:"admin@renterinsight.com",action:"tenant_created",target:"Demo RV Dealership",status:"success",details:"New tenant organization created",type:"tenant"},{id:"2",timestamp:new Date("2024-06-27T10:05:00Z"),actor:"admin@renterinsight.com",action:"api_token_generated",target:"Production API Key",status:"success",details:"New API token generated for production environment",type:"api_token"},{id:"3",timestamp:new Date("2024-06-27T10:10:00Z"),actor:"manager@demorv.com",action:"module_disabled",target:"Commission Engine",status:"success",details:"Module disabled by tenant manager",type:"module"},{id:"4",timestamp:new Date("2024-06-27T10:15:00Z"),actor:"system",action:"email_sent",target:"john.doe@example.com",status:"success",details:"Welcome email sent to new lead",type:"email"},{id:"5",timestamp:new Date("2024-06-27T10:20:00Z"),actor:"system",action:"sms_failed",target:"+15551234567",status:"failure",details:"SMS delivery failed due to invalid number",type:"sms"},{id:"6",timestamp:new Date("2024-06-27T10:25:00Z"),actor:"admin@renterinsight.com",action:"user_login",target:"admin@renterinsight.com",status:"success",details:"User logged in",type:"user"},{id:"7",timestamp:new Date("2024-06-27T10:30:00Z"),actor:"system",action:"database_backup",target:"daily_backup_20240627",status:"success",details:"Daily database backup completed",type:"database"},{id:"8",timestamp:new Date("2024-06-27T10:35:00Z"),actor:"admin@renterinsight.com",action:"settings_updated",target:"Tenant Settings",status:"success",details:"Tenant branding settings updated",type:"settings"}];function OIe(){const[e,t]=C.useState(K6),[r,s]=C.useState(""),[a,i]=C.useState("all"),[o,l]=C.useState("all"),c=v=>{switch(v){case"tenant_created":case"tenant_updated":case"tenant_deleted":return n.jsx(Iv,{className:"h-4 w-4"});case"api_token_generated":case"api_token_revoked":return n.jsx(AK,{className:"h-4 w-4"});case"module_enabled":case"module_disabled":return n.jsx(Dv,{className:"h-4 w-4"});case"email_sent":case"email_failed":return n.jsx(Qr,{className:"h-4 w-4"});case"sms_sent":case"sms_failed":return n.jsx(ln,{className:"h-4 w-4"});case"user_login":case"user_logout":case"user_role_changed":return n.jsx(us,{className:"h-4 w-4"});case"database_backup":case"database_restore":return n.jsx(u$,{className:"h-4 w-4"});case"settings_updated":return n.jsx(Dv,{className:"h-4 w-4"});case"permission_changed":return n.jsx(D1,{className:"h-4 w-4"});case"system_error":return n.jsx(Xi,{className:"h-4 w-4"});case"system_event":return n.jsx(sr,{className:"h-4 w-4"});default:return n.jsx(ls,{className:"h-4 w-4"})}},d=v=>{switch(v){case"success":return"bg-green-50 text-green-700 border-green-200";case"failure":return"bg-red-50 text-red-700 border-red-200";default:return"bg-gray-50 text-gray-700 border-gray-200"}},h=v=>{switch(v){case"tenant":return"bg-blue-50 text-blue-700 border-blue-200";case"api_token":return"bg-purple-50 text-purple-700 border-purple-200";case"module":return"bg-orange-50 text-orange-700 border-orange-200";case"email":case"sms":return"bg-green-50 text-green-700 border-green-200";case"user":return"bg-indigo-50 text-indigo-700 border-indigo-200";case"database":return"bg-teal-50 text-teal-700 border-teal-200";case"settings":return"bg-pink-50 text-pink-700 border-pink-200";default:return"bg-gray-50 text-gray-700 border-gray-200"}},u=e.filter(v=>{const x=v.actor.toLowerCase().includes(r.toLowerCase())||v.target.toLowerCase().includes(r.toLowerCase())||v.details.toLowerCase().includes(r.toLowerCase()),p=a==="all"||v.type===a,g=o==="all"||v.status===o;return x&&p&&g}),f=()=>{t(K6),s(""),i("all"),l("all"),console.log("Refreshing audit logs...")},m=()=>{console.log("Exporting audit logs...")};return n.jsx("div",{className:"space-y-6",children:n.jsxs(de,{className:"shadow-sm",children:[n.jsx(ye,{children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsxs(be,{className:"flex items-center",children:[n.jsx(CT,{className:"h-5 w-5 mr-2 text-primary"}),"Audit Logs"]}),n.jsx($e,{children:"View system audit logs and activity"})]}),n.jsxs("div",{className:"flex space-x-2",children:[n.jsxs(J,{variant:"outline",size:"sm",onClick:f,children:[n.jsx(bf,{className:"h-4 w-4 mr-2"}),"Refresh"]}),n.jsxs(J,{variant:"outline",size:"sm",onClick:m,children:[n.jsx(wa,{className:"h-4 w-4 mr-2"}),"Export"]})]})]})}),n.jsxs(ue,{children:[n.jsxs("div",{className:"flex flex-col md:flex-row gap-4 mb-6",children:[n.jsxs("div",{className:"relative flex-1",children:[n.jsx(es,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),n.jsx(Pe,{placeholder:"Search logs...",value:r,onChange:v=>s(v.target.value),className:"pl-10"})]}),n.jsxs(Ve,{value:a,onValueChange:i,children:[n.jsx(ze,{className:"w-[180px]",children:n.jsx(qe,{placeholder:"Filter by Type"})}),n.jsxs(Ue,{children:[n.jsx(K,{value:"all",children:"All Types"}),n.jsx(K,{value:"tenant",children:"Tenant"}),n.jsx(K,{value:"user",children:"User"}),n.jsx(K,{value:"api_token",children:"API Token"}),n.jsx(K,{value:"module",children:"Module"}),n.jsx(K,{value:"email",children:"Email"}),n.jsx(K,{value:"sms",children:"SMS"}),n.jsx(K,{value:"database",children:"Database"}),n.jsx(K,{value:"settings",children:"Settings"})]})]}),n.jsxs(Ve,{value:o,onValueChange:l,children:[n.jsx(ze,{className:"w-[180px]",children:n.jsx(qe,{placeholder:"Filter by Status"})}),n.jsxs(Ue,{children:[n.jsx(K,{value:"all",children:"All Statuses"}),n.jsx(K,{value:"success",children:"Success"}),n.jsx(K,{value:"failure",children:"Failure"})]})]})]}),n.jsx("div",{className:"space-y-4",children:u.length>0?u.map(v=>{const x=c(v.action);return n.jsxs("div",{className:"flex items-start space-x-4 p-4 border rounded-lg",children:[n.jsx("div",{className:He("flex-shrink-0 w-10 h-10 rounded-full flex items-center justify-center",d(v.status).replace("text-","bg-").replace("border-","")),children:x}),n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center justify-between mb-1",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("span",{className:"font-semibold",children:v.action.replace(/_/g," ").toUpperCase()}),n.jsx(Re,{className:He("text-xs",d(v.status)),children:v.status.toUpperCase()}),n.jsx(Re,{className:He("text-xs",h(v.type)),children:v.type.toUpperCase()})]}),n.jsx("span",{className:"text-sm text-muted-foreground",children:ct(v.timestamp)})]}),n.jsxs("p",{className:"text-sm text-muted-foreground mb-1",children:[n.jsx("span",{className:"font-medium",children:v.actor})," performed action on ",n.jsx("span",{className:"font-medium",children:v.target})]}),n.jsx("p",{className:"text-sm text-muted-foreground",children:v.details})]})]},v.id)}):n.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[n.jsx(CT,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),n.jsx("p",{children:"No audit logs found"}),n.jsx("p",{className:"text-sm",children:"Adjust your filters or refresh the logs"})]})})]})]})})}function LIe({onSave:e,onCancel:t}){const{toast:r}=At(),[s,a]=C.useState(!1),[i,o]=C.useState({name:"",domain:"",settings:{timezone:"America/New_York",currency:"USD",dateFormat:"MM/dd/yyyy",features:{crm:!0,inventory:!0,quotes:!0,agreements:!0,service:!0,delivery:!0,commissions:!0,portal:!0,invoices:!0,reports:!0}},branding:{primaryColor:"#3b82f6",secondaryColor:"#64748b",fontFamily:"Inter"},isActive:!0}),l=async c=>{if(c.preventDefault(),!i.name||!i.domain){r({title:"Validation Error",description:"Tenant name and domain are required",variant:"destructive"});return}a(!0);try{await e(i),r({title:"Success",description:"Tenant created successfully"})}catch{r({title:"Error",description:"Failed to create tenant",variant:"destructive"})}finally{a(!1)}};return n.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:n.jsxs(de,{className:"w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[n.jsx(ye,{children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsxs(be,{className:"flex items-center",children:[n.jsx(Iv,{className:"h-5 w-5 mr-2 text-primary"}),"Add New Tenant"]}),n.jsx($e,{children:"Create a new tenant organization"})]}),n.jsx(J,{variant:"ghost",size:"sm",onClick:t,children:n.jsx(Ut,{className:"h-4 w-4"})})]})}),n.jsx(ue,{children:n.jsxs("form",{onSubmit:l,className:"space-y-6",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-lg font-semibold",children:"Tenant Information"}),n.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"name",children:"Tenant Name *"}),n.jsx(Pe,{id:"name",value:i.name,onChange:c=>o(d=>({...d,name:c.target.value})),placeholder:"e.g., Sunshine RV Dealership"})]}),n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"domain",children:"Domain *"}),n.jsx(Pe,{id:"domain",value:i.domain,onChange:c=>o(d=>({...d,domain:c.target.value})),placeholder:"e.g., sunshine.renterinsight.com"}),n.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"This will be used for tenant-specific access"})]})]}),n.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"timezone",children:"Timezone"}),n.jsxs(Ve,{value:i.settings.timezone,onValueChange:c=>o(d=>({...d,settings:{...d.settings,timezone:c}})),children:[n.jsx(ze,{children:n.jsx(qe,{})}),n.jsxs(Ue,{children:[n.jsx(K,{value:"America/New_York",children:"Eastern Time (ET)"}),n.jsx(K,{value:"America/Chicago",children:"Central Time (CT)"}),n.jsx(K,{value:"America/Denver",children:"Mountain Time (MT)"}),n.jsx(K,{value:"America/Los_Angeles",children:"Pacific Time (PT)"})]})]})]}),n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"currency",children:"Currency"}),n.jsxs(Ve,{value:i.settings.currency,onValueChange:c=>o(d=>({...d,settings:{...d.settings,currency:c}})),children:[n.jsx(ze,{children:n.jsx(qe,{})}),n.jsxs(Ue,{children:[n.jsx(K,{value:"USD",children:"US Dollar (USD)"}),n.jsx(K,{value:"CAD",children:"Canadian Dollar (CAD)"}),n.jsx(K,{value:"EUR",children:"Euro (EUR)"}),n.jsx(K,{value:"GBP",children:"British Pound (GBP)"})]})]})]}),n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"dateFormat",children:"Date Format"}),n.jsxs(Ve,{value:i.settings.dateFormat,onValueChange:c=>o(d=>({...d,settings:{...d.settings,dateFormat:c}})),children:[n.jsx(ze,{children:n.jsx(qe,{})}),n.jsxs(Ue,{children:[n.jsx(K,{value:"MM/dd/yyyy",children:"MM/DD/YYYY"}),n.jsx(K,{value:"dd/MM/yyyy",children:"DD/MM/YYYY"}),n.jsx(K,{value:"yyyy-MM-dd",children:"YYYY-MM-DD"})]})]})]})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-lg font-semibold",children:"Enabled Features"}),n.jsx("div",{className:"grid gap-4 md:grid-cols-2",children:Object.entries(i.settings.features).map(([c,d])=>n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Vt,{id:`feature-${c}`,checked:d,onCheckedChange:h=>o(u=>({...u,settings:{...u.settings,features:{...u.settings.features,[c]:!!h}}}))}),n.jsx(ae,{htmlFor:`feature-${c}`,className:"capitalize",children:c==="crm"?"CRM & Prospecting":c==="invoices"?"Invoice & Payments":c})]},c))})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-lg font-semibold",children:"Branding"}),n.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"primaryColor",children:"Primary Color"}),n.jsxs("div",{className:"flex items-center space-x-2 mt-1",children:[n.jsx(Pe,{type:"color",id:"primaryColor",value:i.branding.primaryColor,onChange:c=>o(d=>({...d,branding:{...d.branding,primaryColor:c.target.value}})),className:"w-16 h-10 shadow-sm"}),n.jsx(Pe,{value:i.branding.primaryColor,onChange:c=>o(d=>({...d,branding:{...d.branding,primaryColor:c.target.value}})),className:"shadow-sm"})]})]}),n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"secondaryColor",children:"Secondary Color"}),n.jsxs("div",{className:"flex items-center space-x-2 mt-1",children:[n.jsx(Pe,{type:"color",id:"secondaryColor",value:i.branding.secondaryColor,onChange:c=>o(d=>({...d,branding:{...d.branding,secondaryColor:c.target.value}})),className:"w-16 h-10 shadow-sm"}),n.jsx(Pe,{value:i.branding.secondaryColor,onChange:c=>o(d=>({...d,branding:{...d.branding,secondaryColor:c.target.value}})),className:"shadow-sm"})]})]}),n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"fontFamily",children:"Font Family"}),n.jsxs(Ve,{value:i.branding.fontFamily,onValueChange:c=>o(d=>({...d,branding:{...d.branding,fontFamily:c}})),children:[n.jsx(ze,{children:n.jsx(qe,{})}),n.jsxs(Ue,{children:[n.jsx(K,{value:"Inter",children:"Inter"}),n.jsx(K,{value:"Roboto",children:"Roboto"}),n.jsx(K,{value:"Open Sans",children:"Open Sans"}),n.jsx(K,{value:"Montserrat",children:"Montserrat"})]})]})]})]})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Vt,{id:"isActive",checked:i.isActive,onCheckedChange:c=>o(d=>({...d,isActive:!!c}))}),n.jsx(ae,{htmlFor:"isActive",children:"Active tenant"})]}),n.jsxs("div",{className:"flex justify-end space-x-3 pt-6 border-t",children:[n.jsx(J,{type:"button",variant:"outline",onClick:t,disabled:s,children:"Cancel"}),n.jsx(J,{type:"submit",disabled:s,children:s?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Creating..."]}):n.jsxs(n.Fragment,{children:[n.jsx(Rr,{className:"h-4 w-4 mr-2"}),"Create Tenant"]})})]})]})})]})})}function RIe({tenantId:e,user:t,onSave:r,onCancel:s}){const{toast:a}=At(),[i,o]=C.useState(!1),[l,c]=C.useState({name:(t==null?void 0:t.name)||"",email:(t==null?void 0:t.email)||"",role:(t==null?void 0:t.role)||Ki.USER,isActive:(t==null?void 0:t.is_active)!==!1,sendInvite:!t}),d=async h=>{if(h.preventDefault(),!l.name||!l.email){a({title:"Validation Error",description:"Name and email are required",variant:"destructive"});return}o(!0);try{const u={id:t==null?void 0:t.id,...l,tenantId:e,createdAt:(t==null?void 0:t.created_at)||new Date};await r(u),a({title:"Success",description:`User ${t?"updated":"added"} successfully`})}catch{a({title:"Error",description:`Failed to ${t?"update":"add"} user`,variant:"destructive"})}finally{o(!1)}};return n.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:n.jsxs(de,{className:"w-full max-w-md",children:[n.jsx(ye,{children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsxs(be,{className:"flex items-center",children:[n.jsx(us,{className:"h-5 w-5 mr-2 text-primary"}),t?"Edit User":"Add User"]}),n.jsx($e,{children:t?"Update user details":"Add a new user to this tenant"})]}),n.jsx(J,{variant:"ghost",size:"sm",onClick:s,children:n.jsx(Ut,{className:"h-4 w-4"})})]})}),n.jsx(ue,{children:n.jsxs("form",{onSubmit:d,className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"name",children:"Full Name *"}),n.jsxs("div",{className:"relative",children:[n.jsx(us,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),n.jsx(Pe,{id:"name",value:l.name,onChange:h=>c(u=>({...u,name:h.target.value})),placeholder:"John Smith",className:"pl-10"})]})]}),n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"email",children:"Email Address *"}),n.jsxs("div",{className:"relative",children:[n.jsx(Qr,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),n.jsx(Pe,{id:"email",type:"email",value:l.email,onChange:h=>c(u=>({...u,email:h.target.value})),placeholder:"john.smith@example.com",className:"pl-10",disabled:!!t})]}),t&&n.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Email cannot be changed for existing users"})]}),n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"role",children:"Role"}),n.jsxs("div",{className:"relative",children:[n.jsx(D1,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),n.jsxs(Ve,{value:l.role,onValueChange:h=>c(u=>({...u,role:h})),children:[n.jsx(ze,{className:"pl-10",children:n.jsx(qe,{})}),n.jsxs(Ue,{children:[n.jsx(K,{value:Ki.ADMIN,children:"Admin"}),n.jsx(K,{value:Ki.MANAGER,children:"Manager"}),n.jsx(K,{value:Ki.SALES,children:"Sales"}),n.jsx(K,{value:Ki.SERVICE,children:"Service"}),n.jsx(K,{value:Ki.USER,children:"User"})]})]})]})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Vt,{id:"isActive",checked:l.isActive,onCheckedChange:h=>c(u=>({...u,isActive:!!h}))}),n.jsx(ae,{htmlFor:"isActive",children:"Active user"})]}),!t&&n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Vt,{id:"sendInvite",checked:l.sendInvite,onCheckedChange:h=>c(u=>({...u,sendInvite:!!h}))}),n.jsx(ae,{htmlFor:"sendInvite",children:"Send invitation email"})]}),n.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[n.jsx(J,{type:"button",variant:"outline",onClick:s,disabled:i,children:"Cancel"}),n.jsx(J,{type:"submit",disabled:i,children:i?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),t?"Updating...":"Adding..."]}):n.jsxs(n.Fragment,{children:[n.jsx(Rr,{className:"h-4 w-4 mr-2"}),t?"Update User":"Add User"]})})]})]})})]})})}const FIe=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>td(()=>Promise.resolve().then(()=>Pm),void 0).then(({default:s})=>s(...r)):t=fetch,(...r)=>t(...r)};class wP extends Error{constructor(t,r="FunctionsError",s){super(t),this.name=r,this.context=s}}class $Ie extends wP{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class MIe extends wP{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class BIe extends wP{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var rA;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(rA||(rA={}));var zIe=globalThis&&globalThis.__awaiter||function(e,t,r,s){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(h){try{d(s.next(h))}catch(u){o(u)}}function c(h){try{d(s.throw(h))}catch(u){o(u)}}function d(h){h.done?i(h.value):a(h.value).then(l,c)}d((s=s.apply(e,t||[])).next())})};class UIe{constructor(t,{headers:r={},customFetch:s,region:a=rA.Any}={}){this.url=t,this.headers=r,this.region=a,this.fetch=FIe(s)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,r={}){var s;return zIe(this,void 0,void 0,function*(){try{const{headers:a,method:i,body:o}=r;let l={},{region:c}=r;c||(c=this.region),c&&c!=="any"&&(l["x-region"]=c);let d;o&&(a&&!Object.prototype.hasOwnProperty.call(a,"Content-Type")||!a)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(l["Content-Type"]="application/octet-stream",d=o):typeof o=="string"?(l["Content-Type"]="text/plain",d=o):typeof FormData<"u"&&o instanceof FormData?d=o:(l["Content-Type"]="application/json",d=JSON.stringify(o)));const h=yield this.fetch(`${this.url}/${t}`,{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},l),this.headers),a),body:d}).catch(v=>{throw new $Ie(v)}),u=h.headers.get("x-relay-error");if(u&&u==="true")throw new MIe(h);if(!h.ok)throw new BIe(h);let f=((s=h.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),m;return f==="application/json"?m=yield h.json():f==="application/octet-stream"?m=yield h.blob():f==="text/event-stream"?m=h:f==="multipart/form-data"?m=yield h.formData():m=yield h.text(),{data:m,error:null}}catch(a){return{data:null,error:a}}})}}var pa={},NP={},Jj={},rx={},Zj={},ew={},VIe=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Jf=VIe();const qIe=Jf.fetch,VU=Jf.fetch.bind(Jf),qU=Jf.Headers,WIe=Jf.Request,HIe=Jf.Response,Pm=Object.freeze(Object.defineProperty({__proto__:null,Headers:qU,Request:WIe,Response:HIe,default:VU,fetch:qIe},Symbol.toStringTag,{value:"Module"})),GIe=fL(Pm);var tw={};Object.defineProperty(tw,"__esModule",{value:!0});let KIe=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};tw.default=KIe;var WU=Un&&Un.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ew,"__esModule",{value:!0});const YIe=WU(GIe),XIe=WU(tw);let QIe=class{constructor(t){this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.isMaybeSingle=t.isMaybeSingle,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=YIe.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,r){return this.headers=Object.assign({},this.headers),this.headers[t]=r,this}then(t,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const s=this.fetch;let a=s(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var o,l,c;let d=null,h=null,u=null,f=i.status,m=i.statusText;if(i.ok){if(this.method!=="HEAD"){const g=await i.text();g===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?h=g:h=JSON.parse(g))}const x=(o=this.headers.Prefer)===null||o===void 0?void 0:o.match(/count=(exact|planned|estimated)/),p=(l=i.headers.get("content-range"))===null||l===void 0?void 0:l.split("/");x&&p&&p.length>1&&(u=parseInt(p[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(h)&&(h.length>1?(d={code:"PGRST116",details:`Results contain ${h.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},h=null,u=null,f=406,m="Not Acceptable"):h.length===1?h=h[0]:h=null)}else{const x=await i.text();try{d=JSON.parse(x),Array.isArray(d)&&i.status===404&&(h=[],d=null,f=200,m="OK")}catch{i.status===404&&x===""?(f=204,m="No Content"):d={message:x}}if(d&&this.isMaybeSingle&&(!((c=d==null?void 0:d.details)===null||c===void 0)&&c.includes("0 rows"))&&(d=null,f=200,m="OK"),d&&this.shouldThrowOnError)throw new XIe.default(d)}return{error:d,data:h,count:u,status:f,statusText:m}});return this.shouldThrowOnError||(a=a.catch(i=>{var o,l,c;return{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(l=i==null?void 0:i.stack)!==null&&l!==void 0?l:""}`,hint:"",code:`${(c=i==null?void 0:i.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),a.then(t,r)}returns(){return this}overrideTypes(){return this}};ew.default=QIe;var JIe=Un&&Un.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Zj,"__esModule",{value:!0});const ZIe=JIe(ew);let eke=class extends ZIe.default{select(t){let r=!1;const s=(t??"*").split("").map(a=>/\s/.test(a)&&!r?"":(a==='"'&&(r=!r),a)).join("");return this.url.searchParams.set("select",s),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:r=!0,nullsFirst:s,foreignTable:a,referencedTable:i=a}={}){const o=i?`${i}.order`:"order",l=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${l?`${l},`:""}${t}.${r?"asc":"desc"}${s===void 0?"":s?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:r,referencedTable:s=r}={}){const a=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(a,`${t}`),this}range(t,r,{foreignTable:s,referencedTable:a=s}={}){const i=typeof a>"u"?"offset":`${a}.offset`,o=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(i,`${t}`),this.url.searchParams.set(o,`${r-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:r=!1,settings:s=!1,buffers:a=!1,wal:i=!1,format:o="text"}={}){var l;const c=[t?"analyze":null,r?"verbose":null,s?"settings":null,a?"buffers":null,i?"wal":null].filter(Boolean).join("|"),d=(l=this.headers.Accept)!==null&&l!==void 0?l:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${o}; for="${d}"; options=${c};`,o==="json"?this:this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};Zj.default=eke;var tke=Un&&Un.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(rx,"__esModule",{value:!0});const rke=tke(Zj);let nke=class extends rke.default{eq(t,r){return this.url.searchParams.append(t,`eq.${r}`),this}neq(t,r){return this.url.searchParams.append(t,`neq.${r}`),this}gt(t,r){return this.url.searchParams.append(t,`gt.${r}`),this}gte(t,r){return this.url.searchParams.append(t,`gte.${r}`),this}lt(t,r){return this.url.searchParams.append(t,`lt.${r}`),this}lte(t,r){return this.url.searchParams.append(t,`lte.${r}`),this}like(t,r){return this.url.searchParams.append(t,`like.${r}`),this}likeAllOf(t,r){return this.url.searchParams.append(t,`like(all).{${r.join(",")}}`),this}likeAnyOf(t,r){return this.url.searchParams.append(t,`like(any).{${r.join(",")}}`),this}ilike(t,r){return this.url.searchParams.append(t,`ilike.${r}`),this}ilikeAllOf(t,r){return this.url.searchParams.append(t,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(t,r){return this.url.searchParams.append(t,`ilike(any).{${r.join(",")}}`),this}is(t,r){return this.url.searchParams.append(t,`is.${r}`),this}in(t,r){const s=Array.from(new Set(r)).map(a=>typeof a=="string"&&new RegExp("[,()]").test(a)?`"${a}"`:`${a}`).join(",");return this.url.searchParams.append(t,`in.(${s})`),this}contains(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cs.{${r.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(r)}`),this}containedBy(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cd.{${r.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(r)}`),this}rangeGt(t,r){return this.url.searchParams.append(t,`sr.${r}`),this}rangeGte(t,r){return this.url.searchParams.append(t,`nxl.${r}`),this}rangeLt(t,r){return this.url.searchParams.append(t,`sl.${r}`),this}rangeLte(t,r){return this.url.searchParams.append(t,`nxr.${r}`),this}rangeAdjacent(t,r){return this.url.searchParams.append(t,`adj.${r}`),this}overlaps(t,r){return typeof r=="string"?this.url.searchParams.append(t,`ov.${r}`):this.url.searchParams.append(t,`ov.{${r.join(",")}}`),this}textSearch(t,r,{config:s,type:a}={}){let i="";a==="plain"?i="pl":a==="phrase"?i="ph":a==="websearch"&&(i="w");const o=s===void 0?"":`(${s})`;return this.url.searchParams.append(t,`${i}fts${o}.${r}`),this}match(t){return Object.entries(t).forEach(([r,s])=>{this.url.searchParams.append(r,`eq.${s}`)}),this}not(t,r,s){return this.url.searchParams.append(t,`not.${r}.${s}`),this}or(t,{foreignTable:r,referencedTable:s=r}={}){const a=s?`${s}.or`:"or";return this.url.searchParams.append(a,`(${t})`),this}filter(t,r,s){return this.url.searchParams.append(t,`${r}.${s}`),this}};rx.default=nke;var ske=Un&&Un.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Jj,"__esModule",{value:!0});const kp=ske(rx);let ake=class{constructor(t,{headers:r={},schema:s,fetch:a}){this.url=t,this.headers=r,this.schema=s,this.fetch=a}select(t,{head:r=!1,count:s}={}){const a=r?"HEAD":"GET";let i=!1;const o=(t??"*").split("").map(l=>/\s/.test(l)&&!i?"":(l==='"'&&(i=!i),l)).join("");return this.url.searchParams.set("select",o),s&&(this.headers.Prefer=`count=${s}`),new kp.default({method:a,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:r,defaultToNull:s=!0}={}){const a="POST",i=[];if(this.headers.Prefer&&i.push(this.headers.Prefer),r&&i.push(`count=${r}`),s||i.push("missing=default"),this.headers.Prefer=i.join(","),Array.isArray(t)){const o=t.reduce((l,c)=>l.concat(Object.keys(c)),[]);if(o.length>0){const l=[...new Set(o)].map(c=>`"${c}"`);this.url.searchParams.set("columns",l.join(","))}}return new kp.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:r,ignoreDuplicates:s=!1,count:a,defaultToNull:i=!0}={}){const o="POST",l=[`resolution=${s?"ignore":"merge"}-duplicates`];if(r!==void 0&&this.url.searchParams.set("on_conflict",r),this.headers.Prefer&&l.push(this.headers.Prefer),a&&l.push(`count=${a}`),i||l.push("missing=default"),this.headers.Prefer=l.join(","),Array.isArray(t)){const c=t.reduce((d,h)=>d.concat(Object.keys(h)),[]);if(c.length>0){const d=[...new Set(c)].map(h=>`"${h}"`);this.url.searchParams.set("columns",d.join(","))}}return new kp.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:r}={}){const s="PATCH",a=[];return this.headers.Prefer&&a.push(this.headers.Prefer),r&&a.push(`count=${r}`),this.headers.Prefer=a.join(","),new kp.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){const r="DELETE",s=[];return t&&s.push(`count=${t}`),this.headers.Prefer&&s.unshift(this.headers.Prefer),this.headers.Prefer=s.join(","),new kp.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};Jj.default=ake;var rw={},nw={};Object.defineProperty(nw,"__esModule",{value:!0});nw.version=void 0;nw.version="0.0.0-automated";Object.defineProperty(rw,"__esModule",{value:!0});rw.DEFAULT_HEADERS=void 0;const ike=nw;rw.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${ike.version}`};var HU=Un&&Un.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(NP,"__esModule",{value:!0});const oke=HU(Jj),lke=HU(rx),cke=rw;let dke=class GU{constructor(t,{headers:r={},schema:s,fetch:a}={}){this.url=t,this.headers=Object.assign(Object.assign({},cke.DEFAULT_HEADERS),r),this.schemaName=s,this.fetch=a}from(t){const r=new URL(`${this.url}/${t}`);return new oke.default(r,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new GU(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,r={},{head:s=!1,get:a=!1,count:i}={}){let o;const l=new URL(`${this.url}/rpc/${t}`);let c;s||a?(o=s?"HEAD":"GET",Object.entries(r).filter(([h,u])=>u!==void 0).map(([h,u])=>[h,Array.isArray(u)?`{${u.join(",")}}`:`${u}`]).forEach(([h,u])=>{l.searchParams.append(h,u)})):(o="POST",c=r);const d=Object.assign({},this.headers);return i&&(d.Prefer=`count=${i}`),new lke.default({method:o,url:l,headers:d,schema:this.schemaName,body:c,fetch:this.fetch,allowEmpty:!1})}};NP.default=dke;var Tm=Un&&Un.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(pa,"__esModule",{value:!0});pa.PostgrestError=pa.PostgrestBuilder=pa.PostgrestTransformBuilder=pa.PostgrestFilterBuilder=pa.PostgrestQueryBuilder=pa.PostgrestClient=void 0;const KU=Tm(NP);pa.PostgrestClient=KU.default;const YU=Tm(Jj);pa.PostgrestQueryBuilder=YU.default;const XU=Tm(rx);pa.PostgrestFilterBuilder=XU.default;const QU=Tm(Zj);pa.PostgrestTransformBuilder=QU.default;const JU=Tm(ew);pa.PostgrestBuilder=JU.default;const ZU=Tm(tw);pa.PostgrestError=ZU.default;var uke=pa.default={PostgrestClient:KU.default,PostgrestQueryBuilder:YU.default,PostgrestFilterBuilder:XU.default,PostgrestTransformBuilder:QU.default,PostgrestBuilder:JU.default,PostgrestError:ZU.default};const{PostgrestClient:hke,PostgrestQueryBuilder:wOe,PostgrestFilterBuilder:NOe,PostgrestTransformBuilder:SOe,PostgrestBuilder:COe,PostgrestError:AOe}=uke;function fke(){if(typeof WebSocket<"u")return WebSocket;if(typeof global.WebSocket<"u")return global.WebSocket;if(typeof window.WebSocket<"u")return window.WebSocket;if(typeof self.WebSocket<"u")return self.WebSocket;throw new Error("`WebSocket` is not supported in this environment")}const mke=fke(),pke="2.11.15",vke=`realtime-js/${pke}`,gke="1.0.0",eV=1e4,xke=1e3;var lv;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(lv||(lv={}));var Fs;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Fs||(Fs={}));var Hi;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Hi||(Hi={}));var nA;(function(e){e.websocket="websocket"})(nA||(nA={}));var Ud;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Ud||(Ud={}));class yke{constructor(){this.HEADER_LENGTH=1}decode(t,r){return t.constructor===ArrayBuffer?r(this._binaryDecode(t)):r(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const r=new DataView(t),s=new TextDecoder;return this._decodeBroadcast(t,r,s)}_decodeBroadcast(t,r,s){const a=r.getUint8(1),i=r.getUint8(2);let o=this.HEADER_LENGTH+2;const l=s.decode(t.slice(o,o+a));o=o+a;const c=s.decode(t.slice(o,o+i));o=o+i;const d=JSON.parse(s.decode(t.slice(o,t.byteLength)));return{ref:null,topic:l,event:c,payload:d}}}class tV{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Wr;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(Wr||(Wr={}));const Y6=(e,t,r={})=>{var s;const a=(s=r.skipTypes)!==null&&s!==void 0?s:[];return Object.keys(t).reduce((i,o)=>(i[o]=bke(o,e,t,a),i),{})},bke=(e,t,r,s)=>{const a=t.find(l=>l.name===e),i=a==null?void 0:a.type,o=r[e];return i&&!s.includes(i)?rV(i,o):sA(o)},rV=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return Ske(t,r)}switch(e){case Wr.bool:return jke(t);case Wr.float4:case Wr.float8:case Wr.int2:case Wr.int4:case Wr.int8:case Wr.numeric:case Wr.oid:return wke(t);case Wr.json:case Wr.jsonb:return Nke(t);case Wr.timestamp:return Cke(t);case Wr.abstime:case Wr.date:case Wr.daterange:case Wr.int4range:case Wr.int8range:case Wr.money:case Wr.reltime:case Wr.text:case Wr.time:case Wr.timestamptz:case Wr.timetz:case Wr.tsrange:case Wr.tstzrange:return sA(t);default:return sA(t)}},sA=e=>e,jke=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},wke=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},Nke=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},Ske=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,s=e[r];if(e[0]==="{"&&s==="}"){let i;const o=e.slice(1,r);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(l=>rV(t,l))}return e},Cke=e=>typeof e=="string"?e.replace(" ","T"):e,nV=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class RN{constructor(t,r,s={},a=eV){this.channel=t,this.event=r,this.payload=s,this.timeout=a,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var s;return this._hasReceived(t)&&r((s=this.receivedResp)===null||s===void 0?void 0:s.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(s=>s.status===t).forEach(s=>s.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var X6;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(X6||(X6={}));class cv{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const s=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(s.state,{},a=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=cv.syncState(this.state,a,i,o),this.pendingDiffs.forEach(c=>{this.state=cv.syncDiff(this.state,c,i,o)}),this.pendingDiffs=[],l()}),this.channel._on(s.diff,{},a=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(a):(this.state=cv.syncDiff(this.state,a,i,o),l())}),this.onJoin((a,i,o)=>{this.channel._trigger("presence",{event:"join",key:a,currentPresences:i,newPresences:o})}),this.onLeave((a,i,o)=>{this.channel._trigger("presence",{event:"leave",key:a,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,s,a){const i=this.cloneDeep(t),o=this.transformState(r),l={},c={};return this.map(i,(d,h)=>{o[d]||(c[d]=h)}),this.map(o,(d,h)=>{const u=i[d];if(u){const f=h.map(p=>p.presence_ref),m=u.map(p=>p.presence_ref),v=h.filter(p=>m.indexOf(p.presence_ref)<0),x=u.filter(p=>f.indexOf(p.presence_ref)<0);v.length>0&&(l[d]=v),x.length>0&&(c[d]=x)}else l[d]=h}),this.syncDiff(i,{joins:l,leaves:c},s,a)}static syncDiff(t,r,s,a){const{joins:i,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return s||(s=()=>{}),a||(a=()=>{}),this.map(i,(l,c)=>{var d;const h=(d=t[l])!==null&&d!==void 0?d:[];if(t[l]=this.cloneDeep(c),h.length>0){const u=t[l].map(m=>m.presence_ref),f=h.filter(m=>u.indexOf(m.presence_ref)<0);t[l].unshift(...f)}s(l,h,c)}),this.map(o,(l,c)=>{let d=t[l];if(!d)return;const h=c.map(u=>u.presence_ref);d=d.filter(u=>h.indexOf(u.presence_ref)<0),t[l]=d,a(l,d,c),d.length===0&&delete t[l]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(s=>r(s,t[s]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,s)=>{const a=t[s];return"metas"in a?r[s]=a.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[s]=a,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Q6;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(Q6||(Q6={}));var J6;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(J6||(J6={}));var pl;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(pl||(pl={}));class SP{constructor(t,r={config:{}},s){this.topic=t,this.params=r,this.socket=s,this.bindings={},this.state=Fs.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new RN(this,Hi.join,this.params,this.timeout),this.rejoinTimer=new tV(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Fs.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(a=>a.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Fs.closed,this.socket._remove(this)}),this._onError(a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=Fs.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Fs.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Hi.reply,{},(a,i)=>{this._trigger(this._replyEventName(i),a)}),this.presence=new cv(this),this.broadcastEndpointURL=nV(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,r=this.timeout){var s,a;if(this.socket.isConnected()||this.socket.connect(),this.state==Fs.closed){const{config:{broadcast:i,presence:o,private:l}}=this.params;this._onError(h=>t==null?void 0:t(pl.CHANNEL_ERROR,h)),this._onClose(()=>t==null?void 0:t(pl.CLOSED));const c={},d={broadcast:i,presence:o,postgres_changes:(a=(s=this.bindings.postgres_changes)===null||s===void 0?void 0:s.map(h=>h.filter))!==null&&a!==void 0?a:[],private:l};this.socket.accessTokenValue&&(c.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:d},c)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:h})=>{var u;if(this.socket.setAuth(),h===void 0){t==null||t(pl.SUBSCRIBED);return}else{const f=this.bindings.postgres_changes,m=(u=f==null?void 0:f.length)!==null&&u!==void 0?u:0,v=[];for(let x=0;x<m;x++){const p=f[x],{filter:{event:g,schema:b,table:y,filter:j}}=p,E=h&&h[x];if(E&&E.event===g&&E.schema===b&&E.table===y&&E.filter===j)v.push(Object.assign(Object.assign({},p),{id:E.id}));else{this.unsubscribe(),this.state=Fs.errored,t==null||t(pl.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=v,t&&t(pl.SUBSCRIBED);return}}).receive("error",h=>{this.state=Fs.errored,t==null||t(pl.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(h).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(pl.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,s){return this._on(t,r,s)}async send(t,r={}){var s,a;if(!this._canPush()&&t.type==="broadcast"){const{event:i,payload:o}=t,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const d=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(s=r.timeout)!==null&&s!==void 0?s:this.timeout);return await((a=d.body)===null||a===void 0?void 0:a.cancel()),d.ok?"ok":"error"}catch(d){return d.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,l,c;const d=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(l=(o=this.params)===null||o===void 0?void 0:o.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&i("ok"),d.receive("ok",()=>i("ok")),d.receive("error",()=>i("error")),d.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Fs.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Hi.close,"leave",this._joinRef())};this.joinPush.destroy();let s=null;return new Promise(a=>{s=new RN(this,Hi.leave,{},t),s.receive("ok",()=>{r(),a("ok")}).receive("timeout",()=>{r(),a("timed out")}).receive("error",()=>{a("error")}),s.send(),this._canPush()||s.trigger("ok",{})}).finally(()=>{s==null||s.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(t,r,s){const a=new AbortController,i=setTimeout(()=>a.abort(),s),o=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:a.signal}));return clearTimeout(i),o}_push(t,r,s=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let a=new RN(this,t,r,s);return this._canPush()?a.send():(a.startTimeout(),this.pushBuffer.push(a)),a}_onMessage(t,r,s){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,s){var a,i;const o=t.toLocaleLowerCase(),{close:l,error:c,leave:d,join:h}=Hi;if(s&&[l,c,d,h].indexOf(o)>=0&&s!==this._joinRef())return;let f=this._onMessage(o,r,s);if(r&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(a=this.bindings.postgres_changes)===null||a===void 0||a.filter(m=>{var v,x,p;return((v=m.filter)===null||v===void 0?void 0:v.event)==="*"||((p=(x=m.filter)===null||x===void 0?void 0:x.event)===null||p===void 0?void 0:p.toLocaleLowerCase())===o}).map(m=>m.callback(f,s)):(i=this.bindings[o])===null||i===void 0||i.filter(m=>{var v,x,p,g,b,y;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in m){const j=m.id,E=(v=m.filter)===null||v===void 0?void 0:v.event;return j&&((x=r.ids)===null||x===void 0?void 0:x.includes(j))&&(E==="*"||(E==null?void 0:E.toLocaleLowerCase())===((p=r.data)===null||p===void 0?void 0:p.type.toLocaleLowerCase()))}else{const j=(b=(g=m==null?void 0:m.filter)===null||g===void 0?void 0:g.event)===null||b===void 0?void 0:b.toLocaleLowerCase();return j==="*"||j===((y=r==null?void 0:r.event)===null||y===void 0?void 0:y.toLocaleLowerCase())}else return m.type.toLocaleLowerCase()===o}).map(m=>{if(typeof f=="object"&&"ids"in f){const v=f.data,{schema:x,table:p,commit_timestamp:g,type:b,errors:y}=v;f=Object.assign(Object.assign({},{schema:x,table:p,commit_timestamp:g,eventType:b,new:{},old:{},errors:y}),this._getPayloadRecords(v))}m.callback(f,s)})}_isClosed(){return this.state===Fs.closed}_isJoined(){return this.state===Fs.joined}_isJoining(){return this.state===Fs.joining}_isLeaving(){return this.state===Fs.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,s){const a=t.toLocaleLowerCase(),i={type:a,filter:r,callback:s};return this.bindings[a]?this.bindings[a].push(i):this.bindings[a]=[i],this}_off(t,r){const s=t.toLocaleLowerCase();return this.bindings[s]=this.bindings[s].filter(a=>{var i;return!(((i=a.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===s&&SP.isEqual(a.filter,r))}),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const s in t)if(t[s]!==r[s])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Hi.close,{},t)}_onError(t){this._on(Hi.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Fs.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=Y6(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=Y6(t.columns,t.old_record)),r}}const Z6=()=>{},Ake=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Eke{constructor(t,r){var s;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=eV,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Z6,this.ref=0,this.logger=Z6,this.conn=null,this.sendBuffer=[],this.serializer=new yke,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=i=>{let o;return i?o=i:typeof fetch>"u"?o=(...l)=>td(()=>Promise.resolve().then(()=>Pm),void 0).then(({default:c})=>c(...l)):o=fetch,(...l)=>o(...l)},this.endPoint=`${t}/${nA.websocket}`,this.httpEndpoint=nV(t),r!=null&&r.transport?this.transport=r.transport:this.transport=null,r!=null&&r.params&&(this.params=r.params),r!=null&&r.timeout&&(this.timeout=r.timeout),r!=null&&r.logger&&(this.logger=r.logger),(r!=null&&r.logLevel||r!=null&&r.log_level)&&(this.logLevel=r.logLevel||r.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),r!=null&&r.heartbeatIntervalMs&&(this.heartbeatIntervalMs=r.heartbeatIntervalMs);const a=(s=r==null?void 0:r.params)===null||s===void 0?void 0:s.apikey;if(a&&(this.accessTokenValue=a,this.apiKey=a),this.reconnectAfterMs=r!=null&&r.reconnectAfterMs?r.reconnectAfterMs:i=>[1e3,2e3,5e3,1e4][i-1]||1e4,this.encode=r!=null&&r.encode?r.encode:(i,o)=>o(JSON.stringify(i)),this.decode=r!=null&&r.decode?r.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new tV(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(r==null?void 0:r.fetch),r!=null&&r.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(r==null?void 0:r.worker)||!1,this.workerUrl=r==null?void 0:r.workerUrl}this.accessToken=(r==null?void 0:r.accessToken)||null}connect(){if(!this.conn){if(this.transport||(this.transport=mke),!this.transport)throw new Error("No transport provided");this.conn=new this.transport(this.endpointURL()),this.setupConnection()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:gke}))}disconnect(t,r){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,r??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(s=>s.teardown()))}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,s){this.logger(t,r,s)}connectionState(){switch(this.conn&&this.conn.readyState){case lv.connecting:return Ud.Connecting;case lv.open:return Ud.Open;case lv.closing:return Ud.Closing;default:return Ud.Closed}}isConnected(){return this.connectionState()===Ud.Open}channel(t,r={config:{}}){const s=`realtime:${t}`,a=this.getChannels().find(i=>i.topic===s);if(a)return a;{const i=new SP(`realtime:${t}`,r,this);return this.channels.push(i),i}}push(t){const{topic:r,event:s,payload:a,ref:i}=t,o=()=>{this.encode(t,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${r} ${s} (${i})`,a),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){let r=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(s=>{const a={access_token:r,version:vke};r&&s.updateJoinPayload(a),s.joinedOnce&&s._isJoined()&&s._push(Hi.access_token,{access_token:r})}))}async sendHeartbeat(){var t;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(t=this.conn)===null||t===void 0||t.close(xke,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(s=>s.topic===t&&(s._isJoined()||s._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,r=>{let{topic:s,event:a,payload:i,ref:o}=r;s==="phoenix"&&a==="phx_reply"&&this.heartbeatCallback(r.payload.status=="ok"?"ok":"error"),o&&o===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${i.status||""} ${s} ${a} ${o&&"("+o+")"||""}`,i),Array.from(this.channels).filter(l=>l._isMember(s)).forEach(l=>l._trigger(a,i,o)),this.stateChangeCallbacks.message.forEach(l=>l(r))})}_onConnOpen(){this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this.stateChangeCallbacks.open.forEach(t=>t())}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(r=>r(t))}_onConnError(t){this.log("transport",`${t}`),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(r=>r(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(Hi.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const s=t.match(/\?/)?"&":"?",a=new URLSearchParams(r);return`${t}${s}${a}`}_workerObjectUrl(t){let r;if(t)r=t;else{const s=new Blob([Ake],{type:"application/javascript"});r=URL.createObjectURL(s)}return r}}class CP extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function as(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class Pke extends CP{constructor(t,r){super(t),this.name="StorageApiError",this.status=r}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class aA extends CP{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}var Tke=globalThis&&globalThis.__awaiter||function(e,t,r,s){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(h){try{d(s.next(h))}catch(u){o(u)}}function c(h){try{d(s.throw(h))}catch(u){o(u)}}function d(h){h.done?i(h.value):a(h.value).then(l,c)}d((s=s.apply(e,t||[])).next())})};const sV=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>td(()=>Promise.resolve().then(()=>Pm),void 0).then(({default:s})=>s(...r)):t=fetch,(...r)=>t(...r)},_ke=()=>Tke(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield td(()=>Promise.resolve().then(()=>Pm),void 0)).Response:Response}),iA=e=>{if(Array.isArray(e))return e.map(r=>iA(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,s])=>{const a=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[a]=iA(s)}),t};var Mu=globalThis&&globalThis.__awaiter||function(e,t,r,s){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(h){try{d(s.next(h))}catch(u){o(u)}}function c(h){try{d(s.throw(h))}catch(u){o(u)}}function d(h){h.done?i(h.value):a(h.value).then(l,c)}d((s=s.apply(e,t||[])).next())})};const FN=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Ike=(e,t,r)=>Mu(void 0,void 0,void 0,function*(){const s=yield _ke();e instanceof s&&!(r!=null&&r.noResolveJson)?e.json().then(a=>{t(new Pke(FN(a),e.status||500))}).catch(a=>{t(new aA(FN(a),a))}):t(new aA(FN(e),e))}),kke=(e,t,r,s)=>{const a={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),s&&(a.body=JSON.stringify(s)),Object.assign(Object.assign({},a),r))};function nx(e,t,r,s,a,i){return Mu(this,void 0,void 0,function*(){return new Promise((o,l)=>{e(r,kke(t,s,a,i)).then(c=>{if(!c.ok)throw c;return s!=null&&s.noResolveJson?c:c.json()}).then(c=>o(c)).catch(c=>Ike(c,l,s))})})}function c1(e,t,r,s){return Mu(this,void 0,void 0,function*(){return nx(e,"GET",t,r,s)})}function yc(e,t,r,s,a){return Mu(this,void 0,void 0,function*(){return nx(e,"POST",t,s,a,r)})}function Dke(e,t,r,s,a){return Mu(this,void 0,void 0,function*(){return nx(e,"PUT",t,s,a,r)})}function Oke(e,t,r,s){return Mu(this,void 0,void 0,function*(){return nx(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),s)})}function aV(e,t,r,s,a){return Mu(this,void 0,void 0,function*(){return nx(e,"DELETE",t,s,a,r)})}var da=globalThis&&globalThis.__awaiter||function(e,t,r,s){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(h){try{d(s.next(h))}catch(u){o(u)}}function c(h){try{d(s.throw(h))}catch(u){o(u)}}function d(h){h.done?i(h.value):a(h.value).then(l,c)}d((s=s.apply(e,t||[])).next())})};const Lke={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},eL={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Rke{constructor(t,r={},s,a){this.url=t,this.headers=r,this.bucketId=s,this.fetch=sV(a)}uploadOrUpdate(t,r,s,a){return da(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},eL),a);let l=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const c=o.metadata;typeof Blob<"u"&&s instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),c&&i.append("metadata",this.encodeMetadata(c)),i.append("",s)):typeof FormData<"u"&&s instanceof FormData?(i=s,i.append("cacheControl",o.cacheControl),c&&i.append("metadata",this.encodeMetadata(c))):(i=s,l["cache-control"]=`max-age=${o.cacheControl}`,l["content-type"]=o.contentType,c&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),a!=null&&a.headers&&(l=Object.assign(Object.assign({},l),a.headers));const d=this._removeEmptyFolders(r),h=this._getFinalPath(d),u=yield this.fetch(`${this.url}/object/${h}`,Object.assign({method:t,body:i,headers:l},o!=null&&o.duplex?{duplex:o.duplex}:{})),f=yield u.json();return u.ok?{data:{path:d,id:f.Id,fullPath:f.Key},error:null}:{data:null,error:f}}catch(i){if(as(i))return{data:null,error:i};throw i}})}upload(t,r,s){return da(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,s)})}uploadToSignedUrl(t,r,s,a){return da(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(t),o=this._getFinalPath(i),l=new URL(this.url+`/object/upload/sign/${o}`);l.searchParams.set("token",r);try{let c;const d=Object.assign({upsert:eL.upsert},a),h=Object.assign(Object.assign({},this.headers),{"x-upsert":String(d.upsert)});typeof Blob<"u"&&s instanceof Blob?(c=new FormData,c.append("cacheControl",d.cacheControl),c.append("",s)):typeof FormData<"u"&&s instanceof FormData?(c=s,c.append("cacheControl",d.cacheControl)):(c=s,h["cache-control"]=`max-age=${d.cacheControl}`,h["content-type"]=d.contentType);const u=yield this.fetch(l.toString(),{method:"PUT",body:c,headers:h}),f=yield u.json();return u.ok?{data:{path:i,fullPath:f.Key},error:null}:{data:null,error:f}}catch(c){if(as(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(t,r){return da(this,void 0,void 0,function*(){try{let s=this._getFinalPath(t);const a=Object.assign({},this.headers);r!=null&&r.upsert&&(a["x-upsert"]="true");const i=yield yc(this.fetch,`${this.url}/object/upload/sign/${s}`,{},{headers:a}),o=new URL(this.url+i.url),l=o.searchParams.get("token");if(!l)throw new CP("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:l},error:null}}catch(s){if(as(s))return{data:null,error:s};throw s}})}update(t,r,s){return da(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,s)})}move(t,r,s){return da(this,void 0,void 0,function*(){try{return{data:yield yc(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:s==null?void 0:s.destinationBucket},{headers:this.headers}),error:null}}catch(a){if(as(a))return{data:null,error:a};throw a}})}copy(t,r,s){return da(this,void 0,void 0,function*(){try{return{data:{path:(yield yc(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:s==null?void 0:s.destinationBucket},{headers:this.headers})).Key},error:null}}catch(a){if(as(a))return{data:null,error:a};throw a}})}createSignedUrl(t,r,s){return da(this,void 0,void 0,function*(){try{let a=this._getFinalPath(t),i=yield yc(this.fetch,`${this.url}/object/sign/${a}`,Object.assign({expiresIn:r},s!=null&&s.transform?{transform:s.transform}:{}),{headers:this.headers});const o=s!=null&&s.download?`&download=${s.download===!0?"":s.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(a){if(as(a))return{data:null,error:a};throw a}})}createSignedUrls(t,r,s){return da(this,void 0,void 0,function*(){try{const a=yield yc(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),i=s!=null&&s.download?`&download=${s.download===!0?"":s.download}`:"";return{data:a.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(a){if(as(a))return{data:null,error:a};throw a}})}download(t,r){return da(this,void 0,void 0,function*(){const a=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),o=i?`?${i}`:"";try{const l=this._getFinalPath(t);return{data:yield(yield c1(this.fetch,`${this.url}/${a}/${l}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(l){if(as(l))return{data:null,error:l};throw l}})}info(t){return da(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const s=yield c1(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:iA(s),error:null}}catch(s){if(as(s))return{data:null,error:s};throw s}})}exists(t){return da(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield Oke(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(s){if(as(s)&&s instanceof aA){const a=s.originalError;if([400,404].includes(a==null?void 0:a.status))return{data:!1,error:s}}throw s}})}getPublicUrl(t,r){const s=this._getFinalPath(t),a=[],i=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";i!==""&&a.push(i);const l=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});c!==""&&a.push(c);let d=a.join("&");return d!==""&&(d=`?${d}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${s}${d}`)}}}remove(t){return da(this,void 0,void 0,function*(){try{return{data:yield aV(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(as(r))return{data:null,error:r};throw r}})}list(t,r,s){return da(this,void 0,void 0,function*(){try{const a=Object.assign(Object.assign(Object.assign({},Lke),r),{prefix:t||""});return{data:yield yc(this.fetch,`${this.url}/object/list/${this.bucketId}`,a,{headers:this.headers},s),error:null}}catch(a){if(as(a))return{data:null,error:a};throw a}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const Fke="2.7.1",$ke={"X-Client-Info":`storage-js/${Fke}`};var Ah=globalThis&&globalThis.__awaiter||function(e,t,r,s){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(h){try{d(s.next(h))}catch(u){o(u)}}function c(h){try{d(s.throw(h))}catch(u){o(u)}}function d(h){h.done?i(h.value):a(h.value).then(l,c)}d((s=s.apply(e,t||[])).next())})};class Mke{constructor(t,r={},s){this.url=t,this.headers=Object.assign(Object.assign({},$ke),r),this.fetch=sV(s)}listBuckets(){return Ah(this,void 0,void 0,function*(){try{return{data:yield c1(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(as(t))return{data:null,error:t};throw t}})}getBucket(t){return Ah(this,void 0,void 0,function*(){try{return{data:yield c1(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(as(r))return{data:null,error:r};throw r}})}createBucket(t,r={public:!1}){return Ah(this,void 0,void 0,function*(){try{return{data:yield yc(this.fetch,`${this.url}/bucket`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(as(s))return{data:null,error:s};throw s}})}updateBucket(t,r){return Ah(this,void 0,void 0,function*(){try{return{data:yield Dke(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(as(s))return{data:null,error:s};throw s}})}emptyBucket(t){return Ah(this,void 0,void 0,function*(){try{return{data:yield yc(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(as(r))return{data:null,error:r};throw r}})}deleteBucket(t){return Ah(this,void 0,void 0,function*(){try{return{data:yield aV(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(as(r))return{data:null,error:r};throw r}})}}class Bke extends Mke{constructor(t,r={},s){super(t,r,s)}from(t){return new Rke(this.url,this.headers,t,this.fetch)}}const zke="2.50.2";let $p="";typeof Deno<"u"?$p="deno":typeof document<"u"?$p="web":typeof navigator<"u"&&navigator.product==="ReactNative"?$p="react-native":$p="node";const Uke={"X-Client-Info":`supabase-js-${$p}/${zke}`},Vke={headers:Uke},qke={schema:"public"},Wke={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Hke={};var Gke=globalThis&&globalThis.__awaiter||function(e,t,r,s){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(h){try{d(s.next(h))}catch(u){o(u)}}function c(h){try{d(s.throw(h))}catch(u){o(u)}}function d(h){h.done?i(h.value):a(h.value).then(l,c)}d((s=s.apply(e,t||[])).next())})};const Kke=e=>{let t;return e?t=e:typeof fetch>"u"?t=VU:t=fetch,(...r)=>t(...r)},Yke=()=>typeof Headers>"u"?qU:Headers,Xke=(e,t,r)=>{const s=Kke(r),a=Yke();return(i,o)=>Gke(void 0,void 0,void 0,function*(){var l;const c=(l=yield t())!==null&&l!==void 0?l:e;let d=new a(o==null?void 0:o.headers);return d.has("apikey")||d.set("apikey",e),d.has("Authorization")||d.set("Authorization",`Bearer ${c}`),s(i,Object.assign(Object.assign({},o),{headers:d}))})};var Qke=globalThis&&globalThis.__awaiter||function(e,t,r,s){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(h){try{d(s.next(h))}catch(u){o(u)}}function c(h){try{d(s.throw(h))}catch(u){o(u)}}function d(h){h.done?i(h.value):a(h.value).then(l,c)}d((s=s.apply(e,t||[])).next())})};function Jke(e){return e.endsWith("/")?e:e+"/"}function Zke(e,t){var r,s;const{db:a,auth:i,realtime:o,global:l}=e,{db:c,auth:d,realtime:h,global:u}=t,f={db:Object.assign(Object.assign({},c),a),auth:Object.assign(Object.assign({},d),i),realtime:Object.assign(Object.assign({},h),o),global:Object.assign(Object.assign(Object.assign({},u),l),{headers:Object.assign(Object.assign({},(r=u==null?void 0:u.headers)!==null&&r!==void 0?r:{}),(s=l==null?void 0:l.headers)!==null&&s!==void 0?s:{})}),accessToken:()=>Qke(this,void 0,void 0,function*(){return""})};return e.accessToken?f.accessToken=e.accessToken:delete f.accessToken,f}const iV="2.70.0",Dh=30*1e3,oA=3,$N=oA*Dh,eDe="http://localhost:9999",tDe="supabase.auth.token",rDe={"X-Client-Info":`gotrue-js/${iV}`},lA="X-Supabase-Api-Version",oV={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},nDe=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,sDe=6e5;class AP extends Error{constructor(t,r,s){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=s}}function Jt(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class aDe extends AP{constructor(t,r,s){super(t,r,s),this.name="AuthApiError",this.status=r,this.code=s}}function iDe(e){return Jt(e)&&e.name==="AuthApiError"}class lV extends AP{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class gd extends AP{constructor(t,r,s,a){super(t,s,a),this.name=r,this.status=s}}class pc extends gd{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function oDe(e){return Jt(e)&&e.name==="AuthSessionMissingError"}class W0 extends gd{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class H0 extends gd{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class G0 extends gd{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function lDe(e){return Jt(e)&&e.name==="AuthImplicitGrantRedirectError"}class tL extends gd{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class cA extends gd{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function MN(e){return Jt(e)&&e.name==="AuthRetryableFetchError"}class rL extends gd{constructor(t,r,s){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=s}}class dv extends gd{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const d1="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),nL=` 	
\r=`.split(""),cDe=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<nL.length;t+=1)e[nL[t].charCodeAt(0)]=-2;for(let t=0;t<d1.length;t+=1)e[d1[t].charCodeAt(0)]=t;return e})();function sL(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const s=t.queue>>t.queuedBits-6&63;r(d1[s]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const s=t.queue>>t.queuedBits-6&63;r(d1[s]),t.queuedBits-=6}}function cV(e,t,r){const s=cDe[e];if(s>-1)for(t.queue=t.queue<<6|s,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(s===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function aL(e){const t=[],r=o=>{t.push(String.fromCodePoint(o))},s={utf8seq:0,codepoint:0},a={queue:0,queuedBits:0},i=o=>{hDe(o,s,r)};for(let o=0;o<e.length;o+=1)cV(e.charCodeAt(o),a,i);return t.join("")}function dDe(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function uDe(e,t){for(let r=0;r<e.length;r+=1){let s=e.charCodeAt(r);if(s>55295&&s<=56319){const a=(s-55296)*1024&65535;s=(e.charCodeAt(r+1)-56320&65535|a)+65536,r+=1}dDe(s,t)}}function hDe(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let s=1;s<6;s+=1)if(!(e>>7-s&1)){t.utf8seq=s;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function fDe(e){const t=[],r={queue:0,queuedBits:0},s=a=>{t.push(a)};for(let a=0;a<e.length;a+=1)cV(e.charCodeAt(a),r,s);return new Uint8Array(t)}function mDe(e){const t=[];return uDe(e,r=>t.push(r)),new Uint8Array(t)}function pDe(e){const t=[],r={queue:0,queuedBits:0},s=a=>{t.push(a)};return e.forEach(a=>sL(a,r,s)),sL(null,r,s),t.join("")}function vDe(e){return Math.round(Date.now()/1e3)+e}function gDe(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const Mi=()=>typeof window<"u"&&typeof document<"u",kd={tested:!1,writable:!1},uv=()=>{if(!Mi())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(kd.tested)return kd.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),kd.tested=!0,kd.writable=!0}catch{kd.tested=!0,kd.writable=!1}return kd.writable};function xDe(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((a,i)=>{t[i]=a})}catch{}return r.searchParams.forEach((s,a)=>{t[a]=s}),t}const dV=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>td(()=>Promise.resolve().then(()=>Pm),void 0).then(({default:s})=>s(...r)):t=fetch,(...r)=>t(...r)},yDe=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",uV=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},K0=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Y0=async(e,t)=>{await e.removeItem(t)};class sw{constructor(){this.promise=new sw.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}sw.promiseConstructor=Promise;function BN(e){const t=e.split(".");if(t.length!==3)throw new dv("Invalid JWT structure");for(let s=0;s<t.length;s++)if(!nDe.test(t[s]))throw new dv("JWT not in base64url format");return{header:JSON.parse(aL(t[0])),payload:JSON.parse(aL(t[1])),signature:fDe(t[2]),raw:{header:t[0],payload:t[1]}}}async function bDe(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function jDe(e,t){return new Promise((s,a)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await e(i);if(!t(i,null,o)){s(o);return}}catch(o){if(!t(i,o)){a(o);return}}})()})}function wDe(e){return("0"+e.toString(16)).substr(-2)}function NDe(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",s=r.length;let a="";for(let i=0;i<56;i++)a+=r.charAt(Math.floor(Math.random()*s));return a}return crypto.getRandomValues(t),Array.from(t,wDe).join("")}async function SDe(e){const r=new TextEncoder().encode(e),s=await crypto.subtle.digest("SHA-256",r),a=new Uint8Array(s);return Array.from(a).map(i=>String.fromCharCode(i)).join("")}async function CDe(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await SDe(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Eh(e,t,r=!1){const s=NDe();let a=s;r&&(a+="/PASSWORD_RECOVERY"),await uV(e,`${t}-code-verifier`,a);const i=await CDe(s);return[i,s===i?"plain":"s256"]}const ADe=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function EDe(e){const t=e.headers.get(lA);if(!t||!t.match(ADe))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function PDe(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function TDe(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const _De=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Ph(e){if(!_De.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}var IDe=globalThis&&globalThis.__rest||function(e,t){var r={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(r[s]=e[s]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,s=Object.getOwnPropertySymbols(e);a<s.length;a++)t.indexOf(s[a])<0&&Object.prototype.propertyIsEnumerable.call(e,s[a])&&(r[s[a]]=e[s[a]]);return r};const Bd=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),kDe=[502,503,504];async function iL(e){var t;if(!yDe(e))throw new cA(Bd(e),0);if(kDe.includes(e.status))throw new cA(Bd(e),e.status);let r;try{r=await e.json()}catch(i){throw new lV(Bd(i),i)}let s;const a=EDe(e);if(a&&a.getTime()>=oV["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?s=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(s=r.error_code),s){if(s==="weak_password")throw new rL(Bd(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(s==="session_not_found")throw new pc}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new rL(Bd(r),e.status,r.weak_password.reasons);throw new aDe(Bd(r),e.status||500,s)}const DDe=(e,t,r,s)=>{const a={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),a.body=JSON.stringify(s),Object.assign(Object.assign({},a),r))};async function nr(e,t,r,s){var a;const i=Object.assign({},s==null?void 0:s.headers);i[lA]||(i[lA]=oV["2024-01-01"].name),s!=null&&s.jwt&&(i.Authorization=`Bearer ${s.jwt}`);const o=(a=s==null?void 0:s.query)!==null&&a!==void 0?a:{};s!=null&&s.redirectTo&&(o.redirect_to=s.redirectTo);const l=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",c=await ODe(e,t,r+l,{headers:i,noResolveJson:s==null?void 0:s.noResolveJson},{},s==null?void 0:s.body);return s!=null&&s.xform?s==null?void 0:s.xform(c):{data:Object.assign({},c),error:null}}async function ODe(e,t,r,s,a,i){const o=DDe(t,s,a,i);let l;try{l=await e(r,Object.assign({},o))}catch(c){throw console.error(c),new cA(Bd(c),0)}if(l.ok||await iL(l),s!=null&&s.noResolveJson)return l;try{return await l.json()}catch(c){await iL(c)}}function hl(e){var t;let r=null;$De(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=vDe(e.expires_in)));const s=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:s},error:null}}function oL(e){const t=hl(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,s)=>r&&typeof s=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Sc(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function LDe(e){return{data:e,error:null}}function RDe(e){const{action_link:t,email_otp:r,hashed_token:s,redirect_to:a,verification_type:i}=e,o=IDe(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:r,hashed_token:s,redirect_to:a,verification_type:i},c=Object.assign({},o);return{data:{properties:l,user:c},error:null}}function FDe(e){return e}function $De(e){return e.access_token&&e.refresh_token&&e.expires_in}const zN=["global","local","others"];var MDe=globalThis&&globalThis.__rest||function(e,t){var r={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(r[s]=e[s]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,s=Object.getOwnPropertySymbols(e);a<s.length;a++)t.indexOf(s[a])<0&&Object.prototype.propertyIsEnumerable.call(e,s[a])&&(r[s[a]]=e[s[a]]);return r};class BDe{constructor({url:t="",headers:r={},fetch:s}){this.url=t,this.headers=r,this.fetch=dV(s),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,r=zN[0]){if(zN.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${zN.join(", ")}`);try{return await nr(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(s){if(Jt(s))return{data:null,error:s};throw s}}async inviteUserByEmail(t,r={}){try{return await nr(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Sc})}catch(s){if(Jt(s))return{data:{user:null},error:s};throw s}}async generateLink(t){try{const{options:r}=t,s=MDe(t,["options"]),a=Object.assign(Object.assign({},s),r);return"newEmail"in s&&(a.new_email=s==null?void 0:s.newEmail,delete a.newEmail),await nr(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:a,headers:this.headers,xform:RDe,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(Jt(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await nr(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Sc})}catch(r){if(Jt(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,s,a,i,o,l,c;try{const d={nextPage:null,lastPage:0,total:0},h=await nr(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(s=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&s!==void 0?s:"",per_page:(i=(a=t==null?void 0:t.perPage)===null||a===void 0?void 0:a.toString())!==null&&i!==void 0?i:""},xform:FDe});if(h.error)throw h.error;const u=await h.json(),f=(o=h.headers.get("x-total-count"))!==null&&o!==void 0?o:0,m=(c=(l=h.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return m.length>0&&(m.forEach(v=>{const x=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),p=JSON.parse(v.split(";")[1].split("=")[1]);d[`${p}Page`]=x}),d.total=parseInt(f)),{data:Object.assign(Object.assign({},u),d),error:null}}catch(d){if(Jt(d))return{data:{users:[]},error:d};throw d}}async getUserById(t){Ph(t);try{return await nr(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Sc})}catch(r){if(Jt(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){Ph(t);try{return await nr(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:Sc})}catch(s){if(Jt(s))return{data:{user:null},error:s};throw s}}async deleteUser(t,r=!1){Ph(t);try{return await nr(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:Sc})}catch(s){if(Jt(s))return{data:{user:null},error:s};throw s}}async _listFactors(t){Ph(t.userId);try{const{data:r,error:s}=await nr(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:a=>({data:{factors:a},error:null})});return{data:r,error:s}}catch(r){if(Jt(r))return{data:null,error:r};throw r}}async _deleteFactor(t){Ph(t.userId),Ph(t.id);try{return{data:await nr(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(Jt(r))return{data:null,error:r};throw r}}}const zDe={getItem:e=>uv()?globalThis.localStorage.getItem(e):null,setItem:(e,t)=>{uv()&&globalThis.localStorage.setItem(e,t)},removeItem:e=>{uv()&&globalThis.localStorage.removeItem(e)}};function lL(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}function UDe(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Th={debug:!!(globalThis&&uv()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class hV extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class VDe extends hV{}async function qDe(e,t,r){Th.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const s=new globalThis.AbortController;return t>0&&setTimeout(()=>{s.abort(),Th.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:s.signal},async a=>{if(a){Th.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,a.name);try{return await r()}finally{Th.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,a.name)}}else{if(t===0)throw Th.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new VDe(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Th.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}UDe();const WDe={url:eDe,storageKey:tDe,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:rDe,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function cL(e,t,r){return await r()}class Cg{constructor(t){var r,s;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Cg.nextInstanceID,Cg.nextInstanceID+=1,this.instanceID>0&&Mi()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const a=Object.assign(Object.assign({},WDe),t);if(this.logDebugMessages=!!a.debug,typeof a.debug=="function"&&(this.logger=a.debug),this.persistSession=a.persistSession,this.storageKey=a.storageKey,this.autoRefreshToken=a.autoRefreshToken,this.admin=new BDe({url:a.url,headers:a.headers,fetch:a.fetch}),this.url=a.url,this.headers=a.headers,this.fetch=dV(a.fetch),this.lock=a.lock||cL,this.detectSessionInUrl=a.detectSessionInUrl,this.flowType=a.flowType,this.hasCustomAuthorizationHeader=a.hasCustomAuthorizationHeader,a.lock?this.lock=a.lock:Mi()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=qDe:this.lock=cL,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?a.storage?this.storage=a.storage:uv()?this.storage=zDe:(this.memoryStorage={},this.storage=lL(this.memoryStorage)):(this.memoryStorage={},this.storage=lL(this.memoryStorage)),Mi()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(s=this.broadcastChannel)===null||s===void 0||s.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${iV}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const r=xDe(window.location.href);let s="none";if(this._isImplicitGrantCallback(r)?s="implicit":await this._isPKCECallback(r)&&(s="pkce"),Mi()&&this.detectSessionInUrl&&s!=="none"){const{data:a,error:i}=await this._getSessionFromURL(r,s);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),lDe(i)){const c=(t=i.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:l}=a;return this._debug("#_initialize()","detected session in URL",o,"redirect type",l),await this._saveSession(o),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return Jt(r)?{error:r}:{error:new lV("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,s,a;try{const i=await nr(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(s=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:(a=t==null?void 0:t.options)===null||a===void 0?void 0:a.captchaToken}},xform:hl}),{data:o,error:l}=i;if(l||!o)return{data:{user:null,session:null},error:l};const c=o.session,d=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:d,session:c},error:null}}catch(i){if(Jt(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(t){var r,s,a;try{let i;if("email"in t){const{email:h,password:u,options:f}=t;let m=null,v=null;this.flowType==="pkce"&&([m,v]=await Eh(this.storage,this.storageKey)),i=await nr(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f==null?void 0:f.emailRedirectTo,body:{email:h,password:u,data:(r=f==null?void 0:f.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:m,code_challenge_method:v},xform:hl})}else if("phone"in t){const{phone:h,password:u,options:f}=t;i=await nr(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:h,password:u,data:(s=f==null?void 0:f.data)!==null&&s!==void 0?s:{},channel:(a=f==null?void 0:f.channel)!==null&&a!==void 0?a:"sms",gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:hl})}else throw new H0("You must provide either an email or phone number and a password");const{data:o,error:l}=i;if(l||!o)return{data:{user:null,session:null},error:l};const c=o.session,d=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:d,session:c},error:null}}catch(i){if(Jt(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(t){try{let r;if("email"in t){const{email:i,password:o,options:l}=t;r=await nr(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:oL})}else if("phone"in t){const{phone:i,password:o,options:l}=t;r=await nr(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:oL})}else throw new H0("You must provide either an email or phone number and a password");const{data:s,error:a}=r;return a?{data:{user:null,session:null},error:a}:!s||!s.session||!s.user?{data:{user:null,session:null},error:new W0}:(s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:Object.assign({user:s.user,session:s.session},s.weak_password?{weakPassword:s.weak_password}:null),error:a})}catch(r){if(Jt(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(t){var r,s,a,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(s=t.options)===null||s===void 0?void 0:s.scopes,queryParams:(a=t.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;if(r==="solana")return await this.signInWithSolana(t);throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}async signInWithSolana(t){var r,s,a,i,o,l,c,d,h,u,f,m;let v,x;if("message"in t)v=t.message,x=t.signature;else{const{chain:p,wallet:g,statement:b,options:y}=t;let j;if(Mi())if(typeof g=="object")j=g;else{const S=window;if("solana"in S&&typeof S.solana=="object"&&("signIn"in S.solana&&typeof S.solana.signIn=="function"||"signMessage"in S.solana&&typeof S.solana.signMessage=="function"))j=S.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof g!="object"||!(y!=null&&y.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");j=g}const E=new URL((r=y==null?void 0:y.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in j&&j.signIn){const S=await j.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},y==null?void 0:y.signInWithSolana),{version:"1",domain:E.host,uri:E.href}),b?{statement:b}:null));let N;if(Array.isArray(S)&&S[0]&&typeof S[0]=="object")N=S[0];else if(S&&typeof S=="object"&&"signedMessage"in S&&"signature"in S)N=S;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in N&&"signature"in N&&(typeof N.signedMessage=="string"||N.signedMessage instanceof Uint8Array)&&N.signature instanceof Uint8Array)v=typeof N.signedMessage=="string"?N.signedMessage:new TextDecoder().decode(N.signedMessage),x=N.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in j)||typeof j.signMessage!="function"||!("publicKey"in j)||typeof j!="object"||!j.publicKey||!("toBase58"in j.publicKey)||typeof j.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");v=[`${E.host} wants you to sign in with your Solana account:`,j.publicKey.toBase58(),...b?["",b,""]:[""],"Version: 1",`URI: ${E.href}`,`Issued At: ${(a=(s=y==null?void 0:y.signInWithSolana)===null||s===void 0?void 0:s.issuedAt)!==null&&a!==void 0?a:new Date().toISOString()}`,...!((i=y==null?void 0:y.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${y.signInWithSolana.notBefore}`]:[],...!((o=y==null?void 0:y.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${y.signInWithSolana.expirationTime}`]:[],...!((l=y==null?void 0:y.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${y.signInWithSolana.chainId}`]:[],...!((c=y==null?void 0:y.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${y.signInWithSolana.nonce}`]:[],...!((d=y==null?void 0:y.signInWithSolana)===null||d===void 0)&&d.requestId?[`Request ID: ${y.signInWithSolana.requestId}`]:[],...!((u=(h=y==null?void 0:y.signInWithSolana)===null||h===void 0?void 0:h.resources)===null||u===void 0)&&u.length?["Resources",...y.signInWithSolana.resources.map(N=>`- ${N}`)]:[]].join(`
`);const S=await j.signMessage(new TextEncoder().encode(v),"utf8");if(!S||!(S instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");x=S}}try{const{data:p,error:g}=await nr(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:v,signature:pDe(x)},!((f=t.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(m=t.options)===null||m===void 0?void 0:m.captchaToken}}:null),xform:hl});if(g)throw g;return!p||!p.session||!p.user?{data:{user:null,session:null},error:new W0}:(p.session&&(await this._saveSession(p.session),await this._notifyAllSubscribers("SIGNED_IN",p.session)),{data:Object.assign({},p),error:g})}catch(p){if(Jt(p))return{data:{user:null,session:null},error:p};throw p}}async _exchangeCodeForSession(t){const r=await K0(this.storage,`${this.storageKey}-code-verifier`),[s,a]=(r??"").split("/");try{const{data:i,error:o}=await nr(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:s},xform:hl});if(await Y0(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new W0}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:a??null}),error:o})}catch(i){if(Jt(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(t){try{const{options:r,provider:s,token:a,access_token:i,nonce:o}=t,l=await nr(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:s,id_token:a,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:hl}),{data:c,error:d}=l;return d?{data:{user:null,session:null},error:d}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new W0}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:d})}catch(r){if(Jt(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(t){var r,s,a,i,o;try{if("email"in t){const{email:l,options:c}=t;let d=null,h=null;this.flowType==="pkce"&&([d,h]=await Eh(this.storage,this.storageKey));const{error:u}=await nr(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(r=c==null?void 0:c.data)!==null&&r!==void 0?r:{},create_user:(s=c==null?void 0:c.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:d,code_challenge_method:h},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:u}}if("phone"in t){const{phone:l,options:c}=t,{data:d,error:h}=await nr(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(a=c==null?void 0:c.data)!==null&&a!==void 0?a:{},create_user:(i=c==null?void 0:c.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(o=c==null?void 0:c.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:d==null?void 0:d.message_id},error:h}}throw new H0("You must provide either an email or phone number.")}catch(l){if(Jt(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(t){var r,s;try{let a,i;"options"in t&&(a=(r=t.options)===null||r===void 0?void 0:r.redirectTo,i=(s=t.options)===null||s===void 0?void 0:s.captchaToken);const{data:o,error:l}=await nr(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:a,xform:hl});if(l)throw l;if(!o)throw new Error("An error occurred on token verification.");const c=o.session,d=o.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:d,session:c},error:null}}catch(a){if(Jt(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithSSO(t){var r,s,a;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await Eh(this.storage,this.storageKey)),await nr(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(s=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&s!==void 0?s:void 0}),!((a=t==null?void 0:t.options)===null||a===void 0)&&a.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:LDe})}catch(i){if(Jt(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:s}=t;if(s)throw s;if(!r)throw new pc;const{error:a}=await nr(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:a}})}catch(t){if(Jt(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:s,type:a,options:i}=t,{error:o}=await nr(this.fetch,"POST",r,{headers:this.headers,body:{email:s,type:a,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in t){const{phone:s,type:a,options:i}=t,{data:o,error:l}=await nr(this.fetch,"POST",r,{headers:this.headers,body:{phone:s,type:a,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:l}}throw new H0("You must provide either an email or phone number and a type")}catch(r){if(Jt(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const s=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),a=(async()=>(await s,await r()))();return this.pendingInLock.push((async()=>{try{await a}catch{}})()),a}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const s=r();for(this.pendingInLock.push((async()=>{try{await s}catch{}})()),await s;this.pendingInLock.length;){const a=[...this.pendingInLock];await Promise.all(a),this.pendingInLock.splice(0,a.length)}return await s}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await K0(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const s=t.expires_at?t.expires_at*1e3-Date.now()<$N:!1;if(this._debug("#__loadSession()",`session has${s?"":" not"} expired`,"expires_at",t.expires_at),!s){if(this.storage.isServer){let o=this.suppressGetSessionWarning;t=new Proxy(t,{get:(c,d,h)=>(!o&&d==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,d,h))})}return{data:{session:t},error:null}}const{session:a,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{session:null},error:i}:{data:{session:a},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await nr(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Sc}):await this._useSession(async r=>{var s,a,i;const{data:o,error:l}=r;if(l)throw l;return!(!((s=o.session)===null||s===void 0)&&s.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new pc}:await nr(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(a=o.session)===null||a===void 0?void 0:a.access_token)!==null&&i!==void 0?i:void 0,xform:Sc})})}catch(r){if(Jt(r))return oDe(r)&&(await this._removeSession(),await Y0(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async s=>{const{data:a,error:i}=s;if(i)throw i;if(!a.session)throw new pc;const o=a.session;let l=null,c=null;this.flowType==="pkce"&&t.email!=null&&([l,c]=await Eh(this.storage,this.storageKey));const{data:d,error:h}=await nr(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:c}),jwt:o.access_token,xform:Sc});if(h)throw h;return o.user=d.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(s){if(Jt(s))return{data:{user:null},error:s};throw s}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new pc;const r=Date.now()/1e3;let s=r,a=!0,i=null;const{payload:o}=BN(t.access_token);if(o.exp&&(s=o.exp,a=s<=r),a){const{session:l,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!l)return{data:{user:null,session:null},error:null};i=l}else{const{data:l,error:c}=await this._getUser(t.access_token);if(c)throw c;i={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:s-r,expires_at:s},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(r){if(Jt(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var s;if(!t){const{data:o,error:l}=r;if(l)throw l;t=(s=o.session)!==null&&s!==void 0?s:void 0}if(!(t!=null&&t.refresh_token))throw new pc;const{session:a,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{user:null,session:null},error:i}:a?{data:{user:a.user,session:a},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(Jt(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(t,r){try{if(!Mi())throw new G0("No browser detected.");if(t.error||t.error_description||t.error_code)throw new G0(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new tL("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new G0("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new tL("No code detected.");const{data:b,error:y}=await this._exchangeCodeForSession(t.code);if(y)throw y;const j=new URL(window.location.href);return j.searchParams.delete("code"),window.history.replaceState(window.history.state,"",j.toString()),{data:{session:b.session,redirectType:null},error:null}}const{provider_token:s,provider_refresh_token:a,access_token:i,refresh_token:o,expires_in:l,expires_at:c,token_type:d}=t;if(!i||!l||!o||!d)throw new G0("No session defined in URL");const h=Math.round(Date.now()/1e3),u=parseInt(l);let f=h+u;c&&(f=parseInt(c));const m=f-h;m*1e3<=Dh&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${m}s, should have been closer to ${u}s`);const v=f-u;h-v>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",v,f,h):h-v<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",v,f,h);const{data:x,error:p}=await this._getUser(i);if(p)throw p;const g={provider_token:s,provider_refresh_token:a,access_token:i,expires_in:u,expires_at:f,refresh_token:o,token_type:d,user:x.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:g,redirectType:t.type},error:null}}catch(s){if(Jt(s))return{data:{session:null,redirectType:null},error:s};throw s}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await K0(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var s;const{data:a,error:i}=r;if(i)return{error:i};const o=(s=a.session)===null||s===void 0?void 0:s.access_token;if(o){const{error:l}=await this.admin.signOut(o,t);if(l&&!(iDe(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return t!=="others"&&(await this._removeSession(),await Y0(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const r=gDe(),s={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,s),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:s}}}async _emitInitialSession(t){return await this._useSession(async r=>{var s,a;try{const{data:{session:i},error:o}=r;if(o)throw o;await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((a=this.stateChangeEmitters.get(t))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,r={}){let s=null,a=null;this.flowType==="pkce"&&([s,a]=await Eh(this.storage,this.storageKey,!0));try{return await nr(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:s,code_challenge_method:a,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(Jt(i))return{data:null,error:i};throw i}}async getUserIdentities(){var t;try{const{data:r,error:s}=await this.getUser();if(s)throw s;return{data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(r){if(Jt(r))return{data:null,error:r};throw r}}async linkIdentity(t){var r;try{const{data:s,error:a}=await this._useSession(async i=>{var o,l,c,d,h;const{data:u,error:f}=i;if(f)throw f;const m=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await nr(this.fetch,"GET",m,{headers:this.headers,jwt:(h=(d=u.session)===null||d===void 0?void 0:d.access_token)!==null&&h!==void 0?h:void 0})});if(a)throw a;return Mi()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(s==null?void 0:s.url),{data:{provider:t.provider,url:s==null?void 0:s.url},error:null}}catch(s){if(Jt(s))return{data:{provider:t.provider,url:null},error:s};throw s}}async unlinkIdentity(t){try{return await this._useSession(async r=>{var s,a;const{data:i,error:o}=r;if(o)throw o;return await nr(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(a=(s=i.session)===null||s===void 0?void 0:s.access_token)!==null&&a!==void 0?a:void 0})})}catch(r){if(Jt(r))return{data:null,error:r};throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const s=Date.now();return await jDe(async a=>(a>0&&await bDe(200*Math.pow(2,a-1)),this._debug(r,"refreshing attempt",a),await nr(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:hl})),(a,i)=>{const o=200*Math.pow(2,a);return i&&MN(i)&&Date.now()+o-s<Dh})}catch(s){if(this._debug(r,"error",s),Jt(s))return{data:{session:null,user:null},error:s};throw s}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const s=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",s),Mi()&&!r.skipBrowserRedirect&&window.location.assign(s),{data:{provider:t,url:s},error:null}}async _recoverAndRefresh(){var t;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const s=await K0(this.storage,this.storageKey);if(this._debug(r,"session from storage",s),!this._isValidSession(s)){this._debug(r,"session is not valid"),s!==null&&await this._removeSession();return}const a=((t=s.expires_at)!==null&&t!==void 0?t:1/0)*1e3-Date.now()<$N;if(this._debug(r,`session has${a?"":" not"} expired with margin of ${$N}s`),a){if(this.autoRefreshToken&&s.refresh_token){const{error:i}=await this._callRefreshToken(s.refresh_token);i&&(console.error(i),MN(i)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",i),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(r,"error",s),console.error(s);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var r,s;if(!t)throw new pc;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const a=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(a,"begin");try{this.refreshingDeferred=new sw;const{data:i,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!i.session)throw new pc;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const l={session:i.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(i){if(this._debug(a,"error",i),Jt(i)){const o={session:null,error:i};return MN(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(o),o}throw(s=this.refreshingDeferred)===null||s===void 0||s.reject(i),i}finally{this.refreshingDeferred=null,this._debug(a,"end")}}async _notifyAllSubscribers(t,r,s=!0){const a=`#_notifyAllSubscribers(${t})`;this._debug(a,"begin",r,`broadcast = ${s}`);try{this.broadcastChannel&&s&&this.broadcastChannel.postMessage({event:t,session:r});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,r)}catch(c){i.push(c)}});if(await Promise.all(o),i.length>0){for(let l=0;l<i.length;l+=1)console.error(i[l]);throw i[0]}}finally{this._debug(a,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await uV(this.storage,this.storageKey,t)}async _removeSession(){this._debug("#_removeSession()"),await Y0(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Mi()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Dh);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:s}}=r;if(!s||!s.refresh_token||!s.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const a=Math.floor((s.expires_at*1e3-t)/Dh);this._debug("#_autoRefreshTokenTick()",`access token expires in ${a} ticks, a tick lasts ${Dh}ms, refresh threshold is ${oA} ticks`),a<=oA&&await this._callRefreshToken(s.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof hV)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Mi()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,s){const a=[`provider=${encodeURIComponent(r)}`];if(s!=null&&s.redirectTo&&a.push(`redirect_to=${encodeURIComponent(s.redirectTo)}`),s!=null&&s.scopes&&a.push(`scopes=${encodeURIComponent(s.scopes)}`),this.flowType==="pkce"){const[i,o]=await Eh(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});a.push(l.toString())}if(s!=null&&s.queryParams){const i=new URLSearchParams(s.queryParams);a.push(i.toString())}return s!=null&&s.skipBrowserRedirect&&a.push(`skip_http_redirect=${s.skipBrowserRedirect}`),`${t}?${a.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var s;const{data:a,error:i}=r;return i?{data:null,error:i}:await nr(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(s=a==null?void 0:a.session)===null||s===void 0?void 0:s.access_token})})}catch(r){if(Jt(r))return{data:null,error:r};throw r}}async _enroll(t){try{return await this._useSession(async r=>{var s,a;const{data:i,error:o}=r;if(o)return{data:null,error:o};const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:c,error:d}=await nr(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(s=i==null?void 0:i.session)===null||s===void 0?void 0:s.access_token});return d?{data:null,error:d}:(t.factorType==="totp"&&(!((a=c==null?void 0:c.totp)===null||a===void 0)&&a.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(r){if(Jt(r))return{data:null,error:r};throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var s;const{data:a,error:i}=r;if(i)return{data:null,error:i};const{data:o,error:l}=await nr(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(s=a==null?void 0:a.session)===null||s===void 0?void 0:s.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:l})})}catch(r){if(Jt(r))return{data:null,error:r};throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var s;const{data:a,error:i}=r;return i?{data:null,error:i}:await nr(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(s=a==null?void 0:a.session)===null||s===void 0?void 0:s.access_token})})}catch(r){if(Jt(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(t){const{data:r,error:s}=await this._challenge({factorId:t.factorId});return s?{data:null,error:s}:await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){const{data:{user:t},error:r}=await this.getUser();if(r)return{data:null,error:r};const s=(t==null?void 0:t.factors)||[],a=s.filter(o=>o.factor_type==="totp"&&o.status==="verified"),i=s.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:s,totp:a,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var r,s;const{data:{session:a},error:i}=t;if(i)return{data:null,error:i};if(!a)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=BN(a.access_token);let l=null;o.aal&&(l=o.aal);let c=l;((s=(r=a.user.factors)===null||r===void 0?void 0:r.filter(u=>u.status==="verified"))!==null&&s!==void 0?s:[]).length>0&&(c="aal2");const h=o.amr||[];return{data:{currentLevel:l,nextLevel:c,currentAuthenticationMethods:h},error:null}}))}async fetchJwk(t,r={keys:[]}){let s=r.keys.find(o=>o.kid===t);if(s||(s=this.jwks.keys.find(o=>o.kid===t),s&&this.jwks_cached_at+sDe>Date.now()))return s;const{data:a,error:i}=await nr(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(i)throw i;if(!a.keys||a.keys.length===0)throw new dv("JWKS is empty");if(this.jwks=a,this.jwks_cached_at=Date.now(),s=a.keys.find(o=>o.kid===t),!s)throw new dv("No matching signing key found in JWKS");return s}async getClaims(t,r={keys:[]}){try{let s=t;if(!s){const{data:m,error:v}=await this.getSession();if(v||!m.session)return{data:null,error:v};s=m.session.access_token}const{header:a,payload:i,signature:o,raw:{header:l,payload:c}}=BN(s);if(PDe(i.exp),!a.kid||a.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:m}=await this.getUser(s);if(m)throw m;return{data:{claims:i,header:a,signature:o},error:null}}const d=TDe(a.alg),h=await this.fetchJwk(a.kid,r),u=await crypto.subtle.importKey("jwk",h,d,!0,["verify"]);if(!await crypto.subtle.verify(d,u,o,mDe(`${l}.${c}`)))throw new dv("Invalid JWT signature");return{data:{claims:i,header:a,signature:o},error:null}}catch(s){if(Jt(s))return{data:null,error:s};throw s}}}Cg.nextInstanceID=0;const HDe=Cg;class GDe extends HDe{constructor(t){super(t)}}var KDe=globalThis&&globalThis.__awaiter||function(e,t,r,s){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(h){try{d(s.next(h))}catch(u){o(u)}}function c(h){try{d(s.throw(h))}catch(u){o(u)}}function d(h){h.done?i(h.value):a(h.value).then(l,c)}d((s=s.apply(e,t||[])).next())})};class YDe{constructor(t,r,s){var a,i,o;if(this.supabaseUrl=t,this.supabaseKey=r,!t)throw new Error("supabaseUrl is required.");if(!r)throw new Error("supabaseKey is required.");const l=Jke(t),c=new URL(l);this.realtimeUrl=new URL("realtime/v1",c),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",c),this.storageUrl=new URL("storage/v1",c),this.functionsUrl=new URL("functions/v1",c);const d=`sb-${c.hostname.split(".")[0]}-auth-token`,h={db:qke,realtime:Hke,auth:Object.assign(Object.assign({},Wke),{storageKey:d}),global:Vke},u=Zke(s??{},h);this.storageKey=(a=u.auth.storageKey)!==null&&a!==void 0?a:"",this.headers=(i=u.global.headers)!==null&&i!==void 0?i:{},u.accessToken?(this.accessToken=u.accessToken,this.auth=new Proxy({},{get:(f,m)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(m)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=u.auth)!==null&&o!==void 0?o:{},this.headers,u.global.fetch),this.fetch=Xke(r,this._getAccessToken.bind(this),u.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},u.realtime)),this.rest=new hke(new URL("rest/v1",c).href,{headers:this.headers,schema:u.db.schema,fetch:this.fetch}),u.accessToken||this._listenForAuthEvents()}get functions(){return new UIe(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new Bke(this.storageUrl.href,this.headers,this.fetch)}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},s={}){return this.rest.rpc(t,r,s)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,r;return KDe(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:s}=yield this.auth.getSession();return(r=(t=s.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:s,storage:a,storageKey:i,flowType:o,lock:l,debug:c},d,h){const u={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new GDe({url:this.authUrl.href,headers:Object.assign(Object.assign({},u),d),storageKey:i,autoRefreshToken:t,persistSession:r,detectSessionInUrl:s,storage:a,flowType:o,lock:l,debug:c,fetch:h,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new Eke(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,s)=>{this._handleTokenChanged(r,"CLIENT",s==null?void 0:s.access_token)})}_handleTokenChanged(t,r,s){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==s?this.changedAccessToken=s:t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const XDe=(e,t,r)=>new YDe(e,t,r),QDe=()=>XDe("https://stlqdeipenmafvrmxwdb.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InN0bHFkZWlwZW5tYWZ2cm14d2RiIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTA3OTg1NjMsImV4cCI6MjA2NjM3NDU2M30.t3RCXpwrefZoEgBsbVqcnx9rXJYfCjOTbUoaLzTaJ8k");function JDe({tenant:e,onSave:t,onClose:r}){var w;const{toast:s}=At(),[a,i]=C.useState(!1),[o,l]=C.useState("general"),[c,d]=C.useState([]),[h,u]=C.useState(!1),[f,m]=C.useState(!1),[v,x]=C.useState(null),[p,g]=C.useState({...e,settings:{...e.settings,features:((w=e.settings)==null?void 0:w.features)||{crm:!0,inventory:!0,quotes:!0,agreements:!0,service:!0,delivery:!0,commissions:!0,portal:!0,invoices:!0,reports:!0}},branding:e.branding||{primaryColor:"#3b82f6",secondaryColor:"#64748b",fontFamily:"Inter"}}),b=async _=>{if(_.preventDefault(),!p.name||!p.domain){s({title:"Validation Error",description:"Tenant name and domain are required",variant:"destructive"});return}i(!0);try{await t(e.id,{...p,status:p.isActive?"active":"inactive"}),s({title:"Success",description:"Tenant updated successfully"})}catch{s({title:"Error",description:"Failed to update tenant",variant:"destructive"})}finally{i(!1)}},y=_=>{switch(_){case"active":return"bg-green-50 text-green-700 border-green-200";case"inactive":return"bg-gray-50 text-gray-700 border-gray-200";case"suspended":return"bg-red-50 text-red-700 border-red-200";default:return"bg-gray-50 text-gray-700 border-gray-200"}};C.useEffect(()=>{o==="users"&&j()},[o,e.id]);const j=async()=>{u(!0);try{const _=QDe(),{data:k,error:T}=await _.rpc("get_tenant_users",{tenant_id_param:e.id});if(T)throw T;d(k||[])}catch(_){console.error("Error fetching tenant users:",_),s({title:"Error",description:"Failed to load users for this tenant",variant:"destructive"})}finally{u(!1)}},E=async _=>{try{console.log(v?"Updating user:":"Adding user:",_),v?(d(k=>k.map(T=>T.id===_.id?{...T,..._}:T)),s({title:"User Updated",description:`${_.name} has been updated successfully.`})):(d(k=>[...k,_]),s({title:"User Added",description:`${_.name} has been added successfully.`})),m(!1),x(null)}catch{s({title:v?"Update Error":"Add Error",description:`Failed to ${v?"update":"add"} user`,variant:"destructive"})}},S=_=>{x(_),m(!0)},N=async(_,k)=>{if(window.confirm(`Are you sure you want to delete user ${k}?`))try{console.log("Deleting user:",_),d(T=>T.filter(A=>A.id!==_)),s({title:"User Deleted",description:`${k} has been deleted successfully.`})}catch{s({title:"Delete Error",description:"Failed to delete user",variant:"destructive"})}};return n.jsxs("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:[f&&n.jsx(RIe,{tenantId:e.id,user:v,onSave:E,onCancel:()=>{m(!1),x(null)}}),n.jsxs(de,{className:"w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[n.jsx(ye,{children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx(be,{className:"text-xl",children:e.name}),n.jsx(Re,{className:He("ri-badge-status",y(e.status)),children:e.status.toUpperCase()})]}),n.jsx($e,{children:e.domain})]}),n.jsx(J,{variant:"ghost",size:"sm",onClick:r,children:n.jsx(Ut,{className:"h-4 w-4"})})]})}),n.jsxs(ue,{children:[n.jsxs(xr,{value:o,onValueChange:l,className:"space-y-4",children:[n.jsxs(fr,{className:"grid w-full grid-cols-5",children:[n.jsx(Qe,{value:"general",children:"General"}),n.jsx(Qe,{value:"features",children:"Features"}),n.jsx(Qe,{value:"branding",children:"Branding"}),n.jsx(Qe,{value:"users",children:"Users"}),n.jsx(Qe,{value:"activity",children:"Activity"})]}),n.jsxs(et,{value:"general",className:"space-y-4",children:[n.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"name",children:"Tenant Name *"}),n.jsx(Pe,{id:"name",value:p.name,onChange:_=>g(k=>({...k,name:_.target.value})),placeholder:"e.g., Sunshine RV Dealership"})]}),n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"domain",children:"Domain *"}),n.jsx(Pe,{id:"domain",value:p.domain,onChange:_=>g(k=>({...k,domain:_.target.value})),placeholder:"e.g., sunshine.renterinsight.com"}),n.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"This will be used for tenant-specific access"})]})]}),n.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"timezone",children:"Timezone"}),n.jsxs(Ve,{value:p.settings.timezone,onValueChange:_=>g(k=>({...k,settings:{...k.settings,timezone:_}})),children:[n.jsx(ze,{children:n.jsx(qe,{})}),n.jsxs(Ue,{children:[n.jsx(K,{value:"America/New_York",children:"Eastern Time (ET)"}),n.jsx(K,{value:"America/Chicago",children:"Central Time (CT)"}),n.jsx(K,{value:"America/Denver",children:"Mountain Time (MT)"}),n.jsx(K,{value:"America/Los_Angeles",children:"Pacific Time (PT)"})]})]})]}),n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"currency",children:"Currency"}),n.jsxs(Ve,{value:p.settings.currency,onValueChange:_=>g(k=>({...k,settings:{...k.settings,currency:_}})),children:[n.jsx(ze,{children:n.jsx(qe,{})}),n.jsxs(Ue,{children:[n.jsx(K,{value:"USD",children:"US Dollar (USD)"}),n.jsx(K,{value:"CAD",children:"Canadian Dollar (CAD)"}),n.jsx(K,{value:"EUR",children:"Euro (EUR)"}),n.jsx(K,{value:"GBP",children:"British Pound (GBP)"})]})]})]}),n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"dateFormat",children:"Date Format"}),n.jsxs(Ve,{value:p.settings.dateFormat,onValueChange:_=>g(k=>({...k,settings:{...k.settings,dateFormat:_}})),children:[n.jsx(ze,{children:n.jsx(qe,{})}),n.jsxs(Ue,{children:[n.jsx(K,{value:"MM/dd/yyyy",children:"MM/DD/YYYY"}),n.jsx(K,{value:"dd/MM/yyyy",children:"DD/MM/YYYY"}),n.jsx(K,{value:"yyyy-MM-dd",children:"YYYY-MM-DD"})]})]})]})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Vt,{id:"isActive",checked:p.isActive,onCheckedChange:_=>g(k=>({...k,isActive:!!_}))}),n.jsx(ae,{htmlFor:"isActive",children:"Active tenant"})]})]}),n.jsxs(et,{value:"features",className:"space-y-4",children:[n.jsx("h3",{className:"text-lg font-semibold",children:"Enabled Features"}),n.jsx("div",{className:"grid gap-4 md:grid-cols-2",children:Object.entries(p.settings.features).map(([_,k])=>n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Vt,{id:`feature-${_}`,checked:k,onCheckedChange:T=>g(A=>({...A,settings:{...A.settings,features:{...A.settings.features,[_]:!!T}}}))}),n.jsx(ae,{htmlFor:`feature-${_}`,className:"capitalize",children:_==="crm"?"CRM & Prospecting":_==="invoices"?"Invoice & Payments":_})]},_))})]}),n.jsxs(et,{value:"branding",className:"space-y-4",children:[n.jsx("h3",{className:"text-lg font-semibold",children:"Branding"}),n.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"primaryColor",children:"Primary Color"}),n.jsxs("div",{className:"flex items-center space-x-2 mt-1",children:[n.jsx(Pe,{type:"color",id:"primaryColor",value:p.branding.primaryColor,onChange:_=>g(k=>({...k,branding:{...k.branding,primaryColor:_.target.value}})),className:"w-16 h-10 shadow-sm"}),n.jsx(Pe,{value:p.branding.primaryColor,onChange:_=>g(k=>({...k,branding:{...k.branding,primaryColor:_.target.value}})),className:"shadow-sm"})]})]}),n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"secondaryColor",children:"Secondary Color"}),n.jsxs("div",{className:"flex items-center space-x-2 mt-1",children:[n.jsx(Pe,{type:"color",id:"secondaryColor",value:p.branding.secondaryColor,onChange:_=>g(k=>({...k,branding:{...k.branding,secondaryColor:_.target.value}})),className:"w-16 h-10 shadow-sm"}),n.jsx(Pe,{value:p.branding.secondaryColor,onChange:_=>g(k=>({...k,branding:{...k.branding,secondaryColor:_.target.value}})),className:"shadow-sm"})]})]}),n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"fontFamily",children:"Font Family"}),n.jsxs(Ve,{value:p.branding.fontFamily,onValueChange:_=>g(k=>({...k,branding:{...k.branding,fontFamily:_}})),children:[n.jsx(ze,{children:n.jsx(qe,{})}),n.jsxs(Ue,{children:[n.jsx(K,{value:"Inter",children:"Inter"}),n.jsx(K,{value:"Roboto",children:"Roboto"}),n.jsx(K,{value:"Open Sans",children:"Open Sans"}),n.jsx(K,{value:"Montserrat",children:"Montserrat"})]})]})]})]}),n.jsxs("div",{className:"border rounded-lg p-6 mt-6",children:[n.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Preview"}),n.jsxs("div",{className:"space-y-4 p-4 rounded-lg border",style:{fontFamily:p.branding.fontFamily},children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx("h4",{className:"font-semibold",children:"Text Preview"}),n.jsx("p",{children:"This is how your text will appear with the selected font."})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("h4",{className:"font-semibold",children:"Color Preview"}),n.jsxs("div",{className:"flex space-x-4",children:[n.jsx("div",{className:"w-20 h-10 rounded-md flex items-center justify-center text-white",style:{backgroundColor:p.branding.primaryColor},children:"Primary"}),n.jsx("div",{className:"w-20 h-10 rounded-md flex items-center justify-center text-white",style:{backgroundColor:p.branding.secondaryColor},children:"Secondary"})]})]})]})]})]}),n.jsxs(et,{value:"users",className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("h3",{className:"text-lg font-semibold",children:"Users"}),n.jsxs(J,{size:"sm",onClick:()=>m(!0),children:[n.jsx(On,{className:"h-4 w-4 mr-2"}),"Add User"]})]}),h?n.jsxs("div",{className:"text-center py-8",children:[n.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto"}),n.jsx("p",{className:"mt-2 text-muted-foreground",children:"Loading users..."})]}):c.length>0?n.jsx("div",{className:"space-y-3",children:c.map(_=>n.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg hover:bg-accent/50 transition-colors",children:[n.jsxs("div",{children:[n.jsx("h4",{className:"font-semibold",children:_.name}),n.jsx("p",{className:"text-sm text-muted-foreground",children:_.email})]}),n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx(Re,{className:_.is_active?"bg-green-50 text-green-700 border-green-200":"bg-gray-50 text-gray-700 border-gray-200",children:_.is_active?"ACTIVE":"INACTIVE"}),n.jsx(Re,{variant:"outline",children:_.role.toUpperCase()}),n.jsxs("div",{className:"flex space-x-2",children:[n.jsxs(J,{variant:"outline",size:"sm",onClick:()=>S(_),children:[n.jsx(zr,{className:"h-3 w-3 mr-1"}),"Edit"]}),n.jsxs(J,{variant:"outline",size:"sm",onClick:()=>N(_.id,_.name),children:[n.jsx(Sn,{className:"h-3 w-3 mr-1"}),"Delete"]})]})]})]},_.id))}):n.jsxs("div",{className:"text-center py-8 text-muted-foreground border-2 border-dashed rounded-lg",children:[n.jsx(On,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground/50"}),n.jsx("p",{children:"No users found for this tenant"}),n.jsx("p",{className:"text-sm",children:"Add users to provide access to this tenant"})]})]}),n.jsxs(et,{value:"activity",className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("h3",{className:"text-lg font-semibold",children:"Activity Log"}),n.jsxs(J,{variant:"outline",size:"sm",children:[n.jsx(Co,{className:"h-4 w-4 mr-2"}),"Refresh"]})]}),n.jsxs("div",{className:"text-center py-8 text-muted-foreground border-2 border-dashed rounded-lg",children:[n.jsx(Co,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground/50"}),n.jsx("p",{children:"No activity recorded yet"}),n.jsx("p",{className:"text-sm",children:"Activity will be logged as users interact with the system"})]})]})]}),n.jsxs("div",{className:"flex justify-end space-x-3 pt-6 border-t mt-6",children:[n.jsx(J,{variant:"outline",onClick:r,disabled:a,children:"Cancel"}),n.jsx(J,{onClick:b,disabled:a,children:a?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Saving..."]}):n.jsxs(n.Fragment,{children:[n.jsx(Rr,{className:"h-4 w-4 mr-2"}),"Save Changes"]})})]})]})]})]})}const ZDe=[{id:"1",name:"Demo RV Dealership",domain:"demo.renterinsight.com",status:"active",users:5,createdAt:new Date("2024-01-01"),lastActivity:new Date("2024-01-20")},{id:"2",name:"Sunshine RV Center",domain:"sunshine.renterinsight.com",status:"active",users:12,createdAt:new Date("2023-12-15"),lastActivity:new Date("2024-01-19")}],_h={totalTenants:2,activeTenants:2,totalUsers:17,systemUptime:"99.9%",avgResponseTime:"120ms",errorRate:"0.1%"};function dL(){const{hasRole:e}=im(),{toast:t}=At(),[r,s]=C.useState(ZDe),[a,i]=C.useState(""),[o,l]=C.useState(null),[c,d]=C.useState(!1),[h,u]=C.useState(!1);if(!e(Ki.ADMIN))return n.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:n.jsx(de,{className:"w-full max-w-md shadow-sm",children:n.jsxs(ye,{className:"text-center",children:[n.jsx(Xi,{className:"h-12 w-12 text-orange-500 mx-auto mb-4"}),n.jsx(be,{children:"Access Denied"}),n.jsx($e,{children:"You don't have permission to access the Platform Admin area."})]})})});const f=b=>{switch(b){case"active":return"bg-green-50 text-green-700 border-green-200";case"inactive":return"bg-gray-50 text-gray-700 border-gray-200";case"suspended":return"bg-red-50 text-red-700 border-red-200";default:return"bg-gray-50 text-gray-700 border-gray-200"}},m=r.filter(b=>b.name.toLowerCase().includes(a.toLowerCase())||b.domain.toLowerCase().includes(a.toLowerCase())),v=()=>{d(!0)},x=async b=>{try{const y={id:Math.random().toString(36).substring(2,9),...b,status:b.isActive?"active":"inactive",users:0,createdAt:new Date,lastActivity:new Date};s(j=>[...j,y]),d(!1),t({title:"Tenant Created",description:`${b.name} has been created successfully.`})}catch{t({title:"Error",description:"Failed to create tenant",variant:"destructive"})}},p=b=>{l(b),u(!0)},g=async(b,y)=>{try{const j=r.map(E=>E.id===b?{...E,...y}:E);s(j),u(!1),t({title:"Tenant Updated",description:`${y.name} has been updated successfully.`})}catch{t({title:"Error",description:"Failed to update tenant",variant:"destructive"})}};return n.jsxs("div",{className:"space-y-8",children:[c&&n.jsx(LIe,{onSave:x,onCancel:()=>d(!1)}),h&&o&&n.jsx(JDe,{tenant:o,onSave:g,onClose:()=>{u(!1),l(null)}}),n.jsx("div",{className:"ri-page-header",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"ri-page-title",children:"Platform Admin"}),n.jsx("p",{className:"ri-page-description",children:"System administration and tenant management"})]}),n.jsxs(J,{className:"shadow-sm",onClick:v,children:[n.jsx(Nt,{className:"h-4 w-4 mr-2"}),"Add Tenant"]})]})}),n.jsxs("div",{className:"grid gap-4 md:grid-cols-3 lg:grid-cols-6",children:[n.jsxs(de,{className:"shadow-sm border-0 bg-gradient-to-br from-blue-50 to-blue-100/50",children:[n.jsxs(ye,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(be,{className:"text-sm font-medium text-blue-900",children:"Total Tenants"}),n.jsx(Iv,{className:"h-4 w-4 text-blue-600"})]}),n.jsxs(ue,{children:[n.jsx("div",{className:"text-2xl font-bold text-blue-900",children:_h.totalTenants}),n.jsxs("p",{className:"text-xs text-blue-600 flex items-center mt-1",children:[n.jsx(_t,{className:"h-3 w-3 mr-1"}),"All tenants"]})]})]}),n.jsxs(de,{className:"shadow-sm border-0 bg-gradient-to-br from-green-50 to-green-100/50",children:[n.jsxs(ye,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(be,{className:"text-sm font-medium text-green-900",children:"Active Tenants"}),n.jsx(Iv,{className:"h-4 w-4 text-green-600"})]}),n.jsxs(ue,{children:[n.jsx("div",{className:"text-2xl font-bold text-green-900",children:_h.activeTenants}),n.jsxs("p",{className:"text-xs text-green-600 flex items-center mt-1",children:[n.jsx(Co,{className:"h-3 w-3 mr-1"}),"Currently active"]})]})]}),n.jsxs(de,{className:"shadow-sm border-0 bg-gradient-to-br from-purple-50 to-purple-100/50",children:[n.jsxs(ye,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(be,{className:"text-sm font-medium text-purple-900",children:"Total Users"}),n.jsx(On,{className:"h-4 w-4 text-purple-600"})]}),n.jsxs(ue,{children:[n.jsx("div",{className:"text-2xl font-bold text-purple-900",children:_h.totalUsers}),n.jsxs("p",{className:"text-xs text-purple-600 flex items-center mt-1",children:[n.jsx(On,{className:"h-3 w-3 mr-1"}),"All users"]})]})]}),n.jsxs(de,{className:"shadow-sm border-0 bg-gradient-to-br from-green-50 to-green-100/50",children:[n.jsxs(ye,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(be,{className:"text-sm font-medium text-green-900",children:"System Uptime"}),n.jsx(Co,{className:"h-4 w-4 text-green-600"})]}),n.jsxs(ue,{children:[n.jsx("div",{className:"text-2xl font-bold text-green-900",children:_h.systemUptime}),n.jsxs("p",{className:"text-xs text-green-600 flex items-center mt-1",children:[n.jsx(Co,{className:"h-3 w-3 mr-1"}),"Excellent"]})]})]}),n.jsxs(de,{className:"shadow-sm border-0 bg-gradient-to-br from-blue-50 to-blue-100/50",children:[n.jsxs(ye,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(be,{className:"text-sm font-medium text-blue-900",children:"Avg Response"}),n.jsx(Co,{className:"h-4 w-4 text-blue-600"})]}),n.jsxs(ue,{children:[n.jsx("div",{className:"text-2xl font-bold text-blue-900",children:_h.avgResponseTime}),n.jsxs("p",{className:"text-xs text-blue-600 flex items-center mt-1",children:[n.jsx(_t,{className:"h-3 w-3 mr-1"}),"Fast response"]})]})]}),n.jsxs(de,{className:"shadow-sm border-0 bg-gradient-to-br from-green-50 to-green-100/50",children:[n.jsxs(ye,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(be,{className:"text-sm font-medium text-green-900",children:"Error Rate"}),n.jsx(Co,{className:"h-4 w-4 text-green-600"})]}),n.jsxs(ue,{children:[n.jsx("div",{className:"text-2xl font-bold text-green-900",children:_h.errorRate}),n.jsxs("p",{className:"text-xs text-green-600 flex items-center mt-1",children:[n.jsx(Co,{className:"h-3 w-3 mr-1"}),"Very low"]})]})]})]}),n.jsxs(xr,{defaultValue:"health",className:"space-y-6",children:[n.jsxs(fr,{className:"grid w-full grid-cols-3",children:[n.jsx(Qe,{value:"health",children:"System Health"}),n.jsx(Qe,{value:"usage",children:"Usage Stats"}),n.jsx(Qe,{value:"logs",children:"Audit Logs"})]}),n.jsx(et,{value:"health",children:n.jsxs(de,{className:"shadow-sm",children:[n.jsxs(ye,{children:[n.jsx(be,{className:"text-xl",children:"System Health"}),n.jsx($e,{children:"Real-time system status and health metrics"})]}),n.jsx(ue,{children:n.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[n.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-green-50 rounded-lg",children:[n.jsx("div",{className:"h-3 w-3 bg-green-500 rounded-full"}),n.jsx("span",{className:"text-sm font-medium text-green-900",children:"Database: Healthy"})]}),n.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-green-50 rounded-lg",children:[n.jsx("div",{className:"h-3 w-3 bg-green-500 rounded-full"}),n.jsx("span",{className:"text-sm font-medium text-green-900",children:"API Services: Operational"})]}),n.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-green-50 rounded-lg",children:[n.jsx("div",{className:"h-3 w-3 bg-green-500 rounded-full"}),n.jsx("span",{className:"text-sm font-medium text-green-900",children:"Payment Gateway: Connected"})]}),n.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-green-50 rounded-lg",children:[n.jsx("div",{className:"h-3 w-3 bg-green-500 rounded-full"}),n.jsx("span",{className:"text-sm font-medium text-green-900",children:"Email Service: Active"})]}),n.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-green-50 rounded-lg",children:[n.jsx("div",{className:"h-3 w-3 bg-green-500 rounded-full"}),n.jsx("span",{className:"text-sm font-medium text-green-900",children:"File Storage: Available"})]}),n.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-green-50 rounded-lg",children:[n.jsx("div",{className:"h-3 w-3 bg-green-500 rounded-full"}),n.jsx("span",{className:"text-sm font-medium text-green-900",children:"Backup System: Running"})]})]})})]})}),n.jsx(et,{value:"usage",children:n.jsx(DIe,{})}),n.jsx(et,{value:"logs",children:n.jsx(OIe,{})})]}),n.jsxs("div",{className:"flex gap-4",children:[n.jsxs("div",{className:"ri-search-bar",children:[n.jsx(es,{className:"ri-search-icon"}),n.jsx(Pe,{placeholder:"Search tenants...",value:a,onChange:b=>i(b.target.value),className:"ri-search-input shadow-sm"})]}),n.jsxs(J,{variant:"outline",className:"shadow-sm",children:[n.jsx(Na,{className:"h-4 w-4 mr-2"}),"Filter"]})]}),n.jsxs(de,{className:"shadow-sm",children:[n.jsxs(ye,{children:[n.jsx(be,{className:"text-xl",children:"Tenant Management"}),n.jsx($e,{children:"Manage dealership tenants and their configurations"})]}),n.jsx(ue,{children:n.jsx("div",{className:"space-y-4",children:m.map(b=>n.jsxs("div",{className:"ri-table-row",children:[n.jsx("div",{className:"flex items-center space-x-4 flex-1",children:n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[n.jsx("h3",{className:"font-semibold text-foreground",children:b.name}),n.jsx(Re,{className:He("ri-badge-status",f(b.status)),children:b.status.toUpperCase()})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm text-muted-foreground",children:[n.jsxs("div",{children:[n.jsx("span",{className:"font-medium",children:"Domain:"}),n.jsx("span",{className:"ml-1",children:b.domain})]}),n.jsxs("div",{children:[n.jsx("span",{className:"font-medium",children:"Users:"}),n.jsx("span",{className:"ml-1",children:b.users})]}),n.jsxs("div",{children:[n.jsx("span",{className:"font-medium",children:"Created:"}),n.jsx("span",{className:"ml-1",children:b.createdAt.toLocaleDateString()})]}),n.jsxs("div",{children:[n.jsx("span",{className:"font-medium",children:"Last Activity:"}),n.jsx("span",{className:"ml-1",children:b.lastActivity.toLocaleDateString()})]})]})]})}),n.jsx("div",{className:"ri-action-buttons",children:n.jsxs(J,{variant:"outline",size:"sm",className:"shadow-sm",onClick:()=>p(b),children:[n.jsx(D1,{className:"h-3 w-3 mr-1"}),"Manage"]})})]},b.id))})})]})]})}function eOe(){return n.jsxs(Ps,{children:[n.jsx(Ft,{path:"/",element:n.jsx(dL,{})}),n.jsx(Ft,{path:"/*",element:n.jsx(dL,{})})]})}function tOe({onGenerate:e,onExportCSV:t,isGenerating:r,hasData:s}){const{toast:a}=At(),[i,o]=C.useState({type:Mr.SALES,name:"Sales Report",dateRange:{startDate:new Date(new Date().setDate(new Date().getDate()-30)).toISOString().split("T")[0],endDate:new Date().toISOString().split("T")[0]},filters:{}}),l=d=>{if(d.preventDefault(),!i.name){a({title:"Validation Error",description:"Report name is required",variant:"destructive"});return}e(i)},c=d=>{let h="Custom Report";switch(d){case Mr.SALES:h="Sales Report";break;case Mr.INVENTORY:h="Inventory Report";break;case Mr.SERVICE:h="Service Report";break;case Mr.FINANCIAL:h="Financial Report";break}o(u=>({...u,type:d,name:h}))};return n.jsxs(de,{className:"shadow-sm",children:[n.jsxs(ye,{children:[n.jsxs(be,{className:"flex items-center",children:[n.jsx(Bn,{className:"h-5 w-5 mr-2 text-primary"}),"Generate Report"]}),n.jsx($e,{children:"Configure and generate custom reports"})]}),n.jsx(ue,{children:n.jsxs("form",{onSubmit:l,className:"space-y-4",children:[n.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"reportType",children:"Report Type"}),n.jsxs(Ve,{value:i.type,onValueChange:d=>c(d),children:[n.jsx(ze,{children:n.jsx(qe,{})}),n.jsxs(Ue,{children:[n.jsx(K,{value:Mr.SALES,children:"Sales Report"}),n.jsx(K,{value:Mr.INVENTORY,children:"Inventory Report"}),n.jsx(K,{value:Mr.SERVICE,children:"Service Report"}),n.jsx(K,{value:Mr.FINANCIAL,children:"Financial Report"}),n.jsx(K,{value:Mr.CUSTOM,children:"Custom Report"})]})]})]}),n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"reportName",children:"Report Name"}),n.jsx(Pe,{id:"reportName",value:i.name,onChange:d=>o(h=>({...h,name:d.target.value})),placeholder:"Enter report name"})]})]}),n.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"startDate",children:"Start Date"}),n.jsxs("div",{className:"relative",children:[n.jsx(Lr,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),n.jsx(Pe,{id:"startDate",type:"date",value:i.dateRange.startDate,onChange:d=>o(h=>({...h,dateRange:{...h.dateRange,startDate:d.target.value}})),className:"pl-10"})]})]}),n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"endDate",children:"End Date"}),n.jsxs("div",{className:"relative",children:[n.jsx(Lr,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),n.jsx(Pe,{id:"endDate",type:"date",value:i.dateRange.endDate,onChange:d=>o(h=>({...h,dateRange:{...h.dateRange,endDate:d.target.value}})),className:"pl-10"})]})]})]}),n.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"salesRep",children:"Sales Rep"}),n.jsxs(Ve,{value:i.filters.salesRep||"",onValueChange:d=>o(h=>({...h,filters:{...h.filters,salesRep:d||void 0}})),children:[n.jsx(ze,{children:n.jsx(qe,{placeholder:"All Sales Reps"})}),n.jsxs(Ue,{children:[n.jsx(K,{value:"",children:"All Sales Reps"}),n.jsx(K,{value:"rep-001",children:"John Smith"}),n.jsx(K,{value:"rep-002",children:"Sarah Johnson"}),n.jsx(K,{value:"rep-003",children:"Mike Davis"})]})]})]}),n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"status",children:"Status"}),n.jsxs(Ve,{value:i.filters.status||"",onValueChange:d=>o(h=>({...h,filters:{...h.filters,status:d||void 0}})),children:[n.jsx(ze,{children:n.jsx(qe,{placeholder:"All Statuses"})}),n.jsxs(Ue,{children:[n.jsx(K,{value:"",children:"All Statuses"}),n.jsx(K,{value:"active",children:"Active"}),n.jsx(K,{value:"completed",children:"Completed"}),n.jsx(K,{value:"cancelled",children:"Cancelled"})]})]})]}),n.jsxs("div",{children:[n.jsx(ae,{htmlFor:"location",children:"Location"}),n.jsxs(Ve,{value:i.filters.location||"",onValueChange:d=>o(h=>({...h,filters:{...h.filters,location:d||void 0}})),children:[n.jsx(ze,{children:n.jsx(qe,{placeholder:"All Locations"})}),n.jsxs(Ue,{children:[n.jsx(K,{value:"",children:"All Locations"}),n.jsx(K,{value:"north",children:"North Region"}),n.jsx(K,{value:"south",children:"South Region"}),n.jsx(K,{value:"east",children:"East Region"}),n.jsx(K,{value:"west",children:"West Region"})]})]})]})]}),n.jsxs("div",{className:"flex justify-between pt-4",children:[n.jsxs(J,{type:"button",variant:"outline",children:[n.jsx(Na,{className:"h-4 w-4 mr-2"}),"More Filters"]}),n.jsxs("div",{className:"flex space-x-2",children:[s&&n.jsxs(J,{type:"button",variant:"outline",onClick:t,children:[n.jsx(wa,{className:"h-4 w-4 mr-2"}),"Export CSV"]}),n.jsx(J,{type:"submit",disabled:r,children:r?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Generating..."]}):n.jsxs(n.Fragment,{children:[n.jsx(Bn,{className:"h-4 w-4 mr-2"}),"Generate Report"]})})]})]})]})})]})}const fV=C.forwardRef(({className:e,...t},r)=>n.jsx("div",{className:"relative w-full overflow-auto",children:n.jsx("table",{ref:r,className:He("w-full caption-bottom text-sm",e),...t})}));fV.displayName="Table";const mV=C.forwardRef(({className:e,...t},r)=>n.jsx("thead",{ref:r,className:He("[&_tr]:border-b",e),...t}));mV.displayName="TableHeader";const pV=C.forwardRef(({className:e,...t},r)=>n.jsx("tbody",{ref:r,className:He("[&_tr:last-child]:border-0",e),...t}));pV.displayName="TableBody";const rOe=C.forwardRef(({className:e,...t},r)=>n.jsx("tfoot",{ref:r,className:He("bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));rOe.displayName="TableFooter";const vy=C.forwardRef(({className:e,...t},r)=>n.jsx("tr",{ref:r,className:He("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...t}));vy.displayName="TableRow";const vV=C.forwardRef(({className:e,...t},r)=>n.jsx("th",{ref:r,className:He("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));vV.displayName="TableHead";const dA=C.forwardRef(({className:e,...t},r)=>n.jsx("td",{ref:r,className:He("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));dA.displayName="TableCell";const nOe=C.forwardRef(({className:e,...t},r)=>n.jsx("caption",{ref:r,className:He("mt-4 text-sm text-muted-foreground",e),...t}));nOe.displayName="TableCaption";function sOe({reportType:e,reportName:t,data:r,columns:s,onExportCSV:a}){const[i,o]=C.useState(""),[l,c]=C.useState(null),[d,h]=C.useState("asc"),[u,f]=C.useState(1),m=10,x=[...r.filter(j=>Object.values(j).some(E=>E&&E.toString().toLowerCase().includes(i.toLowerCase())))].sort((j,E)=>{if(!l)return 0;const S=j[l],N=E[l];if(S===void 0||N===void 0)return 0;if(typeof S=="number"&&typeof N=="number")return d==="asc"?S-N:N-S;if(S instanceof Date&&N instanceof Date)return d==="asc"?S.getTime()-N.getTime():N.getTime()-S.getTime();const w=S.toString().toLowerCase(),_=N.toString().toLowerCase();return d==="asc"?w.localeCompare(_):_.localeCompare(w)}),p=Math.ceil(x.length/m),g=x.slice((u-1)*m,u*m),b=j=>{l===j?h(d==="asc"?"desc":"asc"):(c(j),h("asc"))},y=(j,E)=>{if(j==null)return"-";switch(E){case"currency":return _e(j);case"date":return ct(j);case"boolean":return j?"Yes":"No";default:return j.toString()}};return n.jsxs(de,{className:"shadow-sm",children:[n.jsx(ye,{children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx(be,{children:t}),n.jsxs($e,{children:[r.length," records found"]})]}),n.jsxs(J,{variant:"outline",size:"sm",onClick:a,children:[n.jsx(wa,{className:"h-4 w-4 mr-2"}),"Export CSV"]})]})}),n.jsx(ue,{children:n.jsxs("div",{className:"space-y-4",children:[n.jsx("div",{className:"flex items-center",children:n.jsxs("div",{className:"relative flex-1",children:[n.jsx(es,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),n.jsx(Pe,{placeholder:"Search results...",value:i,onChange:j=>{o(j.target.value),f(1)},className:"pl-10"})]})}),n.jsx("div",{className:"rounded-md border",children:n.jsxs(fV,{children:[n.jsx(mV,{children:n.jsx(vy,{children:s.map(j=>n.jsx(vV,{className:"cursor-pointer hover:bg-muted/50",onClick:()=>b(j.key),children:n.jsxs("div",{className:"flex items-center space-x-1",children:[n.jsx("span",{children:j.label}),l===j.key&&(d==="asc"?n.jsx(Eo,{className:"h-3 w-3"}):n.jsx(Ao,{className:"h-3 w-3"}))]})},j.key))})}),n.jsx(pV,{children:g.length>0?g.map((j,E)=>n.jsx(vy,{children:s.map(S=>n.jsx(dA,{children:y(j[S.key],S.type)},S.key))},E)):n.jsx(vy,{children:n.jsx(dA,{colSpan:s.length,className:"h-24 text-center",children:"No results found."})})})]})}),p>1&&n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"text-sm text-muted-foreground",children:["Showing ",(u-1)*m+1," to ",Math.min(u*m,x.length)," of ",x.length," results"]}),n.jsxs("div",{className:"flex space-x-2",children:[n.jsx(J,{variant:"outline",size:"sm",onClick:()=>f(j=>Math.max(j-1,1)),disabled:u===1,children:"Previous"}),n.jsx(J,{variant:"outline",size:"sm",onClick:()=>f(j=>Math.min(j+1,p)),disabled:u===p,children:"Next"})]})]})]})})]})}function aOe(){const[e,t]=C.useState([]),[r,s]=C.useState([]),[a,i]=C.useState(!1),[o,l]=C.useState(null),{leads:c,salesReps:d}=io(),{vehicles:h}=cd(),{tickets:u}=z8(),{invoices:f,payments:m}=uB(),v=async j=>{i(!0),l(j);try{const E=new Date(j.dateRange.startDate),S=new Date(j.dateRange.endDate);let N=[],w=[];switch(j.type){case Mr.SALES:N=x(E,S,j.filters),w=[{key:"id",label:"ID"},{key:"customerName",label:"Customer"},{key:"date",label:"Date",type:"date"},{key:"product",label:"Product"},{key:"salesRep",label:"Sales Rep"},{key:"amount",label:"Amount",type:"currency"},{key:"status",label:"Status"}];break;case Mr.INVENTORY:N=p(j.filters),w=[{key:"id",label:"ID"},{key:"vin",label:"VIN"},{key:"make",label:"Make"},{key:"model",label:"Model"},{key:"year",label:"Year",type:"number"},{key:"type",label:"Type"},{key:"status",label:"Status"},{key:"price",label:"Price",type:"currency"},{key:"cost",label:"Cost",type:"currency"},{key:"location",label:"Location"}];break;case Mr.SERVICE:N=g(E,S,j.filters),w=[{key:"id",label:"Ticket ID"},{key:"title",label:"Title"},{key:"customer",label:"Customer"},{key:"vehicle",label:"Vehicle"},{key:"status",label:"Status"},{key:"createdAt",label:"Created",type:"date"},{key:"completedAt",label:"Completed",type:"date"},{key:"partsTotal",label:"Parts Total",type:"currency"},{key:"laborTotal",label:"Labor Total",type:"currency"},{key:"total",label:"Total",type:"currency"}];break;case Mr.FINANCIAL:N=b(E,S,j.filters),w=[{key:"date",label:"Date",type:"date"},{key:"type",label:"Type"},{key:"reference",label:"Reference"},{key:"customer",label:"Customer"},{key:"description",label:"Description"},{key:"income",label:"Income",type:"currency"},{key:"expense",label:"Expense",type:"currency"},{key:"balance",label:"Balance",type:"currency"}];break;default:N=[],w=[]}t(N),s(w)}catch(E){console.error("Error generating report:",E)}finally{i(!1)}},x=(j,E,S)=>c.filter(w=>{const _=new Date(w.createdAt),k=_>=j&&_<=E,T=!S.salesRep||w.assignedTo===S.salesRep,A=!S.status||w.status===S.status;return k&&T&&A}).map(w=>{var k,T;const _=d.find(A=>A.id===w.assignedTo);return{id:w.id,customerName:`${w.firstName} ${w.lastName}`,date:w.createdAt,product:((k=w.customFields)==null?void 0:k.interests)||"N/A",salesRep:(_==null?void 0:_.name)||"Unassigned",amount:(T=w.customFields)!=null&&T.budget&&parseFloat(w.customFields.budget.replace(/[^0-9.]/g,""))||0,status:w.status}}),p=j=>h.filter(S=>{const N=!j.location||S.location.toLowerCase().includes(j.location.toLowerCase()),w=!j.status||S.status===j.status;return N&&w}).map(S=>({id:S.id,vin:S.vin,make:S.make,model:S.model,year:S.year,type:S.type,status:S.status,price:S.price,cost:S.cost,location:S.location})),g=(j,E,S)=>u.filter(w=>{const _=new Date(w.createdAt),k=_>=j&&_<=E,T=!S.status||w.status===S.status;return k&&T}).map(w=>{const _=w.parts.reduce((T,A)=>T+A.total,0),k=w.labor.reduce((T,A)=>T+A.total,0);return{id:w.id,title:w.title,customer:w.customerId,vehicle:w.vehicleId||"N/A",status:w.status,createdAt:w.createdAt,completedAt:w.completedDate,partsTotal:_,laborTotal:k,total:_+k}}),b=(j,E,S)=>{const N=[];return f.forEach(w=>{const _=new Date(w.createdAt);_>=j&&_<=E&&N.push({date:w.createdAt,type:"Invoice",reference:w.number,customer:w.customerId,description:`Invoice #${w.number}`,income:w.total,expense:0,balance:w.total})}),m.forEach(w=>{var k;const _=new Date(w.processedDate);_>=j&&_<=E&&N.push({date:w.processedDate,type:"Payment",reference:w.id,customer:((k=f.find(T=>T.id===w.invoiceId))==null?void 0:k.customerId)||"Unknown",description:`Payment for Invoice #${w.invoiceId}`,income:0,expense:w.amount,balance:-w.amount})}),N.sort((w,_)=>new Date(w.date).getTime()-new Date(_.date).getTime())};return{reportData:e,reportColumns:r,loading:a,currentReportConfig:o,generateReport:v,exportToCSV:()=>{if(!e.length||!r.length)return;const j=r.map(k=>k.label),E=e.map(k=>r.map(T=>{const A=k[T.key];switch(T.type){case"currency":return typeof A=="number"?A.toFixed(2):A;case"date":return A instanceof Date?A.toISOString().split("T")[0]:A;default:return A}})),S=Nf.unparse({fields:j,data:E}),N=new Blob([S],{type:"text/csv;charset=utf-8;"}),w=URL.createObjectURL(N),_=document.createElement("a");_.href=w,_.setAttribute("download",`${(o==null?void 0:o.name)||"report"}.csv`),document.body.appendChild(_),_.click(),document.body.removeChild(_)}}}function iOe(){const{toast:e}=At(),[t,r]=C.useState("30d"),[s,a]=C.useState(!1),[i,o]=C.useState("overview"),[l,c]=C.useState([{metric:"Total Leads",value:"2,651",change:"+4.75%",changePercent:"4.75%",category:"leads",trend:"up"},{metric:"Qualified Leads",value:"892",change:"+12.3%",changePercent:"12.3%",category:"leads",trend:"up"},{metric:"Conversion Rate",value:"24.5%",change:"-1.2%",changePercent:"1.2%",category:"leads",trend:"down"},{metric:"Avg Response Time",value:"3.2 hrs",change:"-0.8 hrs",changePercent:"20%",category:"leads",trend:"up"},{metric:"Total Revenue",value:"$1,245,890",change:"+8.3%",changePercent:"8.3%",category:"sales",trend:"up"},{metric:"Units Sold",value:"87",change:"+12.4%",changePercent:"12.4%",category:"sales",trend:"up"},{metric:"Avg Deal Size",value:"$14,320",change:"-2.1%",changePercent:"2.1%",category:"sales",trend:"down"},{metric:"Gross Profit Margin",value:"22.4%",change:"+1.5%",changePercent:"1.5%",category:"sales",trend:"up"}]),[d,h]=C.useState([{name:"Website",value:1245},{name:"Referral",value:654},{name:"Social Media",value:432},{name:"Trade Show",value:320}]),[u,f]=C.useState([{name:"Motorhomes",value:52e4},{name:"Travel Trailers",value:38e4},{name:"Fifth Wheels",value:245e3},{name:"Toy Haulers",value:1e5}]),m=async()=>{a(!0);try{await new Promise(p=>setTimeout(p,1500)),e({title:"Dashboard Refreshed",description:"Latest data has been loaded."})}catch{e({title:"Error",description:"Failed to refresh dashboard data.",variant:"destructive"})}finally{a(!1)}},v=()=>{e({title:"Export Started",description:"Your dashboard report is being prepared for download."}),setTimeout(()=>{e({title:"Export Complete",description:"Your dashboard report has been downloaded."})},2e3)},x=p=>{r(p),a(!0),setTimeout(()=>{a(!1)},1e3)};return n.jsx("div",{className:"space-y-6",children:n.jsxs(de,{className:"shadow-sm",children:[n.jsx(ye,{children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsxs(be,{className:"flex items-center",children:[n.jsx(Bn,{className:"h-5 w-5 mr-2 text-primary"}),"Dashboard Report"]}),n.jsx($e,{children:"Key performance indicators and business metrics"})]}),n.jsxs("div",{className:"flex space-x-2",children:[n.jsxs(Ve,{value:t,onValueChange:x,children:[n.jsxs(ze,{className:"w-[150px]",children:[n.jsx(Lr,{className:"h-4 w-4 mr-2"}),n.jsx(qe,{})]}),n.jsxs(Ue,{children:[n.jsx(K,{value:"7d",children:"Last 7 Days"}),n.jsx(K,{value:"30d",children:"Last 30 Days"}),n.jsx(K,{value:"90d",children:"Last 90 Days"}),n.jsx(K,{value:"ytd",children:"Year to Date"}),n.jsx(K,{value:"1y",children:"Last Year"})]})]}),n.jsxs(J,{variant:"outline",size:"sm",onClick:m,disabled:s,children:[s?n.jsx(bf,{className:"h-4 w-4 mr-2 animate-spin"}):n.jsx(bf,{className:"h-4 w-4 mr-2"}),"Refresh"]}),n.jsxs(J,{variant:"outline",size:"sm",onClick:v,children:[n.jsx(wa,{className:"h-4 w-4 mr-2"}),"Export"]})]})]})}),n.jsx(ue,{children:n.jsxs(xr,{value:i,onValueChange:o,className:"space-y-4",children:[n.jsxs(fr,{className:"grid w-full grid-cols-3",children:[n.jsx(Qe,{value:"overview",children:"Overview"}),n.jsx(Qe,{value:"leads",children:"Leads & Marketing"}),n.jsx(Qe,{value:"sales",children:"Sales & Revenue"})]}),n.jsxs(et,{value:"overview",className:"space-y-4",children:[n.jsx("div",{className:"grid gap-4 md:grid-cols-4",children:l.filter(p=>p.category==="leads"||p.category==="sales").slice(0,4).map((p,g)=>n.jsx(de,{className:"shadow-sm",children:n.jsxs(ue,{className:"p-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:p.metric}),p.trend==="up"?n.jsx(_t,{className:"h-4 w-4 text-green-500"}):n.jsx(rf,{className:"h-4 w-4 text-red-500"})]}),n.jsxs("div",{className:"mt-2",children:[n.jsx("p",{className:"text-2xl font-bold",children:p.value}),n.jsxs("p",{className:He("text-xs",p.trend==="up"?"text-green-600":"text-red-600"),children:[p.change," from last period"]})]})]})},g))}),n.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[n.jsxs(de,{className:"shadow-sm",children:[n.jsxs(ye,{children:[n.jsx(be,{children:"Leads by Source"}),n.jsx($e,{children:"Distribution of leads across different sources"})]}),n.jsx(ue,{className:"h-64",children:n.jsx(rv,{width:"100%",height:"100%",children:n.jsxs(zU,{data:d,children:[n.jsx(qo,{dataKey:"name",tick:{fontSize:10}}),n.jsx(Wo,{tickFormatter:p=>p.toLocaleString(),tick:{fontSize:10}}),n.jsx(ha,{formatter:p=>p.toLocaleString()}),n.jsx(vd,{dataKey:"value",fill:"#8884d8"})]})})})]}),n.jsxs(de,{className:"shadow-sm",children:[n.jsxs(ye,{children:[n.jsx(be,{children:"Sales by Product Category"}),n.jsx($e,{children:"Revenue generated by different product categories"})]}),n.jsx(ue,{className:"h-64",children:n.jsx(rv,{width:"100%",height:"100%",children:n.jsxs(UU,{data:u,children:[n.jsx(qo,{dataKey:"name",tick:{fontSize:10}}),n.jsx(Wo,{tickFormatter:p=>_e(p),tick:{fontSize:10}}),n.jsx(ha,{formatter:p=>_e(p)}),n.jsx(Gl,{type:"monotone",dataKey:"value",stroke:"#82ca9d",fill:"#82ca9d"})]})})})]})]})]}),n.jsxs(et,{value:"leads",className:"space-y-4",children:[n.jsx("div",{className:"grid gap-4 md:grid-cols-4",children:l.filter(p=>p.category==="leads").map((p,g)=>n.jsx(de,{className:"shadow-sm",children:n.jsxs(ue,{className:"p-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:p.metric}),p.trend==="up"?n.jsx(_t,{className:"h-4 w-4 text-green-500"}):n.jsx(rf,{className:"h-4 w-4 text-red-500"})]}),n.jsxs("div",{className:"mt-2",children:[n.jsx("p",{className:"text-2xl font-bold",children:p.value}),n.jsxs("p",{className:He("text-xs",p.trend==="up"?"text-green-600":"text-red-600"),children:[p.change," from last period"]})]})]})},g))}),n.jsxs(de,{className:"shadow-sm",children:[n.jsxs(ye,{children:[n.jsx(be,{children:"Lead Conversion Funnel"}),n.jsx($e,{children:"Visual representation of lead progression"})]}),n.jsx(ue,{children:n.jsx("div",{className:"h-64 flex items-center justify-center bg-muted/20 rounded-md",children:n.jsx("p",{className:"text-muted-foreground",children:"Funnel Chart Placeholder"})})})]})]}),n.jsxs(et,{value:"sales",className:"space-y-4",children:[n.jsx("div",{className:"grid gap-4 md:grid-cols-4",children:l.filter(p=>p.category==="sales").map((p,g)=>n.jsx(de,{className:"shadow-sm",children:n.jsxs(ue,{className:"p-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:p.metric}),p.trend==="up"?n.jsx(_t,{className:"h-4 w-4 text-green-500"}):n.jsx(rf,{className:"h-4 w-4 text-red-500"})]}),n.jsxs("div",{className:"mt-2",children:[n.jsx("p",{className:"text-2xl font-bold",children:p.value}),n.jsxs("p",{className:He("text-xs",p.trend==="up"?"text-green-600":"text-red-600"),children:[p.change," from last period"]})]})]})},g))}),n.jsxs(de,{className:"shadow-sm",children:[n.jsxs(ye,{children:[n.jsx(be,{children:"Revenue Trend"}),n.jsx($e,{children:"Monthly revenue over the selected timeframe"})]}),n.jsx(ue,{children:n.jsx("div",{className:"h-64 flex items-center justify-center bg-muted/20 rounded-md",children:n.jsx("p",{className:"text-muted-foreground",children:"Revenue Trend Chart Placeholder"})})})]})]})]})})]})})}const oOe=[{id:"1",name:"Monthly Sales Report",type:Mr.SALES,module:"sales",filters:[],columns:[],data:[],generatedAt:new Date("2024-01-20"),generatedBy:"admin"},{id:"2",name:"Inventory Valuation",type:Mr.INVENTORY,module:"inventory",filters:[],columns:[],data:[],generatedAt:new Date("2024-01-19"),generatedBy:"manager"},{id:"3",name:"Service Revenue Analysis",type:Mr.SERVICE,module:"service",filters:[],columns:[],data:[],generatedAt:new Date("2024-01-18"),generatedBy:"admin"}],uL=[{id:"sales-summary",name:"Sales Summary",description:"Overview of sales performance and metrics",type:Mr.SALES,icon:It,color:"from-green-50 to-green-100/50"},{id:"inventory-report",name:"Inventory Report",description:"Current inventory levels and valuation",type:Mr.INVENTORY,icon:Vs,color:"from-blue-50 to-blue-100/50"},{id:"customer-analysis",name:"Customer Analysis",description:"Customer demographics and behavior insights",type:Mr.CUSTOM,icon:On,color:"from-purple-50 to-purple-100/50"},{id:"financial-overview",name:"Financial Overview",description:"Revenue, expenses, and profitability analysis",type:Mr.FINANCIAL,icon:_t,color:"from-orange-50 to-orange-100/50"}];function hL(){const[e,t]=C.useState(oOe),{reportData:r,reportColumns:s,loading:a,currentReportConfig:i,generateReport:o,exportToCSV:l}=aOe(),[c,d]=C.useState("dashboard"),h=m=>{switch(m){case Mr.SALES:return"bg-green-50 text-green-700 border-green-200";case Mr.INVENTORY:return"bg-blue-50 text-blue-700 border-blue-200";case Mr.SERVICE:return"bg-purple-50 text-purple-700 border-purple-200";case Mr.FINANCIAL:return"bg-orange-50 text-orange-700 border-orange-200";case Mr.CUSTOM:return"bg-gray-50 text-gray-700 border-gray-200";default:return"bg-gray-50 text-gray-700 border-gray-200"}},u=m=>{o(m)},f=()=>{l()};return n.jsxs("div",{className:"space-y-8",children:[n.jsx("div",{className:"ri-page-header",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"ri-page-title",children:"Reporting Suite"}),n.jsx("p",{className:"ri-page-description",children:"Generate insights and analytics for your dealership"})]}),n.jsxs(J,{className:"shadow-sm",children:[n.jsx(Nt,{className:"h-4 w-4 mr-2"}),"Create Report"]})]})}),n.jsxs("div",{className:"ri-stats-grid",children:[n.jsxs(de,{className:"shadow-sm border-0 bg-gradient-to-br from-blue-50 to-blue-100/50",children:[n.jsxs(ye,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(be,{className:"text-sm font-medium text-blue-900",children:"Total Reports"}),n.jsx(Bn,{className:"h-4 w-4 text-blue-600"})]}),n.jsxs(ue,{children:[n.jsx("div",{className:"text-2xl font-bold text-blue-900",children:e.length}),n.jsxs("p",{className:"text-xs text-blue-600 flex items-center mt-1",children:[n.jsx(_t,{className:"h-3 w-3 mr-1"}),"All reports"]})]})]}),n.jsxs(de,{className:"shadow-sm border-0 bg-gradient-to-br from-green-50 to-green-100/50",children:[n.jsxs(ye,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(be,{className:"text-sm font-medium text-green-900",children:"This Month"}),n.jsx(Bn,{className:"h-4 w-4 text-green-600"})]}),n.jsxs(ue,{children:[n.jsx("div",{className:"text-2xl font-bold text-green-900",children:e.filter(m=>m.generatedAt.getMonth()===new Date().getMonth()).length}),n.jsxs("p",{className:"text-xs text-green-600 flex items-center mt-1",children:[n.jsx(_t,{className:"h-3 w-3 mr-1"}),"Generated this month"]})]})]}),n.jsxs(de,{className:"shadow-sm border-0 bg-gradient-to-br from-purple-50 to-purple-100/50",children:[n.jsxs(ye,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(be,{className:"text-sm font-medium text-purple-900",children:"Scheduled"}),n.jsx(Bn,{className:"h-4 w-4 text-purple-600"})]}),n.jsxs(ue,{children:[n.jsx("div",{className:"text-2xl font-bold text-purple-900",children:"5"}),n.jsxs("p",{className:"text-xs text-purple-600 flex items-center mt-1",children:[n.jsx(Bn,{className:"h-3 w-3 mr-1"}),"Automated reports"]})]})]}),n.jsxs(de,{className:"shadow-sm border-0 bg-gradient-to-br from-orange-50 to-orange-100/50",children:[n.jsxs(ye,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(be,{className:"text-sm font-medium text-orange-900",children:"Templates"}),n.jsx(Bn,{className:"h-4 w-4 text-orange-600"})]}),n.jsxs(ue,{children:[n.jsx("div",{className:"text-2xl font-bold text-orange-900",children:uL.length}),n.jsxs("p",{className:"text-xs text-orange-600 flex items-center mt-1",children:[n.jsx(Bn,{className:"h-3 w-3 mr-1"}),"Available templates"]})]})]})]}),n.jsxs(xr,{value:c,onValueChange:d,className:"space-y-6",children:[n.jsxs(fr,{className:"grid w-full grid-cols-3",children:[n.jsx(Qe,{value:"dashboard",children:"Dashboard"}),n.jsx(Qe,{value:"generator",children:"Report Generator"}),n.jsx(Qe,{value:"saved",children:"Saved Reports"})]}),n.jsx(et,{value:"dashboard",children:n.jsx(iOe,{})}),n.jsxs(et,{value:"generator",children:[n.jsxs(de,{className:"shadow-sm",children:[n.jsxs(ye,{children:[n.jsx(be,{className:"text-xl",children:"Report Templates"}),n.jsx($e,{children:"Quick start templates for common reports"})]}),n.jsx(ue,{children:n.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:uL.map(m=>n.jsx(de,{className:He("overflow-hidden shadow-sm hover:shadow-md transition-shadow cursor-pointer border-0 bg-gradient-to-br",m.color),children:n.jsxs(ue,{className:"p-6",children:[n.jsxs("div",{className:"flex items-center space-x-3 mb-3",children:[n.jsx(m.icon,{className:"h-8 w-8 text-primary"}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold text-foreground",children:m.name}),n.jsx(Re,{className:He("ri-badge-status mt-1",h(m.type)),children:m.type.toUpperCase()})]})]}),n.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:m.description}),n.jsx(J,{size:"sm",className:"w-full shadow-sm",children:"Generate Report"})]})},m.id))})})]}),n.jsx(tOe,{onGenerate:u,onExportCSV:f,isGenerating:a,hasData:r.length>0}),r.length>0&&i&&n.jsx(sOe,{reportType:i.type,reportName:i.name,data:r,columns:s,onExportCSV:f})]}),n.jsx(et,{value:"saved",children:e.length>0&&n.jsxs(de,{className:"shadow-sm",children:[n.jsxs(ye,{children:[n.jsx(be,{className:"text-xl",children:"Saved Reports"}),n.jsx($e,{children:"Previously generated reports"})]}),n.jsx(ue,{children:n.jsx("div",{className:"text-center py-8 text-muted-foreground",children:n.jsx("p",{children:"Select a report template above to generate a new report"})})})]})})]})]})}function lOe(){return n.jsxs(Ps,{children:[n.jsx(Ft,{path:"/",element:n.jsx(hL,{})}),n.jsx(Ft,{path:"/*",element:n.jsx(hL,{})})]})}function cOe(){return n.jsx(wY,{defaultTheme:"light",storageKey:"renter-insight-theme",children:n.jsx(xY,{children:n.jsx(wG,{children:n.jsx(yY,{children:n.jsxs("div",{className:"min-h-screen bg-background",children:[n.jsxs(Ps,{children:[n.jsx(Ft,{path:"/login",element:n.jsx(KZ,{})}),n.jsx(Ft,{path:"/*",element:n.jsx(YZ,{children:n.jsx(EY,{children:n.jsxs(Ps,{children:[n.jsx(Ft,{path:"/",element:n.jsx(GZ,{})}),n.jsx(Ft,{path:"/crm/*",element:n.jsx(Zee,{})}),n.jsx(Ft,{path:"/inventory/*",element:n.jsx(nre,{})}),n.jsx(Ft,{path:"/deals/*",element:n.jsx(rle,{})}),n.jsx(Ft,{path:"/finance/*",element:n.jsx(ure,{})}),n.jsx(Ft,{path:"/quotes/*",element:n.jsx(ire,{})}),n.jsx(Ft,{path:"/agreements/*",element:n.jsx(sle,{})}),n.jsx(Ft,{path:"/service/*",element:n.jsx(hce,{})}),n.jsx(Ft,{path:"/pdi/*",element:n.jsx(Pce,{})}),n.jsx(Ft,{path:"/delivery/*",element:n.jsx(bce,{})}),n.jsx(Ft,{path:"/commissions/*",element:n.jsx(Rce,{})}),n.jsx(Ft,{path:"/portal/*",element:n.jsx(zce,{})}),n.jsx(Ft,{path:"/invoices/*",element:n.jsx(Hce,{})}),n.jsx(Ft,{path:"/settings/*",element:n.jsx(Zce,{})}),n.jsx(Ft,{path:"/admin/*",element:n.jsx(eOe,{})}),n.jsx(Ft,{path:"/reports/*",element:n.jsx(lOe,{})})]})})})})]}),n.jsx(gY,{})]})})})})})}UN.createRoot(document.getElementById("root")).render(n.jsx(cOe,{}));export{pre as _,Un as c,Cr as g};
