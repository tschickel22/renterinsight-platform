function i1(e,n){for(var s=0;s<n.length;s++){const r=n[s];if(typeof r!="string"&&!Array.isArray(r)){for(const a in r)if(a!=="default"&&!(a in e)){const i=Object.getOwnPropertyDescriptor(r,a);i&&Object.defineProperty(e,a,i.get?i:{enumerable:!0,get:()=>r[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const l of i.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function s(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(a){if(a.ep)return;a.ep=!0;const i=s(a);fetch(a.href,i)}})();var l1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function El(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Bv={exports:{}},Vc={},Vv={exports:{}},$e={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Il=Symbol.for("react.element"),o1=Symbol.for("react.portal"),c1=Symbol.for("react.fragment"),d1=Symbol.for("react.strict_mode"),u1=Symbol.for("react.profiler"),m1=Symbol.for("react.provider"),p1=Symbol.for("react.context"),f1=Symbol.for("react.forward_ref"),h1=Symbol.for("react.suspense"),x1=Symbol.for("react.memo"),g1=Symbol.for("react.lazy"),jh=Symbol.iterator;function v1(e){return e===null||typeof e!="object"?null:(e=jh&&e[jh]||e["@@iterator"],typeof e=="function"?e:null)}var zv={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Uv=Object.assign,Wv={};function si(e,n,s){this.props=e,this.context=n,this.refs=Wv,this.updater=s||zv}si.prototype.isReactComponent={};si.prototype.setState=function(e,n){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,n,"setState")};si.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Hv(){}Hv.prototype=si.prototype;function hp(e,n,s){this.props=e,this.context=n,this.refs=Wv,this.updater=s||zv}var xp=hp.prototype=new Hv;xp.constructor=hp;Uv(xp,si.prototype);xp.isPureReactComponent=!0;var yh=Array.isArray,Gv=Object.prototype.hasOwnProperty,gp={current:null},qv={key:!0,ref:!0,__self:!0,__source:!0};function Qv(e,n,s){var r,a={},i=null,l=null;if(n!=null)for(r in n.ref!==void 0&&(l=n.ref),n.key!==void 0&&(i=""+n.key),n)Gv.call(n,r)&&!qv.hasOwnProperty(r)&&(a[r]=n[r]);var o=arguments.length-2;if(o===1)a.children=s;else if(1<o){for(var c=Array(o),d=0;d<o;d++)c[d]=arguments[d+2];a.children=c}if(e&&e.defaultProps)for(r in o=e.defaultProps,o)a[r]===void 0&&(a[r]=o[r]);return{$$typeof:Il,type:e,key:i,ref:l,props:a,_owner:gp.current}}function j1(e,n){return{$$typeof:Il,type:e.type,key:n,ref:e.ref,props:e.props,_owner:e._owner}}function vp(e){return typeof e=="object"&&e!==null&&e.$$typeof===Il}function y1(e){var n={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(s){return n[s]})}var bh=/\/+/g;function Vd(e,n){return typeof e=="object"&&e!==null&&e.key!=null?y1(""+e.key):n.toString(36)}function Io(e,n,s,r,a){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var l=!1;if(e===null)l=!0;else switch(i){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case Il:case o1:l=!0}}if(l)return l=e,a=a(l),e=r===""?"."+Vd(l,0):r,yh(a)?(s="",e!=null&&(s=e.replace(bh,"$&/")+"/"),Io(a,n,s,"",function(d){return d})):a!=null&&(vp(a)&&(a=j1(a,s+(!a.key||l&&l.key===a.key?"":(""+a.key).replace(bh,"$&/")+"/")+e)),n.push(a)),1;if(l=0,r=r===""?".":r+":",yh(e))for(var o=0;o<e.length;o++){i=e[o];var c=r+Vd(i,o);l+=Io(i,n,s,c,a)}else if(c=v1(e),typeof c=="function")for(e=c.call(e),o=0;!(i=e.next()).done;)i=i.value,c=r+Vd(i,o++),l+=Io(i,n,s,c,a);else if(i==="object")throw n=String(e),Error("Objects are not valid as a React child (found: "+(n==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":n)+"). If you meant to render a collection of children, use an array instead.");return l}function Ql(e,n,s){if(e==null)return e;var r=[],a=0;return Io(e,r,"","",function(i){return n.call(s,i,a++)}),r}function b1(e){if(e._status===-1){var n=e._result;n=n(),n.then(function(s){(e._status===0||e._status===-1)&&(e._status=1,e._result=s)},function(s){(e._status===0||e._status===-1)&&(e._status=2,e._result=s)}),e._status===-1&&(e._status=0,e._result=n)}if(e._status===1)return e._result.default;throw e._result}var sn={current:null},Do={transition:null},w1={ReactCurrentDispatcher:sn,ReactCurrentBatchConfig:Do,ReactCurrentOwner:gp};function Kv(){throw Error("act(...) is not supported in production builds of React.")}$e.Children={map:Ql,forEach:function(e,n,s){Ql(e,function(){n.apply(this,arguments)},s)},count:function(e){var n=0;return Ql(e,function(){n++}),n},toArray:function(e){return Ql(e,function(n){return n})||[]},only:function(e){if(!vp(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};$e.Component=si;$e.Fragment=c1;$e.Profiler=u1;$e.PureComponent=hp;$e.StrictMode=d1;$e.Suspense=h1;$e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=w1;$e.act=Kv;$e.cloneElement=function(e,n,s){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=Uv({},e.props),a=e.key,i=e.ref,l=e._owner;if(n!=null){if(n.ref!==void 0&&(i=n.ref,l=gp.current),n.key!==void 0&&(a=""+n.key),e.type&&e.type.defaultProps)var o=e.type.defaultProps;for(c in n)Gv.call(n,c)&&!qv.hasOwnProperty(c)&&(r[c]=n[c]===void 0&&o!==void 0?o[c]:n[c])}var c=arguments.length-2;if(c===1)r.children=s;else if(1<c){o=Array(c);for(var d=0;d<c;d++)o[d]=arguments[d+2];r.children=o}return{$$typeof:Il,type:e.type,key:a,ref:i,props:r,_owner:l}};$e.createContext=function(e){return e={$$typeof:p1,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:m1,_context:e},e.Consumer=e};$e.createElement=Qv;$e.createFactory=function(e){var n=Qv.bind(null,e);return n.type=e,n};$e.createRef=function(){return{current:null}};$e.forwardRef=function(e){return{$$typeof:f1,render:e}};$e.isValidElement=vp;$e.lazy=function(e){return{$$typeof:g1,_payload:{_status:-1,_result:e},_init:b1}};$e.memo=function(e,n){return{$$typeof:x1,type:e,compare:n===void 0?null:n}};$e.startTransition=function(e){var n=Do.transition;Do.transition={};try{e()}finally{Do.transition=n}};$e.unstable_act=Kv;$e.useCallback=function(e,n){return sn.current.useCallback(e,n)};$e.useContext=function(e){return sn.current.useContext(e)};$e.useDebugValue=function(){};$e.useDeferredValue=function(e){return sn.current.useDeferredValue(e)};$e.useEffect=function(e,n){return sn.current.useEffect(e,n)};$e.useId=function(){return sn.current.useId()};$e.useImperativeHandle=function(e,n,s){return sn.current.useImperativeHandle(e,n,s)};$e.useInsertionEffect=function(e,n){return sn.current.useInsertionEffect(e,n)};$e.useLayoutEffect=function(e,n){return sn.current.useLayoutEffect(e,n)};$e.useMemo=function(e,n){return sn.current.useMemo(e,n)};$e.useReducer=function(e,n,s){return sn.current.useReducer(e,n,s)};$e.useRef=function(e){return sn.current.useRef(e)};$e.useState=function(e){return sn.current.useState(e)};$e.useSyncExternalStore=function(e,n,s){return sn.current.useSyncExternalStore(e,n,s)};$e.useTransition=function(){return sn.current.useTransition()};$e.version="18.3.1";Vv.exports=$e;var f=Vv.exports;const Le=El(f),zc=i1({__proto__:null,default:Le},[f]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var N1=f,S1=Symbol.for("react.element"),C1=Symbol.for("react.fragment"),E1=Object.prototype.hasOwnProperty,I1=N1.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,D1={key:!0,ref:!0,__self:!0,__source:!0};function Yv(e,n,s){var r,a={},i=null,l=null;s!==void 0&&(i=""+s),n.key!==void 0&&(i=""+n.key),n.ref!==void 0&&(l=n.ref);for(r in n)E1.call(n,r)&&!D1.hasOwnProperty(r)&&(a[r]=n[r]);if(e&&e.defaultProps)for(r in n=e.defaultProps,n)a[r]===void 0&&(a[r]=n[r]);return{$$typeof:S1,type:e,key:i,ref:l,props:a,_owner:I1.current}}Vc.Fragment=C1;Vc.jsx=Yv;Vc.jsxs=Yv;Bv.exports=Vc;var t=Bv.exports,Hu={},Xv={exports:{}},En={},Jv={exports:{}},Zv={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function n(R,M){var F=R.length;R.push(M);e:for(;0<F;){var B=F-1>>>1,z=R[B];if(0<a(z,M))R[B]=M,R[F]=z,F=B;else break e}}function s(R){return R.length===0?null:R[0]}function r(R){if(R.length===0)return null;var M=R[0],F=R.pop();if(F!==M){R[0]=F;e:for(var B=0,z=R.length,H=z>>>1;B<H;){var K=2*(B+1)-1,se=R[K],te=K+1,le=R[te];if(0>a(se,F))te<z&&0>a(le,se)?(R[B]=le,R[te]=F,B=te):(R[B]=se,R[K]=F,B=K);else if(te<z&&0>a(le,F))R[B]=le,R[te]=F,B=te;else break e}}return M}function a(R,M){var F=R.sortIndex-M.sortIndex;return F!==0?F:R.id-M.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var l=Date,o=l.now();e.unstable_now=function(){return l.now()-o}}var c=[],d=[],m=1,u=null,p=3,h=!1,v=!1,j=!1,y=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(R){for(var M=s(d);M!==null;){if(M.callback===null)r(d);else if(M.startTime<=R)r(d),M.sortIndex=M.expirationTime,n(c,M);else break;M=s(d)}}function T(R){if(j=!1,b(R),!v)if(s(c)!==null)v=!0,V(L);else{var M=s(d);M!==null&&P(T,M.startTime-R)}}function L(R,M){v=!1,j&&(j=!1,g(w),w=-1),h=!0;var F=p;try{for(b(M),u=s(c);u!==null&&(!(u.expirationTime>M)||R&&!E());){var B=u.callback;if(typeof B=="function"){u.callback=null,p=u.priorityLevel;var z=B(u.expirationTime<=M);M=e.unstable_now(),typeof z=="function"?u.callback=z:u===s(c)&&r(c),b(M)}else r(c);u=s(c)}if(u!==null)var H=!0;else{var K=s(d);K!==null&&P(T,K.startTime-M),H=!1}return H}finally{u=null,p=F,h=!1}}var k=!1,I=null,w=-1,S=5,C=-1;function E(){return!(e.unstable_now()-C<S)}function N(){if(I!==null){var R=e.unstable_now();C=R;var M=!0;try{M=I(!0,R)}finally{M?D():(k=!1,I=null)}}else k=!1}var D;if(typeof x=="function")D=function(){x(N)};else if(typeof MessageChannel<"u"){var A=new MessageChannel,_=A.port2;A.port1.onmessage=N,D=function(){_.postMessage(null)}}else D=function(){y(N,0)};function V(R){I=R,k||(k=!0,D())}function P(R,M){w=y(function(){R(e.unstable_now())},M)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(R){R.callback=null},e.unstable_continueExecution=function(){v||h||(v=!0,V(L))},e.unstable_forceFrameRate=function(R){0>R||125<R?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<R?Math.floor(1e3/R):5},e.unstable_getCurrentPriorityLevel=function(){return p},e.unstable_getFirstCallbackNode=function(){return s(c)},e.unstable_next=function(R){switch(p){case 1:case 2:case 3:var M=3;break;default:M=p}var F=p;p=M;try{return R()}finally{p=F}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(R,M){switch(R){case 1:case 2:case 3:case 4:case 5:break;default:R=3}var F=p;p=R;try{return M()}finally{p=F}},e.unstable_scheduleCallback=function(R,M,F){var B=e.unstable_now();switch(typeof F=="object"&&F!==null?(F=F.delay,F=typeof F=="number"&&0<F?B+F:B):F=B,R){case 1:var z=-1;break;case 2:z=250;break;case 5:z=1073741823;break;case 4:z=1e4;break;default:z=5e3}return z=F+z,R={id:m++,callback:M,priorityLevel:R,startTime:F,expirationTime:z,sortIndex:-1},F>B?(R.sortIndex=F,n(d,R),s(c)===null&&R===s(d)&&(j?(g(w),w=-1):j=!0,P(T,F-B))):(R.sortIndex=z,n(c,R),v||h||(v=!0,V(L))),R},e.unstable_shouldYield=E,e.unstable_wrapCallback=function(R){var M=p;return function(){var F=p;p=M;try{return R.apply(this,arguments)}finally{p=F}}}})(Zv);Jv.exports=Zv;var A1=Jv.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var T1=f,Cn=A1;function ie(e){for(var n="https://reactjs.org/docs/error-decoder.html?invariant="+e,s=1;s<arguments.length;s++)n+="&args[]="+encodeURIComponent(arguments[s]);return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var e0=new Set,Ki={};function ra(e,n){Va(e,n),Va(e+"Capture",n)}function Va(e,n){for(Ki[e]=n,e=0;e<n.length;e++)e0.add(n[e])}var Ms=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Gu=Object.prototype.hasOwnProperty,k1=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,wh={},Nh={};function P1(e){return Gu.call(Nh,e)?!0:Gu.call(wh,e)?!1:k1.test(e)?Nh[e]=!0:(wh[e]=!0,!1)}function R1(e,n,s,r){if(s!==null&&s.type===0)return!1;switch(typeof n){case"function":case"symbol":return!0;case"boolean":return r?!1:s!==null?!s.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function L1(e,n,s,r){if(n===null||typeof n>"u"||R1(e,n,s,r))return!0;if(r)return!1;if(s!==null)switch(s.type){case 3:return!n;case 4:return n===!1;case 5:return isNaN(n);case 6:return isNaN(n)||1>n}return!1}function rn(e,n,s,r,a,i,l){this.acceptsBooleans=n===2||n===3||n===4,this.attributeName=r,this.attributeNamespace=a,this.mustUseProperty=s,this.propertyName=e,this.type=n,this.sanitizeURL=i,this.removeEmptyString=l}var Ut={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Ut[e]=new rn(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var n=e[0];Ut[n]=new rn(n,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Ut[e]=new rn(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Ut[e]=new rn(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Ut[e]=new rn(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Ut[e]=new rn(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Ut[e]=new rn(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Ut[e]=new rn(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Ut[e]=new rn(e,5,!1,e.toLowerCase(),null,!1,!1)});var jp=/[\-:]([a-z])/g;function yp(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var n=e.replace(jp,yp);Ut[n]=new rn(n,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var n=e.replace(jp,yp);Ut[n]=new rn(n,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var n=e.replace(jp,yp);Ut[n]=new rn(n,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Ut[e]=new rn(e,1,!1,e.toLowerCase(),null,!1,!1)});Ut.xlinkHref=new rn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Ut[e]=new rn(e,1,!1,e.toLowerCase(),null,!0,!0)});function bp(e,n,s,r){var a=Ut.hasOwnProperty(n)?Ut[n]:null;(a!==null?a.type!==0:r||!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(L1(n,s,a,r)&&(s=null),r||a===null?P1(n)&&(s===null?e.removeAttribute(n):e.setAttribute(n,""+s)):a.mustUseProperty?e[a.propertyName]=s===null?a.type===3?!1:"":s:(n=a.attributeName,r=a.attributeNamespace,s===null?e.removeAttribute(n):(a=a.type,s=a===3||a===4&&s===!0?"":""+s,r?e.setAttributeNS(r,n,s):e.setAttribute(n,s))))}var Hs=T1.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Kl=Symbol.for("react.element"),va=Symbol.for("react.portal"),ja=Symbol.for("react.fragment"),wp=Symbol.for("react.strict_mode"),qu=Symbol.for("react.profiler"),t0=Symbol.for("react.provider"),n0=Symbol.for("react.context"),Np=Symbol.for("react.forward_ref"),Qu=Symbol.for("react.suspense"),Ku=Symbol.for("react.suspense_list"),Sp=Symbol.for("react.memo"),Js=Symbol.for("react.lazy"),s0=Symbol.for("react.offscreen"),Sh=Symbol.iterator;function xi(e){return e===null||typeof e!="object"?null:(e=Sh&&e[Sh]||e["@@iterator"],typeof e=="function"?e:null)}var ft=Object.assign,zd;function Ti(e){if(zd===void 0)try{throw Error()}catch(s){var n=s.stack.trim().match(/\n( *(at )?)/);zd=n&&n[1]||""}return`
`+zd+e}var Ud=!1;function Wd(e,n){if(!e||Ud)return"";Ud=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(n)if(n=function(){throw Error()},Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(n,[])}catch(d){var r=d}Reflect.construct(e,[],n)}else{try{n.call()}catch(d){r=d}e.call(n.prototype)}else{try{throw Error()}catch(d){r=d}e()}}catch(d){if(d&&r&&typeof d.stack=="string"){for(var a=d.stack.split(`
`),i=r.stack.split(`
`),l=a.length-1,o=i.length-1;1<=l&&0<=o&&a[l]!==i[o];)o--;for(;1<=l&&0<=o;l--,o--)if(a[l]!==i[o]){if(l!==1||o!==1)do if(l--,o--,0>o||a[l]!==i[o]){var c=`
`+a[l].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=l&&0<=o);break}}}finally{Ud=!1,Error.prepareStackTrace=s}return(e=e?e.displayName||e.name:"")?Ti(e):""}function F1(e){switch(e.tag){case 5:return Ti(e.type);case 16:return Ti("Lazy");case 13:return Ti("Suspense");case 19:return Ti("SuspenseList");case 0:case 2:case 15:return e=Wd(e.type,!1),e;case 11:return e=Wd(e.type.render,!1),e;case 1:return e=Wd(e.type,!0),e;default:return""}}function Yu(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case ja:return"Fragment";case va:return"Portal";case qu:return"Profiler";case wp:return"StrictMode";case Qu:return"Suspense";case Ku:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case n0:return(e.displayName||"Context")+".Consumer";case t0:return(e._context.displayName||"Context")+".Provider";case Np:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Sp:return n=e.displayName||null,n!==null?n:Yu(e.type)||"Memo";case Js:n=e._payload,e=e._init;try{return Yu(e(n))}catch{}}return null}function O1(e){var n=e.type;switch(e.tag){case 24:return"Cache";case 9:return(n.displayName||"Context")+".Consumer";case 10:return(n._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=n.render,e=e.displayName||e.name||"",n.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return n;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Yu(n);case 8:return n===wp?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n}return null}function vr(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function r0(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function M1(e){var n=r0(e)?"checked":"value",s=Object.getOwnPropertyDescriptor(e.constructor.prototype,n),r=""+e[n];if(!e.hasOwnProperty(n)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var a=s.get,i=s.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return a.call(this)},set:function(l){r=""+l,i.call(this,l)}}),Object.defineProperty(e,n,{enumerable:s.enumerable}),{getValue:function(){return r},setValue:function(l){r=""+l},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function Yl(e){e._valueTracker||(e._valueTracker=M1(e))}function a0(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var s=n.getValue(),r="";return e&&(r=r0(e)?e.checked?"true":"false":e.value),e=r,e!==s?(n.setValue(e),!0):!1}function Ko(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Xu(e,n){var s=n.checked;return ft({},n,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:s??e._wrapperState.initialChecked})}function Ch(e,n){var s=n.defaultValue==null?"":n.defaultValue,r=n.checked!=null?n.checked:n.defaultChecked;s=vr(n.value!=null?n.value:s),e._wrapperState={initialChecked:r,initialValue:s,controlled:n.type==="checkbox"||n.type==="radio"?n.checked!=null:n.value!=null}}function i0(e,n){n=n.checked,n!=null&&bp(e,"checked",n,!1)}function Ju(e,n){i0(e,n);var s=vr(n.value),r=n.type;if(s!=null)r==="number"?(s===0&&e.value===""||e.value!=s)&&(e.value=""+s):e.value!==""+s&&(e.value=""+s);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}n.hasOwnProperty("value")?Zu(e,n.type,s):n.hasOwnProperty("defaultValue")&&Zu(e,n.type,vr(n.defaultValue)),n.checked==null&&n.defaultChecked!=null&&(e.defaultChecked=!!n.defaultChecked)}function Eh(e,n,s){if(n.hasOwnProperty("value")||n.hasOwnProperty("defaultValue")){var r=n.type;if(!(r!=="submit"&&r!=="reset"||n.value!==void 0&&n.value!==null))return;n=""+e._wrapperState.initialValue,s||n===e.value||(e.value=n),e.defaultValue=n}s=e.name,s!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,s!==""&&(e.name=s)}function Zu(e,n,s){(n!=="number"||Ko(e.ownerDocument)!==e)&&(s==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+s&&(e.defaultValue=""+s))}var ki=Array.isArray;function ka(e,n,s,r){if(e=e.options,n){n={};for(var a=0;a<s.length;a++)n["$"+s[a]]=!0;for(s=0;s<e.length;s++)a=n.hasOwnProperty("$"+e[s].value),e[s].selected!==a&&(e[s].selected=a),a&&r&&(e[s].defaultSelected=!0)}else{for(s=""+vr(s),n=null,a=0;a<e.length;a++){if(e[a].value===s){e[a].selected=!0,r&&(e[a].defaultSelected=!0);return}n!==null||e[a].disabled||(n=e[a])}n!==null&&(n.selected=!0)}}function em(e,n){if(n.dangerouslySetInnerHTML!=null)throw Error(ie(91));return ft({},n,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Ih(e,n){var s=n.value;if(s==null){if(s=n.children,n=n.defaultValue,s!=null){if(n!=null)throw Error(ie(92));if(ki(s)){if(1<s.length)throw Error(ie(93));s=s[0]}n=s}n==null&&(n=""),s=n}e._wrapperState={initialValue:vr(s)}}function l0(e,n){var s=vr(n.value),r=vr(n.defaultValue);s!=null&&(s=""+s,s!==e.value&&(e.value=s),n.defaultValue==null&&e.defaultValue!==s&&(e.defaultValue=s)),r!=null&&(e.defaultValue=""+r)}function Dh(e){var n=e.textContent;n===e._wrapperState.initialValue&&n!==""&&n!==null&&(e.value=n)}function o0(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function tm(e,n){return e==null||e==="http://www.w3.org/1999/xhtml"?o0(n):e==="http://www.w3.org/2000/svg"&&n==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Xl,c0=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(n,s,r,a){MSApp.execUnsafeLocalFunction(function(){return e(n,s,r,a)})}:e}(function(e,n){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=n;else{for(Xl=Xl||document.createElement("div"),Xl.innerHTML="<svg>"+n.valueOf().toString()+"</svg>",n=Xl.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;n.firstChild;)e.appendChild(n.firstChild)}});function Yi(e,n){if(n){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=n;return}}e.textContent=n}var Fi={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},_1=["Webkit","ms","Moz","O"];Object.keys(Fi).forEach(function(e){_1.forEach(function(n){n=n+e.charAt(0).toUpperCase()+e.substring(1),Fi[n]=Fi[e]})});function d0(e,n,s){return n==null||typeof n=="boolean"||n===""?"":s||typeof n!="number"||n===0||Fi.hasOwnProperty(e)&&Fi[e]?(""+n).trim():n+"px"}function u0(e,n){e=e.style;for(var s in n)if(n.hasOwnProperty(s)){var r=s.indexOf("--")===0,a=d0(s,n[s],r);s==="float"&&(s="cssFloat"),r?e.setProperty(s,a):e[s]=a}}var $1=ft({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function nm(e,n){if(n){if($1[e]&&(n.children!=null||n.dangerouslySetInnerHTML!=null))throw Error(ie(137,e));if(n.dangerouslySetInnerHTML!=null){if(n.children!=null)throw Error(ie(60));if(typeof n.dangerouslySetInnerHTML!="object"||!("__html"in n.dangerouslySetInnerHTML))throw Error(ie(61))}if(n.style!=null&&typeof n.style!="object")throw Error(ie(62))}}function sm(e,n){if(e.indexOf("-")===-1)return typeof n.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var rm=null;function Cp(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var am=null,Pa=null,Ra=null;function Ah(e){if(e=Tl(e)){if(typeof am!="function")throw Error(ie(280));var n=e.stateNode;n&&(n=qc(n),am(e.stateNode,e.type,n))}}function m0(e){Pa?Ra?Ra.push(e):Ra=[e]:Pa=e}function p0(){if(Pa){var e=Pa,n=Ra;if(Ra=Pa=null,Ah(e),n)for(e=0;e<n.length;e++)Ah(n[e])}}function f0(e,n){return e(n)}function h0(){}var Hd=!1;function x0(e,n,s){if(Hd)return e(n,s);Hd=!0;try{return f0(e,n,s)}finally{Hd=!1,(Pa!==null||Ra!==null)&&(h0(),p0())}}function Xi(e,n){var s=e.stateNode;if(s===null)return null;var r=qc(s);if(r===null)return null;s=r[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error(ie(231,n,typeof s));return s}var im=!1;if(Ms)try{var gi={};Object.defineProperty(gi,"passive",{get:function(){im=!0}}),window.addEventListener("test",gi,gi),window.removeEventListener("test",gi,gi)}catch{im=!1}function B1(e,n,s,r,a,i,l,o,c){var d=Array.prototype.slice.call(arguments,3);try{n.apply(s,d)}catch(m){this.onError(m)}}var Oi=!1,Yo=null,Xo=!1,lm=null,V1={onError:function(e){Oi=!0,Yo=e}};function z1(e,n,s,r,a,i,l,o,c){Oi=!1,Yo=null,B1.apply(V1,arguments)}function U1(e,n,s,r,a,i,l,o,c){if(z1.apply(this,arguments),Oi){if(Oi){var d=Yo;Oi=!1,Yo=null}else throw Error(ie(198));Xo||(Xo=!0,lm=d)}}function aa(e){var n=e,s=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,n.flags&4098&&(s=n.return),e=n.return;while(e)}return n.tag===3?s:null}function g0(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function Th(e){if(aa(e)!==e)throw Error(ie(188))}function W1(e){var n=e.alternate;if(!n){if(n=aa(e),n===null)throw Error(ie(188));return n!==e?null:e}for(var s=e,r=n;;){var a=s.return;if(a===null)break;var i=a.alternate;if(i===null){if(r=a.return,r!==null){s=r;continue}break}if(a.child===i.child){for(i=a.child;i;){if(i===s)return Th(a),e;if(i===r)return Th(a),n;i=i.sibling}throw Error(ie(188))}if(s.return!==r.return)s=a,r=i;else{for(var l=!1,o=a.child;o;){if(o===s){l=!0,s=a,r=i;break}if(o===r){l=!0,r=a,s=i;break}o=o.sibling}if(!l){for(o=i.child;o;){if(o===s){l=!0,s=i,r=a;break}if(o===r){l=!0,r=i,s=a;break}o=o.sibling}if(!l)throw Error(ie(189))}}if(s.alternate!==r)throw Error(ie(190))}if(s.tag!==3)throw Error(ie(188));return s.stateNode.current===s?e:n}function v0(e){return e=W1(e),e!==null?j0(e):null}function j0(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var n=j0(e);if(n!==null)return n;e=e.sibling}return null}var y0=Cn.unstable_scheduleCallback,kh=Cn.unstable_cancelCallback,H1=Cn.unstable_shouldYield,G1=Cn.unstable_requestPaint,gt=Cn.unstable_now,q1=Cn.unstable_getCurrentPriorityLevel,Ep=Cn.unstable_ImmediatePriority,b0=Cn.unstable_UserBlockingPriority,Jo=Cn.unstable_NormalPriority,Q1=Cn.unstable_LowPriority,w0=Cn.unstable_IdlePriority,Uc=null,js=null;function K1(e){if(js&&typeof js.onCommitFiberRoot=="function")try{js.onCommitFiberRoot(Uc,e,void 0,(e.current.flags&128)===128)}catch{}}var ts=Math.clz32?Math.clz32:J1,Y1=Math.log,X1=Math.LN2;function J1(e){return e>>>=0,e===0?32:31-(Y1(e)/X1|0)|0}var Jl=64,Zl=4194304;function Pi(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Zo(e,n){var s=e.pendingLanes;if(s===0)return 0;var r=0,a=e.suspendedLanes,i=e.pingedLanes,l=s&268435455;if(l!==0){var o=l&~a;o!==0?r=Pi(o):(i&=l,i!==0&&(r=Pi(i)))}else l=s&~a,l!==0?r=Pi(l):i!==0&&(r=Pi(i));if(r===0)return 0;if(n!==0&&n!==r&&!(n&a)&&(a=r&-r,i=n&-n,a>=i||a===16&&(i&4194240)!==0))return n;if(r&4&&(r|=s&16),n=e.entangledLanes,n!==0)for(e=e.entanglements,n&=r;0<n;)s=31-ts(n),a=1<<s,r|=e[s],n&=~a;return r}function Z1(e,n){switch(e){case 1:case 2:case 4:return n+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function eS(e,n){for(var s=e.suspendedLanes,r=e.pingedLanes,a=e.expirationTimes,i=e.pendingLanes;0<i;){var l=31-ts(i),o=1<<l,c=a[l];c===-1?(!(o&s)||o&r)&&(a[l]=Z1(o,n)):c<=n&&(e.expiredLanes|=o),i&=~o}}function om(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function N0(){var e=Jl;return Jl<<=1,!(Jl&4194240)&&(Jl=64),e}function Gd(e){for(var n=[],s=0;31>s;s++)n.push(e);return n}function Dl(e,n,s){e.pendingLanes|=n,n!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,n=31-ts(n),e[n]=s}function tS(e,n){var s=e.pendingLanes&~n;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=n,e.mutableReadLanes&=n,e.entangledLanes&=n,n=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<s;){var a=31-ts(s),i=1<<a;n[a]=0,r[a]=-1,e[a]=-1,s&=~i}}function Ip(e,n){var s=e.entangledLanes|=n;for(e=e.entanglements;s;){var r=31-ts(s),a=1<<r;a&n|e[r]&n&&(e[r]|=n),s&=~a}}var Qe=0;function S0(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var C0,Dp,E0,I0,D0,cm=!1,eo=[],ar=null,ir=null,lr=null,Ji=new Map,Zi=new Map,er=[],nS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ph(e,n){switch(e){case"focusin":case"focusout":ar=null;break;case"dragenter":case"dragleave":ir=null;break;case"mouseover":case"mouseout":lr=null;break;case"pointerover":case"pointerout":Ji.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Zi.delete(n.pointerId)}}function vi(e,n,s,r,a,i){return e===null||e.nativeEvent!==i?(e={blockedOn:n,domEventName:s,eventSystemFlags:r,nativeEvent:i,targetContainers:[a]},n!==null&&(n=Tl(n),n!==null&&Dp(n)),e):(e.eventSystemFlags|=r,n=e.targetContainers,a!==null&&n.indexOf(a)===-1&&n.push(a),e)}function sS(e,n,s,r,a){switch(n){case"focusin":return ar=vi(ar,e,n,s,r,a),!0;case"dragenter":return ir=vi(ir,e,n,s,r,a),!0;case"mouseover":return lr=vi(lr,e,n,s,r,a),!0;case"pointerover":var i=a.pointerId;return Ji.set(i,vi(Ji.get(i)||null,e,n,s,r,a)),!0;case"gotpointercapture":return i=a.pointerId,Zi.set(i,vi(Zi.get(i)||null,e,n,s,r,a)),!0}return!1}function A0(e){var n=_r(e.target);if(n!==null){var s=aa(n);if(s!==null){if(n=s.tag,n===13){if(n=g0(s),n!==null){e.blockedOn=n,D0(e.priority,function(){E0(s)});return}}else if(n===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ao(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var s=dm(e.domEventName,e.eventSystemFlags,n[0],e.nativeEvent);if(s===null){s=e.nativeEvent;var r=new s.constructor(s.type,s);rm=r,s.target.dispatchEvent(r),rm=null}else return n=Tl(s),n!==null&&Dp(n),e.blockedOn=s,!1;n.shift()}return!0}function Rh(e,n,s){Ao(e)&&s.delete(n)}function rS(){cm=!1,ar!==null&&Ao(ar)&&(ar=null),ir!==null&&Ao(ir)&&(ir=null),lr!==null&&Ao(lr)&&(lr=null),Ji.forEach(Rh),Zi.forEach(Rh)}function ji(e,n){e.blockedOn===n&&(e.blockedOn=null,cm||(cm=!0,Cn.unstable_scheduleCallback(Cn.unstable_NormalPriority,rS)))}function el(e){function n(a){return ji(a,e)}if(0<eo.length){ji(eo[0],e);for(var s=1;s<eo.length;s++){var r=eo[s];r.blockedOn===e&&(r.blockedOn=null)}}for(ar!==null&&ji(ar,e),ir!==null&&ji(ir,e),lr!==null&&ji(lr,e),Ji.forEach(n),Zi.forEach(n),s=0;s<er.length;s++)r=er[s],r.blockedOn===e&&(r.blockedOn=null);for(;0<er.length&&(s=er[0],s.blockedOn===null);)A0(s),s.blockedOn===null&&er.shift()}var La=Hs.ReactCurrentBatchConfig,ec=!0;function aS(e,n,s,r){var a=Qe,i=La.transition;La.transition=null;try{Qe=1,Ap(e,n,s,r)}finally{Qe=a,La.transition=i}}function iS(e,n,s,r){var a=Qe,i=La.transition;La.transition=null;try{Qe=4,Ap(e,n,s,r)}finally{Qe=a,La.transition=i}}function Ap(e,n,s,r){if(ec){var a=dm(e,n,s,r);if(a===null)nu(e,n,r,tc,s),Ph(e,r);else if(sS(a,e,n,s,r))r.stopPropagation();else if(Ph(e,r),n&4&&-1<nS.indexOf(e)){for(;a!==null;){var i=Tl(a);if(i!==null&&C0(i),i=dm(e,n,s,r),i===null&&nu(e,n,r,tc,s),i===a)break;a=i}a!==null&&r.stopPropagation()}else nu(e,n,r,null,s)}}var tc=null;function dm(e,n,s,r){if(tc=null,e=Cp(r),e=_r(e),e!==null)if(n=aa(e),n===null)e=null;else if(s=n.tag,s===13){if(e=g0(n),e!==null)return e;e=null}else if(s===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null);return tc=e,null}function T0(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(q1()){case Ep:return 1;case b0:return 4;case Jo:case Q1:return 16;case w0:return 536870912;default:return 16}default:return 16}}var nr=null,Tp=null,To=null;function k0(){if(To)return To;var e,n=Tp,s=n.length,r,a="value"in nr?nr.value:nr.textContent,i=a.length;for(e=0;e<s&&n[e]===a[e];e++);var l=s-e;for(r=1;r<=l&&n[s-r]===a[i-r];r++);return To=a.slice(e,1<r?1-r:void 0)}function ko(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function to(){return!0}function Lh(){return!1}function In(e){function n(s,r,a,i,l){this._reactName=s,this._targetInst=a,this.type=r,this.nativeEvent=i,this.target=l,this.currentTarget=null;for(var o in e)e.hasOwnProperty(o)&&(s=e[o],this[o]=s?s(i):i[o]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?to:Lh,this.isPropagationStopped=Lh,this}return ft(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=to)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=to)},persist:function(){},isPersistent:to}),n}var ri={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},kp=In(ri),Al=ft({},ri,{view:0,detail:0}),lS=In(Al),qd,Qd,yi,Wc=ft({},Al,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Pp,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==yi&&(yi&&e.type==="mousemove"?(qd=e.screenX-yi.screenX,Qd=e.screenY-yi.screenY):Qd=qd=0,yi=e),qd)},movementY:function(e){return"movementY"in e?e.movementY:Qd}}),Fh=In(Wc),oS=ft({},Wc,{dataTransfer:0}),cS=In(oS),dS=ft({},Al,{relatedTarget:0}),Kd=In(dS),uS=ft({},ri,{animationName:0,elapsedTime:0,pseudoElement:0}),mS=In(uS),pS=ft({},ri,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),fS=In(pS),hS=ft({},ri,{data:0}),Oh=In(hS),xS={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},gS={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},vS={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function jS(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=vS[e])?!!n[e]:!1}function Pp(){return jS}var yS=ft({},Al,{key:function(e){if(e.key){var n=xS[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=ko(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?gS[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Pp,charCode:function(e){return e.type==="keypress"?ko(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ko(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),bS=In(yS),wS=ft({},Wc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Mh=In(wS),NS=ft({},Al,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Pp}),SS=In(NS),CS=ft({},ri,{propertyName:0,elapsedTime:0,pseudoElement:0}),ES=In(CS),IS=ft({},Wc,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),DS=In(IS),AS=[9,13,27,32],Rp=Ms&&"CompositionEvent"in window,Mi=null;Ms&&"documentMode"in document&&(Mi=document.documentMode);var TS=Ms&&"TextEvent"in window&&!Mi,P0=Ms&&(!Rp||Mi&&8<Mi&&11>=Mi),_h=String.fromCharCode(32),$h=!1;function R0(e,n){switch(e){case"keyup":return AS.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function L0(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ya=!1;function kS(e,n){switch(e){case"compositionend":return L0(n);case"keypress":return n.which!==32?null:($h=!0,_h);case"textInput":return e=n.data,e===_h&&$h?null:e;default:return null}}function PS(e,n){if(ya)return e==="compositionend"||!Rp&&R0(e,n)?(e=k0(),To=Tp=nr=null,ya=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return P0&&n.locale!=="ko"?null:n.data;default:return null}}var RS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Bh(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!RS[e.type]:n==="textarea"}function F0(e,n,s,r){m0(r),n=nc(n,"onChange"),0<n.length&&(s=new kp("onChange","change",null,s,r),e.push({event:s,listeners:n}))}var _i=null,tl=null;function LS(e){G0(e,0)}function Hc(e){var n=Na(e);if(a0(n))return e}function FS(e,n){if(e==="change")return n}var O0=!1;if(Ms){var Yd;if(Ms){var Xd="oninput"in document;if(!Xd){var Vh=document.createElement("div");Vh.setAttribute("oninput","return;"),Xd=typeof Vh.oninput=="function"}Yd=Xd}else Yd=!1;O0=Yd&&(!document.documentMode||9<document.documentMode)}function zh(){_i&&(_i.detachEvent("onpropertychange",M0),tl=_i=null)}function M0(e){if(e.propertyName==="value"&&Hc(tl)){var n=[];F0(n,tl,e,Cp(e)),x0(LS,n)}}function OS(e,n,s){e==="focusin"?(zh(),_i=n,tl=s,_i.attachEvent("onpropertychange",M0)):e==="focusout"&&zh()}function MS(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Hc(tl)}function _S(e,n){if(e==="click")return Hc(n)}function $S(e,n){if(e==="input"||e==="change")return Hc(n)}function BS(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var ss=typeof Object.is=="function"?Object.is:BS;function nl(e,n){if(ss(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var s=Object.keys(e),r=Object.keys(n);if(s.length!==r.length)return!1;for(r=0;r<s.length;r++){var a=s[r];if(!Gu.call(n,a)||!ss(e[a],n[a]))return!1}return!0}function Uh(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Wh(e,n){var s=Uh(e);e=0;for(var r;s;){if(s.nodeType===3){if(r=e+s.textContent.length,e<=n&&r>=n)return{node:s,offset:n-e};e=r}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=Uh(s)}}function _0(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?_0(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function $0(){for(var e=window,n=Ko();n instanceof e.HTMLIFrameElement;){try{var s=typeof n.contentWindow.location.href=="string"}catch{s=!1}if(s)e=n.contentWindow;else break;n=Ko(e.document)}return n}function Lp(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}function VS(e){var n=$0(),s=e.focusedElem,r=e.selectionRange;if(n!==s&&s&&s.ownerDocument&&_0(s.ownerDocument.documentElement,s)){if(r!==null&&Lp(s)){if(n=r.start,e=r.end,e===void 0&&(e=n),"selectionStart"in s)s.selectionStart=n,s.selectionEnd=Math.min(e,s.value.length);else if(e=(n=s.ownerDocument||document)&&n.defaultView||window,e.getSelection){e=e.getSelection();var a=s.textContent.length,i=Math.min(r.start,a);r=r.end===void 0?i:Math.min(r.end,a),!e.extend&&i>r&&(a=r,r=i,i=a),a=Wh(s,i);var l=Wh(s,r);a&&l&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==l.node||e.focusOffset!==l.offset)&&(n=n.createRange(),n.setStart(a.node,a.offset),e.removeAllRanges(),i>r?(e.addRange(n),e.extend(l.node,l.offset)):(n.setEnd(l.node,l.offset),e.addRange(n)))}}for(n=[],e=s;e=e.parentNode;)e.nodeType===1&&n.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof s.focus=="function"&&s.focus(),s=0;s<n.length;s++)e=n[s],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var zS=Ms&&"documentMode"in document&&11>=document.documentMode,ba=null,um=null,$i=null,mm=!1;function Hh(e,n,s){var r=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;mm||ba==null||ba!==Ko(r)||(r=ba,"selectionStart"in r&&Lp(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),$i&&nl($i,r)||($i=r,r=nc(um,"onSelect"),0<r.length&&(n=new kp("onSelect","select",null,n,s),e.push({event:n,listeners:r}),n.target=ba)))}function no(e,n){var s={};return s[e.toLowerCase()]=n.toLowerCase(),s["Webkit"+e]="webkit"+n,s["Moz"+e]="moz"+n,s}var wa={animationend:no("Animation","AnimationEnd"),animationiteration:no("Animation","AnimationIteration"),animationstart:no("Animation","AnimationStart"),transitionend:no("Transition","TransitionEnd")},Jd={},B0={};Ms&&(B0=document.createElement("div").style,"AnimationEvent"in window||(delete wa.animationend.animation,delete wa.animationiteration.animation,delete wa.animationstart.animation),"TransitionEvent"in window||delete wa.transitionend.transition);function Gc(e){if(Jd[e])return Jd[e];if(!wa[e])return e;var n=wa[e],s;for(s in n)if(n.hasOwnProperty(s)&&s in B0)return Jd[e]=n[s];return e}var V0=Gc("animationend"),z0=Gc("animationiteration"),U0=Gc("animationstart"),W0=Gc("transitionend"),H0=new Map,Gh="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Sr(e,n){H0.set(e,n),ra(n,[e])}for(var Zd=0;Zd<Gh.length;Zd++){var eu=Gh[Zd],US=eu.toLowerCase(),WS=eu[0].toUpperCase()+eu.slice(1);Sr(US,"on"+WS)}Sr(V0,"onAnimationEnd");Sr(z0,"onAnimationIteration");Sr(U0,"onAnimationStart");Sr("dblclick","onDoubleClick");Sr("focusin","onFocus");Sr("focusout","onBlur");Sr(W0,"onTransitionEnd");Va("onMouseEnter",["mouseout","mouseover"]);Va("onMouseLeave",["mouseout","mouseover"]);Va("onPointerEnter",["pointerout","pointerover"]);Va("onPointerLeave",["pointerout","pointerover"]);ra("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ra("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ra("onBeforeInput",["compositionend","keypress","textInput","paste"]);ra("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ra("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ra("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ri="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),HS=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ri));function qh(e,n,s){var r=e.type||"unknown-event";e.currentTarget=s,U1(r,n,void 0,e),e.currentTarget=null}function G0(e,n){n=(n&4)!==0;for(var s=0;s<e.length;s++){var r=e[s],a=r.event;r=r.listeners;e:{var i=void 0;if(n)for(var l=r.length-1;0<=l;l--){var o=r[l],c=o.instance,d=o.currentTarget;if(o=o.listener,c!==i&&a.isPropagationStopped())break e;qh(a,o,d),i=c}else for(l=0;l<r.length;l++){if(o=r[l],c=o.instance,d=o.currentTarget,o=o.listener,c!==i&&a.isPropagationStopped())break e;qh(a,o,d),i=c}}}if(Xo)throw e=lm,Xo=!1,lm=null,e}function rt(e,n){var s=n[gm];s===void 0&&(s=n[gm]=new Set);var r=e+"__bubble";s.has(r)||(q0(n,e,2,!1),s.add(r))}function tu(e,n,s){var r=0;n&&(r|=4),q0(s,e,r,n)}var so="_reactListening"+Math.random().toString(36).slice(2);function sl(e){if(!e[so]){e[so]=!0,e0.forEach(function(s){s!=="selectionchange"&&(HS.has(s)||tu(s,!1,e),tu(s,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[so]||(n[so]=!0,tu("selectionchange",!1,n))}}function q0(e,n,s,r){switch(T0(n)){case 1:var a=aS;break;case 4:a=iS;break;default:a=Ap}s=a.bind(null,n,s,e),a=void 0,!im||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(a=!0),r?a!==void 0?e.addEventListener(n,s,{capture:!0,passive:a}):e.addEventListener(n,s,!0):a!==void 0?e.addEventListener(n,s,{passive:a}):e.addEventListener(n,s,!1)}function nu(e,n,s,r,a){var i=r;if(!(n&1)&&!(n&2)&&r!==null)e:for(;;){if(r===null)return;var l=r.tag;if(l===3||l===4){var o=r.stateNode.containerInfo;if(o===a||o.nodeType===8&&o.parentNode===a)break;if(l===4)for(l=r.return;l!==null;){var c=l.tag;if((c===3||c===4)&&(c=l.stateNode.containerInfo,c===a||c.nodeType===8&&c.parentNode===a))return;l=l.return}for(;o!==null;){if(l=_r(o),l===null)return;if(c=l.tag,c===5||c===6){r=i=l;continue e}o=o.parentNode}}r=r.return}x0(function(){var d=i,m=Cp(s),u=[];e:{var p=H0.get(e);if(p!==void 0){var h=kp,v=e;switch(e){case"keypress":if(ko(s)===0)break e;case"keydown":case"keyup":h=bS;break;case"focusin":v="focus",h=Kd;break;case"focusout":v="blur",h=Kd;break;case"beforeblur":case"afterblur":h=Kd;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":h=Fh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":h=cS;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":h=SS;break;case V0:case z0:case U0:h=mS;break;case W0:h=ES;break;case"scroll":h=lS;break;case"wheel":h=DS;break;case"copy":case"cut":case"paste":h=fS;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":h=Mh}var j=(n&4)!==0,y=!j&&e==="scroll",g=j?p!==null?p+"Capture":null:p;j=[];for(var x=d,b;x!==null;){b=x;var T=b.stateNode;if(b.tag===5&&T!==null&&(b=T,g!==null&&(T=Xi(x,g),T!=null&&j.push(rl(x,T,b)))),y)break;x=x.return}0<j.length&&(p=new h(p,v,null,s,m),u.push({event:p,listeners:j}))}}if(!(n&7)){e:{if(p=e==="mouseover"||e==="pointerover",h=e==="mouseout"||e==="pointerout",p&&s!==rm&&(v=s.relatedTarget||s.fromElement)&&(_r(v)||v[_s]))break e;if((h||p)&&(p=m.window===m?m:(p=m.ownerDocument)?p.defaultView||p.parentWindow:window,h?(v=s.relatedTarget||s.toElement,h=d,v=v?_r(v):null,v!==null&&(y=aa(v),v!==y||v.tag!==5&&v.tag!==6)&&(v=null)):(h=null,v=d),h!==v)){if(j=Fh,T="onMouseLeave",g="onMouseEnter",x="mouse",(e==="pointerout"||e==="pointerover")&&(j=Mh,T="onPointerLeave",g="onPointerEnter",x="pointer"),y=h==null?p:Na(h),b=v==null?p:Na(v),p=new j(T,x+"leave",h,s,m),p.target=y,p.relatedTarget=b,T=null,_r(m)===d&&(j=new j(g,x+"enter",v,s,m),j.target=b,j.relatedTarget=y,T=j),y=T,h&&v)t:{for(j=h,g=v,x=0,b=j;b;b=ua(b))x++;for(b=0,T=g;T;T=ua(T))b++;for(;0<x-b;)j=ua(j),x--;for(;0<b-x;)g=ua(g),b--;for(;x--;){if(j===g||g!==null&&j===g.alternate)break t;j=ua(j),g=ua(g)}j=null}else j=null;h!==null&&Qh(u,p,h,j,!1),v!==null&&y!==null&&Qh(u,y,v,j,!0)}}e:{if(p=d?Na(d):window,h=p.nodeName&&p.nodeName.toLowerCase(),h==="select"||h==="input"&&p.type==="file")var L=FS;else if(Bh(p))if(O0)L=$S;else{L=MS;var k=OS}else(h=p.nodeName)&&h.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(L=_S);if(L&&(L=L(e,d))){F0(u,L,s,m);break e}k&&k(e,p,d),e==="focusout"&&(k=p._wrapperState)&&k.controlled&&p.type==="number"&&Zu(p,"number",p.value)}switch(k=d?Na(d):window,e){case"focusin":(Bh(k)||k.contentEditable==="true")&&(ba=k,um=d,$i=null);break;case"focusout":$i=um=ba=null;break;case"mousedown":mm=!0;break;case"contextmenu":case"mouseup":case"dragend":mm=!1,Hh(u,s,m);break;case"selectionchange":if(zS)break;case"keydown":case"keyup":Hh(u,s,m)}var I;if(Rp)e:{switch(e){case"compositionstart":var w="onCompositionStart";break e;case"compositionend":w="onCompositionEnd";break e;case"compositionupdate":w="onCompositionUpdate";break e}w=void 0}else ya?R0(e,s)&&(w="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&(w="onCompositionStart");w&&(P0&&s.locale!=="ko"&&(ya||w!=="onCompositionStart"?w==="onCompositionEnd"&&ya&&(I=k0()):(nr=m,Tp="value"in nr?nr.value:nr.textContent,ya=!0)),k=nc(d,w),0<k.length&&(w=new Oh(w,e,null,s,m),u.push({event:w,listeners:k}),I?w.data=I:(I=L0(s),I!==null&&(w.data=I)))),(I=TS?kS(e,s):PS(e,s))&&(d=nc(d,"onBeforeInput"),0<d.length&&(m=new Oh("onBeforeInput","beforeinput",null,s,m),u.push({event:m,listeners:d}),m.data=I))}G0(u,n)})}function rl(e,n,s){return{instance:e,listener:n,currentTarget:s}}function nc(e,n){for(var s=n+"Capture",r=[];e!==null;){var a=e,i=a.stateNode;a.tag===5&&i!==null&&(a=i,i=Xi(e,s),i!=null&&r.unshift(rl(e,i,a)),i=Xi(e,n),i!=null&&r.push(rl(e,i,a))),e=e.return}return r}function ua(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Qh(e,n,s,r,a){for(var i=n._reactName,l=[];s!==null&&s!==r;){var o=s,c=o.alternate,d=o.stateNode;if(c!==null&&c===r)break;o.tag===5&&d!==null&&(o=d,a?(c=Xi(s,i),c!=null&&l.unshift(rl(s,c,o))):a||(c=Xi(s,i),c!=null&&l.push(rl(s,c,o)))),s=s.return}l.length!==0&&e.push({event:n,listeners:l})}var GS=/\r\n?/g,qS=/\u0000|\uFFFD/g;function Kh(e){return(typeof e=="string"?e:""+e).replace(GS,`
`).replace(qS,"")}function ro(e,n,s){if(n=Kh(n),Kh(e)!==n&&s)throw Error(ie(425))}function sc(){}var pm=null,fm=null;function hm(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var xm=typeof setTimeout=="function"?setTimeout:void 0,QS=typeof clearTimeout=="function"?clearTimeout:void 0,Yh=typeof Promise=="function"?Promise:void 0,KS=typeof queueMicrotask=="function"?queueMicrotask:typeof Yh<"u"?function(e){return Yh.resolve(null).then(e).catch(YS)}:xm;function YS(e){setTimeout(function(){throw e})}function su(e,n){var s=n,r=0;do{var a=s.nextSibling;if(e.removeChild(s),a&&a.nodeType===8)if(s=a.data,s==="/$"){if(r===0){e.removeChild(a),el(n);return}r--}else s!=="$"&&s!=="$?"&&s!=="$!"||r++;s=a}while(s);el(n)}function or(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?")break;if(n==="/$")return null}}return e}function Xh(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"){if(n===0)return e;n--}else s==="/$"&&n++}e=e.previousSibling}return null}var ai=Math.random().toString(36).slice(2),hs="__reactFiber$"+ai,al="__reactProps$"+ai,_s="__reactContainer$"+ai,gm="__reactEvents$"+ai,XS="__reactListeners$"+ai,JS="__reactHandles$"+ai;function _r(e){var n=e[hs];if(n)return n;for(var s=e.parentNode;s;){if(n=s[_s]||s[hs]){if(s=n.alternate,n.child!==null||s!==null&&s.child!==null)for(e=Xh(e);e!==null;){if(s=e[hs])return s;e=Xh(e)}return n}e=s,s=e.parentNode}return null}function Tl(e){return e=e[hs]||e[_s],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Na(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(ie(33))}function qc(e){return e[al]||null}var vm=[],Sa=-1;function Cr(e){return{current:e}}function at(e){0>Sa||(e.current=vm[Sa],vm[Sa]=null,Sa--)}function tt(e,n){Sa++,vm[Sa]=e.current,e.current=n}var jr={},Jt=Cr(jr),un=Cr(!1),Kr=jr;function za(e,n){var s=e.type.contextTypes;if(!s)return jr;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===n)return r.__reactInternalMemoizedMaskedChildContext;var a={},i;for(i in s)a[i]=n[i];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=n,e.__reactInternalMemoizedMaskedChildContext=a),a}function mn(e){return e=e.childContextTypes,e!=null}function rc(){at(un),at(Jt)}function Jh(e,n,s){if(Jt.current!==jr)throw Error(ie(168));tt(Jt,n),tt(un,s)}function Q0(e,n,s){var r=e.stateNode;if(n=n.childContextTypes,typeof r.getChildContext!="function")return s;r=r.getChildContext();for(var a in r)if(!(a in n))throw Error(ie(108,O1(e)||"Unknown",a));return ft({},s,r)}function ac(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||jr,Kr=Jt.current,tt(Jt,e),tt(un,un.current),!0}function Zh(e,n,s){var r=e.stateNode;if(!r)throw Error(ie(169));s?(e=Q0(e,n,Kr),r.__reactInternalMemoizedMergedChildContext=e,at(un),at(Jt),tt(Jt,e)):at(un),tt(un,s)}var ks=null,Qc=!1,ru=!1;function K0(e){ks===null?ks=[e]:ks.push(e)}function ZS(e){Qc=!0,K0(e)}function Er(){if(!ru&&ks!==null){ru=!0;var e=0,n=Qe;try{var s=ks;for(Qe=1;e<s.length;e++){var r=s[e];do r=r(!0);while(r!==null)}ks=null,Qc=!1}catch(a){throw ks!==null&&(ks=ks.slice(e+1)),y0(Ep,Er),a}finally{Qe=n,ru=!1}}return null}var Ca=[],Ea=0,ic=null,lc=0,Ln=[],Fn=0,Yr=null,Ls=1,Fs="";function Lr(e,n){Ca[Ea++]=lc,Ca[Ea++]=ic,ic=e,lc=n}function Y0(e,n,s){Ln[Fn++]=Ls,Ln[Fn++]=Fs,Ln[Fn++]=Yr,Yr=e;var r=Ls;e=Fs;var a=32-ts(r)-1;r&=~(1<<a),s+=1;var i=32-ts(n)+a;if(30<i){var l=a-a%5;i=(r&(1<<l)-1).toString(32),r>>=l,a-=l,Ls=1<<32-ts(n)+a|s<<a|r,Fs=i+e}else Ls=1<<i|s<<a|r,Fs=e}function Fp(e){e.return!==null&&(Lr(e,1),Y0(e,1,0))}function Op(e){for(;e===ic;)ic=Ca[--Ea],Ca[Ea]=null,lc=Ca[--Ea],Ca[Ea]=null;for(;e===Yr;)Yr=Ln[--Fn],Ln[Fn]=null,Fs=Ln[--Fn],Ln[Fn]=null,Ls=Ln[--Fn],Ln[Fn]=null}var yn=null,vn=null,it=!1,Xn=null;function X0(e,n){var s=On(5,null,null,0);s.elementType="DELETED",s.stateNode=n,s.return=e,n=e.deletions,n===null?(e.deletions=[s],e.flags|=16):n.push(s)}function ex(e,n){switch(e.tag){case 5:var s=e.type;return n=n.nodeType!==1||s.toLowerCase()!==n.nodeName.toLowerCase()?null:n,n!==null?(e.stateNode=n,yn=e,vn=or(n.firstChild),!0):!1;case 6:return n=e.pendingProps===""||n.nodeType!==3?null:n,n!==null?(e.stateNode=n,yn=e,vn=null,!0):!1;case 13:return n=n.nodeType!==8?null:n,n!==null?(s=Yr!==null?{id:Ls,overflow:Fs}:null,e.memoizedState={dehydrated:n,treeContext:s,retryLane:1073741824},s=On(18,null,null,0),s.stateNode=n,s.return=e,e.child=s,yn=e,vn=null,!0):!1;default:return!1}}function jm(e){return(e.mode&1)!==0&&(e.flags&128)===0}function ym(e){if(it){var n=vn;if(n){var s=n;if(!ex(e,n)){if(jm(e))throw Error(ie(418));n=or(s.nextSibling);var r=yn;n&&ex(e,n)?X0(r,s):(e.flags=e.flags&-4097|2,it=!1,yn=e)}}else{if(jm(e))throw Error(ie(418));e.flags=e.flags&-4097|2,it=!1,yn=e}}}function tx(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;yn=e}function ao(e){if(e!==yn)return!1;if(!it)return tx(e),it=!0,!1;var n;if((n=e.tag!==3)&&!(n=e.tag!==5)&&(n=e.type,n=n!=="head"&&n!=="body"&&!hm(e.type,e.memoizedProps)),n&&(n=vn)){if(jm(e))throw J0(),Error(ie(418));for(;n;)X0(e,n),n=or(n.nextSibling)}if(tx(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(ie(317));e:{for(e=e.nextSibling,n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="/$"){if(n===0){vn=or(e.nextSibling);break e}n--}else s!=="$"&&s!=="$!"&&s!=="$?"||n++}e=e.nextSibling}vn=null}}else vn=yn?or(e.stateNode.nextSibling):null;return!0}function J0(){for(var e=vn;e;)e=or(e.nextSibling)}function Ua(){vn=yn=null,it=!1}function Mp(e){Xn===null?Xn=[e]:Xn.push(e)}var e2=Hs.ReactCurrentBatchConfig;function bi(e,n,s){if(e=s.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(s._owner){if(s=s._owner,s){if(s.tag!==1)throw Error(ie(309));var r=s.stateNode}if(!r)throw Error(ie(147,e));var a=r,i=""+e;return n!==null&&n.ref!==null&&typeof n.ref=="function"&&n.ref._stringRef===i?n.ref:(n=function(l){var o=a.refs;l===null?delete o[i]:o[i]=l},n._stringRef=i,n)}if(typeof e!="string")throw Error(ie(284));if(!s._owner)throw Error(ie(290,e))}return e}function io(e,n){throw e=Object.prototype.toString.call(n),Error(ie(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e))}function nx(e){var n=e._init;return n(e._payload)}function Z0(e){function n(g,x){if(e){var b=g.deletions;b===null?(g.deletions=[x],g.flags|=16):b.push(x)}}function s(g,x){if(!e)return null;for(;x!==null;)n(g,x),x=x.sibling;return null}function r(g,x){for(g=new Map;x!==null;)x.key!==null?g.set(x.key,x):g.set(x.index,x),x=x.sibling;return g}function a(g,x){return g=mr(g,x),g.index=0,g.sibling=null,g}function i(g,x,b){return g.index=b,e?(b=g.alternate,b!==null?(b=b.index,b<x?(g.flags|=2,x):b):(g.flags|=2,x)):(g.flags|=1048576,x)}function l(g){return e&&g.alternate===null&&(g.flags|=2),g}function o(g,x,b,T){return x===null||x.tag!==6?(x=uu(b,g.mode,T),x.return=g,x):(x=a(x,b),x.return=g,x)}function c(g,x,b,T){var L=b.type;return L===ja?m(g,x,b.props.children,T,b.key):x!==null&&(x.elementType===L||typeof L=="object"&&L!==null&&L.$$typeof===Js&&nx(L)===x.type)?(T=a(x,b.props),T.ref=bi(g,x,b),T.return=g,T):(T=_o(b.type,b.key,b.props,null,g.mode,T),T.ref=bi(g,x,b),T.return=g,T)}function d(g,x,b,T){return x===null||x.tag!==4||x.stateNode.containerInfo!==b.containerInfo||x.stateNode.implementation!==b.implementation?(x=mu(b,g.mode,T),x.return=g,x):(x=a(x,b.children||[]),x.return=g,x)}function m(g,x,b,T,L){return x===null||x.tag!==7?(x=qr(b,g.mode,T,L),x.return=g,x):(x=a(x,b),x.return=g,x)}function u(g,x,b){if(typeof x=="string"&&x!==""||typeof x=="number")return x=uu(""+x,g.mode,b),x.return=g,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Kl:return b=_o(x.type,x.key,x.props,null,g.mode,b),b.ref=bi(g,null,x),b.return=g,b;case va:return x=mu(x,g.mode,b),x.return=g,x;case Js:var T=x._init;return u(g,T(x._payload),b)}if(ki(x)||xi(x))return x=qr(x,g.mode,b,null),x.return=g,x;io(g,x)}return null}function p(g,x,b,T){var L=x!==null?x.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return L!==null?null:o(g,x,""+b,T);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Kl:return b.key===L?c(g,x,b,T):null;case va:return b.key===L?d(g,x,b,T):null;case Js:return L=b._init,p(g,x,L(b._payload),T)}if(ki(b)||xi(b))return L!==null?null:m(g,x,b,T,null);io(g,b)}return null}function h(g,x,b,T,L){if(typeof T=="string"&&T!==""||typeof T=="number")return g=g.get(b)||null,o(x,g,""+T,L);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case Kl:return g=g.get(T.key===null?b:T.key)||null,c(x,g,T,L);case va:return g=g.get(T.key===null?b:T.key)||null,d(x,g,T,L);case Js:var k=T._init;return h(g,x,b,k(T._payload),L)}if(ki(T)||xi(T))return g=g.get(b)||null,m(x,g,T,L,null);io(x,T)}return null}function v(g,x,b,T){for(var L=null,k=null,I=x,w=x=0,S=null;I!==null&&w<b.length;w++){I.index>w?(S=I,I=null):S=I.sibling;var C=p(g,I,b[w],T);if(C===null){I===null&&(I=S);break}e&&I&&C.alternate===null&&n(g,I),x=i(C,x,w),k===null?L=C:k.sibling=C,k=C,I=S}if(w===b.length)return s(g,I),it&&Lr(g,w),L;if(I===null){for(;w<b.length;w++)I=u(g,b[w],T),I!==null&&(x=i(I,x,w),k===null?L=I:k.sibling=I,k=I);return it&&Lr(g,w),L}for(I=r(g,I);w<b.length;w++)S=h(I,g,w,b[w],T),S!==null&&(e&&S.alternate!==null&&I.delete(S.key===null?w:S.key),x=i(S,x,w),k===null?L=S:k.sibling=S,k=S);return e&&I.forEach(function(E){return n(g,E)}),it&&Lr(g,w),L}function j(g,x,b,T){var L=xi(b);if(typeof L!="function")throw Error(ie(150));if(b=L.call(b),b==null)throw Error(ie(151));for(var k=L=null,I=x,w=x=0,S=null,C=b.next();I!==null&&!C.done;w++,C=b.next()){I.index>w?(S=I,I=null):S=I.sibling;var E=p(g,I,C.value,T);if(E===null){I===null&&(I=S);break}e&&I&&E.alternate===null&&n(g,I),x=i(E,x,w),k===null?L=E:k.sibling=E,k=E,I=S}if(C.done)return s(g,I),it&&Lr(g,w),L;if(I===null){for(;!C.done;w++,C=b.next())C=u(g,C.value,T),C!==null&&(x=i(C,x,w),k===null?L=C:k.sibling=C,k=C);return it&&Lr(g,w),L}for(I=r(g,I);!C.done;w++,C=b.next())C=h(I,g,w,C.value,T),C!==null&&(e&&C.alternate!==null&&I.delete(C.key===null?w:C.key),x=i(C,x,w),k===null?L=C:k.sibling=C,k=C);return e&&I.forEach(function(N){return n(g,N)}),it&&Lr(g,w),L}function y(g,x,b,T){if(typeof b=="object"&&b!==null&&b.type===ja&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case Kl:e:{for(var L=b.key,k=x;k!==null;){if(k.key===L){if(L=b.type,L===ja){if(k.tag===7){s(g,k.sibling),x=a(k,b.props.children),x.return=g,g=x;break e}}else if(k.elementType===L||typeof L=="object"&&L!==null&&L.$$typeof===Js&&nx(L)===k.type){s(g,k.sibling),x=a(k,b.props),x.ref=bi(g,k,b),x.return=g,g=x;break e}s(g,k);break}else n(g,k);k=k.sibling}b.type===ja?(x=qr(b.props.children,g.mode,T,b.key),x.return=g,g=x):(T=_o(b.type,b.key,b.props,null,g.mode,T),T.ref=bi(g,x,b),T.return=g,g=T)}return l(g);case va:e:{for(k=b.key;x!==null;){if(x.key===k)if(x.tag===4&&x.stateNode.containerInfo===b.containerInfo&&x.stateNode.implementation===b.implementation){s(g,x.sibling),x=a(x,b.children||[]),x.return=g,g=x;break e}else{s(g,x);break}else n(g,x);x=x.sibling}x=mu(b,g.mode,T),x.return=g,g=x}return l(g);case Js:return k=b._init,y(g,x,k(b._payload),T)}if(ki(b))return v(g,x,b,T);if(xi(b))return j(g,x,b,T);io(g,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,x!==null&&x.tag===6?(s(g,x.sibling),x=a(x,b),x.return=g,g=x):(s(g,x),x=uu(b,g.mode,T),x.return=g,g=x),l(g)):s(g,x)}return y}var Wa=Z0(!0),ej=Z0(!1),oc=Cr(null),cc=null,Ia=null,_p=null;function $p(){_p=Ia=cc=null}function Bp(e){var n=oc.current;at(oc),e._currentValue=n}function bm(e,n,s){for(;e!==null;){var r=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,r!==null&&(r.childLanes|=n)):r!==null&&(r.childLanes&n)!==n&&(r.childLanes|=n),e===s)break;e=e.return}}function Fa(e,n){cc=e,_p=Ia=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&n&&(dn=!0),e.firstContext=null)}function Vn(e){var n=e._currentValue;if(_p!==e)if(e={context:e,memoizedValue:n,next:null},Ia===null){if(cc===null)throw Error(ie(308));Ia=e,cc.dependencies={lanes:0,firstContext:e}}else Ia=Ia.next=e;return n}var $r=null;function Vp(e){$r===null?$r=[e]:$r.push(e)}function tj(e,n,s,r){var a=n.interleaved;return a===null?(s.next=s,Vp(n)):(s.next=a.next,a.next=s),n.interleaved=s,$s(e,r)}function $s(e,n){e.lanes|=n;var s=e.alternate;for(s!==null&&(s.lanes|=n),s=e,e=e.return;e!==null;)e.childLanes|=n,s=e.alternate,s!==null&&(s.childLanes|=n),s=e,e=e.return;return s.tag===3?s.stateNode:null}var Zs=!1;function zp(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function nj(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Os(e,n){return{eventTime:e,lane:n,tag:0,payload:null,callback:null,next:null}}function cr(e,n,s){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,Ge&2){var a=r.pending;return a===null?n.next=n:(n.next=a.next,a.next=n),r.pending=n,$s(e,s)}return a=r.interleaved,a===null?(n.next=n,Vp(r)):(n.next=a.next,a.next=n),r.interleaved=n,$s(e,s)}function Po(e,n,s){if(n=n.updateQueue,n!==null&&(n=n.shared,(s&4194240)!==0)){var r=n.lanes;r&=e.pendingLanes,s|=r,n.lanes=s,Ip(e,s)}}function sx(e,n){var s=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,s===r)){var a=null,i=null;if(s=s.firstBaseUpdate,s!==null){do{var l={eventTime:s.eventTime,lane:s.lane,tag:s.tag,payload:s.payload,callback:s.callback,next:null};i===null?a=i=l:i=i.next=l,s=s.next}while(s!==null);i===null?a=i=n:i=i.next=n}else a=i=n;s={baseState:r.baseState,firstBaseUpdate:a,lastBaseUpdate:i,shared:r.shared,effects:r.effects},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=n:e.next=n,s.lastBaseUpdate=n}function dc(e,n,s,r){var a=e.updateQueue;Zs=!1;var i=a.firstBaseUpdate,l=a.lastBaseUpdate,o=a.shared.pending;if(o!==null){a.shared.pending=null;var c=o,d=c.next;c.next=null,l===null?i=d:l.next=d,l=c;var m=e.alternate;m!==null&&(m=m.updateQueue,o=m.lastBaseUpdate,o!==l&&(o===null?m.firstBaseUpdate=d:o.next=d,m.lastBaseUpdate=c))}if(i!==null){var u=a.baseState;l=0,m=d=c=null,o=i;do{var p=o.lane,h=o.eventTime;if((r&p)===p){m!==null&&(m=m.next={eventTime:h,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var v=e,j=o;switch(p=n,h=s,j.tag){case 1:if(v=j.payload,typeof v=="function"){u=v.call(h,u,p);break e}u=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=j.payload,p=typeof v=="function"?v.call(h,u,p):v,p==null)break e;u=ft({},u,p);break e;case 2:Zs=!0}}o.callback!==null&&o.lane!==0&&(e.flags|=64,p=a.effects,p===null?a.effects=[o]:p.push(o))}else h={eventTime:h,lane:p,tag:o.tag,payload:o.payload,callback:o.callback,next:null},m===null?(d=m=h,c=u):m=m.next=h,l|=p;if(o=o.next,o===null){if(o=a.shared.pending,o===null)break;p=o,o=p.next,p.next=null,a.lastBaseUpdate=p,a.shared.pending=null}}while(1);if(m===null&&(c=u),a.baseState=c,a.firstBaseUpdate=d,a.lastBaseUpdate=m,n=a.shared.interleaved,n!==null){a=n;do l|=a.lane,a=a.next;while(a!==n)}else i===null&&(a.shared.lanes=0);Jr|=l,e.lanes=l,e.memoizedState=u}}function rx(e,n,s){if(e=n.effects,n.effects=null,e!==null)for(n=0;n<e.length;n++){var r=e[n],a=r.callback;if(a!==null){if(r.callback=null,r=s,typeof a!="function")throw Error(ie(191,a));a.call(r)}}}var kl={},ys=Cr(kl),il=Cr(kl),ll=Cr(kl);function Br(e){if(e===kl)throw Error(ie(174));return e}function Up(e,n){switch(tt(ll,n),tt(il,e),tt(ys,kl),e=n.nodeType,e){case 9:case 11:n=(n=n.documentElement)?n.namespaceURI:tm(null,"");break;default:e=e===8?n.parentNode:n,n=e.namespaceURI||null,e=e.tagName,n=tm(n,e)}at(ys),tt(ys,n)}function Ha(){at(ys),at(il),at(ll)}function sj(e){Br(ll.current);var n=Br(ys.current),s=tm(n,e.type);n!==s&&(tt(il,e),tt(ys,s))}function Wp(e){il.current===e&&(at(ys),at(il))}var mt=Cr(0);function uc(e){for(var n=e;n!==null;){if(n.tag===13){var s=n.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||s.data==="$!"))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if(n.flags&128)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var au=[];function Hp(){for(var e=0;e<au.length;e++)au[e]._workInProgressVersionPrimary=null;au.length=0}var Ro=Hs.ReactCurrentDispatcher,iu=Hs.ReactCurrentBatchConfig,Xr=0,pt=null,St=null,At=null,mc=!1,Bi=!1,ol=0,t2=0;function Gt(){throw Error(ie(321))}function Gp(e,n){if(n===null)return!1;for(var s=0;s<n.length&&s<e.length;s++)if(!ss(e[s],n[s]))return!1;return!0}function qp(e,n,s,r,a,i){if(Xr=i,pt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,Ro.current=e===null||e.memoizedState===null?a2:i2,e=s(r,a),Bi){i=0;do{if(Bi=!1,ol=0,25<=i)throw Error(ie(301));i+=1,At=St=null,n.updateQueue=null,Ro.current=l2,e=s(r,a)}while(Bi)}if(Ro.current=pc,n=St!==null&&St.next!==null,Xr=0,At=St=pt=null,mc=!1,n)throw Error(ie(300));return e}function Qp(){var e=ol!==0;return ol=0,e}function ds(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return At===null?pt.memoizedState=At=e:At=At.next=e,At}function zn(){if(St===null){var e=pt.alternate;e=e!==null?e.memoizedState:null}else e=St.next;var n=At===null?pt.memoizedState:At.next;if(n!==null)At=n,St=e;else{if(e===null)throw Error(ie(310));St=e,e={memoizedState:St.memoizedState,baseState:St.baseState,baseQueue:St.baseQueue,queue:St.queue,next:null},At===null?pt.memoizedState=At=e:At=At.next=e}return At}function cl(e,n){return typeof n=="function"?n(e):n}function lu(e){var n=zn(),s=n.queue;if(s===null)throw Error(ie(311));s.lastRenderedReducer=e;var r=St,a=r.baseQueue,i=s.pending;if(i!==null){if(a!==null){var l=a.next;a.next=i.next,i.next=l}r.baseQueue=a=i,s.pending=null}if(a!==null){i=a.next,r=r.baseState;var o=l=null,c=null,d=i;do{var m=d.lane;if((Xr&m)===m)c!==null&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),r=d.hasEagerState?d.eagerState:e(r,d.action);else{var u={lane:m,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};c===null?(o=c=u,l=r):c=c.next=u,pt.lanes|=m,Jr|=m}d=d.next}while(d!==null&&d!==i);c===null?l=r:c.next=o,ss(r,n.memoizedState)||(dn=!0),n.memoizedState=r,n.baseState=l,n.baseQueue=c,s.lastRenderedState=r}if(e=s.interleaved,e!==null){a=e;do i=a.lane,pt.lanes|=i,Jr|=i,a=a.next;while(a!==e)}else a===null&&(s.lanes=0);return[n.memoizedState,s.dispatch]}function ou(e){var n=zn(),s=n.queue;if(s===null)throw Error(ie(311));s.lastRenderedReducer=e;var r=s.dispatch,a=s.pending,i=n.memoizedState;if(a!==null){s.pending=null;var l=a=a.next;do i=e(i,l.action),l=l.next;while(l!==a);ss(i,n.memoizedState)||(dn=!0),n.memoizedState=i,n.baseQueue===null&&(n.baseState=i),s.lastRenderedState=i}return[i,r]}function rj(){}function aj(e,n){var s=pt,r=zn(),a=n(),i=!ss(r.memoizedState,a);if(i&&(r.memoizedState=a,dn=!0),r=r.queue,Kp(oj.bind(null,s,r,e),[e]),r.getSnapshot!==n||i||At!==null&&At.memoizedState.tag&1){if(s.flags|=2048,dl(9,lj.bind(null,s,r,a,n),void 0,null),kt===null)throw Error(ie(349));Xr&30||ij(s,n,a)}return a}function ij(e,n,s){e.flags|=16384,e={getSnapshot:n,value:s},n=pt.updateQueue,n===null?(n={lastEffect:null,stores:null},pt.updateQueue=n,n.stores=[e]):(s=n.stores,s===null?n.stores=[e]:s.push(e))}function lj(e,n,s,r){n.value=s,n.getSnapshot=r,cj(n)&&dj(e)}function oj(e,n,s){return s(function(){cj(n)&&dj(e)})}function cj(e){var n=e.getSnapshot;e=e.value;try{var s=n();return!ss(e,s)}catch{return!0}}function dj(e){var n=$s(e,1);n!==null&&ns(n,e,1,-1)}function ax(e){var n=ds();return typeof e=="function"&&(e=e()),n.memoizedState=n.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:cl,lastRenderedState:e},n.queue=e,e=e.dispatch=r2.bind(null,pt,e),[n.memoizedState,e]}function dl(e,n,s,r){return e={tag:e,create:n,destroy:s,deps:r,next:null},n=pt.updateQueue,n===null?(n={lastEffect:null,stores:null},pt.updateQueue=n,n.lastEffect=e.next=e):(s=n.lastEffect,s===null?n.lastEffect=e.next=e:(r=s.next,s.next=e,e.next=r,n.lastEffect=e)),e}function uj(){return zn().memoizedState}function Lo(e,n,s,r){var a=ds();pt.flags|=e,a.memoizedState=dl(1|n,s,void 0,r===void 0?null:r)}function Kc(e,n,s,r){var a=zn();r=r===void 0?null:r;var i=void 0;if(St!==null){var l=St.memoizedState;if(i=l.destroy,r!==null&&Gp(r,l.deps)){a.memoizedState=dl(n,s,i,r);return}}pt.flags|=e,a.memoizedState=dl(1|n,s,i,r)}function ix(e,n){return Lo(8390656,8,e,n)}function Kp(e,n){return Kc(2048,8,e,n)}function mj(e,n){return Kc(4,2,e,n)}function pj(e,n){return Kc(4,4,e,n)}function fj(e,n){if(typeof n=="function")return e=e(),n(e),function(){n(null)};if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function hj(e,n,s){return s=s!=null?s.concat([e]):null,Kc(4,4,fj.bind(null,n,e),s)}function Yp(){}function xj(e,n){var s=zn();n=n===void 0?null:n;var r=s.memoizedState;return r!==null&&n!==null&&Gp(n,r[1])?r[0]:(s.memoizedState=[e,n],e)}function gj(e,n){var s=zn();n=n===void 0?null:n;var r=s.memoizedState;return r!==null&&n!==null&&Gp(n,r[1])?r[0]:(e=e(),s.memoizedState=[e,n],e)}function vj(e,n,s){return Xr&21?(ss(s,n)||(s=N0(),pt.lanes|=s,Jr|=s,e.baseState=!0),n):(e.baseState&&(e.baseState=!1,dn=!0),e.memoizedState=s)}function n2(e,n){var s=Qe;Qe=s!==0&&4>s?s:4,e(!0);var r=iu.transition;iu.transition={};try{e(!1),n()}finally{Qe=s,iu.transition=r}}function jj(){return zn().memoizedState}function s2(e,n,s){var r=ur(e);if(s={lane:r,action:s,hasEagerState:!1,eagerState:null,next:null},yj(e))bj(n,s);else if(s=tj(e,n,s,r),s!==null){var a=nn();ns(s,e,r,a),wj(s,n,r)}}function r2(e,n,s){var r=ur(e),a={lane:r,action:s,hasEagerState:!1,eagerState:null,next:null};if(yj(e))bj(n,a);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=n.lastRenderedReducer,i!==null))try{var l=n.lastRenderedState,o=i(l,s);if(a.hasEagerState=!0,a.eagerState=o,ss(o,l)){var c=n.interleaved;c===null?(a.next=a,Vp(n)):(a.next=c.next,c.next=a),n.interleaved=a;return}}catch{}finally{}s=tj(e,n,a,r),s!==null&&(a=nn(),ns(s,e,r,a),wj(s,n,r))}}function yj(e){var n=e.alternate;return e===pt||n!==null&&n===pt}function bj(e,n){Bi=mc=!0;var s=e.pending;s===null?n.next=n:(n.next=s.next,s.next=n),e.pending=n}function wj(e,n,s){if(s&4194240){var r=n.lanes;r&=e.pendingLanes,s|=r,n.lanes=s,Ip(e,s)}}var pc={readContext:Vn,useCallback:Gt,useContext:Gt,useEffect:Gt,useImperativeHandle:Gt,useInsertionEffect:Gt,useLayoutEffect:Gt,useMemo:Gt,useReducer:Gt,useRef:Gt,useState:Gt,useDebugValue:Gt,useDeferredValue:Gt,useTransition:Gt,useMutableSource:Gt,useSyncExternalStore:Gt,useId:Gt,unstable_isNewReconciler:!1},a2={readContext:Vn,useCallback:function(e,n){return ds().memoizedState=[e,n===void 0?null:n],e},useContext:Vn,useEffect:ix,useImperativeHandle:function(e,n,s){return s=s!=null?s.concat([e]):null,Lo(4194308,4,fj.bind(null,n,e),s)},useLayoutEffect:function(e,n){return Lo(4194308,4,e,n)},useInsertionEffect:function(e,n){return Lo(4,2,e,n)},useMemo:function(e,n){var s=ds();return n=n===void 0?null:n,e=e(),s.memoizedState=[e,n],e},useReducer:function(e,n,s){var r=ds();return n=s!==void 0?s(n):n,r.memoizedState=r.baseState=n,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:n},r.queue=e,e=e.dispatch=s2.bind(null,pt,e),[r.memoizedState,e]},useRef:function(e){var n=ds();return e={current:e},n.memoizedState=e},useState:ax,useDebugValue:Yp,useDeferredValue:function(e){return ds().memoizedState=e},useTransition:function(){var e=ax(!1),n=e[0];return e=n2.bind(null,e[1]),ds().memoizedState=e,[n,e]},useMutableSource:function(){},useSyncExternalStore:function(e,n,s){var r=pt,a=ds();if(it){if(s===void 0)throw Error(ie(407));s=s()}else{if(s=n(),kt===null)throw Error(ie(349));Xr&30||ij(r,n,s)}a.memoizedState=s;var i={value:s,getSnapshot:n};return a.queue=i,ix(oj.bind(null,r,i,e),[e]),r.flags|=2048,dl(9,lj.bind(null,r,i,s,n),void 0,null),s},useId:function(){var e=ds(),n=kt.identifierPrefix;if(it){var s=Fs,r=Ls;s=(r&~(1<<32-ts(r)-1)).toString(32)+s,n=":"+n+"R"+s,s=ol++,0<s&&(n+="H"+s.toString(32)),n+=":"}else s=t2++,n=":"+n+"r"+s.toString(32)+":";return e.memoizedState=n},unstable_isNewReconciler:!1},i2={readContext:Vn,useCallback:xj,useContext:Vn,useEffect:Kp,useImperativeHandle:hj,useInsertionEffect:mj,useLayoutEffect:pj,useMemo:gj,useReducer:lu,useRef:uj,useState:function(){return lu(cl)},useDebugValue:Yp,useDeferredValue:function(e){var n=zn();return vj(n,St.memoizedState,e)},useTransition:function(){var e=lu(cl)[0],n=zn().memoizedState;return[e,n]},useMutableSource:rj,useSyncExternalStore:aj,useId:jj,unstable_isNewReconciler:!1},l2={readContext:Vn,useCallback:xj,useContext:Vn,useEffect:Kp,useImperativeHandle:hj,useInsertionEffect:mj,useLayoutEffect:pj,useMemo:gj,useReducer:ou,useRef:uj,useState:function(){return ou(cl)},useDebugValue:Yp,useDeferredValue:function(e){var n=zn();return St===null?n.memoizedState=e:vj(n,St.memoizedState,e)},useTransition:function(){var e=ou(cl)[0],n=zn().memoizedState;return[e,n]},useMutableSource:rj,useSyncExternalStore:aj,useId:jj,unstable_isNewReconciler:!1};function Qn(e,n){if(e&&e.defaultProps){n=ft({},n),e=e.defaultProps;for(var s in e)n[s]===void 0&&(n[s]=e[s]);return n}return n}function wm(e,n,s,r){n=e.memoizedState,s=s(r,n),s=s==null?n:ft({},n,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var Yc={isMounted:function(e){return(e=e._reactInternals)?aa(e)===e:!1},enqueueSetState:function(e,n,s){e=e._reactInternals;var r=nn(),a=ur(e),i=Os(r,a);i.payload=n,s!=null&&(i.callback=s),n=cr(e,i,a),n!==null&&(ns(n,e,a,r),Po(n,e,a))},enqueueReplaceState:function(e,n,s){e=e._reactInternals;var r=nn(),a=ur(e),i=Os(r,a);i.tag=1,i.payload=n,s!=null&&(i.callback=s),n=cr(e,i,a),n!==null&&(ns(n,e,a,r),Po(n,e,a))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var s=nn(),r=ur(e),a=Os(s,r);a.tag=2,n!=null&&(a.callback=n),n=cr(e,a,r),n!==null&&(ns(n,e,r,s),Po(n,e,r))}};function lx(e,n,s,r,a,i,l){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,i,l):n.prototype&&n.prototype.isPureReactComponent?!nl(s,r)||!nl(a,i):!0}function Nj(e,n,s){var r=!1,a=jr,i=n.contextType;return typeof i=="object"&&i!==null?i=Vn(i):(a=mn(n)?Kr:Jt.current,r=n.contextTypes,i=(r=r!=null)?za(e,a):jr),n=new n(s,i),e.memoizedState=n.state!==null&&n.state!==void 0?n.state:null,n.updater=Yc,e.stateNode=n,n._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=i),n}function ox(e,n,s,r){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(s,r),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(s,r),n.state!==e&&Yc.enqueueReplaceState(n,n.state,null)}function Nm(e,n,s,r){var a=e.stateNode;a.props=s,a.state=e.memoizedState,a.refs={},zp(e);var i=n.contextType;typeof i=="object"&&i!==null?a.context=Vn(i):(i=mn(n)?Kr:Jt.current,a.context=za(e,i)),a.state=e.memoizedState,i=n.getDerivedStateFromProps,typeof i=="function"&&(wm(e,n,i,s),a.state=e.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(n=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),n!==a.state&&Yc.enqueueReplaceState(a,a.state,null),dc(e,s,a,r),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function Ga(e,n){try{var s="",r=n;do s+=F1(r),r=r.return;while(r);var a=s}catch(i){a=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:n,stack:a,digest:null}}function cu(e,n,s){return{value:e,source:null,stack:s??null,digest:n??null}}function Sm(e,n){try{console.error(n.value)}catch(s){setTimeout(function(){throw s})}}var o2=typeof WeakMap=="function"?WeakMap:Map;function Sj(e,n,s){s=Os(-1,s),s.tag=3,s.payload={element:null};var r=n.value;return s.callback=function(){hc||(hc=!0,Lm=r),Sm(e,n)},s}function Cj(e,n,s){s=Os(-1,s),s.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var a=n.value;s.payload=function(){return r(a)},s.callback=function(){Sm(e,n)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(s.callback=function(){Sm(e,n),typeof r!="function"&&(dr===null?dr=new Set([this]):dr.add(this));var l=n.stack;this.componentDidCatch(n.value,{componentStack:l!==null?l:""})}),s}function cx(e,n,s){var r=e.pingCache;if(r===null){r=e.pingCache=new o2;var a=new Set;r.set(n,a)}else a=r.get(n),a===void 0&&(a=new Set,r.set(n,a));a.has(s)||(a.add(s),e=w2.bind(null,e,n,s),n.then(e,e))}function dx(e){do{var n;if((n=e.tag===13)&&(n=e.memoizedState,n=n!==null?n.dehydrated!==null:!0),n)return e;e=e.return}while(e!==null);return null}function ux(e,n,s,r,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===n?e.flags|=65536:(e.flags|=128,s.flags|=131072,s.flags&=-52805,s.tag===1&&(s.alternate===null?s.tag=17:(n=Os(-1,1),n.tag=2,cr(s,n,1))),s.lanes|=1),e)}var c2=Hs.ReactCurrentOwner,dn=!1;function tn(e,n,s,r){n.child=e===null?ej(n,null,s,r):Wa(n,e.child,s,r)}function mx(e,n,s,r,a){s=s.render;var i=n.ref;return Fa(n,a),r=qp(e,n,s,r,i,a),s=Qp(),e!==null&&!dn?(n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~a,Bs(e,n,a)):(it&&s&&Fp(n),n.flags|=1,tn(e,n,r,a),n.child)}function px(e,n,s,r,a){if(e===null){var i=s.type;return typeof i=="function"&&!rf(i)&&i.defaultProps===void 0&&s.compare===null&&s.defaultProps===void 0?(n.tag=15,n.type=i,Ej(e,n,i,r,a)):(e=_o(s.type,null,r,n,n.mode,a),e.ref=n.ref,e.return=n,n.child=e)}if(i=e.child,!(e.lanes&a)){var l=i.memoizedProps;if(s=s.compare,s=s!==null?s:nl,s(l,r)&&e.ref===n.ref)return Bs(e,n,a)}return n.flags|=1,e=mr(i,r),e.ref=n.ref,e.return=n,n.child=e}function Ej(e,n,s,r,a){if(e!==null){var i=e.memoizedProps;if(nl(i,r)&&e.ref===n.ref)if(dn=!1,n.pendingProps=r=i,(e.lanes&a)!==0)e.flags&131072&&(dn=!0);else return n.lanes=e.lanes,Bs(e,n,a)}return Cm(e,n,s,r,a)}function Ij(e,n,s){var r=n.pendingProps,a=r.children,i=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(n.mode&1))n.memoizedState={baseLanes:0,cachePool:null,transitions:null},tt(Aa,hn),hn|=s;else{if(!(s&1073741824))return e=i!==null?i.baseLanes|s:s,n.lanes=n.childLanes=1073741824,n.memoizedState={baseLanes:e,cachePool:null,transitions:null},n.updateQueue=null,tt(Aa,hn),hn|=e,null;n.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:s,tt(Aa,hn),hn|=r}else i!==null?(r=i.baseLanes|s,n.memoizedState=null):r=s,tt(Aa,hn),hn|=r;return tn(e,n,a,s),n.child}function Dj(e,n){var s=n.ref;(e===null&&s!==null||e!==null&&e.ref!==s)&&(n.flags|=512,n.flags|=2097152)}function Cm(e,n,s,r,a){var i=mn(s)?Kr:Jt.current;return i=za(n,i),Fa(n,a),s=qp(e,n,s,r,i,a),r=Qp(),e!==null&&!dn?(n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~a,Bs(e,n,a)):(it&&r&&Fp(n),n.flags|=1,tn(e,n,s,a),n.child)}function fx(e,n,s,r,a){if(mn(s)){var i=!0;ac(n)}else i=!1;if(Fa(n,a),n.stateNode===null)Fo(e,n),Nj(n,s,r),Nm(n,s,r,a),r=!0;else if(e===null){var l=n.stateNode,o=n.memoizedProps;l.props=o;var c=l.context,d=s.contextType;typeof d=="object"&&d!==null?d=Vn(d):(d=mn(s)?Kr:Jt.current,d=za(n,d));var m=s.getDerivedStateFromProps,u=typeof m=="function"||typeof l.getSnapshotBeforeUpdate=="function";u||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(o!==r||c!==d)&&ox(n,l,r,d),Zs=!1;var p=n.memoizedState;l.state=p,dc(n,r,l,a),c=n.memoizedState,o!==r||p!==c||un.current||Zs?(typeof m=="function"&&(wm(n,s,m,r),c=n.memoizedState),(o=Zs||lx(n,s,o,r,p,c,d))?(u||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount()),typeof l.componentDidMount=="function"&&(n.flags|=4194308)):(typeof l.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=r,n.memoizedState=c),l.props=r,l.state=c,l.context=d,r=o):(typeof l.componentDidMount=="function"&&(n.flags|=4194308),r=!1)}else{l=n.stateNode,nj(e,n),o=n.memoizedProps,d=n.type===n.elementType?o:Qn(n.type,o),l.props=d,u=n.pendingProps,p=l.context,c=s.contextType,typeof c=="object"&&c!==null?c=Vn(c):(c=mn(s)?Kr:Jt.current,c=za(n,c));var h=s.getDerivedStateFromProps;(m=typeof h=="function"||typeof l.getSnapshotBeforeUpdate=="function")||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(o!==u||p!==c)&&ox(n,l,r,c),Zs=!1,p=n.memoizedState,l.state=p,dc(n,r,l,a);var v=n.memoizedState;o!==u||p!==v||un.current||Zs?(typeof h=="function"&&(wm(n,s,h,r),v=n.memoizedState),(d=Zs||lx(n,s,d,r,p,v,c)||!1)?(m||typeof l.UNSAFE_componentWillUpdate!="function"&&typeof l.componentWillUpdate!="function"||(typeof l.componentWillUpdate=="function"&&l.componentWillUpdate(r,v,c),typeof l.UNSAFE_componentWillUpdate=="function"&&l.UNSAFE_componentWillUpdate(r,v,c)),typeof l.componentDidUpdate=="function"&&(n.flags|=4),typeof l.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof l.componentDidUpdate!="function"||o===e.memoizedProps&&p===e.memoizedState||(n.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&p===e.memoizedState||(n.flags|=1024),n.memoizedProps=r,n.memoizedState=v),l.props=r,l.state=v,l.context=c,r=d):(typeof l.componentDidUpdate!="function"||o===e.memoizedProps&&p===e.memoizedState||(n.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&p===e.memoizedState||(n.flags|=1024),r=!1)}return Em(e,n,s,r,i,a)}function Em(e,n,s,r,a,i){Dj(e,n);var l=(n.flags&128)!==0;if(!r&&!l)return a&&Zh(n,s,!1),Bs(e,n,i);r=n.stateNode,c2.current=n;var o=l&&typeof s.getDerivedStateFromError!="function"?null:r.render();return n.flags|=1,e!==null&&l?(n.child=Wa(n,e.child,null,i),n.child=Wa(n,null,o,i)):tn(e,n,o,i),n.memoizedState=r.state,a&&Zh(n,s,!0),n.child}function Aj(e){var n=e.stateNode;n.pendingContext?Jh(e,n.pendingContext,n.pendingContext!==n.context):n.context&&Jh(e,n.context,!1),Up(e,n.containerInfo)}function hx(e,n,s,r,a){return Ua(),Mp(a),n.flags|=256,tn(e,n,s,r),n.child}var Im={dehydrated:null,treeContext:null,retryLane:0};function Dm(e){return{baseLanes:e,cachePool:null,transitions:null}}function Tj(e,n,s){var r=n.pendingProps,a=mt.current,i=!1,l=(n.flags&128)!==0,o;if((o=l)||(o=e!==null&&e.memoizedState===null?!1:(a&2)!==0),o?(i=!0,n.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),tt(mt,a&1),e===null)return ym(n),e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(n.mode&1?e.data==="$!"?n.lanes=8:n.lanes=1073741824:n.lanes=1,null):(l=r.children,e=r.fallback,i?(r=n.mode,i=n.child,l={mode:"hidden",children:l},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=l):i=Zc(l,r,0,null),e=qr(e,r,s,null),i.return=n,e.return=n,i.sibling=e,n.child=i,n.child.memoizedState=Dm(s),n.memoizedState=Im,e):Xp(n,l));if(a=e.memoizedState,a!==null&&(o=a.dehydrated,o!==null))return d2(e,n,l,r,o,a,s);if(i){i=r.fallback,l=n.mode,a=e.child,o=a.sibling;var c={mode:"hidden",children:r.children};return!(l&1)&&n.child!==a?(r=n.child,r.childLanes=0,r.pendingProps=c,n.deletions=null):(r=mr(a,c),r.subtreeFlags=a.subtreeFlags&14680064),o!==null?i=mr(o,i):(i=qr(i,l,s,null),i.flags|=2),i.return=n,r.return=n,r.sibling=i,n.child=r,r=i,i=n.child,l=e.child.memoizedState,l=l===null?Dm(s):{baseLanes:l.baseLanes|s,cachePool:null,transitions:l.transitions},i.memoizedState=l,i.childLanes=e.childLanes&~s,n.memoizedState=Im,r}return i=e.child,e=i.sibling,r=mr(i,{mode:"visible",children:r.children}),!(n.mode&1)&&(r.lanes=s),r.return=n,r.sibling=null,e!==null&&(s=n.deletions,s===null?(n.deletions=[e],n.flags|=16):s.push(e)),n.child=r,n.memoizedState=null,r}function Xp(e,n){return n=Zc({mode:"visible",children:n},e.mode,0,null),n.return=e,e.child=n}function lo(e,n,s,r){return r!==null&&Mp(r),Wa(n,e.child,null,s),e=Xp(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function d2(e,n,s,r,a,i,l){if(s)return n.flags&256?(n.flags&=-257,r=cu(Error(ie(422))),lo(e,n,l,r)):n.memoizedState!==null?(n.child=e.child,n.flags|=128,null):(i=r.fallback,a=n.mode,r=Zc({mode:"visible",children:r.children},a,0,null),i=qr(i,a,l,null),i.flags|=2,r.return=n,i.return=n,r.sibling=i,n.child=r,n.mode&1&&Wa(n,e.child,null,l),n.child.memoizedState=Dm(l),n.memoizedState=Im,i);if(!(n.mode&1))return lo(e,n,l,null);if(a.data==="$!"){if(r=a.nextSibling&&a.nextSibling.dataset,r)var o=r.dgst;return r=o,i=Error(ie(419)),r=cu(i,r,void 0),lo(e,n,l,r)}if(o=(l&e.childLanes)!==0,dn||o){if(r=kt,r!==null){switch(l&-l){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(r.suspendedLanes|l)?0:a,a!==0&&a!==i.retryLane&&(i.retryLane=a,$s(e,a),ns(r,e,a,-1))}return sf(),r=cu(Error(ie(421))),lo(e,n,l,r)}return a.data==="$?"?(n.flags|=128,n.child=e.child,n=N2.bind(null,e),a._reactRetry=n,null):(e=i.treeContext,vn=or(a.nextSibling),yn=n,it=!0,Xn=null,e!==null&&(Ln[Fn++]=Ls,Ln[Fn++]=Fs,Ln[Fn++]=Yr,Ls=e.id,Fs=e.overflow,Yr=n),n=Xp(n,r.children),n.flags|=4096,n)}function xx(e,n,s){e.lanes|=n;var r=e.alternate;r!==null&&(r.lanes|=n),bm(e.return,n,s)}function du(e,n,s,r,a){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:r,tail:s,tailMode:a}:(i.isBackwards=n,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=s,i.tailMode=a)}function kj(e,n,s){var r=n.pendingProps,a=r.revealOrder,i=r.tail;if(tn(e,n,r.children,s),r=mt.current,r&2)r=r&1|2,n.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&xx(e,s,n);else if(e.tag===19)xx(e,s,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;e.sibling===null;){if(e.return===null||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(tt(mt,r),!(n.mode&1))n.memoizedState=null;else switch(a){case"forwards":for(s=n.child,a=null;s!==null;)e=s.alternate,e!==null&&uc(e)===null&&(a=s),s=s.sibling;s=a,s===null?(a=n.child,n.child=null):(a=s.sibling,s.sibling=null),du(n,!1,a,s,i);break;case"backwards":for(s=null,a=n.child,n.child=null;a!==null;){if(e=a.alternate,e!==null&&uc(e)===null){n.child=a;break}e=a.sibling,a.sibling=s,s=a,a=e}du(n,!0,s,null,i);break;case"together":du(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function Fo(e,n){!(n.mode&1)&&e!==null&&(e.alternate=null,n.alternate=null,n.flags|=2)}function Bs(e,n,s){if(e!==null&&(n.dependencies=e.dependencies),Jr|=n.lanes,!(s&n.childLanes))return null;if(e!==null&&n.child!==e.child)throw Error(ie(153));if(n.child!==null){for(e=n.child,s=mr(e,e.pendingProps),n.child=s,s.return=n;e.sibling!==null;)e=e.sibling,s=s.sibling=mr(e,e.pendingProps),s.return=n;s.sibling=null}return n.child}function u2(e,n,s){switch(n.tag){case 3:Aj(n),Ua();break;case 5:sj(n);break;case 1:mn(n.type)&&ac(n);break;case 4:Up(n,n.stateNode.containerInfo);break;case 10:var r=n.type._context,a=n.memoizedProps.value;tt(oc,r._currentValue),r._currentValue=a;break;case 13:if(r=n.memoizedState,r!==null)return r.dehydrated!==null?(tt(mt,mt.current&1),n.flags|=128,null):s&n.child.childLanes?Tj(e,n,s):(tt(mt,mt.current&1),e=Bs(e,n,s),e!==null?e.sibling:null);tt(mt,mt.current&1);break;case 19:if(r=(s&n.childLanes)!==0,e.flags&128){if(r)return kj(e,n,s);n.flags|=128}if(a=n.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),tt(mt,mt.current),r)break;return null;case 22:case 23:return n.lanes=0,Ij(e,n,s)}return Bs(e,n,s)}var Pj,Am,Rj,Lj;Pj=function(e,n){for(var s=n.child;s!==null;){if(s.tag===5||s.tag===6)e.appendChild(s.stateNode);else if(s.tag!==4&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return;s=s.return}s.sibling.return=s.return,s=s.sibling}};Am=function(){};Rj=function(e,n,s,r){var a=e.memoizedProps;if(a!==r){e=n.stateNode,Br(ys.current);var i=null;switch(s){case"input":a=Xu(e,a),r=Xu(e,r),i=[];break;case"select":a=ft({},a,{value:void 0}),r=ft({},r,{value:void 0}),i=[];break;case"textarea":a=em(e,a),r=em(e,r),i=[];break;default:typeof a.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=sc)}nm(s,r);var l;s=null;for(d in a)if(!r.hasOwnProperty(d)&&a.hasOwnProperty(d)&&a[d]!=null)if(d==="style"){var o=a[d];for(l in o)o.hasOwnProperty(l)&&(s||(s={}),s[l]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(Ki.hasOwnProperty(d)?i||(i=[]):(i=i||[]).push(d,null));for(d in r){var c=r[d];if(o=a!=null?a[d]:void 0,r.hasOwnProperty(d)&&c!==o&&(c!=null||o!=null))if(d==="style")if(o){for(l in o)!o.hasOwnProperty(l)||c&&c.hasOwnProperty(l)||(s||(s={}),s[l]="");for(l in c)c.hasOwnProperty(l)&&o[l]!==c[l]&&(s||(s={}),s[l]=c[l])}else s||(i||(i=[]),i.push(d,s)),s=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,o=o?o.__html:void 0,c!=null&&o!==c&&(i=i||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(Ki.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&rt("scroll",e),i||o===c||(i=[])):(i=i||[]).push(d,c))}s&&(i=i||[]).push("style",s);var d=i;(n.updateQueue=d)&&(n.flags|=4)}};Lj=function(e,n,s,r){s!==r&&(n.flags|=4)};function wi(e,n){if(!it)switch(e.tailMode){case"hidden":n=e.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var r=null;s!==null;)s.alternate!==null&&(r=s),s=s.sibling;r===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function qt(e){var n=e.alternate!==null&&e.alternate.child===e.child,s=0,r=0;if(n)for(var a=e.child;a!==null;)s|=a.lanes|a.childLanes,r|=a.subtreeFlags&14680064,r|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)s|=a.lanes|a.childLanes,r|=a.subtreeFlags,r|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=r,e.childLanes=s,n}function m2(e,n,s){var r=n.pendingProps;switch(Op(n),n.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return qt(n),null;case 1:return mn(n.type)&&rc(),qt(n),null;case 3:return r=n.stateNode,Ha(),at(un),at(Jt),Hp(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(ao(n)?n.flags|=4:e===null||e.memoizedState.isDehydrated&&!(n.flags&256)||(n.flags|=1024,Xn!==null&&(Mm(Xn),Xn=null))),Am(e,n),qt(n),null;case 5:Wp(n);var a=Br(ll.current);if(s=n.type,e!==null&&n.stateNode!=null)Rj(e,n,s,r,a),e.ref!==n.ref&&(n.flags|=512,n.flags|=2097152);else{if(!r){if(n.stateNode===null)throw Error(ie(166));return qt(n),null}if(e=Br(ys.current),ao(n)){r=n.stateNode,s=n.type;var i=n.memoizedProps;switch(r[hs]=n,r[al]=i,e=(n.mode&1)!==0,s){case"dialog":rt("cancel",r),rt("close",r);break;case"iframe":case"object":case"embed":rt("load",r);break;case"video":case"audio":for(a=0;a<Ri.length;a++)rt(Ri[a],r);break;case"source":rt("error",r);break;case"img":case"image":case"link":rt("error",r),rt("load",r);break;case"details":rt("toggle",r);break;case"input":Ch(r,i),rt("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},rt("invalid",r);break;case"textarea":Ih(r,i),rt("invalid",r)}nm(s,i),a=null;for(var l in i)if(i.hasOwnProperty(l)){var o=i[l];l==="children"?typeof o=="string"?r.textContent!==o&&(i.suppressHydrationWarning!==!0&&ro(r.textContent,o,e),a=["children",o]):typeof o=="number"&&r.textContent!==""+o&&(i.suppressHydrationWarning!==!0&&ro(r.textContent,o,e),a=["children",""+o]):Ki.hasOwnProperty(l)&&o!=null&&l==="onScroll"&&rt("scroll",r)}switch(s){case"input":Yl(r),Eh(r,i,!0);break;case"textarea":Yl(r),Dh(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=sc)}r=a,n.updateQueue=r,r!==null&&(n.flags|=4)}else{l=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=o0(s)),e==="http://www.w3.org/1999/xhtml"?s==="script"?(e=l.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=l.createElement(s,{is:r.is}):(e=l.createElement(s),s==="select"&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,s),e[hs]=n,e[al]=r,Pj(e,n,!1,!1),n.stateNode=e;e:{switch(l=sm(s,r),s){case"dialog":rt("cancel",e),rt("close",e),a=r;break;case"iframe":case"object":case"embed":rt("load",e),a=r;break;case"video":case"audio":for(a=0;a<Ri.length;a++)rt(Ri[a],e);a=r;break;case"source":rt("error",e),a=r;break;case"img":case"image":case"link":rt("error",e),rt("load",e),a=r;break;case"details":rt("toggle",e),a=r;break;case"input":Ch(e,r),a=Xu(e,r),rt("invalid",e);break;case"option":a=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},a=ft({},r,{value:void 0}),rt("invalid",e);break;case"textarea":Ih(e,r),a=em(e,r),rt("invalid",e);break;default:a=r}nm(s,a),o=a;for(i in o)if(o.hasOwnProperty(i)){var c=o[i];i==="style"?u0(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&c0(e,c)):i==="children"?typeof c=="string"?(s!=="textarea"||c!=="")&&Yi(e,c):typeof c=="number"&&Yi(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Ki.hasOwnProperty(i)?c!=null&&i==="onScroll"&&rt("scroll",e):c!=null&&bp(e,i,c,l))}switch(s){case"input":Yl(e),Eh(e,r,!1);break;case"textarea":Yl(e),Dh(e);break;case"option":r.value!=null&&e.setAttribute("value",""+vr(r.value));break;case"select":e.multiple=!!r.multiple,i=r.value,i!=null?ka(e,!!r.multiple,i,!1):r.defaultValue!=null&&ka(e,!!r.multiple,r.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=sc)}switch(s){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(n.flags|=4)}n.ref!==null&&(n.flags|=512,n.flags|=2097152)}return qt(n),null;case 6:if(e&&n.stateNode!=null)Lj(e,n,e.memoizedProps,r);else{if(typeof r!="string"&&n.stateNode===null)throw Error(ie(166));if(s=Br(ll.current),Br(ys.current),ao(n)){if(r=n.stateNode,s=n.memoizedProps,r[hs]=n,(i=r.nodeValue!==s)&&(e=yn,e!==null))switch(e.tag){case 3:ro(r.nodeValue,s,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&ro(r.nodeValue,s,(e.mode&1)!==0)}i&&(n.flags|=4)}else r=(s.nodeType===9?s:s.ownerDocument).createTextNode(r),r[hs]=n,n.stateNode=r}return qt(n),null;case 13:if(at(mt),r=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(it&&vn!==null&&n.mode&1&&!(n.flags&128))J0(),Ua(),n.flags|=98560,i=!1;else if(i=ao(n),r!==null&&r.dehydrated!==null){if(e===null){if(!i)throw Error(ie(318));if(i=n.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(ie(317));i[hs]=n}else Ua(),!(n.flags&128)&&(n.memoizedState=null),n.flags|=4;qt(n),i=!1}else Xn!==null&&(Mm(Xn),Xn=null),i=!0;if(!i)return n.flags&65536?n:null}return n.flags&128?(n.lanes=s,n):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(n.child.flags|=8192,n.mode&1&&(e===null||mt.current&1?Ct===0&&(Ct=3):sf())),n.updateQueue!==null&&(n.flags|=4),qt(n),null);case 4:return Ha(),Am(e,n),e===null&&sl(n.stateNode.containerInfo),qt(n),null;case 10:return Bp(n.type._context),qt(n),null;case 17:return mn(n.type)&&rc(),qt(n),null;case 19:if(at(mt),i=n.memoizedState,i===null)return qt(n),null;if(r=(n.flags&128)!==0,l=i.rendering,l===null)if(r)wi(i,!1);else{if(Ct!==0||e!==null&&e.flags&128)for(e=n.child;e!==null;){if(l=uc(e),l!==null){for(n.flags|=128,wi(i,!1),r=l.updateQueue,r!==null&&(n.updateQueue=r,n.flags|=4),n.subtreeFlags=0,r=s,s=n.child;s!==null;)i=s,e=r,i.flags&=14680066,l=i.alternate,l===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=l.childLanes,i.lanes=l.lanes,i.child=l.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=l.memoizedProps,i.memoizedState=l.memoizedState,i.updateQueue=l.updateQueue,i.type=l.type,e=l.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),s=s.sibling;return tt(mt,mt.current&1|2),n.child}e=e.sibling}i.tail!==null&&gt()>qa&&(n.flags|=128,r=!0,wi(i,!1),n.lanes=4194304)}else{if(!r)if(e=uc(l),e!==null){if(n.flags|=128,r=!0,s=e.updateQueue,s!==null&&(n.updateQueue=s,n.flags|=4),wi(i,!0),i.tail===null&&i.tailMode==="hidden"&&!l.alternate&&!it)return qt(n),null}else 2*gt()-i.renderingStartTime>qa&&s!==1073741824&&(n.flags|=128,r=!0,wi(i,!1),n.lanes=4194304);i.isBackwards?(l.sibling=n.child,n.child=l):(s=i.last,s!==null?s.sibling=l:n.child=l,i.last=l)}return i.tail!==null?(n=i.tail,i.rendering=n,i.tail=n.sibling,i.renderingStartTime=gt(),n.sibling=null,s=mt.current,tt(mt,r?s&1|2:s&1),n):(qt(n),null);case 22:case 23:return nf(),r=n.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(n.flags|=8192),r&&n.mode&1?hn&1073741824&&(qt(n),n.subtreeFlags&6&&(n.flags|=8192)):qt(n),null;case 24:return null;case 25:return null}throw Error(ie(156,n.tag))}function p2(e,n){switch(Op(n),n.tag){case 1:return mn(n.type)&&rc(),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return Ha(),at(un),at(Jt),Hp(),e=n.flags,e&65536&&!(e&128)?(n.flags=e&-65537|128,n):null;case 5:return Wp(n),null;case 13:if(at(mt),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(ie(340));Ua()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return at(mt),null;case 4:return Ha(),null;case 10:return Bp(n.type._context),null;case 22:case 23:return nf(),null;case 24:return null;default:return null}}var oo=!1,Qt=!1,f2=typeof WeakSet=="function"?WeakSet:Set,Ce=null;function Da(e,n){var s=e.ref;if(s!==null)if(typeof s=="function")try{s(null)}catch(r){ht(e,n,r)}else s.current=null}function Tm(e,n,s){try{s()}catch(r){ht(e,n,r)}}var gx=!1;function h2(e,n){if(pm=ec,e=$0(),Lp(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else e:{s=(s=e.ownerDocument)&&s.defaultView||window;var r=s.getSelection&&s.getSelection();if(r&&r.rangeCount!==0){s=r.anchorNode;var a=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{s.nodeType,i.nodeType}catch{s=null;break e}var l=0,o=-1,c=-1,d=0,m=0,u=e,p=null;t:for(;;){for(var h;u!==s||a!==0&&u.nodeType!==3||(o=l+a),u!==i||r!==0&&u.nodeType!==3||(c=l+r),u.nodeType===3&&(l+=u.nodeValue.length),(h=u.firstChild)!==null;)p=u,u=h;for(;;){if(u===e)break t;if(p===s&&++d===a&&(o=l),p===i&&++m===r&&(c=l),(h=u.nextSibling)!==null)break;u=p,p=u.parentNode}u=h}s=o===-1||c===-1?null:{start:o,end:c}}else s=null}s=s||{start:0,end:0}}else s=null;for(fm={focusedElem:e,selectionRange:s},ec=!1,Ce=n;Ce!==null;)if(n=Ce,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,Ce=e;else for(;Ce!==null;){n=Ce;try{var v=n.alternate;if(n.flags&1024)switch(n.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var j=v.memoizedProps,y=v.memoizedState,g=n.stateNode,x=g.getSnapshotBeforeUpdate(n.elementType===n.type?j:Qn(n.type,j),y);g.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var b=n.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ie(163))}}catch(T){ht(n,n.return,T)}if(e=n.sibling,e!==null){e.return=n.return,Ce=e;break}Ce=n.return}return v=gx,gx=!1,v}function Vi(e,n,s){var r=n.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var a=r=r.next;do{if((a.tag&e)===e){var i=a.destroy;a.destroy=void 0,i!==void 0&&Tm(n,s,i)}a=a.next}while(a!==r)}}function Xc(e,n){if(n=n.updateQueue,n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&e)===e){var r=s.create;s.destroy=r()}s=s.next}while(s!==n)}}function km(e){var n=e.ref;if(n!==null){var s=e.stateNode;switch(e.tag){case 5:e=s;break;default:e=s}typeof n=="function"?n(e):n.current=e}}function Fj(e){var n=e.alternate;n!==null&&(e.alternate=null,Fj(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&(delete n[hs],delete n[al],delete n[gm],delete n[XS],delete n[JS])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Oj(e){return e.tag===5||e.tag===3||e.tag===4}function vx(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Oj(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Pm(e,n,s){var r=e.tag;if(r===5||r===6)e=e.stateNode,n?s.nodeType===8?s.parentNode.insertBefore(e,n):s.insertBefore(e,n):(s.nodeType===8?(n=s.parentNode,n.insertBefore(e,s)):(n=s,n.appendChild(e)),s=s._reactRootContainer,s!=null||n.onclick!==null||(n.onclick=sc));else if(r!==4&&(e=e.child,e!==null))for(Pm(e,n,s),e=e.sibling;e!==null;)Pm(e,n,s),e=e.sibling}function Rm(e,n,s){var r=e.tag;if(r===5||r===6)e=e.stateNode,n?s.insertBefore(e,n):s.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Rm(e,n,s),e=e.sibling;e!==null;)Rm(e,n,s),e=e.sibling}var _t=null,Yn=!1;function Qs(e,n,s){for(s=s.child;s!==null;)Mj(e,n,s),s=s.sibling}function Mj(e,n,s){if(js&&typeof js.onCommitFiberUnmount=="function")try{js.onCommitFiberUnmount(Uc,s)}catch{}switch(s.tag){case 5:Qt||Da(s,n);case 6:var r=_t,a=Yn;_t=null,Qs(e,n,s),_t=r,Yn=a,_t!==null&&(Yn?(e=_t,s=s.stateNode,e.nodeType===8?e.parentNode.removeChild(s):e.removeChild(s)):_t.removeChild(s.stateNode));break;case 18:_t!==null&&(Yn?(e=_t,s=s.stateNode,e.nodeType===8?su(e.parentNode,s):e.nodeType===1&&su(e,s),el(e)):su(_t,s.stateNode));break;case 4:r=_t,a=Yn,_t=s.stateNode.containerInfo,Yn=!0,Qs(e,n,s),_t=r,Yn=a;break;case 0:case 11:case 14:case 15:if(!Qt&&(r=s.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){a=r=r.next;do{var i=a,l=i.destroy;i=i.tag,l!==void 0&&(i&2||i&4)&&Tm(s,n,l),a=a.next}while(a!==r)}Qs(e,n,s);break;case 1:if(!Qt&&(Da(s,n),r=s.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=s.memoizedProps,r.state=s.memoizedState,r.componentWillUnmount()}catch(o){ht(s,n,o)}Qs(e,n,s);break;case 21:Qs(e,n,s);break;case 22:s.mode&1?(Qt=(r=Qt)||s.memoizedState!==null,Qs(e,n,s),Qt=r):Qs(e,n,s);break;default:Qs(e,n,s)}}function jx(e){var n=e.updateQueue;if(n!==null){e.updateQueue=null;var s=e.stateNode;s===null&&(s=e.stateNode=new f2),n.forEach(function(r){var a=S2.bind(null,e,r);s.has(r)||(s.add(r),r.then(a,a))})}}function Gn(e,n){var s=n.deletions;if(s!==null)for(var r=0;r<s.length;r++){var a=s[r];try{var i=e,l=n,o=l;e:for(;o!==null;){switch(o.tag){case 5:_t=o.stateNode,Yn=!1;break e;case 3:_t=o.stateNode.containerInfo,Yn=!0;break e;case 4:_t=o.stateNode.containerInfo,Yn=!0;break e}o=o.return}if(_t===null)throw Error(ie(160));Mj(i,l,a),_t=null,Yn=!1;var c=a.alternate;c!==null&&(c.return=null),a.return=null}catch(d){ht(a,n,d)}}if(n.subtreeFlags&12854)for(n=n.child;n!==null;)_j(n,e),n=n.sibling}function _j(e,n){var s=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Gn(n,e),os(e),r&4){try{Vi(3,e,e.return),Xc(3,e)}catch(j){ht(e,e.return,j)}try{Vi(5,e,e.return)}catch(j){ht(e,e.return,j)}}break;case 1:Gn(n,e),os(e),r&512&&s!==null&&Da(s,s.return);break;case 5:if(Gn(n,e),os(e),r&512&&s!==null&&Da(s,s.return),e.flags&32){var a=e.stateNode;try{Yi(a,"")}catch(j){ht(e,e.return,j)}}if(r&4&&(a=e.stateNode,a!=null)){var i=e.memoizedProps,l=s!==null?s.memoizedProps:i,o=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{o==="input"&&i.type==="radio"&&i.name!=null&&i0(a,i),sm(o,l);var d=sm(o,i);for(l=0;l<c.length;l+=2){var m=c[l],u=c[l+1];m==="style"?u0(a,u):m==="dangerouslySetInnerHTML"?c0(a,u):m==="children"?Yi(a,u):bp(a,m,u,d)}switch(o){case"input":Ju(a,i);break;case"textarea":l0(a,i);break;case"select":var p=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!i.multiple;var h=i.value;h!=null?ka(a,!!i.multiple,h,!1):p!==!!i.multiple&&(i.defaultValue!=null?ka(a,!!i.multiple,i.defaultValue,!0):ka(a,!!i.multiple,i.multiple?[]:"",!1))}a[al]=i}catch(j){ht(e,e.return,j)}}break;case 6:if(Gn(n,e),os(e),r&4){if(e.stateNode===null)throw Error(ie(162));a=e.stateNode,i=e.memoizedProps;try{a.nodeValue=i}catch(j){ht(e,e.return,j)}}break;case 3:if(Gn(n,e),os(e),r&4&&s!==null&&s.memoizedState.isDehydrated)try{el(n.containerInfo)}catch(j){ht(e,e.return,j)}break;case 4:Gn(n,e),os(e);break;case 13:Gn(n,e),os(e),a=e.child,a.flags&8192&&(i=a.memoizedState!==null,a.stateNode.isHidden=i,!i||a.alternate!==null&&a.alternate.memoizedState!==null||(ef=gt())),r&4&&jx(e);break;case 22:if(m=s!==null&&s.memoizedState!==null,e.mode&1?(Qt=(d=Qt)||m,Gn(n,e),Qt=d):Gn(n,e),os(e),r&8192){if(d=e.memoizedState!==null,(e.stateNode.isHidden=d)&&!m&&e.mode&1)for(Ce=e,m=e.child;m!==null;){for(u=Ce=m;Ce!==null;){switch(p=Ce,h=p.child,p.tag){case 0:case 11:case 14:case 15:Vi(4,p,p.return);break;case 1:Da(p,p.return);var v=p.stateNode;if(typeof v.componentWillUnmount=="function"){r=p,s=p.return;try{n=r,v.props=n.memoizedProps,v.state=n.memoizedState,v.componentWillUnmount()}catch(j){ht(r,s,j)}}break;case 5:Da(p,p.return);break;case 22:if(p.memoizedState!==null){bx(u);continue}}h!==null?(h.return=p,Ce=h):bx(u)}m=m.sibling}e:for(m=null,u=e;;){if(u.tag===5){if(m===null){m=u;try{a=u.stateNode,d?(i=a.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(o=u.stateNode,c=u.memoizedProps.style,l=c!=null&&c.hasOwnProperty("display")?c.display:null,o.style.display=d0("display",l))}catch(j){ht(e,e.return,j)}}}else if(u.tag===6){if(m===null)try{u.stateNode.nodeValue=d?"":u.memoizedProps}catch(j){ht(e,e.return,j)}}else if((u.tag!==22&&u.tag!==23||u.memoizedState===null||u===e)&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===e)break e;for(;u.sibling===null;){if(u.return===null||u.return===e)break e;m===u&&(m=null),u=u.return}m===u&&(m=null),u.sibling.return=u.return,u=u.sibling}}break;case 19:Gn(n,e),os(e),r&4&&jx(e);break;case 21:break;default:Gn(n,e),os(e)}}function os(e){var n=e.flags;if(n&2){try{e:{for(var s=e.return;s!==null;){if(Oj(s)){var r=s;break e}s=s.return}throw Error(ie(160))}switch(r.tag){case 5:var a=r.stateNode;r.flags&32&&(Yi(a,""),r.flags&=-33);var i=vx(e);Rm(e,i,a);break;case 3:case 4:var l=r.stateNode.containerInfo,o=vx(e);Pm(e,o,l);break;default:throw Error(ie(161))}}catch(c){ht(e,e.return,c)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function x2(e,n,s){Ce=e,$j(e)}function $j(e,n,s){for(var r=(e.mode&1)!==0;Ce!==null;){var a=Ce,i=a.child;if(a.tag===22&&r){var l=a.memoizedState!==null||oo;if(!l){var o=a.alternate,c=o!==null&&o.memoizedState!==null||Qt;o=oo;var d=Qt;if(oo=l,(Qt=c)&&!d)for(Ce=a;Ce!==null;)l=Ce,c=l.child,l.tag===22&&l.memoizedState!==null?wx(a):c!==null?(c.return=l,Ce=c):wx(a);for(;i!==null;)Ce=i,$j(i),i=i.sibling;Ce=a,oo=o,Qt=d}yx(e)}else a.subtreeFlags&8772&&i!==null?(i.return=a,Ce=i):yx(e)}}function yx(e){for(;Ce!==null;){var n=Ce;if(n.flags&8772){var s=n.alternate;try{if(n.flags&8772)switch(n.tag){case 0:case 11:case 15:Qt||Xc(5,n);break;case 1:var r=n.stateNode;if(n.flags&4&&!Qt)if(s===null)r.componentDidMount();else{var a=n.elementType===n.type?s.memoizedProps:Qn(n.type,s.memoizedProps);r.componentDidUpdate(a,s.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=n.updateQueue;i!==null&&rx(n,i,r);break;case 3:var l=n.updateQueue;if(l!==null){if(s=null,n.child!==null)switch(n.child.tag){case 5:s=n.child.stateNode;break;case 1:s=n.child.stateNode}rx(n,l,s)}break;case 5:var o=n.stateNode;if(s===null&&n.flags&4){s=o;var c=n.memoizedProps;switch(n.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&s.focus();break;case"img":c.src&&(s.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(n.memoizedState===null){var d=n.alternate;if(d!==null){var m=d.memoizedState;if(m!==null){var u=m.dehydrated;u!==null&&el(u)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ie(163))}Qt||n.flags&512&&km(n)}catch(p){ht(n,n.return,p)}}if(n===e){Ce=null;break}if(s=n.sibling,s!==null){s.return=n.return,Ce=s;break}Ce=n.return}}function bx(e){for(;Ce!==null;){var n=Ce;if(n===e){Ce=null;break}var s=n.sibling;if(s!==null){s.return=n.return,Ce=s;break}Ce=n.return}}function wx(e){for(;Ce!==null;){var n=Ce;try{switch(n.tag){case 0:case 11:case 15:var s=n.return;try{Xc(4,n)}catch(c){ht(n,s,c)}break;case 1:var r=n.stateNode;if(typeof r.componentDidMount=="function"){var a=n.return;try{r.componentDidMount()}catch(c){ht(n,a,c)}}var i=n.return;try{km(n)}catch(c){ht(n,i,c)}break;case 5:var l=n.return;try{km(n)}catch(c){ht(n,l,c)}}}catch(c){ht(n,n.return,c)}if(n===e){Ce=null;break}var o=n.sibling;if(o!==null){o.return=n.return,Ce=o;break}Ce=n.return}}var g2=Math.ceil,fc=Hs.ReactCurrentDispatcher,Jp=Hs.ReactCurrentOwner,_n=Hs.ReactCurrentBatchConfig,Ge=0,kt=null,yt=null,Vt=0,hn=0,Aa=Cr(0),Ct=0,ul=null,Jr=0,Jc=0,Zp=0,zi=null,cn=null,ef=0,qa=1/0,Ds=null,hc=!1,Lm=null,dr=null,co=!1,sr=null,xc=0,Ui=0,Fm=null,Oo=-1,Mo=0;function nn(){return Ge&6?gt():Oo!==-1?Oo:Oo=gt()}function ur(e){return e.mode&1?Ge&2&&Vt!==0?Vt&-Vt:e2.transition!==null?(Mo===0&&(Mo=N0()),Mo):(e=Qe,e!==0||(e=window.event,e=e===void 0?16:T0(e.type)),e):1}function ns(e,n,s,r){if(50<Ui)throw Ui=0,Fm=null,Error(ie(185));Dl(e,s,r),(!(Ge&2)||e!==kt)&&(e===kt&&(!(Ge&2)&&(Jc|=s),Ct===4&&tr(e,Vt)),pn(e,r),s===1&&Ge===0&&!(n.mode&1)&&(qa=gt()+500,Qc&&Er()))}function pn(e,n){var s=e.callbackNode;eS(e,n);var r=Zo(e,e===kt?Vt:0);if(r===0)s!==null&&kh(s),e.callbackNode=null,e.callbackPriority=0;else if(n=r&-r,e.callbackPriority!==n){if(s!=null&&kh(s),n===1)e.tag===0?ZS(Nx.bind(null,e)):K0(Nx.bind(null,e)),KS(function(){!(Ge&6)&&Er()}),s=null;else{switch(S0(r)){case 1:s=Ep;break;case 4:s=b0;break;case 16:s=Jo;break;case 536870912:s=w0;break;default:s=Jo}s=qj(s,Bj.bind(null,e))}e.callbackPriority=n,e.callbackNode=s}}function Bj(e,n){if(Oo=-1,Mo=0,Ge&6)throw Error(ie(327));var s=e.callbackNode;if(Oa()&&e.callbackNode!==s)return null;var r=Zo(e,e===kt?Vt:0);if(r===0)return null;if(r&30||r&e.expiredLanes||n)n=gc(e,r);else{n=r;var a=Ge;Ge|=2;var i=zj();(kt!==e||Vt!==n)&&(Ds=null,qa=gt()+500,Gr(e,n));do try{y2();break}catch(o){Vj(e,o)}while(1);$p(),fc.current=i,Ge=a,yt!==null?n=0:(kt=null,Vt=0,n=Ct)}if(n!==0){if(n===2&&(a=om(e),a!==0&&(r=a,n=Om(e,a))),n===1)throw s=ul,Gr(e,0),tr(e,r),pn(e,gt()),s;if(n===6)tr(e,r);else{if(a=e.current.alternate,!(r&30)&&!v2(a)&&(n=gc(e,r),n===2&&(i=om(e),i!==0&&(r=i,n=Om(e,i))),n===1))throw s=ul,Gr(e,0),tr(e,r),pn(e,gt()),s;switch(e.finishedWork=a,e.finishedLanes=r,n){case 0:case 1:throw Error(ie(345));case 2:Fr(e,cn,Ds);break;case 3:if(tr(e,r),(r&130023424)===r&&(n=ef+500-gt(),10<n)){if(Zo(e,0)!==0)break;if(a=e.suspendedLanes,(a&r)!==r){nn(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=xm(Fr.bind(null,e,cn,Ds),n);break}Fr(e,cn,Ds);break;case 4:if(tr(e,r),(r&4194240)===r)break;for(n=e.eventTimes,a=-1;0<r;){var l=31-ts(r);i=1<<l,l=n[l],l>a&&(a=l),r&=~i}if(r=a,r=gt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*g2(r/1960))-r,10<r){e.timeoutHandle=xm(Fr.bind(null,e,cn,Ds),r);break}Fr(e,cn,Ds);break;case 5:Fr(e,cn,Ds);break;default:throw Error(ie(329))}}}return pn(e,gt()),e.callbackNode===s?Bj.bind(null,e):null}function Om(e,n){var s=zi;return e.current.memoizedState.isDehydrated&&(Gr(e,n).flags|=256),e=gc(e,n),e!==2&&(n=cn,cn=s,n!==null&&Mm(n)),e}function Mm(e){cn===null?cn=e:cn.push.apply(cn,e)}function v2(e){for(var n=e;;){if(n.flags&16384){var s=n.updateQueue;if(s!==null&&(s=s.stores,s!==null))for(var r=0;r<s.length;r++){var a=s[r],i=a.getSnapshot;a=a.value;try{if(!ss(i(),a))return!1}catch{return!1}}}if(s=n.child,n.subtreeFlags&16384&&s!==null)s.return=n,n=s;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function tr(e,n){for(n&=~Zp,n&=~Jc,e.suspendedLanes|=n,e.pingedLanes&=~n,e=e.expirationTimes;0<n;){var s=31-ts(n),r=1<<s;e[s]=-1,n&=~r}}function Nx(e){if(Ge&6)throw Error(ie(327));Oa();var n=Zo(e,0);if(!(n&1))return pn(e,gt()),null;var s=gc(e,n);if(e.tag!==0&&s===2){var r=om(e);r!==0&&(n=r,s=Om(e,r))}if(s===1)throw s=ul,Gr(e,0),tr(e,n),pn(e,gt()),s;if(s===6)throw Error(ie(345));return e.finishedWork=e.current.alternate,e.finishedLanes=n,Fr(e,cn,Ds),pn(e,gt()),null}function tf(e,n){var s=Ge;Ge|=1;try{return e(n)}finally{Ge=s,Ge===0&&(qa=gt()+500,Qc&&Er())}}function Zr(e){sr!==null&&sr.tag===0&&!(Ge&6)&&Oa();var n=Ge;Ge|=1;var s=_n.transition,r=Qe;try{if(_n.transition=null,Qe=1,e)return e()}finally{Qe=r,_n.transition=s,Ge=n,!(Ge&6)&&Er()}}function nf(){hn=Aa.current,at(Aa)}function Gr(e,n){e.finishedWork=null,e.finishedLanes=0;var s=e.timeoutHandle;if(s!==-1&&(e.timeoutHandle=-1,QS(s)),yt!==null)for(s=yt.return;s!==null;){var r=s;switch(Op(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&rc();break;case 3:Ha(),at(un),at(Jt),Hp();break;case 5:Wp(r);break;case 4:Ha();break;case 13:at(mt);break;case 19:at(mt);break;case 10:Bp(r.type._context);break;case 22:case 23:nf()}s=s.return}if(kt=e,yt=e=mr(e.current,null),Vt=hn=n,Ct=0,ul=null,Zp=Jc=Jr=0,cn=zi=null,$r!==null){for(n=0;n<$r.length;n++)if(s=$r[n],r=s.interleaved,r!==null){s.interleaved=null;var a=r.next,i=s.pending;if(i!==null){var l=i.next;i.next=a,r.next=l}s.pending=r}$r=null}return e}function Vj(e,n){do{var s=yt;try{if($p(),Ro.current=pc,mc){for(var r=pt.memoizedState;r!==null;){var a=r.queue;a!==null&&(a.pending=null),r=r.next}mc=!1}if(Xr=0,At=St=pt=null,Bi=!1,ol=0,Jp.current=null,s===null||s.return===null){Ct=1,ul=n,yt=null;break}e:{var i=e,l=s.return,o=s,c=n;if(n=Vt,o.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c,m=o,u=m.tag;if(!(m.mode&1)&&(u===0||u===11||u===15)){var p=m.alternate;p?(m.updateQueue=p.updateQueue,m.memoizedState=p.memoizedState,m.lanes=p.lanes):(m.updateQueue=null,m.memoizedState=null)}var h=dx(l);if(h!==null){h.flags&=-257,ux(h,l,o,i,n),h.mode&1&&cx(i,d,n),n=h,c=d;var v=n.updateQueue;if(v===null){var j=new Set;j.add(c),n.updateQueue=j}else v.add(c);break e}else{if(!(n&1)){cx(i,d,n),sf();break e}c=Error(ie(426))}}else if(it&&o.mode&1){var y=dx(l);if(y!==null){!(y.flags&65536)&&(y.flags|=256),ux(y,l,o,i,n),Mp(Ga(c,o));break e}}i=c=Ga(c,o),Ct!==4&&(Ct=2),zi===null?zi=[i]:zi.push(i),i=l;do{switch(i.tag){case 3:i.flags|=65536,n&=-n,i.lanes|=n;var g=Sj(i,c,n);sx(i,g);break e;case 1:o=c;var x=i.type,b=i.stateNode;if(!(i.flags&128)&&(typeof x.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(dr===null||!dr.has(b)))){i.flags|=65536,n&=-n,i.lanes|=n;var T=Cj(i,o,n);sx(i,T);break e}}i=i.return}while(i!==null)}Wj(s)}catch(L){n=L,yt===s&&s!==null&&(yt=s=s.return);continue}break}while(1)}function zj(){var e=fc.current;return fc.current=pc,e===null?pc:e}function sf(){(Ct===0||Ct===3||Ct===2)&&(Ct=4),kt===null||!(Jr&268435455)&&!(Jc&268435455)||tr(kt,Vt)}function gc(e,n){var s=Ge;Ge|=2;var r=zj();(kt!==e||Vt!==n)&&(Ds=null,Gr(e,n));do try{j2();break}catch(a){Vj(e,a)}while(1);if($p(),Ge=s,fc.current=r,yt!==null)throw Error(ie(261));return kt=null,Vt=0,Ct}function j2(){for(;yt!==null;)Uj(yt)}function y2(){for(;yt!==null&&!H1();)Uj(yt)}function Uj(e){var n=Gj(e.alternate,e,hn);e.memoizedProps=e.pendingProps,n===null?Wj(e):yt=n,Jp.current=null}function Wj(e){var n=e;do{var s=n.alternate;if(e=n.return,n.flags&32768){if(s=p2(s,n),s!==null){s.flags&=32767,yt=s;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Ct=6,yt=null;return}}else if(s=m2(s,n,hn),s!==null){yt=s;return}if(n=n.sibling,n!==null){yt=n;return}yt=n=e}while(n!==null);Ct===0&&(Ct=5)}function Fr(e,n,s){var r=Qe,a=_n.transition;try{_n.transition=null,Qe=1,b2(e,n,s,r)}finally{_n.transition=a,Qe=r}return null}function b2(e,n,s,r){do Oa();while(sr!==null);if(Ge&6)throw Error(ie(327));s=e.finishedWork;var a=e.finishedLanes;if(s===null)return null;if(e.finishedWork=null,e.finishedLanes=0,s===e.current)throw Error(ie(177));e.callbackNode=null,e.callbackPriority=0;var i=s.lanes|s.childLanes;if(tS(e,i),e===kt&&(yt=kt=null,Vt=0),!(s.subtreeFlags&2064)&&!(s.flags&2064)||co||(co=!0,qj(Jo,function(){return Oa(),null})),i=(s.flags&15990)!==0,s.subtreeFlags&15990||i){i=_n.transition,_n.transition=null;var l=Qe;Qe=1;var o=Ge;Ge|=4,Jp.current=null,h2(e,s),_j(s,e),VS(fm),ec=!!pm,fm=pm=null,e.current=s,x2(s),G1(),Ge=o,Qe=l,_n.transition=i}else e.current=s;if(co&&(co=!1,sr=e,xc=a),i=e.pendingLanes,i===0&&(dr=null),K1(s.stateNode),pn(e,gt()),n!==null)for(r=e.onRecoverableError,s=0;s<n.length;s++)a=n[s],r(a.value,{componentStack:a.stack,digest:a.digest});if(hc)throw hc=!1,e=Lm,Lm=null,e;return xc&1&&e.tag!==0&&Oa(),i=e.pendingLanes,i&1?e===Fm?Ui++:(Ui=0,Fm=e):Ui=0,Er(),null}function Oa(){if(sr!==null){var e=S0(xc),n=_n.transition,s=Qe;try{if(_n.transition=null,Qe=16>e?16:e,sr===null)var r=!1;else{if(e=sr,sr=null,xc=0,Ge&6)throw Error(ie(331));var a=Ge;for(Ge|=4,Ce=e.current;Ce!==null;){var i=Ce,l=i.child;if(Ce.flags&16){var o=i.deletions;if(o!==null){for(var c=0;c<o.length;c++){var d=o[c];for(Ce=d;Ce!==null;){var m=Ce;switch(m.tag){case 0:case 11:case 15:Vi(8,m,i)}var u=m.child;if(u!==null)u.return=m,Ce=u;else for(;Ce!==null;){m=Ce;var p=m.sibling,h=m.return;if(Fj(m),m===d){Ce=null;break}if(p!==null){p.return=h,Ce=p;break}Ce=h}}}var v=i.alternate;if(v!==null){var j=v.child;if(j!==null){v.child=null;do{var y=j.sibling;j.sibling=null,j=y}while(j!==null)}}Ce=i}}if(i.subtreeFlags&2064&&l!==null)l.return=i,Ce=l;else e:for(;Ce!==null;){if(i=Ce,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Vi(9,i,i.return)}var g=i.sibling;if(g!==null){g.return=i.return,Ce=g;break e}Ce=i.return}}var x=e.current;for(Ce=x;Ce!==null;){l=Ce;var b=l.child;if(l.subtreeFlags&2064&&b!==null)b.return=l,Ce=b;else e:for(l=x;Ce!==null;){if(o=Ce,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:Xc(9,o)}}catch(L){ht(o,o.return,L)}if(o===l){Ce=null;break e}var T=o.sibling;if(T!==null){T.return=o.return,Ce=T;break e}Ce=o.return}}if(Ge=a,Er(),js&&typeof js.onPostCommitFiberRoot=="function")try{js.onPostCommitFiberRoot(Uc,e)}catch{}r=!0}return r}finally{Qe=s,_n.transition=n}}return!1}function Sx(e,n,s){n=Ga(s,n),n=Sj(e,n,1),e=cr(e,n,1),n=nn(),e!==null&&(Dl(e,1,n),pn(e,n))}function ht(e,n,s){if(e.tag===3)Sx(e,e,s);else for(;n!==null;){if(n.tag===3){Sx(n,e,s);break}else if(n.tag===1){var r=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(dr===null||!dr.has(r))){e=Ga(s,e),e=Cj(n,e,1),n=cr(n,e,1),e=nn(),n!==null&&(Dl(n,1,e),pn(n,e));break}}n=n.return}}function w2(e,n,s){var r=e.pingCache;r!==null&&r.delete(n),n=nn(),e.pingedLanes|=e.suspendedLanes&s,kt===e&&(Vt&s)===s&&(Ct===4||Ct===3&&(Vt&130023424)===Vt&&500>gt()-ef?Gr(e,0):Zp|=s),pn(e,n)}function Hj(e,n){n===0&&(e.mode&1?(n=Zl,Zl<<=1,!(Zl&130023424)&&(Zl=4194304)):n=1);var s=nn();e=$s(e,n),e!==null&&(Dl(e,n,s),pn(e,s))}function N2(e){var n=e.memoizedState,s=0;n!==null&&(s=n.retryLane),Hj(e,s)}function S2(e,n){var s=0;switch(e.tag){case 13:var r=e.stateNode,a=e.memoizedState;a!==null&&(s=a.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(ie(314))}r!==null&&r.delete(n),Hj(e,s)}var Gj;Gj=function(e,n,s){if(e!==null)if(e.memoizedProps!==n.pendingProps||un.current)dn=!0;else{if(!(e.lanes&s)&&!(n.flags&128))return dn=!1,u2(e,n,s);dn=!!(e.flags&131072)}else dn=!1,it&&n.flags&1048576&&Y0(n,lc,n.index);switch(n.lanes=0,n.tag){case 2:var r=n.type;Fo(e,n),e=n.pendingProps;var a=za(n,Jt.current);Fa(n,s),a=qp(null,n,r,e,a,s);var i=Qp();return n.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(n.tag=1,n.memoizedState=null,n.updateQueue=null,mn(r)?(i=!0,ac(n)):i=!1,n.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,zp(n),a.updater=Yc,n.stateNode=a,a._reactInternals=n,Nm(n,r,e,s),n=Em(null,n,r,!0,i,s)):(n.tag=0,it&&i&&Fp(n),tn(null,n,a,s),n=n.child),n;case 16:r=n.elementType;e:{switch(Fo(e,n),e=n.pendingProps,a=r._init,r=a(r._payload),n.type=r,a=n.tag=E2(r),e=Qn(r,e),a){case 0:n=Cm(null,n,r,e,s);break e;case 1:n=fx(null,n,r,e,s);break e;case 11:n=mx(null,n,r,e,s);break e;case 14:n=px(null,n,r,Qn(r.type,e),s);break e}throw Error(ie(306,r,""))}return n;case 0:return r=n.type,a=n.pendingProps,a=n.elementType===r?a:Qn(r,a),Cm(e,n,r,a,s);case 1:return r=n.type,a=n.pendingProps,a=n.elementType===r?a:Qn(r,a),fx(e,n,r,a,s);case 3:e:{if(Aj(n),e===null)throw Error(ie(387));r=n.pendingProps,i=n.memoizedState,a=i.element,nj(e,n),dc(n,r,null,s);var l=n.memoizedState;if(r=l.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:l.cache,pendingSuspenseBoundaries:l.pendingSuspenseBoundaries,transitions:l.transitions},n.updateQueue.baseState=i,n.memoizedState=i,n.flags&256){a=Ga(Error(ie(423)),n),n=hx(e,n,r,s,a);break e}else if(r!==a){a=Ga(Error(ie(424)),n),n=hx(e,n,r,s,a);break e}else for(vn=or(n.stateNode.containerInfo.firstChild),yn=n,it=!0,Xn=null,s=ej(n,null,r,s),n.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if(Ua(),r===a){n=Bs(e,n,s);break e}tn(e,n,r,s)}n=n.child}return n;case 5:return sj(n),e===null&&ym(n),r=n.type,a=n.pendingProps,i=e!==null?e.memoizedProps:null,l=a.children,hm(r,a)?l=null:i!==null&&hm(r,i)&&(n.flags|=32),Dj(e,n),tn(e,n,l,s),n.child;case 6:return e===null&&ym(n),null;case 13:return Tj(e,n,s);case 4:return Up(n,n.stateNode.containerInfo),r=n.pendingProps,e===null?n.child=Wa(n,null,r,s):tn(e,n,r,s),n.child;case 11:return r=n.type,a=n.pendingProps,a=n.elementType===r?a:Qn(r,a),mx(e,n,r,a,s);case 7:return tn(e,n,n.pendingProps,s),n.child;case 8:return tn(e,n,n.pendingProps.children,s),n.child;case 12:return tn(e,n,n.pendingProps.children,s),n.child;case 10:e:{if(r=n.type._context,a=n.pendingProps,i=n.memoizedProps,l=a.value,tt(oc,r._currentValue),r._currentValue=l,i!==null)if(ss(i.value,l)){if(i.children===a.children&&!un.current){n=Bs(e,n,s);break e}}else for(i=n.child,i!==null&&(i.return=n);i!==null;){var o=i.dependencies;if(o!==null){l=i.child;for(var c=o.firstContext;c!==null;){if(c.context===r){if(i.tag===1){c=Os(-1,s&-s),c.tag=2;var d=i.updateQueue;if(d!==null){d=d.shared;var m=d.pending;m===null?c.next=c:(c.next=m.next,m.next=c),d.pending=c}}i.lanes|=s,c=i.alternate,c!==null&&(c.lanes|=s),bm(i.return,s,n),o.lanes|=s;break}c=c.next}}else if(i.tag===10)l=i.type===n.type?null:i.child;else if(i.tag===18){if(l=i.return,l===null)throw Error(ie(341));l.lanes|=s,o=l.alternate,o!==null&&(o.lanes|=s),bm(l,s,n),l=i.sibling}else l=i.child;if(l!==null)l.return=i;else for(l=i;l!==null;){if(l===n){l=null;break}if(i=l.sibling,i!==null){i.return=l.return,l=i;break}l=l.return}i=l}tn(e,n,a.children,s),n=n.child}return n;case 9:return a=n.type,r=n.pendingProps.children,Fa(n,s),a=Vn(a),r=r(a),n.flags|=1,tn(e,n,r,s),n.child;case 14:return r=n.type,a=Qn(r,n.pendingProps),a=Qn(r.type,a),px(e,n,r,a,s);case 15:return Ej(e,n,n.type,n.pendingProps,s);case 17:return r=n.type,a=n.pendingProps,a=n.elementType===r?a:Qn(r,a),Fo(e,n),n.tag=1,mn(r)?(e=!0,ac(n)):e=!1,Fa(n,s),Nj(n,r,a),Nm(n,r,a,s),Em(null,n,r,!0,e,s);case 19:return kj(e,n,s);case 22:return Ij(e,n,s)}throw Error(ie(156,n.tag))};function qj(e,n){return y0(e,n)}function C2(e,n,s,r){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function On(e,n,s,r){return new C2(e,n,s,r)}function rf(e){return e=e.prototype,!(!e||!e.isReactComponent)}function E2(e){if(typeof e=="function")return rf(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Np)return 11;if(e===Sp)return 14}return 2}function mr(e,n){var s=e.alternate;return s===null?(s=On(e.tag,n,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=n,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&14680064,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,n=e.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s}function _o(e,n,s,r,a,i){var l=2;if(r=e,typeof e=="function")rf(e)&&(l=1);else if(typeof e=="string")l=5;else e:switch(e){case ja:return qr(s.children,a,i,n);case wp:l=8,a|=8;break;case qu:return e=On(12,s,n,a|2),e.elementType=qu,e.lanes=i,e;case Qu:return e=On(13,s,n,a),e.elementType=Qu,e.lanes=i,e;case Ku:return e=On(19,s,n,a),e.elementType=Ku,e.lanes=i,e;case s0:return Zc(s,a,i,n);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case t0:l=10;break e;case n0:l=9;break e;case Np:l=11;break e;case Sp:l=14;break e;case Js:l=16,r=null;break e}throw Error(ie(130,e==null?e:typeof e,""))}return n=On(l,s,n,a),n.elementType=e,n.type=r,n.lanes=i,n}function qr(e,n,s,r){return e=On(7,e,r,n),e.lanes=s,e}function Zc(e,n,s,r){return e=On(22,e,r,n),e.elementType=s0,e.lanes=s,e.stateNode={isHidden:!1},e}function uu(e,n,s){return e=On(6,e,null,n),e.lanes=s,e}function mu(e,n,s){return n=On(4,e.children!==null?e.children:[],e.key,n),n.lanes=s,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}function I2(e,n,s,r,a){this.tag=n,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Gd(0),this.expirationTimes=Gd(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Gd(0),this.identifierPrefix=r,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function af(e,n,s,r,a,i,l,o,c){return e=new I2(e,n,s,o,c),n===1?(n=1,i===!0&&(n|=8)):n=0,i=On(3,null,null,n),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:s,cache:null,transitions:null,pendingSuspenseBoundaries:null},zp(i),e}function D2(e,n,s){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:va,key:r==null?null:""+r,children:e,containerInfo:n,implementation:s}}function Qj(e){if(!e)return jr;e=e._reactInternals;e:{if(aa(e)!==e||e.tag!==1)throw Error(ie(170));var n=e;do{switch(n.tag){case 3:n=n.stateNode.context;break e;case 1:if(mn(n.type)){n=n.stateNode.__reactInternalMemoizedMergedChildContext;break e}}n=n.return}while(n!==null);throw Error(ie(171))}if(e.tag===1){var s=e.type;if(mn(s))return Q0(e,s,n)}return n}function Kj(e,n,s,r,a,i,l,o,c){return e=af(s,r,!0,e,a,i,l,o,c),e.context=Qj(null),s=e.current,r=nn(),a=ur(s),i=Os(r,a),i.callback=n??null,cr(s,i,a),e.current.lanes=a,Dl(e,a,r),pn(e,r),e}function ed(e,n,s,r){var a=n.current,i=nn(),l=ur(a);return s=Qj(s),n.context===null?n.context=s:n.pendingContext=s,n=Os(i,l),n.payload={element:e},r=r===void 0?null:r,r!==null&&(n.callback=r),e=cr(a,n,l),e!==null&&(ns(e,a,l,i),Po(e,a,l)),l}function vc(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Cx(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<n?s:n}}function lf(e,n){Cx(e,n),(e=e.alternate)&&Cx(e,n)}function A2(){return null}var Yj=typeof reportError=="function"?reportError:function(e){console.error(e)};function of(e){this._internalRoot=e}td.prototype.render=of.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(ie(409));ed(e,n,null,null)};td.prototype.unmount=of.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;Zr(function(){ed(null,e,null,null)}),n[_s]=null}};function td(e){this._internalRoot=e}td.prototype.unstable_scheduleHydration=function(e){if(e){var n=I0();e={blockedOn:null,target:e,priority:n};for(var s=0;s<er.length&&n!==0&&n<er[s].priority;s++);er.splice(s,0,e),s===0&&A0(e)}};function cf(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function nd(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Ex(){}function T2(e,n,s,r,a){if(a){if(typeof r=="function"){var i=r;r=function(){var d=vc(l);i.call(d)}}var l=Kj(n,r,e,0,null,!1,!1,"",Ex);return e._reactRootContainer=l,e[_s]=l.current,sl(e.nodeType===8?e.parentNode:e),Zr(),l}for(;a=e.lastChild;)e.removeChild(a);if(typeof r=="function"){var o=r;r=function(){var d=vc(c);o.call(d)}}var c=af(e,0,!1,null,null,!1,!1,"",Ex);return e._reactRootContainer=c,e[_s]=c.current,sl(e.nodeType===8?e.parentNode:e),Zr(function(){ed(n,c,s,r)}),c}function sd(e,n,s,r,a){var i=s._reactRootContainer;if(i){var l=i;if(typeof a=="function"){var o=a;a=function(){var c=vc(l);o.call(c)}}ed(n,l,e,a)}else l=T2(s,n,e,a,r);return vc(l)}C0=function(e){switch(e.tag){case 3:var n=e.stateNode;if(n.current.memoizedState.isDehydrated){var s=Pi(n.pendingLanes);s!==0&&(Ip(n,s|1),pn(n,gt()),!(Ge&6)&&(qa=gt()+500,Er()))}break;case 13:Zr(function(){var r=$s(e,1);if(r!==null){var a=nn();ns(r,e,1,a)}}),lf(e,1)}};Dp=function(e){if(e.tag===13){var n=$s(e,134217728);if(n!==null){var s=nn();ns(n,e,134217728,s)}lf(e,134217728)}};E0=function(e){if(e.tag===13){var n=ur(e),s=$s(e,n);if(s!==null){var r=nn();ns(s,e,n,r)}lf(e,n)}};I0=function(){return Qe};D0=function(e,n){var s=Qe;try{return Qe=e,n()}finally{Qe=s}};am=function(e,n,s){switch(n){case"input":if(Ju(e,s),n=s.name,s.type==="radio"&&n!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll("input[name="+JSON.stringify(""+n)+'][type="radio"]'),n=0;n<s.length;n++){var r=s[n];if(r!==e&&r.form===e.form){var a=qc(r);if(!a)throw Error(ie(90));a0(r),Ju(r,a)}}}break;case"textarea":l0(e,s);break;case"select":n=s.value,n!=null&&ka(e,!!s.multiple,n,!1)}};f0=tf;h0=Zr;var k2={usingClientEntryPoint:!1,Events:[Tl,Na,qc,m0,p0,tf]},Ni={findFiberByHostInstance:_r,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},P2={bundleType:Ni.bundleType,version:Ni.version,rendererPackageName:Ni.rendererPackageName,rendererConfig:Ni.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Hs.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=v0(e),e===null?null:e.stateNode},findFiberByHostInstance:Ni.findFiberByHostInstance||A2,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var uo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!uo.isDisabled&&uo.supportsFiber)try{Uc=uo.inject(P2),js=uo}catch{}}En.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=k2;En.createPortal=function(e,n){var s=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!cf(n))throw Error(ie(200));return D2(e,n,null,s)};En.createRoot=function(e,n){if(!cf(e))throw Error(ie(299));var s=!1,r="",a=Yj;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(r=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),n=af(e,1,!1,null,null,s,!1,r,a),e[_s]=n.current,sl(e.nodeType===8?e.parentNode:e),new of(n)};En.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(ie(188)):(e=Object.keys(e).join(","),Error(ie(268,e)));return e=v0(n),e=e===null?null:e.stateNode,e};En.flushSync=function(e){return Zr(e)};En.hydrate=function(e,n,s){if(!nd(n))throw Error(ie(200));return sd(null,e,n,!0,s)};En.hydrateRoot=function(e,n,s){if(!cf(e))throw Error(ie(405));var r=s!=null&&s.hydratedSources||null,a=!1,i="",l=Yj;if(s!=null&&(s.unstable_strictMode===!0&&(a=!0),s.identifierPrefix!==void 0&&(i=s.identifierPrefix),s.onRecoverableError!==void 0&&(l=s.onRecoverableError)),n=Kj(n,null,e,1,s??null,a,!1,i,l),e[_s]=n.current,sl(e),r)for(e=0;e<r.length;e++)s=r[e],a=s._getVersion,a=a(s._source),n.mutableSourceEagerHydrationData==null?n.mutableSourceEagerHydrationData=[s,a]:n.mutableSourceEagerHydrationData.push(s,a);return new td(n)};En.render=function(e,n,s){if(!nd(n))throw Error(ie(200));return sd(null,e,n,!1,s)};En.unmountComponentAtNode=function(e){if(!nd(e))throw Error(ie(40));return e._reactRootContainer?(Zr(function(){sd(null,null,e,!1,function(){e._reactRootContainer=null,e[_s]=null})}),!0):!1};En.unstable_batchedUpdates=tf;En.unstable_renderSubtreeIntoContainer=function(e,n,s,r){if(!nd(s))throw Error(ie(200));if(e==null||e._reactInternals===void 0)throw Error(ie(38));return sd(e,n,s,!1,r)};En.version="18.3.1-next-f1338f8080-20240426";function Xj(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Xj)}catch(e){console.error(e)}}Xj(),Xv.exports=En;var Gs=Xv.exports;const df=El(Gs);var Ix=Gs;Hu.createRoot=Ix.createRoot,Hu.hydrateRoot=Ix.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ml(){return ml=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var s=arguments[n];for(var r in s)Object.prototype.hasOwnProperty.call(s,r)&&(e[r]=s[r])}return e},ml.apply(this,arguments)}var rr;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(rr||(rr={}));const Dx="popstate";function R2(e){e===void 0&&(e={});function n(r,a){let{pathname:i,search:l,hash:o}=r.location;return _m("",{pathname:i,search:l,hash:o},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function s(r,a){return typeof a=="string"?a:jc(a)}return F2(n,s,null,e)}function vt(e,n){if(e===!1||e===null||typeof e>"u")throw new Error(n)}function Jj(e,n){if(!e){typeof console<"u"&&console.warn(n);try{throw new Error(n)}catch{}}}function L2(){return Math.random().toString(36).substr(2,8)}function Ax(e,n){return{usr:e.state,key:e.key,idx:n}}function _m(e,n,s,r){return s===void 0&&(s=null),ml({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof n=="string"?ii(n):n,{state:s,key:n&&n.key||r||L2()})}function jc(e){let{pathname:n="/",search:s="",hash:r=""}=e;return s&&s!=="?"&&(n+=s.charAt(0)==="?"?s:"?"+s),r&&r!=="#"&&(n+=r.charAt(0)==="#"?r:"#"+r),n}function ii(e){let n={};if(e){let s=e.indexOf("#");s>=0&&(n.hash=e.substr(s),e=e.substr(0,s));let r=e.indexOf("?");r>=0&&(n.search=e.substr(r),e=e.substr(0,r)),e&&(n.pathname=e)}return n}function F2(e,n,s,r){r===void 0&&(r={});let{window:a=document.defaultView,v5Compat:i=!1}=r,l=a.history,o=rr.Pop,c=null,d=m();d==null&&(d=0,l.replaceState(ml({},l.state,{idx:d}),""));function m(){return(l.state||{idx:null}).idx}function u(){o=rr.Pop;let y=m(),g=y==null?null:y-d;d=y,c&&c({action:o,location:j.location,delta:g})}function p(y,g){o=rr.Push;let x=_m(j.location,y,g);s&&s(x,y),d=m()+1;let b=Ax(x,d),T=j.createHref(x);try{l.pushState(b,"",T)}catch(L){if(L instanceof DOMException&&L.name==="DataCloneError")throw L;a.location.assign(T)}i&&c&&c({action:o,location:j.location,delta:1})}function h(y,g){o=rr.Replace;let x=_m(j.location,y,g);s&&s(x,y),d=m();let b=Ax(x,d),T=j.createHref(x);l.replaceState(b,"",T),i&&c&&c({action:o,location:j.location,delta:0})}function v(y){let g=a.location.origin!=="null"?a.location.origin:a.location.href,x=typeof y=="string"?y:jc(y);return x=x.replace(/ $/,"%20"),vt(g,"No window.location.(origin|href) available to create URL for href: "+x),new URL(x,g)}let j={get action(){return o},get location(){return e(a,l)},listen(y){if(c)throw new Error("A history only accepts one active listener");return a.addEventListener(Dx,u),c=y,()=>{a.removeEventListener(Dx,u),c=null}},createHref(y){return n(a,y)},createURL:v,encodeLocation(y){let g=v(y);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:p,replace:h,go(y){return l.go(y)}};return j}var Tx;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Tx||(Tx={}));function O2(e,n,s){return s===void 0&&(s="/"),M2(e,n,s,!1)}function M2(e,n,s,r){let a=typeof n=="string"?ii(n):n,i=uf(a.pathname||"/",s);if(i==null)return null;let l=Zj(e);_2(l);let o=null;for(let c=0;o==null&&c<l.length;++c){let d=K2(i);o=q2(l[c],d,r)}return o}function Zj(e,n,s,r){n===void 0&&(n=[]),s===void 0&&(s=[]),r===void 0&&(r="");let a=(i,l,o)=>{let c={relativePath:o===void 0?i.path||"":o,caseSensitive:i.caseSensitive===!0,childrenIndex:l,route:i};c.relativePath.startsWith("/")&&(vt(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let d=pr([r,c.relativePath]),m=s.concat(c);i.children&&i.children.length>0&&(vt(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+d+'".')),Zj(i.children,n,m,d)),!(i.path==null&&!i.index)&&n.push({path:d,score:H2(d,i.index),routesMeta:m})};return e.forEach((i,l)=>{var o;if(i.path===""||!((o=i.path)!=null&&o.includes("?")))a(i,l);else for(let c of ey(i.path))a(i,l,c)}),n}function ey(e){let n=e.split("/");if(n.length===0)return[];let[s,...r]=n,a=s.endsWith("?"),i=s.replace(/\?$/,"");if(r.length===0)return a?[i,""]:[i];let l=ey(r.join("/")),o=[];return o.push(...l.map(c=>c===""?i:[i,c].join("/"))),a&&o.push(...l),o.map(c=>e.startsWith("/")&&c===""?"/":c)}function _2(e){e.sort((n,s)=>n.score!==s.score?s.score-n.score:G2(n.routesMeta.map(r=>r.childrenIndex),s.routesMeta.map(r=>r.childrenIndex)))}const $2=/^:[\w-]+$/,B2=3,V2=2,z2=1,U2=10,W2=-2,kx=e=>e==="*";function H2(e,n){let s=e.split("/"),r=s.length;return s.some(kx)&&(r+=W2),n&&(r+=V2),s.filter(a=>!kx(a)).reduce((a,i)=>a+($2.test(i)?B2:i===""?z2:U2),r)}function G2(e,n){return e.length===n.length&&e.slice(0,-1).every((r,a)=>r===n[a])?e[e.length-1]-n[n.length-1]:0}function q2(e,n,s){s===void 0&&(s=!1);let{routesMeta:r}=e,a={},i="/",l=[];for(let o=0;o<r.length;++o){let c=r[o],d=o===r.length-1,m=i==="/"?n:n.slice(i.length)||"/",u=Px({path:c.relativePath,caseSensitive:c.caseSensitive,end:d},m),p=c.route;if(!u&&d&&s&&!r[r.length-1].route.index&&(u=Px({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},m)),!u)return null;Object.assign(a,u.params),l.push({params:a,pathname:pr([i,u.pathname]),pathnameBase:Z2(pr([i,u.pathnameBase])),route:p}),u.pathnameBase!=="/"&&(i=pr([i,u.pathnameBase]))}return l}function Px(e,n){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[s,r]=Q2(e.path,e.caseSensitive,e.end),a=n.match(s);if(!a)return null;let i=a[0],l=i.replace(/(.)\/+$/,"$1"),o=a.slice(1);return{params:r.reduce((d,m,u)=>{let{paramName:p,isOptional:h}=m;if(p==="*"){let j=o[u]||"";l=i.slice(0,i.length-j.length).replace(/(.)\/+$/,"$1")}const v=o[u];return h&&!v?d[p]=void 0:d[p]=(v||"").replace(/%2F/g,"/"),d},{}),pathname:i,pathnameBase:l,pattern:e}}function Q2(e,n,s){n===void 0&&(n=!1),s===void 0&&(s=!0),Jj(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,o,c)=>(r.push({paramName:o,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):s?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,n?void 0:"i"),r]}function K2(e){try{return e.split("/").map(n=>decodeURIComponent(n).replace(/\//g,"%2F")).join("/")}catch(n){return Jj(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+n+").")),e}}function uf(e,n){if(n==="/")return e;if(!e.toLowerCase().startsWith(n.toLowerCase()))return null;let s=n.endsWith("/")?n.length-1:n.length,r=e.charAt(s);return r&&r!=="/"?null:e.slice(s)||"/"}function Y2(e,n){n===void 0&&(n="/");let{pathname:s,search:r="",hash:a=""}=typeof e=="string"?ii(e):e;return{pathname:s?s.startsWith("/")?s:X2(s,n):n,search:eC(r),hash:tC(a)}}function X2(e,n){let s=n.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?s.length>1&&s.pop():a!=="."&&s.push(a)}),s.length>1?s.join("/"):"/"}function pu(e,n,s,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+n+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+s+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function J2(e){return e.filter((n,s)=>s===0||n.route.path&&n.route.path.length>0)}function mf(e,n){let s=J2(e);return n?s.map((r,a)=>a===s.length-1?r.pathname:r.pathnameBase):s.map(r=>r.pathnameBase)}function pf(e,n,s,r){r===void 0&&(r=!1);let a;typeof e=="string"?a=ii(e):(a=ml({},e),vt(!a.pathname||!a.pathname.includes("?"),pu("?","pathname","search",a)),vt(!a.pathname||!a.pathname.includes("#"),pu("#","pathname","hash",a)),vt(!a.search||!a.search.includes("#"),pu("#","search","hash",a)));let i=e===""||a.pathname==="",l=i?"/":a.pathname,o;if(l==null)o=s;else{let u=n.length-1;if(!r&&l.startsWith("..")){let p=l.split("/");for(;p[0]==="..";)p.shift(),u-=1;a.pathname=p.join("/")}o=u>=0?n[u]:"/"}let c=Y2(a,o),d=l&&l!=="/"&&l.endsWith("/"),m=(i||l===".")&&s.endsWith("/");return!c.pathname.endsWith("/")&&(d||m)&&(c.pathname+="/"),c}const pr=e=>e.join("/").replace(/\/\/+/g,"/"),Z2=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),eC=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,tC=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function nC(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const ty=["post","put","patch","delete"];new Set(ty);const sC=["get",...ty];new Set(sC);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function pl(){return pl=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var s=arguments[n];for(var r in s)Object.prototype.hasOwnProperty.call(s,r)&&(e[r]=s[r])}return e},pl.apply(this,arguments)}const ff=f.createContext(null),rC=f.createContext(null),Ir=f.createContext(null),rd=f.createContext(null),Dr=f.createContext({outlet:null,matches:[],isDataRoute:!1}),ny=f.createContext(null);function aC(e,n){let{relative:s}=n===void 0?{}:n;li()||vt(!1);let{basename:r,navigator:a}=f.useContext(Ir),{hash:i,pathname:l,search:o}=ay(e,{relative:s}),c=l;return r!=="/"&&(c=l==="/"?r:pr([r,l])),a.createHref({pathname:c,search:o,hash:i})}function li(){return f.useContext(rd)!=null}function oi(){return li()||vt(!1),f.useContext(rd).location}function sy(e){f.useContext(Ir).static||f.useLayoutEffect(e)}function ry(){let{isDataRoute:e}=f.useContext(Dr);return e?vC():iC()}function iC(){li()||vt(!1);let e=f.useContext(ff),{basename:n,future:s,navigator:r}=f.useContext(Ir),{matches:a}=f.useContext(Dr),{pathname:i}=oi(),l=JSON.stringify(mf(a,s.v7_relativeSplatPath)),o=f.useRef(!1);return sy(()=>{o.current=!0}),f.useCallback(function(d,m){if(m===void 0&&(m={}),!o.current)return;if(typeof d=="number"){r.go(d);return}let u=pf(d,JSON.parse(l),i,m.relative==="path");e==null&&n!=="/"&&(u.pathname=u.pathname==="/"?n:pr([n,u.pathname])),(m.replace?r.replace:r.push)(u,m.state,m)},[n,r,l,i,e])}function ay(e,n){let{relative:s}=n===void 0?{}:n,{future:r}=f.useContext(Ir),{matches:a}=f.useContext(Dr),{pathname:i}=oi(),l=JSON.stringify(mf(a,r.v7_relativeSplatPath));return f.useMemo(()=>pf(e,JSON.parse(l),i,s==="path"),[e,l,i,s])}function lC(e,n){return oC(e,n)}function oC(e,n,s,r){li()||vt(!1);let{navigator:a}=f.useContext(Ir),{matches:i}=f.useContext(Dr),l=i[i.length-1],o=l?l.params:{};l&&l.pathname;let c=l?l.pathnameBase:"/";l&&l.route;let d=oi(),m;if(n){var u;let y=typeof n=="string"?ii(n):n;c==="/"||(u=y.pathname)!=null&&u.startsWith(c)||vt(!1),m=y}else m=d;let p=m.pathname||"/",h=p;if(c!=="/"){let y=c.replace(/^\//,"").split("/");h="/"+p.replace(/^\//,"").split("/").slice(y.length).join("/")}let v=O2(e,{pathname:h}),j=pC(v&&v.map(y=>Object.assign({},y,{params:Object.assign({},o,y.params),pathname:pr([c,a.encodeLocation?a.encodeLocation(y.pathname).pathname:y.pathname]),pathnameBase:y.pathnameBase==="/"?c:pr([c,a.encodeLocation?a.encodeLocation(y.pathnameBase).pathname:y.pathnameBase])})),i,s,r);return n&&j?f.createElement(rd.Provider,{value:{location:pl({pathname:"/",search:"",hash:"",state:null,key:"default"},m),navigationType:rr.Pop}},j):j}function cC(){let e=gC(),n=nC(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),s=e instanceof Error?e.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},i=null;return f.createElement(f.Fragment,null,f.createElement("h2",null,"Unexpected Application Error!"),f.createElement("h3",{style:{fontStyle:"italic"}},n),s?f.createElement("pre",{style:a},s):null,i)}const dC=f.createElement(cC,null);class uC extends f.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,s){return s.location!==n.location||s.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:s.error,location:s.location,revalidation:n.revalidation||s.revalidation}}componentDidCatch(n,s){console.error("React Router caught the following error during render",n,s)}render(){return this.state.error!==void 0?f.createElement(Dr.Provider,{value:this.props.routeContext},f.createElement(ny.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function mC(e){let{routeContext:n,match:s,children:r}=e,a=f.useContext(ff);return a&&a.static&&a.staticContext&&(s.route.errorElement||s.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=s.route.id),f.createElement(Dr.Provider,{value:n},r)}function pC(e,n,s,r){var a;if(n===void 0&&(n=[]),s===void 0&&(s=null),r===void 0&&(r=null),e==null){var i;if(!s)return null;if(s.errors)e=s.matches;else if((i=r)!=null&&i.v7_partialHydration&&n.length===0&&!s.initialized&&s.matches.length>0)e=s.matches;else return null}let l=e,o=(a=s)==null?void 0:a.errors;if(o!=null){let m=l.findIndex(u=>u.route.id&&(o==null?void 0:o[u.route.id])!==void 0);m>=0||vt(!1),l=l.slice(0,Math.min(l.length,m+1))}let c=!1,d=-1;if(s&&r&&r.v7_partialHydration)for(let m=0;m<l.length;m++){let u=l[m];if((u.route.HydrateFallback||u.route.hydrateFallbackElement)&&(d=m),u.route.id){let{loaderData:p,errors:h}=s,v=u.route.loader&&p[u.route.id]===void 0&&(!h||h[u.route.id]===void 0);if(u.route.lazy||v){c=!0,d>=0?l=l.slice(0,d+1):l=[l[0]];break}}}return l.reduceRight((m,u,p)=>{let h,v=!1,j=null,y=null;s&&(h=o&&u.route.id?o[u.route.id]:void 0,j=u.route.errorElement||dC,c&&(d<0&&p===0?(jC("route-fallback",!1),v=!0,y=null):d===p&&(v=!0,y=u.route.hydrateFallbackElement||null)));let g=n.concat(l.slice(0,p+1)),x=()=>{let b;return h?b=j:v?b=y:u.route.Component?b=f.createElement(u.route.Component,null):u.route.element?b=u.route.element:b=m,f.createElement(mC,{match:u,routeContext:{outlet:m,matches:g,isDataRoute:s!=null},children:b})};return s&&(u.route.ErrorBoundary||u.route.errorElement||p===0)?f.createElement(uC,{location:s.location,revalidation:s.revalidation,component:j,error:h,children:x(),routeContext:{outlet:null,matches:g,isDataRoute:!0}}):x()},null)}var iy=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(iy||{}),yc=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(yc||{});function fC(e){let n=f.useContext(ff);return n||vt(!1),n}function hC(e){let n=f.useContext(rC);return n||vt(!1),n}function xC(e){let n=f.useContext(Dr);return n||vt(!1),n}function ly(e){let n=xC(),s=n.matches[n.matches.length-1];return s.route.id||vt(!1),s.route.id}function gC(){var e;let n=f.useContext(ny),s=hC(yc.UseRouteError),r=ly(yc.UseRouteError);return n!==void 0?n:(e=s.errors)==null?void 0:e[r]}function vC(){let{router:e}=fC(iy.UseNavigateStable),n=ly(yc.UseNavigateStable),s=f.useRef(!1);return sy(()=>{s.current=!0}),f.useCallback(function(a,i){i===void 0&&(i={}),s.current&&(typeof a=="number"?e.navigate(a):e.navigate(a,pl({fromRouteId:n},i)))},[e,n])}const Rx={};function jC(e,n,s){!n&&!Rx[e]&&(Rx[e]=!0)}function yC(e,n){e==null||e.v7_startTransition,(e==null?void 0:e.v7_relativeSplatPath)===void 0&&(!n||n.v7_relativeSplatPath),n&&(n.v7_fetcherPersist,n.v7_normalizeFormMethod,n.v7_partialHydration,n.v7_skipActionErrorRevalidation)}function bC(e){let{to:n,replace:s,state:r,relative:a}=e;li()||vt(!1);let{future:i,static:l}=f.useContext(Ir),{matches:o}=f.useContext(Dr),{pathname:c}=oi(),d=ry(),m=pf(n,mf(o,i.v7_relativeSplatPath),c,a==="path"),u=JSON.stringify(m);return f.useEffect(()=>d(JSON.parse(u),{replace:s,state:r,relative:a}),[d,u,a,s,r]),null}function ke(e){vt(!1)}function wC(e){let{basename:n="/",children:s=null,location:r,navigationType:a=rr.Pop,navigator:i,static:l=!1,future:o}=e;li()&&vt(!1);let c=n.replace(/^\/*/,"/"),d=f.useMemo(()=>({basename:c,navigator:i,static:l,future:pl({v7_relativeSplatPath:!1},o)}),[c,o,i,l]);typeof r=="string"&&(r=ii(r));let{pathname:m="/",search:u="",hash:p="",state:h=null,key:v="default"}=r,j=f.useMemo(()=>{let y=uf(m,c);return y==null?null:{location:{pathname:y,search:u,hash:p,state:h,key:v},navigationType:a}},[c,m,u,p,h,v,a]);return j==null?null:f.createElement(Ir.Provider,{value:d},f.createElement(rd.Provider,{children:s,value:j}))}function Wt(e){let{children:n,location:s}=e;return lC($m(n),s)}new Promise(()=>{});function $m(e,n){n===void 0&&(n=[]);let s=[];return f.Children.forEach(e,(r,a)=>{if(!f.isValidElement(r))return;let i=[...n,a];if(r.type===f.Fragment){s.push.apply(s,$m(r.props.children,i));return}r.type!==ke&&vt(!1),!r.props.index||!r.props.children||vt(!1);let l={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(l.children=$m(r.props.children,i)),s.push(l)}),s}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Bm(){return Bm=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var s=arguments[n];for(var r in s)Object.prototype.hasOwnProperty.call(s,r)&&(e[r]=s[r])}return e},Bm.apply(this,arguments)}function NC(e,n){if(e==null)return{};var s={},r=Object.keys(e),a,i;for(i=0;i<r.length;i++)a=r[i],!(n.indexOf(a)>=0)&&(s[a]=e[a]);return s}function SC(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function CC(e,n){return e.button===0&&(!n||n==="_self")&&!SC(e)}const EC=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],IC="6";try{window.__reactRouterVersion=IC}catch{}const DC="startTransition",Lx=zc[DC];function AC(e){let{basename:n,children:s,future:r,window:a}=e,i=f.useRef();i.current==null&&(i.current=R2({window:a,v5Compat:!0}));let l=i.current,[o,c]=f.useState({action:l.action,location:l.location}),{v7_startTransition:d}=r||{},m=f.useCallback(u=>{d&&Lx?Lx(()=>c(u)):c(u)},[c,d]);return f.useLayoutEffect(()=>l.listen(m),[l,m]),f.useEffect(()=>yC(r),[r]),f.createElement(wC,{basename:n,children:s,location:o.location,navigationType:o.action,navigator:l,future:r})}const TC=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",kC=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,PC=f.forwardRef(function(n,s){let{onClick:r,relative:a,reloadDocument:i,replace:l,state:o,target:c,to:d,preventScrollReset:m,viewTransition:u}=n,p=NC(n,EC),{basename:h}=f.useContext(Ir),v,j=!1;if(typeof d=="string"&&kC.test(d)&&(v=d,TC))try{let b=new URL(window.location.href),T=d.startsWith("//")?new URL(b.protocol+d):new URL(d),L=uf(T.pathname,h);T.origin===b.origin&&L!=null?d=L+T.search+T.hash:j=!0}catch{}let y=aC(d,{relative:a}),g=RC(d,{replace:l,state:o,target:c,preventScrollReset:m,relative:a,viewTransition:u});function x(b){r&&r(b),b.defaultPrevented||g(b)}return f.createElement("a",Bm({},p,{href:v||y,onClick:j||i?r:x,ref:s,target:c}))});var Fx;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Fx||(Fx={}));var Ox;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Ox||(Ox={}));function RC(e,n){let{target:s,replace:r,state:a,preventScrollReset:i,relative:l,viewTransition:o}=n===void 0?{}:n,c=ry(),d=oi(),m=ay(e,{relative:l});return f.useCallback(u=>{if(CC(u,s)){u.preventDefault();let p=r!==void 0?r:jc(d)===jc(m);c(e,{replace:p,state:a,preventScrollReset:i,relative:l,viewTransition:o})}},[d,c,m,r,a,s,e,i,l,o])}function lt(e,n,{checkForDefaultPrevented:s=!0}={}){return function(a){if(e==null||e(a),s===!1||!a.defaultPrevented)return n==null?void 0:n(a)}}function Mx(e,n){if(typeof e=="function")return e(n);e!=null&&(e.current=n)}function oy(...e){return n=>{let s=!1;const r=e.map(a=>{const i=Mx(a,n);return!s&&typeof i=="function"&&(s=!0),i});if(s)return()=>{for(let a=0;a<r.length;a++){const i=r[a];typeof i=="function"?i():Mx(e[a],null)}}}}function ws(...e){return f.useCallback(oy(...e),e)}function ci(e,n=[]){let s=[];function r(i,l){const o=f.createContext(l),c=s.length;s=[...s,l];const d=u=>{var g;const{scope:p,children:h,...v}=u,j=((g=p==null?void 0:p[e])==null?void 0:g[c])||o,y=f.useMemo(()=>v,Object.values(v));return t.jsx(j.Provider,{value:y,children:h})};d.displayName=i+"Provider";function m(u,p){var j;const h=((j=p==null?void 0:p[e])==null?void 0:j[c])||o,v=f.useContext(h);if(v)return v;if(l!==void 0)return l;throw new Error(`\`${u}\` must be used within \`${i}\``)}return[d,m]}const a=()=>{const i=s.map(l=>f.createContext(l));return function(o){const c=(o==null?void 0:o[e])||i;return f.useMemo(()=>({[`__scope${e}`]:{...o,[e]:c}}),[o,c])}};return a.scopeName=e,[r,LC(a,...n)]}function LC(...e){const n=e[0];if(e.length===1)return n;const s=()=>{const r=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(i){const l=r.reduce((o,{useScope:c,scopeName:d})=>{const u=c(i)[`__scope${d}`];return{...o,...u}},{});return f.useMemo(()=>({[`__scope${n.scopeName}`]:l}),[l])}};return s.scopeName=n.scopeName,s}function bc(e){const n=OC(e),s=f.forwardRef((r,a)=>{const{children:i,...l}=r,o=f.Children.toArray(i),c=o.find(_C);if(c){const d=c.props.children,m=o.map(u=>u===c?f.Children.count(d)>1?f.Children.only(null):f.isValidElement(d)?d.props.children:null:u);return t.jsx(n,{...l,ref:a,children:f.isValidElement(d)?f.cloneElement(d,void 0,m):null})}return t.jsx(n,{...l,ref:a,children:i})});return s.displayName=`${e}.Slot`,s}var FC=bc("Slot");function OC(e){const n=f.forwardRef((s,r)=>{const{children:a,...i}=s;if(f.isValidElement(a)){const l=BC(a),o=$C(i,a.props);return a.type!==f.Fragment&&(o.ref=r?oy(r,l):l),f.cloneElement(a,o)}return f.Children.count(a)>1?f.Children.only(null):null});return n.displayName=`${e}.SlotClone`,n}var MC=Symbol("radix.slottable");function _C(e){return f.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===MC}function $C(e,n){const s={...n};for(const r in n){const a=e[r],i=n[r];/^on[A-Z]/.test(r)?a&&i?s[r]=(...o)=>{const c=i(...o);return a(...o),c}:a&&(s[r]=a):r==="style"?s[r]={...a,...i}:r==="className"&&(s[r]=[a,i].filter(Boolean).join(" "))}return{...e,...s}}function BC(e){var r,a;let n=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,s=n&&"isReactWarning"in n&&n.isReactWarning;return s?e.ref:(n=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,s=n&&"isReactWarning"in n&&n.isReactWarning,s?e.props.ref:e.props.ref||e.ref)}function cy(e){const n=e+"CollectionProvider",[s,r]=ci(n),[a,i]=s(n,{collectionRef:{current:null},itemMap:new Map}),l=j=>{const{scope:y,children:g}=j,x=Le.useRef(null),b=Le.useRef(new Map).current;return t.jsx(a,{scope:y,itemMap:b,collectionRef:x,children:g})};l.displayName=n;const o=e+"CollectionSlot",c=bc(o),d=Le.forwardRef((j,y)=>{const{scope:g,children:x}=j,b=i(o,g),T=ws(y,b.collectionRef);return t.jsx(c,{ref:T,children:x})});d.displayName=o;const m=e+"CollectionItemSlot",u="data-radix-collection-item",p=bc(m),h=Le.forwardRef((j,y)=>{const{scope:g,children:x,...b}=j,T=Le.useRef(null),L=ws(y,T),k=i(m,g);return Le.useEffect(()=>(k.itemMap.set(T,{ref:T,...b}),()=>void k.itemMap.delete(T))),t.jsx(p,{[u]:"",ref:L,children:x})});h.displayName=m;function v(j){const y=i(e+"CollectionConsumer",j);return Le.useCallback(()=>{const x=y.collectionRef.current;if(!x)return[];const b=Array.from(x.querySelectorAll(`[${u}]`));return Array.from(y.itemMap.values()).sort((k,I)=>b.indexOf(k.ref.current)-b.indexOf(I.ref.current))},[y.collectionRef,y.itemMap])}return[{Provider:l,Slot:d,ItemSlot:h},v,r]}var VC=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],xt=VC.reduce((e,n)=>{const s=bc(`Primitive.${n}`),r=f.forwardRef((a,i)=>{const{asChild:l,...o}=a,c=l?s:n;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),t.jsx(c,{...o,ref:i})});return r.displayName=`Primitive.${n}`,{...e,[n]:r}},{});function dy(e,n){e&&Gs.flushSync(()=>e.dispatchEvent(n))}function yr(e){const n=f.useRef(e);return f.useEffect(()=>{n.current=e}),f.useMemo(()=>(...s)=>{var r;return(r=n.current)==null?void 0:r.call(n,...s)},[])}function zC(e,n=globalThis==null?void 0:globalThis.document){const s=yr(e);f.useEffect(()=>{const r=a=>{a.key==="Escape"&&s(a)};return n.addEventListener("keydown",r,{capture:!0}),()=>n.removeEventListener("keydown",r,{capture:!0})},[s,n])}var UC="DismissableLayer",Vm="dismissableLayer.update",WC="dismissableLayer.pointerDownOutside",HC="dismissableLayer.focusOutside",_x,uy=f.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),my=f.forwardRef((e,n)=>{const{disableOutsidePointerEvents:s=!1,onEscapeKeyDown:r,onPointerDownOutside:a,onFocusOutside:i,onInteractOutside:l,onDismiss:o,...c}=e,d=f.useContext(uy),[m,u]=f.useState(null),p=(m==null?void 0:m.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,h]=f.useState({}),v=ws(n,I=>u(I)),j=Array.from(d.layers),[y]=[...d.layersWithOutsidePointerEventsDisabled].slice(-1),g=j.indexOf(y),x=m?j.indexOf(m):-1,b=d.layersWithOutsidePointerEventsDisabled.size>0,T=x>=g,L=qC(I=>{const w=I.target,S=[...d.branches].some(C=>C.contains(w));!T||S||(a==null||a(I),l==null||l(I),I.defaultPrevented||o==null||o())},p),k=QC(I=>{const w=I.target;[...d.branches].some(C=>C.contains(w))||(i==null||i(I),l==null||l(I),I.defaultPrevented||o==null||o())},p);return zC(I=>{x===d.layers.size-1&&(r==null||r(I),!I.defaultPrevented&&o&&(I.preventDefault(),o()))},p),f.useEffect(()=>{if(m)return s&&(d.layersWithOutsidePointerEventsDisabled.size===0&&(_x=p.body.style.pointerEvents,p.body.style.pointerEvents="none"),d.layersWithOutsidePointerEventsDisabled.add(m)),d.layers.add(m),$x(),()=>{s&&d.layersWithOutsidePointerEventsDisabled.size===1&&(p.body.style.pointerEvents=_x)}},[m,p,s,d]),f.useEffect(()=>()=>{m&&(d.layers.delete(m),d.layersWithOutsidePointerEventsDisabled.delete(m),$x())},[m,d]),f.useEffect(()=>{const I=()=>h({});return document.addEventListener(Vm,I),()=>document.removeEventListener(Vm,I)},[]),t.jsx(xt.div,{...c,ref:v,style:{pointerEvents:b?T?"auto":"none":void 0,...e.style},onFocusCapture:lt(e.onFocusCapture,k.onFocusCapture),onBlurCapture:lt(e.onBlurCapture,k.onBlurCapture),onPointerDownCapture:lt(e.onPointerDownCapture,L.onPointerDownCapture)})});my.displayName=UC;var GC="DismissableLayerBranch",py=f.forwardRef((e,n)=>{const s=f.useContext(uy),r=f.useRef(null),a=ws(n,r);return f.useEffect(()=>{const i=r.current;if(i)return s.branches.add(i),()=>{s.branches.delete(i)}},[s.branches]),t.jsx(xt.div,{...e,ref:a})});py.displayName=GC;function qC(e,n=globalThis==null?void 0:globalThis.document){const s=yr(e),r=f.useRef(!1),a=f.useRef(()=>{});return f.useEffect(()=>{const i=o=>{if(o.target&&!r.current){let c=function(){fy(WC,s,d,{discrete:!0})};const d={originalEvent:o};o.pointerType==="touch"?(n.removeEventListener("click",a.current),a.current=c,n.addEventListener("click",a.current,{once:!0})):c()}else n.removeEventListener("click",a.current);r.current=!1},l=window.setTimeout(()=>{n.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(l),n.removeEventListener("pointerdown",i),n.removeEventListener("click",a.current)}},[n,s]),{onPointerDownCapture:()=>r.current=!0}}function QC(e,n=globalThis==null?void 0:globalThis.document){const s=yr(e),r=f.useRef(!1);return f.useEffect(()=>{const a=i=>{i.target&&!r.current&&fy(HC,s,{originalEvent:i},{discrete:!1})};return n.addEventListener("focusin",a),()=>n.removeEventListener("focusin",a)},[n,s]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function $x(){const e=new CustomEvent(Vm);document.dispatchEvent(e)}function fy(e,n,s,{discrete:r}){const a=s.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:s});n&&a.addEventListener(e,n,{once:!0}),r?dy(a,i):a.dispatchEvent(i)}var KC=my,YC=py,ea=globalThis!=null&&globalThis.document?f.useLayoutEffect:()=>{},XC="Portal",hy=f.forwardRef((e,n)=>{var o;const{container:s,...r}=e,[a,i]=f.useState(!1);ea(()=>i(!0),[]);const l=s||a&&((o=globalThis==null?void 0:globalThis.document)==null?void 0:o.body);return l?df.createPortal(t.jsx(xt.div,{...r,ref:n}),l):null});hy.displayName=XC;function JC(e,n){return f.useReducer((s,r)=>n[s][r]??s,e)}var ad=e=>{const{present:n,children:s}=e,r=ZC(n),a=typeof s=="function"?s({present:r.isPresent}):f.Children.only(s),i=ws(r.ref,eE(a));return typeof s=="function"||r.isPresent?f.cloneElement(a,{ref:i}):null};ad.displayName="Presence";function ZC(e){const[n,s]=f.useState(),r=f.useRef(null),a=f.useRef(e),i=f.useRef("none"),l=e?"mounted":"unmounted",[o,c]=JC(l,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return f.useEffect(()=>{const d=mo(r.current);i.current=o==="mounted"?d:"none"},[o]),ea(()=>{const d=r.current,m=a.current;if(m!==e){const p=i.current,h=mo(d);e?c("MOUNT"):h==="none"||(d==null?void 0:d.display)==="none"?c("UNMOUNT"):c(m&&p!==h?"ANIMATION_OUT":"UNMOUNT"),a.current=e}},[e,c]),ea(()=>{if(n){let d;const m=n.ownerDocument.defaultView??window,u=h=>{const j=mo(r.current).includes(h.animationName);if(h.target===n&&j&&(c("ANIMATION_END"),!a.current)){const y=n.style.animationFillMode;n.style.animationFillMode="forwards",d=m.setTimeout(()=>{n.style.animationFillMode==="forwards"&&(n.style.animationFillMode=y)})}},p=h=>{h.target===n&&(i.current=mo(r.current))};return n.addEventListener("animationstart",p),n.addEventListener("animationcancel",u),n.addEventListener("animationend",u),()=>{m.clearTimeout(d),n.removeEventListener("animationstart",p),n.removeEventListener("animationcancel",u),n.removeEventListener("animationend",u)}}else c("ANIMATION_END")},[n,c]),{isPresent:["mounted","unmountSuspended"].includes(o),ref:f.useCallback(d=>{r.current=d?getComputedStyle(d):null,s(d)},[])}}function mo(e){return(e==null?void 0:e.animationName)||"none"}function eE(e){var r,a;let n=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,s=n&&"isReactWarning"in n&&n.isReactWarning;return s?e.ref:(n=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,s=n&&"isReactWarning"in n&&n.isReactWarning,s?e.props.ref:e.props.ref||e.ref)}var tE=zc[" useInsertionEffect ".trim().toString()]||ea;function id({prop:e,defaultProp:n,onChange:s=()=>{},caller:r}){const[a,i,l]=nE({defaultProp:n,onChange:s}),o=e!==void 0,c=o?e:a;{const m=f.useRef(e!==void 0);f.useEffect(()=>{const u=m.current;u!==o&&console.warn(`${r} is changing from ${u?"controlled":"uncontrolled"} to ${o?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),m.current=o},[o,r])}const d=f.useCallback(m=>{var u;if(o){const p=sE(m)?m(e):m;p!==e&&((u=l.current)==null||u.call(l,p))}else i(m)},[o,e,i,l]);return[c,d]}function nE({defaultProp:e,onChange:n}){const[s,r]=f.useState(e),a=f.useRef(s),i=f.useRef(n);return tE(()=>{i.current=n},[n]),f.useEffect(()=>{var l;a.current!==s&&((l=i.current)==null||l.call(i,s),a.current=s)},[s,a]),[s,r,i]}function sE(e){return typeof e=="function"}var rE=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),aE="VisuallyHidden",hf=f.forwardRef((e,n)=>t.jsx(xt.span,{...e,ref:n,style:{...rE,...e.style}}));hf.displayName=aE;var xf="ToastProvider",[gf,iE,lE]=cy("Toast"),[xy,kO]=ci("Toast",[lE]),[oE,ld]=xy(xf),gy=e=>{const{__scopeToast:n,label:s="Notification",duration:r=5e3,swipeDirection:a="right",swipeThreshold:i=50,children:l}=e,[o,c]=f.useState(null),[d,m]=f.useState(0),u=f.useRef(!1),p=f.useRef(!1);return s.trim()||console.error(`Invalid prop \`label\` supplied to \`${xf}\`. Expected non-empty \`string\`.`),t.jsx(gf.Provider,{scope:n,children:t.jsx(oE,{scope:n,label:s,duration:r,swipeDirection:a,swipeThreshold:i,toastCount:d,viewport:o,onViewportChange:c,onToastAdd:f.useCallback(()=>m(h=>h+1),[]),onToastRemove:f.useCallback(()=>m(h=>h-1),[]),isFocusedToastEscapeKeyDownRef:u,isClosePausedRef:p,children:l})})};gy.displayName=xf;var vy="ToastViewport",cE=["F8"],zm="toast.viewportPause",Um="toast.viewportResume",jy=f.forwardRef((e,n)=>{const{__scopeToast:s,hotkey:r=cE,label:a="Notifications ({hotkey})",...i}=e,l=ld(vy,s),o=iE(s),c=f.useRef(null),d=f.useRef(null),m=f.useRef(null),u=f.useRef(null),p=ws(n,u,l.onViewportChange),h=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),v=l.toastCount>0;f.useEffect(()=>{const y=g=>{var b;r.length!==0&&r.every(T=>g[T]||g.code===T)&&((b=u.current)==null||b.focus())};return document.addEventListener("keydown",y),()=>document.removeEventListener("keydown",y)},[r]),f.useEffect(()=>{const y=c.current,g=u.current;if(v&&y&&g){const x=()=>{if(!l.isClosePausedRef.current){const k=new CustomEvent(zm);g.dispatchEvent(k),l.isClosePausedRef.current=!0}},b=()=>{if(l.isClosePausedRef.current){const k=new CustomEvent(Um);g.dispatchEvent(k),l.isClosePausedRef.current=!1}},T=k=>{!y.contains(k.relatedTarget)&&b()},L=()=>{y.contains(document.activeElement)||b()};return y.addEventListener("focusin",x),y.addEventListener("focusout",T),y.addEventListener("pointermove",x),y.addEventListener("pointerleave",L),window.addEventListener("blur",x),window.addEventListener("focus",b),()=>{y.removeEventListener("focusin",x),y.removeEventListener("focusout",T),y.removeEventListener("pointermove",x),y.removeEventListener("pointerleave",L),window.removeEventListener("blur",x),window.removeEventListener("focus",b)}}},[v,l.isClosePausedRef]);const j=f.useCallback(({tabbingDirection:y})=>{const x=o().map(b=>{const T=b.ref.current,L=[T,...wE(T)];return y==="forwards"?L:L.reverse()});return(y==="forwards"?x.reverse():x).flat()},[o]);return f.useEffect(()=>{const y=u.current;if(y){const g=x=>{var L,k,I;const b=x.altKey||x.ctrlKey||x.metaKey;if(x.key==="Tab"&&!b){const w=document.activeElement,S=x.shiftKey;if(x.target===y&&S){(L=d.current)==null||L.focus();return}const N=j({tabbingDirection:S?"backwards":"forwards"}),D=N.findIndex(A=>A===w);fu(N.slice(D+1))?x.preventDefault():S?(k=d.current)==null||k.focus():(I=m.current)==null||I.focus()}};return y.addEventListener("keydown",g),()=>y.removeEventListener("keydown",g)}},[o,j]),t.jsxs(YC,{ref:c,role:"region","aria-label":a.replace("{hotkey}",h),tabIndex:-1,style:{pointerEvents:v?void 0:"none"},children:[v&&t.jsx(Wm,{ref:d,onFocusFromOutsideViewport:()=>{const y=j({tabbingDirection:"forwards"});fu(y)}}),t.jsx(gf.Slot,{scope:s,children:t.jsx(xt.ol,{tabIndex:-1,...i,ref:p})}),v&&t.jsx(Wm,{ref:m,onFocusFromOutsideViewport:()=>{const y=j({tabbingDirection:"backwards"});fu(y)}})]})});jy.displayName=vy;var yy="ToastFocusProxy",Wm=f.forwardRef((e,n)=>{const{__scopeToast:s,onFocusFromOutsideViewport:r,...a}=e,i=ld(yy,s);return t.jsx(hf,{"aria-hidden":!0,tabIndex:0,...a,ref:n,style:{position:"fixed"},onFocus:l=>{var d;const o=l.relatedTarget;!((d=i.viewport)!=null&&d.contains(o))&&r()}})});Wm.displayName=yy;var Pl="Toast",dE="toast.swipeStart",uE="toast.swipeMove",mE="toast.swipeCancel",pE="toast.swipeEnd",by=f.forwardRef((e,n)=>{const{forceMount:s,open:r,defaultOpen:a,onOpenChange:i,...l}=e,[o,c]=id({prop:r,defaultProp:a??!0,onChange:i,caller:Pl});return t.jsx(ad,{present:s||o,children:t.jsx(xE,{open:o,...l,ref:n,onClose:()=>c(!1),onPause:yr(e.onPause),onResume:yr(e.onResume),onSwipeStart:lt(e.onSwipeStart,d=>{d.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:lt(e.onSwipeMove,d=>{const{x:m,y:u}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","move"),d.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${m}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${u}px`)}),onSwipeCancel:lt(e.onSwipeCancel,d=>{d.currentTarget.setAttribute("data-swipe","cancel"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:lt(e.onSwipeEnd,d=>{const{x:m,y:u}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","end"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${m}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${u}px`),c(!1)})})})});by.displayName=Pl;var[fE,hE]=xy(Pl,{onClose(){}}),xE=f.forwardRef((e,n)=>{const{__scopeToast:s,type:r="foreground",duration:a,open:i,onClose:l,onEscapeKeyDown:o,onPause:c,onResume:d,onSwipeStart:m,onSwipeMove:u,onSwipeCancel:p,onSwipeEnd:h,...v}=e,j=ld(Pl,s),[y,g]=f.useState(null),x=ws(n,A=>g(A)),b=f.useRef(null),T=f.useRef(null),L=a||j.duration,k=f.useRef(0),I=f.useRef(L),w=f.useRef(0),{onToastAdd:S,onToastRemove:C}=j,E=yr(()=>{var _;(y==null?void 0:y.contains(document.activeElement))&&((_=j.viewport)==null||_.focus()),l()}),N=f.useCallback(A=>{!A||A===1/0||(window.clearTimeout(w.current),k.current=new Date().getTime(),w.current=window.setTimeout(E,A))},[E]);f.useEffect(()=>{const A=j.viewport;if(A){const _=()=>{N(I.current),d==null||d()},V=()=>{const P=new Date().getTime()-k.current;I.current=I.current-P,window.clearTimeout(w.current),c==null||c()};return A.addEventListener(zm,V),A.addEventListener(Um,_),()=>{A.removeEventListener(zm,V),A.removeEventListener(Um,_)}}},[j.viewport,L,c,d,N]),f.useEffect(()=>{i&&!j.isClosePausedRef.current&&N(L)},[i,L,j.isClosePausedRef,N]),f.useEffect(()=>(S(),()=>C()),[S,C]);const D=f.useMemo(()=>y?Dy(y):null,[y]);return j.viewport?t.jsxs(t.Fragment,{children:[D&&t.jsx(gE,{__scopeToast:s,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:D}),t.jsx(fE,{scope:s,onClose:E,children:Gs.createPortal(t.jsx(gf.ItemSlot,{scope:s,children:t.jsx(KC,{asChild:!0,onEscapeKeyDown:lt(o,()=>{j.isFocusedToastEscapeKeyDownRef.current||E(),j.isFocusedToastEscapeKeyDownRef.current=!1}),children:t.jsx(xt.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":j.swipeDirection,...v,ref:x,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:lt(e.onKeyDown,A=>{A.key==="Escape"&&(o==null||o(A.nativeEvent),A.nativeEvent.defaultPrevented||(j.isFocusedToastEscapeKeyDownRef.current=!0,E()))}),onPointerDown:lt(e.onPointerDown,A=>{A.button===0&&(b.current={x:A.clientX,y:A.clientY})}),onPointerMove:lt(e.onPointerMove,A=>{if(!b.current)return;const _=A.clientX-b.current.x,V=A.clientY-b.current.y,P=!!T.current,R=["left","right"].includes(j.swipeDirection),M=["left","up"].includes(j.swipeDirection)?Math.min:Math.max,F=R?M(0,_):0,B=R?0:M(0,V),z=A.pointerType==="touch"?10:2,H={x:F,y:B},K={originalEvent:A,delta:H};P?(T.current=H,po(uE,u,K,{discrete:!1})):Bx(H,j.swipeDirection,z)?(T.current=H,po(dE,m,K,{discrete:!1}),A.target.setPointerCapture(A.pointerId)):(Math.abs(_)>z||Math.abs(V)>z)&&(b.current=null)}),onPointerUp:lt(e.onPointerUp,A=>{const _=T.current,V=A.target;if(V.hasPointerCapture(A.pointerId)&&V.releasePointerCapture(A.pointerId),T.current=null,b.current=null,_){const P=A.currentTarget,R={originalEvent:A,delta:_};Bx(_,j.swipeDirection,j.swipeThreshold)?po(pE,h,R,{discrete:!0}):po(mE,p,R,{discrete:!0}),P.addEventListener("click",M=>M.preventDefault(),{once:!0})}})})})}),j.viewport)})]}):null}),gE=e=>{const{__scopeToast:n,children:s,...r}=e,a=ld(Pl,n),[i,l]=f.useState(!1),[o,c]=f.useState(!1);return yE(()=>l(!0)),f.useEffect(()=>{const d=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(d)},[]),o?null:t.jsx(hy,{asChild:!0,children:t.jsx(hf,{...r,children:i&&t.jsxs(t.Fragment,{children:[a.label," ",s]})})})},vE="ToastTitle",wy=f.forwardRef((e,n)=>{const{__scopeToast:s,...r}=e;return t.jsx(xt.div,{...r,ref:n})});wy.displayName=vE;var jE="ToastDescription",Ny=f.forwardRef((e,n)=>{const{__scopeToast:s,...r}=e;return t.jsx(xt.div,{...r,ref:n})});Ny.displayName=jE;var Sy="ToastAction",Cy=f.forwardRef((e,n)=>{const{altText:s,...r}=e;return s.trim()?t.jsx(Iy,{altText:s,asChild:!0,children:t.jsx(vf,{...r,ref:n})}):(console.error(`Invalid prop \`altText\` supplied to \`${Sy}\`. Expected non-empty \`string\`.`),null)});Cy.displayName=Sy;var Ey="ToastClose",vf=f.forwardRef((e,n)=>{const{__scopeToast:s,...r}=e,a=hE(Ey,s);return t.jsx(Iy,{asChild:!0,children:t.jsx(xt.button,{type:"button",...r,ref:n,onClick:lt(e.onClick,a.onClose)})})});vf.displayName=Ey;var Iy=f.forwardRef((e,n)=>{const{__scopeToast:s,altText:r,...a}=e;return t.jsx(xt.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...a,ref:n})});function Dy(e){const n=[];return Array.from(e.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&n.push(r.textContent),bE(r)){const a=r.ariaHidden||r.hidden||r.style.display==="none",i=r.dataset.radixToastAnnounceExclude==="";if(!a)if(i){const l=r.dataset.radixToastAnnounceAlt;l&&n.push(l)}else n.push(...Dy(r))}}),n}function po(e,n,s,{discrete:r}){const a=s.originalEvent.currentTarget,i=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:s});n&&a.addEventListener(e,n,{once:!0}),r?dy(a,i):a.dispatchEvent(i)}var Bx=(e,n,s=0)=>{const r=Math.abs(e.x),a=Math.abs(e.y),i=r>a;return n==="left"||n==="right"?i&&r>s:!i&&a>s};function yE(e=()=>{}){const n=yr(e);ea(()=>{let s=0,r=0;return s=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(n)),()=>{window.cancelAnimationFrame(s),window.cancelAnimationFrame(r)}},[n])}function bE(e){return e.nodeType===e.ELEMENT_NODE}function wE(e){const n=[],s=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const a=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||a?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;s.nextNode();)n.push(s.currentNode);return n}function fu(e){const n=document.activeElement;return e.some(s=>s===n?!0:(s.focus(),document.activeElement!==n))}var NE=gy,Ay=jy,Ty=by,ky=wy,Py=Ny,Ry=Cy,Ly=vf;function Fy(e){var n,s,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(n=0;n<a;n++)e[n]&&(s=Fy(e[n]))&&(r&&(r+=" "),r+=s)}else for(s in e)e[s]&&(r&&(r+=" "),r+=s);return r}function SE(){for(var e,n,s=0,r="",a=arguments.length;s<a;s++)(e=arguments[s])&&(n=Fy(e))&&(r&&(r+=" "),r+=n);return r}const Vx=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,zx=SE,od=(e,n)=>s=>{var r;if((n==null?void 0:n.variants)==null)return zx(e,s==null?void 0:s.class,s==null?void 0:s.className);const{variants:a,defaultVariants:i}=n,l=Object.keys(a).map(d=>{const m=s==null?void 0:s[d],u=i==null?void 0:i[d];if(m===null)return null;const p=Vx(m)||Vx(u);return a[d][p]}),o=s&&Object.entries(s).reduce((d,m)=>{let[u,p]=m;return p===void 0||(d[u]=p),d},{}),c=n==null||(r=n.compoundVariants)===null||r===void 0?void 0:r.reduce((d,m)=>{let{class:u,className:p,...h}=m;return Object.entries(h).every(v=>{let[j,y]=v;return Array.isArray(y)?y.includes({...i,...o}[j]):{...i,...o}[j]===y})?[...d,u,p]:d},[]);return zx(e,l,c,s==null?void 0:s.class,s==null?void 0:s.className)};/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var CE={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EE=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),ye=(e,n)=>{const s=f.forwardRef(({color:r="currentColor",size:a=24,strokeWidth:i=2,absoluteStrokeWidth:l,className:o="",children:c,...d},m)=>f.createElement("svg",{ref:m,...CE,width:a,height:a,stroke:r,strokeWidth:l?Number(i)*24/Number(a):i,className:["lucide",`lucide-${EE(e)}`,o].join(" "),...d},[...n.map(([u,p])=>f.createElement(u,p)),...Array.isArray(c)?c:[c]]));return s.displayName=`${e}`,s};/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const As=ye("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wi=ye("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zn=ye("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ps=ye("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IE=ye("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rs=ye("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jn=ye("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DE=ye("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fs=ye("Brain",[["path",{d:"M9.5 2A2.5 2.5 0 0 1 12 4.5v15a2.5 2.5 0 0 1-4.96.44 2.5 2.5 0 0 1-2.96-3.08 3 3 0 0 1-.34-5.58 2.5 2.5 0 0 1 1.32-4.24 2.5 2.5 0 0 1 1.98-3A2.5 2.5 0 0 1 9.5 2Z",key:"1mhkh5"}],["path",{d:"M14.5 2A2.5 2.5 0 0 0 12 4.5v15a2.5 2.5 0 0 0 4.96.44 2.5 2.5 0 0 0 2.96-3.08 3 3 0 0 0 .34-5.58 2.5 2.5 0 0 0-1.32-4.24 2.5 2.5 0 0 0-1.98-3A2.5 2.5 0 0 0 14.5 2Z",key:"1d6s00"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hm=ye("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fl=ye("Calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const It=ye("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ta=ye("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bn=ye("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jf=ye("CheckSquare",[["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}],["path",{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11",key:"1jnkn4"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yf=ye("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oy=ye("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AE=ye("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ta=ye("ClipboardCheck",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"m9 14 2 2 4-4",key:"df797q"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gm=ye("Clipboard",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ke=ye("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bf=ye("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qa=ye("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ve=ye("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vs=ye("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ar=ye("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $o=ye("FileCheck",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"m9 15 2 2 4-4",key:"1grp1n"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Et=ye("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const an=ye("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Li=ye("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TE=ye("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kE=ye("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hl=ye("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PE=ye("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RE=ye("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $n=ye("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ka=ye("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yt=ye("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xt=ye("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LE=ye("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FE=ye("Pause",[["rect",{width:"4",height:"16",x:"6",y:"4",key:"iffhe4"}],["rect",{width:"4",height:"16",x:"14",y:"4",key:"sjin7j"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fo=ye("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OE=ye("Percent",[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wf=ye("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hu=ye("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Re=ye("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nf=ye("Printer",[["polyline",{points:"6 9 6 2 18 2 18 9",key:"1306q4"}],["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["rect",{width:"12",height:"8",x:"6",y:"14",key:"5ipwut"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bo=ye("Receipt",[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dn=ye("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const My=ye("ScanBarcode",[["path",{d:"M3 7V5a2 2 0 0 1 2-2h2",key:"aa7l1z"}],["path",{d:"M17 3h2a2 2 0 0 1 2 2v2",key:"4qcy5o"}],["path",{d:"M21 17v2a2 2 0 0 1-2 2h-2",key:"6vwrx8"}],["path",{d:"M7 21H5a2 2 0 0 1-2-2v-2",key:"ioqczr"}],["path",{d:"M8 7v10",key:"23sfjj"}],["path",{d:"M12 7v10",key:"jspqdw"}],["path",{d:"M17 7v10",key:"578dap"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lt=ye("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ma=ye("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ya=ye("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sf=ye("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zt=ye("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ME=ye("Tag",[["path",{d:"M12 2H2v10l9.29 9.29c.94.94 2.48.94 3.42 0l6.58-6.58c.94-.94.94-2.48 0-3.42L12 2Z",key:"14b2ls"}],["path",{d:"M7 7h.01",key:"7u93v4"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fn=ye("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _E=ye("ThumbsDown",[["path",{d:"M17 14V2",key:"8ymqnk"}],["path",{d:"M9 18.12 10 14H4.17a2 2 0 0 1-1.92-2.56l2.33-8A2 2 0 0 1 6.5 2H20a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2h-2.76a2 2 0 0 0-1.79 1.11L12 22h0a3.13 3.13 0 0 1-3-3.88Z",key:"s6e0r"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $E=ye("ThumbsUp",[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2h0a3.13 3.13 0 0 1 3 3.88Z",key:"y3tblf"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Un=ye("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xu=ye("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const De=ye("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ga=ye("Truck",[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _y=ye("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wn=ye("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dt=ye("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wc=ye("Video",[["path",{d:"m22 8-6 4 6 4V8Z",key:"50v9me"}],["rect",{width:"14",height:"12",x:"2",y:"6",rx:"2",ry:"2",key:"1rqjg6"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vo=ye("Wrench",[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _a=ye("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nt=ye("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BE=ye("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]);function $y(e){var n,s,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e))for(n=0;n<e.length;n++)e[n]&&(s=$y(e[n]))&&(r&&(r+=" "),r+=s);else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function VE(){for(var e,n,s=0,r="";s<arguments.length;)(e=arguments[s++])&&(n=$y(e))&&(r&&(r+=" "),r+=n);return r}function zE(){for(var e=0,n,s,r="";e<arguments.length;)(n=arguments[e++])&&(s=By(n))&&(r&&(r+=" "),r+=s);return r}function By(e){if(typeof e=="string")return e;for(var n,s="",r=0;r<e.length;r++)e[r]&&(n=By(e[r]))&&(s&&(s+=" "),s+=n);return s}var Cf="-";function UE(e){var n=HE(e),s=e.conflictingClassGroups,r=e.conflictingClassGroupModifiers,a=r===void 0?{}:r;function i(o){var c=o.split(Cf);return c[0]===""&&c.length!==1&&c.shift(),Vy(c,n)||WE(o)}function l(o,c){var d=s[o]||[];return c&&a[o]?[].concat(d,a[o]):d}return{getClassGroupId:i,getConflictingClassGroupIds:l}}function Vy(e,n){var l;if(e.length===0)return n.classGroupId;var s=e[0],r=n.nextPart.get(s),a=r?Vy(e.slice(1),r):void 0;if(a)return a;if(n.validators.length!==0){var i=e.join(Cf);return(l=n.validators.find(function(o){var c=o.validator;return c(i)}))==null?void 0:l.classGroupId}}var Ux=/^\[(.+)\]$/;function WE(e){if(Ux.test(e)){var n=Ux.exec(e)[1],s=n==null?void 0:n.substring(0,n.indexOf(":"));if(s)return"arbitrary.."+s}}function HE(e){var n=e.theme,s=e.prefix,r={nextPart:new Map,validators:[]},a=qE(Object.entries(e.classGroups),s);return a.forEach(function(i){var l=i[0],o=i[1];qm(o,r,l,n)}),r}function qm(e,n,s,r){e.forEach(function(a){if(typeof a=="string"){var i=a===""?n:Wx(n,a);i.classGroupId=s;return}if(typeof a=="function"){if(GE(a)){qm(a(r),n,s,r);return}n.validators.push({validator:a,classGroupId:s});return}Object.entries(a).forEach(function(l){var o=l[0],c=l[1];qm(c,Wx(n,o),s,r)})})}function Wx(e,n){var s=e;return n.split(Cf).forEach(function(r){s.nextPart.has(r)||s.nextPart.set(r,{nextPart:new Map,validators:[]}),s=s.nextPart.get(r)}),s}function GE(e){return e.isThemeGetter}function qE(e,n){return n?e.map(function(s){var r=s[0],a=s[1],i=a.map(function(l){return typeof l=="string"?n+l:typeof l=="object"?Object.fromEntries(Object.entries(l).map(function(o){var c=o[0],d=o[1];return[n+c,d]})):l});return[r,i]}):e}function QE(e){if(e<1)return{get:function(){},set:function(){}};var n=0,s=new Map,r=new Map;function a(i,l){s.set(i,l),n++,n>e&&(n=0,r=s,s=new Map)}return{get:function(l){var o=s.get(l);if(o!==void 0)return o;if((o=r.get(l))!==void 0)return a(l,o),o},set:function(l,o){s.has(l)?s.set(l,o):a(l,o)}}}var zy="!";function KE(e){var n=e.separator||":",s=n.length===1,r=n[0],a=n.length;return function(l){for(var o=[],c=0,d=0,m,u=0;u<l.length;u++){var p=l[u];if(c===0){if(p===r&&(s||l.slice(u,u+a)===n)){o.push(l.slice(d,u)),d=u+a;continue}if(p==="/"){m=u;continue}}p==="["?c++:p==="]"&&c--}var h=o.length===0?l:l.substring(d),v=h.startsWith(zy),j=v?h.substring(1):h,y=m&&m>d?m-d:void 0;return{modifiers:o,hasImportantModifier:v,baseClassName:j,maybePostfixModifierPosition:y}}}function YE(e){if(e.length<=1)return e;var n=[],s=[];return e.forEach(function(r){var a=r[0]==="[";a?(n.push.apply(n,s.sort().concat([r])),s=[]):s.push(r)}),n.push.apply(n,s.sort()),n}function XE(e){return{cache:QE(e.cacheSize),splitModifiers:KE(e),...UE(e)}}var JE=/\s+/;function ZE(e,n){var s=n.splitModifiers,r=n.getClassGroupId,a=n.getConflictingClassGroupIds,i=new Set;return e.trim().split(JE).map(function(l){var o=s(l),c=o.modifiers,d=o.hasImportantModifier,m=o.baseClassName,u=o.maybePostfixModifierPosition,p=r(u?m.substring(0,u):m),h=!!u;if(!p){if(!u)return{isTailwindClass:!1,originalClassName:l};if(p=r(m),!p)return{isTailwindClass:!1,originalClassName:l};h=!1}var v=YE(c).join(":"),j=d?v+zy:v;return{isTailwindClass:!0,modifierId:j,classGroupId:p,originalClassName:l,hasPostfixModifier:h}}).reverse().filter(function(l){if(!l.isTailwindClass)return!0;var o=l.modifierId,c=l.classGroupId,d=l.hasPostfixModifier,m=o+c;return i.has(m)?!1:(i.add(m),a(c,d).forEach(function(u){return i.add(o+u)}),!0)}).reverse().map(function(l){return l.originalClassName}).join(" ")}function eI(){for(var e=arguments.length,n=new Array(e),s=0;s<e;s++)n[s]=arguments[s];var r,a,i,l=o;function o(d){var m=n[0],u=n.slice(1),p=u.reduce(function(h,v){return v(h)},m());return r=XE(p),a=r.cache.get,i=r.cache.set,l=c,c(d)}function c(d){var m=a(d);if(m)return m;var u=ZE(d,r);return i(d,u),u}return function(){return l(zE.apply(null,arguments))}}function st(e){var n=function(r){return r[e]||[]};return n.isThemeGetter=!0,n}var Uy=/^\[(?:([a-z-]+):)?(.+)\]$/i,tI=/^\d+\/\d+$/,nI=new Set(["px","full","screen"]),sI=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,rI=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,aI=/^-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/;function qn(e){return Vr(e)||nI.has(e)||tI.test(e)||Qm(e)}function Qm(e){return ia(e,"length",uI)}function iI(e){return ia(e,"size",Wy)}function lI(e){return ia(e,"position",Wy)}function oI(e){return ia(e,"url",mI)}function ho(e){return ia(e,"number",Vr)}function Vr(e){return!Number.isNaN(Number(e))}function cI(e){return e.endsWith("%")&&Vr(e.slice(0,-1))}function Si(e){return Hx(e)||ia(e,"number",Hx)}function Be(e){return Uy.test(e)}function Ci(){return!0}function Ks(e){return sI.test(e)}function dI(e){return ia(e,"",pI)}function ia(e,n,s){var r=Uy.exec(e);return r?r[1]?r[1]===n:s(r[2]):!1}function uI(e){return rI.test(e)}function Wy(){return!1}function mI(e){return e.startsWith("url(")}function Hx(e){return Number.isInteger(Number(e))}function pI(e){return aI.test(e)}function fI(){var e=st("colors"),n=st("spacing"),s=st("blur"),r=st("brightness"),a=st("borderColor"),i=st("borderRadius"),l=st("borderSpacing"),o=st("borderWidth"),c=st("contrast"),d=st("grayscale"),m=st("hueRotate"),u=st("invert"),p=st("gap"),h=st("gradientColorStops"),v=st("gradientColorStopPositions"),j=st("inset"),y=st("margin"),g=st("opacity"),x=st("padding"),b=st("saturate"),T=st("scale"),L=st("sepia"),k=st("skew"),I=st("space"),w=st("translate"),S=function(){return["auto","contain","none"]},C=function(){return["auto","hidden","clip","visible","scroll"]},E=function(){return["auto",Be,n]},N=function(){return[Be,n]},D=function(){return["",qn]},A=function(){return["auto",Vr,Be]},_=function(){return["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"]},V=function(){return["solid","dashed","dotted","double","none"]},P=function(){return["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity","plus-lighter"]},R=function(){return["start","end","center","between","around","evenly","stretch"]},M=function(){return["","0",Be]},F=function(){return["auto","avoid","all","avoid-page","page","left","right","column"]},B=function(){return[Vr,ho]},z=function(){return[Vr,Be]};return{cacheSize:500,theme:{colors:[Ci],spacing:[qn],blur:["none","",Ks,Be],brightness:B(),borderColor:[e],borderRadius:["none","","full",Ks,Be],borderSpacing:N(),borderWidth:D(),contrast:B(),grayscale:M(),hueRotate:z(),invert:M(),gap:N(),gradientColorStops:[e],gradientColorStopPositions:[cI,Qm],inset:E(),margin:E(),opacity:B(),padding:N(),saturate:B(),scale:B(),sepia:M(),skew:z(),space:N(),translate:N()},classGroups:{aspect:[{aspect:["auto","square","video",Be]}],container:["container"],columns:[{columns:[Ks]}],"break-after":[{"break-after":F()}],"break-before":[{"break-before":F()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none"]}],clear:[{clear:["left","right","both","none"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[].concat(_(),[Be])}],overflow:[{overflow:C()}],"overflow-x":[{"overflow-x":C()}],"overflow-y":[{"overflow-y":C()}],overscroll:[{overscroll:S()}],"overscroll-x":[{"overscroll-x":S()}],"overscroll-y":[{"overscroll-y":S()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[j]}],"inset-x":[{"inset-x":[j]}],"inset-y":[{"inset-y":[j]}],start:[{start:[j]}],end:[{end:[j]}],top:[{top:[j]}],right:[{right:[j]}],bottom:[{bottom:[j]}],left:[{left:[j]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Si]}],basis:[{basis:E()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Be]}],grow:[{grow:M()}],shrink:[{shrink:M()}],order:[{order:["first","last","none",Si]}],"grid-cols":[{"grid-cols":[Ci]}],"col-start-end":[{col:["auto",{span:["full",Si]},Be]}],"col-start":[{"col-start":A()}],"col-end":[{"col-end":A()}],"grid-rows":[{"grid-rows":[Ci]}],"row-start-end":[{row:["auto",{span:[Si]},Be]}],"row-start":[{"row-start":A()}],"row-end":[{"row-end":A()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Be]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Be]}],gap:[{gap:[p]}],"gap-x":[{"gap-x":[p]}],"gap-y":[{"gap-y":[p]}],"justify-content":[{justify:["normal"].concat(R())}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal"].concat(R(),["baseline"])}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[].concat(R(),["baseline"])}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[x]}],px:[{px:[x]}],py:[{py:[x]}],ps:[{ps:[x]}],pe:[{pe:[x]}],pt:[{pt:[x]}],pr:[{pr:[x]}],pb:[{pb:[x]}],pl:[{pl:[x]}],m:[{m:[y]}],mx:[{mx:[y]}],my:[{my:[y]}],ms:[{ms:[y]}],me:[{me:[y]}],mt:[{mt:[y]}],mr:[{mr:[y]}],mb:[{mb:[y]}],ml:[{ml:[y]}],"space-x":[{"space-x":[I]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[I]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit",Be,n]}],"min-w":[{"min-w":["min","max","fit",Be,qn]}],"max-w":[{"max-w":["0","none","full","min","max","fit","prose",{screen:[Ks]},Ks,Be]}],h:[{h:[Be,n,"auto","min","max","fit"]}],"min-h":[{"min-h":["min","max","fit",Be,qn]}],"max-h":[{"max-h":[Be,n,"min","max","fit"]}],"font-size":[{text:["base",Ks,Qm]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",ho]}],"font-family":[{font:[Ci]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Be]}],"line-clamp":[{"line-clamp":["none",Vr,ho]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Be,qn]}],"list-image":[{"list-image":["none",Be]}],"list-style-type":[{list:["none","disc","decimal",Be]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[g]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[g]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[].concat(V(),["wavy"])}],"text-decoration-thickness":[{decoration:["auto","from-font",qn]}],"underline-offset":[{"underline-offset":["auto",Be,qn]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],indent:[{indent:N()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Be]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Be]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[g]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[].concat(_(),[lI])}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",iI]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},oI]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[v]}],"gradient-via-pos":[{via:[v]}],"gradient-to-pos":[{to:[v]}],"gradient-from":[{from:[h]}],"gradient-via":[{via:[h]}],"gradient-to":[{to:[h]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[o]}],"border-w-x":[{"border-x":[o]}],"border-w-y":[{"border-y":[o]}],"border-w-s":[{"border-s":[o]}],"border-w-e":[{"border-e":[o]}],"border-w-t":[{"border-t":[o]}],"border-w-r":[{"border-r":[o]}],"border-w-b":[{"border-b":[o]}],"border-w-l":[{"border-l":[o]}],"border-opacity":[{"border-opacity":[g]}],"border-style":[{border:[].concat(V(),["hidden"])}],"divide-x":[{"divide-x":[o]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[o]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[g]}],"divide-style":[{divide:V()}],"border-color":[{border:[a]}],"border-color-x":[{"border-x":[a]}],"border-color-y":[{"border-y":[a]}],"border-color-t":[{"border-t":[a]}],"border-color-r":[{"border-r":[a]}],"border-color-b":[{"border-b":[a]}],"border-color-l":[{"border-l":[a]}],"divide-color":[{divide:[a]}],"outline-style":[{outline:[""].concat(V())}],"outline-offset":[{"outline-offset":[Be,qn]}],"outline-w":[{outline:[qn]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:D()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[g]}],"ring-offset-w":[{"ring-offset":[qn]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",Ks,dI]}],"shadow-color":[{shadow:[Ci]}],opacity:[{opacity:[g]}],"mix-blend":[{"mix-blend":P()}],"bg-blend":[{"bg-blend":P()}],filter:[{filter:["","none"]}],blur:[{blur:[s]}],brightness:[{brightness:[r]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",Ks,Be]}],grayscale:[{grayscale:[d]}],"hue-rotate":[{"hue-rotate":[m]}],invert:[{invert:[u]}],saturate:[{saturate:[b]}],sepia:[{sepia:[L]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[s]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[d]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[m]}],"backdrop-invert":[{"backdrop-invert":[u]}],"backdrop-opacity":[{"backdrop-opacity":[g]}],"backdrop-saturate":[{"backdrop-saturate":[b]}],"backdrop-sepia":[{"backdrop-sepia":[L]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[l]}],"border-spacing-x":[{"border-spacing-x":[l]}],"border-spacing-y":[{"border-spacing-y":[l]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Be]}],duration:[{duration:z()}],ease:[{ease:["linear","in","out","in-out",Be]}],delay:[{delay:z()}],animate:[{animate:["none","spin","ping","pulse","bounce",Be]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[T]}],"scale-x":[{"scale-x":[T]}],"scale-y":[{"scale-y":[T]}],rotate:[{rotate:[Si,Be]}],"translate-x":[{"translate-x":[w]}],"translate-y":[{"translate-y":[w]}],"skew-x":[{"skew-x":[k]}],"skew-y":[{"skew-y":[k]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Be]}],accent:[{accent:["auto",e]}],appearance:["appearance-none"],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Be]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":N()}],"scroll-mx":[{"scroll-mx":N()}],"scroll-my":[{"scroll-my":N()}],"scroll-ms":[{"scroll-ms":N()}],"scroll-me":[{"scroll-me":N()}],"scroll-mt":[{"scroll-mt":N()}],"scroll-mr":[{"scroll-mr":N()}],"scroll-mb":[{"scroll-mb":N()}],"scroll-ml":[{"scroll-ml":N()}],"scroll-p":[{"scroll-p":N()}],"scroll-px":[{"scroll-px":N()}],"scroll-py":[{"scroll-py":N()}],"scroll-ps":[{"scroll-ps":N()}],"scroll-pe":[{"scroll-pe":N()}],"scroll-pt":[{"scroll-pt":N()}],"scroll-pr":[{"scroll-pr":N()}],"scroll-pb":[{"scroll-pb":N()}],"scroll-pl":[{"scroll-pl":N()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","pinch-zoom","manipulation",{pan:["x","left","right","y","up","down"]}]}],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Be]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[qn,ho]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}}var hI=eI(fI);function ae(...e){return hI(VE(e))}function re(e){return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(e)}function Pe(e){return new Intl.DateTimeFormat("en-US",{year:"numeric",month:"short",day:"numeric"}).format(new Date(e))}function Nt(e,n){try{localStorage.setItem(e,JSON.stringify(n))}catch(s){console.error("Failed to save to localStorage:",s)}}function Kt(e,n){try{const s=localStorage.getItem(e);return s?JSON.parse(s):n}catch(s){return console.error("Failed to load from localStorage:",s),n}}function xI(e){try{localStorage.removeItem(e)}catch(n){console.error("Failed to remove from localStorage:",n)}}const gI=NE,Hy=f.forwardRef(({className:e,...n},s)=>t.jsx(Ay,{ref:s,className:ae("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...n}));Hy.displayName=Ay.displayName;const vI=od("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),Gy=f.forwardRef(({className:e,variant:n,...s},r)=>t.jsx(Ty,{ref:r,className:ae(vI({variant:n}),e),...s}));Gy.displayName=Ty.displayName;const jI=f.forwardRef(({className:e,...n},s)=>t.jsx(Ry,{ref:s,className:ae("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...n}));jI.displayName=Ry.displayName;const qy=f.forwardRef(({className:e,...n},s)=>t.jsx(Ly,{ref:s,className:ae("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...n,children:t.jsx(nt,{className:"h-4 w-4"})}));qy.displayName=Ly.displayName;const Qy=f.forwardRef(({className:e,...n},s)=>t.jsx(ky,{ref:s,className:ae("text-sm font-semibold",e),...n}));Qy.displayName=ky.displayName;const Ky=f.forwardRef(({className:e,...n},s)=>t.jsx(Py,{ref:s,className:ae("text-sm opacity-90",e),...n}));Ky.displayName=Py.displayName;const yI=1,bI=1e6;let gu=0;function wI(){return gu=(gu+1)%Number.MAX_SAFE_INTEGER,gu.toString()}const vu=new Map,Gx=e=>{if(vu.has(e))return;const n=setTimeout(()=>{vu.delete(e),Hi({type:"REMOVE_TOAST",toastId:e})},bI);vu.set(e,n)},NI=(e,n)=>{switch(n.type){case"ADD_TOAST":return{...e,toasts:[n.toast,...e.toasts].slice(0,yI)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(s=>s.id===n.toast.id?{...s,...n.toast}:s)};case"DISMISS_TOAST":{const{toastId:s}=n;return s?Gx(s):e.toasts.forEach(r=>{Gx(r.id)}),{...e,toasts:e.toasts.map(r=>r.id===s||s===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return n.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(s=>s.id!==n.toastId)}}},zo=[];let Uo={toasts:[]};function Hi(e){Uo=NI(Uo,e),zo.forEach(n=>{n(Uo)})}function SI({...e}){const n=wI(),s=a=>Hi({type:"UPDATE_TOAST",toast:{...a,id:n}}),r=()=>Hi({type:"DISMISS_TOAST",toastId:n});return Hi({type:"ADD_TOAST",toast:{...e,id:n,open:!0,onOpenChange:a=>{a||r()}}}),{id:n,dismiss:r,update:s}}function ot(){const[e,n]=f.useState(Uo);return f.useEffect(()=>(zo.push(n),()=>{const s=zo.indexOf(n);s>-1&&zo.splice(s,1)}),[e]),{...e,toast:SI,dismiss:s=>Hi({type:"DISMISS_TOAST",toastId:s})}}function CI(){const{toasts:e}=ot();return t.jsxs(gI,{children:[e.map(function({id:n,title:s,description:r,action:a,...i}){return t.jsxs(Gy,{...i,children:[t.jsxs("div",{className:"grid gap-1",children:[s&&t.jsx(Qy,{children:s}),r&&t.jsx(Ky,{children:r})]}),a,t.jsx(qy,{})]},n)}),t.jsx(Hy,{})]})}var Gi=(e=>(e.ADMIN="admin",e.MANAGER="manager",e.SALES="sales",e.SERVICE="service",e.USER="user",e))(Gi||{}),Mt=(e=>(e.NEW="new",e.CONTACTED="contacted",e.QUALIFIED="qualified",e.PROPOSAL="proposal",e.NEGOTIATION="negotiation",e.CLOSED_WON="closed_won",e.CLOSED_LOST="closed_lost",e))(Mt||{}),be=(e=>(e.RV="rv",e.MOTORHOME="motorhome",e.TRAVEL_TRAILER="travel_trailer",e.FIFTH_WHEEL="fifth_wheel",e.TOY_HAULER="toy_hauler",e.SINGLE_WIDE="single_wide",e.DOUBLE_WIDE="double_wide",e.TRIPLE_WIDE="triple_wide",e.PARK_MODEL="park_model",e.MODULAR_HOME="modular_home",e))(be||{}),Oe=(e=>(e.AVAILABLE="available",e.RESERVED="reserved",e.SOLD="sold",e.SERVICE="service",e.DELIVERED="delivered",e))(Oe||{}),Pn=(e=>(e.DRAFT="draft",e.SENT="sent",e.VIEWED="viewed",e.ACCEPTED="accepted",e.REJECTED="rejected",e.EXPIRED="expired",e))(Pn||{}),zr=(e=>(e.PURCHASE="purchase",e.LEASE="lease",e.SERVICE="service",e.WARRANTY="warranty",e))(zr||{}),Kn=(e=>(e.DRAFT="draft",e.PENDING="pending",e.SIGNED="signed",e.ACTIVE="active",e.EXPIRED="expired",e.CANCELLED="cancelled",e))(Kn||{}),Ur=(e=>(e.LOW="low",e.MEDIUM="medium",e.HIGH="high",e.URGENT="urgent",e))(Ur||{}),us=(e=>(e.OPEN="open",e.IN_PROGRESS="in_progress",e.WAITING_PARTS="waiting_parts",e.COMPLETED="completed",e.CANCELLED="cancelled",e))(us||{}),ms=(e=>(e.SCHEDULED="scheduled",e.IN_TRANSIT="in_transit",e.DELIVERED="delivered",e.CANCELLED="cancelled",e))(ms||{}),Wr=(e=>(e.FLAT="flat",e.PERCENTAGE="percentage",e.TIERED="tiered",e))(Wr||{}),ps=(e=>(e.PENDING="pending",e.APPROVED="approved",e.PAID="paid",e.CANCELLED="cancelled",e))(ps||{}),Rn=(e=>(e.DRAFT="draft",e.SENT="sent",e.VIEWED="viewed",e.PAID="paid",e.OVERDUE="overdue",e.CANCELLED="cancelled",e))(Rn||{}),gn=(e=>(e.SALES="sales",e.INVENTORY="inventory",e.SERVICE="service",e.FINANCIAL="financial",e.CUSTOM="custom",e))(gn||{});const Yy=f.createContext(void 0);function Rl(){const e=f.useContext(Yy);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e}function EI({children:e}){const[n,s]=f.useState(null),[r,a]=f.useState(!0);f.useEffect(()=>{Kt("auth_token",null)&&s({id:"1",email:"admin@renterinsight.com",name:"Admin User",role:Gi.ADMIN,tenantId:"tenant-1",permissions:[{id:"1",name:"All Access",resource:"*",action:"*"}],createdAt:new Date,updatedAt:new Date}),a(!1)},[]);const d={user:n,login:async(m,u)=>{a(!0);try{await new Promise(h=>setTimeout(h,1e3));const p={id:"1",email:m,name:"Admin User",role:Gi.ADMIN,tenantId:"tenant-1",permissions:[{id:"1",name:"All Access",resource:"*",action:"*"}],createdAt:new Date,updatedAt:new Date};s(p),Nt("auth_token","mock-token")}catch{throw new Error("Login failed")}finally{a(!1)}},logout:()=>{s(null),xI("auth_token")},isLoading:r,hasPermission:(m,u)=>n?n.permissions.some(p=>(p.resource==="*"||p.resource===m)&&(p.action==="*"||p.action===u)):!1,hasRole:m=>n?n.role===m||n.role===Gi.ADMIN:!1};return t.jsx(Yy.Provider,{value:d,children:e})}const Xy=f.createContext(void 0);function Jy(){const e=f.useContext(Xy);if(e===void 0)throw new Error("useTenant must be used within a TenantProvider");return e}function II({children:e}){const[n,s]=f.useState(null),[r,a]=f.useState([]);f.useEffect(()=>{const u={id:"tenant-1",name:"Demo RV Dealership",domain:"demo.renterinsight.com",settings:{timezone:"America/New_York",currency:"USD",dateFormat:"MM/dd/yyyy",businessHours:{monday:{open:"09:00",close:"18:00",closed:!1},tuesday:{open:"09:00",close:"18:00",closed:!1},wednesday:{open:"09:00",close:"18:00",closed:!1},thursday:{open:"09:00",close:"18:00",closed:!1},friday:{open:"09:00",close:"18:00",closed:!1},saturday:{open:"09:00",close:"17:00",closed:!1},sunday:{open:"12:00",close:"17:00",closed:!1}},features:{crm:!0,inventory:!0,quotes:!0,agreements:!0,service:!0,delivery:!0,commissions:!0,portal:!0,invoices:!0,reports:!0}},customFields:[],branding:{primaryColor:"#3b82f6",secondaryColor:"#64748b",fontFamily:"Inter"},createdAt:new Date,updatedAt:new Date};s(u),a(u.customFields)},[]);const m={tenant:n,customFields:r,getCustomFields:(u,p)=>r.filter(h=>h.module===u&&(p?h.section===p:!0)),updateTenantSettings:async u=>{if(!n)return;const p={...n,settings:{...n.settings,...u},updatedAt:new Date};s(p)},addCustomField:async u=>{const p={...u,id:Math.random().toString(36).substr(2,9)};a(h=>[...h,p])},updateCustomField:async(u,p)=>{a(h=>h.map(v=>v.id===u?{...v,...p}:v))},deleteCustomField:async u=>{a(p=>p.filter(h=>h.id!==u))}};return t.jsx(Xy.Provider,{value:m,children:e})}const DI={theme:"system",setTheme:()=>null},AI=f.createContext(DI);function TI({children:e,defaultTheme:n="system",storageKey:s="vite-ui-theme",...r}){const[a,i]=f.useState(()=>localStorage.getItem(s)||n);f.useEffect(()=>{const o=window.document.documentElement;if(o.classList.remove("light","dark"),a==="system"){const c=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light";o.classList.add(c);return}o.classList.add(a)},[a]);const l={theme:a,setTheme:o=>{localStorage.setItem(s,o),i(o)}};return t.jsx(AI.Provider,{...r,value:l,children:e})}const kI=[{name:"Dashboard",href:"/",icon:kE},{name:"CRM & Prospecting",href:"/crm",icon:Dt},{name:"Inventory Management",href:"/inventory",icon:Xt},{name:"Sales Deals",href:"/deals",icon:fn},{name:"Finance",href:"/finance",icon:Ve},{name:"Quote Builder",href:"/quotes",icon:Et},{name:"Agreement Vault",href:"/agreements",icon:$o},{name:"PDI Checklist",href:"/pdi",icon:ta},{name:"Service Operations",href:"/service",icon:Vo},{name:"Delivery Tracker",href:"/delivery",icon:ga},{name:"Commission Engine",href:"/commissions",icon:Ve},{name:"Client Portal",href:"/portal",icon:Li},{name:"Invoice & Payments",href:"/invoices",icon:Bo},{name:"Company Settings",href:"/settings",icon:Ya},{name:"Platform Admin",href:"/admin",icon:Sf},{name:"Reporting Suite",href:"/reports",icon:Jn}];function PI(){const e=oi();return t.jsx("div",{className:"hidden lg:fixed lg:inset-y-0 lg:z-50 lg:flex lg:w-64 lg:flex-col",children:t.jsxs("div",{className:"flex grow flex-col gap-y-5 overflow-y-auto border-r border-border bg-card px-6 pb-4",children:[t.jsx("div",{className:"flex h-16 shrink-0 items-center",children:t.jsx("h1",{className:"text-xl font-bold text-primary",children:"Renter Insight"})}),t.jsx("nav",{className:"flex flex-1 flex-col",children:t.jsx("ul",{role:"list",className:"flex flex-1 flex-col gap-y-7",children:t.jsx("li",{children:t.jsx("ul",{role:"list",className:"-mx-2 space-y-1",children:kI.map(n=>{const s=e.pathname===n.href||n.href!=="/"&&e.pathname.startsWith(n.href);return t.jsx("li",{children:t.jsxs(PC,{to:n.href,className:ae("group flex gap-x-3 rounded-md p-2 text-sm leading-6 font-semibold transition-colors",s?"bg-primary text-primary-foreground":"text-muted-foreground hover:text-foreground hover:bg-accent"),children:[t.jsx(n.icon,{className:ae("h-6 w-6 shrink-0",s?"text-primary-foreground":"text-muted-foreground group-hover:text-foreground"),"aria-hidden":"true"}),n.name]})},n.name)})})})})})]})})}const RI=od("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),$=f.forwardRef(({className:e,variant:n,size:s,asChild:r=!1,...a},i)=>{const l=r?FC:"button";return t.jsx(l,{className:ae(RI({variant:n,size:s,className:e})),ref:i,...a})});$.displayName="Button";function LI(){const{user:e,logout:n}=Rl(),{tenant:s}=Jy();return t.jsx("div",{className:"sticky top-0 z-40 flex h-16 shrink-0 items-center gap-x-4 border-b border-border bg-background px-4 shadow-sm sm:gap-x-6 sm:px-6 lg:px-8",children:t.jsxs("div",{className:"flex flex-1 gap-x-4 self-stretch lg:gap-x-6",children:[t.jsx("div",{className:"flex flex-1 items-center",children:t.jsx("h2",{className:"text-lg font-semibold text-foreground",children:(s==null?void 0:s.name)||"Renter Insight CRM/DMS"})}),t.jsxs("div",{className:"flex items-center gap-x-4 lg:gap-x-6",children:[t.jsxs("div",{className:"flex items-center gap-x-2",children:[t.jsx(Wn,{className:"h-5 w-5 text-muted-foreground"}),t.jsx("span",{className:"text-sm font-medium text-foreground",children:e==null?void 0:e.name})]}),t.jsxs($,{variant:"ghost",size:"sm",onClick:n,className:"flex items-center gap-x-2",children:[t.jsx(RE,{className:"h-4 w-4"}),"Logout"]})]})]})})}function FI({children:e}){return t.jsxs("div",{className:"min-h-screen bg-background",children:[t.jsx(PI,{}),t.jsxs("div",{className:"lg:pl-64",children:[t.jsx(LI,{}),t.jsx("main",{className:"py-6",children:t.jsx("div",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8",children:e})})]})]})}const U=f.forwardRef(({className:e,...n},s)=>t.jsx("div",{ref:s,className:ae("rounded-lg border bg-card text-card-foreground shadow-sm",e),...n}));U.displayName="Card";const G=f.forwardRef(({className:e,...n},s)=>t.jsx("div",{ref:s,className:ae("flex flex-col space-y-1.5 p-6",e),...n}));G.displayName="CardHeader";const q=f.forwardRef(({className:e,...n},s)=>t.jsx("h3",{ref:s,className:ae("text-2xl font-semibold leading-none tracking-tight",e),...n}));q.displayName="CardTitle";const oe=f.forwardRef(({className:e,...n},s)=>t.jsx("p",{ref:s,className:ae("text-sm text-muted-foreground",e),...n}));oe.displayName="CardDescription";const W=f.forwardRef(({className:e,...n},s)=>t.jsx("div",{ref:s,className:ae("p-6 pt-0",e),...n}));W.displayName="CardContent";const OI=f.forwardRef(({className:e,...n},s)=>t.jsx("div",{ref:s,className:ae("flex items-center p-6 pt-0",e),...n}));OI.displayName="CardFooter";const J=f.forwardRef(({className:e,type:n,...s},r)=>t.jsx("input",{type:n,className:ae("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,...s}));J.displayName="Input";const Ze=f.forwardRef(({className:e,...n},s)=>t.jsx("textarea",{className:ae("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:s,...n}));Ze.displayName="Textarea";function fe(){return fe=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var s=arguments[n];for(var r in s)({}).hasOwnProperty.call(s,r)&&(e[r]=s[r])}return e},fe.apply(null,arguments)}function qx(e,[n,s]){return Math.min(s,Math.max(n,e))}function Tt(e,n,{checkForDefaultPrevented:s=!0}={}){return function(a){if(e==null||e(a),s===!1||!a.defaultPrevented)return n==null?void 0:n(a)}}function Ef(e,n=[]){let s=[];function r(i,l){const o=f.createContext(l),c=s.length;s=[...s,l];function d(u){const{scope:p,children:h,...v}=u,j=(p==null?void 0:p[e][c])||o,y=f.useMemo(()=>v,Object.values(v));return f.createElement(j.Provider,{value:y},h)}function m(u,p){const h=(p==null?void 0:p[e][c])||o,v=f.useContext(h);if(v)return v;if(l!==void 0)return l;throw new Error(`\`${u}\` must be used within \`${i}\``)}return d.displayName=i+"Provider",[d,m]}const a=()=>{const i=s.map(l=>f.createContext(l));return function(o){const c=(o==null?void 0:o[e])||i;return f.useMemo(()=>({[`__scope${e}`]:{...o,[e]:c}}),[o,c])}};return a.scopeName=e,[r,MI(a,...n)]}function MI(...e){const n=e[0];if(e.length===1)return n;const s=()=>{const r=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(i){const l=r.reduce((o,{useScope:c,scopeName:d})=>{const u=c(i)[`__scope${d}`];return{...o,...u}},{});return f.useMemo(()=>({[`__scope${n.scopeName}`]:l}),[l])}};return s.scopeName=n.scopeName,s}function _I(e,n){typeof e=="function"?e(n):e!=null&&(e.current=n)}function Zy(...e){return n=>e.forEach(s=>_I(s,n))}function Zt(...e){return f.useCallback(Zy(...e),e)}const xl=f.forwardRef((e,n)=>{const{children:s,...r}=e,a=f.Children.toArray(s),i=a.find(BI);if(i){const l=i.props.children,o=a.map(c=>c===i?f.Children.count(l)>1?f.Children.only(null):f.isValidElement(l)?l.props.children:null:c);return f.createElement(Km,fe({},r,{ref:n}),f.isValidElement(l)?f.cloneElement(l,void 0,o):null)}return f.createElement(Km,fe({},r,{ref:n}),s)});xl.displayName="Slot";const Km=f.forwardRef((e,n)=>{const{children:s,...r}=e;return f.isValidElement(s)?f.cloneElement(s,{...VI(r,s.props),ref:n?Zy(n,s.ref):s.ref}):f.Children.count(s)>1?f.Children.only(null):null});Km.displayName="SlotClone";const $I=({children:e})=>f.createElement(f.Fragment,null,e);function BI(e){return f.isValidElement(e)&&e.type===$I}function VI(e,n){const s={...n};for(const r in n){const a=e[r],i=n[r];/^on[A-Z]/.test(r)?a&&i?s[r]=(...o)=>{i(...o),a(...o)}:a&&(s[r]=a):r==="style"?s[r]={...a,...i}:r==="className"&&(s[r]=[a,i].filter(Boolean).join(" "))}return{...e,...s}}function zI(e){const n=e+"CollectionProvider",[s,r]=Ef(n),[a,i]=s(n,{collectionRef:{current:null},itemMap:new Map}),l=h=>{const{scope:v,children:j}=h,y=Le.useRef(null),g=Le.useRef(new Map).current;return Le.createElement(a,{scope:v,itemMap:g,collectionRef:y},j)},o=e+"CollectionSlot",c=Le.forwardRef((h,v)=>{const{scope:j,children:y}=h,g=i(o,j),x=Zt(v,g.collectionRef);return Le.createElement(xl,{ref:x},y)}),d=e+"CollectionItemSlot",m="data-radix-collection-item",u=Le.forwardRef((h,v)=>{const{scope:j,children:y,...g}=h,x=Le.useRef(null),b=Zt(v,x),T=i(d,j);return Le.useEffect(()=>(T.itemMap.set(x,{ref:x,...g}),()=>void T.itemMap.delete(x))),Le.createElement(xl,{[m]:"",ref:b},y)});function p(h){const v=i(e+"CollectionConsumer",h);return Le.useCallback(()=>{const y=v.collectionRef.current;if(!y)return[];const g=Array.from(y.querySelectorAll(`[${m}]`));return Array.from(v.itemMap.values()).sort((T,L)=>g.indexOf(T.ref.current)-g.indexOf(L.ref.current))},[v.collectionRef,v.itemMap])}return[{Provider:l,Slot:c,ItemSlot:u},p,r]}const UI=f.createContext(void 0);function WI(e){const n=f.useContext(UI);return e||n||"ltr"}const HI=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Ht=HI.reduce((e,n)=>{const s=f.forwardRef((r,a)=>{const{asChild:i,...l}=r,o=i?xl:n;return f.useEffect(()=>{window[Symbol.for("radix-ui")]=!0},[]),f.createElement(o,fe({},l,{ref:a}))});return s.displayName=`Primitive.${n}`,{...e,[n]:s}},{});function GI(e,n){e&&Gs.flushSync(()=>e.dispatchEvent(n))}function zs(e){const n=f.useRef(e);return f.useEffect(()=>{n.current=e}),f.useMemo(()=>(...s)=>{var r;return(r=n.current)===null||r===void 0?void 0:r.call(n,...s)},[])}function qI(e,n=globalThis==null?void 0:globalThis.document){const s=zs(e);f.useEffect(()=>{const r=a=>{a.key==="Escape"&&s(a)};return n.addEventListener("keydown",r),()=>n.removeEventListener("keydown",r)},[s,n])}const Ym="dismissableLayer.update",QI="dismissableLayer.pointerDownOutside",KI="dismissableLayer.focusOutside";let Qx;const YI=f.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),XI=f.forwardRef((e,n)=>{var s;const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:a,onPointerDownOutside:i,onFocusOutside:l,onInteractOutside:o,onDismiss:c,...d}=e,m=f.useContext(YI),[u,p]=f.useState(null),h=(s=u==null?void 0:u.ownerDocument)!==null&&s!==void 0?s:globalThis==null?void 0:globalThis.document,[,v]=f.useState({}),j=Zt(n,w=>p(w)),y=Array.from(m.layers),[g]=[...m.layersWithOutsidePointerEventsDisabled].slice(-1),x=y.indexOf(g),b=u?y.indexOf(u):-1,T=m.layersWithOutsidePointerEventsDisabled.size>0,L=b>=x,k=JI(w=>{const S=w.target,C=[...m.branches].some(E=>E.contains(S));!L||C||(i==null||i(w),o==null||o(w),w.defaultPrevented||c==null||c())},h),I=ZI(w=>{const S=w.target;[...m.branches].some(E=>E.contains(S))||(l==null||l(w),o==null||o(w),w.defaultPrevented||c==null||c())},h);return qI(w=>{b===m.layers.size-1&&(a==null||a(w),!w.defaultPrevented&&c&&(w.preventDefault(),c()))},h),f.useEffect(()=>{if(u)return r&&(m.layersWithOutsidePointerEventsDisabled.size===0&&(Qx=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),m.layersWithOutsidePointerEventsDisabled.add(u)),m.layers.add(u),Kx(),()=>{r&&m.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=Qx)}},[u,h,r,m]),f.useEffect(()=>()=>{u&&(m.layers.delete(u),m.layersWithOutsidePointerEventsDisabled.delete(u),Kx())},[u,m]),f.useEffect(()=>{const w=()=>v({});return document.addEventListener(Ym,w),()=>document.removeEventListener(Ym,w)},[]),f.createElement(Ht.div,fe({},d,{ref:j,style:{pointerEvents:T?L?"auto":"none":void 0,...e.style},onFocusCapture:Tt(e.onFocusCapture,I.onFocusCapture),onBlurCapture:Tt(e.onBlurCapture,I.onBlurCapture),onPointerDownCapture:Tt(e.onPointerDownCapture,k.onPointerDownCapture)}))});function JI(e,n=globalThis==null?void 0:globalThis.document){const s=zs(e),r=f.useRef(!1),a=f.useRef(()=>{});return f.useEffect(()=>{const i=o=>{if(o.target&&!r.current){let m=function(){eb(QI,s,d,{discrete:!0})};var c=m;const d={originalEvent:o};o.pointerType==="touch"?(n.removeEventListener("click",a.current),a.current=m,n.addEventListener("click",a.current,{once:!0})):m()}r.current=!1},l=window.setTimeout(()=>{n.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(l),n.removeEventListener("pointerdown",i),n.removeEventListener("click",a.current)}},[n,s]),{onPointerDownCapture:()=>r.current=!0}}function ZI(e,n=globalThis==null?void 0:globalThis.document){const s=zs(e),r=f.useRef(!1);return f.useEffect(()=>{const a=i=>{i.target&&!r.current&&eb(KI,s,{originalEvent:i},{discrete:!1})};return n.addEventListener("focusin",a),()=>n.removeEventListener("focusin",a)},[n,s]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function Kx(){const e=new CustomEvent(Ym);document.dispatchEvent(e)}function eb(e,n,s,{discrete:r}){const a=s.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:s});n&&a.addEventListener(e,n,{once:!0}),r?GI(a,i):a.dispatchEvent(i)}let ju=0;function eD(){f.useEffect(()=>{var e,n;const s=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",(e=s[0])!==null&&e!==void 0?e:Yx()),document.body.insertAdjacentElement("beforeend",(n=s[1])!==null&&n!==void 0?n:Yx()),ju++,()=>{ju===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(r=>r.remove()),ju--}},[])}function Yx(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.cssText="outline: none; opacity: 0; position: fixed; pointer-events: none",e}const yu="focusScope.autoFocusOnMount",bu="focusScope.autoFocusOnUnmount",Xx={bubbles:!1,cancelable:!0},tD=f.forwardRef((e,n)=>{const{loop:s=!1,trapped:r=!1,onMountAutoFocus:a,onUnmountAutoFocus:i,...l}=e,[o,c]=f.useState(null),d=zs(a),m=zs(i),u=f.useRef(null),p=Zt(n,j=>c(j)),h=f.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;f.useEffect(()=>{if(r){let x=function(k){if(h.paused||!o)return;const I=k.target;o.contains(I)?u.current=I:Ys(u.current,{select:!0})},b=function(k){if(h.paused||!o)return;const I=k.relatedTarget;I!==null&&(o.contains(I)||Ys(u.current,{select:!0}))},T=function(k){const I=document.activeElement;for(const w of k)w.removedNodes.length>0&&(o!=null&&o.contains(I)||Ys(o))};var j=x,y=b,g=T;document.addEventListener("focusin",x),document.addEventListener("focusout",b);const L=new MutationObserver(T);return o&&L.observe(o,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",x),document.removeEventListener("focusout",b),L.disconnect()}}},[r,o,h.paused]),f.useEffect(()=>{if(o){Zx.add(h);const j=document.activeElement;if(!o.contains(j)){const g=new CustomEvent(yu,Xx);o.addEventListener(yu,d),o.dispatchEvent(g),g.defaultPrevented||(nD(lD(tb(o)),{select:!0}),document.activeElement===j&&Ys(o))}return()=>{o.removeEventListener(yu,d),setTimeout(()=>{const g=new CustomEvent(bu,Xx);o.addEventListener(bu,m),o.dispatchEvent(g),g.defaultPrevented||Ys(j??document.body,{select:!0}),o.removeEventListener(bu,m),Zx.remove(h)},0)}}},[o,d,m,h]);const v=f.useCallback(j=>{if(!s&&!r||h.paused)return;const y=j.key==="Tab"&&!j.altKey&&!j.ctrlKey&&!j.metaKey,g=document.activeElement;if(y&&g){const x=j.currentTarget,[b,T]=sD(x);b&&T?!j.shiftKey&&g===T?(j.preventDefault(),s&&Ys(b,{select:!0})):j.shiftKey&&g===b&&(j.preventDefault(),s&&Ys(T,{select:!0})):g===x&&j.preventDefault()}},[s,r,h.paused]);return f.createElement(Ht.div,fe({tabIndex:-1},l,{ref:p,onKeyDown:v}))});function nD(e,{select:n=!1}={}){const s=document.activeElement;for(const r of e)if(Ys(r,{select:n}),document.activeElement!==s)return}function sD(e){const n=tb(e),s=Jx(n,e),r=Jx(n.reverse(),e);return[s,r]}function tb(e){const n=[],s=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const a=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||a?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;s.nextNode();)n.push(s.currentNode);return n}function Jx(e,n){for(const s of e)if(!rD(s,{upTo:n}))return s}function rD(e,{upTo:n}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(n!==void 0&&e===n)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function aD(e){return e instanceof HTMLInputElement&&"select"in e}function Ys(e,{select:n=!1}={}){if(e&&e.focus){const s=document.activeElement;e.focus({preventScroll:!0}),e!==s&&aD(e)&&n&&e.select()}}const Zx=iD();function iD(){let e=[];return{add(n){const s=e[0];n!==s&&(s==null||s.pause()),e=eg(e,n),e.unshift(n)},remove(n){var s;e=eg(e,n),(s=e[0])===null||s===void 0||s.resume()}}}function eg(e,n){const s=[...e],r=s.indexOf(n);return r!==-1&&s.splice(r,1),s}function lD(e){return e.filter(n=>n.tagName!=="A")}const Hn=globalThis!=null&&globalThis.document?f.useLayoutEffect:()=>{},oD=zc["useId".toString()]||(()=>{});let cD=0;function nb(e){const[n,s]=f.useState(oD());return Hn(()=>{e||s(r=>r??String(cD++))},[e]),e||(n?`radix-${n}`:"")}const dD=["top","right","bottom","left"],br=Math.min,xn=Math.max,Nc=Math.round,xo=Math.floor,bs=e=>({x:e,y:e}),uD={left:"right",right:"left",bottom:"top",top:"bottom"},mD={start:"end",end:"start"};function Xm(e,n,s){return xn(e,br(n,s))}function Us(e,n){return typeof e=="function"?e(n):e}function Ws(e){return e.split("-")[0]}function di(e){return e.split("-")[1]}function If(e){return e==="x"?"y":"x"}function Df(e){return e==="y"?"height":"width"}function vs(e){return["top","bottom"].includes(Ws(e))?"y":"x"}function Af(e){return If(vs(e))}function pD(e,n,s){s===void 0&&(s=!1);const r=di(e),a=Af(e),i=Df(a);let l=a==="x"?r===(s?"end":"start")?"right":"left":r==="start"?"bottom":"top";return n.reference[i]>n.floating[i]&&(l=Sc(l)),[l,Sc(l)]}function fD(e){const n=Sc(e);return[Jm(e),n,Jm(n)]}function Jm(e){return e.replace(/start|end/g,n=>mD[n])}function hD(e,n,s){const r=["left","right"],a=["right","left"],i=["top","bottom"],l=["bottom","top"];switch(e){case"top":case"bottom":return s?n?a:r:n?r:a;case"left":case"right":return n?i:l;default:return[]}}function xD(e,n,s,r){const a=di(e);let i=hD(Ws(e),s==="start",r);return a&&(i=i.map(l=>l+"-"+a),n&&(i=i.concat(i.map(Jm)))),i}function Sc(e){return e.replace(/left|right|bottom|top/g,n=>uD[n])}function gD(e){return{top:0,right:0,bottom:0,left:0,...e}}function sb(e){return typeof e!="number"?gD(e):{top:e,right:e,bottom:e,left:e}}function Cc(e){const{x:n,y:s,width:r,height:a}=e;return{width:r,height:a,top:s,left:n,right:n+r,bottom:s+a,x:n,y:s}}function tg(e,n,s){let{reference:r,floating:a}=e;const i=vs(n),l=Af(n),o=Df(l),c=Ws(n),d=i==="y",m=r.x+r.width/2-a.width/2,u=r.y+r.height/2-a.height/2,p=r[o]/2-a[o]/2;let h;switch(c){case"top":h={x:m,y:r.y-a.height};break;case"bottom":h={x:m,y:r.y+r.height};break;case"right":h={x:r.x+r.width,y:u};break;case"left":h={x:r.x-a.width,y:u};break;default:h={x:r.x,y:r.y}}switch(di(n)){case"start":h[l]-=p*(s&&d?-1:1);break;case"end":h[l]+=p*(s&&d?-1:1);break}return h}const vD=async(e,n,s)=>{const{placement:r="bottom",strategy:a="absolute",middleware:i=[],platform:l}=s,o=i.filter(Boolean),c=await(l.isRTL==null?void 0:l.isRTL(n));let d=await l.getElementRects({reference:e,floating:n,strategy:a}),{x:m,y:u}=tg(d,r,c),p=r,h={},v=0;for(let j=0;j<o.length;j++){const{name:y,fn:g}=o[j],{x,y:b,data:T,reset:L}=await g({x:m,y:u,initialPlacement:r,placement:p,strategy:a,middlewareData:h,rects:d,platform:l,elements:{reference:e,floating:n}});m=x??m,u=b??u,h={...h,[y]:{...h[y],...T}},L&&v<=50&&(v++,typeof L=="object"&&(L.placement&&(p=L.placement),L.rects&&(d=L.rects===!0?await l.getElementRects({reference:e,floating:n,strategy:a}):L.rects),{x:m,y:u}=tg(d,p,c)),j=-1)}return{x:m,y:u,placement:p,strategy:a,middlewareData:h}};async function gl(e,n){var s;n===void 0&&(n={});const{x:r,y:a,platform:i,rects:l,elements:o,strategy:c}=e,{boundary:d="clippingAncestors",rootBoundary:m="viewport",elementContext:u="floating",altBoundary:p=!1,padding:h=0}=Us(n,e),v=sb(h),y=o[p?u==="floating"?"reference":"floating":u],g=Cc(await i.getClippingRect({element:(s=await(i.isElement==null?void 0:i.isElement(y)))==null||s?y:y.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(o.floating)),boundary:d,rootBoundary:m,strategy:c})),x=u==="floating"?{x:r,y:a,width:l.floating.width,height:l.floating.height}:l.reference,b=await(i.getOffsetParent==null?void 0:i.getOffsetParent(o.floating)),T=await(i.isElement==null?void 0:i.isElement(b))?await(i.getScale==null?void 0:i.getScale(b))||{x:1,y:1}:{x:1,y:1},L=Cc(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:o,rect:x,offsetParent:b,strategy:c}):x);return{top:(g.top-L.top+v.top)/T.y,bottom:(L.bottom-g.bottom+v.bottom)/T.y,left:(g.left-L.left+v.left)/T.x,right:(L.right-g.right+v.right)/T.x}}const jD=e=>({name:"arrow",options:e,async fn(n){const{x:s,y:r,placement:a,rects:i,platform:l,elements:o,middlewareData:c}=n,{element:d,padding:m=0}=Us(e,n)||{};if(d==null)return{};const u=sb(m),p={x:s,y:r},h=Af(a),v=Df(h),j=await l.getDimensions(d),y=h==="y",g=y?"top":"left",x=y?"bottom":"right",b=y?"clientHeight":"clientWidth",T=i.reference[v]+i.reference[h]-p[h]-i.floating[v],L=p[h]-i.reference[h],k=await(l.getOffsetParent==null?void 0:l.getOffsetParent(d));let I=k?k[b]:0;(!I||!await(l.isElement==null?void 0:l.isElement(k)))&&(I=o.floating[b]||i.floating[v]);const w=T/2-L/2,S=I/2-j[v]/2-1,C=br(u[g],S),E=br(u[x],S),N=C,D=I-j[v]-E,A=I/2-j[v]/2+w,_=Xm(N,A,D),V=!c.arrow&&di(a)!=null&&A!==_&&i.reference[v]/2-(A<N?C:E)-j[v]/2<0,P=V?A<N?A-N:A-D:0;return{[h]:p[h]+P,data:{[h]:_,centerOffset:A-_-P,...V&&{alignmentOffset:P}},reset:V}}}),yD=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(n){var s,r;const{placement:a,middlewareData:i,rects:l,initialPlacement:o,platform:c,elements:d}=n,{mainAxis:m=!0,crossAxis:u=!0,fallbackPlacements:p,fallbackStrategy:h="bestFit",fallbackAxisSideDirection:v="none",flipAlignment:j=!0,...y}=Us(e,n);if((s=i.arrow)!=null&&s.alignmentOffset)return{};const g=Ws(a),x=vs(o),b=Ws(o)===o,T=await(c.isRTL==null?void 0:c.isRTL(d.floating)),L=p||(b||!j?[Sc(o)]:fD(o)),k=v!=="none";!p&&k&&L.push(...xD(o,j,v,T));const I=[o,...L],w=await gl(n,y),S=[];let C=((r=i.flip)==null?void 0:r.overflows)||[];if(m&&S.push(w[g]),u){const A=pD(a,l,T);S.push(w[A[0]],w[A[1]])}if(C=[...C,{placement:a,overflows:S}],!S.every(A=>A<=0)){var E,N;const A=(((E=i.flip)==null?void 0:E.index)||0)+1,_=I[A];if(_&&(!(u==="alignment"?x!==vs(_):!1)||C.every(R=>R.overflows[0]>0&&vs(R.placement)===x)))return{data:{index:A,overflows:C},reset:{placement:_}};let V=(N=C.filter(P=>P.overflows[0]<=0).sort((P,R)=>P.overflows[1]-R.overflows[1])[0])==null?void 0:N.placement;if(!V)switch(h){case"bestFit":{var D;const P=(D=C.filter(R=>{if(k){const M=vs(R.placement);return M===x||M==="y"}return!0}).map(R=>[R.placement,R.overflows.filter(M=>M>0).reduce((M,F)=>M+F,0)]).sort((R,M)=>R[1]-M[1])[0])==null?void 0:D[0];P&&(V=P);break}case"initialPlacement":V=o;break}if(a!==V)return{reset:{placement:V}}}return{}}}};function ng(e,n){return{top:e.top-n.height,right:e.right-n.width,bottom:e.bottom-n.height,left:e.left-n.width}}function sg(e){return dD.some(n=>e[n]>=0)}const bD=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(n){const{rects:s}=n,{strategy:r="referenceHidden",...a}=Us(e,n);switch(r){case"referenceHidden":{const i=await gl(n,{...a,elementContext:"reference"}),l=ng(i,s.reference);return{data:{referenceHiddenOffsets:l,referenceHidden:sg(l)}}}case"escaped":{const i=await gl(n,{...a,altBoundary:!0}),l=ng(i,s.floating);return{data:{escapedOffsets:l,escaped:sg(l)}}}default:return{}}}}};async function wD(e,n){const{placement:s,platform:r,elements:a}=e,i=await(r.isRTL==null?void 0:r.isRTL(a.floating)),l=Ws(s),o=di(s),c=vs(s)==="y",d=["left","top"].includes(l)?-1:1,m=i&&c?-1:1,u=Us(n,e);let{mainAxis:p,crossAxis:h,alignmentAxis:v}=typeof u=="number"?{mainAxis:u,crossAxis:0,alignmentAxis:null}:{mainAxis:u.mainAxis||0,crossAxis:u.crossAxis||0,alignmentAxis:u.alignmentAxis};return o&&typeof v=="number"&&(h=o==="end"?v*-1:v),c?{x:h*m,y:p*d}:{x:p*d,y:h*m}}const ND=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(n){var s,r;const{x:a,y:i,placement:l,middlewareData:o}=n,c=await wD(n,e);return l===((s=o.offset)==null?void 0:s.placement)&&(r=o.arrow)!=null&&r.alignmentOffset?{}:{x:a+c.x,y:i+c.y,data:{...c,placement:l}}}}},SD=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(n){const{x:s,y:r,placement:a}=n,{mainAxis:i=!0,crossAxis:l=!1,limiter:o={fn:y=>{let{x:g,y:x}=y;return{x:g,y:x}}},...c}=Us(e,n),d={x:s,y:r},m=await gl(n,c),u=vs(Ws(a)),p=If(u);let h=d[p],v=d[u];if(i){const y=p==="y"?"top":"left",g=p==="y"?"bottom":"right",x=h+m[y],b=h-m[g];h=Xm(x,h,b)}if(l){const y=u==="y"?"top":"left",g=u==="y"?"bottom":"right",x=v+m[y],b=v-m[g];v=Xm(x,v,b)}const j=o.fn({...n,[p]:h,[u]:v});return{...j,data:{x:j.x-s,y:j.y-r,enabled:{[p]:i,[u]:l}}}}}},CD=function(e){return e===void 0&&(e={}),{options:e,fn(n){const{x:s,y:r,placement:a,rects:i,middlewareData:l}=n,{offset:o=0,mainAxis:c=!0,crossAxis:d=!0}=Us(e,n),m={x:s,y:r},u=vs(a),p=If(u);let h=m[p],v=m[u];const j=Us(o,n),y=typeof j=="number"?{mainAxis:j,crossAxis:0}:{mainAxis:0,crossAxis:0,...j};if(c){const b=p==="y"?"height":"width",T=i.reference[p]-i.floating[b]+y.mainAxis,L=i.reference[p]+i.reference[b]-y.mainAxis;h<T?h=T:h>L&&(h=L)}if(d){var g,x;const b=p==="y"?"width":"height",T=["top","left"].includes(Ws(a)),L=i.reference[u]-i.floating[b]+(T&&((g=l.offset)==null?void 0:g[u])||0)+(T?0:y.crossAxis),k=i.reference[u]+i.reference[b]+(T?0:((x=l.offset)==null?void 0:x[u])||0)-(T?y.crossAxis:0);v<L?v=L:v>k&&(v=k)}return{[p]:h,[u]:v}}}},ED=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(n){var s,r;const{placement:a,rects:i,platform:l,elements:o}=n,{apply:c=()=>{},...d}=Us(e,n),m=await gl(n,d),u=Ws(a),p=di(a),h=vs(a)==="y",{width:v,height:j}=i.floating;let y,g;u==="top"||u==="bottom"?(y=u,g=p===(await(l.isRTL==null?void 0:l.isRTL(o.floating))?"start":"end")?"left":"right"):(g=u,y=p==="end"?"top":"bottom");const x=j-m.top-m.bottom,b=v-m.left-m.right,T=br(j-m[y],x),L=br(v-m[g],b),k=!n.middlewareData.shift;let I=T,w=L;if((s=n.middlewareData.shift)!=null&&s.enabled.x&&(w=b),(r=n.middlewareData.shift)!=null&&r.enabled.y&&(I=x),k&&!p){const C=xn(m.left,0),E=xn(m.right,0),N=xn(m.top,0),D=xn(m.bottom,0);h?w=v-2*(C!==0||E!==0?C+E:xn(m.left,m.right)):I=j-2*(N!==0||D!==0?N+D:xn(m.top,m.bottom))}await c({...n,availableWidth:w,availableHeight:I});const S=await l.getDimensions(o.floating);return v!==S.width||j!==S.height?{reset:{rects:!0}}:{}}}};function cd(){return typeof window<"u"}function ui(e){return rb(e)?(e.nodeName||"").toLowerCase():"#document"}function wn(e){var n;return(e==null||(n=e.ownerDocument)==null?void 0:n.defaultView)||window}function Ss(e){var n;return(n=(rb(e)?e.ownerDocument:e.document)||window.document)==null?void 0:n.documentElement}function rb(e){return cd()?e instanceof Node||e instanceof wn(e).Node:!1}function rs(e){return cd()?e instanceof Element||e instanceof wn(e).Element:!1}function Ns(e){return cd()?e instanceof HTMLElement||e instanceof wn(e).HTMLElement:!1}function rg(e){return!cd()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof wn(e).ShadowRoot}function Ll(e){const{overflow:n,overflowX:s,overflowY:r,display:a}=as(e);return/auto|scroll|overlay|hidden|clip/.test(n+r+s)&&!["inline","contents"].includes(a)}function ID(e){return["table","td","th"].includes(ui(e))}function dd(e){return[":popover-open",":modal"].some(n=>{try{return e.matches(n)}catch{return!1}})}function Tf(e){const n=kf(),s=rs(e)?as(e):e;return["transform","translate","scale","rotate","perspective"].some(r=>s[r]?s[r]!=="none":!1)||(s.containerType?s.containerType!=="normal":!1)||!n&&(s.backdropFilter?s.backdropFilter!=="none":!1)||!n&&(s.filter?s.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(r=>(s.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(s.contain||"").includes(r))}function DD(e){let n=wr(e);for(;Ns(n)&&!Xa(n);){if(Tf(n))return n;if(dd(n))return null;n=wr(n)}return null}function kf(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Xa(e){return["html","body","#document"].includes(ui(e))}function as(e){return wn(e).getComputedStyle(e)}function ud(e){return rs(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function wr(e){if(ui(e)==="html")return e;const n=e.assignedSlot||e.parentNode||rg(e)&&e.host||Ss(e);return rg(n)?n.host:n}function ab(e){const n=wr(e);return Xa(n)?e.ownerDocument?e.ownerDocument.body:e.body:Ns(n)&&Ll(n)?n:ab(n)}function vl(e,n,s){var r;n===void 0&&(n=[]),s===void 0&&(s=!0);const a=ab(e),i=a===((r=e.ownerDocument)==null?void 0:r.body),l=wn(a);if(i){const o=Zm(l);return n.concat(l,l.visualViewport||[],Ll(a)?a:[],o&&s?vl(o):[])}return n.concat(a,vl(a,[],s))}function Zm(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function ib(e){const n=as(e);let s=parseFloat(n.width)||0,r=parseFloat(n.height)||0;const a=Ns(e),i=a?e.offsetWidth:s,l=a?e.offsetHeight:r,o=Nc(s)!==i||Nc(r)!==l;return o&&(s=i,r=l),{width:s,height:r,$:o}}function Pf(e){return rs(e)?e:e.contextElement}function $a(e){const n=Pf(e);if(!Ns(n))return bs(1);const s=n.getBoundingClientRect(),{width:r,height:a,$:i}=ib(n);let l=(i?Nc(s.width):s.width)/r,o=(i?Nc(s.height):s.height)/a;return(!l||!Number.isFinite(l))&&(l=1),(!o||!Number.isFinite(o))&&(o=1),{x:l,y:o}}const AD=bs(0);function lb(e){const n=wn(e);return!kf()||!n.visualViewport?AD:{x:n.visualViewport.offsetLeft,y:n.visualViewport.offsetTop}}function TD(e,n,s){return n===void 0&&(n=!1),!s||n&&s!==wn(e)?!1:n}function na(e,n,s,r){n===void 0&&(n=!1),s===void 0&&(s=!1);const a=e.getBoundingClientRect(),i=Pf(e);let l=bs(1);n&&(r?rs(r)&&(l=$a(r)):l=$a(e));const o=TD(i,s,r)?lb(i):bs(0);let c=(a.left+o.x)/l.x,d=(a.top+o.y)/l.y,m=a.width/l.x,u=a.height/l.y;if(i){const p=wn(i),h=r&&rs(r)?wn(r):r;let v=p,j=Zm(v);for(;j&&r&&h!==v;){const y=$a(j),g=j.getBoundingClientRect(),x=as(j),b=g.left+(j.clientLeft+parseFloat(x.paddingLeft))*y.x,T=g.top+(j.clientTop+parseFloat(x.paddingTop))*y.y;c*=y.x,d*=y.y,m*=y.x,u*=y.y,c+=b,d+=T,v=wn(j),j=Zm(v)}}return Cc({width:m,height:u,x:c,y:d})}function Rf(e,n){const s=ud(e).scrollLeft;return n?n.left+s:na(Ss(e)).left+s}function ob(e,n,s){s===void 0&&(s=!1);const r=e.getBoundingClientRect(),a=r.left+n.scrollLeft-(s?0:Rf(e,r)),i=r.top+n.scrollTop;return{x:a,y:i}}function kD(e){let{elements:n,rect:s,offsetParent:r,strategy:a}=e;const i=a==="fixed",l=Ss(r),o=n?dd(n.floating):!1;if(r===l||o&&i)return s;let c={scrollLeft:0,scrollTop:0},d=bs(1);const m=bs(0),u=Ns(r);if((u||!u&&!i)&&((ui(r)!=="body"||Ll(l))&&(c=ud(r)),Ns(r))){const h=na(r);d=$a(r),m.x=h.x+r.clientLeft,m.y=h.y+r.clientTop}const p=l&&!u&&!i?ob(l,c,!0):bs(0);return{width:s.width*d.x,height:s.height*d.y,x:s.x*d.x-c.scrollLeft*d.x+m.x+p.x,y:s.y*d.y-c.scrollTop*d.y+m.y+p.y}}function PD(e){return Array.from(e.getClientRects())}function RD(e){const n=Ss(e),s=ud(e),r=e.ownerDocument.body,a=xn(n.scrollWidth,n.clientWidth,r.scrollWidth,r.clientWidth),i=xn(n.scrollHeight,n.clientHeight,r.scrollHeight,r.clientHeight);let l=-s.scrollLeft+Rf(e);const o=-s.scrollTop;return as(r).direction==="rtl"&&(l+=xn(n.clientWidth,r.clientWidth)-a),{width:a,height:i,x:l,y:o}}function LD(e,n){const s=wn(e),r=Ss(e),a=s.visualViewport;let i=r.clientWidth,l=r.clientHeight,o=0,c=0;if(a){i=a.width,l=a.height;const d=kf();(!d||d&&n==="fixed")&&(o=a.offsetLeft,c=a.offsetTop)}return{width:i,height:l,x:o,y:c}}function FD(e,n){const s=na(e,!0,n==="fixed"),r=s.top+e.clientTop,a=s.left+e.clientLeft,i=Ns(e)?$a(e):bs(1),l=e.clientWidth*i.x,o=e.clientHeight*i.y,c=a*i.x,d=r*i.y;return{width:l,height:o,x:c,y:d}}function ag(e,n,s){let r;if(n==="viewport")r=LD(e,s);else if(n==="document")r=RD(Ss(e));else if(rs(n))r=FD(n,s);else{const a=lb(e);r={x:n.x-a.x,y:n.y-a.y,width:n.width,height:n.height}}return Cc(r)}function cb(e,n){const s=wr(e);return s===n||!rs(s)||Xa(s)?!1:as(s).position==="fixed"||cb(s,n)}function OD(e,n){const s=n.get(e);if(s)return s;let r=vl(e,[],!1).filter(o=>rs(o)&&ui(o)!=="body"),a=null;const i=as(e).position==="fixed";let l=i?wr(e):e;for(;rs(l)&&!Xa(l);){const o=as(l),c=Tf(l);!c&&o.position==="fixed"&&(a=null),(i?!c&&!a:!c&&o.position==="static"&&!!a&&["absolute","fixed"].includes(a.position)||Ll(l)&&!c&&cb(e,l))?r=r.filter(m=>m!==l):a=o,l=wr(l)}return n.set(e,r),r}function MD(e){let{element:n,boundary:s,rootBoundary:r,strategy:a}=e;const l=[...s==="clippingAncestors"?dd(n)?[]:OD(n,this._c):[].concat(s),r],o=l[0],c=l.reduce((d,m)=>{const u=ag(n,m,a);return d.top=xn(u.top,d.top),d.right=br(u.right,d.right),d.bottom=br(u.bottom,d.bottom),d.left=xn(u.left,d.left),d},ag(n,o,a));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function _D(e){const{width:n,height:s}=ib(e);return{width:n,height:s}}function $D(e,n,s){const r=Ns(n),a=Ss(n),i=s==="fixed",l=na(e,!0,i,n);let o={scrollLeft:0,scrollTop:0};const c=bs(0);function d(){c.x=Rf(a)}if(r||!r&&!i)if((ui(n)!=="body"||Ll(a))&&(o=ud(n)),r){const h=na(n,!0,i,n);c.x=h.x+n.clientLeft,c.y=h.y+n.clientTop}else a&&d();i&&!r&&a&&d();const m=a&&!r&&!i?ob(a,o):bs(0),u=l.left+o.scrollLeft-c.x-m.x,p=l.top+o.scrollTop-c.y-m.y;return{x:u,y:p,width:l.width,height:l.height}}function wu(e){return as(e).position==="static"}function ig(e,n){if(!Ns(e)||as(e).position==="fixed")return null;if(n)return n(e);let s=e.offsetParent;return Ss(e)===s&&(s=s.ownerDocument.body),s}function db(e,n){const s=wn(e);if(dd(e))return s;if(!Ns(e)){let a=wr(e);for(;a&&!Xa(a);){if(rs(a)&&!wu(a))return a;a=wr(a)}return s}let r=ig(e,n);for(;r&&ID(r)&&wu(r);)r=ig(r,n);return r&&Xa(r)&&wu(r)&&!Tf(r)?s:r||DD(e)||s}const BD=async function(e){const n=this.getOffsetParent||db,s=this.getDimensions,r=await s(e.floating);return{reference:$D(e.reference,await n(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function VD(e){return as(e).direction==="rtl"}const zD={convertOffsetParentRelativeRectToViewportRelativeRect:kD,getDocumentElement:Ss,getClippingRect:MD,getOffsetParent:db,getElementRects:BD,getClientRects:PD,getDimensions:_D,getScale:$a,isElement:rs,isRTL:VD};function ub(e,n){return e.x===n.x&&e.y===n.y&&e.width===n.width&&e.height===n.height}function UD(e,n){let s=null,r;const a=Ss(e);function i(){var o;clearTimeout(r),(o=s)==null||o.disconnect(),s=null}function l(o,c){o===void 0&&(o=!1),c===void 0&&(c=1),i();const d=e.getBoundingClientRect(),{left:m,top:u,width:p,height:h}=d;if(o||n(),!p||!h)return;const v=xo(u),j=xo(a.clientWidth-(m+p)),y=xo(a.clientHeight-(u+h)),g=xo(m),b={rootMargin:-v+"px "+-j+"px "+-y+"px "+-g+"px",threshold:xn(0,br(1,c))||1};let T=!0;function L(k){const I=k[0].intersectionRatio;if(I!==c){if(!T)return l();I?l(!1,I):r=setTimeout(()=>{l(!1,1e-7)},1e3)}I===1&&!ub(d,e.getBoundingClientRect())&&l(),T=!1}try{s=new IntersectionObserver(L,{...b,root:a.ownerDocument})}catch{s=new IntersectionObserver(L,b)}s.observe(e)}return l(!0),i}function WD(e,n,s,r){r===void 0&&(r={});const{ancestorScroll:a=!0,ancestorResize:i=!0,elementResize:l=typeof ResizeObserver=="function",layoutShift:o=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,d=Pf(e),m=a||i?[...d?vl(d):[],...vl(n)]:[];m.forEach(g=>{a&&g.addEventListener("scroll",s,{passive:!0}),i&&g.addEventListener("resize",s)});const u=d&&o?UD(d,s):null;let p=-1,h=null;l&&(h=new ResizeObserver(g=>{let[x]=g;x&&x.target===d&&h&&(h.unobserve(n),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var b;(b=h)==null||b.observe(n)})),s()}),d&&!c&&h.observe(d),h.observe(n));let v,j=c?na(e):null;c&&y();function y(){const g=na(e);j&&!ub(j,g)&&s(),j=g,v=requestAnimationFrame(y)}return s(),()=>{var g;m.forEach(x=>{a&&x.removeEventListener("scroll",s),i&&x.removeEventListener("resize",s)}),u==null||u(),(g=h)==null||g.disconnect(),h=null,c&&cancelAnimationFrame(v)}}const HD=ND,GD=SD,qD=yD,QD=ED,KD=bD,lg=jD,YD=CD,XD=(e,n,s)=>{const r=new Map,a={platform:zD,...s},i={...a.platform,_c:r};return vD(e,n,{...a,platform:i})};var JD=typeof document<"u",ZD=function(){},Wo=JD?f.useLayoutEffect:ZD;function Ec(e,n){if(e===n)return!0;if(typeof e!=typeof n)return!1;if(typeof e=="function"&&e.toString()===n.toString())return!0;let s,r,a;if(e&&n&&typeof e=="object"){if(Array.isArray(e)){if(s=e.length,s!==n.length)return!1;for(r=s;r--!==0;)if(!Ec(e[r],n[r]))return!1;return!0}if(a=Object.keys(e),s=a.length,s!==Object.keys(n).length)return!1;for(r=s;r--!==0;)if(!{}.hasOwnProperty.call(n,a[r]))return!1;for(r=s;r--!==0;){const i=a[r];if(!(i==="_owner"&&e.$$typeof)&&!Ec(e[i],n[i]))return!1}return!0}return e!==e&&n!==n}function mb(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function og(e,n){const s=mb(e);return Math.round(n*s)/s}function Nu(e){const n=f.useRef(e);return Wo(()=>{n.current=e}),n}function eA(e){e===void 0&&(e={});const{placement:n="bottom",strategy:s="absolute",middleware:r=[],platform:a,elements:{reference:i,floating:l}={},transform:o=!0,whileElementsMounted:c,open:d}=e,[m,u]=f.useState({x:0,y:0,strategy:s,placement:n,middlewareData:{},isPositioned:!1}),[p,h]=f.useState(r);Ec(p,r)||h(r);const[v,j]=f.useState(null),[y,g]=f.useState(null),x=f.useCallback(R=>{R!==k.current&&(k.current=R,j(R))},[]),b=f.useCallback(R=>{R!==I.current&&(I.current=R,g(R))},[]),T=i||v,L=l||y,k=f.useRef(null),I=f.useRef(null),w=f.useRef(m),S=c!=null,C=Nu(c),E=Nu(a),N=Nu(d),D=f.useCallback(()=>{if(!k.current||!I.current)return;const R={placement:n,strategy:s,middleware:p};E.current&&(R.platform=E.current),XD(k.current,I.current,R).then(M=>{const F={...M,isPositioned:N.current!==!1};A.current&&!Ec(w.current,F)&&(w.current=F,Gs.flushSync(()=>{u(F)}))})},[p,n,s,E,N]);Wo(()=>{d===!1&&w.current.isPositioned&&(w.current.isPositioned=!1,u(R=>({...R,isPositioned:!1})))},[d]);const A=f.useRef(!1);Wo(()=>(A.current=!0,()=>{A.current=!1}),[]),Wo(()=>{if(T&&(k.current=T),L&&(I.current=L),T&&L){if(C.current)return C.current(T,L,D);D()}},[T,L,D,C,S]);const _=f.useMemo(()=>({reference:k,floating:I,setReference:x,setFloating:b}),[x,b]),V=f.useMemo(()=>({reference:T,floating:L}),[T,L]),P=f.useMemo(()=>{const R={position:s,left:0,top:0};if(!V.floating)return R;const M=og(V.floating,m.x),F=og(V.floating,m.y);return o?{...R,transform:"translate("+M+"px, "+F+"px)",...mb(V.floating)>=1.5&&{willChange:"transform"}}:{position:s,left:M,top:F}},[s,o,V.floating,m.x,m.y]);return f.useMemo(()=>({...m,update:D,refs:_,elements:V,floatingStyles:P}),[m,D,_,V,P])}const tA=e=>{function n(s){return{}.hasOwnProperty.call(s,"current")}return{name:"arrow",options:e,fn(s){const{element:r,padding:a}=typeof e=="function"?e(s):e;return r&&n(r)?r.current!=null?lg({element:r.current,padding:a}).fn(s):{}:r?lg({element:r,padding:a}).fn(s):{}}}},nA=(e,n)=>({...HD(e),options:[e,n]}),sA=(e,n)=>({...GD(e),options:[e,n]}),rA=(e,n)=>({...YD(e),options:[e,n]}),aA=(e,n)=>({...qD(e),options:[e,n]}),iA=(e,n)=>({...QD(e),options:[e,n]}),lA=(e,n)=>({...KD(e),options:[e,n]}),oA=(e,n)=>({...tA(e),options:[e,n]});function cA(e){const[n,s]=f.useState(void 0);return Hn(()=>{if(e){s({width:e.offsetWidth,height:e.offsetHeight});const r=new ResizeObserver(a=>{if(!Array.isArray(a)||!a.length)return;const i=a[0];let l,o;if("borderBoxSize"in i){const c=i.borderBoxSize,d=Array.isArray(c)?c[0]:c;l=d.inlineSize,o=d.blockSize}else l=e.offsetWidth,o=e.offsetHeight;s({width:l,height:o})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}else s(void 0)},[e]),n}const pb="Popper",[fb,hb]=Ef(pb),[dA,xb]=fb(pb),uA=e=>{const{__scopePopper:n,children:s}=e,[r,a]=f.useState(null);return f.createElement(dA,{scope:n,anchor:r,onAnchorChange:a},s)},mA="PopperAnchor",pA=f.forwardRef((e,n)=>{const{__scopePopper:s,virtualRef:r,...a}=e,i=xb(mA,s),l=f.useRef(null),o=Zt(n,l);return f.useEffect(()=>{i.onAnchorChange((r==null?void 0:r.current)||l.current)}),r?null:f.createElement(Ht.div,fe({},a,{ref:o}))}),gb="PopperContent",[fA,PO]=fb(gb),hA=f.forwardRef((e,n)=>{var s,r,a,i,l,o,c,d;const{__scopePopper:m,side:u="bottom",sideOffset:p=0,align:h="center",alignOffset:v=0,arrowPadding:j=0,collisionBoundary:y=[],collisionPadding:g=0,sticky:x="partial",hideWhenDetached:b=!1,avoidCollisions:T=!0,onPlaced:L,...k}=e,I=xb(gb,m),[w,S]=f.useState(null),C=Zt(n,Y=>S(Y)),[E,N]=f.useState(null),D=cA(E),A=(s=D==null?void 0:D.width)!==null&&s!==void 0?s:0,_=(r=D==null?void 0:D.height)!==null&&r!==void 0?r:0,V=u+(h!=="center"?"-"+h:""),P=typeof g=="number"?g:{top:0,right:0,bottom:0,left:0,...g},R=Array.isArray(y)?y:[y],M=R.length>0,F={padding:P,boundary:R.filter(xA),altBoundary:M},{refs:B,floatingStyles:z,placement:H,isPositioned:K,middlewareData:se}=eA({strategy:"fixed",placement:V,whileElementsMounted:WD,elements:{reference:I.anchor},middleware:[nA({mainAxis:p+_,alignmentAxis:v}),T&&sA({mainAxis:!0,crossAxis:!1,limiter:x==="partial"?rA():void 0,...F}),T&&aA({...F}),iA({...F,apply:({elements:Y,rects:X,availableWidth:ne,availableHeight:Ee})=>{const{width:Te,height:_e}=X.reference,Ue=Y.floating.style;Ue.setProperty("--radix-popper-available-width",`${ne}px`),Ue.setProperty("--radix-popper-available-height",`${Ee}px`),Ue.setProperty("--radix-popper-anchor-width",`${Te}px`),Ue.setProperty("--radix-popper-anchor-height",`${_e}px`)}}),E&&oA({element:E,padding:j}),gA({arrowWidth:A,arrowHeight:_}),b&&lA({strategy:"referenceHidden"})]}),[te,le]=vb(H),ce=zs(L);Hn(()=>{K&&(ce==null||ce())},[K,ce]);const ue=(a=se.arrow)===null||a===void 0?void 0:a.x,ee=(i=se.arrow)===null||i===void 0?void 0:i.y,me=((l=se.arrow)===null||l===void 0?void 0:l.centerOffset)!==0,[Ne,Fe]=f.useState();return Hn(()=>{w&&Fe(window.getComputedStyle(w).zIndex)},[w]),f.createElement("div",{ref:B.setFloating,"data-radix-popper-content-wrapper":"",style:{...z,transform:K?z.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Ne,"--radix-popper-transform-origin":[(o=se.transformOrigin)===null||o===void 0?void 0:o.x,(c=se.transformOrigin)===null||c===void 0?void 0:c.y].join(" ")},dir:e.dir},f.createElement(fA,{scope:m,placedSide:te,onArrowChange:N,arrowX:ue,arrowY:ee,shouldHideArrow:me},f.createElement(Ht.div,fe({"data-side":te,"data-align":le},k,{ref:C,style:{...k.style,animation:K?void 0:"none",opacity:(d=se.hide)!==null&&d!==void 0&&d.referenceHidden?0:void 0}}))))});function xA(e){return e!==null}const gA=e=>({name:"transformOrigin",options:e,fn(n){var s,r,a,i,l;const{placement:o,rects:c,middlewareData:d}=n,u=((s=d.arrow)===null||s===void 0?void 0:s.centerOffset)!==0,p=u?0:e.arrowWidth,h=u?0:e.arrowHeight,[v,j]=vb(o),y={start:"0%",center:"50%",end:"100%"}[j],g=((r=(a=d.arrow)===null||a===void 0?void 0:a.x)!==null&&r!==void 0?r:0)+p/2,x=((i=(l=d.arrow)===null||l===void 0?void 0:l.y)!==null&&i!==void 0?i:0)+h/2;let b="",T="";return v==="bottom"?(b=u?y:`${g}px`,T=`${-h}px`):v==="top"?(b=u?y:`${g}px`,T=`${c.floating.height+h}px`):v==="right"?(b=`${-h}px`,T=u?y:`${x}px`):v==="left"&&(b=`${c.floating.width+h}px`,T=u?y:`${x}px`),{data:{x:b,y:T}}}});function vb(e){const[n,s="center"]=e.split("-");return[n,s]}const vA=uA,jA=pA,yA=hA,bA=f.forwardRef((e,n)=>{var s;const{container:r=globalThis==null||(s=globalThis.document)===null||s===void 0?void 0:s.body,...a}=e;return r?df.createPortal(f.createElement(Ht.div,fe({},a,{ref:n})),r):null});function cg({prop:e,defaultProp:n,onChange:s=()=>{}}){const[r,a]=wA({defaultProp:n,onChange:s}),i=e!==void 0,l=i?e:r,o=zs(s),c=f.useCallback(d=>{if(i){const u=typeof d=="function"?d(e):d;u!==e&&o(u)}else a(d)},[i,e,a,o]);return[l,c]}function wA({defaultProp:e,onChange:n}){const s=f.useState(e),[r]=s,a=f.useRef(r),i=zs(n);return f.useEffect(()=>{a.current!==r&&(i(r),a.current=r)},[r,a,i]),s}function NA(e){const n=f.useRef({value:e,previous:e});return f.useMemo(()=>(n.current.value!==e&&(n.current.previous=n.current.value,n.current.value=e),n.current.previous),[e])}const SA=f.forwardRef((e,n)=>f.createElement(Ht.span,fe({},e,{ref:n,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...e.style}})));var CA=function(e){if(typeof document>"u")return null;var n=Array.isArray(e)?e[0]:e;return n.ownerDocument.body},ma=new WeakMap,go=new WeakMap,vo={},Su=0,jb=function(e){return e&&(e.host||jb(e.parentNode))},EA=function(e,n){return n.map(function(s){if(e.contains(s))return s;var r=jb(s);return r&&e.contains(r)?r:(console.error("aria-hidden",s,"in not contained inside",e,". Doing nothing"),null)}).filter(function(s){return!!s})},IA=function(e,n,s,r){var a=EA(n,Array.isArray(e)?e:[e]);vo[s]||(vo[s]=new WeakMap);var i=vo[s],l=[],o=new Set,c=new Set(a),d=function(u){!u||o.has(u)||(o.add(u),d(u.parentNode))};a.forEach(d);var m=function(u){!u||c.has(u)||Array.prototype.forEach.call(u.children,function(p){if(o.has(p))m(p);else try{var h=p.getAttribute(r),v=h!==null&&h!=="false",j=(ma.get(p)||0)+1,y=(i.get(p)||0)+1;ma.set(p,j),i.set(p,y),l.push(p),j===1&&v&&go.set(p,!0),y===1&&p.setAttribute(s,"true"),v||p.setAttribute(r,"true")}catch(g){console.error("aria-hidden: cannot operate on ",p,g)}})};return m(n),o.clear(),Su++,function(){l.forEach(function(u){var p=ma.get(u)-1,h=i.get(u)-1;ma.set(u,p),i.set(u,h),p||(go.has(u)||u.removeAttribute(r),go.delete(u)),h||u.removeAttribute(s)}),Su--,Su||(ma=new WeakMap,ma=new WeakMap,go=new WeakMap,vo={})}},DA=function(e,n,s){s===void 0&&(s="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),a=n||CA(e);return a?(r.push.apply(r,Array.from(a.querySelectorAll("[aria-live], script"))),IA(r,a,s,"aria-hidden")):function(){return null}},xs=function(){return xs=Object.assign||function(n){for(var s,r=1,a=arguments.length;r<a;r++){s=arguments[r];for(var i in s)Object.prototype.hasOwnProperty.call(s,i)&&(n[i]=s[i])}return n},xs.apply(this,arguments)};function yb(e,n){var s={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.indexOf(r)<0&&(s[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)n.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(s[r[a]]=e[r[a]]);return s}function la(e,n,s,r){function a(i){return i instanceof s?i:new s(function(l){l(i)})}return new(s||(s=Promise))(function(i,l){function o(m){try{d(r.next(m))}catch(u){l(u)}}function c(m){try{d(r.throw(m))}catch(u){l(u)}}function d(m){m.done?i(m.value):a(m.value).then(o,c)}d((r=r.apply(e,n||[])).next())})}function AA(e,n,s){if(s||arguments.length===2)for(var r=0,a=n.length,i;r<a;r++)(i||!(r in n))&&(i||(i=Array.prototype.slice.call(n,0,r)),i[r]=n[r]);return e.concat(i||Array.prototype.slice.call(n))}var Ho="right-scroll-bar-position",Go="width-before-scroll-bar",TA="with-scroll-bars-hidden",kA="--removed-body-scroll-bar-size";function Cu(e,n){return typeof e=="function"?e(n):e&&(e.current=n),e}function PA(e,n){var s=f.useState(function(){return{value:e,callback:n,facade:{get current(){return s.value},set current(r){var a=s.value;a!==r&&(s.value=r,s.callback(r,a))}}}})[0];return s.callback=n,s.facade}var RA=typeof window<"u"?f.useLayoutEffect:f.useEffect,dg=new WeakMap;function LA(e,n){var s=PA(n||null,function(r){return e.forEach(function(a){return Cu(a,r)})});return RA(function(){var r=dg.get(s);if(r){var a=new Set(r),i=new Set(e),l=s.current;a.forEach(function(o){i.has(o)||Cu(o,null)}),i.forEach(function(o){a.has(o)||Cu(o,l)})}dg.set(s,e)},[e]),s}function FA(e){return e}function OA(e,n){n===void 0&&(n=FA);var s=[],r=!1,a={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return s.length?s[s.length-1]:e},useMedium:function(i){var l=n(i,r);return s.push(l),function(){s=s.filter(function(o){return o!==l})}},assignSyncMedium:function(i){for(r=!0;s.length;){var l=s;s=[],l.forEach(i)}s={push:function(o){return i(o)},filter:function(){return s}}},assignMedium:function(i){r=!0;var l=[];if(s.length){var o=s;s=[],o.forEach(i),l=s}var c=function(){var m=l;l=[],m.forEach(i)},d=function(){return Promise.resolve().then(c)};d(),s={push:function(m){l.push(m),d()},filter:function(m){return l=l.filter(m),s}}}};return a}function MA(e){e===void 0&&(e={});var n=OA(null);return n.options=xs({async:!0,ssr:!1},e),n}var bb=function(e){var n=e.sideCar,s=yb(e,["sideCar"]);if(!n)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=n.read();if(!r)throw new Error("Sidecar medium not found");return f.createElement(r,xs({},s))};bb.isSideCarExport=!0;function _A(e,n){return e.useMedium(n),bb}var wb=MA(),Eu=function(){},md=f.forwardRef(function(e,n){var s=f.useRef(null),r=f.useState({onScrollCapture:Eu,onWheelCapture:Eu,onTouchMoveCapture:Eu}),a=r[0],i=r[1],l=e.forwardProps,o=e.children,c=e.className,d=e.removeScrollBar,m=e.enabled,u=e.shards,p=e.sideCar,h=e.noIsolation,v=e.inert,j=e.allowPinchZoom,y=e.as,g=y===void 0?"div":y,x=yb(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as"]),b=p,T=LA([s,n]),L=xs(xs({},x),a);return f.createElement(f.Fragment,null,m&&f.createElement(b,{sideCar:wb,removeScrollBar:d,shards:u,noIsolation:h,inert:v,setCallbacks:i,allowPinchZoom:!!j,lockRef:s}),l?f.cloneElement(f.Children.only(o),xs(xs({},L),{ref:T})):f.createElement(g,xs({},L,{className:c,ref:T}),o))});md.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};md.classNames={fullWidth:Go,zeroRight:Ho};var ug,$A=function(){if(ug)return ug;if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function BA(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var n=$A();return n&&e.setAttribute("nonce",n),e}function VA(e,n){e.styleSheet?e.styleSheet.cssText=n:e.appendChild(document.createTextNode(n))}function zA(e){var n=document.head||document.getElementsByTagName("head")[0];n.appendChild(e)}var UA=function(){var e=0,n=null;return{add:function(s){e==0&&(n=BA())&&(VA(n,s),zA(n)),e++},remove:function(){e--,!e&&n&&(n.parentNode&&n.parentNode.removeChild(n),n=null)}}},WA=function(){var e=UA();return function(n,s){f.useEffect(function(){return e.add(n),function(){e.remove()}},[n&&s])}},Nb=function(){var e=WA(),n=function(s){var r=s.styles,a=s.dynamic;return e(r,a),null};return n},HA={left:0,top:0,right:0,gap:0},Iu=function(e){return parseInt(e||"",10)||0},GA=function(e){var n=window.getComputedStyle(document.body),s=n[e==="padding"?"paddingLeft":"marginLeft"],r=n[e==="padding"?"paddingTop":"marginTop"],a=n[e==="padding"?"paddingRight":"marginRight"];return[Iu(s),Iu(r),Iu(a)]},qA=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return HA;var n=GA(e),s=document.documentElement.clientWidth,r=window.innerWidth;return{left:n[0],top:n[1],right:n[2],gap:Math.max(0,r-s+n[2]-n[0])}},QA=Nb(),Ba="data-scroll-locked",KA=function(e,n,s,r){var a=e.left,i=e.top,l=e.right,o=e.gap;return s===void 0&&(s="margin"),`
  .`.concat(TA,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(o,"px ").concat(r,`;
  }
  body[`).concat(Ba,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([n&&"position: relative ".concat(r,";"),s==="margin"&&`
    padding-left: `.concat(a,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(l,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(o,"px ").concat(r,`;
    `),s==="padding"&&"padding-right: ".concat(o,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Ho,` {
    right: `).concat(o,"px ").concat(r,`;
  }
  
  .`).concat(Go,` {
    margin-right: `).concat(o,"px ").concat(r,`;
  }
  
  .`).concat(Ho," .").concat(Ho,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Go," .").concat(Go,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Ba,`] {
    `).concat(kA,": ").concat(o,`px;
  }
`)},mg=function(){var e=parseInt(document.body.getAttribute(Ba)||"0",10);return isFinite(e)?e:0},YA=function(){f.useEffect(function(){return document.body.setAttribute(Ba,(mg()+1).toString()),function(){var e=mg()-1;e<=0?document.body.removeAttribute(Ba):document.body.setAttribute(Ba,e.toString())}},[])},XA=function(e){var n=e.noRelative,s=e.noImportant,r=e.gapMode,a=r===void 0?"margin":r;YA();var i=f.useMemo(function(){return qA(a)},[a]);return f.createElement(QA,{styles:KA(i,!n,a,s?"":"!important")})},ep=!1;if(typeof window<"u")try{var jo=Object.defineProperty({},"passive",{get:function(){return ep=!0,!0}});window.addEventListener("test",jo,jo),window.removeEventListener("test",jo,jo)}catch{ep=!1}var pa=ep?{passive:!1}:!1,JA=function(e){return e.tagName==="TEXTAREA"},Sb=function(e,n){var s=window.getComputedStyle(e);return s[n]!=="hidden"&&!(s.overflowY===s.overflowX&&!JA(e)&&s[n]==="visible")},ZA=function(e){return Sb(e,"overflowY")},eT=function(e){return Sb(e,"overflowX")},pg=function(e,n){var s=n;do{typeof ShadowRoot<"u"&&s instanceof ShadowRoot&&(s=s.host);var r=Cb(e,s);if(r){var a=Eb(e,s),i=a[1],l=a[2];if(i>l)return!0}s=s.parentNode}while(s&&s!==document.body);return!1},tT=function(e){var n=e.scrollTop,s=e.scrollHeight,r=e.clientHeight;return[n,s,r]},nT=function(e){var n=e.scrollLeft,s=e.scrollWidth,r=e.clientWidth;return[n,s,r]},Cb=function(e,n){return e==="v"?ZA(n):eT(n)},Eb=function(e,n){return e==="v"?tT(n):nT(n)},sT=function(e,n){return e==="h"&&n==="rtl"?-1:1},rT=function(e,n,s,r,a){var i=sT(e,window.getComputedStyle(n).direction),l=i*r,o=s.target,c=n.contains(o),d=!1,m=l>0,u=0,p=0;do{var h=Eb(e,o),v=h[0],j=h[1],y=h[2],g=j-y-i*v;(v||g)&&Cb(e,o)&&(u+=g,p+=v),o=o.parentNode}while(!c&&o!==document.body||c&&(n.contains(o)||n===o));return(m&&(a&&u===0||!a&&l>u)||!m&&(a&&p===0||!a&&-l>p))&&(d=!0),d},yo=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},fg=function(e){return[e.deltaX,e.deltaY]},hg=function(e){return e&&"current"in e?e.current:e},aT=function(e,n){return e[0]===n[0]&&e[1]===n[1]},iT=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},lT=0,fa=[];function oT(e){var n=f.useRef([]),s=f.useRef([0,0]),r=f.useRef(),a=f.useState(lT++)[0],i=f.useState(function(){return Nb()})[0],l=f.useRef(e);f.useEffect(function(){l.current=e},[e]),f.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(a));var j=AA([e.lockRef.current],(e.shards||[]).map(hg),!0).filter(Boolean);return j.forEach(function(y){return y.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),j.forEach(function(y){return y.classList.remove("allow-interactivity-".concat(a))})}}},[e.inert,e.lockRef.current,e.shards]);var o=f.useCallback(function(j,y){if("touches"in j&&j.touches.length===2)return!l.current.allowPinchZoom;var g=yo(j),x=s.current,b="deltaX"in j?j.deltaX:x[0]-g[0],T="deltaY"in j?j.deltaY:x[1]-g[1],L,k=j.target,I=Math.abs(b)>Math.abs(T)?"h":"v";if("touches"in j&&I==="h"&&k.type==="range")return!1;var w=pg(I,k);if(!w)return!0;if(w?L=I:(L=I==="v"?"h":"v",w=pg(I,k)),!w)return!1;if(!r.current&&"changedTouches"in j&&(b||T)&&(r.current=L),!L)return!0;var S=r.current||L;return rT(S,y,j,S==="h"?b:T,!0)},[]),c=f.useCallback(function(j){var y=j;if(!(!fa.length||fa[fa.length-1]!==i)){var g="deltaY"in y?fg(y):yo(y),x=n.current.filter(function(L){return L.name===y.type&&L.target===y.target&&aT(L.delta,g)})[0];if(x&&x.should){y.cancelable&&y.preventDefault();return}if(!x){var b=(l.current.shards||[]).map(hg).filter(Boolean).filter(function(L){return L.contains(y.target)}),T=b.length>0?o(y,b[0]):!l.current.noIsolation;T&&y.cancelable&&y.preventDefault()}}},[]),d=f.useCallback(function(j,y,g,x){var b={name:j,delta:y,target:g,should:x};n.current.push(b),setTimeout(function(){n.current=n.current.filter(function(T){return T!==b})},1)},[]),m=f.useCallback(function(j){s.current=yo(j),r.current=void 0},[]),u=f.useCallback(function(j){d(j.type,fg(j),j.target,o(j,e.lockRef.current))},[]),p=f.useCallback(function(j){d(j.type,yo(j),j.target,o(j,e.lockRef.current))},[]);f.useEffect(function(){return fa.push(i),e.setCallbacks({onScrollCapture:u,onWheelCapture:u,onTouchMoveCapture:p}),document.addEventListener("wheel",c,pa),document.addEventListener("touchmove",c,pa),document.addEventListener("touchstart",m,pa),function(){fa=fa.filter(function(j){return j!==i}),document.removeEventListener("wheel",c,pa),document.removeEventListener("touchmove",c,pa),document.removeEventListener("touchstart",m,pa)}},[]);var h=e.removeScrollBar,v=e.inert;return f.createElement(f.Fragment,null,v?f.createElement(i,{styles:iT(a)}):null,h?f.createElement(XA,{gapMode:"margin"}):null)}const cT=_A(wb,oT);var Ib=f.forwardRef(function(e,n){return f.createElement(md,xs({},e,{ref:n,sideCar:cT}))});Ib.classNames=md.classNames;const dT=Ib,uT=[" ","Enter","ArrowUp","ArrowDown"],mT=[" ","Enter"],pd="Select",[fd,hd,pT]=zI(pd),[mi,RO]=Ef(pd,[pT,hb]),Lf=hb(),[fT,oa]=mi(pd),[hT,xT]=mi(pd),gT=e=>{const{__scopeSelect:n,children:s,open:r,defaultOpen:a,onOpenChange:i,value:l,defaultValue:o,onValueChange:c,dir:d,name:m,autoComplete:u,disabled:p,required:h}=e,v=Lf(n),[j,y]=f.useState(null),[g,x]=f.useState(null),[b,T]=f.useState(!1),L=WI(d),[k=!1,I]=cg({prop:r,defaultProp:a,onChange:i}),[w,S]=cg({prop:l,defaultProp:o,onChange:c}),C=f.useRef(null),E=j?!!j.closest("form"):!0,[N,D]=f.useState(new Set),A=Array.from(N).map(_=>_.props.value).join(";");return f.createElement(vA,v,f.createElement(fT,{required:h,scope:n,trigger:j,onTriggerChange:y,valueNode:g,onValueNodeChange:x,valueNodeHasChildren:b,onValueNodeHasChildrenChange:T,contentId:nb(),value:w,onValueChange:S,open:k,onOpenChange:I,dir:L,triggerPointerDownPosRef:C,disabled:p},f.createElement(fd.Provider,{scope:n},f.createElement(hT,{scope:e.__scopeSelect,onNativeOptionAdd:f.useCallback(_=>{D(V=>new Set(V).add(_))},[]),onNativeOptionRemove:f.useCallback(_=>{D(V=>{const P=new Set(V);return P.delete(_),P})},[])},s)),E?f.createElement(kb,{key:A,"aria-hidden":!0,required:h,tabIndex:-1,name:m,autoComplete:u,value:w,onChange:_=>S(_.target.value),disabled:p},w===void 0?f.createElement("option",{value:""}):null,Array.from(N)):null))},vT="SelectTrigger",jT=f.forwardRef((e,n)=>{const{__scopeSelect:s,disabled:r=!1,...a}=e,i=Lf(s),l=oa(vT,s),o=l.disabled||r,c=Zt(n,l.onTriggerChange),d=hd(s),[m,u,p]=Pb(v=>{const j=d().filter(x=>!x.disabled),y=j.find(x=>x.value===l.value),g=Rb(j,v,y);g!==void 0&&l.onValueChange(g.value)}),h=()=>{o||(l.onOpenChange(!0),p())};return f.createElement(jA,fe({asChild:!0},i),f.createElement(Ht.button,fe({type:"button",role:"combobox","aria-controls":l.contentId,"aria-expanded":l.open,"aria-required":l.required,"aria-autocomplete":"none",dir:l.dir,"data-state":l.open?"open":"closed",disabled:o,"data-disabled":o?"":void 0,"data-placeholder":l.value===void 0?"":void 0},a,{ref:c,onClick:Tt(a.onClick,v=>{v.currentTarget.focus()}),onPointerDown:Tt(a.onPointerDown,v=>{const j=v.target;j.hasPointerCapture(v.pointerId)&&j.releasePointerCapture(v.pointerId),v.button===0&&v.ctrlKey===!1&&(h(),l.triggerPointerDownPosRef.current={x:Math.round(v.pageX),y:Math.round(v.pageY)},v.preventDefault())}),onKeyDown:Tt(a.onKeyDown,v=>{const j=m.current!=="";!(v.ctrlKey||v.altKey||v.metaKey)&&v.key.length===1&&u(v.key),!(j&&v.key===" ")&&uT.includes(v.key)&&(h(),v.preventDefault())})})))}),yT="SelectValue",bT=f.forwardRef((e,n)=>{const{__scopeSelect:s,className:r,style:a,children:i,placeholder:l,...o}=e,c=oa(yT,s),{onValueNodeHasChildrenChange:d}=c,m=i!==void 0,u=Zt(n,c.onValueNodeChange);return Hn(()=>{d(m)},[d,m]),f.createElement(Ht.span,fe({},o,{ref:u,style:{pointerEvents:"none"}}),c.value===void 0&&l!==void 0?l:i)}),wT=f.forwardRef((e,n)=>{const{__scopeSelect:s,children:r,...a}=e;return f.createElement(Ht.span,fe({"aria-hidden":!0},a,{ref:n}),r||"▼")}),NT=e=>f.createElement(bA,fe({asChild:!0},e)),Ja="SelectContent",ST=f.forwardRef((e,n)=>{const s=oa(Ja,e.__scopeSelect),[r,a]=f.useState();if(Hn(()=>{a(new DocumentFragment)},[]),!s.open){const i=r;return i?Gs.createPortal(f.createElement(Db,{scope:e.__scopeSelect},f.createElement(fd.Slot,{scope:e.__scopeSelect},f.createElement("div",null,e.children))),i):null}return f.createElement(CT,fe({},e,{ref:n}))}),Ts=10,[Db,ca]=mi(Ja),CT=f.forwardRef((e,n)=>{const{__scopeSelect:s,position:r="item-aligned",onCloseAutoFocus:a,onEscapeKeyDown:i,onPointerDownOutside:l,side:o,sideOffset:c,align:d,alignOffset:m,arrowPadding:u,collisionBoundary:p,collisionPadding:h,sticky:v,hideWhenDetached:j,avoidCollisions:y,...g}=e,x=oa(Ja,s),[b,T]=f.useState(null),[L,k]=f.useState(null),I=Zt(n,le=>T(le)),[w,S]=f.useState(null),[C,E]=f.useState(null),N=hd(s),[D,A]=f.useState(!1),_=f.useRef(!1);f.useEffect(()=>{if(b)return DA(b)},[b]),eD();const V=f.useCallback(le=>{const[ce,...ue]=N().map(Ne=>Ne.ref.current),[ee]=ue.slice(-1),me=document.activeElement;for(const Ne of le)if(Ne===me||(Ne==null||Ne.scrollIntoView({block:"nearest"}),Ne===ce&&L&&(L.scrollTop=0),Ne===ee&&L&&(L.scrollTop=L.scrollHeight),Ne==null||Ne.focus(),document.activeElement!==me))return},[N,L]),P=f.useCallback(()=>V([w,b]),[V,w,b]);f.useEffect(()=>{D&&P()},[D,P]);const{onOpenChange:R,triggerPointerDownPosRef:M}=x;f.useEffect(()=>{if(b){let le={x:0,y:0};const ce=ee=>{var me,Ne,Fe,Y;le={x:Math.abs(Math.round(ee.pageX)-((me=(Ne=M.current)===null||Ne===void 0?void 0:Ne.x)!==null&&me!==void 0?me:0)),y:Math.abs(Math.round(ee.pageY)-((Fe=(Y=M.current)===null||Y===void 0?void 0:Y.y)!==null&&Fe!==void 0?Fe:0))}},ue=ee=>{le.x<=10&&le.y<=10?ee.preventDefault():b.contains(ee.target)||R(!1),document.removeEventListener("pointermove",ce),M.current=null};return M.current!==null&&(document.addEventListener("pointermove",ce),document.addEventListener("pointerup",ue,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",ce),document.removeEventListener("pointerup",ue,{capture:!0})}}},[b,R,M]),f.useEffect(()=>{const le=()=>R(!1);return window.addEventListener("blur",le),window.addEventListener("resize",le),()=>{window.removeEventListener("blur",le),window.removeEventListener("resize",le)}},[R]);const[F,B]=Pb(le=>{const ce=N().filter(me=>!me.disabled),ue=ce.find(me=>me.ref.current===document.activeElement),ee=Rb(ce,le,ue);ee&&setTimeout(()=>ee.ref.current.focus())}),z=f.useCallback((le,ce,ue)=>{const ee=!_.current&&!ue;(x.value!==void 0&&x.value===ce||ee)&&(S(le),ee&&(_.current=!0))},[x.value]),H=f.useCallback(()=>b==null?void 0:b.focus(),[b]),K=f.useCallback((le,ce,ue)=>{const ee=!_.current&&!ue;(x.value!==void 0&&x.value===ce||ee)&&E(le)},[x.value]),se=r==="popper"?xg:ET,te=se===xg?{side:o,sideOffset:c,align:d,alignOffset:m,arrowPadding:u,collisionBoundary:p,collisionPadding:h,sticky:v,hideWhenDetached:j,avoidCollisions:y}:{};return f.createElement(Db,{scope:s,content:b,viewport:L,onViewportChange:k,itemRefCallback:z,selectedItem:w,onItemLeave:H,itemTextRefCallback:K,focusSelectedItem:P,selectedItemText:C,position:r,isPositioned:D,searchRef:F},f.createElement(dT,{as:xl,allowPinchZoom:!0},f.createElement(tD,{asChild:!0,trapped:x.open,onMountAutoFocus:le=>{le.preventDefault()},onUnmountAutoFocus:Tt(a,le=>{var ce;(ce=x.trigger)===null||ce===void 0||ce.focus({preventScroll:!0}),le.preventDefault()})},f.createElement(XI,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:l,onFocusOutside:le=>le.preventDefault(),onDismiss:()=>x.onOpenChange(!1)},f.createElement(se,fe({role:"listbox",id:x.contentId,"data-state":x.open?"open":"closed",dir:x.dir,onContextMenu:le=>le.preventDefault()},g,te,{onPlaced:()=>A(!0),ref:I,style:{display:"flex",flexDirection:"column",outline:"none",...g.style},onKeyDown:Tt(g.onKeyDown,le=>{const ce=le.ctrlKey||le.altKey||le.metaKey;if(le.key==="Tab"&&le.preventDefault(),!ce&&le.key.length===1&&B(le.key),["ArrowUp","ArrowDown","Home","End"].includes(le.key)){let ee=N().filter(me=>!me.disabled).map(me=>me.ref.current);if(["ArrowUp","End"].includes(le.key)&&(ee=ee.slice().reverse()),["ArrowUp","ArrowDown"].includes(le.key)){const me=le.target,Ne=ee.indexOf(me);ee=ee.slice(Ne+1)}setTimeout(()=>V(ee)),le.preventDefault()}})}))))))}),ET=f.forwardRef((e,n)=>{const{__scopeSelect:s,onPlaced:r,...a}=e,i=oa(Ja,s),l=ca(Ja,s),[o,c]=f.useState(null),[d,m]=f.useState(null),u=Zt(n,I=>m(I)),p=hd(s),h=f.useRef(!1),v=f.useRef(!0),{viewport:j,selectedItem:y,selectedItemText:g,focusSelectedItem:x}=l,b=f.useCallback(()=>{if(i.trigger&&i.valueNode&&o&&d&&j&&y&&g){const I=i.trigger.getBoundingClientRect(),w=d.getBoundingClientRect(),S=i.valueNode.getBoundingClientRect(),C=g.getBoundingClientRect();if(i.dir!=="rtl"){const me=C.left-w.left,Ne=S.left-me,Fe=I.left-Ne,Y=I.width+Fe,X=Math.max(Y,w.width),ne=window.innerWidth-Ts,Ee=qx(Ne,[Ts,ne-X]);o.style.minWidth=Y+"px",o.style.left=Ee+"px"}else{const me=w.right-C.right,Ne=window.innerWidth-S.right-me,Fe=window.innerWidth-I.right-Ne,Y=I.width+Fe,X=Math.max(Y,w.width),ne=window.innerWidth-Ts,Ee=qx(Ne,[Ts,ne-X]);o.style.minWidth=Y+"px",o.style.right=Ee+"px"}const E=p(),N=window.innerHeight-Ts*2,D=j.scrollHeight,A=window.getComputedStyle(d),_=parseInt(A.borderTopWidth,10),V=parseInt(A.paddingTop,10),P=parseInt(A.borderBottomWidth,10),R=parseInt(A.paddingBottom,10),M=_+V+D+R+P,F=Math.min(y.offsetHeight*5,M),B=window.getComputedStyle(j),z=parseInt(B.paddingTop,10),H=parseInt(B.paddingBottom,10),K=I.top+I.height/2-Ts,se=N-K,te=y.offsetHeight/2,le=y.offsetTop+te,ce=_+V+le,ue=M-ce;if(ce<=K){const me=y===E[E.length-1].ref.current;o.style.bottom="0px";const Ne=d.clientHeight-j.offsetTop-j.offsetHeight,Fe=Math.max(se,te+(me?H:0)+Ne+P),Y=ce+Fe;o.style.height=Y+"px"}else{const me=y===E[0].ref.current;o.style.top="0px";const Fe=Math.max(K,_+j.offsetTop+(me?z:0)+te)+ue;o.style.height=Fe+"px",j.scrollTop=ce-K+j.offsetTop}o.style.margin=`${Ts}px 0`,o.style.minHeight=F+"px",o.style.maxHeight=N+"px",r==null||r(),requestAnimationFrame(()=>h.current=!0)}},[p,i.trigger,i.valueNode,o,d,j,y,g,i.dir,r]);Hn(()=>b(),[b]);const[T,L]=f.useState();Hn(()=>{d&&L(window.getComputedStyle(d).zIndex)},[d]);const k=f.useCallback(I=>{I&&v.current===!0&&(b(),x==null||x(),v.current=!1)},[b,x]);return f.createElement(IT,{scope:s,contentWrapper:o,shouldExpandOnScrollRef:h,onScrollButtonChange:k},f.createElement("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:T}},f.createElement(Ht.div,fe({},a,{ref:u,style:{boxSizing:"border-box",maxHeight:"100%",...a.style}}))))}),xg=f.forwardRef((e,n)=>{const{__scopeSelect:s,align:r="start",collisionPadding:a=Ts,...i}=e,l=Lf(s);return f.createElement(yA,fe({},l,i,{ref:n,align:r,collisionPadding:a,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}}))}),[IT,Ff]=mi(Ja,{}),gg="SelectViewport",DT=f.forwardRef((e,n)=>{const{__scopeSelect:s,...r}=e,a=ca(gg,s),i=Ff(gg,s),l=Zt(n,a.onViewportChange),o=f.useRef(0);return f.createElement(f.Fragment,null,f.createElement("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"}}),f.createElement(fd.Slot,{scope:s},f.createElement(Ht.div,fe({"data-radix-select-viewport":"",role:"presentation"},r,{ref:l,style:{position:"relative",flex:1,overflow:"auto",...r.style},onScroll:Tt(r.onScroll,c=>{const d=c.currentTarget,{contentWrapper:m,shouldExpandOnScrollRef:u}=i;if(u!=null&&u.current&&m){const p=Math.abs(o.current-d.scrollTop);if(p>0){const h=window.innerHeight-Ts*2,v=parseFloat(m.style.minHeight),j=parseFloat(m.style.height),y=Math.max(v,j);if(y<h){const g=y+p,x=Math.min(h,g),b=g-x;m.style.height=x+"px",m.style.bottom==="0px"&&(d.scrollTop=b>0?b:0,m.style.justifyContent="flex-end")}}}o.current=d.scrollTop})}))))}),AT="SelectGroup",[LO,TT]=mi(AT),kT="SelectLabel",PT=f.forwardRef((e,n)=>{const{__scopeSelect:s,...r}=e,a=TT(kT,s);return f.createElement(Ht.div,fe({id:a.id},r,{ref:n}))}),tp="SelectItem",[RT,Ab]=mi(tp),LT=f.forwardRef((e,n)=>{const{__scopeSelect:s,value:r,disabled:a=!1,textValue:i,...l}=e,o=oa(tp,s),c=ca(tp,s),d=o.value===r,[m,u]=f.useState(i??""),[p,h]=f.useState(!1),v=Zt(n,g=>{var x;return(x=c.itemRefCallback)===null||x===void 0?void 0:x.call(c,g,r,a)}),j=nb(),y=()=>{a||(o.onValueChange(r),o.onOpenChange(!1))};return f.createElement(RT,{scope:s,value:r,disabled:a,textId:j,isSelected:d,onItemTextChange:f.useCallback(g=>{u(x=>{var b;return x||((b=g==null?void 0:g.textContent)!==null&&b!==void 0?b:"").trim()})},[])},f.createElement(fd.ItemSlot,{scope:s,value:r,disabled:a,textValue:m},f.createElement(Ht.div,fe({role:"option","aria-labelledby":j,"data-highlighted":p?"":void 0,"aria-selected":d&&p,"data-state":d?"checked":"unchecked","aria-disabled":a||void 0,"data-disabled":a?"":void 0,tabIndex:a?void 0:-1},l,{ref:v,onFocus:Tt(l.onFocus,()=>h(!0)),onBlur:Tt(l.onBlur,()=>h(!1)),onPointerUp:Tt(l.onPointerUp,y),onPointerMove:Tt(l.onPointerMove,g=>{if(a){var x;(x=c.onItemLeave)===null||x===void 0||x.call(c)}else g.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Tt(l.onPointerLeave,g=>{if(g.currentTarget===document.activeElement){var x;(x=c.onItemLeave)===null||x===void 0||x.call(c)}}),onKeyDown:Tt(l.onKeyDown,g=>{var x;((x=c.searchRef)===null||x===void 0?void 0:x.current)!==""&&g.key===" "||(mT.includes(g.key)&&y(),g.key===" "&&g.preventDefault())})}))))}),bo="SelectItemText",FT=f.forwardRef((e,n)=>{const{__scopeSelect:s,className:r,style:a,...i}=e,l=oa(bo,s),o=ca(bo,s),c=Ab(bo,s),d=xT(bo,s),[m,u]=f.useState(null),p=Zt(n,g=>u(g),c.onItemTextChange,g=>{var x;return(x=o.itemTextRefCallback)===null||x===void 0?void 0:x.call(o,g,c.value,c.disabled)}),h=m==null?void 0:m.textContent,v=f.useMemo(()=>f.createElement("option",{key:c.value,value:c.value,disabled:c.disabled},h),[c.disabled,c.value,h]),{onNativeOptionAdd:j,onNativeOptionRemove:y}=d;return Hn(()=>(j(v),()=>y(v)),[j,y,v]),f.createElement(f.Fragment,null,f.createElement(Ht.span,fe({id:c.textId},i,{ref:p})),c.isSelected&&l.valueNode&&!l.valueNodeHasChildren?Gs.createPortal(i.children,l.valueNode):null)}),OT="SelectItemIndicator",MT=f.forwardRef((e,n)=>{const{__scopeSelect:s,...r}=e;return Ab(OT,s).isSelected?f.createElement(Ht.span,fe({"aria-hidden":!0},r,{ref:n})):null}),vg="SelectScrollUpButton",_T=f.forwardRef((e,n)=>{const s=ca(vg,e.__scopeSelect),r=Ff(vg,e.__scopeSelect),[a,i]=f.useState(!1),l=Zt(n,r.onScrollButtonChange);return Hn(()=>{if(s.viewport&&s.isPositioned){let d=function(){const m=c.scrollTop>0;i(m)};var o=d;const c=s.viewport;return d(),c.addEventListener("scroll",d),()=>c.removeEventListener("scroll",d)}},[s.viewport,s.isPositioned]),a?f.createElement(Tb,fe({},e,{ref:l,onAutoScroll:()=>{const{viewport:o,selectedItem:c}=s;o&&c&&(o.scrollTop=o.scrollTop-c.offsetHeight)}})):null}),jg="SelectScrollDownButton",$T=f.forwardRef((e,n)=>{const s=ca(jg,e.__scopeSelect),r=Ff(jg,e.__scopeSelect),[a,i]=f.useState(!1),l=Zt(n,r.onScrollButtonChange);return Hn(()=>{if(s.viewport&&s.isPositioned){let d=function(){const m=c.scrollHeight-c.clientHeight,u=Math.ceil(c.scrollTop)<m;i(u)};var o=d;const c=s.viewport;return d(),c.addEventListener("scroll",d),()=>c.removeEventListener("scroll",d)}},[s.viewport,s.isPositioned]),a?f.createElement(Tb,fe({},e,{ref:l,onAutoScroll:()=>{const{viewport:o,selectedItem:c}=s;o&&c&&(o.scrollTop=o.scrollTop+c.offsetHeight)}})):null}),Tb=f.forwardRef((e,n)=>{const{__scopeSelect:s,onAutoScroll:r,...a}=e,i=ca("SelectScrollButton",s),l=f.useRef(null),o=hd(s),c=f.useCallback(()=>{l.current!==null&&(window.clearInterval(l.current),l.current=null)},[]);return f.useEffect(()=>()=>c(),[c]),Hn(()=>{var d;const m=o().find(u=>u.ref.current===document.activeElement);m==null||(d=m.ref.current)===null||d===void 0||d.scrollIntoView({block:"nearest"})},[o]),f.createElement(Ht.div,fe({"aria-hidden":!0},a,{ref:n,style:{flexShrink:0,...a.style},onPointerDown:Tt(a.onPointerDown,()=>{l.current===null&&(l.current=window.setInterval(r,50))}),onPointerMove:Tt(a.onPointerMove,()=>{var d;(d=i.onItemLeave)===null||d===void 0||d.call(i),l.current===null&&(l.current=window.setInterval(r,50))}),onPointerLeave:Tt(a.onPointerLeave,()=>{c()})}))}),BT=f.forwardRef((e,n)=>{const{__scopeSelect:s,...r}=e;return f.createElement(Ht.div,fe({"aria-hidden":!0},r,{ref:n}))}),kb=f.forwardRef((e,n)=>{const{value:s,...r}=e,a=f.useRef(null),i=Zt(n,a),l=NA(s);return f.useEffect(()=>{const o=a.current,c=window.HTMLSelectElement.prototype,m=Object.getOwnPropertyDescriptor(c,"value").set;if(l!==s&&m){const u=new Event("change",{bubbles:!0});m.call(o,s),o.dispatchEvent(u)}},[l,s]),f.createElement(SA,{asChild:!0},f.createElement("select",fe({},r,{ref:i,defaultValue:s})))});kb.displayName="BubbleSelect";function Pb(e){const n=zs(e),s=f.useRef(""),r=f.useRef(0),a=f.useCallback(l=>{const o=s.current+l;n(o),function c(d){s.current=d,window.clearTimeout(r.current),d!==""&&(r.current=window.setTimeout(()=>c(""),1e3))}(o)},[n]),i=f.useCallback(()=>{s.current="",window.clearTimeout(r.current)},[]);return f.useEffect(()=>()=>window.clearTimeout(r.current),[]),[s,a,i]}function Rb(e,n,s){const a=n.length>1&&Array.from(n).every(d=>d===n[0])?n[0]:n,i=s?e.indexOf(s):-1;let l=VT(e,Math.max(i,0));a.length===1&&(l=l.filter(d=>d!==s));const c=l.find(d=>d.textValue.toLowerCase().startsWith(a.toLowerCase()));return c!==s?c:void 0}function VT(e,n){return e.map((s,r)=>e[(n+r)%e.length])}const zT=gT,Lb=jT,UT=bT,WT=wT,HT=NT,Fb=ST,GT=DT,Ob=PT,Mb=LT,qT=FT,QT=MT,_b=_T,$b=$T,Bb=BT,ge=zT,ve=UT,he=f.forwardRef(({className:e,children:n,...s},r)=>t.jsxs(Lb,{ref:r,className:ae("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...s,children:[n,t.jsx(WT,{asChild:!0,children:t.jsx(Oy,{className:"h-4 w-4 opacity-50"})})]}));he.displayName=Lb.displayName;const Vb=f.forwardRef(({className:e,...n},s)=>t.jsx(_b,{ref:s,className:ae("flex cursor-default items-center justify-center py-1",e),...n,children:t.jsx(AE,{className:"h-4 w-4"})}));Vb.displayName=_b.displayName;const zb=f.forwardRef(({className:e,...n},s)=>t.jsx($b,{ref:s,className:ae("flex cursor-default items-center justify-center py-1",e),...n,children:t.jsx(Oy,{className:"h-4 w-4"})}));zb.displayName=$b.displayName;const xe=f.forwardRef(({className:e,children:n,position:s="popper",...r},a)=>t.jsx(HT,{children:t.jsxs(Fb,{ref:a,className:ae("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",s==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:s,...r,children:[t.jsx(Vb,{}),t.jsx(GT,{className:ae("p-1",s==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:n}),t.jsx(zb,{})]})}));xe.displayName=Fb.displayName;const KT=f.forwardRef(({className:e,...n},s)=>t.jsx(Ob,{ref:s,className:ae("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...n}));KT.displayName=Ob.displayName;const O=f.forwardRef(({className:e,children:n,...s},r)=>t.jsxs(Mb,{ref:r,className:ae("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...s,children:[t.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:t.jsx(QT,{children:t.jsx(yf,{className:"h-4 w-4"})})}),t.jsx(qT,{children:n})]}));O.displayName=Mb.displayName;const YT=f.forwardRef(({className:e,...n},s)=>t.jsx(Bb,{ref:s,className:ae("-mx-1 my-1 h-px bg-muted",e),...n}));YT.displayName=Bb.displayName;var XT="Label",Ub=f.forwardRef((e,n)=>t.jsx(xt.label,{...e,ref:n,onMouseDown:s=>{var a;s.target.closest("button, input, select, textarea")||((a=e.onMouseDown)==null||a.call(e,s),!s.defaultPrevented&&s.detail>1&&s.preventDefault())}}));Ub.displayName=XT;var Wb=Ub;const JT=od("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Q=f.forwardRef(({className:e,...n},s)=>t.jsx(Wb,{ref:s,className:ae(JT(),e),...n}));Q.displayName=Wb.displayName;var wt=(e=>(e.NEW="new",e.CONTACTED="contacted",e.QUALIFIED="qualified",e.PROPOSAL="proposal",e.NEGOTIATION="negotiation",e.CLOSED_WON="closed_won",e.CLOSED_LOST="closed_lost",e))(wt||{});function da(){const[e,n]=f.useState([]),[s,r]=f.useState([]),[a,i]=f.useState([]),[l,o]=f.useState([]),[c,d]=f.useState([]),[m,u]=f.useState([]),[p,h]=f.useState(!1);f.useEffect(()=>{v()},[]);const v=()=>{const N=[{id:"1",name:"Website Contact Form",type:"website",isActive:!0,trackingCode:"WEB_CONTACT",conversionRate:15.5,createdAt:new Date("2024-01-01")},{id:"2",name:"Facebook Ads",type:"advertising",isActive:!0,trackingCode:"FB_ADS",conversionRate:8.2,createdAt:new Date("2024-01-01")},{id:"3",name:"Customer Referral",type:"referral",isActive:!0,conversionRate:35.8,createdAt:new Date("2024-01-01")},{id:"4",name:"RV Show",type:"event",isActive:!0,trackingCode:"RV_SHOW_2024",conversionRate:22.1,createdAt:new Date("2024-01-01")},{id:"5",name:"Google Ads",type:"advertising",isActive:!0,trackingCode:"GOOGLE_ADS",conversionRate:12.3,createdAt:new Date("2024-01-01")},{id:"6",name:"Walk-in",type:"other",isActive:!0,conversionRate:45.2,createdAt:new Date("2024-01-01")}],D=[{id:"rep-001",name:"John Smith",email:"john.smith@dealership.com",phone:"(555) 123-4567",territory:"North Region",isActive:!0,targets:{monthly:10,quarterly:30,annual:120}},{id:"rep-002",name:"Sarah Johnson",email:"sarah.johnson@dealership.com",phone:"(555) 987-6543",territory:"South Region",isActive:!0,targets:{monthly:12,quarterly:36,annual:144}},{id:"rep-003",name:"Mike Davis",email:"mike.davis@dealership.com",phone:"(555) 456-7890",territory:"East Region",isActive:!0,targets:{monthly:8,quarterly:24,annual:96}}],A=Kt("renter-insight-leads",[{id:"1",firstName:"John",lastName:"Smith",email:"john.smith@email.com",phone:"(555) 123-4567",source:"Website Contact Form",sourceId:"1",status:wt.NEW,assignedTo:"rep-001",notes:"Interested in Class A Motorhome, budget $150k-200k",score:85,lastActivity:new Date("2024-01-20"),customFields:{budget:"$150k-200k",timeframe:"3-6 months",experience:"First-time buyer"},createdAt:new Date("2024-01-15"),updatedAt:new Date("2024-01-20")},{id:"2",firstName:"Sarah",lastName:"Johnson",email:"sarah.j@email.com",phone:"(555) 987-6543",source:"Customer Referral",sourceId:"3",status:wt.QUALIFIED,assignedTo:"rep-002",notes:"Looking for travel trailer under $50k, referred by Mike Davis",score:92,lastActivity:new Date("2024-01-18"),customFields:{budget:"Under $50k",timeframe:"1-3 months",experience:"Experienced RVer"},createdAt:new Date("2024-01-14"),updatedAt:new Date("2024-01-18")}]),_=Kt("renter-insight-activities",[{id:"1",leadId:"1",type:"call",description:"Initial qualification call",outcome:"positive",duration:25,completedDate:new Date("2024-01-20"),userId:"rep-001",createdAt:new Date("2024-01-20")},{id:"2",leadId:"2",type:"email",description:"Sent product brochures",outcome:"positive",completedDate:new Date("2024-01-18"),userId:"rep-002",createdAt:new Date("2024-01-18")}]),V=[{leadId:"1",totalScore:85,demographicScore:30,behaviorScore:25,engagementScore:30,lastCalculated:new Date("2024-01-20"),factors:[{factor:"Budget Match",points:25,reason:"Budget aligns with inventory"},{factor:"Response Time",points:20,reason:"Quick response to outreach"},{factor:"Engagement Level",points:15,reason:"High email open rates"}]}],P=[{id:"1",leadId:"1",userId:"rep-001",type:"follow_up",title:"Follow up on motorhome interest",description:"Schedule showroom visit",dueDate:new Date("2024-01-25"),isCompleted:!1,priority:"high",createdAt:new Date("2024-01-20")}];r(N),u(D),n(A),i(_),o(V),d(P)},j=N=>{Nt("renter-insight-leads",N)},y=N=>{Nt("renter-insight-activities",N)},g=async N=>{h(!0);try{const D={id:Math.random().toString(36).substr(2,9),firstName:N.firstName||"",lastName:N.lastName||"",email:N.email||"",phone:N.phone||"",source:N.source||"",sourceId:N.sourceId||"",status:wt.NEW,assignedTo:N.assignedTo,notes:N.notes||"",score:0,lastActivity:new Date,customFields:N.customFields||{},createdAt:new Date,updatedAt:new Date},A=[...e,D];return n(A),j(A),await T({leadId:D.id,type:"note",description:`Lead created from ${D.source}`,userId:"current-user"}),await L(D.id),D}finally{h(!1)}},x=async(N,D)=>{const A=e.map(_=>_.id===N?{..._,status:D,updatedAt:new Date}:_);n(A),j(A),await T({leadId:N,type:"status_change",description:`Status changed to ${D}`,userId:"current-user"})},b=async(N,D)=>{var _;const A=e.map(V=>V.id===N?{...V,assignedTo:D,updatedAt:new Date}:V);n(A),j(A),await T({leadId:N,type:"note",description:`Lead assigned to ${(_=m.find(V=>V.id===D))==null?void 0:_.name}`,userId:"current-user"})},T=async N=>{const D={id:Math.random().toString(36).substr(2,9),leadId:N.leadId||"",type:N.type||"note",description:N.description||"",outcome:N.outcome,duration:N.duration,scheduledDate:N.scheduledDate,completedDate:N.completedDate||new Date,userId:N.userId||"current-user",metadata:N.metadata,createdAt:new Date},A=[...a,D];i(A),y(A);const _=e.map(V=>V.id===D.leadId?{...V,lastActivity:new Date,updatedAt:new Date}:V);n(_),j(_),await L(D.leadId)},L=async N=>{var te,le,ce;const D=e.find(ue=>ue.id===N);if(!D)return;const A=a.filter(ue=>ue.leadId===N);let _=0,V=0,P=0;const R=[];(te=D.customFields)!=null&&te.budget&&(_+=20,R.push({factor:"Budget Provided",points:20,reason:"Customer provided budget information"})),((le=D.customFields)==null?void 0:le.timeframe)==="1-3 months"?(_+=25,R.push({factor:"Short Timeframe",points:25,reason:"Ready to purchase soon"})):((ce=D.customFields)==null?void 0:ce.timeframe)==="3-6 months"&&(_+=15,R.push({factor:"Medium Timeframe",points:15,reason:"Moderate purchase timeline"})),A.filter(ue=>ue.type==="call").length>0&&(V+=30,R.push({factor:"Phone Engagement",points:30,reason:"Participated in phone calls"})),A.filter(ue=>ue.type==="email").length>2&&(V+=20,R.push({factor:"Email Engagement",points:20,reason:"Active email communication"})),A.filter(ue=>new Date(ue.createdAt).getTime()>Date.now()-7*24*60*60*1e3).length>0&&(P+=25,R.push({factor:"Recent Activity",points:25,reason:"Active in the last 7 days"}));const z=A.filter(ue=>ue.outcome==="positive").length;z>0&&(P+=z*10,R.push({factor:"Positive Interactions",points:z*10,reason:`${z} positive interactions`}));const H=_+V+P,K={leadId:N,totalScore:H,demographicScore:_,behaviorScore:V,engagementScore:P,lastCalculated:new Date,factors:R};o(ue=>ue.filter(ee=>ee.leadId!==N).concat(K));const se=e.map(ue=>ue.id===N?{...ue,score:H,updatedAt:new Date}:ue);n(se),j(se)};return{leads:e,sources:s,activities:a,scores:l,reminders:c,salesReps:m,loading:p,createLead:g,updateLeadStatus:x,assignLead:b,logActivity:T,calculateLeadScore:L,createReminder:async N=>{const D={id:Math.random().toString(36).substr(2,9),leadId:N.leadId||"",userId:N.userId||"current-user",type:N.type||"follow_up",title:N.title||"",description:N.description||"",dueDate:N.dueDate||new Date,isCompleted:!1,priority:N.priority||"medium",createdAt:new Date};return d(A=>[...A,D]),D},completeReminder:async N=>{d(D=>D.map(A=>A.id===N?{...A,isCompleted:!0}:A))},getLeadsByRep:N=>e.filter(D=>D.assignedTo===N),getActivitiesByLead:N=>a.filter(D=>D.leadId===N),getRemindersByUser:N=>c.filter(D=>D.userId===N&&!D.isCompleted),getLeadScore:N=>l.find(D=>D.leadId===N)}}function Of({onClose:e,onSuccess:n}){const{sources:s,salesReps:r,createLead:a}=da(),{toast:i}=ot(),[l,o]=f.useState(!1),[c,d]=f.useState({firstName:"",lastName:"",email:"",phone:"",source:"",sourceId:"",assignedTo:"",notes:"",customFields:{budget:"",timeframe:"",experience:"",interests:"",preferredContact:"email"}}),[m,u]=f.useState({}),p=()=>{const y={};return c.firstName.trim()||(y.firstName="First name is required"),c.lastName.trim()||(y.lastName="Last name is required"),c.email.trim()?/\S+@\S+\.\S+/.test(c.email)||(y.email="Please enter a valid email address"):y.email="Email is required",c.phone.trim()||(y.phone="Phone number is required"),c.sourceId||(y.sourceId="Lead source is required"),u(y),Object.keys(y).length===0},h=async y=>{if(y.preventDefault(),!p()){i({title:"Validation Error",description:"Please fill in all required fields correctly.",variant:"destructive"});return}o(!0);try{const g=s.find(T=>T.id===c.sourceId),x={firstName:c.firstName.trim(),lastName:c.lastName.trim(),email:c.email.trim().toLowerCase(),phone:c.phone.trim(),source:(g==null?void 0:g.name)||"",sourceId:c.sourceId,assignedTo:c.assignedTo||void 0,notes:c.notes.trim(),customFields:{...c.customFields,interests:c.customFields.interests.trim()}},b=await a(x);i({title:"Lead Created Successfully!",description:`${b.firstName} ${b.lastName} has been added to your CRM.`,variant:"default"}),n(b),e()}catch(g){console.error("Error creating lead:",g),i({title:"Error Creating Lead",description:"There was a problem creating the lead. Please try again.",variant:"destructive"})}finally{o(!1)}},v=(y,g)=>{d(x=>({...x,[y]:g})),m[y]&&u(x=>({...x,[y]:""}))},j=(y,g)=>{d(x=>({...x,customFields:{...x.customFields,[y]:g}}))};return t.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:t.jsxs(U,{className:"w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[t.jsx(G,{children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsxs(q,{className:"text-xl flex items-center",children:[t.jsx(Wn,{className:"h-5 w-5 mr-2 text-blue-500"}),"Add New Lead"]}),t.jsx(oe,{children:"Create a new lead and start the sales process"})]}),t.jsx($,{variant:"ghost",size:"sm",onClick:e,children:t.jsx(nt,{className:"h-4 w-4"})})]})}),t.jsx(W,{children:t.jsxs("form",{onSubmit:h,className:"space-y-6",children:[t.jsxs("div",{className:"space-y-4",children:[t.jsxs("h3",{className:"text-lg font-semibold flex items-center",children:[t.jsx(Wn,{className:"h-4 w-4 mr-2"}),"Contact Information"]}),t.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[t.jsxs("div",{children:[t.jsx(Q,{htmlFor:"firstName",children:"First Name *"}),t.jsx(J,{id:"firstName",value:c.firstName,onChange:y=>v("firstName",y.target.value),placeholder:"Enter first name",className:m.firstName?"border-red-500":""}),m.firstName&&t.jsx("p",{className:"text-sm text-red-500 mt-1",children:m.firstName})]}),t.jsxs("div",{children:[t.jsx(Q,{htmlFor:"lastName",children:"Last Name *"}),t.jsx(J,{id:"lastName",value:c.lastName,onChange:y=>v("lastName",y.target.value),placeholder:"Enter last name",className:m.lastName?"border-red-500":""}),m.lastName&&t.jsx("p",{className:"text-sm text-red-500 mt-1",children:m.lastName})]})]}),t.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[t.jsxs("div",{children:[t.jsx(Q,{htmlFor:"email",children:"Email Address *"}),t.jsxs("div",{className:"relative",children:[t.jsx($n,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),t.jsx(J,{id:"email",type:"email",value:c.email,onChange:y=>v("email",y.target.value),placeholder:"Enter email address",className:`pl-10 ${m.email?"border-red-500":""}`})]}),m.email&&t.jsx("p",{className:"text-sm text-red-500 mt-1",children:m.email})]}),t.jsxs("div",{children:[t.jsx(Q,{htmlFor:"phone",children:"Phone Number *"}),t.jsxs("div",{className:"relative",children:[t.jsx(wf,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),t.jsx(J,{id:"phone",type:"tel",value:c.phone,onChange:y=>v("phone",y.target.value),placeholder:"Enter phone number",className:`pl-10 ${m.phone?"border-red-500":""}`})]}),m.phone&&t.jsx("p",{className:"text-sm text-red-500 mt-1",children:m.phone})]})]})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("h3",{className:"text-lg font-semibold flex items-center",children:[t.jsx(ME,{className:"h-4 w-4 mr-2"}),"Lead Details"]}),t.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[t.jsxs("div",{children:[t.jsx(Q,{htmlFor:"source",children:"Lead Source *"}),t.jsxs(ge,{value:c.sourceId,onValueChange:y=>v("sourceId",y),children:[t.jsx(he,{className:m.sourceId?"border-red-500":"",children:t.jsx(ve,{placeholder:"Select lead source"})}),t.jsx(xe,{children:s.map(y=>t.jsx(O,{value:y.id,children:y.name},y.id))})]}),m.sourceId&&t.jsx("p",{className:"text-sm text-red-500 mt-1",children:m.sourceId})]}),t.jsxs("div",{children:[t.jsx(Q,{htmlFor:"assignedTo",children:"Assign to Sales Rep"}),t.jsxs(ge,{value:c.assignedTo,onValueChange:y=>v("assignedTo",y),children:[t.jsx(he,{children:t.jsx(ve,{placeholder:"Select sales rep (optional)"})}),t.jsxs(xe,{children:[t.jsx(O,{value:"",children:"Unassigned"}),r.map(y=>t.jsx(O,{value:y.id,children:y.name},y.id))]})]})]})]})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("h3",{className:"text-lg font-semibold flex items-center",children:[t.jsx(Ve,{className:"h-4 w-4 mr-2"}),"Additional Information"]}),t.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[t.jsxs("div",{children:[t.jsx(Q,{htmlFor:"budget",children:"Budget Range"}),t.jsxs(ge,{value:c.customFields.budget,onValueChange:y=>j("budget",y),children:[t.jsx(he,{children:t.jsx(ve,{placeholder:"Select budget range"})}),t.jsxs(xe,{children:[t.jsx(O,{value:"Under $50k",children:"Under $50k"}),t.jsx(O,{value:"$50k-$100k",children:"$50k-$100k"}),t.jsx(O,{value:"$100k-$150k",children:"$100k-$150k"}),t.jsx(O,{value:"$150k-$200k",children:"$150k-$200k"}),t.jsx(O,{value:"$200k+",children:"$200k+"})]})]})]}),t.jsxs("div",{children:[t.jsx(Q,{htmlFor:"timeframe",children:"Purchase Timeframe"}),t.jsxs(ge,{value:c.customFields.timeframe,onValueChange:y=>j("timeframe",y),children:[t.jsx(he,{children:t.jsx(ve,{placeholder:"Select timeframe"})}),t.jsxs(xe,{children:[t.jsx(O,{value:"Immediate",children:"Immediate (within 1 month)"}),t.jsx(O,{value:"1-3 months",children:"1-3 months"}),t.jsx(O,{value:"3-6 months",children:"3-6 months"}),t.jsx(O,{value:"6-12 months",children:"6-12 months"}),t.jsx(O,{value:"12+ months",children:"12+ months"})]})]})]})]}),t.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[t.jsxs("div",{children:[t.jsx(Q,{htmlFor:"experience",children:"RV Experience"}),t.jsxs(ge,{value:c.customFields.experience,onValueChange:y=>j("experience",y),children:[t.jsx(he,{children:t.jsx(ve,{placeholder:"Select experience level"})}),t.jsxs(xe,{children:[t.jsx(O,{value:"First-time buyer",children:"First-time buyer"}),t.jsx(O,{value:"Some experience",children:"Some experience"}),t.jsx(O,{value:"Experienced RVer",children:"Experienced RVer"}),t.jsx(O,{value:"Expert/Full-timer",children:"Expert/Full-timer"})]})]})]}),t.jsxs("div",{children:[t.jsx(Q,{htmlFor:"preferredContact",children:"Preferred Contact Method"}),t.jsxs(ge,{value:c.customFields.preferredContact,onValueChange:y=>j("preferredContact",y),children:[t.jsx(he,{children:t.jsx(ve,{placeholder:"Select contact method"})}),t.jsxs(xe,{children:[t.jsx(O,{value:"email",children:"Email"}),t.jsx(O,{value:"phone",children:"Phone"}),t.jsx(O,{value:"text",children:"Text/SMS"}),t.jsx(O,{value:"any",children:"Any method"})]})]})]})]}),t.jsxs("div",{children:[t.jsx(Q,{htmlFor:"interests",children:"Interests/Requirements"}),t.jsx(J,{id:"interests",value:c.customFields.interests,onChange:y=>j("interests",y.target.value),placeholder:"e.g., Class A Motorhome, Solar panels, Pet-friendly"})]})]}),t.jsx("div",{className:"space-y-4",children:t.jsxs("div",{children:[t.jsx(Q,{htmlFor:"notes",children:"Notes"}),t.jsx(Ze,{id:"notes",value:c.notes,onChange:y=>v("notes",y.target.value),placeholder:"Add any additional notes about this lead...",rows:3})]})}),t.jsxs("div",{className:"flex justify-end space-x-3 pt-6 border-t",children:[t.jsx($,{type:"button",variant:"outline",onClick:e,disabled:l,children:"Cancel"}),t.jsx($,{type:"submit",disabled:l,children:l?t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Creating Lead..."]}):t.jsxs(t.Fragment,{children:[t.jsx(Dn,{className:"h-4 w-4 mr-2"}),"Create Lead"]})})]})]})})]})})}const ZT=[{name:"Total Leads",value:"2,651",change:"+4.75%",changeType:"positive",icon:Dt},{name:"Inventory Units",value:"847",change:"+54.02%",changeType:"positive",icon:Xt},{name:"Active Quotes",value:"124",change:"-1.39%",changeType:"negative",icon:Et},{name:"Monthly Revenue",value:"$405,091",change:"+10.18%",changeType:"positive",icon:Ve}],ek=[{id:1,type:"lead",title:"New lead from website",description:"John Smith interested in Class A Motorhome",time:"2 minutes ago"},{id:2,type:"quote",title:"Quote sent to customer",description:"Quote #Q-2024-001 sent to Sarah Johnson",time:"15 minutes ago"},{id:3,type:"service",title:"Service appointment scheduled",description:"Annual maintenance for RV #VIN123456",time:"1 hour ago"},{id:4,type:"delivery",title:"Delivery completed",description:"Travel Trailer delivered to Mike Davis",time:"2 hours ago"}];function tk(){const[e,n]=f.useState(!1),s=a=>{console.log("New lead created from dashboard:",a)},r=a=>{switch(a){case"add-lead":n(!0);break;case"add-inventory":window.location.href="/inventory";break;case"create-quote":window.location.href="/quotes";break;case"schedule-service":window.location.href="/service";break}};return t.jsxs("div",{className:"space-y-6",children:[e&&t.jsx(Of,{onClose:()=>n(!1),onSuccess:s}),t.jsxs("div",{children:[t.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Dashboard"}),t.jsx("p",{className:"text-muted-foreground",children:"Welcome to your Renter Insight CRM/DMS dashboard"})]}),t.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:ZT.map(a=>t.jsxs(U,{children:[t.jsxs(G,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[t.jsx(q,{className:"text-sm font-medium",children:a.name}),t.jsx(a.icon,{className:"h-4 w-4 text-muted-foreground"})]}),t.jsxs(W,{children:[t.jsx("div",{className:"text-2xl font-bold",children:a.value}),t.jsxs("p",{className:`text-xs ${a.changeType==="positive"?"text-green-600":"text-red-600"}`,children:[a.change," from last month"]})]})]},a.name))}),t.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[t.jsxs(U,{children:[t.jsxs(G,{children:[t.jsx(q,{children:"Recent Activity"}),t.jsx(oe,{children:"Latest updates from your dealership"})]}),t.jsx(W,{children:t.jsx("div",{className:"space-y-4",children:ek.map(a=>t.jsxs("div",{className:"flex items-start space-x-3",children:[t.jsx("div",{className:"flex-shrink-0",children:t.jsx("div",{className:"h-2 w-2 bg-primary rounded-full mt-2"})}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsx("p",{className:"text-sm font-medium text-foreground",children:a.title}),t.jsx("p",{className:"text-sm text-muted-foreground",children:a.description}),t.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:a.time})]})]},a.id))})})]}),t.jsxs(U,{children:[t.jsxs(G,{children:[t.jsx(q,{children:"Quick Actions"}),t.jsx(oe,{children:"Common tasks and shortcuts"})]}),t.jsx(W,{children:t.jsxs("div",{className:"grid gap-3",children:[t.jsxs("button",{onClick:()=>r("add-lead"),className:"flex items-center justify-between p-3 text-left border rounded-lg hover:bg-accent transition-colors",children:[t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx(Dt,{className:"h-5 w-5 text-primary"}),t.jsx("span",{className:"font-medium",children:"Add New Lead"})]}),t.jsx(Re,{className:"h-4 w-4 text-muted-foreground"})]}),t.jsxs("button",{onClick:()=>r("add-inventory"),className:"flex items-center justify-between p-3 text-left border rounded-lg hover:bg-accent transition-colors",children:[t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx(Xt,{className:"h-5 w-5 text-primary"}),t.jsx("span",{className:"font-medium",children:"Add Inventory"})]}),t.jsx("span",{className:"text-muted-foreground",children:"→"})]}),t.jsxs("button",{onClick:()=>r("create-quote"),className:"flex items-center justify-between p-3 text-left border rounded-lg hover:bg-accent transition-colors",children:[t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx(Et,{className:"h-5 w-5 text-primary"}),t.jsx("span",{className:"font-medium",children:"Create Quote"})]}),t.jsx("span",{className:"text-muted-foreground",children:"→"})]}),t.jsxs("button",{onClick:()=>r("schedule-service"),className:"flex items-center justify-between p-3 text-left border rounded-lg hover:bg-accent transition-colors",children:[t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx(It,{className:"h-5 w-5 text-primary"}),t.jsx("span",{className:"font-medium",children:"Schedule Service"})]}),t.jsx("span",{className:"text-muted-foreground",children:"→"})]})]})})]})]})]})}function nk(){const[e,n]=f.useState(""),[s,r]=f.useState(""),{login:a,isLoading:i}=Rl(),{toast:l}=ot(),o=async c=>{c.preventDefault();try{await a(e,s)}catch{l({title:"Login Failed",description:"Invalid email or password",variant:"destructive"})}};return t.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background px-4",children:t.jsxs(U,{className:"w-full max-w-md",children:[t.jsxs(G,{className:"text-center",children:[t.jsx(q,{className:"text-2xl font-bold text-primary",children:"Renter Insight CRM/DMS"}),t.jsx(oe,{children:"Sign in to your account to continue"})]}),t.jsxs(W,{children:[t.jsxs("form",{onSubmit:o,className:"space-y-4",children:[t.jsx("div",{children:t.jsx(J,{type:"email",placeholder:"Email",value:e,onChange:c=>n(c.target.value),required:!0})}),t.jsx("div",{children:t.jsx(J,{type:"password",placeholder:"Password",value:s,onChange:c=>r(c.target.value),required:!0})}),t.jsx($,{type:"submit",className:"w-full",disabled:i,children:i?"Signing in...":"Sign In"})]}),t.jsx("div",{className:"mt-4 text-center text-sm text-muted-foreground",children:"Demo credentials: admin@renterinsight.com / password"})]})]})})}function sk({children:e}){const{user:n,isLoading:s}=Rl();return s?t.jsx("div",{className:"min-h-screen flex items-center justify-center",children:t.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-primary"})}):n?t.jsx(t.Fragment,{children:e}):t.jsx(bC,{to:"/login",replace:!0})}const rk=od("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Z({className:e,variant:n,...s}){return t.jsx("div",{className:ae(rk({variant:n}),e),...s})}var ak=zc[" useId ".trim().toString()]||(()=>{}),ik=0;function Hb(e){const[n,s]=f.useState(ak());return ea(()=>{e||s(r=>r??String(ik++))},[e]),e||(n?`radix-${n}`:"")}var lk=f.createContext(void 0);function Gb(e){const n=f.useContext(lk);return e||n||"ltr"}var Du="rovingFocusGroup.onEntryFocus",ok={bubbles:!1,cancelable:!0},Fl="RovingFocusGroup",[np,qb,ck]=cy(Fl),[dk,Qb]=ci(Fl,[ck]),[uk,mk]=dk(Fl),Kb=f.forwardRef((e,n)=>t.jsx(np.Provider,{scope:e.__scopeRovingFocusGroup,children:t.jsx(np.Slot,{scope:e.__scopeRovingFocusGroup,children:t.jsx(pk,{...e,ref:n})})}));Kb.displayName=Fl;var pk=f.forwardRef((e,n)=>{const{__scopeRovingFocusGroup:s,orientation:r,loop:a=!1,dir:i,currentTabStopId:l,defaultCurrentTabStopId:o,onCurrentTabStopIdChange:c,onEntryFocus:d,preventScrollOnEntryFocus:m=!1,...u}=e,p=f.useRef(null),h=ws(n,p),v=Gb(i),[j,y]=id({prop:l,defaultProp:o??null,onChange:c,caller:Fl}),[g,x]=f.useState(!1),b=yr(d),T=qb(s),L=f.useRef(!1),[k,I]=f.useState(0);return f.useEffect(()=>{const w=p.current;if(w)return w.addEventListener(Du,b),()=>w.removeEventListener(Du,b)},[b]),t.jsx(uk,{scope:s,orientation:r,dir:v,loop:a,currentTabStopId:j,onItemFocus:f.useCallback(w=>y(w),[y]),onItemShiftTab:f.useCallback(()=>x(!0),[]),onFocusableItemAdd:f.useCallback(()=>I(w=>w+1),[]),onFocusableItemRemove:f.useCallback(()=>I(w=>w-1),[]),children:t.jsx(xt.div,{tabIndex:g||k===0?-1:0,"data-orientation":r,...u,ref:h,style:{outline:"none",...e.style},onMouseDown:lt(e.onMouseDown,()=>{L.current=!0}),onFocus:lt(e.onFocus,w=>{const S=!L.current;if(w.target===w.currentTarget&&S&&!g){const C=new CustomEvent(Du,ok);if(w.currentTarget.dispatchEvent(C),!C.defaultPrevented){const E=T().filter(V=>V.focusable),N=E.find(V=>V.active),D=E.find(V=>V.id===j),_=[N,D,...E].filter(Boolean).map(V=>V.ref.current);Jb(_,m)}}L.current=!1}),onBlur:lt(e.onBlur,()=>x(!1))})})}),Yb="RovingFocusGroupItem",Xb=f.forwardRef((e,n)=>{const{__scopeRovingFocusGroup:s,focusable:r=!0,active:a=!1,tabStopId:i,children:l,...o}=e,c=Hb(),d=i||c,m=mk(Yb,s),u=m.currentTabStopId===d,p=qb(s),{onFocusableItemAdd:h,onFocusableItemRemove:v,currentTabStopId:j}=m;return f.useEffect(()=>{if(r)return h(),()=>v()},[r,h,v]),t.jsx(np.ItemSlot,{scope:s,id:d,focusable:r,active:a,children:t.jsx(xt.span,{tabIndex:u?0:-1,"data-orientation":m.orientation,...o,ref:n,onMouseDown:lt(e.onMouseDown,y=>{r?m.onItemFocus(d):y.preventDefault()}),onFocus:lt(e.onFocus,()=>m.onItemFocus(d)),onKeyDown:lt(e.onKeyDown,y=>{if(y.key==="Tab"&&y.shiftKey){m.onItemShiftTab();return}if(y.target!==y.currentTarget)return;const g=xk(y,m.orientation,m.dir);if(g!==void 0){if(y.metaKey||y.ctrlKey||y.altKey||y.shiftKey)return;y.preventDefault();let b=p().filter(T=>T.focusable).map(T=>T.ref.current);if(g==="last")b.reverse();else if(g==="prev"||g==="next"){g==="prev"&&b.reverse();const T=b.indexOf(y.currentTarget);b=m.loop?gk(b,T+1):b.slice(T+1)}setTimeout(()=>Jb(b))}}),children:typeof l=="function"?l({isCurrentTabStop:u,hasTabStop:j!=null}):l})})});Xb.displayName=Yb;var fk={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function hk(e,n){return n!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function xk(e,n,s){const r=hk(e.key,s);if(!(n==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(n==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return fk[r]}function Jb(e,n=!1){const s=document.activeElement;for(const r of e)if(r===s||(r.focus({preventScroll:n}),document.activeElement!==s))return}function gk(e,n){return e.map((s,r)=>e[(n+r)%e.length])}var vk=Kb,jk=Xb,xd="Tabs",[yk,FO]=ci(xd,[Qb]),Zb=Qb(),[bk,Mf]=yk(xd),ew=f.forwardRef((e,n)=>{const{__scopeTabs:s,value:r,onValueChange:a,defaultValue:i,orientation:l="horizontal",dir:o,activationMode:c="automatic",...d}=e,m=Gb(o),[u,p]=id({prop:r,onChange:a,defaultProp:i??"",caller:xd});return t.jsx(bk,{scope:s,baseId:Hb(),value:u,onValueChange:p,orientation:l,dir:m,activationMode:c,children:t.jsx(xt.div,{dir:m,"data-orientation":l,...d,ref:n})})});ew.displayName=xd;var tw="TabsList",nw=f.forwardRef((e,n)=>{const{__scopeTabs:s,loop:r=!0,...a}=e,i=Mf(tw,s),l=Zb(s);return t.jsx(vk,{asChild:!0,...l,orientation:i.orientation,dir:i.dir,loop:r,children:t.jsx(xt.div,{role:"tablist","aria-orientation":i.orientation,...a,ref:n})})});nw.displayName=tw;var sw="TabsTrigger",rw=f.forwardRef((e,n)=>{const{__scopeTabs:s,value:r,disabled:a=!1,...i}=e,l=Mf(sw,s),o=Zb(s),c=lw(l.baseId,r),d=ow(l.baseId,r),m=r===l.value;return t.jsx(jk,{asChild:!0,...o,focusable:!a,active:m,children:t.jsx(xt.button,{type:"button",role:"tab","aria-selected":m,"aria-controls":d,"data-state":m?"active":"inactive","data-disabled":a?"":void 0,disabled:a,id:c,...i,ref:n,onMouseDown:lt(e.onMouseDown,u=>{!a&&u.button===0&&u.ctrlKey===!1?l.onValueChange(r):u.preventDefault()}),onKeyDown:lt(e.onKeyDown,u=>{[" ","Enter"].includes(u.key)&&l.onValueChange(r)}),onFocus:lt(e.onFocus,()=>{const u=l.activationMode!=="manual";!m&&!a&&u&&l.onValueChange(r)})})})});rw.displayName=sw;var aw="TabsContent",iw=f.forwardRef((e,n)=>{const{__scopeTabs:s,value:r,forceMount:a,children:i,...l}=e,o=Mf(aw,s),c=lw(o.baseId,r),d=ow(o.baseId,r),m=r===o.value,u=f.useRef(m);return f.useEffect(()=>{const p=requestAnimationFrame(()=>u.current=!1);return()=>cancelAnimationFrame(p)},[]),t.jsx(ad,{present:a||m,children:({present:p})=>t.jsx(xt.div,{"data-state":m?"active":"inactive","data-orientation":o.orientation,role:"tabpanel","aria-labelledby":c,hidden:!p,id:d,tabIndex:0,...l,ref:n,style:{...e.style,animationDuration:u.current?"0s":void 0},children:p&&i})})});iw.displayName=aw;function lw(e,n){return`${e}-trigger-${n}`}function ow(e,n){return`${e}-content-${n}`}var wk=ew,cw=nw,dw=rw,uw=iw;const bt=wk,jt=f.forwardRef(({className:e,...n},s)=>t.jsx(cw,{ref:s,className:ae("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...n}));jt.displayName=cw.displayName;const je=f.forwardRef(({className:e,...n},s)=>t.jsx(dw,{ref:s,className:ae("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...n}));je.displayName=dw.displayName;const we=f.forwardRef(({className:e,...n},s)=>t.jsx(uw,{ref:s,className:ae("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...n}));we.displayName=uw.displayName;const Au=[{id:"1",name:"New",order:1,probability:10,isActive:!0,color:"bg-blue-500"},{id:"2",name:"Contacted",order:2,probability:25,isActive:!0,color:"bg-yellow-500"},{id:"3",name:"Qualified",order:3,probability:50,isActive:!0,color:"bg-orange-500"},{id:"4",name:"Proposal",order:4,probability:75,isActive:!0,color:"bg-purple-500"},{id:"5",name:"Negotiation",order:5,probability:90,isActive:!0,color:"bg-indigo-500"},{id:"6",name:"Closed Won",order:6,probability:100,isActive:!0,color:"bg-green-500"},{id:"7",name:"Closed Lost",order:7,probability:0,isActive:!0,color:"bg-red-500"}];function Nk(){var u,p,h;const{leads:e,salesReps:n,activities:s}=da(),[r,a]=f.useState("all"),[i,l]=f.useState("30"),o=f.useMemo(()=>{const v=r==="all"?e:e.filter(y=>y.assignedTo===r);return Au.map(y=>{const g=v.filter(b=>{switch(y.name.toLowerCase()){case"new":return b.status===wt.NEW;case"contacted":return b.status===wt.CONTACTED;case"qualified":return b.status===wt.QUALIFIED;case"proposal":return b.status===wt.PROPOSAL;case"negotiation":return b.status===wt.NEGOTIATION;case"closed won":return b.status===wt.CLOSED_WON;case"closed lost":return b.status===wt.CLOSED_LOST;default:return!1}}),x=g.reduce((b,T)=>{var k,I;const L=parseFloat(((I=(k=T.customFields)==null?void 0:k.budget)==null?void 0:I.replace(/[^0-9]/g,""))||"0");return b+L*y.probability/100},0);return{stage:y.name,count:g.length,value:x,averageTime:7,conversionRate:y.probability}})},[e,r]),c=f.useMemo(()=>n.map(j=>{const y=e.filter(C=>C.assignedTo===j.id),x=s.filter(C=>C.userId===j.id).filter(C=>{const E=new Date(C.createdAt),N=new Date;return N.setDate(N.getDate()-7),E>=N}),b=y.filter(C=>[wt.QUALIFIED,wt.PROPOSAL,wt.NEGOTIATION,wt.CLOSED_WON].includes(C.status)),T=y.filter(C=>C.status===wt.CLOSED_WON),L=y.filter(C=>C.status===wt.CLOSED_LOST),k=y.reduce((C,E)=>{var A,_;if(E.status===wt.CLOSED_WON||E.status===wt.CLOSED_LOST)return C;const N=parseFloat(((_=(A=E.customFields)==null?void 0:A.budget)==null?void 0:_.replace(/[^0-9]/g,""))||"0"),D=Au.find(V=>V.name.toLowerCase()===E.status.replace("_"," "));return C+N*((D==null?void 0:D.probability)||0)/100},0),I=T.length+L.length,w=I>0?T.length/I*100:0,S=T.length>0?T.reduce((C,E)=>{var D,A;const N=parseFloat(((A=(D=E.customFields)==null?void 0:D.budget)==null?void 0:A.replace(/[^0-9]/g,""))||"0");return C+N},0)/T.length:0;return{repId:j.id,repName:j.name,totalLeads:y.length,qualifiedLeads:b.length,closedWon:T.length,closedLost:L.length,pipelineValue:k,conversionRate:w,averageDealSize:S,activitiesThisWeek:x.length}}),[e,n,s]),d=o.reduce((v,j)=>v+j.value,0),m=o.reduce((v,j)=>v+j.count,0);return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex gap-4",children:[t.jsxs(ge,{value:r,onValueChange:a,children:[t.jsx(he,{className:"w-48",children:t.jsx(ve,{placeholder:"Select sales rep"})}),t.jsxs(xe,{children:[t.jsx(O,{value:"all",children:"All Sales Reps"}),n.map(v=>t.jsx(O,{value:v.id,children:v.name},v.id))]})]}),t.jsxs(ge,{value:i,onValueChange:l,children:[t.jsx(he,{className:"w-32",children:t.jsx(ve,{})}),t.jsxs(xe,{children:[t.jsx(O,{value:"7",children:"7 days"}),t.jsx(O,{value:"30",children:"30 days"}),t.jsx(O,{value:"90",children:"90 days"}),t.jsx(O,{value:"365",children:"1 year"})]})]})]}),t.jsxs("div",{className:"grid gap-4 md:grid-cols-4",children:[t.jsxs(U,{className:"shadow-sm border-0 bg-gradient-to-br from-blue-50 to-blue-100/50",children:[t.jsxs(G,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[t.jsx(q,{className:"text-sm font-medium text-blue-900",children:"Total Pipeline"}),t.jsx(Ve,{className:"h-4 w-4 text-blue-600"})]}),t.jsxs(W,{children:[t.jsx("div",{className:"text-2xl font-bold text-blue-900",children:re(d)}),t.jsxs("p",{className:"text-xs text-blue-600 flex items-center mt-1",children:[t.jsx(De,{className:"h-3 w-3 mr-1"}),m," active leads"]})]})]}),t.jsxs(U,{className:"shadow-sm border-0 bg-gradient-to-br from-green-50 to-green-100/50",children:[t.jsxs(G,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[t.jsx(q,{className:"text-sm font-medium text-green-900",children:"Qualified Leads"}),t.jsx(fn,{className:"h-4 w-4 text-green-600"})]}),t.jsxs(W,{children:[t.jsx("div",{className:"text-2xl font-bold text-green-900",children:((u=o.find(v=>v.stage==="Qualified"))==null?void 0:u.count)||0}),t.jsxs("p",{className:"text-xs text-green-600 flex items-center mt-1",children:[t.jsx(De,{className:"h-3 w-3 mr-1"}),"Ready for proposal"]})]})]}),t.jsxs(U,{className:"shadow-sm border-0 bg-gradient-to-br from-purple-50 to-purple-100/50",children:[t.jsxs(G,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[t.jsx(q,{className:"text-sm font-medium text-purple-900",children:"Conversion Rate"}),t.jsx(fn,{className:"h-4 w-4 text-purple-600"})]}),t.jsxs(W,{children:[t.jsxs("div",{className:"text-2xl font-bold text-purple-900",children:[Math.round(r==="all"?c.reduce((v,j)=>v+j.conversionRate,0)/c.length||0:((p=c.find(v=>v.repId===r))==null?void 0:p.conversionRate)||0),"%"]}),t.jsxs("p",{className:"text-xs text-purple-600 flex items-center mt-1",children:[t.jsx(De,{className:"h-3 w-3 mr-1"}),"Win rate"]})]})]}),t.jsxs(U,{className:"shadow-sm border-0 bg-gradient-to-br from-orange-50 to-orange-100/50",children:[t.jsxs(G,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[t.jsx(q,{className:"text-sm font-medium text-orange-900",children:"Avg Deal Size"}),t.jsx(Ve,{className:"h-4 w-4 text-orange-600"})]}),t.jsxs(W,{children:[t.jsx("div",{className:"text-2xl font-bold text-orange-900",children:re(r==="all"?c.reduce((v,j)=>v+j.averageDealSize,0)/c.length||0:((h=c.find(v=>v.repId===r))==null?void 0:h.averageDealSize)||0)}),t.jsxs("p",{className:"text-xs text-orange-600 flex items-center mt-1",children:[t.jsx(Ve,{className:"h-3 w-3 mr-1"}),"Per closed deal"]})]})]})]}),t.jsxs(U,{children:[t.jsxs(G,{children:[t.jsx(q,{children:"Sales Pipeline"}),t.jsx(oe,{children:"Lead distribution across pipeline stages"})]}),t.jsx(W,{children:t.jsx("div",{className:"grid gap-4 md:grid-cols-7",children:o.map((v,j)=>{const y=Au[j];return t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:ae("w-full h-24 rounded-lg flex items-center justify-center text-white font-bold text-lg mb-2",y.color),children:v.count}),t.jsx("h3",{className:"font-semibold text-sm",children:y.name}),t.jsx("p",{className:"text-xs text-muted-foreground",children:re(v.value)}),t.jsxs("p",{className:"text-xs text-muted-foreground",children:[y.probability,"% probability"]})]},y.id)})})})]}),t.jsxs(U,{children:[t.jsxs(G,{children:[t.jsx(q,{children:"Sales Rep Performance"}),t.jsx(oe,{children:"Individual performance metrics and activity levels"})]}),t.jsx(W,{children:t.jsx("div",{className:"space-y-4",children:c.map(v=>t.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg hover:bg-accent/50 transition-colors",children:[t.jsxs("div",{className:"flex-1",children:[t.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[t.jsx("h3",{className:"font-semibold",children:v.repName}),t.jsxs(Z,{variant:"secondary",children:[v.totalLeads," leads"]}),t.jsxs(Z,{className:"bg-green-50 text-green-700 border-green-200",children:[v.conversionRate.toFixed(1),"% conversion"]})]}),t.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm text-muted-foreground",children:[t.jsxs("div",{children:[t.jsx("span",{className:"font-medium",children:"Pipeline Value:"}),t.jsx("div",{className:"font-bold text-primary",children:re(v.pipelineValue)})]}),t.jsxs("div",{children:[t.jsx("span",{className:"font-medium",children:"Qualified:"}),t.jsx("div",{className:"font-bold text-green-600",children:v.qualifiedLeads})]}),t.jsxs("div",{children:[t.jsx("span",{className:"font-medium",children:"Closed Won:"}),t.jsx("div",{className:"font-bold text-blue-600",children:v.closedWon})]}),t.jsxs("div",{children:[t.jsx("span",{className:"font-medium",children:"Activities (7d):"}),t.jsx("div",{className:"font-bold text-purple-600",children:v.activitiesThisWeek})]})]})]}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsxs($,{variant:"outline",size:"sm",children:[t.jsx(Dt,{className:"h-3 w-3 mr-1"}),"View Leads"]}),t.jsxs($,{variant:"outline",size:"sm",children:[t.jsx(It,{className:"h-3 w-3 mr-1"}),"Activities"]})]})]},v.repId))})})]})]})}var _f="Progress",$f=100,[Sk,OO]=ci(_f),[Ck,Ek]=Sk(_f),mw=f.forwardRef((e,n)=>{const{__scopeProgress:s,value:r=null,max:a,getValueLabel:i=Ik,...l}=e;(a||a===0)&&!yg(a)&&console.error(Dk(`${a}`,"Progress"));const o=yg(a)?a:$f;r!==null&&!bg(r,o)&&console.error(Ak(`${r}`,"Progress"));const c=bg(r,o)?r:null,d=Ic(c)?i(c,o):void 0;return t.jsx(Ck,{scope:s,value:c,max:o,children:t.jsx(xt.div,{"aria-valuemax":o,"aria-valuemin":0,"aria-valuenow":Ic(c)?c:void 0,"aria-valuetext":d,role:"progressbar","data-state":hw(c,o),"data-value":c??void 0,"data-max":o,...l,ref:n})})});mw.displayName=_f;var pw="ProgressIndicator",fw=f.forwardRef((e,n)=>{const{__scopeProgress:s,...r}=e,a=Ek(pw,s);return t.jsx(xt.div,{"data-state":hw(a.value,a.max),"data-value":a.value??void 0,"data-max":a.max,...r,ref:n})});fw.displayName=pw;function Ik(e,n){return`${Math.round(e/n*100)}%`}function hw(e,n){return e==null?"indeterminate":e===n?"complete":"loading"}function Ic(e){return typeof e=="number"}function yg(e){return Ic(e)&&!isNaN(e)&&e>0}function bg(e,n){return Ic(e)&&!isNaN(e)&&e<=n&&e>=0}function Dk(e,n){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${n}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${$f}\`.`}function Ak(e,n){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${n}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${$f} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var xw=mw,Tk=fw;const Qr=f.forwardRef(({className:e,value:n,...s},r)=>t.jsx(xw,{ref:r,className:ae("relative h-4 w-full overflow-hidden rounded-full bg-secondary",e),...s,children:t.jsx(Tk,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(n||0)}%)`}})}));Qr.displayName=xw.displayName;function kk({score:e,className:n}){const s=i=>i>=80?"text-green-600":i>=60?"text-yellow-600":i>=40?"text-orange-600":"text-red-600",r=i=>i>=80?"bg-green-50 text-green-700 border-green-200":i>=60?"bg-yellow-50 text-yellow-700 border-yellow-200":i>=40?"bg-orange-50 text-orange-700 border-orange-200":"bg-red-50 text-red-700 border-red-200",a=i=>i>=80?"Hot Lead":i>=60?"Warm Lead":i>=40?"Cool Lead":"Cold Lead";return t.jsxs(U,{className:ae("shadow-sm",n),children:[t.jsx(G,{children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx(q,{className:"text-lg",children:"Lead Score"}),t.jsxs(oe,{children:["Last calculated: ",e.lastCalculated.toLocaleDateString()]})]}),t.jsxs("div",{className:"text-right",children:[t.jsx("div",{className:ae("text-3xl font-bold",s(e.totalScore)),children:e.totalScore}),t.jsx(Z,{className:ae("ri-badge-status",r(e.totalScore)),children:a(e.totalScore)})]})]})}),t.jsxs(W,{className:"space-y-6",children:[t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(Wn,{className:"h-4 w-4 text-blue-500"}),t.jsx("span",{className:"text-sm font-medium",children:"Demographics"})]}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(Qr,{value:e.demographicScore/50*100,className:"w-20"}),t.jsx("span",{className:"text-sm font-bold w-8",children:e.demographicScore})]})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(As,{className:"h-4 w-4 text-green-500"}),t.jsx("span",{className:"text-sm font-medium",children:"Behavior"})]}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(Qr,{value:e.behaviorScore/50*100,className:"w-20"}),t.jsx("span",{className:"text-sm font-bold w-8",children:e.behaviorScore})]})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(TE,{className:"h-4 w-4 text-purple-500"}),t.jsx("span",{className:"text-sm font-medium",children:"Engagement"})]}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(Qr,{value:e.engagementScore/50*100,className:"w-20"}),t.jsx("span",{className:"text-sm font-bold w-8",children:e.engagementScore})]})]})]}),t.jsxs("div",{children:[t.jsxs("h4",{className:"font-semibold text-sm mb-3 flex items-center",children:[t.jsx(De,{className:"h-4 w-4 mr-2"}),"Score Factors"]}),t.jsx("div",{className:"space-y-2",children:e.factors.map((i,l)=>t.jsxs("div",{className:"flex items-center justify-between p-2 bg-muted/30 rounded-md",children:[t.jsxs("div",{children:[t.jsx("span",{className:"text-sm font-medium",children:i.factor}),t.jsx("p",{className:"text-xs text-muted-foreground",children:i.reason})]}),t.jsxs(Z,{variant:"secondary",className:"text-xs",children:["+",i.points]})]},l))})]}),t.jsxs("div",{className:"bg-blue-50 p-3 rounded-lg",children:[t.jsx("h4",{className:"font-semibold text-sm text-blue-900 mb-2",children:"Recommendations"}),t.jsxs("div",{className:"space-y-1 text-xs text-blue-700",children:[e.totalScore>=80&&t.jsx("p",{children:"• High priority lead - schedule immediate follow-up"}),e.totalScore>=60&&e.totalScore<80&&t.jsx("p",{children:"• Good potential - maintain regular contact"}),e.totalScore>=40&&e.totalScore<60&&t.jsx("p",{children:"• Nurture with educational content"}),e.totalScore<40&&t.jsx("p",{children:"• Low priority - add to drip campaign"}),e.behaviorScore<20&&t.jsx("p",{children:"• Increase engagement with personalized outreach"}),e.engagementScore<20&&t.jsx("p",{children:"• Try different communication channels"})]})]})]})]})}function Pk({leadId:e,activities:n}){const{logActivity:s}=da(),[r,a]=f.useState(!1),[i,l]=f.useState({type:"note",description:"",outcome:void 0,duration:void 0,scheduledDate:void 0}),o=p=>{switch(p){case"call":return wf;case"email":return $n;case"meeting":return It;case"note":return Yt;case"status_change":return Wn;default:return Yt}},c=p=>{switch(p){case"call":return"text-green-500";case"email":return"text-blue-500";case"meeting":return"text-purple-500";case"note":return"text-gray-500";case"status_change":return"text-orange-500";default:return"text-gray-500"}},d=p=>{switch(p){case"positive":return"bg-green-50 text-green-700 border-green-200";case"neutral":return"bg-yellow-50 text-yellow-700 border-yellow-200";case"negative":return"bg-red-50 text-red-700 border-red-200";default:return"bg-gray-50 text-gray-700 border-gray-200"}},m=async()=>{i.description.trim()&&(await s({leadId:e,type:i.type,description:i.description,outcome:i.outcome,duration:i.duration,scheduledDate:i.scheduledDate,userId:"current-user"}),l({type:"note",description:"",outcome:void 0,duration:void 0,scheduledDate:void 0}),a(!1))},u=[...n].sort((p,h)=>new Date(h.createdAt).getTime()-new Date(p.createdAt).getTime());return t.jsxs(U,{className:"shadow-sm",children:[t.jsx(G,{children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx(q,{className:"text-lg",children:"Activity Timeline"}),t.jsx(oe,{children:"Track all interactions and activities for this lead"})]}),t.jsxs($,{onClick:()=>a(!0),size:"sm",children:[t.jsx(Re,{className:"h-4 w-4 mr-2"}),"Add Activity"]})]})}),t.jsxs(W,{children:[r&&t.jsx(U,{className:"mb-6 border-dashed",children:t.jsx(W,{className:"pt-6",children:t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[t.jsxs("div",{children:[t.jsx("label",{className:"text-sm font-medium",children:"Activity Type"}),t.jsxs(ge,{value:i.type,onValueChange:p=>l(h=>({...h,type:p})),children:[t.jsx(he,{children:t.jsx(ve,{})}),t.jsxs(xe,{children:[t.jsx(O,{value:"call",children:"Phone Call"}),t.jsx(O,{value:"email",children:"Email"}),t.jsx(O,{value:"meeting",children:"Meeting"}),t.jsx(O,{value:"note",children:"Note"})]})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-sm font-medium",children:"Outcome"}),t.jsxs(ge,{value:i.outcome||"",onValueChange:p=>l(h=>({...h,outcome:p||void 0})),children:[t.jsx(he,{children:t.jsx(ve,{placeholder:"Select outcome"})}),t.jsxs(xe,{children:[t.jsx(O,{value:"positive",children:"Positive"}),t.jsx(O,{value:"neutral",children:"Neutral"}),t.jsx(O,{value:"negative",children:"Negative"})]})]})]})]}),i.type==="call"&&t.jsxs("div",{children:[t.jsx("label",{className:"text-sm font-medium",children:"Duration (minutes)"}),t.jsx(J,{type:"number",value:i.duration||"",onChange:p=>l(h=>({...h,duration:p.target.value?parseInt(p.target.value):void 0})),placeholder:"e.g., 15"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-sm font-medium",children:"Description"}),t.jsx(Ze,{value:i.description,onChange:p=>l(h=>({...h,description:p.target.value})),placeholder:"Describe the activity...",rows:3})]}),t.jsxs("div",{className:"flex justify-end space-x-2",children:[t.jsx($,{variant:"outline",onClick:()=>a(!1),children:"Cancel"}),t.jsx($,{onClick:m,children:"Add Activity"})]})]})})}),t.jsx("div",{className:"space-y-4",children:u.length===0?t.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No activities recorded yet"}):u.map((p,h)=>{const v=o(p.type),j=h===u.length-1;return t.jsxs("div",{className:"relative",children:[!j&&t.jsx("div",{className:"absolute left-4 top-8 bottom-0 w-px bg-border"}),t.jsxs("div",{className:"flex items-start space-x-3",children:[t.jsx("div",{className:ae("flex-shrink-0 w-8 h-8 rounded-full bg-background border-2 flex items-center justify-center",c(p.type)),children:t.jsx(v,{className:"h-4 w-4"})}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsxs("div",{className:"flex items-center justify-between mb-1",children:[t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("span",{className:"font-medium text-sm capitalize",children:p.type.replace("_"," ")}),p.outcome&&t.jsx(Z,{className:ae("ri-badge-status text-xs",d(p.outcome)),children:p.outcome}),p.duration&&t.jsxs(Z,{variant:"secondary",className:"text-xs",children:[t.jsx(Ke,{className:"h-3 w-3 mr-1"}),p.duration,"m"]})]}),t.jsx("span",{className:"text-xs text-muted-foreground",children:Pe(p.createdAt)})]}),t.jsx("p",{className:"text-sm text-muted-foreground",children:p.description}),p.scheduledDate&&t.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["Scheduled for: ",Pe(p.scheduledDate)]})]})]})]},p.id)})})]})]})}function Rk(e){const n=f.useRef({value:e,previous:e});return f.useMemo(()=>(n.current.value!==e&&(n.current.previous=n.current.value,n.current.value=e),n.current.previous),[e])}function Lk(e){const[n,s]=f.useState(void 0);return ea(()=>{if(e){s({width:e.offsetWidth,height:e.offsetHeight});const r=new ResizeObserver(a=>{if(!Array.isArray(a)||!a.length)return;const i=a[0];let l,o;if("borderBoxSize"in i){const c=i.borderBoxSize,d=Array.isArray(c)?c[0]:c;l=d.inlineSize,o=d.blockSize}else l=e.offsetWidth,o=e.offsetHeight;s({width:l,height:o})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}else s(void 0)},[e]),n}var gd="Checkbox",[Fk,MO]=ci(gd),[Ok,Bf]=Fk(gd);function Mk(e){const{__scopeCheckbox:n,checked:s,children:r,defaultChecked:a,disabled:i,form:l,name:o,onCheckedChange:c,required:d,value:m="on",internal_do_not_use_render:u}=e,[p,h]=id({prop:s,defaultProp:a??!1,onChange:c,caller:gd}),[v,j]=f.useState(null),[y,g]=f.useState(null),x=f.useRef(!1),b=v?!!l||!!v.closest("form"):!0,T={checked:p,disabled:i,setChecked:h,control:v,setControl:j,name:o,form:l,value:m,hasConsumerStoppedPropagationRef:x,required:d,defaultChecked:fr(a)?!1:a,isFormControl:b,bubbleInput:y,setBubbleInput:g};return t.jsx(Ok,{scope:n,...T,children:_k(u)?u(T):r})}var gw="CheckboxTrigger",vw=f.forwardRef(({__scopeCheckbox:e,onKeyDown:n,onClick:s,...r},a)=>{const{control:i,value:l,disabled:o,checked:c,required:d,setControl:m,setChecked:u,hasConsumerStoppedPropagationRef:p,isFormControl:h,bubbleInput:v}=Bf(gw,e),j=ws(a,m),y=f.useRef(c);return f.useEffect(()=>{const g=i==null?void 0:i.form;if(g){const x=()=>u(y.current);return g.addEventListener("reset",x),()=>g.removeEventListener("reset",x)}},[i,u]),t.jsx(xt.button,{type:"button",role:"checkbox","aria-checked":fr(c)?"mixed":c,"aria-required":d,"data-state":Nw(c),"data-disabled":o?"":void 0,disabled:o,value:l,...r,ref:j,onKeyDown:lt(n,g=>{g.key==="Enter"&&g.preventDefault()}),onClick:lt(s,g=>{u(x=>fr(x)?!0:!x),v&&h&&(p.current=g.isPropagationStopped(),p.current||g.stopPropagation())})})});vw.displayName=gw;var Vf=f.forwardRef((e,n)=>{const{__scopeCheckbox:s,name:r,checked:a,defaultChecked:i,required:l,disabled:o,value:c,onCheckedChange:d,form:m,...u}=e;return t.jsx(Mk,{__scopeCheckbox:s,checked:a,defaultChecked:i,disabled:o,required:l,onCheckedChange:d,name:r,form:m,value:c,internal_do_not_use_render:({isFormControl:p})=>t.jsxs(t.Fragment,{children:[t.jsx(vw,{...u,ref:n,__scopeCheckbox:s}),p&&t.jsx(ww,{__scopeCheckbox:s})]})})});Vf.displayName=gd;var jw="CheckboxIndicator",yw=f.forwardRef((e,n)=>{const{__scopeCheckbox:s,forceMount:r,...a}=e,i=Bf(jw,s);return t.jsx(ad,{present:r||fr(i.checked)||i.checked===!0,children:t.jsx(xt.span,{"data-state":Nw(i.checked),"data-disabled":i.disabled?"":void 0,...a,ref:n,style:{pointerEvents:"none",...e.style}})})});yw.displayName=jw;var bw="CheckboxBubbleInput",ww=f.forwardRef(({__scopeCheckbox:e,...n},s)=>{const{control:r,hasConsumerStoppedPropagationRef:a,checked:i,defaultChecked:l,required:o,disabled:c,name:d,value:m,form:u,bubbleInput:p,setBubbleInput:h}=Bf(bw,e),v=ws(s,h),j=Rk(i),y=Lk(r);f.useEffect(()=>{const x=p;if(!x)return;const b=window.HTMLInputElement.prototype,L=Object.getOwnPropertyDescriptor(b,"checked").set,k=!a.current;if(j!==i&&L){const I=new Event("click",{bubbles:k});x.indeterminate=fr(i),L.call(x,fr(i)?!1:i),x.dispatchEvent(I)}},[p,j,i,a]);const g=f.useRef(fr(i)?!1:i);return t.jsx(xt.input,{type:"checkbox","aria-hidden":!0,defaultChecked:l??g.current,required:o,disabled:c,name:d,value:m,form:u,...n,tabIndex:-1,ref:v,style:{...n.style,...y,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});ww.displayName=bw;function _k(e){return typeof e=="function"}function fr(e){return e==="indeterminate"}function Nw(e){return fr(e)?"indeterminate":e?"checked":"unchecked"}const Je=f.forwardRef(({className:e,...n},s)=>t.jsx(Vf,{ref:s,className:ae("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...n,children:t.jsx(yw,{className:ae("flex items-center justify-center text-current"),children:t.jsx(yf,{className:"h-4 w-4"})})}));Je.displayName=Vf.displayName;function $k({leadId:e,reminders:n}){const{createReminder:s,completeReminder:r}=da(),[a,i]=f.useState(!1),[l,o]=f.useState({type:"follow_up",title:"",description:"",dueDate:"",priority:"medium"}),c=j=>{switch(j){case"urgent":return"bg-red-50 text-red-700 border-red-200";case"high":return"bg-orange-50 text-orange-700 border-orange-200";case"medium":return"bg-yellow-50 text-yellow-700 border-yellow-200";case"low":return"bg-green-50 text-green-700 border-green-200";default:return"bg-gray-50 text-gray-700 border-gray-200"}},d=j=>{switch(j){case"call":return"📞";case"email":return"📧";case"meeting":return"🤝";case"deadline":return"⏰";default:return"📋"}},m=j=>new Date(j)<new Date,u=async()=>{!l.title.trim()||!l.dueDate||(await s({leadId:e,type:l.type,title:l.title,description:l.description,dueDate:new Date(l.dueDate),priority:l.priority,userId:"current-user"}),o({type:"follow_up",title:"",description:"",dueDate:"",priority:"medium"}),i(!1))},p=async j=>{await r(j)},h=n.filter(j=>!j.isCompleted),v=n.filter(j=>j.isCompleted);return t.jsxs(U,{className:"shadow-sm",children:[t.jsx(G,{children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsxs(q,{className:"text-lg flex items-center",children:[t.jsx(DE,{className:"h-5 w-5 mr-2"}),"Reminders"]}),t.jsx(oe,{children:"Set follow-up reminders and track completion"})]}),t.jsxs($,{onClick:()=>i(!0),size:"sm",children:[t.jsx(Re,{className:"h-4 w-4 mr-2"}),"Add Reminder"]})]})}),t.jsxs(W,{children:[a&&t.jsx(U,{className:"mb-6 border-dashed",children:t.jsx(W,{className:"pt-6",children:t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[t.jsxs("div",{children:[t.jsx("label",{className:"text-sm font-medium",children:"Reminder Type"}),t.jsxs(ge,{value:l.type,onValueChange:j=>o(y=>({...y,type:j})),children:[t.jsx(he,{children:t.jsx(ve,{})}),t.jsxs(xe,{children:[t.jsx(O,{value:"follow_up",children:"Follow Up"}),t.jsx(O,{value:"call",children:"Call"}),t.jsx(O,{value:"email",children:"Email"}),t.jsx(O,{value:"meeting",children:"Meeting"}),t.jsx(O,{value:"deadline",children:"Deadline"})]})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-sm font-medium",children:"Priority"}),t.jsxs(ge,{value:l.priority,onValueChange:j=>o(y=>({...y,priority:j})),children:[t.jsx(he,{children:t.jsx(ve,{})}),t.jsxs(xe,{children:[t.jsx(O,{value:"low",children:"Low"}),t.jsx(O,{value:"medium",children:"Medium"}),t.jsx(O,{value:"high",children:"High"}),t.jsx(O,{value:"urgent",children:"Urgent"})]})]})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-sm font-medium",children:"Title"}),t.jsx(J,{value:l.title,onChange:j=>o(y=>({...y,title:j.target.value})),placeholder:"e.g., Follow up on pricing questions"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-sm font-medium",children:"Due Date"}),t.jsx(J,{type:"datetime-local",value:l.dueDate,onChange:j=>o(y=>({...y,dueDate:j.target.value}))})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-sm font-medium",children:"Description"}),t.jsx(Ze,{value:l.description,onChange:j=>o(y=>({...y,description:j.target.value})),placeholder:"Additional details...",rows:2})]}),t.jsxs("div",{className:"flex justify-end space-x-2",children:[t.jsx($,{variant:"outline",onClick:()=>i(!1),children:"Cancel"}),t.jsx($,{onClick:u,children:"Add Reminder"})]})]})})}),t.jsxs("div",{className:"space-y-6",children:[h.length>0&&t.jsxs("div",{children:[t.jsxs("h4",{className:"font-semibold text-sm mb-3 flex items-center",children:[t.jsx(Ke,{className:"h-4 w-4 mr-2"}),"Active Reminders (",h.length,")"]}),t.jsx("div",{className:"space-y-3",children:h.sort((j,y)=>new Date(j.dueDate).getTime()-new Date(y.dueDate).getTime()).map(j=>t.jsxs("div",{className:ae("flex items-start space-x-3 p-3 border rounded-lg",m(j.dueDate)?"border-red-200 bg-red-50":"hover:bg-accent/50"),children:[t.jsx(Je,{checked:!1,onCheckedChange:()=>p(j.id),className:"mt-1"}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[t.jsx("span",{className:"text-lg",children:d(j.type)}),t.jsx("span",{className:"font-medium text-sm",children:j.title}),t.jsx(Z,{className:ae("ri-badge-status text-xs",c(j.priority)),children:j.priority}),m(j.dueDate)&&t.jsxs(Z,{className:"bg-red-50 text-red-700 border-red-200 text-xs",children:[t.jsx(Zn,{className:"h-3 w-3 mr-1"}),"Overdue"]})]}),t.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:j.description}),t.jsxs("div",{className:"flex items-center space-x-2 text-xs text-muted-foreground",children:[t.jsx(It,{className:"h-3 w-3"}),t.jsxs("span",{children:["Due: ",Pe(j.dueDate)]})]})]})]},j.id))})]}),v.length>0&&t.jsxs("div",{children:[t.jsxs("h4",{className:"font-semibold text-sm mb-3 text-muted-foreground",children:["Completed (",v.length,")"]}),t.jsx("div",{className:"space-y-2",children:v.sort((j,y)=>new Date(y.dueDate).getTime()-new Date(j.dueDate).getTime()).slice(0,5).map(j=>t.jsxs("div",{className:"flex items-center space-x-3 p-2 text-sm text-muted-foreground",children:[t.jsx(Je,{checked:!0,disabled:!0}),t.jsx("span",{className:"line-through",children:j.title}),t.jsx("span",{className:"text-xs",children:Pe(j.dueDate)})]},j.id))})]}),h.length===0&&v.length===0&&t.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No reminders set for this lead"})]})]})]})}function Bk({template:e,type:n,onSave:s,onCancel:r}){const{toast:a}=ot(),[i,l]=f.useState(!1),[o,c]=f.useState({name:(e==null?void 0:e.name)||"",subject:(e==null?void 0:e.subject)||"",body:(e==null?void 0:e.body)||(e==null?void 0:e.message)||"",type:(e==null?void 0:e.type)||"custom",variables:(e==null?void 0:e.variables)||[],isActive:(e==null?void 0:e.isActive)??!0}),[d,m]=f.useState(""),u=[{value:"welcome",label:"Welcome"},{value:"follow_up",label:"Follow Up"},{value:"nurture",label:"Nurture"},{value:"proposal",label:"Proposal"},{value:"reminder",label:"Reminder"},{value:"custom",label:"Custom"}],p=["first_name","last_name","company_name","rep_name","rep_phone","rep_email","website_url","budget","timeframe"],h=async()=>{if(!o.name.trim()){a({title:"Validation Error",description:"Template name is required",variant:"destructive"});return}if(!o.body.trim()){a({title:"Validation Error",description:`${n==="email"?"Email body":"SMS message"} is required`,variant:"destructive"});return}if(n==="email"&&!o.subject.trim()){a({title:"Validation Error",description:"Email subject is required",variant:"destructive"});return}if(n==="sms"&&o.body.length>160){a({title:"Validation Error",description:"SMS message must be 160 characters or less",variant:"destructive"});return}l(!0);try{const g=n==="email"?{name:o.name,subject:o.subject,body:o.body,type:o.type,variables:o.variables,isActive:o.isActive}:{name:o.name,message:o.body,type:o.type,variables:o.variables,isActive:o.isActive};await s(g),a({title:"Success",description:`${n==="email"?"Email":"SMS"} template ${e?"updated":"created"} successfully`})}catch{a({title:"Error",description:`Failed to ${e?"update":"create"} template`,variant:"destructive"})}finally{l(!1)}},v=()=>{d.trim()&&!o.variables.includes(d.trim())&&(c(g=>({...g,variables:[...g.variables,d.trim()]})),m(""))},j=g=>{c(x=>({...x,variables:x.variables.filter(b=>b!==g)}))},y=g=>{const x=`{{${g}}}`;c(b=>({...b,body:b.body+x}))};return t.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:t.jsxs(U,{className:"w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[t.jsx(G,{children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsxs(q,{className:"text-xl flex items-center",children:[n==="email"?t.jsx($n,{className:"h-5 w-5 mr-2 text-blue-500"}):t.jsx(Yt,{className:"h-5 w-5 mr-2 text-green-500"}),e?"Edit":"Create"," ",n==="email"?"Email":"SMS"," Template"]}),t.jsx(oe,{children:e?"Update the template details":"Create a new template for automated communications"})]}),t.jsx($,{variant:"ghost",size:"sm",onClick:r,children:t.jsx(nt,{className:"h-4 w-4"})})]})}),t.jsxs(W,{className:"space-y-6",children:[t.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[t.jsxs("div",{children:[t.jsx(Q,{htmlFor:"name",children:"Template Name *"}),t.jsx(J,{id:"name",value:o.name,onChange:g=>c(x=>({...x,name:g.target.value})),placeholder:"e.g., Welcome New Lead"})]}),t.jsxs("div",{children:[t.jsx(Q,{htmlFor:"type",children:"Template Type"}),t.jsxs(ge,{value:o.type,onValueChange:g=>c(x=>({...x,type:g})),children:[t.jsx(he,{children:t.jsx(ve,{})}),t.jsx(xe,{children:u.map(g=>t.jsx(O,{value:g.value,children:g.label},g.value))})]})]})]}),n==="email"&&t.jsxs("div",{children:[t.jsx(Q,{htmlFor:"subject",children:"Subject Line *"}),t.jsx(J,{id:"subject",value:o.subject,onChange:g=>c(x=>({...x,subject:g.target.value})),placeholder:"e.g., Welcome to {{company_name}}, {{first_name}}!"})]}),t.jsxs("div",{className:"grid gap-6 md:grid-cols-3",children:[t.jsxs("div",{className:"md:col-span-2",children:[t.jsxs(Q,{htmlFor:"body",children:[n==="email"?"Email Body":"SMS Message"," *"]}),t.jsx(Ze,{id:"body",value:o.body,onChange:g=>c(x=>({...x,body:g.target.value})),placeholder:n==="email"?`Hi {{first_name}},

Thank you for your interest in our RV inventory!

Best regards,
{{rep_name}}`:"Hi {{first_name}}! Thanks for your interest. Call us at {{rep_phone}} - {{rep_name}}",rows:n==="email"?12:4,maxLength:n==="sms"?160:void 0}),n==="sms"&&t.jsxs("div",{className:"flex justify-between items-center mt-1",children:[t.jsxs("div",{className:"text-xs text-muted-foreground",children:[o.body.length,"/160 characters"]}),t.jsx("div",{className:`text-xs ${o.body.length>160?"text-red-500":"text-muted-foreground"}`,children:o.body.length>160&&"Message too long"})]})]}),t.jsxs("div",{children:[t.jsx(Q,{children:"Variables"}),t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"Common Variables:"}),t.jsx("div",{className:"space-y-1",children:p.map(g=>t.jsxs($,{variant:"outline",size:"sm",className:"w-full justify-start text-xs",onClick:()=>y(g),children:[t.jsx(Re,{className:"h-3 w-3 mr-1"}),g]},g))})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"Custom Variables:"}),t.jsxs("div",{className:"flex space-x-1 mb-2",children:[t.jsx(J,{value:d,onChange:g=>m(g.target.value),placeholder:"variable_name",className:"text-xs",onKeyPress:g=>g.key==="Enter"&&v()}),t.jsx($,{size:"sm",onClick:v,children:t.jsx(Re,{className:"h-3 w-3"})})]}),t.jsx("div",{className:"space-y-1",children:o.variables.map(g=>t.jsxs("div",{className:"flex items-center justify-between p-1 bg-muted rounded text-xs",children:[t.jsx("span",{children:g}),t.jsx($,{variant:"ghost",size:"sm",onClick:()=>j(g),className:"h-4 w-4 p-0",children:t.jsx(Un,{className:"h-3 w-3"})})]},g))})]})]})]})]}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(Je,{id:"isActive",checked:o.isActive,onCheckedChange:g=>c(x=>({...x,isActive:!!g}))}),t.jsx(Q,{htmlFor:"isActive",children:"Active template"})]}),t.jsxs("div",{children:[t.jsx(Q,{children:"Preview"}),t.jsxs("div",{className:"mt-2 p-4 bg-muted/30 rounded-lg",children:[n==="email"&&t.jsxs("div",{className:"mb-2",children:[t.jsx("strong",{children:"Subject:"})," ",o.subject||"No subject"]}),t.jsx("div",{className:"whitespace-pre-wrap text-sm",children:o.body||`No ${n==="email"?"content":"message"}`})]})]}),t.jsxs("div",{className:"flex justify-end space-x-3 pt-6 border-t",children:[t.jsx($,{variant:"outline",onClick:r,disabled:i,children:"Cancel"}),t.jsx($,{onClick:h,disabled:i,children:i?t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Saving..."]}):t.jsxs(t.Fragment,{children:[t.jsx(Dn,{className:"h-4 w-4 mr-2"}),e?"Update":"Create"," Template"]})})]})]})]})})}function Vk({sequence:e,emailTemplates:n,smsTemplates:s,onSave:r,onCancel:a}){var k,I,w,S,C;const{toast:i}=ot(),[l,o]=f.useState(!1),[c,d]=f.useState({name:(e==null?void 0:e.name)||"",description:(e==null?void 0:e.description)||"",targetAudience:(e==null?void 0:e.targetAudience)||"",steps:(e==null?void 0:e.steps)||[],isActive:(e==null?void 0:e.isActive)??!0}),[m,u]=f.useState(!1),[p,h]=f.useState({type:"email",delay:0,content:{body:""},isActive:!0}),v=[{value:"email",label:"Email",icon:$n,color:"text-blue-500"},{value:"sms",label:"SMS",icon:Yt,color:"text-green-500"},{value:"wait",label:"Wait",icon:Ke,color:"text-orange-500"},{value:"task",label:"Task",icon:Dt,color:"text-purple-500"}],j=E=>{const N=v.find(D=>D.value===E);return(N==null?void 0:N.icon)||$n},y=E=>{const N=v.find(D=>D.value===E);return(N==null?void 0:N.color)||"text-gray-500"},g=async()=>{if(!c.name.trim()){i({title:"Validation Error",description:"Sequence name is required",variant:"destructive"});return}if(c.steps.length===0){i({title:"Validation Error",description:"At least one step is required",variant:"destructive"});return}o(!0);try{const E={...c,steps:c.steps.map((N,D)=>({...N,order:D+1}))};await r(E),i({title:"Success",description:`Sequence ${e?"updated":"created"} successfully`})}catch{i({title:"Error",description:`Failed to ${e?"update":"create"} sequence`,variant:"destructive"})}finally{o(!1)}},x=()=>{var N,D;if(!((D=(N=p.content)==null?void 0:N.body)!=null&&D.trim())&&p.type!=="wait"){i({title:"Validation Error",description:"Step content is required",variant:"destructive"});return}const E={id:Math.random().toString(36).substr(2,9),type:p.type||"email",delay:p.delay||0,content:p.content||{body:""},isActive:!0};d(A=>({...A,steps:[...A.steps,E]})),h({type:"email",delay:0,content:{body:""},isActive:!0}),u(!1)},b=E=>{d(N=>({...N,steps:N.steps.filter(D=>D.id!==E)}))},T=(E,N)=>{const D=[...c.steps],A=D.findIndex(_=>_.id===E);N==="up"&&A>0?[D[A],D[A-1]]=[D[A-1],D[A]]:N==="down"&&A<D.length-1&&([D[A],D[A+1]]=[D[A+1],D[A]]),d(_=>({..._,steps:D}))},L=E=>{if(E<24)return`${E} hours`;const N=Math.floor(E/24),D=E%24;return D===0?`${N} days`:`${N} days ${D} hours`};return t.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:t.jsxs(U,{className:"w-full max-w-6xl max-h-[90vh] overflow-y-auto",children:[t.jsx(G,{children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsxs(q,{className:"text-xl",children:[e?"Edit":"Create"," Nurture Sequence"]}),t.jsx(oe,{children:e?"Update the sequence details and steps":"Create an automated sequence for lead nurturing"})]}),t.jsx($,{variant:"ghost",size:"sm",onClick:a,children:t.jsx(nt,{className:"h-4 w-4"})})]})}),t.jsxs(W,{className:"space-y-6",children:[t.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[t.jsxs("div",{children:[t.jsx(Q,{htmlFor:"name",children:"Sequence Name *"}),t.jsx(J,{id:"name",value:c.name,onChange:E=>d(N=>({...N,name:E.target.value})),placeholder:"e.g., New Lead Welcome Series"})]}),t.jsxs("div",{children:[t.jsx(Q,{htmlFor:"targetAudience",children:"Target Audience"}),t.jsx(J,{id:"targetAudience",value:c.targetAudience,onChange:E=>d(N=>({...N,targetAudience:E.target.value})),placeholder:"e.g., New website leads"})]})]}),t.jsxs("div",{children:[t.jsx(Q,{htmlFor:"description",children:"Description"}),t.jsx(Ze,{id:"description",value:c.description,onChange:E=>d(N=>({...N,description:E.target.value})),placeholder:"Describe the purpose and goals of this sequence",rows:3})]}),t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsxs(Q,{children:["Sequence Steps (",c.steps.length,")"]}),t.jsxs($,{onClick:()=>u(!0),size:"sm",children:[t.jsx(Re,{className:"h-4 w-4 mr-2"}),"Add Step"]})]}),m&&t.jsx(U,{className:"mb-4 border-dashed",children:t.jsx(W,{className:"pt-6",children:t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[t.jsxs("div",{children:[t.jsx(Q,{children:"Step Type"}),t.jsxs(ge,{value:p.type,onValueChange:E=>h(N=>({...N,type:E})),children:[t.jsx(he,{children:t.jsx(ve,{})}),t.jsx(xe,{children:v.map(E=>t.jsx(O,{value:E.value,children:t.jsxs("div",{className:"flex items-center",children:[t.jsx(E.icon,{className:ae("h-4 w-4 mr-2",E.color)}),t.jsx("span",{children:E.label})]})},E.value))})]})]}),t.jsxs("div",{children:[t.jsx(Q,{children:"Delay (hours)"}),t.jsx(J,{type:"number",value:p.delay||0,onChange:E=>h(N=>({...N,delay:parseInt(E.target.value)||0})),placeholder:"0",min:"0"})]}),p.type==="email"&&t.jsxs("div",{children:[t.jsx(Q,{children:"Email Template"}),t.jsxs(ge,{value:((k=p.content)==null?void 0:k.template)||"",onValueChange:E=>{const N=n.find(D=>D.id===E);h(D=>({...D,content:{...D.content,template:E,subject:(N==null?void 0:N.subject)||"",body:(N==null?void 0:N.body)||""}}))},children:[t.jsx(he,{children:t.jsx(ve,{placeholder:"Select template"})}),t.jsxs(xe,{children:[t.jsx(O,{value:"",children:"Custom Content"}),n.filter(E=>E.isActive).map(E=>t.jsx(O,{value:E.id,children:E.name},E.id))]})]})]}),p.type==="sms"&&t.jsxs("div",{children:[t.jsx(Q,{children:"SMS Template"}),t.jsxs(ge,{value:((I=p.content)==null?void 0:I.template)||"",onValueChange:E=>{const N=s.find(D=>D.id===E);h(D=>({...D,content:{...D.content,template:E,body:(N==null?void 0:N.message)||""}}))},children:[t.jsx(he,{children:t.jsx(ve,{placeholder:"Select template"})}),t.jsxs(xe,{children:[t.jsx(O,{value:"",children:"Custom Content"}),s.filter(E=>E.isActive).map(E=>t.jsx(O,{value:E.id,children:E.name},E.id))]})]})]})]}),p.type==="email"&&t.jsxs("div",{children:[t.jsx(Q,{children:"Subject"}),t.jsx(J,{value:((w=p.content)==null?void 0:w.subject)||"",onChange:E=>h(N=>({...N,content:{...N.content,subject:E.target.value}})),placeholder:"Email subject line"})]}),(p.type==="email"||p.type==="sms"||p.type==="task")&&t.jsxs("div",{children:[t.jsx(Q,{children:p.type==="email"?"Email Body":p.type==="sms"?"SMS Message":"Task Description"}),t.jsx(Ze,{value:((S=p.content)==null?void 0:S.body)||"",onChange:E=>h(N=>({...N,content:{...N.content,body:E.target.value}})),placeholder:p.type==="email"?"Email content...":p.type==="sms"?"SMS message...":"Task description...",rows:p.type==="email"?6:3,maxLength:p.type==="sms"?160:void 0}),p.type==="sms"&&t.jsxs("div",{className:"text-xs text-muted-foreground mt-1",children:[(((C=p.content)==null?void 0:C.body)||"").length,"/160 characters"]})]}),t.jsxs("div",{className:"flex justify-end space-x-2",children:[t.jsx($,{variant:"outline",onClick:()=>u(!1),children:"Cancel"}),t.jsx($,{onClick:x,children:"Add Step"})]})]})})}),t.jsxs("div",{className:"space-y-4",children:[c.steps.map((E,N)=>{const D=j(E.type),A=N===c.steps.length-1;return t.jsxs("div",{className:"relative",children:[!A&&t.jsx("div",{className:"absolute left-6 top-12 bottom-0 w-px bg-border"}),t.jsxs("div",{className:"flex items-start space-x-4 p-4 border rounded-lg hover:bg-accent/50 transition-colors",children:[t.jsx("div",{className:ae("flex-shrink-0 w-12 h-12 rounded-full bg-background border-2 flex items-center justify-center",y(E.type)),children:t.jsx(D,{className:"h-5 w-5"})}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[t.jsx("span",{className:"font-medium capitalize",children:E.type}),E.delay>0&&t.jsxs(Z,{variant:"secondary",className:"text-xs",children:[t.jsx(Ke,{className:"h-3 w-3 mr-1"}),L(E.delay)]})]}),E.type==="email"&&t.jsxs("div",{className:"bg-blue-50 p-3 rounded-md",children:[t.jsx("p",{className:"font-medium text-sm text-blue-900",children:E.content.subject||"No subject"}),t.jsx("p",{className:"text-sm text-blue-700 mt-1 line-clamp-2",children:E.content.body||"No content"})]}),E.type==="sms"&&t.jsx("div",{className:"bg-green-50 p-3 rounded-md",children:t.jsx("p",{className:"text-sm text-green-700",children:E.content.body||"No message"})}),E.type==="wait"&&t.jsx("div",{className:"bg-orange-50 p-3 rounded-md",children:t.jsxs("p",{className:"text-sm text-orange-700",children:["Wait ",L(E.delay)," before next step"]})}),E.type==="task"&&t.jsx("div",{className:"bg-purple-50 p-3 rounded-md",children:t.jsx("p",{className:"text-sm text-purple-700",children:E.content.body||"No task description"})})]}),t.jsxs("div",{className:"flex items-center space-x-1",children:[t.jsx($,{variant:"outline",size:"sm",onClick:()=>T(E.id,"up"),disabled:N===0,children:t.jsx(Rs,{className:"h-3 w-3"})}),t.jsx($,{variant:"outline",size:"sm",onClick:()=>T(E.id,"down"),disabled:N===c.steps.length-1,children:t.jsx(Ps,{className:"h-3 w-3"})}),t.jsx($,{variant:"outline",size:"sm",onClick:()=>b(E.id),children:t.jsx(Un,{className:"h-3 w-3"})})]})]})]},E.id)}),c.steps.length===0&&t.jsx("div",{className:"text-center py-8 text-muted-foreground border-2 border-dashed rounded-lg",children:'No steps added yet. Click "Add Step" to get started.'})]})]}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(Je,{id:"isActive",checked:c.isActive,onCheckedChange:E=>d(N=>({...N,isActive:!!E}))}),t.jsx(Q,{htmlFor:"isActive",children:"Active sequence"})]}),t.jsxs("div",{className:"flex justify-end space-x-3 pt-6 border-t",children:[t.jsx($,{variant:"outline",onClick:a,disabled:l,children:"Cancel"}),t.jsx($,{onClick:g,disabled:l,children:l?t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Saving..."]}):t.jsxs(t.Fragment,{children:[t.jsx(Dn,{className:"h-4 w-4 mr-2"}),e?"Update":"Create"," Sequence"]})})]})]})]})})}const zk=[{id:"1",name:"New Lead Welcome Series",description:"Automated welcome sequence for new leads",isActive:!0,targetAudience:"New website leads",steps:[{id:"1",type:"email",delay:0},{id:"2",type:"wait",delay:72},{id:"3",type:"email",delay:0},{id:"4",type:"sms",delay:48}]}],Uk=[{id:"1",name:"Welcome New Lead",subject:"Welcome to our RV dealership!",body:"Thank you for your interest...",type:"welcome",isActive:!0}],Wk=[{id:"1",name:"Quick Follow-up",message:"Hi! Just wanted to check if you have any questions.",type:"follow_up",isActive:!0}];function wg(){const[e,n]=f.useState(zk),[s,r]=f.useState(Uk),[a,i]=f.useState(Wk),[l]=f.useState([]),[o,c]=f.useState(null),[d,m]=f.useState(!1),[u,p]=f.useState(!1),[h,v]=f.useState(null),[j,y]=f.useState(null),[g,x]=f.useState("email"),b=N=>{switch(N){case"email":return $n;case"sms":return Yt;case"wait":return Ke;case"task":return Dt;default:return BE}},T=N=>{switch(N){case"email":return"text-blue-500 bg-blue-50";case"sms":return"text-green-500 bg-green-50";case"wait":return"text-orange-500 bg-orange-50";case"task":return"text-purple-500 bg-purple-50";default:return"text-gray-500 bg-gray-50"}},L=N=>{if(N<24)return`${N} hours`;const D=Math.floor(N/24),A=N%24;return A===0?`${D} days`:`${D} days ${A} hours`},k=N=>{const D=l.filter(A=>A.sequenceId===N);return{total:D.length,active:D.filter(A=>A.status==="active").length,completed:D.filter(A=>A.status==="completed").length,paused:D.filter(A=>A.status==="paused").length}},I=(N,D)=>{y({template:N,type:D}),p(!0)},w=async N=>{if(j)j.type==="email"?r(D=>D.map(A=>A.id===j.template.id?{...A,...N}:A)):i(D=>D.map(A=>A.id===j.template.id?{...A,...N}:A));else{const D={id:Math.random().toString(36).substr(2,9),...N,isActive:!0};g==="email"?r(A=>[...A,D]):i(A=>[...A,D])}p(!1),y(null)},S=()=>{m(!0),v(null)},C=N=>{v(N),m(!0)},E=async N=>{if(h)n(D=>D.map(A=>A.id===h.id?{...A,...N}:A));else{const D={id:Math.random().toString(36).substr(2,9),...N,steps:N.steps||[]};n(A=>[...A,D])}m(!1),v(null)};return t.jsxs("div",{className:"space-y-6",children:[u&&t.jsx(Bk,{template:j==null?void 0:j.template,type:(j==null?void 0:j.type)||g,onSave:w,onCancel:()=>{p(!1),y(null)}}),d&&t.jsx(Vk,{sequence:h,emailTemplates:s,smsTemplates:a,onSave:E,onCancel:()=>{m(!1),v(null)}}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("h2",{className:"text-2xl font-bold",children:"Nurture Sequences"}),t.jsx("p",{className:"text-muted-foreground",children:"Automate lead nurturing with email and SMS sequences"})]}),t.jsxs("div",{className:"flex space-x-2",children:[t.jsxs($,{variant:"outline",onClick:()=>p(!0),children:[t.jsx(Re,{className:"h-4 w-4 mr-2"}),"Template"]}),t.jsxs($,{onClick:S,children:[t.jsx(Re,{className:"h-4 w-4 mr-2"}),"Sequence"]})]})]}),t.jsxs(bt,{defaultValue:"sequences",className:"space-y-6",children:[t.jsxs(jt,{children:[t.jsx(je,{value:"sequences",children:"Sequences"}),t.jsx(je,{value:"templates",children:"Templates"}),t.jsx(je,{value:"analytics",children:"Analytics"})]}),t.jsxs(we,{value:"sequences",className:"space-y-6",children:[t.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:e.map(N=>{const D=k(N.id);return t.jsxs(U,{className:"shadow-sm hover:shadow-md transition-shadow cursor-pointer",onClick:()=>c(N),children:[t.jsx(G,{children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx(q,{className:"text-lg",children:N.name}),t.jsx(oe,{className:"mt-1",children:N.description})]}),t.jsx(Z,{className:N.isActive?"bg-green-50 text-green-700 border-green-200":"bg-gray-50 text-gray-700 border-gray-200",children:N.isActive?"Active":"Inactive"})]})}),t.jsx(W,{children:t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"flex items-center space-x-4 text-sm",children:[t.jsxs("div",{className:"flex items-center space-x-1",children:[t.jsx(Dt,{className:"h-4 w-4 text-blue-500"}),t.jsxs("span",{children:[D.total," enrolled"]})]}),t.jsxs("div",{className:"flex items-center space-x-1",children:[t.jsx(hu,{className:"h-4 w-4 text-green-500"}),t.jsxs("span",{children:[D.active," active"]})]})]}),t.jsxs("div",{className:"flex flex-wrap gap-1",children:[N.steps.slice(0,4).map((A,_)=>{const V=b(A.type);return t.jsx("div",{className:ae("flex items-center justify-center w-8 h-8 rounded-full",T(A.type)),children:t.jsx(V,{className:"h-4 w-4"})},A.id)}),N.steps.length>4&&t.jsxs("div",{className:"flex items-center justify-center w-8 h-8 rounded-full bg-gray-100 text-gray-500 text-xs",children:["+",N.steps.length-4]})]}),t.jsxs("div",{className:"text-xs text-muted-foreground",children:["Target: ",N.targetAudience]})]})})]},N.id)})}),o&&t.jsxs(U,{className:"shadow-sm",children:[t.jsx(G,{children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx(q,{className:"text-xl",children:o.name}),t.jsx(oe,{children:o.description})]}),t.jsxs("div",{className:"flex space-x-2",children:[t.jsxs($,{variant:"outline",size:"sm",onClick:()=>C(o),children:[t.jsx(zt,{className:"h-4 w-4 mr-2"}),"Edit"]}),t.jsxs($,{variant:"outline",size:"sm",children:[o.isActive?t.jsx(FE,{className:"h-4 w-4 mr-2"}):t.jsx(hu,{className:"h-4 w-4 mr-2"}),o.isActive?"Pause":"Activate"]})]})]})}),t.jsx(W,{children:t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx("h4",{className:"font-semibold mb-3",children:"Sequence Steps"}),t.jsx("div",{className:"space-y-4",children:o.steps.map((N,D)=>{const A=b(N.type),_=D===o.steps.length-1;return t.jsxs("div",{className:"relative",children:[!_&&t.jsx("div",{className:"absolute left-6 top-12 bottom-0 w-px bg-border"}),t.jsxs("div",{className:"flex items-start space-x-4",children:[t.jsx("div",{className:ae("flex-shrink-0 w-12 h-12 rounded-full flex items-center justify-center",T(N.type)),children:t.jsx(A,{className:"h-5 w-5"})}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[t.jsx("span",{className:"font-medium capitalize",children:N.type}),N.delay>0&&t.jsxs(Z,{variant:"outline",className:"flex items-center space-x-1",children:[t.jsx(Ke,{className:"h-3 w-3"}),t.jsxs("span",{children:["Wait ",L(N.delay)]})]})]}),N.type==="email"&&t.jsx("div",{className:"bg-muted/30 p-3 rounded-md",children:t.jsx("p",{className:"text-sm text-muted-foreground",children:N.type==="email"?"Email step":N.type==="sms"?"SMS step":N.type==="wait"?"Wait step":"Step"})})]})]})]},N.id)})})]}),t.jsxs("div",{children:[t.jsx("h4",{className:"font-semibold mb-3",children:"Performance"}),t.jsx("div",{className:"grid gap-4 md:grid-cols-4",children:Object.entries(k(o.id)).map(([N,D])=>t.jsxs("div",{className:"text-center p-3 bg-muted/30 rounded-lg",children:[t.jsx("div",{className:"text-2xl font-bold",children:D}),t.jsx("div",{className:"text-sm text-muted-foreground capitalize",children:N})]},N))})]})]})})]})]}),t.jsx(we,{value:"templates",className:"space-y-6",children:t.jsxs(bt,{defaultValue:"email",className:"space-y-4",children:[t.jsxs(jt,{children:[t.jsx(je,{value:"email",children:"Email Templates"}),t.jsx(je,{value:"sms",children:"SMS Templates"})]}),u&&!j&&t.jsx("div",{className:"mb-4",children:t.jsx(bt,{value:g,onValueChange:N=>x(N),children:t.jsxs(jt,{children:[t.jsx(je,{value:"email",children:"Email Template"}),t.jsx(je,{value:"sms",children:"SMS Template"})]})})}),t.jsx(we,{value:"email",children:t.jsx("div",{className:"grid gap-4 md:grid-cols-2",children:s.map(N=>t.jsxs(U,{className:"shadow-sm",children:[t.jsx(G,{children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx(q,{className:"text-lg",children:N.name}),t.jsx(Z,{variant:"secondary",className:"mt-1",children:N.type})]}),t.jsx($,{variant:"outline",size:"sm",onClick:()=>I(N,"email"),children:t.jsx(zt,{className:"h-4 w-4"})})]})}),t.jsx(W,{children:t.jsxs("div",{className:"space-y-2",children:[t.jsx("p",{className:"text-sm text-muted-foreground",children:N.subject||N.body}),t.jsxs("div",{children:[t.jsx("span",{className:"text-sm font-medium",children:"Variables:"}),t.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:(N.variables||["first_name","company_name"]).map(D=>t.jsx(Z,{variant:"outline",className:"text-xs",children:D},D))})]})]})})]},N.id))})}),t.jsx(we,{value:"sms",children:t.jsx("div",{className:"grid gap-4 md:grid-cols-2",children:a.map(N=>t.jsxs(U,{className:"shadow-sm",children:[t.jsx(G,{children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx(q,{className:"text-lg",children:N.name}),t.jsx(Z,{variant:"secondary",className:"mt-1",children:N.type})]}),t.jsx($,{variant:"outline",size:"sm",onClick:()=>I(N,"sms"),children:t.jsx(zt,{className:"h-4 w-4"})})]})}),t.jsx(W,{children:t.jsxs("div",{className:"space-y-2",children:[t.jsx("p",{className:"text-sm text-muted-foreground",children:N.message}),t.jsxs("div",{children:[t.jsx("span",{className:"text-sm font-medium",children:"Variables:"}),t.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:(N.variables||["first_name"]).map(D=>t.jsx(Z,{variant:"outline",className:"text-xs",children:D},D))})]})]})})]},N.id))})})]})}),t.jsxs(we,{value:"analytics",className:"space-y-6",children:[t.jsxs("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-4",children:[t.jsxs(U,{className:"shadow-sm border-0 bg-gradient-to-br from-blue-50 to-blue-100/50",children:[t.jsxs(G,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[t.jsx(q,{className:"text-sm font-medium text-blue-900",children:"Total Enrollments"}),t.jsx(Dt,{className:"h-4 w-4 text-blue-600"})]}),t.jsxs(W,{children:[t.jsx("div",{className:"text-2xl font-bold text-blue-900",children:"0"}),t.jsxs("p",{className:"text-xs text-blue-600 flex items-center mt-1",children:[t.jsx(De,{className:"h-3 w-3 mr-1"}),"Across all sequences"]})]})]}),t.jsxs(U,{className:"shadow-sm border-0 bg-gradient-to-br from-green-50 to-green-100/50",children:[t.jsxs(G,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[t.jsx(q,{className:"text-sm font-medium text-green-900",children:"Active Sequences"}),t.jsx(hu,{className:"h-4 w-4 text-green-600"})]}),t.jsxs(W,{children:[t.jsx("div",{className:"text-2xl font-bold text-green-900",children:e.filter(N=>N.isActive).length}),t.jsxs("p",{className:"text-xs text-green-600 flex items-center mt-1",children:[t.jsx(De,{className:"h-3 w-3 mr-1"}),"Currently running"]})]})]}),t.jsxs(U,{className:"shadow-sm border-0 bg-gradient-to-br from-purple-50 to-purple-100/50",children:[t.jsxs(G,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[t.jsx(q,{className:"text-sm font-medium text-purple-900",children:"Completion Rate"}),t.jsx(De,{className:"h-4 w-4 text-purple-600"})]}),t.jsxs(W,{children:[t.jsx("div",{className:"text-2xl font-bold text-purple-900",children:"0%"}),t.jsxs("p",{className:"text-xs text-purple-600 flex items-center mt-1",children:[t.jsx(De,{className:"h-3 w-3 mr-1"}),"Average completion"]})]})]}),t.jsxs(U,{className:"shadow-sm border-0 bg-gradient-to-br from-orange-50 to-orange-100/50",children:[t.jsxs(G,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[t.jsx(q,{className:"text-sm font-medium text-orange-900",children:"Templates"}),t.jsx($n,{className:"h-4 w-4 text-orange-600"})]}),t.jsxs(W,{children:[t.jsx("div",{className:"text-2xl font-bold text-orange-900",children:s.length+a.length}),t.jsxs("p",{className:"text-xs text-orange-600 flex items-center mt-1",children:[t.jsx($n,{className:"h-3 w-3 mr-1"}),"Email & SMS templates"]})]})]})]}),t.jsxs(U,{className:"shadow-sm",children:[t.jsxs(G,{children:[t.jsx(q,{children:"Sequence Performance"}),t.jsx(oe,{children:"Detailed analytics for each nurture sequence"})]}),t.jsx(W,{children:t.jsx("div",{className:"space-y-4",children:e.map(N=>{k(N.id);const D=0;return t.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[t.jsxs("div",{className:"flex-1",children:[t.jsx("h4",{className:"font-semibold",children:N.name}),t.jsx("p",{className:"text-sm text-muted-foreground",children:N.description})]}),t.jsxs("div",{className:"grid grid-cols-4 gap-4 text-center",children:[t.jsxs("div",{children:[t.jsx("div",{className:"text-lg font-bold",children:"0"}),t.jsx("div",{className:"text-xs text-muted-foreground",children:"Enrolled"})]}),t.jsxs("div",{children:[t.jsx("div",{className:"text-lg font-bold text-green-600",children:"0"}),t.jsx("div",{className:"text-xs text-muted-foreground",children:"Active"})]}),t.jsxs("div",{children:[t.jsx("div",{className:"text-lg font-bold text-blue-600",children:"0"}),t.jsx("div",{className:"text-xs text-muted-foreground",children:"Completed"})]}),t.jsxs("div",{children:[t.jsxs("div",{className:"text-lg font-bold text-purple-600",children:[D.toFixed(1),"%"]}),t.jsx("div",{className:"text-xs text-muted-foreground",children:"Rate"})]})]})]},N.id)})})})]})]})]})]})}function Sw(){const[e,n]=f.useState([]),[s,r]=f.useState([]),[a,i]=f.useState([]),[l,o]=f.useState([]),[c,d]=f.useState([]),[m,u]=f.useState([]),[p,h]=f.useState([]),[v,j]=f.useState([]),[y,g]=f.useState(!1);f.useEffect(()=>{x()},[]);const x=()=>{const F=Kt("renter-insight-email-templates",[]),B=Kt("renter-insight-sms-templates",[]),z=Kt("renter-insight-sequences",[]),H=Kt("renter-insight-enrollments",[]),K=Kt("renter-insight-communication-logs",[]),se=Kt("renter-insight-ai-insights",[]);if(F.length===0){const te=[{id:"1",name:"Welcome New Lead",subject:"Welcome to {{company_name}}, {{first_name}}!",body:`Hi {{first_name}},

Thank you for your interest in our RV inventory! We're excited to help you find the perfect recreational vehicle for your adventures.

Here's what happens next:
- One of our RV specialists will contact you within 24 hours
- We'll schedule a personalized tour of our showroom
- You'll receive our latest inventory updates and special offers

In the meantime, feel free to browse our current inventory at {{website_url}}.

Best regards,
{{rep_name}}
{{company_name}}`,type:"welcome",variables:["first_name","company_name","website_url","rep_name"],isActive:!0,createdAt:new Date("2024-01-01")},{id:"2",name:"Follow-up After 3 Days",subject:"Still looking for the perfect RV, {{first_name}}?",body:`Hi {{first_name}},

I wanted to follow up on your recent inquiry about our RV inventory. Have you had a chance to think about what type of RV would best suit your needs?

Based on your interests, I'd love to show you:
- {{suggested_models}}

We also have some exciting financing options that might interest you. Would you like to schedule a call this week to discuss your options?

You can reply to this email or call me directly at {{rep_phone}}.

Best regards,
{{rep_name}}`,type:"follow_up",variables:["first_name","suggested_models","rep_phone","rep_name"],isActive:!0,createdAt:new Date("2024-01-01")}];i(te),Nt("renter-insight-email-templates",te)}else i(F);if(B.length===0){const te=[{id:"1",name:"Quick Follow-up",message:"Hi {{first_name}}! This is {{rep_name}} from {{company_name}}. Just wanted to check if you have any questions about the RVs you viewed. Reply STOP to opt out.",type:"follow_up",variables:["first_name","rep_name","company_name"],isActive:!0,createdAt:new Date("2024-01-01")},{id:"2",name:"Appointment Reminder",message:"Hi {{first_name}}! Reminder: Your RV showroom appointment is tomorrow at {{appointment_time}}. See you then! - {{rep_name}}",type:"reminder",variables:["first_name","appointment_time","rep_name"],isActive:!0,createdAt:new Date("2024-01-01")}];o(te),Nt("renter-insight-sms-templates",te)}else o(B);if(z.length===0){const te=[{id:"1",name:"New Lead Welcome Series",description:"Automated welcome sequence for new leads",triggerConditions:[{type:"lead_status",operator:"equals",value:"new"}],steps:[{id:"1",sequenceId:"1",order:1,type:"email",delay:0,content:{subject:"Welcome to {{company_name}}, {{first_name}}!",body:mockEmailTemplates[0].body,template:"1"},isActive:!0},{id:"2",sequenceId:"1",order:2,type:"wait",delay:72,content:{body:"Wait 3 days"},isActive:!0},{id:"3",sequenceId:"1",order:3,type:"email",delay:0,content:{subject:"Still looking for the perfect RV, {{first_name}}?",body:mockEmailTemplates[1].body,template:"2"},isActive:!0},{id:"4",sequenceId:"1",order:4,type:"sms",delay:48,content:{body:mockSmsTemplates[0].message},isActive:!0}],isActive:!0,targetAudience:"New website leads",createdBy:"admin",createdAt:new Date("2024-01-01"),updatedAt:new Date("2024-01-01")}];n(te),Nt("renter-insight-sequences",te)}else n(z);if(se.length===0){const te=[{id:"1",leadId:"1",type:"next_action",title:"Optimal Contact Time Identified",description:"Based on lead behavior patterns, the best time to contact this lead is Tuesday-Thursday between 2-4 PM.",confidence:85,actionable:!0,suggestedActions:["Schedule call for Tuesday 2-4 PM","Send follow-up email on Wednesday morning","Avoid Friday afternoon contact"],metadata:{timeZone:"EST",preferredDays:["Tuesday","Wednesday","Thursday"],preferredHours:[14,15,16]},generatedAt:new Date("2024-01-20"),isRead:!1},{id:"2",leadId:"1",type:"communication_style",title:"Communication Preference Analysis",description:"This lead responds better to detailed, educational content rather than high-pressure sales tactics.",confidence:78,actionable:!0,suggestedActions:["Share educational RV buying guides","Focus on features and benefits","Provide comparison charts","Avoid aggressive closing techniques"],metadata:{preferredStyle:"educational",responseRate:.65,engagementType:"content-focused"},generatedAt:new Date("2024-01-20"),isRead:!1}];u(te),Nt("renter-insight-ai-insights",te)}else u(se);r(H),d(K)},b=async(F,B)=>{var z,H;g(!0);try{const K={id:Math.random().toString(36).substr(2,9),leadId:F,sequenceId:B,currentStepId:((H=(z=e.find(se=>se.id===B))==null?void 0:z.steps[0])==null?void 0:H.id)||"",status:"active",enrolledAt:new Date,nextActionAt:new Date};return r(se=>[...se,K]),await T(K),K}finally{g(!1)}},T=async F=>{const B=e.find(K=>K.id===F.sequenceId);if(!B)return;const z=B.steps.find(K=>K.id===F.currentStepId);if(!z)return;switch(z.type){case"email":await L(F.leadId,z);break;case"sms":await k(F.leadId,z);break;case"wait":const K=new Date;K.setHours(K.getHours()+z.delay),r(se=>se.map(te=>te.id===F.id?{...te,nextActionAt:K}:te));break}const H=B.steps.findIndex(K=>K.id===z.id)+1;if(H<B.steps.length){const K=B.steps[H];r(se=>se.map(te=>te.id===F.id?{...te,currentStepId:K.id}:te))}else r(K=>K.map(se=>se.id===F.id?{...se,status:"completed",completedAt:new Date}:se))},L=async(F,B)=>{const z={id:Math.random().toString(36).substr(2,9),leadId:F,type:"email",direction:"outbound",subject:B.content.subject,content:B.content.body,status:"sent",sentAt:new Date,metadata:{sequenceStep:B.id,template:B.content.template}};d(H=>[...H,z]),setTimeout(()=>{d(H=>H.map(K=>K.id===z.id?{...K,status:"delivered",deliveredAt:new Date}:K))},2e3),setTimeout(()=>{d(H=>H.map(K=>K.id===z.id?{...K,status:"opened",openedAt:new Date}:K))},5e3)},k=async(F,B)=>{const z={id:Math.random().toString(36).substr(2,9),leadId:F,type:"sms",direction:"outbound",content:B.content.body,status:"sent",sentAt:new Date,metadata:{sequenceStep:B.id}};d(H=>[...H,z]),setTimeout(()=>{d(H=>H.map(K=>K.id===z.id?{...K,status:"delivered",deliveredAt:new Date}:K))},1e3)};return{sequences:e,enrollments:s,emailTemplates:a,smsTemplates:l,communicationLogs:c,aiInsights:m,automationRules:p,analytics:v,loading:y,enrollLeadInSequence:b,processNextStep:T,generateAIInsights:async(F,B)=>{var z;g(!0);try{const H=[];B.score>70&&H.push({id:Math.random().toString(36).substr(2,9),leadId:F,type:"next_action",title:"High-Priority Lead - Immediate Action Recommended",description:"This lead has a high score and recent activity. Schedule a personal call within 24 hours.",confidence:92,actionable:!0,suggestedActions:["Schedule personal phone call","Send personalized video message","Invite to exclusive showroom tour"],generatedAt:new Date,isRead:!1});const K=new Date(B.lastActivity),se=Math.floor((Date.now()-K.getTime())/(1e3*60*60*24));return se>7&&H.push({id:Math.random().toString(36).substr(2,9),leadId:F,type:"timing",title:"Re-engagement Opportunity",description:`No activity for ${se} days. Consider a re-engagement campaign.`,confidence:75,actionable:!0,suggestedActions:['Send "We miss you" email',"Offer special incentive","Share new inventory updates"],generatedAt:new Date,isRead:!1}),(z=B.customFields)!=null&&z.budget&&H.push({id:Math.random().toString(36).substr(2,9),leadId:F,type:"content_suggestion",title:"Personalized Content Recommendation",description:`Based on budget range ${B.customFields.budget}, suggest specific RV models and financing options.`,confidence:88,actionable:!0,suggestedActions:["Send budget-specific inventory","Share financing calculator","Provide trade-in valuation"],generatedAt:new Date,isRead:!1}),u(te=>[...te.filter(le=>le.leadId!==F),...H]),H}finally{g(!1)}},createEmailTemplate:async F=>{const B={id:Math.random().toString(36).substr(2,9),name:F.name||"",subject:F.subject||"",body:F.body||"",type:F.type||"custom",variables:F.variables||[],isActive:!0,createdAt:new Date},z=[...a,B];return i(z),Nt("renter-insight-email-templates",z),B},createSMSTemplate:async F=>{const B={id:Math.random().toString(36).substr(2,9),name:F.name||"",message:F.message||"",type:F.type||"custom",variables:F.variables||[],isActive:!0,createdAt:new Date},z=[...l,B];return o(z),Nt("renter-insight-sms-templates",z),B},createNurtureSequence:async F=>{const B={id:Math.random().toString(36).substr(2,9),name:F.name||"",description:F.description||"",triggerConditions:F.triggerConditions||[],steps:F.steps||[],isActive:!0,targetAudience:F.targetAudience||"",createdBy:"current-user",createdAt:new Date,updatedAt:new Date},z=[...e,B];return n(z),Nt("renter-insight-sequences",z),B},updateNurtureSequence:async(F,B)=>{const z=e.map(H=>H.id===F?{...H,...B,updatedAt:new Date}:H);n(z),Nt("renter-insight-sequences",z)},updateEmailTemplate:async(F,B)=>{const z=a.map(H=>H.id===F?{...H,...B}:H);i(z),Nt("renter-insight-email-templates",z)},updateSMSTemplate:async(F,B)=>{const z=l.map(H=>H.id===F?{...H,...B}:H);o(z),Nt("renter-insight-sms-templates",z)},getEnrollmentsByLead:F=>s.filter(B=>B.leadId===F),getCommunicationHistory:F=>c.filter(B=>B.leadId===F).sort((B,z)=>new Date(z.sentAt).getTime()-new Date(B.sentAt).getTime()),getAIInsightsByLead:F=>m.filter(B=>B.leadId===F&&!B.isRead),markInsightAsRead:async F=>{u(B=>B.map(z=>z.id===F?{...z,isRead:!0}:z))},pauseEnrollment:async F=>{r(B=>B.map(z=>z.id===F?{...z,status:"paused"}:z))},resumeEnrollment:async F=>{r(B=>B.map(z=>z.id===F?{...z,status:"active"}:z))}}}function Hk({leadId:e,leadData:n}){var L,k,I;const{aiInsights:s,generateAIInsights:r,markInsightAsRead:a,enrollLeadInSequence:i,sequences:l}=Sw(),[o,c]=f.useState(!1),[d,m]=f.useState("insights"),u=s.filter(w=>w.leadId===e),p=u.filter(w=>!w.isRead),h=w=>{switch(w){case"next_action":return fn;case"communication_style":return Yt;case"timing":return Ke;case"content_suggestion":return PE;case"risk_assessment":return De;default:return fs}},v=w=>{switch(w){case"next_action":return"from-blue-50 to-blue-100/50";case"communication_style":return"from-green-50 to-green-100/50";case"timing":return"from-orange-50 to-orange-100/50";case"content_suggestion":return"from-purple-50 to-purple-100/50";case"risk_assessment":return"from-red-50 to-red-100/50";default:return"from-gray-50 to-gray-100/50"}},j=w=>w>=80?"text-green-600 bg-green-50":w>=60?"text-yellow-600 bg-yellow-50":"text-orange-600 bg-orange-50",y=async()=>{c(!0);try{await r(e,n)}finally{c(!1)}},g=async w=>{await a(w)},x=async w=>{await i(e,w)},T=(w=>{var E;const S=[];if(w.score>80?S.push({type:"High Priority Action",suggestion:"This lead has excellent potential. Schedule a personal call within 24 hours and prepare a customized presentation.",confidence:95,actions:["Schedule immediate call","Prepare custom presentation","Send calendar invite"]}):w.score>60?S.push({type:"Warm Lead Nurturing",suggestion:"Good engagement level. Send educational content about RV ownership and schedule a follow-up in 3-5 days.",confidence:85,actions:["Send RV buying guide","Share customer testimonials","Schedule follow-up"]}):S.push({type:"Lead Warming",suggestion:"Lower engagement detected. Enroll in nurture sequence and focus on value-driven content.",confidence:75,actions:["Enroll in email sequence","Send value content","Monitor engagement"]}),(E=w.customFields)!=null&&E.budget){const N=w.customFields.budget;S.push({type:"Budget-Matched Recommendations",suggestion:`Based on ${N} budget, focus on specific inventory that matches their price range and financing options.`,confidence:90,actions:["Send matching inventory","Discuss financing","Offer trade-in evaluation"]})}const C=Math.floor((Date.now()-new Date(w.createdAt).getTime())/(1e3*60*60*24));return C>7&&S.push({type:"Re-engagement Strategy",suggestion:`Lead is ${C} days old. Implement re-engagement tactics with special offers or new inventory alerts.`,confidence:80,actions:["Send special offer","Share new arrivals","Offer exclusive preview"]}),w.source.toLowerCase().includes("website")&&S.push({type:"Digital-First Approach",suggestion:"Lead came from website - they prefer digital communication. Use email and video messages before phone calls.",confidence:85,actions:["Send welcome email","Create video message","Share virtual tour"]}),S})(n);return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsxs("h3",{className:"text-lg font-semibold flex items-center",children:[t.jsx(fs,{className:"h-5 w-5 mr-2 text-purple-500"}),"AI Insights & Suggestions"]}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"AI-powered recommendations for lead engagement"})]}),t.jsxs($,{onClick:y,disabled:o,size:"sm",children:[t.jsx(fs,{className:"h-4 w-4 mr-2"}),o?"Analyzing...":"Generate Insights"]})]}),t.jsxs(bt,{value:d,onValueChange:m,className:"space-y-4",children:[t.jsxs(jt,{className:"grid w-full grid-cols-3",children:[t.jsxs(je,{value:"insights",className:"relative",children:["AI Insights",p.length>0&&t.jsx(Z,{className:"ml-2 h-5 w-5 rounded-full p-0 text-xs bg-red-500",children:p.length})]}),t.jsx(je,{value:"chatgpt",children:"ChatGPT Suggestions"}),t.jsx(je,{value:"automation",children:"Automation"})]}),t.jsx(we,{value:"insights",className:"space-y-4",children:u.length===0?t.jsx(U,{className:"shadow-sm",children:t.jsxs(W,{className:"flex flex-col items-center justify-center py-12",children:[t.jsx(fs,{className:"h-12 w-12 text-muted-foreground mb-4"}),t.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No AI Insights Yet"}),t.jsx("p",{className:"text-muted-foreground text-center mb-4",children:"Generate AI-powered insights to get personalized recommendations for this lead."}),t.jsxs($,{onClick:y,disabled:o,children:[t.jsx(fs,{className:"h-4 w-4 mr-2"}),"Generate First Insights"]})]})}):t.jsx("div",{className:"space-y-4",children:u.sort((w,S)=>new Date(S.generatedAt).getTime()-new Date(w.generatedAt).getTime()).map(w=>{const S=h(w.type);return t.jsxs(U,{className:ae("shadow-sm border-0 bg-gradient-to-br",v(w.type),!w.isRead&&"ring-2 ring-blue-200"),children:[t.jsx(G,{children:t.jsxs("div",{className:"flex items-start justify-between",children:[t.jsxs("div",{className:"flex items-start space-x-3",children:[t.jsx(S,{className:"h-6 w-6 text-primary mt-1"}),t.jsxs("div",{children:[t.jsx(q,{className:"text-lg",children:w.title}),t.jsx(oe,{className:"mt-1",children:w.description})]})]}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsxs(Z,{className:ae("ri-badge-status",j(w.confidence)),children:[w.confidence,"% confidence"]}),!w.isRead&&t.jsxs($,{variant:"outline",size:"sm",onClick:()=>g(w.id),children:[t.jsx(bn,{className:"h-3 w-3 mr-1"}),"Mark Read"]})]})]})}),w.actionable&&w.suggestedActions&&t.jsx(W,{children:t.jsxs("div",{children:[t.jsx("h4",{className:"font-semibold text-sm mb-2",children:"Suggested Actions:"}),t.jsx("div",{className:"space-y-2",children:w.suggestedActions.map((C,E)=>t.jsxs("div",{className:"flex items-center justify-between p-2 bg-white/50 rounded-md",children:[t.jsx("span",{className:"text-sm",children:C}),t.jsx($,{variant:"outline",size:"sm",children:"Execute"})]},E))})]})})]},w.id)})})}),t.jsxs(we,{value:"chatgpt",className:"space-y-4",children:[t.jsxs(U,{className:"shadow-sm border-0 bg-gradient-to-br from-green-50 to-green-100/50",children:[t.jsx(G,{children:t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("div",{className:"w-8 h-8 bg-green-500 rounded-full flex items-center justify-center",children:t.jsx(fs,{className:"h-4 w-4 text-white"})}),t.jsxs("div",{children:[t.jsx(q,{className:"text-green-900",children:"ChatGPT Analysis"}),t.jsx(oe,{className:"text-green-700",children:"AI-powered lead analysis and action recommendations"})]})]})}),t.jsx(W,{children:t.jsx("div",{className:"space-y-4",children:T.map((w,S)=>t.jsxs("div",{className:"bg-white/70 p-4 rounded-lg",children:[t.jsxs("div",{className:"flex items-start justify-between mb-2",children:[t.jsx("h4",{className:"font-semibold text-green-900",children:w.type}),t.jsxs(Z,{className:"bg-green-100 text-green-700 border-green-200",children:[w.confidence,"% confidence"]})]}),t.jsx("p",{className:"text-sm text-green-800 mb-3",children:w.suggestion}),t.jsxs("div",{className:"space-y-2",children:[t.jsx("h5",{className:"text-xs font-semibold text-green-900 uppercase tracking-wide",children:"Recommended Actions:"}),t.jsx("div",{className:"grid gap-2 md:grid-cols-3",children:w.actions.map((C,E)=>t.jsx($,{variant:"outline",size:"sm",className:"justify-start text-xs bg-white/50 hover:bg-white/80",children:C},E))})]})]},S))})})]}),t.jsxs(U,{className:"shadow-sm",children:[t.jsx(G,{children:t.jsxs(q,{className:"flex items-center",children:[t.jsx(fn,{className:"h-5 w-5 mr-2 text-blue-500"}),"Lead Scoring Analysis"]})}),t.jsx(W,{children:t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"flex items-center justify-between p-3 bg-blue-50 rounded-lg",children:[t.jsxs("div",{children:[t.jsxs("h4",{className:"font-semibold text-blue-900",children:["Current Score: ",n.score]}),t.jsx("p",{className:"text-sm text-blue-700",children:n.score>=80?"Hot Lead - High Priority":n.score>=60?"Warm Lead - Good Potential":n.score>=40?"Cool Lead - Needs Nurturing":"Cold Lead - Long-term Nurturing"})]}),t.jsxs("div",{className:"text-right",children:[t.jsx("div",{className:"text-2xl font-bold text-blue-600",children:n.score}),t.jsx("div",{className:"text-xs text-blue-500",children:"/ 100"})]})]}),t.jsxs("div",{className:"grid gap-3 md:grid-cols-2",children:[t.jsxs("div",{className:"p-3 bg-green-50 rounded-lg",children:[t.jsx("h5",{className:"font-semibold text-green-900 mb-1",children:"Strengths"}),t.jsxs("ul",{className:"text-sm text-green-700 space-y-1",children:[((L=n.customFields)==null?void 0:L.budget)&&t.jsx("li",{children:"• Budget information provided"}),((k=n.customFields)==null?void 0:k.timeframe)&&t.jsx("li",{children:"• Clear purchase timeline"}),n.score>60&&t.jsx("li",{children:"• Good engagement level"}),n.source==="Customer Referral"&&t.jsx("li",{children:"• High-quality referral source"})]})]}),t.jsxs("div",{className:"p-3 bg-orange-50 rounded-lg",children:[t.jsx("h5",{className:"font-semibold text-orange-900 mb-1",children:"Improvement Areas"}),t.jsxs("ul",{className:"text-sm text-orange-700 space-y-1",children:[!((I=n.customFields)!=null&&I.budget)&&t.jsx("li",{children:"• No budget information"}),n.score<60&&t.jsx("li",{children:"• Low engagement level"}),!n.assignedTo&&t.jsx("li",{children:"• No sales rep assigned"}),t.jsx("li",{children:"• Limited activity history"})]})]})]})]})})]})]}),t.jsxs(we,{value:"automation",className:"space-y-4",children:[t.jsxs(U,{className:"shadow-sm",children:[t.jsxs(G,{children:[t.jsxs(q,{className:"flex items-center",children:[t.jsx(Yt,{className:"h-5 w-5 mr-2 text-purple-500"}),"Nurture Sequences"]}),t.jsx(oe,{children:"Enroll this lead in automated nurturing sequences"})]}),t.jsx(W,{children:t.jsx("div",{className:"space-y-4",children:l.filter(w=>w.isActive).map(w=>t.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg hover:bg-accent/50 transition-colors",children:[t.jsxs("div",{className:"flex-1",children:[t.jsx("h4",{className:"font-semibold",children:w.name}),t.jsx("p",{className:"text-sm text-muted-foreground",children:w.description}),t.jsxs("div",{className:"flex items-center space-x-2 mt-2",children:[t.jsxs(Z,{variant:"secondary",className:"text-xs",children:[w.steps.length," steps"]}),t.jsx(Z,{variant:"outline",className:"text-xs",children:w.targetAudience})]})]}),t.jsx($,{onClick:()=>x(w.id),size:"sm",children:"Enroll Lead"})]},w.id))})})]}),t.jsxs(U,{className:"shadow-sm",children:[t.jsx(G,{children:t.jsxs(q,{className:"flex items-center",children:[t.jsx(Ke,{className:"h-5 w-5 mr-2 text-orange-500"}),"Smart Timing Recommendations"]})}),t.jsx(W,{children:t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"p-3 bg-blue-50 rounded-lg",children:[t.jsx("h4",{className:"font-semibold text-blue-900",children:"Best Contact Times"}),t.jsx("p",{className:"text-sm text-blue-700",children:"Based on lead behavior: Tuesday-Thursday, 2-4 PM"})]}),t.jsxs("div",{className:"p-3 bg-green-50 rounded-lg",children:[t.jsx("h4",{className:"font-semibold text-green-900",children:"Email Timing"}),t.jsx("p",{className:"text-sm text-green-700",children:"Send emails Tuesday/Wednesday mornings for best open rates"})]}),t.jsxs("div",{className:"p-3 bg-purple-50 rounded-lg",children:[t.jsx("h4",{className:"font-semibold text-purple-900",children:"Follow-up Schedule"}),t.jsx("p",{className:"text-sm text-purple-700",children:"Next follow-up recommended in 2-3 days based on engagement"})]})]})})]})]})]})]})}function Gk({leadId:e,leadData:n}){const{emailTemplates:s,smsTemplates:r,communicationLogs:a,getCommunicationHistory:i}=Sw(),[l,o]=f.useState("history"),[c,d]=f.useState(""),[m,u]=f.useState(""),[p,h]=f.useState(""),[v,j]=f.useState(""),[y,g]=f.useState(""),[x,b]=f.useState(!1),T=i(e),L=E=>{switch(E){case"sent":return t.jsx(Ma,{className:"h-3 w-3 text-blue-500"});case"delivered":return t.jsx(bn,{className:"h-3 w-3 text-green-500"});case"opened":return t.jsx($n,{className:"h-3 w-3 text-purple-500"});case"clicked":return t.jsx(bn,{className:"h-3 w-3 text-green-600"});case"replied":return t.jsx(Yt,{className:"h-3 w-3 text-blue-600"});case"failed":return t.jsx(Wi,{className:"h-3 w-3 text-red-500"});default:return t.jsx(Ke,{className:"h-3 w-3 text-gray-500"})}},k=E=>{switch(E){case"sent":return"bg-blue-50 text-blue-700 border-blue-200";case"delivered":return"bg-green-50 text-green-700 border-green-200";case"opened":return"bg-purple-50 text-purple-700 border-purple-200";case"clicked":return"bg-green-50 text-green-700 border-green-200";case"replied":return"bg-blue-50 text-blue-700 border-blue-200";case"failed":return"bg-red-50 text-red-700 border-red-200";default:return"bg-gray-50 text-gray-700 border-gray-200"}},I=(E,N)=>{var D;return E.replace(/\{\{first_name\}\}/g,N.firstName).replace(/\{\{last_name\}\}/g,N.lastName).replace(/\{\{company_name\}\}/g,"Renter Insight RV").replace(/\{\{rep_name\}\}/g,"Your Sales Representative").replace(/\{\{rep_phone\}\}/g,"(555) 123-4567").replace(/\{\{website_url\}\}/g,"https://renterinsight.com").replace(/\{\{budget\}\}/g,((D=N.customFields)==null?void 0:D.budget)||"your budget")},w=async()=>{b(!0);try{let E=p,N=v;if(c){const D=s.find(A=>A.id===c);D&&(E=I(D.subject,n),N=I(D.body,n))}await new Promise(D=>setTimeout(D,2e3)),h(""),j(""),d(""),console.log("Email sent:",{subject:E,body:N,to:n.email})}finally{b(!1)}},S=async()=>{b(!0);try{let E=y;if(m){const N=r.find(D=>D.id===m);N&&(E=I(N.message,n))}await new Promise(N=>setTimeout(N,1500)),g(""),u(""),console.log("SMS sent:",{message:E,to:n.phone})}finally{b(!1)}},C=(E,N)=>{if(N==="email"){d(E);const D=s.find(A=>A.id===E);D&&(h(I(D.subject,n)),j(I(D.body,n)))}else{u(E);const D=r.find(A=>A.id===E);D&&g(I(D.message,n))}};return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{children:[t.jsxs("h3",{className:"text-lg font-semibold flex items-center",children:[t.jsx(Yt,{className:"h-5 w-5 mr-2 text-blue-500"}),"Communication Center"]}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"Send emails, SMS, and track communication history"})]}),t.jsxs(bt,{value:l,onValueChange:o,className:"space-y-4",children:[t.jsxs(jt,{className:"grid w-full grid-cols-3",children:[t.jsx(je,{value:"history",children:"History"}),t.jsx(je,{value:"email",children:"Send Email"}),t.jsx(je,{value:"sms",children:"Send SMS"})]}),t.jsx(we,{value:"history",className:"space-y-4",children:t.jsxs(U,{className:"shadow-sm",children:[t.jsxs(G,{children:[t.jsxs(q,{className:"flex items-center",children:[t.jsx(Ke,{className:"h-5 w-5 mr-2"}),"Communication History"]}),t.jsx(oe,{children:"All email and SMS communications with this lead"})]}),t.jsx(W,{children:T.length===0?t.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[t.jsx(Yt,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground/50"}),t.jsx("p",{children:"No communication history yet"}),t.jsx("p",{className:"text-sm",children:"Start by sending an email or SMS"})]}):t.jsx("div",{className:"space-y-4",children:T.map((E,N)=>t.jsxs("div",{className:"relative",children:[N<T.length-1&&t.jsx("div",{className:"absolute left-4 top-12 bottom-0 w-px bg-border"}),t.jsxs("div",{className:"flex items-start space-x-4",children:[t.jsx("div",{className:ae("flex-shrink-0 w-8 h-8 rounded-full border-2 bg-background flex items-center justify-center",E.type==="email"?"border-blue-200":"border-green-200"),children:E.type==="email"?t.jsx($n,{className:"h-4 w-4 text-blue-500"}):t.jsx(Yt,{className:"h-4 w-4 text-green-500"})}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsxs("span",{className:"font-medium text-sm capitalize",children:[E.type," ",E.direction]}),t.jsxs(Z,{className:ae("ri-badge-status text-xs",k(E.status)),children:[L(E.status),t.jsx("span",{className:"ml-1",children:E.status})]})]}),t.jsx("span",{className:"text-xs text-muted-foreground",children:Pe(E.sentAt)})]}),E.subject&&t.jsx("p",{className:"font-medium text-sm mb-1",children:E.subject}),t.jsx("div",{className:"bg-muted/30 p-3 rounded-md",children:t.jsx("p",{className:"text-sm text-muted-foreground whitespace-pre-wrap",children:E.content})}),t.jsxs("div",{className:"flex items-center space-x-4 mt-2 text-xs text-muted-foreground",children:[t.jsxs("span",{children:["Sent: ",Pe(E.sentAt)]}),E.deliveredAt&&t.jsxs("span",{children:["Delivered: ",Pe(E.deliveredAt)]}),E.openedAt&&t.jsxs("span",{children:["Opened: ",Pe(E.openedAt)]}),E.clickedAt&&t.jsxs("span",{children:["Clicked: ",Pe(E.clickedAt)]})]})]})]})]},E.id))})})]})}),t.jsx(we,{value:"email",className:"space-y-4",children:t.jsxs(U,{className:"shadow-sm",children:[t.jsxs(G,{children:[t.jsxs(q,{className:"flex items-center",children:[t.jsx($n,{className:"h-5 w-5 mr-2 text-blue-500"}),"Send Email"]}),t.jsx(oe,{children:"Send personalized emails using templates or custom content"})]}),t.jsxs(W,{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"text-sm font-medium",children:"Email Template (Optional)"}),t.jsxs(ge,{value:c,onValueChange:E=>C(E,"email"),children:[t.jsx(he,{children:t.jsx(ve,{placeholder:"Choose a template or write custom email"})}),t.jsxs(xe,{children:[t.jsx(O,{value:"",children:"Custom Email"}),s.filter(E=>E.isActive).map(E=>t.jsxs(O,{value:E.id,children:[E.name," (",E.type,")"]},E.id))]})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-sm font-medium",children:"To"}),t.jsx(J,{value:n.email,disabled:!0,className:"bg-muted/50"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-sm font-medium",children:"Subject"}),t.jsx(J,{value:p,onChange:E=>h(E.target.value),placeholder:"Enter email subject"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-sm font-medium",children:"Message"}),t.jsx(Ze,{value:v,onChange:E=>j(E.target.value),placeholder:"Enter your email message",rows:8})]}),t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsxs("div",{className:"text-xs text-muted-foreground",children:["Available variables: ",{first_name},", ",{last_name},", ",{company_name},", ",{rep_name}]}),t.jsxs($,{onClick:w,disabled:x||!p||!v,children:[t.jsx(Ma,{className:"h-4 w-4 mr-2"}),x?"Sending...":"Send Email"]})]})]})]})}),t.jsx(we,{value:"sms",className:"space-y-4",children:t.jsxs(U,{className:"shadow-sm",children:[t.jsxs(G,{children:[t.jsxs(q,{className:"flex items-center",children:[t.jsx(Yt,{className:"h-5 w-5 mr-2 text-green-500"}),"Send SMS"]}),t.jsx(oe,{children:"Send text messages using templates or custom content"})]}),t.jsxs(W,{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"text-sm font-medium",children:"SMS Template (Optional)"}),t.jsxs(ge,{value:m,onValueChange:E=>C(E,"sms"),children:[t.jsx(he,{children:t.jsx(ve,{placeholder:"Choose a template or write custom SMS"})}),t.jsxs(xe,{children:[t.jsx(O,{value:"",children:"Custom SMS"}),r.filter(E=>E.isActive).map(E=>t.jsxs(O,{value:E.id,children:[E.name," (",E.type,")"]},E.id))]})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-sm font-medium",children:"To"}),t.jsx(J,{value:n.phone,disabled:!0,className:"bg-muted/50"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-sm font-medium",children:"Message"}),t.jsx(Ze,{value:y,onChange:E=>g(E.target.value),placeholder:"Enter your SMS message",rows:4,maxLength:160}),t.jsxs("div",{className:"flex justify-between items-center mt-1",children:[t.jsxs("div",{className:"text-xs text-muted-foreground",children:[y.length,"/160 characters"]}),t.jsx("div",{className:ae("text-xs",y.length>160?"text-red-500":"text-muted-foreground"),children:y.length>160&&"Message too long"})]})]}),t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsxs("div",{className:"text-xs text-muted-foreground",children:["Available variables: ",{first_name},", ",{company_name},", ",{rep_name}]}),t.jsxs($,{onClick:S,disabled:x||!y||y.length>160,children:[t.jsx(Ma,{className:"h-4 w-4 mr-2"}),x?"Sending...":"Send SMS"]})]})]})]})})]})]})}var Cw={exports:{}};/* @license
Papa Parse
v5.5.3
https://github.com/mholt/PapaParse
License: MIT
*/(function(e,n){((s,r)=>{e.exports=r()})(l1,function s(){var r=typeof self<"u"?self:typeof window<"u"?window:r!==void 0?r:{},a,i=!r.document&&!!r.postMessage,l=r.IS_PAPA_WORKER||!1,o={},c=0,d={};function m(w){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},(function(S){var C=L(S);C.chunkSize=parseInt(C.chunkSize),S.step||S.chunk||(C.chunkSize=null),this._handle=new j(C),(this._handle.streamer=this)._config=C}).call(this,w),this.parseChunk=function(S,C){var E=parseInt(this._config.skipFirstNLines)||0;if(this.isFirstChunk&&0<E){let D=this._config.newline;D||(N=this._config.quoteChar||'"',D=this._handle.guessLineEndings(S,N)),S=[...S.split(D).slice(E)].join(D)}this.isFirstChunk&&I(this._config.beforeFirstChunk)&&(N=this._config.beforeFirstChunk(S))!==void 0&&(S=N),this.isFirstChunk=!1,this._halted=!1;var E=this._partialLine+S,N=(this._partialLine="",this._handle.parse(E,this._baseIndex,!this._finished));if(!this._handle.paused()&&!this._handle.aborted()){if(S=N.meta.cursor,E=(this._finished||(this._partialLine=E.substring(S-this._baseIndex),this._baseIndex=S),N&&N.data&&(this._rowCount+=N.data.length),this._finished||this._config.preview&&this._rowCount>=this._config.preview),l)r.postMessage({results:N,workerId:d.WORKER_ID,finished:E});else if(I(this._config.chunk)&&!C){if(this._config.chunk(N,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);this._completeResults=N=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(N.data),this._completeResults.errors=this._completeResults.errors.concat(N.errors),this._completeResults.meta=N.meta),this._completed||!E||!I(this._config.complete)||N&&N.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),E||N&&N.meta.paused||this._nextChunk(),N}this._halted=!0},this._sendError=function(S){I(this._config.error)?this._config.error(S):l&&this._config.error&&r.postMessage({workerId:d.WORKER_ID,error:S,finished:!1})}}function u(w){var S;(w=w||{}).chunkSize||(w.chunkSize=d.RemoteChunkSize),m.call(this,w),this._nextChunk=i?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(C){this._input=C,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(S=new XMLHttpRequest,this._config.withCredentials&&(S.withCredentials=this._config.withCredentials),i||(S.onload=k(this._chunkLoaded,this),S.onerror=k(this._chunkError,this)),S.open(this._config.downloadRequestBody?"POST":"GET",this._input,!i),this._config.downloadRequestHeaders){var C,E=this._config.downloadRequestHeaders;for(C in E)S.setRequestHeader(C,E[C])}var N;this._config.chunkSize&&(N=this._start+this._config.chunkSize-1,S.setRequestHeader("Range","bytes="+this._start+"-"+N));try{S.send(this._config.downloadRequestBody)}catch(D){this._chunkError(D.message)}i&&S.status===0&&this._chunkError()}},this._chunkLoaded=function(){S.readyState===4&&(S.status<200||400<=S.status?this._chunkError():(this._start+=this._config.chunkSize||S.responseText.length,this._finished=!this._config.chunkSize||this._start>=(C=>(C=C.getResponseHeader("Content-Range"))!==null?parseInt(C.substring(C.lastIndexOf("/")+1)):-1)(S),this.parseChunk(S.responseText)))},this._chunkError=function(C){C=S.statusText||C,this._sendError(new Error(C))}}function p(w){(w=w||{}).chunkSize||(w.chunkSize=d.LocalChunkSize),m.call(this,w);var S,C,E=typeof FileReader<"u";this.stream=function(N){this._input=N,C=N.slice||N.webkitSlice||N.mozSlice,E?((S=new FileReader).onload=k(this._chunkLoaded,this),S.onerror=k(this._chunkError,this)):S=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var N=this._input,D=(this._config.chunkSize&&(D=Math.min(this._start+this._config.chunkSize,this._input.size),N=C.call(N,this._start,D)),S.readAsText(N,this._config.encoding));E||this._chunkLoaded({target:{result:D}})},this._chunkLoaded=function(N){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(N.target.result)},this._chunkError=function(){this._sendError(S.error)}}function h(w){var S;m.call(this,w=w||{}),this.stream=function(C){return S=C,this._nextChunk()},this._nextChunk=function(){var C,E;if(!this._finished)return C=this._config.chunkSize,S=C?(E=S.substring(0,C),S.substring(C)):(E=S,""),this._finished=!S,this.parseChunk(E)}}function v(w){m.call(this,w=w||{});var S=[],C=!0,E=!1;this.pause=function(){m.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){m.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(N){this._input=N,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){E&&S.length===1&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),S.length?this.parseChunk(S.shift()):C=!0},this._streamData=k(function(N){try{S.push(typeof N=="string"?N:N.toString(this._config.encoding)),C&&(C=!1,this._checkIsFinished(),this.parseChunk(S.shift()))}catch(D){this._streamError(D)}},this),this._streamError=k(function(N){this._streamCleanUp(),this._sendError(N)},this),this._streamEnd=k(function(){this._streamCleanUp(),E=!0,this._streamData("")},this),this._streamCleanUp=k(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function j(w){var S,C,E,N,D=Math.pow(2,53),A=-D,_=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,V=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,P=this,R=0,M=0,F=!1,B=!1,z=[],H={data:[],errors:[],meta:{}};function K(ce){return w.skipEmptyLines==="greedy"?ce.join("").trim()==="":ce.length===1&&ce[0].length===0}function se(){if(H&&E&&(le("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+d.DefaultDelimiter+"'"),E=!1),w.skipEmptyLines&&(H.data=H.data.filter(function(Ne){return!K(Ne)})),te()){let Ne=function(Fe,Y){I(w.transformHeader)&&(Fe=w.transformHeader(Fe,Y)),z.push(Fe)};var me=Ne;if(H)if(Array.isArray(H.data[0])){for(var ce=0;te()&&ce<H.data.length;ce++)H.data[ce].forEach(Ne);H.data.splice(0,1)}else H.data.forEach(Ne)}function ue(Ne,Fe){for(var Y=w.header?{}:[],X=0;X<Ne.length;X++){var ne=X,Ee=Ne[X],Ee=((Te,_e)=>(Ue=>(w.dynamicTypingFunction&&w.dynamicTyping[Ue]===void 0&&(w.dynamicTyping[Ue]=w.dynamicTypingFunction(Ue)),(w.dynamicTyping[Ue]||w.dynamicTyping)===!0))(Te)?_e==="true"||_e==="TRUE"||_e!=="false"&&_e!=="FALSE"&&((Ue=>{if(_.test(Ue)&&(Ue=parseFloat(Ue),A<Ue&&Ue<D))return 1})(_e)?parseFloat(_e):V.test(_e)?new Date(_e):_e===""?null:_e):_e)(ne=w.header?X>=z.length?"__parsed_extra":z[X]:ne,Ee=w.transform?w.transform(Ee,ne):Ee);ne==="__parsed_extra"?(Y[ne]=Y[ne]||[],Y[ne].push(Ee)):Y[ne]=Ee}return w.header&&(X>z.length?le("FieldMismatch","TooManyFields","Too many fields: expected "+z.length+" fields but parsed "+X,M+Fe):X<z.length&&le("FieldMismatch","TooFewFields","Too few fields: expected "+z.length+" fields but parsed "+X,M+Fe)),Y}var ee;H&&(w.header||w.dynamicTyping||w.transform)&&(ee=1,!H.data.length||Array.isArray(H.data[0])?(H.data=H.data.map(ue),ee=H.data.length):H.data=ue(H.data,0),w.header&&H.meta&&(H.meta.fields=z),M+=ee)}function te(){return w.header&&z.length===0}function le(ce,ue,ee,me){ce={type:ce,code:ue,message:ee},me!==void 0&&(ce.row=me),H.errors.push(ce)}I(w.step)&&(N=w.step,w.step=function(ce){H=ce,te()?se():(se(),H.data.length!==0&&(R+=ce.data.length,w.preview&&R>w.preview?C.abort():(H.data=H.data[0],N(H,P))))}),this.parse=function(ce,ue,ee){var me=w.quoteChar||'"',me=(w.newline||(w.newline=this.guessLineEndings(ce,me)),E=!1,w.delimiter?I(w.delimiter)&&(w.delimiter=w.delimiter(ce),H.meta.delimiter=w.delimiter):((me=((Ne,Fe,Y,X,ne)=>{var Ee,Te,_e,Ue;ne=ne||[",","	","|",";",d.RECORD_SEP,d.UNIT_SEP];for(var qs=0;qs<ne.length;qs++){for(var Tn,kr=ne[qs],de=0,Ie=0,Me=0,We=(_e=void 0,new g({comments:X,delimiter:kr,newline:Fe,preview:10}).parse(Ne)),ct=0;ct<We.data.length;ct++)Y&&K(We.data[ct])?Me++:(Tn=We.data[ct].length,Ie+=Tn,_e===void 0?_e=Tn:0<Tn&&(de+=Math.abs(Tn-_e),_e=Tn));0<We.data.length&&(Ie/=We.data.length-Me),(Te===void 0||de<=Te)&&(Ue===void 0||Ue<Ie)&&1.99<Ie&&(Te=de,Ee=kr,Ue=Ie)}return{successful:!!(w.delimiter=Ee),bestDelimiter:Ee}})(ce,w.newline,w.skipEmptyLines,w.comments,w.delimitersToGuess)).successful?w.delimiter=me.bestDelimiter:(E=!0,w.delimiter=d.DefaultDelimiter),H.meta.delimiter=w.delimiter),L(w));return w.preview&&w.header&&me.preview++,S=ce,C=new g(me),H=C.parse(S,ue,ee),se(),F?{meta:{paused:!0}}:H||{meta:{paused:!1}}},this.paused=function(){return F},this.pause=function(){F=!0,C.abort(),S=I(w.chunk)?"":S.substring(C.getCharIndex())},this.resume=function(){P.streamer._halted?(F=!1,P.streamer.parseChunk(S,!0)):setTimeout(P.resume,3)},this.aborted=function(){return B},this.abort=function(){B=!0,C.abort(),H.meta.aborted=!0,I(w.complete)&&w.complete(H),S=""},this.guessLineEndings=function(Ne,me){Ne=Ne.substring(0,1048576);var me=new RegExp(y(me)+"([^]*?)"+y(me),"gm"),ee=(Ne=Ne.replace(me,"")).split("\r"),me=Ne.split(`
`),Ne=1<me.length&&me[0].length<ee[0].length;if(ee.length===1||Ne)return`
`;for(var Fe=0,Y=0;Y<ee.length;Y++)ee[Y][0]===`
`&&Fe++;return Fe>=ee.length/2?`\r
`:"\r"}}function y(w){return w.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function g(w){var S=(w=w||{}).delimiter,C=w.newline,E=w.comments,N=w.step,D=w.preview,A=w.fastMode,_=null,V=!1,P=w.quoteChar==null?'"':w.quoteChar,R=P;if(w.escapeChar!==void 0&&(R=w.escapeChar),(typeof S!="string"||-1<d.BAD_DELIMITERS.indexOf(S))&&(S=","),E===S)throw new Error("Comment character same as delimiter");E===!0?E="#":(typeof E!="string"||-1<d.BAD_DELIMITERS.indexOf(E))&&(E=!1),C!==`
`&&C!=="\r"&&C!==`\r
`&&(C=`
`);var M=0,F=!1;this.parse=function(B,z,H){if(typeof B!="string")throw new Error("Input must be a string");var K=B.length,se=S.length,te=C.length,le=E.length,ce=I(N),ue=[],ee=[],me=[],Ne=M=0;if(!B)return de();if(A||A!==!1&&B.indexOf(P)===-1){for(var Fe=B.split(C),Y=0;Y<Fe.length;Y++){if(me=Fe[Y],M+=me.length,Y!==Fe.length-1)M+=C.length;else if(H)return de();if(!E||me.substring(0,le)!==E){if(ce){if(ue=[],Ue(me.split(S)),Ie(),F)return de()}else Ue(me.split(S));if(D&&D<=Y)return ue=ue.slice(0,D),de(!0)}}return de()}for(var X=B.indexOf(S,M),ne=B.indexOf(C,M),Ee=new RegExp(y(R)+y(P),"g"),Te=B.indexOf(P,M);;)if(B[M]===P)for(Te=M,M++;;){if((Te=B.indexOf(P,Te+1))===-1)return H||ee.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:ue.length,index:M}),Tn();if(Te===K-1)return Tn(B.substring(M,Te).replace(Ee,P));if(P===R&&B[Te+1]===R)Te++;else if(P===R||Te===0||B[Te-1]!==R){X!==-1&&X<Te+1&&(X=B.indexOf(S,Te+1));var _e=qs((ne=ne!==-1&&ne<Te+1?B.indexOf(C,Te+1):ne)===-1?X:Math.min(X,ne));if(B.substr(Te+1+_e,se)===S){me.push(B.substring(M,Te).replace(Ee,P)),B[M=Te+1+_e+se]!==P&&(Te=B.indexOf(P,M)),X=B.indexOf(S,M),ne=B.indexOf(C,M);break}if(_e=qs(ne),B.substring(Te+1+_e,Te+1+_e+te)===C){if(me.push(B.substring(M,Te).replace(Ee,P)),kr(Te+1+_e+te),X=B.indexOf(S,M),Te=B.indexOf(P,M),ce&&(Ie(),F))return de();if(D&&ue.length>=D)return de(!0);break}ee.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:ue.length,index:M}),Te++}}else if(E&&me.length===0&&B.substring(M,M+le)===E){if(ne===-1)return de();M=ne+te,ne=B.indexOf(C,M),X=B.indexOf(S,M)}else if(X!==-1&&(X<ne||ne===-1))me.push(B.substring(M,X)),M=X+se,X=B.indexOf(S,M);else{if(ne===-1)break;if(me.push(B.substring(M,ne)),kr(ne+te),ce&&(Ie(),F))return de();if(D&&ue.length>=D)return de(!0)}return Tn();function Ue(Me){ue.push(Me),Ne=M}function qs(Me){var We=0;return We=Me!==-1&&(Me=B.substring(Te+1,Me))&&Me.trim()===""?Me.length:We}function Tn(Me){return H||(Me===void 0&&(Me=B.substring(M)),me.push(Me),M=K,Ue(me),ce&&Ie()),de()}function kr(Me){M=Me,Ue(me),me=[],ne=B.indexOf(C,M)}function de(Me){if(w.header&&!z&&ue.length&&!V){var We=ue[0],ct=Object.create(null),Cs=new Set(We);let Es=!1;for(let ls=0;ls<We.length;ls++){let ln=We[ls];if(ct[ln=I(w.transformHeader)?w.transformHeader(ln,ls):ln]){let Is,Pr=ct[ln];for(;Is=ln+"_"+Pr,Pr++,Cs.has(Is););Cs.add(Is),We[ls]=Is,ct[ln]++,Es=!0,(_=_===null?{}:_)[Is]=ln}else ct[ln]=1,We[ls]=ln;Cs.add(ln)}Es&&console.warn("Duplicate headers found and renamed."),V=!0}return{data:ue,errors:ee,meta:{delimiter:S,linebreak:C,aborted:F,truncated:!!Me,cursor:Ne+(z||0),renamedHeaders:_}}}function Ie(){N(de()),ue=[],ee=[]}},this.abort=function(){F=!0},this.getCharIndex=function(){return M}}function x(w){var S=w.data,C=o[S.workerId],E=!1;if(S.error)C.userError(S.error,S.file);else if(S.results&&S.results.data){var N={abort:function(){E=!0,b(S.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:T,resume:T};if(I(C.userStep)){for(var D=0;D<S.results.data.length&&(C.userStep({data:S.results.data[D],errors:S.results.errors,meta:S.results.meta},N),!E);D++);delete S.results}else I(C.userChunk)&&(C.userChunk(S.results,N,S.file),delete S.results)}S.finished&&!E&&b(S.workerId,S.results)}function b(w,S){var C=o[w];I(C.userComplete)&&C.userComplete(S),C.terminate(),delete o[w]}function T(){throw new Error("Not implemented.")}function L(w){if(typeof w!="object"||w===null)return w;var S,C=Array.isArray(w)?[]:{};for(S in w)C[S]=L(w[S]);return C}function k(w,S){return function(){w.apply(S,arguments)}}function I(w){return typeof w=="function"}return d.parse=function(w,S){var C=(S=S||{}).dynamicTyping||!1;if(I(C)&&(S.dynamicTypingFunction=C,C={}),S.dynamicTyping=C,S.transform=!!I(S.transform)&&S.transform,!S.worker||!d.WORKERS_SUPPORTED)return C=null,d.NODE_STREAM_INPUT,typeof w=="string"?(w=(E=>E.charCodeAt(0)!==65279?E:E.slice(1))(w),C=new(S.download?u:h)(S)):w.readable===!0&&I(w.read)&&I(w.on)?C=new v(S):(r.File&&w instanceof File||w instanceof Object)&&(C=new p(S)),C.stream(w);(C=(()=>{var E;return!!d.WORKERS_SUPPORTED&&(E=(()=>{var N=r.URL||r.webkitURL||null,D=s.toString();return d.BLOB_URL||(d.BLOB_URL=N.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",D,")();"],{type:"text/javascript"})))})(),(E=new r.Worker(E)).onmessage=x,E.id=c++,o[E.id]=E)})()).userStep=S.step,C.userChunk=S.chunk,C.userComplete=S.complete,C.userError=S.error,S.step=I(S.step),S.chunk=I(S.chunk),S.complete=I(S.complete),S.error=I(S.error),delete S.worker,C.postMessage({input:w,config:S,workerId:C.id})},d.unparse=function(w,S){var C=!1,E=!0,N=",",D=`\r
`,A='"',_=A+A,V=!1,P=null,R=!1,M=((()=>{if(typeof S=="object"){if(typeof S.delimiter!="string"||d.BAD_DELIMITERS.filter(function(z){return S.delimiter.indexOf(z)!==-1}).length||(N=S.delimiter),typeof S.quotes!="boolean"&&typeof S.quotes!="function"&&!Array.isArray(S.quotes)||(C=S.quotes),typeof S.skipEmptyLines!="boolean"&&typeof S.skipEmptyLines!="string"||(V=S.skipEmptyLines),typeof S.newline=="string"&&(D=S.newline),typeof S.quoteChar=="string"&&(A=S.quoteChar),typeof S.header=="boolean"&&(E=S.header),Array.isArray(S.columns)){if(S.columns.length===0)throw new Error("Option columns is empty");P=S.columns}S.escapeChar!==void 0&&(_=S.escapeChar+A),S.escapeFormulae instanceof RegExp?R=S.escapeFormulae:typeof S.escapeFormulae=="boolean"&&S.escapeFormulae&&(R=/^[=+\-@\t\r].*$/)}})(),new RegExp(y(A),"g"));if(typeof w=="string"&&(w=JSON.parse(w)),Array.isArray(w)){if(!w.length||Array.isArray(w[0]))return F(null,w,V);if(typeof w[0]=="object")return F(P||Object.keys(w[0]),w,V)}else if(typeof w=="object")return typeof w.data=="string"&&(w.data=JSON.parse(w.data)),Array.isArray(w.data)&&(w.fields||(w.fields=w.meta&&w.meta.fields||P),w.fields||(w.fields=Array.isArray(w.data[0])?w.fields:typeof w.data[0]=="object"?Object.keys(w.data[0]):[]),Array.isArray(w.data[0])||typeof w.data[0]=="object"||(w.data=[w.data])),F(w.fields||[],w.data||[],V);throw new Error("Unable to serialize unrecognized input");function F(z,H,K){var se="",te=(typeof z=="string"&&(z=JSON.parse(z)),typeof H=="string"&&(H=JSON.parse(H)),Array.isArray(z)&&0<z.length),le=!Array.isArray(H[0]);if(te&&E){for(var ce=0;ce<z.length;ce++)0<ce&&(se+=N),se+=B(z[ce],ce);0<H.length&&(se+=D)}for(var ue=0;ue<H.length;ue++){var ee=(te?z:H[ue]).length,me=!1,Ne=te?Object.keys(H[ue]).length===0:H[ue].length===0;if(K&&!te&&(me=K==="greedy"?H[ue].join("").trim()==="":H[ue].length===1&&H[ue][0].length===0),K==="greedy"&&te){for(var Fe=[],Y=0;Y<ee;Y++){var X=le?z[Y]:Y;Fe.push(H[ue][X])}me=Fe.join("").trim()===""}if(!me){for(var ne=0;ne<ee;ne++){0<ne&&!Ne&&(se+=N);var Ee=te&&le?z[ne]:ne;se+=B(H[ue][Ee],ne)}ue<H.length-1&&(!K||0<ee&&!Ne)&&(se+=D)}}return se}function B(z,H){var K,se;return z==null?"":z.constructor===Date?JSON.stringify(z).slice(1,25):(se=!1,R&&typeof z=="string"&&R.test(z)&&(z="'"+z,se=!0),K=z.toString().replace(M,_),(se=se||C===!0||typeof C=="function"&&C(z,H)||Array.isArray(C)&&C[H]||((te,le)=>{for(var ce=0;ce<le.length;ce++)if(-1<te.indexOf(le[ce]))return!0;return!1})(K,d.BAD_DELIMITERS)||-1<K.indexOf(N)||K.charAt(0)===" "||K.charAt(K.length-1)===" ")?A+K+A:K)}},d.RECORD_SEP=String.fromCharCode(30),d.UNIT_SEP=String.fromCharCode(31),d.BYTE_ORDER_MARK="\uFEFF",d.BAD_DELIMITERS=["\r",`
`,'"',d.BYTE_ORDER_MARK],d.WORKERS_SUPPORTED=!i&&!!r.Worker,d.NODE_STREAM_INPUT=1,d.LocalChunkSize=10485760,d.RemoteChunkSize=5242880,d.DefaultDelimiter=",",d.Parser=g,d.ParserHandle=j,d.NetworkStreamer=u,d.FileStreamer=p,d.StringStreamer=h,d.ReadableStreamStreamer=v,r.jQuery&&((a=r.jQuery).fn.parse=function(w){var S=w.config||{},C=[];return this.each(function(D){if(!(a(this).prop("tagName").toUpperCase()==="INPUT"&&a(this).attr("type").toLowerCase()==="file"&&r.FileReader)||!this.files||this.files.length===0)return!0;for(var A=0;A<this.files.length;A++)C.push({file:this.files[A],inputElem:this,instanceConfig:a.extend({},S)})}),E(),this;function E(){if(C.length===0)I(w.complete)&&w.complete();else{var D,A,_,V,P=C[0];if(I(w.before)){var R=w.before(P.file,P.inputElem);if(typeof R=="object"){if(R.action==="abort")return D="AbortError",A=P.file,_=P.inputElem,V=R.reason,void(I(w.error)&&w.error({name:D},A,_,V));if(R.action==="skip")return void N();typeof R.config=="object"&&(P.instanceConfig=a.extend(P.instanceConfig,R.config))}else if(R==="skip")return void N()}var M=P.instanceConfig.complete;P.instanceConfig.complete=function(F){I(M)&&M(F,P.file,P.inputElem),N()},d.parse(P.file,P.instanceConfig)}}function N(){C.splice(0,1),E()}}),l&&(r.onmessage=function(w){w=w.data,d.WORKER_ID===void 0&&w&&(d.WORKER_ID=w.workerId),typeof w.input=="string"?r.postMessage({workerId:d.WORKER_ID,results:d.parse(w.input,w.config),finished:!0}):(r.File&&w.input instanceof File||w.input instanceof Object)&&(w=d.parse(w.input,w.config))&&r.postMessage({workerId:d.WORKER_ID,results:w,finished:!0})}),(u.prototype=Object.create(m.prototype)).constructor=u,(p.prototype=Object.create(m.prototype)).constructor=p,(h.prototype=Object.create(h.prototype)).constructor=h,(v.prototype=Object.create(m.prototype)).constructor=v,d})})(Cw);var qk=Cw.exports;const Dc=El(qk);function Ol(){const[e,n]=f.useState([]),[s,r]=f.useState(!1);f.useEffect(()=>{a()},[]);const a=()=>{const h=Kt("renter-insight-vehicles",[{id:"1",vin:"1FDXE4FS8KDC12345",make:"Forest River",model:"Georgetown",year:2024,type:be.MOTORHOME,status:Oe.AVAILABLE,price:125e3,cost:95e3,location:"Lot A-15",features:["Slide-out","Generator","Solar Panel"],images:["https://images.pexels.com/photos/1319515/pexels-photo-1319515.jpeg"],customFields:{},createdAt:new Date("2024-01-10"),updatedAt:new Date("2024-01-15")},{id:"2",vin:"1FDXE4FS8KDC67890",make:"Winnebago",model:"View",year:2023,type:be.RV,status:Oe.AVAILABLE,price:89e3,cost:72e3,location:"Lot B-08",features:["Compact Design","Fuel Efficient"],images:["https://images.pexels.com/photos/2506923/pexels-photo-2506923.jpeg"],customFields:{},createdAt:new Date("2024-01-08"),updatedAt:new Date("2024-01-12")},{id:"3",vin:"1FDXE4FS8KDC11111",make:"Jayco",model:"Eagle",year:2024,type:be.FIFTH_WHEEL,status:Oe.AVAILABLE,price:75e3,cost:58e3,location:"Lot C-12",features:["Bunk Beds","Outdoor Kitchen","Fireplace"],images:["https://images.pexels.com/photos/1319515/pexels-photo-1319515.jpeg"],customFields:{},createdAt:new Date("2024-01-05"),updatedAt:new Date("2024-01-10")},{id:"4",vin:"1FDXE4FS8KDC22222",make:"Airstream",model:"Flying Cloud",year:2024,type:be.TRAVEL_TRAILER,status:Oe.AVAILABLE,price:95e3,cost:78e3,location:"Lot D-05",features:["Aluminum Construction","Premium Interior","Smart Technology"],images:["https://images.pexels.com/photos/2506923/pexels-photo-2506923.jpeg"],customFields:{},createdAt:new Date("2024-01-03"),updatedAt:new Date("2024-01-08")},{id:"5",vin:"1FDXE4FS8KDC33333",make:"Grand Design",model:"Momentum",year:2023,type:be.TOY_HAULER,status:Oe.AVAILABLE,price:11e4,cost:88e3,location:"Lot E-18",features:["Garage Space","Fuel Station","Generator"],images:["https://images.pexels.com/photos/1319515/pexels-photo-1319515.jpeg"],customFields:{},createdAt:new Date("2024-01-01"),updatedAt:new Date("2024-01-05")},{id:"6",vin:"MH12345678901234",make:"Clayton Homes",model:"Inspiration",year:2024,type:be.DOUBLE_WIDE,status:Oe.AVAILABLE,price:125e3,cost:95e3,location:"MH Section A-10",features:["3 Bedroom","2 Bathroom","Open Floor Plan","Energy Efficient"],images:["https://images.pexels.com/photos/2506923/pexels-photo-2506923.jpeg"],customFields:{length:"76",width:"28",squareFootage:"2128",constructionType:"Manufactured",roofType:"Shingle",exteriorSiding:"Vinyl",insulationRating:"R-21"},createdAt:new Date("2024-01-15"),updatedAt:new Date("2024-01-15")}]);n(h)},i=h=>{Nt("renter-insight-vehicles",h)};return{vehicles:e,loading:s,getAvailableVehicles:()=>e.filter(h=>h.status===Oe.AVAILABLE),getVehicleById:h=>e.find(v=>v.id===h),updateVehicleStatus:async(h,v)=>{const j=e.map(y=>y.id===h?{...y,status:v,updatedAt:new Date}:y);n(j),i(j)},createVehicle:async h=>{r(!0);try{const v={id:Math.random().toString(36).substr(2,9),vin:h.vin||"",make:h.make||"",model:h.model||"",year:h.year||new Date().getFullYear(),type:h.type||be.RV,status:Oe.AVAILABLE,price:h.price||0,cost:h.cost||0,location:h.location||"",features:h.features||[],images:h.images||[],customFields:h.customFields||{},createdAt:new Date,updatedAt:new Date},j=[...e,v];return n(j),i(j),v}finally{r(!1)}},deleteVehicle:async h=>{const v=e.filter(j=>j.id!==h);n(v),i(v)},importVehiclesFromCSV:async h=>new Promise((v,j)=>{Dc.parse(h,{header:!0,skipEmptyLines:!0,complete:y=>{const g=y.data.map(x=>({vin:x.vin||"",make:x.make||"",model:x.model||"",year:parseInt(x.year)||new Date().getFullYear(),type:x.type||be.RV,status:x.status||Oe.AVAILABLE,price:parseFloat(x.price)||0,cost:parseFloat(x.cost)||0,location:x.location||"",features:x.features?x.features.split(",").map(b=>b.trim()):[],images:[],customFields:{exteriorColor:x.exteriorColor||"",interiorColor:x.interiorColor||"",length:x.length||"",weight:x.weight||"",sleeps:x.sleeps||"",slideouts:x.slideouts||"",fuelType:x.fuelType||"",mileage:x.mileage||"",condition:x.condition||"New"}}));v(g)},error:y=>{j(y)}})}),exportVehiclesToCSV:()=>{const h=e.map(j=>{var y,g,x,b,T,L,k,I,w;return{id:j.id,vin:j.vin,make:j.make,model:j.model,year:j.year,type:j.type,status:j.status,price:j.price,cost:j.cost,location:j.location,features:j.features.join(", "),exteriorColor:((y=j.customFields)==null?void 0:y.exteriorColor)||"",interiorColor:((g=j.customFields)==null?void 0:g.interiorColor)||"",length:((x=j.customFields)==null?void 0:x.length)||"",weight:((b=j.customFields)==null?void 0:b.weight)||"",sleeps:((T=j.customFields)==null?void 0:T.sleeps)||"",slideouts:((L=j.customFields)==null?void 0:L.slideouts)||"",fuelType:((k=j.customFields)==null?void 0:k.fuelType)||"",mileage:((I=j.customFields)==null?void 0:I.mileage)||"",condition:((w=j.customFields)==null?void 0:w.condition)||""}});return Dc.unparse(h)}}}const Ei=[{id:"1",name:"2024 Forest River Georgetown",description:"Class A Motorhome with premium features",price:125e3,category:"motorhome"},{id:"2",name:"Extended Warranty",description:"3-year comprehensive warranty coverage",price:2500,category:"warranty"},{id:"3",name:"Solar Panel Package",description:"400W solar panel system with inverter",price:3500,category:"accessory"},{id:"4",name:"Premium Package",description:"Includes extended warranty, solar panels, and premium interior",price:8e3,category:"bundle",isBundle:!0,bundleItems:[{productId:"2",quantity:1},{productId:"3",quantity:1},{productId:"5",quantity:1}]},{id:"5",name:"Premium Interior Upgrade",description:"Leather seating and premium finishes",price:2200,category:"upgrade"}],Qk=[{id:"1",name:"Bulk Accessory Discount",type:"quantity_discount",conditions:{minQuantity:3},discount:{type:"percentage",value:10},isActive:!0},{id:"2",name:"Premium Bundle Discount",type:"bundle_discount",conditions:{productIds:["4"]},discount:{type:"fixed",value:500},isActive:!0}];function Ew({quote:e,customerId:n,onSave:s,onCancel:r}){const{toast:a}=ot(),{getAvailableVehicles:i,getVehicleById:l}=Ol(),[o,c]=f.useState(!1),[d,m]=f.useState("items"),[u,p]=f.useState({customerId:n,validUntil:new Date(Date.now()+30*24*60*60*1e3),notes:"",terms:"Payment due within 30 days. All sales final.",items:[],subtotal:0,totalDiscount:0,tax:0,taxRate:.08,total:0}),[h,v]=f.useState(""),[j,y]=f.useState(!1),[g,x]=f.useState(""),[b,T]=f.useState({description:"",quantity:1,unitPrice:0,discount:0,discountType:"percentage"}),L=i();f.useEffect(()=>{e&&p(P=>({...P,...e}))},[e]),f.useEffect(()=>{k()},[u.items,u.taxRate]);const k=()=>{const P=u.items.reduce((z,H)=>z+H.total,0),R=u.items.reduce((z,H)=>{const K=H.discountType==="percentage"?H.quantity*H.unitPrice*H.discount/100:H.discount*H.quantity;return z+K},0),M=P-R,F=M*u.taxRate,B=M+F;p(z=>({...z,subtotal:P,totalDiscount:R,tax:F,total:B}))},I=()=>{if(!b.description||!b.unitPrice){a({title:"Validation Error",description:"Description and unit price are required",variant:"destructive"});return}const P={id:Math.random().toString(36).substr(2,9),description:b.description,quantity:b.quantity||1,unitPrice:b.unitPrice||0,discount:b.discount||0,discountType:b.discountType||"percentage",total:C(b)};p(R=>({...R,items:[...R.items,P]})),T({description:"",quantity:1,unitPrice:0,discount:0,discountType:"percentage"}),v(""),y(!1)},w=P=>{const R=l(P);if(!R)return;const M={id:Math.random().toString(36).substr(2,9),productId:R.id,description:`${R.year} ${R.make} ${R.model}`,quantity:1,unitPrice:R.price,discount:0,discountType:"percentage",total:R.price};p(F=>({...F,items:[...F.items,M]})),x(""),a({title:"Vehicle Added",description:`${R.year} ${R.make} ${R.model} added to quote`})},S=P=>{const R=Ei.find(M=>M.id===P);if(R){if(R.isBundle&&R.bundleItems){const M={id:Math.random().toString(36).substr(2,9),productId:R.id,description:R.description,quantity:1,unitPrice:R.price,discount:0,discountType:"percentage",total:R.price,isBundle:!0,bundleItems:R.bundleItems.map(F=>{const B=Ei.find(z=>z.id===F.productId);return{id:Math.random().toString(36).substr(2,9),productId:F.productId,description:(B==null?void 0:B.name)||"",quantity:F.quantity,unitPrice:(B==null?void 0:B.price)||0,discount:0,discountType:"percentage",total:((B==null?void 0:B.price)||0)*F.quantity}})};p(F=>({...F,items:[...F.items,M]}))}else{const M={id:Math.random().toString(36).substr(2,9),productId:R.id,description:R.name,quantity:1,unitPrice:R.price,discount:0,discountType:"percentage",total:R.price};p(F=>({...F,items:[...F.items,M]}))}D()}},C=P=>{const R=P.quantity*P.unitPrice,M=P.discountType==="percentage"?R*(P.discount/100):P.discount*P.quantity;return R-M},E=(P,R)=>{p(M=>({...M,items:M.items.map(F=>{if(F.id===P){const B={...F,...R};return B.total=C(B),B}return F})}))},N=P=>{p(R=>({...R,items:R.items.filter(M=>M.id!==P)}))},D=()=>{const P=u.items.filter(M=>{var F;return((F=Ei.find(B=>B.id===M.productId))==null?void 0:F.category)==="accessory"});P.length>=3&&P.forEach(M=>{E(M.id,{discount:10,discountType:"percentage"})}),u.items.filter(M=>M.isBundle).forEach(M=>{E(M.id,{discount:500,discountType:"fixed"})})},A=async()=>{c(!0);try{await new Promise(B=>setTimeout(B,2e3));const P=_(),R=new Blob([P],{type:"text/plain"}),M=URL.createObjectURL(R),F=document.createElement("a");F.href=M,F.download=`quote-${Date.now()}.txt`,document.body.appendChild(F),F.click(),document.body.removeChild(F),URL.revokeObjectURL(M),a({title:"PDF Generated",description:"Quote PDF has been downloaded successfully"})}catch{a({title:"Error",description:"Failed to generate PDF",variant:"destructive"})}finally{c(!1)}},_=()=>`
QUOTE DOCUMENT
==============

Customer ID: ${u.customerId}
Valid Until: ${u.validUntil.toLocaleDateString()}

LINE ITEMS:
-----------
${u.items.map(P=>{var R;return`
${P.description}
Quantity: ${P.quantity} x ${re(P.unitPrice)}
${P.discount>0?`Discount: ${P.discount}${P.discountType==="percentage"?"%":" fixed"}`:""}
Total: ${re(P.total)}
${P.isBundle?`
  Bundle Items:
  ${((R=P.bundleItems)==null?void 0:R.map(M=>`  - ${M.description} (${M.quantity}x)`).join(`
  `))||""}
`:""}
`}).join(`
`)}

TOTALS:
-------
Subtotal: ${re(u.subtotal)}
Total Discount: ${re(u.totalDiscount)}
Tax (${(u.taxRate*100).toFixed(1)}%): ${re(u.tax)}
TOTAL: ${re(u.total)}

Notes: ${u.notes}
Terms: ${u.terms}
    `,V=async()=>{if(u.items.length===0){a({title:"Validation Error",description:"At least one line item is required",variant:"destructive"});return}c(!0);try{const P={...u,customerId:u.customerId||n};await s(P),a({title:"Success",description:"Quote saved successfully"})}catch{a({title:"Error",description:"Failed to save quote",variant:"destructive"})}finally{c(!1)}};return t.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:t.jsxs(U,{className:"w-full max-w-6xl max-h-[90vh] overflow-y-auto",children:[t.jsx(G,{children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsxs(q,{className:"text-xl flex items-center",children:[t.jsx(Et,{className:"h-5 w-5 mr-2 text-blue-500"}),e?"Edit Quote":"Create Quote"]}),t.jsx(oe,{children:"Build a detailed quote with line items, pricing rules, and bundled products"})]}),t.jsx($,{variant:"ghost",size:"sm",onClick:r,children:t.jsx(nt,{className:"h-4 w-4"})})]})}),t.jsxs(W,{children:[t.jsxs(bt,{value:d,onValueChange:m,className:"space-y-6",children:[t.jsxs(jt,{className:"grid w-full grid-cols-4",children:[t.jsx(je,{value:"items",children:"Line Items"}),t.jsx(je,{value:"products",children:"Products"}),t.jsx(je,{value:"pricing",children:"Pricing Rules"}),t.jsx(je,{value:"details",children:"Quote Details"})]}),t.jsxs(we,{value:"items",className:"space-y-6",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("h3",{className:"text-lg font-semibold",children:"Quote Line Items"}),t.jsxs("div",{className:"flex space-x-2",children:[t.jsxs(ge,{value:g,onValueChange:x,children:[t.jsx(he,{className:"w-64",children:t.jsx(ve,{placeholder:"Add vehicle from inventory"})}),t.jsx(xe,{children:L.map(P=>t.jsxs(O,{value:P.id,children:[P.year," ",P.make," ",P.model," - ",re(P.price)]},P.id))})]}),g&&t.jsxs($,{onClick:()=>w(g),size:"sm",children:[t.jsx(Re,{className:"h-4 w-4 mr-2"}),"Add Vehicle"]}),t.jsxs($,{onClick:()=>y(!0),size:"sm",variant:"outline",children:[t.jsx(Re,{className:"h-4 w-4 mr-2"}),"Custom Item"]})]})]}),j&&t.jsx(U,{className:"border-dashed",children:t.jsxs(W,{className:"pt-6",children:[t.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[t.jsxs("div",{children:[t.jsx(Q,{children:"Description"}),t.jsx(J,{value:b.description||"",onChange:P=>T(R=>({...R,description:P.target.value})),placeholder:"Item description"})]}),t.jsxs("div",{children:[t.jsx(Q,{children:"Unit Price"}),t.jsx(J,{type:"number",value:b.unitPrice||"",onChange:P=>T(R=>({...R,unitPrice:parseFloat(P.target.value)||0})),placeholder:"0.00"})]}),t.jsxs("div",{children:[t.jsx(Q,{children:"Quantity"}),t.jsx(J,{type:"number",value:b.quantity||1,onChange:P=>T(R=>({...R,quantity:parseInt(P.target.value)||1})),min:"1"})]}),t.jsxs("div",{children:[t.jsx(Q,{children:"Discount"}),t.jsxs("div",{className:"flex space-x-2",children:[t.jsx(J,{type:"number",value:b.discount||0,onChange:P=>T(R=>({...R,discount:parseFloat(P.target.value)||0})),placeholder:"0"}),t.jsxs(ge,{value:b.discountType,onValueChange:P=>T(R=>({...R,discountType:P})),children:[t.jsx(he,{className:"w-32",children:t.jsx(ve,{})}),t.jsxs(xe,{children:[t.jsx(O,{value:"percentage",children:"%"}),t.jsx(O,{value:"fixed",children:"$"})]})]})]})]})]}),t.jsxs("div",{className:"flex justify-end space-x-2 mt-4",children:[t.jsx($,{variant:"outline",onClick:()=>y(!1),children:"Cancel"}),t.jsx($,{onClick:I,children:"Add Item"})]})]})}),t.jsxs("div",{className:"space-y-4",children:[u.items.map((P,R)=>t.jsx(U,{className:"shadow-sm",children:t.jsxs(W,{className:"pt-6",children:[t.jsxs("div",{className:"flex items-start justify-between",children:[t.jsxs("div",{className:"flex-1 grid gap-4 md:grid-cols-4",children:[t.jsxs("div",{children:[t.jsx(Q,{children:"Description"}),t.jsx(J,{value:P.description,onChange:M=>E(P.id,{description:M.target.value})}),P.isBundle&&t.jsxs(Z,{className:"mt-1 bg-purple-50 text-purple-700 border-purple-200",children:[t.jsx(Xt,{className:"h-3 w-3 mr-1"}),"Bundle"]})]}),t.jsxs("div",{children:[t.jsx(Q,{children:"Quantity"}),t.jsx(J,{type:"number",value:P.quantity,onChange:M=>E(P.id,{quantity:parseInt(M.target.value)||1}),min:"1"})]}),t.jsxs("div",{children:[t.jsx(Q,{children:"Unit Price"}),t.jsx(J,{type:"number",value:P.unitPrice,onChange:M=>E(P.id,{unitPrice:parseFloat(M.target.value)||0}),step:"0.01"})]}),t.jsxs("div",{children:[t.jsx(Q,{children:"Discount"}),t.jsxs("div",{className:"flex space-x-2",children:[t.jsx(J,{type:"number",value:P.discount,onChange:M=>E(P.id,{discount:parseFloat(M.target.value)||0}),step:"0.01"}),t.jsxs(ge,{value:P.discountType,onValueChange:M=>E(P.id,{discountType:M}),children:[t.jsx(he,{className:"w-16",children:t.jsx(ve,{})}),t.jsxs(xe,{children:[t.jsx(O,{value:"percentage",children:"%"}),t.jsx(O,{value:"fixed",children:"$"})]})]})]})]})]}),t.jsxs("div",{className:"flex items-center space-x-3 ml-4",children:[t.jsxs("div",{className:"text-right",children:[t.jsx("div",{className:"text-sm text-muted-foreground",children:"Total"}),t.jsx("div",{className:"font-bold text-lg",children:re(P.total)})]}),t.jsx($,{variant:"outline",size:"sm",onClick:()=>N(P.id),children:t.jsx(Un,{className:"h-4 w-4"})})]})]}),P.isBundle&&P.bundleItems&&t.jsxs("div",{className:"mt-4 pl-4 border-l-2 border-purple-200",children:[t.jsx("h4",{className:"text-sm font-semibold text-purple-700 mb-2",children:"Bundle Contents:"}),t.jsx("div",{className:"space-y-2",children:P.bundleItems.map(M=>t.jsxs("div",{className:"flex items-center justify-between text-sm bg-purple-50 p-2 rounded",children:[t.jsx("span",{children:M.description}),t.jsxs("span",{children:[M.quantity,"x ",re(M.unitPrice)]})]},M.id))})]})]})},P.id)),u.items.length===0&&t.jsxs("div",{className:"text-center py-12 text-muted-foreground border-2 border-dashed rounded-lg",children:[t.jsx(Et,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground/50"}),t.jsx("p",{children:"No line items added yet"}),t.jsx("p",{className:"text-sm",children:"Add products or custom items to build your quote"})]})]}),u.items.length>0&&t.jsx(U,{className:"bg-muted/30",children:t.jsx(W,{className:"pt-6",children:t.jsxs("div",{className:"space-y-2",children:[t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{children:"Subtotal:"}),t.jsx("span",{children:re(u.subtotal)})]}),t.jsxs("div",{className:"flex justify-between text-red-600",children:[t.jsx("span",{children:"Total Discount:"}),t.jsxs("span",{children:["-",re(u.totalDiscount)]})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsxs("span",{children:["Tax (",(u.taxRate*100).toFixed(1),"%):"]}),t.jsx("span",{children:re(u.tax)})]}),t.jsxs("div",{className:"flex justify-between text-lg font-bold border-t pt-2",children:[t.jsx("span",{children:"Total:"}),t.jsx("span",{children:re(u.total)})]})]})})})]}),t.jsx(we,{value:"products",className:"space-y-6",children:t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Available Inventory & Products"}),t.jsxs("div",{className:"mb-8",children:[t.jsx("h4",{className:"text-md font-semibold mb-3 text-blue-600",children:"Available Vehicles"}),t.jsx("div",{className:"grid gap-4 md:grid-cols-2",children:L.map(P=>t.jsx(U,{className:"shadow-sm hover:shadow-md transition-shadow cursor-pointer",children:t.jsx(W,{className:"pt-6",children:t.jsxs("div",{className:"flex items-start justify-between",children:[t.jsxs("div",{className:"flex-1",children:[t.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[t.jsxs("h4",{className:"font-semibold",children:[P.year," ",P.make," ",P.model]}),t.jsx(Z,{className:"bg-blue-50 text-blue-700 border-blue-200",children:P.type.replace("_"," ").toUpperCase()})]}),t.jsxs("p",{className:"text-sm text-muted-foreground mb-2",children:["VIN: ",P.vin]}),t.jsxs("p",{className:"text-sm text-muted-foreground mb-2",children:["Location: ",P.location]}),t.jsx("div",{className:"text-lg font-bold text-primary",children:re(P.price)}),P.features.length>0&&t.jsx("div",{className:"mt-3",children:t.jsxs("div",{className:"flex flex-wrap gap-1",children:[P.features.slice(0,3).map((R,M)=>t.jsx(Z,{variant:"outline",className:"text-xs",children:R},M)),P.features.length>3&&t.jsxs(Z,{variant:"outline",className:"text-xs",children:["+",P.features.length-3," more"]})]})})]}),t.jsxs($,{onClick:()=>w(P.id),size:"sm",className:"ml-4",children:[t.jsx(Re,{className:"h-4 w-4 mr-1"}),"Add"]})]})})},P.id))})]}),t.jsxs("div",{children:[t.jsx("h4",{className:"text-md font-semibold mb-3 text-green-600",children:"Available Products & Services"}),t.jsx("div",{className:"grid gap-4 md:grid-cols-2",children:Ei.map(P=>t.jsx(U,{className:"shadow-sm hover:shadow-md transition-shadow cursor-pointer",children:t.jsx(W,{className:"pt-6",children:t.jsxs("div",{className:"flex items-start justify-between",children:[t.jsxs("div",{className:"flex-1",children:[t.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[t.jsx("h4",{className:"font-semibold",children:P.name}),P.isBundle&&t.jsxs(Z,{className:"bg-purple-50 text-purple-700 border-purple-200",children:[t.jsx(Xt,{className:"h-3 w-3 mr-1"}),"Bundle"]})]}),t.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:P.description}),t.jsx("div",{className:"text-lg font-bold text-primary",children:re(P.price)}),P.isBundle&&P.bundleItems&&t.jsxs("div",{className:"mt-3 p-2 bg-purple-50 rounded",children:[t.jsx("div",{className:"text-xs font-semibold text-purple-700 mb-1",children:"Includes:"}),P.bundleItems.map(R=>{const M=Ei.find(F=>F.id===R.productId);return t.jsxs("div",{className:"text-xs text-purple-600",children:["• ",M==null?void 0:M.name," (",R.quantity,"x)"]},R.productId)})]})]}),t.jsxs($,{onClick:()=>S(P.id),size:"sm",className:"ml-4",children:[t.jsx(Re,{className:"h-4 w-4 mr-1"}),"Add"]})]})})},P.id))})]})]})}),t.jsx(we,{value:"pricing",className:"space-y-6",children:t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Active Pricing Rules"}),t.jsx("div",{className:"space-y-4",children:Qk.filter(P=>P.isActive).map(P=>t.jsx(U,{className:"shadow-sm",children:t.jsx(W,{className:"pt-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("h4",{className:"font-semibold",children:P.name}),t.jsxs("p",{className:"text-sm text-muted-foreground",children:[P.type==="quantity_discount"&&`Min quantity: ${P.conditions.minQuantity}`,P.type==="bundle_discount"&&"Applied to bundle products",P.type==="customer_discount"&&`Customer type: ${P.conditions.customerType}`]}),t.jsx("div",{className:"flex items-center space-x-2 mt-2",children:t.jsxs(Z,{className:"bg-green-50 text-green-700 border-green-200",children:[t.jsx(OE,{className:"h-3 w-3 mr-1"}),P.discount.type==="percentage"?`${P.discount.value}%`:re(P.discount.value)," off"]})})]}),t.jsxs($,{variant:"outline",size:"sm",onClick:()=>D(),children:[t.jsx(fl,{className:"h-4 w-4 mr-1"}),"Apply"]})]})})},P.id))})]})}),t.jsxs(we,{value:"details",className:"space-y-6",children:[t.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[t.jsxs("div",{children:[t.jsx(Q,{htmlFor:"validUntil",children:"Valid Until"}),t.jsx(J,{id:"validUntil",type:"date",value:u.validUntil.toISOString().split("T")[0],onChange:P=>p(R=>({...R,validUntil:new Date(P.target.value)}))})]}),t.jsxs("div",{children:[t.jsx(Q,{htmlFor:"taxRate",children:"Tax Rate (%)"}),t.jsx(J,{id:"taxRate",type:"number",value:(u.taxRate*100).toFixed(2),onChange:P=>p(R=>({...R,taxRate:parseFloat(P.target.value)/100||0})),step:"0.01",min:"0",max:"100"})]})]}),t.jsxs("div",{children:[t.jsx(Q,{htmlFor:"notes",children:"Notes"}),t.jsx(Ze,{id:"notes",value:u.notes,onChange:P=>p(R=>({...R,notes:P.target.value})),placeholder:"Additional notes for the customer...",rows:3})]}),t.jsxs("div",{children:[t.jsx(Q,{htmlFor:"terms",children:"Terms & Conditions"}),t.jsx(Ze,{id:"terms",value:u.terms,onChange:P=>p(R=>({...R,terms:P.target.value})),placeholder:"Terms and conditions...",rows:4})]})]})]}),t.jsxs("div",{className:"flex justify-between items-center pt-6 border-t",children:[t.jsx("div",{className:"flex space-x-2",children:t.jsxs($,{variant:"outline",onClick:A,disabled:o||u.items.length===0,children:[t.jsx(Vs,{className:"h-4 w-4 mr-2"}),o?"Generating...":"Export PDF"]})}),t.jsxs("div",{className:"flex space-x-3",children:[t.jsx($,{variant:"outline",onClick:r,disabled:o,children:"Cancel"}),t.jsx($,{onClick:V,disabled:o,children:o?t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Saving..."]}):t.jsxs(t.Fragment,{children:[t.jsx(Dn,{className:"h-4 w-4 mr-2"}),"Save Quote"]})})]})]})]})]})})}function Kk(){const[e,n]=f.useState([]),[s,r]=f.useState([]),[a,i]=f.useState([]),[l,o]=f.useState(!1);f.useEffect(()=>{c()},[]);const c=()=>{const k=Kt("renter-insight-quotes",[]);n(k);const I=[{id:"1",name:"2024 Forest River Georgetown",description:"Class A Motorhome with premium features",price:125e3,category:"motorhome"},{id:"2",name:"Extended Warranty",description:"3-year comprehensive warranty coverage",price:2500,category:"warranty"},{id:"3",name:"Solar Panel Package",description:"400W solar panel system with inverter",price:3500,category:"accessory"},{id:"4",name:"Premium Package",description:"Includes extended warranty, solar panels, and premium interior",price:8e3,category:"bundle",isBundle:!0,bundleItems:[{productId:"2",quantity:1},{productId:"3",quantity:1},{productId:"5",quantity:1}]},{id:"5",name:"Premium Interior Upgrade",description:"Leather seating and premium finishes",price:2200,category:"upgrade"},{id:"6",name:"Backup Camera System",description:"Wireless backup camera with monitor",price:450,category:"accessory"},{id:"7",name:"Awning Package",description:"Electric awning with LED lighting",price:1200,category:"accessory"}],w=[{id:"1",name:"Bulk Accessory Discount",type:"quantity_discount",conditions:{minQuantity:3},discount:{type:"percentage",value:10},isActive:!0},{id:"2",name:"Premium Bundle Discount",type:"bundle_discount",conditions:{productIds:["4"]},discount:{type:"fixed",value:500},isActive:!0},{id:"3",name:"First-Time Buyer Discount",type:"customer_discount",conditions:{customerType:"first_time"},discount:{type:"percentage",value:5},isActive:!0}];r(I),i(w)},d=k=>{Nt("renter-insight-quotes",k)},m=async k=>{o(!0);try{const I={id:Math.random().toString(36).substr(2,9),customerId:k.customerId||"",items:k.items||[],subtotal:k.subtotal||0,totalDiscount:k.totalDiscount||0,tax:k.tax||0,taxRate:k.taxRate||.08,total:k.total||0,status:"draft",validUntil:k.validUntil||new Date(Date.now()+2592e6),notes:k.notes||"",terms:k.terms||"",createdAt:new Date,updatedAt:new Date},w=[...e,I];return n(w),d(w),I}finally{o(!1)}},u=async(k,I)=>{o(!0);try{const w=e.map(S=>S.id===k?{...S,...I,updatedAt:new Date}:S);return n(w),d(w),w.find(S=>S.id===k)}finally{o(!1)}};return{quotes:e,products:s,pricingRules:a,loading:l,createQuote:m,updateQuote:u,deleteQuote:async k=>{const I=e.filter(w=>w.id!==k);n(I),d(I)},duplicateQuote:async k=>{const I=e.find(C=>C.id===k);if(!I)return;const w={...I,id:Math.random().toString(36).substr(2,9),status:"draft",createdAt:new Date,updatedAt:new Date},S=[...e,w];return n(S),d(S),w},sendQuote:async k=>u(k,{status:"sent"}),acceptQuote:async k=>u(k,{status:"accepted"}),rejectQuote:async k=>u(k,{status:"rejected"}),calculateQuoteTotals:(k,I=.08)=>{const w=k.reduce((D,A)=>D+A.total,0),S=k.reduce((D,A)=>{const _=A.discountType==="percentage"?A.quantity*A.unitPrice*A.discount/100:A.discount*A.quantity;return D+_},0),C=w-S,E=C*I,N=C+E;return{subtotal:w,totalDiscount:S,tax:E,total:N}},applyPricingRules:(k,I)=>{let w=[...k];return a.forEach(S=>{if(S.isActive)switch(S.type){case"quantity_discount":if(S.conditions.minQuantity){const C=w.filter(E=>{var N;return((N=s.find(D=>D.id===E.productId))==null?void 0:N.category)==="accessory"});C.length>=S.conditions.minQuantity&&(w=w.map(E=>C.includes(E)?{...E,discount:S.discount.value,discountType:S.discount.type}:E))}break;case"bundle_discount":S.conditions.productIds&&(w=w.map(C=>{var E;return C.isBundle&&((E=S.conditions.productIds)!=null&&E.includes(C.productId||""))?{...C,discount:S.discount.value,discountType:S.discount.type}:C}));break}}),w},getQuotesByCustomer:k=>e.filter(I=>I.customerId===k),getQuotesByStatus:k=>e.filter(I=>I.status===k),getExpiredQuotes:()=>{const k=new Date;return e.filter(I=>new Date(I.validUntil)<k&&I.status!=="accepted")}}}function Yk({quote:e,onClose:n,onEdit:s}){const r=a=>{switch(a){case"draft":return"bg-gray-50 text-gray-700 border-gray-200";case"sent":return"bg-blue-50 text-blue-700 border-blue-200";case"viewed":return"bg-yellow-50 text-yellow-700 border-yellow-200";case"accepted":return"bg-green-50 text-green-700 border-green-200";case"rejected":return"bg-red-50 text-red-700 border-red-200";case"expired":return"bg-orange-50 text-orange-700 border-orange-200";default:return"bg-gray-50 text-gray-700 border-gray-200"}};return t.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:t.jsxs(U,{className:"w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[t.jsx(G,{children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsxs(q,{className:"text-xl",children:["Quote #",e.id]}),t.jsx(oe,{children:"Quote details and line items"})]}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsxs($,{onClick:()=>s(e),size:"sm",children:[t.jsx(zt,{className:"h-4 w-4 mr-2"}),"Edit Quote"]}),t.jsx($,{variant:"ghost",size:"sm",onClick:n,children:t.jsx(nt,{className:"h-4 w-4"})})]})]})}),t.jsxs(W,{className:"space-y-6",children:[t.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[t.jsxs("div",{children:[t.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Customer ID"}),t.jsx("p",{className:"font-medium",children:e.customerId})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Status"}),t.jsx("div",{className:"mt-1",children:t.jsx(Z,{className:ae("ri-badge-status",r(e.status)),children:e.status.toUpperCase()})})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Created Date"}),t.jsx("p",{className:"font-medium",children:Pe(e.createdAt)})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Valid Until"}),t.jsx("p",{className:"font-medium",children:Pe(e.validUntil)})]})]}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Line Items"}),t.jsx("div",{className:"space-y-3",children:e.items.map((a,i)=>t.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[t.jsxs("div",{className:"flex-1",children:[t.jsx("h4",{className:"font-medium",children:a.description}),t.jsxs("p",{className:"text-sm text-muted-foreground",children:["Quantity: ",a.quantity," × ",re(a.unitPrice)]}),a.isBundle&&t.jsx(Z,{className:"mt-1 bg-purple-50 text-purple-700 border-purple-200",children:"Bundle"})]}),t.jsxs("div",{className:"text-right",children:[t.jsx("div",{className:"font-bold text-lg",children:re(a.total)}),a.discount>0&&t.jsxs("div",{className:"text-sm text-green-600",children:["-",a.discountType==="percentage"?`${a.discount}%`:re(a.discount)," discount"]})]})]},a.id))})]}),t.jsx("div",{className:"bg-muted/30 p-4 rounded-lg",children:t.jsxs("div",{className:"space-y-2",children:[t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{children:"Subtotal:"}),t.jsx("span",{children:re(e.subtotal)})]}),e.totalDiscount>0&&t.jsxs("div",{className:"flex justify-between text-green-600",children:[t.jsx("span",{children:"Total Discount:"}),t.jsxs("span",{children:["-",re(e.totalDiscount)]})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{children:"Tax:"}),t.jsx("span",{children:re(e.tax)})]}),t.jsxs("div",{className:"flex justify-between text-lg font-bold border-t pt-2",children:[t.jsx("span",{children:"Total:"}),t.jsx("span",{children:re(e.total)})]})]})}),e.notes&&t.jsxs("div",{children:[t.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Notes"}),t.jsx("div",{className:"mt-1 p-3 bg-muted/30 rounded-md",children:t.jsx("p",{className:"text-sm",children:e.notes})})]}),e.terms&&t.jsxs("div",{children:[t.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Terms & Conditions"}),t.jsx("div",{className:"mt-1 p-3 bg-muted/30 rounded-md",children:t.jsx("p",{className:"text-sm whitespace-pre-wrap",children:e.terms})})]})]})]})})}function Xk(){const{quotes:e,loading:n,createQuote:s,updateQuote:r,deleteQuote:a,duplicateQuote:i,sendQuote:l,acceptQuote:o,rejectQuote:c}=Kk(),{toast:d}=ot(),[m,u]=f.useState(""),[p,h]=f.useState("all"),[v,j]=f.useState(!1),[y,g]=f.useState(null),[x,b]=f.useState(null),[T,L]=f.useState(""),k=P=>{switch(P){case"draft":return"bg-gray-50 text-gray-700 border-gray-200";case"sent":return"bg-blue-50 text-blue-700 border-blue-200";case"viewed":return"bg-yellow-50 text-yellow-700 border-yellow-200";case"accepted":return"bg-green-50 text-green-700 border-green-200";case"rejected":return"bg-red-50 text-red-700 border-red-200";case"expired":return"bg-orange-50 text-orange-700 border-orange-200";default:return"bg-gray-50 text-gray-700 border-gray-200"}},I=e.filter(P=>{const R=P.id.toLowerCase().includes(m.toLowerCase())||P.customerId.toLowerCase().includes(m.toLowerCase()),M=p==="all"||P.status===p;return R&&M}),w=()=>{g(null),L(""),j(!0)},S=P=>{g(P),L(P.customerId),j(!0)},C=P=>{b(P)},E=()=>b(null),N=async P=>{try{y?(await r(y.id,P),d({title:"Success",description:"Quote updated successfully"})):(await s(P),d({title:"Success",description:"Quote created successfully"})),j(!1),g(null)}catch{d({title:"Error",description:"Failed to save quote",variant:"destructive"})}},D=async P=>{try{await l(P),d({title:"Success",description:"Quote sent to customer"})}catch{d({title:"Error",description:"Failed to send quote",variant:"destructive"})}},A=async P=>{try{await i(P),d({title:"Success",description:"Quote duplicated successfully"})}catch{d({title:"Error",description:"Failed to duplicate quote",variant:"destructive"})}},_=async P=>{if(window.confirm("Are you sure you want to delete this quote?"))try{await a(P),d({title:"Success",description:"Quote deleted successfully"})}catch{d({title:"Error",description:"Failed to delete quote",variant:"destructive"})}},V={total:e.length,draft:e.filter(P=>P.status==="draft").length,sent:e.filter(P=>P.status==="sent").length,accepted:e.filter(P=>P.status==="accepted").length,totalValue:e.reduce((P,R)=>P+R.total,0),acceptedValue:e.filter(P=>P.status==="accepted").reduce((P,R)=>P+R.total,0)};return t.jsxs("div",{className:"space-y-8",children:[v&&t.jsx(Ew,{quote:y,customerId:T,onSave:N,onCancel:()=>{j(!1),g(null)}}),x&&t.jsx(Yk,{quote:x,onClose:E,onEdit:S}),t.jsx("div",{className:"ri-page-header",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"ri-page-title",children:"Quote Builder"}),t.jsx("p",{className:"ri-page-description",children:"Create and manage customer quotes with advanced pricing rules"})]}),t.jsxs($,{className:"shadow-sm",onClick:w,children:[t.jsx(Re,{className:"h-4 w-4 mr-2"}),"New Quote"]})]})}),t.jsxs("div",{className:"ri-stats-grid",children:[t.jsxs(U,{className:"shadow-sm border-0 bg-gradient-to-br from-blue-50 to-blue-100/50",children:[t.jsxs(G,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[t.jsx(q,{className:"text-sm font-medium text-blue-900",children:"Total Quotes"}),t.jsx(Et,{className:"h-4 w-4 text-blue-600"})]}),t.jsxs(W,{children:[t.jsx("div",{className:"text-2xl font-bold text-blue-900",children:V.total}),t.jsxs("p",{className:"text-xs text-blue-600 flex items-center mt-1",children:[t.jsx(De,{className:"h-3 w-3 mr-1"}),"All quotes"]})]})]}),t.jsxs(U,{className:"shadow-sm border-0 bg-gradient-to-br from-yellow-50 to-yellow-100/50",children:[t.jsxs(G,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[t.jsx(q,{className:"text-sm font-medium text-yellow-900",children:"Pending"}),t.jsx(Et,{className:"h-4 w-4 text-yellow-600"})]}),t.jsxs(W,{children:[t.jsx("div",{className:"text-2xl font-bold text-yellow-900",children:V.sent}),t.jsxs("p",{className:"text-xs text-yellow-600 flex items-center mt-1",children:[t.jsx(It,{className:"h-3 w-3 mr-1"}),"Awaiting response"]})]})]}),t.jsxs(U,{className:"shadow-sm border-0 bg-gradient-to-br from-green-50 to-green-100/50",children:[t.jsxs(G,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[t.jsx(q,{className:"text-sm font-medium text-green-900",children:"Accepted"}),t.jsx(Et,{className:"h-4 w-4 text-green-600"})]}),t.jsxs(W,{children:[t.jsx("div",{className:"text-2xl font-bold text-green-900",children:V.accepted}),t.jsxs("p",{className:"text-xs text-green-600 flex items-center mt-1",children:[t.jsx(De,{className:"h-3 w-3 mr-1"}),V.total>0?Math.round(V.accepted/V.total*100):0,"% acceptance rate"]})]})]}),t.jsxs(U,{className:"shadow-sm border-0 bg-gradient-to-br from-purple-50 to-purple-100/50",children:[t.jsxs(G,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[t.jsx(q,{className:"text-sm font-medium text-purple-900",children:"Quote Value"}),t.jsx(Ve,{className:"h-4 w-4 text-purple-600"})]}),t.jsxs(W,{children:[t.jsx("div",{className:"text-2xl font-bold text-purple-900",children:re(V.totalValue)}),t.jsxs("p",{className:"text-xs text-purple-600 flex items-center mt-1",children:[t.jsx(Ve,{className:"h-3 w-3 mr-1"}),re(V.acceptedValue)," accepted"]})]})]})]}),t.jsxs("div",{className:"flex gap-4",children:[t.jsxs("div",{className:"ri-search-bar",children:[t.jsx(Lt,{className:"ri-search-icon"}),t.jsx(J,{placeholder:"Search quotes...",value:m,onChange:P=>u(P.target.value),className:"ri-search-input shadow-sm"})]}),t.jsxs(ge,{value:p,onValueChange:h,children:[t.jsx(he,{className:"w-40",children:t.jsx(ve,{placeholder:"Status"})}),t.jsxs(xe,{children:[t.jsx(O,{value:"all",children:"All Status"}),t.jsx(O,{value:"draft",children:"Draft"}),t.jsx(O,{value:"sent",children:"Sent"}),t.jsx(O,{value:"viewed",children:"Viewed"}),t.jsx(O,{value:"accepted",children:"Accepted"}),t.jsx(O,{value:"rejected",children:"Rejected"}),t.jsx(O,{value:"expired",children:"Expired"})]})]}),t.jsxs($,{variant:"outline",className:"shadow-sm",children:[t.jsx(an,{className:"h-4 w-4 mr-2"}),"Filter"]})]}),t.jsxs(U,{className:"shadow-sm",children:[t.jsxs(G,{children:[t.jsxs(q,{className:"text-xl",children:["Quotes (",I.length,")"]}),t.jsx(oe,{children:"Manage customer quotes with advanced pricing and bundling"})]}),t.jsx(W,{children:t.jsxs("div",{className:"space-y-4",children:[I.map(P=>t.jsxs("div",{className:"ri-table-row",children:[t.jsx("div",{className:"flex items-center space-x-4 flex-1",children:t.jsxs("div",{className:"flex-1",children:[t.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[t.jsxs("h3",{className:"font-semibold text-foreground",children:["Quote #",P.id]}),t.jsx(Z,{className:ae("ri-badge-status",k(P.status)),children:P.status.toUpperCase()}),P.items.some(R=>R.isBundle)&&t.jsx(Z,{className:"bg-purple-50 text-purple-700 border-purple-200",children:"Bundle"})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm text-muted-foreground",children:[t.jsxs("div",{children:[t.jsx("span",{className:"font-medium",children:"Customer:"})," ",P.customerId]}),t.jsxs("div",{children:[t.jsx("span",{className:"font-medium",children:"Total:"}),t.jsx("span",{className:"font-bold text-primary ml-1",children:re(P.total)})]}),t.jsxs("div",{children:[t.jsx("span",{className:"font-medium",children:"Created:"})," ",Pe(P.createdAt)]}),t.jsxs("div",{children:[t.jsx("span",{className:"font-medium",children:"Valid Until:"})," ",Pe(P.validUntil)]})]}),t.jsxs("div",{className:"mt-2 bg-muted/30 p-2 rounded-md",children:[t.jsxs("p",{className:"text-sm text-muted-foreground",children:[P.items.length," item(s)",P.totalDiscount>0&&t.jsxs("span",{className:"text-green-600 ml-2",children:["• ",re(P.totalDiscount)," discount applied"]})]}),P.notes&&t.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:[t.jsx("span",{className:"font-medium",children:"Notes:"})," ",P.notes]})]})]})}),t.jsxs("div",{className:"ri-action-buttons",children:[t.jsxs($,{variant:"outline",size:"sm",className:"shadow-sm",onClick:()=>C(P),children:[t.jsx(Ar,{className:"h-3 w-3 mr-1"}),"View"]}),t.jsxs($,{variant:"outline",size:"sm",className:"shadow-sm",onClick:()=>S(P),children:[t.jsx(zt,{className:"h-3 w-3 mr-1"}),"Edit"]}),P.status==="draft"&&t.jsxs($,{variant:"outline",size:"sm",className:"shadow-sm",onClick:()=>D(P.id),children:[t.jsx(Ma,{className:"h-3 w-3 mr-1"}),"Send"]}),t.jsxs($,{variant:"outline",size:"sm",className:"shadow-sm",onClick:()=>A(P.id),children:[t.jsx(bf,{className:"h-3 w-3 mr-1"}),"Copy"]}),t.jsx($,{variant:"outline",size:"sm",className:"shadow-sm text-red-600 hover:text-red-700",onClick:()=>_(P.id),children:t.jsx(Un,{className:"h-3 w-3"})})]})]},P.id)),I.length===0&&t.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[t.jsx(Et,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground/50"}),t.jsx("p",{children:"No quotes found"}),t.jsx("p",{className:"text-sm",children:"Create your first quote to get started"})]})]})})]})]})}function Ng(){var S;const{leads:e,sources:n,activities:s,salesReps:r,updateLeadStatus:a,assignLead:i,getActivitiesByLead:l,getRemindersByUser:o,getLeadScore:c}=da(),[d,m]=f.useState(""),[u,p]=f.useState("all"),[h,v]=f.useState("all"),[j,y]=f.useState("all"),[g,x]=f.useState(null),[b,T]=f.useState(!1),L=C=>{switch(C){case Mt.NEW:return"bg-blue-50 text-blue-700 border-blue-200";case Mt.CONTACTED:return"bg-yellow-50 text-yellow-700 border-yellow-200";case Mt.QUALIFIED:return"bg-green-50 text-green-700 border-green-200";case Mt.PROPOSAL:return"bg-purple-50 text-purple-700 border-purple-200";case Mt.NEGOTIATION:return"bg-orange-50 text-orange-700 border-orange-200";case Mt.CLOSED_WON:return"bg-emerald-50 text-emerald-700 border-emerald-200";case Mt.CLOSED_LOST:return"bg-red-50 text-red-700 border-red-200";default:return"bg-gray-50 text-gray-700 border-gray-200"}},k=C=>C>=80?"text-green-600 bg-green-50":C>=60?"text-yellow-600 bg-yellow-50":C>=40?"text-orange-600 bg-orange-50":"text-red-600 bg-red-50",I=e.filter(C=>{const E=`${C.firstName} ${C.lastName}`.toLowerCase().includes(d.toLowerCase())||C.email.toLowerCase().includes(d.toLowerCase())||C.phone.includes(d),N=u==="all"||C.status===u,D=h==="all"||C.sourceId===h,A=j==="all"||C.assignedTo===j;return E&&N&&D&&A}),w=C=>{console.log("New lead created:",C)};if(g){const C=l(g.id),E=o("current-user").filter(D=>D.leadId===g.id),N=c(g.id);return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx($,{variant:"outline",onClick:()=>x(null),className:"mb-4",children:"← Back to Leads"}),t.jsxs("h1",{className:"ri-page-title",children:[g.firstName," ",g.lastName]}),t.jsx("p",{className:"ri-page-description",children:"Lead details and activity management"})]}),t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx(Z,{className:ae("ri-badge-status",L(g.status)),children:g.status.replace("_"," ").toUpperCase()}),g.score&&t.jsxs(Z,{className:ae("ri-badge-status",k(g.score)),children:["Score: ",g.score]})]})]}),t.jsxs(bt,{defaultValue:"overview",className:"space-y-6",children:[t.jsxs(jt,{className:"grid w-full grid-cols-6",children:[t.jsx(je,{value:"overview",children:"Overview"}),t.jsx(je,{value:"activity",children:"Activity"}),t.jsx(je,{value:"communication",children:"Communication"}),t.jsx(je,{value:"ai-insights",children:"AI Insights"}),t.jsx(je,{value:"nurturing",children:"Nurturing"}),t.jsx(je,{value:"reminders",children:"Reminders"})]}),t.jsx(we,{value:"overview",className:"space-y-6",children:t.jsxs("div",{className:"grid gap-6 md:grid-cols-3",children:[t.jsx("div",{className:"md:col-span-2",children:t.jsxs(U,{className:"shadow-sm",children:[t.jsx(G,{children:t.jsx(q,{children:"Lead Information"})}),t.jsxs(W,{children:[t.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[t.jsxs("div",{children:[t.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Email"}),t.jsx("p",{className:"font-medium",children:g.email})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Phone"}),t.jsx("p",{className:"font-medium",children:g.phone})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Source"}),t.jsx("p",{className:"font-medium",children:g.source})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Assigned To"}),t.jsx("p",{className:"font-medium",children:((S=r.find(D=>D.id===g.assignedTo))==null?void 0:S.name)||"Unassigned"})]}),Object.entries(g.customFields||{}).map(([D,A])=>t.jsxs("div",{children:[t.jsx("label",{className:"text-sm font-medium text-muted-foreground capitalize",children:D.replace(/([A-Z])/g," $1").trim()}),t.jsx("p",{className:"font-medium",children:A})]},D))]}),g.notes&&t.jsxs("div",{className:"mt-4",children:[t.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Notes"}),t.jsx("p",{className:"mt-1 p-3 bg-muted/30 rounded-md",children:g.notes})]})]})]})}),t.jsx("div",{className:"space-y-6",children:N&&t.jsx(kk,{score:N})})]})}),t.jsx(we,{value:"activity",children:t.jsx(Pk,{leadId:g.id,activities:C})}),t.jsx(we,{value:"communication",children:t.jsx(Gk,{leadId:g.id,leadData:g})}),t.jsx(we,{value:"ai-insights",children:t.jsx(Hk,{leadId:g.id,leadData:g})}),t.jsx(we,{value:"nurturing",children:t.jsx("div",{className:"space-y-6",children:t.jsx(wg,{})})}),t.jsx(we,{value:"reminders",children:t.jsx($k,{leadId:g.id,reminders:E})})]})]})}return t.jsxs("div",{className:"space-y-8",children:[b&&t.jsx(Of,{onClose:()=>T(!1),onSuccess:w}),t.jsx("div",{className:"ri-page-header",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"ri-page-title",children:"CRM & Prospecting"}),t.jsx("p",{className:"ri-page-description",children:"Manage leads, track activities, and monitor sales pipeline with AI-powered insights"})]}),t.jsxs($,{className:"shadow-sm",onClick:()=>T(!0),children:[t.jsx(Re,{className:"h-4 w-4 mr-2"}),"Add Lead"]})]})}),t.jsxs("div",{className:"ri-stats-grid",children:[t.jsxs(U,{className:"shadow-sm border-0 bg-gradient-to-br from-blue-50 to-blue-100/50",children:[t.jsxs(G,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[t.jsx(q,{className:"text-sm font-medium text-blue-900",children:"Total Leads"}),t.jsx(Dt,{className:"h-4 w-4 text-blue-600"})]}),t.jsxs(W,{children:[t.jsx("div",{className:"text-2xl font-bold text-blue-900",children:e.length}),t.jsxs("p",{className:"text-xs text-blue-600 flex items-center mt-1",children:[t.jsx(De,{className:"h-3 w-3 mr-1"}),"+12% from last month"]})]})]}),t.jsxs(U,{className:"shadow-sm border-0 bg-gradient-to-br from-yellow-50 to-yellow-100/50",children:[t.jsxs(G,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[t.jsx(q,{className:"text-sm font-medium text-yellow-900",children:"New Leads"}),t.jsx(Dt,{className:"h-4 w-4 text-yellow-600"})]}),t.jsxs(W,{children:[t.jsx("div",{className:"text-2xl font-bold text-yellow-900",children:e.filter(C=>C.status===Mt.NEW).length}),t.jsxs("p",{className:"text-xs text-yellow-600 flex items-center mt-1",children:[t.jsx(De,{className:"h-3 w-3 mr-1"}),"+8% from last week"]})]})]}),t.jsxs(U,{className:"shadow-sm border-0 bg-gradient-to-br from-green-50 to-green-100/50",children:[t.jsxs(G,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[t.jsx(q,{className:"text-sm font-medium text-green-900",children:"Qualified"}),t.jsx(fn,{className:"h-4 w-4 text-green-600"})]}),t.jsxs(W,{children:[t.jsx("div",{className:"text-2xl font-bold text-green-900",children:e.filter(C=>C.status===Mt.QUALIFIED).length}),t.jsxs("p",{className:"text-xs text-green-600 flex items-center mt-1",children:[t.jsx(De,{className:"h-3 w-3 mr-1"}),"+15% from last month"]})]})]}),t.jsxs(U,{className:"shadow-sm border-0 bg-gradient-to-br from-purple-50 to-purple-100/50",children:[t.jsxs(G,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[t.jsx(q,{className:"text-sm font-medium text-purple-900",children:"AI Insights"}),t.jsx(fs,{className:"h-4 w-4 text-purple-600"})]}),t.jsxs(W,{children:[t.jsx("div",{className:"text-2xl font-bold text-purple-900",children:"47"}),t.jsxs("p",{className:"text-xs text-purple-600 flex items-center mt-1",children:[t.jsx(fs,{className:"h-3 w-3 mr-1"}),"Active recommendations"]})]})]})]}),t.jsxs(bt,{defaultValue:"leads",className:"space-y-6",children:[t.jsxs(jt,{className:"grid w-full grid-cols-6",children:[t.jsx(je,{value:"leads",children:"Leads"}),t.jsx(je,{value:"pipeline",children:"Pipeline"}),t.jsx(je,{value:"quotes",children:"Quotes"}),t.jsx(je,{value:"nurturing",children:"Nurturing"}),t.jsx(je,{value:"forms",children:"Intake Forms"}),t.jsx(je,{value:"sources",children:"Sources"})]}),t.jsxs(we,{value:"leads",className:"space-y-6",children:[t.jsxs("div",{className:"flex gap-4",children:[t.jsxs("div",{className:"ri-search-bar",children:[t.jsx(Lt,{className:"ri-search-icon"}),t.jsx(J,{placeholder:"Search leads...",value:d,onChange:C=>m(C.target.value),className:"ri-search-input shadow-sm"})]}),t.jsxs(ge,{value:u,onValueChange:p,children:[t.jsx(he,{className:"w-40",children:t.jsx(ve,{placeholder:"Status"})}),t.jsxs(xe,{children:[t.jsx(O,{value:"all",children:"All Status"}),t.jsx(O,{value:Mt.NEW,children:"New"}),t.jsx(O,{value:Mt.CONTACTED,children:"Contacted"}),t.jsx(O,{value:Mt.QUALIFIED,children:"Qualified"}),t.jsx(O,{value:Mt.PROPOSAL,children:"Proposal"}),t.jsx(O,{value:Mt.NEGOTIATION,children:"Negotiation"}),t.jsx(O,{value:Mt.CLOSED_WON,children:"Closed Won"}),t.jsx(O,{value:Mt.CLOSED_LOST,children:"Closed Lost"})]})]}),t.jsxs(ge,{value:h,onValueChange:v,children:[t.jsx(he,{className:"w-40",children:t.jsx(ve,{placeholder:"Source"})}),t.jsxs(xe,{children:[t.jsx(O,{value:"all",children:"All Sources"}),n.map(C=>t.jsx(O,{value:C.id,children:C.name},C.id))]})]}),t.jsxs(ge,{value:j,onValueChange:y,children:[t.jsx(he,{className:"w-40",children:t.jsx(ve,{placeholder:"Assignee"})}),t.jsxs(xe,{children:[t.jsx(O,{value:"all",children:"All Reps"}),r.map(C=>t.jsx(O,{value:C.id,children:C.name},C.id))]})]}),t.jsxs($,{onClick:()=>T(!0),className:"shadow-sm",children:[t.jsx(Re,{className:"h-4 w-4 mr-2"}),"Add Lead"]})]}),t.jsxs(U,{className:"shadow-sm",children:[t.jsx(G,{children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsxs(q,{className:"text-xl",children:["Leads (",I.length,")"]}),t.jsx(oe,{children:"Manage your sales prospects with AI-powered insights and automated nurturing"})]}),t.jsxs($,{onClick:()=>T(!0),variant:"outline",className:"shadow-sm",children:[t.jsx(Re,{className:"h-4 w-4 mr-2"}),"Add Lead"]})]})}),t.jsx(W,{children:t.jsx("div",{className:"space-y-4",children:I.map(C=>{var E;return t.jsxs("div",{className:"ri-table-row cursor-pointer",onClick:()=>x(C),children:[t.jsx("div",{className:"flex items-center space-x-4 flex-1",children:t.jsxs("div",{className:"flex-1",children:[t.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[t.jsxs("h3",{className:"font-semibold text-foreground",children:[C.firstName," ",C.lastName]}),t.jsx(Z,{className:ae("ri-badge-status",L(C.status)),children:C.status.replace("_"," ").toUpperCase()}),C.score&&t.jsx(Z,{className:ae("ri-badge-status",k(C.score)),children:C.score}),t.jsxs(Z,{variant:"outline",className:"text-xs",children:[t.jsx(fs,{className:"h-3 w-3 mr-1"}),"AI Ready"]})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-2 text-sm text-muted-foreground",children:[t.jsxs("span",{className:"flex items-center",children:[t.jsx($n,{className:"h-3 w-3 mr-2 text-blue-500"}),C.email]}),t.jsxs("span",{className:"flex items-center",children:[t.jsx(wf,{className:"h-3 w-3 mr-2 text-green-500"}),C.phone]}),t.jsxs("span",{className:"flex items-center",children:[t.jsx(Dt,{className:"h-3 w-3 mr-2 text-purple-500"}),((E=r.find(N=>N.id===C.assignedTo))==null?void 0:E.name)||"Unassigned"]}),t.jsxs("span",{className:"flex items-center",children:[t.jsx(It,{className:"h-3 w-3 mr-2 text-orange-500"}),Pe(C.createdAt)]})]}),C.notes&&t.jsx("p",{className:"text-sm text-muted-foreground mt-2 bg-muted/30 p-2 rounded-md",children:C.notes})]})}),t.jsxs("div",{className:"ri-action-buttons",children:[t.jsxs($,{variant:"outline",size:"sm",className:"shadow-sm",onClick:N=>{N.stopPropagation()},children:[t.jsx(Yt,{className:"h-3 w-3 mr-1"}),"Contact"]}),t.jsxs($,{variant:"outline",size:"sm",className:"shadow-sm",onClick:N=>{N.stopPropagation(),x(C)},children:[t.jsx(fs,{className:"h-3 w-3 mr-1"}),"AI Insights"]})]})]},C.id)})})})]})]}),t.jsx(we,{value:"pipeline",children:t.jsx(Nk,{})}),t.jsx(we,{value:"quotes",children:t.jsx(Xk,{})}),t.jsx(we,{value:"nurturing",children:t.jsx(wg,{})}),t.jsx(we,{value:"forms",children:t.jsxs(U,{className:"shadow-sm",children:[t.jsxs(G,{children:[t.jsx(q,{children:"Lead Intake Forms"}),t.jsx(oe,{children:"Create and manage dynamic lead capture forms"})]}),t.jsx(W,{children:t.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"Form builder coming soon..."})})]})}),t.jsx(we,{value:"sources",children:t.jsxs(U,{className:"shadow-sm",children:[t.jsxs(G,{children:[t.jsx(q,{children:"Lead Sources"}),t.jsx(oe,{children:"Manage and track lead source performance"})]}),t.jsx(W,{children:t.jsx("div",{className:"space-y-4",children:n.map(C=>t.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg hover:bg-accent/50 transition-colors",children:[t.jsxs("div",{children:[t.jsx("h3",{className:"font-semibold",children:C.name}),t.jsxs("p",{className:"text-sm text-muted-foreground",children:["Type: ",C.type," • Conversion: ",C.conversionRate,"%",C.trackingCode&&` • Code: ${C.trackingCode}`]})]}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(Z,{className:C.isActive?"bg-green-50 text-green-700 border-green-200":"bg-gray-50 text-gray-700 border-gray-200",children:C.isActive?"Active":"Inactive"}),t.jsx($,{variant:"outline",size:"sm",children:t.jsx(Ya,{className:"h-3 w-3"})})]})]},C.id))})})]})})]})]})}function Jk(){return t.jsxs(Wt,{children:[t.jsx(ke,{path:"/",element:t.jsx(Ng,{})}),t.jsx(ke,{path:"/*",element:t.jsx(Ng,{})})]})}function Zk({vehicles:e,onEdit:n,onDelete:s,onView:r,onStatusChange:a}){const{toast:i}=ot(),[l,o]=f.useState(""),[c,d]=f.useState("all"),[m,u]=f.useState("all"),[p,h]=f.useState("all"),[v,j]=f.useState([]),[y,g]=f.useState("updatedAt"),[x,b]=f.useState("desc"),T=Array.from(new Set(e.map(D=>D.location))),L=D=>{switch(D){case Oe.AVAILABLE:return"bg-green-50 text-green-700 border-green-200";case Oe.RESERVED:return"bg-yellow-50 text-yellow-700 border-yellow-200";case Oe.SOLD:return"bg-blue-50 text-blue-700 border-blue-200";case Oe.SERVICE:return"bg-orange-50 text-orange-700 border-orange-200";case Oe.DELIVERED:return"bg-purple-50 text-purple-700 border-purple-200";default:return"bg-gray-50 text-gray-700 border-gray-200"}},k=D=>D.replace("_"," ").toUpperCase(),I=e.filter(D=>{const A=`${D.make} ${D.model}`.toLowerCase().includes(l.toLowerCase())||D.vin.toLowerCase().includes(l.toLowerCase())||D.year.toString().includes(l),_=c==="all"||D.status===c,V=m==="all"||D.type===m,P=p==="all"||D.location===p;return A&&_&&V&&P}).sort((D,A)=>{let _=D[y],V=A[y];return _ instanceof Date&&V instanceof Date&&(_=_.getTime(),V=V.getTime()),typeof _=="string"&&typeof V=="string"&&(_=_.toLowerCase(),V=V.toLowerCase()),_<V?x==="asc"?-1:1:_>V?x==="asc"?1:-1:0}),w=D=>{y===D?b(x==="asc"?"desc":"asc"):(g(D),b("asc"))},S=D=>{j(D?I.map(A=>A.id):[])},C=D=>{v.includes(D)?j(v.filter(A=>A!==D)):j([...v,D])},E=()=>{const A=(v.length>0?e.filter(M=>v.includes(M.id)):I).map(M=>({id:M.id,vin:M.vin,make:M.make,model:M.model,year:M.year,type:M.type,status:M.status,price:M.price,cost:M.cost,location:M.location,features:M.features.join(", "),createdAt:M.createdAt.toISOString(),updatedAt:M.updatedAt.toISOString()})),_=Dc.unparse(A),V=new Blob([_],{type:"text/csv;charset=utf-8;"}),P=URL.createObjectURL(V),R=document.createElement("a");R.href=P,R.setAttribute("download",`inventory_export_${new Date().toISOString().split("T")[0]}.csv`),document.body.appendChild(R),R.click(),document.body.removeChild(R),i({title:"Export Successful",description:`Exported ${A.length} vehicles to CSV`})},N=D=>{if(v.length===0){i({title:"No Vehicles Selected",description:"Please select vehicles to update",variant:"destructive"});return}v.forEach(A=>{a(A,D)}),i({title:"Status Updated",description:`Updated ${v.length} vehicles to ${D}`})};return t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[t.jsxs("div",{className:"ri-search-bar flex-1",children:[t.jsx(Lt,{className:"ri-search-icon"}),t.jsx(J,{placeholder:"Search by make, model, VIN...",value:l,onChange:D=>o(D.target.value),className:"ri-search-input shadow-sm"})]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsxs(ge,{value:c,onValueChange:d,children:[t.jsx(he,{className:"w-[130px]",children:t.jsx(ve,{placeholder:"Status"})}),t.jsxs(xe,{children:[t.jsx(O,{value:"all",children:"All Status"}),t.jsx(O,{value:Oe.AVAILABLE,children:"Available"}),t.jsx(O,{value:Oe.RESERVED,children:"Reserved"}),t.jsx(O,{value:Oe.SOLD,children:"Sold"}),t.jsx(O,{value:Oe.SERVICE,children:"Service"}),t.jsx(O,{value:Oe.DELIVERED,children:"Delivered"})]})]}),t.jsxs(ge,{value:m,onValueChange:u,children:[t.jsx(he,{className:"w-[130px]",children:t.jsx(ve,{placeholder:"Type"})}),t.jsxs(xe,{children:[t.jsx(O,{value:"all",children:"All Types"}),t.jsx(O,{value:be.RV,children:"RV"}),t.jsx(O,{value:be.MOTORHOME,children:"Motorhome"}),t.jsx(O,{value:be.TRAVEL_TRAILER,children:"Travel Trailer"}),t.jsx(O,{value:be.FIFTH_WHEEL,children:"Fifth Wheel"}),t.jsx(O,{value:be.TOY_HAULER,children:"Toy Hauler"})]})]}),t.jsxs(ge,{value:p,onValueChange:h,children:[t.jsx(he,{className:"w-[130px]",children:t.jsx(ve,{placeholder:"Location"})}),t.jsxs(xe,{children:[t.jsx(O,{value:"all",children:"All Locations"}),T.map(D=>t.jsx(O,{value:D,children:D},D))]})]})]})]}),v.length>0&&t.jsxs("div",{className:"flex items-center justify-between bg-muted/30 p-2 rounded-lg",children:[t.jsxs("div",{className:"text-sm font-medium",children:[v.length," vehicles selected"]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsxs(ge,{onValueChange:D=>N(D),children:[t.jsx(he,{className:"w-[150px]",children:t.jsx(ve,{placeholder:"Change Status"})}),t.jsxs(xe,{children:[t.jsx(O,{value:Oe.AVAILABLE,children:"Available"}),t.jsx(O,{value:Oe.RESERVED,children:"Reserved"}),t.jsx(O,{value:Oe.SOLD,children:"Sold"}),t.jsx(O,{value:Oe.SERVICE,children:"Service"}),t.jsx(O,{value:Oe.DELIVERED,children:"Delivered"}),t.jsx(O,{value:be.SINGLE_WIDE,children:"Single Wide MH"}),t.jsx(O,{value:be.DOUBLE_WIDE,children:"Double Wide MH"}),t.jsx(O,{value:be.TRIPLE_WIDE,children:"Triple Wide MH"}),t.jsx(O,{value:be.PARK_MODEL,children:"Park Model"}),t.jsx(O,{value:be.MODULAR_HOME,children:"Modular Home"})]})]}),t.jsxs($,{variant:"outline",size:"sm",onClick:E,children:[t.jsx(Vs,{className:"h-4 w-4 mr-2"}),"Export Selected"]}),t.jsxs($,{variant:"outline",size:"sm",onClick:()=>j([]),children:[t.jsx(nt,{className:"h-4 w-4 mr-2"}),"Clear Selection"]})]})]}),t.jsxs(U,{className:"shadow-sm",children:[t.jsx(G,{className:"pb-3",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsxs(q,{className:"text-xl",children:["Inventory (",I.length,")"]}),t.jsx(oe,{children:"Manage your RV and motorhome inventory"})]}),t.jsx("div",{className:"flex gap-2",children:t.jsxs($,{variant:"outline",size:"sm",onClick:E,children:[t.jsx(Vs,{className:"h-4 w-4 mr-2"}),"Export CSV"]})})]})}),t.jsx(W,{children:t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"w-full border-collapse",children:[t.jsx("thead",{children:t.jsxs("tr",{className:"border-b",children:[t.jsx("th",{className:"p-2 text-left",children:t.jsx(Je,{checked:v.length===I.length&&I.length>0,onCheckedChange:S})}),t.jsx("th",{className:"p-2 text-left cursor-pointer hover:bg-muted/30",onClick:()=>w("make"),children:t.jsxs("div",{className:"flex items-center",children:[t.jsx("span",{children:"Make/Model"}),y==="make"&&t.jsx("span",{className:"ml-1",children:x==="asc"?"↑":"↓"})]})}),t.jsx("th",{className:"p-2 text-left cursor-pointer hover:bg-muted/30",onClick:()=>w("year"),children:t.jsxs("div",{className:"flex items-center",children:[t.jsx("span",{children:"Year"}),y==="year"&&t.jsx("span",{className:"ml-1",children:x==="asc"?"↑":"↓"})]})}),t.jsx("th",{className:"p-2 text-left cursor-pointer hover:bg-muted/30",onClick:()=>w("vin"),children:t.jsxs("div",{className:"flex items-center",children:[t.jsx("span",{children:"VIN"}),y==="vin"&&t.jsx("span",{className:"ml-1",children:x==="asc"?"↑":"↓"})]})}),t.jsx("th",{className:"p-2 text-left cursor-pointer hover:bg-muted/30",onClick:()=>w("type"),children:t.jsxs("div",{className:"flex items-center",children:[t.jsx("span",{children:"Type"}),y==="type"&&t.jsx("span",{className:"ml-1",children:x==="asc"?"↑":"↓"})]})}),t.jsx("th",{className:"p-2 text-left cursor-pointer hover:bg-muted/30",onClick:()=>w("status"),children:t.jsxs("div",{className:"flex items-center",children:[t.jsx("span",{children:"Status"}),y==="status"&&t.jsx("span",{className:"ml-1",children:x==="asc"?"↑":"↓"})]})}),t.jsx("th",{className:"p-2 text-left cursor-pointer hover:bg-muted/30",onClick:()=>w("location"),children:t.jsxs("div",{className:"flex items-center",children:[t.jsx("span",{children:"Location"}),y==="location"&&t.jsx("span",{className:"ml-1",children:x==="asc"?"↑":"↓"})]})}),t.jsx("th",{className:"p-2 text-left cursor-pointer hover:bg-muted/30",onClick:()=>w("price"),children:t.jsxs("div",{className:"flex items-center",children:[t.jsx("span",{children:"Price"}),y==="price"&&t.jsx("span",{className:"ml-1",children:x==="asc"?"↑":"↓"})]})}),t.jsx("th",{className:"p-2 text-left",children:"Media"}),t.jsx("th",{className:"p-2 text-left",children:"Actions"})]})}),t.jsxs("tbody",{children:[I.map(D=>t.jsxs("tr",{className:"border-b hover:bg-muted/10",children:[t.jsx("td",{className:"p-2",children:t.jsx(Je,{checked:v.includes(D.id),onCheckedChange:()=>C(D.id)})}),t.jsx("td",{className:"p-2",children:t.jsxs("div",{className:"font-medium",children:[D.make," ",D.model]})}),t.jsx("td",{className:"p-2",children:D.year}),t.jsx("td",{className:"p-2",children:t.jsx("span",{className:"font-mono text-xs",children:D.vin})}),t.jsx("td",{className:"p-2",children:t.jsx("span",{className:"text-sm",children:k(D.type)})}),t.jsx("td",{className:"p-2",children:t.jsx(Z,{className:ae("ri-badge-status",L(D.status)),children:D.status.toUpperCase()})}),t.jsx("td",{className:"p-2",children:D.location}),t.jsx("td",{className:"p-2 font-medium text-primary",children:re(D.price)}),t.jsx("td",{className:"p-2",children:t.jsxs("div",{className:"flex items-center space-x-1",children:[t.jsxs(Z,{variant:"outline",className:"text-xs",children:[t.jsx(hl,{className:"h-3 w-3 mr-1"}),D.images.length]}),D.customFields.videos&&t.jsxs(Z,{variant:"outline",className:"text-xs",children:[t.jsx(wc,{className:"h-3 w-3 mr-1"}),D.customFields.videos.length||0]})]})}),t.jsx("td",{className:"p-2",children:t.jsxs("div",{className:"flex items-center space-x-1",children:[t.jsx($,{variant:"ghost",size:"sm",onClick:()=>r(D),children:t.jsx(Ar,{className:"h-4 w-4"})}),t.jsx($,{variant:"ghost",size:"sm",onClick:()=>n(D),children:t.jsx(zt,{className:"h-4 w-4"})}),t.jsx($,{variant:"ghost",size:"sm",onClick:()=>s(D.id),children:t.jsx(Un,{className:"h-4 w-4"})})]})})]},D.id)),I.length===0&&t.jsx("tr",{children:t.jsxs("td",{colSpan:10,className:"p-8 text-center text-muted-foreground",children:[t.jsx(Xt,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground/50"}),t.jsx("p",{children:"No vehicles found"}),t.jsx("p",{className:"text-sm",children:"Try adjusting your search or filters"})]})})]})]})})})]})]})}var Iw={exports:{}},e4="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",t4=e4,n4=t4;function Dw(){}function Aw(){}Aw.resetWarningCache=Dw;var s4=function(){function e(r,a,i,l,o,c){if(c!==n4){var d=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw d.name="Invariant Violation",d}}e.isRequired=e;function n(){return e}var s={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:n,element:e,elementType:e,instanceOf:n,node:e,objectOf:n,oneOf:n,oneOfType:n,shape:n,exact:n,checkPropTypes:Aw,resetWarningCache:Dw};return s.PropTypes=s,s};Iw.exports=s4();var r4=Iw.exports;const Xe=El(r4),a4=new Map([["1km","application/vnd.1000minds.decision-model+xml"],["3dml","text/vnd.in3d.3dml"],["3ds","image/x-3ds"],["3g2","video/3gpp2"],["3gp","video/3gp"],["3gpp","video/3gpp"],["3mf","model/3mf"],["7z","application/x-7z-compressed"],["7zip","application/x-7z-compressed"],["123","application/vnd.lotus-1-2-3"],["aab","application/x-authorware-bin"],["aac","audio/x-acc"],["aam","application/x-authorware-map"],["aas","application/x-authorware-seg"],["abw","application/x-abiword"],["ac","application/vnd.nokia.n-gage.ac+xml"],["ac3","audio/ac3"],["acc","application/vnd.americandynamics.acc"],["ace","application/x-ace-compressed"],["acu","application/vnd.acucobol"],["acutc","application/vnd.acucorp"],["adp","audio/adpcm"],["aep","application/vnd.audiograph"],["afm","application/x-font-type1"],["afp","application/vnd.ibm.modcap"],["ahead","application/vnd.ahead.space"],["ai","application/pdf"],["aif","audio/x-aiff"],["aifc","audio/x-aiff"],["aiff","audio/x-aiff"],["air","application/vnd.adobe.air-application-installer-package+zip"],["ait","application/vnd.dvb.ait"],["ami","application/vnd.amiga.ami"],["amr","audio/amr"],["apk","application/vnd.android.package-archive"],["apng","image/apng"],["appcache","text/cache-manifest"],["application","application/x-ms-application"],["apr","application/vnd.lotus-approach"],["arc","application/x-freearc"],["arj","application/x-arj"],["asc","application/pgp-signature"],["asf","video/x-ms-asf"],["asm","text/x-asm"],["aso","application/vnd.accpac.simply.aso"],["asx","video/x-ms-asf"],["atc","application/vnd.acucorp"],["atom","application/atom+xml"],["atomcat","application/atomcat+xml"],["atomdeleted","application/atomdeleted+xml"],["atomsvc","application/atomsvc+xml"],["atx","application/vnd.antix.game-component"],["au","audio/x-au"],["avi","video/x-msvideo"],["avif","image/avif"],["aw","application/applixware"],["azf","application/vnd.airzip.filesecure.azf"],["azs","application/vnd.airzip.filesecure.azs"],["azv","image/vnd.airzip.accelerator.azv"],["azw","application/vnd.amazon.ebook"],["b16","image/vnd.pco.b16"],["bat","application/x-msdownload"],["bcpio","application/x-bcpio"],["bdf","application/x-font-bdf"],["bdm","application/vnd.syncml.dm+wbxml"],["bdoc","application/x-bdoc"],["bed","application/vnd.realvnc.bed"],["bh2","application/vnd.fujitsu.oasysprs"],["bin","application/octet-stream"],["blb","application/x-blorb"],["blorb","application/x-blorb"],["bmi","application/vnd.bmi"],["bmml","application/vnd.balsamiq.bmml+xml"],["bmp","image/bmp"],["book","application/vnd.framemaker"],["box","application/vnd.previewsystems.box"],["boz","application/x-bzip2"],["bpk","application/octet-stream"],["bpmn","application/octet-stream"],["bsp","model/vnd.valve.source.compiled-map"],["btif","image/prs.btif"],["buffer","application/octet-stream"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["c","text/x-c"],["c4d","application/vnd.clonk.c4group"],["c4f","application/vnd.clonk.c4group"],["c4g","application/vnd.clonk.c4group"],["c4p","application/vnd.clonk.c4group"],["c4u","application/vnd.clonk.c4group"],["c11amc","application/vnd.cluetrust.cartomobile-config"],["c11amz","application/vnd.cluetrust.cartomobile-config-pkg"],["cab","application/vnd.ms-cab-compressed"],["caf","audio/x-caf"],["cap","application/vnd.tcpdump.pcap"],["car","application/vnd.curl.car"],["cat","application/vnd.ms-pki.seccat"],["cb7","application/x-cbr"],["cba","application/x-cbr"],["cbr","application/x-cbr"],["cbt","application/x-cbr"],["cbz","application/x-cbr"],["cc","text/x-c"],["cco","application/x-cocoa"],["cct","application/x-director"],["ccxml","application/ccxml+xml"],["cdbcmsg","application/vnd.contact.cmsg"],["cda","application/x-cdf"],["cdf","application/x-netcdf"],["cdfx","application/cdfx+xml"],["cdkey","application/vnd.mediastation.cdkey"],["cdmia","application/cdmi-capability"],["cdmic","application/cdmi-container"],["cdmid","application/cdmi-domain"],["cdmio","application/cdmi-object"],["cdmiq","application/cdmi-queue"],["cdr","application/cdr"],["cdx","chemical/x-cdx"],["cdxml","application/vnd.chemdraw+xml"],["cdy","application/vnd.cinderella"],["cer","application/pkix-cert"],["cfs","application/x-cfs-compressed"],["cgm","image/cgm"],["chat","application/x-chat"],["chm","application/vnd.ms-htmlhelp"],["chrt","application/vnd.kde.kchart"],["cif","chemical/x-cif"],["cii","application/vnd.anser-web-certificate-issue-initiation"],["cil","application/vnd.ms-artgalry"],["cjs","application/node"],["cla","application/vnd.claymore"],["class","application/octet-stream"],["clkk","application/vnd.crick.clicker.keyboard"],["clkp","application/vnd.crick.clicker.palette"],["clkt","application/vnd.crick.clicker.template"],["clkw","application/vnd.crick.clicker.wordbank"],["clkx","application/vnd.crick.clicker"],["clp","application/x-msclip"],["cmc","application/vnd.cosmocaller"],["cmdf","chemical/x-cmdf"],["cml","chemical/x-cml"],["cmp","application/vnd.yellowriver-custom-menu"],["cmx","image/x-cmx"],["cod","application/vnd.rim.cod"],["coffee","text/coffeescript"],["com","application/x-msdownload"],["conf","text/plain"],["cpio","application/x-cpio"],["cpp","text/x-c"],["cpt","application/mac-compactpro"],["crd","application/x-mscardfile"],["crl","application/pkix-crl"],["crt","application/x-x509-ca-cert"],["crx","application/x-chrome-extension"],["cryptonote","application/vnd.rig.cryptonote"],["csh","application/x-csh"],["csl","application/vnd.citationstyles.style+xml"],["csml","chemical/x-csml"],["csp","application/vnd.commonspace"],["csr","application/octet-stream"],["css","text/css"],["cst","application/x-director"],["csv","text/csv"],["cu","application/cu-seeme"],["curl","text/vnd.curl"],["cww","application/prs.cww"],["cxt","application/x-director"],["cxx","text/x-c"],["dae","model/vnd.collada+xml"],["daf","application/vnd.mobius.daf"],["dart","application/vnd.dart"],["dataless","application/vnd.fdsn.seed"],["davmount","application/davmount+xml"],["dbf","application/vnd.dbf"],["dbk","application/docbook+xml"],["dcr","application/x-director"],["dcurl","text/vnd.curl.dcurl"],["dd2","application/vnd.oma.dd2+xml"],["ddd","application/vnd.fujixerox.ddd"],["ddf","application/vnd.syncml.dmddf+xml"],["dds","image/vnd.ms-dds"],["deb","application/x-debian-package"],["def","text/plain"],["deploy","application/octet-stream"],["der","application/x-x509-ca-cert"],["dfac","application/vnd.dreamfactory"],["dgc","application/x-dgc-compressed"],["dic","text/x-c"],["dir","application/x-director"],["dis","application/vnd.mobius.dis"],["disposition-notification","message/disposition-notification"],["dist","application/octet-stream"],["distz","application/octet-stream"],["djv","image/vnd.djvu"],["djvu","image/vnd.djvu"],["dll","application/octet-stream"],["dmg","application/x-apple-diskimage"],["dmn","application/octet-stream"],["dmp","application/vnd.tcpdump.pcap"],["dms","application/octet-stream"],["dna","application/vnd.dna"],["doc","application/msword"],["docm","application/vnd.ms-word.template.macroEnabled.12"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["dot","application/msword"],["dotm","application/vnd.ms-word.template.macroEnabled.12"],["dotx","application/vnd.openxmlformats-officedocument.wordprocessingml.template"],["dp","application/vnd.osgi.dp"],["dpg","application/vnd.dpgraph"],["dra","audio/vnd.dra"],["drle","image/dicom-rle"],["dsc","text/prs.lines.tag"],["dssc","application/dssc+der"],["dtb","application/x-dtbook+xml"],["dtd","application/xml-dtd"],["dts","audio/vnd.dts"],["dtshd","audio/vnd.dts.hd"],["dump","application/octet-stream"],["dvb","video/vnd.dvb.file"],["dvi","application/x-dvi"],["dwd","application/atsc-dwd+xml"],["dwf","model/vnd.dwf"],["dwg","image/vnd.dwg"],["dxf","image/vnd.dxf"],["dxp","application/vnd.spotfire.dxp"],["dxr","application/x-director"],["ear","application/java-archive"],["ecelp4800","audio/vnd.nuera.ecelp4800"],["ecelp7470","audio/vnd.nuera.ecelp7470"],["ecelp9600","audio/vnd.nuera.ecelp9600"],["ecma","application/ecmascript"],["edm","application/vnd.novadigm.edm"],["edx","application/vnd.novadigm.edx"],["efif","application/vnd.picsel"],["ei6","application/vnd.pg.osasli"],["elc","application/octet-stream"],["emf","image/emf"],["eml","message/rfc822"],["emma","application/emma+xml"],["emotionml","application/emotionml+xml"],["emz","application/x-msmetafile"],["eol","audio/vnd.digital-winds"],["eot","application/vnd.ms-fontobject"],["eps","application/postscript"],["epub","application/epub+zip"],["es","application/ecmascript"],["es3","application/vnd.eszigno3+xml"],["esa","application/vnd.osgi.subsystem"],["esf","application/vnd.epson.esf"],["et3","application/vnd.eszigno3+xml"],["etx","text/x-setext"],["eva","application/x-eva"],["evy","application/x-envoy"],["exe","application/octet-stream"],["exi","application/exi"],["exp","application/express"],["exr","image/aces"],["ext","application/vnd.novadigm.ext"],["ez","application/andrew-inset"],["ez2","application/vnd.ezpix-album"],["ez3","application/vnd.ezpix-package"],["f","text/x-fortran"],["f4v","video/mp4"],["f77","text/x-fortran"],["f90","text/x-fortran"],["fbs","image/vnd.fastbidsheet"],["fcdt","application/vnd.adobe.formscentral.fcdt"],["fcs","application/vnd.isac.fcs"],["fdf","application/vnd.fdf"],["fdt","application/fdt+xml"],["fe_launch","application/vnd.denovo.fcselayout-link"],["fg5","application/vnd.fujitsu.oasysgp"],["fgd","application/x-director"],["fh","image/x-freehand"],["fh4","image/x-freehand"],["fh5","image/x-freehand"],["fh7","image/x-freehand"],["fhc","image/x-freehand"],["fig","application/x-xfig"],["fits","image/fits"],["flac","audio/x-flac"],["fli","video/x-fli"],["flo","application/vnd.micrografx.flo"],["flv","video/x-flv"],["flw","application/vnd.kde.kivio"],["flx","text/vnd.fmi.flexstor"],["fly","text/vnd.fly"],["fm","application/vnd.framemaker"],["fnc","application/vnd.frogans.fnc"],["fo","application/vnd.software602.filler.form+xml"],["for","text/x-fortran"],["fpx","image/vnd.fpx"],["frame","application/vnd.framemaker"],["fsc","application/vnd.fsc.weblaunch"],["fst","image/vnd.fst"],["ftc","application/vnd.fluxtime.clip"],["fti","application/vnd.anser-web-funds-transfer-initiation"],["fvt","video/vnd.fvt"],["fxp","application/vnd.adobe.fxp"],["fxpl","application/vnd.adobe.fxp"],["fzs","application/vnd.fuzzysheet"],["g2w","application/vnd.geoplan"],["g3","image/g3fax"],["g3w","application/vnd.geospace"],["gac","application/vnd.groove-account"],["gam","application/x-tads"],["gbr","application/rpki-ghostbusters"],["gca","application/x-gca-compressed"],["gdl","model/vnd.gdl"],["gdoc","application/vnd.google-apps.document"],["geo","application/vnd.dynageo"],["geojson","application/geo+json"],["gex","application/vnd.geometry-explorer"],["ggb","application/vnd.geogebra.file"],["ggt","application/vnd.geogebra.tool"],["ghf","application/vnd.groove-help"],["gif","image/gif"],["gim","application/vnd.groove-identity-message"],["glb","model/gltf-binary"],["gltf","model/gltf+json"],["gml","application/gml+xml"],["gmx","application/vnd.gmx"],["gnumeric","application/x-gnumeric"],["gpg","application/gpg-keys"],["gph","application/vnd.flographit"],["gpx","application/gpx+xml"],["gqf","application/vnd.grafeq"],["gqs","application/vnd.grafeq"],["gram","application/srgs"],["gramps","application/x-gramps-xml"],["gre","application/vnd.geometry-explorer"],["grv","application/vnd.groove-injector"],["grxml","application/srgs+xml"],["gsf","application/x-font-ghostscript"],["gsheet","application/vnd.google-apps.spreadsheet"],["gslides","application/vnd.google-apps.presentation"],["gtar","application/x-gtar"],["gtm","application/vnd.groove-tool-message"],["gtw","model/vnd.gtw"],["gv","text/vnd.graphviz"],["gxf","application/gxf"],["gxt","application/vnd.geonext"],["gz","application/gzip"],["gzip","application/gzip"],["h","text/x-c"],["h261","video/h261"],["h263","video/h263"],["h264","video/h264"],["hal","application/vnd.hal+xml"],["hbci","application/vnd.hbci"],["hbs","text/x-handlebars-template"],["hdd","application/x-virtualbox-hdd"],["hdf","application/x-hdf"],["heic","image/heic"],["heics","image/heic-sequence"],["heif","image/heif"],["heifs","image/heif-sequence"],["hej2","image/hej2k"],["held","application/atsc-held+xml"],["hh","text/x-c"],["hjson","application/hjson"],["hlp","application/winhlp"],["hpgl","application/vnd.hp-hpgl"],["hpid","application/vnd.hp-hpid"],["hps","application/vnd.hp-hps"],["hqx","application/mac-binhex40"],["hsj2","image/hsj2"],["htc","text/x-component"],["htke","application/vnd.kenameaapp"],["htm","text/html"],["html","text/html"],["hvd","application/vnd.yamaha.hv-dic"],["hvp","application/vnd.yamaha.hv-voice"],["hvs","application/vnd.yamaha.hv-script"],["i2g","application/vnd.intergeo"],["icc","application/vnd.iccprofile"],["ice","x-conference/x-cooltalk"],["icm","application/vnd.iccprofile"],["ico","image/x-icon"],["ics","text/calendar"],["ief","image/ief"],["ifb","text/calendar"],["ifm","application/vnd.shana.informed.formdata"],["iges","model/iges"],["igl","application/vnd.igloader"],["igm","application/vnd.insors.igm"],["igs","model/iges"],["igx","application/vnd.micrografx.igx"],["iif","application/vnd.shana.informed.interchange"],["img","application/octet-stream"],["imp","application/vnd.accpac.simply.imp"],["ims","application/vnd.ms-ims"],["in","text/plain"],["ini","text/plain"],["ink","application/inkml+xml"],["inkml","application/inkml+xml"],["install","application/x-install-instructions"],["iota","application/vnd.astraea-software.iota"],["ipfix","application/ipfix"],["ipk","application/vnd.shana.informed.package"],["irm","application/vnd.ibm.rights-management"],["irp","application/vnd.irepository.package+xml"],["iso","application/x-iso9660-image"],["itp","application/vnd.shana.informed.formtemplate"],["its","application/its+xml"],["ivp","application/vnd.immervision-ivp"],["ivu","application/vnd.immervision-ivu"],["jad","text/vnd.sun.j2me.app-descriptor"],["jade","text/jade"],["jam","application/vnd.jam"],["jar","application/java-archive"],["jardiff","application/x-java-archive-diff"],["java","text/x-java-source"],["jhc","image/jphc"],["jisp","application/vnd.jisp"],["jls","image/jls"],["jlt","application/vnd.hp-jlyt"],["jng","image/x-jng"],["jnlp","application/x-java-jnlp-file"],["joda","application/vnd.joost.joda-archive"],["jp2","image/jp2"],["jpe","image/jpeg"],["jpeg","image/jpeg"],["jpf","image/jpx"],["jpg","image/jpeg"],["jpg2","image/jp2"],["jpgm","video/jpm"],["jpgv","video/jpeg"],["jph","image/jph"],["jpm","video/jpm"],["jpx","image/jpx"],["js","application/javascript"],["json","application/json"],["json5","application/json5"],["jsonld","application/ld+json"],["jsonl","application/jsonl"],["jsonml","application/jsonml+json"],["jsx","text/jsx"],["jxr","image/jxr"],["jxra","image/jxra"],["jxrs","image/jxrs"],["jxs","image/jxs"],["jxsc","image/jxsc"],["jxsi","image/jxsi"],["jxss","image/jxss"],["kar","audio/midi"],["karbon","application/vnd.kde.karbon"],["kdb","application/octet-stream"],["kdbx","application/x-keepass2"],["key","application/x-iwork-keynote-sffkey"],["kfo","application/vnd.kde.kformula"],["kia","application/vnd.kidspiration"],["kml","application/vnd.google-earth.kml+xml"],["kmz","application/vnd.google-earth.kmz"],["kne","application/vnd.kinar"],["knp","application/vnd.kinar"],["kon","application/vnd.kde.kontour"],["kpr","application/vnd.kde.kpresenter"],["kpt","application/vnd.kde.kpresenter"],["kpxx","application/vnd.ds-keypoint"],["ksp","application/vnd.kde.kspread"],["ktr","application/vnd.kahootz"],["ktx","image/ktx"],["ktx2","image/ktx2"],["ktz","application/vnd.kahootz"],["kwd","application/vnd.kde.kword"],["kwt","application/vnd.kde.kword"],["lasxml","application/vnd.las.las+xml"],["latex","application/x-latex"],["lbd","application/vnd.llamagraphics.life-balance.desktop"],["lbe","application/vnd.llamagraphics.life-balance.exchange+xml"],["les","application/vnd.hhe.lesson-player"],["less","text/less"],["lgr","application/lgr+xml"],["lha","application/octet-stream"],["link66","application/vnd.route66.link66+xml"],["list","text/plain"],["list3820","application/vnd.ibm.modcap"],["listafp","application/vnd.ibm.modcap"],["litcoffee","text/coffeescript"],["lnk","application/x-ms-shortcut"],["log","text/plain"],["lostxml","application/lost+xml"],["lrf","application/octet-stream"],["lrm","application/vnd.ms-lrm"],["ltf","application/vnd.frogans.ltf"],["lua","text/x-lua"],["luac","application/x-lua-bytecode"],["lvp","audio/vnd.lucent.voice"],["lwp","application/vnd.lotus-wordpro"],["lzh","application/octet-stream"],["m1v","video/mpeg"],["m2a","audio/mpeg"],["m2v","video/mpeg"],["m3a","audio/mpeg"],["m3u","text/plain"],["m3u8","application/vnd.apple.mpegurl"],["m4a","audio/x-m4a"],["m4p","application/mp4"],["m4s","video/iso.segment"],["m4u","application/vnd.mpegurl"],["m4v","video/x-m4v"],["m13","application/x-msmediaview"],["m14","application/x-msmediaview"],["m21","application/mp21"],["ma","application/mathematica"],["mads","application/mads+xml"],["maei","application/mmt-aei+xml"],["mag","application/vnd.ecowin.chart"],["maker","application/vnd.framemaker"],["man","text/troff"],["manifest","text/cache-manifest"],["map","application/json"],["mar","application/octet-stream"],["markdown","text/markdown"],["mathml","application/mathml+xml"],["mb","application/mathematica"],["mbk","application/vnd.mobius.mbk"],["mbox","application/mbox"],["mc1","application/vnd.medcalcdata"],["mcd","application/vnd.mcd"],["mcurl","text/vnd.curl.mcurl"],["md","text/markdown"],["mdb","application/x-msaccess"],["mdi","image/vnd.ms-modi"],["mdx","text/mdx"],["me","text/troff"],["mesh","model/mesh"],["meta4","application/metalink4+xml"],["metalink","application/metalink+xml"],["mets","application/mets+xml"],["mfm","application/vnd.mfmp"],["mft","application/rpki-manifest"],["mgp","application/vnd.osgeo.mapguide.package"],["mgz","application/vnd.proteus.magazine"],["mid","audio/midi"],["midi","audio/midi"],["mie","application/x-mie"],["mif","application/vnd.mif"],["mime","message/rfc822"],["mj2","video/mj2"],["mjp2","video/mj2"],["mjs","application/javascript"],["mk3d","video/x-matroska"],["mka","audio/x-matroska"],["mkd","text/x-markdown"],["mks","video/x-matroska"],["mkv","video/x-matroska"],["mlp","application/vnd.dolby.mlp"],["mmd","application/vnd.chipnuts.karaoke-mmd"],["mmf","application/vnd.smaf"],["mml","text/mathml"],["mmr","image/vnd.fujixerox.edmics-mmr"],["mng","video/x-mng"],["mny","application/x-msmoney"],["mobi","application/x-mobipocket-ebook"],["mods","application/mods+xml"],["mov","video/quicktime"],["movie","video/x-sgi-movie"],["mp2","audio/mpeg"],["mp2a","audio/mpeg"],["mp3","audio/mpeg"],["mp4","video/mp4"],["mp4a","audio/mp4"],["mp4s","application/mp4"],["mp4v","video/mp4"],["mp21","application/mp21"],["mpc","application/vnd.mophun.certificate"],["mpd","application/dash+xml"],["mpe","video/mpeg"],["mpeg","video/mpeg"],["mpg","video/mpeg"],["mpg4","video/mp4"],["mpga","audio/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["mpm","application/vnd.blueice.multipass"],["mpn","application/vnd.mophun.application"],["mpp","application/vnd.ms-project"],["mpt","application/vnd.ms-project"],["mpy","application/vnd.ibm.minipay"],["mqy","application/vnd.mobius.mqy"],["mrc","application/marc"],["mrcx","application/marcxml+xml"],["ms","text/troff"],["mscml","application/mediaservercontrol+xml"],["mseed","application/vnd.fdsn.mseed"],["mseq","application/vnd.mseq"],["msf","application/vnd.epson.msf"],["msg","application/vnd.ms-outlook"],["msh","model/mesh"],["msi","application/x-msdownload"],["msl","application/vnd.mobius.msl"],["msm","application/octet-stream"],["msp","application/octet-stream"],["msty","application/vnd.muvee.style"],["mtl","model/mtl"],["mts","model/vnd.mts"],["mus","application/vnd.musician"],["musd","application/mmt-usd+xml"],["musicxml","application/vnd.recordare.musicxml+xml"],["mvb","application/x-msmediaview"],["mvt","application/vnd.mapbox-vector-tile"],["mwf","application/vnd.mfer"],["mxf","application/mxf"],["mxl","application/vnd.recordare.musicxml"],["mxmf","audio/mobile-xmf"],["mxml","application/xv+xml"],["mxs","application/vnd.triscape.mxs"],["mxu","video/vnd.mpegurl"],["n-gage","application/vnd.nokia.n-gage.symbian.install"],["n3","text/n3"],["nb","application/mathematica"],["nbp","application/vnd.wolfram.player"],["nc","application/x-netcdf"],["ncx","application/x-dtbncx+xml"],["nfo","text/x-nfo"],["ngdat","application/vnd.nokia.n-gage.data"],["nitf","application/vnd.nitf"],["nlu","application/vnd.neurolanguage.nlu"],["nml","application/vnd.enliven"],["nnd","application/vnd.noblenet-directory"],["nns","application/vnd.noblenet-sealer"],["nnw","application/vnd.noblenet-web"],["npx","image/vnd.net-fpx"],["nq","application/n-quads"],["nsc","application/x-conference"],["nsf","application/vnd.lotus-notes"],["nt","application/n-triples"],["ntf","application/vnd.nitf"],["numbers","application/x-iwork-numbers-sffnumbers"],["nzb","application/x-nzb"],["oa2","application/vnd.fujitsu.oasys2"],["oa3","application/vnd.fujitsu.oasys3"],["oas","application/vnd.fujitsu.oasys"],["obd","application/x-msbinder"],["obgx","application/vnd.openblox.game+xml"],["obj","model/obj"],["oda","application/oda"],["odb","application/vnd.oasis.opendocument.database"],["odc","application/vnd.oasis.opendocument.chart"],["odf","application/vnd.oasis.opendocument.formula"],["odft","application/vnd.oasis.opendocument.formula-template"],["odg","application/vnd.oasis.opendocument.graphics"],["odi","application/vnd.oasis.opendocument.image"],["odm","application/vnd.oasis.opendocument.text-master"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogex","model/vnd.opengex"],["ogg","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["omdoc","application/omdoc+xml"],["onepkg","application/onenote"],["onetmp","application/onenote"],["onetoc","application/onenote"],["onetoc2","application/onenote"],["opf","application/oebps-package+xml"],["opml","text/x-opml"],["oprc","application/vnd.palm"],["opus","audio/ogg"],["org","text/x-org"],["osf","application/vnd.yamaha.openscoreformat"],["osfpvg","application/vnd.yamaha.openscoreformat.osfpvg+xml"],["osm","application/vnd.openstreetmap.data+xml"],["otc","application/vnd.oasis.opendocument.chart-template"],["otf","font/otf"],["otg","application/vnd.oasis.opendocument.graphics-template"],["oth","application/vnd.oasis.opendocument.text-web"],["oti","application/vnd.oasis.opendocument.image-template"],["otp","application/vnd.oasis.opendocument.presentation-template"],["ots","application/vnd.oasis.opendocument.spreadsheet-template"],["ott","application/vnd.oasis.opendocument.text-template"],["ova","application/x-virtualbox-ova"],["ovf","application/x-virtualbox-ovf"],["owl","application/rdf+xml"],["oxps","application/oxps"],["oxt","application/vnd.openofficeorg.extension"],["p","text/x-pascal"],["p7a","application/x-pkcs7-signature"],["p7b","application/x-pkcs7-certificates"],["p7c","application/pkcs7-mime"],["p7m","application/pkcs7-mime"],["p7r","application/x-pkcs7-certreqresp"],["p7s","application/pkcs7-signature"],["p8","application/pkcs8"],["p10","application/x-pkcs10"],["p12","application/x-pkcs12"],["pac","application/x-ns-proxy-autoconfig"],["pages","application/x-iwork-pages-sffpages"],["pas","text/x-pascal"],["paw","application/vnd.pawaafile"],["pbd","application/vnd.powerbuilder6"],["pbm","image/x-portable-bitmap"],["pcap","application/vnd.tcpdump.pcap"],["pcf","application/x-font-pcf"],["pcl","application/vnd.hp-pcl"],["pclxl","application/vnd.hp-pclxl"],["pct","image/x-pict"],["pcurl","application/vnd.curl.pcurl"],["pcx","image/x-pcx"],["pdb","application/x-pilot"],["pde","text/x-processing"],["pdf","application/pdf"],["pem","application/x-x509-user-cert"],["pfa","application/x-font-type1"],["pfb","application/x-font-type1"],["pfm","application/x-font-type1"],["pfr","application/font-tdpfr"],["pfx","application/x-pkcs12"],["pgm","image/x-portable-graymap"],["pgn","application/x-chess-pgn"],["pgp","application/pgp"],["php","application/x-httpd-php"],["php3","application/x-httpd-php"],["php4","application/x-httpd-php"],["phps","application/x-httpd-php-source"],["phtml","application/x-httpd-php"],["pic","image/x-pict"],["pkg","application/octet-stream"],["pki","application/pkixcmp"],["pkipath","application/pkix-pkipath"],["pkpass","application/vnd.apple.pkpass"],["pl","application/x-perl"],["plb","application/vnd.3gpp.pic-bw-large"],["plc","application/vnd.mobius.plc"],["plf","application/vnd.pocketlearn"],["pls","application/pls+xml"],["pm","application/x-perl"],["pml","application/vnd.ctc-posml"],["png","image/png"],["pnm","image/x-portable-anymap"],["portpkg","application/vnd.macports.portpkg"],["pot","application/vnd.ms-powerpoint"],["potm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["potx","application/vnd.openxmlformats-officedocument.presentationml.template"],["ppa","application/vnd.ms-powerpoint"],["ppam","application/vnd.ms-powerpoint.addin.macroEnabled.12"],["ppd","application/vnd.cups-ppd"],["ppm","image/x-portable-pixmap"],["pps","application/vnd.ms-powerpoint"],["ppsm","application/vnd.ms-powerpoint.slideshow.macroEnabled.12"],["ppsx","application/vnd.openxmlformats-officedocument.presentationml.slideshow"],["ppt","application/powerpoint"],["pptm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["pqa","application/vnd.palm"],["prc","application/x-pilot"],["pre","application/vnd.lotus-freelance"],["prf","application/pics-rules"],["provx","application/provenance+xml"],["ps","application/postscript"],["psb","application/vnd.3gpp.pic-bw-small"],["psd","application/x-photoshop"],["psf","application/x-font-linux-psf"],["pskcxml","application/pskc+xml"],["pti","image/prs.pti"],["ptid","application/vnd.pvi.ptid1"],["pub","application/x-mspublisher"],["pvb","application/vnd.3gpp.pic-bw-var"],["pwn","application/vnd.3m.post-it-notes"],["pya","audio/vnd.ms-playready.media.pya"],["pyv","video/vnd.ms-playready.media.pyv"],["qam","application/vnd.epson.quickanime"],["qbo","application/vnd.intu.qbo"],["qfx","application/vnd.intu.qfx"],["qps","application/vnd.publishare-delta-tree"],["qt","video/quicktime"],["qwd","application/vnd.quark.quarkxpress"],["qwt","application/vnd.quark.quarkxpress"],["qxb","application/vnd.quark.quarkxpress"],["qxd","application/vnd.quark.quarkxpress"],["qxl","application/vnd.quark.quarkxpress"],["qxt","application/vnd.quark.quarkxpress"],["ra","audio/x-realaudio"],["ram","audio/x-pn-realaudio"],["raml","application/raml+yaml"],["rapd","application/route-apd+xml"],["rar","application/x-rar"],["ras","image/x-cmu-raster"],["rcprofile","application/vnd.ipunplugged.rcprofile"],["rdf","application/rdf+xml"],["rdz","application/vnd.data-vision.rdz"],["relo","application/p2p-overlay+xml"],["rep","application/vnd.businessobjects"],["res","application/x-dtbresource+xml"],["rgb","image/x-rgb"],["rif","application/reginfo+xml"],["rip","audio/vnd.rip"],["ris","application/x-research-info-systems"],["rl","application/resource-lists+xml"],["rlc","image/vnd.fujixerox.edmics-rlc"],["rld","application/resource-lists-diff+xml"],["rm","audio/x-pn-realaudio"],["rmi","audio/midi"],["rmp","audio/x-pn-realaudio-plugin"],["rms","application/vnd.jcp.javame.midlet-rms"],["rmvb","application/vnd.rn-realmedia-vbr"],["rnc","application/relax-ng-compact-syntax"],["rng","application/xml"],["roa","application/rpki-roa"],["roff","text/troff"],["rp9","application/vnd.cloanto.rp9"],["rpm","audio/x-pn-realaudio-plugin"],["rpss","application/vnd.nokia.radio-presets"],["rpst","application/vnd.nokia.radio-preset"],["rq","application/sparql-query"],["rs","application/rls-services+xml"],["rsa","application/x-pkcs7"],["rsat","application/atsc-rsat+xml"],["rsd","application/rsd+xml"],["rsheet","application/urc-ressheet+xml"],["rss","application/rss+xml"],["rtf","text/rtf"],["rtx","text/richtext"],["run","application/x-makeself"],["rusd","application/route-usd+xml"],["rv","video/vnd.rn-realvideo"],["s","text/x-asm"],["s3m","audio/s3m"],["saf","application/vnd.yamaha.smaf-audio"],["sass","text/x-sass"],["sbml","application/sbml+xml"],["sc","application/vnd.ibm.secure-container"],["scd","application/x-msschedule"],["scm","application/vnd.lotus-screencam"],["scq","application/scvp-cv-request"],["scs","application/scvp-cv-response"],["scss","text/x-scss"],["scurl","text/vnd.curl.scurl"],["sda","application/vnd.stardivision.draw"],["sdc","application/vnd.stardivision.calc"],["sdd","application/vnd.stardivision.impress"],["sdkd","application/vnd.solent.sdkm+xml"],["sdkm","application/vnd.solent.sdkm+xml"],["sdp","application/sdp"],["sdw","application/vnd.stardivision.writer"],["sea","application/octet-stream"],["see","application/vnd.seemail"],["seed","application/vnd.fdsn.seed"],["sema","application/vnd.sema"],["semd","application/vnd.semd"],["semf","application/vnd.semf"],["senmlx","application/senml+xml"],["sensmlx","application/sensml+xml"],["ser","application/java-serialized-object"],["setpay","application/set-payment-initiation"],["setreg","application/set-registration-initiation"],["sfd-hdstx","application/vnd.hydrostatix.sof-data"],["sfs","application/vnd.spotfire.sfs"],["sfv","text/x-sfv"],["sgi","image/sgi"],["sgl","application/vnd.stardivision.writer-global"],["sgm","text/sgml"],["sgml","text/sgml"],["sh","application/x-sh"],["shar","application/x-shar"],["shex","text/shex"],["shf","application/shf+xml"],["shtml","text/html"],["sid","image/x-mrsid-image"],["sieve","application/sieve"],["sig","application/pgp-signature"],["sil","audio/silk"],["silo","model/mesh"],["sis","application/vnd.symbian.install"],["sisx","application/vnd.symbian.install"],["sit","application/x-stuffit"],["sitx","application/x-stuffitx"],["siv","application/sieve"],["skd","application/vnd.koan"],["skm","application/vnd.koan"],["skp","application/vnd.koan"],["skt","application/vnd.koan"],["sldm","application/vnd.ms-powerpoint.slide.macroenabled.12"],["sldx","application/vnd.openxmlformats-officedocument.presentationml.slide"],["slim","text/slim"],["slm","text/slim"],["sls","application/route-s-tsid+xml"],["slt","application/vnd.epson.salt"],["sm","application/vnd.stepmania.stepchart"],["smf","application/vnd.stardivision.math"],["smi","application/smil"],["smil","application/smil"],["smv","video/x-smv"],["smzip","application/vnd.stepmania.package"],["snd","audio/basic"],["snf","application/x-font-snf"],["so","application/octet-stream"],["spc","application/x-pkcs7-certificates"],["spdx","text/spdx"],["spf","application/vnd.yamaha.smaf-phrase"],["spl","application/x-futuresplash"],["spot","text/vnd.in3d.spot"],["spp","application/scvp-vp-response"],["spq","application/scvp-vp-request"],["spx","audio/ogg"],["sql","application/x-sql"],["src","application/x-wais-source"],["srt","application/x-subrip"],["sru","application/sru+xml"],["srx","application/sparql-results+xml"],["ssdl","application/ssdl+xml"],["sse","application/vnd.kodak-descriptor"],["ssf","application/vnd.epson.ssf"],["ssml","application/ssml+xml"],["sst","application/octet-stream"],["st","application/vnd.sailingtracker.track"],["stc","application/vnd.sun.xml.calc.template"],["std","application/vnd.sun.xml.draw.template"],["stf","application/vnd.wt.stf"],["sti","application/vnd.sun.xml.impress.template"],["stk","application/hyperstudio"],["stl","model/stl"],["stpx","model/step+xml"],["stpxz","model/step-xml+zip"],["stpz","model/step+zip"],["str","application/vnd.pg.format"],["stw","application/vnd.sun.xml.writer.template"],["styl","text/stylus"],["stylus","text/stylus"],["sub","text/vnd.dvb.subtitle"],["sus","application/vnd.sus-calendar"],["susp","application/vnd.sus-calendar"],["sv4cpio","application/x-sv4cpio"],["sv4crc","application/x-sv4crc"],["svc","application/vnd.dvb.service"],["svd","application/vnd.svd"],["svg","image/svg+xml"],["svgz","image/svg+xml"],["swa","application/x-director"],["swf","application/x-shockwave-flash"],["swi","application/vnd.aristanetworks.swi"],["swidtag","application/swid+xml"],["sxc","application/vnd.sun.xml.calc"],["sxd","application/vnd.sun.xml.draw"],["sxg","application/vnd.sun.xml.writer.global"],["sxi","application/vnd.sun.xml.impress"],["sxm","application/vnd.sun.xml.math"],["sxw","application/vnd.sun.xml.writer"],["t","text/troff"],["t3","application/x-t3vm-image"],["t38","image/t38"],["taglet","application/vnd.mynfc"],["tao","application/vnd.tao.intent-module-archive"],["tap","image/vnd.tencent.tap"],["tar","application/x-tar"],["tcap","application/vnd.3gpp2.tcap"],["tcl","application/x-tcl"],["td","application/urc-targetdesc+xml"],["teacher","application/vnd.smart.teacher"],["tei","application/tei+xml"],["teicorpus","application/tei+xml"],["tex","application/x-tex"],["texi","application/x-texinfo"],["texinfo","application/x-texinfo"],["text","text/plain"],["tfi","application/thraud+xml"],["tfm","application/x-tex-tfm"],["tfx","image/tiff-fx"],["tga","image/x-tga"],["tgz","application/x-tar"],["thmx","application/vnd.ms-officetheme"],["tif","image/tiff"],["tiff","image/tiff"],["tk","application/x-tcl"],["tmo","application/vnd.tmobile-livetv"],["toml","application/toml"],["torrent","application/x-bittorrent"],["tpl","application/vnd.groove-tool-template"],["tpt","application/vnd.trid.tpt"],["tr","text/troff"],["tra","application/vnd.trueapp"],["trig","application/trig"],["trm","application/x-msterminal"],["ts","video/mp2t"],["tsd","application/timestamped-data"],["tsv","text/tab-separated-values"],["ttc","font/collection"],["ttf","font/ttf"],["ttl","text/turtle"],["ttml","application/ttml+xml"],["twd","application/vnd.simtech-mindmapper"],["twds","application/vnd.simtech-mindmapper"],["txd","application/vnd.genomatix.tuxedo"],["txf","application/vnd.mobius.txf"],["txt","text/plain"],["u8dsn","message/global-delivery-status"],["u8hdr","message/global-headers"],["u8mdn","message/global-disposition-notification"],["u8msg","message/global"],["u32","application/x-authorware-bin"],["ubj","application/ubjson"],["udeb","application/x-debian-package"],["ufd","application/vnd.ufdl"],["ufdl","application/vnd.ufdl"],["ulx","application/x-glulx"],["umj","application/vnd.umajin"],["unityweb","application/vnd.unity"],["uoml","application/vnd.uoml+xml"],["uri","text/uri-list"],["uris","text/uri-list"],["urls","text/uri-list"],["usdz","model/vnd.usdz+zip"],["ustar","application/x-ustar"],["utz","application/vnd.uiq.theme"],["uu","text/x-uuencode"],["uva","audio/vnd.dece.audio"],["uvd","application/vnd.dece.data"],["uvf","application/vnd.dece.data"],["uvg","image/vnd.dece.graphic"],["uvh","video/vnd.dece.hd"],["uvi","image/vnd.dece.graphic"],["uvm","video/vnd.dece.mobile"],["uvp","video/vnd.dece.pd"],["uvs","video/vnd.dece.sd"],["uvt","application/vnd.dece.ttml+xml"],["uvu","video/vnd.uvvu.mp4"],["uvv","video/vnd.dece.video"],["uvva","audio/vnd.dece.audio"],["uvvd","application/vnd.dece.data"],["uvvf","application/vnd.dece.data"],["uvvg","image/vnd.dece.graphic"],["uvvh","video/vnd.dece.hd"],["uvvi","image/vnd.dece.graphic"],["uvvm","video/vnd.dece.mobile"],["uvvp","video/vnd.dece.pd"],["uvvs","video/vnd.dece.sd"],["uvvt","application/vnd.dece.ttml+xml"],["uvvu","video/vnd.uvvu.mp4"],["uvvv","video/vnd.dece.video"],["uvvx","application/vnd.dece.unspecified"],["uvvz","application/vnd.dece.zip"],["uvx","application/vnd.dece.unspecified"],["uvz","application/vnd.dece.zip"],["vbox","application/x-virtualbox-vbox"],["vbox-extpack","application/x-virtualbox-vbox-extpack"],["vcard","text/vcard"],["vcd","application/x-cdlink"],["vcf","text/x-vcard"],["vcg","application/vnd.groove-vcard"],["vcs","text/x-vcalendar"],["vcx","application/vnd.vcx"],["vdi","application/x-virtualbox-vdi"],["vds","model/vnd.sap.vds"],["vhd","application/x-virtualbox-vhd"],["vis","application/vnd.visionary"],["viv","video/vnd.vivo"],["vlc","application/videolan"],["vmdk","application/x-virtualbox-vmdk"],["vob","video/x-ms-vob"],["vor","application/vnd.stardivision.writer"],["vox","application/x-authorware-bin"],["vrml","model/vrml"],["vsd","application/vnd.visio"],["vsf","application/vnd.vsf"],["vss","application/vnd.visio"],["vst","application/vnd.visio"],["vsw","application/vnd.visio"],["vtf","image/vnd.valve.source.texture"],["vtt","text/vtt"],["vtu","model/vnd.vtu"],["vxml","application/voicexml+xml"],["w3d","application/x-director"],["wad","application/x-doom"],["wadl","application/vnd.sun.wadl+xml"],["war","application/java-archive"],["wasm","application/wasm"],["wav","audio/x-wav"],["wax","audio/x-ms-wax"],["wbmp","image/vnd.wap.wbmp"],["wbs","application/vnd.criticaltools.wbs+xml"],["wbxml","application/wbxml"],["wcm","application/vnd.ms-works"],["wdb","application/vnd.ms-works"],["wdp","image/vnd.ms-photo"],["weba","audio/webm"],["webapp","application/x-web-app-manifest+json"],["webm","video/webm"],["webmanifest","application/manifest+json"],["webp","image/webp"],["wg","application/vnd.pmi.widget"],["wgt","application/widget"],["wks","application/vnd.ms-works"],["wm","video/x-ms-wm"],["wma","audio/x-ms-wma"],["wmd","application/x-ms-wmd"],["wmf","image/wmf"],["wml","text/vnd.wap.wml"],["wmlc","application/wmlc"],["wmls","text/vnd.wap.wmlscript"],["wmlsc","application/vnd.wap.wmlscriptc"],["wmv","video/x-ms-wmv"],["wmx","video/x-ms-wmx"],["wmz","application/x-msmetafile"],["woff","font/woff"],["woff2","font/woff2"],["word","application/msword"],["wpd","application/vnd.wordperfect"],["wpl","application/vnd.ms-wpl"],["wps","application/vnd.ms-works"],["wqd","application/vnd.wqd"],["wri","application/x-mswrite"],["wrl","model/vrml"],["wsc","message/vnd.wfa.wsc"],["wsdl","application/wsdl+xml"],["wspolicy","application/wspolicy+xml"],["wtb","application/vnd.webturbo"],["wvx","video/x-ms-wvx"],["x3d","model/x3d+xml"],["x3db","model/x3d+fastinfoset"],["x3dbz","model/x3d+binary"],["x3dv","model/x3d-vrml"],["x3dvz","model/x3d+vrml"],["x3dz","model/x3d+xml"],["x32","application/x-authorware-bin"],["x_b","model/vnd.parasolid.transmit.binary"],["x_t","model/vnd.parasolid.transmit.text"],["xaml","application/xaml+xml"],["xap","application/x-silverlight-app"],["xar","application/vnd.xara"],["xav","application/xcap-att+xml"],["xbap","application/x-ms-xbap"],["xbd","application/vnd.fujixerox.docuworks.binder"],["xbm","image/x-xbitmap"],["xca","application/xcap-caps+xml"],["xcs","application/calendar+xml"],["xdf","application/xcap-diff+xml"],["xdm","application/vnd.syncml.dm+xml"],["xdp","application/vnd.adobe.xdp+xml"],["xdssc","application/dssc+xml"],["xdw","application/vnd.fujixerox.docuworks"],["xel","application/xcap-el+xml"],["xenc","application/xenc+xml"],["xer","application/patch-ops-error+xml"],["xfdf","application/vnd.adobe.xfdf"],["xfdl","application/vnd.xfdl"],["xht","application/xhtml+xml"],["xhtml","application/xhtml+xml"],["xhvml","application/xv+xml"],["xif","image/vnd.xiff"],["xl","application/excel"],["xla","application/vnd.ms-excel"],["xlam","application/vnd.ms-excel.addin.macroEnabled.12"],["xlc","application/vnd.ms-excel"],["xlf","application/xliff+xml"],["xlm","application/vnd.ms-excel"],["xls","application/vnd.ms-excel"],["xlsb","application/vnd.ms-excel.sheet.binary.macroEnabled.12"],["xlsm","application/vnd.ms-excel.sheet.macroEnabled.12"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xlt","application/vnd.ms-excel"],["xltm","application/vnd.ms-excel.template.macroEnabled.12"],["xltx","application/vnd.openxmlformats-officedocument.spreadsheetml.template"],["xlw","application/vnd.ms-excel"],["xm","audio/xm"],["xml","application/xml"],["xns","application/xcap-ns+xml"],["xo","application/vnd.olpc-sugar"],["xop","application/xop+xml"],["xpi","application/x-xpinstall"],["xpl","application/xproc+xml"],["xpm","image/x-xpixmap"],["xpr","application/vnd.is-xpr"],["xps","application/vnd.ms-xpsdocument"],["xpw","application/vnd.intercon.formnet"],["xpx","application/vnd.intercon.formnet"],["xsd","application/xml"],["xsl","application/xml"],["xslt","application/xslt+xml"],["xsm","application/vnd.syncml+xml"],["xspf","application/xspf+xml"],["xul","application/vnd.mozilla.xul+xml"],["xvm","application/xv+xml"],["xvml","application/xv+xml"],["xwd","image/x-xwindowdump"],["xyz","chemical/x-xyz"],["xz","application/x-xz"],["yaml","text/yaml"],["yang","application/yang"],["yin","application/yin+xml"],["yml","text/yaml"],["ymp","text/x-suse-ymp"],["z","application/x-compress"],["z1","application/x-zmachine"],["z2","application/x-zmachine"],["z3","application/x-zmachine"],["z4","application/x-zmachine"],["z5","application/x-zmachine"],["z6","application/x-zmachine"],["z7","application/x-zmachine"],["z8","application/x-zmachine"],["zaz","application/vnd.zzazz.deck+xml"],["zip","application/zip"],["zir","application/vnd.zul"],["zirz","application/vnd.zul"],["zmm","application/vnd.handheld-entertainment+xml"],["zsh","text/x-scriptzsh"]]);function Za(e,n,s){const r=i4(e),{webkitRelativePath:a}=e,i=typeof n=="string"?n:typeof a=="string"&&a.length>0?a:`./${e.name}`;return typeof r.path!="string"&&Sg(r,"path",i),s!==void 0&&Object.defineProperty(r,"handle",{value:s,writable:!1,configurable:!1,enumerable:!0}),Sg(r,"relativePath",i),r}function i4(e){const{name:n}=e;if(n&&n.lastIndexOf(".")!==-1&&!e.type){const r=n.split(".").pop().toLowerCase(),a=a4.get(r);a&&Object.defineProperty(e,"type",{value:a,writable:!1,configurable:!1,enumerable:!0})}return e}function Sg(e,n,s){Object.defineProperty(e,n,{value:s,writable:!1,configurable:!1,enumerable:!0})}const l4=[".DS_Store","Thumbs.db"];function o4(e){return la(this,void 0,void 0,function*(){return Ac(e)&&c4(e.dataTransfer)?p4(e.dataTransfer,e.type):d4(e)?u4(e):Array.isArray(e)&&e.every(n=>"getFile"in n&&typeof n.getFile=="function")?m4(e):[]})}function c4(e){return Ac(e)}function d4(e){return Ac(e)&&Ac(e.target)}function Ac(e){return typeof e=="object"&&e!==null}function u4(e){return sp(e.target.files).map(n=>Za(n))}function m4(e){return la(this,void 0,void 0,function*(){return(yield Promise.all(e.map(s=>s.getFile()))).map(s=>Za(s))})}function p4(e,n){return la(this,void 0,void 0,function*(){if(e.items){const s=sp(e.items).filter(a=>a.kind==="file");if(n!=="drop")return s;const r=yield Promise.all(s.map(f4));return Cg(Tw(r))}return Cg(sp(e.files).map(s=>Za(s)))})}function Cg(e){return e.filter(n=>l4.indexOf(n.name)===-1)}function sp(e){if(e===null)return[];const n=[];for(let s=0;s<e.length;s++){const r=e[s];n.push(r)}return n}function f4(e){if(typeof e.webkitGetAsEntry!="function")return Eg(e);const n=e.webkitGetAsEntry();return n&&n.isDirectory?kw(n):Eg(e,n)}function Tw(e){return e.reduce((n,s)=>[...n,...Array.isArray(s)?Tw(s):[s]],[])}function Eg(e,n){return la(this,void 0,void 0,function*(){var s;if(globalThis.isSecureContext&&typeof e.getAsFileSystemHandle=="function"){const i=yield e.getAsFileSystemHandle();if(i===null)throw new Error(`${e} is not a File`);if(i!==void 0){const l=yield i.getFile();return l.handle=i,Za(l)}}const r=e.getAsFile();if(!r)throw new Error(`${e} is not a File`);return Za(r,(s=n==null?void 0:n.fullPath)!==null&&s!==void 0?s:void 0)})}function h4(e){return la(this,void 0,void 0,function*(){return e.isDirectory?kw(e):x4(e)})}function kw(e){const n=e.createReader();return new Promise((s,r)=>{const a=[];function i(){n.readEntries(l=>la(this,void 0,void 0,function*(){if(l.length){const o=Promise.all(l.map(h4));a.push(o),i()}else try{const o=yield Promise.all(a);s(o)}catch(o){r(o)}}),l=>{r(l)})}i()})}function x4(e){return la(this,void 0,void 0,function*(){return new Promise((n,s)=>{e.file(r=>{const a=Za(r,e.fullPath);n(a)},r=>{s(r)})})})}var Tu=function(e,n){if(e&&n){var s=Array.isArray(n)?n:n.split(",");if(s.length===0)return!0;var r=e.name||"",a=(e.type||"").toLowerCase(),i=a.replace(/\/.*$/,"");return s.some(function(l){var o=l.trim().toLowerCase();return o.charAt(0)==="."?r.toLowerCase().endsWith(o):o.endsWith("/*")?i===o.replace(/\/.*$/,""):a===o})}return!0};function Ig(e){return j4(e)||v4(e)||Rw(e)||g4()}function g4(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function v4(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function j4(e){if(Array.isArray(e))return rp(e)}function Dg(e,n){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),s.push.apply(s,r)}return s}function Ag(e){for(var n=1;n<arguments.length;n++){var s=arguments[n]!=null?arguments[n]:{};n%2?Dg(Object(s),!0).forEach(function(r){Pw(e,r,s[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):Dg(Object(s)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(s,r))})}return e}function Pw(e,n,s){return n in e?Object.defineProperty(e,n,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[n]=s,e}function jl(e,n){return w4(e)||b4(e,n)||Rw(e,n)||y4()}function y4(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Rw(e,n){if(e){if(typeof e=="string")return rp(e,n);var s=Object.prototype.toString.call(e).slice(8,-1);if(s==="Object"&&e.constructor&&(s=e.constructor.name),s==="Map"||s==="Set")return Array.from(e);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return rp(e,n)}}function rp(e,n){(n==null||n>e.length)&&(n=e.length);for(var s=0,r=new Array(n);s<n;s++)r[s]=e[s];return r}function b4(e,n){var s=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(s!=null){var r=[],a=!0,i=!1,l,o;try{for(s=s.call(e);!(a=(l=s.next()).done)&&(r.push(l.value),!(n&&r.length===n));a=!0);}catch(c){i=!0,o=c}finally{try{!a&&s.return!=null&&s.return()}finally{if(i)throw o}}return r}}function w4(e){if(Array.isArray(e))return e}var N4=typeof Tu=="function"?Tu:Tu.default,S4="file-invalid-type",C4="file-too-large",E4="file-too-small",I4="too-many-files",D4=function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",s=n.split(","),r=s.length>1?"one of ".concat(s.join(", ")):s[0];return{code:S4,message:"File type must be ".concat(r)}},Tg=function(n){return{code:C4,message:"File is larger than ".concat(n," ").concat(n===1?"byte":"bytes")}},kg=function(n){return{code:E4,message:"File is smaller than ".concat(n," ").concat(n===1?"byte":"bytes")}},A4={code:I4,message:"Too many files"};function Lw(e,n){var s=e.type==="application/x-moz-file"||N4(e,n);return[s,s?null:D4(n)]}function Fw(e,n,s){if(Mr(e.size))if(Mr(n)&&Mr(s)){if(e.size>s)return[!1,Tg(s)];if(e.size<n)return[!1,kg(n)]}else{if(Mr(n)&&e.size<n)return[!1,kg(n)];if(Mr(s)&&e.size>s)return[!1,Tg(s)]}return[!0,null]}function Mr(e){return e!=null}function T4(e){var n=e.files,s=e.accept,r=e.minSize,a=e.maxSize,i=e.multiple,l=e.maxFiles,o=e.validator;return!i&&n.length>1||i&&l>=1&&n.length>l?!1:n.every(function(c){var d=Lw(c,s),m=jl(d,1),u=m[0],p=Fw(c,r,a),h=jl(p,1),v=h[0],j=o?o(c):null;return u&&v&&!j})}function Tc(e){return typeof e.isPropagationStopped=="function"?e.isPropagationStopped():typeof e.cancelBubble<"u"?e.cancelBubble:!1}function wo(e){return e.dataTransfer?Array.prototype.some.call(e.dataTransfer.types,function(n){return n==="Files"||n==="application/x-moz-file"}):!!e.target&&!!e.target.files}function Pg(e){e.preventDefault()}function k4(e){return e.indexOf("MSIE")!==-1||e.indexOf("Trident/")!==-1}function P4(e){return e.indexOf("Edge/")!==-1}function R4(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window.navigator.userAgent;return k4(e)||P4(e)}function cs(){for(var e=arguments.length,n=new Array(e),s=0;s<e;s++)n[s]=arguments[s];return function(r){for(var a=arguments.length,i=new Array(a>1?a-1:0),l=1;l<a;l++)i[l-1]=arguments[l];return n.some(function(o){return!Tc(r)&&o&&o.apply(void 0,[r].concat(i)),Tc(r)})}}function L4(){return"showOpenFilePicker"in window}function F4(e){if(Mr(e)){var n=Object.entries(e).filter(function(s){var r=jl(s,2),a=r[0],i=r[1],l=!0;return Ow(a)||(console.warn('Skipped "'.concat(a,'" because it is not a valid MIME type. Check https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_types/Common_types for a list of valid MIME types.')),l=!1),(!Array.isArray(i)||!i.every(Mw))&&(console.warn('Skipped "'.concat(a,'" because an invalid file extension was provided.')),l=!1),l}).reduce(function(s,r){var a=jl(r,2),i=a[0],l=a[1];return Ag(Ag({},s),{},Pw({},i,l))},{});return[{description:"Files",accept:n}]}return e}function O4(e){if(Mr(e))return Object.entries(e).reduce(function(n,s){var r=jl(s,2),a=r[0],i=r[1];return[].concat(Ig(n),[a],Ig(i))},[]).filter(function(n){return Ow(n)||Mw(n)}).join(",")}function M4(e){return e instanceof DOMException&&(e.name==="AbortError"||e.code===e.ABORT_ERR)}function _4(e){return e instanceof DOMException&&(e.name==="SecurityError"||e.code===e.SECURITY_ERR)}function Ow(e){return e==="audio/*"||e==="video/*"||e==="image/*"||e==="text/*"||e==="application/*"||/\w+\/[-+.\w]+/g.test(e)}function Mw(e){return/^.*\.[\w]+$/.test(e)}var $4=["children"],B4=["open"],V4=["refKey","role","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"],z4=["refKey","onChange","onClick"];function U4(e){return G4(e)||H4(e)||_w(e)||W4()}function W4(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function H4(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function G4(e){if(Array.isArray(e))return ap(e)}function ku(e,n){return K4(e)||Q4(e,n)||_w(e,n)||q4()}function q4(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _w(e,n){if(e){if(typeof e=="string")return ap(e,n);var s=Object.prototype.toString.call(e).slice(8,-1);if(s==="Object"&&e.constructor&&(s=e.constructor.name),s==="Map"||s==="Set")return Array.from(e);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return ap(e,n)}}function ap(e,n){(n==null||n>e.length)&&(n=e.length);for(var s=0,r=new Array(n);s<n;s++)r[s]=e[s];return r}function Q4(e,n){var s=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(s!=null){var r=[],a=!0,i=!1,l,o;try{for(s=s.call(e);!(a=(l=s.next()).done)&&(r.push(l.value),!(n&&r.length===n));a=!0);}catch(c){i=!0,o=c}finally{try{!a&&s.return!=null&&s.return()}finally{if(i)throw o}}return r}}function K4(e){if(Array.isArray(e))return e}function Rg(e,n){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),s.push.apply(s,r)}return s}function dt(e){for(var n=1;n<arguments.length;n++){var s=arguments[n]!=null?arguments[n]:{};n%2?Rg(Object(s),!0).forEach(function(r){ip(e,r,s[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):Rg(Object(s)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(s,r))})}return e}function ip(e,n,s){return n in e?Object.defineProperty(e,n,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[n]=s,e}function kc(e,n){if(e==null)return{};var s=Y4(e,n),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],!(n.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function Y4(e,n){if(e==null)return{};var s={},r=Object.keys(e),a,i;for(i=0;i<r.length;i++)a=r[i],!(n.indexOf(a)>=0)&&(s[a]=e[a]);return s}var zf=f.forwardRef(function(e,n){var s=e.children,r=kc(e,$4),a=Uf(r),i=a.open,l=kc(a,B4);return f.useImperativeHandle(n,function(){return{open:i}},[i]),Le.createElement(f.Fragment,null,s(dt(dt({},l),{},{open:i})))});zf.displayName="Dropzone";var $w={disabled:!1,getFilesFromEvent:o4,maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1,validator:null,useFsAccessApi:!1,autoFocus:!1};zf.defaultProps=$w;zf.propTypes={children:Xe.func,accept:Xe.objectOf(Xe.arrayOf(Xe.string)),multiple:Xe.bool,preventDropOnDocument:Xe.bool,noClick:Xe.bool,noKeyboard:Xe.bool,noDrag:Xe.bool,noDragEventsBubbling:Xe.bool,minSize:Xe.number,maxSize:Xe.number,maxFiles:Xe.number,disabled:Xe.bool,getFilesFromEvent:Xe.func,onFileDialogCancel:Xe.func,onFileDialogOpen:Xe.func,useFsAccessApi:Xe.bool,autoFocus:Xe.bool,onDragEnter:Xe.func,onDragLeave:Xe.func,onDragOver:Xe.func,onDrop:Xe.func,onDropAccepted:Xe.func,onDropRejected:Xe.func,onError:Xe.func,validator:Xe.func};var lp={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,acceptedFiles:[],fileRejections:[]};function Uf(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=dt(dt({},$w),e),s=n.accept,r=n.disabled,a=n.getFilesFromEvent,i=n.maxSize,l=n.minSize,o=n.multiple,c=n.maxFiles,d=n.onDragEnter,m=n.onDragLeave,u=n.onDragOver,p=n.onDrop,h=n.onDropAccepted,v=n.onDropRejected,j=n.onFileDialogCancel,y=n.onFileDialogOpen,g=n.useFsAccessApi,x=n.autoFocus,b=n.preventDropOnDocument,T=n.noClick,L=n.noKeyboard,k=n.noDrag,I=n.noDragEventsBubbling,w=n.onError,S=n.validator,C=f.useMemo(function(){return O4(s)},[s]),E=f.useMemo(function(){return F4(s)},[s]),N=f.useMemo(function(){return typeof y=="function"?y:Lg},[y]),D=f.useMemo(function(){return typeof j=="function"?j:Lg},[j]),A=f.useRef(null),_=f.useRef(null),V=f.useReducer(X4,lp),P=ku(V,2),R=P[0],M=P[1],F=R.isFocused,B=R.isFileDialogActive,z=f.useRef(typeof window<"u"&&window.isSecureContext&&g&&L4()),H=function(){!z.current&&B&&setTimeout(function(){if(_.current){var Ie=_.current.files;Ie.length||(M({type:"closeDialog"}),D())}},300)};f.useEffect(function(){return window.addEventListener("focus",H,!1),function(){window.removeEventListener("focus",H,!1)}},[_,B,D,z]);var K=f.useRef([]),se=function(Ie){A.current&&A.current.contains(Ie.target)||(Ie.preventDefault(),K.current=[])};f.useEffect(function(){return b&&(document.addEventListener("dragover",Pg,!1),document.addEventListener("drop",se,!1)),function(){b&&(document.removeEventListener("dragover",Pg),document.removeEventListener("drop",se))}},[A,b]),f.useEffect(function(){return!r&&x&&A.current&&A.current.focus(),function(){}},[A,x,r]);var te=f.useCallback(function(de){w?w(de):console.error(de)},[w]),le=f.useCallback(function(de){de.preventDefault(),de.persist(),Ue(de),K.current=[].concat(U4(K.current),[de.target]),wo(de)&&Promise.resolve(a(de)).then(function(Ie){if(!(Tc(de)&&!I)){var Me=Ie.length,We=Me>0&&T4({files:Ie,accept:C,minSize:l,maxSize:i,multiple:o,maxFiles:c,validator:S}),ct=Me>0&&!We;M({isDragAccept:We,isDragReject:ct,isDragActive:!0,type:"setDraggedFiles"}),d&&d(de)}}).catch(function(Ie){return te(Ie)})},[a,d,te,I,C,l,i,o,c,S]),ce=f.useCallback(function(de){de.preventDefault(),de.persist(),Ue(de);var Ie=wo(de);if(Ie&&de.dataTransfer)try{de.dataTransfer.dropEffect="copy"}catch{}return Ie&&u&&u(de),!1},[u,I]),ue=f.useCallback(function(de){de.preventDefault(),de.persist(),Ue(de);var Ie=K.current.filter(function(We){return A.current&&A.current.contains(We)}),Me=Ie.indexOf(de.target);Me!==-1&&Ie.splice(Me,1),K.current=Ie,!(Ie.length>0)&&(M({type:"setDraggedFiles",isDragActive:!1,isDragAccept:!1,isDragReject:!1}),wo(de)&&m&&m(de))},[A,m,I]),ee=f.useCallback(function(de,Ie){var Me=[],We=[];de.forEach(function(ct){var Cs=Lw(ct,C),Es=ku(Cs,2),ls=Es[0],ln=Es[1],Is=Fw(ct,l,i),Pr=ku(Is,2),Md=Pr[0],_d=Pr[1],$d=S?S(ct):null;if(ls&&Md&&!$d)Me.push(ct);else{var Bd=[ln,_d];$d&&(Bd=Bd.concat($d)),We.push({file:ct,errors:Bd.filter(function(a1){return a1})})}}),(!o&&Me.length>1||o&&c>=1&&Me.length>c)&&(Me.forEach(function(ct){We.push({file:ct,errors:[A4]})}),Me.splice(0)),M({acceptedFiles:Me,fileRejections:We,isDragReject:We.length>0,type:"setFiles"}),p&&p(Me,We,Ie),We.length>0&&v&&v(We,Ie),Me.length>0&&h&&h(Me,Ie)},[M,o,C,l,i,c,p,h,v,S]),me=f.useCallback(function(de){de.preventDefault(),de.persist(),Ue(de),K.current=[],wo(de)&&Promise.resolve(a(de)).then(function(Ie){Tc(de)&&!I||ee(Ie,de)}).catch(function(Ie){return te(Ie)}),M({type:"reset"})},[a,ee,te,I]),Ne=f.useCallback(function(){if(z.current){M({type:"openDialog"}),N();var de={multiple:o,types:E};window.showOpenFilePicker(de).then(function(Ie){return a(Ie)}).then(function(Ie){ee(Ie,null),M({type:"closeDialog"})}).catch(function(Ie){M4(Ie)?(D(Ie),M({type:"closeDialog"})):_4(Ie)?(z.current=!1,_.current?(_.current.value=null,_.current.click()):te(new Error("Cannot open the file picker because the https://developer.mozilla.org/en-US/docs/Web/API/File_System_Access_API is not supported and no <input> was provided."))):te(Ie)});return}_.current&&(M({type:"openDialog"}),N(),_.current.value=null,_.current.click())},[M,N,D,g,ee,te,E,o]),Fe=f.useCallback(function(de){!A.current||!A.current.isEqualNode(de.target)||(de.key===" "||de.key==="Enter"||de.keyCode===32||de.keyCode===13)&&(de.preventDefault(),Ne())},[A,Ne]),Y=f.useCallback(function(){M({type:"focus"})},[]),X=f.useCallback(function(){M({type:"blur"})},[]),ne=f.useCallback(function(){T||(R4()?setTimeout(Ne,0):Ne())},[T,Ne]),Ee=function(Ie){return r?null:Ie},Te=function(Ie){return L?null:Ee(Ie)},_e=function(Ie){return k?null:Ee(Ie)},Ue=function(Ie){I&&Ie.stopPropagation()},qs=f.useMemo(function(){return function(){var de=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Ie=de.refKey,Me=Ie===void 0?"ref":Ie,We=de.role,ct=de.onKeyDown,Cs=de.onFocus,Es=de.onBlur,ls=de.onClick,ln=de.onDragEnter,Is=de.onDragOver,Pr=de.onDragLeave,Md=de.onDrop,_d=kc(de,V4);return dt(dt(ip({onKeyDown:Te(cs(ct,Fe)),onFocus:Te(cs(Cs,Y)),onBlur:Te(cs(Es,X)),onClick:Ee(cs(ls,ne)),onDragEnter:_e(cs(ln,le)),onDragOver:_e(cs(Is,ce)),onDragLeave:_e(cs(Pr,ue)),onDrop:_e(cs(Md,me)),role:typeof We=="string"&&We!==""?We:"presentation"},Me,A),!r&&!L?{tabIndex:0}:{}),_d)}},[A,Fe,Y,X,ne,le,ce,ue,me,L,k,r]),Tn=f.useCallback(function(de){de.stopPropagation()},[]),kr=f.useMemo(function(){return function(){var de=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Ie=de.refKey,Me=Ie===void 0?"ref":Ie,We=de.onChange,ct=de.onClick,Cs=kc(de,z4),Es=ip({accept:C,multiple:o,type:"file",style:{border:0,clip:"rect(0, 0, 0, 0)",clipPath:"inset(50%)",height:"1px",margin:"0 -1px -1px 0",overflow:"hidden",padding:0,position:"absolute",width:"1px",whiteSpace:"nowrap"},onChange:Ee(cs(We,me)),onClick:Ee(cs(ct,Tn)),tabIndex:-1},Me,_);return dt(dt({},Es),Cs)}},[_,s,o,me,r]);return dt(dt({},R),{},{isFocused:F&&!r,getRootProps:qs,getInputProps:kr,rootRef:A,inputRef:_,open:Ee(Ne)})}function X4(e,n){switch(n.type){case"focus":return dt(dt({},e),{},{isFocused:!0});case"blur":return dt(dt({},e),{},{isFocused:!1});case"openDialog":return dt(dt({},lp),{},{isFileDialogActive:!0});case"closeDialog":return dt(dt({},e),{},{isFileDialogActive:!1});case"setDraggedFiles":return dt(dt({},e),{},{isDragActive:n.isDragActive,isDragAccept:n.isDragAccept,isDragReject:n.isDragReject});case"setFiles":return dt(dt({},e),{},{acceptedFiles:n.acceptedFiles,fileRejections:n.fileRejections,isDragReject:n.isDragReject});case"reset":return dt({},lp);default:return e}}function Lg(){}function J4({vehicle:e,onSave:n,onCancel:s,onScanBarcode:r}){var w,S,C,E,N,D,A,_,V,P,R,M,F,B,z,H,K,se,te,le,ce,ue,ee,me,Ne,Fe;const{toast:a}=ot(),[i,l]=f.useState(!1),[o,c]=f.useState({vin:"",make:"",model:"",year:new Date().getFullYear(),type:be.RV,status:Oe.AVAILABLE,price:0,cost:0,location:"",features:[],images:[],customFields:{videos:[],exteriorColor:"",interiorColor:"",length:"",weight:"",sleeps:"",slideouts:"",fuelType:"",mileage:"",condition:"New"}}),[d,m]=f.useState(""),[u,p]=f.useState(""),[h,v]=f.useState(!1);f.useEffect(()=>{e&&c({...e,customFields:{...e.customFields,videos:e.customFields.videos||[]}})},[e]);const{getRootProps:j,getInputProps:y}=Uf({accept:{"image/*":[]},onDrop:Y=>{const X=Y.map(ne=>URL.createObjectURL(ne));c(ne=>({...ne,images:[...ne.images||[],...X]})),a({title:"Images Added",description:`Added ${Y.length} images`})}}),g=async Y=>{if(Y.preventDefault(),!o.vin||!o.make||!o.model||!o.year){a({title:"Validation Error",description:"Please fill in all required fields",variant:"destructive"});return}l(!0);try{await n(o),a({title:"Success",description:`Vehicle ${e?"updated":"created"} successfully`})}catch{a({title:"Error",description:`Failed to ${e?"update":"create"} vehicle`,variant:"destructive"})}finally{l(!1)}},x=()=>{var Y;d.trim()&&!((Y=o.features)!=null&&Y.includes(d.trim()))&&(c(X=>({...X,features:[...X.features||[],d.trim()]})),m(""))},b=Y=>{c(X=>{var ne;return{...X,features:((ne=X.features)==null?void 0:ne.filter(Ee=>Ee!==Y))||[]}})},T=()=>{u.trim()&&(c(Y=>{var X;return{...Y,customFields:{...Y.customFields,videos:[...((X=Y.customFields)==null?void 0:X.videos)||[],u.trim()]}}}),p(""))},L=Y=>{c(X=>{var ne,Ee;return{...X,customFields:{...X.customFields,videos:((Ee=(ne=X.customFields)==null?void 0:ne.videos)==null?void 0:Ee.filter(Te=>Te!==Y))||[]}}})},k=Y=>{c(X=>{var ne;return{...X,images:((ne=X.images)==null?void 0:ne.filter(Ee=>Ee!==Y))||[]}})},I=Y=>{Y.length===17?(c(X=>({...X,vin:Y})),a({title:"Barcode Scanned",description:`VIN: ${Y}`}),v(!1)):a({title:"Invalid Barcode",description:"The scanned barcode does not appear to be a valid VIN",variant:"destructive"})};return t.jsxs("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:[t.jsxs(U,{className:"w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[t.jsx(G,{children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx(q,{children:e?"Edit Vehicle":"Add New Home"}),t.jsx(oe,{children:e?"Update vehicle details":"Add a new home to inventory"})]}),t.jsx($,{variant:"ghost",size:"sm",onClick:s,children:t.jsx(nt,{className:"h-4 w-4"})})]})}),t.jsx(W,{children:t.jsxs("form",{onSubmit:g,className:"space-y-6",children:[t.jsxs("div",{className:"space-y-4",children:[t.jsx("h3",{className:"text-lg font-semibold",children:"Basic Information"}),t.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[t.jsxs("div",{children:[t.jsx(Q,{htmlFor:"vin",children:"VIN *"}),t.jsxs("div",{className:"flex",children:[t.jsx(J,{id:"vin",value:o.vin,onChange:Y=>c(X=>({...X,vin:Y.target.value})),placeholder:"Vehicle Identification Number",className:"flex-1"}),t.jsx($,{type:"button",variant:"outline",className:"ml-2",onClick:()=>v(!0),children:t.jsx(My,{className:"h-4 w-4"})})]})]}),t.jsxs("div",{children:[t.jsx(Q,{htmlFor:"year",children:"Year *"}),t.jsx(J,{id:"year",type:"number",value:o.year,onChange:Y=>c(X=>({...X,year:parseInt(Y.target.value)||new Date().getFullYear()})),min:"1900",max:new Date().getFullYear()+1})]})]}),t.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[t.jsxs("div",{children:[t.jsx(Q,{htmlFor:"make",children:"Make *"}),t.jsx(J,{id:"make",value:o.make,onChange:Y=>c(X=>({...X,make:Y.target.value})),placeholder:"e.g., Forest River, Winnebago"})]}),t.jsxs("div",{children:[t.jsx(Q,{htmlFor:"model",children:"Model *"}),t.jsx(J,{id:"model",value:o.model,onChange:Y=>c(X=>({...X,model:Y.target.value})),placeholder:"e.g., Georgetown, View"})]})]}),t.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[t.jsxs("div",{children:[t.jsx(Q,{htmlFor:"type",children:"Type"}),t.jsxs(ge,{value:o.type,onValueChange:Y=>c(X=>({...X,type:Y})),children:[t.jsx(he,{children:t.jsx(ve,{})}),t.jsxs(xe,{children:[t.jsx(O,{value:be.RV,children:"RV"}),t.jsx(O,{value:be.MOTORHOME,children:"Motorhome"}),t.jsx(O,{value:be.TRAVEL_TRAILER,children:"Travel Trailer"}),t.jsx(O,{value:be.FIFTH_WHEEL,children:"Fifth Wheel"}),t.jsx(O,{value:be.TOY_HAULER,children:"Toy Hauler"}),t.jsx(O,{value:be.SINGLE_WIDE,children:"Single Wide MH"}),t.jsx(O,{value:be.DOUBLE_WIDE,children:"Double Wide MH"}),t.jsx(O,{value:be.TRIPLE_WIDE,children:"Triple Wide MH"}),t.jsx(O,{value:be.PARK_MODEL,children:"Park Model"}),t.jsx(O,{value:be.MODULAR_HOME,children:"Modular Home"})]})]})]}),t.jsxs("div",{children:[t.jsx(Q,{htmlFor:"status",children:"Status"}),t.jsxs(ge,{value:o.status,onValueChange:Y=>c(X=>({...X,status:Y})),children:[t.jsx(he,{children:t.jsx(ve,{})}),t.jsxs(xe,{children:[t.jsx(O,{value:Oe.AVAILABLE,children:"Available"}),t.jsx(O,{value:Oe.RESERVED,children:"Reserved"}),t.jsx(O,{value:Oe.SOLD,children:"Sold"}),t.jsx(O,{value:Oe.SERVICE,children:"Service"}),t.jsx(O,{value:Oe.DELIVERED,children:"Delivered"})]})]})]}),t.jsxs("div",{children:[t.jsx(Q,{htmlFor:"location",children:"Location"}),t.jsx(J,{id:"location",value:o.location,onChange:Y=>c(X=>({...X,location:Y.target.value})),placeholder:"e.g., Lot A-15"})]})]}),t.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[t.jsxs("div",{children:[t.jsx(Q,{htmlFor:"price",children:"Price *"}),t.jsx(J,{id:"price",type:"number",value:o.price,onChange:Y=>c(X=>({...X,price:parseFloat(Y.target.value)||0})),min:"0",step:"0.01"})]}),t.jsxs("div",{children:[t.jsx(Q,{htmlFor:"cost",children:"Cost *"}),t.jsx(J,{id:"cost",type:"number",value:o.cost,onChange:Y=>c(X=>({...X,cost:parseFloat(Y.target.value)||0})),min:"0",step:"0.01"})]})]})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsx("h3",{className:"text-lg font-semibold",children:"Features"}),t.jsxs("div",{className:"flex space-x-2",children:[t.jsx(J,{value:d,onChange:Y=>m(Y.target.value),placeholder:"Add a feature",onKeyDown:Y=>{Y.key==="Enter"&&(Y.preventDefault(),x())}}),t.jsx($,{type:"button",onClick:x,children:t.jsx(Re,{className:"h-4 w-4"})})]}),t.jsxs("div",{className:"flex flex-wrap gap-2",children:[(w=o.features)==null?void 0:w.map((Y,X)=>t.jsxs(Z,{variant:"secondary",className:"flex items-center gap-1",children:[Y,t.jsx(nt,{className:"h-3 w-3 cursor-pointer",onClick:()=>b(Y)})]},X)),(!o.features||o.features.length===0)&&t.jsx("div",{className:"text-sm text-muted-foreground",children:"No features added yet"})]})]}),(o.type===be.SINGLE_WIDE||o.type===be.DOUBLE_WIDE||o.type===be.TRIPLE_WIDE||o.type===be.PARK_MODEL||o.type===be.MODULAR_HOME)&&t.jsxs("div",{className:"space-y-4",children:[t.jsx("h3",{className:"text-lg font-semibold",children:"Manufactured Housing Details"}),t.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[t.jsxs("div",{children:[t.jsx(Q,{htmlFor:"squareFootage",children:"Square Footage"}),t.jsx(J,{id:"squareFootage",value:((S=o.customFields)==null?void 0:S.squareFootage)||"",onChange:Y=>c(X=>({...X,customFields:{...X.customFields,squareFootage:Y.target.value}})),placeholder:"e.g., 1200"})]}),t.jsxs("div",{children:[t.jsx(Q,{htmlFor:"bedrooms",children:"Bedrooms"}),t.jsxs(ge,{value:((C=o.customFields)==null?void 0:C.bedrooms)||"",onValueChange:Y=>c(X=>({...X,customFields:{...X.customFields,bedrooms:Y}})),children:[t.jsx(he,{children:t.jsx(ve,{placeholder:"Select number"})}),t.jsxs(xe,{children:[t.jsx(O,{value:"1",children:"1"}),t.jsx(O,{value:"2",children:"2"}),t.jsx(O,{value:"3",children:"3"}),t.jsx(O,{value:"4",children:"4"}),t.jsx(O,{value:"5+",children:"5+"})]})]})]}),t.jsxs("div",{children:[t.jsx(Q,{htmlFor:"bathrooms",children:"Bathrooms"}),t.jsxs(ge,{value:((E=o.customFields)==null?void 0:E.bathrooms)||"",onValueChange:Y=>c(X=>({...X,customFields:{...X.customFields,bathrooms:Y}})),children:[t.jsx(he,{children:t.jsx(ve,{placeholder:"Select number"})}),t.jsxs(xe,{children:[t.jsx(O,{value:"1",children:"1"}),t.jsx(O,{value:"1.5",children:"1.5"}),t.jsx(O,{value:"2",children:"2"}),t.jsx(O,{value:"2.5",children:"2.5"}),t.jsx(O,{value:"3",children:"3"}),t.jsx(O,{value:"3+",children:"3+"})]})]})]}),t.jsxs("div",{children:[t.jsx(Q,{htmlFor:"constructionType",children:"Construction Type"}),t.jsxs(ge,{value:((N=o.customFields)==null?void 0:N.constructionType)||"",onValueChange:Y=>c(X=>({...X,customFields:{...X.customFields,constructionType:Y}})),children:[t.jsx(he,{children:t.jsx(ve,{placeholder:"Select type"})}),t.jsxs(xe,{children:[t.jsx(O,{value:"Manufactured",children:"Manufactured"}),t.jsx(O,{value:"Modular",children:"Modular"}),t.jsx(O,{value:"Park Model",children:"Park Model"})]})]})]}),t.jsxs("div",{children:[t.jsx(Q,{htmlFor:"exteriorSiding",children:"Exterior Siding"}),t.jsx(J,{id:"exteriorSiding",value:((D=o.customFields)==null?void 0:D.exteriorSiding)||"",onChange:Y=>c(X=>({...X,customFields:{...X.customFields,exteriorSiding:Y.target.value}})),placeholder:"e.g., Vinyl, Hardiplank"})]}),t.jsxs("div",{children:[t.jsx(Q,{htmlFor:"roofType",children:"Roof Type"}),t.jsx(J,{id:"roofType",value:((A=o.customFields)==null?void 0:A.roofType)||"",onChange:Y=>c(X=>({...X,customFields:{...X.customFields,roofType:Y.target.value}})),placeholder:"e.g., Shingle, Metal"})]})]})]}),(o.type===be.SINGLE_WIDE||o.type===be.DOUBLE_WIDE||o.type===be.TRIPLE_WIDE||o.type===be.PARK_MODEL||o.type===be.MODULAR_HOME)&&t.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[t.jsxs("div",{children:[t.jsx(Q,{htmlFor:"squareFootage",children:"Square Footage"}),t.jsx(J,{id:"squareFootage",value:((_=o.customFields)==null?void 0:_.squareFootage)||"",onChange:Y=>c(X=>({...X,customFields:{...X.customFields,squareFootage:Y.target.value}}))})]}),t.jsxs("div",{children:[t.jsx(Q,{htmlFor:"constructionType",children:"Construction Type"}),t.jsxs(ge,{value:((V=o.customFields)==null?void 0:V.constructionType)||"",onValueChange:Y=>c(X=>({...X,customFields:{...X.customFields,constructionType:Y}})),children:[t.jsx(he,{children:t.jsx(ve,{placeholder:"Select type"})}),t.jsxs(xe,{children:[t.jsx(O,{value:"Manufactured",children:"Manufactured"}),t.jsx(O,{value:"Modular",children:"Modular"}),t.jsx(O,{value:"Park Model",children:"Park Model"})]})]})]}),t.jsxs("div",{children:[t.jsx(Q,{htmlFor:"bedrooms",children:"Bedrooms"}),t.jsxs(ge,{value:((P=o.customFields)==null?void 0:P.bedrooms)||"",onValueChange:Y=>c(X=>({...X,customFields:{...X.customFields,bedrooms:Y}})),children:[t.jsx(he,{children:t.jsx(ve,{placeholder:"Select number"})}),t.jsxs(xe,{children:[t.jsx(O,{value:"1",children:"1"}),t.jsx(O,{value:"2",children:"2"}),t.jsx(O,{value:"3",children:"3"}),t.jsx(O,{value:"4",children:"4"}),t.jsx(O,{value:"5+",children:"5+"})]})]})]}),t.jsxs("div",{children:[t.jsx(Q,{htmlFor:"bathrooms",children:"Bathrooms"}),t.jsxs(ge,{value:((R=o.customFields)==null?void 0:R.bathrooms)||"",onValueChange:Y=>c(X=>({...X,customFields:{...X.customFields,bathrooms:Y}})),children:[t.jsx(he,{children:t.jsx(ve,{placeholder:"Select number"})}),t.jsxs(xe,{children:[t.jsx(O,{value:"1",children:"1"}),t.jsx(O,{value:"1.5",children:"1.5"}),t.jsx(O,{value:"2",children:"2"}),t.jsx(O,{value:"2.5",children:"2.5"}),t.jsx(O,{value:"3",children:"3"}),t.jsx(O,{value:"3+",children:"3+"})]})]})]}),t.jsxs("div",{children:[t.jsx(Q,{htmlFor:"exteriorSiding",children:"Exterior Siding"}),t.jsx(J,{id:"exteriorSiding",value:((M=o.customFields)==null?void 0:M.exteriorSiding)||"",onChange:Y=>c(X=>({...X,customFields:{...X.customFields,exteriorSiding:Y.target.value}}))})]}),t.jsxs("div",{children:[t.jsx(Q,{htmlFor:"roofType",children:"Roof Type"}),t.jsx(J,{id:"roofType",value:((F=o.customFields)==null?void 0:F.roofType)||"",onChange:Y=>c(X=>({...X,customFields:{...X.customFields,roofType:Y.target.value}}))})]})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsx("h3",{className:"text-lg font-semibold",children:"Specifications"}),t.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[t.jsxs("div",{children:[t.jsx(Q,{htmlFor:"exteriorColor",children:"Exterior Color"}),t.jsx(J,{id:"exteriorColor",value:((B=o.customFields)==null?void 0:B.exteriorColor)||"",onChange:Y=>c(X=>({...X,customFields:{...X.customFields,exteriorColor:Y.target.value}}))})]}),t.jsxs("div",{children:[t.jsx(Q,{htmlFor:"interiorColor",children:"Interior Color"}),t.jsx(J,{id:"interiorColor",value:((z=o.customFields)==null?void 0:z.interiorColor)||"",onChange:Y=>c(X=>({...X,customFields:{...X.customFields,interiorColor:Y.target.value}}))})]}),t.jsxs("div",{children:[t.jsx(Q,{htmlFor:"length",children:"Length (ft)"}),t.jsx(J,{id:"length",value:((H=o.customFields)==null?void 0:H.length)||"",onChange:Y=>c(X=>({...X,customFields:{...X.customFields,length:Y.target.value}}))})]}),t.jsxs("div",{children:[t.jsx(Q,{htmlFor:"weight",children:"Weight (lbs)"}),t.jsx(J,{id:"weight",value:((K=o.customFields)==null?void 0:K.weight)||"",onChange:Y=>c(X=>({...X,customFields:{...X.customFields,weight:Y.target.value}}))})]}),t.jsxs("div",{children:[t.jsx(Q,{htmlFor:"sleeps",children:"Sleeps"}),t.jsx(J,{id:"sleeps",value:((se=o.customFields)==null?void 0:se.sleeps)||"",onChange:Y=>c(X=>({...X,customFields:{...X.customFields,sleeps:Y.target.value}}))})]}),t.jsxs("div",{children:[t.jsx(Q,{htmlFor:"slideouts",children:"Slideouts"}),t.jsx(J,{id:"slideouts",value:((te=o.customFields)==null?void 0:te.slideouts)||"",onChange:Y=>c(X=>({...X,customFields:{...X.customFields,slideouts:Y.target.value}}))})]}),t.jsxs("div",{children:[t.jsx(Q,{htmlFor:"fuelType",children:"Fuel Type"}),t.jsxs(ge,{value:((le=o.customFields)==null?void 0:le.fuelType)||"",onValueChange:Y=>c(X=>({...X,customFields:{...X.customFields,fuelType:Y}})),children:[t.jsx(he,{children:t.jsx(ve,{placeholder:"Select fuel type"})}),t.jsxs(xe,{children:[t.jsx(O,{value:"",children:"Not Applicable"}),t.jsx(O,{value:"gasoline",children:"Gasoline"}),t.jsx(O,{value:"diesel",children:"Diesel"}),t.jsx(O,{value:"propane",children:"Propane"})]})]})]}),t.jsxs("div",{children:[t.jsx(Q,{htmlFor:"mileage",children:"Mileage"}),t.jsx(J,{id:"mileage",value:((ce=o.customFields)==null?void 0:ce.mileage)||"",onChange:Y=>c(X=>({...X,customFields:{...X.customFields,mileage:Y.target.value}}))})]}),t.jsxs("div",{children:[t.jsx(Q,{htmlFor:"condition",children:"Condition"}),t.jsxs(ge,{value:((ue=o.customFields)==null?void 0:ue.condition)||"New",onValueChange:Y=>c(X=>({...X,customFields:{...X.customFields,condition:Y}})),children:[t.jsx(he,{children:t.jsx(ve,{})}),t.jsxs(xe,{children:[t.jsx(O,{value:"New",children:"New"}),t.jsx(O,{value:"Used",children:"Used"}),t.jsx(O,{value:"Certified Pre-Owned",children:"Certified Pre-Owned"})]})]})]})]})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsx("h3",{className:"text-lg font-semibold",children:"Images"}),t.jsxs("div",{...j(),className:"border-2 border-dashed rounded-lg p-6 text-center cursor-pointer hover:bg-muted/10",children:[t.jsx("input",{...y()}),t.jsx(hl,{className:"h-8 w-8 mx-auto mb-2 text-muted-foreground"}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"Drag & drop images here, or click to select files"})]}),o.images&&o.images.length>0&&t.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mt-4",children:o.images.map((Y,X)=>t.jsxs("div",{className:"relative group",children:[t.jsx("img",{src:Y,alt:`Vehicle ${X+1}`,className:"h-24 w-full object-cover rounded-md"}),t.jsx($,{type:"button",variant:"destructive",size:"sm",className:"absolute top-1 right-1 opacity-0 group-hover:opacity-100 transition-opacity",onClick:()=>k(Y),children:t.jsx(nt,{className:"h-3 w-3"})})]},X))})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsx("h3",{className:"text-lg font-semibold",children:"Videos"}),t.jsxs("div",{className:"flex space-x-2",children:[t.jsx(J,{value:u,onChange:Y=>p(Y.target.value),placeholder:"Add a video URL (YouTube, Vimeo, etc.)",onKeyDown:Y=>{Y.key==="Enter"&&(Y.preventDefault(),T())}}),t.jsx($,{type:"button",onClick:T,children:t.jsx(Re,{className:"h-4 w-4"})})]}),t.jsxs("div",{className:"space-y-2",children:[(me=(ee=o.customFields)==null?void 0:ee.videos)==null?void 0:me.map((Y,X)=>t.jsxs("div",{className:"flex items-center justify-between p-2 bg-muted/30 rounded-md",children:[t.jsxs("div",{className:"flex items-center",children:[t.jsx(wc,{className:"h-4 w-4 mr-2 text-blue-500"}),t.jsx("a",{href:Y,target:"_blank",rel:"noopener noreferrer",className:"text-sm text-blue-600 hover:underline truncate max-w-md",children:Y})]}),t.jsx($,{type:"button",variant:"ghost",size:"sm",onClick:()=>L(Y),children:t.jsx(nt,{className:"h-4 w-4"})})]},X)),(!((Ne=o.customFields)!=null&&Ne.videos)||o.customFields.videos.length===0)&&t.jsx("div",{className:"text-sm text-muted-foreground",children:"No videos added yet"})]})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsx("h3",{className:"text-lg font-semibold",children:"Notes"}),t.jsx(Ze,{value:((Fe=o.customFields)==null?void 0:Fe.notes)||"",onChange:Y=>c(X=>({...X,customFields:{...X.customFields,notes:Y.target.value}})),placeholder:"Add any additional notes about this vehicle...",rows:3})]}),t.jsxs("div",{className:"flex justify-end space-x-3 pt-6 border-t",children:[t.jsx($,{type:"button",variant:"outline",onClick:s,disabled:i,children:"Cancel"}),t.jsx($,{type:"submit",disabled:i,children:i?t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),e?"Updating...":"Creating..."]}):t.jsxs(t.Fragment,{children:[t.jsx(Dn,{className:"h-4 w-4 mr-2"}),e?"Update":"Create"," Home"]})})]})]})})]}),h&&t.jsx("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center z-[60]",children:t.jsxs(U,{className:"w-full max-w-md",children:[t.jsxs(G,{children:[t.jsx(q,{children:"Scan VIN Barcode"}),t.jsx(oe,{children:"Position the barcode in front of your camera"})]}),t.jsxs(W,{className:"space-y-4",children:[t.jsx("div",{className:"bg-black h-64 flex items-center justify-center rounded-md",children:t.jsx(Ta,{className:"h-12 w-12 text-white/50"})}),t.jsxs("div",{className:"flex justify-end space-x-2",children:[t.jsx($,{variant:"outline",onClick:()=>v(!1),children:"Cancel"}),t.jsx($,{onClick:()=>{I("1FDXE4FS8KDC"+Math.floor(Math.random()*1e5).toString().padStart(5,"0"))},children:"Simulate Scan"})]})]})]})})]})}function Z4({vehicle:e,onClose:n,onEdit:s}){var i,l,o,c,d,m,u,p,h,v,j,y,g,x,b,T,L,k,I,w,S,C,E;const r=N=>{switch(N){case Oe.AVAILABLE:return"bg-green-50 text-green-700 border-green-200";case Oe.RESERVED:return"bg-yellow-50 text-yellow-700 border-yellow-200";case Oe.SOLD:return"bg-blue-50 text-blue-700 border-blue-200";case Oe.SERVICE:return"bg-orange-50 text-orange-700 border-orange-200";case Oe.DELIVERED:return"bg-purple-50 text-purple-700 border-purple-200";default:return"bg-gray-50 text-gray-700 border-gray-200"}},a=N=>N.replace("_"," ").toUpperCase();return t.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:t.jsxs(U,{className:"w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[t.jsx(G,{children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsxs(q,{className:"text-xl",children:[e.year," ",e.make," ",e.model]}),t.jsxs(oe,{children:["VIN: ",e.vin]})]}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsxs($,{onClick:()=>s(e),size:"sm",children:[t.jsx(zt,{className:"h-4 w-4 mr-2"}),"Edit Vehicle"]}),t.jsx($,{variant:"ghost",size:"sm",onClick:n,children:t.jsx(nt,{className:"h-4 w-4"})})]})]})}),t.jsxs(W,{className:"space-y-6",children:[t.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[t.jsx(Z,{className:ae("ri-badge-status",r(e.status)),children:e.status.toUpperCase()}),t.jsx(Z,{variant:"outline",children:a(e.type)}),t.jsx("div",{className:"ml-auto font-bold text-lg text-primary",children:re(e.price)})]}),t.jsxs(bt,{defaultValue:"details",className:"space-y-4",children:[t.jsxs(jt,{children:[t.jsx(je,{value:"details",children:"Details"}),t.jsx(je,{value:"images",children:"Images"}),t.jsx(je,{value:"features",children:"Features"}),t.jsx(je,{value:"videos",children:"Videos"}),t.jsx(je,{value:"notes",children:"Notes"})]}),t.jsxs(we,{value:"details",className:"space-y-4",children:[t.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[t.jsxs("div",{children:[t.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Make"}),t.jsx("p",{className:"font-medium",children:e.make})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Model"}),t.jsx("p",{className:"font-medium",children:e.model})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Year"}),t.jsx("p",{className:"font-medium",children:e.year})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"VIN"}),t.jsx("p",{className:"font-medium font-mono",children:e.vin})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Type"}),t.jsx("p",{className:"font-medium",children:a(e.type)})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Location"}),t.jsx("p",{className:"font-medium",children:e.location})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Price"}),t.jsx("p",{className:"font-medium text-primary",children:re(e.price)})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Cost"}),t.jsx("p",{className:"font-medium",children:re(e.cost)})]})]}),t.jsxs("div",{className:"mt-6",children:[t.jsx("h3",{className:"text-lg font-semibold mb-3",children:"Specifications"}),t.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[((i=e.customFields)==null?void 0:i.exteriorColor)&&t.jsxs("div",{children:[t.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Exterior Color"}),t.jsx("p",{className:"font-medium",children:e.customFields.exteriorColor})]}),((l=e.customFields)==null?void 0:l.interiorColor)&&t.jsxs("div",{children:[t.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Interior Color"}),t.jsx("p",{className:"font-medium",children:e.customFields.interiorColor})]}),((o=e.customFields)==null?void 0:o.length)&&t.jsxs("div",{children:[t.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Length"}),t.jsxs("p",{className:"font-medium",children:[e.customFields.length," ft"]})]}),((c=e.customFields)==null?void 0:c.weight)&&t.jsxs("div",{children:[t.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Weight"}),t.jsxs("p",{className:"font-medium",children:[e.customFields.weight," lbs"]})]}),((d=e.customFields)==null?void 0:d.sleeps)&&t.jsxs("div",{children:[t.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Sleeps"}),t.jsx("p",{className:"font-medium",children:e.customFields.sleeps})]}),((m=e.customFields)==null?void 0:m.slideouts)&&t.jsxs("div",{children:[t.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Slideouts"}),t.jsx("p",{className:"font-medium",children:e.customFields.slideouts})]}),((u=e.customFields)==null?void 0:u.fuelType)&&t.jsxs("div",{children:[t.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Fuel Type"}),t.jsx("p",{className:"font-medium",children:e.customFields.fuelType})]}),((p=e.customFields)==null?void 0:p.mileage)&&t.jsxs("div",{children:[t.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Mileage"}),t.jsx("p",{className:"font-medium",children:e.customFields.mileage})]}),((h=e.customFields)==null?void 0:h.condition)&&t.jsxs("div",{children:[t.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Condition"}),t.jsx("p",{className:"font-medium",children:e.customFields.condition})]}),(e.type===be.SINGLE_WIDE||e.type===be.DOUBLE_WIDE||e.type===be.TRIPLE_WIDE||e.type===be.PARK_MODEL||e.type===be.MODULAR_HOME)&&t.jsxs(t.Fragment,{children:[((v=e.customFields)==null?void 0:v.squareFootage)&&t.jsxs("div",{children:[t.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Square Footage"}),t.jsxs("p",{className:"font-medium",children:[e.customFields.squareFootage," sq ft"]})]}),((j=e.customFields)==null?void 0:j.bedrooms)&&t.jsxs("div",{children:[t.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Bedrooms"}),t.jsx("p",{className:"font-medium",children:e.customFields.bedrooms})]}),((y=e.customFields)==null?void 0:y.bathrooms)&&t.jsxs("div",{children:[t.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Bathrooms"}),t.jsx("p",{className:"font-medium",children:e.customFields.bathrooms})]}),((g=e.customFields)==null?void 0:g.constructionType)&&t.jsxs("div",{children:[t.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Construction Type"}),t.jsx("p",{className:"font-medium",children:e.customFields.constructionType})]}),((x=e.customFields)==null?void 0:x.exteriorSiding)&&t.jsxs("div",{children:[t.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Exterior Siding"}),t.jsx("p",{className:"font-medium",children:e.customFields.exteriorSiding})]}),((b=e.customFields)==null?void 0:b.roofType)&&t.jsxs("div",{children:[t.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Roof Type"}),t.jsx("p",{className:"font-medium",children:e.customFields.roofType})]})]}),(e.type===be.SINGLE_WIDE||e.type===be.DOUBLE_WIDE||e.type===be.TRIPLE_WIDE||e.type===be.PARK_MODEL||e.type===be.MODULAR_HOME)&&t.jsxs(t.Fragment,{children:[((T=e.customFields)==null?void 0:T.squareFootage)&&t.jsxs("div",{children:[t.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Square Footage"}),t.jsxs("p",{className:"font-medium",children:[e.customFields.squareFootage," sq ft"]})]}),((L=e.customFields)==null?void 0:L.bedrooms)&&t.jsxs("div",{children:[t.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Bedrooms"}),t.jsx("p",{className:"font-medium",children:e.customFields.bedrooms})]}),((k=e.customFields)==null?void 0:k.bathrooms)&&t.jsxs("div",{children:[t.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Bathrooms"}),t.jsx("p",{className:"font-medium",children:e.customFields.bathrooms})]}),((I=e.customFields)==null?void 0:I.constructionType)&&t.jsxs("div",{children:[t.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Construction Type"}),t.jsx("p",{className:"font-medium",children:e.customFields.constructionType})]}),((w=e.customFields)==null?void 0:w.exteriorSiding)&&t.jsxs("div",{children:[t.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Exterior Siding"}),t.jsx("p",{className:"font-medium",children:e.customFields.exteriorSiding})]}),((S=e.customFields)==null?void 0:S.roofType)&&t.jsxs("div",{children:[t.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Roof Type"}),t.jsx("p",{className:"font-medium",children:e.customFields.roofType})]})]})]})]})]}),t.jsx(we,{value:"images",children:e.images&&e.images.length>0?t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:e.images.map((N,D)=>t.jsx("div",{className:"overflow-hidden rounded-md",children:t.jsx("img",{src:N,alt:`${e.make} ${e.model} ${D+1}`,className:"w-full h-auto object-cover hover:scale-105 transition-transform duration-300"})},D))}):t.jsxs("div",{className:"text-center py-12 text-muted-foreground border-2 border-dashed rounded-lg",children:[t.jsx(hl,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground/50"}),t.jsx("p",{children:"No images available"})]})}),t.jsx(we,{value:"features",children:e.features&&e.features.length>0?t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:e.features.map((N,D)=>t.jsxs("div",{className:"flex items-center p-2 bg-muted/30 rounded-md",children:[t.jsx(Xt,{className:"h-4 w-4 mr-2 text-primary"}),t.jsx("span",{children:N})]},D))}):t.jsxs("div",{className:"text-center py-12 text-muted-foreground border-2 border-dashed rounded-lg",children:[t.jsx(Xt,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground/50"}),t.jsx("p",{children:"No features listed"})]})}),t.jsx(we,{value:"videos",children:(C=e.customFields)!=null&&C.videos&&e.customFields.videos.length>0?t.jsx("div",{className:"space-y-4",children:e.customFields.videos.map((N,D)=>t.jsx("div",{className:"p-3 bg-muted/30 rounded-md",children:t.jsxs("div",{className:"flex items-center mb-2",children:[t.jsx(wc,{className:"h-4 w-4 mr-2 text-primary"}),t.jsxs("a",{href:N,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline",children:["Video ",D+1]})]})},D))}):t.jsxs("div",{className:"text-center py-12 text-muted-foreground border-2 border-dashed rounded-lg",children:[t.jsx(wc,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground/50"}),t.jsx("p",{children:"No videos available"})]})}),t.jsx(we,{value:"notes",children:(E=e.customFields)!=null&&E.notes?t.jsx("div",{className:"p-4 bg-muted/30 rounded-md whitespace-pre-wrap",children:e.customFields.notes}):t.jsxs("div",{className:"text-center py-12 text-muted-foreground border-2 border-dashed rounded-lg",children:[t.jsx(Et,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground/50"}),t.jsx("p",{children:"No notes available"})]})})]}),t.jsxs("div",{className:"flex justify-end space-x-3 pt-6 border-t",children:[t.jsx($,{variant:"outline",onClick:n,children:"Close"}),t.jsxs($,{onClick:()=>s(e),children:[t.jsx(zt,{className:"h-4 w-4 mr-2"}),"Edit Vehicle"]})]})]})]})})}function eP({onImport:e,onCancel:n}){const{toast:s}=ot(),[r,a]=f.useState(null),[i,l]=f.useState([]),[o,c]=f.useState({}),[d,m]=f.useState(!1),[u,p]=f.useState("upload"),[h,v]=f.useState([]),j=["vin","make","model","year","price","cost"],y=[{key:"vin",label:"VIN"},{key:"make",label:"Make"},{key:"model",label:"Model"},{key:"year",label:"Year"},{key:"type",label:"Type"},{key:"status",label:"Status"},{key:"price",label:"Price"},{key:"cost",label:"Cost"},{key:"location",label:"Location"},{key:"features",label:"Features"},{key:"exteriorColor",label:"Exterior Color"},{key:"interiorColor",label:"Interior Color"},{key:"length",label:"Length"},{key:"weight",label:"Weight"},{key:"sleeps",label:"Sleeps"},{key:"slideouts",label:"Slideouts"},{key:"fuelType",label:"Fuel Type"},{key:"mileage",label:"Mileage"},{key:"condition",label:"Condition"}],g=S=>{var E;const C=(E=S.target.files)==null?void 0:E[0];C&&(a(C),Dc.parse(C,{header:!0,skipEmptyLines:!0,complete:N=>{if(l(N.data),N.meta.fields){const D={};N.meta.fields.forEach(A=>{const _=A.toLowerCase().replace(/[^a-z0-9]/g,"");y.forEach(V=>{const P=V.key.toLowerCase();(_===P||_===V.label.toLowerCase().replace(/[^a-z0-9]/g,""))&&(D[A]=V.key)})}),c(D)}p("map")},error:N=>{s({title:"Error Parsing CSV",description:N.message,variant:"destructive"})}}))},x=(S,C)=>{c(E=>({...E,[S]:C}))},b=()=>{if(j.filter(C=>Object.values(o).includes(C)).length<j.length){s({title:"Missing Required Fields",description:`Please map all required fields: ${j.join(", ")}`,variant:"destructive"});return}p("preview"),v(i.map((C,E)=>E))},T=S=>{v(S?i.map((C,E)=>E):[])},L=S=>{h.includes(S)?v(h.filter(C=>C!==S)):v([...h,S])},k=async()=>{if(h.length===0){s({title:"No Rows Selected",description:"Please select at least one row to import",variant:"destructive"});return}m(!0);try{const S=h.map(C=>{const E=i[C],N={images:[],features:[],customFields:{}};return Object.entries(o).forEach(([D,A])=>{const _=E[D];A==="features"?N.features=_?_.split(",").map(V=>V.trim()):[]:A==="year"||A==="price"||A==="cost"?N[A]=parseFloat(_)||0:A==="type"?N.type=I(_):A==="status"?N.status=w(_):["exteriorColor","interiorColor","length","weight","sleeps","slideouts","fuelType","mileage","condition"].includes(A)?N.customFields={...N.customFields,[A]:_}:N[A]=_}),N});await e(S),s({title:"Import Successful",description:`Imported ${S.length} vehicles`})}catch{s({title:"Import Failed",description:"There was an error importing the vehicles",variant:"destructive"})}finally{m(!1)}},I=S=>{const C=S.toLowerCase().replace(/[^a-z0-9]/g,"");return C.includes("motorhome")?be.MOTORHOME:C.includes("travel")&&C.includes("trailer")?be.TRAVEL_TRAILER:C.includes("fifth")&&C.includes("wheel")?be.FIFTH_WHEEL:C.includes("toy")&&C.includes("hauler")?be.TOY_HAULER:be.RV},w=S=>{const C=S.toLowerCase().replace(/[^a-z0-9]/g,"");return C.includes("reserved")?Oe.RESERVED:C.includes("sold")?Oe.SOLD:C.includes("service")?Oe.SERVICE:C.includes("delivered")?Oe.DELIVERED:Oe.AVAILABLE};return t.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:t.jsxs(U,{className:"w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[t.jsx(G,{children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx(q,{children:"Import Inventory from CSV"}),t.jsxs(oe,{children:[u==="upload"&&"Upload a CSV file with your inventory data",u==="map"&&"Map CSV columns to vehicle fields",u==="preview"&&"Preview and select vehicles to import"]})]}),t.jsx($,{variant:"ghost",size:"sm",onClick:n,children:t.jsx(nt,{className:"h-4 w-4"})})]})}),t.jsxs(W,{children:[u==="upload"&&t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"border-2 border-dashed rounded-lg p-6 text-center",children:[t.jsx(Et,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground"}),t.jsx("p",{className:"text-muted-foreground mb-4",children:"Upload a CSV file with your inventory data"}),t.jsx(J,{type:"file",accept:".csv",onChange:g,className:"max-w-sm mx-auto"})]}),t.jsxs("div",{className:"bg-muted/30 p-4 rounded-lg",children:[t.jsx("h3",{className:"font-medium mb-2",children:"CSV Format Guidelines"}),t.jsxs("ul",{className:"text-sm space-y-1 text-muted-foreground",children:[t.jsx("li",{children:"• File should be in CSV format"}),t.jsx("li",{children:"• First row should contain column headers"}),t.jsx("li",{children:"• Required fields: VIN, Make, Model, Year, Price, Cost"}),t.jsx("li",{children:"• Features should be comma-separated within quotes"})]})]}),t.jsx("div",{className:"flex justify-end",children:t.jsx($,{variant:"outline",onClick:n,children:"Cancel"})})]}),u==="map"&&t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"bg-muted/30 p-4 rounded-lg",children:[t.jsxs("h3",{className:"font-medium mb-2 flex items-center",children:[t.jsx(Et,{className:"h-4 w-4 mr-2"}),r==null?void 0:r.name]}),t.jsxs("p",{className:"text-sm text-muted-foreground",children:[i.length," rows found"]})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsx("h3",{className:"font-medium",children:"Map CSV Columns to Vehicle Fields"}),t.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Required fields are marked with *"}),t.jsx("div",{className:"space-y-3 max-h-96 overflow-y-auto p-2",children:r&&i.length>0&&Object.keys(i[0]).map(S=>t.jsxs("div",{className:"flex items-center space-x-4",children:[t.jsx("div",{className:"w-1/3 font-medium truncate",children:S}),t.jsx("div",{className:"w-2/3",children:t.jsxs("select",{value:o[S]||"",onChange:C=>x(S,C.target.value),className:"w-full p-2 border rounded-md",children:[t.jsx("option",{value:"",children:"-- Skip this field --"}),y.map(C=>t.jsxs("option",{value:C.key,children:[C.label," ",j.includes(C.key)?"*":""]},C.key))]})})]},S))})]}),t.jsxs("div",{className:"flex justify-end space-x-3",children:[t.jsx($,{variant:"outline",onClick:n,children:"Cancel"}),t.jsx($,{onClick:b,children:"Preview Data"})]})]}),u==="preview"&&t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(Je,{checked:h.length===i.length,onCheckedChange:T}),t.jsxs(Q,{children:["Select All (",i.length," vehicles)"]})]}),t.jsxs(Z,{children:[h.length," selected"]})]}),t.jsx("div",{className:"border rounded-md overflow-hidden",children:t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"w-full",children:[t.jsx("thead",{className:"bg-muted/50",children:t.jsxs("tr",{children:[t.jsx("th",{className:"p-2 text-left"}),Object.entries(o).filter(([S,C])=>C).map(([S,C])=>t.jsxs("th",{className:"p-2 text-left text-sm",children:[C,j.includes(C)&&t.jsx("span",{className:"text-red-500",children:"*"})]},S))]})}),t.jsx("tbody",{children:i.map((S,C)=>t.jsxs("tr",{className:"border-t hover:bg-muted/10",children:[t.jsx("td",{className:"p-2",children:t.jsx(Je,{checked:h.includes(C),onCheckedChange:()=>L(C)})}),Object.entries(o).filter(([E,N])=>N).map(([E,N])=>t.jsx("td",{className:"p-2 text-sm",children:S[E]||t.jsx("span",{className:"text-muted-foreground italic",children:"Empty"})},E))]},C))})]})})}),t.jsxs("div",{className:"flex justify-end space-x-3",children:[t.jsx($,{variant:"outline",onClick:()=>p("map"),children:"Back to Mapping"}),t.jsx($,{onClick:k,disabled:d,children:d?t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Importing..."]}):t.jsxs(t.Fragment,{children:[t.jsx(_y,{className:"h-4 w-4 mr-2"}),"Import ",h.length," Vehicles"]})})]})]})]})]})})}function tP({onScan:e,onClose:n}){const{toast:s}=ot(),[r,a]=f.useState(!1),[i,l]=f.useState(null);f.useEffect(()=>{const d=setTimeout(()=>{a(!0)},1e3);return()=>clearTimeout(d)},[]);const o=()=>{const d="ABCDEFGHJKLMNPRSTUVWXYZ0123456789";let m="";for(let u=0;u<17;u++)m+=d.charAt(Math.floor(Math.random()*d.length));l(m),s({title:"Barcode Scanned",description:`VIN: ${m}`})},c=()=>{i&&e(i)};return t.jsx("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center z-[60]",children:t.jsxs(U,{className:"w-full max-w-md",children:[t.jsx(G,{children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx(q,{children:"Scan VIN Barcode"}),t.jsx(oe,{children:"Position the barcode in front of your camera"})]}),t.jsx($,{variant:"ghost",size:"sm",onClick:n,children:t.jsx(nt,{className:"h-4 w-4"})})]})}),t.jsxs(W,{className:"space-y-4",children:[t.jsx("div",{className:"bg-black h-64 flex items-center justify-center rounded-md relative",children:r?t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:t.jsx("div",{className:"w-3/4 h-1 bg-red-500 animate-pulse"})}),t.jsx("div",{className:"text-white text-sm absolute bottom-2 left-2",children:i?`Scanned: ${i}`:"Scanning..."})]}):t.jsx(Ta,{className:"h-12 w-12 text-white/50"})}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx($,{variant:"outline",onClick:n,children:"Cancel"}),i?t.jsxs($,{onClick:c,children:[t.jsx(yf,{className:"h-4 w-4 mr-2"}),"Confirm"]}):t.jsx($,{onClick:o,children:"Simulate Scan"})]})]})]})})}function Fg(){const{vehicles:e,createVehicle:n,updateVehicleStatus:s,deleteVehicle:r}=Ol(),{toast:a}=ot(),[i,l]=f.useState(!1),[o,c]=f.useState(!1),[d,m]=f.useState(!1),[u,p]=f.useState(!1),[h,v]=f.useState(null),j=()=>{v(null),l(!0)},y=I=>{v(I),l(!0)},g=I=>{v(I),c(!0)},x=async I=>{if(window.confirm("Are you sure you want to delete this vehicle?"))try{await r(I),a({title:"Vehicle Deleted",description:"The vehicle has been removed from inventory"})}catch{a({title:"Error",description:"Failed to delete vehicle",variant:"destructive"})}},b=async(I,w)=>{try{await s(I,w),a({title:"Status Updated",description:`Vehicle status changed to ${w}`})}catch{a({title:"Error",description:"Failed to update vehicle status",variant:"destructive"})}},T=async I=>{try{h?(await s(h.id,I.status||h.status),a({title:"Vehicle Updated",description:"Vehicle information has been updated"})):(await n(I),a({title:"Vehicle Added",description:"New vehicle has been added to inventory"})),l(!1),v(null)}catch{a({title:"Error",description:`Failed to ${h?"update":"create"} vehicle`,variant:"destructive"})}},L=async I=>{try{for(const w of I)await n(w);m(!1),a({title:"Import Successful",description:`Imported ${I.length} vehicles`})}catch{a({title:"Import Failed",description:"There was an error importing the vehicles",variant:"destructive"})}},k=I=>{const w=e.find(S=>S.vin===I);w?(v(w),c(!0),a({title:"Vehicle Found",description:`Found existing vehicle with VIN: ${I}`})):(v(null),l(!0),setTimeout(()=>{const S=document.getElementById("vin");if(S){S.value=I;const C=new Event("input",{bubbles:!0});S.dispatchEvent(C)}},100),a({title:"New VIN Scanned",description:`Creating new vehicle with VIN: ${I}`})),p(!1)};return t.jsxs("div",{className:"space-y-8",children:[i&&t.jsx(J4,{vehicle:h||void 0,onSave:T,onCancel:()=>{l(!1),v(null)}}),o&&h&&t.jsx(Z4,{vehicle:h,onClose:()=>c(!1),onEdit:y}),d&&t.jsx(eP,{onImport:L,onCancel:()=>m(!1)}),u&&t.jsx(tP,{onScan:k,onClose:()=>p(!1)}),t.jsx("div",{className:"ri-page-header",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"ri-page-title",children:"Inventory Management"}),t.jsx("p",{className:"ri-page-description",children:"Manage your RV and motorhome inventory"})]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsxs($,{variant:"outline",onClick:()=>p(!0),children:[t.jsx(My,{className:"h-4 w-4 mr-2"}),"Scan Barcode"]}),t.jsxs($,{variant:"outline",onClick:()=>m(!0),children:[t.jsx(_y,{className:"h-4 w-4 mr-2"}),"Import CSV"]}),t.jsxs($,{onClick:j,children:[t.jsx(Re,{className:"h-4 w-4 mr-2"}),"Add Home"]})]})]})}),t.jsxs("div",{className:"ri-stats-grid",children:[t.jsxs(U,{className:"shadow-sm border-0 bg-gradient-to-br from-blue-50 to-blue-100/50",children:[t.jsxs(G,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[t.jsx(q,{className:"text-sm font-medium text-blue-900",children:"Total Units"}),t.jsx(Xt,{className:"h-4 w-4 text-blue-600"})]}),t.jsxs(W,{children:[t.jsx("div",{className:"text-2xl font-bold text-blue-900",children:e.length}),t.jsxs("p",{className:"text-xs text-blue-600 flex items-center mt-1",children:[t.jsx(De,{className:"h-3 w-3 mr-1"}),"+5 units this month"]})]})]}),t.jsxs(U,{className:"shadow-sm border-0 bg-gradient-to-br from-green-50 to-green-100/50",children:[t.jsxs(G,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[t.jsx(q,{className:"text-sm font-medium text-green-900",children:"Available"}),t.jsx(Xt,{className:"h-4 w-4 text-green-600"})]}),t.jsxs(W,{children:[t.jsx("div",{className:"text-2xl font-bold text-green-900",children:e.filter(I=>I.status===Oe.AVAILABLE).length}),t.jsxs("p",{className:"text-xs text-green-600 flex items-center mt-1",children:[t.jsx(De,{className:"h-3 w-3 mr-1"}),"Ready for sale"]})]})]}),t.jsxs(U,{className:"shadow-sm border-0 bg-gradient-to-br from-yellow-50 to-yellow-100/50",children:[t.jsxs(G,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[t.jsx(q,{className:"text-sm font-medium text-yellow-900",children:"Reserved"}),t.jsx(Xt,{className:"h-4 w-4 text-yellow-600"})]}),t.jsxs(W,{children:[t.jsx("div",{className:"text-2xl font-bold text-yellow-900",children:e.filter(I=>I.status===Oe.RESERVED).length}),t.jsxs("p",{className:"text-xs text-yellow-600 flex items-center mt-1",children:[t.jsx(De,{className:"h-3 w-3 mr-1"}),"Pending sale"]})]})]}),t.jsxs(U,{className:"shadow-sm border-0 bg-gradient-to-br from-purple-50 to-purple-100/50",children:[t.jsxs(G,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[t.jsx(q,{className:"text-sm font-medium text-purple-900",children:"Total Value"}),t.jsx(Ve,{className:"h-4 w-4 text-purple-600"})]}),t.jsxs(W,{children:[t.jsx("div",{className:"text-2xl font-bold text-purple-900",children:re(e.reduce((I,w)=>I+w.price,0))}),t.jsxs("p",{className:"text-xs text-purple-600 flex items-center mt-1",children:[t.jsx(De,{className:"h-3 w-3 mr-1"}),"Inventory value"]})]})]})]}),t.jsx(Zk,{vehicles:e,onEdit:y,onDelete:x,onView:g,onStatusChange:b})]})}function nP(){return t.jsxs(Wt,{children:[t.jsx(ke,{path:"/",element:t.jsx(Fg,{})}),t.jsx(ke,{path:"/*",element:t.jsx(Fg,{})})]})}const sP=[{id:"1",customerId:"cust-1",vehicleId:"veh-1",items:[{id:"1",description:"2024 Forest River Georgetown",quantity:1,unitPrice:125e3,total:125e3},{id:"2",description:"Extended Warranty",quantity:1,unitPrice:2500,total:2500}],subtotal:127500,tax:10200,total:137700,status:Pn.SENT,validUntil:new Date("2024-02-15"),notes:"Customer interested in financing options",customFields:{},createdAt:new Date("2024-01-15"),updatedAt:new Date("2024-01-16")},{id:"2",customerId:"cust-2",vehicleId:"veh-2",items:[{id:"3",description:"2023 Winnebago View",quantity:1,unitPrice:89e3,total:89e3}],subtotal:89e3,tax:7120,total:96120,status:Pn.ACCEPTED,validUntil:new Date("2024-02-20"),notes:"Ready to proceed with purchase",customFields:{},createdAt:new Date("2024-01-12"),updatedAt:new Date("2024-01-18")}];function rP({quote:e,onClose:n,onEdit:s}){const r=a=>{switch(a){case"draft":return"bg-gray-50 text-gray-700 border-gray-200";case"sent":return"bg-blue-50 text-blue-700 border-blue-200";case"viewed":return"bg-yellow-50 text-yellow-700 border-yellow-200";case"accepted":return"bg-green-50 text-green-700 border-green-200";case"rejected":return"bg-red-50 text-red-700 border-red-200";case"expired":return"bg-orange-50 text-orange-700 border-orange-200";default:return"bg-gray-50 text-gray-700 border-gray-200"}};return t.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:t.jsxs(U,{className:"w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[t.jsx(G,{children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsxs(q,{className:"text-xl",children:["Quote #",e.id]}),t.jsx(oe,{children:"Quote details and line items"})]}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsxs($,{onClick:()=>s(e),size:"sm",children:[t.jsx(zt,{className:"h-4 w-4 mr-2"}),"Edit Quote"]}),t.jsx($,{variant:"ghost",size:"sm",onClick:n,children:t.jsx(nt,{className:"h-4 w-4"})})]})]})}),t.jsxs(W,{className:"space-y-6",children:[t.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[t.jsxs("div",{children:[t.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Customer ID"}),t.jsx("p",{className:"font-medium",children:e.customerId})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Status"}),t.jsx("div",{className:"mt-1",children:t.jsx(Z,{className:ae("ri-badge-status",r(e.status)),children:e.status.toUpperCase()})})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Created Date"}),t.jsx("p",{className:"font-medium",children:Pe(e.createdAt)})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Valid Until"}),t.jsx("p",{className:"font-medium",children:Pe(e.validUntil)})]})]}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Line Items"}),t.jsx("div",{className:"space-y-3",children:e.items.map((a,i)=>t.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[t.jsxs("div",{className:"flex-1",children:[t.jsx("h4",{className:"font-medium",children:a.description}),t.jsxs("p",{className:"text-sm text-muted-foreground",children:["Quantity: ",a.quantity," × ",re(a.unitPrice)]})]}),t.jsx("div",{className:"text-right",children:t.jsx("div",{className:"font-bold text-lg",children:re(a.total)})})]},a.id))})]}),t.jsx("div",{className:"bg-muted/30 p-4 rounded-lg",children:t.jsxs("div",{className:"space-y-2",children:[t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{children:"Subtotal:"}),t.jsx("span",{children:re(e.subtotal)})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{children:"Tax:"}),t.jsx("span",{children:re(e.tax)})]}),t.jsxs("div",{className:"flex justify-between text-lg font-bold border-t pt-2",children:[t.jsx("span",{children:"Total:"}),t.jsx("span",{children:re(e.total)})]})]})}),e.notes&&t.jsxs("div",{children:[t.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Notes"}),t.jsx("div",{className:"mt-1 p-3 bg-muted/30 rounded-md",children:t.jsx("p",{className:"text-sm",children:e.notes})})]})]})]})})}function Og(){const{toast:e}=ot(),[n,s]=f.useState(sP),[r,a]=f.useState(""),[i,l]=f.useState("all"),[o,c]=f.useState(!1),[d,m]=f.useState(null),[u,p]=f.useState(null),[h,v]=f.useState(""),j=C=>{switch(C){case Pn.DRAFT:return"bg-gray-50 text-gray-700 border-gray-200";case Pn.SENT:return"bg-blue-50 text-blue-700 border-blue-200";case Pn.VIEWED:return"bg-yellow-50 text-yellow-700 border-yellow-200";case Pn.ACCEPTED:return"bg-green-50 text-green-700 border-green-200";case Pn.REJECTED:return"bg-red-50 text-red-700 border-red-200";case Pn.EXPIRED:return"bg-orange-50 text-orange-700 border-orange-200";default:return"bg-gray-50 text-gray-700 border-gray-200"}},y=n.filter(C=>{const E=C.id.toLowerCase().includes(r.toLowerCase())||C.customerId.toLowerCase().includes(r.toLowerCase()),N=i==="all"||C.status===i;return E&&N}),g=()=>{m(null),v(""),c(!0)},x=C=>{m(C),v(C.customerId),c(!0)},b=C=>{p(C)},T=()=>p(null),L=async C=>{try{if(d)s(E=>E.map(N=>N.id===d.id?{...N,...C,updatedAt:new Date}:N)),e({title:"Success",description:"Quote updated successfully"});else{const E={id:Math.random().toString(36).substr(2,9),...C,status:Pn.DRAFT,createdAt:new Date,updatedAt:new Date};s(N=>[...N,E]),e({title:"Success",description:"Quote created successfully"})}c(!1),m(null)}catch{e({title:"Error",description:"Failed to save quote",variant:"destructive"})}},k=async C=>{try{s(E=>E.map(N=>N.id===C?{...N,status:Pn.SENT,updatedAt:new Date}:N)),e({title:"Success",description:"Quote sent to customer"})}catch{e({title:"Error",description:"Failed to send quote",variant:"destructive"})}},I=async C=>{try{const E=n.find(N=>N.id===C);if(E){const N={...E,id:Math.random().toString(36).substr(2,9),status:Pn.DRAFT,createdAt:new Date,updatedAt:new Date};s(D=>[...D,N]),e({title:"Success",description:"Quote duplicated successfully"})}}catch{e({title:"Error",description:"Failed to duplicate quote",variant:"destructive"})}},w=async C=>{if(window.confirm("Are you sure you want to delete this quote?"))try{s(E=>E.filter(N=>N.id!==C)),e({title:"Success",description:"Quote deleted successfully"})}catch{e({title:"Error",description:"Failed to delete quote",variant:"destructive"})}},S={total:n.length,draft:n.filter(C=>C.status==="draft").length,sent:n.filter(C=>C.status==="sent").length,accepted:n.filter(C=>C.status==="accepted").length,totalValue:n.reduce((C,E)=>C+E.total,0),acceptedValue:n.filter(C=>C.status==="accepted").reduce((C,E)=>C+E.total,0)};return t.jsxs("div",{className:"space-y-8",children:[o&&t.jsx(Ew,{quote:d,customerId:h,onSave:L,onCancel:()=>{c(!1),m(null)}}),u&&t.jsx(rP,{quote:u,onClose:T,onEdit:x}),t.jsx("div",{className:"ri-page-header",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"ri-page-title",children:"Quote Builder"}),t.jsx("p",{className:"ri-page-description",children:"Create and manage customer quotes with advanced pricing rules"})]}),t.jsxs($,{className:"shadow-sm",onClick:g,children:[t.jsx(Re,{className:"h-4 w-4 mr-2"}),"New Quote"]})]})}),t.jsxs("div",{className:"ri-stats-grid",children:[t.jsxs(U,{className:"shadow-sm border-0 bg-gradient-to-br from-blue-50 to-blue-100/50",children:[t.jsxs(G,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[t.jsx(q,{className:"text-sm font-medium text-blue-900",children:"Total Quotes"}),t.jsx(Et,{className:"h-4 w-4 text-blue-600"})]}),t.jsxs(W,{children:[t.jsx("div",{className:"text-2xl font-bold text-blue-900",children:S.total}),t.jsxs("p",{className:"text-xs text-blue-600 flex items-center mt-1",children:[t.jsx(De,{className:"h-3 w-3 mr-1"}),"All quotes"]})]})]}),t.jsxs(U,{className:"shadow-sm border-0 bg-gradient-to-br from-yellow-50 to-yellow-100/50",children:[t.jsxs(G,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[t.jsx(q,{className:"text-sm font-medium text-yellow-900",children:"Pending"}),t.jsx(Et,{className:"h-4 w-4 text-yellow-600"})]}),t.jsxs(W,{children:[t.jsx("div",{className:"text-2xl font-bold text-yellow-900",children:S.sent}),t.jsxs("p",{className:"text-xs text-yellow-600 flex items-center mt-1",children:[t.jsx(De,{className:"h-3 w-3 mr-1"}),"Awaiting response"]})]})]}),t.jsxs(U,{className:"shadow-sm border-0 bg-gradient-to-br from-green-50 to-green-100/50",children:[t.jsxs(G,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[t.jsx(q,{className:"text-sm font-medium text-green-900",children:"Accepted"}),t.jsx(Et,{className:"h-4 w-4 text-green-600"})]}),t.jsxs(W,{children:[t.jsx("div",{className:"text-2xl font-bold text-green-900",children:S.accepted}),t.jsxs("p",{className:"text-xs text-green-600 flex items-center mt-1",children:[t.jsx(De,{className:"h-3 w-3 mr-1"}),S.total>0?Math.round(S.accepted/S.total*100):0,"% acceptance rate"]})]})]}),t.jsxs(U,{className:"shadow-sm border-0 bg-gradient-to-br from-purple-50 to-purple-100/50",children:[t.jsxs(G,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[t.jsx(q,{className:"text-sm font-medium text-purple-900",children:"Quote Value"}),t.jsx(Ve,{className:"h-4 w-4 text-purple-600"})]}),t.jsxs(W,{children:[t.jsx("div",{className:"text-2xl font-bold text-purple-900",children:re(S.totalValue)}),t.jsxs("p",{className:"text-xs text-purple-600 flex items-center mt-1",children:[t.jsx(Ve,{className:"h-3 w-3 mr-1"}),re(S.acceptedValue)," accepted"]})]})]})]}),t.jsxs("div",{className:"flex gap-4",children:[t.jsxs("div",{className:"ri-search-bar",children:[t.jsx(Lt,{className:"ri-search-icon"}),t.jsx(J,{placeholder:"Search quotes...",value:r,onChange:C=>a(C.target.value),className:"ri-search-input shadow-sm"})]}),t.jsxs(ge,{value:i,onValueChange:l,children:[t.jsx(he,{className:"w-40",children:t.jsx(ve,{placeholder:"Status"})}),t.jsxs(xe,{children:[t.jsx(O,{value:"all",children:"All Status"}),t.jsx(O,{value:"draft",children:"Draft"}),t.jsx(O,{value:"sent",children:"Sent"}),t.jsx(O,{value:"viewed",children:"Viewed"}),t.jsx(O,{value:"accepted",children:"Accepted"}),t.jsx(O,{value:"rejected",children:"Rejected"}),t.jsx(O,{value:"expired",children:"Expired"})]})]}),t.jsxs($,{variant:"outline",className:"shadow-sm",children:[t.jsx(an,{className:"h-4 w-4 mr-2"}),"Filter"]})]}),t.jsxs(U,{className:"shadow-sm",children:[t.jsxs(G,{children:[t.jsxs(q,{className:"text-xl",children:["Quotes (",y.length,")"]}),t.jsx(oe,{children:"Manage customer quotes with advanced pricing and bundling"})]}),t.jsx(W,{children:t.jsxs("div",{className:"space-y-4",children:[y.map(C=>t.jsxs("div",{className:"ri-table-row",children:[t.jsx("div",{className:"flex items-center space-x-4 flex-1",children:t.jsxs("div",{className:"flex-1",children:[t.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[t.jsxs("h3",{className:"font-semibold text-foreground",children:["Quote #",C.id]}),t.jsx(Z,{className:ae("ri-badge-status",j(C.status)),children:C.status.toUpperCase()})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm text-muted-foreground",children:[t.jsxs("div",{children:[t.jsx("span",{className:"font-medium",children:"Customer:"})," ",C.customerId]}),t.jsxs("div",{children:[t.jsx("span",{className:"font-medium",children:"Total:"}),t.jsx("span",{className:"font-bold text-primary ml-1",children:re(C.total)})]}),t.jsxs("div",{children:[t.jsx("span",{className:"font-medium",children:"Created:"})," ",Pe(C.createdAt)]}),t.jsxs("div",{children:[t.jsx("span",{className:"font-medium",children:"Valid Until:"})," ",Pe(C.validUntil)]})]}),t.jsxs("div",{className:"mt-2 bg-muted/30 p-2 rounded-md",children:[t.jsxs("p",{className:"text-sm text-muted-foreground",children:[C.items.length," item(s)"]}),C.notes&&t.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:[t.jsx("span",{className:"font-medium",children:"Notes:"})," ",C.notes]})]})]})}),t.jsxs("div",{className:"ri-action-buttons",children:[t.jsxs($,{variant:"outline",size:"sm",className:"shadow-sm",onClick:()=>b(C),children:[t.jsx(Ar,{className:"h-3 w-3 mr-1"}),"View"]}),t.jsxs($,{variant:"outline",size:"sm",className:"shadow-sm",onClick:()=>x(C),children:[t.jsx(zt,{className:"h-3 w-3 mr-1"}),"Edit"]}),C.status==="draft"&&t.jsxs($,{variant:"outline",size:"sm",className:"shadow-sm",onClick:()=>k(C.id),children:[t.jsx(Ma,{className:"h-3 w-3 mr-1"}),"Send"]}),t.jsxs($,{variant:"outline",size:"sm",className:"shadow-sm",onClick:()=>I(C.id),children:[t.jsx(bf,{className:"h-3 w-3 mr-1"}),"Copy"]}),t.jsx($,{variant:"outline",size:"sm",className:"shadow-sm text-red-600 hover:text-red-700",onClick:()=>w(C.id),children:t.jsx(Un,{className:"h-3 w-3"})})]})]},C.id)),y.length===0&&t.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[t.jsx(Et,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground/50"}),t.jsx("p",{children:"No quotes found"}),t.jsx("p",{className:"text-sm",children:"Create your first quote to get started"})]})]})})]})]})}function aP(){return t.jsxs(Wt,{children:[t.jsx(ke,{path:"/",element:t.jsx(Og,{})}),t.jsx(ke,{path:"/*",element:t.jsx(Og,{})})]})}function iP({schedule:e}){const[n,s]=f.useState(""),[r,a]=f.useState(1),[i,l]=f.useState("month"),[o,c]=f.useState("asc"),d=12,u=[...e.filter(g=>g.month.toString().includes(n))].sort((g,x)=>{const b=g[i],T=x[i];return o==="asc"?b>T?1:-1:b<T?1:-1}),p=Math.ceil(u.length/d),h=(r-1)*d,v=u.slice(h,h+d),j=g=>{i===g?c(o==="asc"?"desc":"asc"):(l(g),c("asc"))},y=g=>{a(g)};return e.length===0?t.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No amortization schedule available. Please calculate a loan first."}):t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsxs("div",{className:"relative w-64",children:[t.jsx(Lt,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),t.jsx(J,{placeholder:"Search by month...",value:n,onChange:g=>{s(g.target.value),a(1)},className:"pl-10"})]}),t.jsxs("div",{className:"text-sm text-muted-foreground",children:["Showing ",h+1,"-",Math.min(h+d,u.length)," of ",u.length," payments"]})]}),t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"w-full border-collapse",children:[t.jsx("thead",{children:t.jsxs("tr",{className:"bg-muted/50",children:[t.jsx("th",{className:"p-3 text-left font-medium text-muted-foreground cursor-pointer hover:bg-muted/80",onClick:()=>j("month"),children:t.jsxs("div",{className:"flex items-center",children:[t.jsx("span",{children:"Month"}),i==="month"&&(o==="asc"?t.jsx(Rs,{className:"ml-1 h-3 w-3"}):t.jsx(Ps,{className:"ml-1 h-3 w-3"}))]})}),t.jsx("th",{className:"p-3 text-left font-medium text-muted-foreground cursor-pointer hover:bg-muted/80",onClick:()=>j("payment"),children:t.jsxs("div",{className:"flex items-center",children:[t.jsx("span",{children:"Payment"}),i==="payment"&&(o==="asc"?t.jsx(Rs,{className:"ml-1 h-3 w-3"}):t.jsx(Ps,{className:"ml-1 h-3 w-3"}))]})}),t.jsx("th",{className:"p-3 text-left font-medium text-muted-foreground cursor-pointer hover:bg-muted/80",onClick:()=>j("principal"),children:t.jsxs("div",{className:"flex items-center",children:[t.jsx("span",{children:"Principal"}),i==="principal"&&(o==="asc"?t.jsx(Rs,{className:"ml-1 h-3 w-3"}):t.jsx(Ps,{className:"ml-1 h-3 w-3"}))]})}),t.jsx("th",{className:"p-3 text-left font-medium text-muted-foreground cursor-pointer hover:bg-muted/80",onClick:()=>j("interest"),children:t.jsxs("div",{className:"flex items-center",children:[t.jsx("span",{children:"Interest"}),i==="interest"&&(o==="asc"?t.jsx(Rs,{className:"ml-1 h-3 w-3"}):t.jsx(Ps,{className:"ml-1 h-3 w-3"}))]})}),t.jsx("th",{className:"p-3 text-left font-medium text-muted-foreground",children:"Additional"}),t.jsx("th",{className:"p-3 text-left font-medium text-muted-foreground cursor-pointer hover:bg-muted/80",onClick:()=>j("balance"),children:t.jsxs("div",{className:"flex items-center",children:[t.jsx("span",{children:"Balance"}),i==="balance"&&(o==="asc"?t.jsx(Rs,{className:"ml-1 h-3 w-3"}):t.jsx(Ps,{className:"ml-1 h-3 w-3"}))]})}),t.jsx("th",{className:"p-3 text-left font-medium text-muted-foreground cursor-pointer hover:bg-muted/80",onClick:()=>j("totalInterestPaid"),children:t.jsxs("div",{className:"flex items-center",children:[t.jsx("span",{children:"Total Interest"}),i==="totalInterestPaid"&&(o==="asc"?t.jsx(Rs,{className:"ml-1 h-3 w-3"}):t.jsx(Ps,{className:"ml-1 h-3 w-3"}))]})})]})}),t.jsx("tbody",{children:v.map((g,x)=>t.jsxs("tr",{className:x%2===0?"bg-muted/20":"",children:[t.jsx("td",{className:"p-3",children:g.month}),t.jsx("td",{className:"p-3",children:re(g.payment)}),t.jsx("td",{className:"p-3",children:re(g.principal)}),t.jsx("td",{className:"p-3",children:re(g.interest)}),t.jsx("td",{className:"p-3",children:re(g.additionalCosts)}),t.jsx("td",{className:"p-3",children:re(g.balance)}),t.jsx("td",{className:"p-3",children:re(g.totalInterestPaid)})]},g.month))})]})}),p>1&&t.jsxs("div",{className:"flex justify-center space-x-2 mt-4",children:[t.jsx($,{variant:"outline",size:"sm",onClick:()=>y(1),disabled:r===1,children:"First"}),t.jsx($,{variant:"outline",size:"sm",onClick:()=>y(r-1),disabled:r===1,children:"Previous"}),t.jsx("div",{className:"flex items-center space-x-1",children:Array.from({length:Math.min(5,p)},(g,x)=>{let b;return p<=5||r<=3?b=x+1:r>=p-2?b=p-4+x:b=r-2+x,t.jsx($,{variant:r===b?"default":"outline",size:"sm",onClick:()=>y(b),children:b},b)})}),t.jsx($,{variant:"outline",size:"sm",onClick:()=>y(r+1),disabled:r===p,children:"Next"}),t.jsx($,{variant:"outline",size:"sm",onClick:()=>y(p),disabled:r===p,children:"Last"})]})]})}function Bw({initialValues:e,onSave:n,onClose:s}){const{toast:r}=ot(),[a,i]=f.useState((e==null?void 0:e.loanAmount)||1e5),[l,o]=f.useState((e==null?void 0:e.downPayment)||2e4),[c,d]=f.useState((e==null?void 0:e.interestRate)||6.99),[m,u]=f.useState((e==null?void 0:e.loanTerm)||60),[p,h]=f.useState("monthly"),[v,j]=f.useState(!1),[y,g]=f.useState(0),[x,b]=f.useState(!1),[T,L]=f.useState(0),[k,I]=f.useState("calculator"),[w,S]=f.useState(0),[C,E]=f.useState(0),[N,D]=f.useState(0),[A,_]=f.useState([]);f.useEffect(()=>{V()},[a,l,c,m,p,v,y,x,T]);const V=()=>{const B=a-l;if(B<=0){S(0),E(0),D(0),_([]);return}const z=c/100/12,H=B*z/(1-Math.pow(1+z,-m));let K=0;v&&(K+=y),x&&(K+=H*(T/100));let se=1;switch(p){case"biweekly":se=12/26;break;case"weekly":se=12/52;break;default:se=1;break}const te=H*se+K*se,le=m,ce=H*le-B,ue=B+ce+K*le,ee=P(B,z,m,H,K);S(te),E(ce),D(ue),_(ee)},P=(B,z,H,K,se)=>{let te=B,le=0;const ce=[];for(let ue=1;ue<=H;ue++){const ee=te*z;let me=K-ee;if(te<me&&(me=te),te-=me,le+=ee,ce.push({month:ue,payment:K+se,principal:me,interest:ee,additionalCosts:se,balance:te,totalInterestPaid:le}),te<=0)break}return ce},R=()=>{n&&n({loanAmount:a,downPayment:l,interestRate:c,loanTerm:m,paymentFrequency:p,includeInsurance:v,insuranceAmount:y,includeTax:x,taxRate:T,monthlyPayment:w,totalInterest:C,totalCost:N,amortizationSchedule:A}),r({title:"Loan Calculation Saved",description:"Your loan calculation has been saved successfully."})},M=()=>{window.print()},F=()=>{const z=[["Month","Payment","Principal","Interest","Additional Costs","Balance","Total Interest Paid"].join(","),...A.map(te=>[te.month,te.payment.toFixed(2),te.principal.toFixed(2),te.interest.toFixed(2),te.additionalCosts.toFixed(2),te.balance.toFixed(2),te.totalInterestPaid.toFixed(2)].join(","))].join(`
`),H=new Blob([z],{type:"text/csv;charset=utf-8;"}),K=URL.createObjectURL(H),se=document.createElement("a");se.href=K,se.setAttribute("download","amortization_schedule.csv"),document.body.appendChild(se),se.click(),document.body.removeChild(se),r({title:"Export Successful",description:"Amortization schedule exported to CSV."})};return t.jsx("div",{className:"space-y-6",children:t.jsxs(bt,{value:k,onValueChange:I,className:"space-y-4",children:[t.jsxs(jt,{className:"grid w-full grid-cols-2",children:[t.jsx(je,{value:"calculator",children:"Calculator"}),t.jsx(je,{value:"amortization",children:"Amortization Schedule"})]}),t.jsxs(we,{value:"calculator",className:"space-y-6",children:[t.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[t.jsxs(U,{className:"shadow-sm",children:[t.jsxs(G,{children:[t.jsxs(q,{className:"flex items-center",children:[t.jsx(fl,{className:"h-5 w-5 mr-2 text-primary"}),"Loan Details"]}),t.jsx(oe,{children:"Enter the details of your loan"})]}),t.jsxs(W,{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx(Q,{htmlFor:"loanAmount",children:"Vehicle Price"}),t.jsxs("div",{className:"relative",children:[t.jsx(Ve,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),t.jsx(J,{id:"loanAmount",type:"number",value:a,onChange:B=>i(parseFloat(B.target.value)||0),className:"pl-10"})]})]}),t.jsxs("div",{children:[t.jsx(Q,{htmlFor:"downPayment",children:"Down Payment"}),t.jsxs("div",{className:"relative",children:[t.jsx(Ve,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),t.jsx(J,{id:"downPayment",type:"number",value:l,onChange:B=>o(parseFloat(B.target.value)||0),className:"pl-10"})]})]}),t.jsxs("div",{children:[t.jsx(Q,{htmlFor:"interestRate",children:"Interest Rate (%)"}),t.jsx(J,{id:"interestRate",type:"number",step:"0.01",value:c,onChange:B=>d(parseFloat(B.target.value)||0)})]}),t.jsxs("div",{children:[t.jsx(Q,{htmlFor:"loanTerm",children:"Loan Term (months)"}),t.jsxs(ge,{value:m.toString(),onValueChange:B=>u(parseInt(B)),children:[t.jsx(he,{children:t.jsx(ve,{})}),t.jsxs(xe,{children:[t.jsx(O,{value:"12",children:"12 months (1 year)"}),t.jsx(O,{value:"24",children:"24 months (2 years)"}),t.jsx(O,{value:"36",children:"36 months (3 years)"}),t.jsx(O,{value:"48",children:"48 months (4 years)"}),t.jsx(O,{value:"60",children:"60 months (5 years)"}),t.jsx(O,{value:"72",children:"72 months (6 years)"}),t.jsx(O,{value:"84",children:"84 months (7 years)"}),t.jsx(O,{value:"96",children:"96 months (8 years)"}),t.jsx(O,{value:"120",children:"120 months (10 years)"}),t.jsx(O,{value:"180",children:"180 months (15 years)"}),t.jsx(O,{value:"240",children:"240 months (20 years)"})]})]})]}),t.jsxs("div",{children:[t.jsx(Q,{htmlFor:"paymentFrequency",children:"Payment Frequency"}),t.jsxs(ge,{value:p,onValueChange:h,children:[t.jsx(he,{children:t.jsx(ve,{})}),t.jsxs(xe,{children:[t.jsx(O,{value:"monthly",children:"Monthly"}),t.jsx(O,{value:"biweekly",children:"Bi-weekly"}),t.jsx(O,{value:"weekly",children:"Weekly"})]})]})]})]})]}),t.jsxs(U,{className:"shadow-sm",children:[t.jsxs(G,{children:[t.jsxs(q,{className:"flex items-center",children:[t.jsx(Ve,{className:"h-5 w-5 mr-2 text-primary"}),"Additional Costs"]}),t.jsx(oe,{children:"Include additional costs in your calculation"})]}),t.jsxs(W,{className:"space-y-4",children:[t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(Je,{id:"includeInsurance",checked:v,onCheckedChange:B=>j(!!B)}),t.jsx(Q,{htmlFor:"includeInsurance",children:"Include Insurance"})]}),v&&t.jsxs("div",{children:[t.jsx(Q,{htmlFor:"insuranceAmount",children:"Monthly Insurance Amount"}),t.jsxs("div",{className:"relative",children:[t.jsx(Ve,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),t.jsx(J,{id:"insuranceAmount",type:"number",value:y,onChange:B=>g(parseFloat(B.target.value)||0),className:"pl-10"})]})]}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(Je,{id:"includeTax",checked:x,onCheckedChange:B=>b(!!B)}),t.jsx(Q,{htmlFor:"includeTax",children:"Include Tax"})]}),x&&t.jsxs("div",{children:[t.jsx(Q,{htmlFor:"taxRate",children:"Tax Rate (%)"}),t.jsx(J,{id:"taxRate",type:"number",step:"0.01",value:T,onChange:B=>L(parseFloat(B.target.value)||0)})]}),t.jsxs("div",{className:"mt-6 pt-6 border-t",children:[t.jsx("h3",{className:"font-semibold mb-4",children:"Loan Summary"}),t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-muted-foreground",children:"Principal Amount:"}),t.jsx("span",{className:"font-medium",children:re(a-l)})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsxs("span",{className:"text-muted-foreground",children:[p==="monthly"?"Monthly":p==="biweekly"?"Bi-weekly":"Weekly"," Payment:"]}),t.jsx("span",{className:"font-bold text-primary",children:re(w)})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-muted-foreground",children:"Total Interest:"}),t.jsx("span",{className:"font-medium",children:re(C)})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-muted-foreground",children:"Total Cost:"}),t.jsx("span",{className:"font-medium",children:re(N)})]})]})]})]})]})]}),t.jsxs("div",{className:"flex justify-end space-x-3",children:[s&&t.jsx($,{variant:"outline",onClick:s,children:"Close"}),t.jsxs($,{variant:"outline",onClick:()=>I("amortization"),children:[t.jsx(It,{className:"h-4 w-4 mr-2"}),"View Amortization"]}),n&&t.jsx($,{onClick:R,children:"Save Calculation"})]})]}),t.jsxs(we,{value:"amortization",children:[t.jsxs(U,{className:"shadow-sm",children:[t.jsx(G,{children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsxs(q,{className:"flex items-center",children:[t.jsx(It,{className:"h-5 w-5 mr-2 text-primary"}),"Amortization Schedule"]}),t.jsx(oe,{children:"Detailed payment schedule over the life of the loan"})]}),t.jsxs("div",{className:"flex space-x-2",children:[t.jsxs($,{variant:"outline",size:"sm",onClick:F,children:[t.jsx(Vs,{className:"h-4 w-4 mr-2"}),"Export CSV"]}),t.jsxs($,{variant:"outline",size:"sm",onClick:M,children:[t.jsx(Nf,{className:"h-4 w-4 mr-2"}),"Print"]})]})]})}),t.jsx(W,{children:t.jsx(iP,{schedule:A})})]}),t.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[t.jsxs($,{variant:"outline",onClick:()=>I("calculator"),children:[t.jsx(fl,{className:"h-4 w-4 mr-2"}),"Back to Calculator"]}),n&&t.jsx($,{onClick:R,children:"Save Calculation"})]})]})]})})}const lP=[{id:"1",loanId:"1",customerId:"cust-1",customerName:"John Smith",amount:1621.23,scheduledDate:new Date("2024-01-15"),paymentDate:new Date("2024-01-15"),status:"completed",method:"credit_card",notes:"On-time payment",createdAt:new Date("2024-01-15")},{id:"2",loanId:"2",customerId:"cust-2",customerName:"Sarah Johnson",amount:1142.62,scheduledDate:new Date("2024-01-01"),paymentDate:new Date("2024-01-03"),status:"completed",method:"bank_transfer",notes:"Payment received 2 days late",createdAt:new Date("2024-01-03")},{id:"3",loanId:"1",customerId:"cust-1",customerName:"John Smith",amount:1621.23,scheduledDate:new Date("2024-02-15"),status:"pending",createdAt:new Date("2024-01-15")}];function oP(){const[e,n]=f.useState(lP),[s,r]=f.useState(""),[a,i]=f.useState("all"),[l,o]=f.useState("all"),c=h=>{switch(h){case"completed":return"bg-green-50 text-green-700 border-green-200";case"pending":return"bg-yellow-50 text-yellow-700 border-yellow-200";case"failed":return"bg-red-50 text-red-700 border-red-200";case"late":return"bg-orange-50 text-orange-700 border-orange-200";default:return"bg-gray-50 text-gray-700 border-gray-200"}},d=h=>{switch(h){case"completed":return t.jsx(bn,{className:"h-4 w-4 text-green-500"});case"pending":return t.jsx(Ke,{className:"h-4 w-4 text-yellow-500"});case"failed":return t.jsx(_a,{className:"h-4 w-4 text-red-500"});case"late":return t.jsx(Ke,{className:"h-4 w-4 text-orange-500"});default:return null}},m=h=>{switch(h){case"credit_card":return"Credit Card";case"bank_transfer":return"Bank Transfer";case"cash":return"Cash";case"check":return"Check";default:return h}},u=e.filter(h=>{const v=h.customerName.toLowerCase().includes(s.toLowerCase())||h.id.toLowerCase().includes(s.toLowerCase()),j=a==="all"||h.status===a;let y=!0;const g=new Date,x=h.scheduledDate;if(l==="today")y=x.toDateString()===g.toDateString();else if(l==="this_week"){const b=new Date(g);b.setDate(g.getDate()-g.getDay());const T=new Date(b);T.setDate(b.getDate()+6),y=x>=b&&x<=T}else l==="this_month"&&(y=x.getMonth()===g.getMonth()&&x.getFullYear()===g.getFullYear());return v&&j&&y}),p=()=>{const v=[["ID","Customer","Amount","Scheduled Date","Payment Date","Status","Method","Notes"].join(","),...u.map(x=>[x.id,x.customerName,x.amount.toFixed(2),x.scheduledDate.toISOString().split("T")[0],x.paymentDate?x.paymentDate.toISOString().split("T")[0]:"",x.status,x.method||"",x.notes||""].join(","))].join(`
`),j=new Blob([v],{type:"text/csv;charset=utf-8;"}),y=URL.createObjectURL(j),g=document.createElement("a");g.href=y,g.setAttribute("download","payment_history.csv"),document.body.appendChild(g),g.click(),document.body.removeChild(g)};return t.jsx("div",{className:"space-y-6",children:t.jsxs(U,{className:"shadow-sm",children:[t.jsx(G,{children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsxs(q,{className:"flex items-center",children:[t.jsx(Qa,{className:"h-5 w-5 mr-2 text-primary"}),"Payment History"]}),t.jsx(oe,{children:"Track and manage customer loan payments"})]}),t.jsxs("div",{className:"flex space-x-2",children:[t.jsxs($,{variant:"outline",size:"sm",onClick:p,children:[t.jsx(Vs,{className:"h-4 w-4 mr-2"}),"Export"]}),t.jsxs($,{variant:"outline",size:"sm",children:[t.jsx(Nf,{className:"h-4 w-4 mr-2"}),"Print"]})]})]})}),t.jsxs(W,{className:"space-y-4",children:[t.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[t.jsxs("div",{className:"relative flex-1",children:[t.jsx(Lt,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),t.jsx(J,{placeholder:"Search payments...",value:s,onChange:h=>r(h.target.value),className:"pl-10"})]}),t.jsxs(ge,{value:a,onValueChange:i,children:[t.jsx(he,{className:"w-[150px]",children:t.jsx(ve,{placeholder:"Status"})}),t.jsxs(xe,{children:[t.jsx(O,{value:"all",children:"All Status"}),t.jsx(O,{value:"completed",children:"Completed"}),t.jsx(O,{value:"pending",children:"Pending"}),t.jsx(O,{value:"failed",children:"Failed"}),t.jsx(O,{value:"late",children:"Late"})]})]}),t.jsxs(ge,{value:l,onValueChange:o,children:[t.jsx(he,{className:"w-[150px]",children:t.jsx(ve,{placeholder:"Date"})}),t.jsxs(xe,{children:[t.jsx(O,{value:"all",children:"All Dates"}),t.jsx(O,{value:"today",children:"Today"}),t.jsx(O,{value:"this_week",children:"This Week"}),t.jsx(O,{value:"this_month",children:"This Month"})]})]}),t.jsxs($,{variant:"outline",children:[t.jsx(an,{className:"h-4 w-4 mr-2"}),"More Filters"]})]}),t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"w-full border-collapse",children:[t.jsx("thead",{children:t.jsxs("tr",{className:"bg-muted/50",children:[t.jsx("th",{className:"p-3 text-left font-medium text-muted-foreground",children:"Customer"}),t.jsx("th",{className:"p-3 text-left font-medium text-muted-foreground",children:"Amount"}),t.jsx("th",{className:"p-3 text-left font-medium text-muted-foreground",children:"Scheduled Date"}),t.jsx("th",{className:"p-3 text-left font-medium text-muted-foreground",children:"Payment Date"}),t.jsx("th",{className:"p-3 text-left font-medium text-muted-foreground",children:"Status"}),t.jsx("th",{className:"p-3 text-left font-medium text-muted-foreground",children:"Method"}),t.jsx("th",{className:"p-3 text-left font-medium text-muted-foreground",children:"Actions"})]})}),t.jsxs("tbody",{children:[u.map(h=>t.jsxs("tr",{className:"border-b hover:bg-muted/10",children:[t.jsxs("td",{className:"p-3",children:[t.jsx("div",{className:"font-medium",children:h.customerName}),t.jsxs("div",{className:"text-xs text-muted-foreground",children:["Loan #",h.loanId]})]}),t.jsx("td",{className:"p-3 font-medium",children:re(h.amount)}),t.jsx("td",{className:"p-3",children:Pe(h.scheduledDate)}),t.jsx("td",{className:"p-3",children:h.paymentDate?Pe(h.paymentDate):"-"}),t.jsx("td",{className:"p-3",children:t.jsxs(Z,{className:ae("flex items-center space-x-1",c(h.status)),children:[d(h.status),t.jsx("span",{children:h.status.charAt(0).toUpperCase()+h.status.slice(1)})]})}),t.jsx("td",{className:"p-3",children:h.method?m(h.method):"-"}),t.jsx("td",{className:"p-3",children:t.jsxs("div",{className:"flex space-x-2",children:[t.jsx($,{variant:"ghost",size:"sm",children:"View"}),h.status==="pending"&&t.jsx($,{variant:"ghost",size:"sm",children:"Record"})]})})]},h.id)),u.length===0&&t.jsx("tr",{children:t.jsx("td",{colSpan:7,className:"p-8 text-center text-muted-foreground",children:"No payments found matching your filters"})})]})]})})]})]})})}function cP(){const{toast:e}=ot(),[n,s]=f.useState("general"),[r,a]=f.useState(6.99),[i,l]=f.useState(84),[o,c]=f.useState(10),[d,m]=f.useState("monthly"),[u,p]=f.useState(!0),[h,v]=f.useState(12.99),[j,y]=f.useState(48),[g,x]=f.useState(20),[b,T]=f.useState(!0),[L,k]=f.useState(!0),[I,w]=f.useState(!0),[S,C]=f.useState(!0),[E,N]=f.useState(!0),[D,A]=f.useState(10),[_,V]=f.useState(25),[P,R]=f.useState("fixed"),[M,F]=f.useState(""),[B,z]=f.useState(!0),[H,K]=f.useState(!0),[se,te]=f.useState(!0),[le,ce]=f.useState(5),ue=()=>{e({title:"Settings Saved",description:"Your loan settings have been updated successfully."})};return t.jsxs("div",{className:"space-y-6",children:[t.jsxs(bt,{value:n,onValueChange:s,className:"space-y-4",children:[t.jsxs(jt,{className:"grid w-full grid-cols-4",children:[t.jsx(je,{value:"general",children:"General"}),t.jsx(je,{value:"bhph",children:"Buy Here Pay Here"}),t.jsx(je,{value:"payments",children:"Payments"}),t.jsx(je,{value:"documents",children:"Documents"})]}),t.jsx(we,{value:"general",className:"space-y-6",children:t.jsxs(U,{className:"shadow-sm",children:[t.jsxs(G,{children:[t.jsxs(q,{className:"flex items-center",children:[t.jsx(Ya,{className:"h-5 w-5 mr-2 text-primary"}),"General Loan Settings"]}),t.jsx(oe,{children:"Configure default loan parameters and settings"})]}),t.jsx(W,{className:"space-y-4",children:t.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[t.jsxs("div",{children:[t.jsx(Q,{htmlFor:"defaultInterestRate",children:"Default Interest Rate (%)"}),t.jsx(J,{id:"defaultInterestRate",type:"number",step:"0.01",value:r,onChange:ee=>a(parseFloat(ee.target.value)||0)}),t.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Standard interest rate for new loans"})]}),t.jsxs("div",{children:[t.jsx(Q,{htmlFor:"maxLoanTerm",children:"Maximum Loan Term (months)"}),t.jsx(J,{id:"maxLoanTerm",type:"number",value:i,onChange:ee=>l(parseInt(ee.target.value)||0)}),t.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Longest allowed loan term in months"})]}),t.jsxs("div",{children:[t.jsx(Q,{htmlFor:"minDownPaymentPercent",children:"Minimum Down Payment (%)"}),t.jsx(J,{id:"minDownPaymentPercent",type:"number",value:o,onChange:ee=>c(parseFloat(ee.target.value)||0)}),t.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Minimum required down payment as percentage of vehicle price"})]}),t.jsxs("div",{children:[t.jsx(Q,{htmlFor:"defaultPaymentFrequency",children:"Default Payment Frequency"}),t.jsxs(ge,{value:d,onValueChange:m,children:[t.jsx(he,{children:t.jsx(ve,{})}),t.jsxs(xe,{children:[t.jsx(O,{value:"monthly",children:"Monthly"}),t.jsx(O,{value:"biweekly",children:"Bi-weekly"}),t.jsx(O,{value:"weekly",children:"Weekly"})]})]}),t.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Standard payment schedule for new loans"})]})]})})]})}),t.jsx(we,{value:"bhph",className:"space-y-6",children:t.jsxs(U,{className:"shadow-sm",children:[t.jsxs(G,{children:[t.jsxs(q,{className:"flex items-center",children:[t.jsx(Ve,{className:"h-5 w-5 mr-2 text-primary"}),"Buy Here Pay Here Settings"]}),t.jsx(oe,{children:"Configure in-house financing options"})]}),t.jsxs(W,{className:"space-y-4",children:[t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(Je,{id:"bhphEnabled",checked:u,onCheckedChange:ee=>p(!!ee)}),t.jsx(Q,{htmlFor:"bhphEnabled",children:"Enable Buy Here Pay Here Financing"})]}),u&&t.jsxs("div",{className:"grid gap-4 md:grid-cols-2 mt-4",children:[t.jsxs("div",{children:[t.jsx(Q,{htmlFor:"bhphInterestRate",children:"BHPH Interest Rate (%)"}),t.jsx(J,{id:"bhphInterestRate",type:"number",step:"0.01",value:h,onChange:ee=>v(parseFloat(ee.target.value)||0)}),t.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Standard interest rate for in-house loans"})]}),t.jsxs("div",{children:[t.jsx(Q,{htmlFor:"bhphMaxLoanTerm",children:"BHPH Maximum Term (months)"}),t.jsx(J,{id:"bhphMaxLoanTerm",type:"number",value:j,onChange:ee=>y(parseInt(ee.target.value)||0)}),t.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Maximum term for in-house financing"})]}),t.jsxs("div",{children:[t.jsx(Q,{htmlFor:"bhphMinDownPaymentPercent",children:"BHPH Minimum Down Payment (%)"}),t.jsx(J,{id:"bhphMinDownPaymentPercent",type:"number",value:g,onChange:ee=>x(parseFloat(ee.target.value)||0)}),t.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Minimum down payment for in-house financing"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(Je,{id:"bhphRequireIncome",checked:b,onCheckedChange:ee=>T(!!ee)}),t.jsx(Q,{htmlFor:"bhphRequireIncome",children:"Require Income Verification"})]}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(Je,{id:"bhphRequireReference",checked:L,onCheckedChange:ee=>k(!!ee)}),t.jsx(Q,{htmlFor:"bhphRequireReference",children:"Require References"})]})]})]}),t.jsx("div",{className:"bg-yellow-50 p-4 rounded-md mt-4",children:t.jsxs("div",{className:"flex items-start space-x-2",children:[t.jsx(Zn,{className:"h-5 w-5 text-yellow-600 mt-0.5"}),t.jsxs("div",{children:[t.jsx("h4",{className:"font-medium text-yellow-800",children:"Important Notice"}),t.jsx("p",{className:"text-sm text-yellow-700 mt-1",children:"Buy Here Pay Here financing is subject to state and federal regulations. Ensure your dealership complies with all applicable laws including Truth in Lending Act (TILA), Fair Credit Reporting Act (FCRA), and state-specific lending requirements."})]})]})})]})]})}),t.jsx(we,{value:"payments",className:"space-y-6",children:t.jsxs(U,{className:"shadow-sm",children:[t.jsxs(G,{children:[t.jsxs(q,{className:"flex items-center",children:[t.jsx(Qa,{className:"h-5 w-5 mr-2 text-primary"}),"Payment Settings"]}),t.jsx(oe,{children:"Configure payment options and late fee policies"})]}),t.jsx(W,{className:"space-y-4",children:t.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(Je,{id:"allowAutoPay",checked:I,onCheckedChange:ee=>w(!!ee)}),t.jsx(Q,{htmlFor:"allowAutoPay",children:"Allow Automatic Payments"})]}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(Je,{id:"allowOnlinePayments",checked:S,onCheckedChange:ee=>C(!!ee)}),t.jsx(Q,{htmlFor:"allowOnlinePayments",children:"Allow Online Payments"})]}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(Je,{id:"allowPartialPayments",checked:E,onCheckedChange:ee=>N(!!ee)}),t.jsx(Q,{htmlFor:"allowPartialPayments",children:"Allow Partial Payments"})]})]}),t.jsxs("div",{children:[t.jsx(Q,{htmlFor:"gracePeriodDays",children:"Grace Period (days)"}),t.jsx(J,{id:"gracePeriodDays",type:"number",value:D,onChange:ee=>A(parseInt(ee.target.value)||0)}),t.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Days after due date before late fee applies"})]}),t.jsxs("div",{children:[t.jsx(Q,{htmlFor:"lateFeeType",children:"Late Fee Type"}),t.jsxs(ge,{value:P,onValueChange:R,children:[t.jsx(he,{children:t.jsx(ve,{})}),t.jsxs(xe,{children:[t.jsx(O,{value:"fixed",children:"Fixed Amount"}),t.jsx(O,{value:"percentage",children:"Percentage of Payment"})]})]})]}),t.jsxs("div",{children:[t.jsx(Q,{htmlFor:"lateFeeAmount",children:P==="fixed"?"Late Fee Amount ($)":"Late Fee Percentage (%)"}),t.jsx(J,{id:"lateFeeAmount",type:"number",step:P==="percentage"?"0.01":"1",value:_,onChange:ee=>V(parseFloat(ee.target.value)||0)})]})]})})]})}),t.jsx(we,{value:"documents",className:"space-y-6",children:t.jsxs(U,{className:"shadow-sm",children:[t.jsxs(G,{children:[t.jsxs(q,{className:"flex items-center",children:[t.jsx(Et,{className:"h-5 w-5 mr-2 text-primary"}),"Document Settings"]}),t.jsx(oe,{children:"Configure loan documents and notification settings"})]}),t.jsxs(W,{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx(Q,{htmlFor:"loanAgreementTemplate",children:"Loan Agreement Template"}),t.jsx(Ze,{id:"loanAgreementTemplate",value:M,onChange:ee=>F(ee.target.value),placeholder:"Enter your loan agreement template text or HTML...",rows:6}),t.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["You can use variables like ",{customer_name},", ",{loan_amount},", ",{interest_rate},", etc."]})]}),t.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(Je,{id:"requireSignature",checked:B,onCheckedChange:ee=>z(!!ee)}),t.jsx(Q,{htmlFor:"requireSignature",children:"Require Digital Signature"})]}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(Je,{id:"sendPaymentReceipts",checked:H,onCheckedChange:ee=>K(!!ee)}),t.jsx(Q,{htmlFor:"sendPaymentReceipts",children:"Send Payment Receipts"})]}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(Je,{id:"sendPaymentReminders",checked:se,onCheckedChange:ee=>te(!!ee)}),t.jsx(Q,{htmlFor:"sendPaymentReminders",children:"Send Payment Reminders"})]})]}),se&&t.jsxs("div",{children:[t.jsx(Q,{htmlFor:"reminderDaysBefore",children:"Reminder Days Before Due"}),t.jsx(J,{id:"reminderDaysBefore",type:"number",value:le,onChange:ee=>ce(parseInt(ee.target.value)||0)}),t.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Number of days before due date to send reminder"})]})]}),t.jsx("div",{className:"bg-blue-50 p-4 rounded-md mt-4",children:t.jsxs("div",{className:"flex items-start space-x-2",children:[t.jsx(Sf,{className:"h-5 w-5 text-blue-600 mt-0.5"}),t.jsxs("div",{children:[t.jsx("h4",{className:"font-medium text-blue-800",children:"Compliance Notice"}),t.jsx("p",{className:"text-sm text-blue-700 mt-1",children:"Ensure your loan documents comply with all applicable laws and regulations. Consider consulting with legal counsel to review your loan agreement templates."})]})]})})]})]})})]}),t.jsx("div",{className:"flex justify-end",children:t.jsxs($,{onClick:ue,children:[t.jsx(Dn,{className:"h-4 w-4 mr-2"}),"Save Settings"]})})]})}function dP({onSave:e,onCancel:n}){const{toast:s}=ot(),{leads:r}=da(),{vehicles:a,getAvailableVehicles:i}=Ol(),[l,o]=f.useState(!1),[c,d]=f.useState(!1),[m,u]=f.useState(null),[p,h]=f.useState({customerId:"",customerName:"",vehicleId:"",vehicleInfo:"",amount:0,downPayment:0,term:60,rate:6.99,paymentAmount:0,startDate:new Date().toISOString().split("T")[0],status:"active",notes:"",loanType:"standard",paymentFrequency:"monthly",includeInsurance:!1,insuranceAmount:0,includeTax:!1,taxRate:0}),v=i();f.useEffect(()=>{if(p.customerId){const g=r.find(x=>x.id===p.customerId);g&&h(x=>({...x,customerName:`${g.firstName} ${g.lastName}`}))}},[p.customerId,r]),f.useEffect(()=>{if(p.vehicleId){const g=a.find(x=>x.id===p.vehicleId);g&&h(x=>({...x,vehicleInfo:`${g.year} ${g.make} ${g.model}`,amount:g.price,downPayment:Math.round(g.price*.1)}))}},[p.vehicleId,a]),f.useEffect(()=>{m&&h(g=>({...g,paymentAmount:m.monthlyPayment,term:m.loanTerm,rate:m.interestRate,amount:m.loanAmount,downPayment:m.downPayment,paymentFrequency:m.paymentFrequency,includeInsurance:m.includeInsurance,insuranceAmount:m.insuranceAmount,includeTax:m.includeTax,taxRate:m.taxRate*100}))},[m]);const j=async g=>{if(g.preventDefault(),!p.customerId||!p.vehicleId||!p.amount||!p.term||!p.rate){s({title:"Validation Error",description:"Please fill in all required fields",variant:"destructive"});return}o(!0);try{await e(p),s({title:"Success",description:"Loan created successfully"})}catch{s({title:"Error",description:"Failed to create loan",variant:"destructive"})}finally{o(!1)}},y=g=>{u(g),d(!1)};return t.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:c?t.jsx("div",{className:"bg-background rounded-lg shadow-lg w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:t.jsxs("div",{className:"p-6",children:[t.jsxs("div",{className:"flex items-center justify-between mb-6",children:[t.jsx("h2",{className:"text-2xl font-bold",children:"Loan Calculator"}),t.jsx($,{variant:"ghost",size:"sm",onClick:()=>d(!1),children:"✕"})]}),t.jsx(Bw,{initialValues:{loanAmount:p.amount,downPayment:p.downPayment,interestRate:p.rate,loanTerm:p.term},onSave:y,onClose:()=>d(!1)})]})}):t.jsxs(U,{className:"w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[t.jsx(G,{children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx(q,{children:"Create New Loan"}),t.jsx(oe,{children:"Set up a new loan for a customer"})]}),t.jsx($,{variant:"ghost",size:"sm",onClick:n,children:t.jsx(nt,{className:"h-4 w-4"})})]})}),t.jsx(W,{children:t.jsxs("form",{onSubmit:j,className:"space-y-6",children:[t.jsxs("div",{className:"space-y-4",children:[t.jsx("h3",{className:"text-lg font-semibold",children:"Customer & Vehicle"}),t.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[t.jsxs("div",{children:[t.jsx(Q,{htmlFor:"customerId",children:"Customer *"}),t.jsxs(ge,{value:p.customerId,onValueChange:g=>h(x=>({...x,customerId:g})),children:[t.jsx(he,{children:t.jsx(ve,{placeholder:"Select customer"})}),t.jsx(xe,{children:r.map(g=>t.jsxs(O,{value:g.id,children:[g.firstName," ",g.lastName]},g.id))})]})]}),t.jsxs("div",{children:[t.jsx(Q,{htmlFor:"vehicleId",children:"Vehicle *"}),t.jsxs(ge,{value:p.vehicleId,onValueChange:g=>h(x=>({...x,vehicleId:g})),children:[t.jsx(he,{children:t.jsx(ve,{placeholder:"Select vehicle"})}),t.jsx(xe,{children:v.map(g=>t.jsxs(O,{value:g.id,children:[g.year," ",g.make," ",g.model," - ",re(g.price)]},g.id))})]})]})]})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("h3",{className:"text-lg font-semibold",children:"Loan Details"}),t.jsxs($,{type:"button",variant:"outline",onClick:()=>d(!0),className:"flex items-center",children:[t.jsx(fl,{className:"h-4 w-4 mr-2"}),"Use Loan Calculator"]})]}),t.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[t.jsxs("div",{children:[t.jsx(Q,{htmlFor:"amount",children:"Loan Amount *"}),t.jsxs("div",{className:"relative",children:[t.jsx(Ve,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),t.jsx(J,{id:"amount",type:"number",value:p.amount,onChange:g=>h(x=>({...x,amount:parseFloat(g.target.value)||0})),className:"pl-10"})]})]}),t.jsxs("div",{children:[t.jsx(Q,{htmlFor:"downPayment",children:"Down Payment"}),t.jsxs("div",{className:"relative",children:[t.jsx(Ve,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),t.jsx(J,{id:"downPayment",type:"number",value:p.downPayment,onChange:g=>h(x=>({...x,downPayment:parseFloat(g.target.value)||0})),className:"pl-10"})]})]})]}),t.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[t.jsxs("div",{children:[t.jsx(Q,{htmlFor:"term",children:"Loan Term (months) *"}),t.jsxs(ge,{value:p.term.toString(),onValueChange:g=>h(x=>({...x,term:parseInt(g)})),children:[t.jsx(he,{children:t.jsx(ve,{})}),t.jsxs(xe,{children:[t.jsx(O,{value:"12",children:"12 months (1 year)"}),t.jsx(O,{value:"24",children:"24 months (2 years)"}),t.jsx(O,{value:"36",children:"36 months (3 years)"}),t.jsx(O,{value:"48",children:"48 months (4 years)"}),t.jsx(O,{value:"60",children:"60 months (5 years)"}),t.jsx(O,{value:"72",children:"72 months (6 years)"}),t.jsx(O,{value:"84",children:"84 months (7 years)"}),t.jsx(O,{value:"96",children:"96 months (8 years)"}),t.jsx(O,{value:"120",children:"120 months (10 years)"}),t.jsx(O,{value:"180",children:"180 months (15 years)"}),t.jsx(O,{value:"240",children:"240 months (20 years)"})]})]})]}),t.jsxs("div",{children:[t.jsx(Q,{htmlFor:"rate",children:"Interest Rate (%) *"}),t.jsx(J,{id:"rate",type:"number",step:"0.01",value:p.rate,onChange:g=>h(x=>({...x,rate:parseFloat(g.target.value)||0}))})]}),t.jsxs("div",{children:[t.jsx(Q,{htmlFor:"paymentFrequency",children:"Payment Frequency"}),t.jsxs(ge,{value:p.paymentFrequency,onValueChange:g=>h(x=>({...x,paymentFrequency:g})),children:[t.jsx(he,{children:t.jsx(ve,{})}),t.jsxs(xe,{children:[t.jsx(O,{value:"monthly",children:"Monthly"}),t.jsx(O,{value:"biweekly",children:"Bi-weekly"}),t.jsx(O,{value:"weekly",children:"Weekly"})]})]})]})]}),t.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[t.jsxs("div",{children:[t.jsx(Q,{htmlFor:"paymentAmount",children:"Payment Amount"}),t.jsxs("div",{className:"relative",children:[t.jsx(Ve,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),t.jsx(J,{id:"paymentAmount",type:"number",value:p.paymentAmount,onChange:g=>h(x=>({...x,paymentAmount:parseFloat(g.target.value)||0})),className:"pl-10"})]})]}),t.jsxs("div",{children:[t.jsx(Q,{htmlFor:"startDate",children:"Start Date *"}),t.jsx(J,{id:"startDate",type:"date",value:p.startDate,onChange:g=>h(x=>({...x,startDate:g.target.value}))})]})]})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsx("h3",{className:"text-lg font-semibold",children:"Additional Options"}),t.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[t.jsxs("div",{children:[t.jsx(Q,{htmlFor:"loanType",children:"Loan Type"}),t.jsxs(ge,{value:p.loanType,onValueChange:g=>h(x=>({...x,loanType:g})),children:[t.jsx(he,{children:t.jsx(ve,{})}),t.jsxs(xe,{children:[t.jsx(O,{value:"standard",children:"Standard Financing"}),t.jsx(O,{value:"in-house",children:"In-House Financing"}),t.jsx(O,{value:"balloon",children:"Balloon Payment"}),t.jsx(O,{value:"lease",children:"Lease"})]})]})]}),t.jsxs("div",{children:[t.jsx(Q,{htmlFor:"status",children:"Status"}),t.jsxs(ge,{value:p.status,onValueChange:g=>h(x=>({...x,status:g})),children:[t.jsx(he,{children:t.jsx(ve,{})}),t.jsxs(xe,{children:[t.jsx(O,{value:"pending",children:"Pending"}),t.jsx(O,{value:"active",children:"Active"}),t.jsx(O,{value:"on_hold",children:"On Hold"})]})]})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(Je,{id:"includeInsurance",checked:p.includeInsurance,onCheckedChange:g=>h(x=>({...x,includeInsurance:!!g}))}),t.jsx(Q,{htmlFor:"includeInsurance",children:"Include Insurance"})]}),p.includeInsurance&&t.jsxs("div",{children:[t.jsx(Q,{htmlFor:"insuranceAmount",children:"Monthly Insurance Amount"}),t.jsxs("div",{className:"relative",children:[t.jsx(Ve,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),t.jsx(J,{id:"insuranceAmount",type:"number",value:p.insuranceAmount,onChange:g=>h(x=>({...x,insuranceAmount:parseFloat(g.target.value)||0})),className:"pl-10"})]})]}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(Je,{id:"includeTax",checked:p.includeTax,onCheckedChange:g=>h(x=>({...x,includeTax:!!g}))}),t.jsx(Q,{htmlFor:"includeTax",children:"Include Tax"})]}),p.includeTax&&t.jsxs("div",{children:[t.jsx(Q,{htmlFor:"taxRate",children:"Tax Rate (%)"}),t.jsx(J,{id:"taxRate",type:"number",step:"0.01",value:p.taxRate,onChange:g=>h(x=>({...x,taxRate:parseFloat(g.target.value)||0}))})]})]})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsx("h3",{className:"text-lg font-semibold",children:"Notes"}),t.jsx(Ze,{value:p.notes,onChange:g=>h(x=>({...x,notes:g.target.value})),placeholder:"Add any additional notes about this loan...",rows:3})]}),t.jsxs("div",{className:"flex justify-end space-x-3 pt-6 border-t",children:[t.jsx($,{type:"button",variant:"outline",onClick:n,disabled:l,children:"Cancel"}),t.jsx($,{type:"submit",disabled:l,children:l?t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Creating..."]}):t.jsxs(t.Fragment,{children:[t.jsx(Dn,{className:"h-4 w-4 mr-2"}),"Create Loan"]})})]})]})})]})})}const Mg=[{id:"1",customerId:"cust-1",customerName:"John Smith",vehicleId:"veh-1",vehicleInfo:"2024 Forest River Georgetown",amount:125e3,downPayment:25e3,term:84,rate:6.99,paymentAmount:1621.23,startDate:new Date("2024-01-15"),status:"active",remainingBalance:123378.77,nextPaymentDate:new Date("2024-02-15"),createdAt:new Date("2024-01-10")},{id:"2",customerId:"cust-2",customerName:"Sarah Johnson",vehicleId:"veh-2",vehicleInfo:"2023 Airstream Flying Cloud",amount:75e3,downPayment:15e3,term:60,rate:5.49,paymentAmount:1142.62,startDate:new Date("2023-12-01"),status:"active",remainingBalance:73857.38,nextPaymentDate:new Date("2024-02-01"),createdAt:new Date("2023-11-25")}];function _g(){const[e]=f.useState(Mg),[n]=f.useState(Mg),[s,r]=f.useState("dashboard"),[a,i]=f.useState(""),[l,o]=f.useState(!1),[c,d]=f.useState(!1);f.useState(null);const{toast:m}=ot(),u=e.length,p=e.reduce((x,b)=>x+b.remainingBalance,0),h=e.reduce((x,b)=>x+b.rate,0)/e.length,v=e.reduce((x,b)=>x+b.paymentAmount,0),j=()=>{d(!0)},y=async x=>{try{console.log("Creating new loan:",x);const b={id:Math.random().toString(36).substr(2,9),customerId:x.customerId,customerName:x.customerName,vehicleId:x.vehicleId,vehicleInfo:x.vehicleInfo,amount:x.amount,downPayment:x.downPayment,term:x.term,rate:x.rate,paymentAmount:x.paymentAmount,startDate:new Date(x.startDate),status:x.status,remainingBalance:x.amount-x.downPayment,nextPaymentDate:new Date(new Date(x.startDate).setMonth(new Date(x.startDate).getMonth()+1)),createdAt:new Date};n([...e,b]),d(!1),m({title:"Success",description:"Loan created successfully"})}catch{m({title:"Error",description:"Failed to create loan",variant:"destructive"})}},g=e.filter(x=>x.customerName.toLowerCase().includes(a.toLowerCase())||x.vehicleInfo.toLowerCase().includes(a.toLowerCase()));return t.jsxs("div",{className:"space-y-8",children:[c&&t.jsx(dP,{onSave:y,onCancel:()=>d(!1)}),t.jsx("div",{className:"ri-page-header",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"ri-page-title",children:"Finance Management"}),t.jsx("p",{className:"ri-page-description",children:"Manage loans, calculate payments, and track customer financing"})]}),t.jsxs("div",{className:"flex space-x-2",children:[t.jsxs($,{variant:"outline",className:"shadow-sm",onClick:()=>o(!0),children:[t.jsx(fl,{className:"h-4 w-4 mr-2"}),"Loan Calculator"]}),t.jsxs($,{className:"shadow-sm",onClick:j,children:[t.jsx(Re,{className:"h-4 w-4 mr-2"}),"New Loan"]})]})]})}),t.jsxs("div",{className:"ri-stats-grid",children:[t.jsxs(U,{className:"shadow-sm border-0 bg-gradient-to-br from-blue-50 to-blue-100/50",children:[t.jsxs(G,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[t.jsx(q,{className:"text-sm font-medium text-blue-900",children:"Total Loans"}),t.jsx(Et,{className:"h-4 w-4 text-blue-600"})]}),t.jsxs(W,{children:[t.jsx("div",{className:"text-2xl font-bold text-blue-900",children:u}),t.jsxs("p",{className:"text-xs text-blue-600 flex items-center mt-1",children:[t.jsx(De,{className:"h-3 w-3 mr-1"}),"Active loans"]})]})]}),t.jsxs(U,{className:"shadow-sm border-0 bg-gradient-to-br from-green-50 to-green-100/50",children:[t.jsxs(G,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[t.jsx(q,{className:"text-sm font-medium text-green-900",children:"Loan Portfolio"}),t.jsx(Ve,{className:"h-4 w-4 text-green-600"})]}),t.jsxs(W,{children:[t.jsx("div",{className:"text-2xl font-bold text-green-900",children:re(p)}),t.jsxs("p",{className:"text-xs text-green-600 flex items-center mt-1",children:[t.jsx(De,{className:"h-3 w-3 mr-1"}),"Total outstanding"]})]})]}),t.jsxs(U,{className:"shadow-sm border-0 bg-gradient-to-br from-yellow-50 to-yellow-100/50",children:[t.jsxs(G,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[t.jsx(q,{className:"text-sm font-medium text-yellow-900",children:"Avg Interest Rate"}),t.jsx(Ke,{className:"h-4 w-4 text-yellow-600"})]}),t.jsxs(W,{children:[t.jsxs("div",{className:"text-2xl font-bold text-yellow-900",children:[h.toFixed(2),"%"]}),t.jsxs("p",{className:"text-xs text-yellow-600 flex items-center mt-1",children:[t.jsx(De,{className:"h-3 w-3 mr-1"}),"Portfolio average"]})]})]}),t.jsxs(U,{className:"shadow-sm border-0 bg-gradient-to-br from-purple-50 to-purple-100/50",children:[t.jsxs(G,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[t.jsx(q,{className:"text-sm font-medium text-purple-900",children:"Monthly Revenue"}),t.jsx(Qa,{className:"h-4 w-4 text-purple-600"})]}),t.jsxs(W,{children:[t.jsx("div",{className:"text-2xl font-bold text-purple-900",children:re(v)}),t.jsxs("p",{className:"text-xs text-purple-600 flex items-center mt-1",children:[t.jsx(De,{className:"h-3 w-3 mr-1"}),"From loan payments"]})]})]})]}),t.jsxs(bt,{value:s,onValueChange:r,className:"space-y-6",children:[t.jsxs(jt,{className:"grid w-full grid-cols-4",children:[t.jsx(je,{value:"dashboard",children:"Dashboard"}),t.jsx(je,{value:"loans",children:"Loans"}),t.jsx(je,{value:"payments",children:"Payment History"}),t.jsx(je,{value:"settings",children:"Loan Settings"})]}),t.jsxs(we,{value:"dashboard",className:"space-y-6",children:[t.jsxs("div",{className:"flex gap-4",children:[t.jsxs("div",{className:"ri-search-bar",children:[t.jsx(Lt,{className:"ri-search-icon"}),t.jsx(J,{placeholder:"Search loans...",value:a,onChange:x=>i(x.target.value),className:"ri-search-input shadow-sm"})]}),t.jsxs($,{variant:"outline",className:"shadow-sm",children:[t.jsx(an,{className:"h-4 w-4 mr-2"}),"Filter"]})]}),t.jsxs(U,{className:"shadow-sm",children:[t.jsxs(G,{children:[t.jsx(q,{className:"text-xl",children:"Active Loans"}),t.jsx(oe,{children:"Manage customer loans and financing"})]}),t.jsx(W,{children:t.jsx("div",{className:"space-y-4",children:g.map(x=>t.jsxs("div",{className:"ri-table-row",children:[t.jsx("div",{className:"flex items-center space-x-4 flex-1",children:t.jsxs("div",{className:"flex-1",children:[t.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[t.jsx("h3",{className:"font-semibold text-foreground",children:x.customerName}),t.jsx("div",{className:"bg-blue-50 text-blue-700 border border-blue-200 px-2 py-0.5 rounded-full text-xs font-semibold",children:x.status.toUpperCase()})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm text-muted-foreground",children:[t.jsxs("div",{children:[t.jsx("span",{className:"font-medium",children:"Vehicle:"})," ",x.vehicleInfo]}),t.jsxs("div",{children:[t.jsx("span",{className:"font-medium",children:"Loan Amount:"})," ",re(x.amount)]}),t.jsxs("div",{children:[t.jsx("span",{className:"font-medium",children:"Payment:"})," ",re(x.paymentAmount),"/mo"]}),t.jsxs("div",{children:[t.jsx("span",{className:"font-medium",children:"Next Payment:"})," ",x.nextPaymentDate.toLocaleDateString()]}),t.jsxs("div",{children:[t.jsx("span",{className:"font-medium",children:"Term:"})," ",x.term," months @ ",x.rate,"%"]}),t.jsxs("div",{children:[t.jsx("span",{className:"font-medium",children:"Balance:"})," ",re(x.remainingBalance)]})]})]})}),t.jsxs("div",{className:"ri-action-buttons",children:[t.jsxs($,{variant:"outline",size:"sm",className:"shadow-sm",children:[t.jsx(Qa,{className:"h-3 w-3 mr-1"}),"Payments"]}),t.jsxs($,{variant:"outline",size:"sm",className:"shadow-sm",children:[t.jsx(Et,{className:"h-3 w-3 mr-1"}),"Details"]})]})]},x.id))})})]})]}),t.jsx(we,{value:"loans",children:t.jsx("div",{className:"space-y-6",children:t.jsxs(U,{className:"shadow-sm",children:[t.jsxs(G,{children:[t.jsx(q,{children:"Loan Management"}),t.jsx(oe,{children:"View and manage all customer loans"})]}),t.jsx(W,{children:t.jsx("div",{className:"text-center py-8 text-muted-foreground",children:t.jsx("p",{children:"Detailed loan management interface will be displayed here"})})})]})})}),t.jsx(we,{value:"payments",children:t.jsx(oP,{})}),t.jsx(we,{value:"settings",children:t.jsx(cP,{})})]}),l&&t.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:t.jsx("div",{className:"bg-background rounded-lg shadow-lg w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:t.jsxs("div",{className:"p-6",children:[t.jsxs("div",{className:"flex items-center justify-between mb-6",children:[t.jsx("h2",{className:"text-2xl font-bold",children:"Loan Calculator"}),t.jsx($,{variant:"ghost",size:"sm",onClick:()=>o(!1),children:"✕"})]}),t.jsx(Bw,{onClose:()=>o(!1)})]})})})]})}function uP(){return t.jsxs(Wt,{children:[t.jsx(ke,{path:"/",element:t.jsx(_g,{})}),t.jsx(ke,{path:"/*",element:t.jsx(_g,{})})]})}var Se=(e=>(e.PROSPECTING="prospecting",e.QUALIFICATION="qualification",e.NEEDS_ANALYSIS="needs_analysis",e.PROPOSAL="proposal",e.NEGOTIATION="negotiation",e.CLOSED_WON="closed_won",e.CLOSED_LOST="closed_lost",e))(Se||{}),qe=(e=>(e.ACTIVE="active",e.WON="won",e.LOST="lost",e.ON_HOLD="on_hold",e.CANCELLED="cancelled",e))(qe||{}),gs=(e=>(e.LOW="low",e.MEDIUM="medium",e.HIGH="high",e.CRITICAL="critical",e))(gs||{}),Xs=(e=>(e.GEOGRAPHIC="geographic",e.INDUSTRY="industry",e.ACCOUNT_SIZE="account_size",e.PRODUCT_LINE="product_line",e))(Xs||{});function mP(){const[e,n]=f.useState([]),[s,r]=f.useState([]),[a,i]=f.useState([]),[l,o]=f.useState([]),[c,d]=f.useState([]),[m,u]=f.useState(!1);f.useEffect(()=>{p()},[]);const p=()=>{const A=Kt("renter-insight-deals",[{id:"1",name:"Georgetown Class A Sale - Smith Family",customerId:"cust-001",customerName:"John & Mary Smith",stage:Se.PROPOSAL,status:qe.ACTIVE,priority:"high",value:145e3,probability:75,expectedCloseDate:new Date("2024-02-15"),assignedTo:"rep-001",territoryId:"territory-001",sourceId:"source-001",competitorIds:["comp-001"],products:[{id:"1",productId:"prod-001",productName:"2024 Forest River Georgetown",quantity:1,unitPrice:125e3,discount:5e3,total:12e4},{id:"2",productId:"prod-002",productName:"Extended Warranty Package",quantity:1,unitPrice:3500,discount:0,total:3500}],stageHistory:[],notes:"Customer very interested, financing pre-approved",requiresApproval:!0,approvalStatus:"pending",customFields:{tradeInValue:25e3,financingType:"bank_loan"},createdAt:new Date("2024-01-10"),updatedAt:new Date("2024-01-20")},{id:"2",name:"Travel Trailer - Johnson Family",customerId:"cust-002",customerName:"Sarah Johnson",stage:Se.NEGOTIATION,status:qe.ACTIVE,priority:"medium",value:75e3,probability:85,expectedCloseDate:new Date("2024-02-10"),assignedTo:"rep-002",territoryId:"territory-002",competitorIds:[],products:[{id:"3",productId:"prod-003",productName:"2024 Airstream Flying Cloud",quantity:1,unitPrice:75e3,discount:2e3,total:73e3}],stageHistory:[],notes:"Ready to close, just finalizing delivery details",requiresApproval:!1,customFields:{},createdAt:new Date("2024-01-05"),updatedAt:new Date("2024-01-18")}]),_=Kt("renter-insight-territories",[{id:"territory-001",name:"North Region",type:"geographic",description:"Northern states territory",assignedTo:["rep-001","rep-003"],rules:[{id:"1",field:"state",operator:"in_range",value:["IL","WI","MN","IA"],priority:1}],isActive:!0,createdAt:new Date("2024-01-01"),updatedAt:new Date("2024-01-01")},{id:"territory-002",name:"South Region",type:"geographic",description:"Southern states territory",assignedTo:["rep-002"],rules:[{id:"2",field:"state",operator:"in_range",value:["TX","FL","GA","NC"],priority:1}],isActive:!0,createdAt:new Date("2024-01-01"),updatedAt:new Date("2024-01-01")}]),V=Kt("renter-insight-stage-history",[{id:"1",dealId:"1",fromStage:Se.QUALIFICATION,toStage:Se.NEEDS_ANALYSIS,changedBy:"rep-001",changedAt:new Date("2024-01-12"),duration:48,notes:"Customer qualified, moving to needs analysis"},{id:"2",dealId:"1",fromStage:Se.NEEDS_ANALYSIS,toStage:Se.PROPOSAL,changedBy:"rep-001",changedAt:new Date("2024-01-18"),duration:144,notes:"Proposal prepared and presented"}]);n(A),r(_),d(V)},h=A=>{Nt("renter-insight-deals",A)},v=A=>{Nt("renter-insight-stage-history",A)},j=async A=>{u(!0);try{const _={id:Math.random().toString(36).substr(2,9),name:A.name||"",customerId:A.customerId||"",customerName:A.customerName||"",stage:Se.PROSPECTING,status:qe.ACTIVE,priority:A.priority||"medium",value:A.value||0,probability:10,expectedCloseDate:A.expectedCloseDate||new Date,assignedTo:A.assignedTo||"",territoryId:A.territoryId||"",sourceId:A.sourceId,competitorIds:A.competitorIds||[],products:A.products||[],stageHistory:[],notes:A.notes||"",requiresApproval:(A.value||0)>1e5,customFields:A.customFields||{},createdAt:new Date,updatedAt:new Date},V=[...e,_];return n(V),h(V),await g(_.id,void 0,Se.PROSPECTING,"system"),_}finally{u(!1)}},y=async(A,_,V)=>{const P=e.find(H=>H.id===A);if(!P)return;const R=P.stage,M=b(_),F=_===Se.CLOSED_WON?qe.WON:_===Se.CLOSED_LOST?qe.LOST:qe.ACTIVE,B=_===Se.CLOSED_WON||_===Se.CLOSED_LOST?new Date:void 0,z=e.map(H=>H.id===A?{...H,stage:_,probability:M,status:F,actualCloseDate:B,updatedAt:new Date}:H);return n(z),h(z),await g(A,R,_,"current-user",V||`Stage changed from ${(R==null?void 0:R.replace("_"," "))||"none"} to ${_.replace("_"," ")}`),z.find(H=>H.id===A)},g=async(A,_,V,P,R)=>{const M=_?x(A,_):void 0,F={id:Math.random().toString(36).substr(2,9),dealId:A,fromStage:_,toStage:V,changedBy:P,changedAt:new Date,duration:M,notes:R},B=[...c,F];d(B),v(B)},x=(A,_)=>{const P=c.filter(R=>R.dealId===A).find(R=>R.toStage===_);return P?Math.floor((Date.now()-P.changedAt.getTime())/36e5):0},b=A=>{switch(A){case Se.PROSPECTING:return 10;case Se.QUALIFICATION:return 25;case Se.NEEDS_ANALYSIS:return 40;case Se.PROPOSAL:return 60;case Se.NEGOTIATION:return 80;case Se.CLOSED_WON:return 100;case Se.CLOSED_LOST:return 0;default:return 10}},T=async(A,_)=>{const V=s.find(P=>P.isActive);if(V){const P=e.map(R=>R.id===A?{...R,territoryId:V.id,updatedAt:new Date}:R);n(P),h(P)}},L=async(A,_)=>{const V={id:Math.random().toString(36).substr(2,9),dealId:A,workflowType:_,currentStep:1,totalSteps:2,steps:[{id:"1",stepNumber:1,approverRole:"sales_manager",approverIds:["manager-001"],requiredApprovals:1,currentApprovals:[],status:"pending"},{id:"2",stepNumber:2,approverRole:"sales_director",approverIds:["director-001"],requiredApprovals:1,currentApprovals:[],status:"pending"}],status:"pending",requestedBy:"current-user",requestedAt:new Date};return i(P=>[...P,V]),V},k=async(A,_,V)=>{const P={id:Math.random().toString(36).substr(2,9),dealId:A,outcome:_,primaryReason:V.primaryReason||"",secondaryReasons:V.secondaryReasons||[],competitorWon:V.competitorWon,feedback:V.feedback||"",lessonsLearned:V.lessonsLearned||[],actionItems:V.actionItems||[],reportedBy:"current-user",reportedAt:new Date};return o(R=>[...R,P]),P},I=()=>{const A=e.length,_=e.reduce((H,K)=>H+K.value,0),V=e.filter(H=>H.status===qe.WON).length,P=e.filter(H=>H.status===qe.WON).reduce((H,K)=>H+K.value,0),R=e.filter(H=>H.status===qe.LOST).length,M=e.filter(H=>H.status===qe.LOST).reduce((H,K)=>H+K.value,0),F=A>0?V/A*100:0,B=A>0?_/A:0,z=w();return{totalDeals:A,totalValue:_,wonDeals:V,wonValue:P,lostDeals:R,lostValue:M,winRate:F,averageDealSize:B,averageSalesCycle:z,conversionRates:S()}},w=()=>{const A=e.filter(V=>V.actualCloseDate);return A.length===0?0:A.reduce((V,P)=>{const R=new Date(P.actualCloseDate),M=new Date(P.createdAt),F=isNaN(R.getTime())?0:R.getTime(),B=isNaN(M.getTime())?0:M.getTime(),z=F&&B?Math.floor((F-B)/(1e3*60*60*24)):0;return V+z},0)/A.length},S=()=>[{fromStage:Se.PROSPECTING,toStage:Se.QUALIFICATION,rate:65,averageDuration:72},{fromStage:Se.QUALIFICATION,toStage:Se.NEEDS_ANALYSIS,rate:75,averageDuration:48},{fromStage:Se.NEEDS_ANALYSIS,toStage:Se.PROPOSAL,rate:80,averageDuration:96},{fromStage:Se.PROPOSAL,toStage:Se.NEGOTIATION,rate:70,averageDuration:120},{fromStage:Se.NEGOTIATION,toStage:Se.CLOSED_WON,rate:85,averageDuration:168}];return{deals:e,territories:s,approvalWorkflows:a,winLossReports:l,stageHistory:c,loading:m,createDeal:j,updateDealStage:y,assignTerritory:T,createApprovalWorkflow:L,createWinLossReport:k,getDealMetrics:I,getDealsByStage:A=>e.filter(_=>_.stage===A),getDealsByTerritory:A=>e.filter(_=>_.territoryId===A),getDealsByRep:A=>e.filter(_=>_.assignedTo===A),getStageHistory:A=>c.filter(_=>_.dealId===A).sort((_,V)=>new Date(_.changedAt).getTime()-new Date(V.changedAt).getTime())}}function op(e,n){return op=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,r){return s.__proto__=r,s},op(e,n)}function Vw(e,n){e.prototype=Object.create(n.prototype),e.prototype.constructor=e,op(e,n)}function yl(e){"@babel/helpers - typeof";return yl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},yl(e)}function pP(e,n){if(yl(e)!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var r=s.call(e,n||"default");if(yl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(e)}function fP(e){var n=pP(e,"string");return yl(n)=="symbol"?n:n+""}function hP(e,n,s){return(n=fP(n))in e?Object.defineProperty(e,n,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[n]=s,e}function $g(e,n){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),s.push.apply(s,r)}return s}function Bg(e){for(var n=1;n<arguments.length;n++){var s=arguments[n]!=null?arguments[n]:{};n%2?$g(Object(s),!0).forEach(function(r){hP(e,r,s[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):$g(Object(s)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(s,r))})}return e}function on(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var Vg=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),Pu=function(){return Math.random().toString(36).substring(7).split("").join(".")},zg={INIT:"@@redux/INIT"+Pu(),REPLACE:"@@redux/REPLACE"+Pu(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+Pu()}};function xP(e){if(typeof e!="object"||e===null)return!1;for(var n=e;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return Object.getPrototypeOf(e)===n}function zw(e,n,s){var r;if(typeof n=="function"&&typeof s=="function"||typeof s=="function"&&typeof arguments[3]=="function")throw new Error(on(0));if(typeof n=="function"&&typeof s>"u"&&(s=n,n=void 0),typeof s<"u"){if(typeof s!="function")throw new Error(on(1));return s(zw)(e,n)}if(typeof e!="function")throw new Error(on(2));var a=e,i=n,l=[],o=l,c=!1;function d(){o===l&&(o=l.slice())}function m(){if(c)throw new Error(on(3));return i}function u(j){if(typeof j!="function")throw new Error(on(4));if(c)throw new Error(on(5));var y=!0;return d(),o.push(j),function(){if(y){if(c)throw new Error(on(6));y=!1,d();var x=o.indexOf(j);o.splice(x,1),l=null}}}function p(j){if(!xP(j))throw new Error(on(7));if(typeof j.type>"u")throw new Error(on(8));if(c)throw new Error(on(9));try{c=!0,i=a(i,j)}finally{c=!1}for(var y=l=o,g=0;g<y.length;g++){var x=y[g];x()}return j}function h(j){if(typeof j!="function")throw new Error(on(10));a=j,p({type:zg.REPLACE})}function v(){var j,y=u;return j={subscribe:function(x){if(typeof x!="object"||x===null)throw new Error(on(11));function b(){x.next&&x.next(m())}b();var T=y(b);return{unsubscribe:T}}},j[Vg]=function(){return this},j}return p({type:zg.INIT}),r={dispatch:p,subscribe:u,getState:m,replaceReducer:h},r[Vg]=v,r}function Ug(e,n){return function(){return n(e.apply(this,arguments))}}function Wg(e,n){if(typeof e=="function")return Ug(e,n);if(typeof e!="object"||e===null)throw new Error(on(16));var s={};for(var r in e){var a=e[r];typeof a=="function"&&(s[r]=Ug(a,n))}return s}function Uw(){for(var e=arguments.length,n=new Array(e),s=0;s<e;s++)n[s]=arguments[s];return n.length===0?function(r){return r}:n.length===1?n[0]:n.reduce(function(r,a){return function(){return r(a.apply(void 0,arguments))}})}function gP(){for(var e=arguments.length,n=new Array(e),s=0;s<e;s++)n[s]=arguments[s];return function(r){return function(){var a=r.apply(void 0,arguments),i=function(){throw new Error(on(15))},l={getState:a.getState,dispatch:function(){return i.apply(void 0,arguments)}},o=n.map(function(c){return c(l)});return i=Uw.apply(void 0,o)(a.dispatch),Bg(Bg({},a),{},{dispatch:i})}}}var Ww=Le.createContext(null);function vP(e){e()}var Hw=vP,jP=function(n){return Hw=n},yP=function(){return Hw};function bP(){var e=yP(),n=null,s=null;return{clear:function(){n=null,s=null},notify:function(){e(function(){for(var a=n;a;)a.callback(),a=a.next})},get:function(){for(var a=[],i=n;i;)a.push(i),i=i.next;return a},subscribe:function(a){var i=!0,l=s={callback:a,next:null,prev:s};return l.prev?l.prev.next=l:n=l,function(){!i||n===null||(i=!1,l.next?l.next.prev=l.prev:s=l.prev,l.prev?l.prev.next=l.next:n=l.next)}}}}var Hg={notify:function(){},get:function(){return[]}};function Gw(e,n){var s,r=Hg;function a(u){return c(),r.subscribe(u)}function i(){r.notify()}function l(){m.onStateChange&&m.onStateChange()}function o(){return!!s}function c(){s||(s=n?n.addNestedSub(l):e.subscribe(l),r=bP())}function d(){s&&(s(),s=void 0,r.clear(),r=Hg)}var m={addNestedSub:a,notifyNestedSubs:i,handleChangeWrapper:l,isSubscribed:o,trySubscribe:c,tryUnsubscribe:d,getListeners:function(){return r}};return m}var qw=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?f.useLayoutEffect:f.useEffect;function wP(e){var n=e.store,s=e.context,r=e.children,a=f.useMemo(function(){var o=Gw(n);return{store:n,subscription:o}},[n]),i=f.useMemo(function(){return n.getState()},[n]);qw(function(){var o=a.subscription;return o.onStateChange=o.notifyNestedSubs,o.trySubscribe(),i!==n.getState()&&o.notifyNestedSubs(),function(){o.tryUnsubscribe(),o.onStateChange=null}},[a,i]);var l=s||Ww;return Le.createElement(l.Provider,{value:a},r)}function Pc(e,n){if(e==null)return{};var s={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(n.indexOf(r)!==-1)continue;s[r]=e[r]}return s}var Qw={exports:{}},Ye={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ft=typeof Symbol=="function"&&Symbol.for,Wf=Ft?Symbol.for("react.element"):60103,Hf=Ft?Symbol.for("react.portal"):60106,vd=Ft?Symbol.for("react.fragment"):60107,jd=Ft?Symbol.for("react.strict_mode"):60108,yd=Ft?Symbol.for("react.profiler"):60114,bd=Ft?Symbol.for("react.provider"):60109,wd=Ft?Symbol.for("react.context"):60110,Gf=Ft?Symbol.for("react.async_mode"):60111,Nd=Ft?Symbol.for("react.concurrent_mode"):60111,Sd=Ft?Symbol.for("react.forward_ref"):60112,Cd=Ft?Symbol.for("react.suspense"):60113,NP=Ft?Symbol.for("react.suspense_list"):60120,Ed=Ft?Symbol.for("react.memo"):60115,Id=Ft?Symbol.for("react.lazy"):60116,SP=Ft?Symbol.for("react.block"):60121,CP=Ft?Symbol.for("react.fundamental"):60117,EP=Ft?Symbol.for("react.responder"):60118,IP=Ft?Symbol.for("react.scope"):60119;function An(e){if(typeof e=="object"&&e!==null){var n=e.$$typeof;switch(n){case Wf:switch(e=e.type,e){case Gf:case Nd:case vd:case yd:case jd:case Cd:return e;default:switch(e=e&&e.$$typeof,e){case wd:case Sd:case Id:case Ed:case bd:return e;default:return n}}case Hf:return n}}}function Kw(e){return An(e)===Nd}Ye.AsyncMode=Gf;Ye.ConcurrentMode=Nd;Ye.ContextConsumer=wd;Ye.ContextProvider=bd;Ye.Element=Wf;Ye.ForwardRef=Sd;Ye.Fragment=vd;Ye.Lazy=Id;Ye.Memo=Ed;Ye.Portal=Hf;Ye.Profiler=yd;Ye.StrictMode=jd;Ye.Suspense=Cd;Ye.isAsyncMode=function(e){return Kw(e)||An(e)===Gf};Ye.isConcurrentMode=Kw;Ye.isContextConsumer=function(e){return An(e)===wd};Ye.isContextProvider=function(e){return An(e)===bd};Ye.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===Wf};Ye.isForwardRef=function(e){return An(e)===Sd};Ye.isFragment=function(e){return An(e)===vd};Ye.isLazy=function(e){return An(e)===Id};Ye.isMemo=function(e){return An(e)===Ed};Ye.isPortal=function(e){return An(e)===Hf};Ye.isProfiler=function(e){return An(e)===yd};Ye.isStrictMode=function(e){return An(e)===jd};Ye.isSuspense=function(e){return An(e)===Cd};Ye.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===vd||e===Nd||e===yd||e===jd||e===Cd||e===NP||typeof e=="object"&&e!==null&&(e.$$typeof===Id||e.$$typeof===Ed||e.$$typeof===bd||e.$$typeof===wd||e.$$typeof===Sd||e.$$typeof===CP||e.$$typeof===EP||e.$$typeof===IP||e.$$typeof===SP)};Ye.typeOf=An;Qw.exports=Ye;var DP=Qw.exports,qf=DP,AP={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},TP={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},kP={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},Yw={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},Qf={};Qf[qf.ForwardRef]=kP;Qf[qf.Memo]=Yw;function Gg(e){return qf.isMemo(e)?Yw:Qf[e.$$typeof]||AP}var PP=Object.defineProperty,RP=Object.getOwnPropertyNames,qg=Object.getOwnPropertySymbols,LP=Object.getOwnPropertyDescriptor,FP=Object.getPrototypeOf,Qg=Object.prototype;function Xw(e,n,s){if(typeof n!="string"){if(Qg){var r=FP(n);r&&r!==Qg&&Xw(e,r,s)}var a=RP(n);qg&&(a=a.concat(qg(n)));for(var i=Gg(e),l=Gg(n),o=0;o<a.length;++o){var c=a[o];if(!TP[c]&&!(s&&s[c])&&!(l&&l[c])&&!(i&&i[c])){var d=LP(n,c);try{PP(e,c,d)}catch{}}}}return e}var OP=Xw;const Kg=El(OP);var Jw={exports:{}},et={};/** @license React v17.0.2
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dd=60103,Ad=60106,Ml=60107,_l=60108,$l=60114,Bl=60109,Vl=60110,zl=60112,Ul=60113,Kf=60120,Wl=60115,Hl=60116,Zw=60121,eN=60122,tN=60117,nN=60129,sN=60131;if(typeof Symbol=="function"&&Symbol.for){var Ot=Symbol.for;Dd=Ot("react.element"),Ad=Ot("react.portal"),Ml=Ot("react.fragment"),_l=Ot("react.strict_mode"),$l=Ot("react.profiler"),Bl=Ot("react.provider"),Vl=Ot("react.context"),zl=Ot("react.forward_ref"),Ul=Ot("react.suspense"),Kf=Ot("react.suspense_list"),Wl=Ot("react.memo"),Hl=Ot("react.lazy"),Zw=Ot("react.block"),eN=Ot("react.server.block"),tN=Ot("react.fundamental"),nN=Ot("react.debug_trace_mode"),sN=Ot("react.legacy_hidden")}function is(e){if(typeof e=="object"&&e!==null){var n=e.$$typeof;switch(n){case Dd:switch(e=e.type,e){case Ml:case $l:case _l:case Ul:case Kf:return e;default:switch(e=e&&e.$$typeof,e){case Vl:case zl:case Hl:case Wl:case Bl:return e;default:return n}}case Ad:return n}}}var MP=Bl,_P=Dd,$P=zl,BP=Ml,VP=Hl,zP=Wl,UP=Ad,WP=$l,HP=_l,GP=Ul;et.ContextConsumer=Vl;et.ContextProvider=MP;et.Element=_P;et.ForwardRef=$P;et.Fragment=BP;et.Lazy=VP;et.Memo=zP;et.Portal=UP;et.Profiler=WP;et.StrictMode=HP;et.Suspense=GP;et.isAsyncMode=function(){return!1};et.isConcurrentMode=function(){return!1};et.isContextConsumer=function(e){return is(e)===Vl};et.isContextProvider=function(e){return is(e)===Bl};et.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===Dd};et.isForwardRef=function(e){return is(e)===zl};et.isFragment=function(e){return is(e)===Ml};et.isLazy=function(e){return is(e)===Hl};et.isMemo=function(e){return is(e)===Wl};et.isPortal=function(e){return is(e)===Ad};et.isProfiler=function(e){return is(e)===$l};et.isStrictMode=function(e){return is(e)===_l};et.isSuspense=function(e){return is(e)===Ul};et.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===Ml||e===$l||e===nN||e===_l||e===Ul||e===Kf||e===sN||typeof e=="object"&&e!==null&&(e.$$typeof===Hl||e.$$typeof===Wl||e.$$typeof===Bl||e.$$typeof===Vl||e.$$typeof===zl||e.$$typeof===tN||e.$$typeof===Zw||e[0]===eN)};et.typeOf=is;Jw.exports=et;var qP=Jw.exports,QP=["getDisplayName","methodName","renderCountProp","shouldHandleStateChanges","storeKey","withRef","forwardRef","context"],KP=["reactReduxForwardedRef"],YP=[],XP=[null,null];function JP(e,n){var s=e[1];return[n.payload,s+1]}function Yg(e,n,s){qw(function(){return e.apply(void 0,n)},s)}function ZP(e,n,s,r,a,i,l){e.current=r,n.current=a,s.current=!1,i.current&&(i.current=null,l())}function eR(e,n,s,r,a,i,l,o,c,d){if(e){var m=!1,u=null,p=function(){if(!m){var j=n.getState(),y,g;try{y=r(j,a.current)}catch(x){g=x,u=x}g||(u=null),y===i.current?l.current||c():(i.current=y,o.current=y,l.current=!0,d({type:"STORE_UPDATED",payload:{error:g}}))}};s.onStateChange=p,s.trySubscribe(),p();var h=function(){if(m=!0,s.tryUnsubscribe(),s.onStateChange=null,u)throw u};return h}}var tR=function(){return[null,0]};function nR(e,n){n===void 0&&(n={});var s=n,r=s.getDisplayName,a=r===void 0?function(b){return"ConnectAdvanced("+b+")"}:r,i=s.methodName,l=i===void 0?"connectAdvanced":i,o=s.renderCountProp,c=o===void 0?void 0:o,d=s.shouldHandleStateChanges,m=d===void 0?!0:d,u=s.storeKey,p=u===void 0?"store":u;s.withRef;var h=s.forwardRef,v=h===void 0?!1:h,j=s.context,y=j===void 0?Ww:j,g=Pc(s,QP),x=y;return function(T){var L=T.displayName||T.name||"Component",k=a(L),I=fe({},g,{getDisplayName:a,methodName:l,renderCountProp:c,shouldHandleStateChanges:m,storeKey:p,displayName:k,wrappedComponentName:L,WrappedComponent:T}),w=g.pure;function S(A){return e(A.dispatch,I)}var C=w?f.useMemo:function(A){return A()};function E(A){var _=f.useMemo(function(){var _e=A.reactReduxForwardedRef,Ue=Pc(A,KP);return[A.context,_e,Ue]},[A]),V=_[0],P=_[1],R=_[2],M=f.useMemo(function(){return V&&V.Consumer&&qP.isContextConsumer(Le.createElement(V.Consumer,null))?V:x},[V,x]),F=f.useContext(M),B=!!A.store&&!!A.store.getState&&!!A.store.dispatch;F&&F.store;var z=B?A.store:F.store,H=f.useMemo(function(){return S(z)},[z]),K=f.useMemo(function(){if(!m)return XP;var _e=Gw(z,B?null:F.subscription),Ue=_e.notifyNestedSubs.bind(_e);return[_e,Ue]},[z,B,F]),se=K[0],te=K[1],le=f.useMemo(function(){return B?F:fe({},F,{subscription:se})},[B,F,se]),ce=f.useReducer(JP,YP,tR),ue=ce[0],ee=ue[0],me=ce[1];if(ee&&ee.error)throw ee.error;var Ne=f.useRef(),Fe=f.useRef(R),Y=f.useRef(),X=f.useRef(!1),ne=C(function(){return Y.current&&R===Fe.current?Y.current:H(z.getState(),R)},[z,ee,R]);Yg(ZP,[Fe,Ne,X,R,ne,Y,te]),Yg(eR,[m,z,se,H,Fe,Ne,X,Y,te,me],[z,se,H]);var Ee=f.useMemo(function(){return Le.createElement(T,fe({},ne,{ref:P}))},[P,T,ne]),Te=f.useMemo(function(){return m?Le.createElement(M.Provider,{value:le},Ee):Ee},[M,Ee,le]);return Te}var N=w?Le.memo(E):E;if(N.WrappedComponent=T,N.displayName=E.displayName=k,v){var D=Le.forwardRef(function(_,V){return Le.createElement(N,fe({},_,{reactReduxForwardedRef:V}))});return D.displayName=k,D.WrappedComponent=T,Kg(D,T)}return Kg(N,T)}}function Xg(e,n){return e===n?e!==0||n!==0||1/e===1/n:e!==e&&n!==n}function Ru(e,n){if(Xg(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var s=Object.keys(e),r=Object.keys(n);if(s.length!==r.length)return!1;for(var a=0;a<s.length;a++)if(!Object.prototype.hasOwnProperty.call(n,s[a])||!Xg(e[s[a]],n[s[a]]))return!1;return!0}function sR(e,n){var s={},r=function(l){var o=e[l];typeof o=="function"&&(s[l]=function(){return n(o.apply(void 0,arguments))})};for(var a in e)r(a);return s}function Yf(e){return function(s,r){var a=e(s,r);function i(){return a}return i.dependsOnOwnProps=!1,i}}function Jg(e){return e.dependsOnOwnProps!==null&&e.dependsOnOwnProps!==void 0?!!e.dependsOnOwnProps:e.length!==1}function rN(e,n){return function(r,a){a.displayName;var i=function(o,c){return i.dependsOnOwnProps?i.mapToProps(o,c):i.mapToProps(o)};return i.dependsOnOwnProps=!0,i.mapToProps=function(o,c){i.mapToProps=e,i.dependsOnOwnProps=Jg(e);var d=i(o,c);return typeof d=="function"&&(i.mapToProps=d,i.dependsOnOwnProps=Jg(d),d=i(o,c)),d},i}}function rR(e){return typeof e=="function"?rN(e):void 0}function aR(e){return e?void 0:Yf(function(n){return{dispatch:n}})}function iR(e){return e&&typeof e=="object"?Yf(function(n){return sR(e,n)}):void 0}const lR=[rR,aR,iR];function oR(e){return typeof e=="function"?rN(e):void 0}function cR(e){return e?void 0:Yf(function(){return{}})}const dR=[oR,cR];function uR(e,n,s){return fe({},s,e,n)}function mR(e){return function(s,r){r.displayName;var a=r.pure,i=r.areMergedPropsEqual,l=!1,o;return function(d,m,u){var p=e(d,m,u);return l?(!a||!i(p,o))&&(o=p):(l=!0,o=p),o}}}function pR(e){return typeof e=="function"?mR(e):void 0}function fR(e){return e?void 0:function(){return uR}}const hR=[pR,fR];var xR=["initMapStateToProps","initMapDispatchToProps","initMergeProps"];function gR(e,n,s,r){return function(i,l){return s(e(i,l),n(r,l),l)}}function vR(e,n,s,r,a){var i=a.areStatesEqual,l=a.areOwnPropsEqual,o=a.areStatePropsEqual,c=!1,d,m,u,p,h;function v(b,T){return d=b,m=T,u=e(d,m),p=n(r,m),h=s(u,p,m),c=!0,h}function j(){return u=e(d,m),n.dependsOnOwnProps&&(p=n(r,m)),h=s(u,p,m),h}function y(){return e.dependsOnOwnProps&&(u=e(d,m)),n.dependsOnOwnProps&&(p=n(r,m)),h=s(u,p,m),h}function g(){var b=e(d,m),T=!o(b,u);return u=b,T&&(h=s(u,p,m)),h}function x(b,T){var L=!l(T,m),k=!i(b,d,T,m);return d=b,m=T,L&&k?j():L?y():k?g():h}return function(T,L){return c?x(T,L):v(T,L)}}function jR(e,n){var s=n.initMapStateToProps,r=n.initMapDispatchToProps,a=n.initMergeProps,i=Pc(n,xR),l=s(e,i),o=r(e,i),c=a(e,i),d=i.pure?vR:gR;return d(l,o,c,e,i)}var yR=["pure","areStatesEqual","areOwnPropsEqual","areStatePropsEqual","areMergedPropsEqual"];function Lu(e,n,s){for(var r=n.length-1;r>=0;r--){var a=n[r](e);if(a)return a}return function(i,l){throw new Error("Invalid value of type "+typeof e+" for "+s+" argument when connecting component "+l.wrappedComponentName+".")}}function bR(e,n){return e===n}function wR(e){var n=e===void 0?{}:e,s=n.connectHOC,r=s===void 0?nR:s,a=n.mapStateToPropsFactories,i=a===void 0?dR:a,l=n.mapDispatchToPropsFactories,o=l===void 0?lR:l,c=n.mergePropsFactories,d=c===void 0?hR:c,m=n.selectorFactory,u=m===void 0?jR:m;return function(h,v,j,y){y===void 0&&(y={});var g=y,x=g.pure,b=x===void 0?!0:x,T=g.areStatesEqual,L=T===void 0?bR:T,k=g.areOwnPropsEqual,I=k===void 0?Ru:k,w=g.areStatePropsEqual,S=w===void 0?Ru:w,C=g.areMergedPropsEqual,E=C===void 0?Ru:C,N=Pc(g,yR),D=Lu(h,i,"mapStateToProps"),A=Lu(v,o,"mapDispatchToProps"),_=Lu(j,d,"mergeProps");return r(u,fe({methodName:"connect",getDisplayName:function(P){return"Connect("+P+")"},shouldHandleStateChanges:!!h,initMapStateToProps:D,initMapDispatchToProps:A,initMergeProps:_,pure:b,areStatesEqual:L,areOwnPropsEqual:I,areStatePropsEqual:S,areMergedPropsEqual:E},N))}}const aN=wR();jP(Gs.unstable_batchedUpdates);function NR(e,n){if(e.length!==n.length)return!1;for(var s=0;s<e.length;s++)if(e[s]!==n[s])return!1;return!0}function iN(e,n){var s=f.useState(function(){return{inputs:n,result:e()}})[0],r=f.useRef(!0),a=f.useRef(s),i=r.current||!!(n&&a.current.inputs&&NR(n,a.current.inputs)),l=i?a.current:{inputs:n,result:e()};return f.useEffect(function(){r.current=!1,a.current=l},[l]),l.result}function SR(e,n){return iN(function(){return e},n)}var He=iN,Ae=SR,CR=!0,Fu="Invariant failed";function ER(e,n){if(!e){if(CR)throw new Error(Fu);var s=typeof n=="function"?n():n,r=s?"".concat(Fu,": ").concat(s):Fu;throw new Error(r)}}var es=function(n){var s=n.top,r=n.right,a=n.bottom,i=n.left,l=r-i,o=a-s,c={top:s,right:r,bottom:a,left:i,width:l,height:o,x:i,y:s,center:{x:(r+i)/2,y:(a+s)/2}};return c},Xf=function(n,s){return{top:n.top-s.top,left:n.left-s.left,bottom:n.bottom+s.bottom,right:n.right+s.right}},Zg=function(n,s){return{top:n.top+s.top,left:n.left+s.left,bottom:n.bottom-s.bottom,right:n.right-s.right}},IR=function(n,s){return{top:n.top+s.y,left:n.left+s.x,bottom:n.bottom+s.y,right:n.right+s.x}},Ou={top:0,right:0,bottom:0,left:0},Jf=function(n){var s=n.borderBox,r=n.margin,a=r===void 0?Ou:r,i=n.border,l=i===void 0?Ou:i,o=n.padding,c=o===void 0?Ou:o,d=es(Xf(s,a)),m=es(Zg(s,l)),u=es(Zg(m,c));return{marginBox:d,borderBox:es(s),paddingBox:m,contentBox:u,margin:a,border:l,padding:c}},kn=function(n){var s=n.slice(0,-2),r=n.slice(-2);if(r!=="px")return 0;var a=Number(s);return isNaN(a)&&ER(!1),a},DR=function(){return{x:window.pageXOffset,y:window.pageYOffset}},Rc=function(n,s){var r=n.borderBox,a=n.border,i=n.margin,l=n.padding,o=IR(r,s);return Jf({borderBox:o,border:a,margin:i,padding:l})},Lc=function(n,s){return s===void 0&&(s=DR()),Rc(n,s)},lN=function(n,s){var r={top:kn(s.marginTop),right:kn(s.marginRight),bottom:kn(s.marginBottom),left:kn(s.marginLeft)},a={top:kn(s.paddingTop),right:kn(s.paddingRight),bottom:kn(s.paddingBottom),left:kn(s.paddingLeft)},i={top:kn(s.borderTopWidth),right:kn(s.borderRightWidth),bottom:kn(s.borderBottomWidth),left:kn(s.borderLeftWidth)};return Jf({borderBox:n,margin:r,padding:a,border:i})},oN=function(n){var s=n.getBoundingClientRect(),r=window.getComputedStyle(n);return lN(s,r)},ev=Number.isNaN||function(n){return typeof n=="number"&&n!==n};function AR(e,n){return!!(e===n||ev(e)&&ev(n))}function TR(e,n){if(e.length!==n.length)return!1;for(var s=0;s<e.length;s++)if(!AR(e[s],n[s]))return!1;return!0}function Pt(e,n){n===void 0&&(n=TR);var s,r=[],a,i=!1;function l(){for(var o=[],c=0;c<arguments.length;c++)o[c]=arguments[c];return i&&s===this&&n(o,r)||(a=e.apply(this,o),i=!0,s=this,r=o),a}return l}var kR=function(n){var s=[],r=null,a=function(){for(var l=arguments.length,o=new Array(l),c=0;c<l;c++)o[c]=arguments[c];s=o,!r&&(r=requestAnimationFrame(function(){r=null,n.apply(void 0,s)}))};return a.cancel=function(){r&&(cancelAnimationFrame(r),r=null)},a};const bl=kR;function cN(e,n){}cN.bind(null,"warn");cN.bind(null,"error");function hr(){}function PR(e,n){return fe({},e,{},n)}function Mn(e,n,s){var r=n.map(function(a){var i=PR(s,a.options);return e.addEventListener(a.eventName,a.fn,i),function(){e.removeEventListener(a.eventName,a.fn,i)}});return function(){r.forEach(function(i){i()})}}var RR="Invariant failed";function Fc(e){this.message=e}Fc.prototype.toString=function(){return this.message};function pe(e,n){if(!e)throw new Fc(RR)}var LR=function(e){Vw(n,e);function n(){for(var r,a=arguments.length,i=new Array(a),l=0;l<a;l++)i[l]=arguments[l];return r=e.call.apply(e,[this].concat(i))||this,r.callbacks=null,r.unbind=hr,r.onWindowError=function(o){var c=r.getCallbacks();c.isDragging()&&c.tryAbort();var d=o.error;d instanceof Fc&&o.preventDefault()},r.getCallbacks=function(){if(!r.callbacks)throw new Error("Unable to find AppCallbacks in <ErrorBoundary/>");return r.callbacks},r.setCallbacks=function(o){r.callbacks=o},r}var s=n.prototype;return s.componentDidMount=function(){this.unbind=Mn(window,[{eventName:"error",fn:this.onWindowError}])},s.componentDidCatch=function(a){if(a instanceof Fc){this.setState({});return}throw a},s.componentWillUnmount=function(){this.unbind()},s.render=function(){return this.props.children(this.setCallbacks)},n}(Le.Component),FR=`
  Press space bar to start a drag.
  When dragging you can use the arrow keys to move the item around and escape to cancel.
  Some screen readers may require you to be in focus mode or to use your pass through key
`,Oc=function(n){return n+1},OR=function(n){return`
  You have lifted an item in position `+Oc(n.source.index)+`
`},dN=function(n,s){var r=n.droppableId===s.droppableId,a=Oc(n.index),i=Oc(s.index);return r?`
      You have moved the item from position `+a+`
      to position `+i+`
    `:`
    You have moved the item from position `+a+`
    in list `+n.droppableId+`
    to list `+s.droppableId+`
    in position `+i+`
  `},uN=function(n,s,r){var a=s.droppableId===r.droppableId;return a?`
      The item `+n+`
      has been combined with `+r.draggableId:`
      The item `+n+`
      in list `+s.droppableId+`
      has been combined with `+r.draggableId+`
      in list `+r.droppableId+`
    `},MR=function(n){var s=n.destination;if(s)return dN(n.source,s);var r=n.combine;return r?uN(n.draggableId,n.source,r):"You are over an area that cannot be dropped on"},tv=function(n){return`
  The item has returned to its starting position
  of `+Oc(n.index)+`
`},_R=function(n){if(n.reason==="CANCEL")return`
      Movement cancelled.
      `+tv(n.source)+`
    `;var s=n.destination,r=n.combine;return s?`
      You have dropped the item.
      `+dN(n.source,s)+`
    `:r?`
      You have dropped the item.
      `+uN(n.draggableId,n.source,r)+`
    `:`
    The item has been dropped while not over a drop area.
    `+tv(n.source)+`
  `},qo={dragHandleUsageInstructions:FR,onDragStart:OR,onDragUpdate:MR,onDragEnd:_R},Rt={x:0,y:0},Bt=function(n,s){return{x:n.x+s.x,y:n.y+s.y}},jn=function(n,s){return{x:n.x-s.x,y:n.y-s.y}},xr=function(n,s){return n.x===s.x&&n.y===s.y},pi=function(n){return{x:n.x!==0?-n.x:0,y:n.y!==0?-n.y:0}},sa=function(n,s,r){var a;return r===void 0&&(r=0),a={},a[n]=s,a[n==="x"?"y":"x"]=r,a},wl=function(n,s){return Math.sqrt(Math.pow(s.x-n.x,2)+Math.pow(s.y-n.y,2))},nv=function(n,s){return Math.min.apply(Math,s.map(function(r){return wl(n,r)}))},mN=function(n){return function(s){return{x:n(s.x),y:n(s.y)}}},$R=function(e,n){var s=es({top:Math.max(n.top,e.top),right:Math.min(n.right,e.right),bottom:Math.min(n.bottom,e.bottom),left:Math.max(n.left,e.left)});return s.width<=0||s.height<=0?null:s},Gl=function(n,s){return{top:n.top+s.y,left:n.left+s.x,bottom:n.bottom+s.y,right:n.right+s.x}},sv=function(n){return[{x:n.left,y:n.top},{x:n.right,y:n.top},{x:n.left,y:n.bottom},{x:n.right,y:n.bottom}]},BR={top:0,right:0,bottom:0,left:0},VR=function(n,s){return s?Gl(n,s.scroll.diff.displacement):n},zR=function(n,s,r){if(r&&r.increasedBy){var a;return fe({},n,(a={},a[s.end]=n[s.end]+r.increasedBy[s.line],a))}return n},UR=function(n,s){return s&&s.shouldClipSubject?$R(s.pageMarginBox,n):es(n)},ei=function(e){var n=e.page,s=e.withPlaceholder,r=e.axis,a=e.frame,i=VR(n.marginBox,a),l=zR(i,r,s),o=UR(l,a);return{page:n,withPlaceholder:s,active:o}},Zf=function(e,n){e.frame||pe(!1);var s=e.frame,r=jn(n,s.scroll.initial),a=pi(r),i=fe({},s,{scroll:{initial:s.scroll.initial,current:n,diff:{value:r,displacement:a},max:s.scroll.max}}),l=ei({page:e.subject.page,withPlaceholder:e.subject.withPlaceholder,axis:e.axis,frame:i}),o=fe({},e,{frame:i,subject:l});return o};function Mc(e){return Object.values?Object.values(e):Object.keys(e).map(function(n){return e[n]})}function eh(e,n){if(e.findIndex)return e.findIndex(n);for(var s=0;s<e.length;s++)if(n(e[s]))return s;return-1}function Tr(e,n){if(e.find)return e.find(n);var s=eh(e,n);if(s!==-1)return e[s]}function pN(e){return Array.prototype.slice.call(e)}var fN=Pt(function(e){return e.reduce(function(n,s){return n[s.descriptor.id]=s,n},{})}),hN=Pt(function(e){return e.reduce(function(n,s){return n[s.descriptor.id]=s,n},{})}),Td=Pt(function(e){return Mc(e)}),WR=Pt(function(e){return Mc(e)}),fi=Pt(function(e,n){var s=WR(n).filter(function(r){return e===r.descriptor.droppableId}).sort(function(r,a){return r.descriptor.index-a.descriptor.index});return s});function th(e){return e.at&&e.at.type==="REORDER"?e.at.destination:null}function kd(e){return e.at&&e.at.type==="COMBINE"?e.at.combine:null}var Pd=Pt(function(e,n){return n.filter(function(s){return s.descriptor.id!==e.descriptor.id})}),HR=function(e){var n=e.isMovingForward,s=e.draggable,r=e.destination,a=e.insideDestination,i=e.previousImpact;if(!r.isCombineEnabled)return null;var l=th(i);if(!l)return null;function o(j){var y={type:"COMBINE",combine:{draggableId:j,droppableId:r.descriptor.id}};return fe({},i,{at:y})}var c=i.displaced.all,d=c.length?c[0]:null;if(n)return d?o(d):null;var m=Pd(s,a);if(!d){if(!m.length)return null;var u=m[m.length-1];return o(u.descriptor.id)}var p=eh(m,function(j){return j.descriptor.id===d});p===-1&&pe(!1);var h=p-1;if(h<0)return null;var v=m[h];return o(v.descriptor.id)},hi=function(e,n){return e.descriptor.droppableId===n.descriptor.id},xN={point:Rt,value:0},Nl={invisible:{},visible:{},all:[]},GR={displaced:Nl,displacedBy:xN,at:null},Bn=function(e,n){return function(s){return e<=s&&s<=n}},gN=function(e){var n=Bn(e.top,e.bottom),s=Bn(e.left,e.right);return function(r){var a=n(r.top)&&n(r.bottom)&&s(r.left)&&s(r.right);if(a)return!0;var i=n(r.top)||n(r.bottom),l=s(r.left)||s(r.right),o=i&&l;if(o)return!0;var c=r.top<e.top&&r.bottom>e.bottom,d=r.left<e.left&&r.right>e.right,m=c&&d;if(m)return!0;var u=c&&l||d&&i;return u}},qR=function(e){var n=Bn(e.top,e.bottom),s=Bn(e.left,e.right);return function(r){var a=n(r.top)&&n(r.bottom)&&s(r.left)&&s(r.right);return a}},nh={direction:"vertical",line:"y",crossAxisLine:"x",start:"top",end:"bottom",size:"height",crossAxisStart:"left",crossAxisEnd:"right",crossAxisSize:"width"},vN={direction:"horizontal",line:"x",crossAxisLine:"y",start:"left",end:"right",size:"width",crossAxisStart:"top",crossAxisEnd:"bottom",crossAxisSize:"height"},QR=function(e){return function(n){var s=Bn(n.top,n.bottom),r=Bn(n.left,n.right);return function(a){return e===nh?s(a.top)&&s(a.bottom):r(a.left)&&r(a.right)}}},KR=function(n,s){var r=s.frame?s.frame.scroll.diff.displacement:Rt;return Gl(n,r)},YR=function(n,s,r){return s.subject.active?r(s.subject.active)(n):!1},XR=function(n,s,r){return r(s)(n)},sh=function(n){var s=n.target,r=n.destination,a=n.viewport,i=n.withDroppableDisplacement,l=n.isVisibleThroughFrameFn,o=i?KR(s,r):s;return YR(o,r,l)&&XR(o,a,l)},JR=function(n){return sh(fe({},n,{isVisibleThroughFrameFn:gN}))},jN=function(n){return sh(fe({},n,{isVisibleThroughFrameFn:qR}))},ZR=function(n){return sh(fe({},n,{isVisibleThroughFrameFn:QR(n.destination.axis)}))},e3=function(n,s,r){if(typeof r=="boolean")return r;if(!s)return!0;var a=s.invisible,i=s.visible;if(a[n])return!1;var l=i[n];return l?l.shouldAnimate:!0};function t3(e,n){var s=e.page.marginBox,r={top:n.point.y,right:0,bottom:0,left:n.point.x};return es(Xf(s,r))}function Sl(e){var n=e.afterDragging,s=e.destination,r=e.displacedBy,a=e.viewport,i=e.forceShouldAnimate,l=e.last;return n.reduce(function(c,d){var m=t3(d,r),u=d.descriptor.id;c.all.push(u);var p=JR({target:m,destination:s,viewport:a,withDroppableDisplacement:!0});if(!p)return c.invisible[d.descriptor.id]=!0,c;var h=e3(u,l,i),v={draggableId:u,shouldAnimate:h};return c.visible[u]=v,c},{all:[],visible:{},invisible:{}})}function n3(e,n){if(!e.length)return 0;var s=e[e.length-1].descriptor.index;return n.inHomeList?s:s+1}function rv(e){var n=e.insideDestination,s=e.inHomeList,r=e.displacedBy,a=e.destination,i=n3(n,{inHomeList:s});return{displaced:Nl,displacedBy:r,at:{type:"REORDER",destination:{droppableId:a.descriptor.id,index:i}}}}function _c(e){var n=e.draggable,s=e.insideDestination,r=e.destination,a=e.viewport,i=e.displacedBy,l=e.last,o=e.index,c=e.forceShouldAnimate,d=hi(n,r);if(o==null)return rv({insideDestination:s,inHomeList:d,displacedBy:i,destination:r});var m=Tr(s,function(j){return j.descriptor.index===o});if(!m)return rv({insideDestination:s,inHomeList:d,displacedBy:i,destination:r});var u=Pd(n,s),p=s.indexOf(m),h=u.slice(p),v=Sl({afterDragging:h,destination:r,displacedBy:i,last:l,viewport:a.frame,forceShouldAnimate:c});return{displaced:v,displacedBy:i,at:{type:"REORDER",destination:{droppableId:r.descriptor.id,index:o}}}}function Nr(e,n){return!!n.effected[e]}var s3=function(e){var n=e.isMovingForward,s=e.destination,r=e.draggables,a=e.combine,i=e.afterCritical;if(!s.isCombineEnabled)return null;var l=a.draggableId,o=r[l],c=o.descriptor.index,d=Nr(l,i);return d?n?c:c-1:n?c+1:c},r3=function(e){var n=e.isMovingForward,s=e.isInHomeList,r=e.insideDestination,a=e.location;if(!r.length)return null;var i=a.index,l=n?i+1:i-1,o=r[0].descriptor.index,c=r[r.length-1].descriptor.index,d=s?c:c+1;return l<o||l>d?null:l},a3=function(e){var n=e.isMovingForward,s=e.isInHomeList,r=e.draggable,a=e.draggables,i=e.destination,l=e.insideDestination,o=e.previousImpact,c=e.viewport,d=e.afterCritical,m=o.at;if(m||pe(!1),m.type==="REORDER"){var u=r3({isMovingForward:n,isInHomeList:s,location:m.destination,insideDestination:l});return u==null?null:_c({draggable:r,insideDestination:l,destination:i,viewport:c,last:o.displaced,displacedBy:o.displacedBy,index:u})}var p=s3({isMovingForward:n,destination:i,displaced:o.displaced,draggables:a,combine:m.combine,afterCritical:d});return p==null?null:_c({draggable:r,insideDestination:l,destination:i,viewport:c,last:o.displaced,displacedBy:o.displacedBy,index:p})},i3=function(e){var n=e.displaced,s=e.afterCritical,r=e.combineWith,a=e.displacedBy,i=!!(n.visible[r]||n.invisible[r]);return Nr(r,s)?i?Rt:pi(a.point):i?a.point:Rt},l3=function(e){var n=e.afterCritical,s=e.impact,r=e.draggables,a=kd(s);a||pe(!1);var i=a.draggableId,l=r[i].page.borderBox.center,o=i3({displaced:s.displaced,afterCritical:n,combineWith:i,displacedBy:s.displacedBy});return Bt(l,o)},yN=function(n,s){return s.margin[n.start]+s.borderBox[n.size]/2},o3=function(n,s){return s.margin[n.end]+s.borderBox[n.size]/2},rh=function(n,s,r){return s[n.crossAxisStart]+r.margin[n.crossAxisStart]+r.borderBox[n.crossAxisSize]/2},av=function(n){var s=n.axis,r=n.moveRelativeTo,a=n.isMoving;return sa(s.line,r.marginBox[s.end]+yN(s,a),rh(s,r.marginBox,a))},iv=function(n){var s=n.axis,r=n.moveRelativeTo,a=n.isMoving;return sa(s.line,r.marginBox[s.start]-o3(s,a),rh(s,r.marginBox,a))},c3=function(n){var s=n.axis,r=n.moveInto,a=n.isMoving;return sa(s.line,r.contentBox[s.start]+yN(s,a),rh(s,r.contentBox,a))},d3=function(e){var n=e.impact,s=e.draggable,r=e.draggables,a=e.droppable,i=e.afterCritical,l=fi(a.descriptor.id,r),o=s.page,c=a.axis;if(!l.length)return c3({axis:c,moveInto:a.page,isMoving:o});var d=n.displaced,m=n.displacedBy,u=d.all[0];if(u){var p=r[u];if(Nr(u,i))return iv({axis:c,moveRelativeTo:p.page,isMoving:o});var h=Rc(p.page,m.point);return iv({axis:c,moveRelativeTo:h,isMoving:o})}var v=l[l.length-1];if(v.descriptor.id===s.descriptor.id)return o.borderBox.center;if(Nr(v.descriptor.id,i)){var j=Rc(v.page,pi(i.displacedBy.point));return av({axis:c,moveRelativeTo:j,isMoving:o})}return av({axis:c,moveRelativeTo:v.page,isMoving:o})},cp=function(e,n){var s=e.frame;return s?Bt(n,s.scroll.diff.displacement):n},u3=function(n){var s=n.impact,r=n.draggable,a=n.droppable,i=n.draggables,l=n.afterCritical,o=r.page.borderBox.center,c=s.at;return!a||!c?o:c.type==="REORDER"?d3({impact:s,draggable:r,draggables:i,droppable:a,afterCritical:l}):l3({impact:s,draggables:i,afterCritical:l})},Rd=function(e){var n=u3(e),s=e.droppable,r=s?cp(s,n):n;return r},bN=function(e,n){var s=jn(n,e.scroll.initial),r=pi(s),a=es({top:n.y,bottom:n.y+e.frame.height,left:n.x,right:n.x+e.frame.width}),i={frame:a,scroll:{initial:e.scroll.initial,max:e.scroll.max,current:n,diff:{value:s,displacement:r}}};return i};function lv(e,n){return e.map(function(s){return n[s]})}function m3(e,n){for(var s=0;s<n.length;s++){var r=n[s].visible[e];if(r)return r}return null}var p3=function(e){var n=e.impact,s=e.viewport,r=e.destination,a=e.draggables,i=e.maxScrollChange,l=bN(s,Bt(s.scroll.current,i)),o=r.frame?Zf(r,Bt(r.frame.scroll.current,i)):r,c=n.displaced,d=Sl({afterDragging:lv(c.all,a),destination:r,displacedBy:n.displacedBy,viewport:l.frame,last:c,forceShouldAnimate:!1}),m=Sl({afterDragging:lv(c.all,a),destination:o,displacedBy:n.displacedBy,viewport:s.frame,last:c,forceShouldAnimate:!1}),u={},p={},h=[c,d,m];c.all.forEach(function(j){var y=m3(j,h);if(y){p[j]=y;return}u[j]=!0});var v=fe({},n,{displaced:{all:c.all,invisible:u,visible:p}});return v},f3=function(e,n){return Bt(e.scroll.diff.displacement,n)},ah=function(e){var n=e.pageBorderBoxCenter,s=e.draggable,r=e.viewport,a=f3(r,n),i=jn(a,s.page.borderBox.center);return Bt(s.client.borderBox.center,i)},wN=function(e){var n=e.draggable,s=e.destination,r=e.newPageBorderBoxCenter,a=e.viewport,i=e.withDroppableDisplacement,l=e.onlyOnMainAxis,o=l===void 0?!1:l,c=jn(r,n.page.borderBox.center),d=Gl(n.page.borderBox,c),m={target:d,destination:s,withDroppableDisplacement:i,viewport:a};return o?ZR(m):jN(m)},h3=function(e){var n=e.isMovingForward,s=e.draggable,r=e.destination,a=e.draggables,i=e.previousImpact,l=e.viewport,o=e.previousPageBorderBoxCenter,c=e.previousClientSelection,d=e.afterCritical;if(!r.isEnabled)return null;var m=fi(r.descriptor.id,a),u=hi(s,r),p=HR({isMovingForward:n,draggable:s,destination:r,insideDestination:m,previousImpact:i})||a3({isMovingForward:n,isInHomeList:u,draggable:s,draggables:a,destination:r,insideDestination:m,previousImpact:i,viewport:l,afterCritical:d});if(!p)return null;var h=Rd({impact:p,draggable:s,droppable:r,draggables:a,afterCritical:d}),v=wN({draggable:s,destination:r,newPageBorderBoxCenter:h,viewport:l.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0});if(v){var j=ah({pageBorderBoxCenter:h,draggable:s,viewport:l});return{clientSelection:j,impact:p,scrollJumpRequest:null}}var y=jn(h,o),g=p3({impact:p,viewport:l,destination:r,draggables:a,maxScrollChange:y});return{clientSelection:c,impact:g,scrollJumpRequest:y}},en=function(n){var s=n.subject.active;return s||pe(!1),s},x3=function(e){var n=e.isMovingForward,s=e.pageBorderBoxCenter,r=e.source,a=e.droppables,i=e.viewport,l=r.subject.active;if(!l)return null;var o=r.axis,c=Bn(l[o.start],l[o.end]),d=Td(a).filter(function(u){return u!==r}).filter(function(u){return u.isEnabled}).filter(function(u){return!!u.subject.active}).filter(function(u){return gN(i.frame)(en(u))}).filter(function(u){var p=en(u);return n?l[o.crossAxisEnd]<p[o.crossAxisEnd]:p[o.crossAxisStart]<l[o.crossAxisStart]}).filter(function(u){var p=en(u),h=Bn(p[o.start],p[o.end]);return c(p[o.start])||c(p[o.end])||h(l[o.start])||h(l[o.end])}).sort(function(u,p){var h=en(u)[o.crossAxisStart],v=en(p)[o.crossAxisStart];return n?h-v:v-h}).filter(function(u,p,h){return en(u)[o.crossAxisStart]===en(h[0])[o.crossAxisStart]});if(!d.length)return null;if(d.length===1)return d[0];var m=d.filter(function(u){var p=Bn(en(u)[o.start],en(u)[o.end]);return p(s[o.line])});return m.length===1?m[0]:m.length>1?m.sort(function(u,p){return en(u)[o.start]-en(p)[o.start]})[0]:d.sort(function(u,p){var h=nv(s,sv(en(u))),v=nv(s,sv(en(p)));return h!==v?h-v:en(u)[o.start]-en(p)[o.start]})[0]},ov=function(n,s){var r=n.page.borderBox.center;return Nr(n.descriptor.id,s)?jn(r,s.displacedBy.point):r},g3=function(n,s){var r=n.page.borderBox;return Nr(n.descriptor.id,s)?Gl(r,pi(s.displacedBy.point)):r},v3=function(e){var n=e.pageBorderBoxCenter,s=e.viewport,r=e.destination,a=e.insideDestination,i=e.afterCritical,l=a.filter(function(o){return jN({target:g3(o,i),destination:r,viewport:s.frame,withDroppableDisplacement:!0})}).sort(function(o,c){var d=wl(n,cp(r,ov(o,i))),m=wl(n,cp(r,ov(c,i)));return d<m?-1:m<d?1:o.descriptor.index-c.descriptor.index});return l[0]||null},ql=Pt(function(n,s){var r=s[n.line];return{value:r,point:sa(n.line,r)}}),j3=function(n,s,r){var a=n.axis;if(n.descriptor.mode==="virtual")return sa(a.line,s[a.line]);var i=n.subject.page.contentBox[a.size],l=fi(n.descriptor.id,r),o=l.reduce(function(m,u){return m+u.client.marginBox[a.size]},0),c=o+s[a.line],d=c-i;return d<=0?null:sa(a.line,d)},NN=function(n,s){return fe({},n,{scroll:fe({},n.scroll,{max:s})})},SN=function(n,s,r){var a=n.frame;hi(s,n)&&pe(!1),n.subject.withPlaceholder&&pe(!1);var i=ql(n.axis,s.displaceBy).point,l=j3(n,i,r),o={placeholderSize:i,increasedBy:l,oldFrameMaxScroll:n.frame?n.frame.scroll.max:null};if(!a){var c=ei({page:n.subject.page,withPlaceholder:o,axis:n.axis,frame:n.frame});return fe({},n,{subject:c})}var d=l?Bt(a.scroll.max,l):a.scroll.max,m=NN(a,d),u=ei({page:n.subject.page,withPlaceholder:o,axis:n.axis,frame:m});return fe({},n,{subject:u,frame:m})},y3=function(n){var s=n.subject.withPlaceholder;s||pe(!1);var r=n.frame;if(!r){var a=ei({page:n.subject.page,axis:n.axis,frame:null,withPlaceholder:null});return fe({},n,{subject:a})}var i=s.oldFrameMaxScroll;i||pe(!1);var l=NN(r,i),o=ei({page:n.subject.page,axis:n.axis,frame:l,withPlaceholder:null});return fe({},n,{subject:o,frame:l})},b3=function(e){var n=e.previousPageBorderBoxCenter,s=e.moveRelativeTo,r=e.insideDestination,a=e.draggable,i=e.draggables,l=e.destination,o=e.viewport,c=e.afterCritical;if(!s){if(r.length)return null;var d={displaced:Nl,displacedBy:xN,at:{type:"REORDER",destination:{droppableId:l.descriptor.id,index:0}}},m=Rd({impact:d,draggable:a,droppable:l,draggables:i,afterCritical:c}),u=hi(a,l)?l:SN(l,a,i),p=wN({draggable:a,destination:u,newPageBorderBoxCenter:m,viewport:o.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0});return p?d:null}var h=n[l.axis.line]<=s.page.borderBox.center[l.axis.line],v=function(){var y=s.descriptor.index;return s.descriptor.id===a.descriptor.id||h?y:y+1}(),j=ql(l.axis,a.displaceBy);return _c({draggable:a,insideDestination:r,destination:l,viewport:o,displacedBy:j,last:Nl,index:v})},w3=function(e){var n=e.isMovingForward,s=e.previousPageBorderBoxCenter,r=e.draggable,a=e.isOver,i=e.draggables,l=e.droppables,o=e.viewport,c=e.afterCritical,d=x3({isMovingForward:n,pageBorderBoxCenter:s,source:a,droppables:l,viewport:o});if(!d)return null;var m=fi(d.descriptor.id,i),u=v3({pageBorderBoxCenter:s,viewport:o,destination:d,insideDestination:m,afterCritical:c}),p=b3({previousPageBorderBoxCenter:s,destination:d,draggable:r,draggables:i,moveRelativeTo:u,insideDestination:m,viewport:o,afterCritical:c});if(!p)return null;var h=Rd({impact:p,draggable:r,droppable:d,draggables:i,afterCritical:c}),v=ah({pageBorderBoxCenter:h,draggable:r,viewport:o});return{clientSelection:v,impact:p,scrollJumpRequest:null}},Nn=function(e){var n=e.at;return n?n.type==="REORDER"?n.destination.droppableId:n.combine.droppableId:null},N3=function(n,s){var r=Nn(n);return r?s[r]:null},S3=function(e){var n=e.state,s=e.type,r=N3(n.impact,n.dimensions.droppables),a=!!r,i=n.dimensions.droppables[n.critical.droppable.id],l=r||i,o=l.axis.direction,c=o==="vertical"&&(s==="MOVE_UP"||s==="MOVE_DOWN")||o==="horizontal"&&(s==="MOVE_LEFT"||s==="MOVE_RIGHT");if(c&&!a)return null;var d=s==="MOVE_DOWN"||s==="MOVE_RIGHT",m=n.dimensions.draggables[n.critical.draggable.id],u=n.current.page.borderBoxCenter,p=n.dimensions,h=p.draggables,v=p.droppables;return c?h3({isMovingForward:d,previousPageBorderBoxCenter:u,draggable:m,destination:l,draggables:h,viewport:n.viewport,previousClientSelection:n.current.client.selection,previousImpact:n.impact,afterCritical:n.afterCritical}):w3({isMovingForward:d,previousPageBorderBoxCenter:u,draggable:m,isOver:l,draggables:h,droppables:v,viewport:n.viewport,afterCritical:n.afterCritical})};function Or(e){return e.phase==="DRAGGING"||e.phase==="COLLECTING"}function CN(e){var n=Bn(e.top,e.bottom),s=Bn(e.left,e.right);return function(a){return n(a.y)&&s(a.x)}}function C3(e,n){return e.left<n.right&&e.right>n.left&&e.top<n.bottom&&e.bottom>n.top}function E3(e){var n=e.pageBorderBox,s=e.draggable,r=e.candidates,a=s.page.borderBox.center,i=r.map(function(l){var o=l.axis,c=sa(l.axis.line,n.center[o.line],l.page.borderBox.center[o.crossAxisLine]);return{id:l.descriptor.id,distance:wl(a,c)}}).sort(function(l,o){return o.distance-l.distance});return i[0]?i[0].id:null}function I3(e){var n=e.pageBorderBox,s=e.draggable,r=e.droppables,a=Td(r).filter(function(i){if(!i.isEnabled)return!1;var l=i.subject.active;if(!l||!C3(n,l))return!1;if(CN(l)(n.center))return!0;var o=i.axis,c=l.center[o.crossAxisLine],d=n[o.crossAxisStart],m=n[o.crossAxisEnd],u=Bn(l[o.crossAxisStart],l[o.crossAxisEnd]),p=u(d),h=u(m);return!p&&!h?!0:p?d<c:m>c});return a.length?a.length===1?a[0].descriptor.id:E3({pageBorderBox:n,draggable:s,candidates:a}):null}var EN=function(n,s){return es(Gl(n,s))},D3=function(e,n){var s=e.frame;return s?EN(n,s.scroll.diff.value):n};function IN(e){var n=e.displaced,s=e.id;return!!(n.visible[s]||n.invisible[s])}function A3(e){var n=e.draggable,s=e.closest,r=e.inHomeList;return s?r&&s.descriptor.index>n.descriptor.index?s.descriptor.index-1:s.descriptor.index:null}var T3=function(e){var n=e.pageBorderBoxWithDroppableScroll,s=e.draggable,r=e.destination,a=e.insideDestination,i=e.last,l=e.viewport,o=e.afterCritical,c=r.axis,d=ql(r.axis,s.displaceBy),m=d.value,u=n[c.start],p=n[c.end],h=Pd(s,a),v=Tr(h,function(y){var g=y.descriptor.id,x=y.page.borderBox.center[c.line],b=Nr(g,o),T=IN({displaced:i,id:g});return b?T?p<=x:u<x-m:T?p<=x+m:u<x}),j=A3({draggable:s,closest:v,inHomeList:hi(s,r)});return _c({draggable:s,insideDestination:a,destination:r,viewport:l,last:i,displacedBy:d,index:j})},k3=4,P3=function(e){var n=e.draggable,s=e.pageBorderBoxWithDroppableScroll,r=e.previousImpact,a=e.destination,i=e.insideDestination,l=e.afterCritical;if(!a.isCombineEnabled)return null;var o=a.axis,c=ql(a.axis,n.displaceBy),d=c.value,m=s[o.start],u=s[o.end],p=Pd(n,i),h=Tr(p,function(j){var y=j.descriptor.id,g=j.page.borderBox,x=g[o.size],b=x/k3,T=Nr(y,l),L=IN({displaced:r.displaced,id:y});return T?L?u>g[o.start]+b&&u<g[o.end]-b:m>g[o.start]-d+b&&m<g[o.end]-d-b:L?u>g[o.start]+d+b&&u<g[o.end]+d-b:m>g[o.start]+b&&m<g[o.end]-b});if(!h)return null;var v={displacedBy:c,displaced:r.displaced,at:{type:"COMBINE",combine:{draggableId:h.descriptor.id,droppableId:a.descriptor.id}}};return v},DN=function(e){var n=e.pageOffset,s=e.draggable,r=e.draggables,a=e.droppables,i=e.previousImpact,l=e.viewport,o=e.afterCritical,c=EN(s.page.borderBox,n),d=I3({pageBorderBox:c,draggable:s,droppables:a});if(!d)return GR;var m=a[d],u=fi(m.descriptor.id,r),p=D3(m,c);return P3({pageBorderBoxWithDroppableScroll:p,draggable:s,previousImpact:i,destination:m,insideDestination:u,afterCritical:o})||T3({pageBorderBoxWithDroppableScroll:p,draggable:s,destination:m,insideDestination:u,last:i.displaced,viewport:l,afterCritical:o})},ih=function(e,n){var s;return fe({},e,(s={},s[n.descriptor.id]=n,s))},R3=function(n){var s=n.previousImpact,r=n.impact,a=n.droppables,i=Nn(s),l=Nn(r);if(!i||i===l)return a;var o=a[i];if(!o.subject.withPlaceholder)return a;var c=y3(o);return ih(a,c)},L3=function(e){var n=e.draggable,s=e.draggables,r=e.droppables,a=e.previousImpact,i=e.impact,l=R3({previousImpact:a,impact:i,droppables:r}),o=Nn(i);if(!o)return l;var c=r[o];if(hi(n,c)||c.subject.withPlaceholder)return l;var d=SN(c,n,s);return ih(l,d)},qi=function(e){var n=e.state,s=e.clientSelection,r=e.dimensions,a=e.viewport,i=e.impact,l=e.scrollJumpRequest,o=a||n.viewport,c=r||n.dimensions,d=s||n.current.client.selection,m=jn(d,n.initial.client.selection),u={offset:m,selection:d,borderBoxCenter:Bt(n.initial.client.borderBoxCenter,m)},p={selection:Bt(u.selection,o.scroll.current),borderBoxCenter:Bt(u.borderBoxCenter,o.scroll.current),offset:Bt(u.offset,o.scroll.diff.value)},h={client:u,page:p};if(n.phase==="COLLECTING")return fe({phase:"COLLECTING"},n,{dimensions:c,viewport:o,current:h});var v=c.draggables[n.critical.draggable.id],j=i||DN({pageOffset:p.offset,draggable:v,draggables:c.draggables,droppables:c.droppables,previousImpact:n.impact,viewport:o,afterCritical:n.afterCritical}),y=L3({draggable:v,impact:j,previousImpact:n.impact,draggables:c.draggables,droppables:c.droppables}),g=fe({},n,{current:h,dimensions:{draggables:c.draggables,droppables:y},impact:j,viewport:o,scrollJumpRequest:l||null,forceShouldAnimate:l?!1:null});return g};function F3(e,n){return e.map(function(s){return n[s]})}var AN=function(e){var n=e.impact,s=e.viewport,r=e.draggables,a=e.destination,i=e.forceShouldAnimate,l=n.displaced,o=F3(l.all,r),c=Sl({afterDragging:o,destination:a,displacedBy:n.displacedBy,viewport:s.frame,forceShouldAnimate:i,last:l});return fe({},n,{displaced:c})},TN=function(e){var n=e.impact,s=e.draggable,r=e.droppable,a=e.draggables,i=e.viewport,l=e.afterCritical,o=Rd({impact:n,draggable:s,draggables:a,droppable:r,afterCritical:l});return ah({pageBorderBoxCenter:o,draggable:s,viewport:i})},kN=function(e){var n=e.state,s=e.dimensions,r=e.viewport;n.movementMode!=="SNAP"&&pe(!1);var a=n.impact,i=r||n.viewport,l=s||n.dimensions,o=l.draggables,c=l.droppables,d=o[n.critical.draggable.id],m=Nn(a);m||pe(!1);var u=c[m],p=AN({impact:a,viewport:i,destination:u,draggables:o}),h=TN({impact:p,draggable:d,droppable:u,draggables:o,viewport:i,afterCritical:n.afterCritical});return qi({impact:p,clientSelection:h,state:n,dimensions:l,viewport:i})},O3=function(e){return{index:e.index,droppableId:e.droppableId}},PN=function(e){var n=e.draggable,s=e.home,r=e.draggables,a=e.viewport,i=ql(s.axis,n.displaceBy),l=fi(s.descriptor.id,r),o=l.indexOf(n);o===-1&&pe(!1);var c=l.slice(o+1),d=c.reduce(function(h,v){return h[v.descriptor.id]=!0,h},{}),m={inVirtualList:s.descriptor.mode==="virtual",displacedBy:i,effected:d},u=Sl({afterDragging:c,destination:s,displacedBy:i,last:null,viewport:a.frame,forceShouldAnimate:!1}),p={displaced:u,displacedBy:i,at:{type:"REORDER",destination:O3(n.descriptor)}};return{impact:p,afterCritical:m}},M3=function(e,n){return{draggables:e.draggables,droppables:ih(e.droppables,n)}},_3=function(e){var n=e.draggable,s=e.offset,r=e.initialWindowScroll,a=Rc(n.client,s),i=Lc(a,r),l=fe({},n,{placeholder:fe({},n.placeholder,{client:a}),client:a,page:i});return l},$3=function(e){var n=e.frame;return n||pe(!1),n},B3=function(e){var n=e.additions,s=e.updatedDroppables,r=e.viewport,a=r.scroll.diff.value;return n.map(function(i){var l=i.descriptor.droppableId,o=s[l],c=$3(o),d=c.scroll.diff.value,m=Bt(a,d),u=_3({draggable:i,offset:m,initialWindowScroll:r.scroll.initial});return u})},V3=function(e){var n=e.state,s=e.published,r=s.modified.map(function(b){var T=n.dimensions.droppables[b.droppableId],L=Zf(T,b.scroll);return L}),a=fe({},n.dimensions.droppables,{},fN(r)),i=hN(B3({additions:s.additions,updatedDroppables:a,viewport:n.viewport})),l=fe({},n.dimensions.draggables,{},i);s.removals.forEach(function(b){delete l[b]});var o={droppables:a,draggables:l},c=Nn(n.impact),d=c?o.droppables[c]:null,m=o.draggables[n.critical.draggable.id],u=o.droppables[n.critical.droppable.id],p=PN({draggable:m,home:u,draggables:l,viewport:n.viewport}),h=p.impact,v=p.afterCritical,j=d&&d.isCombineEnabled?n.impact:h,y=DN({pageOffset:n.current.page.offset,draggable:o.draggables[n.critical.draggable.id],draggables:o.draggables,droppables:o.droppables,previousImpact:j,viewport:n.viewport,afterCritical:v}),g=fe({phase:"DRAGGING"},n,{phase:"DRAGGING",impact:y,onLiftImpact:h,dimensions:o,afterCritical:v,forceShouldAnimate:!1});if(n.phase==="COLLECTING")return g;var x=fe({phase:"DROP_PENDING"},g,{phase:"DROP_PENDING",reason:n.reason,isWaiting:!1});return x},dp=function(n){return n.movementMode==="SNAP"},Mu=function(n,s,r){var a=M3(n.dimensions,s);return!dp(n)||r?qi({state:n,dimensions:a}):kN({state:n,dimensions:a})};function _u(e){return e.isDragging&&e.movementMode==="SNAP"?fe({phase:"DRAGGING"},e,{scrollJumpRequest:null}):e}var cv={phase:"IDLE",completed:null,shouldFlush:!1},z3=function(e,n){if(e===void 0&&(e=cv),n.type==="FLUSH")return fe({},cv,{shouldFlush:!0});if(n.type==="INITIAL_PUBLISH"){e.phase!=="IDLE"&&pe(!1);var s=n.payload,r=s.critical,a=s.clientSelection,i=s.viewport,l=s.dimensions,o=s.movementMode,c=l.draggables[r.draggable.id],d=l.droppables[r.droppable.id],m={selection:a,borderBoxCenter:c.client.borderBox.center,offset:Rt},u={client:m,page:{selection:Bt(m.selection,i.scroll.initial),borderBoxCenter:Bt(m.selection,i.scroll.initial),offset:Bt(m.selection,i.scroll.diff.value)}},p=Td(l.droppables).every(function(me){return!me.isFixedOnPage}),h=PN({draggable:c,home:d,draggables:l.draggables,viewport:i}),v=h.impact,j=h.afterCritical,y={phase:"DRAGGING",isDragging:!0,critical:r,movementMode:o,dimensions:l,initial:u,current:u,isWindowScrollAllowed:p,impact:v,afterCritical:j,onLiftImpact:v,viewport:i,scrollJumpRequest:null,forceShouldAnimate:null};return y}if(n.type==="COLLECTION_STARTING"){if(e.phase==="COLLECTING"||e.phase==="DROP_PENDING")return e;e.phase!=="DRAGGING"&&pe(!1);var g=fe({phase:"COLLECTING"},e,{phase:"COLLECTING"});return g}if(n.type==="PUBLISH_WHILE_DRAGGING")return e.phase==="COLLECTING"||e.phase==="DROP_PENDING"||pe(!1),V3({state:e,published:n.payload});if(n.type==="MOVE"){if(e.phase==="DROP_PENDING")return e;Or(e)||pe(!1);var x=n.payload.client;return xr(x,e.current.client.selection)?e:qi({state:e,clientSelection:x,impact:dp(e)?e.impact:null})}if(n.type==="UPDATE_DROPPABLE_SCROLL"){if(e.phase==="DROP_PENDING"||e.phase==="COLLECTING")return _u(e);Or(e)||pe(!1);var b=n.payload,T=b.id,L=b.newScroll,k=e.dimensions.droppables[T];if(!k)return e;var I=Zf(k,L);return Mu(e,I,!1)}if(n.type==="UPDATE_DROPPABLE_IS_ENABLED"){if(e.phase==="DROP_PENDING")return e;Or(e)||pe(!1);var w=n.payload,S=w.id,C=w.isEnabled,E=e.dimensions.droppables[S];E||pe(!1),E.isEnabled===C&&pe(!1);var N=fe({},E,{isEnabled:C});return Mu(e,N,!0)}if(n.type==="UPDATE_DROPPABLE_IS_COMBINE_ENABLED"){if(e.phase==="DROP_PENDING")return e;Or(e)||pe(!1);var D=n.payload,A=D.id,_=D.isCombineEnabled,V=e.dimensions.droppables[A];V||pe(!1),V.isCombineEnabled===_&&pe(!1);var P=fe({},V,{isCombineEnabled:_});return Mu(e,P,!0)}if(n.type==="MOVE_BY_WINDOW_SCROLL"){if(e.phase==="DROP_PENDING"||e.phase==="DROP_ANIMATING")return e;Or(e)||pe(!1),e.isWindowScrollAllowed||pe(!1);var R=n.payload.newScroll;if(xr(e.viewport.scroll.current,R))return _u(e);var M=bN(e.viewport,R);return dp(e)?kN({state:e,viewport:M}):qi({state:e,viewport:M})}if(n.type==="UPDATE_VIEWPORT_MAX_SCROLL"){if(!Or(e))return e;var F=n.payload.maxScroll;if(xr(F,e.viewport.scroll.max))return e;var B=fe({},e.viewport,{scroll:fe({},e.viewport.scroll,{max:F})});return fe({phase:"DRAGGING"},e,{viewport:B})}if(n.type==="MOVE_UP"||n.type==="MOVE_DOWN"||n.type==="MOVE_LEFT"||n.type==="MOVE_RIGHT"){if(e.phase==="COLLECTING"||e.phase==="DROP_PENDING")return e;e.phase!=="DRAGGING"&&pe(!1);var z=S3({state:e,type:n.type});return z?qi({state:e,impact:z.impact,clientSelection:z.clientSelection,scrollJumpRequest:z.scrollJumpRequest}):e}if(n.type==="DROP_PENDING"){var H=n.payload.reason;e.phase!=="COLLECTING"&&pe(!1);var K=fe({phase:"DROP_PENDING"},e,{phase:"DROP_PENDING",isWaiting:!0,reason:H});return K}if(n.type==="DROP_ANIMATE"){var se=n.payload,te=se.completed,le=se.dropDuration,ce=se.newHomeClientOffset;e.phase==="DRAGGING"||e.phase==="DROP_PENDING"||pe(!1);var ue={phase:"DROP_ANIMATING",completed:te,dropDuration:le,newHomeClientOffset:ce,dimensions:e.dimensions};return ue}if(n.type==="DROP_COMPLETE"){var ee=n.payload.completed;return{phase:"IDLE",completed:ee,shouldFlush:!1}}return e},U3=function(n){return{type:"BEFORE_INITIAL_CAPTURE",payload:n}},W3=function(n){return{type:"LIFT",payload:n}},H3=function(n){return{type:"INITIAL_PUBLISH",payload:n}},G3=function(n){return{type:"PUBLISH_WHILE_DRAGGING",payload:n}},q3=function(){return{type:"COLLECTION_STARTING",payload:null}},Q3=function(n){return{type:"UPDATE_DROPPABLE_SCROLL",payload:n}},K3=function(n){return{type:"UPDATE_DROPPABLE_IS_ENABLED",payload:n}},Y3=function(n){return{type:"UPDATE_DROPPABLE_IS_COMBINE_ENABLED",payload:n}},RN=function(n){return{type:"MOVE",payload:n}},X3=function(n){return{type:"MOVE_BY_WINDOW_SCROLL",payload:n}},J3=function(n){return{type:"UPDATE_VIEWPORT_MAX_SCROLL",payload:n}},Z3=function(){return{type:"MOVE_UP",payload:null}},e5=function(){return{type:"MOVE_DOWN",payload:null}},t5=function(){return{type:"MOVE_RIGHT",payload:null}},n5=function(){return{type:"MOVE_LEFT",payload:null}},lh=function(){return{type:"FLUSH",payload:null}},s5=function(n){return{type:"DROP_ANIMATE",payload:n}},oh=function(n){return{type:"DROP_COMPLETE",payload:n}},LN=function(n){return{type:"DROP",payload:n}},r5=function(n){return{type:"DROP_PENDING",payload:n}},FN=function(){return{type:"DROP_ANIMATION_FINISHED",payload:null}},a5=function(e){return function(n){var s=n.getState,r=n.dispatch;return function(a){return function(i){if(i.type!=="LIFT"){a(i);return}var l=i.payload,o=l.id,c=l.clientSelection,d=l.movementMode,m=s();m.phase==="DROP_ANIMATING"&&r(oh({completed:m.completed})),s().phase!=="IDLE"&&pe(!1),r(lh()),r(U3({draggableId:o,movementMode:d}));var u={shouldPublishImmediately:d==="SNAP"},p={draggableId:o,scrollOptions:u},h=e.startPublishing(p),v=h.critical,j=h.dimensions,y=h.viewport;r(H3({critical:v,dimensions:j,clientSelection:c,movementMode:d,viewport:y}))}}}},i5=function(e){return function(){return function(n){return function(s){s.type==="INITIAL_PUBLISH"&&e.dragging(),s.type==="DROP_ANIMATE"&&e.dropping(s.payload.completed.result.reason),(s.type==="FLUSH"||s.type==="DROP_COMPLETE")&&e.resting(),n(s)}}}},ch={outOfTheWay:"cubic-bezier(0.2, 0, 0, 1)",drop:"cubic-bezier(.2,1,.1,1)"},Cl={opacity:{drop:0,combining:.7},scale:{drop:.75}},dh={outOfTheWay:.2,minDropTime:.33,maxDropTime:.55},Rr=dh.outOfTheWay+"s "+ch.outOfTheWay,Qi={fluid:"opacity "+Rr,snap:"transform "+Rr+", opacity "+Rr,drop:function(n){var s=n+"s "+ch.drop;return"transform "+s+", opacity "+s},outOfTheWay:"transform "+Rr,placeholder:"height "+Rr+", width "+Rr+", margin "+Rr},dv=function(n){return xr(n,Rt)?null:"translate("+n.x+"px, "+n.y+"px)"},up={moveTo:dv,drop:function(n,s){var r=dv(n);return r?s?r+" scale("+Cl.scale.drop+")":r:null}},mp=dh.minDropTime,ON=dh.maxDropTime,l5=ON-mp,uv=1500,o5=.6,c5=function(e){var n=e.current,s=e.destination,r=e.reason,a=wl(n,s);if(a<=0)return mp;if(a>=uv)return ON;var i=a/uv,l=mp+l5*i,o=r==="CANCEL"?l*o5:l;return Number(o.toFixed(2))},d5=function(e){var n=e.impact,s=e.draggable,r=e.dimensions,a=e.viewport,i=e.afterCritical,l=r.draggables,o=r.droppables,c=Nn(n),d=c?o[c]:null,m=o[s.descriptor.droppableId],u=TN({impact:n,draggable:s,draggables:l,afterCritical:i,droppable:d||m,viewport:a}),p=jn(u,s.client.borderBox.center);return p},u5=function(e){var n=e.draggables,s=e.reason,r=e.lastImpact,a=e.home,i=e.viewport,l=e.onLiftImpact;if(!r.at||s!=="DROP"){var o=AN({draggables:n,impact:l,destination:a,viewport:i,forceShouldAnimate:!0});return{impact:o,didDropInsideDroppable:!1}}if(r.at.type==="REORDER")return{impact:r,didDropInsideDroppable:!0};var c=fe({},r,{displaced:Nl});return{impact:c,didDropInsideDroppable:!0}},m5=function(e){var n=e.getState,s=e.dispatch;return function(r){return function(a){if(a.type!=="DROP"){r(a);return}var i=n(),l=a.payload.reason;if(i.phase==="COLLECTING"){s(r5({reason:l}));return}if(i.phase!=="IDLE"){var o=i.phase==="DROP_PENDING"&&i.isWaiting;o&&pe(!1),i.phase==="DRAGGING"||i.phase==="DROP_PENDING"||pe(!1);var c=i.critical,d=i.dimensions,m=d.draggables[i.critical.draggable.id],u=u5({reason:l,lastImpact:i.impact,afterCritical:i.afterCritical,onLiftImpact:i.onLiftImpact,home:i.dimensions.droppables[i.critical.droppable.id],viewport:i.viewport,draggables:i.dimensions.draggables}),p=u.impact,h=u.didDropInsideDroppable,v=h?th(p):null,j=h?kd(p):null,y={index:c.draggable.index,droppableId:c.droppable.id},g={draggableId:m.descriptor.id,type:m.descriptor.type,source:y,reason:l,mode:i.movementMode,destination:v,combine:j},x=d5({impact:p,draggable:m,dimensions:d,viewport:i.viewport,afterCritical:i.afterCritical}),b={critical:i.critical,afterCritical:i.afterCritical,result:g,impact:p},T=!xr(i.current.client.offset,x)||!!g.combine;if(!T){s(oh({completed:b}));return}var L=c5({current:i.current.client.offset,destination:x,reason:l}),k={newHomeClientOffset:x,dropDuration:L,completed:b};s(s5(k))}}}},MN=function(){return{x:window.pageXOffset,y:window.pageYOffset}};function p5(e){return{eventName:"scroll",options:{passive:!0,capture:!1},fn:function(s){s.target!==window&&s.target!==window.document||e()}}}function f5(e){var n=e.onWindowScroll;function s(){n(MN())}var r=bl(s),a=p5(r),i=hr;function l(){return i!==hr}function o(){l()&&pe(!1),i=Mn(window,[a])}function c(){l()||pe(!1),r.cancel(),i(),i=hr}return{start:o,stop:c,isActive:l}}var h5=function(n){return n.type==="DROP_COMPLETE"||n.type==="DROP_ANIMATE"||n.type==="FLUSH"},x5=function(e){var n=f5({onWindowScroll:function(r){e.dispatch(X3({newScroll:r}))}});return function(s){return function(r){!n.isActive()&&r.type==="INITIAL_PUBLISH"&&n.start(),n.isActive()&&h5(r)&&n.stop(),s(r)}}},g5=function(e){var n=!1,s=!1,r=setTimeout(function(){s=!0}),a=function(l){n||s||(n=!0,e(l),clearTimeout(r))};return a.wasCalled=function(){return n},a},v5=function(){var e=[],n=function(i){var l=eh(e,function(d){return d.timerId===i});l===-1&&pe(!1);var o=e.splice(l,1),c=o[0];c.callback()},s=function(i){var l=setTimeout(function(){return n(l)}),o={timerId:l,callback:i};e.push(o)},r=function(){if(e.length){var i=[].concat(e);e.length=0,i.forEach(function(l){clearTimeout(l.timerId),l.callback()})}};return{add:s,flush:r}},j5=function(n,s){return n==null&&s==null?!0:n==null||s==null?!1:n.droppableId===s.droppableId&&n.index===s.index},y5=function(n,s){return n==null&&s==null?!0:n==null||s==null?!1:n.draggableId===s.draggableId&&n.droppableId===s.droppableId},b5=function(n,s){if(n===s)return!0;var r=n.draggable.id===s.draggable.id&&n.draggable.droppableId===s.draggable.droppableId&&n.draggable.type===s.draggable.type&&n.draggable.index===s.draggable.index,a=n.droppable.id===s.droppable.id&&n.droppable.type===s.droppable.type;return r&&a},Ii=function(n,s){s()},No=function(n,s){return{draggableId:n.draggable.id,type:n.droppable.type,source:{droppableId:n.droppable.id,index:n.draggable.index},mode:s}},$u=function(n,s,r,a){if(!n){r(a(s));return}var i=g5(r),l={announce:i};n(s,l),i.wasCalled()||r(a(s))},w5=function(e,n){var s=v5(),r=null,a=function(p,h){r&&pe(!1),Ii("onBeforeCapture",function(){var v=e().onBeforeCapture;if(v){var j={draggableId:p,mode:h};v(j)}})},i=function(p,h){r&&pe(!1),Ii("onBeforeDragStart",function(){var v=e().onBeforeDragStart;v&&v(No(p,h))})},l=function(p,h){r&&pe(!1);var v=No(p,h);r={mode:h,lastCritical:p,lastLocation:v.source,lastCombine:null},s.add(function(){Ii("onDragStart",function(){return $u(e().onDragStart,v,n,qo.onDragStart)})})},o=function(p,h){var v=th(h),j=kd(h);r||pe(!1);var y=!b5(p,r.lastCritical);y&&(r.lastCritical=p);var g=!j5(r.lastLocation,v);g&&(r.lastLocation=v);var x=!y5(r.lastCombine,j);if(x&&(r.lastCombine=j),!(!y&&!g&&!x)){var b=fe({},No(p,r.mode),{combine:j,destination:v});s.add(function(){Ii("onDragUpdate",function(){return $u(e().onDragUpdate,b,n,qo.onDragUpdate)})})}},c=function(){r||pe(!1),s.flush()},d=function(p){r||pe(!1),r=null,Ii("onDragEnd",function(){return $u(e().onDragEnd,p,n,qo.onDragEnd)})},m=function(){if(r){var p=fe({},No(r.lastCritical,r.mode),{combine:null,destination:null,reason:"CANCEL"});d(p)}};return{beforeCapture:a,beforeStart:i,start:l,update:o,flush:c,drop:d,abort:m}},N5=function(e,n){var s=w5(e,n);return function(r){return function(a){return function(i){if(i.type==="BEFORE_INITIAL_CAPTURE"){s.beforeCapture(i.payload.draggableId,i.payload.movementMode);return}if(i.type==="INITIAL_PUBLISH"){var l=i.payload.critical;s.beforeStart(l,i.payload.movementMode),a(i),s.start(l,i.payload.movementMode);return}if(i.type==="DROP_COMPLETE"){var o=i.payload.completed.result;s.flush(),a(i),s.drop(o);return}if(a(i),i.type==="FLUSH"){s.abort();return}var c=r.getState();c.phase==="DRAGGING"&&s.update(c.critical,c.impact)}}}},S5=function(e){return function(n){return function(s){if(s.type!=="DROP_ANIMATION_FINISHED"){n(s);return}var r=e.getState();r.phase!=="DROP_ANIMATING"&&pe(!1),e.dispatch(oh({completed:r.completed}))}}},C5=function(e){var n=null,s=null;function r(){s&&(cancelAnimationFrame(s),s=null),n&&(n(),n=null)}return function(a){return function(i){if((i.type==="FLUSH"||i.type==="DROP_COMPLETE"||i.type==="DROP_ANIMATION_FINISHED")&&r(),a(i),i.type==="DROP_ANIMATE"){var l={eventName:"scroll",options:{capture:!0,passive:!1,once:!0},fn:function(){var c=e.getState();c.phase==="DROP_ANIMATING"&&e.dispatch(FN())}};s=requestAnimationFrame(function(){s=null,n=Mn(window,[l])})}}}},E5=function(e){return function(){return function(n){return function(s){(s.type==="DROP_COMPLETE"||s.type==="FLUSH"||s.type==="DROP_ANIMATE")&&e.stopPublishing(),n(s)}}}},I5=function(e){var n=!1;return function(){return function(s){return function(r){if(r.type==="INITIAL_PUBLISH"){n=!0,e.tryRecordFocus(r.payload.critical.draggable.id),s(r),e.tryRestoreFocusRecorded();return}if(s(r),!!n){if(r.type==="FLUSH"){n=!1,e.tryRestoreFocusRecorded();return}if(r.type==="DROP_COMPLETE"){n=!1;var a=r.payload.completed.result;a.combine&&e.tryShiftRecord(a.draggableId,a.combine.draggableId),e.tryRestoreFocusRecorded()}}}}}},D5=function(n){return n.type==="DROP_COMPLETE"||n.type==="DROP_ANIMATE"||n.type==="FLUSH"},A5=function(e){return function(n){return function(s){return function(r){if(D5(r)){e.stop(),s(r);return}if(r.type==="INITIAL_PUBLISH"){s(r);var a=n.getState();a.phase!=="DRAGGING"&&pe(!1),e.start(a);return}s(r),e.scroll(n.getState())}}}},T5=function(e){return function(n){return function(s){if(n(s),s.type==="PUBLISH_WHILE_DRAGGING"){var r=e.getState();r.phase==="DROP_PENDING"&&(r.isWaiting||e.dispatch(LN({reason:r.reason})))}}}},k5=Uw,P5=function(e){var n=e.dimensionMarshal,s=e.focusMarshal,r=e.styleMarshal,a=e.getResponders,i=e.announce,l=e.autoScroller;return zw(z3,k5(gP(i5(r),E5(n),a5(n),m5,S5,C5,T5,A5(l),x5,I5(s),N5(a,i))))},Bu=function(){return{additions:{},removals:{},modified:{}}};function R5(e){var n=e.registry,s=e.callbacks,r=Bu(),a=null,i=function(){a||(s.collectionStarting(),a=requestAnimationFrame(function(){a=null;var m=r,u=m.additions,p=m.removals,h=m.modified,v=Object.keys(u).map(function(g){return n.draggable.getById(g).getDimension(Rt)}).sort(function(g,x){return g.descriptor.index-x.descriptor.index}),j=Object.keys(h).map(function(g){var x=n.droppable.getById(g),b=x.callbacks.getScrollWhileDragging();return{droppableId:g,scroll:b}}),y={additions:v,removals:Object.keys(p),modified:j};r=Bu(),s.publish(y)}))},l=function(m){var u=m.descriptor.id;r.additions[u]=m,r.modified[m.descriptor.droppableId]=!0,r.removals[u]&&delete r.removals[u],i()},o=function(m){var u=m.descriptor;r.removals[u.id]=!0,r.modified[u.droppableId]=!0,r.additions[u.id]&&delete r.additions[u.id],i()},c=function(){a&&(cancelAnimationFrame(a),a=null,r=Bu())};return{add:l,remove:o,stop:c}}var _N=function(e){var n=e.scrollHeight,s=e.scrollWidth,r=e.height,a=e.width,i=jn({x:s,y:n},{x:a,y:r}),l={x:Math.max(0,i.x),y:Math.max(0,i.y)};return l},$N=function(){var e=document.documentElement;return e||pe(!1),e},BN=function(){var e=$N(),n=_N({scrollHeight:e.scrollHeight,scrollWidth:e.scrollWidth,width:e.clientWidth,height:e.clientHeight});return n},L5=function(){var e=MN(),n=BN(),s=e.y,r=e.x,a=$N(),i=a.clientWidth,l=a.clientHeight,o=r+i,c=s+l,d=es({top:s,left:r,right:o,bottom:c}),m={frame:d,scroll:{initial:e,current:e,max:n,diff:{value:Rt,displacement:Rt}}};return m},F5=function(e){var n=e.critical,s=e.scrollOptions,r=e.registry,a=L5(),i=a.scroll.current,l=n.droppable,o=r.droppable.getAllByType(l.type).map(function(u){return u.callbacks.getDimensionAndWatchScroll(i,s)}),c=r.draggable.getAllByType(n.draggable.type).map(function(u){return u.getDimension(i)}),d={draggables:hN(c),droppables:fN(o)},m={dimensions:d,critical:n,viewport:a};return m};function mv(e,n,s){if(s.descriptor.id===n.id||s.descriptor.type!==n.type)return!1;var r=e.droppable.getById(s.descriptor.droppableId);return r.descriptor.mode==="virtual"}var O5=function(e,n){var s=null,r=R5({callbacks:{publish:n.publishWhileDragging,collectionStarting:n.collectionStarting},registry:e}),a=function(h,v){e.droppable.exists(h)||pe(!1),s&&n.updateDroppableIsEnabled({id:h,isEnabled:v})},i=function(h,v){s&&(e.droppable.exists(h)||pe(!1),n.updateDroppableIsCombineEnabled({id:h,isCombineEnabled:v}))},l=function(h,v){s&&(e.droppable.exists(h)||pe(!1),n.updateDroppableScroll({id:h,newScroll:v}))},o=function(h,v){s&&e.droppable.getById(h).callbacks.scroll(v)},c=function(){if(s){r.stop();var h=s.critical.droppable;e.droppable.getAllByType(h.type).forEach(function(v){return v.callbacks.dragStopped()}),s.unsubscribe(),s=null}},d=function(h){s||pe(!1);var v=s.critical.draggable;h.type==="ADDITION"&&mv(e,v,h.value)&&r.add(h.value),h.type==="REMOVAL"&&mv(e,v,h.value)&&r.remove(h.value)},m=function(h){s&&pe(!1);var v=e.draggable.getById(h.draggableId),j=e.droppable.getById(v.descriptor.droppableId),y={draggable:v.descriptor,droppable:j.descriptor},g=e.subscribe(d);return s={critical:y,unsubscribe:g},F5({critical:y,registry:e,scrollOptions:h.scrollOptions})},u={updateDroppableIsEnabled:a,updateDroppableIsCombineEnabled:i,scrollDroppable:o,updateDroppableScroll:l,startPublishing:m,stopPublishing:c};return u},VN=function(e,n){return e.phase==="IDLE"?!0:e.phase!=="DROP_ANIMATING"||e.completed.result.draggableId===n?!1:e.completed.result.reason==="DROP"},M5=function(e){window.scrollBy(e.x,e.y)},_5=Pt(function(e){return Td(e).filter(function(n){return!(!n.isEnabled||!n.frame)})}),$5=function(n,s){var r=Tr(_5(s),function(a){return a.frame||pe(!1),CN(a.frame.pageMarginBox)(n)});return r},B5=function(e){var n=e.center,s=e.destination,r=e.droppables;if(s){var a=r[s];return a.frame?a:null}var i=$5(n,r);return i},gr={startFromPercentage:.25,maxScrollAtPercentage:.05,maxPixelScroll:28,ease:function(n){return Math.pow(n,2)},durationDampening:{stopDampeningAt:1200,accelerateAt:360}},V5=function(e,n){var s=e[n.size]*gr.startFromPercentage,r=e[n.size]*gr.maxScrollAtPercentage,a={startScrollingFrom:s,maxScrollValueAt:r};return a},zN=function(e){var n=e.startOfRange,s=e.endOfRange,r=e.current,a=s-n;if(a===0)return 0;var i=r-n,l=i/a;return l},uh=1,z5=function(e,n){if(e>n.startScrollingFrom)return 0;if(e<=n.maxScrollValueAt)return gr.maxPixelScroll;if(e===n.startScrollingFrom)return uh;var s=zN({startOfRange:n.maxScrollValueAt,endOfRange:n.startScrollingFrom,current:e}),r=1-s,a=gr.maxPixelScroll*gr.ease(r);return Math.ceil(a)},pv=gr.durationDampening.accelerateAt,fv=gr.durationDampening.stopDampeningAt,U5=function(e,n){var s=n,r=fv,a=Date.now(),i=a-s;if(i>=fv)return e;if(i<pv)return uh;var l=zN({startOfRange:pv,endOfRange:r,current:i}),o=e*gr.ease(l);return Math.ceil(o)},hv=function(e){var n=e.distanceToEdge,s=e.thresholds,r=e.dragStartTime,a=e.shouldUseTimeDampening,i=z5(n,s);return i===0?0:a?Math.max(U5(i,r),uh):i},xv=function(e){var n=e.container,s=e.distanceToEdges,r=e.dragStartTime,a=e.axis,i=e.shouldUseTimeDampening,l=V5(n,a),o=s[a.end]<s[a.start];return o?hv({distanceToEdge:s[a.end],thresholds:l,dragStartTime:r,shouldUseTimeDampening:i}):-1*hv({distanceToEdge:s[a.start],thresholds:l,dragStartTime:r,shouldUseTimeDampening:i})},W5=function(e){var n=e.container,s=e.subject,r=e.proposedScroll,a=s.height>n.height,i=s.width>n.width;return!i&&!a?r:i&&a?null:{x:i?0:r.x,y:a?0:r.y}},H5=mN(function(e){return e===0?0:e}),UN=function(e){var n=e.dragStartTime,s=e.container,r=e.subject,a=e.center,i=e.shouldUseTimeDampening,l={top:a.y-s.top,right:s.right-a.x,bottom:s.bottom-a.y,left:a.x-s.left},o=xv({container:s,distanceToEdges:l,dragStartTime:n,axis:nh,shouldUseTimeDampening:i}),c=xv({container:s,distanceToEdges:l,dragStartTime:n,axis:vN,shouldUseTimeDampening:i}),d=H5({x:c,y:o});if(xr(d,Rt))return null;var m=W5({container:s,subject:r,proposedScroll:d});return m?xr(m,Rt)?null:m:null},G5=mN(function(e){return e===0?0:e>0?1:-1}),mh=function(){var e=function(s,r){return s<0?s:s>r?s-r:0};return function(n){var s=n.current,r=n.max,a=n.change,i=Bt(s,a),l={x:e(i.x,r.x),y:e(i.y,r.y)};return xr(l,Rt)?null:l}}(),WN=function(n){var s=n.max,r=n.current,a=n.change,i={x:Math.max(r.x,s.x),y:Math.max(r.y,s.y)},l=G5(a),o=mh({max:i,current:r,change:l});return!o||l.x!==0&&o.x===0||l.y!==0&&o.y===0},ph=function(n,s){return WN({current:n.scroll.current,max:n.scroll.max,change:s})},q5=function(n,s){if(!ph(n,s))return null;var r=n.scroll.max,a=n.scroll.current;return mh({current:a,max:r,change:s})},fh=function(n,s){var r=n.frame;return r?WN({current:r.scroll.current,max:r.scroll.max,change:s}):!1},Q5=function(n,s){var r=n.frame;return!r||!fh(n,s)?null:mh({current:r.scroll.current,max:r.scroll.max,change:s})},K5=function(e){var n=e.viewport,s=e.subject,r=e.center,a=e.dragStartTime,i=e.shouldUseTimeDampening,l=UN({dragStartTime:a,container:n.frame,subject:s,center:r,shouldUseTimeDampening:i});return l&&ph(n,l)?l:null},Y5=function(e){var n=e.droppable,s=e.subject,r=e.center,a=e.dragStartTime,i=e.shouldUseTimeDampening,l=n.frame;if(!l)return null;var o=UN({dragStartTime:a,container:l.pageMarginBox,subject:s,center:r,shouldUseTimeDampening:i});return o&&fh(n,o)?o:null},gv=function(e){var n=e.state,s=e.dragStartTime,r=e.shouldUseTimeDampening,a=e.scrollWindow,i=e.scrollDroppable,l=n.current.page.borderBoxCenter,o=n.dimensions.draggables[n.critical.draggable.id],c=o.page.marginBox;if(n.isWindowScrollAllowed){var d=n.viewport,m=K5({dragStartTime:s,viewport:d,subject:c,center:l,shouldUseTimeDampening:r});if(m){a(m);return}}var u=B5({center:l,destination:Nn(n.impact),droppables:n.dimensions.droppables});if(u){var p=Y5({dragStartTime:s,droppable:u,subject:c,center:l,shouldUseTimeDampening:r});p&&i(u.descriptor.id,p)}},X5=function(e){var n=e.scrollWindow,s=e.scrollDroppable,r=bl(n),a=bl(s),i=null,l=function(m){i||pe(!1);var u=i,p=u.shouldUseTimeDampening,h=u.dragStartTime;gv({state:m,scrollWindow:r,scrollDroppable:a,dragStartTime:h,shouldUseTimeDampening:p})},o=function(m){i&&pe(!1);var u=Date.now(),p=!1,h=function(){p=!0};gv({state:m,dragStartTime:0,shouldUseTimeDampening:!1,scrollWindow:h,scrollDroppable:h}),i={dragStartTime:u,shouldUseTimeDampening:p},p&&l(m)},c=function(){i&&(r.cancel(),a.cancel(),i=null)};return{start:o,stop:c,scroll:l}},J5=function(e){var n=e.move,s=e.scrollDroppable,r=e.scrollWindow,a=function(d,m){var u=Bt(d.current.client.selection,m);n({client:u})},i=function(d,m){if(!fh(d,m))return m;var u=Q5(d,m);if(!u)return s(d.descriptor.id,m),null;var p=jn(m,u);s(d.descriptor.id,p);var h=jn(m,p);return h},l=function(d,m,u){if(!d||!ph(m,u))return u;var p=q5(m,u);if(!p)return r(u),null;var h=jn(u,p);r(h);var v=jn(u,h);return v},o=function(d){var m=d.scrollJumpRequest;if(m){var u=Nn(d.impact);u||pe(!1);var p=i(d.dimensions.droppables[u],m);if(p){var h=d.viewport,v=l(d.isWindowScrollAllowed,h,p);v&&a(d,v)}}};return o},Z5=function(e){var n=e.scrollDroppable,s=e.scrollWindow,r=e.move,a=X5({scrollWindow:s,scrollDroppable:n}),i=J5({move:r,scrollWindow:s,scrollDroppable:n}),l=function(d){if(d.phase==="DRAGGING"){if(d.movementMode==="FLUID"){a.scroll(d);return}d.scrollJumpRequest&&i(d)}},o={scroll:l,start:a.start,stop:a.stop};return o},ti="data-rbd",ni=function(){var e=ti+"-drag-handle";return{base:e,draggableId:e+"-draggable-id",contextId:e+"-context-id"}}(),pp=function(){var e=ti+"-draggable";return{base:e,contextId:e+"-context-id",id:e+"-id"}}(),eL=function(){var e=ti+"-droppable";return{base:e,contextId:e+"-context-id",id:e+"-id"}}(),vv={contextId:ti+"-scroll-container-context-id"},tL=function(n){return function(s){return"["+s+'="'+n+'"]'}},Di=function(n,s){return n.map(function(r){var a=r.styles[s];return a?r.selector+" { "+a+" }":""}).join(" ")},nL="pointer-events: none;",sL=function(e){var n=tL(e),s=function(){var o=`
      cursor: -webkit-grab;
      cursor: grab;
    `;return{selector:n(ni.contextId),styles:{always:`
          -webkit-touch-callout: none;
          -webkit-tap-highlight-color: rgba(0,0,0,0);
          touch-action: manipulation;
        `,resting:o,dragging:nL,dropAnimating:o}}}(),r=function(){var o=`
      transition: `+Qi.outOfTheWay+`;
    `;return{selector:n(pp.contextId),styles:{dragging:o,dropAnimating:o,userCancel:o}}}(),a={selector:n(eL.contextId),styles:{always:"overflow-anchor: none;"}},i={selector:"body",styles:{dragging:`
        cursor: grabbing;
        cursor: -webkit-grabbing;
        user-select: none;
        -webkit-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        overflow-anchor: none;
      `}},l=[r,s,a,i];return{always:Di(l,"always"),resting:Di(l,"resting"),dragging:Di(l,"dragging"),dropAnimating:Di(l,"dropAnimating"),userCancel:Di(l,"userCancel")}},Sn=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?f.useLayoutEffect:f.useEffect,Vu=function(){var n=document.querySelector("head");return n||pe(!1),n},jv=function(n){var s=document.createElement("style");return n&&s.setAttribute("nonce",n),s.type="text/css",s};function rL(e,n){var s=He(function(){return sL(e)},[e]),r=f.useRef(null),a=f.useRef(null),i=Ae(Pt(function(u){var p=a.current;p||pe(!1),p.textContent=u}),[]),l=Ae(function(u){var p=r.current;p||pe(!1),p.textContent=u},[]);Sn(function(){!r.current&&!a.current||pe(!1);var u=jv(n),p=jv(n);return r.current=u,a.current=p,u.setAttribute(ti+"-always",e),p.setAttribute(ti+"-dynamic",e),Vu().appendChild(u),Vu().appendChild(p),l(s.always),i(s.resting),function(){var h=function(j){var y=j.current;y||pe(!1),Vu().removeChild(y),j.current=null};h(r),h(a)}},[n,l,i,s.always,s.resting,e]);var o=Ae(function(){return i(s.dragging)},[i,s.dragging]),c=Ae(function(u){if(u==="DROP"){i(s.dropAnimating);return}i(s.userCancel)},[i,s.dropAnimating,s.userCancel]),d=Ae(function(){a.current&&i(s.resting)},[i,s.resting]),m=He(function(){return{dragging:o,dropping:c,resting:d}},[o,c,d]);return m}var HN=function(e){return e&&e.ownerDocument?e.ownerDocument.defaultView:window};function Ld(e){return e instanceof HN(e).HTMLElement}function aL(e,n){var s="["+ni.contextId+'="'+e+'"]',r=pN(document.querySelectorAll(s));if(!r.length)return null;var a=Tr(r,function(i){return i.getAttribute(ni.draggableId)===n});return!a||!Ld(a)?null:a}function iL(e){var n=f.useRef({}),s=f.useRef(null),r=f.useRef(null),a=f.useRef(!1),i=Ae(function(p,h){var v={id:p,focus:h};return n.current[p]=v,function(){var y=n.current,g=y[p];g!==v&&delete y[p]}},[]),l=Ae(function(p){var h=aL(e,p);h&&h!==document.activeElement&&h.focus()},[e]),o=Ae(function(p,h){s.current===p&&(s.current=h)},[]),c=Ae(function(){r.current||a.current&&(r.current=requestAnimationFrame(function(){r.current=null;var p=s.current;p&&l(p)}))},[l]),d=Ae(function(p){s.current=null;var h=document.activeElement;h&&h.getAttribute(ni.draggableId)===p&&(s.current=p)},[]);Sn(function(){return a.current=!0,function(){a.current=!1;var p=r.current;p&&cancelAnimationFrame(p)}},[]);var m=He(function(){return{register:i,tryRecordFocus:d,tryRestoreFocusRecorded:c,tryShiftRecord:o}},[i,d,c,o]);return m}function lL(){var e={draggables:{},droppables:{}},n=[];function s(u){return n.push(u),function(){var h=n.indexOf(u);h!==-1&&n.splice(h,1)}}function r(u){n.length&&n.forEach(function(p){return p(u)})}function a(u){return e.draggables[u]||null}function i(u){var p=a(u);return p||pe(!1),p}var l={register:function(p){e.draggables[p.descriptor.id]=p,r({type:"ADDITION",value:p})},update:function(p,h){var v=e.draggables[h.descriptor.id];v&&v.uniqueId===p.uniqueId&&(delete e.draggables[h.descriptor.id],e.draggables[p.descriptor.id]=p)},unregister:function(p){var h=p.descriptor.id,v=a(h);v&&p.uniqueId===v.uniqueId&&(delete e.draggables[h],r({type:"REMOVAL",value:p}))},getById:i,findById:a,exists:function(p){return!!a(p)},getAllByType:function(p){return Mc(e.draggables).filter(function(h){return h.descriptor.type===p})}};function o(u){return e.droppables[u]||null}function c(u){var p=o(u);return p||pe(!1),p}var d={register:function(p){e.droppables[p.descriptor.id]=p},unregister:function(p){var h=o(p.descriptor.id);h&&p.uniqueId===h.uniqueId&&delete e.droppables[p.descriptor.id]},getById:c,findById:o,exists:function(p){return!!o(p)},getAllByType:function(p){return Mc(e.droppables).filter(function(h){return h.descriptor.type===p})}};function m(){e.draggables={},e.droppables={},n.length=0}return{draggable:l,droppable:d,subscribe:s,clean:m}}function oL(){var e=He(lL,[]);return f.useEffect(function(){return function(){requestAnimationFrame(e.clean)}},[e]),e}var hh=Le.createContext(null),$c=function(){var e=document.body;return e||pe(!1),e},cL={position:"absolute",width:"1px",height:"1px",margin:"-1px",border:"0",padding:"0",overflow:"hidden",clip:"rect(0 0 0 0)","clip-path":"inset(100%)"},dL=function(n){return"rbd-announcement-"+n};function uL(e){var n=He(function(){return dL(e)},[e]),s=f.useRef(null);f.useEffect(function(){var i=document.createElement("div");return s.current=i,i.id=n,i.setAttribute("aria-live","assertive"),i.setAttribute("aria-atomic","true"),fe(i.style,cL),$c().appendChild(i),function(){setTimeout(function(){var c=$c();c.contains(i)&&c.removeChild(i),i===s.current&&(s.current=null)})}},[n]);var r=Ae(function(a){var i=s.current;if(i){i.textContent=a;return}},[]);return r}var mL=0,pL={separator:"::"};function xh(e,n){return n===void 0&&(n=pL),He(function(){return""+e+n.separator+mL++},[n.separator,e])}function fL(e){var n=e.contextId,s=e.uniqueId;return"rbd-hidden-text-"+n+"-"+s}function hL(e){var n=e.contextId,s=e.text,r=xh("hidden-text",{separator:"-"}),a=He(function(){return fL({contextId:n,uniqueId:r})},[r,n]);return f.useEffect(function(){var l=document.createElement("div");return l.id=a,l.textContent=s,l.style.display="none",$c().appendChild(l),function(){var c=$c();c.contains(l)&&c.removeChild(l)}},[a,s]),a}var Fd=Le.createContext(null);function GN(e){var n=f.useRef(e);return f.useEffect(function(){n.current=e}),n}function xL(){var e=null;function n(){return!!e}function s(l){return l===e}function r(l){e&&pe(!1);var o={abandon:l};return e=o,o}function a(){e||pe(!1),e=null}function i(){e&&(e.abandon(),a())}return{isClaimed:n,isActive:s,claim:r,release:a,tryAbandon:i}}var gL=9,vL=13,gh=27,qN=32,jL=33,yL=34,bL=35,wL=36,NL=37,SL=38,CL=39,EL=40,So,IL=(So={},So[vL]=!0,So[gL]=!0,So),QN=function(e){IL[e.keyCode]&&e.preventDefault()},Od=function(){var e="visibilitychange";if(typeof document>"u")return e;var n=[e,"ms"+e,"webkit"+e,"moz"+e,"o"+e],s=Tr(n,function(r){return"on"+r in document});return s||e}(),KN=0,yv=5;function DL(e,n){return Math.abs(n.x-e.x)>=yv||Math.abs(n.y-e.y)>=yv}var bv={type:"IDLE"};function AL(e){var n=e.cancel,s=e.completed,r=e.getPhase,a=e.setPhase;return[{eventName:"mousemove",fn:function(l){var o=l.button,c=l.clientX,d=l.clientY;if(o===KN){var m={x:c,y:d},u=r();if(u.type==="DRAGGING"){l.preventDefault(),u.actions.move(m);return}u.type!=="PENDING"&&pe(!1);var p=u.point;if(DL(p,m)){l.preventDefault();var h=u.actions.fluidLift(m);a({type:"DRAGGING",actions:h})}}}},{eventName:"mouseup",fn:function(l){var o=r();if(o.type!=="DRAGGING"){n();return}l.preventDefault(),o.actions.drop({shouldBlockNextClick:!0}),s()}},{eventName:"mousedown",fn:function(l){r().type==="DRAGGING"&&l.preventDefault(),n()}},{eventName:"keydown",fn:function(l){var o=r();if(o.type==="PENDING"){n();return}if(l.keyCode===gh){l.preventDefault(),n();return}QN(l)}},{eventName:"resize",fn:n},{eventName:"scroll",options:{passive:!0,capture:!1},fn:function(){r().type==="PENDING"&&n()}},{eventName:"webkitmouseforcedown",fn:function(l){var o=r();if(o.type==="IDLE"&&pe(!1),o.actions.shouldRespectForcePress()){n();return}l.preventDefault()}},{eventName:Od,fn:n}]}function TL(e){var n=f.useRef(bv),s=f.useRef(hr),r=He(function(){return{eventName:"mousedown",fn:function(u){if(!u.defaultPrevented&&u.button===KN&&!(u.ctrlKey||u.metaKey||u.shiftKey||u.altKey)){var p=e.findClosestDraggableId(u);if(p){var h=e.tryGetLock(p,l,{sourceEvent:u});if(h){u.preventDefault();var v={x:u.clientX,y:u.clientY};s.current(),d(h,v)}}}}}},[e]),a=He(function(){return{eventName:"webkitmouseforcewillbegin",fn:function(u){if(!u.defaultPrevented){var p=e.findClosestDraggableId(u);if(p){var h=e.findOptionsForDraggable(p);h&&(h.shouldRespectForcePress||e.canGetLock(p)&&u.preventDefault())}}}}},[e]),i=Ae(function(){var u={passive:!1,capture:!0};s.current=Mn(window,[a,r],u)},[a,r]),l=Ae(function(){var m=n.current;m.type!=="IDLE"&&(n.current=bv,s.current(),i())},[i]),o=Ae(function(){var m=n.current;l(),m.type==="DRAGGING"&&m.actions.cancel({shouldBlockNextClick:!0}),m.type==="PENDING"&&m.actions.abort()},[l]),c=Ae(function(){var u={capture:!0,passive:!1},p=AL({cancel:o,completed:l,getPhase:function(){return n.current},setPhase:function(v){n.current=v}});s.current=Mn(window,p,u)},[o,l]),d=Ae(function(u,p){n.current.type!=="IDLE"&&pe(!1),n.current={type:"PENDING",point:p,actions:u},c()},[c]);Sn(function(){return i(),function(){s.current()}},[i])}var ha;function kL(){}var PL=(ha={},ha[yL]=!0,ha[jL]=!0,ha[wL]=!0,ha[bL]=!0,ha);function RL(e,n){function s(){n(),e.cancel()}function r(){n(),e.drop()}return[{eventName:"keydown",fn:function(i){if(i.keyCode===gh){i.preventDefault(),s();return}if(i.keyCode===qN){i.preventDefault(),r();return}if(i.keyCode===EL){i.preventDefault(),e.moveDown();return}if(i.keyCode===SL){i.preventDefault(),e.moveUp();return}if(i.keyCode===CL){i.preventDefault(),e.moveRight();return}if(i.keyCode===NL){i.preventDefault(),e.moveLeft();return}if(PL[i.keyCode]){i.preventDefault();return}QN(i)}},{eventName:"mousedown",fn:s},{eventName:"mouseup",fn:s},{eventName:"click",fn:s},{eventName:"touchstart",fn:s},{eventName:"resize",fn:s},{eventName:"wheel",fn:s,options:{passive:!0}},{eventName:Od,fn:s}]}function LL(e){var n=f.useRef(kL),s=He(function(){return{eventName:"keydown",fn:function(i){if(i.defaultPrevented||i.keyCode!==qN)return;var l=e.findClosestDraggableId(i);if(!l)return;var o=e.tryGetLock(l,m,{sourceEvent:i});if(!o)return;i.preventDefault();var c=!0,d=o.snapLift();n.current();function m(){c||pe(!1),c=!1,n.current(),r()}n.current=Mn(window,RL(d,m),{capture:!0,passive:!1})}}},[e]),r=Ae(function(){var i={passive:!1,capture:!0};n.current=Mn(window,[s],i)},[s]);Sn(function(){return r(),function(){n.current()}},[r])}var zu={type:"IDLE"},FL=120,OL=.15;function ML(e){var n=e.cancel,s=e.getPhase;return[{eventName:"orientationchange",fn:n},{eventName:"resize",fn:n},{eventName:"contextmenu",fn:function(a){a.preventDefault()}},{eventName:"keydown",fn:function(a){if(s().type!=="DRAGGING"){n();return}a.keyCode===gh&&a.preventDefault(),n()}},{eventName:Od,fn:n}]}function _L(e){var n=e.cancel,s=e.completed,r=e.getPhase;return[{eventName:"touchmove",options:{capture:!1},fn:function(i){var l=r();if(l.type!=="DRAGGING"){n();return}l.hasMoved=!0;var o=i.touches[0],c=o.clientX,d=o.clientY,m={x:c,y:d};i.preventDefault(),l.actions.move(m)}},{eventName:"touchend",fn:function(i){var l=r();if(l.type!=="DRAGGING"){n();return}i.preventDefault(),l.actions.drop({shouldBlockNextClick:!0}),s()}},{eventName:"touchcancel",fn:function(i){if(r().type!=="DRAGGING"){n();return}i.preventDefault(),n()}},{eventName:"touchforcechange",fn:function(i){var l=r();l.type==="IDLE"&&pe(!1);var o=i.touches[0];if(o){var c=o.force>=OL;if(c){var d=l.actions.shouldRespectForcePress();if(l.type==="PENDING"){d&&n();return}if(d){if(l.hasMoved){i.preventDefault();return}n();return}i.preventDefault()}}}},{eventName:Od,fn:n}]}function $L(e){var n=f.useRef(zu),s=f.useRef(hr),r=Ae(function(){return n.current},[]),a=Ae(function(h){n.current=h},[]),i=He(function(){return{eventName:"touchstart",fn:function(h){if(!h.defaultPrevented){var v=e.findClosestDraggableId(h);if(v){var j=e.tryGetLock(v,o,{sourceEvent:h});if(j){var y=h.touches[0],g=y.clientX,x=y.clientY,b={x:g,y:x};s.current(),u(j,b)}}}}}},[e]),l=Ae(function(){var h={capture:!0,passive:!1};s.current=Mn(window,[i],h)},[i]),o=Ae(function(){var p=n.current;p.type!=="IDLE"&&(p.type==="PENDING"&&clearTimeout(p.longPressTimerId),a(zu),s.current(),l())},[l,a]),c=Ae(function(){var p=n.current;o(),p.type==="DRAGGING"&&p.actions.cancel({shouldBlockNextClick:!0}),p.type==="PENDING"&&p.actions.abort()},[o]),d=Ae(function(){var h={capture:!0,passive:!1},v={cancel:c,completed:o,getPhase:r},j=Mn(window,_L(v),h),y=Mn(window,ML(v),h);s.current=function(){j(),y()}},[c,r,o]),m=Ae(function(){var h=r();h.type!=="PENDING"&&pe(!1);var v=h.actions.fluidLift(h.point);a({type:"DRAGGING",actions:v,hasMoved:!1})},[r,a]),u=Ae(function(h,v){r().type!=="IDLE"&&pe(!1);var j=setTimeout(m,FL);a({type:"PENDING",point:v,actions:h,longPressTimerId:j}),d()},[d,r,a,m]);Sn(function(){return l(),function(){s.current();var v=r();v.type==="PENDING"&&(clearTimeout(v.longPressTimerId),a(zu))}},[r,l,a]),Sn(function(){var h=Mn(window,[{eventName:"touchmove",fn:function(){},options:{capture:!1,passive:!1}}]);return h},[])}var BL={input:!0,button:!0,textarea:!0,select:!0,option:!0,optgroup:!0,video:!0,audio:!0};function YN(e,n){if(n==null)return!1;var s=!!BL[n.tagName.toLowerCase()];if(s)return!0;var r=n.getAttribute("contenteditable");return r==="true"||r===""?!0:n===e?!1:YN(e,n.parentElement)}function VL(e,n){var s=n.target;return Ld(s)?YN(e,s):!1}var zL=function(e){return es(e.getBoundingClientRect()).center};function UL(e){return e instanceof HN(e).Element}var WL=function(){var e="matches";if(typeof document>"u")return e;var n=[e,"msMatchesSelector","webkitMatchesSelector"],s=Tr(n,function(r){return r in Element.prototype});return s||e}();function XN(e,n){return e==null?null:e[WL](n)?e:XN(e.parentElement,n)}function HL(e,n){return e.closest?e.closest(n):XN(e,n)}function GL(e){return"["+ni.contextId+'="'+e+'"]'}function qL(e,n){var s=n.target;if(!UL(s))return null;var r=GL(e),a=HL(s,r);return!a||!Ld(a)?null:a}function QL(e,n){var s=qL(e,n);return s?s.getAttribute(ni.draggableId):null}function KL(e,n){var s="["+pp.contextId+'="'+e+'"]',r=pN(document.querySelectorAll(s)),a=Tr(r,function(i){return i.getAttribute(pp.id)===n});return!a||!Ld(a)?null:a}function YL(e){e.preventDefault()}function Co(e){var n=e.expected,s=e.phase,r=e.isLockActive;return e.shouldWarn,!(!r()||n!==s)}function JN(e){var n=e.lockAPI,s=e.store,r=e.registry,a=e.draggableId;if(n.isClaimed())return!1;var i=r.draggable.findById(a);return!(!i||!i.options.isEnabled||!VN(s.getState(),a))}function XL(e){var n=e.lockAPI,s=e.contextId,r=e.store,a=e.registry,i=e.draggableId,l=e.forceSensorStop,o=e.sourceEvent,c=JN({lockAPI:n,store:r,registry:a,draggableId:i});if(!c)return null;var d=a.draggable.getById(i),m=KL(s,d.descriptor.id);if(!m||o&&!d.options.canDragInteractiveElements&&VL(m,o))return null;var u=n.claim(l||hr),p="PRE_DRAG";function h(){return d.options.shouldRespectForcePress}function v(){return n.isActive(u)}function j(k,I){Co({expected:k,phase:p,isLockActive:v,shouldWarn:!0})&&r.dispatch(I())}var y=j.bind(null,"DRAGGING");function g(k){function I(){n.release(),p="COMPLETED"}p!=="PRE_DRAG"&&(I(),p!=="PRE_DRAG"&&pe(!1)),r.dispatch(W3(k.liftActionArgs)),p="DRAGGING";function w(S,C){if(C===void 0&&(C={shouldBlockNextClick:!1}),k.cleanup(),C.shouldBlockNextClick){var E=Mn(window,[{eventName:"click",fn:YL,options:{once:!0,passive:!1,capture:!0}}]);setTimeout(E)}I(),r.dispatch(LN({reason:S}))}return fe({isActive:function(){return Co({expected:"DRAGGING",phase:p,isLockActive:v,shouldWarn:!1})},shouldRespectForcePress:h,drop:function(C){return w("DROP",C)},cancel:function(C){return w("CANCEL",C)}},k.actions)}function x(k){var I=bl(function(S){y(function(){return RN({client:S})})}),w=g({liftActionArgs:{id:i,clientSelection:k,movementMode:"FLUID"},cleanup:function(){return I.cancel()},actions:{move:I}});return fe({},w,{move:I})}function b(){var k={moveUp:function(){return y(Z3)},moveRight:function(){return y(t5)},moveDown:function(){return y(e5)},moveLeft:function(){return y(n5)}};return g({liftActionArgs:{id:i,clientSelection:zL(m),movementMode:"SNAP"},cleanup:hr,actions:k})}function T(){var k=Co({expected:"PRE_DRAG",phase:p,isLockActive:v,shouldWarn:!0});k&&n.release()}var L={isActive:function(){return Co({expected:"PRE_DRAG",phase:p,isLockActive:v,shouldWarn:!1})},shouldRespectForcePress:h,fluidLift:x,snapLift:b,abort:T};return L}var JL=[TL,LL,$L];function ZL(e){var n=e.contextId,s=e.store,r=e.registry,a=e.customSensors,i=e.enableDefaultSensors,l=[].concat(i?JL:[],a||[]),o=f.useState(function(){return xL()})[0],c=Ae(function(x,b){x.isDragging&&!b.isDragging&&o.tryAbandon()},[o]);Sn(function(){var x=s.getState(),b=s.subscribe(function(){var T=s.getState();c(x,T),x=T});return b},[o,s,c]),Sn(function(){return o.tryAbandon},[o.tryAbandon]);for(var d=Ae(function(g){return JN({lockAPI:o,registry:r,store:s,draggableId:g})},[o,r,s]),m=Ae(function(g,x,b){return XL({lockAPI:o,registry:r,contextId:n,store:s,draggableId:g,forceSensorStop:x,sourceEvent:b&&b.sourceEvent?b.sourceEvent:null})},[n,o,r,s]),u=Ae(function(g){return QL(n,g)},[n]),p=Ae(function(g){var x=r.draggable.findById(g);return x?x.options:null},[r.draggable]),h=Ae(function(){o.isClaimed()&&(o.tryAbandon(),s.getState().phase!=="IDLE"&&s.dispatch(lh()))},[o,s]),v=Ae(o.isClaimed,[o]),j=He(function(){return{canGetLock:d,tryGetLock:m,findClosestDraggableId:u,findOptionsForDraggable:p,tryReleaseLock:h,isLockClaimed:v}},[d,m,u,p,h,v]),y=0;y<l.length;y++)l[y](j)}var eF=function(n){return{onBeforeCapture:n.onBeforeCapture,onBeforeDragStart:n.onBeforeDragStart,onDragStart:n.onDragStart,onDragEnd:n.onDragEnd,onDragUpdate:n.onDragUpdate}};function Ai(e){return e.current||pe(!1),e.current}function tF(e){var n=e.contextId,s=e.setCallbacks,r=e.sensors,a=e.nonce,i=e.dragHandleUsageInstructions,l=f.useRef(null),o=GN(e),c=Ae(function(){return eF(o.current)},[o]),d=uL(n),m=hL({contextId:n,text:i}),u=rL(n,a),p=Ae(function(S){Ai(l).dispatch(S)},[]),h=He(function(){return Wg({publishWhileDragging:G3,updateDroppableScroll:Q3,updateDroppableIsEnabled:K3,updateDroppableIsCombineEnabled:Y3,collectionStarting:q3},p)},[p]),v=oL(),j=He(function(){return O5(v,h)},[v,h]),y=He(function(){return Z5(fe({scrollWindow:M5,scrollDroppable:j.scrollDroppable},Wg({move:RN},p)))},[j.scrollDroppable,p]),g=iL(n),x=He(function(){return P5({announce:d,autoScroller:y,dimensionMarshal:j,focusMarshal:g,getResponders:c,styleMarshal:u})},[d,y,j,g,c,u]);l.current=x;var b=Ae(function(){var S=Ai(l),C=S.getState();C.phase!=="IDLE"&&S.dispatch(lh())},[]),T=Ae(function(){var S=Ai(l).getState();return S.isDragging||S.phase==="DROP_ANIMATING"},[]),L=He(function(){return{isDragging:T,tryAbort:b}},[T,b]);s(L);var k=Ae(function(S){return VN(Ai(l).getState(),S)},[]),I=Ae(function(){return Or(Ai(l).getState())},[]),w=He(function(){return{marshal:j,focus:g,contextId:n,canLift:k,isMovementAllowed:I,dragHandleUsageInstructionsId:m,registry:v}},[n,j,m,g,k,I,v]);return ZL({contextId:n,store:x,registry:v,customSensors:r,enableDefaultSensors:e.enableDefaultSensors!==!1}),f.useEffect(function(){return b},[b]),Le.createElement(Fd.Provider,{value:w},Le.createElement(wP,{context:hh,store:x},e.children))}var nF=0;function sF(){return He(function(){return""+nF++},[])}function rF(e){var n=sF(),s=e.dragHandleUsageInstructions||qo.dragHandleUsageInstructions;return Le.createElement(LR,null,function(r){return Le.createElement(tF,{nonce:e.nonce,contextId:n,setCallbacks:r,dragHandleUsageInstructions:s,enableDefaultSensors:e.enableDefaultSensors,sensors:e.sensors,onBeforeCapture:e.onBeforeCapture,onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragUpdate:e.onDragUpdate,onDragEnd:e.onDragEnd},e.children)})}var ZN=function(n){return function(s){return n===s}},aF=ZN("scroll"),iF=ZN("auto"),wv=function(n,s){return s(n.overflowX)||s(n.overflowY)},lF=function(n){var s=window.getComputedStyle(n),r={overflowX:s.overflowX,overflowY:s.overflowY};return wv(r,aF)||wv(r,iF)},oF=function(){return!1},cF=function e(n){return n==null?null:n===document.body?oF()?n:null:n===document.documentElement?null:lF(n)?n:e(n.parentElement)},fp=function(e){return{x:e.scrollLeft,y:e.scrollTop}},dF=function e(n){if(!n)return!1;var s=window.getComputedStyle(n);return s.position==="fixed"?!0:e(n.parentElement)},uF=function(e){var n=cF(e),s=dF(e);return{closestScrollable:n,isFixedOnPage:s}},mF=function(e){var n=e.descriptor,s=e.isEnabled,r=e.isCombineEnabled,a=e.isFixedOnPage,i=e.direction,l=e.client,o=e.page,c=e.closest,d=function(){if(!c)return null;var h=c.scrollSize,v=c.client,j=_N({scrollHeight:h.scrollHeight,scrollWidth:h.scrollWidth,height:v.paddingBox.height,width:v.paddingBox.width});return{pageMarginBox:c.page.marginBox,frameClient:v,scrollSize:h,shouldClipSubject:c.shouldClipSubject,scroll:{initial:c.scroll,current:c.scroll,max:j,diff:{value:Rt,displacement:Rt}}}}(),m=i==="vertical"?nh:vN,u=ei({page:o,withPlaceholder:null,axis:m,frame:d}),p={descriptor:n,isCombineEnabled:r,isFixedOnPage:a,axis:m,isEnabled:s,client:l,page:o,frame:d,subject:u};return p},pF=function(n,s){var r=oN(n);if(!s||n!==s)return r;var a=r.paddingBox.top-s.scrollTop,i=r.paddingBox.left-s.scrollLeft,l=a+s.scrollHeight,o=i+s.scrollWidth,c={top:a,right:o,bottom:l,left:i},d=Xf(c,r.border),m=Jf({borderBox:d,margin:r.margin,border:r.border,padding:r.padding});return m},fF=function(e){var n=e.ref,s=e.descriptor,r=e.env,a=e.windowScroll,i=e.direction,l=e.isDropDisabled,o=e.isCombineEnabled,c=e.shouldClipSubject,d=r.closestScrollable,m=pF(n,d),u=Lc(m,a),p=function(){if(!d)return null;var v=oN(d),j={scrollHeight:d.scrollHeight,scrollWidth:d.scrollWidth};return{client:v,page:Lc(v,a),scroll:fp(d),scrollSize:j,shouldClipSubject:c}}(),h=mF({descriptor:s,isEnabled:!l,isCombineEnabled:o,isFixedOnPage:r.isFixedOnPage,direction:i,client:m,page:u,closest:p});return h},hF={passive:!1},xF={passive:!0},Nv=function(e){return e.shouldPublishImmediately?hF:xF};function Bc(e){var n=f.useContext(e);return n||pe(!1),n}var Eo=function(n){return n&&n.env.closestScrollable||null};function gF(e){var n=f.useRef(null),s=Bc(Fd),r=xh("droppable"),a=s.registry,i=s.marshal,l=GN(e),o=He(function(){return{id:e.droppableId,type:e.type,mode:e.mode}},[e.droppableId,e.mode,e.type]),c=f.useRef(o),d=He(function(){return Pt(function(T,L){n.current||pe(!1);var k={x:T,y:L};i.updateDroppableScroll(o.id,k)})},[o.id,i]),m=Ae(function(){var T=n.current;return!T||!T.env.closestScrollable?Rt:fp(T.env.closestScrollable)},[]),u=Ae(function(){var T=m();d(T.x,T.y)},[m,d]),p=He(function(){return bl(u)},[u]),h=Ae(function(){var T=n.current,L=Eo(T);T&&L||pe(!1);var k=T.scrollOptions;if(k.shouldPublishImmediately){u();return}p()},[p,u]),v=Ae(function(T,L){n.current&&pe(!1);var k=l.current,I=k.getDroppableRef();I||pe(!1);var w=uF(I),S={ref:I,descriptor:o,env:w,scrollOptions:L};n.current=S;var C=fF({ref:I,descriptor:o,env:w,windowScroll:T,direction:k.direction,isDropDisabled:k.isDropDisabled,isCombineEnabled:k.isCombineEnabled,shouldClipSubject:!k.ignoreContainerClipping}),E=w.closestScrollable;return E&&(E.setAttribute(vv.contextId,s.contextId),E.addEventListener("scroll",h,Nv(S.scrollOptions))),C},[s.contextId,o,h,l]),j=Ae(function(){var T=n.current,L=Eo(T);return T&&L||pe(!1),fp(L)},[]),y=Ae(function(){var T=n.current;T||pe(!1);var L=Eo(T);n.current=null,L&&(p.cancel(),L.removeAttribute(vv.contextId),L.removeEventListener("scroll",h,Nv(T.scrollOptions)))},[h,p]),g=Ae(function(T){var L=n.current;L||pe(!1);var k=Eo(L);k||pe(!1),k.scrollTop+=T.y,k.scrollLeft+=T.x},[]),x=He(function(){return{getDimensionAndWatchScroll:v,getScrollWhileDragging:j,dragStopped:y,scroll:g}},[y,v,j,g]),b=He(function(){return{uniqueId:r,descriptor:o,callbacks:x}},[x,o,r]);Sn(function(){return c.current=b.descriptor,a.droppable.register(b),function(){n.current&&y(),a.droppable.unregister(b)}},[x,o,y,b,i,a.droppable]),Sn(function(){n.current&&i.updateDroppableIsEnabled(c.current.id,!e.isDropDisabled)},[e.isDropDisabled,i]),Sn(function(){n.current&&i.updateDroppableIsCombineEnabled(c.current.id,e.isCombineEnabled)},[e.isCombineEnabled,i])}function Uu(){}var Sv={width:0,height:0,margin:BR},vF=function(n){var s=n.isAnimatingOpenOnMount,r=n.placeholder,a=n.animate;return s||a==="close"?Sv:{height:r.client.borderBox.height,width:r.client.borderBox.width,margin:r.client.margin}},jF=function(n){var s=n.isAnimatingOpenOnMount,r=n.placeholder,a=n.animate,i=vF({isAnimatingOpenOnMount:s,placeholder:r,animate:a});return{display:r.display,boxSizing:"border-box",width:i.width,height:i.height,marginTop:i.margin.top,marginRight:i.margin.right,marginBottom:i.margin.bottom,marginLeft:i.margin.left,flexShrink:"0",flexGrow:"0",pointerEvents:"none",transition:a!=="none"?Qi.placeholder:null}};function yF(e){var n=f.useRef(null),s=Ae(function(){n.current&&(clearTimeout(n.current),n.current=null)},[]),r=e.animate,a=e.onTransitionEnd,i=e.onClose,l=e.contextId,o=f.useState(e.animate==="open"),c=o[0],d=o[1];f.useEffect(function(){return c?r!=="open"?(s(),d(!1),Uu):n.current?Uu:(n.current=setTimeout(function(){n.current=null,d(!1)}),s):Uu},[r,c,s]);var m=Ae(function(p){p.propertyName==="height"&&(a(),r==="close"&&i())},[r,i,a]),u=jF({isAnimatingOpenOnMount:c,animate:e.animate,placeholder:e.placeholder});return Le.createElement(e.placeholder.tagName,{style:u,"data-rbd-placeholder-context-id":l,onTransitionEnd:m,ref:e.innerRef})}var bF=Le.memo(yF),vh=Le.createContext(null),wF=function(e){Vw(n,e);function n(){for(var r,a=arguments.length,i=new Array(a),l=0;l<a;l++)i[l]=arguments[l];return r=e.call.apply(e,[this].concat(i))||this,r.state={isVisible:!!r.props.on,data:r.props.on,animate:r.props.shouldAnimate&&r.props.on?"open":"none"},r.onClose=function(){r.state.animate==="close"&&r.setState({isVisible:!1})},r}n.getDerivedStateFromProps=function(a,i){return a.shouldAnimate?a.on?{isVisible:!0,data:a.on,animate:"open"}:i.isVisible?{isVisible:!0,data:i.data,animate:"close"}:{isVisible:!1,animate:"close",data:null}:{isVisible:!!a.on,data:a.on,animate:"none"}};var s=n.prototype;return s.render=function(){if(!this.state.isVisible)return null;var a={onClose:this.onClose,data:this.state.data,animate:this.state.animate};return this.props.children(a)},n}(Le.PureComponent),Cv={dragging:5e3,dropAnimating:4500},NF=function(n,s){return s?Qi.drop(s.duration):n?Qi.snap:Qi.fluid},SF=function(n,s){return n?s?Cl.opacity.drop:Cl.opacity.combining:null},CF=function(n){return n.forceShouldAnimate!=null?n.forceShouldAnimate:n.mode==="SNAP"};function EF(e){var n=e.dimension,s=n.client,r=e.offset,a=e.combineWith,i=e.dropping,l=!!a,o=CF(e),c=!!i,d=c?up.drop(r,l):up.moveTo(r),m={position:"fixed",top:s.marginBox.top,left:s.marginBox.left,boxSizing:"border-box",width:s.borderBox.width,height:s.borderBox.height,transition:NF(o,i),transform:d,opacity:SF(l,c),zIndex:c?Cv.dropAnimating:Cv.dragging,pointerEvents:"none"};return m}function IF(e){return{transform:up.moveTo(e.offset),transition:e.shouldAnimateDisplacement?null:"none"}}function DF(e){return e.type==="DRAGGING"?EF(e):IF(e)}function AF(e,n,s){s===void 0&&(s=Rt);var r=window.getComputedStyle(n),a=n.getBoundingClientRect(),i=lN(a,r),l=Lc(i,s),o={client:i,tagName:n.tagName.toLowerCase(),display:r.display},c={x:i.marginBox.width,y:i.marginBox.height},d={descriptor:e,placeholder:o,displaceBy:c,client:i,page:l};return d}function TF(e){var n=xh("draggable"),s=e.descriptor,r=e.registry,a=e.getDraggableRef,i=e.canDragInteractiveElements,l=e.shouldRespectForcePress,o=e.isEnabled,c=He(function(){return{canDragInteractiveElements:i,shouldRespectForcePress:l,isEnabled:o}},[i,o,l]),d=Ae(function(h){var v=a();return v||pe(!1),AF(s,v,h)},[s,a]),m=He(function(){return{uniqueId:n,descriptor:s,options:c,getDimension:d}},[s,d,c,n]),u=f.useRef(m),p=f.useRef(!0);Sn(function(){return r.draggable.register(u.current),function(){return r.draggable.unregister(u.current)}},[r.draggable]),Sn(function(){if(p.current){p.current=!1;return}var h=u.current;u.current=m,r.draggable.update(m,h)},[m,r.draggable])}function kF(e){e.preventDefault()}function PF(e){var n=f.useRef(null),s=Ae(function(S){n.current=S},[]),r=Ae(function(){return n.current},[]),a=Bc(Fd),i=a.contextId,l=a.dragHandleUsageInstructionsId,o=a.registry,c=Bc(vh),d=c.type,m=c.droppableId,u=He(function(){return{id:e.draggableId,index:e.index,type:d,droppableId:m}},[e.draggableId,e.index,d,m]),p=e.children,h=e.draggableId,v=e.isEnabled,j=e.shouldRespectForcePress,y=e.canDragInteractiveElements,g=e.isClone,x=e.mapped,b=e.dropAnimationFinished;if(!g){var T=He(function(){return{descriptor:u,registry:o,getDraggableRef:r,canDragInteractiveElements:y,shouldRespectForcePress:j,isEnabled:v}},[u,o,r,y,j,v]);TF(T)}var L=He(function(){return v?{tabIndex:0,role:"button","aria-describedby":l,"data-rbd-drag-handle-draggable-id":h,"data-rbd-drag-handle-context-id":i,draggable:!1,onDragStart:kF}:null},[i,l,h,v]),k=Ae(function(S){x.type==="DRAGGING"&&x.dropping&&S.propertyName==="transform"&&b()},[b,x]),I=He(function(){var S=DF(x),C=x.type==="DRAGGING"&&x.dropping?k:null,E={innerRef:s,draggableProps:{"data-rbd-draggable-context-id":i,"data-rbd-draggable-id":h,style:S,onTransitionEnd:C},dragHandleProps:L};return E},[i,L,h,x,k,s]),w=He(function(){return{draggableId:u.id,type:u.type,source:{index:u.index,droppableId:u.droppableId}}},[u.droppableId,u.id,u.index,u.type]);return p(I,x.snapshot,w)}var e1=function(e,n){return e===n},t1=function(e){var n=e.combine,s=e.destination;return s?s.droppableId:n?n.droppableId:null},RF=function(n){return n.combine?n.combine.draggableId:null},LF=function(n){return n.at&&n.at.type==="COMBINE"?n.at.combine.draggableId:null};function FF(){var e=Pt(function(a,i){return{x:a,y:i}}),n=Pt(function(a,i,l,o,c){return{isDragging:!0,isClone:i,isDropAnimating:!!c,dropAnimation:c,mode:a,draggingOver:l,combineWith:o,combineTargetFor:null}}),s=Pt(function(a,i,l,o,c,d,m){return{mapped:{type:"DRAGGING",dropping:null,draggingOver:c,combineWith:d,mode:i,offset:a,dimension:l,forceShouldAnimate:m,snapshot:n(i,o,c,d,null)}}}),r=function(i,l){if(i.isDragging){if(i.critical.draggable.id!==l.draggableId)return null;var o=i.current.client.offset,c=i.dimensions.draggables[l.draggableId],d=Nn(i.impact),m=LF(i.impact),u=i.forceShouldAnimate;return s(e(o.x,o.y),i.movementMode,c,l.isClone,d,m,u)}if(i.phase==="DROP_ANIMATING"){var p=i.completed;if(p.result.draggableId!==l.draggableId)return null;var h=l.isClone,v=i.dimensions.draggables[l.draggableId],j=p.result,y=j.mode,g=t1(j),x=RF(j),b=i.dropDuration,T={duration:b,curve:ch.drop,moveTo:i.newHomeClientOffset,opacity:x?Cl.opacity.drop:null,scale:x?Cl.scale.drop:null};return{mapped:{type:"DRAGGING",offset:i.newHomeClientOffset,dimension:v,dropping:T,draggingOver:g,combineWith:x,mode:y,forceShouldAnimate:null,snapshot:n(y,h,g,x,T)}}}return null};return r}function n1(e){return{isDragging:!1,isDropAnimating:!1,isClone:!1,dropAnimation:null,mode:null,draggingOver:null,combineTargetFor:e,combineWith:null}}var OF={mapped:{type:"SECONDARY",offset:Rt,combineTargetFor:null,shouldAnimateDisplacement:!0,snapshot:n1(null)}};function MF(){var e=Pt(function(l,o){return{x:l,y:o}}),n=Pt(n1),s=Pt(function(l,o,c){return o===void 0&&(o=null),{mapped:{type:"SECONDARY",offset:l,combineTargetFor:o,shouldAnimateDisplacement:c,snapshot:n(o)}}}),r=function(o){return o?s(Rt,o,!0):null},a=function(o,c,d,m){var u=d.displaced.visible[o],p=!!(m.inVirtualList&&m.effected[o]),h=kd(d),v=h&&h.draggableId===o?c:null;if(!u){if(!p)return r(v);if(d.displaced.invisible[o])return null;var j=pi(m.displacedBy.point),y=e(j.x,j.y);return s(y,v,!0)}if(p)return r(v);var g=d.displacedBy.point,x=e(g.x,g.y);return s(x,v,u.shouldAnimate)},i=function(o,c){if(o.isDragging)return o.critical.draggable.id===c.draggableId?null:a(c.draggableId,o.critical.draggable.id,o.impact,o.afterCritical);if(o.phase==="DROP_ANIMATING"){var d=o.completed;return d.result.draggableId===c.draggableId?null:a(c.draggableId,d.result.draggableId,d.impact,d.afterCritical)}return null};return i}var _F=function(){var n=FF(),s=MF(),r=function(i,l){return n(i,l)||s(i,l)||OF};return r},$F={dropAnimationFinished:FN},BF=aN(_F,$F,null,{context:hh,pure:!0,areStatePropsEqual:e1})(PF);function s1(e){var n=Bc(vh),s=n.isUsingCloneFor;return s===e.draggableId&&!e.isClone?null:Le.createElement(BF,e)}function VF(e){var n=typeof e.isDragDisabled=="boolean"?!e.isDragDisabled:!0,s=!!e.disableInteractiveElementBlocking,r=!!e.shouldRespectForcePress;return Le.createElement(s1,fe({},e,{isClone:!1,isEnabled:n,canDragInteractiveElements:s,shouldRespectForcePress:r}))}function zF(e){var n=f.useContext(Fd);n||pe(!1);var s=n.contextId,r=n.isMovementAllowed,a=f.useRef(null),i=f.useRef(null),l=e.children,o=e.droppableId,c=e.type,d=e.mode,m=e.direction,u=e.ignoreContainerClipping,p=e.isDropDisabled,h=e.isCombineEnabled,v=e.snapshot,j=e.useClone,y=e.updateViewportMaxScroll,g=e.getContainerForClone,x=Ae(function(){return a.current},[]),b=Ae(function(E){a.current=E},[]);Ae(function(){return i.current},[]);var T=Ae(function(E){i.current=E},[]),L=Ae(function(){r()&&y({maxScroll:BN()})},[r,y]);gF({droppableId:o,type:c,mode:d,direction:m,isDropDisabled:p,isCombineEnabled:h,ignoreContainerClipping:u,getDroppableRef:x});var k=Le.createElement(wF,{on:e.placeholder,shouldAnimate:e.shouldAnimatePlaceholder},function(E){var N=E.onClose,D=E.data,A=E.animate;return Le.createElement(bF,{placeholder:D,onClose:N,innerRef:T,animate:A,contextId:s,onTransitionEnd:L})}),I=He(function(){return{innerRef:b,placeholder:k,droppableProps:{"data-rbd-droppable-id":o,"data-rbd-droppable-context-id":s}}},[s,o,k,b]),w=j?j.dragging.draggableId:null,S=He(function(){return{droppableId:o,type:c,isUsingCloneFor:w}},[o,w,c]);function C(){if(!j)return null;var E=j.dragging,N=j.render,D=Le.createElement(s1,{draggableId:E.draggableId,index:E.source.index,isClone:!0,isEnabled:!0,shouldRespectForcePress:!1,canDragInteractiveElements:!0},function(A,_){return N(A,_,E)});return df.createPortal(D,g())}return Le.createElement(vh.Provider,{value:S},l(I,v),C())}var Wu=function(n,s){return n===s.droppable.type},Ev=function(n,s){return s.draggables[n.draggable.id]},UF=function(){var n={placeholder:null,shouldAnimatePlaceholder:!0,snapshot:{isDraggingOver:!1,draggingOverWith:null,draggingFromThisWith:null,isUsingPlaceholder:!1},useClone:null},s=fe({},n,{shouldAnimatePlaceholder:!1}),r=Pt(function(l){return{draggableId:l.id,type:l.type,source:{index:l.index,droppableId:l.droppableId}}}),a=Pt(function(l,o,c,d,m,u){var p=m.descriptor.id,h=m.descriptor.droppableId===l;if(h){var v=u?{render:u,dragging:r(m.descriptor)}:null,j={isDraggingOver:c,draggingOverWith:c?p:null,draggingFromThisWith:p,isUsingPlaceholder:!0};return{placeholder:m.placeholder,shouldAnimatePlaceholder:!1,snapshot:j,useClone:v}}if(!o)return s;if(!d)return n;var y={isDraggingOver:c,draggingOverWith:p,draggingFromThisWith:null,isUsingPlaceholder:!0};return{placeholder:m.placeholder,shouldAnimatePlaceholder:!0,snapshot:y,useClone:null}}),i=function(o,c){var d=c.droppableId,m=c.type,u=!c.isDropDisabled,p=c.renderClone;if(o.isDragging){var h=o.critical;if(!Wu(m,h))return s;var v=Ev(h,o.dimensions),j=Nn(o.impact)===d;return a(d,u,j,j,v,p)}if(o.phase==="DROP_ANIMATING"){var y=o.completed;if(!Wu(m,y.critical))return s;var g=Ev(y.critical,o.dimensions);return a(d,u,t1(y.result)===d,Nn(y.impact)===d,g,p)}if(o.phase==="IDLE"&&o.completed&&!o.shouldFlush){var x=o.completed;if(!Wu(m,x.critical))return s;var b=Nn(x.impact)===d,T=!!(x.impact.at&&x.impact.at.type==="COMBINE"),L=x.critical.droppable.id===d;return b?T?n:s:L?n:s}return s};return i},WF={updateViewportMaxScroll:J3};function HF(){return document.body||pe(!1),document.body}var GF={mode:"standard",type:"DEFAULT",direction:"vertical",isDropDisabled:!1,isCombineEnabled:!1,ignoreContainerClipping:!1,renderClone:null,getContainerForClone:HF},r1=aN(UF,WF,null,{context:hh,pure:!0,areStatePropsEqual:e1})(zF);r1.defaultProps=GF;const Iv=[{stage:Se.PROSPECTING,name:"Prospecting",color:"bg-blue-500"},{stage:Se.QUALIFICATION,name:"Qualification",color:"bg-yellow-500"},{stage:Se.NEEDS_ANALYSIS,name:"Needs Analysis",color:"bg-orange-500"},{stage:Se.PROPOSAL,name:"Proposal",color:"bg-purple-500"},{stage:Se.NEGOTIATION,name:"Negotiation",color:"bg-indigo-500"},{stage:Se.CLOSED_WON,name:"Closed Won",color:"bg-green-500"},{stage:Se.CLOSED_LOST,name:"Closed Lost",color:"bg-red-500"}];function qF({deals:e,onDealStageChange:n,onDealClick:s}){const[r,a]=f.useState(null),i=h=>{switch(h){case qe.ACTIVE:return"bg-blue-50 text-blue-700 border-blue-200";case qe.WON:return"bg-green-50 text-green-700 border-green-200";case qe.LOST:return"bg-red-50 text-red-700 border-red-200";case qe.ON_HOLD:return"bg-yellow-50 text-yellow-700 border-yellow-200";case qe.CANCELLED:return"bg-gray-50 text-gray-700 border-gray-200";default:return"bg-gray-50 text-gray-700 border-gray-200"}},l=h=>{switch(h){case"critical":return"bg-red-50 text-red-700 border-red-200";case"high":return"bg-orange-50 text-orange-700 border-orange-200";case"medium":return"bg-yellow-50 text-yellow-700 border-yellow-200";case"low":return"bg-green-50 text-green-700 border-green-200";default:return"bg-gray-50 text-gray-700 border-gray-200"}},o=h=>new Date(h.expectedCloseDate)<new Date&&h.status===qe.ACTIVE,c=h=>{if(a(null),!h.destination||h.source.droppableId===h.destination.droppableId)return;const v=h.draggableId,j=h.destination.droppableId;n(v,j)},d=h=>{a(h.draggableId)},m=h=>e.filter(v=>v.stage===h),u=h=>m(h).reduce((v,j)=>v+j.value,0),p=h=>m(h).reduce((v,j)=>v+j.value*j.probability/100,0);return t.jsxs("div",{className:"space-y-6 pb-10",children:[t.jsx("div",{className:"grid gap-4 md:grid-cols-7",children:Iv.map(h=>{const v=m(h.stage),j=u(h.stage),y=p(h.stage);return t.jsxs(U,{className:"shadow-sm",children:[t.jsxs(G,{className:"pb-3",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("div",{className:ae("w-3 h-3 rounded-full",h.color)}),t.jsx("span",{className:"text-xs text-muted-foreground",children:v.length})]}),t.jsx(q,{className:"text-sm font-medium",children:h.name})]}),t.jsx(W,{className:"pt-0",children:t.jsxs("div",{className:"space-y-1",children:[t.jsx("div",{className:"text-lg font-bold",children:re(j)}),t.jsxs("div",{className:"text-xs text-muted-foreground",children:["Weighted: ",re(y)]})]})})]},h.stage)})}),t.jsx(rF,{onDragEnd:c,onDragStart:d,children:t.jsx("div",{className:"grid gap-4 grid-cols-1 md:grid-cols-7 min-h-[600px]",children:Iv.map(h=>t.jsx(r1,{droppableId:h.stage,children:(v,j)=>t.jsxs("div",{ref:v.innerRef,...v.droppableProps,className:ae("space-y-3 p-3 rounded-lg border-2 border-dashed transition-colors min-h-[200px]",j.isDraggingOver?"border-primary bg-primary/5":"border-muted"),children:[t.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[t.jsx("div",{className:ae("w-3 h-3 rounded-full",h.color)}),t.jsx("h3",{className:"font-semibold text-sm",children:h.name})]}),m(h.stage).map((y,g)=>t.jsx(VF,{draggableId:y.id,index:g,children:(x,b)=>t.jsx(U,{ref:x.innerRef,...x.draggableProps,...x.dragHandleProps,className:ae("cursor-pointer transition-all hover:shadow-md",b.isDragging&&"rotate-3 shadow-lg",r===y.id&&"opacity-50"),onClick:()=>s(y),children:t.jsx(W,{className:"p-4",children:t.jsxs("div",{className:"space-y-2",children:[t.jsxs("div",{children:[t.jsx("h4",{className:"font-semibold text-sm line-clamp-2",children:y.name}),t.jsx("p",{className:"text-xs text-muted-foreground truncate",children:y.customerName})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"font-bold text-primary",children:re(y.value)}),t.jsx(Z,{className:ae("ri-badge-status text-xs",l(y.priority)),children:y.priority.toUpperCase()})]}),t.jsxs("div",{className:"flex items-center justify-between text-xs text-muted-foreground",children:[t.jsxs("div",{className:"flex items-center space-x-1",children:[t.jsx(De,{className:"h-3 w-3"}),t.jsxs("span",{children:[y.probability,"%"]})]}),t.jsxs("div",{className:"flex items-center space-x-1",children:[t.jsx(It,{className:"h-3 w-3 flex-shrink-0"}),t.jsx("span",{className:"truncate",children:new Date(y.expectedCloseDate).toLocaleDateString()})]})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx(Z,{className:ae("ri-badge-status text-xs",i(y.status)),children:y.status.toUpperCase()}),o(y)&&t.jsxs("div",{className:"flex items-center space-x-1 text-red-500",children:[t.jsx(Wi,{className:"h-3 w-3 flex-shrink-0"}),t.jsx("span",{className:"text-xs",children:"Overdue"})]})]})]})})},y.id)},y.id)),v.placeholder]})},h.stage))})})]})}function QF({metrics:e}){const n=s=>s>=80?"text-green-600":s>=60?"text-yellow-600":"text-red-600";return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"grid gap-4 md:grid-cols-4",children:[t.jsxs(U,{className:"shadow-sm border-0 bg-gradient-to-br from-blue-50 to-blue-100/50",children:[t.jsxs(G,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[t.jsx(q,{className:"text-sm font-medium text-blue-900",children:"Total Pipeline"}),t.jsx(Ve,{className:"h-4 w-4 text-blue-600"})]}),t.jsxs(W,{children:[t.jsx("div",{className:"text-2xl font-bold text-blue-900",children:re(e.totalValue)}),t.jsxs("p",{className:"text-xs text-blue-600 flex items-center mt-1",children:[t.jsx(Jn,{className:"h-3 w-3 mr-1"}),e.totalDeals," active deals"]})]})]}),t.jsxs(U,{className:"shadow-sm border-0 bg-gradient-to-br from-green-50 to-green-100/50",children:[t.jsxs(G,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[t.jsx(q,{className:"text-sm font-medium text-green-900",children:"Won Deals"}),t.jsx(De,{className:"h-4 w-4 text-green-600"})]}),t.jsxs(W,{children:[t.jsx("div",{className:"text-2xl font-bold text-green-900",children:re(e.wonValue)}),t.jsxs("p",{className:"text-xs text-green-600 flex items-center mt-1",children:[t.jsx(fn,{className:"h-3 w-3 mr-1"}),e.wonDeals," deals closed"]})]})]}),t.jsxs(U,{className:"shadow-sm border-0 bg-gradient-to-br from-purple-50 to-purple-100/50",children:[t.jsxs(G,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[t.jsx(q,{className:"text-sm font-medium text-purple-900",children:"Win Rate"}),t.jsx(fn,{className:"h-4 w-4 text-purple-600"})]}),t.jsxs(W,{children:[t.jsxs("div",{className:"text-2xl font-bold text-purple-900",children:[e.winRate.toFixed(1),"%"]}),t.jsxs("p",{className:"text-xs text-purple-600 flex items-center mt-1",children:[t.jsx(De,{className:"h-3 w-3 mr-1"}),"Industry average: 27%"]})]})]}),t.jsxs(U,{className:"shadow-sm border-0 bg-gradient-to-br from-orange-50 to-orange-100/50",children:[t.jsxs(G,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[t.jsx(q,{className:"text-sm font-medium text-orange-900",children:"Avg Deal Size"}),t.jsx(Ve,{className:"h-4 w-4 text-orange-600"})]}),t.jsxs(W,{children:[t.jsx("div",{className:"text-2xl font-bold text-orange-900",children:re(e.averageDealSize)}),t.jsxs("p",{className:"text-xs text-orange-600 flex items-center mt-1",children:[t.jsx(Ke,{className:"h-3 w-3 mr-1"}),e.averageSalesCycle.toFixed(0)," day cycle"]})]})]})]}),t.jsxs(U,{className:"shadow-sm",children:[t.jsxs(G,{children:[t.jsx(q,{children:"Stage Conversion Rates"}),t.jsx(oe,{children:"Conversion rates and average time spent in each stage"})]}),t.jsx(W,{children:t.jsx("div",{className:"space-y-6",children:e.conversionRates.map((s,r)=>t.jsxs("div",{className:"space-y-2",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsxs("span",{className:"text-sm font-medium capitalize",children:[s.fromStage.replace("_"," ")," → ",s.toStage.replace("_"," ")]}),t.jsxs("span",{className:`text-sm font-bold ${n(s.rate)}`,children:[s.rate.toFixed(1),"%"]})]}),t.jsxs("div",{className:"flex items-center space-x-2 text-xs text-muted-foreground",children:[t.jsx(Ke,{className:"h-3 w-3"}),t.jsxs("span",{children:[s.averageDuration,"h avg"]})]})]}),t.jsx(Qr,{value:s.rate,className:"h-2"})]},`${s.fromStage}-${s.toStage}`))})})]}),t.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[t.jsxs(U,{className:"shadow-sm",children:[t.jsxs(G,{children:[t.jsx(q,{children:"Pipeline Health"}),t.jsx(oe,{children:"Key performance indicators"})]}),t.jsx(W,{children:t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"flex items-center justify-between p-3 bg-green-50 rounded-lg",children:[t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(De,{className:"h-4 w-4 text-green-600"}),t.jsx("span",{className:"text-sm font-medium text-green-900",children:"Win Rate"})]}),t.jsxs("span",{className:"text-lg font-bold text-green-600",children:[e.winRate.toFixed(1),"%"]})]}),t.jsxs("div",{className:"flex items-center justify-between p-3 bg-blue-50 rounded-lg",children:[t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(Ve,{className:"h-4 w-4 text-blue-600"}),t.jsx("span",{className:"text-sm font-medium text-blue-900",children:"Average Deal Size"})]}),t.jsx("span",{className:"text-lg font-bold text-blue-600",children:re(e.averageDealSize)})]}),t.jsxs("div",{className:"flex items-center justify-between p-3 bg-purple-50 rounded-lg",children:[t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(Ke,{className:"h-4 w-4 text-purple-600"}),t.jsx("span",{className:"text-sm font-medium text-purple-900",children:"Sales Cycle"})]}),t.jsxs("span",{className:"text-lg font-bold text-purple-600",children:[e.averageSalesCycle.toFixed(0)," days"]})]})]})})]}),t.jsxs(U,{className:"shadow-sm",children:[t.jsxs(G,{children:[t.jsx(q,{children:"Deal Breakdown"}),t.jsx(oe,{children:"Current pipeline composition"})]}),t.jsx(W,{children:t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-sm text-muted-foreground",children:"Total Deals"}),t.jsx("span",{className:"font-bold",children:e.totalDeals})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-sm text-muted-foreground",children:"Won Deals"}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("span",{className:"font-bold text-green-600",children:e.wonDeals}),t.jsxs("span",{className:"text-xs text-green-600",children:["(",re(e.wonValue),")"]})]})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-sm text-muted-foreground",children:"Lost Deals"}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("span",{className:"font-bold text-red-600",children:e.lostDeals}),t.jsxs("span",{className:"text-xs text-red-600",children:["(",re(e.lostValue),")"]})]})]}),t.jsx("div",{className:"pt-2 border-t",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-sm font-medium",children:"Active Pipeline"}),t.jsx("span",{className:"font-bold text-primary",children:re(e.totalValue-e.wonValue-e.lostValue)})]})})]})})]})]})]})}const KF=["Best Price","Superior Product Features","Excellent Service","Strong Relationship","Competitive Financing","Quick Delivery","Brand Reputation","Referral/Recommendation"],YF=["Price Too High","Lost to Competitor","Budget Constraints","Timing Issues","Product Limitations","Service Concerns","Decision Delayed","Requirements Changed"],XF=["Camping World","Lazydays","General RV","PPL Motor Homes","Local Dealer","Private Seller","Other"];function JF({deals:e,winLossReports:n,onCreateReport:s}){const[r,a]=f.useState(!1),[i,l]=f.useState(null),[o,c]=f.useState({outcome:"won",primaryReason:"",secondaryReasons:[],competitorWon:"",feedback:"",lessonsLearned:[],actionItems:[]}),d=e.filter(k=>k.status==="won"||k.status==="lost"),m=e.filter(k=>k.status==="won"),u=e.filter(k=>k.status==="lost"),p=d.length>0?m.length/d.length*100:0,h=m.length>0?m.reduce((k,I)=>k+I.value,0)/m.length:0,v=u.length>0?u.reduce((k,I)=>k+I.value,0)/u.length:0,j=k=>{l(k),c({...o,outcome:k.status==="won"?"won":"lost"}),a(!0)},y=()=>{i&&(s(i.id,o.outcome,o),a(!1),l(null),c({outcome:"won",primaryReason:"",secondaryReasons:[],competitorWon:"",feedback:"",lessonsLearned:[],actionItems:[]}))},g=(k,I,w)=>{I.trim()&&!k.includes(I.trim())&&w([...k,I.trim()])},x=(k,I,w)=>{w(k.filter((S,C)=>C!==I))},b=k=>{const I=n.filter(S=>S.outcome===k),w={};return I.forEach(S=>{w[S.primaryReason]=(w[S.primaryReason]||0)+1}),Object.entries(w).sort(([,S],[,C])=>C-S).slice(0,5).map(([S,C])=>({reason:S,count:C,percentage:I.length>0?C/I.length*100:0}))},T=b("won"),L=b("lost");return t.jsxs("div",{className:"space-y-6",children:[r&&i&&t.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:t.jsxs(U,{className:"w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[t.jsx(G,{children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx(q,{children:"Win/Loss Report"}),t.jsxs(oe,{children:[i.name," - ",re(i.value)]})]}),t.jsx($,{variant:"ghost",size:"sm",onClick:()=>a(!1),children:t.jsx(nt,{className:"h-4 w-4"})})]})}),t.jsxs(W,{className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx(Q,{children:"Outcome"}),t.jsxs(ge,{value:o.outcome,onValueChange:k=>c(I=>({...I,outcome:k})),children:[t.jsx(he,{children:t.jsx(ve,{})}),t.jsxs(xe,{children:[t.jsx(O,{value:"won",children:"Won"}),t.jsx(O,{value:"lost",children:"Lost"})]})]})]}),t.jsxs("div",{children:[t.jsx(Q,{children:"Primary Reason"}),t.jsxs(ge,{value:o.primaryReason,onValueChange:k=>c(I=>({...I,primaryReason:k})),children:[t.jsx(he,{children:t.jsx(ve,{placeholder:"Select primary reason"})}),t.jsx(xe,{children:(o.outcome==="won"?KF:YF).map(k=>t.jsx(O,{value:k,children:k},k))})]})]}),o.outcome==="lost"&&t.jsxs("div",{children:[t.jsx(Q,{children:"Competitor Won"}),t.jsxs(ge,{value:o.competitorWon,onValueChange:k=>c(I=>({...I,competitorWon:k})),children:[t.jsx(he,{children:t.jsx(ve,{placeholder:"Select competitor"})}),t.jsx(xe,{children:XF.map(k=>t.jsx(O,{value:k,children:k},k))})]})]}),t.jsxs("div",{children:[t.jsx(Q,{children:"Customer Feedback"}),t.jsx(Ze,{value:o.feedback,onChange:k=>c(I=>({...I,feedback:k.target.value})),placeholder:"What did the customer say about their decision?",rows:3})]}),t.jsxs("div",{children:[t.jsx(Q,{children:"Lessons Learned"}),t.jsxs("div",{className:"space-y-2",children:[t.jsxs("div",{className:"flex space-x-2",children:[t.jsx(J,{placeholder:"Add a lesson learned",onKeyDown:k=>{if(k.key==="Enter"){k.preventDefault();const I=k.currentTarget;g(o.lessonsLearned,I.value,w=>c(S=>({...S,lessonsLearned:w}))),I.value=""}}}),t.jsx($,{type:"button",variant:"outline",onClick:k=>{const I=k.currentTarget.previousElementSibling;g(o.lessonsLearned,I.value,w=>c(S=>({...S,lessonsLearned:w}))),I.value=""},children:t.jsx(Re,{className:"h-4 w-4"})})]}),t.jsx("div",{className:"flex flex-wrap gap-2",children:o.lessonsLearned.map((k,I)=>t.jsxs(Z,{variant:"secondary",className:"flex items-center gap-1",children:[k,t.jsx(nt,{className:"h-3 w-3 cursor-pointer",onClick:()=>x(o.lessonsLearned,I,w=>c(S=>({...S,lessonsLearned:w})))})]},I))})]})]}),t.jsxs("div",{children:[t.jsx(Q,{children:"Action Items"}),t.jsxs("div",{className:"space-y-2",children:[t.jsxs("div",{className:"flex space-x-2",children:[t.jsx(J,{placeholder:"Add an action item",onKeyDown:k=>{if(k.key==="Enter"){k.preventDefault();const I=k.currentTarget;g(o.actionItems,I.value,w=>c(S=>({...S,actionItems:w}))),I.value=""}}}),t.jsx($,{type:"button",variant:"outline",onClick:k=>{const I=k.currentTarget.previousElementSibling;g(o.actionItems,I.value,w=>c(S=>({...S,actionItems:w}))),I.value=""},children:t.jsx(Re,{className:"h-4 w-4"})})]}),t.jsx("div",{className:"flex flex-wrap gap-2",children:o.actionItems.map((k,I)=>t.jsxs(Z,{variant:"secondary",className:"flex items-center gap-1",children:[k,t.jsx(nt,{className:"h-3 w-3 cursor-pointer",onClick:()=>x(o.actionItems,I,w=>c(S=>({...S,actionItems:w})))})]},I))})]})]}),t.jsxs("div",{className:"flex justify-end space-x-3 pt-6 border-t",children:[t.jsx($,{variant:"outline",onClick:()=>a(!1),children:"Cancel"}),t.jsxs($,{onClick:y,children:[t.jsx(Dn,{className:"h-4 w-4 mr-2"}),"Save Report"]})]})]})]})}),t.jsxs("div",{className:"grid gap-4 md:grid-cols-4",children:[t.jsxs(U,{className:"shadow-sm border-0 bg-gradient-to-br from-blue-50 to-blue-100/50",children:[t.jsxs(G,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[t.jsx(q,{className:"text-sm font-medium text-blue-900",children:"Win Rate"}),t.jsx(fn,{className:"h-4 w-4 text-blue-600"})]}),t.jsxs(W,{children:[t.jsxs("div",{className:"text-2xl font-bold text-blue-900",children:[p.toFixed(1),"%"]}),t.jsxs("p",{className:"text-xs text-blue-600 flex items-center mt-1",children:[t.jsx(Jn,{className:"h-3 w-3 mr-1"}),d.length," closed deals"]})]})]}),t.jsxs(U,{className:"shadow-sm border-0 bg-gradient-to-br from-green-50 to-green-100/50",children:[t.jsxs(G,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[t.jsx(q,{className:"text-sm font-medium text-green-900",children:"Won Deals"}),t.jsx(De,{className:"h-4 w-4 text-green-600"})]}),t.jsxs(W,{children:[t.jsx("div",{className:"text-2xl font-bold text-green-900",children:m.length}),t.jsxs("p",{className:"text-xs text-green-600 flex items-center mt-1",children:[t.jsx(De,{className:"h-3 w-3 mr-1"}),re(h)," avg"]})]})]}),t.jsxs(U,{className:"shadow-sm border-0 bg-gradient-to-br from-red-50 to-red-100/50",children:[t.jsxs(G,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[t.jsx(q,{className:"text-sm font-medium text-red-900",children:"Lost Deals"}),t.jsx(xu,{className:"h-4 w-4 text-red-600"})]}),t.jsxs(W,{children:[t.jsx("div",{className:"text-2xl font-bold text-red-900",children:u.length}),t.jsxs("p",{className:"text-xs text-red-600 flex items-center mt-1",children:[t.jsx(xu,{className:"h-3 w-3 mr-1"}),re(v)," avg"]})]})]}),t.jsxs(U,{className:"shadow-sm border-0 bg-gradient-to-br from-purple-50 to-purple-100/50",children:[t.jsxs(G,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[t.jsx(q,{className:"text-sm font-medium text-purple-900",children:"Reports"}),t.jsx(Jn,{className:"h-4 w-4 text-purple-600"})]}),t.jsxs(W,{children:[t.jsx("div",{className:"text-2xl font-bold text-purple-900",children:n.length}),t.jsxs("p",{className:"text-xs text-purple-600 flex items-center mt-1",children:[t.jsx(Jn,{className:"h-3 w-3 mr-1"}),"Completed reports"]})]})]})]}),t.jsxs(bt,{defaultValue:"analysis",className:"space-y-6",children:[t.jsxs(jt,{children:[t.jsx(je,{value:"analysis",children:"Analysis"}),t.jsx(je,{value:"closed-deals",children:"Closed Deals"}),t.jsx(je,{value:"reports",children:"Reports"})]}),t.jsxs(we,{value:"analysis",className:"space-y-6",children:[t.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[t.jsxs(U,{className:"shadow-sm",children:[t.jsxs(G,{children:[t.jsxs(q,{className:"flex items-center",children:[t.jsx(De,{className:"h-5 w-5 mr-2 text-green-500"}),"Win Reasons"]}),t.jsx(oe,{children:"Top reasons for winning deals"})]}),t.jsx(W,{children:t.jsx("div",{className:"space-y-4",children:T.length>0?T.map((k,I)=>t.jsxs("div",{className:"space-y-1",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-sm font-medium",children:k.reason}),t.jsxs("span",{className:"text-sm text-green-600",children:[k.percentage.toFixed(0),"%"]})]}),t.jsx(Qr,{value:k.percentage,className:"h-2"})]},I)):t.jsx("div",{className:"text-center py-6 text-muted-foreground",children:"No win reports available"})})})]}),t.jsxs(U,{className:"shadow-sm",children:[t.jsxs(G,{children:[t.jsxs(q,{className:"flex items-center",children:[t.jsx(xu,{className:"h-5 w-5 mr-2 text-red-500"}),"Loss Reasons"]}),t.jsx(oe,{children:"Top reasons for losing deals"})]}),t.jsx(W,{children:t.jsx("div",{className:"space-y-4",children:L.length>0?L.map((k,I)=>t.jsxs("div",{className:"space-y-1",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-sm font-medium",children:k.reason}),t.jsxs("span",{className:"text-sm text-red-600",children:[k.percentage.toFixed(0),"%"]})]}),t.jsx(Qr,{value:k.percentage,className:"h-2"})]},I)):t.jsx("div",{className:"text-center py-6 text-muted-foreground",children:"No loss reports available"})})})]})]}),t.jsxs(U,{className:"shadow-sm",children:[t.jsxs(G,{children:[t.jsx(q,{children:"Lessons Learned"}),t.jsx(oe,{children:"Key insights from win/loss reports"})]}),t.jsx(W,{children:n.length>0?t.jsx("div",{className:"space-y-4",children:n.slice(0,5).map((k,I)=>t.jsxs("div",{className:"p-3 rounded-lg bg-muted/30",children:[t.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[k.outcome==="won"?t.jsx(Z,{className:"bg-green-50 text-green-700 border-green-200",children:"WON"}):t.jsx(Z,{className:"bg-red-50 text-red-700 border-red-200",children:"LOST"}),t.jsx("span",{className:"text-sm font-medium",children:k.primaryReason})]}),t.jsx("div",{className:"space-y-2",children:k.lessonsLearned.map((w,S)=>t.jsxs("p",{className:"text-sm text-muted-foreground",children:["• ",w]},S))})]},I))}):t.jsx("div",{className:"text-center py-6 text-muted-foreground",children:"No lessons learned available"})})]})]}),t.jsx(we,{value:"closed-deals",className:"space-y-6",children:t.jsxs(U,{className:"shadow-sm",children:[t.jsxs(G,{children:[t.jsx(q,{children:"Recently Closed Deals"}),t.jsx(oe,{children:"Deals that have been won or lost"})]}),t.jsx(W,{children:t.jsx("div",{className:"space-y-4",children:d.length>0?d.map(k=>t.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg hover:bg-accent/50 transition-colors",children:[t.jsxs("div",{className:"flex-1",children:[t.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[t.jsx("h3",{className:"font-semibold",children:k.name}),t.jsx(Z,{className:k.status==="won"?"bg-green-50 text-green-700 border-green-200":"bg-red-50 text-red-700 border-red-200",children:k.status.toUpperCase()})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm text-muted-foreground",children:[t.jsxs("div",{children:[t.jsx("span",{className:"font-medium",children:"Customer:"})," ",k.customerName]}),t.jsxs("div",{children:[t.jsx("span",{className:"font-medium",children:"Value:"})," ",re(k.value)]}),t.jsxs("div",{children:[t.jsx("span",{className:"font-medium",children:"Closed:"})," ",k.actualCloseDate?Pe(k.actualCloseDate):"N/A"]}),t.jsxs("div",{children:[t.jsx("span",{className:"font-medium",children:"Rep:"})," ",k.assignedTo]})]})]}),t.jsxs($,{variant:"outline",size:"sm",onClick:()=>j(k),className:"shadow-sm",children:[t.jsx(Re,{className:"h-3 w-3 mr-1"}),"Report"]})]},k.id)):t.jsx("div",{className:"text-center py-6 text-muted-foreground",children:"No closed deals available"})})})]})}),t.jsx(we,{value:"reports",className:"space-y-6",children:t.jsxs(U,{className:"shadow-sm",children:[t.jsxs(G,{children:[t.jsx(q,{children:"Win/Loss Reports"}),t.jsx(oe,{children:"Detailed reports on won and lost deals"})]}),t.jsx(W,{children:t.jsx("div",{className:"space-y-4",children:n.length>0?n.map(k=>{const I=e.find(w=>w.id===k.dealId);return t.jsxs("div",{className:"p-4 border rounded-lg hover:bg-accent/50 transition-colors",children:[t.jsxs("div",{className:"flex items-center justify-between mb-3",children:[t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx(Z,{className:k.outcome==="won"?"bg-green-50 text-green-700 border-green-200":"bg-red-50 text-red-700 border-red-200",children:k.outcome.toUpperCase()}),t.jsx("h3",{className:"font-semibold",children:(I==null?void 0:I.name)||"Unknown Deal"})]}),t.jsx("span",{className:"text-sm text-muted-foreground",children:Pe(k.reportedAt)})]}),t.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[t.jsxs("div",{children:[t.jsx("h4",{className:"text-sm font-medium mb-2",children:"Reasons"}),t.jsxs("div",{className:"space-y-1",children:[t.jsxs("p",{className:"text-sm",children:[t.jsx("span",{className:"font-medium",children:"Primary:"})," ",k.primaryReason]}),k.secondaryReasons.length>0&&t.jsxs("p",{className:"text-sm",children:[t.jsx("span",{className:"font-medium",children:"Secondary:"})," ",k.secondaryReasons.join(", ")]}),k.competitorWon&&t.jsxs("p",{className:"text-sm",children:[t.jsx("span",{className:"font-medium",children:"Competitor:"})," ",k.competitorWon]})]})]}),t.jsxs("div",{children:[t.jsx("h4",{className:"text-sm font-medium mb-2",children:"Feedback"}),t.jsx("p",{className:"text-sm text-muted-foreground",children:k.feedback})]})]}),t.jsxs("div",{className:"mt-4 pt-4 border-t",children:[t.jsx("h4",{className:"text-sm font-medium mb-2",children:"Lessons & Action Items"}),t.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[t.jsxs("div",{children:[t.jsx("h5",{className:"text-xs font-medium text-muted-foreground mb-1",children:"Lessons Learned:"}),t.jsx("ul",{className:"text-sm space-y-1",children:k.lessonsLearned.map((w,S)=>t.jsxs("li",{children:["• ",w]},S))})]}),t.jsxs("div",{children:[t.jsx("h5",{className:"text-xs font-medium text-muted-foreground mb-1",children:"Action Items:"}),t.jsx("ul",{className:"text-sm space-y-1",children:k.actionItems.map((w,S)=>t.jsxs("li",{children:["• ",w]},S))})]})]})]})]},k.id)}):t.jsx("div",{className:"text-center py-6 text-muted-foreground",children:"No win/loss reports available"})})})]})})]})]})}function ZF({deal:e,onClose:n,onEdit:s}){const r=o=>{switch(o){case qe.ACTIVE:return"bg-blue-50 text-blue-700 border-blue-200";case qe.WON:return"bg-green-50 text-green-700 border-green-200";case qe.LOST:return"bg-red-50 text-red-700 border-red-200";case qe.ON_HOLD:return"bg-yellow-50 text-yellow-700 border-yellow-200";case qe.CANCELLED:return"bg-gray-50 text-gray-700 border-gray-200";default:return"bg-gray-50 text-gray-700 border-gray-200"}},a=o=>{switch(o){case gs.CRITICAL:return"bg-red-50 text-red-700 border-red-200";case gs.HIGH:return"bg-orange-50 text-orange-700 border-orange-200";case gs.MEDIUM:return"bg-yellow-50 text-yellow-700 border-yellow-200";case gs.LOW:return"bg-green-50 text-green-700 border-green-200";default:return"bg-gray-50 text-gray-700 border-gray-200"}},i=o=>{switch(o){case Se.PROSPECTING:return"bg-blue-50 text-blue-700 border-blue-200";case Se.QUALIFICATION:return"bg-yellow-50 text-yellow-700 border-yellow-200";case Se.NEEDS_ANALYSIS:return"bg-orange-50 text-orange-700 border-orange-200";case Se.PROPOSAL:return"bg-purple-50 text-purple-700 border-purple-200";case Se.NEGOTIATION:return"bg-indigo-50 text-indigo-700 border-indigo-200";case Se.CLOSED_WON:return"bg-green-50 text-green-700 border-green-200";case Se.CLOSED_LOST:return"bg-red-50 text-red-700 border-red-200";default:return"bg-gray-50 text-gray-700 border-gray-200"}},l=o=>new Date(o.expectedCloseDate)<new Date&&o.status===qe.ACTIVE;return t.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:t.jsxs(U,{className:"w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[t.jsx(G,{children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx(q,{className:"text-xl",children:e.name}),t.jsx(oe,{children:"Deal details and information"})]}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsxs($,{onClick:()=>s(e),size:"sm",children:[t.jsx(zt,{className:"h-4 w-4 mr-2"}),"Edit Deal"]}),t.jsx($,{variant:"ghost",size:"sm",onClick:n,children:t.jsx(nt,{className:"h-4 w-4"})})]})]})}),t.jsxs(W,{className:"space-y-6",children:[t.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[t.jsx(Z,{className:ae("ri-badge-status",r(e.status)),children:e.status.toUpperCase()}),t.jsx(Z,{className:ae("ri-badge-status",i(e.stage)),children:e.stage.replace("_"," ").toUpperCase()}),t.jsx(Z,{className:ae("ri-badge-status",a(e.priority)),children:e.priority.toUpperCase()}),l(e)&&t.jsxs(Z,{className:"bg-red-50 text-red-700 border-red-200",children:[t.jsx(Zn,{className:"h-3 w-3 mr-1"}),"OVERDUE"]}),e.requiresApproval&&t.jsx(Z,{className:"bg-orange-50 text-orange-700 border-orange-200",children:"REQUIRES APPROVAL"})]}),t.jsxs(bt,{defaultValue:"overview",className:"space-y-4",children:[t.jsxs(jt,{children:[t.jsx(je,{value:"overview",children:"Overview"}),t.jsx(je,{value:"products",children:"Products"}),t.jsx(je,{value:"history",children:"History"})]}),t.jsxs(we,{value:"overview",className:"space-y-4",children:[t.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[t.jsxs("div",{children:[t.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Customer"}),t.jsx("p",{className:"font-medium",children:e.customerName})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Value"}),t.jsx("p",{className:"font-bold text-primary text-lg",children:re(e.value)})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Probability"}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(fn,{className:"h-4 w-4 text-blue-500"}),t.jsxs("p",{className:"font-medium",children:[e.probability,"%"]})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Expected Close"}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(It,{className:"h-4 w-4 text-purple-500"}),t.jsx("p",{className:"font-medium",children:Pe(e.expectedCloseDate)})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Assigned To"}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(Wn,{className:"h-4 w-4 text-green-500"}),t.jsx("p",{className:"font-medium",children:e.assignedTo||"Unassigned"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Territory"}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(Ka,{className:"h-4 w-4 text-orange-500"}),t.jsx("p",{className:"font-medium",children:e.territoryId||"No Territory"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Created"}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(Ke,{className:"h-4 w-4 text-blue-500"}),t.jsx("p",{className:"font-medium",children:Pe(e.createdAt)})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Last Updated"}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(Ke,{className:"h-4 w-4 text-blue-500"}),t.jsx("p",{className:"font-medium",children:Pe(e.updatedAt)})]})]})]}),e.notes&&t.jsxs("div",{children:[t.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Notes"}),t.jsx("div",{className:"mt-1 p-3 bg-muted/30 rounded-md",children:t.jsx("p",{className:"text-sm whitespace-pre-wrap",children:e.notes})})]}),Object.keys(e.customFields||{}).length>0&&t.jsxs("div",{children:[t.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Custom Fields"}),t.jsx("div",{className:"mt-1 grid gap-2 md:grid-cols-2",children:Object.entries(e.customFields||{}).map(([o,c])=>t.jsxs("div",{className:"p-2 bg-muted/30 rounded-md",children:[t.jsxs("span",{className:"text-sm font-medium capitalize",children:[o.replace(/([A-Z])/g," $1").trim(),": "]}),t.jsx("span",{className:"text-sm",children:c==null?void 0:c.toString()})]},o))})]})]}),t.jsxs(we,{value:"products",className:"space-y-4",children:[t.jsx("h3",{className:"text-lg font-semibold",children:"Products & Services"}),e.products&&e.products.length>0?t.jsxs("div",{className:"space-y-3",children:[e.products.map(o=>t.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[t.jsxs("div",{className:"flex-1",children:[t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(Xt,{className:"h-4 w-4 text-blue-500"}),t.jsx("span",{className:"font-medium",children:o.productName})]}),t.jsxs("div",{className:"flex items-center space-x-4 mt-1 text-sm text-muted-foreground",children:[t.jsxs("span",{children:["Quantity: ",o.quantity]}),t.jsxs("span",{children:["Unit Price: ",re(o.unitPrice)]}),o.discount>0&&t.jsxs("span",{className:"text-green-600",children:["Discount: ",re(o.discount)]})]})]}),t.jsx("div",{className:"text-right",children:t.jsx("div",{className:"font-bold",children:re(o.total)})})]},o.id)),t.jsx("div",{className:"flex justify-end p-3 bg-muted/30 rounded-lg",children:t.jsxs("div",{className:"text-right",children:[t.jsx("span",{className:"text-sm font-medium",children:"Total Deal Value: "}),t.jsx("span",{className:"text-lg font-bold text-primary",children:re(e.value)})]})})]}):t.jsxs("div",{className:"text-center py-8 text-muted-foreground border-2 border-dashed rounded-lg",children:[t.jsx(Xt,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground/50"}),t.jsx("p",{children:"No products added to this deal"}),t.jsx("p",{className:"text-sm",children:"Edit the deal to add products"})]})]}),t.jsxs(we,{value:"history",className:"space-y-4",children:[t.jsx("h3",{className:"text-lg font-semibold",children:"Stage History"}),e.stageHistory&&e.stageHistory.length>0?t.jsx("div",{className:"space-y-3",children:e.stageHistory.map((o,c)=>t.jsxs("div",{className:"relative",children:[c<e.stageHistory.length-1&&t.jsx("div",{className:"absolute left-4 top-8 bottom-0 w-px bg-border"}),t.jsxs("div",{className:"flex items-start space-x-3",children:[t.jsx("div",{className:"flex-shrink-0 w-8 h-8 rounded-full bg-primary flex items-center justify-center text-primary-foreground",children:c+1}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[t.jsx("span",{className:"font-medium capitalize",children:o.fromStage?`${o.fromStage.replace("_"," ")} → ${o.toStage.replace("_"," ")}`:`Started at ${o.toStage.replace("_"," ")}`}),t.jsx("span",{className:"text-xs text-muted-foreground",children:Pe(o.changedAt)})]}),o.duration!==void 0&&t.jsxs("div",{className:"text-sm text-muted-foreground",children:["Duration: ",o.duration," hours"]}),o.notes&&t.jsx("div",{className:"mt-1 text-sm bg-muted/30 p-2 rounded-md",children:o.notes})]})]})]},c))}):t.jsxs("div",{className:"text-center py-8 text-muted-foreground border-2 border-dashed rounded-lg",children:[t.jsx(Ke,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground/50"}),t.jsx("p",{children:"No stage history available"})]})]})]}),t.jsxs("div",{className:"flex justify-end space-x-3 pt-6 border-t",children:[t.jsx($,{variant:"outline",onClick:n,children:"Close"}),t.jsxs($,{onClick:()=>s(e),children:[t.jsx(zt,{className:"h-4 w-4 mr-2"}),"Edit Deal"]})]})]})]})})}function eO({territories:e,salesReps:n,deals:s,onCreateTerritory:r,onUpdateTerritory:a,onDeleteTerritory:i}){var k,I,w;const[l,o]=f.useState(!1),[c,d]=f.useState(null),[m,u]=f.useState({name:"",type:Xs.GEOGRAPHIC,description:"",assignedTo:[],rules:[],isActive:!0}),[p,h]=f.useState({field:"",operator:"equals",value:"",priority:1}),v=()=>{d(null),u({name:"",type:Xs.GEOGRAPHIC,description:"",assignedTo:[],rules:[],isActive:!0}),o(!0)},j=S=>{d(S),u({name:S.name,type:S.type,description:S.description,assignedTo:[...S.assignedTo],rules:[...S.rules],isActive:S.isActive}),o(!0)},y=()=>{m.name&&(c?a(c.id,m):r(m),o(!1),d(null),u({name:"",type:Xs.GEOGRAPHIC,description:"",assignedTo:[],rules:[],isActive:!0}))},g=()=>{if(!p.field||!p.operator)return;const S={id:Math.random().toString(36).substr(2,9),field:p.field,operator:p.operator,value:p.value,priority:p.priority||1};u(C=>({...C,rules:[...C.rules||[],S]})),h({field:"",operator:"equals",value:"",priority:1})},x=S=>{u(C=>{var E;return{...C,rules:((E=C.rules)==null?void 0:E.filter(N=>N.id!==S))||[]}})},b=(S,C)=>{u(C?E=>({...E,assignedTo:[...E.assignedTo||[],S]}):E=>{var N;return{...E,assignedTo:((N=E.assignedTo)==null?void 0:N.filter(D=>D!==S))||[]}})},T=S=>s.filter(E=>E.territoryId===S).length,L=S=>{const C=e.find(E=>E.id===S);return C?n.filter(E=>C.assignedTo.includes(E.id)):[]};return t.jsxs("div",{className:"space-y-6",children:[l&&t.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:t.jsxs(U,{className:"w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[t.jsx(G,{children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx(q,{children:c?"Edit Territory":"Create Territory"}),t.jsx(oe,{children:c?"Update territory details and rules":"Define a new sales territory"})]}),t.jsx($,{variant:"ghost",size:"sm",onClick:()=>o(!1),children:t.jsx(nt,{className:"h-4 w-4"})})]})}),t.jsxs(W,{className:"space-y-6",children:[t.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[t.jsxs("div",{children:[t.jsx(Q,{htmlFor:"name",children:"Territory Name *"}),t.jsx(J,{id:"name",value:m.name,onChange:S=>u(C=>({...C,name:S.target.value})),placeholder:"e.g., North Region"})]}),t.jsxs("div",{children:[t.jsx(Q,{htmlFor:"type",children:"Territory Type"}),t.jsxs(ge,{value:m.type,onValueChange:S=>u(C=>({...C,type:S})),children:[t.jsx(he,{children:t.jsx(ve,{})}),t.jsxs(xe,{children:[t.jsx(O,{value:Xs.GEOGRAPHIC,children:"Geographic"}),t.jsx(O,{value:Xs.INDUSTRY,children:"Industry"}),t.jsx(O,{value:Xs.ACCOUNT_SIZE,children:"Account Size"}),t.jsx(O,{value:Xs.PRODUCT_LINE,children:"Product Line"})]})]})]})]}),t.jsxs("div",{children:[t.jsx(Q,{htmlFor:"description",children:"Description"}),t.jsx(Ze,{id:"description",value:m.description,onChange:S=>u(C=>({...C,description:S.target.value})),placeholder:"Describe the territory",rows:3})]}),t.jsxs("div",{children:[t.jsx("div",{className:"flex items-center justify-between mb-4",children:t.jsx(Q,{children:"Territory Rules"})}),t.jsxs("div",{className:"space-y-4",children:[(k=m.rules)==null?void 0:k.map(S=>t.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[t.jsxs("div",{className:"flex-1",children:[t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("span",{className:"font-medium",children:S.field}),t.jsx("span",{className:"text-muted-foreground",children:S.operator}),t.jsx("span",{children:S.value.toString()})]}),t.jsxs("div",{className:"text-xs text-muted-foreground mt-1",children:["Priority: ",S.priority]})]}),t.jsx($,{variant:"ghost",size:"sm",onClick:()=>x(S.id),children:t.jsx(Un,{className:"h-4 w-4 text-red-500"})})]},S.id)),t.jsx(U,{className:"border-dashed",children:t.jsxs(W,{className:"pt-6",children:[t.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[t.jsxs("div",{children:[t.jsx(Q,{children:"Field"}),t.jsxs(ge,{value:p.field,onValueChange:S=>h(C=>({...C,field:S})),children:[t.jsx(he,{children:t.jsx(ve,{placeholder:"Select field"})}),t.jsxs(xe,{children:[t.jsx(O,{value:"state",children:"State"}),t.jsx(O,{value:"zipCode",children:"Zip Code"}),t.jsx(O,{value:"country",children:"Country"}),t.jsx(O,{value:"industry",children:"Industry"}),t.jsx(O,{value:"dealSize",children:"Deal Size"}),t.jsx(O,{value:"productType",children:"Product Type"})]})]})]}),t.jsxs("div",{children:[t.jsx(Q,{children:"Operator"}),t.jsxs(ge,{value:p.operator,onValueChange:S=>h(C=>({...C,operator:S})),children:[t.jsx(he,{children:t.jsx(ve,{})}),t.jsxs(xe,{children:[t.jsx(O,{value:"equals",children:"Equals"}),t.jsx(O,{value:"contains",children:"Contains"}),t.jsx(O,{value:"starts_with",children:"Starts With"}),t.jsx(O,{value:"in_range",children:"In Range"}),t.jsx(O,{value:"greater_than",children:"Greater Than"}),t.jsx(O,{value:"less_than",children:"Less Than"})]})]})]})]}),t.jsxs("div",{className:"mt-4",children:[t.jsx(Q,{children:"Value"}),t.jsx(J,{value:((I=p.value)==null?void 0:I.toString())||"",onChange:S=>h(C=>({...C,value:S.target.value})),placeholder:"Rule value"}),t.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"For multiple values, separate with commas"})]}),t.jsxs("div",{className:"mt-4",children:[t.jsx(Q,{children:"Priority"}),t.jsxs(ge,{value:((w=p.priority)==null?void 0:w.toString())||"1",onValueChange:S=>h(C=>({...C,priority:parseInt(S)})),children:[t.jsx(he,{children:t.jsx(ve,{})}),t.jsxs(xe,{children:[t.jsx(O,{value:"1",children:"1 - Highest"}),t.jsx(O,{value:"2",children:"2"}),t.jsx(O,{value:"3",children:"3"}),t.jsx(O,{value:"4",children:"4"}),t.jsx(O,{value:"5",children:"5 - Lowest"})]})]})]}),t.jsx("div",{className:"flex justify-end mt-4",children:t.jsxs($,{onClick:g,children:[t.jsx(Re,{className:"h-4 w-4 mr-2"}),"Add Rule"]})})]})})]})]}),t.jsxs("div",{children:[t.jsx(Q,{className:"mb-2 block",children:"Assign Sales Reps"}),t.jsx("div",{className:"space-y-2 max-h-40 overflow-y-auto p-2 border rounded-lg",children:n.map(S=>{var C;return t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(Je,{id:`rep-${S.id}`,checked:(C=m.assignedTo)==null?void 0:C.includes(S.id),onCheckedChange:E=>b(S.id,!!E)}),t.jsx(Q,{htmlFor:`rep-${S.id}`,className:"text-sm cursor-pointer",children:S.name})]},S.id)})})]}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(Je,{id:"isActive",checked:m.isActive,onCheckedChange:S=>u(C=>({...C,isActive:!!S}))}),t.jsx(Q,{htmlFor:"isActive",children:"Active territory"})]}),t.jsxs("div",{className:"flex justify-end space-x-3 pt-6 border-t",children:[t.jsx($,{variant:"outline",onClick:()=>o(!1),children:"Cancel"}),t.jsxs($,{onClick:y,children:[t.jsx(Dn,{className:"h-4 w-4 mr-2"}),c?"Update":"Create"," Territory"]})]})]})]})}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("h2",{className:"text-2xl font-bold",children:"Territory Management"}),t.jsx("p",{className:"text-muted-foreground",children:"Define and manage sales territories and assignment rules"})]}),t.jsxs($,{onClick:v,children:[t.jsx(Re,{className:"h-4 w-4 mr-2"}),"Create Territory"]})]}),t.jsxs("div",{className:"space-y-6",children:[e.map(S=>t.jsxs(U,{className:"shadow-sm",children:[t.jsx(G,{children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx(q,{children:S.name}),t.jsx(Z,{className:S.isActive?"bg-green-50 text-green-700 border-green-200":"bg-gray-50 text-gray-700 border-gray-200",children:S.isActive?"Active":"Inactive"}),t.jsx(Z,{variant:"outline",children:S.type.replace("_"," ")})]}),t.jsx(oe,{className:"mt-1",children:S.description})]}),t.jsx("div",{className:"flex space-x-2",children:t.jsxs($,{variant:"outline",size:"sm",onClick:()=>j(S),children:[t.jsx(zt,{className:"h-4 w-4 mr-2"}),"Edit"]})})]})}),t.jsx(W,{children:t.jsxs("div",{className:"grid gap-6 md:grid-cols-3",children:[t.jsxs("div",{children:[t.jsx("h3",{className:"text-sm font-semibold mb-3",children:"Territory Rules"}),t.jsxs("div",{className:"space-y-2",children:[S.rules.map(C=>t.jsx("div",{className:"p-2 bg-muted/30 rounded-lg text-sm",children:t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("span",{className:"font-medium",children:C.field}),t.jsx("span",{className:"text-muted-foreground",children:C.operator}),t.jsx("span",{children:C.value.toString()})]})},C.id)),S.rules.length===0&&t.jsx("p",{className:"text-sm text-muted-foreground",children:"No rules defined"})]})]}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-sm font-semibold mb-3",children:"Assigned Sales Reps"}),t.jsxs("div",{className:"space-y-2",children:[L(S.id).map(C=>t.jsxs("div",{className:"flex items-center space-x-2 p-2 bg-muted/30 rounded-lg",children:[t.jsx(Dt,{className:"h-4 w-4 text-blue-500"}),t.jsx("span",{className:"text-sm",children:C.name})]},C.id)),S.assignedTo.length===0&&t.jsx("p",{className:"text-sm text-muted-foreground",children:"No reps assigned"})]})]}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-sm font-semibold mb-3",children:"Territory Stats"}),t.jsxs("div",{className:"space-y-2",children:[t.jsxs("div",{className:"flex items-center justify-between p-2 bg-blue-50 rounded-lg",children:[t.jsx("span",{className:"text-sm text-blue-700",children:"Deals"}),t.jsx("span",{className:"font-bold text-blue-700",children:T(S.id)})]}),t.jsxs("div",{className:"flex items-center justify-between p-2 bg-green-50 rounded-lg",children:[t.jsx("span",{className:"text-sm text-green-700",children:"Reps"}),t.jsx("span",{className:"font-bold text-green-700",children:S.assignedTo.length})]})]})]})]})})]},S.id)),e.length===0&&t.jsx(U,{className:"shadow-sm",children:t.jsxs(W,{className:"flex flex-col items-center justify-center py-12",children:[t.jsx(Ka,{className:"h-12 w-12 text-muted-foreground mb-4"}),t.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No Territories Defined"}),t.jsx("p",{className:"text-muted-foreground text-center mb-4",children:"Create territories to organize your sales team and deals by region, industry, or other criteria."}),t.jsxs($,{onClick:v,children:[t.jsx(Re,{className:"h-4 w-4 mr-2"}),"Create First Territory"]})]})})]})]})}function tO({deals:e,approvalWorkflows:n,onApprove:s,onReject:r,onEscalate:a}){var x;const[i,l]=f.useState("pending"),[o,c]=f.useState(null),[d,m]=f.useState(""),u=b=>{switch(b){case"pending":return"bg-yellow-50 text-yellow-700 border-yellow-200";case"approved":return"bg-green-50 text-green-700 border-green-200";case"rejected":return"bg-red-50 text-red-700 border-red-200";case"escalated":return"bg-orange-50 text-orange-700 border-orange-200";default:return"bg-gray-50 text-gray-700 border-gray-200"}},p=b=>{switch(b){case"pending":return t.jsx(Ke,{className:"h-4 w-4 text-yellow-500"});case"approved":return t.jsx(bn,{className:"h-4 w-4 text-green-500"});case"rejected":return t.jsx(_a,{className:"h-4 w-4 text-red-500"});case"escalated":return t.jsx(Zn,{className:"h-4 w-4 text-orange-500"});default:return t.jsx(Ke,{className:"h-4 w-4 text-gray-500"})}},h=b=>n.filter(T=>T.status===b),v=b=>e.find(T=>T.id===b),j=()=>{if(!o)return;const b=o.steps.find(T=>T.stepNumber===o.currentStep);b&&(s(o.id,b.id,d),m(""),c(null))},y=()=>{if(!o)return;const b=o.steps.find(T=>T.stepNumber===o.currentStep);b&&(r(o.id,b.id,d),m(""),c(null))},g=()=>{if(!o)return;const b=o.steps.find(T=>T.stepNumber===o.currentStep);b&&(a(o.id,b.id,d),m(""),c(null))};return t.jsxs("div",{className:"space-y-6",children:[o&&t.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:t.jsxs(U,{className:"w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[t.jsx(G,{children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx(q,{children:"Approval Request"}),t.jsx(oe,{children:((x=v(o.dealId))==null?void 0:x.name)||"Unknown Deal"})]}),t.jsx(Z,{className:ae("ri-badge-status",u(o.status)),children:o.status.toUpperCase()})]})}),t.jsxs(W,{className:"space-y-6",children:[t.jsx("div",{className:"p-4 bg-muted/30 rounded-lg",children:t.jsx("div",{className:"grid gap-4 md:grid-cols-2",children:(()=>{const b=v(o.dealId);return b?t.jsxs(t.Fragment,{children:[t.jsxs("div",{children:[t.jsx("span",{className:"text-sm font-medium",children:"Customer:"}),t.jsx("p",{className:"text-sm",children:b.customerName})]}),t.jsxs("div",{children:[t.jsx("span",{className:"text-sm font-medium",children:"Deal Value:"}),t.jsx("p",{className:"text-sm font-bold",children:re(b.value)})]}),t.jsxs("div",{children:[t.jsx("span",{className:"text-sm font-medium",children:"Stage:"}),t.jsx("p",{className:"text-sm",children:b.stage.replace("_"," ")})]}),t.jsxs("div",{children:[t.jsx("span",{className:"text-sm font-medium",children:"Assigned To:"}),t.jsx("p",{className:"text-sm",children:b.assignedTo})]})]}):null})()})}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-sm font-semibold mb-2",children:"Workflow Details"}),t.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[t.jsxs("div",{children:[t.jsx("span",{className:"text-sm font-medium",children:"Type:"}),t.jsx("p",{className:"text-sm",children:o.workflowType.replace("_"," ")})]}),t.jsxs("div",{children:[t.jsx("span",{className:"text-sm font-medium",children:"Requested By:"}),t.jsx("p",{className:"text-sm",children:o.requestedBy})]}),t.jsxs("div",{children:[t.jsx("span",{className:"text-sm font-medium",children:"Requested:"}),t.jsx("p",{className:"text-sm",children:Pe(o.requestedAt)})]}),t.jsxs("div",{children:[t.jsx("span",{className:"text-sm font-medium",children:"Current Step:"}),t.jsxs("p",{className:"text-sm",children:[o.currentStep," of ",o.totalSteps]})]})]})]}),t.jsxs("div",{children:[t.jsx(Q,{htmlFor:"comments",children:"Comments"}),t.jsx(Ze,{id:"comments",value:d,onChange:b=>m(b.target.value),placeholder:"Add your comments here...",rows:3})]}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-sm font-semibold mb-3",children:"Approval Steps"}),t.jsx("div",{className:"space-y-4",children:o.steps.map((b,T)=>{const L=b.stepNumber===o.currentStep,k=b.stepNumber<o.currentStep;return t.jsxs("div",{className:ae("p-3 rounded-lg border-2",L?"border-primary bg-primary/5":k?"border-muted bg-muted/10":"border-dashed border-muted"),children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("span",{className:"flex items-center justify-center w-6 h-6 rounded-full bg-muted text-xs font-bold",children:b.stepNumber}),t.jsx("span",{className:"font-medium",children:b.approverRole.replace("_"," ")})]}),t.jsxs(Z,{className:ae("ri-badge-status",u(b.status)),children:[p(b.status),t.jsx("span",{className:"ml-1",children:b.status.toUpperCase()})]})]}),t.jsxs("div",{className:"text-sm text-muted-foreground mb-2",children:["Requires ",b.requiredApprovals," approval(s) from ",b.approverIds.length," approver(s)"]}),b.currentApprovals.length>0&&t.jsxs("div",{className:"mt-3 space-y-2",children:[t.jsx("h4",{className:"text-xs font-medium",children:"Approvals:"}),b.currentApprovals.map((I,w)=>t.jsxs("div",{className:"flex items-start space-x-2 text-xs p-2 bg-muted/30 rounded",children:[I.action==="approve"?t.jsx($E,{className:"h-3 w-3 text-green-500 mt-0.5"}):I.action==="reject"?t.jsx(_E,{className:"h-3 w-3 text-red-500 mt-0.5"}):t.jsx(Zn,{className:"h-3 w-3 text-orange-500 mt-0.5"}),t.jsxs("div",{children:[t.jsx("div",{className:"font-medium",children:I.approverId}),t.jsx("div",{className:"text-muted-foreground",children:Pe(I.actionDate)}),I.comments&&t.jsx("div",{className:"mt-1 italic",children:I.comments})]})]},w))]})]},b.id)})})]}),o.status==="pending"&&t.jsxs(t.Fragment,{children:[t.jsxs("div",{children:[t.jsx(Q,{htmlFor:"comments",children:"Comments"}),t.jsx(Ze,{id:"comments",value:d,onChange:b=>m(b.target.value),placeholder:"Add your comments here...",rows:3})]}),t.jsxs("div",{className:"flex justify-end space-x-3 pt-6 border-t",children:[t.jsx($,{variant:"outline",onClick:()=>c(null),children:"Cancel"}),t.jsxs($,{variant:"outline",onClick:g,children:[t.jsx(Zn,{className:"h-4 w-4 mr-2"}),"Escalate"]}),t.jsxs($,{variant:"destructive",onClick:y,children:[t.jsx(_a,{className:"h-4 w-4 mr-2"}),"Reject"]}),t.jsxs($,{variant:"default",onClick:j,children:[t.jsx(bn,{className:"h-4 w-4 mr-2"}),"Approve"]})]})]}),o.status!=="pending"&&t.jsx("div",{className:"flex justify-end pt-6 border-t",children:t.jsx($,{variant:"outline",onClick:()=>c(null),children:"Close"})})]})]})}),t.jsx("div",{className:"flex items-center justify-between",children:t.jsxs("div",{children:[t.jsx("h2",{className:"text-2xl font-bold",children:"Approval Workflows"}),t.jsx("p",{className:"text-muted-foreground",children:"Manage approval requests for deals above threshold"})]})}),t.jsxs(bt,{value:i,onValueChange:l,className:"space-y-6",children:[t.jsxs(jt,{children:[t.jsxs(je,{value:"pending",children:["Pending",t.jsx(Z,{className:"ml-2 bg-yellow-50 text-yellow-700 border-yellow-200",children:h("pending").length})]}),t.jsxs(je,{value:"approved",children:["Approved",t.jsx(Z,{className:"ml-2 bg-green-50 text-green-700 border-green-200",children:h("approved").length})]}),t.jsxs(je,{value:"rejected",children:["Rejected",t.jsx(Z,{className:"ml-2 bg-red-50 text-red-700 border-red-200",children:h("rejected").length})]}),t.jsxs(je,{value:"escalated",children:["Escalated",t.jsx(Z,{className:"ml-2 bg-orange-50 text-orange-700 border-orange-200",children:h("escalated").length})]})]}),t.jsx(we,{value:"pending",className:"space-y-4",children:h("pending").length>0?h("pending").map(b=>{const T=v(b.dealId);return T?t.jsx(U,{className:"shadow-sm hover:shadow-md transition-shadow cursor-pointer",onClick:()=>c(b),children:t.jsxs(W,{className:"p-6",children:[t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsxs("div",{children:[t.jsx("h3",{className:"font-semibold",children:T.name}),t.jsx("p",{className:"text-sm text-muted-foreground",children:T.customerName})]}),t.jsxs(Z,{className:ae("ri-badge-status",u(b.status)),children:[p(b.status),t.jsx("span",{className:"ml-1",children:b.status.toUpperCase()})]})]}),t.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[t.jsxs("div",{children:[t.jsx("span",{className:"text-sm font-medium",children:"Deal Value:"}),t.jsx("p",{className:"text-lg font-bold text-primary",children:re(T.value)})]}),t.jsxs("div",{children:[t.jsx("span",{className:"text-sm font-medium",children:"Requested By:"}),t.jsxs("div",{className:"flex items-center space-x-1 mt-1",children:[t.jsx(Wn,{className:"h-4 w-4 text-blue-500"}),t.jsx("span",{className:"text-sm",children:b.requestedBy})]})]}),t.jsxs("div",{children:[t.jsx("span",{className:"text-sm font-medium",children:"Requested:"}),t.jsx("p",{className:"text-sm",children:Pe(b.requestedAt)})]})]}),t.jsxs("div",{className:"mt-4 pt-4 border-t",children:[t.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[t.jsx("span",{className:"text-sm font-medium",children:"Approval Progress:"}),t.jsxs("span",{className:"text-sm",children:[b.currentStep," of ",b.totalSteps]})]}),t.jsx("div",{className:"flex items-center space-x-2",children:b.steps.map((L,k)=>{const I=L.stepNumber<b.currentStep,w=L.stepNumber===b.currentStep;return t.jsxs(Le.Fragment,{children:[t.jsx("div",{className:ae("flex items-center justify-center w-8 h-8 rounded-full",I?"bg-primary text-primary-foreground":w?"bg-primary/20 text-primary border-2 border-primary":"bg-muted text-muted-foreground"),children:L.stepNumber}),k<b.steps.length-1&&t.jsx(IE,{className:"h-4 w-4 text-muted-foreground"})]},L.id)})})]})]})},b.id):null}):t.jsx(U,{className:"shadow-sm",children:t.jsxs(W,{className:"flex flex-col items-center justify-center py-12",children:[t.jsx(Ke,{className:"h-12 w-12 text-muted-foreground mb-4"}),t.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No Pending Approvals"}),t.jsx("p",{className:"text-muted-foreground text-center",children:"There are no deals currently waiting for your approval."})]})})}),t.jsx(we,{value:"approved",className:"space-y-4",children:h("approved").length>0?h("approved").map(b=>{const T=v(b.dealId);return T?t.jsx(U,{className:"shadow-sm hover:shadow-md transition-shadow cursor-pointer",onClick:()=>c(b),children:t.jsxs(W,{className:"p-6",children:[t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsxs("div",{children:[t.jsx("h3",{className:"font-semibold",children:T.name}),t.jsx("p",{className:"text-sm text-muted-foreground",children:T.customerName})]}),t.jsxs(Z,{className:ae("ri-badge-status",u(b.status)),children:[p(b.status),t.jsx("span",{className:"ml-1",children:b.status.toUpperCase()})]})]}),t.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[t.jsxs("div",{children:[t.jsx("span",{className:"text-sm font-medium",children:"Deal Value:"}),t.jsx("p",{className:"text-lg font-bold text-primary",children:re(T.value)})]}),t.jsxs("div",{children:[t.jsx("span",{className:"text-sm font-medium",children:"Completed:"}),t.jsx("p",{className:"text-sm",children:b.completedAt?Pe(b.completedAt):"N/A"})]}),t.jsxs("div",{children:[t.jsx("span",{className:"text-sm font-medium",children:"Workflow Type:"}),t.jsx("p",{className:"text-sm capitalize",children:b.workflowType.replace("_"," ")})]})]})]})},b.id):null}):t.jsx(U,{className:"shadow-sm",children:t.jsxs(W,{className:"flex flex-col items-center justify-center py-12",children:[t.jsx(bn,{className:"h-12 w-12 text-muted-foreground mb-4"}),t.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No Approved Workflows"}),t.jsx("p",{className:"text-muted-foreground text-center",children:"There are no approved deal workflows yet."})]})})}),t.jsx(we,{value:"rejected",className:"space-y-4",children:h("rejected").length>0?h("rejected").map(b=>{const T=v(b.dealId);return T?t.jsx(U,{className:"shadow-sm hover:shadow-md transition-shadow cursor-pointer",onClick:()=>c(b),children:t.jsxs(W,{className:"p-6",children:[t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsxs("div",{children:[t.jsx("h3",{className:"font-semibold",children:T.name}),t.jsx("p",{className:"text-sm text-muted-foreground",children:T.customerName})]}),t.jsxs(Z,{className:ae("ri-badge-status",u(b.status)),children:[p(b.status),t.jsx("span",{className:"ml-1",children:b.status.toUpperCase()})]})]}),t.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[t.jsxs("div",{children:[t.jsx("span",{className:"text-sm font-medium",children:"Deal Value:"}),t.jsx("p",{className:"text-lg font-bold text-primary",children:re(T.value)})]}),t.jsxs("div",{children:[t.jsx("span",{className:"text-sm font-medium",children:"Completed:"}),t.jsx("p",{className:"text-sm",children:b.completedAt?Pe(b.completedAt):"N/A"})]}),t.jsxs("div",{children:[t.jsx("span",{className:"text-sm font-medium",children:"Workflow Type:"}),t.jsx("p",{className:"text-sm capitalize",children:b.workflowType.replace("_"," ")})]})]})]})},b.id):null}):t.jsx(U,{className:"shadow-sm",children:t.jsxs(W,{className:"flex flex-col items-center justify-center py-12",children:[t.jsx(_a,{className:"h-12 w-12 text-muted-foreground mb-4"}),t.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No Rejected Workflows"}),t.jsx("p",{className:"text-muted-foreground text-center",children:"There are no rejected deal workflows."})]})})}),t.jsx(we,{value:"escalated",className:"space-y-4",children:h("escalated").length>0?h("escalated").map(b=>{const T=v(b.dealId);return T?t.jsx(U,{className:"shadow-sm hover:shadow-md transition-shadow cursor-pointer",onClick:()=>c(b),children:t.jsxs(W,{className:"p-6",children:[t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsxs("div",{children:[t.jsx("h3",{className:"font-semibold",children:T.name}),t.jsx("p",{className:"text-sm text-muted-foreground",children:T.customerName})]}),t.jsxs(Z,{className:ae("ri-badge-status",u(b.status)),children:[p(b.status),t.jsx("span",{className:"ml-1",children:b.status.toUpperCase()})]})]}),t.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[t.jsxs("div",{children:[t.jsx("span",{className:"text-sm font-medium",children:"Deal Value:"}),t.jsx("p",{className:"text-lg font-bold text-primary",children:re(T.value)})]}),t.jsxs("div",{children:[t.jsx("span",{className:"text-sm font-medium",children:"Requested:"}),t.jsx("p",{className:"text-sm",children:Pe(b.requestedAt)})]}),t.jsxs("div",{children:[t.jsx("span",{className:"text-sm font-medium",children:"Workflow Type:"}),t.jsx("p",{className:"text-sm capitalize",children:b.workflowType.replace("_"," ")})]})]})]})},b.id):null}):t.jsx(U,{className:"shadow-sm",children:t.jsxs(W,{className:"flex flex-col items-center justify-center py-12",children:[t.jsx(Zn,{className:"h-12 w-12 text-muted-foreground mb-4"}),t.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No Escalated Workflows"}),t.jsx("p",{className:"text-muted-foreground text-center",children:"There are no escalated deal workflows."})]})})})]})]})}function nO({deal:e,customers:n,salesReps:s,territories:r,products:a,onSave:i,onCancel:l}){const{toast:o}=ot(),[c,d]=f.useState(!1),[m,u]=f.useState({name:"",customerId:"",customerName:"",stage:Se.PROSPECTING,status:qe.ACTIVE,priority:gs.MEDIUM,value:0,probability:10,expectedCloseDate:new Date(Date.now()+30*24*60*60*1e3),assignedTo:"",territoryId:"",sourceId:"",competitorIds:[],products:[],notes:"",requiresApproval:!1,customFields:{}}),[p,h]=f.useState(!1),[v,j]=f.useState(!1),[y,g]=f.useState({productId:"",productName:"",quantity:1,unitPrice:0,discount:0,total:0});f.useEffect(()=>{e&&u({...e,expectedCloseDate:new Date(e.expectedCloseDate)})},[e]),f.useEffect(()=>{if(m.customerId){const I=n.find(w=>w.id===m.customerId);I&&u(w=>({...w,customerName:`${I.firstName} ${I.lastName}`}))}},[m.customerId,n]),f.useEffect(()=>{if(m.products&&m.products.length>0){const I=m.products.reduce((w,S)=>w+S.total,0);u(w=>({...w,value:I}))}},[m.products]),f.useEffect(()=>{const I=y.quantity||1,w=y.unitPrice||0,S=y.discount||0,C=I*w-S;g(E=>({...E,total:C}))},[y.quantity,y.unitPrice,y.discount]);const x=async I=>{if(I.preventDefault(),!m.name||!m.customerId||!m.expectedCloseDate){o({title:"Validation Error",description:"Please fill in all required fields",variant:"destructive"});return}d(!0);try{await i(m),o({title:"Success",description:`Deal ${e?"updated":"created"} successfully`})}catch{o({title:"Error",description:`Failed to ${e?"update":"create"} deal`,variant:"destructive"})}finally{d(!1)}},b=()=>{if(!y.productId||!y.productName){o({title:"Validation Error",description:"Please select a product",variant:"destructive"});return}const I={id:Math.random().toString(36).substr(2,9),productId:y.productId,productName:y.productName,quantity:y.quantity||1,unitPrice:y.unitPrice||0,discount:y.discount||0,total:y.total||0};u(w=>({...w,products:[...w.products||[],I]})),g({productId:"",productName:"",quantity:1,unitPrice:0,discount:0,total:0}),h(!1)},T=I=>{u(w=>{var S;return{...w,products:((S=w.products)==null?void 0:S.filter(C=>C.id!==I))||[]}})},L=I=>{const w=a.find(S=>S.id===I);w&&g({productId:w.id,productName:w.name,quantity:1,unitPrice:w.price,discount:0,total:w.price})},k=I=>{u(w=>({...w,customerId:I.id,customerName:`${I.firstName} ${I.lastName}`})),j(!1),o({title:"Customer Added",description:`${I.firstName} ${I.lastName} has been added as a customer.`})};return t.jsxs("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:[v&&t.jsx(Of,{onClose:()=>j(!1),onSuccess:k}),t.jsxs(U,{className:"w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[t.jsx(G,{children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx(q,{children:e?"Edit Deal":"Create Deal"}),t.jsx(oe,{children:e?"Update deal details":"Create a new sales deal"})]}),t.jsx($,{variant:"ghost",size:"sm",onClick:l,children:t.jsx(nt,{className:"h-4 w-4"})})]})}),t.jsx(W,{children:t.jsxs("form",{onSubmit:x,className:"space-y-6",children:[t.jsxs("div",{className:"space-y-4",children:[t.jsxs("h3",{className:"text-lg font-semibold flex items-center",children:[t.jsx(fn,{className:"h-4 w-4 mr-2"}),"Deal Information"]}),t.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[t.jsxs("div",{children:[t.jsx(Q,{htmlFor:"name",children:"Deal Name *"}),t.jsx(J,{id:"name",value:m.name,onChange:I=>u(w=>({...w,name:I.target.value})),placeholder:"Enter deal name"})]}),t.jsxs("div",{children:[t.jsx(Q,{htmlFor:"customerId",children:"Customer *"}),t.jsxs(ge,{value:m.customerId||"",onValueChange:I=>u(w=>({...w,customerId:I})),children:[t.jsx(he,{children:t.jsx(ve,{placeholder:"Select customer"})}),t.jsxs(xe,{children:[t.jsx("div",{className:"px-2 py-1.5",children:t.jsxs($,{variant:"outline",size:"sm",className:"w-full justify-start",onClick:()=>j(!0),children:[t.jsx(Re,{className:"h-3.5 w-3.5 mr-2"}),"Add New Customer"]})}),t.jsx("div",{className:"px-2 py-1 border-t"}),n.map(I=>t.jsxs(O,{value:I.id,children:[I.firstName," ",I.lastName]},I.id))]})]})]})]}),t.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[t.jsxs("div",{children:[t.jsx(Q,{htmlFor:"stage",children:"Stage"}),t.jsxs(ge,{value:m.stage,onValueChange:I=>u(w=>({...w,stage:I,probability:I===Se.PROSPECTING?10:I===Se.QUALIFICATION?25:I===Se.NEEDS_ANALYSIS?40:I===Se.PROPOSAL?60:I===Se.NEGOTIATION?80:I===Se.CLOSED_WON?100:I===Se.CLOSED_LOST?0:10})),children:[t.jsx(he,{children:t.jsx(ve,{})}),t.jsxs(xe,{children:[t.jsx(O,{value:Se.PROSPECTING,children:"Prospecting"}),t.jsx(O,{value:Se.QUALIFICATION,children:"Qualification"}),t.jsx(O,{value:Se.NEEDS_ANALYSIS,children:"Needs Analysis"}),t.jsx(O,{value:Se.PROPOSAL,children:"Proposal"}),t.jsx(O,{value:Se.NEGOTIATION,children:"Negotiation"}),t.jsx(O,{value:Se.CLOSED_WON,children:"Closed Won"}),t.jsx(O,{value:Se.CLOSED_LOST,children:"Closed Lost"})]})]})]}),t.jsxs("div",{children:[t.jsx(Q,{htmlFor:"priority",children:"Priority"}),t.jsxs(ge,{value:m.priority,onValueChange:I=>u(w=>({...w,priority:I})),children:[t.jsx(he,{children:t.jsx(ve,{})}),t.jsxs(xe,{children:[t.jsx(O,{value:gs.LOW,children:"Low"}),t.jsx(O,{value:gs.MEDIUM,children:"Medium"}),t.jsx(O,{value:gs.HIGH,children:"High"}),t.jsx(O,{value:gs.CRITICAL,children:"Critical"})]})]})]}),t.jsxs("div",{children:[t.jsx(Q,{htmlFor:"probability",children:"Probability (%)"}),t.jsx(J,{id:"probability",type:"number",min:"0",max:"100",value:m.probability,onChange:I=>u(w=>({...w,probability:parseInt(I.target.value)||0}))})]})]}),t.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[t.jsxs("div",{children:[t.jsx(Q,{htmlFor:"expectedCloseDate",children:"Expected Close Date *"}),t.jsx(J,{id:"expectedCloseDate",type:"date",value:m.expectedCloseDate?new Date(m.expectedCloseDate).toISOString().split("T")[0]:"",onChange:I=>u(w=>({...w,expectedCloseDate:new Date(I.target.value)}))})]}),t.jsxs("div",{children:[t.jsx(Q,{htmlFor:"assignedTo",children:"Assigned To"}),t.jsxs(ge,{value:m.assignedTo,onValueChange:I=>u(w=>({...w,assignedTo:I})),children:[t.jsx(he,{children:t.jsx(ve,{placeholder:"Select sales rep"})}),t.jsx(xe,{children:s.map(I=>t.jsx(O,{value:I.id,children:I.name},I.id))})]})]}),t.jsxs("div",{children:[t.jsx(Q,{htmlFor:"territoryId",children:"Territory"}),t.jsxs(ge,{value:m.territoryId,onValueChange:I=>u(w=>({...w,territoryId:I})),children:[t.jsx(he,{children:t.jsx(ve,{placeholder:"Select territory"})}),t.jsx(xe,{children:r.map(I=>t.jsx(O,{value:I.id,children:I.name},I.id))})]})]})]})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("h3",{className:"text-lg font-semibold flex items-center",children:[t.jsx(Xt,{className:"h-4 w-4 mr-2"}),"Products"]}),t.jsxs($,{type:"button",onClick:()=>h(!0),size:"sm",children:[t.jsx(Re,{className:"h-4 w-4 mr-2"}),"Add Product"]})]}),p&&t.jsx(U,{className:"border-dashed",children:t.jsxs(W,{className:"pt-6",children:[t.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[t.jsxs("div",{children:[t.jsx(Q,{children:"Product"}),t.jsxs(ge,{onValueChange:L,children:[t.jsx(he,{children:t.jsx(ve,{placeholder:"Select product"})}),t.jsx(xe,{children:a.map(I=>t.jsxs(O,{value:I.id,children:[I.name," - ",re(I.price)]},I.id))})]})]}),t.jsxs("div",{children:[t.jsx(Q,{children:"Quantity"}),t.jsx(J,{type:"number",min:"1",value:y.quantity,onChange:I=>g(w=>({...w,quantity:parseInt(I.target.value)||1}))})]}),t.jsxs("div",{children:[t.jsx(Q,{children:"Unit Price"}),t.jsx(J,{type:"number",min:"0",step:"0.01",value:y.unitPrice,onChange:I=>g(w=>({...w,unitPrice:parseFloat(I.target.value)||0}))})]}),t.jsxs("div",{children:[t.jsx(Q,{children:"Discount"}),t.jsx(J,{type:"number",min:"0",step:"0.01",value:y.discount,onChange:I=>g(w=>({...w,discount:parseFloat(I.target.value)||0}))})]})]}),t.jsxs("div",{className:"flex items-center justify-between mt-4",children:[t.jsxs("div",{children:[t.jsx("span",{className:"text-sm font-medium",children:"Total: "}),t.jsx("span",{className:"font-bold",children:re(y.total||0)})]}),t.jsxs("div",{className:"flex space-x-2",children:[t.jsx($,{type:"button",variant:"outline",onClick:()=>h(!1),children:"Cancel"}),t.jsx($,{type:"button",onClick:b,children:"Add Product"})]})]})]})}),t.jsx("div",{className:"space-y-3",children:m.products&&m.products.length>0?m.products.map(I=>t.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[t.jsxs("div",{className:"flex-1",children:[t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("span",{className:"font-medium",children:I.productName}),t.jsxs(Z,{variant:"outline",children:[I.quantity," × ",re(I.unitPrice)]})]}),I.discount>0&&t.jsxs("div",{className:"text-sm text-green-600 mt-1",children:["Discount: ",re(I.discount)]})]}),t.jsxs("div",{className:"flex items-center space-x-4",children:[t.jsx("span",{className:"font-bold",children:re(I.total)}),t.jsx($,{type:"button",variant:"ghost",size:"sm",onClick:()=>T(I.id),children:t.jsx(Un,{className:"h-4 w-4 text-red-500"})})]})]},I.id)):t.jsxs("div",{className:"text-center py-6 text-muted-foreground border-2 border-dashed rounded-lg",children:[t.jsx(Xt,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground/50"}),t.jsx("p",{children:"No products added yet"}),t.jsx("p",{className:"text-sm",children:"Add products to calculate deal value"})]})}),m.products&&m.products.length>0&&t.jsx("div",{className:"flex justify-end p-3 bg-muted/30 rounded-lg",children:t.jsxs("div",{className:"text-right",children:[t.jsx("span",{className:"text-sm font-medium",children:"Total Deal Value: "}),t.jsx("span",{className:"text-lg font-bold text-primary",children:re(m.value||0)})]})})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsx("h3",{className:"text-lg font-semibold",children:"Notes"}),t.jsx(Ze,{value:m.notes,onChange:I=>u(w=>({...w,notes:I.target.value})),placeholder:"Add any additional notes about this deal...",rows:3})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsx("h3",{className:"text-lg font-semibold",children:"Approval Settings"}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(Je,{id:"requiresApproval",checked:m.requiresApproval,onCheckedChange:I=>u(w=>({...w,requiresApproval:!!I}))}),t.jsx(Q,{htmlFor:"requiresApproval",children:"This deal requires approval"})]}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"Deals over $100,000 automatically require approval"})]}),t.jsxs("div",{className:"flex justify-end space-x-3 pt-6 border-t",children:[t.jsx($,{type:"button",variant:"outline",onClick:l,disabled:c,children:"Cancel"}),t.jsx($,{type:"submit",disabled:c,children:c?t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),e?"Updating...":"Creating..."]}):t.jsxs(t.Fragment,{children:[t.jsx(Dn,{className:"h-4 w-4 mr-2"}),e?"Update":"Create"," Deal"]})})]})]})})]})]})}function Dv(){const{deals:e,territories:n,approvalWorkflows:s,winLossReports:r,stageHistory:a,createDeal:i,updateDealStage:l,assignTerritory:o,createApprovalWorkflow:c,createWinLossReport:d,getDealMetrics:m}=mP(),{leads:u,salesReps:p}=da(),{vehicles:h}=Ol(),[v,j]=f.useState(""),[y,g]=f.useState("all"),[x,b]=f.useState("all"),[T,L]=f.useState(null),[k,I]=f.useState(!1),[w,S]=f.useState("pipeline"),[C,E]=f.useState(!1),{toast:N}=ot(),D=K=>{switch(K){case qe.ACTIVE:return"bg-blue-50 text-blue-700 border-blue-200";case qe.WON:return"bg-green-50 text-green-700 border-green-200";case qe.LOST:return"bg-red-50 text-red-700 border-red-200";case qe.ON_HOLD:return"bg-yellow-50 text-yellow-700 border-yellow-200";case qe.CANCELLED:return"bg-gray-50 text-gray-700 border-gray-200";default:return"bg-gray-50 text-gray-700 border-gray-200"}},A=e.filter(K=>{const se=K.name.toLowerCase().includes(v.toLowerCase())||K.customerName.toLowerCase().includes(v.toLowerCase()),te=y==="all"||K.stage===y,le=x==="all"||K.assignedTo===x;return se&&te&&le}),_=async(K,se)=>{try{await l(K,se);const te=e.find(le=>le.id===K);te&&N({title:"Deal Stage Updated",description:`${te.name} moved to ${se.replace("_"," ").toLowerCase()}`})}catch{N({title:"Error",description:"Failed to update deal stage",variant:"destructive"})}},V=K=>{L(K),E(!0)},P=()=>{L(null),I(!0)},R=K=>{L(K),I(!0)},M=async K=>{T?await l(T.id,K.stage||T.stage):await i(K),I(!1),L(null)},F=async(K,se)=>{await c(K,se)},B=async(K,se,te)=>{await d(K,se,te)},z=m(),H=h.map(K=>({id:K.id,name:`${K.year} ${K.make} ${K.model}`,price:K.price,category:"vehicle"})).concat([{id:"prod-001",name:"Extended Warranty Package",price:3500,category:"warranty"},{id:"prod-002",name:"Premium Interior Upgrade",price:2200,category:"upgrade"},{id:"prod-003",name:"Solar Panel Package",price:3500,category:"accessory"}]);return t.jsxs("div",{className:"space-y-8",children:[C&&T&&t.jsx(ZF,{deal:T,onClose:()=>E(!1),onEdit:R}),k&&t.jsx(nO,{deal:T||void 0,customers:u,salesReps:p,territories:n,products:H,onSave:M,onCancel:()=>{I(!1),L(null)}}),t.jsx("div",{className:"ri-page-header",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"ri-page-title",children:"Sales Deal Management"}),t.jsx("p",{className:"ri-page-description",children:"Track deals through the sales pipeline with approvals and territory management"})]}),t.jsxs($,{className:"shadow-sm",onClick:P,children:[t.jsx(Re,{className:"h-4 w-4 mr-2"}),"New Deal"]})]})}),t.jsxs("div",{className:"ri-stats-grid",children:[t.jsxs(U,{className:"shadow-sm border-0 bg-gradient-to-br from-blue-50 to-blue-100/50",children:[t.jsxs(G,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[t.jsx(q,{className:"text-sm font-medium text-blue-900",children:"Total Pipeline"}),t.jsx(Ve,{className:"h-4 w-4 text-blue-600"})]}),t.jsxs(W,{children:[t.jsx("div",{className:"text-2xl font-bold text-blue-900",children:re(z.totalValue)}),t.jsxs("p",{className:"text-xs text-blue-600 flex items-center mt-1",children:[t.jsx(De,{className:"h-3 w-3 mr-1"}),z.totalDeals," active deals"]})]})]}),t.jsxs(U,{className:"shadow-sm border-0 bg-gradient-to-br from-green-50 to-green-100/50",children:[t.jsxs(G,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[t.jsx(q,{className:"text-sm font-medium text-green-900",children:"Win Rate"}),t.jsx(fn,{className:"h-4 w-4 text-green-600"})]}),t.jsxs(W,{children:[t.jsxs("div",{className:"text-2xl font-bold text-green-900",children:[z.winRate.toFixed(1),"%"]}),t.jsxs("p",{className:"text-xs text-green-600 flex items-center mt-1",children:[t.jsx(De,{className:"h-3 w-3 mr-1"}),z.wonDeals," won deals"]})]})]}),t.jsxs(U,{className:"shadow-sm border-0 bg-gradient-to-br from-purple-50 to-purple-100/50",children:[t.jsxs(G,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[t.jsx(q,{className:"text-sm font-medium text-purple-900",children:"Avg Deal Size"}),t.jsx(Ve,{className:"h-4 w-4 text-purple-600"})]}),t.jsxs(W,{children:[t.jsx("div",{className:"text-2xl font-bold text-purple-900",children:re(z.averageDealSize)}),t.jsxs("p",{className:"text-xs text-purple-600 flex items-center mt-1",children:[t.jsx(De,{className:"h-3 w-3 mr-1"}),z.averageSalesCycle.toFixed(0)," day cycle"]})]})]}),t.jsxs(U,{className:"shadow-sm border-0 bg-gradient-to-br from-orange-50 to-orange-100/50",children:[t.jsxs(G,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[t.jsx(q,{className:"text-sm font-medium text-orange-900",children:"Territories"}),t.jsx(Ka,{className:"h-4 w-4 text-orange-600"})]}),t.jsxs(W,{children:[t.jsx("div",{className:"text-2xl font-bold text-orange-900",children:n.length}),t.jsxs("p",{className:"text-xs text-orange-600 flex items-center mt-1",children:[t.jsx(Dt,{className:"h-3 w-3 mr-1"}),"Active territories"]})]})]})]}),t.jsxs(bt,{value:w,onValueChange:S,className:"space-y-6",children:[t.jsxs(jt,{className:"grid w-full grid-cols-5",children:[t.jsx(je,{value:"pipeline",children:"Pipeline"}),t.jsx(je,{value:"deals",children:"Deals"}),t.jsx(je,{value:"analytics",children:"Analytics"}),t.jsx(je,{value:"territories",children:"Territories"}),t.jsx(je,{value:"approvals",children:"Approvals"})]}),t.jsx(we,{value:"pipeline",className:"space-y-6",children:t.jsx(qF,{deals:e,onDealStageChange:_,onDealClick:V})}),t.jsxs(we,{value:"deals",className:"space-y-6",children:[t.jsxs("div",{className:"flex gap-4",children:[t.jsxs("div",{className:"ri-search-bar",children:[t.jsx(Lt,{className:"ri-search-icon"}),t.jsx(J,{placeholder:"Search deals...",value:v,onChange:K=>j(K.target.value),className:"ri-search-input shadow-sm"})]}),t.jsxs(ge,{value:y,onValueChange:g,children:[t.jsx(he,{className:"w-40",children:t.jsx(ve,{placeholder:"Stage"})}),t.jsxs(xe,{children:[t.jsx(O,{value:"all",children:"All Stages"}),t.jsx(O,{value:Se.PROSPECTING,children:"Prospecting"}),t.jsx(O,{value:Se.QUALIFICATION,children:"Qualification"}),t.jsx(O,{value:Se.NEEDS_ANALYSIS,children:"Needs Analysis"}),t.jsx(O,{value:Se.PROPOSAL,children:"Proposal"}),t.jsx(O,{value:Se.NEGOTIATION,children:"Negotiation"}),t.jsx(O,{value:Se.CLOSED_WON,children:"Closed Won"}),t.jsx(O,{value:Se.CLOSED_LOST,children:"Closed Lost"})]})]}),t.jsxs(ge,{value:x,onValueChange:b,children:[t.jsx(he,{className:"w-40",children:t.jsx(ve,{placeholder:"Sales Rep"})}),t.jsxs(xe,{children:[t.jsx(O,{value:"all",children:"All Reps"}),p.map(K=>t.jsx(O,{value:K.id,children:K.name},K.id))]})]}),t.jsxs($,{variant:"outline",className:"shadow-sm",children:[t.jsx(an,{className:"h-4 w-4 mr-2"}),"Filter"]})]}),t.jsxs(U,{className:"shadow-sm",children:[t.jsxs(G,{children:[t.jsxs(q,{className:"text-xl",children:["Deals (",A.length,")"]}),t.jsx(oe,{children:"Manage your sales pipeline and deal progression"})]}),t.jsx(W,{children:t.jsxs("div",{className:"space-y-4",children:[A.map(K=>{var se;return t.jsxs("div",{className:"ri-table-row cursor-pointer",onClick:()=>R(K),children:[t.jsx("div",{className:"flex items-center space-x-4 flex-1",children:t.jsxs("div",{className:"flex-1",children:[t.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[t.jsx("h3",{className:"font-semibold text-foreground",children:K.name}),t.jsx(Z,{className:ae("ri-badge-status",D(K.status)),children:K.status.toUpperCase()}),t.jsx(Z,{variant:"outline",children:K.stage.replace("_"," ").toUpperCase()})]}),t.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2 text-sm text-muted-foreground",children:[t.jsxs("span",{className:"flex items-center",children:[t.jsx(Dt,{className:"h-3 w-3 mr-2 text-blue-500"}),K.customerName]}),t.jsxs("span",{className:"flex items-center",children:[t.jsx(Ve,{className:"h-3 w-3 mr-2 text-green-500"}),re(K.value)]}),t.jsxs("span",{className:"flex items-center",children:[t.jsx(fn,{className:"h-3 w-3 mr-2 text-purple-500"}),K.probability,"% probability"]}),t.jsxs("span",{className:"flex items-center",children:[t.jsx(Ka,{className:"h-3 w-3 mr-2 text-orange-500"}),((se=n.find(te=>te.id===K.territoryId))==null?void 0:se.name)||"No Territory"]})]}),K.notes&&t.jsx("p",{className:"text-sm text-muted-foreground mt-2 bg-muted/30 p-2 rounded-md",children:K.notes})]})}),t.jsxs("div",{className:"ri-action-buttons",children:[t.jsx($,{variant:"outline",size:"sm",className:"shadow-sm",onClick:te=>{te.stopPropagation(),V(K)},children:"View"}),K.requiresApproval&&t.jsx($,{variant:"outline",size:"sm",className:"shadow-sm",onClick:te=>{te.stopPropagation(),F(K.id,"deal_value")},children:"Request Approval"})]})]},K.id)}),A.length===0&&t.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[t.jsx(fn,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground/50"}),t.jsx("p",{children:"No deals found"}),t.jsx("p",{className:"text-sm",children:"Create your first deal to get started"})]})]})})]})]}),t.jsx(we,{value:"analytics",className:"space-y-6",children:t.jsxs(bt,{defaultValue:"metrics",className:"space-y-6",children:[t.jsxs(jt,{children:[t.jsx(je,{value:"metrics",children:"Deal Metrics"}),t.jsx(je,{value:"win-loss",children:"Win/Loss Analysis"})]}),t.jsx(we,{value:"metrics",children:t.jsx(QF,{metrics:z})}),t.jsx(we,{value:"win-loss",children:t.jsx(JF,{deals:e,winLossReports:r,onCreateReport:B})})]})}),t.jsx(we,{value:"territories",className:"space-y-6",children:t.jsx(eO,{territories:n,salesReps:p,deals:e,onCreateTerritory:()=>{},onUpdateTerritory:()=>{},onDeleteTerritory:()=>{}})}),t.jsx(we,{value:"approvals",className:"space-y-6",children:t.jsx(tO,{deals:e,approvalWorkflows:s,onApprove:()=>{},onReject:()=>{},onEscalate:()=>{}})})]})]})}function sO(){return t.jsxs(Wt,{children:[t.jsx(ke,{path:"/",element:t.jsx(Dv,{})}),t.jsx(ke,{path:"/*",element:t.jsx(Dv,{})})]})}const rO=[{id:"1",type:zr.PURCHASE,customerId:"cust-1",vehicleId:"veh-1",quoteId:"quote-1",status:Kn.SIGNED,signedDate:new Date("2024-01-18"),effectiveDate:new Date("2024-01-18"),expirationDate:new Date("2025-01-18"),terms:"Standard purchase agreement with 90-day warranty",documents:[{id:"1",name:"Purchase Agreement.pdf",type:"application/pdf",url:"/documents/purchase-agreement-1.pdf",size:245760,uploadedAt:new Date("2024-01-18")}],customFields:{},createdAt:new Date("2024-01-15"),updatedAt:new Date("2024-01-18")},{id:"2",type:zr.SERVICE,customerId:"cust-2",status:Kn.ACTIVE,effectiveDate:new Date("2024-01-10"),expirationDate:new Date("2024-07-10"),terms:"Extended service contract for 6 months",documents:[{id:"2",name:"Service Contract.pdf",type:"application/pdf",url:"/documents/service-contract-2.pdf",size:189440,uploadedAt:new Date("2024-01-10")}],customFields:{},createdAt:new Date("2024-01-08"),updatedAt:new Date("2024-01-10")}];function Av(){const[e]=f.useState(rO),[n,s]=f.useState(""),r=l=>{switch(l){case Kn.DRAFT:return"bg-gray-50 text-gray-700 border-gray-200";case Kn.PENDING:return"bg-yellow-50 text-yellow-700 border-yellow-200";case Kn.SIGNED:return"bg-blue-50 text-blue-700 border-blue-200";case Kn.ACTIVE:return"bg-green-50 text-green-700 border-green-200";case Kn.EXPIRED:return"bg-orange-50 text-orange-700 border-orange-200";case Kn.CANCELLED:return"bg-red-50 text-red-700 border-red-200";default:return"bg-gray-50 text-gray-700 border-gray-200"}},a=l=>{switch(l){case zr.PURCHASE:return"bg-blue-50 text-blue-700 border-blue-200";case zr.LEASE:return"bg-purple-50 text-purple-700 border-purple-200";case zr.SERVICE:return"bg-green-50 text-green-700 border-green-200";case zr.WARRANTY:return"bg-orange-50 text-orange-700 border-orange-200";default:return"bg-gray-50 text-gray-700 border-gray-200"}},i=e.filter(l=>l.id.toLowerCase().includes(n.toLowerCase())||l.customerId.toLowerCase().includes(n.toLowerCase())||l.type.toLowerCase().includes(n.toLowerCase()));return t.jsxs("div",{className:"space-y-8",children:[t.jsx("div",{className:"ri-page-header",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"ri-page-title",children:"Agreement Vault"}),t.jsx("p",{className:"ri-page-description",children:"Manage contracts, agreements, and legal documents"})]}),t.jsxs($,{className:"shadow-sm",children:[t.jsx(Re,{className:"h-4 w-4 mr-2"}),"New Agreement"]})]})}),t.jsxs("div",{className:"ri-stats-grid",children:[t.jsxs(U,{className:"shadow-sm border-0 bg-gradient-to-br from-blue-50 to-blue-100/50",children:[t.jsxs(G,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[t.jsx(q,{className:"text-sm font-medium text-blue-900",children:"Total Agreements"}),t.jsx($o,{className:"h-4 w-4 text-blue-600"})]}),t.jsxs(W,{children:[t.jsx("div",{className:"text-2xl font-bold text-blue-900",children:e.length}),t.jsxs("p",{className:"text-xs text-blue-600 flex items-center mt-1",children:[t.jsx(De,{className:"h-3 w-3 mr-1"}),"All contracts"]})]})]}),t.jsxs(U,{className:"shadow-sm border-0 bg-gradient-to-br from-green-50 to-green-100/50",children:[t.jsxs(G,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[t.jsx(q,{className:"text-sm font-medium text-green-900",children:"Active"}),t.jsx($o,{className:"h-4 w-4 text-green-600"})]}),t.jsxs(W,{children:[t.jsx("div",{className:"text-2xl font-bold text-green-900",children:e.filter(l=>l.status===Kn.ACTIVE).length}),t.jsxs("p",{className:"text-xs text-green-600 flex items-center mt-1",children:[t.jsx(De,{className:"h-3 w-3 mr-1"}),"Currently active"]})]})]}),t.jsxs(U,{className:"shadow-sm border-0 bg-gradient-to-br from-yellow-50 to-yellow-100/50",children:[t.jsxs(G,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[t.jsx(q,{className:"text-sm font-medium text-yellow-900",children:"Pending"}),t.jsx($o,{className:"h-4 w-4 text-yellow-600"})]}),t.jsxs(W,{children:[t.jsx("div",{className:"text-2xl font-bold text-yellow-900",children:e.filter(l=>l.status===Kn.PENDING).length}),t.jsxs("p",{className:"text-xs text-yellow-600 flex items-center mt-1",children:[t.jsx(It,{className:"h-3 w-3 mr-1"}),"Awaiting signature"]})]})]}),t.jsxs(U,{className:"shadow-sm border-0 bg-gradient-to-br from-orange-50 to-orange-100/50",children:[t.jsxs(G,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[t.jsx(q,{className:"text-sm font-medium text-orange-900",children:"Expiring Soon"}),t.jsx(It,{className:"h-4 w-4 text-orange-600"})]}),t.jsxs(W,{children:[t.jsx("div",{className:"text-2xl font-bold text-orange-900",children:"0"}),t.jsxs("p",{className:"text-xs text-orange-600 flex items-center mt-1",children:[t.jsx(It,{className:"h-3 w-3 mr-1"}),"Next 30 days"]})]})]})]}),t.jsxs("div",{className:"flex gap-4",children:[t.jsxs("div",{className:"ri-search-bar",children:[t.jsx(Lt,{className:"ri-search-icon"}),t.jsx(J,{placeholder:"Search agreements...",value:n,onChange:l=>s(l.target.value),className:"ri-search-input shadow-sm"})]}),t.jsxs($,{variant:"outline",className:"shadow-sm",children:[t.jsx(an,{className:"h-4 w-4 mr-2"}),"Filter"]})]}),t.jsxs(U,{className:"shadow-sm",children:[t.jsxs(G,{children:[t.jsx(q,{className:"text-xl",children:"Agreements"}),t.jsx(oe,{children:"Manage contracts, purchase agreements, and legal documents"})]}),t.jsx(W,{children:t.jsx("div",{className:"space-y-4",children:i.map(l=>t.jsxs("div",{className:"ri-table-row",children:[t.jsx("div",{className:"flex items-center space-x-4 flex-1",children:t.jsxs("div",{className:"flex-1",children:[t.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[t.jsxs("h3",{className:"font-semibold text-foreground",children:["Agreement #",l.id]}),t.jsx(Z,{className:ae("ri-badge-status",a(l.type)),children:l.type.toUpperCase()}),t.jsx(Z,{className:ae("ri-badge-status",r(l.status)),children:l.status.toUpperCase()})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm text-muted-foreground",children:[t.jsxs("div",{children:[t.jsx("span",{className:"font-medium",children:"Customer:"})," ",l.customerId]}),t.jsxs("div",{children:[t.jsx("span",{className:"font-medium",children:"Effective:"})," ",Pe(l.effectiveDate)]}),t.jsxs("div",{children:[t.jsx("span",{className:"font-medium",children:"Documents:"})," ",l.documents.length]}),l.expirationDate&&t.jsxs("div",{children:[t.jsx("span",{className:"font-medium",children:"Expires:"})," ",Pe(l.expirationDate)]})]}),t.jsx("div",{className:"mt-2 bg-muted/30 p-2 rounded-md",children:t.jsx("p",{className:"text-sm text-muted-foreground",children:l.terms})})]})}),t.jsxs("div",{className:"ri-action-buttons",children:[t.jsxs($,{variant:"outline",size:"sm",className:"shadow-sm",children:[t.jsx(Ar,{className:"h-3 w-3 mr-1"}),"View"]}),t.jsxs($,{variant:"outline",size:"sm",className:"shadow-sm",children:[t.jsx(zt,{className:"h-3 w-3 mr-1"}),"Edit"]}),t.jsxs($,{variant:"outline",size:"sm",className:"shadow-sm",children:[t.jsx(Vs,{className:"h-3 w-3 mr-1"}),"Download"]})]})]},l.id))})})]})]})}function aO(){return t.jsxs(Wt,{children:[t.jsx(ke,{path:"/",element:t.jsx(Av,{})}),t.jsx(ke,{path:"/*",element:t.jsx(Av,{})})]})}const iO=[{id:"1",customerId:"cust-1",vehicleId:"veh-1",title:"Annual Maintenance Service",description:"Complete annual maintenance including oil change, filter replacement, and system checks",priority:Ur.MEDIUM,status:us.IN_PROGRESS,assignedTo:"Tech-001",scheduledDate:new Date("2024-01-20"),parts:[{id:"1",partNumber:"OIL-001",description:"Engine Oil Filter",quantity:1,unitCost:25.99,total:25.99}],labor:[{id:"1",description:"Annual Maintenance",hours:3,rate:85,total:255}],notes:"Customer requested additional inspection of brake system",customFields:{},createdAt:new Date("2024-01-15"),updatedAt:new Date("2024-01-18")},{id:"2",customerId:"cust-2",vehicleId:"veh-2",title:"AC System Repair",description:"Air conditioning not cooling properly, needs diagnostic and repair",priority:Ur.HIGH,status:us.WAITING_PARTS,assignedTo:"Tech-002",scheduledDate:new Date("2024-01-22"),parts:[{id:"2",partNumber:"AC-COMP-001",description:"AC Compressor",quantity:1,unitCost:450,total:450}],labor:[{id:"2",description:"AC System Diagnostic",hours:2,rate:85,total:170}],notes:"Waiting for compressor part to arrive",customFields:{},createdAt:new Date("2024-01-12"),updatedAt:new Date("2024-01-16")}];function Tv(){const[e]=f.useState(iO),[n,s]=f.useState(""),r=l=>{switch(l){case us.OPEN:return"bg-blue-50 text-blue-700 border-blue-200";case us.IN_PROGRESS:return"bg-yellow-50 text-yellow-700 border-yellow-200";case us.WAITING_PARTS:return"bg-orange-50 text-orange-700 border-orange-200";case us.COMPLETED:return"bg-green-50 text-green-700 border-green-200";case us.CANCELLED:return"bg-red-50 text-red-700 border-red-200";default:return"bg-gray-50 text-gray-700 border-gray-200"}},a=l=>{switch(l){case Ur.LOW:return"bg-green-50 text-green-700 border-green-200";case Ur.MEDIUM:return"bg-yellow-50 text-yellow-700 border-yellow-200";case Ur.HIGH:return"bg-orange-50 text-orange-700 border-orange-200";case Ur.URGENT:return"bg-red-50 text-red-700 border-red-200";default:return"bg-gray-50 text-gray-700 border-gray-200"}},i=e.filter(l=>l.title.toLowerCase().includes(n.toLowerCase())||l.description.toLowerCase().includes(n.toLowerCase())||l.customerId.toLowerCase().includes(n.toLowerCase()));return t.jsxs("div",{className:"space-y-8",children:[t.jsx("div",{className:"ri-page-header",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"ri-page-title",children:"Service Operations"}),t.jsx("p",{className:"ri-page-description",children:"Manage service tickets and maintenance schedules"})]}),t.jsxs($,{className:"shadow-sm",children:[t.jsx(Re,{className:"h-4 w-4 mr-2"}),"New Service Ticket"]})]})}),t.jsxs("div",{className:"ri-stats-grid",children:[t.jsxs(U,{className:"shadow-sm border-0 bg-gradient-to-br from-blue-50 to-blue-100/50",children:[t.jsxs(G,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[t.jsx(q,{className:"text-sm font-medium text-blue-900",children:"Total Tickets"}),t.jsx(Vo,{className:"h-4 w-4 text-blue-600"})]}),t.jsxs(W,{children:[t.jsx("div",{className:"text-2xl font-bold text-blue-900",children:e.length}),t.jsxs("p",{className:"text-xs text-blue-600 flex items-center mt-1",children:[t.jsx(De,{className:"h-3 w-3 mr-1"}),"All service requests"]})]})]}),t.jsxs(U,{className:"shadow-sm border-0 bg-gradient-to-br from-yellow-50 to-yellow-100/50",children:[t.jsxs(G,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[t.jsx(q,{className:"text-sm font-medium text-yellow-900",children:"In Progress"}),t.jsx(Vo,{className:"h-4 w-4 text-yellow-600"})]}),t.jsxs(W,{children:[t.jsx("div",{className:"text-2xl font-bold text-yellow-900",children:e.filter(l=>l.status===us.IN_PROGRESS).length}),t.jsxs("p",{className:"text-xs text-yellow-600 flex items-center mt-1",children:[t.jsx(Ke,{className:"h-3 w-3 mr-1"}),"Currently working"]})]})]}),t.jsxs(U,{className:"shadow-sm border-0 bg-gradient-to-br from-orange-50 to-orange-100/50",children:[t.jsxs(G,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[t.jsx(q,{className:"text-sm font-medium text-orange-900",children:"Waiting Parts"}),t.jsx(Vo,{className:"h-4 w-4 text-orange-600"})]}),t.jsxs(W,{children:[t.jsx("div",{className:"text-2xl font-bold text-orange-900",children:e.filter(l=>l.status===us.WAITING_PARTS).length}),t.jsxs("p",{className:"text-xs text-orange-600 flex items-center mt-1",children:[t.jsx(Ke,{className:"h-3 w-3 mr-1"}),"Parts on order"]})]})]}),t.jsxs(U,{className:"shadow-sm border-0 bg-gradient-to-br from-green-50 to-green-100/50",children:[t.jsxs(G,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[t.jsx(q,{className:"text-sm font-medium text-green-900",children:"Revenue"}),t.jsx(Ve,{className:"h-4 w-4 text-green-600"})]}),t.jsxs(W,{children:[t.jsx("div",{className:"text-2xl font-bold text-green-900",children:re(e.reduce((l,o)=>l+o.parts.reduce((c,d)=>c+d.total,0)+o.labor.reduce((c,d)=>c+d.total,0),0))}),t.jsxs("p",{className:"text-xs text-green-600 flex items-center mt-1",children:[t.jsx(De,{className:"h-3 w-3 mr-1"}),"Service revenue"]})]})]})]}),t.jsxs("div",{className:"flex gap-4",children:[t.jsxs("div",{className:"ri-search-bar",children:[t.jsx(Lt,{className:"ri-search-icon"}),t.jsx(J,{placeholder:"Search service tickets...",value:n,onChange:l=>s(l.target.value),className:"ri-search-input shadow-sm"})]}),t.jsxs($,{variant:"outline",className:"shadow-sm",children:[t.jsx(an,{className:"h-4 w-4 mr-2"}),"Filter"]})]}),t.jsxs(U,{className:"shadow-sm",children:[t.jsxs(G,{children:[t.jsx(q,{className:"text-xl",children:"Service Tickets"}),t.jsx(oe,{children:"Manage service requests and maintenance schedules"})]}),t.jsx(W,{children:t.jsx("div",{className:"space-y-4",children:i.map(l=>t.jsxs("div",{className:"ri-table-row",children:[t.jsx("div",{className:"flex items-center space-x-4 flex-1",children:t.jsxs("div",{className:"flex-1",children:[t.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[t.jsx("h3",{className:"font-semibold text-foreground",children:l.title}),t.jsx(Z,{className:ae("ri-badge-status",a(l.priority)),children:l.priority.toUpperCase()}),t.jsx(Z,{className:ae("ri-badge-status",r(l.status)),children:l.status.replace("_"," ").toUpperCase()})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm text-muted-foreground",children:[t.jsxs("div",{className:"flex items-center",children:[t.jsx(Wn,{className:"h-3 w-3 mr-2 text-blue-500"}),t.jsx("span",{className:"font-medium",children:"Customer:"}),t.jsx("span",{className:"ml-1",children:l.customerId})]}),t.jsxs("div",{className:"flex items-center",children:[t.jsx(Wn,{className:"h-3 w-3 mr-2 text-green-500"}),t.jsx("span",{className:"font-medium",children:"Assigned:"}),t.jsx("span",{className:"ml-1",children:l.assignedTo||"Unassigned"})]}),t.jsxs("div",{className:"flex items-center",children:[t.jsx(It,{className:"h-3 w-3 mr-2 text-purple-500"}),t.jsx("span",{className:"font-medium",children:"Scheduled:"}),t.jsx("span",{className:"ml-1",children:l.scheduledDate?Pe(l.scheduledDate):"Not scheduled"})]}),t.jsxs("div",{className:"flex items-center",children:[t.jsx(Ke,{className:"h-3 w-3 mr-2 text-orange-500"}),t.jsx("span",{className:"font-medium",children:"Created:"}),t.jsx("span",{className:"ml-1",children:Pe(l.createdAt)})]})]}),t.jsxs("div",{className:"mt-2 bg-muted/30 p-2 rounded-md",children:[t.jsx("p",{className:"text-sm text-muted-foreground",children:l.description}),l.notes&&t.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:[t.jsx("span",{className:"font-medium",children:"Notes:"})," ",l.notes]})]}),t.jsxs("div",{className:"flex items-center space-x-4 mt-3 text-sm",children:[t.jsxs("span",{className:"bg-blue-50 text-blue-700 px-2 py-1 rounded-md",children:[t.jsx("span",{className:"font-medium",children:"Parts:"})," ",re(l.parts.reduce((o,c)=>o+c.total,0))]}),t.jsxs("span",{className:"bg-green-50 text-green-700 px-2 py-1 rounded-md",children:[t.jsx("span",{className:"font-medium",children:"Labor:"})," ",re(l.labor.reduce((o,c)=>o+c.total,0))]}),t.jsxs("span",{className:"bg-purple-50 text-purple-700 px-2 py-1 rounded-md font-semibold",children:[t.jsx("span",{className:"font-medium",children:"Total:"})," ",re(l.parts.reduce((o,c)=>o+c.total,0)+l.labor.reduce((o,c)=>o+c.total,0))]})]})]})}),t.jsxs("div",{className:"ri-action-buttons",children:[t.jsx($,{variant:"outline",size:"sm",className:"shadow-sm",children:"View"}),t.jsx($,{variant:"outline",size:"sm",className:"shadow-sm",children:"Edit"})]})]},l.id))})})]})]})}function lO(){return t.jsxs(Wt,{children:[t.jsx(ke,{path:"/",element:t.jsx(Tv,{})}),t.jsx(ke,{path:"/*",element:t.jsx(Tv,{})})]})}const oO=[{id:"1",customerId:"cust-1",vehicleId:"veh-1",status:ms.SCHEDULED,scheduledDate:new Date("2024-01-25"),address:{street:"123 Main St",city:"Springfield",state:"IL",zipCode:"62701",country:"USA"},driver:"Driver-001",notes:"Customer prefers morning delivery",customFields:{},createdAt:new Date("2024-01-15"),updatedAt:new Date("2024-01-18")},{id:"2",customerId:"cust-2",vehicleId:"veh-2",status:ms.IN_TRANSIT,scheduledDate:new Date("2024-01-20"),deliveredDate:void 0,address:{street:"456 Oak Ave",city:"Chicago",state:"IL",zipCode:"60601",country:"USA"},driver:"Driver-002",notes:"Call customer 30 minutes before arrival",customFields:{},createdAt:new Date("2024-01-12"),updatedAt:new Date("2024-01-20")}];function kv(){const[e]=f.useState(oO),[n,s]=f.useState(""),r=i=>{switch(i){case ms.SCHEDULED:return"bg-blue-50 text-blue-700 border-blue-200";case ms.IN_TRANSIT:return"bg-yellow-50 text-yellow-700 border-yellow-200";case ms.DELIVERED:return"bg-green-50 text-green-700 border-green-200";case ms.CANCELLED:return"bg-red-50 text-red-700 border-red-200";default:return"bg-gray-50 text-gray-700 border-gray-200"}},a=e.filter(i=>i.id.toLowerCase().includes(n.toLowerCase())||i.customerId.toLowerCase().includes(n.toLowerCase())||i.address.city.toLowerCase().includes(n.toLowerCase()));return t.jsxs("div",{className:"space-y-8",children:[t.jsx("div",{className:"ri-page-header",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"ri-page-title",children:"Delivery Tracker"}),t.jsx("p",{className:"ri-page-description",children:"Track vehicle deliveries and logistics"})]}),t.jsxs($,{className:"shadow-sm",children:[t.jsx(Re,{className:"h-4 w-4 mr-2"}),"Schedule Delivery"]})]})}),t.jsxs("div",{className:"ri-stats-grid",children:[t.jsxs(U,{className:"shadow-sm border-0 bg-gradient-to-br from-blue-50 to-blue-100/50",children:[t.jsxs(G,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[t.jsx(q,{className:"text-sm font-medium text-blue-900",children:"Total Deliveries"}),t.jsx(ga,{className:"h-4 w-4 text-blue-600"})]}),t.jsxs(W,{children:[t.jsx("div",{className:"text-2xl font-bold text-blue-900",children:e.length}),t.jsxs("p",{className:"text-xs text-blue-600 flex items-center mt-1",children:[t.jsx(De,{className:"h-3 w-3 mr-1"}),"All deliveries"]})]})]}),t.jsxs(U,{className:"shadow-sm border-0 bg-gradient-to-br from-blue-50 to-blue-100/50",children:[t.jsxs(G,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[t.jsx(q,{className:"text-sm font-medium text-blue-900",children:"Scheduled"}),t.jsx(ga,{className:"h-4 w-4 text-blue-600"})]}),t.jsxs(W,{children:[t.jsx("div",{className:"text-2xl font-bold text-blue-900",children:e.filter(i=>i.status===ms.SCHEDULED).length}),t.jsxs("p",{className:"text-xs text-blue-600 flex items-center mt-1",children:[t.jsx(It,{className:"h-3 w-3 mr-1"}),"Upcoming deliveries"]})]})]}),t.jsxs(U,{className:"shadow-sm border-0 bg-gradient-to-br from-yellow-50 to-yellow-100/50",children:[t.jsxs(G,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[t.jsx(q,{className:"text-sm font-medium text-yellow-900",children:"In Transit"}),t.jsx(ga,{className:"h-4 w-4 text-yellow-600"})]}),t.jsxs(W,{children:[t.jsx("div",{className:"text-2xl font-bold text-yellow-900",children:e.filter(i=>i.status===ms.IN_TRANSIT).length}),t.jsxs("p",{className:"text-xs text-yellow-600 flex items-center mt-1",children:[t.jsx(ga,{className:"h-3 w-3 mr-1"}),"On the road"]})]})]}),t.jsxs(U,{className:"shadow-sm border-0 bg-gradient-to-br from-green-50 to-green-100/50",children:[t.jsxs(G,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[t.jsx(q,{className:"text-sm font-medium text-green-900",children:"Delivered"}),t.jsx(ga,{className:"h-4 w-4 text-green-600"})]}),t.jsxs(W,{children:[t.jsx("div",{className:"text-2xl font-bold text-green-900",children:e.filter(i=>i.status===ms.DELIVERED).length}),t.jsxs("p",{className:"text-xs text-green-600 flex items-center mt-1",children:[t.jsx(De,{className:"h-3 w-3 mr-1"}),"Completed"]})]})]})]}),t.jsxs("div",{className:"flex gap-4",children:[t.jsxs("div",{className:"ri-search-bar",children:[t.jsx(Lt,{className:"ri-search-icon"}),t.jsx(J,{placeholder:"Search deliveries...",value:n,onChange:i=>s(i.target.value),className:"ri-search-input shadow-sm"})]}),t.jsxs($,{variant:"outline",className:"shadow-sm",children:[t.jsx(an,{className:"h-4 w-4 mr-2"}),"Filter"]})]}),t.jsxs(U,{className:"shadow-sm",children:[t.jsxs(G,{children:[t.jsx(q,{className:"text-xl",children:"Deliveries"}),t.jsx(oe,{children:"Track and manage vehicle deliveries"})]}),t.jsx(W,{children:t.jsx("div",{className:"space-y-4",children:a.map(i=>t.jsxs("div",{className:"ri-table-row",children:[t.jsx("div",{className:"flex items-center space-x-4 flex-1",children:t.jsxs("div",{className:"flex-1",children:[t.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[t.jsxs("h3",{className:"font-semibold text-foreground",children:["Delivery #",i.id]}),t.jsx(Z,{className:ae("ri-badge-status",r(i.status)),children:i.status.replace("_"," ").toUpperCase()})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm text-muted-foreground",children:[t.jsxs("div",{className:"flex items-center",children:[t.jsx(Wn,{className:"h-3 w-3 mr-2 text-blue-500"}),t.jsx("span",{className:"font-medium",children:"Customer:"}),t.jsx("span",{className:"ml-1",children:i.customerId})]}),t.jsxs("div",{className:"flex items-center",children:[t.jsx(Wn,{className:"h-3 w-3 mr-2 text-green-500"}),t.jsx("span",{className:"font-medium",children:"Driver:"}),t.jsx("span",{className:"ml-1",children:i.driver||"Not assigned"})]}),t.jsxs("div",{className:"flex items-center",children:[t.jsx(It,{className:"h-3 w-3 mr-2 text-purple-500"}),t.jsx("span",{className:"font-medium",children:"Scheduled:"}),t.jsx("span",{className:"ml-1",children:Pe(i.scheduledDate)})]}),i.deliveredDate&&t.jsxs("div",{className:"flex items-center",children:[t.jsx(It,{className:"h-3 w-3 mr-2 text-green-500"}),t.jsx("span",{className:"font-medium",children:"Delivered:"}),t.jsx("span",{className:"ml-1",children:Pe(i.deliveredDate)})]})]}),t.jsxs("div",{className:"mt-2",children:[t.jsxs("div",{className:"flex items-start bg-muted/30 p-2 rounded-md",children:[t.jsx(Ka,{className:"h-3 w-3 mr-2 mt-0.5 text-red-500"}),t.jsxs("span",{className:"text-sm text-muted-foreground",children:[i.address.street,", ",i.address.city,", ",i.address.state," ",i.address.zipCode]})]}),i.notes&&t.jsxs("p",{className:"text-sm text-muted-foreground mt-2 bg-blue-50 p-2 rounded-md",children:[t.jsx("span",{className:"font-medium",children:"Notes:"})," ",i.notes]})]})]})}),t.jsxs("div",{className:"ri-action-buttons",children:[t.jsxs($,{variant:"outline",size:"sm",className:"shadow-sm",children:[t.jsx(Ka,{className:"h-3 w-3 mr-1"}),"Track"]}),t.jsx($,{variant:"outline",size:"sm",className:"shadow-sm",children:"Edit"})]})]},i.id))})})]})]})}function cO(){return t.jsxs(Wt,{children:[t.jsx(ke,{path:"/",element:t.jsx(kv,{})}),t.jsx(ke,{path:"/*",element:t.jsx(kv,{})})]})}var ut=(e=>(e.IN_PROGRESS="in_progress",e.COMPLETED="completed",e.APPROVED="approved",e.REJECTED="rejected",e))(ut||{}),ze=(e=>(e.PENDING="pending",e.PASSED="passed",e.FAILED="failed",e.NA="na",e))(ze||{}),$t=(e=>(e.LOW="low",e.MEDIUM="medium",e.HIGH="high",e.CRITICAL="critical",e))($t||{}),Qo=(e=>(e.OPEN="open",e.IN_PROGRESS="in_progress",e.RESOLVED="resolved",e.VERIFIED="verified",e))(Qo||{}),Hr=(e=>(e.INSPECTOR="inspector",e.MANAGER="manager",e.QUALITY_CONTROL="quality_control",e))(Hr||{});function dO(){const[e,n]=f.useState([]),[s,r]=f.useState([]),[a,i]=f.useState(!1);f.useEffect(()=>{l()},[]);const l=()=>{const E=Kt("renter-insight-pdi-templates",[{id:"1",name:"RV Pre-Delivery Inspection",description:"Standard PDI checklist for recreational vehicles",vehicleType:be.RV,isActive:!0,sections:[{id:"1-1",templateId:"1",name:"Exterior",description:"Exterior inspection items",orderIndex:1,items:[{id:"1-1-1",sectionId:"1-1",name:"Exterior Body Condition",description:"Check for scratches, dents, or damage",itemType:"checkbox",isRequired:!0,orderIndex:1,createdAt:new Date("2024-01-01")},{id:"1-1-2",sectionId:"1-1",name:"Roof Inspection",description:"Check roof seals, vents, and AC units",itemType:"checkbox",isRequired:!0,orderIndex:2,createdAt:new Date("2024-01-01")},{id:"1-1-3",sectionId:"1-1",name:"Exterior Photos",description:"Take photos of all sides of the vehicle",itemType:"photo",isRequired:!0,orderIndex:3,createdAt:new Date("2024-01-01")}],createdAt:new Date("2024-01-01")},{id:"1-2",templateId:"1",name:"Interior",description:"Interior inspection items",orderIndex:2,items:[{id:"1-2-1",sectionId:"1-2",name:"Interior Cleanliness",description:"Verify interior is clean and free of debris",itemType:"checkbox",isRequired:!0,orderIndex:1,createdAt:new Date("2024-01-01")},{id:"1-2-2",sectionId:"1-2",name:"Furniture Condition",description:"Check all furniture for damage or defects",itemType:"checkbox",isRequired:!0,orderIndex:2,createdAt:new Date("2024-01-01")}],createdAt:new Date("2024-01-01")}],createdAt:new Date("2024-01-01"),updatedAt:new Date("2024-01-01")},{id:"2",name:"Motorhome Pre-Delivery Inspection",description:"Comprehensive PDI checklist for motorhomes",vehicleType:be.MOTORHOME,isActive:!0,sections:[],createdAt:new Date("2024-01-01"),updatedAt:new Date("2024-01-01")}]),N=Kt("renter-insight-pdi-inspections",[{id:"1",templateId:"1",vehicleId:"1",inspectorId:"user-001",status:ut.IN_PROGRESS,startedAt:new Date("2024-01-15"),notes:"Initial inspection for new RV",items:[{id:"1-1",inspectionId:"1",templateItemId:"1-1-1",status:ze.PASSED,notes:"No exterior damage found",createdAt:new Date("2024-01-15"),updatedAt:new Date("2024-01-15")},{id:"1-2",inspectionId:"1",templateItemId:"1-1-2",status:ze.FAILED,notes:"Roof seal damaged near AC unit",createdAt:new Date("2024-01-15"),updatedAt:new Date("2024-01-15")}],defects:[{id:"1-1",inspectionId:"1",inspectionItemId:"1-2",title:"Roof Seal Damage",description:"Damaged roof seal near AC unit on passenger side",severity:$t.MEDIUM,status:Qo.OPEN,assignedTo:"user-002",createdAt:new Date("2024-01-15"),updatedAt:new Date("2024-01-15")}],photos:[{id:"1-1",inspectionId:"1",inspectionItemId:"1-2",defectId:"1-1",url:"https://images.pexels.com/photos/1319515/pexels-photo-1319515.jpeg",caption:"Damaged roof seal",createdAt:new Date("2024-01-15")}],signoffs:[],createdAt:new Date("2024-01-15"),updatedAt:new Date("2024-01-15")}]);n(E),r(N)},o=E=>{Nt("renter-insight-pdi-templates",E)},c=E=>{Nt("renter-insight-pdi-inspections",E)};return{templates:e,inspections:s,loading:a,getTemplatesByVehicleType:E=>e.filter(N=>N.vehicleType===E&&N.isActive),getTemplateById:E=>e.find(N=>N.id===E),createTemplate:async E=>{i(!0);try{const N={id:Math.random().toString(36).substr(2,9),name:E.name||"",description:E.description||"",vehicleType:E.vehicleType||be.RV,isActive:E.isActive??!0,sections:E.sections||[],createdAt:new Date,updatedAt:new Date},D=[...e,N];return n(D),o(D),N}finally{i(!1)}},updateTemplate:async(E,N)=>{const D=e.map(A=>A.id===E?{...A,...N,updatedAt:new Date}:A);n(D),o(D)},deleteTemplate:async E=>{const N=e.filter(D=>D.id!==E);n(N),o(N)},createTemplateSection:async(E,N)=>{const D=e.find(P=>P.id===E);if(!D)return null;const A={id:Math.random().toString(36).substr(2,9),templateId:E,name:N.name||"",description:N.description||"",orderIndex:N.orderIndex||D.sections.length+1,items:N.items||[],createdAt:new Date},_={...D,sections:[...D.sections,A],updatedAt:new Date},V=e.map(P=>P.id===E?_:P);return n(V),o(V),A},createTemplateItem:async(E,N)=>{const D=e.findIndex(z=>z.sections.some(H=>H.id===E));if(D===-1)return null;const A=e[D],_=A.sections.findIndex(z=>z.id===E);if(_===-1)return null;const V=A.sections[_],P={id:Math.random().toString(36).substr(2,9),sectionId:E,name:N.name||"",description:N.description||"",itemType:N.itemType||"checkbox",isRequired:N.isRequired??!0,orderIndex:N.orderIndex||V.items.length+1,createdAt:new Date},R={...V,items:[...V.items,P]},M=[...A.sections];M[_]=R;const F={...A,sections:M,updatedAt:new Date},B=[...e];return B[D]=F,n(B),o(B),P},getInspectionsByVehicleId:E=>s.filter(N=>N.vehicleId===E),getInspectionById:E=>s.find(N=>N.id===E),createInspection:async E=>{i(!0);try{const N=e.find(V=>V.id===E.templateId);if(!N)throw new Error("Template not found");const D=[];N.sections.forEach(V=>{V.items.forEach(P=>{D.push({id:Math.random().toString(36).substr(2,9),inspectionId:"",templateItemId:P.id,templateItem:P,status:ze.PENDING,createdAt:new Date,updatedAt:new Date})})});const A={id:Math.random().toString(36).substr(2,9),templateId:E.templateId||"",template:N||void 0,vehicleId:E.vehicleId||"",inspectorId:E.inspectorId||"",status:ut.IN_PROGRESS,startedAt:new Date,notes:E.notes||"",items:[],defects:[],photos:[],signoffs:[],createdAt:new Date,updatedAt:new Date};D.forEach(V=>{V.inspectionId=A.id}),A.items=D;const _=[...s,A];return r(_),c(_),A}finally{i(!1)}},updateInspection:async(E,N)=>{const D=s.map(A=>A.id===E?{...A,...N,updatedAt:new Date}:A);r(D),c(D)},updateInspectionItem:async(E,N,D)=>{const A=s.findIndex(F=>F.id===E);if(A===-1)return;const _=s[A],V=_.items.findIndex(F=>F.id===N);if(V===-1)return;const P=[..._.items];P[V]={...P[V],...D,updatedAt:new Date};const R={..._,items:P,updatedAt:new Date},M=[...s];M[A]=R,r(M),c(M)},completeInspection:async(E,N)=>{const D=s.findIndex(R=>R.id===E);if(D===-1)return;const A=s[D];if(!A.items.every(R=>{const M=e.flatMap(F=>F.sections).flatMap(F=>F.items).find(F=>F.id===R.templateItemId);return!(M!=null&&M.isRequired)||R.status!==ze.PENDING}))throw new Error("All required items must be completed");const V={...A,status:ut.COMPLETED,completedAt:new Date,notes:N||A.notes,updatedAt:new Date},P=[...s];P[D]=V,r(P),c(P)},createDefect:async(E,N)=>{const D=s.findIndex(R=>R.id===E);if(D===-1)return null;const A=s[D],_={id:Math.random().toString(36).substr(2,9),inspectionId:E,inspectionItemId:N.inspectionItemId,title:N.title||"",description:N.description||"",severity:N.severity||$t.MEDIUM,status:Qo.OPEN,assignedTo:N.assignedTo,photos:[],createdAt:new Date,updatedAt:new Date},V={...A,defects:[...A.defects,_],updatedAt:new Date},P=[...s];return P[D]=V,r(P),c(P),_},updateDefect:async(E,N,D)=>{const A=s.findIndex(F=>F.id===E);if(A===-1)return;const _=s[A],V=_.defects.findIndex(F=>F.id===N);if(V===-1)return;const P=[..._.defects];P[V]={...P[V],...D,updatedAt:new Date};const R={..._,defects:P,updatedAt:new Date},M=[...s];M[A]=R,r(M),c(M)},resolveDefect:async(E,N,D)=>{const A=s.findIndex(F=>F.id===E);if(A===-1)return;const _=s[A],V=_.defects.findIndex(F=>F.id===N);if(V===-1)return;const P=[..._.defects];P[V]={...P[V],status:Qo.RESOLVED,resolvedAt:new Date,resolutionNotes:D,updatedAt:new Date};const R={..._,defects:P,updatedAt:new Date},M=[...s];M[A]=R,r(M),c(M)},addPhoto:async(E,N)=>{const D=s.findIndex(R=>R.id===E);if(D===-1)return null;const A=s[D],_={id:Math.random().toString(36).substr(2,9),inspectionId:E,inspectionItemId:N.inspectionItemId,defectId:N.defectId,url:N.url||"",caption:N.caption,createdAt:new Date},V={...A,photos:[...A.photos,_],updatedAt:new Date},P=[...s];return P[D]=V,r(P),c(P),_},addSignoff:async(E,N)=>{const D=s.findIndex(M=>M.id===E);if(D===-1)return null;const A=s[D],_={id:Math.random().toString(36).substr(2,9),inspectionId:E,userId:N.userId||"",role:N.role||Hr.INSPECTOR,signatureUrl:N.signatureUrl,notes:N.notes,signedAt:new Date,createdAt:new Date};let V=A.status;N.role===Hr.MANAGER&&(V=ut.APPROVED);const P={...A,signoffs:[...A.signoffs,_],status:V,updatedAt:new Date},R=[...s];return R[D]=P,r(R),c(R),_}}}function uO({templates:e,onCreateTemplate:n,onEditTemplate:s,onDeleteTemplate:r,onDuplicateTemplate:a,onViewTemplate:i}){const[l,o]=f.useState(""),[c,d]=f.useState("all"),m=e.filter(p=>{var j;const h=p.name.toLowerCase().includes(l.toLowerCase())||((j=p.description)==null?void 0:j.toLowerCase().includes(l.toLowerCase())),v=c==="all"||p.vehicleType===c;return h&&v}),u=p=>p.replace("_"," ").toUpperCase();return t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[t.jsxs("div",{className:"ri-search-bar flex-1",children:[t.jsx(Lt,{className:"ri-search-icon"}),t.jsx(J,{placeholder:"Search templates...",value:l,onChange:p=>o(p.target.value),className:"ri-search-input shadow-sm"})]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsxs("select",{value:c,onChange:p=>d(p.target.value),className:"px-3 py-2 rounded-md border border-input bg-background",children:[t.jsx("option",{value:"all",children:"All Types"}),t.jsx("option",{value:"rv",children:"RV"}),t.jsx("option",{value:"motorhome",children:"Motorhome"}),t.jsx("option",{value:"travel_trailer",children:"Travel Trailer"}),t.jsx("option",{value:"fifth_wheel",children:"Fifth Wheel"}),t.jsx("option",{value:"toy_hauler",children:"Toy Hauler"})]}),t.jsxs($,{variant:"outline",className:"shadow-sm",children:[t.jsx(an,{className:"h-4 w-4 mr-2"}),"Filter"]}),t.jsxs($,{onClick:n,className:"shadow-sm",children:[t.jsx(Re,{className:"h-4 w-4 mr-2"}),"New Template"]})]})]}),t.jsxs(U,{className:"shadow-sm",children:[t.jsxs(G,{children:[t.jsxs(q,{className:"text-xl",children:["PDI Templates (",m.length,")"]}),t.jsx(oe,{children:"Manage pre-delivery inspection templates for different vehicle types"})]}),t.jsx(W,{children:t.jsxs("div",{className:"space-y-4",children:[m.map(p=>t.jsxs("div",{className:"ri-table-row",children:[t.jsx("div",{className:"flex items-center space-x-4 flex-1",children:t.jsxs("div",{className:"flex-1",children:[t.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[t.jsx("h3",{className:"font-semibold text-foreground",children:p.name}),t.jsx(Z,{variant:"outline",children:u(p.vehicleType)}),p.isActive?t.jsx(Z,{className:"bg-green-50 text-green-700 border-green-200",children:"ACTIVE"}):t.jsx(Z,{className:"bg-gray-50 text-gray-700 border-gray-200",children:"INACTIVE"})]}),t.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:p.description}),t.jsxs("div",{className:"flex items-center space-x-4 text-sm",children:[t.jsxs("span",{className:"flex items-center",children:[t.jsx(Gm,{className:"h-3 w-3 mr-1 text-blue-500"}),p.sections.length," sections"]}),t.jsxs("span",{className:"flex items-center",children:[t.jsx(jf,{className:"h-3 w-3 mr-1 text-green-500"}),p.sections.reduce((h,v)=>h+v.items.length,0)," items"]})]})]})}),t.jsxs("div",{className:"ri-action-buttons",children:[t.jsx($,{variant:"outline",size:"sm",className:"shadow-sm",onClick:()=>i(p),children:"View"}),t.jsxs($,{variant:"outline",size:"sm",className:"shadow-sm",onClick:()=>s(p),children:[t.jsx(zt,{className:"h-3 w-3 mr-1"}),"Edit"]}),t.jsxs($,{variant:"outline",size:"sm",className:"shadow-sm",onClick:()=>a(p),children:[t.jsx(bf,{className:"h-3 w-3 mr-1"}),"Duplicate"]}),t.jsx($,{variant:"outline",size:"sm",className:"shadow-sm text-red-600 hover:text-red-700",onClick:()=>r(p.id),children:t.jsx(Un,{className:"h-3 w-3"})})]})]},p.id)),m.length===0&&t.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[t.jsx(Gm,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground/50"}),t.jsx("p",{children:"No templates found"}),t.jsx("p",{className:"text-sm",children:"Create your first template to get started"})]})]})})]})]})}function mO({template:e,onSave:n,onCancel:s}){var E;const{toast:r}=ot(),[a,i]=f.useState(!1),[l,o]=f.useState({name:"",description:"",vehicleType:be.RV,isActive:!0,sections:[]}),[c,d]=f.useState(!1),[m,u]=f.useState({name:"",description:"",items:[]}),[p,h]=f.useState(null),[v,j]=f.useState(!1),[y,g]=f.useState({name:"",description:"",itemType:"checkbox",isRequired:!0});f.useEffect(()=>{e&&o({...e})},[e]);const x=async N=>{if(N.preventDefault(),!l.name){r({title:"Validation Error",description:"Template name is required",variant:"destructive"});return}if(!l.vehicleType){r({title:"Validation Error",description:"Vehicle type is required",variant:"destructive"});return}if(!l.sections||l.sections.length===0){r({title:"Validation Error",description:"At least one section is required",variant:"destructive"});return}const D=l.sections.filter(A=>!A.items||A.items.length===0);if(D.length>0){r({title:"Validation Error",description:`Section "${D[0].name}" must have at least one item`,variant:"destructive"});return}i(!0);try{await n(l),r({title:"Success",description:`Template ${e?"updated":"created"} successfully`})}catch{r({title:"Error",description:`Failed to ${e?"update":"create"} template`,variant:"destructive"})}finally{i(!1)}},b=()=>{var D;if(!m.name){r({title:"Validation Error",description:"Section name is required",variant:"destructive"});return}const N={id:Math.random().toString(36).substr(2,9),templateId:(e==null?void 0:e.id)||"",name:m.name,description:m.description||"",orderIndex:(((D=l.sections)==null?void 0:D.length)||0)+1,items:[],createdAt:new Date};o(A=>({...A,sections:[...A.sections||[],N]})),u({name:"",description:"",items:[]}),d(!1)},T=N=>{o(D=>{var A;return{...D,sections:((A=D.sections)==null?void 0:A.filter(_=>_.id!==N))||[]}})},L=N=>{const D=[...l.sections||[]],A=D.findIndex(_=>_.id===N);A<=0||([D[A-1],D[A]]=[D[A],D[A-1]],D.forEach((_,V)=>{_.orderIndex=V+1}),o(_=>({..._,sections:D})))},k=N=>{const D=[...l.sections||[]],A=D.findIndex(_=>_.id===N);A===-1||A>=D.length-1||([D[A],D[A+1]]=[D[A+1],D[A]],D.forEach((_,V)=>{_.orderIndex=V+1}),o(_=>({..._,sections:D})))},I=N=>{var P;if(!y.name){r({title:"Validation Error",description:"Item name is required",variant:"destructive"});return}const D=[...l.sections||[]],A=D.findIndex(R=>R.id===N);if(A===-1)return;const _=D[A],V={id:Math.random().toString(36).substr(2,9),sectionId:N,name:y.name,description:y.description||"",itemType:y.itemType||"checkbox",isRequired:y.isRequired??!0,orderIndex:(((P=_.items)==null?void 0:P.length)||0)+1,createdAt:new Date};_.items=[..._.items||[],V],D[A]=_,o(R=>({...R,sections:D})),g({name:"",description:"",itemType:"checkbox",isRequired:!0}),j(!1)},w=(N,D)=>{const A=[...l.sections||[]],_=A.findIndex(P=>P.id===N);if(_===-1)return;const V=A[_];V.items=V.items.filter(P=>P.id!==D),A[_]=V,o(P=>({...P,sections:A}))},S=(N,D)=>{const A=[...l.sections||[]],_=A.findIndex(M=>M.id===N);if(_===-1)return;const V=A[_],P=[...V.items],R=P.findIndex(M=>M.id===D);R<=0||([P[R-1],P[R]]=[P[R],P[R-1]],P.forEach((M,F)=>{M.orderIndex=F+1}),V.items=P,A[_]=V,o(M=>({...M,sections:A})))},C=(N,D)=>{const A=[...l.sections||[]],_=A.findIndex(M=>M.id===N);if(_===-1)return;const V=A[_],P=[...V.items],R=P.findIndex(M=>M.id===D);R===-1||R>=P.length-1||([P[R],P[R+1]]=[P[R+1],P[R]],P.forEach((M,F)=>{M.orderIndex=F+1}),V.items=P,A[_]=V,o(M=>({...M,sections:A})))};return t.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:t.jsxs(U,{className:"w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[t.jsx(G,{children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx(q,{children:e?"Edit Template":"Create Template"}),t.jsx(oe,{children:e?"Update PDI template details":"Create a new PDI template"})]}),t.jsx($,{variant:"ghost",size:"sm",onClick:s,children:t.jsx(nt,{className:"h-4 w-4"})})]})}),t.jsx(W,{children:t.jsxs("form",{onSubmit:x,className:"space-y-6",children:[t.jsxs("div",{className:"space-y-4",children:[t.jsx("h3",{className:"text-lg font-semibold",children:"Template Information"}),t.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[t.jsxs("div",{children:[t.jsx(Q,{htmlFor:"name",children:"Template Name *"}),t.jsx(J,{id:"name",value:l.name,onChange:N=>o(D=>({...D,name:N.target.value})),placeholder:"e.g., RV Pre-Delivery Inspection"})]}),t.jsxs("div",{children:[t.jsx(Q,{htmlFor:"vehicleType",children:"Home/Vehicle Type *"}),t.jsxs(ge,{value:l.vehicleType,onValueChange:N=>o(D=>({...D,vehicleType:N})),children:[t.jsx(he,{children:t.jsx(ve,{})}),t.jsxs(xe,{children:[t.jsx(O,{value:be.RV,children:"RV"}),t.jsx(O,{value:be.MOTORHOME,children:"Motorhome"}),t.jsx(O,{value:be.TRAVEL_TRAILER,children:"Travel Trailer"}),t.jsx(O,{value:be.FIFTH_WHEEL,children:"Fifth Wheel"}),t.jsx(O,{value:be.TOY_HAULER,children:"Toy Hauler"}),t.jsx(O,{value:be.SINGLE_WIDE,children:"Single Wide MH"}),t.jsx(O,{value:be.DOUBLE_WIDE,children:"Double Wide MH"}),t.jsx(O,{value:be.TRIPLE_WIDE,children:"Triple Wide MH"}),t.jsx(O,{value:be.PARK_MODEL,children:"Park Model"}),t.jsx(O,{value:be.MODULAR_HOME,children:"Modular Home"})]})]})]})]}),t.jsxs("div",{children:[t.jsx(Q,{htmlFor:"description",children:"Description"}),t.jsx(Ze,{id:"description",value:l.description,onChange:N=>o(D=>({...D,description:N.target.value})),placeholder:"Describe the purpose and scope of this template",rows:3})]}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(Je,{id:"isActive",checked:l.isActive,onCheckedChange:N=>o(D=>({...D,isActive:!!N}))}),t.jsx(Q,{htmlFor:"isActive",children:"Active template"})]})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("h3",{className:"text-lg font-semibold",children:"Sections"}),t.jsxs($,{type:"button",onClick:()=>d(!0),size:"sm",children:[t.jsx(Re,{className:"h-4 w-4 mr-2"}),"Add Section"]})]}),c&&t.jsx(U,{className:"border-dashed",children:t.jsx(W,{className:"pt-6",children:t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx(Q,{htmlFor:"sectionName",children:"Section Name *"}),t.jsx(J,{id:"sectionName",value:m.name,onChange:N=>u(D=>({...D,name:N.target.value})),placeholder:"e.g., Exterior Inspection"})]}),t.jsxs("div",{children:[t.jsx(Q,{htmlFor:"sectionDescription",children:"Description"}),t.jsx(Ze,{id:"sectionDescription",value:m.description,onChange:N=>u(D=>({...D,description:N.target.value})),placeholder:"Describe this section",rows:2})]}),t.jsxs("div",{className:"flex justify-end space-x-2",children:[t.jsx($,{type:"button",variant:"outline",onClick:()=>d(!1),children:"Cancel"}),t.jsx($,{type:"button",onClick:b,children:"Add Section"})]})]})})}),t.jsxs("div",{className:"space-y-6",children:[(E=l.sections)==null?void 0:E.map(N=>{var D;return t.jsxs(U,{className:"shadow-sm",children:[t.jsx(G,{className:"pb-3",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx(q,{className:"text-lg",children:N.name}),N.description&&t.jsx(oe,{children:N.description})]}),t.jsxs("div",{className:"flex items-center space-x-1",children:[t.jsx($,{type:"button",variant:"ghost",size:"sm",onClick:()=>L(N.id),disabled:N.orderIndex<=1,children:t.jsx(Rs,{className:"h-4 w-4"})}),t.jsx($,{type:"button",variant:"ghost",size:"sm",onClick:()=>k(N.id),disabled:N.orderIndex>=(((D=l.sections)==null?void 0:D.length)||0),children:t.jsx(Ps,{className:"h-4 w-4"})}),t.jsx($,{type:"button",variant:"ghost",size:"sm",onClick:()=>T(N.id),children:t.jsx(Un,{className:"h-4 w-4 text-red-500"})})]})]})}),t.jsx(W,{children:t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("h4",{className:"text-sm font-semibold",children:["Items (",N.items.length,")"]}),t.jsxs($,{type:"button",size:"sm",variant:"outline",onClick:()=>{h(N.id),j(!0)},children:[t.jsx(Re,{className:"h-3 w-3 mr-1"}),"Add Item"]})]}),v&&p===N.id&&t.jsx(U,{className:"border-dashed",children:t.jsx(W,{className:"pt-6",children:t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[t.jsxs("div",{children:[t.jsx(Q,{htmlFor:"itemName",children:"Item Name *"}),t.jsx(J,{id:"itemName",value:y.name,onChange:A=>g(_=>({..._,name:A.target.value})),placeholder:"e.g., Check Exterior Body Condition"})]}),t.jsxs("div",{children:[t.jsx(Q,{htmlFor:"itemType",children:"Item Type"}),t.jsxs(ge,{value:y.itemType,onValueChange:A=>g(_=>({..._,itemType:A})),children:[t.jsx(he,{children:t.jsx(ve,{})}),t.jsxs(xe,{children:[t.jsx(O,{value:"checkbox",children:"Checkbox"}),t.jsx(O,{value:"text",children:"Text Input"}),t.jsx(O,{value:"number",children:"Number Input"}),t.jsx(O,{value:"photo",children:"Photo Upload"})]})]})]})]}),t.jsxs("div",{children:[t.jsx(Q,{htmlFor:"itemDescription",children:"Description"}),t.jsx(Ze,{id:"itemDescription",value:y.description,onChange:A=>g(_=>({..._,description:A.target.value})),placeholder:"Describe this inspection item",rows:2})]}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(Je,{id:"isRequired",checked:y.isRequired,onCheckedChange:A=>g(_=>({..._,isRequired:!!A}))}),t.jsx(Q,{htmlFor:"isRequired",children:"Required item"})]}),t.jsxs("div",{className:"flex justify-end space-x-2",children:[t.jsx($,{type:"button",variant:"outline",onClick:()=>{j(!1),h(null)},children:"Cancel"}),t.jsx($,{type:"button",onClick:()=>I(N.id),children:"Add Item"})]})]})})}),t.jsxs("div",{className:"space-y-2",children:[N.items.map(A=>t.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[t.jsxs("div",{className:"flex-1",children:[t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("span",{className:"font-medium",children:A.name}),t.jsx(Z,{variant:"outline",className:"text-xs",children:A.itemType}),A.isRequired&&t.jsx(Z,{className:"bg-blue-50 text-blue-700 border-blue-200 text-xs",children:"Required"})]}),A.description&&t.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:A.description})]}),t.jsxs("div",{className:"flex items-center space-x-1",children:[t.jsx($,{type:"button",variant:"ghost",size:"sm",onClick:()=>S(N.id,A.id),disabled:A.orderIndex<=1,children:t.jsx(Rs,{className:"h-3 w-3"})}),t.jsx($,{type:"button",variant:"ghost",size:"sm",onClick:()=>C(N.id,A.id),disabled:A.orderIndex>=N.items.length,children:t.jsx(Ps,{className:"h-3 w-3"})}),t.jsx($,{type:"button",variant:"ghost",size:"sm",onClick:()=>w(N.id,A.id),children:t.jsx(Un,{className:"h-3 w-3 text-red-500"})})]})]},A.id)),N.items.length===0&&t.jsxs("div",{className:"text-center py-4 text-sm text-muted-foreground border-2 border-dashed rounded-lg",children:[t.jsx(jf,{className:"h-8 w-8 mx-auto mb-2 text-muted-foreground/50"}),t.jsx("p",{children:"No items added yet"}),t.jsx("p",{className:"text-xs",children:"Add items to this section"})]})]})]})})]},N.id)}),(!l.sections||l.sections.length===0)&&t.jsxs("div",{className:"text-center py-8 text-muted-foreground border-2 border-dashed rounded-lg",children:[t.jsx(Gm,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground/50"}),t.jsx("p",{children:"No sections added yet"}),t.jsx("p",{className:"text-sm",children:"Add sections to organize your checklist"})]})]})]}),t.jsxs("div",{className:"flex justify-end space-x-3 pt-6 border-t",children:[t.jsx($,{type:"button",variant:"outline",onClick:s,disabled:a,children:"Cancel"}),t.jsx($,{type:"submit",disabled:a,children:a?t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),e?"Updating...":"Creating..."]}):t.jsxs(t.Fragment,{children:[t.jsx(Dn,{className:"h-4 w-4 mr-2"}),e?"Update":"Create"," Template"]})})]})]})})]})})}function pO({inspections:e,onCreateInspection:n,onViewInspection:s,onContinueInspection:r}){const[a,i]=f.useState(""),[l,o]=f.useState("all"),c=e.filter(u=>{const p=u.id.toLowerCase().includes(a.toLowerCase())||u.vehicleId.toLowerCase().includes(a.toLowerCase()),h=l==="all"||u.status===l;return p&&h}),d=u=>{switch(u){case ut.IN_PROGRESS:return"bg-yellow-50 text-yellow-700 border-yellow-200";case ut.COMPLETED:return"bg-blue-50 text-blue-700 border-blue-200";case ut.APPROVED:return"bg-green-50 text-green-700 border-green-200";case ut.REJECTED:return"bg-red-50 text-red-700 border-red-200";default:return"bg-gray-50 text-gray-700 border-gray-200"}},m=u=>{switch(u){case ut.IN_PROGRESS:return t.jsx(Ke,{className:"h-4 w-4 text-yellow-500"});case ut.COMPLETED:return t.jsx(bn,{className:"h-4 w-4 text-blue-500"});case ut.APPROVED:return t.jsx(bn,{className:"h-4 w-4 text-green-500"});case ut.REJECTED:return t.jsx(Wi,{className:"h-4 w-4 text-red-500"});default:return t.jsx(Ke,{className:"h-4 w-4 text-gray-500"})}};return t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[t.jsxs("div",{className:"ri-search-bar flex-1",children:[t.jsx(Lt,{className:"ri-search-icon"}),t.jsx(J,{placeholder:"Search inspections...",value:a,onChange:u=>i(u.target.value),className:"ri-search-input shadow-sm"})]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsxs("select",{value:l,onChange:u=>o(u.target.value),className:"px-3 py-2 rounded-md border border-input bg-background",children:[t.jsx("option",{value:"all",children:"All Status"}),t.jsx("option",{value:"in_progress",children:"In Progress"}),t.jsx("option",{value:"completed",children:"Completed"}),t.jsx("option",{value:"approved",children:"Approved"}),t.jsx("option",{value:"rejected",children:"Rejected"})]}),t.jsxs($,{variant:"outline",className:"shadow-sm",children:[t.jsx(an,{className:"h-4 w-4 mr-2"}),"Filter"]}),t.jsxs($,{onClick:n,className:"shadow-sm",children:[t.jsx(Re,{className:"h-4 w-4 mr-2"}),"New Inspection"]})]})]}),t.jsxs(U,{className:"shadow-sm",children:[t.jsxs(G,{children:[t.jsxs(q,{className:"text-xl",children:["Home/Vehicle PDI Inspections (",c.length,")"]}),t.jsx(oe,{children:"Manage pre-delivery inspections for homes and vehicles"})]}),t.jsx(W,{children:t.jsxs("div",{className:"space-y-4",children:[c.map(u=>{var p,h,v;return t.jsxs("div",{className:"ri-table-row",children:[t.jsx("div",{className:"flex items-center space-x-4 flex-1",children:t.jsxs("div",{className:"flex-1",children:[t.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[t.jsxs("h3",{className:"font-semibold text-foreground",children:["Inspection #",u.id.substring(0,8)]}),t.jsxs(Z,{className:ae("ri-badge-status",d(u.status)),children:[m(u.status),t.jsx("span",{className:"ml-1",children:u.status.replace("_"," ").toUpperCase()})]})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm text-muted-foreground",children:[t.jsxs("div",{children:[t.jsx("span",{className:"font-medium",children:"Vehicle:"}),t.jsxs("span",{className:"ml-1",children:[(p=u.vehicle)==null?void 0:p.make," ",(h=u.vehicle)==null?void 0:h.model," (",u.vehicleId,")"]})]}),t.jsxs("div",{children:[t.jsx("span",{className:"font-medium",children:"Inspector:"}),t.jsx("span",{className:"ml-1",children:((v=u.inspector)==null?void 0:v.name)||u.inspectorId})]}),t.jsxs("div",{children:[t.jsx("span",{className:"font-medium",children:"Started:"}),t.jsx("span",{className:"ml-1",children:Pe(u.startedAt)})]}),u.completedAt&&t.jsxs("div",{children:[t.jsx("span",{className:"font-medium",children:"Completed:"}),t.jsx("span",{className:"ml-1",children:Pe(u.completedAt)})]})]}),t.jsxs("div",{className:"flex items-center space-x-4 mt-2 text-sm",children:[t.jsxs("span",{className:"flex items-center",children:[t.jsx(bn,{className:"h-3 w-3 mr-1 text-green-500"}),u.items.filter(j=>j.status==="passed").length," passed"]}),t.jsxs("span",{className:"flex items-center",children:[t.jsx(Wi,{className:"h-3 w-3 mr-1 text-red-500"}),u.items.filter(j=>j.status==="failed").length," failed"]}),t.jsxs("span",{className:"flex items-center",children:[t.jsx(Ke,{className:"h-3 w-3 mr-1 text-yellow-500"}),u.items.filter(j=>j.status==="pending").length," pending"]})]}),u.defects.length>0&&t.jsx("div",{className:"mt-2 bg-red-50 p-2 rounded-md",children:t.jsxs("p",{className:"text-sm text-red-700 flex items-center",children:[t.jsx(Wi,{className:"h-3 w-3 mr-1"}),u.defects.length," defect",u.defects.length!==1?"s":""," found"]})})]})}),t.jsx("div",{className:"ri-action-buttons",children:u.status===ut.IN_PROGRESS?t.jsxs($,{variant:"outline",size:"sm",className:"shadow-sm",onClick:()=>r(u),children:[t.jsx(ta,{className:"h-3 w-3 mr-1"}),"Continue"]}):t.jsxs($,{variant:"outline",size:"sm",className:"shadow-sm",onClick:()=>s(u),children:[t.jsx(Ar,{className:"h-3 w-3 mr-1"}),"View"]})})]},u.id)}),c.length===0&&t.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[t.jsx(ta,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground/50"}),t.jsx("p",{children:"No inspections found"}),t.jsx("p",{className:"text-sm",children:"Create your first inspection to get started"})]})]})})]})]})}function fO({inspection:e,vehicles:n,onSave:s,onComplete:r,onUpdateItem:a,onAddDefect:i,onAddPhoto:l,onCancel:o}){var M;const{toast:c}=ot(),[d,m]=f.useState(!1),[u,p]=f.useState("checklist"),[h,v]=f.useState(e.notes||""),[j,y]=f.useState(!1),[g,x]=f.useState(null),[b,T]=f.useState({title:"",description:"",severity:$t.MEDIUM}),[L,k]=f.useState(!1),[I,w]=f.useState("");f.useEffect(()=>{v(e.notes||"")},[e]);const{getRootProps:S,getInputProps:C}=Uf({accept:{"image/*":[]},onDrop:F=>{if(F.length===0)return;const B=F[0],z=URL.createObjectURL(B);_(z)}}),E=async()=>{m(!0);try{await s({notes:h}),c({title:"Success",description:"Inspection saved successfully"})}catch{c({title:"Error",description:"Failed to save inspection",variant:"destructive"})}finally{m(!1)}},N=async()=>{const F=e.items.filter(B=>{const z=B.templateItem;return(z==null?void 0:z.isRequired)&&B.status===ze.PENDING});if(F.length>0){c({title:"Incomplete Inspection",description:`${F.length} required items are still pending`,variant:"destructive"});return}m(!0);try{await r(e.id,h),c({title:"Success",description:"Inspection completed successfully"}),o()}catch{c({title:"Error",description:"Failed to complete inspection",variant:"destructive"})}finally{m(!1)}},D=async(F,B,z,H)=>{try{await a(e.id,F,{status:B,value:z,notes:H}),B===ze.FAILED&&(x(F),y(!0))}catch{c({title:"Error",description:"Failed to update item",variant:"destructive"})}},A=async()=>{if(!b.title||!b.description){c({title:"Validation Error",description:"Title and description are required",variant:"destructive"});return}try{await i(e.id,{...b,inspectionItemId:g||void 0}),T({title:"",description:"",severity:$t.MEDIUM}),x(null),y(!1),c({title:"Success",description:"Defect added successfully"})}catch{c({title:"Error",description:"Failed to add defect",variant:"destructive"})}},_=async F=>{try{await l(e.id,{url:F,inspectionItemId:g||void 0,caption:I}),w(""),k(!1),c({title:"Success",description:"Photo added successfully"})}catch{c({title:"Error",description:"Failed to add photo",variant:"destructive"})}},V=F=>{switch(F){case ze.PENDING:return"bg-yellow-50 text-yellow-700 border-yellow-200";case ze.PASSED:return"bg-green-50 text-green-700 border-green-200";case ze.FAILED:return"bg-red-50 text-red-700 border-red-200";case ze.NA:return"bg-gray-50 text-gray-700 border-gray-200";default:return"bg-gray-50 text-gray-700 border-gray-200"}},P=F=>{switch(F){case $t.LOW:return"bg-blue-50 text-blue-700 border-blue-200";case $t.MEDIUM:return"bg-yellow-50 text-yellow-700 border-yellow-200";case $t.HIGH:return"bg-orange-50 text-orange-700 border-orange-200";case $t.CRITICAL:return"bg-red-50 text-red-700 border-red-200";default:return"bg-gray-50 text-gray-700 border-gray-200"}},R=n.find(F=>F.id===e.vehicleId);return t.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:t.jsxs(U,{className:"w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[t.jsx(G,{children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx(q,{children:"PDI Inspection"}),t.jsx(oe,{children:R?`${R.year} ${R.make} ${R.model}`:e.vehicleId})]}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(Z,{className:ae("ri-badge-status",e.status===ut.IN_PROGRESS?"bg-yellow-50 text-yellow-700 border-yellow-200":e.status===ut.COMPLETED?"bg-blue-50 text-blue-700 border-blue-200":e.status===ut.APPROVED?"bg-green-50 text-green-700 border-green-200":"bg-red-50 text-red-700 border-red-200"),children:e.status.replace("_"," ").toUpperCase()}),t.jsx($,{variant:"ghost",size:"sm",onClick:o,children:t.jsx(nt,{className:"h-4 w-4"})})]})]})}),t.jsx(W,{children:t.jsxs(bt,{value:u,onValueChange:p,className:"space-y-4",children:[t.jsxs(jt,{className:"grid w-full grid-cols-3",children:[t.jsx(je,{value:"checklist",children:"Checklist"}),t.jsxs(je,{value:"defects",children:["Defects",e.defects.length>0&&t.jsx(Z,{className:"ml-2 bg-red-50 text-red-700 border-red-200",children:e.defects.length})]}),t.jsxs(je,{value:"photos",children:["Photos",e.photos.length>0&&t.jsx(Z,{className:"ml-2 bg-blue-50 text-blue-700 border-blue-200",children:e.photos.length})]})]}),t.jsxs(we,{value:"checklist",className:"space-y-6",children:[j&&t.jsxs(U,{className:"border-2 border-red-200",children:[t.jsxs(G,{className:"bg-red-50",children:[t.jsxs(q,{className:"text-lg text-red-700 flex items-center",children:[t.jsx(Zn,{className:"h-5 w-5 mr-2"}),"Report Defect"]}),t.jsx(oe,{className:"text-red-600",children:"Record details about the issue found"})]}),t.jsxs(W,{className:"pt-6 space-y-4",children:[t.jsxs("div",{children:[t.jsx(Q,{htmlFor:"defectTitle",children:"Defect Title *"}),t.jsx(J,{id:"defectTitle",value:b.title,onChange:F=>T(B=>({...B,title:F.target.value})),placeholder:"e.g., Damaged Roof Seal"})]}),t.jsxs("div",{children:[t.jsx(Q,{htmlFor:"defectDescription",children:"Description *"}),t.jsx(Ze,{id:"defectDescription",value:b.description,onChange:F=>T(B=>({...B,description:F.target.value})),placeholder:"Describe the defect in detail",rows:3})]}),t.jsxs("div",{children:[t.jsx(Q,{htmlFor:"defectSeverity",children:"Severity"}),t.jsxs(ge,{value:b.severity,onValueChange:F=>T(B=>({...B,severity:F})),children:[t.jsx(he,{children:t.jsx(ve,{})}),t.jsxs(xe,{children:[t.jsx(O,{value:$t.LOW,children:"Low"}),t.jsx(O,{value:$t.MEDIUM,children:"Medium"}),t.jsx(O,{value:$t.HIGH,children:"High"}),t.jsx(O,{value:$t.CRITICAL,children:"Critical"})]})]})]}),t.jsxs("div",{className:"flex justify-end space-x-2",children:[t.jsx($,{type:"button",variant:"outline",onClick:()=>{y(!1),x(null)},children:"Cancel"}),t.jsx($,{type:"button",onClick:A,children:"Add Defect"})]})]})]}),L&&t.jsxs(U,{className:"border-2 border-blue-200",children:[t.jsxs(G,{className:"bg-blue-50",children:[t.jsxs(q,{className:"text-lg text-blue-700 flex items-center",children:[t.jsx(Ta,{className:"h-5 w-5 mr-2"}),"Add Photo"]}),t.jsx(oe,{className:"text-blue-600",children:"Upload a photo for documentation"})]}),t.jsxs(W,{className:"pt-6 space-y-4",children:[t.jsxs("div",{...S(),className:"border-2 border-dashed rounded-lg p-6 text-center cursor-pointer hover:bg-muted/10",children:[t.jsx("input",{...C()}),t.jsx(hl,{className:"h-8 w-8 mx-auto mb-2 text-muted-foreground"}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"Drag & drop an image here, or click to select a file"})]}),t.jsxs("div",{children:[t.jsx(Q,{htmlFor:"photoCaption",children:"Caption (Optional)"}),t.jsx(J,{id:"photoCaption",value:I,onChange:F=>w(F.target.value),placeholder:"e.g., Front view of vehicle"})]}),t.jsxs("div",{className:"flex justify-end space-x-2",children:[t.jsx($,{type:"button",variant:"outline",onClick:()=>{k(!1),x(null),w("")},children:"Cancel"}),t.jsx($,{type:"button",onClick:()=>{_("https://images.pexels.com/photos/1319515/pexels-photo-1319515.jpeg")},children:"Simulate Upload"})]})]})]}),(M=e.template)==null?void 0:M.sections.map(F=>t.jsxs("div",{className:"space-y-4",children:[t.jsx("h3",{className:"text-lg font-semibold",children:F.name}),F.description&&t.jsx("p",{className:"text-sm text-muted-foreground",children:F.description}),t.jsx("div",{className:"space-y-3",children:F.items.map(B=>{const z=e.items.find(H=>H.templateItemId===B.id);return z?t.jsx(U,{className:"shadow-sm",children:t.jsx(W,{className:"p-4",children:t.jsxs("div",{className:"flex items-start justify-between",children:[t.jsxs("div",{className:"flex-1",children:[t.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[t.jsx("h4",{className:"font-medium",children:B.name}),B.isRequired&&t.jsx(Z,{className:"bg-blue-50 text-blue-700 border-blue-200 text-xs",children:"Required"}),t.jsx(Z,{className:ae("ri-badge-status text-xs",V(z.status)),children:z.status.toUpperCase()})]}),B.description&&t.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:B.description}),B.itemType==="text"&&t.jsx("div",{className:"mb-3",children:t.jsx(J,{value:z.value||"",onChange:H=>D(z.id,ze.PASSED,H.target.value),placeholder:"Enter text"})}),B.itemType==="number"&&t.jsx("div",{className:"mb-3",children:t.jsx(J,{type:"number",value:z.value||"",onChange:H=>D(z.id,ze.PASSED,H.target.value),placeholder:"Enter number"})}),B.itemType==="photo"&&t.jsxs("div",{className:"mb-3",children:[t.jsxs($,{variant:"outline",size:"sm",onClick:()=>{x(z.id),k(!0)},children:[t.jsx(Ta,{className:"h-4 w-4 mr-2"}),"Add Photo"]}),e.photos.filter(H=>H.inspectionItemId===z.id).length>0&&t.jsx("div",{className:"grid grid-cols-3 gap-2 mt-2",children:e.photos.filter(H=>H.inspectionItemId===z.id).map(H=>t.jsxs("div",{className:"relative",children:[t.jsx("img",{src:H.url,alt:H.caption||"Inspection photo",className:"h-20 w-full object-cover rounded-md"}),H.caption&&t.jsx("div",{className:"absolute bottom-0 left-0 right-0 bg-black/50 text-white text-xs p-1 truncate",children:H.caption})]},H.id))})]}),z.notes&&t.jsx("div",{className:"mb-3 p-2 bg-muted/30 rounded-md",children:t.jsxs("p",{className:"text-sm text-muted-foreground",children:[t.jsx("span",{className:"font-medium",children:"Notes:"})," ",z.notes]})}),z.status!==ze.PENDING&&t.jsx("div",{className:"mb-3",children:t.jsx(Ze,{value:z.notes||"",onChange:H=>D(z.id,z.status,z.value,H.target.value),placeholder:"Add notes (optional)",rows:2})})]}),B.itemType==="checkbox"&&t.jsxs("div",{className:"flex items-center space-x-2 ml-4",children:[t.jsxs($,{variant:z.status===ze.PASSED?"default":"outline",size:"sm",onClick:()=>D(z.id,ze.PASSED),className:z.status===ze.PASSED?"":"border-green-200 text-green-700",children:[t.jsx(bn,{className:"h-4 w-4 mr-1"}),"Pass"]}),t.jsxs($,{variant:z.status===ze.FAILED?"default":"outline",size:"sm",onClick:()=>D(z.id,ze.FAILED),className:z.status===ze.FAILED?"":"border-red-200 text-red-700",children:[t.jsx(_a,{className:"h-4 w-4 mr-1"}),"Fail"]}),t.jsx($,{variant:z.status===ze.NA?"default":"outline",size:"sm",onClick:()=>D(z.id,ze.NA),className:z.status===ze.NA?"":"border-gray-200 text-gray-700",children:"N/A"})]})]})})},B.id):null})})]},F.id)),t.jsxs("div",{className:"space-y-4 pt-6 border-t",children:[t.jsxs("div",{children:[t.jsx(Q,{htmlFor:"inspectionNotes",children:"Inspection Notes"}),t.jsx(Ze,{id:"inspectionNotes",value:h,onChange:F=>v(F.target.value),placeholder:"Add general notes about this inspection",rows:3})]}),t.jsxs("div",{className:"flex justify-end space-x-3",children:[t.jsx($,{type:"button",variant:"outline",onClick:o,disabled:d,children:"Cancel"}),t.jsxs($,{type:"button",onClick:E,disabled:d,children:[t.jsx(Dn,{className:"h-4 w-4 mr-2"}),"Save Progress"]}),t.jsxs($,{type:"button",onClick:N,disabled:d||e.status!=="in_progress",children:[t.jsx(ta,{className:"h-4 w-4 mr-2"}),"Complete Inspection"]})]})]})]}),t.jsxs(we,{value:"defects",className:"space-y-4",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("h3",{className:"text-lg font-semibold",children:"Defects"}),t.jsxs($,{size:"sm",onClick:()=>{x(null),y(!0)},children:[t.jsx(Re,{className:"h-4 w-4 mr-2"}),"Add Defect"]})]}),e.defects.length===0?t.jsxs("div",{className:"text-center py-8 text-muted-foreground border-2 border-dashed rounded-lg",children:[t.jsx(Zn,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground/50"}),t.jsx("p",{children:"No defects reported"}),t.jsx("p",{className:"text-sm",children:"Add defects when issues are found"})]}):t.jsx("div",{className:"space-y-4",children:e.defects.map(F=>t.jsxs(U,{className:"shadow-sm",children:[t.jsx(G,{className:"pb-3",children:t.jsx("div",{className:"flex items-center justify-between",children:t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("h4",{className:"font-semibold",children:F.title}),t.jsx(Z,{className:ae("ri-badge-status",P(F.severity)),children:F.severity.toUpperCase()}),t.jsx(Z,{className:F.status==="open"?"bg-red-50 text-red-700 border-red-200":F.status==="in_progress"?"bg-yellow-50 text-yellow-700 border-yellow-200":F.status==="resolved"?"bg-blue-50 text-blue-700 border-blue-200":"bg-green-50 text-green-700 border-green-200",children:F.status.replace("_"," ").toUpperCase()})]})})}),t.jsxs(W,{children:[t.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:F.description}),e.photos.filter(B=>B.defectId===F.id).length>0&&t.jsxs("div",{className:"mb-4",children:[t.jsx("h5",{className:"text-sm font-medium mb-2",children:"Photos"}),t.jsx("div",{className:"grid grid-cols-3 gap-2",children:e.photos.filter(B=>B.defectId===F.id).map(B=>t.jsxs("div",{className:"relative",children:[t.jsx("img",{src:B.url,alt:B.caption||"Defect photo",className:"h-24 w-full object-cover rounded-md"}),B.caption&&t.jsx("div",{className:"absolute bottom-0 left-0 right-0 bg-black/50 text-white text-xs p-1 truncate",children:B.caption})]},B.id))})]}),t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("div",{className:"text-sm text-muted-foreground",children:F.assignedTo?t.jsxs("span",{children:["Assigned to: ",F.assignedTo]}):t.jsx("span",{children:"Unassigned"})}),t.jsx("div",{className:"flex space-x-2",children:t.jsxs($,{variant:"outline",size:"sm",onClick:()=>{x(null),k(!0)},children:[t.jsx(Ta,{className:"h-3 w-3 mr-1"}),"Add Photo"]})})]})]})]},F.id))})]}),t.jsxs(we,{value:"photos",className:"space-y-4",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("h3",{className:"text-lg font-semibold",children:"Photos"}),t.jsxs($,{size:"sm",onClick:()=>{x(null),k(!0)},children:[t.jsx(Ta,{className:"h-4 w-4 mr-2"}),"Add Photo"]})]}),e.photos.length===0?t.jsxs("div",{className:"text-center py-8 text-muted-foreground border-2 border-dashed rounded-lg",children:[t.jsx(hl,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground/50"}),t.jsx("p",{children:"No photos added"}),t.jsx("p",{className:"text-sm",children:"Add photos to document the inspection"})]}):t.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:e.photos.map(F=>t.jsxs("div",{className:"relative",children:[t.jsx("img",{src:F.url,alt:F.caption||"Inspection photo",className:"h-40 w-full object-cover rounded-md"}),F.caption&&t.jsx("div",{className:"absolute bottom-0 left-0 right-0 bg-black/50 text-white p-2 truncate",children:F.caption})]},F.id))})]})]})})]})})}function hO({inspection:e,vehicles:n,onAddSignoff:s,onClose:r}){var k,I;const{toast:a}=ot(),[i,l]=f.useState("summary"),[o,c]=f.useState(!1),[d,m]=f.useState(""),[u,p]=f.useState(Hr.INSPECTOR),h=async()=>{try{await s(e.id,{role:u,notes:d,signatureUrl:"https://via.placeholder.com/200x100?text=Signature"}),c(!1),m(""),a({title:"Success",description:"Signoff added successfully"})}catch{a({title:"Error",description:"Failed to add signoff",variant:"destructive"})}},v=w=>{switch(w){case ze.PENDING:return"bg-yellow-50 text-yellow-700 border-yellow-200";case ze.PASSED:return"bg-green-50 text-green-700 border-green-200";case ze.FAILED:return"bg-red-50 text-red-700 border-red-200";case ze.NA:return"bg-gray-50 text-gray-700 border-gray-200";default:return"bg-gray-50 text-gray-700 border-gray-200"}},j=w=>{switch(w){case $t.LOW:return"bg-blue-50 text-blue-700 border-blue-200";case $t.MEDIUM:return"bg-yellow-50 text-yellow-700 border-yellow-200";case $t.HIGH:return"bg-orange-50 text-orange-700 border-orange-200";case $t.CRITICAL:return"bg-red-50 text-red-700 border-red-200";default:return"bg-gray-50 text-gray-700 border-gray-200"}},y=n.find(w=>w.id===e.vehicleId),g=e.items.filter(w=>w.status===ze.PASSED).length,x=e.items.filter(w=>w.status===ze.FAILED).length,b=e.items.filter(w=>w.status===ze.NA).length,T=e.items.length,L=Math.round((g+x+b)/T*100);return t.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:t.jsxs(U,{className:"w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[t.jsx(G,{children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx(q,{children:"PDI Inspection Report"}),t.jsx(oe,{children:y?`${y.year} ${y.make} ${y.model}`:e.vehicleId})]}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(Z,{className:ae("ri-badge-status",e.status===ut.IN_PROGRESS?"bg-yellow-50 text-yellow-700 border-yellow-200":e.status===ut.COMPLETED?"bg-blue-50 text-blue-700 border-blue-200":e.status===ut.APPROVED?"bg-green-50 text-green-700 border-green-200":"bg-red-50 text-red-700 border-red-200"),children:e.status.replace("_"," ").toUpperCase()}),t.jsx($,{variant:"ghost",size:"sm",onClick:r,children:t.jsx(nt,{className:"h-4 w-4"})})]})]})}),t.jsx(W,{children:t.jsxs(bt,{value:i,onValueChange:l,className:"space-y-4",children:[t.jsxs(jt,{className:"grid w-full grid-cols-4",children:[t.jsx(je,{value:"summary",children:"Summary"}),t.jsx(je,{value:"checklist",children:"Checklist"}),t.jsxs(je,{value:"defects",children:["Defects",e.defects.length>0&&t.jsx(Z,{className:"ml-2 bg-red-50 text-red-700 border-red-200",children:e.defects.length})]}),t.jsxs(je,{value:"signoffs",children:["Signoffs",e.signoffs.length>0&&t.jsx(Z,{className:"ml-2 bg-green-50 text-green-700 border-green-200",children:e.signoffs.length})]})]}),t.jsxs(we,{value:"summary",className:"space-y-6",children:[t.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[t.jsxs(U,{className:"shadow-sm",children:[t.jsx(G,{children:t.jsx(q,{className:"text-lg",children:"Inspection Details"})}),t.jsx(W,{children:t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"Status"}),t.jsx("p",{className:"font-medium",children:e.status.replace("_"," ")})]}),t.jsxs("div",{children:[t.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"Inspector"}),t.jsx("p",{className:"font-medium",children:((k=e.inspector)==null?void 0:k.name)||e.inspectorId})]}),t.jsxs("div",{children:[t.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"Started"}),t.jsx("p",{className:"font-medium",children:Pe(e.startedAt)})]}),e.completedAt&&t.jsxs("div",{children:[t.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"Completed"}),t.jsx("p",{className:"font-medium",children:Pe(e.completedAt)})]})]}),e.notes&&t.jsxs("div",{children:[t.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"Notes"}),t.jsx("p",{className:"text-sm mt-1 p-3 bg-muted/30 rounded-md",children:e.notes})]})]})})]}),t.jsxs(U,{className:"shadow-sm",children:[t.jsx(G,{children:t.jsx(q,{className:"text-lg",children:"Inspection Results"})}),t.jsx(W,{children:t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-sm font-medium",children:"Completion"}),t.jsxs("span",{className:"text-sm font-bold",children:[L,"%"]})]}),t.jsx("div",{className:"w-full bg-muted rounded-full h-2.5",children:t.jsx("div",{className:"bg-primary h-2.5 rounded-full",style:{width:`${L}%`}})}),t.jsxs("div",{className:"grid grid-cols-3 gap-2 text-center",children:[t.jsxs("div",{className:"p-3 bg-green-50 rounded-lg",children:[t.jsx("div",{className:"text-lg font-bold text-green-700",children:g}),t.jsx("p",{className:"text-xs text-green-600",children:"Passed"})]}),t.jsxs("div",{className:"p-3 bg-red-50 rounded-lg",children:[t.jsx("div",{className:"text-lg font-bold text-red-700",children:x}),t.jsx("p",{className:"text-xs text-red-600",children:"Failed"})]}),t.jsxs("div",{className:"p-3 bg-gray-50 rounded-lg",children:[t.jsx("div",{className:"text-lg font-bold text-gray-700",children:b}),t.jsx("p",{className:"text-xs text-gray-600",children:"N/A"})]})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-sm font-medium",children:"Defects"}),t.jsx("span",{className:"text-sm font-bold text-red-600",children:e.defects.length})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-sm font-medium",children:"Photos"}),t.jsx("span",{className:"text-sm font-bold",children:e.photos.length})]})]})})]})]}),t.jsxs("div",{className:"flex justify-end space-x-3",children:[t.jsx($,{variant:"outline",onClick:r,children:"Close"}),t.jsxs($,{variant:"outline",children:[t.jsx(Nf,{className:"h-4 w-4 mr-2"}),"Print Report"]}),t.jsxs($,{variant:"outline",children:[t.jsx(Vs,{className:"h-4 w-4 mr-2"}),"Export PDF"]}),e.status==="completed"&&t.jsxs($,{onClick:()=>c(!0),children:[t.jsx(fo,{className:"h-4 w-4 mr-2"}),"Add Signoff"]})]})]}),t.jsx(we,{value:"checklist",className:"space-y-6",children:(I=e.template)==null?void 0:I.sections.map(w=>t.jsxs("div",{className:"space-y-4",children:[t.jsx("h3",{className:"text-lg font-semibold",children:w.name}),w.description&&t.jsx("p",{className:"text-sm text-muted-foreground",children:w.description}),t.jsx("div",{className:"space-y-3",children:w.items.map(S=>{const C=e.items.find(E=>E.templateItemId===S.id);return C?t.jsx(U,{className:"shadow-sm",children:t.jsx(W,{className:"p-4",children:t.jsxs("div",{className:"flex items-start justify-between",children:[t.jsxs("div",{className:"flex-1",children:[t.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[t.jsx("h4",{className:"font-medium",children:S.name}),S.isRequired&&t.jsx(Z,{className:"bg-blue-50 text-blue-700 border-blue-200 text-xs",children:"Required"}),t.jsx(Z,{className:ae("ri-badge-status text-xs",v(C.status)),children:C.status.toUpperCase()})]}),S.description&&t.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:S.description}),C.value&&t.jsx("div",{className:"mb-2 p-2 bg-muted/30 rounded-md",children:t.jsxs("p",{className:"text-sm",children:[t.jsx("span",{className:"font-medium",children:"Value:"})," ",C.value]})}),C.notes&&t.jsx("div",{className:"mb-2 p-2 bg-muted/30 rounded-md",children:t.jsxs("p",{className:"text-sm text-muted-foreground",children:[t.jsx("span",{className:"font-medium",children:"Notes:"})," ",C.notes]})}),e.photos.filter(E=>E.inspectionItemId===C.id).length>0&&t.jsxs("div",{className:"mt-2",children:[t.jsx("h5",{className:"text-sm font-medium mb-1",children:"Photos"}),t.jsx("div",{className:"grid grid-cols-3 gap-2",children:e.photos.filter(E=>E.inspectionItemId===C.id).map(E=>t.jsxs("div",{className:"relative",children:[t.jsx("img",{src:E.url,alt:E.caption||"Inspection photo",className:"h-20 w-full object-cover rounded-md"}),E.caption&&t.jsx("div",{className:"absolute bottom-0 left-0 right-0 bg-black/50 text-white text-xs p-1 truncate",children:E.caption})]},E.id))})]}),e.defects.filter(E=>E.inspectionItemId===C.id).length>0&&t.jsxs("div",{className:"mt-2",children:[t.jsx("h5",{className:"text-sm font-medium mb-1 text-red-600",children:"Defects"}),e.defects.filter(E=>E.inspectionItemId===C.id).map(E=>t.jsxs("div",{className:"p-2 bg-red-50 rounded-md mb-2",children:[t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("span",{className:"font-medium text-red-700",children:E.title}),t.jsx(Z,{className:ae("ri-badge-status text-xs",j(E.severity)),children:E.severity.toUpperCase()})]}),t.jsx("p",{className:"text-sm text-red-600 mt-1",children:E.description})]},E.id))]})]}),t.jsxs("div",{className:"ml-4",children:[C.status===ze.PASSED&&t.jsx(bn,{className:"h-6 w-6 text-green-500"}),C.status===ze.FAILED&&t.jsx(_a,{className:"h-6 w-6 text-red-500"}),C.status===ze.PENDING&&t.jsx(Ke,{className:"h-6 w-6 text-yellow-500"}),C.status===ze.NA&&t.jsx("span",{className:"text-sm font-medium text-gray-500",children:"N/A"})]})]})})},S.id):null})})]},w.id))}),t.jsxs(we,{value:"defects",className:"space-y-4",children:[t.jsx("h3",{className:"text-lg font-semibold",children:"Defects"}),e.defects.length===0?t.jsxs("div",{className:"text-center py-8 text-muted-foreground border-2 border-dashed rounded-lg",children:[t.jsx(bn,{className:"h-12 w-12 mx-auto mb-4 text-green-500"}),t.jsx("p",{children:"No defects reported"}),t.jsx("p",{className:"text-sm",children:"This vehicle passed inspection without issues"})]}):t.jsx("div",{className:"space-y-4",children:e.defects.map(w=>t.jsxs(U,{className:"shadow-sm",children:[t.jsx(G,{className:"pb-3",children:t.jsx("div",{className:"flex items-center justify-between",children:t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("h4",{className:"font-semibold",children:w.title}),t.jsx(Z,{className:ae("ri-badge-status",j(w.severity)),children:w.severity.toUpperCase()}),t.jsx(Z,{className:w.status==="open"?"bg-red-50 text-red-700 border-red-200":w.status==="in_progress"?"bg-yellow-50 text-yellow-700 border-yellow-200":w.status==="resolved"?"bg-blue-50 text-blue-700 border-blue-200":"bg-green-50 text-green-700 border-green-200",children:w.status.replace("_"," ").toUpperCase()})]})})}),t.jsxs(W,{children:[t.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:w.description}),e.photos.filter(S=>S.defectId===w.id).length>0&&t.jsxs("div",{className:"mb-4",children:[t.jsx("h5",{className:"text-sm font-medium mb-2",children:"Photos"}),t.jsx("div",{className:"grid grid-cols-3 gap-2",children:e.photos.filter(S=>S.defectId===w.id).map(S=>t.jsxs("div",{className:"relative",children:[t.jsx("img",{src:S.url,alt:S.caption||"Defect photo",className:"h-24 w-full object-cover rounded-md"}),S.caption&&t.jsx("div",{className:"absolute bottom-0 left-0 right-0 bg-black/50 text-white text-xs p-1 truncate",children:S.caption})]},S.id))})]}),t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("div",{className:"text-sm text-muted-foreground",children:w.assignedTo?t.jsxs("span",{children:["Assigned to: ",w.assignedTo]}):t.jsx("span",{children:"Unassigned"})}),w.resolvedAt&&t.jsxs("div",{className:"text-sm text-green-600",children:["Resolved: ",Pe(w.resolvedAt)]})]}),w.resolutionNotes&&t.jsx("div",{className:"mt-3 p-2 bg-blue-50 rounded-md",children:t.jsxs("p",{className:"text-sm text-blue-700",children:[t.jsx("span",{className:"font-medium",children:"Resolution:"})," ",w.resolutionNotes]})})]})]},w.id))})]}),t.jsxs(we,{value:"signoffs",className:"space-y-4",children:[o&&t.jsxs(U,{className:"border-2 border-green-200 mb-6",children:[t.jsxs(G,{className:"bg-green-50",children:[t.jsxs(q,{className:"text-lg text-green-700 flex items-center",children:[t.jsx(fo,{className:"h-5 w-5 mr-2"}),"Add Signoff"]}),t.jsx(oe,{className:"text-green-600",children:"Sign off on the completed inspection"})]}),t.jsxs(W,{className:"pt-6 space-y-4",children:[t.jsxs("div",{children:[t.jsx(Q,{htmlFor:"signoffRole",children:"Role"}),t.jsxs("select",{id:"signoffRole",value:u,onChange:w=>p(w.target.value),className:"w-full p-2 border rounded-md",children:[t.jsx("option",{value:Hr.INSPECTOR,children:"Inspector"}),t.jsx("option",{value:Hr.MANAGER,children:"Manager"}),t.jsx("option",{value:Hr.QUALITY_CONTROL,children:"Quality Control"})]})]}),t.jsxs("div",{children:[t.jsx(Q,{htmlFor:"signoffNotes",children:"Notes (Optional)"}),t.jsx(Ze,{id:"signoffNotes",value:d,onChange:w=>m(w.target.value),placeholder:"Add any notes about this signoff",rows:3})]}),t.jsxs("div",{className:"border-2 border-dashed rounded-lg p-6 text-center",children:[t.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Signature Capture"}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"In a real app, this would be a signature pad"})]}),t.jsxs("div",{className:"flex justify-end space-x-2",children:[t.jsx($,{type:"button",variant:"outline",onClick:()=>{c(!1),m("")},children:"Cancel"}),t.jsx($,{type:"button",onClick:h,children:"Add Signoff"})]})]})]}),t.jsx("h3",{className:"text-lg font-semibold",children:"Signoffs"}),e.signoffs.length===0?t.jsxs("div",{className:"text-center py-8 text-muted-foreground border-2 border-dashed rounded-lg",children:[t.jsx(fo,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground/50"}),t.jsx("p",{children:"No signoffs yet"}),t.jsx("p",{className:"text-sm",children:"Add signoffs to approve the inspection"})]}):t.jsx("div",{className:"space-y-4",children:e.signoffs.map(w=>{var S;return t.jsx(U,{className:"shadow-sm",children:t.jsx(W,{className:"p-4",children:t.jsxs("div",{className:"flex items-start justify-between",children:[t.jsxs("div",{className:"flex-1",children:[t.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[t.jsx("h4",{className:"font-medium",children:((S=w.user)==null?void 0:S.name)||w.userId}),t.jsx(Z,{className:"bg-blue-50 text-blue-700 border-blue-200",children:w.role.replace("_"," ").toUpperCase()})]}),t.jsxs("p",{className:"text-sm text-muted-foreground mb-2",children:["Signed: ",Pe(w.signedAt)]}),w.notes&&t.jsx("p",{className:"text-sm text-muted-foreground p-2 bg-muted/30 rounded-md",children:w.notes})]}),t.jsx("div",{className:"ml-4",children:w.signatureUrl?t.jsx("img",{src:w.signatureUrl,alt:"Signature",className:"h-12 object-contain"}):t.jsx("div",{className:"h-12 w-32 border-2 border-dashed rounded flex items-center justify-center",children:t.jsx("span",{className:"text-xs text-muted-foreground",children:"No signature"})})})]})})},w.id)})}),e.status==="completed"&&!o&&t.jsx("div",{className:"flex justify-end mt-4",children:t.jsxs($,{onClick:()=>c(!0),children:[t.jsx(fo,{className:"h-4 w-4 mr-2"}),"Add Signoff"]})})]})]})})]})})}function xO({templates:e,vehicles:n,currentUserId:s,onCreateInspection:r,onCancel:a}){const{toast:i}=ot(),[l,o]=f.useState(!1),[c,d]=f.useState(""),[m,u]=f.useState(""),[p,h]=f.useState(""),[v,j]=f.useState([]);f.useEffect(()=>{if(c){const g=n.find(x=>x.id===c);if(g){const x=g.type,b=e.filter(T=>T.isActive&&T.vehicleType===x);j(b),b.length===1?u(b[0].id):u("")}}else j([]),u("")},[c,e,n]);const y=async g=>{if(g.preventDefault(),!c){i({title:"Validation Error",description:"Please select a vehicle",variant:"destructive"});return}if(!m){i({title:"Validation Error",description:"Please select a template",variant:"destructive"});return}o(!0);try{await r({templateId:m,vehicleId:c,inspectorId:s,notes:p}),i({title:"Success",description:"Inspection created successfully"})}catch{i({title:"Error",description:"Failed to create inspection",variant:"destructive"})}finally{o(!1)}};return t.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:t.jsxs(U,{className:"w-full max-w-md",children:[t.jsx(G,{children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx(q,{children:"New PDI Inspection"}),t.jsx(oe,{children:"Create a new pre-delivery inspection"})]}),t.jsx($,{variant:"ghost",size:"sm",onClick:a,children:t.jsx(nt,{className:"h-4 w-4"})})]})}),t.jsx(W,{children:t.jsxs("form",{onSubmit:y,className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx(Q,{htmlFor:"vehicle",children:"Vehicle *"}),t.jsxs(ge,{value:c,onValueChange:d,children:[t.jsx(he,{children:t.jsx(ve,{placeholder:"Select a home/vehicle"})}),t.jsx(xe,{children:n.map(g=>t.jsxs(O,{value:g.id,children:[g.year," ",g.make," ",g.model," - ",g.vin]},g.id))})]})]}),t.jsxs("div",{children:[t.jsx(Q,{htmlFor:"template",children:"Inspection Template *"}),t.jsxs(ge,{value:m,onValueChange:u,disabled:v.length===0,children:[t.jsx(he,{children:t.jsx(ve,{placeholder:v.length===0?"Select a home/vehicle first":"Select a template"})}),t.jsx(xe,{children:v.map(g=>t.jsx(O,{value:g.id,children:g.name},g.id))})]}),v.length===0&&c&&t.jsx("p",{className:"text-xs text-red-500 mt-1",children:"No templates available for this vehicle type"})]}),t.jsxs("div",{children:[t.jsx(Q,{htmlFor:"notes",children:"Notes (Optional)"}),t.jsx(Ze,{id:"notes",value:p,onChange:g=>h(g.target.value),placeholder:"Add any initial notes about this inspection",rows:3})]}),t.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[t.jsx($,{type:"button",variant:"outline",onClick:a,disabled:l,children:"Cancel"}),t.jsx($,{type:"submit",disabled:l||!c||!m,children:l?t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Creating..."]}):t.jsxs(t.Fragment,{children:[t.jsx(ta,{className:"h-4 w-4 mr-2"}),"Start Inspection"]})})]})]})})]})})}function Pv(){const{templates:e,inspections:n,createTemplate:s,updateTemplate:r,deleteTemplate:a,createInspection:i,updateInspection:l,updateInspectionItem:o,completeInspection:c,createDefect:d,addPhoto:m,addSignoff:u}=dO(),{vehicles:p}=Ol(),{user:h}=Rl(),{toast:v}=ot(),[j,y]=f.useState("inspections"),[g,x]=f.useState(!1),[b,T]=f.useState(!1),[L,k]=f.useState(!1),[I,w]=f.useState(!1),[S,C]=f.useState(null),[E,N]=f.useState(null),D=()=>{C(null),x(!0)},A=ne=>{C(ne),x(!0)},_=ne=>{C(ne),x(!0)},V=async ne=>{if(window.confirm("Are you sure you want to delete this template?"))try{await a(ne),v({title:"Success",description:"Template deleted successfully"})}catch{v({title:"Error",description:"Failed to delete template",variant:"destructive"})}},P=async ne=>{try{const Ee={...ne,id:void 0,name:`${ne.name} (Copy)`};await s(Ee),v({title:"Success",description:"Template duplicated successfully"})}catch{v({title:"Error",description:"Failed to duplicate template",variant:"destructive"})}},R=async ne=>{try{S?await r(S.id,ne):await s(ne),x(!1),C(null)}catch{v({title:"Error",description:`Failed to ${S?"update":"create"} template`,variant:"destructive"})}},M=()=>{k(!0)},F=async ne=>{try{const Ee=await i(ne);k(!1),N(Ee),T(!0)}catch{v({title:"Error",description:"Failed to create inspection",variant:"destructive"})}},B=ne=>{N(ne),w(!0)},z=ne=>{N(ne),T(!0)},H=async ne=>{if(E)try{await l(E.id,ne),v({title:"Success",description:"Inspection saved successfully"})}catch{v({title:"Error",description:"Failed to save inspection",variant:"destructive"})}},K=async(ne,Ee)=>{try{await c(ne,Ee),T(!1),N(null),v({title:"Success",description:"Inspection completed successfully"})}catch{v({title:"Error",description:"Failed to complete inspection",variant:"destructive"})}},se=async(ne,Ee,Te)=>{try{await o(ne,Ee,Te)}catch{v({title:"Error",description:"Failed to update item",variant:"destructive"})}},te=async(ne,Ee)=>{try{await d(ne,Ee)}catch{v({title:"Error",description:"Failed to add defect",variant:"destructive"})}},le=async(ne,Ee)=>{try{await m(ne,Ee)}catch{v({title:"Error",description:"Failed to add photo",variant:"destructive"})}},ce=async(ne,Ee)=>{try{await u(ne,{...Ee,userId:(h==null?void 0:h.id)||"current-user"})}catch{v({title:"Error",description:"Failed to add signoff",variant:"destructive"})}},ue=e.length,ee=e.filter(ne=>ne.isActive).length,me=n.length,Ne=n.filter(ne=>ne.status===ut.COMPLETED||ne.status===ut.APPROVED).length,Fe=n.filter(ne=>ne.status===ut.IN_PROGRESS).length,Y=n.reduce((ne,Ee)=>ne+Ee.defects.length,0),X=n.reduce((ne,Ee)=>ne+Ee.defects.filter(Te=>Te.status==="open"||Te.status==="in_progress").length,0);return n.reduce((ne,Ee)=>ne+Ee.photos.length,0),t.jsxs("div",{className:"space-y-8",children:[g&&t.jsx(mO,{template:S||void 0,onSave:R,onCancel:()=>{x(!1),C(null)}}),L&&t.jsx(xO,{templates:e,vehicles:p,currentUserId:(h==null?void 0:h.id)||"current-user",onCreateInspection:F,onCancel:()=>k(!1)}),b&&E&&t.jsx(fO,{inspection:E,vehicles:p,onSave:H,onComplete:K,onUpdateItem:se,onAddDefect:te,onAddPhoto:le,onCancel:()=>{T(!1),N(null)}}),I&&E&&t.jsx(hO,{inspection:E,vehicles:p,onAddSignoff:ce,onClose:()=>{w(!1),N(null)}}),t.jsx("div",{className:"ri-page-header",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"ri-page-title",children:"PDI Checklist - Home/Vehicle"}),t.jsx("p",{className:"ri-page-description",children:"Manage pre-delivery inspections and quality control for homes and vehicles"})]}),t.jsxs($,{className:"shadow-sm",onClick:M,children:[t.jsx(Re,{className:"h-4 w-4 mr-2"}),"New Inspection"]})]})}),t.jsxs("div",{className:"ri-stats-grid",children:[t.jsxs(U,{className:"shadow-sm border-0 bg-gradient-to-br from-blue-50 to-blue-100/50",children:[t.jsxs(G,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[t.jsx(q,{className:"text-sm font-medium text-blue-900",children:"Inspections"}),t.jsx(ta,{className:"h-4 w-4 text-blue-600"})]}),t.jsxs(W,{children:[t.jsx("div",{className:"text-2xl font-bold text-blue-900",children:me}),t.jsxs("p",{className:"text-xs text-blue-600 flex items-center mt-1",children:[t.jsx(De,{className:"h-3 w-3 mr-1"}),Ne," completed"]})]})]}),t.jsxs(U,{className:"shadow-sm border-0 bg-gradient-to-br from-yellow-50 to-yellow-100/50",children:[t.jsxs(G,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[t.jsx(q,{className:"text-sm font-medium text-yellow-900",children:"In Progress"}),t.jsx(ta,{className:"h-4 w-4 text-yellow-600"})]}),t.jsxs(W,{children:[t.jsx("div",{className:"text-2xl font-bold text-yellow-900",children:Fe}),t.jsxs("p",{className:"text-xs text-yellow-600 flex items-center mt-1",children:[t.jsx(De,{className:"h-3 w-3 mr-1"}),"Active inspections"]})]})]}),t.jsxs(U,{className:"shadow-sm border-0 bg-gradient-to-br from-red-50 to-red-100/50",children:[t.jsxs(G,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[t.jsx(q,{className:"text-sm font-medium text-red-900",children:"Open Defects"}),t.jsx(Zn,{className:"h-4 w-4 text-red-600"})]}),t.jsxs(W,{children:[t.jsx("div",{className:"text-2xl font-bold text-red-900",children:X}),t.jsxs("p",{className:"text-xs text-red-600 flex items-center mt-1",children:[t.jsx(De,{className:"h-3 w-3 mr-1"}),Y," total defects"]})]})]}),t.jsxs(U,{className:"shadow-sm border-0 bg-gradient-to-br from-green-50 to-green-100/50",children:[t.jsxs(G,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[t.jsx(q,{className:"text-sm font-medium text-green-900",children:"Templates"}),t.jsx(jf,{className:"h-4 w-4 text-green-600"})]}),t.jsxs(W,{children:[t.jsx("div",{className:"text-2xl font-bold text-green-900",children:ue}),t.jsxs("p",{className:"text-xs text-green-600 flex items-center mt-1",children:[t.jsx(De,{className:"h-3 w-3 mr-1"}),ee," active"]})]})]})]}),t.jsxs(bt,{value:j,onValueChange:y,className:"space-y-6",children:[t.jsxs(jt,{className:"grid w-full grid-cols-2",children:[t.jsx(je,{value:"inspections",children:"Inspections"}),t.jsx(je,{value:"templates",children:"Templates"})]}),t.jsx(we,{value:"inspections",children:t.jsx(pO,{inspections:n,onCreateInspection:M,onViewInspection:B,onContinueInspection:z})}),t.jsx(we,{value:"templates",children:t.jsx(uO,{templates:e,onCreateTemplate:D,onEditTemplate:A,onDeleteTemplate:V,onDuplicateTemplate:P,onViewTemplate:_})})]})]})}function gO(){return t.jsxs(Wt,{children:[t.jsx(ke,{path:"/",element:t.jsx(Pv,{})}),t.jsx(ke,{path:"/*",element:t.jsx(Pv,{})})]})}const vO=[{id:"1",salesPersonId:"sales-001",dealId:"deal-001",type:Wr.PERCENTAGE,rate:.05,amount:6875,status:ps.APPROVED,paidDate:new Date("2024-01-20"),notes:"Commission for Georgetown sale",customFields:{},createdAt:new Date("2024-01-18"),updatedAt:new Date("2024-01-20")},{id:"2",salesPersonId:"sales-002",dealId:"deal-002",type:Wr.FLAT,rate:0,amount:2500,status:ps.PENDING,notes:"Flat commission for service contract",customFields:{},createdAt:new Date("2024-01-15"),updatedAt:new Date("2024-01-15")}];function Rv(){const[e]=f.useState(vO),[n,s]=f.useState(""),r=l=>{switch(l){case ps.PENDING:return"bg-yellow-50 text-yellow-700 border-yellow-200";case ps.APPROVED:return"bg-blue-50 text-blue-700 border-blue-200";case ps.PAID:return"bg-green-50 text-green-700 border-green-200";case ps.CANCELLED:return"bg-red-50 text-red-700 border-red-200";default:return"bg-gray-50 text-gray-700 border-gray-200"}},a=l=>{switch(l){case Wr.FLAT:return"bg-blue-50 text-blue-700 border-blue-200";case Wr.PERCENTAGE:return"bg-green-50 text-green-700 border-green-200";case Wr.TIERED:return"bg-purple-50 text-purple-700 border-purple-200";default:return"bg-gray-50 text-gray-700 border-gray-200"}},i=e.filter(l=>l.id.toLowerCase().includes(n.toLowerCase())||l.salesPersonId.toLowerCase().includes(n.toLowerCase())||l.dealId.toLowerCase().includes(n.toLowerCase()));return t.jsxs("div",{className:"space-y-8",children:[t.jsx("div",{className:"ri-page-header",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"ri-page-title",children:"Commission Engine"}),t.jsx("p",{className:"ri-page-description",children:"Manage sales commissions and payouts"})]}),t.jsxs($,{className:"shadow-sm",children:[t.jsx(Re,{className:"h-4 w-4 mr-2"}),"New Commission"]})]})}),t.jsxs("div",{className:"ri-stats-grid",children:[t.jsxs(U,{className:"shadow-sm border-0 bg-gradient-to-br from-blue-50 to-blue-100/50",children:[t.jsxs(G,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[t.jsx(q,{className:"text-sm font-medium text-blue-900",children:"Total Commissions"}),t.jsx(Ve,{className:"h-4 w-4 text-blue-600"})]}),t.jsxs(W,{children:[t.jsx("div",{className:"text-2xl font-bold text-blue-900",children:e.length}),t.jsxs("p",{className:"text-xs text-blue-600 flex items-center mt-1",children:[t.jsx(De,{className:"h-3 w-3 mr-1"}),"All commissions"]})]})]}),t.jsxs(U,{className:"shadow-sm border-0 bg-gradient-to-br from-yellow-50 to-yellow-100/50",children:[t.jsxs(G,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[t.jsx(q,{className:"text-sm font-medium text-yellow-900",children:"Pending"}),t.jsx(Ve,{className:"h-4 w-4 text-yellow-600"})]}),t.jsxs(W,{children:[t.jsx("div",{className:"text-2xl font-bold text-yellow-900",children:e.filter(l=>l.status===ps.PENDING).length}),t.jsxs("p",{className:"text-xs text-yellow-600 flex items-center mt-1",children:[t.jsx(It,{className:"h-3 w-3 mr-1"}),"Awaiting approval"]})]})]}),t.jsxs(U,{className:"shadow-sm border-0 bg-gradient-to-br from-green-50 to-green-100/50",children:[t.jsxs(G,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[t.jsx(q,{className:"text-sm font-medium text-green-900",children:"Paid This Month"}),t.jsx(Ve,{className:"h-4 w-4 text-green-600"})]}),t.jsxs(W,{children:[t.jsx("div",{className:"text-2xl font-bold text-green-900",children:re(e.filter(l=>l.status===ps.PAID).reduce((l,o)=>l+o.amount,0))}),t.jsxs("p",{className:"text-xs text-green-600 flex items-center mt-1",children:[t.jsx(De,{className:"h-3 w-3 mr-1"}),"Paid out"]})]})]}),t.jsxs(U,{className:"shadow-sm border-0 bg-gradient-to-br from-purple-50 to-purple-100/50",children:[t.jsxs(G,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[t.jsx(q,{className:"text-sm font-medium text-purple-900",children:"Total Value"}),t.jsx(Ve,{className:"h-4 w-4 text-purple-600"})]}),t.jsxs(W,{children:[t.jsx("div",{className:"text-2xl font-bold text-purple-900",children:re(e.reduce((l,o)=>l+o.amount,0))}),t.jsxs("p",{className:"text-xs text-purple-600 flex items-center mt-1",children:[t.jsx(De,{className:"h-3 w-3 mr-1"}),"Total commission value"]})]})]})]}),t.jsxs("div",{className:"flex gap-4",children:[t.jsxs("div",{className:"ri-search-bar",children:[t.jsx(Lt,{className:"ri-search-icon"}),t.jsx(J,{placeholder:"Search commissions...",value:n,onChange:l=>s(l.target.value),className:"ri-search-input shadow-sm"})]}),t.jsxs($,{variant:"outline",className:"shadow-sm",children:[t.jsx(an,{className:"h-4 w-4 mr-2"}),"Filter"]})]}),t.jsxs(U,{className:"shadow-sm",children:[t.jsxs(G,{children:[t.jsx(q,{className:"text-xl",children:"Commissions"}),t.jsx(oe,{children:"Track and manage sales commissions"})]}),t.jsx(W,{children:t.jsx("div",{className:"space-y-4",children:i.map(l=>t.jsxs("div",{className:"ri-table-row",children:[t.jsx("div",{className:"flex items-center space-x-4 flex-1",children:t.jsxs("div",{className:"flex-1",children:[t.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[t.jsxs("h3",{className:"font-semibold text-foreground",children:["Commission #",l.id]}),t.jsx(Z,{className:ae("ri-badge-status",a(l.type)),children:l.type.toUpperCase()}),t.jsx(Z,{className:ae("ri-badge-status",r(l.status)),children:l.status.toUpperCase()})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm text-muted-foreground",children:[t.jsxs("div",{className:"flex items-center",children:[t.jsx(Wn,{className:"h-3 w-3 mr-2 text-blue-500"}),t.jsx("span",{className:"font-medium",children:"Sales Person:"}),t.jsx("span",{className:"ml-1",children:l.salesPersonId})]}),t.jsxs("div",{className:"flex items-center",children:[t.jsx(De,{className:"h-3 w-3 mr-2 text-green-500"}),t.jsx("span",{className:"font-medium",children:"Deal:"}),t.jsx("span",{className:"ml-1",children:l.dealId})]}),t.jsxs("div",{className:"flex items-center",children:[t.jsx(Ve,{className:"h-3 w-3 mr-2 text-purple-500"}),t.jsx("span",{className:"font-medium",children:"Amount:"}),t.jsx("span",{className:"ml-1 font-bold text-primary",children:re(l.amount)})]}),t.jsxs("div",{className:"flex items-center",children:[t.jsx(It,{className:"h-3 w-3 mr-2 text-orange-500"}),t.jsx("span",{className:"font-medium",children:"Created:"}),t.jsx("span",{className:"ml-1",children:Pe(l.createdAt)})]})]}),l.type===Wr.PERCENTAGE&&t.jsx("div",{className:"mt-2 bg-green-50 p-2 rounded-md",children:t.jsxs("span",{className:"text-sm text-green-700",children:[t.jsx("span",{className:"font-medium",children:"Rate:"})," ",(l.rate*100).toFixed(2),"%"]})}),l.paidDate&&t.jsx("div",{className:"mt-2 bg-blue-50 p-2 rounded-md",children:t.jsxs("span",{className:"text-sm text-blue-700",children:[t.jsx("span",{className:"font-medium",children:"Paid Date:"})," ",Pe(l.paidDate)]})}),l.notes&&t.jsx("div",{className:"mt-2 bg-muted/30 p-2 rounded-md",children:t.jsxs("p",{className:"text-sm text-muted-foreground",children:[t.jsx("span",{className:"font-medium",children:"Notes:"})," ",l.notes]})})]})}),t.jsxs("div",{className:"ri-action-buttons",children:[t.jsx($,{variant:"outline",size:"sm",className:"shadow-sm",children:"View"}),t.jsx($,{variant:"outline",size:"sm",className:"shadow-sm",children:"Edit"}),l.status===ps.PENDING&&t.jsx($,{variant:"outline",size:"sm",className:"shadow-sm",children:"Approve"})]})]},l.id))})})]})]})}function jO(){return t.jsxs(Wt,{children:[t.jsx(ke,{path:"/",element:t.jsx(Rv,{})}),t.jsx(ke,{path:"/*",element:t.jsx(Rv,{})})]})}const yO=[{id:"1",name:"John Smith",email:"john.smith@email.com",status:"active",lastLogin:new Date("2024-01-18"),vehicleCount:1,serviceTickets:2,invoices:3},{id:"2",name:"Sarah Johnson",email:"sarah.j@email.com",status:"active",lastLogin:new Date("2024-01-16"),vehicleCount:1,serviceTickets:0,invoices:1}];function Lv(){const[e]=f.useState(yO),[n,s]=f.useState(""),r=i=>{switch(i){case"active":return"bg-green-50 text-green-700 border-green-200";case"inactive":return"bg-gray-50 text-gray-700 border-gray-200";case"suspended":return"bg-red-50 text-red-700 border-red-200";default:return"bg-gray-50 text-gray-700 border-gray-200"}},a=e.filter(i=>i.name.toLowerCase().includes(n.toLowerCase())||i.email.toLowerCase().includes(n.toLowerCase()));return t.jsxs("div",{className:"space-y-8",children:[t.jsx("div",{className:"ri-page-header",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"ri-page-title",children:"Client Portal"}),t.jsx("p",{className:"ri-page-description",children:"Manage customer portal access and self-service features"})]}),t.jsxs($,{className:"shadow-sm",children:[t.jsx(Re,{className:"h-4 w-4 mr-2"}),"Add Portal User"]})]})}),t.jsxs("div",{className:"ri-stats-grid",children:[t.jsxs(U,{className:"shadow-sm border-0 bg-gradient-to-br from-blue-50 to-blue-100/50",children:[t.jsxs(G,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[t.jsx(q,{className:"text-sm font-medium text-blue-900",children:"Portal Users"}),t.jsx(Li,{className:"h-4 w-4 text-blue-600"})]}),t.jsxs(W,{children:[t.jsx("div",{className:"text-2xl font-bold text-blue-900",children:e.length}),t.jsxs("p",{className:"text-xs text-blue-600 flex items-center mt-1",children:[t.jsx(De,{className:"h-3 w-3 mr-1"}),"Total registered users"]})]})]}),t.jsxs(U,{className:"shadow-sm border-0 bg-gradient-to-br from-green-50 to-green-100/50",children:[t.jsxs(G,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[t.jsx(q,{className:"text-sm font-medium text-green-900",children:"Active Users"}),t.jsx(Li,{className:"h-4 w-4 text-green-600"})]}),t.jsxs(W,{children:[t.jsx("div",{className:"text-2xl font-bold text-green-900",children:e.filter(i=>i.status==="active").length}),t.jsxs("p",{className:"text-xs text-green-600 flex items-center mt-1",children:[t.jsx(As,{className:"h-3 w-3 mr-1"}),"Currently active"]})]})]}),t.jsxs(U,{className:"shadow-sm border-0 bg-gradient-to-br from-purple-50 to-purple-100/50",children:[t.jsxs(G,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[t.jsx(q,{className:"text-sm font-medium text-purple-900",children:"Monthly Logins"}),t.jsx(Li,{className:"h-4 w-4 text-purple-600"})]}),t.jsxs(W,{children:[t.jsx("div",{className:"text-2xl font-bold text-purple-900",children:"247"}),t.jsxs("p",{className:"text-xs text-purple-600 flex items-center mt-1",children:[t.jsx(De,{className:"h-3 w-3 mr-1"}),"+18% from last month"]})]})]}),t.jsxs(U,{className:"shadow-sm border-0 bg-gradient-to-br from-orange-50 to-orange-100/50",children:[t.jsxs(G,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[t.jsx(q,{className:"text-sm font-medium text-orange-900",children:"Support Tickets"}),t.jsx(Yt,{className:"h-4 w-4 text-orange-600"})]}),t.jsxs(W,{children:[t.jsx("div",{className:"text-2xl font-bold text-orange-900",children:"12"}),t.jsxs("p",{className:"text-xs text-orange-600 flex items-center mt-1",children:[t.jsx(Yt,{className:"h-3 w-3 mr-1"}),"This month"]})]})]})]}),t.jsxs("div",{className:"ri-content-grid",children:[t.jsxs(U,{className:"shadow-sm",children:[t.jsxs(G,{children:[t.jsx(q,{className:"text-xl",children:"Portal Features"}),t.jsx(oe,{children:"Available self-service features for customers"})]}),t.jsx(W,{children:t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg hover:bg-accent/50 transition-colors",children:[t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx(Ar,{className:"h-8 w-8 text-blue-500 bg-blue-50 p-2 rounded-lg"}),t.jsxs("div",{children:[t.jsx("p",{className:"font-semibold",children:"Vehicle Information"}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"View vehicle details and documentation"})]})]}),t.jsx(Z,{className:"bg-green-50 text-green-700 border-green-200",children:"Active"})]}),t.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg hover:bg-accent/50 transition-colors",children:[t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx(Yt,{className:"h-8 w-8 text-purple-500 bg-purple-50 p-2 rounded-lg"}),t.jsxs("div",{children:[t.jsx("p",{className:"font-semibold",children:"Service Requests"}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"Submit and track service tickets"})]})]}),t.jsx(Z,{className:"bg-green-50 text-green-700 border-green-200",children:"Active"})]}),t.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg hover:bg-accent/50 transition-colors",children:[t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx(Ya,{className:"h-8 w-8 text-green-500 bg-green-50 p-2 rounded-lg"}),t.jsxs("div",{children:[t.jsx("p",{className:"font-semibold",children:"Account Management"}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"Update profile and preferences"})]})]}),t.jsx(Z,{className:"bg-green-50 text-green-700 border-green-200",children:"Active"})]}),t.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg hover:bg-accent/50 transition-colors",children:[t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx(Li,{className:"h-8 w-8 text-orange-500 bg-orange-50 p-2 rounded-lg"}),t.jsxs("div",{children:[t.jsx("p",{className:"font-semibold",children:"Document Library"}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"Access manuals and warranties"})]})]}),t.jsx(Z,{className:"bg-yellow-50 text-yellow-700 border-yellow-200",children:"Coming Soon"})]})]})})]}),t.jsxs(U,{className:"shadow-sm",children:[t.jsxs(G,{children:[t.jsx(q,{className:"text-xl",children:"Recent Activity"}),t.jsx(oe,{children:"Latest portal user activities"})]}),t.jsx(W,{children:t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"flex items-start space-x-3 p-3 bg-blue-50 rounded-lg",children:[t.jsx("div",{className:"flex-shrink-0",children:t.jsx("div",{className:"h-2 w-2 bg-blue-500 rounded-full mt-2"})}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsx("p",{className:"text-sm font-medium text-blue-900",children:"John Smith logged in"}),t.jsx("p",{className:"text-xs text-blue-600 mt-1",children:"2 hours ago"})]})]}),t.jsxs("div",{className:"flex items-start space-x-3 p-3 bg-green-50 rounded-lg",children:[t.jsx("div",{className:"flex-shrink-0",children:t.jsx("div",{className:"h-2 w-2 bg-green-500 rounded-full mt-2"})}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsx("p",{className:"text-sm font-medium text-green-900",children:"Sarah Johnson submitted service request"}),t.jsx("p",{className:"text-xs text-green-600 mt-1",children:"4 hours ago"})]})]}),t.jsxs("div",{className:"flex items-start space-x-3 p-3 bg-purple-50 rounded-lg",children:[t.jsx("div",{className:"flex-shrink-0",children:t.jsx("div",{className:"h-2 w-2 bg-purple-500 rounded-full mt-2"})}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsx("p",{className:"text-sm font-medium text-purple-900",children:"Mike Davis updated profile"}),t.jsx("p",{className:"text-xs text-purple-600 mt-1",children:"1 day ago"})]})]})]})})]})]}),t.jsxs("div",{className:"flex gap-4",children:[t.jsxs("div",{className:"ri-search-bar",children:[t.jsx(Lt,{className:"ri-search-icon"}),t.jsx(J,{placeholder:"Search portal users...",value:n,onChange:i=>s(i.target.value),className:"ri-search-input shadow-sm"})]}),t.jsxs($,{variant:"outline",className:"shadow-sm",children:[t.jsx(an,{className:"h-4 w-4 mr-2"}),"Filter"]})]}),t.jsxs(U,{className:"shadow-sm",children:[t.jsxs(G,{children:[t.jsx(q,{className:"text-xl",children:"Portal Users"}),t.jsx(oe,{children:"Manage customer portal access and permissions"})]}),t.jsx(W,{children:t.jsx("div",{className:"space-y-4",children:a.map(i=>t.jsxs("div",{className:"ri-table-row",children:[t.jsx("div",{className:"flex items-center space-x-4 flex-1",children:t.jsxs("div",{className:"flex-1",children:[t.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[t.jsx("h3",{className:"font-semibold text-foreground",children:i.name}),t.jsx(Z,{className:ae("ri-badge-status",r(i.status)),children:i.status.toUpperCase()})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm text-muted-foreground",children:[t.jsxs("div",{children:[t.jsx("span",{className:"font-medium",children:"Email:"}),t.jsx("span",{className:"ml-1",children:i.email})]}),t.jsxs("div",{children:[t.jsx("span",{className:"font-medium",children:"Last Login:"}),t.jsx("span",{className:"ml-1",children:i.lastLogin.toLocaleDateString()})]}),t.jsxs("div",{children:[t.jsx("span",{className:"font-medium",children:"Vehicles:"}),t.jsx("span",{className:"ml-1",children:i.vehicleCount})]}),t.jsxs("div",{children:[t.jsx("span",{className:"font-medium",children:"Service Tickets:"}),t.jsx("span",{className:"ml-1",children:i.serviceTickets})]})]})]})}),t.jsxs("div",{className:"ri-action-buttons",children:[t.jsxs($,{variant:"outline",size:"sm",className:"shadow-sm",children:[t.jsx(Dt,{className:"h-3 w-3 mr-1"}),"Manage"]}),t.jsxs($,{variant:"outline",size:"sm",className:"shadow-sm",children:[t.jsx(Ya,{className:"h-3 w-3 mr-1"}),"Settings"]})]})]},i.id))})})]})]})}function bO(){return t.jsxs(Wt,{children:[t.jsx(ke,{path:"/",element:t.jsx(Lv,{})}),t.jsx(ke,{path:"/*",element:t.jsx(Lv,{})})]})}const wO=[{id:"1",customerId:"cust-1",number:"INV-2024-001",items:[{id:"1",description:"2024 Forest River Georgetown",quantity:1,unitPrice:125e3,total:125e3},{id:"2",description:"Extended Warranty",quantity:1,unitPrice:2500,total:2500}],subtotal:127500,tax:10200,total:137700,status:Rn.PAID,dueDate:new Date("2024-02-15"),paidDate:new Date("2024-01-20"),paymentMethod:"Credit Card",notes:"Payment received via Zego",customFields:{},createdAt:new Date("2024-01-15"),updatedAt:new Date("2024-01-20")},{id:"2",customerId:"cust-2",number:"INV-2024-002",items:[{id:"3",description:"Service - AC Repair",quantity:1,unitPrice:620,total:620}],subtotal:620,tax:49.6,total:669.6,status:Rn.SENT,dueDate:new Date("2024-02-20"),notes:"Service invoice for AC repair",customFields:{},createdAt:new Date("2024-01-12"),updatedAt:new Date("2024-01-18")}],NO=[{id:"1",invoiceId:"1",amount:137700,method:"CREDIT_CARD",status:"COMPLETED",transactionId:"txn_1234567890",processedDate:new Date("2024-01-20"),notes:"Processed via Zego payment gateway",customFields:{},createdAt:new Date("2024-01-20"),updatedAt:new Date("2024-01-20")}];function Fv(){const[e]=f.useState(wO);f.useState(NO);const[n,s]=f.useState(""),r=i=>{switch(i){case Rn.DRAFT:return"bg-gray-50 text-gray-700 border-gray-200";case Rn.SENT:return"bg-blue-50 text-blue-700 border-blue-200";case Rn.VIEWED:return"bg-yellow-50 text-yellow-700 border-yellow-200";case Rn.PAID:return"bg-green-50 text-green-700 border-green-200";case Rn.OVERDUE:return"bg-red-50 text-red-700 border-red-200";case Rn.CANCELLED:return"bg-gray-50 text-gray-700 border-gray-200";default:return"bg-gray-50 text-gray-700 border-gray-200"}},a=e.filter(i=>i.number.toLowerCase().includes(n.toLowerCase())||i.customerId.toLowerCase().includes(n.toLowerCase()));return t.jsxs("div",{className:"space-y-8",children:[t.jsx("div",{className:"ri-page-header",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"ri-page-title",children:"Invoice & Payments"}),t.jsx("p",{className:"ri-page-description",children:"Manage invoices and process payments via Zego integration"})]}),t.jsxs($,{className:"shadow-sm",children:[t.jsx(Re,{className:"h-4 w-4 mr-2"}),"New Invoice"]})]})}),t.jsxs("div",{className:"ri-stats-grid",children:[t.jsxs(U,{className:"shadow-sm border-0 bg-gradient-to-br from-blue-50 to-blue-100/50",children:[t.jsxs(G,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[t.jsx(q,{className:"text-sm font-medium text-blue-900",children:"Total Invoices"}),t.jsx(Bo,{className:"h-4 w-4 text-blue-600"})]}),t.jsxs(W,{children:[t.jsx("div",{className:"text-2xl font-bold text-blue-900",children:e.length}),t.jsxs("p",{className:"text-xs text-blue-600 flex items-center mt-1",children:[t.jsx(De,{className:"h-3 w-3 mr-1"}),"All invoices"]})]})]}),t.jsxs(U,{className:"shadow-sm border-0 bg-gradient-to-br from-orange-50 to-orange-100/50",children:[t.jsxs(G,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[t.jsx(q,{className:"text-sm font-medium text-orange-900",children:"Outstanding"}),t.jsx(Bo,{className:"h-4 w-4 text-orange-600"})]}),t.jsxs(W,{children:[t.jsx("div",{className:"text-2xl font-bold text-orange-900",children:re(e.filter(i=>i.status!==Rn.PAID).reduce((i,l)=>i+l.total,0))}),t.jsxs("p",{className:"text-xs text-orange-600 flex items-center mt-1",children:[t.jsx(Ve,{className:"h-3 w-3 mr-1"}),"Unpaid invoices"]})]})]}),t.jsxs(U,{className:"shadow-sm border-0 bg-gradient-to-br from-green-50 to-green-100/50",children:[t.jsxs(G,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[t.jsx(q,{className:"text-sm font-medium text-green-900",children:"Paid This Month"}),t.jsx(Bo,{className:"h-4 w-4 text-green-600"})]}),t.jsxs(W,{children:[t.jsx("div",{className:"text-2xl font-bold text-green-900",children:re(e.filter(i=>i.status===Rn.PAID).reduce((i,l)=>i+l.total,0))}),t.jsxs("p",{className:"text-xs text-green-600 flex items-center mt-1",children:[t.jsx(De,{className:"h-3 w-3 mr-1"}),"Revenue collected"]})]})]}),t.jsxs(U,{className:"shadow-sm border-0 bg-gradient-to-br from-purple-50 to-purple-100/50",children:[t.jsxs(G,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[t.jsx(q,{className:"text-sm font-medium text-purple-900",children:"Payment Success Rate"}),t.jsx(Qa,{className:"h-4 w-4 text-purple-600"})]}),t.jsxs(W,{children:[t.jsx("div",{className:"text-2xl font-bold text-purple-900",children:"98.5%"}),t.jsxs("p",{className:"text-xs text-purple-600 flex items-center mt-1",children:[t.jsx(De,{className:"h-3 w-3 mr-1"}),"Excellent rate"]})]})]})]}),t.jsxs(U,{className:"shadow-sm border-0 bg-gradient-to-br from-blue-50 to-blue-100/50",children:[t.jsxs(G,{children:[t.jsxs(q,{className:"flex items-center space-x-2 text-blue-900",children:[t.jsx(Qa,{className:"h-5 w-5 text-blue-600"}),t.jsx("span",{children:"Zego Payment Integration"})]}),t.jsx(oe,{className:"text-blue-700",children:"Seamlessly process payments and send payment requests to customers"})]}),t.jsx(W,{children:t.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[t.jsxs("div",{className:"text-center p-4 bg-white/50 rounded-lg",children:[t.jsx("div",{className:"text-2xl font-bold text-blue-600",children:"99.9%"}),t.jsx("p",{className:"text-sm text-blue-700",children:"Uptime"})]}),t.jsxs("div",{className:"text-center p-4 bg-white/50 rounded-lg",children:[t.jsx("div",{className:"text-2xl font-bold text-blue-600",children:"2.9%"}),t.jsx("p",{className:"text-sm text-blue-700",children:"Processing Fee"})]}),t.jsxs("div",{className:"text-center p-4 bg-white/50 rounded-lg",children:[t.jsx("div",{className:"text-2xl font-bold text-blue-600",children:"24/7"}),t.jsx("p",{className:"text-sm text-blue-700",children:"Support"})]})]})})]}),t.jsxs("div",{className:"flex gap-4",children:[t.jsxs("div",{className:"ri-search-bar",children:[t.jsx(Lt,{className:"ri-search-icon"}),t.jsx(J,{placeholder:"Search invoices...",value:n,onChange:i=>s(i.target.value),className:"ri-search-input shadow-sm"})]}),t.jsxs($,{variant:"outline",className:"shadow-sm",children:[t.jsx(an,{className:"h-4 w-4 mr-2"}),"Filter"]})]}),t.jsxs(U,{className:"shadow-sm",children:[t.jsxs(G,{children:[t.jsx(q,{className:"text-xl",children:"Invoices"}),t.jsx(oe,{children:"Manage invoices and track payments"})]}),t.jsx(W,{children:t.jsx("div",{className:"space-y-4",children:a.map(i=>t.jsxs("div",{className:"ri-table-row",children:[t.jsx("div",{className:"flex items-center space-x-4 flex-1",children:t.jsxs("div",{className:"flex-1",children:[t.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[t.jsx("h3",{className:"font-semibold text-foreground",children:i.number}),t.jsx(Z,{className:ae("ri-badge-status",r(i.status)),children:i.status.toUpperCase()})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm text-muted-foreground",children:[t.jsxs("div",{children:[t.jsx("span",{className:"font-medium",children:"Customer:"}),t.jsx("span",{className:"ml-1",children:i.customerId})]}),t.jsxs("div",{children:[t.jsx("span",{className:"font-medium",children:"Total:"}),t.jsx("span",{className:"ml-1 font-bold text-primary",children:re(i.total)})]}),t.jsxs("div",{children:[t.jsx("span",{className:"font-medium",children:"Due Date:"}),t.jsx("span",{className:"ml-1",children:Pe(i.dueDate)})]}),i.paidDate&&t.jsxs("div",{children:[t.jsx("span",{className:"font-medium",children:"Paid Date:"}),t.jsx("span",{className:"ml-1",children:Pe(i.paidDate)})]})]}),t.jsxs("div",{className:"mt-2 bg-muted/30 p-2 rounded-md",children:[t.jsxs("p",{className:"text-sm text-muted-foreground",children:[i.items.length," item(s) - ",i.notes]}),i.paymentMethod&&t.jsxs("p",{className:"text-sm text-muted-foreground",children:[t.jsx("span",{className:"font-medium",children:"Payment Method:"})," ",i.paymentMethod]})]})]})}),t.jsxs("div",{className:"ri-action-buttons",children:[t.jsxs($,{variant:"outline",size:"sm",className:"shadow-sm",children:[t.jsx(Ar,{className:"h-3 w-3 mr-1"}),"View"]}),t.jsxs($,{variant:"outline",size:"sm",className:"shadow-sm",children:[t.jsx(Vs,{className:"h-3 w-3 mr-1"}),"PDF"]}),i.status!==Rn.PAID&&t.jsxs($,{variant:"outline",size:"sm",className:"shadow-sm",children:[t.jsx(Ma,{className:"h-3 w-3 mr-1"}),"Send Payment Request"]})]})]},i.id))})})]})]})}function SO(){return t.jsxs(Wt,{children:[t.jsx(ke,{path:"/",element:t.jsx(Fv,{})}),t.jsx(ke,{path:"/*",element:t.jsx(Fv,{})})]})}function Ov(){const{tenant:e,customFields:n,updateTenantSettings:s,addCustomField:r,updateCustomField:a,deleteCustomField:i}=Jy(),[l,o]=f.useState("general"),c=[{id:"general",name:"General",icon:Hm},{id:"branding",name:"Branding",icon:LE},{id:"users",name:"Users",icon:Dt},{id:"custom-fields",name:"Custom Fields",icon:Ya}],d=async()=>{console.log("Saving settings...")},m=()=>t.jsxs("div",{className:"space-y-6",children:[t.jsxs(U,{className:"shadow-sm",children:[t.jsxs(G,{children:[t.jsx(q,{className:"text-xl",children:"Company Information"}),t.jsx(oe,{children:"Basic information about your dealership"})]}),t.jsx(W,{className:"space-y-4",children:t.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[t.jsxs("div",{children:[t.jsx("label",{className:"text-sm font-medium text-foreground",children:"Company Name"}),t.jsx(J,{defaultValue:e==null?void 0:e.name,className:"mt-1 shadow-sm"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-sm font-medium text-foreground",children:"Domain"}),t.jsx(J,{defaultValue:e==null?void 0:e.domain,className:"mt-1 shadow-sm"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-sm font-medium text-foreground",children:"Timezone"}),t.jsx(J,{defaultValue:e==null?void 0:e.settings.timezone,className:"mt-1 shadow-sm"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-sm font-medium text-foreground",children:"Currency"}),t.jsx(J,{defaultValue:e==null?void 0:e.settings.currency,className:"mt-1 shadow-sm"})]})]})})]}),t.jsxs(U,{className:"shadow-sm",children:[t.jsxs(G,{children:[t.jsx(q,{className:"text-xl",children:"Business Hours"}),t.jsx(oe,{children:"Set your dealership operating hours"})]}),t.jsx(W,{children:t.jsx("div",{className:"space-y-4",children:(e==null?void 0:e.settings.businessHours)&&Object.entries(e.settings.businessHours).map(([v,j])=>t.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/30 rounded-lg",children:[t.jsx("div",{className:"w-24 capitalize font-medium",children:v}),t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx(J,{type:"time",defaultValue:j.open,disabled:j.closed,className:"w-32 shadow-sm"}),t.jsx("span",{className:"text-muted-foreground",children:"to"}),t.jsx(J,{type:"time",defaultValue:j.close,disabled:j.closed,className:"w-32 shadow-sm"}),t.jsxs("label",{className:"flex items-center space-x-2",children:[t.jsx("input",{type:"checkbox",defaultChecked:j.closed,className:"rounded"}),t.jsx("span",{className:"text-sm",children:"Closed"})]})]})]},v))})})]})]}),u=()=>t.jsxs(U,{className:"shadow-sm",children:[t.jsxs(G,{children:[t.jsx(q,{className:"text-xl",children:"Branding & Appearance"}),t.jsx(oe,{children:"Customize your dealership's visual identity"})]}),t.jsx(W,{className:"space-y-4",children:t.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[t.jsxs("div",{children:[t.jsx("label",{className:"text-sm font-medium text-foreground",children:"Primary Color"}),t.jsxs("div",{className:"flex items-center space-x-2 mt-1",children:[t.jsx(J,{type:"color",defaultValue:e==null?void 0:e.branding.primaryColor,className:"w-16 h-10 shadow-sm"}),t.jsx(J,{defaultValue:e==null?void 0:e.branding.primaryColor,className:"shadow-sm"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-sm font-medium text-foreground",children:"Secondary Color"}),t.jsxs("div",{className:"flex items-center space-x-2 mt-1",children:[t.jsx(J,{type:"color",defaultValue:e==null?void 0:e.branding.secondaryColor,className:"w-16 h-10 shadow-sm"}),t.jsx(J,{defaultValue:e==null?void 0:e.branding.secondaryColor,className:"shadow-sm"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-sm font-medium text-foreground",children:"Font Family"}),t.jsx(J,{defaultValue:e==null?void 0:e.branding.fontFamily,className:"mt-1 shadow-sm"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-sm font-medium text-foreground",children:"Logo URL"}),t.jsx(J,{defaultValue:(e==null?void 0:e.branding.logo)||"",placeholder:"https://...",className:"mt-1 shadow-sm"})]})]})})]}),p=()=>t.jsxs(U,{className:"shadow-sm",children:[t.jsxs(G,{children:[t.jsx(q,{className:"text-xl",children:"User Management"}),t.jsx(oe,{children:"Manage user accounts and permissions"})]}),t.jsxs(W,{children:[t.jsxs("div",{className:"flex justify-between items-center mb-6",children:[t.jsx("p",{className:"text-sm text-muted-foreground",children:"Manage users, roles, and permissions for your dealership"}),t.jsxs($,{className:"shadow-sm",children:[t.jsx(Re,{className:"h-4 w-4 mr-2"}),"Add User"]})]}),t.jsx("div",{className:"space-y-4",children:t.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg hover:bg-accent/50 transition-colors",children:[t.jsxs("div",{children:[t.jsx("h4",{className:"font-semibold",children:"Admin User"}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"admin@renterinsight.com"})]}),t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx(Z,{className:"bg-blue-50 text-blue-700 border-blue-200",children:"Admin"}),t.jsx($,{variant:"outline",size:"sm",className:"shadow-sm",children:t.jsx(zt,{className:"h-3 w-3"})})]})]})})]})]}),h=()=>t.jsxs(U,{className:"shadow-sm",children:[t.jsxs(G,{children:[t.jsx(q,{className:"text-xl",children:"Custom Fields"}),t.jsx(oe,{children:"Add custom fields to capture additional information"})]}),t.jsxs(W,{children:[t.jsxs("div",{className:"flex justify-between items-center mb-6",children:[t.jsx("p",{className:"text-sm text-muted-foreground",children:"Create custom fields for leads, vehicles, and other entities"}),t.jsxs($,{className:"shadow-sm",children:[t.jsx(Re,{className:"h-4 w-4 mr-2"}),"Add Custom Field"]})]}),t.jsxs("div",{className:"space-y-4",children:[n.map(v=>t.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg hover:bg-accent/50 transition-colors",children:[t.jsxs("div",{children:[t.jsx("h4",{className:"font-semibold",children:v.name}),t.jsxs("p",{className:"text-sm text-muted-foreground",children:[v.module," - ",v.section," - ",v.type,v.required&&t.jsx(Z,{className:"ml-2 bg-orange-50 text-orange-700 border-orange-200",variant:"secondary",children:"Required"})]})]}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx($,{variant:"outline",size:"sm",className:"shadow-sm",children:t.jsx(zt,{className:"h-3 w-3"})}),t.jsx($,{variant:"outline",size:"sm",className:"shadow-sm",children:t.jsx(Un,{className:"h-3 w-3"})})]})]},v.id)),n.length===0&&t.jsx("div",{className:"text-center py-12 text-muted-foreground bg-muted/30 rounded-lg",children:"No custom fields configured yet"})]})]})]});return t.jsxs("div",{className:"space-y-8",children:[t.jsx("div",{className:"ri-page-header",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"ri-page-title",children:"Company Settings"}),t.jsx("p",{className:"ri-page-description",children:"Configure your dealership settings and preferences"})]}),t.jsxs($,{onClick:d,className:"shadow-sm",children:[t.jsx(Dn,{className:"h-4 w-4 mr-2"}),"Save Changes"]})]})}),t.jsx("div",{className:"border-b",children:t.jsx("nav",{className:"-mb-px flex space-x-8",children:c.map(v=>t.jsxs("button",{onClick:()=>o(v.id),className:ae("flex items-center space-x-2 py-3 px-1 border-b-2 font-medium text-sm transition-colors",l===v.id?"border-primary text-primary":"border-transparent text-muted-foreground hover:text-foreground hover:border-gray-300"),children:[t.jsx(v.icon,{className:"h-4 w-4"}),t.jsx("span",{children:v.name})]},v.id))})}),t.jsxs("div",{children:[l==="general"&&m(),l==="branding"&&u(),l==="users"&&p(),l==="custom-fields"&&h()]})]})}function CO(){return t.jsxs(Wt,{children:[t.jsx(ke,{path:"/",element:t.jsx(Ov,{})}),t.jsx(ke,{path:"/*",element:t.jsx(Ov,{})})]})}const EO=[{id:"1",name:"Demo RV Dealership",domain:"demo.renterinsight.com",status:"active",users:5,createdAt:new Date("2024-01-01"),lastActivity:new Date("2024-01-20")},{id:"2",name:"Sunshine RV Center",domain:"sunshine.renterinsight.com",status:"active",users:12,createdAt:new Date("2023-12-15"),lastActivity:new Date("2024-01-19")}],xa={totalTenants:2,activeTenants:2,totalUsers:17,systemUptime:"99.9%",avgResponseTime:"120ms",errorRate:"0.1%"};function Mv(){const{hasRole:e}=Rl(),[n]=f.useState(EO),[s,r]=f.useState("");if(!e(Gi.ADMIN))return t.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:t.jsx(U,{className:"w-full max-w-md shadow-sm",children:t.jsxs(G,{className:"text-center",children:[t.jsx(Zn,{className:"h-12 w-12 text-orange-500 mx-auto mb-4"}),t.jsx(q,{children:"Access Denied"}),t.jsx(oe,{children:"You don't have permission to access the Platform Admin area."})]})})});const a=l=>{switch(l){case"active":return"bg-green-50 text-green-700 border-green-200";case"inactive":return"bg-gray-50 text-gray-700 border-gray-200";case"suspended":return"bg-red-50 text-red-700 border-red-200";default:return"bg-gray-50 text-gray-700 border-gray-200"}},i=n.filter(l=>l.name.toLowerCase().includes(s.toLowerCase())||l.domain.toLowerCase().includes(s.toLowerCase()));return t.jsxs("div",{className:"space-y-8",children:[t.jsx("div",{className:"ri-page-header",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"ri-page-title",children:"Platform Admin"}),t.jsx("p",{className:"ri-page-description",children:"System administration and tenant management"})]}),t.jsxs($,{className:"shadow-sm",children:[t.jsx(Re,{className:"h-4 w-4 mr-2"}),"Add Tenant"]})]})}),t.jsxs("div",{className:"grid gap-4 md:grid-cols-3 lg:grid-cols-6",children:[t.jsxs(U,{className:"shadow-sm border-0 bg-gradient-to-br from-blue-50 to-blue-100/50",children:[t.jsxs(G,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[t.jsx(q,{className:"text-sm font-medium text-blue-900",children:"Total Tenants"}),t.jsx(Hm,{className:"h-4 w-4 text-blue-600"})]}),t.jsxs(W,{children:[t.jsx("div",{className:"text-2xl font-bold text-blue-900",children:xa.totalTenants}),t.jsxs("p",{className:"text-xs text-blue-600 flex items-center mt-1",children:[t.jsx(De,{className:"h-3 w-3 mr-1"}),"All tenants"]})]})]}),t.jsxs(U,{className:"shadow-sm border-0 bg-gradient-to-br from-green-50 to-green-100/50",children:[t.jsxs(G,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[t.jsx(q,{className:"text-sm font-medium text-green-900",children:"Active Tenants"}),t.jsx(Hm,{className:"h-4 w-4 text-green-600"})]}),t.jsxs(W,{children:[t.jsx("div",{className:"text-2xl font-bold text-green-900",children:xa.activeTenants}),t.jsxs("p",{className:"text-xs text-green-600 flex items-center mt-1",children:[t.jsx(As,{className:"h-3 w-3 mr-1"}),"Currently active"]})]})]}),t.jsxs(U,{className:"shadow-sm border-0 bg-gradient-to-br from-purple-50 to-purple-100/50",children:[t.jsxs(G,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[t.jsx(q,{className:"text-sm font-medium text-purple-900",children:"Total Users"}),t.jsx(Dt,{className:"h-4 w-4 text-purple-600"})]}),t.jsxs(W,{children:[t.jsx("div",{className:"text-2xl font-bold text-purple-900",children:xa.totalUsers}),t.jsxs("p",{className:"text-xs text-purple-600 flex items-center mt-1",children:[t.jsx(Dt,{className:"h-3 w-3 mr-1"}),"All users"]})]})]}),t.jsxs(U,{className:"shadow-sm border-0 bg-gradient-to-br from-green-50 to-green-100/50",children:[t.jsxs(G,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[t.jsx(q,{className:"text-sm font-medium text-green-900",children:"System Uptime"}),t.jsx(As,{className:"h-4 w-4 text-green-600"})]}),t.jsxs(W,{children:[t.jsx("div",{className:"text-2xl font-bold text-green-900",children:xa.systemUptime}),t.jsxs("p",{className:"text-xs text-green-600 flex items-center mt-1",children:[t.jsx(As,{className:"h-3 w-3 mr-1"}),"Excellent"]})]})]}),t.jsxs(U,{className:"shadow-sm border-0 bg-gradient-to-br from-blue-50 to-blue-100/50",children:[t.jsxs(G,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[t.jsx(q,{className:"text-sm font-medium text-blue-900",children:"Avg Response"}),t.jsx(As,{className:"h-4 w-4 text-blue-600"})]}),t.jsxs(W,{children:[t.jsx("div",{className:"text-2xl font-bold text-blue-900",children:xa.avgResponseTime}),t.jsxs("p",{className:"text-xs text-blue-600 flex items-center mt-1",children:[t.jsx(De,{className:"h-3 w-3 mr-1"}),"Fast response"]})]})]}),t.jsxs(U,{className:"shadow-sm border-0 bg-gradient-to-br from-green-50 to-green-100/50",children:[t.jsxs(G,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[t.jsx(q,{className:"text-sm font-medium text-green-900",children:"Error Rate"}),t.jsx(As,{className:"h-4 w-4 text-green-600"})]}),t.jsxs(W,{children:[t.jsx("div",{className:"text-2xl font-bold text-green-900",children:xa.errorRate}),t.jsxs("p",{className:"text-xs text-green-600 flex items-center mt-1",children:[t.jsx(As,{className:"h-3 w-3 mr-1"}),"Very low"]})]})]})]}),t.jsxs(U,{className:"shadow-sm",children:[t.jsxs(G,{children:[t.jsx(q,{className:"text-xl",children:"System Health"}),t.jsx(oe,{children:"Real-time system status and health metrics"})]}),t.jsx(W,{children:t.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[t.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-green-50 rounded-lg",children:[t.jsx("div",{className:"h-3 w-3 bg-green-500 rounded-full"}),t.jsx("span",{className:"text-sm font-medium text-green-900",children:"Database: Healthy"})]}),t.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-green-50 rounded-lg",children:[t.jsx("div",{className:"h-3 w-3 bg-green-500 rounded-full"}),t.jsx("span",{className:"text-sm font-medium text-green-900",children:"API Services: Operational"})]}),t.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-green-50 rounded-lg",children:[t.jsx("div",{className:"h-3 w-3 bg-green-500 rounded-full"}),t.jsx("span",{className:"text-sm font-medium text-green-900",children:"Payment Gateway: Connected"})]}),t.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-green-50 rounded-lg",children:[t.jsx("div",{className:"h-3 w-3 bg-green-500 rounded-full"}),t.jsx("span",{className:"text-sm font-medium text-green-900",children:"Email Service: Active"})]}),t.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-green-50 rounded-lg",children:[t.jsx("div",{className:"h-3 w-3 bg-green-500 rounded-full"}),t.jsx("span",{className:"text-sm font-medium text-green-900",children:"File Storage: Available"})]}),t.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-green-50 rounded-lg",children:[t.jsx("div",{className:"h-3 w-3 bg-green-500 rounded-full"}),t.jsx("span",{className:"text-sm font-medium text-green-900",children:"Backup System: Running"})]})]})})]}),t.jsxs("div",{className:"flex gap-4",children:[t.jsxs("div",{className:"ri-search-bar",children:[t.jsx(Lt,{className:"ri-search-icon"}),t.jsx(J,{placeholder:"Search tenants...",value:s,onChange:l=>r(l.target.value),className:"ri-search-input shadow-sm"})]}),t.jsxs($,{variant:"outline",className:"shadow-sm",children:[t.jsx(an,{className:"h-4 w-4 mr-2"}),"Filter"]})]}),t.jsxs(U,{className:"shadow-sm",children:[t.jsxs(G,{children:[t.jsx(q,{className:"text-xl",children:"Tenant Management"}),t.jsx(oe,{children:"Manage dealership tenants and their configurations"})]}),t.jsx(W,{children:t.jsx("div",{className:"space-y-4",children:i.map(l=>t.jsxs("div",{className:"ri-table-row",children:[t.jsx("div",{className:"flex items-center space-x-4 flex-1",children:t.jsxs("div",{className:"flex-1",children:[t.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[t.jsx("h3",{className:"font-semibold text-foreground",children:l.name}),t.jsx(Z,{className:ae("ri-badge-status",a(l.status)),children:l.status.toUpperCase()})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm text-muted-foreground",children:[t.jsxs("div",{children:[t.jsx("span",{className:"font-medium",children:"Domain:"}),t.jsx("span",{className:"ml-1",children:l.domain})]}),t.jsxs("div",{children:[t.jsx("span",{className:"font-medium",children:"Users:"}),t.jsx("span",{className:"ml-1",children:l.users})]}),t.jsxs("div",{children:[t.jsx("span",{className:"font-medium",children:"Created:"}),t.jsx("span",{className:"ml-1",children:l.createdAt.toLocaleDateString()})]}),t.jsxs("div",{children:[t.jsx("span",{className:"font-medium",children:"Last Activity:"}),t.jsx("span",{className:"ml-1",children:l.lastActivity.toLocaleDateString()})]})]})]})}),t.jsxs("div",{className:"ri-action-buttons",children:[t.jsxs($,{variant:"outline",size:"sm",className:"shadow-sm",children:[t.jsx(Sf,{className:"h-3 w-3 mr-1"}),"Manage"]}),t.jsxs($,{variant:"outline",size:"sm",className:"shadow-sm",children:[t.jsx(As,{className:"h-3 w-3 mr-1"}),"Monitor"]})]})]},l.id))})})]})]})}function IO(){return t.jsxs(Wt,{children:[t.jsx(ke,{path:"/",element:t.jsx(Mv,{})}),t.jsx(ke,{path:"/*",element:t.jsx(Mv,{})})]})}const DO=[{id:"1",name:"Monthly Sales Report",type:gn.SALES,module:"sales",filters:[],columns:[],data:[],generatedAt:new Date("2024-01-20"),generatedBy:"admin"},{id:"2",name:"Inventory Valuation",type:gn.INVENTORY,module:"inventory",filters:[],columns:[],data:[],generatedAt:new Date("2024-01-19"),generatedBy:"manager"},{id:"3",name:"Service Revenue Analysis",type:gn.SERVICE,module:"service",filters:[],columns:[],data:[],generatedAt:new Date("2024-01-18"),generatedBy:"admin"}],_v=[{id:"sales-summary",name:"Sales Summary",description:"Overview of sales performance and metrics",type:gn.SALES,icon:Ve,color:"from-green-50 to-green-100/50"},{id:"inventory-report",name:"Inventory Report",description:"Current inventory levels and valuation",type:gn.INVENTORY,icon:Xt,color:"from-blue-50 to-blue-100/50"},{id:"customer-analysis",name:"Customer Analysis",description:"Customer demographics and behavior insights",type:gn.CUSTOM,icon:Dt,color:"from-purple-50 to-purple-100/50"},{id:"financial-overview",name:"Financial Overview",description:"Revenue, expenses, and profitability analysis",type:gn.FINANCIAL,icon:De,color:"from-orange-50 to-orange-100/50"}];function $v(){const[e]=f.useState(DO),[n,s]=f.useState(""),r=i=>{switch(i){case gn.SALES:return"bg-green-50 text-green-700 border-green-200";case gn.INVENTORY:return"bg-blue-50 text-blue-700 border-blue-200";case gn.SERVICE:return"bg-purple-50 text-purple-700 border-purple-200";case gn.FINANCIAL:return"bg-orange-50 text-orange-700 border-orange-200";case gn.CUSTOM:return"bg-gray-50 text-gray-700 border-gray-200";default:return"bg-gray-50 text-gray-700 border-gray-200"}},a=e.filter(i=>i.name.toLowerCase().includes(n.toLowerCase())||i.type.toLowerCase().includes(n.toLowerCase()));return t.jsxs("div",{className:"space-y-8",children:[t.jsx("div",{className:"ri-page-header",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"ri-page-title",children:"Reporting Suite"}),t.jsx("p",{className:"ri-page-description",children:"Generate insights and analytics for your dealership"})]}),t.jsxs($,{className:"shadow-sm",children:[t.jsx(Re,{className:"h-4 w-4 mr-2"}),"Create Report"]})]})}),t.jsxs("div",{className:"ri-stats-grid",children:[t.jsxs(U,{className:"shadow-sm border-0 bg-gradient-to-br from-blue-50 to-blue-100/50",children:[t.jsxs(G,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[t.jsx(q,{className:"text-sm font-medium text-blue-900",children:"Total Reports"}),t.jsx(Jn,{className:"h-4 w-4 text-blue-600"})]}),t.jsxs(W,{children:[t.jsx("div",{className:"text-2xl font-bold text-blue-900",children:e.length}),t.jsxs("p",{className:"text-xs text-blue-600 flex items-center mt-1",children:[t.jsx(De,{className:"h-3 w-3 mr-1"}),"All reports"]})]})]}),t.jsxs(U,{className:"shadow-sm border-0 bg-gradient-to-br from-green-50 to-green-100/50",children:[t.jsxs(G,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[t.jsx(q,{className:"text-sm font-medium text-green-900",children:"This Month"}),t.jsx(Jn,{className:"h-4 w-4 text-green-600"})]}),t.jsxs(W,{children:[t.jsx("div",{className:"text-2xl font-bold text-green-900",children:e.filter(i=>i.generatedAt.getMonth()===new Date().getMonth()).length}),t.jsxs("p",{className:"text-xs text-green-600 flex items-center mt-1",children:[t.jsx(De,{className:"h-3 w-3 mr-1"}),"Generated this month"]})]})]}),t.jsxs(U,{className:"shadow-sm border-0 bg-gradient-to-br from-purple-50 to-purple-100/50",children:[t.jsxs(G,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[t.jsx(q,{className:"text-sm font-medium text-purple-900",children:"Scheduled"}),t.jsx(Jn,{className:"h-4 w-4 text-purple-600"})]}),t.jsxs(W,{children:[t.jsx("div",{className:"text-2xl font-bold text-purple-900",children:"5"}),t.jsxs("p",{className:"text-xs text-purple-600 flex items-center mt-1",children:[t.jsx(Jn,{className:"h-3 w-3 mr-1"}),"Automated reports"]})]})]}),t.jsxs(U,{className:"shadow-sm border-0 bg-gradient-to-br from-orange-50 to-orange-100/50",children:[t.jsxs(G,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[t.jsx(q,{className:"text-sm font-medium text-orange-900",children:"Templates"}),t.jsx(Jn,{className:"h-4 w-4 text-orange-600"})]}),t.jsxs(W,{children:[t.jsx("div",{className:"text-2xl font-bold text-orange-900",children:_v.length}),t.jsxs("p",{className:"text-xs text-orange-600 flex items-center mt-1",children:[t.jsx(Jn,{className:"h-3 w-3 mr-1"}),"Available templates"]})]})]})]}),t.jsxs(U,{className:"shadow-sm",children:[t.jsxs(G,{children:[t.jsx(q,{className:"text-xl",children:"Report Templates"}),t.jsx(oe,{children:"Quick start templates for common reports"})]}),t.jsx(W,{children:t.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:_v.map(i=>t.jsx(U,{className:ae("overflow-hidden shadow-sm hover:shadow-md transition-shadow cursor-pointer border-0 bg-gradient-to-br",i.color),children:t.jsxs(W,{className:"p-6",children:[t.jsxs("div",{className:"flex items-center space-x-3 mb-3",children:[t.jsx(i.icon,{className:"h-8 w-8 text-primary"}),t.jsxs("div",{children:[t.jsx("h3",{className:"font-semibold text-foreground",children:i.name}),t.jsx(Z,{className:ae("ri-badge-status mt-1",r(i.type)),children:i.type.toUpperCase()})]})]}),t.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:i.description}),t.jsx($,{size:"sm",className:"w-full shadow-sm",children:"Generate Report"})]})},i.id))})})]}),t.jsxs("div",{className:"flex gap-4",children:[t.jsxs("div",{className:"ri-search-bar",children:[t.jsx(Lt,{className:"ri-search-icon"}),t.jsx(J,{placeholder:"Search reports...",value:n,onChange:i=>s(i.target.value),className:"ri-search-input shadow-sm"})]}),t.jsxs($,{variant:"outline",className:"shadow-sm",children:[t.jsx(an,{className:"h-4 w-4 mr-2"}),"Filter"]})]}),t.jsxs(U,{className:"shadow-sm",children:[t.jsxs(G,{children:[t.jsx(q,{className:"text-xl",children:"Generated Reports"}),t.jsx(oe,{children:"View and manage your generated reports"})]}),t.jsx(W,{children:t.jsx("div",{className:"space-y-4",children:a.map(i=>t.jsxs("div",{className:"ri-table-row",children:[t.jsx("div",{className:"flex items-center space-x-4 flex-1",children:t.jsxs("div",{className:"flex-1",children:[t.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[t.jsx("h3",{className:"font-semibold text-foreground",children:i.name}),t.jsx(Z,{className:ae("ri-badge-status",r(i.type)),children:i.type.toUpperCase()})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm text-muted-foreground",children:[t.jsxs("div",{children:[t.jsx("span",{className:"font-medium",children:"Module:"}),t.jsx("span",{className:"ml-1",children:i.module})]}),t.jsxs("div",{children:[t.jsx("span",{className:"font-medium",children:"Generated By:"}),t.jsx("span",{className:"ml-1",children:i.generatedBy})]}),t.jsxs("div",{children:[t.jsx("span",{className:"font-medium",children:"Generated:"}),t.jsx("span",{className:"ml-1",children:Pe(i.generatedAt)})]}),t.jsxs("div",{children:[t.jsx("span",{className:"font-medium",children:"Records:"}),t.jsx("span",{className:"ml-1",children:i.data.length})]})]})]})}),t.jsxs("div",{className:"ri-action-buttons",children:[t.jsxs($,{variant:"outline",size:"sm",className:"shadow-sm",children:[t.jsx(Ar,{className:"h-3 w-3 mr-1"}),"View"]}),t.jsxs($,{variant:"outline",size:"sm",className:"shadow-sm",children:[t.jsx(Vs,{className:"h-3 w-3 mr-1"}),"Export"]})]})]},i.id))})})]})]})}function AO(){return t.jsxs(Wt,{children:[t.jsx(ke,{path:"/",element:t.jsx($v,{})}),t.jsx(ke,{path:"/*",element:t.jsx($v,{})})]})}function TO(){return t.jsx(TI,{defaultTheme:"light",storageKey:"renter-insight-theme",children:t.jsx(EI,{children:t.jsx(AC,{children:t.jsx(II,{children:t.jsxs("div",{className:"min-h-screen bg-background",children:[t.jsxs(Wt,{children:[t.jsx(ke,{path:"/login",element:t.jsx(nk,{})}),t.jsx(ke,{path:"/*",element:t.jsx(sk,{children:t.jsx(FI,{children:t.jsxs(Wt,{children:[t.jsx(ke,{path:"/",element:t.jsx(tk,{})}),t.jsx(ke,{path:"/crm/*",element:t.jsx(Jk,{})}),t.jsx(ke,{path:"/inventory/*",element:t.jsx(nP,{})}),t.jsx(ke,{path:"/deals/*",element:t.jsx(sO,{})}),t.jsx(ke,{path:"/finance/*",element:t.jsx(uP,{})}),t.jsx(ke,{path:"/quotes/*",element:t.jsx(aP,{})}),t.jsx(ke,{path:"/agreements/*",element:t.jsx(aO,{})}),t.jsx(ke,{path:"/service/*",element:t.jsx(lO,{})}),t.jsx(ke,{path:"/pdi/*",element:t.jsx(gO,{})}),t.jsx(ke,{path:"/delivery/*",element:t.jsx(cO,{})}),t.jsx(ke,{path:"/commissions/*",element:t.jsx(jO,{})}),t.jsx(ke,{path:"/portal/*",element:t.jsx(bO,{})}),t.jsx(ke,{path:"/invoices/*",element:t.jsx(SO,{})}),t.jsx(ke,{path:"/settings/*",element:t.jsx(CO,{})}),t.jsx(ke,{path:"/admin/*",element:t.jsx(IO,{})}),t.jsx(ke,{path:"/reports/*",element:t.jsx(AO,{})})]})})})})]}),t.jsx(CI,{})]})})})})})}Hu.createRoot(document.getElementById("root")).render(t.jsx(TO,{}));
