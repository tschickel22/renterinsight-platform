function o6(e,t){for(var n=0;n<t.length;n++){const s=t[n];if(typeof s!="string"&&!Array.isArray(s)){for(const a in s)if(a!=="default"&&!(a in e)){const i=Object.getOwnPropertyDescriptor(s,a);i&&Object.defineProperty(e,a,i.get?i:{enumerable:!0,get:()=>s[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function n(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(a){if(a.ep)return;a.ep=!0;const i=n(a);fetch(a.href,i)}})();var bf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Cp(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function l6(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function s(){return this instanceof s?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(s){var a=Object.getOwnPropertyDescriptor(e,s);Object.defineProperty(n,s,a.get?a:{enumerable:!0,get:function(){return e[s]}})}),n}var B5={exports:{}},Fh={},z5={exports:{}},Bt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ap=Symbol.for("react.element"),c6=Symbol.for("react.portal"),d6=Symbol.for("react.fragment"),u6=Symbol.for("react.strict_mode"),p6=Symbol.for("react.profiler"),m6=Symbol.for("react.provider"),f6=Symbol.for("react.context"),h6=Symbol.for("react.forward_ref"),x6=Symbol.for("react.suspense"),g6=Symbol.for("react.memo"),v6=Symbol.for("react.lazy"),J2=Symbol.iterator;function y6(e){return e===null||typeof e!="object"?null:(e=J2&&e[J2]||e["@@iterator"],typeof e=="function"?e:null)}var $5={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},U5=Object.assign,V5={};function xd(e,t,n){this.props=e,this.context=t,this.refs=V5,this.updater=n||$5}xd.prototype.isReactComponent={};xd.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};xd.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function W5(){}W5.prototype=xd.prototype;function y1(e,t,n){this.props=e,this.context=t,this.refs=V5,this.updater=n||$5}var b1=y1.prototype=new W5;b1.constructor=y1;U5(b1,xd.prototype);b1.isPureReactComponent=!0;var Z2=Array.isArray,q5=Object.prototype.hasOwnProperty,j1={current:null},H5={key:!0,ref:!0,__self:!0,__source:!0};function G5(e,t,n){var s,a={},i=null,o=null;if(t!=null)for(s in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)q5.call(t,s)&&!H5.hasOwnProperty(s)&&(a[s]=t[s]);var l=arguments.length-2;if(l===1)a.children=n;else if(1<l){for(var c=Array(l),d=0;d<l;d++)c[d]=arguments[d+2];a.children=c}if(e&&e.defaultProps)for(s in l=e.defaultProps,l)a[s]===void 0&&(a[s]=l[s]);return{$$typeof:Ap,type:e,key:i,ref:o,props:a,_owner:j1.current}}function b6(e,t){return{$$typeof:Ap,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function w1(e){return typeof e=="object"&&e!==null&&e.$$typeof===Ap}function j6(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var eb=/\/+/g;function wg(e,t){return typeof e=="object"&&e!==null&&e.key!=null?j6(""+e.key):t.toString(36)}function jf(e,t,n,s,a){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Ap:case c6:o=!0}}if(o)return o=e,a=a(o),e=s===""?"."+wg(o,0):s,Z2(a)?(n="",e!=null&&(n=e.replace(eb,"$&/")+"/"),jf(a,t,n,"",function(d){return d})):a!=null&&(w1(a)&&(a=b6(a,n+(!a.key||o&&o.key===a.key?"":(""+a.key).replace(eb,"$&/")+"/")+e)),t.push(a)),1;if(o=0,s=s===""?".":s+":",Z2(e))for(var l=0;l<e.length;l++){i=e[l];var c=s+wg(i,l);o+=jf(i,t,n,c,a)}else if(c=y6(e),typeof c=="function")for(e=c.call(e),l=0;!(i=e.next()).done;)i=i.value,c=s+wg(i,l++),o+=jf(i,t,n,c,a);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Om(e,t,n){if(e==null)return e;var s=[],a=0;return jf(e,s,"","",function(i){return t.call(n,i,a++)}),s}function w6(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var rs={current:null},wf={transition:null},N6={ReactCurrentDispatcher:rs,ReactCurrentBatchConfig:wf,ReactCurrentOwner:j1};function Q5(){throw Error("act(...) is not supported in production builds of React.")}Bt.Children={map:Om,forEach:function(e,t,n){Om(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Om(e,function(){t++}),t},toArray:function(e){return Om(e,function(t){return t})||[]},only:function(e){if(!w1(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Bt.Component=xd;Bt.Fragment=d6;Bt.Profiler=p6;Bt.PureComponent=y1;Bt.StrictMode=u6;Bt.Suspense=x6;Bt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=N6;Bt.act=Q5;Bt.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var s=U5({},e.props),a=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=j1.current),t.key!==void 0&&(a=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)q5.call(t,c)&&!H5.hasOwnProperty(c)&&(s[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)s.children=n;else if(1<c){l=Array(c);for(var d=0;d<c;d++)l[d]=arguments[d+2];s.children=l}return{$$typeof:Ap,type:e.type,key:a,ref:i,props:s,_owner:o}};Bt.createContext=function(e){return e={$$typeof:f6,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:m6,_context:e},e.Consumer=e};Bt.createElement=G5;Bt.createFactory=function(e){var t=G5.bind(null,e);return t.type=e,t};Bt.createRef=function(){return{current:null}};Bt.forwardRef=function(e){return{$$typeof:h6,render:e}};Bt.isValidElement=w1;Bt.lazy=function(e){return{$$typeof:v6,_payload:{_status:-1,_result:e},_init:w6}};Bt.memo=function(e,t){return{$$typeof:g6,type:e,compare:t===void 0?null:t}};Bt.startTransition=function(e){var t=wf.transition;wf.transition={};try{e()}finally{wf.transition=t}};Bt.unstable_act=Q5;Bt.useCallback=function(e,t){return rs.current.useCallback(e,t)};Bt.useContext=function(e){return rs.current.useContext(e)};Bt.useDebugValue=function(){};Bt.useDeferredValue=function(e){return rs.current.useDeferredValue(e)};Bt.useEffect=function(e,t){return rs.current.useEffect(e,t)};Bt.useId=function(){return rs.current.useId()};Bt.useImperativeHandle=function(e,t,n){return rs.current.useImperativeHandle(e,t,n)};Bt.useInsertionEffect=function(e,t){return rs.current.useInsertionEffect(e,t)};Bt.useLayoutEffect=function(e,t){return rs.current.useLayoutEffect(e,t)};Bt.useMemo=function(e,t){return rs.current.useMemo(e,t)};Bt.useReducer=function(e,t,n){return rs.current.useReducer(e,t,n)};Bt.useRef=function(e){return rs.current.useRef(e)};Bt.useState=function(e){return rs.current.useState(e)};Bt.useSyncExternalStore=function(e,t,n){return rs.current.useSyncExternalStore(e,t,n)};Bt.useTransition=function(){return rs.current.useTransition()};Bt.version="18.3.1";z5.exports=Bt;var A=z5.exports;const Dt=Cp(A),_h=o6({__proto__:null,default:Dt},[A]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var S6=A,C6=Symbol.for("react.element"),A6=Symbol.for("react.fragment"),E6=Object.prototype.hasOwnProperty,I6=S6.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,P6={key:!0,ref:!0,__self:!0,__source:!0};function Y5(e,t,n){var s,a={},i=null,o=null;n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(s in t)E6.call(t,s)&&!P6.hasOwnProperty(s)&&(a[s]=t[s]);if(e&&e.defaultProps)for(s in t=e.defaultProps,t)a[s]===void 0&&(a[s]=t[s]);return{$$typeof:C6,type:e,key:i,ref:o,props:a,_owner:I6.current}}Fh.Fragment=A6;Fh.jsx=Y5;Fh.jsxs=Y5;B5.exports=Fh;var r=B5.exports,Fv={},K5={exports:{}},Ms={},X5={exports:{}},J5={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(B,U){var q=B.length;B.push(U);e:for(;0<q;){var H=q-1>>>1,R=B[H];if(0<a(R,U))B[H]=U,B[q]=R,q=H;else break e}}function n(B){return B.length===0?null:B[0]}function s(B){if(B.length===0)return null;var U=B[0],q=B.pop();if(q!==U){B[0]=q;e:for(var H=0,R=B.length,$=R>>>1;H<$;){var G=2*(H+1)-1,Z=B[G],te=G+1,le=B[te];if(0>a(Z,q))te<R&&0>a(le,Z)?(B[H]=le,B[te]=q,H=te):(B[H]=Z,B[G]=q,H=G);else if(te<R&&0>a(le,q))B[H]=le,B[te]=q,H=te;else break e}}return U}function a(B,U){var q=B.sortIndex-U.sortIndex;return q!==0?q:B.id-U.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],d=[],p=1,u=null,f=3,m=!1,g=!1,b=!1,j=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function y(B){for(var U=n(d);U!==null;){if(U.callback===null)s(d);else if(U.startTime<=B)s(d),U.sortIndex=U.expirationTime,t(c,U);else break;U=n(d)}}function P(B){if(b=!1,y(B),!g)if(n(c)!==null)g=!0,V(M);else{var U=n(d);U!==null&&_(P,U.startTime-B)}}function M(B,U){g=!1,b&&(b=!1,x(S),S=-1),m=!0;var q=f;try{for(y(U),u=n(c);u!==null&&(!(u.expirationTime>U)||B&&!C());){var H=u.callback;if(typeof H=="function"){u.callback=null,f=u.priorityLevel;var R=H(u.expirationTime<=U);U=e.unstable_now(),typeof R=="function"?u.callback=R:u===n(c)&&s(c),y(U)}else s(c);u=n(c)}if(u!==null)var $=!0;else{var G=n(d);G!==null&&_(P,G.startTime-U),$=!1}return $}finally{u=null,f=q,m=!1}}var O=!1,E=null,S=-1,k=5,D=-1;function C(){return!(e.unstable_now()-D<k)}function w(){if(E!==null){var B=e.unstable_now();D=B;var U=!0;try{U=E(!0,B)}finally{U?T():(O=!1,E=null)}}else O=!1}var T;if(typeof v=="function")T=function(){v(w)};else if(typeof MessageChannel<"u"){var L=new MessageChannel,W=L.port2;L.port1.onmessage=w,T=function(){W.postMessage(null)}}else T=function(){j(w,0)};function V(B){E=B,O||(O=!0,T())}function _(B,U){S=j(function(){B(e.unstable_now())},U)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(B){B.callback=null},e.unstable_continueExecution=function(){g||m||(g=!0,V(M))},e.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<B?Math.floor(1e3/B):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(B){switch(f){case 1:case 2:case 3:var U=3;break;default:U=f}var q=f;f=U;try{return B()}finally{f=q}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(B,U){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var q=f;f=B;try{return U()}finally{f=q}},e.unstable_scheduleCallback=function(B,U,q){var H=e.unstable_now();switch(typeof q=="object"&&q!==null?(q=q.delay,q=typeof q=="number"&&0<q?H+q:H):q=H,B){case 1:var R=-1;break;case 2:R=250;break;case 5:R=1073741823;break;case 4:R=1e4;break;default:R=5e3}return R=q+R,B={id:p++,callback:U,priorityLevel:B,startTime:q,expirationTime:R,sortIndex:-1},q>H?(B.sortIndex=q,t(d,B),n(c)===null&&B===n(d)&&(b?(x(S),S=-1):b=!0,_(P,q-H))):(B.sortIndex=R,t(c,B),g||m||(g=!0,V(M))),B},e.unstable_shouldYield=C,e.unstable_wrapCallback=function(B){var U=f;return function(){var q=f;f=U;try{return B.apply(this,arguments)}finally{f=q}}}})(J5);X5.exports=J5;var k6=X5.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var D6=A,_s=k6;function He(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Z5=new Set,Gu={};function zl(e,t){rd(e,t),rd(e+"Capture",t)}function rd(e,t){for(Gu[e]=t,e=0;e<t.length;e++)Z5.add(t[e])}var _i=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),_v=Object.prototype.hasOwnProperty,L6=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,tb={},rb={};function T6(e){return _v.call(rb,e)?!0:_v.call(tb,e)?!1:L6.test(e)?rb[e]=!0:(tb[e]=!0,!1)}function R6(e,t,n,s){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return s?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function F6(e,t,n,s){if(t===null||typeof t>"u"||R6(e,t,n,s))return!0;if(s)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function ns(e,t,n,s,a,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=s,this.attributeNamespace=a,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var Dn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Dn[e]=new ns(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Dn[t]=new ns(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Dn[e]=new ns(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Dn[e]=new ns(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Dn[e]=new ns(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Dn[e]=new ns(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Dn[e]=new ns(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Dn[e]=new ns(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Dn[e]=new ns(e,5,!1,e.toLowerCase(),null,!1,!1)});var N1=/[\-:]([a-z])/g;function S1(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(N1,S1);Dn[t]=new ns(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(N1,S1);Dn[t]=new ns(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(N1,S1);Dn[t]=new ns(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Dn[e]=new ns(e,1,!1,e.toLowerCase(),null,!1,!1)});Dn.xlinkHref=new ns("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Dn[e]=new ns(e,1,!1,e.toLowerCase(),null,!0,!0)});function C1(e,t,n,s){var a=Dn.hasOwnProperty(t)?Dn[t]:null;(a!==null?a.type!==0:s||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(F6(t,n,a,s)&&(n=null),s||a===null?T6(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):a.mustUseProperty?e[a.propertyName]=n===null?a.type===3?!1:"":n:(t=a.attributeName,s=a.attributeNamespace,n===null?e.removeAttribute(t):(a=a.type,n=a===3||a===4&&n===!0?"":""+n,s?e.setAttributeNS(s,t,n):e.setAttribute(t,n))))}var Vi=D6.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Mm=Symbol.for("react.element"),Rc=Symbol.for("react.portal"),Fc=Symbol.for("react.fragment"),A1=Symbol.for("react.strict_mode"),Ov=Symbol.for("react.profiler"),eN=Symbol.for("react.provider"),tN=Symbol.for("react.context"),E1=Symbol.for("react.forward_ref"),Mv=Symbol.for("react.suspense"),Bv=Symbol.for("react.suspense_list"),I1=Symbol.for("react.memo"),po=Symbol.for("react.lazy"),rN=Symbol.for("react.offscreen"),nb=Symbol.iterator;function iu(e){return e===null||typeof e!="object"?null:(e=nb&&e[nb]||e["@@iterator"],typeof e=="function"?e:null)}var Dr=Object.assign,Ng;function wu(e){if(Ng===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Ng=t&&t[1]||""}return`
`+Ng+e}var Sg=!1;function Cg(e,t){if(!e||Sg)return"";Sg=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(d){var s=d}Reflect.construct(e,[],t)}else{try{t.call()}catch(d){s=d}e.call(t.prototype)}else{try{throw Error()}catch(d){s=d}e()}}catch(d){if(d&&s&&typeof d.stack=="string"){for(var a=d.stack.split(`
`),i=s.stack.split(`
`),o=a.length-1,l=i.length-1;1<=o&&0<=l&&a[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(a[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||a[o]!==i[l]){var c=`
`+a[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=l);break}}}finally{Sg=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?wu(e):""}function _6(e){switch(e.tag){case 5:return wu(e.type);case 16:return wu("Lazy");case 13:return wu("Suspense");case 19:return wu("SuspenseList");case 0:case 2:case 15:return e=Cg(e.type,!1),e;case 11:return e=Cg(e.type.render,!1),e;case 1:return e=Cg(e.type,!0),e;default:return""}}function zv(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Fc:return"Fragment";case Rc:return"Portal";case Ov:return"Profiler";case A1:return"StrictMode";case Mv:return"Suspense";case Bv:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case tN:return(e.displayName||"Context")+".Consumer";case eN:return(e._context.displayName||"Context")+".Provider";case E1:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case I1:return t=e.displayName||null,t!==null?t:zv(e.type)||"Memo";case po:t=e._payload,e=e._init;try{return zv(e(t))}catch{}}return null}function O6(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return zv(t);case 8:return t===A1?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Fo(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function nN(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function M6(e){var t=nN(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),s=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var a=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(o){s=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return s},setValue:function(o){s=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Bm(e){e._valueTracker||(e._valueTracker=M6(e))}function sN(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),s="";return e&&(s=nN(e)?e.checked?"true":"false":e.value),e=s,e!==n?(t.setValue(e),!0):!1}function Uf(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function $v(e,t){var n=t.checked;return Dr({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function sb(e,t){var n=t.defaultValue==null?"":t.defaultValue,s=t.checked!=null?t.checked:t.defaultChecked;n=Fo(t.value!=null?t.value:n),e._wrapperState={initialChecked:s,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function aN(e,t){t=t.checked,t!=null&&C1(e,"checked",t,!1)}function Uv(e,t){aN(e,t);var n=Fo(t.value),s=t.type;if(n!=null)s==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(s==="submit"||s==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Vv(e,t.type,n):t.hasOwnProperty("defaultValue")&&Vv(e,t.type,Fo(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function ab(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var s=t.type;if(!(s!=="submit"&&s!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Vv(e,t,n){(t!=="number"||Uf(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Nu=Array.isArray;function Gc(e,t,n,s){if(e=e.options,t){t={};for(var a=0;a<n.length;a++)t["$"+n[a]]=!0;for(n=0;n<e.length;n++)a=t.hasOwnProperty("$"+e[n].value),e[n].selected!==a&&(e[n].selected=a),a&&s&&(e[n].defaultSelected=!0)}else{for(n=""+Fo(n),t=null,a=0;a<e.length;a++){if(e[a].value===n){e[a].selected=!0,s&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function Wv(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(He(91));return Dr({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ib(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(He(92));if(Nu(n)){if(1<n.length)throw Error(He(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Fo(n)}}function iN(e,t){var n=Fo(t.value),s=Fo(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),s!=null&&(e.defaultValue=""+s)}function ob(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function oN(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function qv(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?oN(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var zm,lN=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,s,a){MSApp.execUnsafeLocalFunction(function(){return e(t,n,s,a)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(zm=zm||document.createElement("div"),zm.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=zm.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Qu(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Eu={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},B6=["Webkit","ms","Moz","O"];Object.keys(Eu).forEach(function(e){B6.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Eu[t]=Eu[e]})});function cN(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Eu.hasOwnProperty(e)&&Eu[e]?(""+t).trim():t+"px"}function dN(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var s=n.indexOf("--")===0,a=cN(n,t[n],s);n==="float"&&(n="cssFloat"),s?e.setProperty(n,a):e[n]=a}}var z6=Dr({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Hv(e,t){if(t){if(z6[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(He(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(He(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(He(61))}if(t.style!=null&&typeof t.style!="object")throw Error(He(62))}}function Gv(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Qv=null;function P1(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Yv=null,Qc=null,Yc=null;function lb(e){if(e=Pp(e)){if(typeof Yv!="function")throw Error(He(280));var t=e.stateNode;t&&(t=$h(t),Yv(e.stateNode,e.type,t))}}function uN(e){Qc?Yc?Yc.push(e):Yc=[e]:Qc=e}function pN(){if(Qc){var e=Qc,t=Yc;if(Yc=Qc=null,lb(e),t)for(e=0;e<t.length;e++)lb(t[e])}}function mN(e,t){return e(t)}function fN(){}var Ag=!1;function hN(e,t,n){if(Ag)return e(t,n);Ag=!0;try{return mN(e,t,n)}finally{Ag=!1,(Qc!==null||Yc!==null)&&(fN(),pN())}}function Yu(e,t){var n=e.stateNode;if(n===null)return null;var s=$h(n);if(s===null)return null;n=s[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(e=e.type,s=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!s;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(He(231,t,typeof n));return n}var Kv=!1;if(_i)try{var ou={};Object.defineProperty(ou,"passive",{get:function(){Kv=!0}}),window.addEventListener("test",ou,ou),window.removeEventListener("test",ou,ou)}catch{Kv=!1}function $6(e,t,n,s,a,i,o,l,c){var d=Array.prototype.slice.call(arguments,3);try{t.apply(n,d)}catch(p){this.onError(p)}}var Iu=!1,Vf=null,Wf=!1,Xv=null,U6={onError:function(e){Iu=!0,Vf=e}};function V6(e,t,n,s,a,i,o,l,c){Iu=!1,Vf=null,$6.apply(U6,arguments)}function W6(e,t,n,s,a,i,o,l,c){if(V6.apply(this,arguments),Iu){if(Iu){var d=Vf;Iu=!1,Vf=null}else throw Error(He(198));Wf||(Wf=!0,Xv=d)}}function $l(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function xN(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function cb(e){if($l(e)!==e)throw Error(He(188))}function q6(e){var t=e.alternate;if(!t){if(t=$l(e),t===null)throw Error(He(188));return t!==e?null:e}for(var n=e,s=t;;){var a=n.return;if(a===null)break;var i=a.alternate;if(i===null){if(s=a.return,s!==null){n=s;continue}break}if(a.child===i.child){for(i=a.child;i;){if(i===n)return cb(a),e;if(i===s)return cb(a),t;i=i.sibling}throw Error(He(188))}if(n.return!==s.return)n=a,s=i;else{for(var o=!1,l=a.child;l;){if(l===n){o=!0,n=a,s=i;break}if(l===s){o=!0,s=a,n=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===n){o=!0,n=i,s=a;break}if(l===s){o=!0,s=i,n=a;break}l=l.sibling}if(!o)throw Error(He(189))}}if(n.alternate!==s)throw Error(He(190))}if(n.tag!==3)throw Error(He(188));return n.stateNode.current===n?e:t}function gN(e){return e=q6(e),e!==null?vN(e):null}function vN(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=vN(e);if(t!==null)return t;e=e.sibling}return null}var yN=_s.unstable_scheduleCallback,db=_s.unstable_cancelCallback,H6=_s.unstable_shouldYield,G6=_s.unstable_requestPaint,Ur=_s.unstable_now,Q6=_s.unstable_getCurrentPriorityLevel,k1=_s.unstable_ImmediatePriority,bN=_s.unstable_UserBlockingPriority,qf=_s.unstable_NormalPriority,Y6=_s.unstable_LowPriority,jN=_s.unstable_IdlePriority,Oh=null,li=null;function K6(e){if(li&&typeof li.onCommitFiberRoot=="function")try{li.onCommitFiberRoot(Oh,e,void 0,(e.current.flags&128)===128)}catch{}}var La=Math.clz32?Math.clz32:Z6,X6=Math.log,J6=Math.LN2;function Z6(e){return e>>>=0,e===0?32:31-(X6(e)/J6|0)|0}var $m=64,Um=4194304;function Su(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Hf(e,t){var n=e.pendingLanes;if(n===0)return 0;var s=0,a=e.suspendedLanes,i=e.pingedLanes,o=n&268435455;if(o!==0){var l=o&~a;l!==0?s=Su(l):(i&=o,i!==0&&(s=Su(i)))}else o=n&~a,o!==0?s=Su(o):i!==0&&(s=Su(i));if(s===0)return 0;if(t!==0&&t!==s&&!(t&a)&&(a=s&-s,i=t&-t,a>=i||a===16&&(i&4194240)!==0))return t;if(s&4&&(s|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=s;0<t;)n=31-La(t),a=1<<n,s|=e[n],t&=~a;return s}function eI(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function tI(e,t){for(var n=e.suspendedLanes,s=e.pingedLanes,a=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-La(i),l=1<<o,c=a[o];c===-1?(!(l&n)||l&s)&&(a[o]=eI(l,t)):c<=t&&(e.expiredLanes|=l),i&=~l}}function Jv(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function wN(){var e=$m;return $m<<=1,!($m&4194240)&&($m=64),e}function Eg(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Ep(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-La(t),e[t]=n}function rI(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var s=e.eventTimes;for(e=e.expirationTimes;0<n;){var a=31-La(n),i=1<<a;t[a]=0,s[a]=-1,e[a]=-1,n&=~i}}function D1(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var s=31-La(n),a=1<<s;a&t|e[s]&t&&(e[s]|=t),n&=~a}}var nr=0;function NN(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var SN,L1,CN,AN,EN,Zv=!1,Vm=[],jo=null,wo=null,No=null,Ku=new Map,Xu=new Map,fo=[],nI="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ub(e,t){switch(e){case"focusin":case"focusout":jo=null;break;case"dragenter":case"dragleave":wo=null;break;case"mouseover":case"mouseout":No=null;break;case"pointerover":case"pointerout":Ku.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Xu.delete(t.pointerId)}}function lu(e,t,n,s,a,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:s,nativeEvent:i,targetContainers:[a]},t!==null&&(t=Pp(t),t!==null&&L1(t)),e):(e.eventSystemFlags|=s,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function sI(e,t,n,s,a){switch(t){case"focusin":return jo=lu(jo,e,t,n,s,a),!0;case"dragenter":return wo=lu(wo,e,t,n,s,a),!0;case"mouseover":return No=lu(No,e,t,n,s,a),!0;case"pointerover":var i=a.pointerId;return Ku.set(i,lu(Ku.get(i)||null,e,t,n,s,a)),!0;case"gotpointercapture":return i=a.pointerId,Xu.set(i,lu(Xu.get(i)||null,e,t,n,s,a)),!0}return!1}function IN(e){var t=fl(e.target);if(t!==null){var n=$l(t);if(n!==null){if(t=n.tag,t===13){if(t=xN(n),t!==null){e.blockedOn=t,EN(e.priority,function(){CN(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Nf(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=e0(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var s=new n.constructor(n.type,n);Qv=s,n.target.dispatchEvent(s),Qv=null}else return t=Pp(n),t!==null&&L1(t),e.blockedOn=n,!1;t.shift()}return!0}function pb(e,t,n){Nf(e)&&n.delete(t)}function aI(){Zv=!1,jo!==null&&Nf(jo)&&(jo=null),wo!==null&&Nf(wo)&&(wo=null),No!==null&&Nf(No)&&(No=null),Ku.forEach(pb),Xu.forEach(pb)}function cu(e,t){e.blockedOn===t&&(e.blockedOn=null,Zv||(Zv=!0,_s.unstable_scheduleCallback(_s.unstable_NormalPriority,aI)))}function Ju(e){function t(a){return cu(a,e)}if(0<Vm.length){cu(Vm[0],e);for(var n=1;n<Vm.length;n++){var s=Vm[n];s.blockedOn===e&&(s.blockedOn=null)}}for(jo!==null&&cu(jo,e),wo!==null&&cu(wo,e),No!==null&&cu(No,e),Ku.forEach(t),Xu.forEach(t),n=0;n<fo.length;n++)s=fo[n],s.blockedOn===e&&(s.blockedOn=null);for(;0<fo.length&&(n=fo[0],n.blockedOn===null);)IN(n),n.blockedOn===null&&fo.shift()}var Kc=Vi.ReactCurrentBatchConfig,Gf=!0;function iI(e,t,n,s){var a=nr,i=Kc.transition;Kc.transition=null;try{nr=1,T1(e,t,n,s)}finally{nr=a,Kc.transition=i}}function oI(e,t,n,s){var a=nr,i=Kc.transition;Kc.transition=null;try{nr=4,T1(e,t,n,s)}finally{nr=a,Kc.transition=i}}function T1(e,t,n,s){if(Gf){var a=e0(e,t,n,s);if(a===null)Og(e,t,s,Qf,n),ub(e,s);else if(sI(a,e,t,n,s))s.stopPropagation();else if(ub(e,s),t&4&&-1<nI.indexOf(e)){for(;a!==null;){var i=Pp(a);if(i!==null&&SN(i),i=e0(e,t,n,s),i===null&&Og(e,t,s,Qf,n),i===a)break;a=i}a!==null&&s.stopPropagation()}else Og(e,t,s,null,n)}}var Qf=null;function e0(e,t,n,s){if(Qf=null,e=P1(s),e=fl(e),e!==null)if(t=$l(e),t===null)e=null;else if(n=t.tag,n===13){if(e=xN(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Qf=e,null}function PN(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Q6()){case k1:return 1;case bN:return 4;case qf:case Y6:return 16;case jN:return 536870912;default:return 16}default:return 16}}var go=null,R1=null,Sf=null;function kN(){if(Sf)return Sf;var e,t=R1,n=t.length,s,a="value"in go?go.value:go.textContent,i=a.length;for(e=0;e<n&&t[e]===a[e];e++);var o=n-e;for(s=1;s<=o&&t[n-s]===a[i-s];s++);return Sf=a.slice(e,1<s?1-s:void 0)}function Cf(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Wm(){return!0}function mb(){return!1}function Bs(e){function t(n,s,a,i,o){this._reactName=n,this._targetInst=a,this.type=s,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Wm:mb,this.isPropagationStopped=mb,this}return Dr(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Wm)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Wm)},persist:function(){},isPersistent:Wm}),t}var gd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},F1=Bs(gd),Ip=Dr({},gd,{view:0,detail:0}),lI=Bs(Ip),Ig,Pg,du,Mh=Dr({},Ip,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:_1,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==du&&(du&&e.type==="mousemove"?(Ig=e.screenX-du.screenX,Pg=e.screenY-du.screenY):Pg=Ig=0,du=e),Ig)},movementY:function(e){return"movementY"in e?e.movementY:Pg}}),fb=Bs(Mh),cI=Dr({},Mh,{dataTransfer:0}),dI=Bs(cI),uI=Dr({},Ip,{relatedTarget:0}),kg=Bs(uI),pI=Dr({},gd,{animationName:0,elapsedTime:0,pseudoElement:0}),mI=Bs(pI),fI=Dr({},gd,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),hI=Bs(fI),xI=Dr({},gd,{data:0}),hb=Bs(xI),gI={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},vI={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},yI={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function bI(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=yI[e])?!!t[e]:!1}function _1(){return bI}var jI=Dr({},Ip,{key:function(e){if(e.key){var t=gI[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Cf(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?vI[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:_1,charCode:function(e){return e.type==="keypress"?Cf(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Cf(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),wI=Bs(jI),NI=Dr({},Mh,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),xb=Bs(NI),SI=Dr({},Ip,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:_1}),CI=Bs(SI),AI=Dr({},gd,{propertyName:0,elapsedTime:0,pseudoElement:0}),EI=Bs(AI),II=Dr({},Mh,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),PI=Bs(II),kI=[9,13,27,32],O1=_i&&"CompositionEvent"in window,Pu=null;_i&&"documentMode"in document&&(Pu=document.documentMode);var DI=_i&&"TextEvent"in window&&!Pu,DN=_i&&(!O1||Pu&&8<Pu&&11>=Pu),gb=String.fromCharCode(32),vb=!1;function LN(e,t){switch(e){case"keyup":return kI.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function TN(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var _c=!1;function LI(e,t){switch(e){case"compositionend":return TN(t);case"keypress":return t.which!==32?null:(vb=!0,gb);case"textInput":return e=t.data,e===gb&&vb?null:e;default:return null}}function TI(e,t){if(_c)return e==="compositionend"||!O1&&LN(e,t)?(e=kN(),Sf=R1=go=null,_c=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return DN&&t.locale!=="ko"?null:t.data;default:return null}}var RI={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function yb(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!RI[e.type]:t==="textarea"}function RN(e,t,n,s){uN(s),t=Yf(t,"onChange"),0<t.length&&(n=new F1("onChange","change",null,n,s),e.push({event:n,listeners:t}))}var ku=null,Zu=null;function FI(e){qN(e,0)}function Bh(e){var t=Bc(e);if(sN(t))return e}function _I(e,t){if(e==="change")return t}var FN=!1;if(_i){var Dg;if(_i){var Lg="oninput"in document;if(!Lg){var bb=document.createElement("div");bb.setAttribute("oninput","return;"),Lg=typeof bb.oninput=="function"}Dg=Lg}else Dg=!1;FN=Dg&&(!document.documentMode||9<document.documentMode)}function jb(){ku&&(ku.detachEvent("onpropertychange",_N),Zu=ku=null)}function _N(e){if(e.propertyName==="value"&&Bh(Zu)){var t=[];RN(t,Zu,e,P1(e)),hN(FI,t)}}function OI(e,t,n){e==="focusin"?(jb(),ku=t,Zu=n,ku.attachEvent("onpropertychange",_N)):e==="focusout"&&jb()}function MI(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Bh(Zu)}function BI(e,t){if(e==="click")return Bh(t)}function zI(e,t){if(e==="input"||e==="change")return Bh(t)}function $I(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Ra=typeof Object.is=="function"?Object.is:$I;function ep(e,t){if(Ra(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),s=Object.keys(t);if(n.length!==s.length)return!1;for(s=0;s<n.length;s++){var a=n[s];if(!_v.call(t,a)||!Ra(e[a],t[a]))return!1}return!0}function wb(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Nb(e,t){var n=wb(e);e=0;for(var s;n;){if(n.nodeType===3){if(s=e+n.textContent.length,e<=t&&s>=t)return{node:n,offset:t-e};e=s}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=wb(n)}}function ON(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?ON(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function MN(){for(var e=window,t=Uf();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Uf(e.document)}return t}function M1(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function UI(e){var t=MN(),n=e.focusedElem,s=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&ON(n.ownerDocument.documentElement,n)){if(s!==null&&M1(n)){if(t=s.start,e=s.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var a=n.textContent.length,i=Math.min(s.start,a);s=s.end===void 0?i:Math.min(s.end,a),!e.extend&&i>s&&(a=s,s=i,i=a),a=Nb(n,i);var o=Nb(n,s);a&&o&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(a.node,a.offset),e.removeAllRanges(),i>s?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var VI=_i&&"documentMode"in document&&11>=document.documentMode,Oc=null,t0=null,Du=null,r0=!1;function Sb(e,t,n){var s=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;r0||Oc==null||Oc!==Uf(s)||(s=Oc,"selectionStart"in s&&M1(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),Du&&ep(Du,s)||(Du=s,s=Yf(t0,"onSelect"),0<s.length&&(t=new F1("onSelect","select",null,t,n),e.push({event:t,listeners:s}),t.target=Oc)))}function qm(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Mc={animationend:qm("Animation","AnimationEnd"),animationiteration:qm("Animation","AnimationIteration"),animationstart:qm("Animation","AnimationStart"),transitionend:qm("Transition","TransitionEnd")},Tg={},BN={};_i&&(BN=document.createElement("div").style,"AnimationEvent"in window||(delete Mc.animationend.animation,delete Mc.animationiteration.animation,delete Mc.animationstart.animation),"TransitionEvent"in window||delete Mc.transitionend.transition);function zh(e){if(Tg[e])return Tg[e];if(!Mc[e])return e;var t=Mc[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in BN)return Tg[e]=t[n];return e}var zN=zh("animationend"),$N=zh("animationiteration"),UN=zh("animationstart"),VN=zh("transitionend"),WN=new Map,Cb="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Vo(e,t){WN.set(e,t),zl(t,[e])}for(var Rg=0;Rg<Cb.length;Rg++){var Fg=Cb[Rg],WI=Fg.toLowerCase(),qI=Fg[0].toUpperCase()+Fg.slice(1);Vo(WI,"on"+qI)}Vo(zN,"onAnimationEnd");Vo($N,"onAnimationIteration");Vo(UN,"onAnimationStart");Vo("dblclick","onDoubleClick");Vo("focusin","onFocus");Vo("focusout","onBlur");Vo(VN,"onTransitionEnd");rd("onMouseEnter",["mouseout","mouseover"]);rd("onMouseLeave",["mouseout","mouseover"]);rd("onPointerEnter",["pointerout","pointerover"]);rd("onPointerLeave",["pointerout","pointerover"]);zl("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));zl("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));zl("onBeforeInput",["compositionend","keypress","textInput","paste"]);zl("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));zl("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));zl("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Cu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),HI=new Set("cancel close invalid load scroll toggle".split(" ").concat(Cu));function Ab(e,t,n){var s=e.type||"unknown-event";e.currentTarget=n,W6(s,t,void 0,e),e.currentTarget=null}function qN(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var s=e[n],a=s.event;s=s.listeners;e:{var i=void 0;if(t)for(var o=s.length-1;0<=o;o--){var l=s[o],c=l.instance,d=l.currentTarget;if(l=l.listener,c!==i&&a.isPropagationStopped())break e;Ab(a,l,d),i=c}else for(o=0;o<s.length;o++){if(l=s[o],c=l.instance,d=l.currentTarget,l=l.listener,c!==i&&a.isPropagationStopped())break e;Ab(a,l,d),i=c}}}if(Wf)throw e=Xv,Wf=!1,Xv=null,e}function yr(e,t){var n=t[o0];n===void 0&&(n=t[o0]=new Set);var s=e+"__bubble";n.has(s)||(HN(t,e,2,!1),n.add(s))}function _g(e,t,n){var s=0;t&&(s|=4),HN(n,e,s,t)}var Hm="_reactListening"+Math.random().toString(36).slice(2);function tp(e){if(!e[Hm]){e[Hm]=!0,Z5.forEach(function(n){n!=="selectionchange"&&(HI.has(n)||_g(n,!1,e),_g(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Hm]||(t[Hm]=!0,_g("selectionchange",!1,t))}}function HN(e,t,n,s){switch(PN(t)){case 1:var a=iI;break;case 4:a=oI;break;default:a=T1}n=a.bind(null,t,n,e),a=void 0,!Kv||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),s?a!==void 0?e.addEventListener(t,n,{capture:!0,passive:a}):e.addEventListener(t,n,!0):a!==void 0?e.addEventListener(t,n,{passive:a}):e.addEventListener(t,n,!1)}function Og(e,t,n,s,a){var i=s;if(!(t&1)&&!(t&2)&&s!==null)e:for(;;){if(s===null)return;var o=s.tag;if(o===3||o===4){var l=s.stateNode.containerInfo;if(l===a||l.nodeType===8&&l.parentNode===a)break;if(o===4)for(o=s.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===a||c.nodeType===8&&c.parentNode===a))return;o=o.return}for(;l!==null;){if(o=fl(l),o===null)return;if(c=o.tag,c===5||c===6){s=i=o;continue e}l=l.parentNode}}s=s.return}hN(function(){var d=i,p=P1(n),u=[];e:{var f=WN.get(e);if(f!==void 0){var m=F1,g=e;switch(e){case"keypress":if(Cf(n)===0)break e;case"keydown":case"keyup":m=wI;break;case"focusin":g="focus",m=kg;break;case"focusout":g="blur",m=kg;break;case"beforeblur":case"afterblur":m=kg;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=fb;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=dI;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=CI;break;case zN:case $N:case UN:m=mI;break;case VN:m=EI;break;case"scroll":m=lI;break;case"wheel":m=PI;break;case"copy":case"cut":case"paste":m=hI;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=xb}var b=(t&4)!==0,j=!b&&e==="scroll",x=b?f!==null?f+"Capture":null:f;b=[];for(var v=d,y;v!==null;){y=v;var P=y.stateNode;if(y.tag===5&&P!==null&&(y=P,x!==null&&(P=Yu(v,x),P!=null&&b.push(rp(v,P,y)))),j)break;v=v.return}0<b.length&&(f=new m(f,g,null,n,p),u.push({event:f,listeners:b}))}}if(!(t&7)){e:{if(f=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",f&&n!==Qv&&(g=n.relatedTarget||n.fromElement)&&(fl(g)||g[Oi]))break e;if((m||f)&&(f=p.window===p?p:(f=p.ownerDocument)?f.defaultView||f.parentWindow:window,m?(g=n.relatedTarget||n.toElement,m=d,g=g?fl(g):null,g!==null&&(j=$l(g),g!==j||g.tag!==5&&g.tag!==6)&&(g=null)):(m=null,g=d),m!==g)){if(b=fb,P="onMouseLeave",x="onMouseEnter",v="mouse",(e==="pointerout"||e==="pointerover")&&(b=xb,P="onPointerLeave",x="onPointerEnter",v="pointer"),j=m==null?f:Bc(m),y=g==null?f:Bc(g),f=new b(P,v+"leave",m,n,p),f.target=j,f.relatedTarget=y,P=null,fl(p)===d&&(b=new b(x,v+"enter",g,n,p),b.target=y,b.relatedTarget=j,P=b),j=P,m&&g)t:{for(b=m,x=g,v=0,y=b;y;y=Nc(y))v++;for(y=0,P=x;P;P=Nc(P))y++;for(;0<v-y;)b=Nc(b),v--;for(;0<y-v;)x=Nc(x),y--;for(;v--;){if(b===x||x!==null&&b===x.alternate)break t;b=Nc(b),x=Nc(x)}b=null}else b=null;m!==null&&Eb(u,f,m,b,!1),g!==null&&j!==null&&Eb(u,j,g,b,!0)}}e:{if(f=d?Bc(d):window,m=f.nodeName&&f.nodeName.toLowerCase(),m==="select"||m==="input"&&f.type==="file")var M=_I;else if(yb(f))if(FN)M=zI;else{M=MI;var O=OI}else(m=f.nodeName)&&m.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(M=BI);if(M&&(M=M(e,d))){RN(u,M,n,p);break e}O&&O(e,f,d),e==="focusout"&&(O=f._wrapperState)&&O.controlled&&f.type==="number"&&Vv(f,"number",f.value)}switch(O=d?Bc(d):window,e){case"focusin":(yb(O)||O.contentEditable==="true")&&(Oc=O,t0=d,Du=null);break;case"focusout":Du=t0=Oc=null;break;case"mousedown":r0=!0;break;case"contextmenu":case"mouseup":case"dragend":r0=!1,Sb(u,n,p);break;case"selectionchange":if(VI)break;case"keydown":case"keyup":Sb(u,n,p)}var E;if(O1)e:{switch(e){case"compositionstart":var S="onCompositionStart";break e;case"compositionend":S="onCompositionEnd";break e;case"compositionupdate":S="onCompositionUpdate";break e}S=void 0}else _c?LN(e,n)&&(S="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(S="onCompositionStart");S&&(DN&&n.locale!=="ko"&&(_c||S!=="onCompositionStart"?S==="onCompositionEnd"&&_c&&(E=kN()):(go=p,R1="value"in go?go.value:go.textContent,_c=!0)),O=Yf(d,S),0<O.length&&(S=new hb(S,e,null,n,p),u.push({event:S,listeners:O}),E?S.data=E:(E=TN(n),E!==null&&(S.data=E)))),(E=DI?LI(e,n):TI(e,n))&&(d=Yf(d,"onBeforeInput"),0<d.length&&(p=new hb("onBeforeInput","beforeinput",null,n,p),u.push({event:p,listeners:d}),p.data=E))}qN(u,t)})}function rp(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Yf(e,t){for(var n=t+"Capture",s=[];e!==null;){var a=e,i=a.stateNode;a.tag===5&&i!==null&&(a=i,i=Yu(e,n),i!=null&&s.unshift(rp(e,i,a)),i=Yu(e,t),i!=null&&s.push(rp(e,i,a))),e=e.return}return s}function Nc(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Eb(e,t,n,s,a){for(var i=t._reactName,o=[];n!==null&&n!==s;){var l=n,c=l.alternate,d=l.stateNode;if(c!==null&&c===s)break;l.tag===5&&d!==null&&(l=d,a?(c=Yu(n,i),c!=null&&o.unshift(rp(n,c,l))):a||(c=Yu(n,i),c!=null&&o.push(rp(n,c,l)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var GI=/\r\n?/g,QI=/\u0000|\uFFFD/g;function Ib(e){return(typeof e=="string"?e:""+e).replace(GI,`
`).replace(QI,"")}function Gm(e,t,n){if(t=Ib(t),Ib(e)!==t&&n)throw Error(He(425))}function Kf(){}var n0=null,s0=null;function a0(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var i0=typeof setTimeout=="function"?setTimeout:void 0,YI=typeof clearTimeout=="function"?clearTimeout:void 0,Pb=typeof Promise=="function"?Promise:void 0,KI=typeof queueMicrotask=="function"?queueMicrotask:typeof Pb<"u"?function(e){return Pb.resolve(null).then(e).catch(XI)}:i0;function XI(e){setTimeout(function(){throw e})}function Mg(e,t){var n=t,s=0;do{var a=n.nextSibling;if(e.removeChild(n),a&&a.nodeType===8)if(n=a.data,n==="/$"){if(s===0){e.removeChild(a),Ju(t);return}s--}else n!=="$"&&n!=="$?"&&n!=="$!"||s++;n=a}while(n);Ju(t)}function So(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function kb(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var vd=Math.random().toString(36).slice(2),ri="__reactFiber$"+vd,np="__reactProps$"+vd,Oi="__reactContainer$"+vd,o0="__reactEvents$"+vd,JI="__reactListeners$"+vd,ZI="__reactHandles$"+vd;function fl(e){var t=e[ri];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Oi]||n[ri]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=kb(e);e!==null;){if(n=e[ri])return n;e=kb(e)}return t}e=n,n=e.parentNode}return null}function Pp(e){return e=e[ri]||e[Oi],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Bc(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(He(33))}function $h(e){return e[np]||null}var l0=[],zc=-1;function Wo(e){return{current:e}}function wr(e){0>zc||(e.current=l0[zc],l0[zc]=null,zc--)}function xr(e,t){zc++,l0[zc]=e.current,e.current=t}var _o={},Gn=Wo(_o),hs=Wo(!1),kl=_o;function nd(e,t){var n=e.type.contextTypes;if(!n)return _o;var s=e.stateNode;if(s&&s.__reactInternalMemoizedUnmaskedChildContext===t)return s.__reactInternalMemoizedMaskedChildContext;var a={},i;for(i in n)a[i]=t[i];return s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function xs(e){return e=e.childContextTypes,e!=null}function Xf(){wr(hs),wr(Gn)}function Db(e,t,n){if(Gn.current!==_o)throw Error(He(168));xr(Gn,t),xr(hs,n)}function GN(e,t,n){var s=e.stateNode;if(t=t.childContextTypes,typeof s.getChildContext!="function")return n;s=s.getChildContext();for(var a in s)if(!(a in t))throw Error(He(108,O6(e)||"Unknown",a));return Dr({},n,s)}function Jf(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||_o,kl=Gn.current,xr(Gn,e),xr(hs,hs.current),!0}function Lb(e,t,n){var s=e.stateNode;if(!s)throw Error(He(169));n?(e=GN(e,t,kl),s.__reactInternalMemoizedMergedChildContext=e,wr(hs),wr(Gn),xr(Gn,e)):wr(hs),xr(hs,n)}var Li=null,Uh=!1,Bg=!1;function QN(e){Li===null?Li=[e]:Li.push(e)}function eP(e){Uh=!0,QN(e)}function qo(){if(!Bg&&Li!==null){Bg=!0;var e=0,t=nr;try{var n=Li;for(nr=1;e<n.length;e++){var s=n[e];do s=s(!0);while(s!==null)}Li=null,Uh=!1}catch(a){throw Li!==null&&(Li=Li.slice(e+1)),yN(k1,qo),a}finally{nr=t,Bg=!1}}return null}var $c=[],Uc=0,Zf=null,eh=0,Zs=[],ea=0,Dl=null,Ti=1,Ri="";function cl(e,t){$c[Uc++]=eh,$c[Uc++]=Zf,Zf=e,eh=t}function YN(e,t,n){Zs[ea++]=Ti,Zs[ea++]=Ri,Zs[ea++]=Dl,Dl=e;var s=Ti;e=Ri;var a=32-La(s)-1;s&=~(1<<a),n+=1;var i=32-La(t)+a;if(30<i){var o=a-a%5;i=(s&(1<<o)-1).toString(32),s>>=o,a-=o,Ti=1<<32-La(t)+a|n<<a|s,Ri=i+e}else Ti=1<<i|n<<a|s,Ri=e}function B1(e){e.return!==null&&(cl(e,1),YN(e,1,0))}function z1(e){for(;e===Zf;)Zf=$c[--Uc],$c[Uc]=null,eh=$c[--Uc],$c[Uc]=null;for(;e===Dl;)Dl=Zs[--ea],Zs[ea]=null,Ri=Zs[--ea],Zs[ea]=null,Ti=Zs[--ea],Zs[ea]=null}var Ls=null,Ps=null,Nr=!1,Pa=null;function KN(e,t){var n=ta(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Tb(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Ls=e,Ps=So(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Ls=e,Ps=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Dl!==null?{id:Ti,overflow:Ri}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=ta(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Ls=e,Ps=null,!0):!1;default:return!1}}function c0(e){return(e.mode&1)!==0&&(e.flags&128)===0}function d0(e){if(Nr){var t=Ps;if(t){var n=t;if(!Tb(e,t)){if(c0(e))throw Error(He(418));t=So(n.nextSibling);var s=Ls;t&&Tb(e,t)?KN(s,n):(e.flags=e.flags&-4097|2,Nr=!1,Ls=e)}}else{if(c0(e))throw Error(He(418));e.flags=e.flags&-4097|2,Nr=!1,Ls=e}}}function Rb(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Ls=e}function Qm(e){if(e!==Ls)return!1;if(!Nr)return Rb(e),Nr=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!a0(e.type,e.memoizedProps)),t&&(t=Ps)){if(c0(e))throw XN(),Error(He(418));for(;t;)KN(e,t),t=So(t.nextSibling)}if(Rb(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(He(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Ps=So(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Ps=null}}else Ps=Ls?So(e.stateNode.nextSibling):null;return!0}function XN(){for(var e=Ps;e;)e=So(e.nextSibling)}function sd(){Ps=Ls=null,Nr=!1}function $1(e){Pa===null?Pa=[e]:Pa.push(e)}var tP=Vi.ReactCurrentBatchConfig;function uu(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(He(309));var s=n.stateNode}if(!s)throw Error(He(147,e));var a=s,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var l=a.refs;o===null?delete l[i]:l[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(He(284));if(!n._owner)throw Error(He(290,e))}return e}function Ym(e,t){throw e=Object.prototype.toString.call(t),Error(He(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Fb(e){var t=e._init;return t(e._payload)}function JN(e){function t(x,v){if(e){var y=x.deletions;y===null?(x.deletions=[v],x.flags|=16):y.push(v)}}function n(x,v){if(!e)return null;for(;v!==null;)t(x,v),v=v.sibling;return null}function s(x,v){for(x=new Map;v!==null;)v.key!==null?x.set(v.key,v):x.set(v.index,v),v=v.sibling;return x}function a(x,v){return x=Io(x,v),x.index=0,x.sibling=null,x}function i(x,v,y){return x.index=y,e?(y=x.alternate,y!==null?(y=y.index,y<v?(x.flags|=2,v):y):(x.flags|=2,v)):(x.flags|=1048576,v)}function o(x){return e&&x.alternate===null&&(x.flags|=2),x}function l(x,v,y,P){return v===null||v.tag!==6?(v=Hg(y,x.mode,P),v.return=x,v):(v=a(v,y),v.return=x,v)}function c(x,v,y,P){var M=y.type;return M===Fc?p(x,v,y.props.children,P,y.key):v!==null&&(v.elementType===M||typeof M=="object"&&M!==null&&M.$$typeof===po&&Fb(M)===v.type)?(P=a(v,y.props),P.ref=uu(x,v,y),P.return=x,P):(P=Lf(y.type,y.key,y.props,null,x.mode,P),P.ref=uu(x,v,y),P.return=x,P)}function d(x,v,y,P){return v===null||v.tag!==4||v.stateNode.containerInfo!==y.containerInfo||v.stateNode.implementation!==y.implementation?(v=Gg(y,x.mode,P),v.return=x,v):(v=a(v,y.children||[]),v.return=x,v)}function p(x,v,y,P,M){return v===null||v.tag!==7?(v=Sl(y,x.mode,P,M),v.return=x,v):(v=a(v,y),v.return=x,v)}function u(x,v,y){if(typeof v=="string"&&v!==""||typeof v=="number")return v=Hg(""+v,x.mode,y),v.return=x,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Mm:return y=Lf(v.type,v.key,v.props,null,x.mode,y),y.ref=uu(x,null,v),y.return=x,y;case Rc:return v=Gg(v,x.mode,y),v.return=x,v;case po:var P=v._init;return u(x,P(v._payload),y)}if(Nu(v)||iu(v))return v=Sl(v,x.mode,y,null),v.return=x,v;Ym(x,v)}return null}function f(x,v,y,P){var M=v!==null?v.key:null;if(typeof y=="string"&&y!==""||typeof y=="number")return M!==null?null:l(x,v,""+y,P);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Mm:return y.key===M?c(x,v,y,P):null;case Rc:return y.key===M?d(x,v,y,P):null;case po:return M=y._init,f(x,v,M(y._payload),P)}if(Nu(y)||iu(y))return M!==null?null:p(x,v,y,P,null);Ym(x,y)}return null}function m(x,v,y,P,M){if(typeof P=="string"&&P!==""||typeof P=="number")return x=x.get(y)||null,l(v,x,""+P,M);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case Mm:return x=x.get(P.key===null?y:P.key)||null,c(v,x,P,M);case Rc:return x=x.get(P.key===null?y:P.key)||null,d(v,x,P,M);case po:var O=P._init;return m(x,v,y,O(P._payload),M)}if(Nu(P)||iu(P))return x=x.get(y)||null,p(v,x,P,M,null);Ym(v,P)}return null}function g(x,v,y,P){for(var M=null,O=null,E=v,S=v=0,k=null;E!==null&&S<y.length;S++){E.index>S?(k=E,E=null):k=E.sibling;var D=f(x,E,y[S],P);if(D===null){E===null&&(E=k);break}e&&E&&D.alternate===null&&t(x,E),v=i(D,v,S),O===null?M=D:O.sibling=D,O=D,E=k}if(S===y.length)return n(x,E),Nr&&cl(x,S),M;if(E===null){for(;S<y.length;S++)E=u(x,y[S],P),E!==null&&(v=i(E,v,S),O===null?M=E:O.sibling=E,O=E);return Nr&&cl(x,S),M}for(E=s(x,E);S<y.length;S++)k=m(E,x,S,y[S],P),k!==null&&(e&&k.alternate!==null&&E.delete(k.key===null?S:k.key),v=i(k,v,S),O===null?M=k:O.sibling=k,O=k);return e&&E.forEach(function(C){return t(x,C)}),Nr&&cl(x,S),M}function b(x,v,y,P){var M=iu(y);if(typeof M!="function")throw Error(He(150));if(y=M.call(y),y==null)throw Error(He(151));for(var O=M=null,E=v,S=v=0,k=null,D=y.next();E!==null&&!D.done;S++,D=y.next()){E.index>S?(k=E,E=null):k=E.sibling;var C=f(x,E,D.value,P);if(C===null){E===null&&(E=k);break}e&&E&&C.alternate===null&&t(x,E),v=i(C,v,S),O===null?M=C:O.sibling=C,O=C,E=k}if(D.done)return n(x,E),Nr&&cl(x,S),M;if(E===null){for(;!D.done;S++,D=y.next())D=u(x,D.value,P),D!==null&&(v=i(D,v,S),O===null?M=D:O.sibling=D,O=D);return Nr&&cl(x,S),M}for(E=s(x,E);!D.done;S++,D=y.next())D=m(E,x,S,D.value,P),D!==null&&(e&&D.alternate!==null&&E.delete(D.key===null?S:D.key),v=i(D,v,S),O===null?M=D:O.sibling=D,O=D);return e&&E.forEach(function(w){return t(x,w)}),Nr&&cl(x,S),M}function j(x,v,y,P){if(typeof y=="object"&&y!==null&&y.type===Fc&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case Mm:e:{for(var M=y.key,O=v;O!==null;){if(O.key===M){if(M=y.type,M===Fc){if(O.tag===7){n(x,O.sibling),v=a(O,y.props.children),v.return=x,x=v;break e}}else if(O.elementType===M||typeof M=="object"&&M!==null&&M.$$typeof===po&&Fb(M)===O.type){n(x,O.sibling),v=a(O,y.props),v.ref=uu(x,O,y),v.return=x,x=v;break e}n(x,O);break}else t(x,O);O=O.sibling}y.type===Fc?(v=Sl(y.props.children,x.mode,P,y.key),v.return=x,x=v):(P=Lf(y.type,y.key,y.props,null,x.mode,P),P.ref=uu(x,v,y),P.return=x,x=P)}return o(x);case Rc:e:{for(O=y.key;v!==null;){if(v.key===O)if(v.tag===4&&v.stateNode.containerInfo===y.containerInfo&&v.stateNode.implementation===y.implementation){n(x,v.sibling),v=a(v,y.children||[]),v.return=x,x=v;break e}else{n(x,v);break}else t(x,v);v=v.sibling}v=Gg(y,x.mode,P),v.return=x,x=v}return o(x);case po:return O=y._init,j(x,v,O(y._payload),P)}if(Nu(y))return g(x,v,y,P);if(iu(y))return b(x,v,y,P);Ym(x,y)}return typeof y=="string"&&y!==""||typeof y=="number"?(y=""+y,v!==null&&v.tag===6?(n(x,v.sibling),v=a(v,y),v.return=x,x=v):(n(x,v),v=Hg(y,x.mode,P),v.return=x,x=v),o(x)):n(x,v)}return j}var ad=JN(!0),ZN=JN(!1),th=Wo(null),rh=null,Vc=null,U1=null;function V1(){U1=Vc=rh=null}function W1(e){var t=th.current;wr(th),e._currentValue=t}function u0(e,t,n){for(;e!==null;){var s=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,s!==null&&(s.childLanes|=t)):s!==null&&(s.childLanes&t)!==t&&(s.childLanes|=t),e===n)break;e=e.return}}function Xc(e,t){rh=e,U1=Vc=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(fs=!0),e.firstContext=null)}function oa(e){var t=e._currentValue;if(U1!==e)if(e={context:e,memoizedValue:t,next:null},Vc===null){if(rh===null)throw Error(He(308));Vc=e,rh.dependencies={lanes:0,firstContext:e}}else Vc=Vc.next=e;return t}var hl=null;function q1(e){hl===null?hl=[e]:hl.push(e)}function eS(e,t,n,s){var a=t.interleaved;return a===null?(n.next=n,q1(t)):(n.next=a.next,a.next=n),t.interleaved=n,Mi(e,s)}function Mi(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var mo=!1;function H1(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function tS(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Fi(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Co(e,t,n){var s=e.updateQueue;if(s===null)return null;if(s=s.shared,Qt&2){var a=s.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),s.pending=t,Mi(e,n)}return a=s.interleaved,a===null?(t.next=t,q1(s)):(t.next=a.next,a.next=t),s.interleaved=t,Mi(e,n)}function Af(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var s=t.lanes;s&=e.pendingLanes,n|=s,t.lanes=n,D1(e,n)}}function _b(e,t){var n=e.updateQueue,s=e.alternate;if(s!==null&&(s=s.updateQueue,n===s)){var a=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?a=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?a=i=t:i=i.next=t}else a=i=t;n={baseState:s.baseState,firstBaseUpdate:a,lastBaseUpdate:i,shared:s.shared,effects:s.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function nh(e,t,n,s){var a=e.updateQueue;mo=!1;var i=a.firstBaseUpdate,o=a.lastBaseUpdate,l=a.shared.pending;if(l!==null){a.shared.pending=null;var c=l,d=c.next;c.next=null,o===null?i=d:o.next=d,o=c;var p=e.alternate;p!==null&&(p=p.updateQueue,l=p.lastBaseUpdate,l!==o&&(l===null?p.firstBaseUpdate=d:l.next=d,p.lastBaseUpdate=c))}if(i!==null){var u=a.baseState;o=0,p=d=c=null,l=i;do{var f=l.lane,m=l.eventTime;if((s&f)===f){p!==null&&(p=p.next={eventTime:m,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var g=e,b=l;switch(f=t,m=n,b.tag){case 1:if(g=b.payload,typeof g=="function"){u=g.call(m,u,f);break e}u=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=b.payload,f=typeof g=="function"?g.call(m,u,f):g,f==null)break e;u=Dr({},u,f);break e;case 2:mo=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,f=a.effects,f===null?a.effects=[l]:f.push(l))}else m={eventTime:m,lane:f,tag:l.tag,payload:l.payload,callback:l.callback,next:null},p===null?(d=p=m,c=u):p=p.next=m,o|=f;if(l=l.next,l===null){if(l=a.shared.pending,l===null)break;f=l,l=f.next,f.next=null,a.lastBaseUpdate=f,a.shared.pending=null}}while(1);if(p===null&&(c=u),a.baseState=c,a.firstBaseUpdate=d,a.lastBaseUpdate=p,t=a.shared.interleaved,t!==null){a=t;do o|=a.lane,a=a.next;while(a!==t)}else i===null&&(a.shared.lanes=0);Tl|=o,e.lanes=o,e.memoizedState=u}}function Ob(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var s=e[t],a=s.callback;if(a!==null){if(s.callback=null,s=n,typeof a!="function")throw Error(He(191,a));a.call(s)}}}var kp={},ci=Wo(kp),sp=Wo(kp),ap=Wo(kp);function xl(e){if(e===kp)throw Error(He(174));return e}function G1(e,t){switch(xr(ap,t),xr(sp,e),xr(ci,kp),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:qv(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=qv(t,e)}wr(ci),xr(ci,t)}function id(){wr(ci),wr(sp),wr(ap)}function rS(e){xl(ap.current);var t=xl(ci.current),n=qv(t,e.type);t!==n&&(xr(sp,e),xr(ci,n))}function Q1(e){sp.current===e&&(wr(ci),wr(sp))}var Pr=Wo(0);function sh(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var zg=[];function Y1(){for(var e=0;e<zg.length;e++)zg[e]._workInProgressVersionPrimary=null;zg.length=0}var Ef=Vi.ReactCurrentDispatcher,$g=Vi.ReactCurrentBatchConfig,Ll=0,kr=null,sn=null,fn=null,ah=!1,Lu=!1,ip=0,rP=0;function _n(){throw Error(He(321))}function K1(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Ra(e[n],t[n]))return!1;return!0}function X1(e,t,n,s,a,i){if(Ll=i,kr=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Ef.current=e===null||e.memoizedState===null?iP:oP,e=n(s,a),Lu){i=0;do{if(Lu=!1,ip=0,25<=i)throw Error(He(301));i+=1,fn=sn=null,t.updateQueue=null,Ef.current=lP,e=n(s,a)}while(Lu)}if(Ef.current=ih,t=sn!==null&&sn.next!==null,Ll=0,fn=sn=kr=null,ah=!1,t)throw Error(He(300));return e}function J1(){var e=ip!==0;return ip=0,e}function Ja(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return fn===null?kr.memoizedState=fn=e:fn=fn.next=e,fn}function la(){if(sn===null){var e=kr.alternate;e=e!==null?e.memoizedState:null}else e=sn.next;var t=fn===null?kr.memoizedState:fn.next;if(t!==null)fn=t,sn=e;else{if(e===null)throw Error(He(310));sn=e,e={memoizedState:sn.memoizedState,baseState:sn.baseState,baseQueue:sn.baseQueue,queue:sn.queue,next:null},fn===null?kr.memoizedState=fn=e:fn=fn.next=e}return fn}function op(e,t){return typeof t=="function"?t(e):t}function Ug(e){var t=la(),n=t.queue;if(n===null)throw Error(He(311));n.lastRenderedReducer=e;var s=sn,a=s.baseQueue,i=n.pending;if(i!==null){if(a!==null){var o=a.next;a.next=i.next,i.next=o}s.baseQueue=a=i,n.pending=null}if(a!==null){i=a.next,s=s.baseState;var l=o=null,c=null,d=i;do{var p=d.lane;if((Ll&p)===p)c!==null&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),s=d.hasEagerState?d.eagerState:e(s,d.action);else{var u={lane:p,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};c===null?(l=c=u,o=s):c=c.next=u,kr.lanes|=p,Tl|=p}d=d.next}while(d!==null&&d!==i);c===null?o=s:c.next=l,Ra(s,t.memoizedState)||(fs=!0),t.memoizedState=s,t.baseState=o,t.baseQueue=c,n.lastRenderedState=s}if(e=n.interleaved,e!==null){a=e;do i=a.lane,kr.lanes|=i,Tl|=i,a=a.next;while(a!==e)}else a===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Vg(e){var t=la(),n=t.queue;if(n===null)throw Error(He(311));n.lastRenderedReducer=e;var s=n.dispatch,a=n.pending,i=t.memoizedState;if(a!==null){n.pending=null;var o=a=a.next;do i=e(i,o.action),o=o.next;while(o!==a);Ra(i,t.memoizedState)||(fs=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,s]}function nS(){}function sS(e,t){var n=kr,s=la(),a=t(),i=!Ra(s.memoizedState,a);if(i&&(s.memoizedState=a,fs=!0),s=s.queue,Z1(oS.bind(null,n,s,e),[e]),s.getSnapshot!==t||i||fn!==null&&fn.memoizedState.tag&1){if(n.flags|=2048,lp(9,iS.bind(null,n,s,a,t),void 0,null),xn===null)throw Error(He(349));Ll&30||aS(n,t,a)}return a}function aS(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=kr.updateQueue,t===null?(t={lastEffect:null,stores:null},kr.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function iS(e,t,n,s){t.value=n,t.getSnapshot=s,lS(t)&&cS(e)}function oS(e,t,n){return n(function(){lS(t)&&cS(e)})}function lS(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Ra(e,n)}catch{return!0}}function cS(e){var t=Mi(e,1);t!==null&&Ta(t,e,1,-1)}function Mb(e){var t=Ja();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:op,lastRenderedState:e},t.queue=e,e=e.dispatch=aP.bind(null,kr,e),[t.memoizedState,e]}function lp(e,t,n,s){return e={tag:e,create:t,destroy:n,deps:s,next:null},t=kr.updateQueue,t===null?(t={lastEffect:null,stores:null},kr.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(s=n.next,n.next=e,e.next=s,t.lastEffect=e)),e}function dS(){return la().memoizedState}function If(e,t,n,s){var a=Ja();kr.flags|=e,a.memoizedState=lp(1|t,n,void 0,s===void 0?null:s)}function Vh(e,t,n,s){var a=la();s=s===void 0?null:s;var i=void 0;if(sn!==null){var o=sn.memoizedState;if(i=o.destroy,s!==null&&K1(s,o.deps)){a.memoizedState=lp(t,n,i,s);return}}kr.flags|=e,a.memoizedState=lp(1|t,n,i,s)}function Bb(e,t){return If(8390656,8,e,t)}function Z1(e,t){return Vh(2048,8,e,t)}function uS(e,t){return Vh(4,2,e,t)}function pS(e,t){return Vh(4,4,e,t)}function mS(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function fS(e,t,n){return n=n!=null?n.concat([e]):null,Vh(4,4,mS.bind(null,t,e),n)}function ey(){}function hS(e,t){var n=la();t=t===void 0?null:t;var s=n.memoizedState;return s!==null&&t!==null&&K1(t,s[1])?s[0]:(n.memoizedState=[e,t],e)}function xS(e,t){var n=la();t=t===void 0?null:t;var s=n.memoizedState;return s!==null&&t!==null&&K1(t,s[1])?s[0]:(e=e(),n.memoizedState=[e,t],e)}function gS(e,t,n){return Ll&21?(Ra(n,t)||(n=wN(),kr.lanes|=n,Tl|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,fs=!0),e.memoizedState=n)}function nP(e,t){var n=nr;nr=n!==0&&4>n?n:4,e(!0);var s=$g.transition;$g.transition={};try{e(!1),t()}finally{nr=n,$g.transition=s}}function vS(){return la().memoizedState}function sP(e,t,n){var s=Eo(e);if(n={lane:s,action:n,hasEagerState:!1,eagerState:null,next:null},yS(e))bS(t,n);else if(n=eS(e,t,n,s),n!==null){var a=ts();Ta(n,e,s,a),jS(n,t,s)}}function aP(e,t,n){var s=Eo(e),a={lane:s,action:n,hasEagerState:!1,eagerState:null,next:null};if(yS(e))bS(t,a);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,l=i(o,n);if(a.hasEagerState=!0,a.eagerState=l,Ra(l,o)){var c=t.interleaved;c===null?(a.next=a,q1(t)):(a.next=c.next,c.next=a),t.interleaved=a;return}}catch{}finally{}n=eS(e,t,a,s),n!==null&&(a=ts(),Ta(n,e,s,a),jS(n,t,s))}}function yS(e){var t=e.alternate;return e===kr||t!==null&&t===kr}function bS(e,t){Lu=ah=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function jS(e,t,n){if(n&4194240){var s=t.lanes;s&=e.pendingLanes,n|=s,t.lanes=n,D1(e,n)}}var ih={readContext:oa,useCallback:_n,useContext:_n,useEffect:_n,useImperativeHandle:_n,useInsertionEffect:_n,useLayoutEffect:_n,useMemo:_n,useReducer:_n,useRef:_n,useState:_n,useDebugValue:_n,useDeferredValue:_n,useTransition:_n,useMutableSource:_n,useSyncExternalStore:_n,useId:_n,unstable_isNewReconciler:!1},iP={readContext:oa,useCallback:function(e,t){return Ja().memoizedState=[e,t===void 0?null:t],e},useContext:oa,useEffect:Bb,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,If(4194308,4,mS.bind(null,t,e),n)},useLayoutEffect:function(e,t){return If(4194308,4,e,t)},useInsertionEffect:function(e,t){return If(4,2,e,t)},useMemo:function(e,t){var n=Ja();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var s=Ja();return t=n!==void 0?n(t):t,s.memoizedState=s.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},s.queue=e,e=e.dispatch=sP.bind(null,kr,e),[s.memoizedState,e]},useRef:function(e){var t=Ja();return e={current:e},t.memoizedState=e},useState:Mb,useDebugValue:ey,useDeferredValue:function(e){return Ja().memoizedState=e},useTransition:function(){var e=Mb(!1),t=e[0];return e=nP.bind(null,e[1]),Ja().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var s=kr,a=Ja();if(Nr){if(n===void 0)throw Error(He(407));n=n()}else{if(n=t(),xn===null)throw Error(He(349));Ll&30||aS(s,t,n)}a.memoizedState=n;var i={value:n,getSnapshot:t};return a.queue=i,Bb(oS.bind(null,s,i,e),[e]),s.flags|=2048,lp(9,iS.bind(null,s,i,n,t),void 0,null),n},useId:function(){var e=Ja(),t=xn.identifierPrefix;if(Nr){var n=Ri,s=Ti;n=(s&~(1<<32-La(s)-1)).toString(32)+n,t=":"+t+"R"+n,n=ip++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=rP++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},oP={readContext:oa,useCallback:hS,useContext:oa,useEffect:Z1,useImperativeHandle:fS,useInsertionEffect:uS,useLayoutEffect:pS,useMemo:xS,useReducer:Ug,useRef:dS,useState:function(){return Ug(op)},useDebugValue:ey,useDeferredValue:function(e){var t=la();return gS(t,sn.memoizedState,e)},useTransition:function(){var e=Ug(op)[0],t=la().memoizedState;return[e,t]},useMutableSource:nS,useSyncExternalStore:sS,useId:vS,unstable_isNewReconciler:!1},lP={readContext:oa,useCallback:hS,useContext:oa,useEffect:Z1,useImperativeHandle:fS,useInsertionEffect:uS,useLayoutEffect:pS,useMemo:xS,useReducer:Vg,useRef:dS,useState:function(){return Vg(op)},useDebugValue:ey,useDeferredValue:function(e){var t=la();return sn===null?t.memoizedState=e:gS(t,sn.memoizedState,e)},useTransition:function(){var e=Vg(op)[0],t=la().memoizedState;return[e,t]},useMutableSource:nS,useSyncExternalStore:sS,useId:vS,unstable_isNewReconciler:!1};function Ca(e,t){if(e&&e.defaultProps){t=Dr({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function p0(e,t,n,s){t=e.memoizedState,n=n(s,t),n=n==null?t:Dr({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Wh={isMounted:function(e){return(e=e._reactInternals)?$l(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var s=ts(),a=Eo(e),i=Fi(s,a);i.payload=t,n!=null&&(i.callback=n),t=Co(e,i,a),t!==null&&(Ta(t,e,a,s),Af(t,e,a))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var s=ts(),a=Eo(e),i=Fi(s,a);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=Co(e,i,a),t!==null&&(Ta(t,e,a,s),Af(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ts(),s=Eo(e),a=Fi(n,s);a.tag=2,t!=null&&(a.callback=t),t=Co(e,a,s),t!==null&&(Ta(t,e,s,n),Af(t,e,s))}};function zb(e,t,n,s,a,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(s,i,o):t.prototype&&t.prototype.isPureReactComponent?!ep(n,s)||!ep(a,i):!0}function wS(e,t,n){var s=!1,a=_o,i=t.contextType;return typeof i=="object"&&i!==null?i=oa(i):(a=xs(t)?kl:Gn.current,s=t.contextTypes,i=(s=s!=null)?nd(e,a):_o),t=new t(n,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Wh,e.stateNode=t,t._reactInternals=e,s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=i),t}function $b(e,t,n,s){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,s),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,s),t.state!==e&&Wh.enqueueReplaceState(t,t.state,null)}function m0(e,t,n,s){var a=e.stateNode;a.props=n,a.state=e.memoizedState,a.refs={},H1(e);var i=t.contextType;typeof i=="object"&&i!==null?a.context=oa(i):(i=xs(t)?kl:Gn.current,a.context=nd(e,i)),a.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(p0(e,t,i,n),a.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(t=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),t!==a.state&&Wh.enqueueReplaceState(a,a.state,null),nh(e,n,a,s),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function od(e,t){try{var n="",s=t;do n+=_6(s),s=s.return;while(s);var a=n}catch(i){a=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:a,digest:null}}function Wg(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function f0(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var cP=typeof WeakMap=="function"?WeakMap:Map;function NS(e,t,n){n=Fi(-1,n),n.tag=3,n.payload={element:null};var s=t.value;return n.callback=function(){lh||(lh=!0,S0=s),f0(e,t)},n}function SS(e,t,n){n=Fi(-1,n),n.tag=3;var s=e.type.getDerivedStateFromError;if(typeof s=="function"){var a=t.value;n.payload=function(){return s(a)},n.callback=function(){f0(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){f0(e,t),typeof s!="function"&&(Ao===null?Ao=new Set([this]):Ao.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function Ub(e,t,n){var s=e.pingCache;if(s===null){s=e.pingCache=new cP;var a=new Set;s.set(t,a)}else a=s.get(t),a===void 0&&(a=new Set,s.set(t,a));a.has(n)||(a.add(n),e=NP.bind(null,e,t,n),t.then(e,e))}function Vb(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Wb(e,t,n,s,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Fi(-1,1),t.tag=2,Co(n,t,1))),n.lanes|=1),e)}var dP=Vi.ReactCurrentOwner,fs=!1;function es(e,t,n,s){t.child=e===null?ZN(t,null,n,s):ad(t,e.child,n,s)}function qb(e,t,n,s,a){n=n.render;var i=t.ref;return Xc(t,a),s=X1(e,t,n,s,i,a),n=J1(),e!==null&&!fs?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Bi(e,t,a)):(Nr&&n&&B1(t),t.flags|=1,es(e,t,s,a),t.child)}function Hb(e,t,n,s,a){if(e===null){var i=n.type;return typeof i=="function"&&!ly(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=i,CS(e,t,i,s,a)):(e=Lf(n.type,null,s,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&a)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:ep,n(o,s)&&e.ref===t.ref)return Bi(e,t,a)}return t.flags|=1,e=Io(i,s),e.ref=t.ref,e.return=t,t.child=e}function CS(e,t,n,s,a){if(e!==null){var i=e.memoizedProps;if(ep(i,s)&&e.ref===t.ref)if(fs=!1,t.pendingProps=s=i,(e.lanes&a)!==0)e.flags&131072&&(fs=!0);else return t.lanes=e.lanes,Bi(e,t,a)}return h0(e,t,n,s,a)}function AS(e,t,n){var s=t.pendingProps,a=s.children,i=e!==null?e.memoizedState:null;if(s.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},xr(qc,As),As|=n;else{if(!(n&1073741824))return e=i!==null?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,xr(qc,As),As|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},s=i!==null?i.baseLanes:n,xr(qc,As),As|=s}else i!==null?(s=i.baseLanes|n,t.memoizedState=null):s=n,xr(qc,As),As|=s;return es(e,t,a,n),t.child}function ES(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function h0(e,t,n,s,a){var i=xs(n)?kl:Gn.current;return i=nd(t,i),Xc(t,a),n=X1(e,t,n,s,i,a),s=J1(),e!==null&&!fs?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Bi(e,t,a)):(Nr&&s&&B1(t),t.flags|=1,es(e,t,n,a),t.child)}function Gb(e,t,n,s,a){if(xs(n)){var i=!0;Jf(t)}else i=!1;if(Xc(t,a),t.stateNode===null)Pf(e,t),wS(t,n,s),m0(t,n,s,a),s=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var c=o.context,d=n.contextType;typeof d=="object"&&d!==null?d=oa(d):(d=xs(n)?kl:Gn.current,d=nd(t,d));var p=n.getDerivedStateFromProps,u=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function";u||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==s||c!==d)&&$b(t,o,s,d),mo=!1;var f=t.memoizedState;o.state=f,nh(t,s,o,a),c=t.memoizedState,l!==s||f!==c||hs.current||mo?(typeof p=="function"&&(p0(t,n,p,s),c=t.memoizedState),(l=mo||zb(t,n,l,s,f,c,d))?(u||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=s,t.memoizedState=c),o.props=s,o.state=c,o.context=d,s=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),s=!1)}else{o=t.stateNode,tS(e,t),l=t.memoizedProps,d=t.type===t.elementType?l:Ca(t.type,l),o.props=d,u=t.pendingProps,f=o.context,c=n.contextType,typeof c=="object"&&c!==null?c=oa(c):(c=xs(n)?kl:Gn.current,c=nd(t,c));var m=n.getDerivedStateFromProps;(p=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==u||f!==c)&&$b(t,o,s,c),mo=!1,f=t.memoizedState,o.state=f,nh(t,s,o,a);var g=t.memoizedState;l!==u||f!==g||hs.current||mo?(typeof m=="function"&&(p0(t,n,m,s),g=t.memoizedState),(d=mo||zb(t,n,d,s,f,g,c)||!1)?(p||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(s,g,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(s,g,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=s,t.memoizedState=g),o.props=s,o.state=g,o.context=c,s=d):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),s=!1)}return x0(e,t,n,s,i,a)}function x0(e,t,n,s,a,i){ES(e,t);var o=(t.flags&128)!==0;if(!s&&!o)return a&&Lb(t,n,!1),Bi(e,t,i);s=t.stateNode,dP.current=t;var l=o&&typeof n.getDerivedStateFromError!="function"?null:s.render();return t.flags|=1,e!==null&&o?(t.child=ad(t,e.child,null,i),t.child=ad(t,null,l,i)):es(e,t,l,i),t.memoizedState=s.state,a&&Lb(t,n,!0),t.child}function IS(e){var t=e.stateNode;t.pendingContext?Db(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Db(e,t.context,!1),G1(e,t.containerInfo)}function Qb(e,t,n,s,a){return sd(),$1(a),t.flags|=256,es(e,t,n,s),t.child}var g0={dehydrated:null,treeContext:null,retryLane:0};function v0(e){return{baseLanes:e,cachePool:null,transitions:null}}function PS(e,t,n){var s=t.pendingProps,a=Pr.current,i=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(a&2)!==0),l?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),xr(Pr,a&1),e===null)return d0(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=s.children,e=s.fallback,i?(s=t.mode,i=t.child,o={mode:"hidden",children:o},!(s&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Gh(o,s,0,null),e=Sl(e,s,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=v0(n),t.memoizedState=g0,e):ty(t,o));if(a=e.memoizedState,a!==null&&(l=a.dehydrated,l!==null))return uP(e,t,o,s,l,a,n);if(i){i=s.fallback,o=t.mode,a=e.child,l=a.sibling;var c={mode:"hidden",children:s.children};return!(o&1)&&t.child!==a?(s=t.child,s.childLanes=0,s.pendingProps=c,t.deletions=null):(s=Io(a,c),s.subtreeFlags=a.subtreeFlags&14680064),l!==null?i=Io(l,i):(i=Sl(i,o,n,null),i.flags|=2),i.return=t,s.return=t,s.sibling=i,t.child=s,s=i,i=t.child,o=e.child.memoizedState,o=o===null?v0(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~n,t.memoizedState=g0,s}return i=e.child,e=i.sibling,s=Io(i,{mode:"visible",children:s.children}),!(t.mode&1)&&(s.lanes=n),s.return=t,s.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=s,t.memoizedState=null,s}function ty(e,t){return t=Gh({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Km(e,t,n,s){return s!==null&&$1(s),ad(t,e.child,null,n),e=ty(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function uP(e,t,n,s,a,i,o){if(n)return t.flags&256?(t.flags&=-257,s=Wg(Error(He(422))),Km(e,t,o,s)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=s.fallback,a=t.mode,s=Gh({mode:"visible",children:s.children},a,0,null),i=Sl(i,a,o,null),i.flags|=2,s.return=t,i.return=t,s.sibling=i,t.child=s,t.mode&1&&ad(t,e.child,null,o),t.child.memoizedState=v0(o),t.memoizedState=g0,i);if(!(t.mode&1))return Km(e,t,o,null);if(a.data==="$!"){if(s=a.nextSibling&&a.nextSibling.dataset,s)var l=s.dgst;return s=l,i=Error(He(419)),s=Wg(i,s,void 0),Km(e,t,o,s)}if(l=(o&e.childLanes)!==0,fs||l){if(s=xn,s!==null){switch(o&-o){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(s.suspendedLanes|o)?0:a,a!==0&&a!==i.retryLane&&(i.retryLane=a,Mi(e,a),Ta(s,e,a,-1))}return oy(),s=Wg(Error(He(421))),Km(e,t,o,s)}return a.data==="$?"?(t.flags|=128,t.child=e.child,t=SP.bind(null,e),a._reactRetry=t,null):(e=i.treeContext,Ps=So(a.nextSibling),Ls=t,Nr=!0,Pa=null,e!==null&&(Zs[ea++]=Ti,Zs[ea++]=Ri,Zs[ea++]=Dl,Ti=e.id,Ri=e.overflow,Dl=t),t=ty(t,s.children),t.flags|=4096,t)}function Yb(e,t,n){e.lanes|=t;var s=e.alternate;s!==null&&(s.lanes|=t),u0(e.return,t,n)}function qg(e,t,n,s,a){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:s,tail:n,tailMode:a}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=s,i.tail=n,i.tailMode=a)}function kS(e,t,n){var s=t.pendingProps,a=s.revealOrder,i=s.tail;if(es(e,t,s.children,n),s=Pr.current,s&2)s=s&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Yb(e,n,t);else if(e.tag===19)Yb(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}s&=1}if(xr(Pr,s),!(t.mode&1))t.memoizedState=null;else switch(a){case"forwards":for(n=t.child,a=null;n!==null;)e=n.alternate,e!==null&&sh(e)===null&&(a=n),n=n.sibling;n=a,n===null?(a=t.child,t.child=null):(a=n.sibling,n.sibling=null),qg(t,!1,a,n,i);break;case"backwards":for(n=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&sh(e)===null){t.child=a;break}e=a.sibling,a.sibling=n,n=a,a=e}qg(t,!0,n,null,i);break;case"together":qg(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Pf(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Bi(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Tl|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(He(153));if(t.child!==null){for(e=t.child,n=Io(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Io(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function pP(e,t,n){switch(t.tag){case 3:IS(t),sd();break;case 5:rS(t);break;case 1:xs(t.type)&&Jf(t);break;case 4:G1(t,t.stateNode.containerInfo);break;case 10:var s=t.type._context,a=t.memoizedProps.value;xr(th,s._currentValue),s._currentValue=a;break;case 13:if(s=t.memoizedState,s!==null)return s.dehydrated!==null?(xr(Pr,Pr.current&1),t.flags|=128,null):n&t.child.childLanes?PS(e,t,n):(xr(Pr,Pr.current&1),e=Bi(e,t,n),e!==null?e.sibling:null);xr(Pr,Pr.current&1);break;case 19:if(s=(n&t.childLanes)!==0,e.flags&128){if(s)return kS(e,t,n);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),xr(Pr,Pr.current),s)break;return null;case 22:case 23:return t.lanes=0,AS(e,t,n)}return Bi(e,t,n)}var DS,y0,LS,TS;DS=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};y0=function(){};LS=function(e,t,n,s){var a=e.memoizedProps;if(a!==s){e=t.stateNode,xl(ci.current);var i=null;switch(n){case"input":a=$v(e,a),s=$v(e,s),i=[];break;case"select":a=Dr({},a,{value:void 0}),s=Dr({},s,{value:void 0}),i=[];break;case"textarea":a=Wv(e,a),s=Wv(e,s),i=[];break;default:typeof a.onClick!="function"&&typeof s.onClick=="function"&&(e.onclick=Kf)}Hv(n,s);var o;n=null;for(d in a)if(!s.hasOwnProperty(d)&&a.hasOwnProperty(d)&&a[d]!=null)if(d==="style"){var l=a[d];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(Gu.hasOwnProperty(d)?i||(i=[]):(i=i||[]).push(d,null));for(d in s){var c=s[d];if(l=a!=null?a[d]:void 0,s.hasOwnProperty(d)&&c!==l&&(c!=null||l!=null))if(d==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(i||(i=[]),i.push(d,n)),n=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(i=i||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(Gu.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&yr("scroll",e),i||l===c||(i=[])):(i=i||[]).push(d,c))}n&&(i=i||[]).push("style",n);var d=i;(t.updateQueue=d)&&(t.flags|=4)}};TS=function(e,t,n,s){n!==s&&(t.flags|=4)};function pu(e,t){if(!Nr)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:s.sibling=null}}function On(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,s=0;if(t)for(var a=e.child;a!==null;)n|=a.lanes|a.childLanes,s|=a.subtreeFlags&14680064,s|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)n|=a.lanes|a.childLanes,s|=a.subtreeFlags,s|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=s,e.childLanes=n,t}function mP(e,t,n){var s=t.pendingProps;switch(z1(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return On(t),null;case 1:return xs(t.type)&&Xf(),On(t),null;case 3:return s=t.stateNode,id(),wr(hs),wr(Gn),Y1(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(Qm(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Pa!==null&&(E0(Pa),Pa=null))),y0(e,t),On(t),null;case 5:Q1(t);var a=xl(ap.current);if(n=t.type,e!==null&&t.stateNode!=null)LS(e,t,n,s,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!s){if(t.stateNode===null)throw Error(He(166));return On(t),null}if(e=xl(ci.current),Qm(t)){s=t.stateNode,n=t.type;var i=t.memoizedProps;switch(s[ri]=t,s[np]=i,e=(t.mode&1)!==0,n){case"dialog":yr("cancel",s),yr("close",s);break;case"iframe":case"object":case"embed":yr("load",s);break;case"video":case"audio":for(a=0;a<Cu.length;a++)yr(Cu[a],s);break;case"source":yr("error",s);break;case"img":case"image":case"link":yr("error",s),yr("load",s);break;case"details":yr("toggle",s);break;case"input":sb(s,i),yr("invalid",s);break;case"select":s._wrapperState={wasMultiple:!!i.multiple},yr("invalid",s);break;case"textarea":ib(s,i),yr("invalid",s)}Hv(n,i),a=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?s.textContent!==l&&(i.suppressHydrationWarning!==!0&&Gm(s.textContent,l,e),a=["children",l]):typeof l=="number"&&s.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&Gm(s.textContent,l,e),a=["children",""+l]):Gu.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&yr("scroll",s)}switch(n){case"input":Bm(s),ab(s,i,!0);break;case"textarea":Bm(s),ob(s);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(s.onclick=Kf)}s=a,t.updateQueue=s,s!==null&&(t.flags|=4)}else{o=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=oN(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof s.is=="string"?e=o.createElement(n,{is:s.is}):(e=o.createElement(n),n==="select"&&(o=e,s.multiple?o.multiple=!0:s.size&&(o.size=s.size))):e=o.createElementNS(e,n),e[ri]=t,e[np]=s,DS(e,t,!1,!1),t.stateNode=e;e:{switch(o=Gv(n,s),n){case"dialog":yr("cancel",e),yr("close",e),a=s;break;case"iframe":case"object":case"embed":yr("load",e),a=s;break;case"video":case"audio":for(a=0;a<Cu.length;a++)yr(Cu[a],e);a=s;break;case"source":yr("error",e),a=s;break;case"img":case"image":case"link":yr("error",e),yr("load",e),a=s;break;case"details":yr("toggle",e),a=s;break;case"input":sb(e,s),a=$v(e,s),yr("invalid",e);break;case"option":a=s;break;case"select":e._wrapperState={wasMultiple:!!s.multiple},a=Dr({},s,{value:void 0}),yr("invalid",e);break;case"textarea":ib(e,s),a=Wv(e,s),yr("invalid",e);break;default:a=s}Hv(n,a),l=a;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="style"?dN(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&lN(e,c)):i==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&Qu(e,c):typeof c=="number"&&Qu(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Gu.hasOwnProperty(i)?c!=null&&i==="onScroll"&&yr("scroll",e):c!=null&&C1(e,i,c,o))}switch(n){case"input":Bm(e),ab(e,s,!1);break;case"textarea":Bm(e),ob(e);break;case"option":s.value!=null&&e.setAttribute("value",""+Fo(s.value));break;case"select":e.multiple=!!s.multiple,i=s.value,i!=null?Gc(e,!!s.multiple,i,!1):s.defaultValue!=null&&Gc(e,!!s.multiple,s.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=Kf)}switch(n){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}}s&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return On(t),null;case 6:if(e&&t.stateNode!=null)TS(e,t,e.memoizedProps,s);else{if(typeof s!="string"&&t.stateNode===null)throw Error(He(166));if(n=xl(ap.current),xl(ci.current),Qm(t)){if(s=t.stateNode,n=t.memoizedProps,s[ri]=t,(i=s.nodeValue!==n)&&(e=Ls,e!==null))switch(e.tag){case 3:Gm(s.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Gm(s.nodeValue,n,(e.mode&1)!==0)}i&&(t.flags|=4)}else s=(n.nodeType===9?n:n.ownerDocument).createTextNode(s),s[ri]=t,t.stateNode=s}return On(t),null;case 13:if(wr(Pr),s=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Nr&&Ps!==null&&t.mode&1&&!(t.flags&128))XN(),sd(),t.flags|=98560,i=!1;else if(i=Qm(t),s!==null&&s.dehydrated!==null){if(e===null){if(!i)throw Error(He(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(He(317));i[ri]=t}else sd(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;On(t),i=!1}else Pa!==null&&(E0(Pa),Pa=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(s=s!==null,s!==(e!==null&&e.memoizedState!==null)&&s&&(t.child.flags|=8192,t.mode&1&&(e===null||Pr.current&1?on===0&&(on=3):oy())),t.updateQueue!==null&&(t.flags|=4),On(t),null);case 4:return id(),y0(e,t),e===null&&tp(t.stateNode.containerInfo),On(t),null;case 10:return W1(t.type._context),On(t),null;case 17:return xs(t.type)&&Xf(),On(t),null;case 19:if(wr(Pr),i=t.memoizedState,i===null)return On(t),null;if(s=(t.flags&128)!==0,o=i.rendering,o===null)if(s)pu(i,!1);else{if(on!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=sh(e),o!==null){for(t.flags|=128,pu(i,!1),s=o.updateQueue,s!==null&&(t.updateQueue=s,t.flags|=4),t.subtreeFlags=0,s=n,n=t.child;n!==null;)i=n,e=s,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return xr(Pr,Pr.current&1|2),t.child}e=e.sibling}i.tail!==null&&Ur()>ld&&(t.flags|=128,s=!0,pu(i,!1),t.lanes=4194304)}else{if(!s)if(e=sh(o),e!==null){if(t.flags|=128,s=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),pu(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!Nr)return On(t),null}else 2*Ur()-i.renderingStartTime>ld&&n!==1073741824&&(t.flags|=128,s=!0,pu(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(n=i.last,n!==null?n.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Ur(),t.sibling=null,n=Pr.current,xr(Pr,s?n&1|2:n&1),t):(On(t),null);case 22:case 23:return iy(),s=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==s&&(t.flags|=8192),s&&t.mode&1?As&1073741824&&(On(t),t.subtreeFlags&6&&(t.flags|=8192)):On(t),null;case 24:return null;case 25:return null}throw Error(He(156,t.tag))}function fP(e,t){switch(z1(t),t.tag){case 1:return xs(t.type)&&Xf(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return id(),wr(hs),wr(Gn),Y1(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Q1(t),null;case 13:if(wr(Pr),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(He(340));sd()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return wr(Pr),null;case 4:return id(),null;case 10:return W1(t.type._context),null;case 22:case 23:return iy(),null;case 24:return null;default:return null}}var Xm=!1,Un=!1,hP=typeof WeakSet=="function"?WeakSet:Set,mt=null;function Wc(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(s){Or(e,t,s)}else n.current=null}function b0(e,t,n){try{n()}catch(s){Or(e,t,s)}}var Kb=!1;function xP(e,t){if(n0=Gf,e=MN(),M1(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var s=n.getSelection&&n.getSelection();if(s&&s.rangeCount!==0){n=s.anchorNode;var a=s.anchorOffset,i=s.focusNode;s=s.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,l=-1,c=-1,d=0,p=0,u=e,f=null;t:for(;;){for(var m;u!==n||a!==0&&u.nodeType!==3||(l=o+a),u!==i||s!==0&&u.nodeType!==3||(c=o+s),u.nodeType===3&&(o+=u.nodeValue.length),(m=u.firstChild)!==null;)f=u,u=m;for(;;){if(u===e)break t;if(f===n&&++d===a&&(l=o),f===i&&++p===s&&(c=o),(m=u.nextSibling)!==null)break;u=f,f=u.parentNode}u=m}n=l===-1||c===-1?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(s0={focusedElem:e,selectionRange:n},Gf=!1,mt=t;mt!==null;)if(t=mt,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,mt=e;else for(;mt!==null;){t=mt;try{var g=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var b=g.memoizedProps,j=g.memoizedState,x=t.stateNode,v=x.getSnapshotBeforeUpdate(t.elementType===t.type?b:Ca(t.type,b),j);x.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var y=t.stateNode.containerInfo;y.nodeType===1?y.textContent="":y.nodeType===9&&y.documentElement&&y.removeChild(y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(He(163))}}catch(P){Or(t,t.return,P)}if(e=t.sibling,e!==null){e.return=t.return,mt=e;break}mt=t.return}return g=Kb,Kb=!1,g}function Tu(e,t,n){var s=t.updateQueue;if(s=s!==null?s.lastEffect:null,s!==null){var a=s=s.next;do{if((a.tag&e)===e){var i=a.destroy;a.destroy=void 0,i!==void 0&&b0(t,n,i)}a=a.next}while(a!==s)}}function qh(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var s=n.create;n.destroy=s()}n=n.next}while(n!==t)}}function j0(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function RS(e){var t=e.alternate;t!==null&&(e.alternate=null,RS(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[ri],delete t[np],delete t[o0],delete t[JI],delete t[ZI])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function FS(e){return e.tag===5||e.tag===3||e.tag===4}function Xb(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||FS(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function w0(e,t,n){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Kf));else if(s!==4&&(e=e.child,e!==null))for(w0(e,t,n),e=e.sibling;e!==null;)w0(e,t,n),e=e.sibling}function N0(e,t,n){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(s!==4&&(e=e.child,e!==null))for(N0(e,t,n),e=e.sibling;e!==null;)N0(e,t,n),e=e.sibling}var Cn=null,Ia=!1;function ao(e,t,n){for(n=n.child;n!==null;)_S(e,t,n),n=n.sibling}function _S(e,t,n){if(li&&typeof li.onCommitFiberUnmount=="function")try{li.onCommitFiberUnmount(Oh,n)}catch{}switch(n.tag){case 5:Un||Wc(n,t);case 6:var s=Cn,a=Ia;Cn=null,ao(e,t,n),Cn=s,Ia=a,Cn!==null&&(Ia?(e=Cn,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Cn.removeChild(n.stateNode));break;case 18:Cn!==null&&(Ia?(e=Cn,n=n.stateNode,e.nodeType===8?Mg(e.parentNode,n):e.nodeType===1&&Mg(e,n),Ju(e)):Mg(Cn,n.stateNode));break;case 4:s=Cn,a=Ia,Cn=n.stateNode.containerInfo,Ia=!0,ao(e,t,n),Cn=s,Ia=a;break;case 0:case 11:case 14:case 15:if(!Un&&(s=n.updateQueue,s!==null&&(s=s.lastEffect,s!==null))){a=s=s.next;do{var i=a,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&b0(n,t,o),a=a.next}while(a!==s)}ao(e,t,n);break;case 1:if(!Un&&(Wc(n,t),s=n.stateNode,typeof s.componentWillUnmount=="function"))try{s.props=n.memoizedProps,s.state=n.memoizedState,s.componentWillUnmount()}catch(l){Or(n,t,l)}ao(e,t,n);break;case 21:ao(e,t,n);break;case 22:n.mode&1?(Un=(s=Un)||n.memoizedState!==null,ao(e,t,n),Un=s):ao(e,t,n);break;default:ao(e,t,n)}}function Jb(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new hP),t.forEach(function(s){var a=CP.bind(null,e,s);n.has(s)||(n.add(s),s.then(a,a))})}}function ja(e,t){var n=t.deletions;if(n!==null)for(var s=0;s<n.length;s++){var a=n[s];try{var i=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:Cn=l.stateNode,Ia=!1;break e;case 3:Cn=l.stateNode.containerInfo,Ia=!0;break e;case 4:Cn=l.stateNode.containerInfo,Ia=!0;break e}l=l.return}if(Cn===null)throw Error(He(160));_S(i,o,a),Cn=null,Ia=!1;var c=a.alternate;c!==null&&(c.return=null),a.return=null}catch(d){Or(a,t,d)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)OS(t,e),t=t.sibling}function OS(e,t){var n=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ja(t,e),Ya(e),s&4){try{Tu(3,e,e.return),qh(3,e)}catch(b){Or(e,e.return,b)}try{Tu(5,e,e.return)}catch(b){Or(e,e.return,b)}}break;case 1:ja(t,e),Ya(e),s&512&&n!==null&&Wc(n,n.return);break;case 5:if(ja(t,e),Ya(e),s&512&&n!==null&&Wc(n,n.return),e.flags&32){var a=e.stateNode;try{Qu(a,"")}catch(b){Or(e,e.return,b)}}if(s&4&&(a=e.stateNode,a!=null)){var i=e.memoizedProps,o=n!==null?n.memoizedProps:i,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&aN(a,i),Gv(l,o);var d=Gv(l,i);for(o=0;o<c.length;o+=2){var p=c[o],u=c[o+1];p==="style"?dN(a,u):p==="dangerouslySetInnerHTML"?lN(a,u):p==="children"?Qu(a,u):C1(a,p,u,d)}switch(l){case"input":Uv(a,i);break;case"textarea":iN(a,i);break;case"select":var f=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!i.multiple;var m=i.value;m!=null?Gc(a,!!i.multiple,m,!1):f!==!!i.multiple&&(i.defaultValue!=null?Gc(a,!!i.multiple,i.defaultValue,!0):Gc(a,!!i.multiple,i.multiple?[]:"",!1))}a[np]=i}catch(b){Or(e,e.return,b)}}break;case 6:if(ja(t,e),Ya(e),s&4){if(e.stateNode===null)throw Error(He(162));a=e.stateNode,i=e.memoizedProps;try{a.nodeValue=i}catch(b){Or(e,e.return,b)}}break;case 3:if(ja(t,e),Ya(e),s&4&&n!==null&&n.memoizedState.isDehydrated)try{Ju(t.containerInfo)}catch(b){Or(e,e.return,b)}break;case 4:ja(t,e),Ya(e);break;case 13:ja(t,e),Ya(e),a=e.child,a.flags&8192&&(i=a.memoizedState!==null,a.stateNode.isHidden=i,!i||a.alternate!==null&&a.alternate.memoizedState!==null||(sy=Ur())),s&4&&Jb(e);break;case 22:if(p=n!==null&&n.memoizedState!==null,e.mode&1?(Un=(d=Un)||p,ja(t,e),Un=d):ja(t,e),Ya(e),s&8192){if(d=e.memoizedState!==null,(e.stateNode.isHidden=d)&&!p&&e.mode&1)for(mt=e,p=e.child;p!==null;){for(u=mt=p;mt!==null;){switch(f=mt,m=f.child,f.tag){case 0:case 11:case 14:case 15:Tu(4,f,f.return);break;case 1:Wc(f,f.return);var g=f.stateNode;if(typeof g.componentWillUnmount=="function"){s=f,n=f.return;try{t=s,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(b){Or(s,n,b)}}break;case 5:Wc(f,f.return);break;case 22:if(f.memoizedState!==null){ej(u);continue}}m!==null?(m.return=f,mt=m):ej(u)}p=p.sibling}e:for(p=null,u=e;;){if(u.tag===5){if(p===null){p=u;try{a=u.stateNode,d?(i=a.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=u.stateNode,c=u.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=cN("display",o))}catch(b){Or(e,e.return,b)}}}else if(u.tag===6){if(p===null)try{u.stateNode.nodeValue=d?"":u.memoizedProps}catch(b){Or(e,e.return,b)}}else if((u.tag!==22&&u.tag!==23||u.memoizedState===null||u===e)&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===e)break e;for(;u.sibling===null;){if(u.return===null||u.return===e)break e;p===u&&(p=null),u=u.return}p===u&&(p=null),u.sibling.return=u.return,u=u.sibling}}break;case 19:ja(t,e),Ya(e),s&4&&Jb(e);break;case 21:break;default:ja(t,e),Ya(e)}}function Ya(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(FS(n)){var s=n;break e}n=n.return}throw Error(He(160))}switch(s.tag){case 5:var a=s.stateNode;s.flags&32&&(Qu(a,""),s.flags&=-33);var i=Xb(e);N0(e,i,a);break;case 3:case 4:var o=s.stateNode.containerInfo,l=Xb(e);w0(e,l,o);break;default:throw Error(He(161))}}catch(c){Or(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function gP(e,t,n){mt=e,MS(e)}function MS(e,t,n){for(var s=(e.mode&1)!==0;mt!==null;){var a=mt,i=a.child;if(a.tag===22&&s){var o=a.memoizedState!==null||Xm;if(!o){var l=a.alternate,c=l!==null&&l.memoizedState!==null||Un;l=Xm;var d=Un;if(Xm=o,(Un=c)&&!d)for(mt=a;mt!==null;)o=mt,c=o.child,o.tag===22&&o.memoizedState!==null?tj(a):c!==null?(c.return=o,mt=c):tj(a);for(;i!==null;)mt=i,MS(i),i=i.sibling;mt=a,Xm=l,Un=d}Zb(e)}else a.subtreeFlags&8772&&i!==null?(i.return=a,mt=i):Zb(e)}}function Zb(e){for(;mt!==null;){var t=mt;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Un||qh(5,t);break;case 1:var s=t.stateNode;if(t.flags&4&&!Un)if(n===null)s.componentDidMount();else{var a=t.elementType===t.type?n.memoizedProps:Ca(t.type,n.memoizedProps);s.componentDidUpdate(a,n.memoizedState,s.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&Ob(t,i,s);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Ob(t,o,n)}break;case 5:var l=t.stateNode;if(n===null&&t.flags&4){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var d=t.alternate;if(d!==null){var p=d.memoizedState;if(p!==null){var u=p.dehydrated;u!==null&&Ju(u)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(He(163))}Un||t.flags&512&&j0(t)}catch(f){Or(t,t.return,f)}}if(t===e){mt=null;break}if(n=t.sibling,n!==null){n.return=t.return,mt=n;break}mt=t.return}}function ej(e){for(;mt!==null;){var t=mt;if(t===e){mt=null;break}var n=t.sibling;if(n!==null){n.return=t.return,mt=n;break}mt=t.return}}function tj(e){for(;mt!==null;){var t=mt;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{qh(4,t)}catch(c){Or(t,n,c)}break;case 1:var s=t.stateNode;if(typeof s.componentDidMount=="function"){var a=t.return;try{s.componentDidMount()}catch(c){Or(t,a,c)}}var i=t.return;try{j0(t)}catch(c){Or(t,i,c)}break;case 5:var o=t.return;try{j0(t)}catch(c){Or(t,o,c)}}}catch(c){Or(t,t.return,c)}if(t===e){mt=null;break}var l=t.sibling;if(l!==null){l.return=t.return,mt=l;break}mt=t.return}}var vP=Math.ceil,oh=Vi.ReactCurrentDispatcher,ry=Vi.ReactCurrentOwner,na=Vi.ReactCurrentBatchConfig,Qt=0,xn=null,Jr=null,Pn=0,As=0,qc=Wo(0),on=0,cp=null,Tl=0,Hh=0,ny=0,Ru=null,ms=null,sy=0,ld=1/0,Pi=null,lh=!1,S0=null,Ao=null,Jm=!1,vo=null,ch=0,Fu=0,C0=null,kf=-1,Df=0;function ts(){return Qt&6?Ur():kf!==-1?kf:kf=Ur()}function Eo(e){return e.mode&1?Qt&2&&Pn!==0?Pn&-Pn:tP.transition!==null?(Df===0&&(Df=wN()),Df):(e=nr,e!==0||(e=window.event,e=e===void 0?16:PN(e.type)),e):1}function Ta(e,t,n,s){if(50<Fu)throw Fu=0,C0=null,Error(He(185));Ep(e,n,s),(!(Qt&2)||e!==xn)&&(e===xn&&(!(Qt&2)&&(Hh|=n),on===4&&ho(e,Pn)),gs(e,s),n===1&&Qt===0&&!(t.mode&1)&&(ld=Ur()+500,Uh&&qo()))}function gs(e,t){var n=e.callbackNode;tI(e,t);var s=Hf(e,e===xn?Pn:0);if(s===0)n!==null&&db(n),e.callbackNode=null,e.callbackPriority=0;else if(t=s&-s,e.callbackPriority!==t){if(n!=null&&db(n),t===1)e.tag===0?eP(rj.bind(null,e)):QN(rj.bind(null,e)),KI(function(){!(Qt&6)&&qo()}),n=null;else{switch(NN(s)){case 1:n=k1;break;case 4:n=bN;break;case 16:n=qf;break;case 536870912:n=jN;break;default:n=qf}n=HS(n,BS.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function BS(e,t){if(kf=-1,Df=0,Qt&6)throw Error(He(327));var n=e.callbackNode;if(Jc()&&e.callbackNode!==n)return null;var s=Hf(e,e===xn?Pn:0);if(s===0)return null;if(s&30||s&e.expiredLanes||t)t=dh(e,s);else{t=s;var a=Qt;Qt|=2;var i=$S();(xn!==e||Pn!==t)&&(Pi=null,ld=Ur()+500,Nl(e,t));do try{jP();break}catch(l){zS(e,l)}while(1);V1(),oh.current=i,Qt=a,Jr!==null?t=0:(xn=null,Pn=0,t=on)}if(t!==0){if(t===2&&(a=Jv(e),a!==0&&(s=a,t=A0(e,a))),t===1)throw n=cp,Nl(e,0),ho(e,s),gs(e,Ur()),n;if(t===6)ho(e,s);else{if(a=e.current.alternate,!(s&30)&&!yP(a)&&(t=dh(e,s),t===2&&(i=Jv(e),i!==0&&(s=i,t=A0(e,i))),t===1))throw n=cp,Nl(e,0),ho(e,s),gs(e,Ur()),n;switch(e.finishedWork=a,e.finishedLanes=s,t){case 0:case 1:throw Error(He(345));case 2:dl(e,ms,Pi);break;case 3:if(ho(e,s),(s&130023424)===s&&(t=sy+500-Ur(),10<t)){if(Hf(e,0)!==0)break;if(a=e.suspendedLanes,(a&s)!==s){ts(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=i0(dl.bind(null,e,ms,Pi),t);break}dl(e,ms,Pi);break;case 4:if(ho(e,s),(s&4194240)===s)break;for(t=e.eventTimes,a=-1;0<s;){var o=31-La(s);i=1<<o,o=t[o],o>a&&(a=o),s&=~i}if(s=a,s=Ur()-s,s=(120>s?120:480>s?480:1080>s?1080:1920>s?1920:3e3>s?3e3:4320>s?4320:1960*vP(s/1960))-s,10<s){e.timeoutHandle=i0(dl.bind(null,e,ms,Pi),s);break}dl(e,ms,Pi);break;case 5:dl(e,ms,Pi);break;default:throw Error(He(329))}}}return gs(e,Ur()),e.callbackNode===n?BS.bind(null,e):null}function A0(e,t){var n=Ru;return e.current.memoizedState.isDehydrated&&(Nl(e,t).flags|=256),e=dh(e,t),e!==2&&(t=ms,ms=n,t!==null&&E0(t)),e}function E0(e){ms===null?ms=e:ms.push.apply(ms,e)}function yP(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var s=0;s<n.length;s++){var a=n[s],i=a.getSnapshot;a=a.value;try{if(!Ra(i(),a))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function ho(e,t){for(t&=~ny,t&=~Hh,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-La(t),s=1<<n;e[n]=-1,t&=~s}}function rj(e){if(Qt&6)throw Error(He(327));Jc();var t=Hf(e,0);if(!(t&1))return gs(e,Ur()),null;var n=dh(e,t);if(e.tag!==0&&n===2){var s=Jv(e);s!==0&&(t=s,n=A0(e,s))}if(n===1)throw n=cp,Nl(e,0),ho(e,t),gs(e,Ur()),n;if(n===6)throw Error(He(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,dl(e,ms,Pi),gs(e,Ur()),null}function ay(e,t){var n=Qt;Qt|=1;try{return e(t)}finally{Qt=n,Qt===0&&(ld=Ur()+500,Uh&&qo())}}function Rl(e){vo!==null&&vo.tag===0&&!(Qt&6)&&Jc();var t=Qt;Qt|=1;var n=na.transition,s=nr;try{if(na.transition=null,nr=1,e)return e()}finally{nr=s,na.transition=n,Qt=t,!(Qt&6)&&qo()}}function iy(){As=qc.current,wr(qc)}function Nl(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,YI(n)),Jr!==null)for(n=Jr.return;n!==null;){var s=n;switch(z1(s),s.tag){case 1:s=s.type.childContextTypes,s!=null&&Xf();break;case 3:id(),wr(hs),wr(Gn),Y1();break;case 5:Q1(s);break;case 4:id();break;case 13:wr(Pr);break;case 19:wr(Pr);break;case 10:W1(s.type._context);break;case 22:case 23:iy()}n=n.return}if(xn=e,Jr=e=Io(e.current,null),Pn=As=t,on=0,cp=null,ny=Hh=Tl=0,ms=Ru=null,hl!==null){for(t=0;t<hl.length;t++)if(n=hl[t],s=n.interleaved,s!==null){n.interleaved=null;var a=s.next,i=n.pending;if(i!==null){var o=i.next;i.next=a,s.next=o}n.pending=s}hl=null}return e}function zS(e,t){do{var n=Jr;try{if(V1(),Ef.current=ih,ah){for(var s=kr.memoizedState;s!==null;){var a=s.queue;a!==null&&(a.pending=null),s=s.next}ah=!1}if(Ll=0,fn=sn=kr=null,Lu=!1,ip=0,ry.current=null,n===null||n.return===null){on=1,cp=t,Jr=null;break}e:{var i=e,o=n.return,l=n,c=t;if(t=Pn,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c,p=l,u=p.tag;if(!(p.mode&1)&&(u===0||u===11||u===15)){var f=p.alternate;f?(p.updateQueue=f.updateQueue,p.memoizedState=f.memoizedState,p.lanes=f.lanes):(p.updateQueue=null,p.memoizedState=null)}var m=Vb(o);if(m!==null){m.flags&=-257,Wb(m,o,l,i,t),m.mode&1&&Ub(i,d,t),t=m,c=d;var g=t.updateQueue;if(g===null){var b=new Set;b.add(c),t.updateQueue=b}else g.add(c);break e}else{if(!(t&1)){Ub(i,d,t),oy();break e}c=Error(He(426))}}else if(Nr&&l.mode&1){var j=Vb(o);if(j!==null){!(j.flags&65536)&&(j.flags|=256),Wb(j,o,l,i,t),$1(od(c,l));break e}}i=c=od(c,l),on!==4&&(on=2),Ru===null?Ru=[i]:Ru.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var x=NS(i,c,t);_b(i,x);break e;case 1:l=c;var v=i.type,y=i.stateNode;if(!(i.flags&128)&&(typeof v.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(Ao===null||!Ao.has(y)))){i.flags|=65536,t&=-t,i.lanes|=t;var P=SS(i,l,t);_b(i,P);break e}}i=i.return}while(i!==null)}VS(n)}catch(M){t=M,Jr===n&&n!==null&&(Jr=n=n.return);continue}break}while(1)}function $S(){var e=oh.current;return oh.current=ih,e===null?ih:e}function oy(){(on===0||on===3||on===2)&&(on=4),xn===null||!(Tl&268435455)&&!(Hh&268435455)||ho(xn,Pn)}function dh(e,t){var n=Qt;Qt|=2;var s=$S();(xn!==e||Pn!==t)&&(Pi=null,Nl(e,t));do try{bP();break}catch(a){zS(e,a)}while(1);if(V1(),Qt=n,oh.current=s,Jr!==null)throw Error(He(261));return xn=null,Pn=0,on}function bP(){for(;Jr!==null;)US(Jr)}function jP(){for(;Jr!==null&&!H6();)US(Jr)}function US(e){var t=qS(e.alternate,e,As);e.memoizedProps=e.pendingProps,t===null?VS(e):Jr=t,ry.current=null}function VS(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=fP(n,t),n!==null){n.flags&=32767,Jr=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{on=6,Jr=null;return}}else if(n=mP(n,t,As),n!==null){Jr=n;return}if(t=t.sibling,t!==null){Jr=t;return}Jr=t=e}while(t!==null);on===0&&(on=5)}function dl(e,t,n){var s=nr,a=na.transition;try{na.transition=null,nr=1,wP(e,t,n,s)}finally{na.transition=a,nr=s}return null}function wP(e,t,n,s){do Jc();while(vo!==null);if(Qt&6)throw Error(He(327));n=e.finishedWork;var a=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(He(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(rI(e,i),e===xn&&(Jr=xn=null,Pn=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Jm||(Jm=!0,HS(qf,function(){return Jc(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=na.transition,na.transition=null;var o=nr;nr=1;var l=Qt;Qt|=4,ry.current=null,xP(e,n),OS(n,e),UI(s0),Gf=!!n0,s0=n0=null,e.current=n,gP(n),G6(),Qt=l,nr=o,na.transition=i}else e.current=n;if(Jm&&(Jm=!1,vo=e,ch=a),i=e.pendingLanes,i===0&&(Ao=null),K6(n.stateNode),gs(e,Ur()),t!==null)for(s=e.onRecoverableError,n=0;n<t.length;n++)a=t[n],s(a.value,{componentStack:a.stack,digest:a.digest});if(lh)throw lh=!1,e=S0,S0=null,e;return ch&1&&e.tag!==0&&Jc(),i=e.pendingLanes,i&1?e===C0?Fu++:(Fu=0,C0=e):Fu=0,qo(),null}function Jc(){if(vo!==null){var e=NN(ch),t=na.transition,n=nr;try{if(na.transition=null,nr=16>e?16:e,vo===null)var s=!1;else{if(e=vo,vo=null,ch=0,Qt&6)throw Error(He(331));var a=Qt;for(Qt|=4,mt=e.current;mt!==null;){var i=mt,o=i.child;if(mt.flags&16){var l=i.deletions;if(l!==null){for(var c=0;c<l.length;c++){var d=l[c];for(mt=d;mt!==null;){var p=mt;switch(p.tag){case 0:case 11:case 15:Tu(8,p,i)}var u=p.child;if(u!==null)u.return=p,mt=u;else for(;mt!==null;){p=mt;var f=p.sibling,m=p.return;if(RS(p),p===d){mt=null;break}if(f!==null){f.return=m,mt=f;break}mt=m}}}var g=i.alternate;if(g!==null){var b=g.child;if(b!==null){g.child=null;do{var j=b.sibling;b.sibling=null,b=j}while(b!==null)}}mt=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,mt=o;else e:for(;mt!==null;){if(i=mt,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Tu(9,i,i.return)}var x=i.sibling;if(x!==null){x.return=i.return,mt=x;break e}mt=i.return}}var v=e.current;for(mt=v;mt!==null;){o=mt;var y=o.child;if(o.subtreeFlags&2064&&y!==null)y.return=o,mt=y;else e:for(o=v;mt!==null;){if(l=mt,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:qh(9,l)}}catch(M){Or(l,l.return,M)}if(l===o){mt=null;break e}var P=l.sibling;if(P!==null){P.return=l.return,mt=P;break e}mt=l.return}}if(Qt=a,qo(),li&&typeof li.onPostCommitFiberRoot=="function")try{li.onPostCommitFiberRoot(Oh,e)}catch{}s=!0}return s}finally{nr=n,na.transition=t}}return!1}function nj(e,t,n){t=od(n,t),t=NS(e,t,1),e=Co(e,t,1),t=ts(),e!==null&&(Ep(e,1,t),gs(e,t))}function Or(e,t,n){if(e.tag===3)nj(e,e,n);else for(;t!==null;){if(t.tag===3){nj(t,e,n);break}else if(t.tag===1){var s=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(Ao===null||!Ao.has(s))){e=od(n,e),e=SS(t,e,1),t=Co(t,e,1),e=ts(),t!==null&&(Ep(t,1,e),gs(t,e));break}}t=t.return}}function NP(e,t,n){var s=e.pingCache;s!==null&&s.delete(t),t=ts(),e.pingedLanes|=e.suspendedLanes&n,xn===e&&(Pn&n)===n&&(on===4||on===3&&(Pn&130023424)===Pn&&500>Ur()-sy?Nl(e,0):ny|=n),gs(e,t)}function WS(e,t){t===0&&(e.mode&1?(t=Um,Um<<=1,!(Um&130023424)&&(Um=4194304)):t=1);var n=ts();e=Mi(e,t),e!==null&&(Ep(e,t,n),gs(e,n))}function SP(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),WS(e,n)}function CP(e,t){var n=0;switch(e.tag){case 13:var s=e.stateNode,a=e.memoizedState;a!==null&&(n=a.retryLane);break;case 19:s=e.stateNode;break;default:throw Error(He(314))}s!==null&&s.delete(t),WS(e,n)}var qS;qS=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||hs.current)fs=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return fs=!1,pP(e,t,n);fs=!!(e.flags&131072)}else fs=!1,Nr&&t.flags&1048576&&YN(t,eh,t.index);switch(t.lanes=0,t.tag){case 2:var s=t.type;Pf(e,t),e=t.pendingProps;var a=nd(t,Gn.current);Xc(t,n),a=X1(null,t,s,e,a,n);var i=J1();return t.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,xs(s)?(i=!0,Jf(t)):i=!1,t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,H1(t),a.updater=Wh,t.stateNode=a,a._reactInternals=t,m0(t,s,e,n),t=x0(null,t,s,!0,i,n)):(t.tag=0,Nr&&i&&B1(t),es(null,t,a,n),t=t.child),t;case 16:s=t.elementType;e:{switch(Pf(e,t),e=t.pendingProps,a=s._init,s=a(s._payload),t.type=s,a=t.tag=EP(s),e=Ca(s,e),a){case 0:t=h0(null,t,s,e,n);break e;case 1:t=Gb(null,t,s,e,n);break e;case 11:t=qb(null,t,s,e,n);break e;case 14:t=Hb(null,t,s,Ca(s.type,e),n);break e}throw Error(He(306,s,""))}return t;case 0:return s=t.type,a=t.pendingProps,a=t.elementType===s?a:Ca(s,a),h0(e,t,s,a,n);case 1:return s=t.type,a=t.pendingProps,a=t.elementType===s?a:Ca(s,a),Gb(e,t,s,a,n);case 3:e:{if(IS(t),e===null)throw Error(He(387));s=t.pendingProps,i=t.memoizedState,a=i.element,tS(e,t),nh(t,s,null,n);var o=t.memoizedState;if(s=o.element,i.isDehydrated)if(i={element:s,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){a=od(Error(He(423)),t),t=Qb(e,t,s,n,a);break e}else if(s!==a){a=od(Error(He(424)),t),t=Qb(e,t,s,n,a);break e}else for(Ps=So(t.stateNode.containerInfo.firstChild),Ls=t,Nr=!0,Pa=null,n=ZN(t,null,s,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(sd(),s===a){t=Bi(e,t,n);break e}es(e,t,s,n)}t=t.child}return t;case 5:return rS(t),e===null&&d0(t),s=t.type,a=t.pendingProps,i=e!==null?e.memoizedProps:null,o=a.children,a0(s,a)?o=null:i!==null&&a0(s,i)&&(t.flags|=32),ES(e,t),es(e,t,o,n),t.child;case 6:return e===null&&d0(t),null;case 13:return PS(e,t,n);case 4:return G1(t,t.stateNode.containerInfo),s=t.pendingProps,e===null?t.child=ad(t,null,s,n):es(e,t,s,n),t.child;case 11:return s=t.type,a=t.pendingProps,a=t.elementType===s?a:Ca(s,a),qb(e,t,s,a,n);case 7:return es(e,t,t.pendingProps,n),t.child;case 8:return es(e,t,t.pendingProps.children,n),t.child;case 12:return es(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(s=t.type._context,a=t.pendingProps,i=t.memoizedProps,o=a.value,xr(th,s._currentValue),s._currentValue=o,i!==null)if(Ra(i.value,o)){if(i.children===a.children&&!hs.current){t=Bi(e,t,n);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var c=l.firstContext;c!==null;){if(c.context===s){if(i.tag===1){c=Fi(-1,n&-n),c.tag=2;var d=i.updateQueue;if(d!==null){d=d.shared;var p=d.pending;p===null?c.next=c:(c.next=p.next,p.next=c),d.pending=c}}i.lanes|=n,c=i.alternate,c!==null&&(c.lanes|=n),u0(i.return,n,t),l.lanes|=n;break}c=c.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(He(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),u0(o,n,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}es(e,t,a.children,n),t=t.child}return t;case 9:return a=t.type,s=t.pendingProps.children,Xc(t,n),a=oa(a),s=s(a),t.flags|=1,es(e,t,s,n),t.child;case 14:return s=t.type,a=Ca(s,t.pendingProps),a=Ca(s.type,a),Hb(e,t,s,a,n);case 15:return CS(e,t,t.type,t.pendingProps,n);case 17:return s=t.type,a=t.pendingProps,a=t.elementType===s?a:Ca(s,a),Pf(e,t),t.tag=1,xs(s)?(e=!0,Jf(t)):e=!1,Xc(t,n),wS(t,s,a),m0(t,s,a,n),x0(null,t,s,!0,e,n);case 19:return kS(e,t,n);case 22:return AS(e,t,n)}throw Error(He(156,t.tag))};function HS(e,t){return yN(e,t)}function AP(e,t,n,s){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ta(e,t,n,s){return new AP(e,t,n,s)}function ly(e){return e=e.prototype,!(!e||!e.isReactComponent)}function EP(e){if(typeof e=="function")return ly(e)?1:0;if(e!=null){if(e=e.$$typeof,e===E1)return 11;if(e===I1)return 14}return 2}function Io(e,t){var n=e.alternate;return n===null?(n=ta(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Lf(e,t,n,s,a,i){var o=2;if(s=e,typeof e=="function")ly(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Fc:return Sl(n.children,a,i,t);case A1:o=8,a|=8;break;case Ov:return e=ta(12,n,t,a|2),e.elementType=Ov,e.lanes=i,e;case Mv:return e=ta(13,n,t,a),e.elementType=Mv,e.lanes=i,e;case Bv:return e=ta(19,n,t,a),e.elementType=Bv,e.lanes=i,e;case rN:return Gh(n,a,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case eN:o=10;break e;case tN:o=9;break e;case E1:o=11;break e;case I1:o=14;break e;case po:o=16,s=null;break e}throw Error(He(130,e==null?e:typeof e,""))}return t=ta(o,n,t,a),t.elementType=e,t.type=s,t.lanes=i,t}function Sl(e,t,n,s){return e=ta(7,e,s,t),e.lanes=n,e}function Gh(e,t,n,s){return e=ta(22,e,s,t),e.elementType=rN,e.lanes=n,e.stateNode={isHidden:!1},e}function Hg(e,t,n){return e=ta(6,e,null,t),e.lanes=n,e}function Gg(e,t,n){return t=ta(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function IP(e,t,n,s,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Eg(0),this.expirationTimes=Eg(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Eg(0),this.identifierPrefix=s,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function cy(e,t,n,s,a,i,o,l,c){return e=new IP(e,t,n,l,c),t===1?(t=1,i===!0&&(t|=8)):t=0,i=ta(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:s,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},H1(i),e}function PP(e,t,n){var s=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Rc,key:s==null?null:""+s,children:e,containerInfo:t,implementation:n}}function GS(e){if(!e)return _o;e=e._reactInternals;e:{if($l(e)!==e||e.tag!==1)throw Error(He(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(xs(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(He(171))}if(e.tag===1){var n=e.type;if(xs(n))return GN(e,n,t)}return t}function QS(e,t,n,s,a,i,o,l,c){return e=cy(n,s,!0,e,a,i,o,l,c),e.context=GS(null),n=e.current,s=ts(),a=Eo(n),i=Fi(s,a),i.callback=t??null,Co(n,i,a),e.current.lanes=a,Ep(e,a,s),gs(e,s),e}function Qh(e,t,n,s){var a=t.current,i=ts(),o=Eo(a);return n=GS(n),t.context===null?t.context=n:t.pendingContext=n,t=Fi(i,o),t.payload={element:e},s=s===void 0?null:s,s!==null&&(t.callback=s),e=Co(a,t,o),e!==null&&(Ta(e,a,o,i),Af(e,a,o)),o}function uh(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function sj(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function dy(e,t){sj(e,t),(e=e.alternate)&&sj(e,t)}function kP(){return null}var YS=typeof reportError=="function"?reportError:function(e){console.error(e)};function uy(e){this._internalRoot=e}Yh.prototype.render=uy.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(He(409));Qh(e,t,null,null)};Yh.prototype.unmount=uy.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Rl(function(){Qh(null,e,null,null)}),t[Oi]=null}};function Yh(e){this._internalRoot=e}Yh.prototype.unstable_scheduleHydration=function(e){if(e){var t=AN();e={blockedOn:null,target:e,priority:t};for(var n=0;n<fo.length&&t!==0&&t<fo[n].priority;n++);fo.splice(n,0,e),n===0&&IN(e)}};function py(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Kh(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function aj(){}function DP(e,t,n,s,a){if(a){if(typeof s=="function"){var i=s;s=function(){var d=uh(o);i.call(d)}}var o=QS(t,s,e,0,null,!1,!1,"",aj);return e._reactRootContainer=o,e[Oi]=o.current,tp(e.nodeType===8?e.parentNode:e),Rl(),o}for(;a=e.lastChild;)e.removeChild(a);if(typeof s=="function"){var l=s;s=function(){var d=uh(c);l.call(d)}}var c=cy(e,0,!1,null,null,!1,!1,"",aj);return e._reactRootContainer=c,e[Oi]=c.current,tp(e.nodeType===8?e.parentNode:e),Rl(function(){Qh(t,c,n,s)}),c}function Xh(e,t,n,s,a){var i=n._reactRootContainer;if(i){var o=i;if(typeof a=="function"){var l=a;a=function(){var c=uh(o);l.call(c)}}Qh(t,o,e,a)}else o=DP(n,t,e,a,s);return uh(o)}SN=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Su(t.pendingLanes);n!==0&&(D1(t,n|1),gs(t,Ur()),!(Qt&6)&&(ld=Ur()+500,qo()))}break;case 13:Rl(function(){var s=Mi(e,1);if(s!==null){var a=ts();Ta(s,e,1,a)}}),dy(e,1)}};L1=function(e){if(e.tag===13){var t=Mi(e,134217728);if(t!==null){var n=ts();Ta(t,e,134217728,n)}dy(e,134217728)}};CN=function(e){if(e.tag===13){var t=Eo(e),n=Mi(e,t);if(n!==null){var s=ts();Ta(n,e,t,s)}dy(e,t)}};AN=function(){return nr};EN=function(e,t){var n=nr;try{return nr=e,t()}finally{nr=n}};Yv=function(e,t,n){switch(t){case"input":if(Uv(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var s=n[t];if(s!==e&&s.form===e.form){var a=$h(s);if(!a)throw Error(He(90));sN(s),Uv(s,a)}}}break;case"textarea":iN(e,n);break;case"select":t=n.value,t!=null&&Gc(e,!!n.multiple,t,!1)}};mN=ay;fN=Rl;var LP={usingClientEntryPoint:!1,Events:[Pp,Bc,$h,uN,pN,ay]},mu={findFiberByHostInstance:fl,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},TP={bundleType:mu.bundleType,version:mu.version,rendererPackageName:mu.rendererPackageName,rendererConfig:mu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Vi.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=gN(e),e===null?null:e.stateNode},findFiberByHostInstance:mu.findFiberByHostInstance||kP,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Zm=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Zm.isDisabled&&Zm.supportsFiber)try{Oh=Zm.inject(TP),li=Zm}catch{}}Ms.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=LP;Ms.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!py(t))throw Error(He(200));return PP(e,t,null,n)};Ms.createRoot=function(e,t){if(!py(e))throw Error(He(299));var n=!1,s="",a=YS;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=cy(e,1,!1,null,null,n,!1,s,a),e[Oi]=t.current,tp(e.nodeType===8?e.parentNode:e),new uy(t)};Ms.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(He(188)):(e=Object.keys(e).join(","),Error(He(268,e)));return e=gN(t),e=e===null?null:e.stateNode,e};Ms.flushSync=function(e){return Rl(e)};Ms.hydrate=function(e,t,n){if(!Kh(t))throw Error(He(200));return Xh(null,e,t,!0,n)};Ms.hydrateRoot=function(e,t,n){if(!py(e))throw Error(He(405));var s=n!=null&&n.hydratedSources||null,a=!1,i="",o=YS;if(n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=QS(t,null,e,1,n??null,a,!1,i,o),e[Oi]=t.current,tp(e),s)for(e=0;e<s.length;e++)n=s[e],a=n._getVersion,a=a(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,a]:t.mutableSourceEagerHydrationData.push(n,a);return new Yh(t)};Ms.render=function(e,t,n){if(!Kh(t))throw Error(He(200));return Xh(null,e,t,!1,n)};Ms.unmountComponentAtNode=function(e){if(!Kh(e))throw Error(He(40));return e._reactRootContainer?(Rl(function(){Xh(null,null,e,!1,function(){e._reactRootContainer=null,e[Oi]=null})}),!0):!1};Ms.unstable_batchedUpdates=ay;Ms.unstable_renderSubtreeIntoContainer=function(e,t,n,s){if(!Kh(n))throw Error(He(200));if(e==null||e._reactInternals===void 0)throw Error(He(38));return Xh(e,t,n,!1,s)};Ms.version="18.3.1-next-f1338f8080-20240426";function KS(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(KS)}catch(e){console.error(e)}}KS(),K5.exports=Ms;var Wi=K5.exports;const my=Cp(Wi);var ij=Wi;Fv.createRoot=ij.createRoot,Fv.hydrateRoot=ij.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function dp(){return dp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},dp.apply(this,arguments)}var yo;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(yo||(yo={}));const oj="popstate";function RP(e){e===void 0&&(e={});function t(s,a){let{pathname:i,search:o,hash:l}=s.location;return I0("",{pathname:i,search:o,hash:l},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(s,a){return typeof a=="string"?a:ph(a)}return _P(t,n,null,e)}function Hr(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function XS(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function FP(){return Math.random().toString(36).substr(2,8)}function lj(e,t){return{usr:e.state,key:e.key,idx:t}}function I0(e,t,n,s){return n===void 0&&(n=null),dp({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?yd(t):t,{state:n,key:t&&t.key||s||FP()})}function ph(e){let{pathname:t="/",search:n="",hash:s=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),s&&s!=="#"&&(t+=s.charAt(0)==="#"?s:"#"+s),t}function yd(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let s=e.indexOf("?");s>=0&&(t.search=e.substr(s),e=e.substr(0,s)),e&&(t.pathname=e)}return t}function _P(e,t,n,s){s===void 0&&(s={});let{window:a=document.defaultView,v5Compat:i=!1}=s,o=a.history,l=yo.Pop,c=null,d=p();d==null&&(d=0,o.replaceState(dp({},o.state,{idx:d}),""));function p(){return(o.state||{idx:null}).idx}function u(){l=yo.Pop;let j=p(),x=j==null?null:j-d;d=j,c&&c({action:l,location:b.location,delta:x})}function f(j,x){l=yo.Push;let v=I0(b.location,j,x);n&&n(v,j),d=p()+1;let y=lj(v,d),P=b.createHref(v);try{o.pushState(y,"",P)}catch(M){if(M instanceof DOMException&&M.name==="DataCloneError")throw M;a.location.assign(P)}i&&c&&c({action:l,location:b.location,delta:1})}function m(j,x){l=yo.Replace;let v=I0(b.location,j,x);n&&n(v,j),d=p();let y=lj(v,d),P=b.createHref(v);o.replaceState(y,"",P),i&&c&&c({action:l,location:b.location,delta:0})}function g(j){let x=a.location.origin!=="null"?a.location.origin:a.location.href,v=typeof j=="string"?j:ph(j);return v=v.replace(/ $/,"%20"),Hr(x,"No window.location.(origin|href) available to create URL for href: "+v),new URL(v,x)}let b={get action(){return l},get location(){return e(a,o)},listen(j){if(c)throw new Error("A history only accepts one active listener");return a.addEventListener(oj,u),c=j,()=>{a.removeEventListener(oj,u),c=null}},createHref(j){return t(a,j)},createURL:g,encodeLocation(j){let x=g(j);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:f,replace:m,go(j){return o.go(j)}};return b}var cj;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(cj||(cj={}));function OP(e,t,n){return n===void 0&&(n="/"),MP(e,t,n,!1)}function MP(e,t,n,s){let a=typeof t=="string"?yd(t):t,i=fy(a.pathname||"/",n);if(i==null)return null;let o=JS(e);BP(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let d=KP(i);l=QP(o[c],d,s)}return l}function JS(e,t,n,s){t===void 0&&(t=[]),n===void 0&&(n=[]),s===void 0&&(s="");let a=(i,o,l)=>{let c={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};c.relativePath.startsWith("/")&&(Hr(c.relativePath.startsWith(s),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+s+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(s.length));let d=Po([s,c.relativePath]),p=n.concat(c);i.children&&i.children.length>0&&(Hr(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+d+'".')),JS(i.children,t,p,d)),!(i.path==null&&!i.index)&&t.push({path:d,score:HP(d,i.index),routesMeta:p})};return e.forEach((i,o)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))a(i,o);else for(let c of ZS(i.path))a(i,o,c)}),t}function ZS(e){let t=e.split("/");if(t.length===0)return[];let[n,...s]=t,a=n.endsWith("?"),i=n.replace(/\?$/,"");if(s.length===0)return a?[i,""]:[i];let o=ZS(s.join("/")),l=[];return l.push(...o.map(c=>c===""?i:[i,c].join("/"))),a&&l.push(...o),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function BP(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:GP(t.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}const zP=/^:[\w-]+$/,$P=3,UP=2,VP=1,WP=10,qP=-2,dj=e=>e==="*";function HP(e,t){let n=e.split("/"),s=n.length;return n.some(dj)&&(s+=qP),t&&(s+=UP),n.filter(a=>!dj(a)).reduce((a,i)=>a+(zP.test(i)?$P:i===""?VP:WP),s)}function GP(e,t){return e.length===t.length&&e.slice(0,-1).every((s,a)=>s===t[a])?e[e.length-1]-t[t.length-1]:0}function QP(e,t,n){n===void 0&&(n=!1);let{routesMeta:s}=e,a={},i="/",o=[];for(let l=0;l<s.length;++l){let c=s[l],d=l===s.length-1,p=i==="/"?t:t.slice(i.length)||"/",u=uj({path:c.relativePath,caseSensitive:c.caseSensitive,end:d},p),f=c.route;if(!u&&d&&n&&!s[s.length-1].route.index&&(u=uj({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},p)),!u)return null;Object.assign(a,u.params),o.push({params:a,pathname:Po([i,u.pathname]),pathnameBase:ek(Po([i,u.pathnameBase])),route:f}),u.pathnameBase!=="/"&&(i=Po([i,u.pathnameBase]))}return o}function uj(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,s]=YP(e.path,e.caseSensitive,e.end),a=t.match(n);if(!a)return null;let i=a[0],o=i.replace(/(.)\/+$/,"$1"),l=a.slice(1);return{params:s.reduce((d,p,u)=>{let{paramName:f,isOptional:m}=p;if(f==="*"){let b=l[u]||"";o=i.slice(0,i.length-b.length).replace(/(.)\/+$/,"$1")}const g=l[u];return m&&!g?d[f]=void 0:d[f]=(g||"").replace(/%2F/g,"/"),d},{}),pathname:i,pathnameBase:o,pattern:e}}function YP(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),XS(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let s=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(s.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(s.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),s]}function KP(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return XS(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function fy(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,s=e.charAt(n);return s&&s!=="/"?null:e.slice(n)||"/"}function XP(e,t){t===void 0&&(t="/");let{pathname:n,search:s="",hash:a=""}=typeof e=="string"?yd(e):e;return{pathname:n?n.startsWith("/")?n:JP(n,t):t,search:tk(s),hash:rk(a)}}function JP(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function Qg(e,t,n,s){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(s)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function ZP(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function hy(e,t){let n=ZP(e);return t?n.map((s,a)=>a===n.length-1?s.pathname:s.pathnameBase):n.map(s=>s.pathnameBase)}function xy(e,t,n,s){s===void 0&&(s=!1);let a;typeof e=="string"?a=yd(e):(a=dp({},e),Hr(!a.pathname||!a.pathname.includes("?"),Qg("?","pathname","search",a)),Hr(!a.pathname||!a.pathname.includes("#"),Qg("#","pathname","hash",a)),Hr(!a.search||!a.search.includes("#"),Qg("#","search","hash",a)));let i=e===""||a.pathname==="",o=i?"/":a.pathname,l;if(o==null)l=n;else{let u=t.length-1;if(!s&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),u-=1;a.pathname=f.join("/")}l=u>=0?t[u]:"/"}let c=XP(a,l),d=o&&o!=="/"&&o.endsWith("/"),p=(i||o===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(d||p)&&(c.pathname+="/"),c}const Po=e=>e.join("/").replace(/\/\/+/g,"/"),ek=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),tk=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,rk=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function nk(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const e4=["post","put","patch","delete"];new Set(e4);const sk=["get",...e4];new Set(sk);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function up(){return up=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},up.apply(this,arguments)}const gy=A.createContext(null),ak=A.createContext(null),Ho=A.createContext(null),Jh=A.createContext(null),Go=A.createContext({outlet:null,matches:[],isDataRoute:!1}),t4=A.createContext(null);function ik(e,t){let{relative:n}=t===void 0?{}:t;bd()||Hr(!1);let{basename:s,navigator:a}=A.useContext(Ho),{hash:i,pathname:o,search:l}=n4(e,{relative:n}),c=o;return s!=="/"&&(c=o==="/"?s:Po([s,o])),a.createHref({pathname:c,search:l,hash:i})}function bd(){return A.useContext(Jh)!=null}function jd(){return bd()||Hr(!1),A.useContext(Jh).location}function r4(e){A.useContext(Ho).static||A.useLayoutEffect(e)}function vy(){let{isDataRoute:e}=A.useContext(Go);return e?yk():ok()}function ok(){bd()||Hr(!1);let e=A.useContext(gy),{basename:t,future:n,navigator:s}=A.useContext(Ho),{matches:a}=A.useContext(Go),{pathname:i}=jd(),o=JSON.stringify(hy(a,n.v7_relativeSplatPath)),l=A.useRef(!1);return r4(()=>{l.current=!0}),A.useCallback(function(d,p){if(p===void 0&&(p={}),!l.current)return;if(typeof d=="number"){s.go(d);return}let u=xy(d,JSON.parse(o),i,p.relative==="path");e==null&&t!=="/"&&(u.pathname=u.pathname==="/"?t:Po([t,u.pathname])),(p.replace?s.replace:s.push)(u,p.state,p)},[t,s,o,i,e])}function n4(e,t){let{relative:n}=t===void 0?{}:t,{future:s}=A.useContext(Ho),{matches:a}=A.useContext(Go),{pathname:i}=jd(),o=JSON.stringify(hy(a,s.v7_relativeSplatPath));return A.useMemo(()=>xy(e,JSON.parse(o),i,n==="path"),[e,o,i,n])}function lk(e,t){return ck(e,t)}function ck(e,t,n,s){bd()||Hr(!1);let{navigator:a}=A.useContext(Ho),{matches:i}=A.useContext(Go),o=i[i.length-1],l=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let d=jd(),p;if(t){var u;let j=typeof t=="string"?yd(t):t;c==="/"||(u=j.pathname)!=null&&u.startsWith(c)||Hr(!1),p=j}else p=d;let f=p.pathname||"/",m=f;if(c!=="/"){let j=c.replace(/^\//,"").split("/");m="/"+f.replace(/^\//,"").split("/").slice(j.length).join("/")}let g=OP(e,{pathname:m}),b=fk(g&&g.map(j=>Object.assign({},j,{params:Object.assign({},l,j.params),pathname:Po([c,a.encodeLocation?a.encodeLocation(j.pathname).pathname:j.pathname]),pathnameBase:j.pathnameBase==="/"?c:Po([c,a.encodeLocation?a.encodeLocation(j.pathnameBase).pathname:j.pathnameBase])})),i,n,s);return t&&b?A.createElement(Jh.Provider,{value:{location:up({pathname:"/",search:"",hash:"",state:null,key:"default"},p),navigationType:yo.Pop}},b):b}function dk(){let e=vk(),t=nk(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},i=null;return A.createElement(A.Fragment,null,A.createElement("h2",null,"Unexpected Application Error!"),A.createElement("h3",{style:{fontStyle:"italic"}},t),n?A.createElement("pre",{style:a},n):null,i)}const uk=A.createElement(dk,null);class pk extends A.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?A.createElement(Go.Provider,{value:this.props.routeContext},A.createElement(t4.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function mk(e){let{routeContext:t,match:n,children:s}=e,a=A.useContext(gy);return a&&a.static&&a.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=n.route.id),A.createElement(Go.Provider,{value:t},s)}function fk(e,t,n,s){var a;if(t===void 0&&(t=[]),n===void 0&&(n=null),s===void 0&&(s=null),e==null){var i;if(!n)return null;if(n.errors)e=n.matches;else if((i=s)!=null&&i.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let o=e,l=(a=n)==null?void 0:a.errors;if(l!=null){let p=o.findIndex(u=>u.route.id&&(l==null?void 0:l[u.route.id])!==void 0);p>=0||Hr(!1),o=o.slice(0,Math.min(o.length,p+1))}let c=!1,d=-1;if(n&&s&&s.v7_partialHydration)for(let p=0;p<o.length;p++){let u=o[p];if((u.route.HydrateFallback||u.route.hydrateFallbackElement)&&(d=p),u.route.id){let{loaderData:f,errors:m}=n,g=u.route.loader&&f[u.route.id]===void 0&&(!m||m[u.route.id]===void 0);if(u.route.lazy||g){c=!0,d>=0?o=o.slice(0,d+1):o=[o[0]];break}}}return o.reduceRight((p,u,f)=>{let m,g=!1,b=null,j=null;n&&(m=l&&u.route.id?l[u.route.id]:void 0,b=u.route.errorElement||uk,c&&(d<0&&f===0?(bk("route-fallback",!1),g=!0,j=null):d===f&&(g=!0,j=u.route.hydrateFallbackElement||null)));let x=t.concat(o.slice(0,f+1)),v=()=>{let y;return m?y=b:g?y=j:u.route.Component?y=A.createElement(u.route.Component,null):u.route.element?y=u.route.element:y=p,A.createElement(mk,{match:u,routeContext:{outlet:p,matches:x,isDataRoute:n!=null},children:y})};return n&&(u.route.ErrorBoundary||u.route.errorElement||f===0)?A.createElement(pk,{location:n.location,revalidation:n.revalidation,component:b,error:m,children:v(),routeContext:{outlet:null,matches:x,isDataRoute:!0}}):v()},null)}var s4=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(s4||{}),mh=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(mh||{});function hk(e){let t=A.useContext(gy);return t||Hr(!1),t}function xk(e){let t=A.useContext(ak);return t||Hr(!1),t}function gk(e){let t=A.useContext(Go);return t||Hr(!1),t}function a4(e){let t=gk(),n=t.matches[t.matches.length-1];return n.route.id||Hr(!1),n.route.id}function vk(){var e;let t=A.useContext(t4),n=xk(mh.UseRouteError),s=a4(mh.UseRouteError);return t!==void 0?t:(e=n.errors)==null?void 0:e[s]}function yk(){let{router:e}=hk(s4.UseNavigateStable),t=a4(mh.UseNavigateStable),n=A.useRef(!1);return r4(()=>{n.current=!0}),A.useCallback(function(a,i){i===void 0&&(i={}),n.current&&(typeof a=="number"?e.navigate(a):e.navigate(a,up({fromRouteId:t},i)))},[e,t])}const pj={};function bk(e,t,n){!t&&!pj[e]&&(pj[e]=!0)}function jk(e,t){e==null||e.v7_startTransition,(e==null?void 0:e.v7_relativeSplatPath)===void 0&&(!t||t.v7_relativeSplatPath),t&&(t.v7_fetcherPersist,t.v7_normalizeFormMethod,t.v7_partialHydration,t.v7_skipActionErrorRevalidation)}function wk(e){let{to:t,replace:n,state:s,relative:a}=e;bd()||Hr(!1);let{future:i,static:o}=A.useContext(Ho),{matches:l}=A.useContext(Go),{pathname:c}=jd(),d=vy(),p=xy(t,hy(l,i.v7_relativeSplatPath),c,a==="path"),u=JSON.stringify(p);return A.useEffect(()=>d(JSON.parse(u),{replace:n,state:s,relative:a}),[d,u,a,n,s]),null}function Et(e){Hr(!1)}function Nk(e){let{basename:t="/",children:n=null,location:s,navigationType:a=yo.Pop,navigator:i,static:o=!1,future:l}=e;bd()&&Hr(!1);let c=t.replace(/^\/*/,"/"),d=A.useMemo(()=>({basename:c,navigator:i,static:o,future:up({v7_relativeSplatPath:!1},l)}),[c,l,i,o]);typeof s=="string"&&(s=yd(s));let{pathname:p="/",search:u="",hash:f="",state:m=null,key:g="default"}=s,b=A.useMemo(()=>{let j=fy(p,c);return j==null?null:{location:{pathname:j,search:u,hash:f,state:m,key:g},navigationType:a}},[c,p,u,f,m,g,a]);return b==null?null:A.createElement(Ho.Provider,{value:d},A.createElement(Jh.Provider,{children:n,value:b}))}function Ln(e){let{children:t,location:n}=e;return lk(P0(t),n)}new Promise(()=>{});function P0(e,t){t===void 0&&(t=[]);let n=[];return A.Children.forEach(e,(s,a)=>{if(!A.isValidElement(s))return;let i=[...t,a];if(s.type===A.Fragment){n.push.apply(n,P0(s.props.children,i));return}s.type!==Et&&Hr(!1),!s.props.index||!s.props.children||Hr(!1);let o={id:s.props.id||i.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(o.children=P0(s.props.children,i)),n.push(o)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function k0(){return k0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},k0.apply(this,arguments)}function Sk(e,t){if(e==null)return{};var n={},s=Object.keys(e),a,i;for(i=0;i<s.length;i++)a=s[i],!(t.indexOf(a)>=0)&&(n[a]=e[a]);return n}function Ck(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function Ak(e,t){return e.button===0&&(!t||t==="_self")&&!Ck(e)}const Ek=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],Ik="6";try{window.__reactRouterVersion=Ik}catch{}const Pk="startTransition",mj=_h[Pk];function kk(e){let{basename:t,children:n,future:s,window:a}=e,i=A.useRef();i.current==null&&(i.current=RP({window:a,v5Compat:!0}));let o=i.current,[l,c]=A.useState({action:o.action,location:o.location}),{v7_startTransition:d}=s||{},p=A.useCallback(u=>{d&&mj?mj(()=>c(u)):c(u)},[c,d]);return A.useLayoutEffect(()=>o.listen(p),[o,p]),A.useEffect(()=>jk(s),[s]),A.createElement(Nk,{basename:t,children:n,location:l.location,navigationType:l.action,navigator:o,future:s})}const Dk=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Lk=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Tk=A.forwardRef(function(t,n){let{onClick:s,relative:a,reloadDocument:i,replace:o,state:l,target:c,to:d,preventScrollReset:p,viewTransition:u}=t,f=Sk(t,Ek),{basename:m}=A.useContext(Ho),g,b=!1;if(typeof d=="string"&&Lk.test(d)&&(g=d,Dk))try{let y=new URL(window.location.href),P=d.startsWith("//")?new URL(y.protocol+d):new URL(d),M=fy(P.pathname,m);P.origin===y.origin&&M!=null?d=M+P.search+P.hash:b=!0}catch{}let j=ik(d,{relative:a}),x=Rk(d,{replace:o,state:l,target:c,preventScrollReset:p,relative:a,viewTransition:u});function v(y){s&&s(y),y.defaultPrevented||x(y)}return A.createElement("a",k0({},f,{href:g||j,onClick:b||i?s:v,ref:n,target:c}))});var fj;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(fj||(fj={}));var hj;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(hj||(hj={}));function Rk(e,t){let{target:n,replace:s,state:a,preventScrollReset:i,relative:o,viewTransition:l}=t===void 0?{}:t,c=vy(),d=jd(),p=n4(e,{relative:o});return A.useCallback(u=>{if(Ak(u,n)){u.preventDefault();let f=s!==void 0?s:ph(d)===ph(p);c(e,{replace:f,state:a,preventScrollReset:i,relative:o,viewTransition:l})}},[d,c,p,s,a,n,e,i,o,l])}function Sr(e,t,{checkForDefaultPrevented:n=!0}={}){return function(a){if(e==null||e(a),n===!1||!a.defaultPrevented)return t==null?void 0:t(a)}}function xj(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function i4(...e){return t=>{let n=!1;const s=e.map(a=>{const i=xj(a,t);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let a=0;a<s.length;a++){const i=s[a];typeof i=="function"?i():xj(e[a],null)}}}}function pi(...e){return A.useCallback(i4(...e),e)}function wd(e,t=[]){let n=[];function s(i,o){const l=A.createContext(o),c=n.length;n=[...n,o];const d=u=>{var x;const{scope:f,children:m,...g}=u,b=((x=f==null?void 0:f[e])==null?void 0:x[c])||l,j=A.useMemo(()=>g,Object.values(g));return r.jsx(b.Provider,{value:j,children:m})};d.displayName=i+"Provider";function p(u,f){var b;const m=((b=f==null?void 0:f[e])==null?void 0:b[c])||l,g=A.useContext(m);if(g)return g;if(o!==void 0)return o;throw new Error(`\`${u}\` must be used within \`${i}\``)}return[d,p]}const a=()=>{const i=n.map(o=>A.createContext(o));return function(l){const c=(l==null?void 0:l[e])||i;return A.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return a.scopeName=e,[s,Fk(a,...t)]}function Fk(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const s=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(i){const o=s.reduce((l,{useScope:c,scopeName:d})=>{const u=c(i)[`__scope${d}`];return{...l,...u}},{});return A.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return n.scopeName=t.scopeName,n}function fh(e){const t=Ok(e),n=A.forwardRef((s,a)=>{const{children:i,...o}=s,l=A.Children.toArray(i),c=l.find(Bk);if(c){const d=c.props.children,p=l.map(u=>u===c?A.Children.count(d)>1?A.Children.only(null):A.isValidElement(d)?d.props.children:null:u);return r.jsx(t,{...o,ref:a,children:A.isValidElement(d)?A.cloneElement(d,void 0,p):null})}return r.jsx(t,{...o,ref:a,children:i})});return n.displayName=`${e}.Slot`,n}var _k=fh("Slot");function Ok(e){const t=A.forwardRef((n,s)=>{const{children:a,...i}=n;if(A.isValidElement(a)){const o=$k(a),l=zk(i,a.props);return a.type!==A.Fragment&&(l.ref=s?i4(s,o):o),A.cloneElement(a,l)}return A.Children.count(a)>1?A.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var Mk=Symbol("radix.slottable");function Bk(e){return A.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===Mk}function zk(e,t){const n={...t};for(const s in t){const a=e[s],i=t[s];/^on[A-Z]/.test(s)?a&&i?n[s]=(...l)=>{const c=i(...l);return a(...l),c}:a&&(n[s]=a):s==="style"?n[s]={...a,...i}:s==="className"&&(n[s]=[a,i].filter(Boolean).join(" "))}return{...e,...n}}function $k(e){var s,a;let t=(s=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function o4(e){const t=e+"CollectionProvider",[n,s]=wd(t),[a,i]=n(t,{collectionRef:{current:null},itemMap:new Map}),o=b=>{const{scope:j,children:x}=b,v=Dt.useRef(null),y=Dt.useRef(new Map).current;return r.jsx(a,{scope:j,itemMap:y,collectionRef:v,children:x})};o.displayName=t;const l=e+"CollectionSlot",c=fh(l),d=Dt.forwardRef((b,j)=>{const{scope:x,children:v}=b,y=i(l,x),P=pi(j,y.collectionRef);return r.jsx(c,{ref:P,children:v})});d.displayName=l;const p=e+"CollectionItemSlot",u="data-radix-collection-item",f=fh(p),m=Dt.forwardRef((b,j)=>{const{scope:x,children:v,...y}=b,P=Dt.useRef(null),M=pi(j,P),O=i(p,x);return Dt.useEffect(()=>(O.itemMap.set(P,{ref:P,...y}),()=>void O.itemMap.delete(P))),r.jsx(f,{[u]:"",ref:M,children:v})});m.displayName=p;function g(b){const j=i(e+"CollectionConsumer",b);return Dt.useCallback(()=>{const v=j.collectionRef.current;if(!v)return[];const y=Array.from(v.querySelectorAll(`[${u}]`));return Array.from(j.itemMap.values()).sort((O,E)=>y.indexOf(O.ref.current)-y.indexOf(E.ref.current))},[j.collectionRef,j.itemMap])}return[{Provider:o,Slot:d,ItemSlot:m},g,s]}var Uk=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Mr=Uk.reduce((e,t)=>{const n=fh(`Primitive.${t}`),s=A.forwardRef((a,i)=>{const{asChild:o,...l}=a,c=o?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),r.jsx(c,{...l,ref:i})});return s.displayName=`Primitive.${t}`,{...e,[t]:s}},{});function l4(e,t){e&&Wi.flushSync(()=>e.dispatchEvent(t))}function Oo(e){const t=A.useRef(e);return A.useEffect(()=>{t.current=e}),A.useMemo(()=>(...n)=>{var s;return(s=t.current)==null?void 0:s.call(t,...n)},[])}function Vk(e,t=globalThis==null?void 0:globalThis.document){const n=Oo(e);A.useEffect(()=>{const s=a=>{a.key==="Escape"&&n(a)};return t.addEventListener("keydown",s,{capture:!0}),()=>t.removeEventListener("keydown",s,{capture:!0})},[n,t])}var Wk="DismissableLayer",D0="dismissableLayer.update",qk="dismissableLayer.pointerDownOutside",Hk="dismissableLayer.focusOutside",gj,c4=A.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),d4=A.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:s,onPointerDownOutside:a,onFocusOutside:i,onInteractOutside:o,onDismiss:l,...c}=e,d=A.useContext(c4),[p,u]=A.useState(null),f=(p==null?void 0:p.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,m]=A.useState({}),g=pi(t,E=>u(E)),b=Array.from(d.layers),[j]=[...d.layersWithOutsidePointerEventsDisabled].slice(-1),x=b.indexOf(j),v=p?b.indexOf(p):-1,y=d.layersWithOutsidePointerEventsDisabled.size>0,P=v>=x,M=Qk(E=>{const S=E.target,k=[...d.branches].some(D=>D.contains(S));!P||k||(a==null||a(E),o==null||o(E),E.defaultPrevented||l==null||l())},f),O=Yk(E=>{const S=E.target;[...d.branches].some(D=>D.contains(S))||(i==null||i(E),o==null||o(E),E.defaultPrevented||l==null||l())},f);return Vk(E=>{v===d.layers.size-1&&(s==null||s(E),!E.defaultPrevented&&l&&(E.preventDefault(),l()))},f),A.useEffect(()=>{if(p)return n&&(d.layersWithOutsidePointerEventsDisabled.size===0&&(gj=f.body.style.pointerEvents,f.body.style.pointerEvents="none"),d.layersWithOutsidePointerEventsDisabled.add(p)),d.layers.add(p),vj(),()=>{n&&d.layersWithOutsidePointerEventsDisabled.size===1&&(f.body.style.pointerEvents=gj)}},[p,f,n,d]),A.useEffect(()=>()=>{p&&(d.layers.delete(p),d.layersWithOutsidePointerEventsDisabled.delete(p),vj())},[p,d]),A.useEffect(()=>{const E=()=>m({});return document.addEventListener(D0,E),()=>document.removeEventListener(D0,E)},[]),r.jsx(Mr.div,{...c,ref:g,style:{pointerEvents:y?P?"auto":"none":void 0,...e.style},onFocusCapture:Sr(e.onFocusCapture,O.onFocusCapture),onBlurCapture:Sr(e.onBlurCapture,O.onBlurCapture),onPointerDownCapture:Sr(e.onPointerDownCapture,M.onPointerDownCapture)})});d4.displayName=Wk;var Gk="DismissableLayerBranch",u4=A.forwardRef((e,t)=>{const n=A.useContext(c4),s=A.useRef(null),a=pi(t,s);return A.useEffect(()=>{const i=s.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),r.jsx(Mr.div,{...e,ref:a})});u4.displayName=Gk;function Qk(e,t=globalThis==null?void 0:globalThis.document){const n=Oo(e),s=A.useRef(!1),a=A.useRef(()=>{});return A.useEffect(()=>{const i=l=>{if(l.target&&!s.current){let c=function(){p4(qk,n,d,{discrete:!0})};const d={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",a.current),a.current=c,t.addEventListener("click",a.current,{once:!0})):c()}else t.removeEventListener("click",a.current);s.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",i),t.removeEventListener("click",a.current)}},[t,n]),{onPointerDownCapture:()=>s.current=!0}}function Yk(e,t=globalThis==null?void 0:globalThis.document){const n=Oo(e),s=A.useRef(!1);return A.useEffect(()=>{const a=i=>{i.target&&!s.current&&p4(Hk,n,{originalEvent:i},{discrete:!1})};return t.addEventListener("focusin",a),()=>t.removeEventListener("focusin",a)},[t,n]),{onFocusCapture:()=>s.current=!0,onBlurCapture:()=>s.current=!1}}function vj(){const e=new CustomEvent(D0);document.dispatchEvent(e)}function p4(e,t,n,{discrete:s}){const a=n.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&a.addEventListener(e,t,{once:!0}),s?l4(a,i):a.dispatchEvent(i)}var Kk=d4,Xk=u4,Fl=globalThis!=null&&globalThis.document?A.useLayoutEffect:()=>{},Jk="Portal",m4=A.forwardRef((e,t)=>{var l;const{container:n,...s}=e,[a,i]=A.useState(!1);Fl(()=>i(!0),[]);const o=n||a&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return o?my.createPortal(r.jsx(Mr.div,{...s,ref:t}),o):null});m4.displayName=Jk;function Zk(e,t){return A.useReducer((n,s)=>t[n][s]??n,e)}var Zh=e=>{const{present:t,children:n}=e,s=eD(t),a=typeof n=="function"?n({present:s.isPresent}):A.Children.only(n),i=pi(s.ref,tD(a));return typeof n=="function"||s.isPresent?A.cloneElement(a,{ref:i}):null};Zh.displayName="Presence";function eD(e){const[t,n]=A.useState(),s=A.useRef(null),a=A.useRef(e),i=A.useRef("none"),o=e?"mounted":"unmounted",[l,c]=Zk(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return A.useEffect(()=>{const d=ef(s.current);i.current=l==="mounted"?d:"none"},[l]),Fl(()=>{const d=s.current,p=a.current;if(p!==e){const f=i.current,m=ef(d);e?c("MOUNT"):m==="none"||(d==null?void 0:d.display)==="none"?c("UNMOUNT"):c(p&&f!==m?"ANIMATION_OUT":"UNMOUNT"),a.current=e}},[e,c]),Fl(()=>{if(t){let d;const p=t.ownerDocument.defaultView??window,u=m=>{const b=ef(s.current).includes(m.animationName);if(m.target===t&&b&&(c("ANIMATION_END"),!a.current)){const j=t.style.animationFillMode;t.style.animationFillMode="forwards",d=p.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=j)})}},f=m=>{m.target===t&&(i.current=ef(s.current))};return t.addEventListener("animationstart",f),t.addEventListener("animationcancel",u),t.addEventListener("animationend",u),()=>{p.clearTimeout(d),t.removeEventListener("animationstart",f),t.removeEventListener("animationcancel",u),t.removeEventListener("animationend",u)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:A.useCallback(d=>{s.current=d?getComputedStyle(d):null,n(d)},[])}}function ef(e){return(e==null?void 0:e.animationName)||"none"}function tD(e){var s,a;let t=(s=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var rD=_h[" useInsertionEffect ".trim().toString()]||Fl;function ex({prop:e,defaultProp:t,onChange:n=()=>{},caller:s}){const[a,i,o]=nD({defaultProp:t,onChange:n}),l=e!==void 0,c=l?e:a;{const p=A.useRef(e!==void 0);A.useEffect(()=>{const u=p.current;u!==l&&console.warn(`${s} is changing from ${u?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),p.current=l},[l,s])}const d=A.useCallback(p=>{var u;if(l){const f=sD(p)?p(e):p;f!==e&&((u=o.current)==null||u.call(o,f))}else i(p)},[l,e,i,o]);return[c,d]}function nD({defaultProp:e,onChange:t}){const[n,s]=A.useState(e),a=A.useRef(n),i=A.useRef(t);return rD(()=>{i.current=t},[t]),A.useEffect(()=>{var o;a.current!==n&&((o=i.current)==null||o.call(i,n),a.current=n)},[n,a]),[n,s,i]}function sD(e){return typeof e=="function"}var aD=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),iD="VisuallyHidden",yy=A.forwardRef((e,t)=>r.jsx(Mr.span,{...e,ref:t,style:{...aD,...e.style}}));yy.displayName=iD;var by="ToastProvider",[jy,oD,lD]=o4("Toast"),[f4,OU]=wd("Toast",[lD]),[cD,tx]=f4(by),h4=e=>{const{__scopeToast:t,label:n="Notification",duration:s=5e3,swipeDirection:a="right",swipeThreshold:i=50,children:o}=e,[l,c]=A.useState(null),[d,p]=A.useState(0),u=A.useRef(!1),f=A.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${by}\`. Expected non-empty \`string\`.`),r.jsx(jy.Provider,{scope:t,children:r.jsx(cD,{scope:t,label:n,duration:s,swipeDirection:a,swipeThreshold:i,toastCount:d,viewport:l,onViewportChange:c,onToastAdd:A.useCallback(()=>p(m=>m+1),[]),onToastRemove:A.useCallback(()=>p(m=>m-1),[]),isFocusedToastEscapeKeyDownRef:u,isClosePausedRef:f,children:o})})};h4.displayName=by;var x4="ToastViewport",dD=["F8"],L0="toast.viewportPause",T0="toast.viewportResume",g4=A.forwardRef((e,t)=>{const{__scopeToast:n,hotkey:s=dD,label:a="Notifications ({hotkey})",...i}=e,o=tx(x4,n),l=oD(n),c=A.useRef(null),d=A.useRef(null),p=A.useRef(null),u=A.useRef(null),f=pi(t,u,o.onViewportChange),m=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),g=o.toastCount>0;A.useEffect(()=>{const j=x=>{var y;s.length!==0&&s.every(P=>x[P]||x.code===P)&&((y=u.current)==null||y.focus())};return document.addEventListener("keydown",j),()=>document.removeEventListener("keydown",j)},[s]),A.useEffect(()=>{const j=c.current,x=u.current;if(g&&j&&x){const v=()=>{if(!o.isClosePausedRef.current){const O=new CustomEvent(L0);x.dispatchEvent(O),o.isClosePausedRef.current=!0}},y=()=>{if(o.isClosePausedRef.current){const O=new CustomEvent(T0);x.dispatchEvent(O),o.isClosePausedRef.current=!1}},P=O=>{!j.contains(O.relatedTarget)&&y()},M=()=>{j.contains(document.activeElement)||y()};return j.addEventListener("focusin",v),j.addEventListener("focusout",P),j.addEventListener("pointermove",v),j.addEventListener("pointerleave",M),window.addEventListener("blur",v),window.addEventListener("focus",y),()=>{j.removeEventListener("focusin",v),j.removeEventListener("focusout",P),j.removeEventListener("pointermove",v),j.removeEventListener("pointerleave",M),window.removeEventListener("blur",v),window.removeEventListener("focus",y)}}},[g,o.isClosePausedRef]);const b=A.useCallback(({tabbingDirection:j})=>{const v=l().map(y=>{const P=y.ref.current,M=[P,...ND(P)];return j==="forwards"?M:M.reverse()});return(j==="forwards"?v.reverse():v).flat()},[l]);return A.useEffect(()=>{const j=u.current;if(j){const x=v=>{var M,O,E;const y=v.altKey||v.ctrlKey||v.metaKey;if(v.key==="Tab"&&!y){const S=document.activeElement,k=v.shiftKey;if(v.target===j&&k){(M=d.current)==null||M.focus();return}const w=b({tabbingDirection:k?"backwards":"forwards"}),T=w.findIndex(L=>L===S);Yg(w.slice(T+1))?v.preventDefault():k?(O=d.current)==null||O.focus():(E=p.current)==null||E.focus()}};return j.addEventListener("keydown",x),()=>j.removeEventListener("keydown",x)}},[l,b]),r.jsxs(Xk,{ref:c,role:"region","aria-label":a.replace("{hotkey}",m),tabIndex:-1,style:{pointerEvents:g?void 0:"none"},children:[g&&r.jsx(R0,{ref:d,onFocusFromOutsideViewport:()=>{const j=b({tabbingDirection:"forwards"});Yg(j)}}),r.jsx(jy.Slot,{scope:n,children:r.jsx(Mr.ol,{tabIndex:-1,...i,ref:f})}),g&&r.jsx(R0,{ref:p,onFocusFromOutsideViewport:()=>{const j=b({tabbingDirection:"backwards"});Yg(j)}})]})});g4.displayName=x4;var v4="ToastFocusProxy",R0=A.forwardRef((e,t)=>{const{__scopeToast:n,onFocusFromOutsideViewport:s,...a}=e,i=tx(v4,n);return r.jsx(yy,{"aria-hidden":!0,tabIndex:0,...a,ref:t,style:{position:"fixed"},onFocus:o=>{var d;const l=o.relatedTarget;!((d=i.viewport)!=null&&d.contains(l))&&s()}})});R0.displayName=v4;var Dp="Toast",uD="toast.swipeStart",pD="toast.swipeMove",mD="toast.swipeCancel",fD="toast.swipeEnd",y4=A.forwardRef((e,t)=>{const{forceMount:n,open:s,defaultOpen:a,onOpenChange:i,...o}=e,[l,c]=ex({prop:s,defaultProp:a??!0,onChange:i,caller:Dp});return r.jsx(Zh,{present:n||l,children:r.jsx(gD,{open:l,...o,ref:t,onClose:()=>c(!1),onPause:Oo(e.onPause),onResume:Oo(e.onResume),onSwipeStart:Sr(e.onSwipeStart,d=>{d.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Sr(e.onSwipeMove,d=>{const{x:p,y:u}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","move"),d.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${p}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${u}px`)}),onSwipeCancel:Sr(e.onSwipeCancel,d=>{d.currentTarget.setAttribute("data-swipe","cancel"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Sr(e.onSwipeEnd,d=>{const{x:p,y:u}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","end"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${p}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${u}px`),c(!1)})})})});y4.displayName=Dp;var[hD,xD]=f4(Dp,{onClose(){}}),gD=A.forwardRef((e,t)=>{const{__scopeToast:n,type:s="foreground",duration:a,open:i,onClose:o,onEscapeKeyDown:l,onPause:c,onResume:d,onSwipeStart:p,onSwipeMove:u,onSwipeCancel:f,onSwipeEnd:m,...g}=e,b=tx(Dp,n),[j,x]=A.useState(null),v=pi(t,L=>x(L)),y=A.useRef(null),P=A.useRef(null),M=a||b.duration,O=A.useRef(0),E=A.useRef(M),S=A.useRef(0),{onToastAdd:k,onToastRemove:D}=b,C=Oo(()=>{var W;(j==null?void 0:j.contains(document.activeElement))&&((W=b.viewport)==null||W.focus()),o()}),w=A.useCallback(L=>{!L||L===1/0||(window.clearTimeout(S.current),O.current=new Date().getTime(),S.current=window.setTimeout(C,L))},[C]);A.useEffect(()=>{const L=b.viewport;if(L){const W=()=>{w(E.current),d==null||d()},V=()=>{const _=new Date().getTime()-O.current;E.current=E.current-_,window.clearTimeout(S.current),c==null||c()};return L.addEventListener(L0,V),L.addEventListener(T0,W),()=>{L.removeEventListener(L0,V),L.removeEventListener(T0,W)}}},[b.viewport,M,c,d,w]),A.useEffect(()=>{i&&!b.isClosePausedRef.current&&w(M)},[i,M,b.isClosePausedRef,w]),A.useEffect(()=>(k(),()=>D()),[k,D]);const T=A.useMemo(()=>j?A4(j):null,[j]);return b.viewport?r.jsxs(r.Fragment,{children:[T&&r.jsx(vD,{__scopeToast:n,role:"status","aria-live":s==="foreground"?"assertive":"polite","aria-atomic":!0,children:T}),r.jsx(hD,{scope:n,onClose:C,children:Wi.createPortal(r.jsx(jy.ItemSlot,{scope:n,children:r.jsx(Kk,{asChild:!0,onEscapeKeyDown:Sr(l,()=>{b.isFocusedToastEscapeKeyDownRef.current||C(),b.isFocusedToastEscapeKeyDownRef.current=!1}),children:r.jsx(Mr.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":b.swipeDirection,...g,ref:v,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:Sr(e.onKeyDown,L=>{L.key==="Escape"&&(l==null||l(L.nativeEvent),L.nativeEvent.defaultPrevented||(b.isFocusedToastEscapeKeyDownRef.current=!0,C()))}),onPointerDown:Sr(e.onPointerDown,L=>{L.button===0&&(y.current={x:L.clientX,y:L.clientY})}),onPointerMove:Sr(e.onPointerMove,L=>{if(!y.current)return;const W=L.clientX-y.current.x,V=L.clientY-y.current.y,_=!!P.current,B=["left","right"].includes(b.swipeDirection),U=["left","up"].includes(b.swipeDirection)?Math.min:Math.max,q=B?U(0,W):0,H=B?0:U(0,V),R=L.pointerType==="touch"?10:2,$={x:q,y:H},G={originalEvent:L,delta:$};_?(P.current=$,tf(pD,u,G,{discrete:!1})):yj($,b.swipeDirection,R)?(P.current=$,tf(uD,p,G,{discrete:!1}),L.target.setPointerCapture(L.pointerId)):(Math.abs(W)>R||Math.abs(V)>R)&&(y.current=null)}),onPointerUp:Sr(e.onPointerUp,L=>{const W=P.current,V=L.target;if(V.hasPointerCapture(L.pointerId)&&V.releasePointerCapture(L.pointerId),P.current=null,y.current=null,W){const _=L.currentTarget,B={originalEvent:L,delta:W};yj(W,b.swipeDirection,b.swipeThreshold)?tf(fD,m,B,{discrete:!0}):tf(mD,f,B,{discrete:!0}),_.addEventListener("click",U=>U.preventDefault(),{once:!0})}})})})}),b.viewport)})]}):null}),vD=e=>{const{__scopeToast:t,children:n,...s}=e,a=tx(Dp,t),[i,o]=A.useState(!1),[l,c]=A.useState(!1);return jD(()=>o(!0)),A.useEffect(()=>{const d=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(d)},[]),l?null:r.jsx(m4,{asChild:!0,children:r.jsx(yy,{...s,children:i&&r.jsxs(r.Fragment,{children:[a.label," ",n]})})})},yD="ToastTitle",b4=A.forwardRef((e,t)=>{const{__scopeToast:n,...s}=e;return r.jsx(Mr.div,{...s,ref:t})});b4.displayName=yD;var bD="ToastDescription",j4=A.forwardRef((e,t)=>{const{__scopeToast:n,...s}=e;return r.jsx(Mr.div,{...s,ref:t})});j4.displayName=bD;var w4="ToastAction",N4=A.forwardRef((e,t)=>{const{altText:n,...s}=e;return n.trim()?r.jsx(C4,{altText:n,asChild:!0,children:r.jsx(wy,{...s,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${w4}\`. Expected non-empty \`string\`.`),null)});N4.displayName=w4;var S4="ToastClose",wy=A.forwardRef((e,t)=>{const{__scopeToast:n,...s}=e,a=xD(S4,n);return r.jsx(C4,{asChild:!0,children:r.jsx(Mr.button,{type:"button",...s,ref:t,onClick:Sr(e.onClick,a.onClose)})})});wy.displayName=S4;var C4=A.forwardRef((e,t)=>{const{__scopeToast:n,altText:s,...a}=e;return r.jsx(Mr.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":s||void 0,...a,ref:t})});function A4(e){const t=[];return Array.from(e.childNodes).forEach(s=>{if(s.nodeType===s.TEXT_NODE&&s.textContent&&t.push(s.textContent),wD(s)){const a=s.ariaHidden||s.hidden||s.style.display==="none",i=s.dataset.radixToastAnnounceExclude==="";if(!a)if(i){const o=s.dataset.radixToastAnnounceAlt;o&&t.push(o)}else t.push(...A4(s))}}),t}function tf(e,t,n,{discrete:s}){const a=n.originalEvent.currentTarget,i=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:n});t&&a.addEventListener(e,t,{once:!0}),s?l4(a,i):a.dispatchEvent(i)}var yj=(e,t,n=0)=>{const s=Math.abs(e.x),a=Math.abs(e.y),i=s>a;return t==="left"||t==="right"?i&&s>n:!i&&a>n};function jD(e=()=>{}){const t=Oo(e);Fl(()=>{let n=0,s=0;return n=window.requestAnimationFrame(()=>s=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(s)}},[t])}function wD(e){return e.nodeType===e.ELEMENT_NODE}function ND(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:s=>{const a=s.tagName==="INPUT"&&s.type==="hidden";return s.disabled||s.hidden||a?NodeFilter.FILTER_SKIP:s.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function Yg(e){const t=document.activeElement;return e.some(n=>n===t?!0:(n.focus(),document.activeElement!==t))}var SD=h4,E4=g4,I4=y4,P4=b4,k4=j4,D4=N4,L4=wy;function T4(e){var t,n,s="";if(typeof e=="string"||typeof e=="number")s+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(n=T4(e[t]))&&(s&&(s+=" "),s+=n)}else for(n in e)e[n]&&(s&&(s+=" "),s+=n);return s}function CD(){for(var e,t,n=0,s="",a=arguments.length;n<a;n++)(e=arguments[n])&&(t=T4(e))&&(s&&(s+=" "),s+=t);return s}const bj=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,jj=CD,rx=(e,t)=>n=>{var s;if((t==null?void 0:t.variants)==null)return jj(e,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:a,defaultVariants:i}=t,o=Object.keys(a).map(d=>{const p=n==null?void 0:n[d],u=i==null?void 0:i[d];if(p===null)return null;const f=bj(p)||bj(u);return a[d][f]}),l=n&&Object.entries(n).reduce((d,p)=>{let[u,f]=p;return f===void 0||(d[u]=f),d},{}),c=t==null||(s=t.compoundVariants)===null||s===void 0?void 0:s.reduce((d,p)=>{let{class:u,className:f,...m}=p;return Object.entries(m).every(g=>{let[b,j]=g;return Array.isArray(j)?j.includes({...i,...l}[b]):{...i,...l}[b]===j})?[...d,u,f]:d},[]);return jj(e,o,c,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var AD={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ED=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),nt=(e,t)=>{const n=A.forwardRef(({color:s="currentColor",size:a=24,strokeWidth:i=2,absoluteStrokeWidth:o,className:l="",children:c,...d},p)=>A.createElement("svg",{ref:p,...AD,width:a,height:a,stroke:s,strokeWidth:o?Number(i)*24/Number(a):i,className:["lucide",`lucide-${ED(e)}`,l].join(" "),...d},[...t.map(([u,f])=>A.createElement(u,f)),...Array.isArray(c)?c:[c]]));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ki=nt("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _u=nt("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ai=nt("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F0=nt("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ID=nt("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _0=nt("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ka=nt("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PD=nt("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ti=nt("Brain",[["path",{d:"M9.5 2A2.5 2.5 0 0 1 12 4.5v15a2.5 2.5 0 0 1-4.96.44 2.5 2.5 0 0 1-2.96-3.08 3 3 0 0 1-.34-5.58 2.5 2.5 0 0 1 1.32-4.24 2.5 2.5 0 0 1 1.98-3A2.5 2.5 0 0 1 9.5 2Z",key:"1mhkh5"}],["path",{d:"M14.5 2A2.5 2.5 0 0 0 12 4.5v15a2.5 2.5 0 0 0 4.96.44 2.5 2.5 0 0 0 2.96-3.08 3 3 0 0 0 .34-5.58 2.5 2.5 0 0 0-1.32-4.24 2.5 2.5 0 0 0-1.98-3A2.5 2.5 0 0 0 14.5 2Z",key:"1d6s00"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O0=nt("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kD=nt("Calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kn=nt("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hc=nt("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sa=nt("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ny=nt("CheckSquare",[["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}],["path",{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11",key:"1jnkn4"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sy=nt("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R4=nt("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DD=nt("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _l=nt("ClipboardCheck",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"m9 14 2 2 4-4",key:"df797q"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M0=nt("Clipboard",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pr=nt("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cy=nt("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wj=nt("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gr=nt("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ol=nt("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qo=nt("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tf=nt("FileCheck",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"m9 15 2 2 4-4",key:"1grp1n"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qn=nt("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zs=nt("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Au=nt("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LD=nt("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TD=nt("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pp=nt("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RD=nt("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FD=nt("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aa=nt("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cd=nt("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vn=nt("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hn=nt("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _D=nt("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OD=nt("Pause",[["rect",{width:"4",height:"16",x:"6",y:"4",key:"iffhe4"}],["rect",{width:"4",height:"16",x:"14",y:"4",key:"sjin7j"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rf=nt("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MD=nt("Percent",[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ay=nt("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kg=nt("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const It=nt("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ey=nt("Printer",[["polyline",{points:"6 9 6 2 18 2 18 9",key:"1306q4"}],["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["rect",{width:"12",height:"8",x:"6",y:"14",key:"5ipwut"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rf=nt("Receipt",[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const da=nt("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F4=nt("ScanBarcode",[["path",{d:"M3 7V5a2 2 0 0 1 2-2h2",key:"aa7l1z"}],["path",{d:"M17 3h2a2 2 0 0 1 2 2v2",key:"4qcy5o"}],["path",{d:"M21 17v2a2 2 0 0 1-2 2h-2",key:"6vwrx8"}],["path",{d:"M7 21H5a2 2 0 0 1-2-2v-2",key:"ioqczr"}],["path",{d:"M8 7v10",key:"23sfjj"}],["path",{d:"M12 7v10",key:"jspqdw"}],["path",{d:"M17 7v10",key:"578dap"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ss=nt("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zc=nt("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mp=nt("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _4=nt("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ln=nt("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BD=nt("Tag",[["path",{d:"M12 2H2v10l9.29 9.29c.94.94 2.48.94 3.42 0l6.58-6.58c.94-.94.94-2.48 0-3.42L12 2Z",key:"14b2ls"}],["path",{d:"M7 7h.01",key:"7u93v4"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vs=nt("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zD=nt("ThumbsDown",[["path",{d:"M17 14V2",key:"8ymqnk"}],["path",{d:"M9 18.12 10 14H4.17a2 2 0 0 1-1.92-2.56l2.33-8A2 2 0 0 1 6.5 2H20a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2h-2.76a2 2 0 0 0-1.79 1.11L12 22h0a3.13 3.13 0 0 1-3-3.88Z",key:"s6e0r"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $D=nt("ThumbsUp",[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2h0a3.13 3.13 0 0 1 3 3.88Z",key:"y3tblf"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ys=nt("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xg=nt("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jt=nt("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dc=nt("Truck",[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O4=nt("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Os=nt("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cn=nt("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hh=nt("Video",[["path",{d:"m22 8-6 4 6 4V8Z",key:"50v9me"}],["rect",{width:"14",height:"12",x:"2",y:"6",rx:"2",ry:"2",key:"1rqjg6"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gl=nt("Wrench",[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ou=nt("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const or=nt("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UD=nt("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]);function M4(e){var t,n,s="";if(typeof e=="string"||typeof e=="number")s+=e;else if(typeof e=="object")if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=M4(e[t]))&&(s&&(s+=" "),s+=n);else for(t in e)e[t]&&(s&&(s+=" "),s+=t);return s}function VD(){for(var e,t,n=0,s="";n<arguments.length;)(e=arguments[n++])&&(t=M4(e))&&(s&&(s+=" "),s+=t);return s}function WD(){for(var e=0,t,n,s="";e<arguments.length;)(t=arguments[e++])&&(n=B4(t))&&(s&&(s+=" "),s+=n);return s}function B4(e){if(typeof e=="string")return e;for(var t,n="",s=0;s<e.length;s++)e[s]&&(t=B4(e[s]))&&(n&&(n+=" "),n+=t);return n}var Iy="-";function qD(e){var t=GD(e),n=e.conflictingClassGroups,s=e.conflictingClassGroupModifiers,a=s===void 0?{}:s;function i(l){var c=l.split(Iy);return c[0]===""&&c.length!==1&&c.shift(),z4(c,t)||HD(l)}function o(l,c){var d=n[l]||[];return c&&a[l]?[].concat(d,a[l]):d}return{getClassGroupId:i,getConflictingClassGroupIds:o}}function z4(e,t){var o;if(e.length===0)return t.classGroupId;var n=e[0],s=t.nextPart.get(n),a=s?z4(e.slice(1),s):void 0;if(a)return a;if(t.validators.length!==0){var i=e.join(Iy);return(o=t.validators.find(function(l){var c=l.validator;return c(i)}))==null?void 0:o.classGroupId}}var Nj=/^\[(.+)\]$/;function HD(e){if(Nj.test(e)){var t=Nj.exec(e)[1],n=t==null?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}}function GD(e){var t=e.theme,n=e.prefix,s={nextPart:new Map,validators:[]},a=YD(Object.entries(e.classGroups),n);return a.forEach(function(i){var o=i[0],l=i[1];B0(l,s,o,t)}),s}function B0(e,t,n,s){e.forEach(function(a){if(typeof a=="string"){var i=a===""?t:Sj(t,a);i.classGroupId=n;return}if(typeof a=="function"){if(QD(a)){B0(a(s),t,n,s);return}t.validators.push({validator:a,classGroupId:n});return}Object.entries(a).forEach(function(o){var l=o[0],c=o[1];B0(c,Sj(t,l),n,s)})})}function Sj(e,t){var n=e;return t.split(Iy).forEach(function(s){n.nextPart.has(s)||n.nextPart.set(s,{nextPart:new Map,validators:[]}),n=n.nextPart.get(s)}),n}function QD(e){return e.isThemeGetter}function YD(e,t){return t?e.map(function(n){var s=n[0],a=n[1],i=a.map(function(o){return typeof o=="string"?t+o:typeof o=="object"?Object.fromEntries(Object.entries(o).map(function(l){var c=l[0],d=l[1];return[t+c,d]})):o});return[s,i]}):e}function KD(e){if(e<1)return{get:function(){},set:function(){}};var t=0,n=new Map,s=new Map;function a(i,o){n.set(i,o),t++,t>e&&(t=0,s=n,n=new Map)}return{get:function(o){var l=n.get(o);if(l!==void 0)return l;if((l=s.get(o))!==void 0)return a(o,l),l},set:function(o,l){n.has(o)?n.set(o,l):a(o,l)}}}var $4="!";function XD(e){var t=e.separator||":",n=t.length===1,s=t[0],a=t.length;return function(o){for(var l=[],c=0,d=0,p,u=0;u<o.length;u++){var f=o[u];if(c===0){if(f===s&&(n||o.slice(u,u+a)===t)){l.push(o.slice(d,u)),d=u+a;continue}if(f==="/"){p=u;continue}}f==="["?c++:f==="]"&&c--}var m=l.length===0?o:o.substring(d),g=m.startsWith($4),b=g?m.substring(1):m,j=p&&p>d?p-d:void 0;return{modifiers:l,hasImportantModifier:g,baseClassName:b,maybePostfixModifierPosition:j}}}function JD(e){if(e.length<=1)return e;var t=[],n=[];return e.forEach(function(s){var a=s[0]==="[";a?(t.push.apply(t,n.sort().concat([s])),n=[]):n.push(s)}),t.push.apply(t,n.sort()),t}function ZD(e){return{cache:KD(e.cacheSize),splitModifiers:XD(e),...qD(e)}}var eL=/\s+/;function tL(e,t){var n=t.splitModifiers,s=t.getClassGroupId,a=t.getConflictingClassGroupIds,i=new Set;return e.trim().split(eL).map(function(o){var l=n(o),c=l.modifiers,d=l.hasImportantModifier,p=l.baseClassName,u=l.maybePostfixModifierPosition,f=s(u?p.substring(0,u):p),m=!!u;if(!f){if(!u)return{isTailwindClass:!1,originalClassName:o};if(f=s(p),!f)return{isTailwindClass:!1,originalClassName:o};m=!1}var g=JD(c).join(":"),b=d?g+$4:g;return{isTailwindClass:!0,modifierId:b,classGroupId:f,originalClassName:o,hasPostfixModifier:m}}).reverse().filter(function(o){if(!o.isTailwindClass)return!0;var l=o.modifierId,c=o.classGroupId,d=o.hasPostfixModifier,p=l+c;return i.has(p)?!1:(i.add(p),a(c,d).forEach(function(u){return i.add(l+u)}),!0)}).reverse().map(function(o){return o.originalClassName}).join(" ")}function rL(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var s,a,i,o=l;function l(d){var p=t[0],u=t.slice(1),f=u.reduce(function(m,g){return g(m)},p());return s=ZD(f),a=s.cache.get,i=s.cache.set,o=c,c(d)}function c(d){var p=a(d);if(p)return p;var u=tL(d,s);return i(d,u),u}return function(){return o(WD.apply(null,arguments))}}function vr(e){var t=function(s){return s[e]||[]};return t.isThemeGetter=!0,t}var U4=/^\[(?:([a-z-]+):)?(.+)\]$/i,nL=/^\d+\/\d+$/,sL=new Set(["px","full","screen"]),aL=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,iL=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,oL=/^-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/;function wa(e){return vl(e)||sL.has(e)||nL.test(e)||z0(e)}function z0(e){return Ul(e,"length",mL)}function lL(e){return Ul(e,"size",V4)}function cL(e){return Ul(e,"position",V4)}function dL(e){return Ul(e,"url",fL)}function nf(e){return Ul(e,"number",vl)}function vl(e){return!Number.isNaN(Number(e))}function uL(e){return e.endsWith("%")&&vl(e.slice(0,-1))}function fu(e){return Cj(e)||Ul(e,"number",Cj)}function $t(e){return U4.test(e)}function hu(){return!0}function io(e){return aL.test(e)}function pL(e){return Ul(e,"",hL)}function Ul(e,t,n){var s=U4.exec(e);return s?s[1]?s[1]===t:n(s[2]):!1}function mL(e){return iL.test(e)}function V4(){return!1}function fL(e){return e.startsWith("url(")}function Cj(e){return Number.isInteger(Number(e))}function hL(e){return oL.test(e)}function xL(){var e=vr("colors"),t=vr("spacing"),n=vr("blur"),s=vr("brightness"),a=vr("borderColor"),i=vr("borderRadius"),o=vr("borderSpacing"),l=vr("borderWidth"),c=vr("contrast"),d=vr("grayscale"),p=vr("hueRotate"),u=vr("invert"),f=vr("gap"),m=vr("gradientColorStops"),g=vr("gradientColorStopPositions"),b=vr("inset"),j=vr("margin"),x=vr("opacity"),v=vr("padding"),y=vr("saturate"),P=vr("scale"),M=vr("sepia"),O=vr("skew"),E=vr("space"),S=vr("translate"),k=function(){return["auto","contain","none"]},D=function(){return["auto","hidden","clip","visible","scroll"]},C=function(){return["auto",$t,t]},w=function(){return[$t,t]},T=function(){return["",wa]},L=function(){return["auto",vl,$t]},W=function(){return["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"]},V=function(){return["solid","dashed","dotted","double","none"]},_=function(){return["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity","plus-lighter"]},B=function(){return["start","end","center","between","around","evenly","stretch"]},U=function(){return["","0",$t]},q=function(){return["auto","avoid","all","avoid-page","page","left","right","column"]},H=function(){return[vl,nf]},R=function(){return[vl,$t]};return{cacheSize:500,theme:{colors:[hu],spacing:[wa],blur:["none","",io,$t],brightness:H(),borderColor:[e],borderRadius:["none","","full",io,$t],borderSpacing:w(),borderWidth:T(),contrast:H(),grayscale:U(),hueRotate:R(),invert:U(),gap:w(),gradientColorStops:[e],gradientColorStopPositions:[uL,z0],inset:C(),margin:C(),opacity:H(),padding:w(),saturate:H(),scale:H(),sepia:U(),skew:R(),space:w(),translate:w()},classGroups:{aspect:[{aspect:["auto","square","video",$t]}],container:["container"],columns:[{columns:[io]}],"break-after":[{"break-after":q()}],"break-before":[{"break-before":q()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none"]}],clear:[{clear:["left","right","both","none"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[].concat(W(),[$t])}],overflow:[{overflow:D()}],"overflow-x":[{"overflow-x":D()}],"overflow-y":[{"overflow-y":D()}],overscroll:[{overscroll:k()}],"overscroll-x":[{"overscroll-x":k()}],"overscroll-y":[{"overscroll-y":k()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[b]}],"inset-x":[{"inset-x":[b]}],"inset-y":[{"inset-y":[b]}],start:[{start:[b]}],end:[{end:[b]}],top:[{top:[b]}],right:[{right:[b]}],bottom:[{bottom:[b]}],left:[{left:[b]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",fu]}],basis:[{basis:C()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",$t]}],grow:[{grow:U()}],shrink:[{shrink:U()}],order:[{order:["first","last","none",fu]}],"grid-cols":[{"grid-cols":[hu]}],"col-start-end":[{col:["auto",{span:["full",fu]},$t]}],"col-start":[{"col-start":L()}],"col-end":[{"col-end":L()}],"grid-rows":[{"grid-rows":[hu]}],"row-start-end":[{row:["auto",{span:[fu]},$t]}],"row-start":[{"row-start":L()}],"row-end":[{"row-end":L()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",$t]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",$t]}],gap:[{gap:[f]}],"gap-x":[{"gap-x":[f]}],"gap-y":[{"gap-y":[f]}],"justify-content":[{justify:["normal"].concat(B())}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal"].concat(B(),["baseline"])}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[].concat(B(),["baseline"])}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[v]}],px:[{px:[v]}],py:[{py:[v]}],ps:[{ps:[v]}],pe:[{pe:[v]}],pt:[{pt:[v]}],pr:[{pr:[v]}],pb:[{pb:[v]}],pl:[{pl:[v]}],m:[{m:[j]}],mx:[{mx:[j]}],my:[{my:[j]}],ms:[{ms:[j]}],me:[{me:[j]}],mt:[{mt:[j]}],mr:[{mr:[j]}],mb:[{mb:[j]}],ml:[{ml:[j]}],"space-x":[{"space-x":[E]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[E]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit",$t,t]}],"min-w":[{"min-w":["min","max","fit",$t,wa]}],"max-w":[{"max-w":["0","none","full","min","max","fit","prose",{screen:[io]},io,$t]}],h:[{h:[$t,t,"auto","min","max","fit"]}],"min-h":[{"min-h":["min","max","fit",$t,wa]}],"max-h":[{"max-h":[$t,t,"min","max","fit"]}],"font-size":[{text:["base",io,z0]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",nf]}],"font-family":[{font:[hu]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",$t]}],"line-clamp":[{"line-clamp":["none",vl,nf]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",$t,wa]}],"list-image":[{"list-image":["none",$t]}],"list-style-type":[{list:["none","disc","decimal",$t]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[x]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[x]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[].concat(V(),["wavy"])}],"text-decoration-thickness":[{decoration:["auto","from-font",wa]}],"underline-offset":[{"underline-offset":["auto",$t,wa]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],indent:[{indent:w()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",$t]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",$t]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[x]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[].concat(W(),[cL])}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",lL]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},dL]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[g]}],"gradient-via-pos":[{via:[g]}],"gradient-to-pos":[{to:[g]}],"gradient-from":[{from:[m]}],"gradient-via":[{via:[m]}],"gradient-to":[{to:[m]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[x]}],"border-style":[{border:[].concat(V(),["hidden"])}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[x]}],"divide-style":[{divide:V()}],"border-color":[{border:[a]}],"border-color-x":[{"border-x":[a]}],"border-color-y":[{"border-y":[a]}],"border-color-t":[{"border-t":[a]}],"border-color-r":[{"border-r":[a]}],"border-color-b":[{"border-b":[a]}],"border-color-l":[{"border-l":[a]}],"divide-color":[{divide:[a]}],"outline-style":[{outline:[""].concat(V())}],"outline-offset":[{"outline-offset":[$t,wa]}],"outline-w":[{outline:[wa]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:T()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[x]}],"ring-offset-w":[{"ring-offset":[wa]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",io,pL]}],"shadow-color":[{shadow:[hu]}],opacity:[{opacity:[x]}],"mix-blend":[{"mix-blend":_()}],"bg-blend":[{"bg-blend":_()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[s]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",io,$t]}],grayscale:[{grayscale:[d]}],"hue-rotate":[{"hue-rotate":[p]}],invert:[{invert:[u]}],saturate:[{saturate:[y]}],sepia:[{sepia:[M]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[s]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[d]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[p]}],"backdrop-invert":[{"backdrop-invert":[u]}],"backdrop-opacity":[{"backdrop-opacity":[x]}],"backdrop-saturate":[{"backdrop-saturate":[y]}],"backdrop-sepia":[{"backdrop-sepia":[M]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",$t]}],duration:[{duration:R()}],ease:[{ease:["linear","in","out","in-out",$t]}],delay:[{delay:R()}],animate:[{animate:["none","spin","ping","pulse","bounce",$t]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[P]}],"scale-x":[{"scale-x":[P]}],"scale-y":[{"scale-y":[P]}],rotate:[{rotate:[fu,$t]}],"translate-x":[{"translate-x":[S]}],"translate-y":[{"translate-y":[S]}],"skew-x":[{"skew-x":[O]}],"skew-y":[{"skew-y":[O]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",$t]}],accent:[{accent:["auto",e]}],appearance:["appearance-none"],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",$t]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":w()}],"scroll-mx":[{"scroll-mx":w()}],"scroll-my":[{"scroll-my":w()}],"scroll-ms":[{"scroll-ms":w()}],"scroll-me":[{"scroll-me":w()}],"scroll-mt":[{"scroll-mt":w()}],"scroll-mr":[{"scroll-mr":w()}],"scroll-mb":[{"scroll-mb":w()}],"scroll-ml":[{"scroll-ml":w()}],"scroll-p":[{"scroll-p":w()}],"scroll-px":[{"scroll-px":w()}],"scroll-py":[{"scroll-py":w()}],"scroll-ps":[{"scroll-ps":w()}],"scroll-pe":[{"scroll-pe":w()}],"scroll-pt":[{"scroll-pt":w()}],"scroll-pr":[{"scroll-pr":w()}],"scroll-pb":[{"scroll-pb":w()}],"scroll-pl":[{"scroll-pl":w()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","pinch-zoom","manipulation",{pan:["x","left","right","y","up","down"]}]}],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",$t]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[wa,nf]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}}var gL=rL(xL);function $e(...e){return gL(VD(e))}function Le(e){return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(e)}function yt(e){return new Intl.DateTimeFormat("en-US",{year:"numeric",month:"short",day:"numeric"}).format(new Date(e))}function Xr(e,t){try{localStorage.setItem(e,JSON.stringify(t))}catch(n){console.error("Failed to save to localStorage:",n)}}function En(e,t){try{const n=localStorage.getItem(e);return n?JSON.parse(n):t}catch(n){return console.error("Failed to load from localStorage:",n),t}}function vL(e){try{localStorage.removeItem(e)}catch(t){console.error("Failed to remove from localStorage:",t)}}const yL=SD,W4=A.forwardRef(({className:e,...t},n)=>r.jsx(E4,{ref:n,className:$e("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));W4.displayName=E4.displayName;const bL=rx("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),q4=A.forwardRef(({className:e,variant:t,...n},s)=>r.jsx(I4,{ref:s,className:$e(bL({variant:t}),e),...n}));q4.displayName=I4.displayName;const jL=A.forwardRef(({className:e,...t},n)=>r.jsx(D4,{ref:n,className:$e("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));jL.displayName=D4.displayName;const H4=A.forwardRef(({className:e,...t},n)=>r.jsx(L4,{ref:n,className:$e("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:r.jsx(or,{className:"h-4 w-4"})}));H4.displayName=L4.displayName;const G4=A.forwardRef(({className:e,...t},n)=>r.jsx(P4,{ref:n,className:$e("text-sm font-semibold",e),...t}));G4.displayName=P4.displayName;const Q4=A.forwardRef(({className:e,...t},n)=>r.jsx(k4,{ref:n,className:$e("text-sm opacity-90",e),...t}));Q4.displayName=k4.displayName;const wL=1,NL=1e6;let Jg=0;function SL(){return Jg=(Jg+1)%Number.MAX_SAFE_INTEGER,Jg.toString()}const Zg=new Map,Aj=e=>{if(Zg.has(e))return;const t=setTimeout(()=>{Zg.delete(e),Mu({type:"REMOVE_TOAST",toastId:e})},NL);Zg.set(e,t)},CL=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,wL)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(n=>n.id===t.toast.id?{...n,...t.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=t;return n?Aj(n):e.toasts.forEach(s=>{Aj(s.id)}),{...e,toasts:e.toasts.map(s=>s.id===n||n===void 0?{...s,open:!1}:s)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(n=>n.id!==t.toastId)}}},Ff=[];let _f={toasts:[]};function Mu(e){_f=CL(_f,e),Ff.forEach(t=>{t(_f)})}function AL({...e}){const t=SL(),n=a=>Mu({type:"UPDATE_TOAST",toast:{...a,id:t}}),s=()=>Mu({type:"DISMISS_TOAST",toastId:t});return Mu({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:a=>{a||s()}}}),{id:t,dismiss:s,update:n}}function Cr(){const[e,t]=A.useState(_f);return A.useEffect(()=>(Ff.push(t),()=>{const n=Ff.indexOf(t);n>-1&&Ff.splice(n,1)}),[e]),{...e,toast:AL,dismiss:n=>Mu({type:"DISMISS_TOAST",toastId:n})}}function EL(){const{toasts:e}=Cr();return r.jsxs(yL,{children:[e.map(function({id:t,title:n,description:s,action:a,...i}){return r.jsxs(q4,{...i,children:[r.jsxs("div",{className:"grid gap-1",children:[n&&r.jsx(G4,{children:n}),s&&r.jsx(Q4,{children:s})]}),a,r.jsx(H4,{})]},t)}),r.jsx(W4,{})]})}var Bu=(e=>(e.ADMIN="admin",e.MANAGER="manager",e.SALES="sales",e.SERVICE="service",e.USER="user",e))(Bu||{}),Sn=(e=>(e.NEW="new",e.CONTACTED="contacted",e.QUALIFIED="qualified",e.PROPOSAL="proposal",e.NEGOTIATION="negotiation",e.CLOSED_WON="closed_won",e.CLOSED_LOST="closed_lost",e))(Sn||{}),at=(e=>(e.RV="rv",e.MOTORHOME="motorhome",e.TRAVEL_TRAILER="travel_trailer",e.FIFTH_WHEEL="fifth_wheel",e.TOY_HAULER="toy_hauler",e.SINGLE_WIDE="single_wide",e.DOUBLE_WIDE="double_wide",e.TRIPLE_WIDE="triple_wide",e.PARK_MODEL="park_model",e.MODULAR_HOME="modular_home",e))(at||{}),_t=(e=>(e.AVAILABLE="available",e.RESERVED="reserved",e.SOLD="sold",e.SERVICE="service",e.DELIVERED="delivered",e))(_t||{}),Xs=(e=>(e.DRAFT="draft",e.SENT="sent",e.VIEWED="viewed",e.ACCEPTED="accepted",e.REJECTED="rejected",e.EXPIRED="expired",e))(Xs||{}),yl=(e=>(e.PURCHASE="purchase",e.LEASE="lease",e.SERVICE="service",e.WARRANTY="warranty",e))(yl||{}),Aa=(e=>(e.DRAFT="draft",e.PENDING="pending",e.SIGNED="signed",e.ACTIVE="active",e.EXPIRED="expired",e.CANCELLED="cancelled",e))(Aa||{}),br=(e=>(e.LOW="low",e.MEDIUM="medium",e.HIGH="high",e.URGENT="urgent",e))(br||{}),Ut=(e=>(e.OPEN="open",e.IN_PROGRESS="in_progress",e.WAITING_PARTS="waiting_parts",e.COMPLETED="completed",e.CANCELLED="cancelled",e))(Ut||{}),Za=(e=>(e.SCHEDULED="scheduled",e.IN_TRANSIT="in_transit",e.DELIVERED="delivered",e.CANCELLED="cancelled",e))(Za||{}),bl=(e=>(e.FLAT="flat",e.PERCENTAGE="percentage",e.TIERED="tiered",e))(bl||{}),ei=(e=>(e.PENDING="pending",e.APPROVED="approved",e.PAID="paid",e.CANCELLED="cancelled",e))(ei||{}),Js=(e=>(e.DRAFT="draft",e.SENT="sent",e.VIEWED="viewed",e.PAID="paid",e.OVERDUE="overdue",e.CANCELLED="cancelled",e))(Js||{}),Is=(e=>(e.SALES="sales",e.INVENTORY="inventory",e.SERVICE="service",e.FINANCIAL="financial",e.CUSTOM="custom",e))(Is||{});const Y4=A.createContext(void 0);function Lp(){const e=A.useContext(Y4);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e}function IL({children:e}){const[t,n]=A.useState(null),[s,a]=A.useState(!0);A.useEffect(()=>{En("auth_token",null)&&n({id:"1",email:"admin@renterinsight.com",name:"Admin User",role:Bu.ADMIN,tenantId:"tenant-1",permissions:[{id:"1",name:"All Access",resource:"*",action:"*"}],createdAt:new Date,updatedAt:new Date}),a(!1)},[]);const d={user:t,login:async(p,u)=>{a(!0);try{const f={id:"1",email:p,name:"Admin User",role:Bu.ADMIN,tenantId:"tenant-1",permissions:[{id:"1",name:"All Access",resource:"*",action:"*"}],createdAt:new Date,updatedAt:new Date};n(f),Xr("auth_token","mock-token"),a(!1)}catch{throw new Error("Login failed")}finally{}},logout:()=>{n(null),vL("auth_token")},isLoading:s,hasPermission:(p,u)=>t?t.permissions.some(f=>(f.resource==="*"||f.resource===p)&&(f.action==="*"||f.action===u)):!1,hasRole:p=>t?t.role===p||t.role===Bu.ADMIN:!1};return r.jsx(Y4.Provider,{value:d,children:e})}const K4=A.createContext(void 0);function X4(){const e=A.useContext(K4);if(e===void 0)throw new Error("useTenant must be used within a TenantProvider");return e}function PL({children:e}){const[t,n]=A.useState(null),[s,a]=A.useState([]);A.useEffect(()=>{const u={id:"tenant-1",name:"Demo RV Dealership",domain:"demo.renterinsight.com",settings:{timezone:"America/New_York",currency:"USD",dateFormat:"MM/dd/yyyy",businessHours:{monday:{open:"09:00",close:"18:00",closed:!1},tuesday:{open:"09:00",close:"18:00",closed:!1},wednesday:{open:"09:00",close:"18:00",closed:!1},thursday:{open:"09:00",close:"18:00",closed:!1},friday:{open:"09:00",close:"18:00",closed:!1},saturday:{open:"09:00",close:"17:00",closed:!1},sunday:{open:"12:00",close:"17:00",closed:!1}},features:{crm:!0,inventory:!0,quotes:!0,agreements:!0,service:!0,delivery:!0,commissions:!0,portal:!0,invoices:!0,reports:!0}},customFields:[],branding:{primaryColor:"#3b82f6",secondaryColor:"#64748b",fontFamily:"Inter"},createdAt:new Date,updatedAt:new Date};n(u),a(u.customFields)},[]);const p={tenant:t,customFields:s,getCustomFields:(u,f)=>s.filter(m=>m.module===u&&(f?m.section===f:!0)),updateTenantSettings:async u=>{if(!t)return;const f={...t,settings:{...t.settings,...u},updatedAt:new Date};n(f)},addCustomField:async u=>{const f={...u,id:Math.random().toString(36).substr(2,9)};a(m=>[...m,f])},updateCustomField:async(u,f)=>{a(m=>m.map(g=>g.id===u?{...g,...f}:g))},deleteCustomField:async u=>{a(f=>f.filter(m=>m.id!==u))}};return r.jsx(K4.Provider,{value:p,children:e})}const kL={theme:"system",setTheme:()=>null},DL=A.createContext(kL);function LL({children:e,defaultTheme:t="system",storageKey:n="vite-ui-theme",...s}){const[a,i]=A.useState(()=>localStorage.getItem(n)||t);A.useEffect(()=>{const l=window.document.documentElement;if(l.classList.remove("light","dark"),a==="system"){const c=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light";l.classList.add(c);return}l.classList.add(a)},[a]);const o={theme:a,setTheme:l=>{localStorage.setItem(n,l),i(l)}};return r.jsx(DL.Provider,{...s,value:o,children:e})}const TL=[{name:"Dashboard",href:"/",icon:TD},{name:"CRM & Prospecting",href:"/crm",icon:cn},{name:"Inventory Management",href:"/inventory",icon:Hn},{name:"Sales Deals",href:"/deals",icon:vs},{name:"Finance",href:"/finance",icon:gr},{name:"Quote Builder",href:"/quotes",icon:qn},{name:"Agreement Vault",href:"/agreements",icon:Tf},{name:"PDI Checklist",href:"/pdi",icon:_l},{name:"Service Operations",href:"/service",icon:gl},{name:"Delivery Tracker",href:"/delivery",icon:Dc},{name:"Commission Engine",href:"/commissions",icon:gr},{name:"Client Portal",href:"/portal",icon:Au},{name:"Invoice & Payments",href:"/invoices",icon:Rf},{name:"Company Settings",href:"/settings",icon:mp},{name:"Platform Admin",href:"/admin",icon:_4},{name:"Reporting Suite",href:"/reports",icon:ka}];function RL(){const e=jd();return r.jsx("div",{className:"hidden lg:fixed lg:inset-y-0 lg:z-50 lg:flex lg:w-64 lg:flex-col",children:r.jsxs("div",{className:"flex grow flex-col gap-y-5 overflow-y-auto border-r border-border bg-card px-6 pb-4",children:[r.jsx("div",{className:"flex h-16 shrink-0 items-center",children:r.jsx("h1",{className:"text-xl font-bold text-primary",children:"Renter Insight"})}),r.jsx("nav",{className:"flex flex-1 flex-col",children:r.jsx("ul",{role:"list",className:"flex flex-1 flex-col gap-y-7",children:r.jsx("li",{children:r.jsx("ul",{role:"list",className:"-mx-2 space-y-1",children:TL.map(t=>{const n=e.pathname===t.href||t.href!=="/"&&e.pathname.startsWith(t.href);return r.jsx("li",{children:r.jsxs(Tk,{to:t.href,className:$e("group flex gap-x-3 rounded-md p-2 text-sm leading-6 font-semibold transition-colors",n?"bg-primary text-primary-foreground":"text-muted-foreground hover:text-foreground hover:bg-accent"),children:[r.jsx(t.icon,{className:$e("h-6 w-6 shrink-0",n?"text-primary-foreground":"text-muted-foreground group-hover:text-foreground"),"aria-hidden":"true"}),t.name]})},t.name)})})})})})]})})}const FL=rx("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),ae=A.forwardRef(({className:e,variant:t,size:n,asChild:s=!1,...a},i)=>{const o=s?_k:"button";return r.jsx(o,{className:$e(FL({variant:t,size:n,className:e})),ref:i,...a})});ae.displayName="Button";function _L(){const{user:e,logout:t}=Lp(),{tenant:n}=X4();return r.jsx("div",{className:"sticky top-0 z-40 flex h-16 shrink-0 items-center gap-x-4 border-b border-border bg-background px-4 shadow-sm sm:gap-x-6 sm:px-6 lg:px-8",children:r.jsxs("div",{className:"flex flex-1 gap-x-4 self-stretch lg:gap-x-6",children:[r.jsx("div",{className:"flex flex-1 items-center",children:r.jsx("h2",{className:"text-lg font-semibold text-foreground",children:(n==null?void 0:n.name)||"Renter Insight CRM/DMS"})}),r.jsxs("div",{className:"flex items-center gap-x-4 lg:gap-x-6",children:[r.jsxs("div",{className:"flex items-center gap-x-2",children:[r.jsx(Os,{className:"h-5 w-5 text-muted-foreground"}),r.jsx("span",{className:"text-sm font-medium text-foreground",children:e==null?void 0:e.name})]}),r.jsxs(ae,{variant:"ghost",size:"sm",onClick:t,className:"flex items-center gap-x-2",children:[r.jsx(FD,{className:"h-4 w-4"}),"Logout"]})]})]})})}function OL({children:e}){return r.jsxs("div",{className:"min-h-screen bg-background",children:[r.jsx(RL,{}),r.jsxs("div",{className:"lg:pl-64",children:[r.jsx(_L,{}),r.jsx("main",{className:"py-6",children:r.jsx("div",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8",children:e})})]})]})}const me=A.forwardRef(({className:e,...t},n)=>r.jsx("div",{ref:n,className:$e("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));me.displayName="Card";const be=A.forwardRef(({className:e,...t},n)=>r.jsx("div",{ref:n,className:$e("flex flex-col space-y-1.5 p-6",e),...t}));be.displayName="CardHeader";const je=A.forwardRef(({className:e,...t},n)=>r.jsx("h3",{ref:n,className:$e("text-2xl font-semibold leading-none tracking-tight",e),...t}));je.displayName="CardTitle";const Ke=A.forwardRef(({className:e,...t},n)=>r.jsx("p",{ref:n,className:$e("text-sm text-muted-foreground",e),...t}));Ke.displayName="CardDescription";const fe=A.forwardRef(({className:e,...t},n)=>r.jsx("div",{ref:n,className:$e("p-6 pt-0",e),...t}));fe.displayName="CardContent";const ML=A.forwardRef(({className:e,...t},n)=>r.jsx("div",{ref:n,className:$e("flex items-center p-6 pt-0",e),...t}));ML.displayName="CardFooter";const Be=A.forwardRef(({className:e,type:t,...n},s)=>r.jsx("input",{type:t,className:$e("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:s,...n}));Be.displayName="Input";const lr=A.forwardRef(({className:e,...t},n)=>r.jsx("textarea",{className:$e("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:n,...t}));lr.displayName="Textarea";function Ze(){return Ze=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Ze.apply(null,arguments)}function Ej(e,[t,n]){return Math.min(n,Math.max(t,e))}function hn(e,t,{checkForDefaultPrevented:n=!0}={}){return function(a){if(e==null||e(a),n===!1||!a.defaultPrevented)return t==null?void 0:t(a)}}function Py(e,t=[]){let n=[];function s(i,o){const l=A.createContext(o),c=n.length;n=[...n,o];function d(u){const{scope:f,children:m,...g}=u,b=(f==null?void 0:f[e][c])||l,j=A.useMemo(()=>g,Object.values(g));return A.createElement(b.Provider,{value:j},m)}function p(u,f){const m=(f==null?void 0:f[e][c])||l,g=A.useContext(m);if(g)return g;if(o!==void 0)return o;throw new Error(`\`${u}\` must be used within \`${i}\``)}return d.displayName=i+"Provider",[d,p]}const a=()=>{const i=n.map(o=>A.createContext(o));return function(l){const c=(l==null?void 0:l[e])||i;return A.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return a.scopeName=e,[s,BL(a,...t)]}function BL(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const s=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(i){const o=s.reduce((l,{useScope:c,scopeName:d})=>{const u=c(i)[`__scope${d}`];return{...l,...u}},{});return A.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return n.scopeName=t.scopeName,n}function zL(e,t){typeof e=="function"?e(t):e!=null&&(e.current=t)}function J4(...e){return t=>e.forEach(n=>zL(n,t))}function Qn(...e){return A.useCallback(J4(...e),e)}const fp=A.forwardRef((e,t)=>{const{children:n,...s}=e,a=A.Children.toArray(n),i=a.find(UL);if(i){const o=i.props.children,l=a.map(c=>c===i?A.Children.count(o)>1?A.Children.only(null):A.isValidElement(o)?o.props.children:null:c);return A.createElement($0,Ze({},s,{ref:t}),A.isValidElement(o)?A.cloneElement(o,void 0,l):null)}return A.createElement($0,Ze({},s,{ref:t}),n)});fp.displayName="Slot";const $0=A.forwardRef((e,t)=>{const{children:n,...s}=e;return A.isValidElement(n)?A.cloneElement(n,{...VL(s,n.props),ref:t?J4(t,n.ref):n.ref}):A.Children.count(n)>1?A.Children.only(null):null});$0.displayName="SlotClone";const $L=({children:e})=>A.createElement(A.Fragment,null,e);function UL(e){return A.isValidElement(e)&&e.type===$L}function VL(e,t){const n={...t};for(const s in t){const a=e[s],i=t[s];/^on[A-Z]/.test(s)?a&&i?n[s]=(...l)=>{i(...l),a(...l)}:a&&(n[s]=a):s==="style"?n[s]={...a,...i}:s==="className"&&(n[s]=[a,i].filter(Boolean).join(" "))}return{...e,...n}}function WL(e){const t=e+"CollectionProvider",[n,s]=Py(t),[a,i]=n(t,{collectionRef:{current:null},itemMap:new Map}),o=m=>{const{scope:g,children:b}=m,j=Dt.useRef(null),x=Dt.useRef(new Map).current;return Dt.createElement(a,{scope:g,itemMap:x,collectionRef:j},b)},l=e+"CollectionSlot",c=Dt.forwardRef((m,g)=>{const{scope:b,children:j}=m,x=i(l,b),v=Qn(g,x.collectionRef);return Dt.createElement(fp,{ref:v},j)}),d=e+"CollectionItemSlot",p="data-radix-collection-item",u=Dt.forwardRef((m,g)=>{const{scope:b,children:j,...x}=m,v=Dt.useRef(null),y=Qn(g,v),P=i(d,b);return Dt.useEffect(()=>(P.itemMap.set(v,{ref:v,...x}),()=>void P.itemMap.delete(v))),Dt.createElement(fp,{[p]:"",ref:y},j)});function f(m){const g=i(e+"CollectionConsumer",m);return Dt.useCallback(()=>{const j=g.collectionRef.current;if(!j)return[];const x=Array.from(j.querySelectorAll(`[${p}]`));return Array.from(g.itemMap.values()).sort((P,M)=>x.indexOf(P.ref.current)-x.indexOf(M.ref.current))},[g.collectionRef,g.itemMap])}return[{Provider:o,Slot:c,ItemSlot:u},f,s]}const qL=A.createContext(void 0);function HL(e){const t=A.useContext(qL);return e||t||"ltr"}const GL=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Tn=GL.reduce((e,t)=>{const n=A.forwardRef((s,a)=>{const{asChild:i,...o}=s,l=i?fp:t;return A.useEffect(()=>{window[Symbol.for("radix-ui")]=!0},[]),A.createElement(l,Ze({},o,{ref:a}))});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function QL(e,t){e&&Wi.flushSync(()=>e.dispatchEvent(t))}function zi(e){const t=A.useRef(e);return A.useEffect(()=>{t.current=e}),A.useMemo(()=>(...n)=>{var s;return(s=t.current)===null||s===void 0?void 0:s.call(t,...n)},[])}function YL(e,t=globalThis==null?void 0:globalThis.document){const n=zi(e);A.useEffect(()=>{const s=a=>{a.key==="Escape"&&n(a)};return t.addEventListener("keydown",s),()=>t.removeEventListener("keydown",s)},[n,t])}const U0="dismissableLayer.update",KL="dismissableLayer.pointerDownOutside",XL="dismissableLayer.focusOutside";let Ij;const JL=A.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),ZL=A.forwardRef((e,t)=>{var n;const{disableOutsidePointerEvents:s=!1,onEscapeKeyDown:a,onPointerDownOutside:i,onFocusOutside:o,onInteractOutside:l,onDismiss:c,...d}=e,p=A.useContext(JL),[u,f]=A.useState(null),m=(n=u==null?void 0:u.ownerDocument)!==null&&n!==void 0?n:globalThis==null?void 0:globalThis.document,[,g]=A.useState({}),b=Qn(t,S=>f(S)),j=Array.from(p.layers),[x]=[...p.layersWithOutsidePointerEventsDisabled].slice(-1),v=j.indexOf(x),y=u?j.indexOf(u):-1,P=p.layersWithOutsidePointerEventsDisabled.size>0,M=y>=v,O=eT(S=>{const k=S.target,D=[...p.branches].some(C=>C.contains(k));!M||D||(i==null||i(S),l==null||l(S),S.defaultPrevented||c==null||c())},m),E=tT(S=>{const k=S.target;[...p.branches].some(C=>C.contains(k))||(o==null||o(S),l==null||l(S),S.defaultPrevented||c==null||c())},m);return YL(S=>{y===p.layers.size-1&&(a==null||a(S),!S.defaultPrevented&&c&&(S.preventDefault(),c()))},m),A.useEffect(()=>{if(u)return s&&(p.layersWithOutsidePointerEventsDisabled.size===0&&(Ij=m.body.style.pointerEvents,m.body.style.pointerEvents="none"),p.layersWithOutsidePointerEventsDisabled.add(u)),p.layers.add(u),Pj(),()=>{s&&p.layersWithOutsidePointerEventsDisabled.size===1&&(m.body.style.pointerEvents=Ij)}},[u,m,s,p]),A.useEffect(()=>()=>{u&&(p.layers.delete(u),p.layersWithOutsidePointerEventsDisabled.delete(u),Pj())},[u,p]),A.useEffect(()=>{const S=()=>g({});return document.addEventListener(U0,S),()=>document.removeEventListener(U0,S)},[]),A.createElement(Tn.div,Ze({},d,{ref:b,style:{pointerEvents:P?M?"auto":"none":void 0,...e.style},onFocusCapture:hn(e.onFocusCapture,E.onFocusCapture),onBlurCapture:hn(e.onBlurCapture,E.onBlurCapture),onPointerDownCapture:hn(e.onPointerDownCapture,O.onPointerDownCapture)}))});function eT(e,t=globalThis==null?void 0:globalThis.document){const n=zi(e),s=A.useRef(!1),a=A.useRef(()=>{});return A.useEffect(()=>{const i=l=>{if(l.target&&!s.current){let d=function(){Z4(KL,n,c,{discrete:!0})};const c={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",a.current),a.current=d,t.addEventListener("click",a.current,{once:!0})):d()}s.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",i),t.removeEventListener("click",a.current)}},[t,n]),{onPointerDownCapture:()=>s.current=!0}}function tT(e,t=globalThis==null?void 0:globalThis.document){const n=zi(e),s=A.useRef(!1);return A.useEffect(()=>{const a=i=>{i.target&&!s.current&&Z4(XL,n,{originalEvent:i},{discrete:!1})};return t.addEventListener("focusin",a),()=>t.removeEventListener("focusin",a)},[t,n]),{onFocusCapture:()=>s.current=!0,onBlurCapture:()=>s.current=!1}}function Pj(){const e=new CustomEvent(U0);document.dispatchEvent(e)}function Z4(e,t,n,{discrete:s}){const a=n.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&a.addEventListener(e,t,{once:!0}),s?QL(a,i):a.dispatchEvent(i)}let ev=0;function rT(){A.useEffect(()=>{var e,t;const n=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",(e=n[0])!==null&&e!==void 0?e:kj()),document.body.insertAdjacentElement("beforeend",(t=n[1])!==null&&t!==void 0?t:kj()),ev++,()=>{ev===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(s=>s.remove()),ev--}},[])}function kj(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.cssText="outline: none; opacity: 0; position: fixed; pointer-events: none",e}const tv="focusScope.autoFocusOnMount",rv="focusScope.autoFocusOnUnmount",Dj={bubbles:!1,cancelable:!0},nT=A.forwardRef((e,t)=>{const{loop:n=!1,trapped:s=!1,onMountAutoFocus:a,onUnmountAutoFocus:i,...o}=e,[l,c]=A.useState(null),d=zi(a),p=zi(i),u=A.useRef(null),f=Qn(t,b=>c(b)),m=A.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;A.useEffect(()=>{if(s){let b=function(y){if(m.paused||!l)return;const P=y.target;l.contains(P)?u.current=P:co(u.current,{select:!0})},j=function(y){if(m.paused||!l)return;const P=y.relatedTarget;P!==null&&(l.contains(P)||co(u.current,{select:!0}))},x=function(y){const P=document.activeElement;for(const M of y)M.removedNodes.length>0&&(l!=null&&l.contains(P)||co(l))};document.addEventListener("focusin",b),document.addEventListener("focusout",j);const v=new MutationObserver(x);return l&&v.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",b),document.removeEventListener("focusout",j),v.disconnect()}}},[s,l,m.paused]),A.useEffect(()=>{if(l){Tj.add(m);const b=document.activeElement;if(!l.contains(b)){const x=new CustomEvent(tv,Dj);l.addEventListener(tv,d),l.dispatchEvent(x),x.defaultPrevented||(sT(cT(e3(l)),{select:!0}),document.activeElement===b&&co(l))}return()=>{l.removeEventListener(tv,d),setTimeout(()=>{const x=new CustomEvent(rv,Dj);l.addEventListener(rv,p),l.dispatchEvent(x),x.defaultPrevented||co(b??document.body,{select:!0}),l.removeEventListener(rv,p),Tj.remove(m)},0)}}},[l,d,p,m]);const g=A.useCallback(b=>{if(!n&&!s||m.paused)return;const j=b.key==="Tab"&&!b.altKey&&!b.ctrlKey&&!b.metaKey,x=document.activeElement;if(j&&x){const v=b.currentTarget,[y,P]=aT(v);y&&P?!b.shiftKey&&x===P?(b.preventDefault(),n&&co(y,{select:!0})):b.shiftKey&&x===y&&(b.preventDefault(),n&&co(P,{select:!0})):x===v&&b.preventDefault()}},[n,s,m.paused]);return A.createElement(Tn.div,Ze({tabIndex:-1},o,{ref:f,onKeyDown:g}))});function sT(e,{select:t=!1}={}){const n=document.activeElement;for(const s of e)if(co(s,{select:t}),document.activeElement!==n)return}function aT(e){const t=e3(e),n=Lj(t,e),s=Lj(t.reverse(),e);return[n,s]}function e3(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:s=>{const a=s.tagName==="INPUT"&&s.type==="hidden";return s.disabled||s.hidden||a?NodeFilter.FILTER_SKIP:s.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function Lj(e,t){for(const n of e)if(!iT(n,{upTo:t}))return n}function iT(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function oT(e){return e instanceof HTMLInputElement&&"select"in e}function co(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&oT(e)&&t&&e.select()}}const Tj=lT();function lT(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=Rj(e,t),e.unshift(t)},remove(t){var n;e=Rj(e,t),(n=e[0])===null||n===void 0||n.resume()}}}function Rj(e,t){const n=[...e],s=n.indexOf(t);return s!==-1&&n.splice(s,1),n}function cT(e){return e.filter(t=>t.tagName!=="A")}const ca=globalThis!=null&&globalThis.document?A.useLayoutEffect:()=>{},dT=_h["useId".toString()]||(()=>{});let uT=0;function t3(e){const[t,n]=A.useState(dT());return ca(()=>{e||n(s=>s??String(uT++))},[e]),e||(t?`radix-${t}`:"")}const pT=["top","right","bottom","left"],Mo=Math.min,Es=Math.max,xh=Math.round,sf=Math.floor,di=e=>({x:e,y:e}),mT={left:"right",right:"left",bottom:"top",top:"bottom"},fT={start:"end",end:"start"};function V0(e,t,n){return Es(e,Mo(t,n))}function $i(e,t){return typeof e=="function"?e(t):e}function Ui(e){return e.split("-")[0]}function Nd(e){return e.split("-")[1]}function ky(e){return e==="x"?"y":"x"}function Dy(e){return e==="y"?"height":"width"}function ii(e){return["top","bottom"].includes(Ui(e))?"y":"x"}function Ly(e){return ky(ii(e))}function hT(e,t,n){n===void 0&&(n=!1);const s=Nd(e),a=Ly(e),i=Dy(a);let o=a==="x"?s===(n?"end":"start")?"right":"left":s==="start"?"bottom":"top";return t.reference[i]>t.floating[i]&&(o=gh(o)),[o,gh(o)]}function xT(e){const t=gh(e);return[W0(e),t,W0(t)]}function W0(e){return e.replace(/start|end/g,t=>fT[t])}function gT(e,t,n){const s=["left","right"],a=["right","left"],i=["top","bottom"],o=["bottom","top"];switch(e){case"top":case"bottom":return n?t?a:s:t?s:a;case"left":case"right":return t?i:o;default:return[]}}function vT(e,t,n,s){const a=Nd(e);let i=gT(Ui(e),n==="start",s);return a&&(i=i.map(o=>o+"-"+a),t&&(i=i.concat(i.map(W0)))),i}function gh(e){return e.replace(/left|right|bottom|top/g,t=>mT[t])}function yT(e){return{top:0,right:0,bottom:0,left:0,...e}}function r3(e){return typeof e!="number"?yT(e):{top:e,right:e,bottom:e,left:e}}function vh(e){const{x:t,y:n,width:s,height:a}=e;return{width:s,height:a,top:n,left:t,right:t+s,bottom:n+a,x:t,y:n}}function Fj(e,t,n){let{reference:s,floating:a}=e;const i=ii(t),o=Ly(t),l=Dy(o),c=Ui(t),d=i==="y",p=s.x+s.width/2-a.width/2,u=s.y+s.height/2-a.height/2,f=s[l]/2-a[l]/2;let m;switch(c){case"top":m={x:p,y:s.y-a.height};break;case"bottom":m={x:p,y:s.y+s.height};break;case"right":m={x:s.x+s.width,y:u};break;case"left":m={x:s.x-a.width,y:u};break;default:m={x:s.x,y:s.y}}switch(Nd(t)){case"start":m[o]-=f*(n&&d?-1:1);break;case"end":m[o]+=f*(n&&d?-1:1);break}return m}const bT=async(e,t,n)=>{const{placement:s="bottom",strategy:a="absolute",middleware:i=[],platform:o}=n,l=i.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(t));let d=await o.getElementRects({reference:e,floating:t,strategy:a}),{x:p,y:u}=Fj(d,s,c),f=s,m={},g=0;for(let b=0;b<l.length;b++){const{name:j,fn:x}=l[b],{x:v,y,data:P,reset:M}=await x({x:p,y:u,initialPlacement:s,placement:f,strategy:a,middlewareData:m,rects:d,platform:o,elements:{reference:e,floating:t}});p=v??p,u=y??u,m={...m,[j]:{...m[j],...P}},M&&g<=50&&(g++,typeof M=="object"&&(M.placement&&(f=M.placement),M.rects&&(d=M.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:a}):M.rects),{x:p,y:u}=Fj(d,f,c)),b=-1)}return{x:p,y:u,placement:f,strategy:a,middlewareData:m}};async function hp(e,t){var n;t===void 0&&(t={});const{x:s,y:a,platform:i,rects:o,elements:l,strategy:c}=e,{boundary:d="clippingAncestors",rootBoundary:p="viewport",elementContext:u="floating",altBoundary:f=!1,padding:m=0}=$i(t,e),g=r3(m),j=l[f?u==="floating"?"reference":"floating":u],x=vh(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(j)))==null||n?j:j.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(l.floating)),boundary:d,rootBoundary:p,strategy:c})),v=u==="floating"?{x:s,y:a,width:o.floating.width,height:o.floating.height}:o.reference,y=await(i.getOffsetParent==null?void 0:i.getOffsetParent(l.floating)),P=await(i.isElement==null?void 0:i.isElement(y))?await(i.getScale==null?void 0:i.getScale(y))||{x:1,y:1}:{x:1,y:1},M=vh(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:v,offsetParent:y,strategy:c}):v);return{top:(x.top-M.top+g.top)/P.y,bottom:(M.bottom-x.bottom+g.bottom)/P.y,left:(x.left-M.left+g.left)/P.x,right:(M.right-x.right+g.right)/P.x}}const jT=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:s,placement:a,rects:i,platform:o,elements:l,middlewareData:c}=t,{element:d,padding:p=0}=$i(e,t)||{};if(d==null)return{};const u=r3(p),f={x:n,y:s},m=Ly(a),g=Dy(m),b=await o.getDimensions(d),j=m==="y",x=j?"top":"left",v=j?"bottom":"right",y=j?"clientHeight":"clientWidth",P=i.reference[g]+i.reference[m]-f[m]-i.floating[g],M=f[m]-i.reference[m],O=await(o.getOffsetParent==null?void 0:o.getOffsetParent(d));let E=O?O[y]:0;(!E||!await(o.isElement==null?void 0:o.isElement(O)))&&(E=l.floating[y]||i.floating[g]);const S=P/2-M/2,k=E/2-b[g]/2-1,D=Mo(u[x],k),C=Mo(u[v],k),w=D,T=E-b[g]-C,L=E/2-b[g]/2+S,W=V0(w,L,T),V=!c.arrow&&Nd(a)!=null&&L!==W&&i.reference[g]/2-(L<w?D:C)-b[g]/2<0,_=V?L<w?L-w:L-T:0;return{[m]:f[m]+_,data:{[m]:W,centerOffset:L-W-_,...V&&{alignmentOffset:_}},reset:V}}}),wT=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,s;const{placement:a,middlewareData:i,rects:o,initialPlacement:l,platform:c,elements:d}=t,{mainAxis:p=!0,crossAxis:u=!0,fallbackPlacements:f,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:g="none",flipAlignment:b=!0,...j}=$i(e,t);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const x=Ui(a),v=ii(l),y=Ui(l)===l,P=await(c.isRTL==null?void 0:c.isRTL(d.floating)),M=f||(y||!b?[gh(l)]:xT(l)),O=g!=="none";!f&&O&&M.push(...vT(l,b,g,P));const E=[l,...M],S=await hp(t,j),k=[];let D=((s=i.flip)==null?void 0:s.overflows)||[];if(p&&k.push(S[x]),u){const L=hT(a,o,P);k.push(S[L[0]],S[L[1]])}if(D=[...D,{placement:a,overflows:k}],!k.every(L=>L<=0)){var C,w;const L=(((C=i.flip)==null?void 0:C.index)||0)+1,W=E[L];if(W&&(!(u==="alignment"?v!==ii(W):!1)||D.every(B=>B.overflows[0]>0&&ii(B.placement)===v)))return{data:{index:L,overflows:D},reset:{placement:W}};let V=(w=D.filter(_=>_.overflows[0]<=0).sort((_,B)=>_.overflows[1]-B.overflows[1])[0])==null?void 0:w.placement;if(!V)switch(m){case"bestFit":{var T;const _=(T=D.filter(B=>{if(O){const U=ii(B.placement);return U===v||U==="y"}return!0}).map(B=>[B.placement,B.overflows.filter(U=>U>0).reduce((U,q)=>U+q,0)]).sort((B,U)=>B[1]-U[1])[0])==null?void 0:T[0];_&&(V=_);break}case"initialPlacement":V=l;break}if(a!==V)return{reset:{placement:V}}}return{}}}};function _j(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function Oj(e){return pT.some(t=>e[t]>=0)}const NT=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:s="referenceHidden",...a}=$i(e,t);switch(s){case"referenceHidden":{const i=await hp(t,{...a,elementContext:"reference"}),o=_j(i,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:Oj(o)}}}case"escaped":{const i=await hp(t,{...a,altBoundary:!0}),o=_j(i,n.floating);return{data:{escapedOffsets:o,escaped:Oj(o)}}}default:return{}}}}};async function ST(e,t){const{placement:n,platform:s,elements:a}=e,i=await(s.isRTL==null?void 0:s.isRTL(a.floating)),o=Ui(n),l=Nd(n),c=ii(n)==="y",d=["left","top"].includes(o)?-1:1,p=i&&c?-1:1,u=$i(t,e);let{mainAxis:f,crossAxis:m,alignmentAxis:g}=typeof u=="number"?{mainAxis:u,crossAxis:0,alignmentAxis:null}:{mainAxis:u.mainAxis||0,crossAxis:u.crossAxis||0,alignmentAxis:u.alignmentAxis};return l&&typeof g=="number"&&(m=l==="end"?g*-1:g),c?{x:m*p,y:f*d}:{x:f*d,y:m*p}}const CT=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,s;const{x:a,y:i,placement:o,middlewareData:l}=t,c=await ST(t,e);return o===((n=l.offset)==null?void 0:n.placement)&&(s=l.arrow)!=null&&s.alignmentOffset?{}:{x:a+c.x,y:i+c.y,data:{...c,placement:o}}}}},AT=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:s,placement:a}=t,{mainAxis:i=!0,crossAxis:o=!1,limiter:l={fn:j=>{let{x,y:v}=j;return{x,y:v}}},...c}=$i(e,t),d={x:n,y:s},p=await hp(t,c),u=ii(Ui(a)),f=ky(u);let m=d[f],g=d[u];if(i){const j=f==="y"?"top":"left",x=f==="y"?"bottom":"right",v=m+p[j],y=m-p[x];m=V0(v,m,y)}if(o){const j=u==="y"?"top":"left",x=u==="y"?"bottom":"right",v=g+p[j],y=g-p[x];g=V0(v,g,y)}const b=l.fn({...t,[f]:m,[u]:g});return{...b,data:{x:b.x-n,y:b.y-s,enabled:{[f]:i,[u]:o}}}}}},ET=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:s,placement:a,rects:i,middlewareData:o}=t,{offset:l=0,mainAxis:c=!0,crossAxis:d=!0}=$i(e,t),p={x:n,y:s},u=ii(a),f=ky(u);let m=p[f],g=p[u];const b=$i(l,t),j=typeof b=="number"?{mainAxis:b,crossAxis:0}:{mainAxis:0,crossAxis:0,...b};if(c){const y=f==="y"?"height":"width",P=i.reference[f]-i.floating[y]+j.mainAxis,M=i.reference[f]+i.reference[y]-j.mainAxis;m<P?m=P:m>M&&(m=M)}if(d){var x,v;const y=f==="y"?"width":"height",P=["top","left"].includes(Ui(a)),M=i.reference[u]-i.floating[y]+(P&&((x=o.offset)==null?void 0:x[u])||0)+(P?0:j.crossAxis),O=i.reference[u]+i.reference[y]+(P?0:((v=o.offset)==null?void 0:v[u])||0)-(P?j.crossAxis:0);g<M?g=M:g>O&&(g=O)}return{[f]:m,[u]:g}}}},IT=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,s;const{placement:a,rects:i,platform:o,elements:l}=t,{apply:c=()=>{},...d}=$i(e,t),p=await hp(t,d),u=Ui(a),f=Nd(a),m=ii(a)==="y",{width:g,height:b}=i.floating;let j,x;u==="top"||u==="bottom"?(j=u,x=f===(await(o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(x=u,j=f==="end"?"top":"bottom");const v=b-p.top-p.bottom,y=g-p.left-p.right,P=Mo(b-p[j],v),M=Mo(g-p[x],y),O=!t.middlewareData.shift;let E=P,S=M;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(S=y),(s=t.middlewareData.shift)!=null&&s.enabled.y&&(E=v),O&&!f){const D=Es(p.left,0),C=Es(p.right,0),w=Es(p.top,0),T=Es(p.bottom,0);m?S=g-2*(D!==0||C!==0?D+C:Es(p.left,p.right)):E=b-2*(w!==0||T!==0?w+T:Es(p.top,p.bottom))}await c({...t,availableWidth:S,availableHeight:E});const k=await o.getDimensions(l.floating);return g!==k.width||b!==k.height?{reset:{rects:!0}}:{}}}};function nx(){return typeof window<"u"}function Sd(e){return n3(e)?(e.nodeName||"").toLowerCase():"#document"}function Ts(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function fi(e){var t;return(t=(n3(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function n3(e){return nx()?e instanceof Node||e instanceof Ts(e).Node:!1}function Fa(e){return nx()?e instanceof Element||e instanceof Ts(e).Element:!1}function mi(e){return nx()?e instanceof HTMLElement||e instanceof Ts(e).HTMLElement:!1}function Mj(e){return!nx()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Ts(e).ShadowRoot}function Tp(e){const{overflow:t,overflowX:n,overflowY:s,display:a}=_a(e);return/auto|scroll|overlay|hidden|clip/.test(t+s+n)&&!["inline","contents"].includes(a)}function PT(e){return["table","td","th"].includes(Sd(e))}function sx(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function Ty(e){const t=Ry(),n=Fa(e)?_a(e):e;return["transform","translate","scale","rotate","perspective"].some(s=>n[s]?n[s]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(s=>(n.willChange||"").includes(s))||["paint","layout","strict","content"].some(s=>(n.contain||"").includes(s))}function kT(e){let t=Bo(e);for(;mi(t)&&!dd(t);){if(Ty(t))return t;if(sx(t))return null;t=Bo(t)}return null}function Ry(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function dd(e){return["html","body","#document"].includes(Sd(e))}function _a(e){return Ts(e).getComputedStyle(e)}function ax(e){return Fa(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Bo(e){if(Sd(e)==="html")return e;const t=e.assignedSlot||e.parentNode||Mj(e)&&e.host||fi(e);return Mj(t)?t.host:t}function s3(e){const t=Bo(e);return dd(t)?e.ownerDocument?e.ownerDocument.body:e.body:mi(t)&&Tp(t)?t:s3(t)}function xp(e,t,n){var s;t===void 0&&(t=[]),n===void 0&&(n=!0);const a=s3(e),i=a===((s=e.ownerDocument)==null?void 0:s.body),o=Ts(a);if(i){const l=q0(o);return t.concat(o,o.visualViewport||[],Tp(a)?a:[],l&&n?xp(l):[])}return t.concat(a,xp(a,[],n))}function q0(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function a3(e){const t=_a(e);let n=parseFloat(t.width)||0,s=parseFloat(t.height)||0;const a=mi(e),i=a?e.offsetWidth:n,o=a?e.offsetHeight:s,l=xh(n)!==i||xh(s)!==o;return l&&(n=i,s=o),{width:n,height:s,$:l}}function Fy(e){return Fa(e)?e:e.contextElement}function ed(e){const t=Fy(e);if(!mi(t))return di(1);const n=t.getBoundingClientRect(),{width:s,height:a,$:i}=a3(t);let o=(i?xh(n.width):n.width)/s,l=(i?xh(n.height):n.height)/a;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const DT=di(0);function i3(e){const t=Ts(e);return!Ry()||!t.visualViewport?DT:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function LT(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==Ts(e)?!1:t}function Ml(e,t,n,s){t===void 0&&(t=!1),n===void 0&&(n=!1);const a=e.getBoundingClientRect(),i=Fy(e);let o=di(1);t&&(s?Fa(s)&&(o=ed(s)):o=ed(e));const l=LT(i,n,s)?i3(i):di(0);let c=(a.left+l.x)/o.x,d=(a.top+l.y)/o.y,p=a.width/o.x,u=a.height/o.y;if(i){const f=Ts(i),m=s&&Fa(s)?Ts(s):s;let g=f,b=q0(g);for(;b&&s&&m!==g;){const j=ed(b),x=b.getBoundingClientRect(),v=_a(b),y=x.left+(b.clientLeft+parseFloat(v.paddingLeft))*j.x,P=x.top+(b.clientTop+parseFloat(v.paddingTop))*j.y;c*=j.x,d*=j.y,p*=j.x,u*=j.y,c+=y,d+=P,g=Ts(b),b=q0(g)}}return vh({width:p,height:u,x:c,y:d})}function _y(e,t){const n=ax(e).scrollLeft;return t?t.left+n:Ml(fi(e)).left+n}function o3(e,t,n){n===void 0&&(n=!1);const s=e.getBoundingClientRect(),a=s.left+t.scrollLeft-(n?0:_y(e,s)),i=s.top+t.scrollTop;return{x:a,y:i}}function TT(e){let{elements:t,rect:n,offsetParent:s,strategy:a}=e;const i=a==="fixed",o=fi(s),l=t?sx(t.floating):!1;if(s===o||l&&i)return n;let c={scrollLeft:0,scrollTop:0},d=di(1);const p=di(0),u=mi(s);if((u||!u&&!i)&&((Sd(s)!=="body"||Tp(o))&&(c=ax(s)),mi(s))){const m=Ml(s);d=ed(s),p.x=m.x+s.clientLeft,p.y=m.y+s.clientTop}const f=o&&!u&&!i?o3(o,c,!0):di(0);return{width:n.width*d.x,height:n.height*d.y,x:n.x*d.x-c.scrollLeft*d.x+p.x+f.x,y:n.y*d.y-c.scrollTop*d.y+p.y+f.y}}function RT(e){return Array.from(e.getClientRects())}function FT(e){const t=fi(e),n=ax(e),s=e.ownerDocument.body,a=Es(t.scrollWidth,t.clientWidth,s.scrollWidth,s.clientWidth),i=Es(t.scrollHeight,t.clientHeight,s.scrollHeight,s.clientHeight);let o=-n.scrollLeft+_y(e);const l=-n.scrollTop;return _a(s).direction==="rtl"&&(o+=Es(t.clientWidth,s.clientWidth)-a),{width:a,height:i,x:o,y:l}}function _T(e,t){const n=Ts(e),s=fi(e),a=n.visualViewport;let i=s.clientWidth,o=s.clientHeight,l=0,c=0;if(a){i=a.width,o=a.height;const d=Ry();(!d||d&&t==="fixed")&&(l=a.offsetLeft,c=a.offsetTop)}return{width:i,height:o,x:l,y:c}}function OT(e,t){const n=Ml(e,!0,t==="fixed"),s=n.top+e.clientTop,a=n.left+e.clientLeft,i=mi(e)?ed(e):di(1),o=e.clientWidth*i.x,l=e.clientHeight*i.y,c=a*i.x,d=s*i.y;return{width:o,height:l,x:c,y:d}}function Bj(e,t,n){let s;if(t==="viewport")s=_T(e,n);else if(t==="document")s=FT(fi(e));else if(Fa(t))s=OT(t,n);else{const a=i3(e);s={x:t.x-a.x,y:t.y-a.y,width:t.width,height:t.height}}return vh(s)}function l3(e,t){const n=Bo(e);return n===t||!Fa(n)||dd(n)?!1:_a(n).position==="fixed"||l3(n,t)}function MT(e,t){const n=t.get(e);if(n)return n;let s=xp(e,[],!1).filter(l=>Fa(l)&&Sd(l)!=="body"),a=null;const i=_a(e).position==="fixed";let o=i?Bo(e):e;for(;Fa(o)&&!dd(o);){const l=_a(o),c=Ty(o);!c&&l.position==="fixed"&&(a=null),(i?!c&&!a:!c&&l.position==="static"&&!!a&&["absolute","fixed"].includes(a.position)||Tp(o)&&!c&&l3(e,o))?s=s.filter(p=>p!==o):a=l,o=Bo(o)}return t.set(e,s),s}function BT(e){let{element:t,boundary:n,rootBoundary:s,strategy:a}=e;const o=[...n==="clippingAncestors"?sx(t)?[]:MT(t,this._c):[].concat(n),s],l=o[0],c=o.reduce((d,p)=>{const u=Bj(t,p,a);return d.top=Es(u.top,d.top),d.right=Mo(u.right,d.right),d.bottom=Mo(u.bottom,d.bottom),d.left=Es(u.left,d.left),d},Bj(t,l,a));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function zT(e){const{width:t,height:n}=a3(e);return{width:t,height:n}}function $T(e,t,n){const s=mi(t),a=fi(t),i=n==="fixed",o=Ml(e,!0,i,t);let l={scrollLeft:0,scrollTop:0};const c=di(0);function d(){c.x=_y(a)}if(s||!s&&!i)if((Sd(t)!=="body"||Tp(a))&&(l=ax(t)),s){const m=Ml(t,!0,i,t);c.x=m.x+t.clientLeft,c.y=m.y+t.clientTop}else a&&d();i&&!s&&a&&d();const p=a&&!s&&!i?o3(a,l):di(0),u=o.left+l.scrollLeft-c.x-p.x,f=o.top+l.scrollTop-c.y-p.y;return{x:u,y:f,width:o.width,height:o.height}}function nv(e){return _a(e).position==="static"}function zj(e,t){if(!mi(e)||_a(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return fi(e)===n&&(n=n.ownerDocument.body),n}function c3(e,t){const n=Ts(e);if(sx(e))return n;if(!mi(e)){let a=Bo(e);for(;a&&!dd(a);){if(Fa(a)&&!nv(a))return a;a=Bo(a)}return n}let s=zj(e,t);for(;s&&PT(s)&&nv(s);)s=zj(s,t);return s&&dd(s)&&nv(s)&&!Ty(s)?n:s||kT(e)||n}const UT=async function(e){const t=this.getOffsetParent||c3,n=this.getDimensions,s=await n(e.floating);return{reference:$T(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:s.width,height:s.height}}};function VT(e){return _a(e).direction==="rtl"}const WT={convertOffsetParentRelativeRectToViewportRelativeRect:TT,getDocumentElement:fi,getClippingRect:BT,getOffsetParent:c3,getElementRects:UT,getClientRects:RT,getDimensions:zT,getScale:ed,isElement:Fa,isRTL:VT};function d3(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function qT(e,t){let n=null,s;const a=fi(e);function i(){var l;clearTimeout(s),(l=n)==null||l.disconnect(),n=null}function o(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),i();const d=e.getBoundingClientRect(),{left:p,top:u,width:f,height:m}=d;if(l||t(),!f||!m)return;const g=sf(u),b=sf(a.clientWidth-(p+f)),j=sf(a.clientHeight-(u+m)),x=sf(p),y={rootMargin:-g+"px "+-b+"px "+-j+"px "+-x+"px",threshold:Es(0,Mo(1,c))||1};let P=!0;function M(O){const E=O[0].intersectionRatio;if(E!==c){if(!P)return o();E?o(!1,E):s=setTimeout(()=>{o(!1,1e-7)},1e3)}E===1&&!d3(d,e.getBoundingClientRect())&&o(),P=!1}try{n=new IntersectionObserver(M,{...y,root:a.ownerDocument})}catch{n=new IntersectionObserver(M,y)}n.observe(e)}return o(!0),i}function HT(e,t,n,s){s===void 0&&(s={});const{ancestorScroll:a=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=s,d=Fy(e),p=a||i?[...d?xp(d):[],...xp(t)]:[];p.forEach(x=>{a&&x.addEventListener("scroll",n,{passive:!0}),i&&x.addEventListener("resize",n)});const u=d&&l?qT(d,n):null;let f=-1,m=null;o&&(m=new ResizeObserver(x=>{let[v]=x;v&&v.target===d&&m&&(m.unobserve(t),cancelAnimationFrame(f),f=requestAnimationFrame(()=>{var y;(y=m)==null||y.observe(t)})),n()}),d&&!c&&m.observe(d),m.observe(t));let g,b=c?Ml(e):null;c&&j();function j(){const x=Ml(e);b&&!d3(b,x)&&n(),b=x,g=requestAnimationFrame(j)}return n(),()=>{var x;p.forEach(v=>{a&&v.removeEventListener("scroll",n),i&&v.removeEventListener("resize",n)}),u==null||u(),(x=m)==null||x.disconnect(),m=null,c&&cancelAnimationFrame(g)}}const GT=CT,QT=AT,YT=wT,KT=IT,XT=NT,$j=jT,JT=ET,ZT=(e,t,n)=>{const s=new Map,a={platform:WT,...n},i={...a.platform,_c:s};return bT(e,t,{...a,platform:i})};var e7=typeof document<"u",t7=function(){},Of=e7?A.useLayoutEffect:t7;function yh(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,s,a;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(s=n;s--!==0;)if(!yh(e[s],t[s]))return!1;return!0}if(a=Object.keys(e),n=a.length,n!==Object.keys(t).length)return!1;for(s=n;s--!==0;)if(!{}.hasOwnProperty.call(t,a[s]))return!1;for(s=n;s--!==0;){const i=a[s];if(!(i==="_owner"&&e.$$typeof)&&!yh(e[i],t[i]))return!1}return!0}return e!==e&&t!==t}function u3(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function Uj(e,t){const n=u3(e);return Math.round(t*n)/n}function sv(e){const t=A.useRef(e);return Of(()=>{t.current=e}),t}function r7(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:s=[],platform:a,elements:{reference:i,floating:o}={},transform:l=!0,whileElementsMounted:c,open:d}=e,[p,u]=A.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[f,m]=A.useState(s);yh(f,s)||m(s);const[g,b]=A.useState(null),[j,x]=A.useState(null),v=A.useCallback(B=>{B!==O.current&&(O.current=B,b(B))},[]),y=A.useCallback(B=>{B!==E.current&&(E.current=B,x(B))},[]),P=i||g,M=o||j,O=A.useRef(null),E=A.useRef(null),S=A.useRef(p),k=c!=null,D=sv(c),C=sv(a),w=sv(d),T=A.useCallback(()=>{if(!O.current||!E.current)return;const B={placement:t,strategy:n,middleware:f};C.current&&(B.platform=C.current),ZT(O.current,E.current,B).then(U=>{const q={...U,isPositioned:w.current!==!1};L.current&&!yh(S.current,q)&&(S.current=q,Wi.flushSync(()=>{u(q)}))})},[f,t,n,C,w]);Of(()=>{d===!1&&S.current.isPositioned&&(S.current.isPositioned=!1,u(B=>({...B,isPositioned:!1})))},[d]);const L=A.useRef(!1);Of(()=>(L.current=!0,()=>{L.current=!1}),[]),Of(()=>{if(P&&(O.current=P),M&&(E.current=M),P&&M){if(D.current)return D.current(P,M,T);T()}},[P,M,T,D,k]);const W=A.useMemo(()=>({reference:O,floating:E,setReference:v,setFloating:y}),[v,y]),V=A.useMemo(()=>({reference:P,floating:M}),[P,M]),_=A.useMemo(()=>{const B={position:n,left:0,top:0};if(!V.floating)return B;const U=Uj(V.floating,p.x),q=Uj(V.floating,p.y);return l?{...B,transform:"translate("+U+"px, "+q+"px)",...u3(V.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:U,top:q}},[n,l,V.floating,p.x,p.y]);return A.useMemo(()=>({...p,update:T,refs:W,elements:V,floatingStyles:_}),[p,T,W,V,_])}const n7=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:s,padding:a}=typeof e=="function"?e(n):e;return s&&t(s)?s.current!=null?$j({element:s.current,padding:a}).fn(n):{}:s?$j({element:s,padding:a}).fn(n):{}}}},s7=(e,t)=>({...GT(e),options:[e,t]}),a7=(e,t)=>({...QT(e),options:[e,t]}),i7=(e,t)=>({...JT(e),options:[e,t]}),o7=(e,t)=>({...YT(e),options:[e,t]}),l7=(e,t)=>({...KT(e),options:[e,t]}),c7=(e,t)=>({...XT(e),options:[e,t]}),d7=(e,t)=>({...n7(e),options:[e,t]});function u7(e){const[t,n]=A.useState(void 0);return ca(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const s=new ResizeObserver(a=>{if(!Array.isArray(a)||!a.length)return;const i=a[0];let o,l;if("borderBoxSize"in i){const c=i.borderBoxSize,d=Array.isArray(c)?c[0]:c;o=d.inlineSize,l=d.blockSize}else o=e.offsetWidth,l=e.offsetHeight;n({width:o,height:l})});return s.observe(e,{box:"border-box"}),()=>s.unobserve(e)}else n(void 0)},[e]),t}const p3="Popper",[m3,f3]=Py(p3),[p7,h3]=m3(p3),m7=e=>{const{__scopePopper:t,children:n}=e,[s,a]=A.useState(null);return A.createElement(p7,{scope:t,anchor:s,onAnchorChange:a},n)},f7="PopperAnchor",h7=A.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:s,...a}=e,i=h3(f7,n),o=A.useRef(null),l=Qn(t,o);return A.useEffect(()=>{i.onAnchorChange((s==null?void 0:s.current)||o.current)}),s?null:A.createElement(Tn.div,Ze({},a,{ref:l}))}),x3="PopperContent",[x7,MU]=m3(x3),g7=A.forwardRef((e,t)=>{var n,s,a,i,o,l,c,d;const{__scopePopper:p,side:u="bottom",sideOffset:f=0,align:m="center",alignOffset:g=0,arrowPadding:b=0,collisionBoundary:j=[],collisionPadding:x=0,sticky:v="partial",hideWhenDetached:y=!1,avoidCollisions:P=!0,onPlaced:M,...O}=e,E=h3(x3,p),[S,k]=A.useState(null),D=Qn(t,pe=>k(pe)),[C,w]=A.useState(null),T=u7(C),L=(n=T==null?void 0:T.width)!==null&&n!==void 0?n:0,W=(s=T==null?void 0:T.height)!==null&&s!==void 0?s:0,V=u+(m!=="center"?"-"+m:""),_=typeof x=="number"?x:{top:0,right:0,bottom:0,left:0,...x},B=Array.isArray(j)?j:[j],U=B.length>0,q={padding:_,boundary:B.filter(v7),altBoundary:U},{refs:H,floatingStyles:R,placement:$,isPositioned:G,middlewareData:Z}=r7({strategy:"fixed",placement:V,whileElementsMounted:HT,elements:{reference:E.anchor},middleware:[s7({mainAxis:f+W,alignmentAxis:g}),P&&a7({mainAxis:!0,crossAxis:!1,limiter:v==="partial"?i7():void 0,...q}),P&&o7({...q}),l7({...q,apply:({elements:pe,rects:se,availableWidth:ee,availableHeight:Ue})=>{const{width:Fe,height:ke}=se.reference,Ve=pe.floating.style;Ve.setProperty("--radix-popper-available-width",`${ee}px`),Ve.setProperty("--radix-popper-available-height",`${Ue}px`),Ve.setProperty("--radix-popper-anchor-width",`${Fe}px`),Ve.setProperty("--radix-popper-anchor-height",`${ke}px`)}}),C&&d7({element:C,padding:b}),y7({arrowWidth:L,arrowHeight:W}),y&&c7({strategy:"referenceHidden"})]}),[te,le]=g3($),ce=zi(M);ca(()=>{G&&(ce==null||ce())},[G,ce]);const de=(a=Z.arrow)===null||a===void 0?void 0:a.x,Ne=(i=Z.arrow)===null||i===void 0?void 0:i.y,ve=((o=Z.arrow)===null||o===void 0?void 0:o.centerOffset)!==0,[Ee,Te]=A.useState();return ca(()=>{S&&Te(window.getComputedStyle(S).zIndex)},[S]),A.createElement("div",{ref:H.setFloating,"data-radix-popper-content-wrapper":"",style:{...R,transform:G?R.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Ee,"--radix-popper-transform-origin":[(l=Z.transformOrigin)===null||l===void 0?void 0:l.x,(c=Z.transformOrigin)===null||c===void 0?void 0:c.y].join(" ")},dir:e.dir},A.createElement(x7,{scope:p,placedSide:te,onArrowChange:w,arrowX:de,arrowY:Ne,shouldHideArrow:ve},A.createElement(Tn.div,Ze({"data-side":te,"data-align":le},O,{ref:D,style:{...O.style,animation:G?void 0:"none",opacity:(d=Z.hide)!==null&&d!==void 0&&d.referenceHidden?0:void 0}}))))});function v7(e){return e!==null}const y7=e=>({name:"transformOrigin",options:e,fn(t){var n,s,a,i,o;const{placement:l,rects:c,middlewareData:d}=t,u=((n=d.arrow)===null||n===void 0?void 0:n.centerOffset)!==0,f=u?0:e.arrowWidth,m=u?0:e.arrowHeight,[g,b]=g3(l),j={start:"0%",center:"50%",end:"100%"}[b],x=((s=(a=d.arrow)===null||a===void 0?void 0:a.x)!==null&&s!==void 0?s:0)+f/2,v=((i=(o=d.arrow)===null||o===void 0?void 0:o.y)!==null&&i!==void 0?i:0)+m/2;let y="",P="";return g==="bottom"?(y=u?j:`${x}px`,P=`${-m}px`):g==="top"?(y=u?j:`${x}px`,P=`${c.floating.height+m}px`):g==="right"?(y=`${-m}px`,P=u?j:`${v}px`):g==="left"&&(y=`${c.floating.width+m}px`,P=u?j:`${v}px`),{data:{x:y,y:P}}}});function g3(e){const[t,n="center"]=e.split("-");return[t,n]}const b7=m7,j7=h7,w7=g7,N7=A.forwardRef((e,t)=>{var n;const{container:s=globalThis==null||(n=globalThis.document)===null||n===void 0?void 0:n.body,...a}=e;return s?my.createPortal(A.createElement(Tn.div,Ze({},a,{ref:t})),s):null});function Vj({prop:e,defaultProp:t,onChange:n=()=>{}}){const[s,a]=S7({defaultProp:t,onChange:n}),i=e!==void 0,o=i?e:s,l=zi(n),c=A.useCallback(d=>{if(i){const u=typeof d=="function"?d(e):d;u!==e&&l(u)}else a(d)},[i,e,a,l]);return[o,c]}function S7({defaultProp:e,onChange:t}){const n=A.useState(e),[s]=n,a=A.useRef(s),i=zi(t);return A.useEffect(()=>{a.current!==s&&(i(s),a.current=s)},[s,a,i]),n}function C7(e){const t=A.useRef({value:e,previous:e});return A.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}const A7=A.forwardRef((e,t)=>A.createElement(Tn.span,Ze({},e,{ref:t,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...e.style}})));var E7=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Sc=new WeakMap,af=new WeakMap,of={},av=0,v3=function(e){return e&&(e.host||v3(e.parentNode))},I7=function(e,t){return t.map(function(n){if(e.contains(n))return n;var s=v3(n);return s&&e.contains(s)?s:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},P7=function(e,t,n,s){var a=I7(t,Array.isArray(e)?e:[e]);of[n]||(of[n]=new WeakMap);var i=of[n],o=[],l=new Set,c=new Set(a),d=function(u){!u||l.has(u)||(l.add(u),d(u.parentNode))};a.forEach(d);var p=function(u){!u||c.has(u)||Array.prototype.forEach.call(u.children,function(f){if(l.has(f))p(f);else try{var m=f.getAttribute(s),g=m!==null&&m!=="false",b=(Sc.get(f)||0)+1,j=(i.get(f)||0)+1;Sc.set(f,b),i.set(f,j),o.push(f),b===1&&g&&af.set(f,!0),j===1&&f.setAttribute(n,"true"),g||f.setAttribute(s,"true")}catch(x){console.error("aria-hidden: cannot operate on ",f,x)}})};return p(t),l.clear(),av++,function(){o.forEach(function(u){var f=Sc.get(u)-1,m=i.get(u)-1;Sc.set(u,f),i.set(u,m),f||(af.has(u)||u.removeAttribute(s),af.delete(u)),m||u.removeAttribute(n)}),av--,av||(Sc=new WeakMap,Sc=new WeakMap,af=new WeakMap,of={})}},k7=function(e,t,n){n===void 0&&(n="data-aria-hidden");var s=Array.from(Array.isArray(e)?e:[e]),a=t||E7(e);return a?(s.push.apply(s,Array.from(a.querySelectorAll("[aria-live], script"))),P7(s,a,n,"aria-hidden")):function(){return null}},ni=function(){return ni=Object.assign||function(t){for(var n,s=1,a=arguments.length;s<a;s++){n=arguments[s];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},ni.apply(this,arguments)};function y3(e,t){var n={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(n[s]=e[s]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,s=Object.getOwnPropertySymbols(e);a<s.length;a++)t.indexOf(s[a])<0&&Object.prototype.propertyIsEnumerable.call(e,s[a])&&(n[s[a]]=e[s[a]]);return n}function Vl(e,t,n,s){function a(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(p){try{d(s.next(p))}catch(u){o(u)}}function c(p){try{d(s.throw(p))}catch(u){o(u)}}function d(p){p.done?i(p.value):a(p.value).then(l,c)}d((s=s.apply(e,t||[])).next())})}function D7(e,t,n){if(n||arguments.length===2)for(var s=0,a=t.length,i;s<a;s++)(i||!(s in t))&&(i||(i=Array.prototype.slice.call(t,0,s)),i[s]=t[s]);return e.concat(i||Array.prototype.slice.call(t))}var Mf="right-scroll-bar-position",Bf="width-before-scroll-bar",L7="with-scroll-bars-hidden",T7="--removed-body-scroll-bar-size";function iv(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function R7(e,t){var n=A.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(s){var a=n.value;a!==s&&(n.value=s,n.callback(s,a))}}}})[0];return n.callback=t,n.facade}var F7=typeof window<"u"?A.useLayoutEffect:A.useEffect,Wj=new WeakMap;function _7(e,t){var n=R7(t||null,function(s){return e.forEach(function(a){return iv(a,s)})});return F7(function(){var s=Wj.get(n);if(s){var a=new Set(s),i=new Set(e),o=n.current;a.forEach(function(l){i.has(l)||iv(l,null)}),i.forEach(function(l){a.has(l)||iv(l,o)})}Wj.set(n,e)},[e]),n}function O7(e){return e}function M7(e,t){t===void 0&&(t=O7);var n=[],s=!1,a={read:function(){if(s)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(i){var o=t(i,s);return n.push(o),function(){n=n.filter(function(l){return l!==o})}},assignSyncMedium:function(i){for(s=!0;n.length;){var o=n;n=[],o.forEach(i)}n={push:function(l){return i(l)},filter:function(){return n}}},assignMedium:function(i){s=!0;var o=[];if(n.length){var l=n;n=[],l.forEach(i),o=n}var c=function(){var p=o;o=[],p.forEach(i)},d=function(){return Promise.resolve().then(c)};d(),n={push:function(p){o.push(p),d()},filter:function(p){return o=o.filter(p),n}}}};return a}function B7(e){e===void 0&&(e={});var t=M7(null);return t.options=ni({async:!0,ssr:!1},e),t}var b3=function(e){var t=e.sideCar,n=y3(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var s=t.read();if(!s)throw new Error("Sidecar medium not found");return A.createElement(s,ni({},n))};b3.isSideCarExport=!0;function z7(e,t){return e.useMedium(t),b3}var j3=B7(),ov=function(){},ix=A.forwardRef(function(e,t){var n=A.useRef(null),s=A.useState({onScrollCapture:ov,onWheelCapture:ov,onTouchMoveCapture:ov}),a=s[0],i=s[1],o=e.forwardProps,l=e.children,c=e.className,d=e.removeScrollBar,p=e.enabled,u=e.shards,f=e.sideCar,m=e.noIsolation,g=e.inert,b=e.allowPinchZoom,j=e.as,x=j===void 0?"div":j,v=y3(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as"]),y=f,P=_7([n,t]),M=ni(ni({},v),a);return A.createElement(A.Fragment,null,p&&A.createElement(y,{sideCar:j3,removeScrollBar:d,shards:u,noIsolation:m,inert:g,setCallbacks:i,allowPinchZoom:!!b,lockRef:n}),o?A.cloneElement(A.Children.only(l),ni(ni({},M),{ref:P})):A.createElement(x,ni({},M,{className:c,ref:P}),l))});ix.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};ix.classNames={fullWidth:Bf,zeroRight:Mf};var qj,$7=function(){if(qj)return qj;if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function U7(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=$7();return t&&e.setAttribute("nonce",t),e}function V7(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function W7(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var q7=function(){var e=0,t=null;return{add:function(n){e==0&&(t=U7())&&(V7(t,n),W7(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},H7=function(){var e=q7();return function(t,n){A.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},w3=function(){var e=H7(),t=function(n){var s=n.styles,a=n.dynamic;return e(s,a),null};return t},G7={left:0,top:0,right:0,gap:0},lv=function(e){return parseInt(e||"",10)||0},Q7=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],s=t[e==="padding"?"paddingTop":"marginTop"],a=t[e==="padding"?"paddingRight":"marginRight"];return[lv(n),lv(s),lv(a)]},Y7=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return G7;var t=Q7(e),n=document.documentElement.clientWidth,s=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,s-n+t[2]-t[0])}},K7=w3(),td="data-scroll-locked",X7=function(e,t,n,s){var a=e.left,i=e.top,o=e.right,l=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(L7,` {
   overflow: hidden `).concat(s,`;
   padding-right: `).concat(l,"px ").concat(s,`;
  }
  body[`).concat(td,`] {
    overflow: hidden `).concat(s,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(s,";"),n==="margin"&&`
    padding-left: `.concat(a,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(s,`;
    `),n==="padding"&&"padding-right: ".concat(l,"px ").concat(s,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Mf,` {
    right: `).concat(l,"px ").concat(s,`;
  }
  
  .`).concat(Bf,` {
    margin-right: `).concat(l,"px ").concat(s,`;
  }
  
  .`).concat(Mf," .").concat(Mf,` {
    right: 0 `).concat(s,`;
  }
  
  .`).concat(Bf," .").concat(Bf,` {
    margin-right: 0 `).concat(s,`;
  }
  
  body[`).concat(td,`] {
    `).concat(T7,": ").concat(l,`px;
  }
`)},Hj=function(){var e=parseInt(document.body.getAttribute(td)||"0",10);return isFinite(e)?e:0},J7=function(){A.useEffect(function(){return document.body.setAttribute(td,(Hj()+1).toString()),function(){var e=Hj()-1;e<=0?document.body.removeAttribute(td):document.body.setAttribute(td,e.toString())}},[])},Z7=function(e){var t=e.noRelative,n=e.noImportant,s=e.gapMode,a=s===void 0?"margin":s;J7();var i=A.useMemo(function(){return Y7(a)},[a]);return A.createElement(K7,{styles:X7(i,!t,a,n?"":"!important")})},H0=!1;if(typeof window<"u")try{var lf=Object.defineProperty({},"passive",{get:function(){return H0=!0,!0}});window.addEventListener("test",lf,lf),window.removeEventListener("test",lf,lf)}catch{H0=!1}var Cc=H0?{passive:!1}:!1,eR=function(e){return e.tagName==="TEXTAREA"},N3=function(e,t){var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!eR(e)&&n[t]==="visible")},tR=function(e){return N3(e,"overflowY")},rR=function(e){return N3(e,"overflowX")},Gj=function(e,t){var n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var s=S3(e,n);if(s){var a=C3(e,n),i=a[1],o=a[2];if(i>o)return!0}n=n.parentNode}while(n&&n!==document.body);return!1},nR=function(e){var t=e.scrollTop,n=e.scrollHeight,s=e.clientHeight;return[t,n,s]},sR=function(e){var t=e.scrollLeft,n=e.scrollWidth,s=e.clientWidth;return[t,n,s]},S3=function(e,t){return e==="v"?tR(t):rR(t)},C3=function(e,t){return e==="v"?nR(t):sR(t)},aR=function(e,t){return e==="h"&&t==="rtl"?-1:1},iR=function(e,t,n,s,a){var i=aR(e,window.getComputedStyle(t).direction),o=i*s,l=n.target,c=t.contains(l),d=!1,p=o>0,u=0,f=0;do{var m=C3(e,l),g=m[0],b=m[1],j=m[2],x=b-j-i*g;(g||x)&&S3(e,l)&&(u+=x,f+=g),l=l.parentNode}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(p&&(a&&u===0||!a&&o>u)||!p&&(a&&f===0||!a&&-o>f))&&(d=!0),d},cf=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},Qj=function(e){return[e.deltaX,e.deltaY]},Yj=function(e){return e&&"current"in e?e.current:e},oR=function(e,t){return e[0]===t[0]&&e[1]===t[1]},lR=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},cR=0,Ac=[];function dR(e){var t=A.useRef([]),n=A.useRef([0,0]),s=A.useRef(),a=A.useState(cR++)[0],i=A.useState(function(){return w3()})[0],o=A.useRef(e);A.useEffect(function(){o.current=e},[e]),A.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(a));var b=D7([e.lockRef.current],(e.shards||[]).map(Yj),!0).filter(Boolean);return b.forEach(function(j){return j.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),b.forEach(function(j){return j.classList.remove("allow-interactivity-".concat(a))})}}},[e.inert,e.lockRef.current,e.shards]);var l=A.useCallback(function(b,j){if("touches"in b&&b.touches.length===2)return!o.current.allowPinchZoom;var x=cf(b),v=n.current,y="deltaX"in b?b.deltaX:v[0]-x[0],P="deltaY"in b?b.deltaY:v[1]-x[1],M,O=b.target,E=Math.abs(y)>Math.abs(P)?"h":"v";if("touches"in b&&E==="h"&&O.type==="range")return!1;var S=Gj(E,O);if(!S)return!0;if(S?M=E:(M=E==="v"?"h":"v",S=Gj(E,O)),!S)return!1;if(!s.current&&"changedTouches"in b&&(y||P)&&(s.current=M),!M)return!0;var k=s.current||M;return iR(k,j,b,k==="h"?y:P,!0)},[]),c=A.useCallback(function(b){var j=b;if(!(!Ac.length||Ac[Ac.length-1]!==i)){var x="deltaY"in j?Qj(j):cf(j),v=t.current.filter(function(M){return M.name===j.type&&M.target===j.target&&oR(M.delta,x)})[0];if(v&&v.should){j.cancelable&&j.preventDefault();return}if(!v){var y=(o.current.shards||[]).map(Yj).filter(Boolean).filter(function(M){return M.contains(j.target)}),P=y.length>0?l(j,y[0]):!o.current.noIsolation;P&&j.cancelable&&j.preventDefault()}}},[]),d=A.useCallback(function(b,j,x,v){var y={name:b,delta:j,target:x,should:v};t.current.push(y),setTimeout(function(){t.current=t.current.filter(function(P){return P!==y})},1)},[]),p=A.useCallback(function(b){n.current=cf(b),s.current=void 0},[]),u=A.useCallback(function(b){d(b.type,Qj(b),b.target,l(b,e.lockRef.current))},[]),f=A.useCallback(function(b){d(b.type,cf(b),b.target,l(b,e.lockRef.current))},[]);A.useEffect(function(){return Ac.push(i),e.setCallbacks({onScrollCapture:u,onWheelCapture:u,onTouchMoveCapture:f}),document.addEventListener("wheel",c,Cc),document.addEventListener("touchmove",c,Cc),document.addEventListener("touchstart",p,Cc),function(){Ac=Ac.filter(function(b){return b!==i}),document.removeEventListener("wheel",c,Cc),document.removeEventListener("touchmove",c,Cc),document.removeEventListener("touchstart",p,Cc)}},[]);var m=e.removeScrollBar,g=e.inert;return A.createElement(A.Fragment,null,g?A.createElement(i,{styles:lR(a)}):null,m?A.createElement(Z7,{gapMode:"margin"}):null)}const uR=z7(j3,dR);var A3=A.forwardRef(function(e,t){return A.createElement(ix,ni({},e,{ref:t,sideCar:uR}))});A3.classNames=ix.classNames;const pR=A3,mR=[" ","Enter","ArrowUp","ArrowDown"],fR=[" ","Enter"],ox="Select",[lx,cx,hR]=WL(ox),[Cd,BU]=Py(ox,[hR,f3]),Oy=f3(),[xR,Wl]=Cd(ox),[gR,vR]=Cd(ox),yR=e=>{const{__scopeSelect:t,children:n,open:s,defaultOpen:a,onOpenChange:i,value:o,defaultValue:l,onValueChange:c,dir:d,name:p,autoComplete:u,disabled:f,required:m}=e,g=Oy(t),[b,j]=A.useState(null),[x,v]=A.useState(null),[y,P]=A.useState(!1),M=HL(d),[O=!1,E]=Vj({prop:s,defaultProp:a,onChange:i}),[S,k]=Vj({prop:o,defaultProp:l,onChange:c}),D=A.useRef(null),C=b?!!b.closest("form"):!0,[w,T]=A.useState(new Set),L=Array.from(w).map(W=>W.props.value).join(";");return A.createElement(b7,g,A.createElement(xR,{required:m,scope:t,trigger:b,onTriggerChange:j,valueNode:x,onValueNodeChange:v,valueNodeHasChildren:y,onValueNodeHasChildrenChange:P,contentId:t3(),value:S,onValueChange:k,open:O,onOpenChange:E,dir:M,triggerPointerDownPosRef:D,disabled:f},A.createElement(lx.Provider,{scope:t},A.createElement(gR,{scope:e.__scopeSelect,onNativeOptionAdd:A.useCallback(W=>{T(V=>new Set(V).add(W))},[]),onNativeOptionRemove:A.useCallback(W=>{T(V=>{const _=new Set(V);return _.delete(W),_})},[])},n)),C?A.createElement(k3,{key:L,"aria-hidden":!0,required:m,tabIndex:-1,name:p,autoComplete:u,value:S,onChange:W=>k(W.target.value),disabled:f},S===void 0?A.createElement("option",{value:""}):null,Array.from(w)):null))},bR="SelectTrigger",jR=A.forwardRef((e,t)=>{const{__scopeSelect:n,disabled:s=!1,...a}=e,i=Oy(n),o=Wl(bR,n),l=o.disabled||s,c=Qn(t,o.onTriggerChange),d=cx(n),[p,u,f]=D3(g=>{const b=d().filter(v=>!v.disabled),j=b.find(v=>v.value===o.value),x=L3(b,g,j);x!==void 0&&o.onValueChange(x.value)}),m=()=>{l||(o.onOpenChange(!0),f())};return A.createElement(j7,Ze({asChild:!0},i),A.createElement(Tn.button,Ze({type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":o.value===void 0?"":void 0},a,{ref:c,onClick:hn(a.onClick,g=>{g.currentTarget.focus()}),onPointerDown:hn(a.onPointerDown,g=>{const b=g.target;b.hasPointerCapture(g.pointerId)&&b.releasePointerCapture(g.pointerId),g.button===0&&g.ctrlKey===!1&&(m(),o.triggerPointerDownPosRef.current={x:Math.round(g.pageX),y:Math.round(g.pageY)},g.preventDefault())}),onKeyDown:hn(a.onKeyDown,g=>{const b=p.current!=="";!(g.ctrlKey||g.altKey||g.metaKey)&&g.key.length===1&&u(g.key),!(b&&g.key===" ")&&mR.includes(g.key)&&(m(),g.preventDefault())})})))}),wR="SelectValue",NR=A.forwardRef((e,t)=>{const{__scopeSelect:n,className:s,style:a,children:i,placeholder:o,...l}=e,c=Wl(wR,n),{onValueNodeHasChildrenChange:d}=c,p=i!==void 0,u=Qn(t,c.onValueNodeChange);return ca(()=>{d(p)},[d,p]),A.createElement(Tn.span,Ze({},l,{ref:u,style:{pointerEvents:"none"}}),c.value===void 0&&o!==void 0?o:i)}),SR=A.forwardRef((e,t)=>{const{__scopeSelect:n,children:s,...a}=e;return A.createElement(Tn.span,Ze({"aria-hidden":!0},a,{ref:t}),s||"")}),CR=e=>A.createElement(N7,Ze({asChild:!0},e)),ud="SelectContent",AR=A.forwardRef((e,t)=>{const n=Wl(ud,e.__scopeSelect),[s,a]=A.useState();if(ca(()=>{a(new DocumentFragment)},[]),!n.open){const i=s;return i?Wi.createPortal(A.createElement(E3,{scope:e.__scopeSelect},A.createElement(lx.Slot,{scope:e.__scopeSelect},A.createElement("div",null,e.children))),i):null}return A.createElement(ER,Ze({},e,{ref:t}))}),Di=10,[E3,ql]=Cd(ud),ER=A.forwardRef((e,t)=>{const{__scopeSelect:n,position:s="item-aligned",onCloseAutoFocus:a,onEscapeKeyDown:i,onPointerDownOutside:o,side:l,sideOffset:c,align:d,alignOffset:p,arrowPadding:u,collisionBoundary:f,collisionPadding:m,sticky:g,hideWhenDetached:b,avoidCollisions:j,...x}=e,v=Wl(ud,n),[y,P]=A.useState(null),[M,O]=A.useState(null),E=Qn(t,le=>P(le)),[S,k]=A.useState(null),[D,C]=A.useState(null),w=cx(n),[T,L]=A.useState(!1),W=A.useRef(!1);A.useEffect(()=>{if(y)return k7(y)},[y]),rT();const V=A.useCallback(le=>{const[ce,...de]=w().map(Ee=>Ee.ref.current),[Ne]=de.slice(-1),ve=document.activeElement;for(const Ee of le)if(Ee===ve||(Ee==null||Ee.scrollIntoView({block:"nearest"}),Ee===ce&&M&&(M.scrollTop=0),Ee===Ne&&M&&(M.scrollTop=M.scrollHeight),Ee==null||Ee.focus(),document.activeElement!==ve))return},[w,M]),_=A.useCallback(()=>V([S,y]),[V,S,y]);A.useEffect(()=>{T&&_()},[T,_]);const{onOpenChange:B,triggerPointerDownPosRef:U}=v;A.useEffect(()=>{if(y){let le={x:0,y:0};const ce=Ne=>{var ve,Ee,Te,pe;le={x:Math.abs(Math.round(Ne.pageX)-((ve=(Ee=U.current)===null||Ee===void 0?void 0:Ee.x)!==null&&ve!==void 0?ve:0)),y:Math.abs(Math.round(Ne.pageY)-((Te=(pe=U.current)===null||pe===void 0?void 0:pe.y)!==null&&Te!==void 0?Te:0))}},de=Ne=>{le.x<=10&&le.y<=10?Ne.preventDefault():y.contains(Ne.target)||B(!1),document.removeEventListener("pointermove",ce),U.current=null};return U.current!==null&&(document.addEventListener("pointermove",ce),document.addEventListener("pointerup",de,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",ce),document.removeEventListener("pointerup",de,{capture:!0})}}},[y,B,U]),A.useEffect(()=>{const le=()=>B(!1);return window.addEventListener("blur",le),window.addEventListener("resize",le),()=>{window.removeEventListener("blur",le),window.removeEventListener("resize",le)}},[B]);const[q,H]=D3(le=>{const ce=w().filter(ve=>!ve.disabled),de=ce.find(ve=>ve.ref.current===document.activeElement),Ne=L3(ce,le,de);Ne&&setTimeout(()=>Ne.ref.current.focus())}),R=A.useCallback((le,ce,de)=>{const Ne=!W.current&&!de;(v.value!==void 0&&v.value===ce||Ne)&&(k(le),Ne&&(W.current=!0))},[v.value]),$=A.useCallback(()=>y==null?void 0:y.focus(),[y]),G=A.useCallback((le,ce,de)=>{const Ne=!W.current&&!de;(v.value!==void 0&&v.value===ce||Ne)&&C(le)},[v.value]),Z=s==="popper"?Kj:IR,te=Z===Kj?{side:l,sideOffset:c,align:d,alignOffset:p,arrowPadding:u,collisionBoundary:f,collisionPadding:m,sticky:g,hideWhenDetached:b,avoidCollisions:j}:{};return A.createElement(E3,{scope:n,content:y,viewport:M,onViewportChange:O,itemRefCallback:R,selectedItem:S,onItemLeave:$,itemTextRefCallback:G,focusSelectedItem:_,selectedItemText:D,position:s,isPositioned:T,searchRef:q},A.createElement(pR,{as:fp,allowPinchZoom:!0},A.createElement(nT,{asChild:!0,trapped:v.open,onMountAutoFocus:le=>{le.preventDefault()},onUnmountAutoFocus:hn(a,le=>{var ce;(ce=v.trigger)===null||ce===void 0||ce.focus({preventScroll:!0}),le.preventDefault()})},A.createElement(ZL,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:le=>le.preventDefault(),onDismiss:()=>v.onOpenChange(!1)},A.createElement(Z,Ze({role:"listbox",id:v.contentId,"data-state":v.open?"open":"closed",dir:v.dir,onContextMenu:le=>le.preventDefault()},x,te,{onPlaced:()=>L(!0),ref:E,style:{display:"flex",flexDirection:"column",outline:"none",...x.style},onKeyDown:hn(x.onKeyDown,le=>{const ce=le.ctrlKey||le.altKey||le.metaKey;if(le.key==="Tab"&&le.preventDefault(),!ce&&le.key.length===1&&H(le.key),["ArrowUp","ArrowDown","Home","End"].includes(le.key)){let Ne=w().filter(ve=>!ve.disabled).map(ve=>ve.ref.current);if(["ArrowUp","End"].includes(le.key)&&(Ne=Ne.slice().reverse()),["ArrowUp","ArrowDown"].includes(le.key)){const ve=le.target,Ee=Ne.indexOf(ve);Ne=Ne.slice(Ee+1)}setTimeout(()=>V(Ne)),le.preventDefault()}})}))))))}),IR=A.forwardRef((e,t)=>{const{__scopeSelect:n,onPlaced:s,...a}=e,i=Wl(ud,n),o=ql(ud,n),[l,c]=A.useState(null),[d,p]=A.useState(null),u=Qn(t,E=>p(E)),f=cx(n),m=A.useRef(!1),g=A.useRef(!0),{viewport:b,selectedItem:j,selectedItemText:x,focusSelectedItem:v}=o,y=A.useCallback(()=>{if(i.trigger&&i.valueNode&&l&&d&&b&&j&&x){const E=i.trigger.getBoundingClientRect(),S=d.getBoundingClientRect(),k=i.valueNode.getBoundingClientRect(),D=x.getBoundingClientRect();if(i.dir!=="rtl"){const ve=D.left-S.left,Ee=k.left-ve,Te=E.left-Ee,pe=E.width+Te,se=Math.max(pe,S.width),ee=window.innerWidth-Di,Ue=Ej(Ee,[Di,ee-se]);l.style.minWidth=pe+"px",l.style.left=Ue+"px"}else{const ve=S.right-D.right,Ee=window.innerWidth-k.right-ve,Te=window.innerWidth-E.right-Ee,pe=E.width+Te,se=Math.max(pe,S.width),ee=window.innerWidth-Di,Ue=Ej(Ee,[Di,ee-se]);l.style.minWidth=pe+"px",l.style.right=Ue+"px"}const C=f(),w=window.innerHeight-Di*2,T=b.scrollHeight,L=window.getComputedStyle(d),W=parseInt(L.borderTopWidth,10),V=parseInt(L.paddingTop,10),_=parseInt(L.borderBottomWidth,10),B=parseInt(L.paddingBottom,10),U=W+V+T+B+_,q=Math.min(j.offsetHeight*5,U),H=window.getComputedStyle(b),R=parseInt(H.paddingTop,10),$=parseInt(H.paddingBottom,10),G=E.top+E.height/2-Di,Z=w-G,te=j.offsetHeight/2,le=j.offsetTop+te,ce=W+V+le,de=U-ce;if(ce<=G){const ve=j===C[C.length-1].ref.current;l.style.bottom="0px";const Ee=d.clientHeight-b.offsetTop-b.offsetHeight,Te=Math.max(Z,te+(ve?$:0)+Ee+_),pe=ce+Te;l.style.height=pe+"px"}else{const ve=j===C[0].ref.current;l.style.top="0px";const Te=Math.max(G,W+b.offsetTop+(ve?R:0)+te)+de;l.style.height=Te+"px",b.scrollTop=ce-G+b.offsetTop}l.style.margin=`${Di}px 0`,l.style.minHeight=q+"px",l.style.maxHeight=w+"px",s==null||s(),requestAnimationFrame(()=>m.current=!0)}},[f,i.trigger,i.valueNode,l,d,b,j,x,i.dir,s]);ca(()=>y(),[y]);const[P,M]=A.useState();ca(()=>{d&&M(window.getComputedStyle(d).zIndex)},[d]);const O=A.useCallback(E=>{E&&g.current===!0&&(y(),v==null||v(),g.current=!1)},[y,v]);return A.createElement(PR,{scope:n,contentWrapper:l,shouldExpandOnScrollRef:m,onScrollButtonChange:O},A.createElement("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:P}},A.createElement(Tn.div,Ze({},a,{ref:u,style:{boxSizing:"border-box",maxHeight:"100%",...a.style}}))))}),Kj=A.forwardRef((e,t)=>{const{__scopeSelect:n,align:s="start",collisionPadding:a=Di,...i}=e,o=Oy(n);return A.createElement(w7,Ze({},o,i,{ref:t,align:s,collisionPadding:a,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}}))}),[PR,My]=Cd(ud,{}),Xj="SelectViewport",kR=A.forwardRef((e,t)=>{const{__scopeSelect:n,...s}=e,a=ql(Xj,n),i=My(Xj,n),o=Qn(t,a.onViewportChange),l=A.useRef(0);return A.createElement(A.Fragment,null,A.createElement("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"}}),A.createElement(lx.Slot,{scope:n},A.createElement(Tn.div,Ze({"data-radix-select-viewport":"",role:"presentation"},s,{ref:o,style:{position:"relative",flex:1,overflow:"auto",...s.style},onScroll:hn(s.onScroll,c=>{const d=c.currentTarget,{contentWrapper:p,shouldExpandOnScrollRef:u}=i;if(u!=null&&u.current&&p){const f=Math.abs(l.current-d.scrollTop);if(f>0){const m=window.innerHeight-Di*2,g=parseFloat(p.style.minHeight),b=parseFloat(p.style.height),j=Math.max(g,b);if(j<m){const x=j+f,v=Math.min(m,x),y=x-v;p.style.height=v+"px",p.style.bottom==="0px"&&(d.scrollTop=y>0?y:0,p.style.justifyContent="flex-end")}}}l.current=d.scrollTop})}))))}),DR="SelectGroup",[zU,LR]=Cd(DR),TR="SelectLabel",RR=A.forwardRef((e,t)=>{const{__scopeSelect:n,...s}=e,a=LR(TR,n);return A.createElement(Tn.div,Ze({id:a.id},s,{ref:t}))}),G0="SelectItem",[FR,I3]=Cd(G0),_R=A.forwardRef((e,t)=>{const{__scopeSelect:n,value:s,disabled:a=!1,textValue:i,...o}=e,l=Wl(G0,n),c=ql(G0,n),d=l.value===s,[p,u]=A.useState(i??""),[f,m]=A.useState(!1),g=Qn(t,x=>{var v;return(v=c.itemRefCallback)===null||v===void 0?void 0:v.call(c,x,s,a)}),b=t3(),j=()=>{a||(l.onValueChange(s),l.onOpenChange(!1))};return A.createElement(FR,{scope:n,value:s,disabled:a,textId:b,isSelected:d,onItemTextChange:A.useCallback(x=>{u(v=>{var y;return v||((y=x==null?void 0:x.textContent)!==null&&y!==void 0?y:"").trim()})},[])},A.createElement(lx.ItemSlot,{scope:n,value:s,disabled:a,textValue:p},A.createElement(Tn.div,Ze({role:"option","aria-labelledby":b,"data-highlighted":f?"":void 0,"aria-selected":d&&f,"data-state":d?"checked":"unchecked","aria-disabled":a||void 0,"data-disabled":a?"":void 0,tabIndex:a?void 0:-1},o,{ref:g,onFocus:hn(o.onFocus,()=>m(!0)),onBlur:hn(o.onBlur,()=>m(!1)),onPointerUp:hn(o.onPointerUp,j),onPointerMove:hn(o.onPointerMove,x=>{if(a){var v;(v=c.onItemLeave)===null||v===void 0||v.call(c)}else x.currentTarget.focus({preventScroll:!0})}),onPointerLeave:hn(o.onPointerLeave,x=>{if(x.currentTarget===document.activeElement){var v;(v=c.onItemLeave)===null||v===void 0||v.call(c)}}),onKeyDown:hn(o.onKeyDown,x=>{var v;((v=c.searchRef)===null||v===void 0?void 0:v.current)!==""&&x.key===" "||(fR.includes(x.key)&&j(),x.key===" "&&x.preventDefault())})}))))}),df="SelectItemText",OR=A.forwardRef((e,t)=>{const{__scopeSelect:n,className:s,style:a,...i}=e,o=Wl(df,n),l=ql(df,n),c=I3(df,n),d=vR(df,n),[p,u]=A.useState(null),f=Qn(t,x=>u(x),c.onItemTextChange,x=>{var v;return(v=l.itemTextRefCallback)===null||v===void 0?void 0:v.call(l,x,c.value,c.disabled)}),m=p==null?void 0:p.textContent,g=A.useMemo(()=>A.createElement("option",{key:c.value,value:c.value,disabled:c.disabled},m),[c.disabled,c.value,m]),{onNativeOptionAdd:b,onNativeOptionRemove:j}=d;return ca(()=>(b(g),()=>j(g)),[b,j,g]),A.createElement(A.Fragment,null,A.createElement(Tn.span,Ze({id:c.textId},i,{ref:f})),c.isSelected&&o.valueNode&&!o.valueNodeHasChildren?Wi.createPortal(i.children,o.valueNode):null)}),MR="SelectItemIndicator",BR=A.forwardRef((e,t)=>{const{__scopeSelect:n,...s}=e;return I3(MR,n).isSelected?A.createElement(Tn.span,Ze({"aria-hidden":!0},s,{ref:t})):null}),Jj="SelectScrollUpButton",zR=A.forwardRef((e,t)=>{const n=ql(Jj,e.__scopeSelect),s=My(Jj,e.__scopeSelect),[a,i]=A.useState(!1),o=Qn(t,s.onScrollButtonChange);return ca(()=>{if(n.viewport&&n.isPositioned){let c=function(){const d=l.scrollTop>0;i(d)};const l=n.viewport;return c(),l.addEventListener("scroll",c),()=>l.removeEventListener("scroll",c)}},[n.viewport,n.isPositioned]),a?A.createElement(P3,Ze({},e,{ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}})):null}),Zj="SelectScrollDownButton",$R=A.forwardRef((e,t)=>{const n=ql(Zj,e.__scopeSelect),s=My(Zj,e.__scopeSelect),[a,i]=A.useState(!1),o=Qn(t,s.onScrollButtonChange);return ca(()=>{if(n.viewport&&n.isPositioned){let c=function(){const d=l.scrollHeight-l.clientHeight,p=Math.ceil(l.scrollTop)<d;i(p)};const l=n.viewport;return c(),l.addEventListener("scroll",c),()=>l.removeEventListener("scroll",c)}},[n.viewport,n.isPositioned]),a?A.createElement(P3,Ze({},e,{ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}})):null}),P3=A.forwardRef((e,t)=>{const{__scopeSelect:n,onAutoScroll:s,...a}=e,i=ql("SelectScrollButton",n),o=A.useRef(null),l=cx(n),c=A.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return A.useEffect(()=>()=>c(),[c]),ca(()=>{var d;const p=l().find(u=>u.ref.current===document.activeElement);p==null||(d=p.ref.current)===null||d===void 0||d.scrollIntoView({block:"nearest"})},[l]),A.createElement(Tn.div,Ze({"aria-hidden":!0},a,{ref:t,style:{flexShrink:0,...a.style},onPointerDown:hn(a.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(s,50))}),onPointerMove:hn(a.onPointerMove,()=>{var d;(d=i.onItemLeave)===null||d===void 0||d.call(i),o.current===null&&(o.current=window.setInterval(s,50))}),onPointerLeave:hn(a.onPointerLeave,()=>{c()})}))}),UR=A.forwardRef((e,t)=>{const{__scopeSelect:n,...s}=e;return A.createElement(Tn.div,Ze({"aria-hidden":!0},s,{ref:t}))}),k3=A.forwardRef((e,t)=>{const{value:n,...s}=e,a=A.useRef(null),i=Qn(t,a),o=C7(n);return A.useEffect(()=>{const l=a.current,c=window.HTMLSelectElement.prototype,p=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==n&&p){const u=new Event("change",{bubbles:!0});p.call(l,n),l.dispatchEvent(u)}},[o,n]),A.createElement(A7,{asChild:!0},A.createElement("select",Ze({},s,{ref:i,defaultValue:n})))});k3.displayName="BubbleSelect";function D3(e){const t=zi(e),n=A.useRef(""),s=A.useRef(0),a=A.useCallback(o=>{const l=n.current+o;t(l),function c(d){n.current=d,window.clearTimeout(s.current),d!==""&&(s.current=window.setTimeout(()=>c(""),1e3))}(l)},[t]),i=A.useCallback(()=>{n.current="",window.clearTimeout(s.current)},[]);return A.useEffect(()=>()=>window.clearTimeout(s.current),[]),[n,a,i]}function L3(e,t,n){const a=t.length>1&&Array.from(t).every(d=>d===t[0])?t[0]:t,i=n?e.indexOf(n):-1;let o=VR(e,Math.max(i,0));a.length===1&&(o=o.filter(d=>d!==n));const c=o.find(d=>d.textValue.toLowerCase().startsWith(a.toLowerCase()));return c!==n?c:void 0}function VR(e,t){return e.map((n,s)=>e[(t+s)%e.length])}const WR=yR,T3=jR,qR=NR,HR=SR,GR=CR,R3=AR,QR=kR,F3=RR,_3=_R,YR=OR,KR=BR,O3=zR,M3=$R,B3=UR,lt=WR,ct=qR,it=A.forwardRef(({className:e,children:t,...n},s)=>r.jsxs(T3,{ref:s,className:$e("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...n,children:[t,r.jsx(HR,{asChild:!0,children:r.jsx(R4,{className:"h-4 w-4 opacity-50"})})]}));it.displayName=T3.displayName;const z3=A.forwardRef(({className:e,...t},n)=>r.jsx(O3,{ref:n,className:$e("flex cursor-default items-center justify-center py-1",e),...t,children:r.jsx(DD,{className:"h-4 w-4"})}));z3.displayName=O3.displayName;const $3=A.forwardRef(({className:e,...t},n)=>r.jsx(M3,{ref:n,className:$e("flex cursor-default items-center justify-center py-1",e),...t,children:r.jsx(R4,{className:"h-4 w-4"})}));$3.displayName=M3.displayName;const ot=A.forwardRef(({className:e,children:t,position:n="popper",...s},a)=>r.jsx(GR,{children:r.jsxs(R3,{ref:a,className:$e("relative z-50 max-h-96 min-w-[8rem] overflow-auto rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:n,...s,children:[r.jsx(z3,{}),r.jsx(QR,{className:$e("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),r.jsx($3,{})]})}));ot.displayName=R3.displayName;const XR=A.forwardRef(({className:e,...t},n)=>r.jsx(F3,{ref:n,className:$e("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));XR.displayName=F3.displayName;const oe=A.forwardRef(({className:e,children:t,...n},s)=>r.jsxs(_3,{ref:s,className:$e("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[r.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:r.jsx(KR,{children:r.jsx(Sy,{className:"h-4 w-4"})})}),r.jsx(YR,{children:t})]}));oe.displayName=_3.displayName;const JR=A.forwardRef(({className:e,...t},n)=>r.jsx(B3,{ref:n,className:$e("-mx-1 my-1 h-px bg-muted",e),...t}));JR.displayName=B3.displayName;var ZR="Label",U3=A.forwardRef((e,t)=>r.jsx(Mr.label,{...e,ref:t,onMouseDown:n=>{var a;n.target.closest("button, input, select, textarea")||((a=e.onMouseDown)==null||a.call(e,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));U3.displayName=ZR;var V3=U3;const e8=rx("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Ae=A.forwardRef(({className:e,...t},n)=>r.jsx(V3,{ref:n,className:$e(e8(),e),...t}));Ae.displayName=V3.displayName;var nn=(e=>(e.NEW="new",e.CONTACTED="contacted",e.QUALIFIED="qualified",e.PROPOSAL="proposal",e.NEGOTIATION="negotiation",e.CLOSED_WON="closed_won",e.CLOSED_LOST="closed_lost",e))(nn||{});function Hl(){const[e,t]=A.useState([]),[n,s]=A.useState([]),[a,i]=A.useState([]),[o,l]=A.useState([]),[c,d]=A.useState([]),[p,u]=A.useState([]),[f,m]=A.useState(!1);A.useEffect(()=>{g()},[]);const g=()=>{const w=[{id:"1",name:"Website Contact Form",type:"website",isActive:!0,trackingCode:"WEB_CONTACT",conversionRate:15.5,createdAt:new Date("2024-01-01")},{id:"2",name:"Facebook Ads",type:"advertising",isActive:!0,trackingCode:"FB_ADS",conversionRate:8.2,createdAt:new Date("2024-01-01")},{id:"3",name:"Customer Referral",type:"referral",isActive:!0,conversionRate:35.8,createdAt:new Date("2024-01-01")},{id:"4",name:"RV Show",type:"event",isActive:!0,trackingCode:"RV_SHOW_2024",conversionRate:22.1,createdAt:new Date("2024-01-01")},{id:"5",name:"Google Ads",type:"advertising",isActive:!0,trackingCode:"GOOGLE_ADS",conversionRate:12.3,createdAt:new Date("2024-01-01")},{id:"6",name:"Walk-in",type:"other",isActive:!0,conversionRate:45.2,createdAt:new Date("2024-01-01")}],T=[{id:"rep-001",name:"John Smith",email:"john.smith@dealership.com",phone:"(555) 123-4567",territory:"North Region",isActive:!0,targets:{monthly:10,quarterly:30,annual:120}},{id:"rep-002",name:"Sarah Johnson",email:"sarah.johnson@dealership.com",phone:"(555) 987-6543",territory:"South Region",isActive:!0,targets:{monthly:12,quarterly:36,annual:144}},{id:"rep-003",name:"Mike Davis",email:"mike.davis@dealership.com",phone:"(555) 456-7890",territory:"East Region",isActive:!0,targets:{monthly:8,quarterly:24,annual:96}}],L=En("renter-insight-leads",[{id:"1",firstName:"John",lastName:"Smith",email:"john.smith@email.com",phone:"(555) 123-4567",source:"Website Contact Form",sourceId:"1",status:nn.NEW,assignedTo:"rep-001",notes:"Interested in Class A Motorhome, budget $150k-200k",score:85,lastActivity:new Date("2024-01-20"),customFields:{budget:"$150k-200k",timeframe:"3-6 months",experience:"First-time buyer"},createdAt:new Date("2024-01-15"),updatedAt:new Date("2024-01-20")},{id:"2",firstName:"Sarah",lastName:"Johnson",email:"sarah.j@email.com",phone:"(555) 987-6543",source:"Customer Referral",sourceId:"3",status:nn.QUALIFIED,assignedTo:"rep-002",notes:"Looking for travel trailer under $50k, referred by Mike Davis",score:92,lastActivity:new Date("2024-01-18"),customFields:{budget:"Under $50k",timeframe:"1-3 months",experience:"Experienced RVer"},createdAt:new Date("2024-01-14"),updatedAt:new Date("2024-01-18")}]),W=En("renter-insight-activities",[{id:"1",leadId:"1",type:"call",description:"Initial qualification call",outcome:"positive",duration:25,completedDate:new Date("2024-01-20"),userId:"rep-001",createdAt:new Date("2024-01-20")},{id:"2",leadId:"2",type:"email",description:"Sent product brochures",outcome:"positive",completedDate:new Date("2024-01-18"),userId:"rep-002",createdAt:new Date("2024-01-18")}]),V=[{leadId:"1",totalScore:85,demographicScore:30,behaviorScore:25,engagementScore:30,lastCalculated:new Date("2024-01-20"),factors:[{factor:"Budget Match",points:25,reason:"Budget aligns with inventory"},{factor:"Response Time",points:20,reason:"Quick response to outreach"},{factor:"Engagement Level",points:15,reason:"High email open rates"}]}],_=[{id:"1",leadId:"1",userId:"rep-001",type:"follow_up",title:"Follow up on motorhome interest",description:"Schedule showroom visit",dueDate:new Date("2024-01-25"),isCompleted:!1,priority:"high",createdAt:new Date("2024-01-20")}];s(w),u(T),t(L),i(W),l(V),d(_)},b=w=>{Xr("renter-insight-leads",w)},j=w=>{Xr("renter-insight-activities",w)},x=async w=>{m(!0);try{const T={id:Math.random().toString(36).substr(2,9),firstName:w.firstName||"",lastName:w.lastName||"",email:w.email||"",phone:w.phone||"",source:w.source||"",sourceId:w.sourceId||"",status:nn.NEW,assignedTo:w.assignedTo,notes:w.notes||"",score:0,lastActivity:new Date,customFields:w.customFields||{},createdAt:new Date,updatedAt:new Date},L=[...e,T];return t(L),b(L),await P({leadId:T.id,type:"note",description:`Lead created from ${T.source}`,userId:"current-user"}),await M(T.id),T}finally{m(!1)}},v=async(w,T)=>{const L=e.map(W=>W.id===w?{...W,status:T,updatedAt:new Date}:W);t(L),b(L),await P({leadId:w,type:"status_change",description:`Status changed to ${T}`,userId:"current-user"})},y=async(w,T)=>{var W;const L=e.map(V=>V.id===w?{...V,assignedTo:T,updatedAt:new Date}:V);t(L),b(L),await P({leadId:w,type:"note",description:`Lead assigned to ${(W=p.find(V=>V.id===T))==null?void 0:W.name}`,userId:"current-user"})},P=async w=>{const T={id:Math.random().toString(36).substr(2,9),leadId:w.leadId||"",type:w.type||"note",description:w.description||"",outcome:w.outcome,duration:w.duration,scheduledDate:w.scheduledDate,completedDate:w.completedDate||new Date,userId:w.userId||"current-user",metadata:w.metadata,createdAt:new Date},L=[...a,T];i(L),j(L);const W=e.map(V=>V.id===T.leadId?{...V,lastActivity:new Date,updatedAt:new Date}:V);t(W),b(W),await M(T.leadId)},M=async w=>{var te,le,ce;const T=e.find(de=>de.id===w);if(!T)return;const L=a.filter(de=>de.leadId===w);let W=0,V=0,_=0;const B=[];(te=T.customFields)!=null&&te.budget&&(W+=20,B.push({factor:"Budget Provided",points:20,reason:"Customer provided budget information"})),((le=T.customFields)==null?void 0:le.timeframe)==="1-3 months"?(W+=25,B.push({factor:"Short Timeframe",points:25,reason:"Ready to purchase soon"})):((ce=T.customFields)==null?void 0:ce.timeframe)==="3-6 months"&&(W+=15,B.push({factor:"Medium Timeframe",points:15,reason:"Moderate purchase timeline"})),L.filter(de=>de.type==="call").length>0&&(V+=30,B.push({factor:"Phone Engagement",points:30,reason:"Participated in phone calls"})),L.filter(de=>de.type==="email").length>2&&(V+=20,B.push({factor:"Email Engagement",points:20,reason:"Active email communication"})),L.filter(de=>new Date(de.createdAt).getTime()>Date.now()-7*24*60*60*1e3).length>0&&(_+=25,B.push({factor:"Recent Activity",points:25,reason:"Active in the last 7 days"}));const R=L.filter(de=>de.outcome==="positive").length;R>0&&(_+=R*10,B.push({factor:"Positive Interactions",points:R*10,reason:`${R} positive interactions`}));const $=W+V+_,G={leadId:w,totalScore:$,demographicScore:W,behaviorScore:V,engagementScore:_,lastCalculated:new Date,factors:B};l(de=>de.filter(Ne=>Ne.leadId!==w).concat(G));const Z=e.map(de=>de.id===w?{...de,score:$,updatedAt:new Date}:de);t(Z),b(Z)};return{leads:e,sources:n,activities:a,scores:o,reminders:c,salesReps:p,loading:f,createLead:x,updateLeadStatus:v,assignLead:y,logActivity:P,calculateLeadScore:M,createReminder:async w=>{const T={id:Math.random().toString(36).substr(2,9),leadId:w.leadId||"",userId:w.userId||"current-user",type:w.type||"follow_up",title:w.title||"",description:w.description||"",dueDate:w.dueDate||new Date,isCompleted:!1,priority:w.priority||"medium",createdAt:new Date};return d(L=>[...L,T]),T},completeReminder:async w=>{d(T=>T.map(L=>L.id===w?{...L,isCompleted:!0}:L))},getLeadsByRep:w=>e.filter(T=>T.assignedTo===w),getActivitiesByLead:w=>a.filter(T=>T.leadId===w),getRemindersByUser:w=>c.filter(T=>T.userId===w&&!T.isCompleted),getLeadScore:w=>o.find(T=>T.leadId===w)}}function Ad({onClose:e,onSuccess:t}){const{sources:n,salesReps:s,createLead:a}=Hl(),{toast:i}=Cr(),[o,l]=A.useState(!1),[c,d]=A.useState({firstName:"",lastName:"",email:"",phone:"",source:"",sourceId:"",assignedTo:"",notes:"",customFields:{budget:"",timeframe:"",experience:"",interests:"",preferredContact:"email"}}),[p,u]=A.useState({}),f=()=>{const j={};return c.firstName.trim()||(j.firstName="First name is required"),c.lastName.trim()||(j.lastName="Last name is required"),c.email.trim()?/\S+@\S+\.\S+/.test(c.email)||(j.email="Please enter a valid email address"):j.email="Email is required",c.phone.trim()||(j.phone="Phone number is required"),c.sourceId||(j.sourceId="Lead source is required"),u(j),Object.keys(j).length===0},m=async j=>{if(j.preventDefault(),!f()){i({title:"Validation Error",description:"Please fill in all required fields correctly.",variant:"destructive"});return}l(!0);try{const x=n.find(P=>P.id===c.sourceId),v={firstName:c.firstName.trim(),lastName:c.lastName.trim(),email:c.email.trim().toLowerCase(),phone:c.phone.trim(),source:(x==null?void 0:x.name)||"",sourceId:c.sourceId,assignedTo:c.assignedTo||void 0,notes:c.notes.trim(),customFields:{...c.customFields,interests:c.customFields.interests.trim()}},y=await a(v);i({title:"Lead Created Successfully!",description:`${y.firstName} ${y.lastName} has been added to your CRM.`,variant:"default"}),t(y),e()}catch(x){console.error("Error creating lead:",x),i({title:"Error Creating Lead",description:"There was a problem creating the lead. Please try again.",variant:"destructive"})}finally{l(!1)}},g=(j,x)=>{d(v=>({...v,[j]:x})),p[j]&&u(v=>({...v,[j]:""}))},b=(j,x)=>{d(v=>({...v,customFields:{...v.customFields,[j]:x}}))};return r.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:r.jsxs(me,{className:"w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[r.jsx(be,{children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsxs(je,{className:"text-xl flex items-center",children:[r.jsx(Os,{className:"h-5 w-5 mr-2 text-blue-500"}),"Add New Lead"]}),r.jsx(Ke,{children:"Create a new lead and start the sales process"})]}),r.jsx(ae,{variant:"ghost",size:"sm",onClick:e,children:r.jsx(or,{className:"h-4 w-4"})})]})}),r.jsx(fe,{children:r.jsxs("form",{onSubmit:m,className:"space-y-6",children:[r.jsxs("div",{className:"space-y-4",children:[r.jsxs("h3",{className:"text-lg font-semibold flex items-center",children:[r.jsx(Os,{className:"h-4 w-4 mr-2"}),"Contact Information"]}),r.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[r.jsxs("div",{children:[r.jsx(Ae,{htmlFor:"firstName",children:"First Name *"}),r.jsx(Be,{id:"firstName",value:c.firstName,onChange:j=>g("firstName",j.target.value),placeholder:"Enter first name",className:p.firstName?"border-red-500":""}),p.firstName&&r.jsx("p",{className:"text-sm text-red-500 mt-1",children:p.firstName})]}),r.jsxs("div",{children:[r.jsx(Ae,{htmlFor:"lastName",children:"Last Name *"}),r.jsx(Be,{id:"lastName",value:c.lastName,onChange:j=>g("lastName",j.target.value),placeholder:"Enter last name",className:p.lastName?"border-red-500":""}),p.lastName&&r.jsx("p",{className:"text-sm text-red-500 mt-1",children:p.lastName})]})]}),r.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[r.jsxs("div",{children:[r.jsx(Ae,{htmlFor:"email",children:"Email Address *"}),r.jsxs("div",{className:"relative",children:[r.jsx(aa,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),r.jsx(Be,{id:"email",type:"email",value:c.email,onChange:j=>g("email",j.target.value),placeholder:"Enter email address",className:`pl-10 ${p.email?"border-red-500":""}`})]}),p.email&&r.jsx("p",{className:"text-sm text-red-500 mt-1",children:p.email})]}),r.jsxs("div",{children:[r.jsx(Ae,{htmlFor:"phone",children:"Phone Number *"}),r.jsxs("div",{className:"relative",children:[r.jsx(Ay,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),r.jsx(Be,{id:"phone",type:"tel",value:c.phone,onChange:j=>g("phone",j.target.value),placeholder:"Enter phone number",className:`pl-10 ${p.phone?"border-red-500":""}`})]}),p.phone&&r.jsx("p",{className:"text-sm text-red-500 mt-1",children:p.phone})]})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("h3",{className:"text-lg font-semibold flex items-center",children:[r.jsx(BD,{className:"h-4 w-4 mr-2"}),"Lead Details"]}),r.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[r.jsxs("div",{children:[r.jsx(Ae,{htmlFor:"source",children:"Lead Source *"}),r.jsxs(lt,{value:c.sourceId,onValueChange:j=>g("sourceId",j),children:[r.jsx(it,{className:p.sourceId?"border-red-500":"",children:r.jsx(ct,{placeholder:"Select lead source"})}),r.jsx(ot,{children:n.map(j=>r.jsx(oe,{value:j.id,children:j.name},j.id))})]}),p.sourceId&&r.jsx("p",{className:"text-sm text-red-500 mt-1",children:p.sourceId})]}),r.jsxs("div",{children:[r.jsx(Ae,{htmlFor:"assignedTo",children:"Assign to Sales Rep"}),r.jsxs(lt,{value:c.assignedTo,onValueChange:j=>g("assignedTo",j),children:[r.jsx(it,{children:r.jsx(ct,{placeholder:"Select sales rep (optional)"})}),r.jsxs(ot,{children:[r.jsx(oe,{value:"",children:"Unassigned"}),s.map(j=>r.jsx(oe,{value:j.id,children:j.name},j.id))]})]})]})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("h3",{className:"text-lg font-semibold flex items-center",children:[r.jsx(gr,{className:"h-4 w-4 mr-2"}),"Additional Information"]}),r.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[r.jsxs("div",{children:[r.jsx(Ae,{htmlFor:"budget",children:"Budget Range"}),r.jsxs(lt,{value:c.customFields.budget,onValueChange:j=>b("budget",j),children:[r.jsx(it,{children:r.jsx(ct,{placeholder:"Select budget range"})}),r.jsxs(ot,{children:[r.jsx(oe,{value:"Under $50k",children:"Under $50k"}),r.jsx(oe,{value:"$50k-$100k",children:"$50k-$100k"}),r.jsx(oe,{value:"$100k-$150k",children:"$100k-$150k"}),r.jsx(oe,{value:"$150k-$200k",children:"$150k-$200k"}),r.jsx(oe,{value:"$200k+",children:"$200k+"})]})]})]}),r.jsxs("div",{children:[r.jsx(Ae,{htmlFor:"timeframe",children:"Purchase Timeframe"}),r.jsxs(lt,{value:c.customFields.timeframe,onValueChange:j=>b("timeframe",j),children:[r.jsx(it,{children:r.jsx(ct,{placeholder:"Select timeframe"})}),r.jsxs(ot,{children:[r.jsx(oe,{value:"Immediate",children:"Immediate (within 1 month)"}),r.jsx(oe,{value:"1-3 months",children:"1-3 months"}),r.jsx(oe,{value:"3-6 months",children:"3-6 months"}),r.jsx(oe,{value:"6-12 months",children:"6-12 months"}),r.jsx(oe,{value:"12+ months",children:"12+ months"})]})]})]})]}),r.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[r.jsxs("div",{children:[r.jsx(Ae,{htmlFor:"experience",children:"RV Experience"}),r.jsxs(lt,{value:c.customFields.experience,onValueChange:j=>b("experience",j),children:[r.jsx(it,{children:r.jsx(ct,{placeholder:"Select experience level"})}),r.jsxs(ot,{children:[r.jsx(oe,{value:"First-time buyer",children:"First-time buyer"}),r.jsx(oe,{value:"Some experience",children:"Some experience"}),r.jsx(oe,{value:"Experienced RVer",children:"Experienced RVer"}),r.jsx(oe,{value:"Expert/Full-timer",children:"Expert/Full-timer"})]})]})]}),r.jsxs("div",{children:[r.jsx(Ae,{htmlFor:"preferredContact",children:"Preferred Contact Method"}),r.jsxs(lt,{value:c.customFields.preferredContact,onValueChange:j=>b("preferredContact",j),children:[r.jsx(it,{children:r.jsx(ct,{placeholder:"Select contact method"})}),r.jsxs(ot,{children:[r.jsx(oe,{value:"email",children:"Email"}),r.jsx(oe,{value:"phone",children:"Phone"}),r.jsx(oe,{value:"text",children:"Text/SMS"}),r.jsx(oe,{value:"any",children:"Any method"})]})]})]})]}),r.jsxs("div",{children:[r.jsx(Ae,{htmlFor:"interests",children:"Interests/Requirements"}),r.jsx(Be,{id:"interests",value:c.customFields.interests,onChange:j=>b("interests",j.target.value),placeholder:"e.g., Class A Motorhome, Solar panels, Pet-friendly"})]})]}),r.jsx("div",{className:"space-y-4",children:r.jsxs("div",{children:[r.jsx(Ae,{htmlFor:"notes",children:"Notes"}),r.jsx(lr,{id:"notes",value:c.notes,onChange:j=>g("notes",j.target.value),placeholder:"Add any additional notes about this lead...",rows:3})]})}),r.jsxs("div",{className:"flex justify-end space-x-3 pt-6 border-t",children:[r.jsx(ae,{type:"button",variant:"outline",onClick:e,disabled:o,children:"Cancel"}),r.jsx(ae,{type:"submit",disabled:o,children:o?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Creating Lead..."]}):r.jsxs(r.Fragment,{children:[r.jsx(da,{className:"h-4 w-4 mr-2"}),"Create Lead"]})})]})]})})]})})}const t8=[{name:"Total Leads",value:"2,651",change:"+4.75%",changeType:"positive",icon:cn},{name:"Inventory Units",value:"847",change:"+54.02%",changeType:"positive",icon:Hn},{name:"Active Quotes",value:"124",change:"-1.39%",changeType:"negative",icon:qn},{name:"Monthly Revenue",value:"$405,091",change:"+10.18%",changeType:"positive",icon:gr}],r8=[{id:1,type:"lead",title:"New lead from website",description:"John Smith interested in Class A Motorhome",time:"2 minutes ago"},{id:2,type:"quote",title:"Quote sent to customer",description:"Quote #Q-2024-001 sent to Sarah Johnson",time:"15 minutes ago"},{id:3,type:"service",title:"Service appointment scheduled",description:"Annual maintenance for RV #VIN123456",time:"1 hour ago"},{id:4,type:"delivery",title:"Delivery completed",description:"Travel Trailer delivered to Mike Davis",time:"2 hours ago"}];function n8(){const[e,t]=A.useState(!1),n=a=>{console.log("New lead created from dashboard:",a)},s=a=>{switch(a){case"add-lead":t(!0);break;case"add-inventory":window.location.href="/inventory";break;case"create-quote":window.location.href="/quotes";break;case"schedule-service":window.location.href="/service";break}};return r.jsxs("div",{className:"space-y-6",children:[e&&r.jsx(Ad,{onClose:()=>t(!1),onSuccess:n}),r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Dashboard"}),r.jsx("p",{className:"text-muted-foreground",children:"Welcome to your Renter Insight CRM/DMS dashboard"})]}),r.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:t8.map(a=>r.jsxs(me,{children:[r.jsxs(be,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(je,{className:"text-sm font-medium",children:a.name}),r.jsx(a.icon,{className:"h-4 w-4 text-muted-foreground"})]}),r.jsxs(fe,{children:[r.jsx("div",{className:"text-2xl font-bold",children:a.value}),r.jsxs("p",{className:`text-xs ${a.changeType==="positive"?"text-green-600":"text-red-600"}`,children:[a.change," from last month"]})]})]},a.name))}),r.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[r.jsxs(me,{children:[r.jsxs(be,{children:[r.jsx(je,{children:"Recent Activity"}),r.jsx(Ke,{children:"Latest updates from your dealership"})]}),r.jsx(fe,{children:r.jsx("div",{className:"space-y-4",children:r8.map(a=>r.jsxs("div",{className:"flex items-start space-x-3",children:[r.jsx("div",{className:"flex-shrink-0",children:r.jsx("div",{className:"h-2 w-2 bg-primary rounded-full mt-2"})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("p",{className:"text-sm font-medium text-foreground",children:a.title}),r.jsx("p",{className:"text-sm text-muted-foreground",children:a.description}),r.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:a.time})]})]},a.id))})})]}),r.jsxs(me,{children:[r.jsxs(be,{children:[r.jsx(je,{children:"Quick Actions"}),r.jsx(Ke,{children:"Common tasks and shortcuts"})]}),r.jsx(fe,{children:r.jsxs("div",{className:"grid gap-3",children:[r.jsxs("button",{onClick:()=>s("add-lead"),className:"flex items-center justify-between p-3 text-left border rounded-lg hover:bg-accent transition-colors",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx(cn,{className:"h-5 w-5 text-primary"}),r.jsx("span",{className:"font-medium",children:"Add New Lead"})]}),r.jsx(It,{className:"h-4 w-4 text-muted-foreground"})]}),r.jsxs("button",{onClick:()=>s("add-inventory"),className:"flex items-center justify-between p-3 text-left border rounded-lg hover:bg-accent transition-colors",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx(Hn,{className:"h-5 w-5 text-primary"}),r.jsx("span",{className:"font-medium",children:"Add Inventory"})]}),r.jsx("span",{className:"text-muted-foreground",children:""})]}),r.jsxs("button",{onClick:()=>s("create-quote"),className:"flex items-center justify-between p-3 text-left border rounded-lg hover:bg-accent transition-colors",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx(qn,{className:"h-5 w-5 text-primary"}),r.jsx("span",{className:"font-medium",children:"Create Quote"})]}),r.jsx("span",{className:"text-muted-foreground",children:""})]}),r.jsxs("button",{onClick:()=>s("schedule-service"),className:"flex items-center justify-between p-3 text-left border rounded-lg hover:bg-accent transition-colors",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx(kn,{className:"h-5 w-5 text-primary"}),r.jsx("span",{className:"font-medium",children:"Schedule Service"})]}),r.jsx("span",{className:"text-muted-foreground",children:""})]})]})})]})]})]})}function s8(){const[e,t]=A.useState("admin@renterinsight.com"),[n,s]=A.useState("password"),{login:a,isLoading:i}=Lp(),{toast:o}=Cr(),l=vy(),c=async d=>{d.preventDefault();try{await a(e,n),l("/")}catch{o({title:"Login Failed",description:"Invalid email or password",variant:"destructive"})}};return r.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background px-4",children:r.jsxs(me,{className:"w-full max-w-md",children:[r.jsxs(be,{className:"text-center",children:[r.jsx(je,{className:"text-2xl font-bold text-primary",children:"Renter Insight CRM/DMS"}),r.jsx(Ke,{children:"Sign in to your account to continue"})]}),r.jsxs(fe,{children:[r.jsxs("form",{onSubmit:c,className:"space-y-4",children:[r.jsx("div",{children:r.jsx(Be,{type:"email",placeholder:"Email",value:e,onChange:d=>t(d.target.value),required:!0,autoComplete:"username"})}),r.jsx("div",{children:r.jsx(Be,{type:"password",placeholder:"Password",value:n,onChange:d=>s(d.target.value),required:!0,autoComplete:"current-password"})}),r.jsx(ae,{type:"submit",className:"w-full",disabled:i,children:i?"Signing in...":"Sign In"})]}),r.jsx("div",{className:"mt-4 text-center text-sm text-muted-foreground",children:"Demo credentials: admin@renterinsight.com / password"})]})]})})}function a8({children:e}){const{user:t,isLoading:n}=Lp();return n?r.jsx("div",{className:"min-h-screen flex items-center justify-center",children:r.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-primary"})}):t?r.jsx(r.Fragment,{children:e}):r.jsx(wk,{to:"/login",replace:!0})}const i8=rx("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Re({className:e,variant:t,...n}){return r.jsx("div",{className:$e(i8({variant:t}),e),...n})}var o8=_h[" useId ".trim().toString()]||(()=>{}),l8=0;function W3(e){const[t,n]=A.useState(o8());return Fl(()=>{e||n(s=>s??String(l8++))},[e]),e||(t?`radix-${t}`:"")}var c8=A.createContext(void 0);function q3(e){const t=A.useContext(c8);return e||t||"ltr"}var cv="rovingFocusGroup.onEntryFocus",d8={bubbles:!1,cancelable:!0},Rp="RovingFocusGroup",[Q0,H3,u8]=o4(Rp),[p8,G3]=wd(Rp,[u8]),[m8,f8]=p8(Rp),Q3=A.forwardRef((e,t)=>r.jsx(Q0.Provider,{scope:e.__scopeRovingFocusGroup,children:r.jsx(Q0.Slot,{scope:e.__scopeRovingFocusGroup,children:r.jsx(h8,{...e,ref:t})})}));Q3.displayName=Rp;var h8=A.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:s,loop:a=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:d,preventScrollOnEntryFocus:p=!1,...u}=e,f=A.useRef(null),m=pi(t,f),g=q3(i),[b,j]=ex({prop:o,defaultProp:l??null,onChange:c,caller:Rp}),[x,v]=A.useState(!1),y=Oo(d),P=H3(n),M=A.useRef(!1),[O,E]=A.useState(0);return A.useEffect(()=>{const S=f.current;if(S)return S.addEventListener(cv,y),()=>S.removeEventListener(cv,y)},[y]),r.jsx(m8,{scope:n,orientation:s,dir:g,loop:a,currentTabStopId:b,onItemFocus:A.useCallback(S=>j(S),[j]),onItemShiftTab:A.useCallback(()=>v(!0),[]),onFocusableItemAdd:A.useCallback(()=>E(S=>S+1),[]),onFocusableItemRemove:A.useCallback(()=>E(S=>S-1),[]),children:r.jsx(Mr.div,{tabIndex:x||O===0?-1:0,"data-orientation":s,...u,ref:m,style:{outline:"none",...e.style},onMouseDown:Sr(e.onMouseDown,()=>{M.current=!0}),onFocus:Sr(e.onFocus,S=>{const k=!M.current;if(S.target===S.currentTarget&&k&&!x){const D=new CustomEvent(cv,d8);if(S.currentTarget.dispatchEvent(D),!D.defaultPrevented){const C=P().filter(V=>V.focusable),w=C.find(V=>V.active),T=C.find(V=>V.id===b),W=[w,T,...C].filter(Boolean).map(V=>V.ref.current);X3(W,p)}}M.current=!1}),onBlur:Sr(e.onBlur,()=>v(!1))})})}),Y3="RovingFocusGroupItem",K3=A.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:s=!0,active:a=!1,tabStopId:i,children:o,...l}=e,c=W3(),d=i||c,p=f8(Y3,n),u=p.currentTabStopId===d,f=H3(n),{onFocusableItemAdd:m,onFocusableItemRemove:g,currentTabStopId:b}=p;return A.useEffect(()=>{if(s)return m(),()=>g()},[s,m,g]),r.jsx(Q0.ItemSlot,{scope:n,id:d,focusable:s,active:a,children:r.jsx(Mr.span,{tabIndex:u?0:-1,"data-orientation":p.orientation,...l,ref:t,onMouseDown:Sr(e.onMouseDown,j=>{s?p.onItemFocus(d):j.preventDefault()}),onFocus:Sr(e.onFocus,()=>p.onItemFocus(d)),onKeyDown:Sr(e.onKeyDown,j=>{if(j.key==="Tab"&&j.shiftKey){p.onItemShiftTab();return}if(j.target!==j.currentTarget)return;const x=v8(j,p.orientation,p.dir);if(x!==void 0){if(j.metaKey||j.ctrlKey||j.altKey||j.shiftKey)return;j.preventDefault();let y=f().filter(P=>P.focusable).map(P=>P.ref.current);if(x==="last")y.reverse();else if(x==="prev"||x==="next"){x==="prev"&&y.reverse();const P=y.indexOf(j.currentTarget);y=p.loop?y8(y,P+1):y.slice(P+1)}setTimeout(()=>X3(y))}}),children:typeof o=="function"?o({isCurrentTabStop:u,hasTabStop:b!=null}):o})})});K3.displayName=Y3;var x8={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function g8(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function v8(e,t,n){const s=g8(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(s))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(s)))return x8[s]}function X3(e,t=!1){const n=document.activeElement;for(const s of e)if(s===n||(s.focus({preventScroll:t}),document.activeElement!==n))return}function y8(e,t){return e.map((n,s)=>e[(t+s)%e.length])}var b8=Q3,j8=K3,dx="Tabs",[w8,$U]=wd(dx,[G3]),J3=G3(),[N8,By]=w8(dx),Z3=A.forwardRef((e,t)=>{const{__scopeTabs:n,value:s,onValueChange:a,defaultValue:i,orientation:o="horizontal",dir:l,activationMode:c="automatic",...d}=e,p=q3(l),[u,f]=ex({prop:s,onChange:a,defaultProp:i??"",caller:dx});return r.jsx(N8,{scope:n,baseId:W3(),value:u,onValueChange:f,orientation:o,dir:p,activationMode:c,children:r.jsx(Mr.div,{dir:p,"data-orientation":o,...d,ref:t})})});Z3.displayName=dx;var eC="TabsList",tC=A.forwardRef((e,t)=>{const{__scopeTabs:n,loop:s=!0,...a}=e,i=By(eC,n),o=J3(n);return r.jsx(b8,{asChild:!0,...o,orientation:i.orientation,dir:i.dir,loop:s,children:r.jsx(Mr.div,{role:"tablist","aria-orientation":i.orientation,...a,ref:t})})});tC.displayName=eC;var rC="TabsTrigger",nC=A.forwardRef((e,t)=>{const{__scopeTabs:n,value:s,disabled:a=!1,...i}=e,o=By(rC,n),l=J3(n),c=iC(o.baseId,s),d=oC(o.baseId,s),p=s===o.value;return r.jsx(j8,{asChild:!0,...l,focusable:!a,active:p,children:r.jsx(Mr.button,{type:"button",role:"tab","aria-selected":p,"aria-controls":d,"data-state":p?"active":"inactive","data-disabled":a?"":void 0,disabled:a,id:c,...i,ref:t,onMouseDown:Sr(e.onMouseDown,u=>{!a&&u.button===0&&u.ctrlKey===!1?o.onValueChange(s):u.preventDefault()}),onKeyDown:Sr(e.onKeyDown,u=>{[" ","Enter"].includes(u.key)&&o.onValueChange(s)}),onFocus:Sr(e.onFocus,()=>{const u=o.activationMode!=="manual";!p&&!a&&u&&o.onValueChange(s)})})})});nC.displayName=rC;var sC="TabsContent",aC=A.forwardRef((e,t)=>{const{__scopeTabs:n,value:s,forceMount:a,children:i,...o}=e,l=By(sC,n),c=iC(l.baseId,s),d=oC(l.baseId,s),p=s===l.value,u=A.useRef(p);return A.useEffect(()=>{const f=requestAnimationFrame(()=>u.current=!1);return()=>cancelAnimationFrame(f)},[]),r.jsx(Zh,{present:a||p,children:({present:f})=>r.jsx(Mr.div,{"data-state":p?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!f,id:d,tabIndex:0,...o,ref:t,style:{...e.style,animationDuration:u.current?"0s":void 0},children:f&&i})})});aC.displayName=sC;function iC(e,t){return`${e}-trigger-${t}`}function oC(e,t){return`${e}-content-${t}`}var S8=Z3,lC=tC,cC=nC,dC=aC;const dn=S8,Zr=A.forwardRef(({className:e,...t},n)=>r.jsx(lC,{ref:n,className:$e("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));Zr.displayName=lC.displayName;const ut=A.forwardRef(({className:e,...t},n)=>r.jsx(cC,{ref:n,className:$e("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...t}));ut.displayName=cC.displayName;const ht=A.forwardRef(({className:e,...t},n)=>r.jsx(dC,{ref:n,className:$e("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));ht.displayName=dC.displayName;const dv=[{id:"1",name:"New",order:1,probability:10,isActive:!0,color:"bg-blue-500"},{id:"2",name:"Contacted",order:2,probability:25,isActive:!0,color:"bg-yellow-500"},{id:"3",name:"Qualified",order:3,probability:50,isActive:!0,color:"bg-orange-500"},{id:"4",name:"Proposal",order:4,probability:75,isActive:!0,color:"bg-purple-500"},{id:"5",name:"Negotiation",order:5,probability:90,isActive:!0,color:"bg-indigo-500"},{id:"6",name:"Closed Won",order:6,probability:100,isActive:!0,color:"bg-green-500"},{id:"7",name:"Closed Lost",order:7,probability:0,isActive:!0,color:"bg-red-500"}];function C8(){var u,f,m;const{leads:e,salesReps:t,activities:n}=Hl(),[s,a]=A.useState("all"),[i,o]=A.useState("30"),l=A.useMemo(()=>{const g=s==="all"?e:e.filter(j=>j.assignedTo===s);return dv.map(j=>{const x=g.filter(y=>{switch(j.name.toLowerCase()){case"new":return y.status===nn.NEW;case"contacted":return y.status===nn.CONTACTED;case"qualified":return y.status===nn.QUALIFIED;case"proposal":return y.status===nn.PROPOSAL;case"negotiation":return y.status===nn.NEGOTIATION;case"closed won":return y.status===nn.CLOSED_WON;case"closed lost":return y.status===nn.CLOSED_LOST;default:return!1}}),v=x.reduce((y,P)=>{var O,E;const M=parseFloat(((E=(O=P.customFields)==null?void 0:O.budget)==null?void 0:E.replace(/[^0-9]/g,""))||"0");return y+M*j.probability/100},0);return{stage:j.name,count:x.length,value:v,averageTime:7,conversionRate:j.probability}})},[e,s]),c=A.useMemo(()=>t.map(b=>{const j=e.filter(D=>D.assignedTo===b.id),v=n.filter(D=>D.userId===b.id).filter(D=>{const C=new Date(D.createdAt),w=new Date;return w.setDate(w.getDate()-7),C>=w}),y=j.filter(D=>[nn.QUALIFIED,nn.PROPOSAL,nn.NEGOTIATION,nn.CLOSED_WON].includes(D.status)),P=j.filter(D=>D.status===nn.CLOSED_WON),M=j.filter(D=>D.status===nn.CLOSED_LOST),O=j.reduce((D,C)=>{var L,W;if(C.status===nn.CLOSED_WON||C.status===nn.CLOSED_LOST)return D;const w=parseFloat(((W=(L=C.customFields)==null?void 0:L.budget)==null?void 0:W.replace(/[^0-9]/g,""))||"0"),T=dv.find(V=>V.name.toLowerCase()===C.status.replace("_"," "));return D+w*((T==null?void 0:T.probability)||0)/100},0),E=P.length+M.length,S=E>0?P.length/E*100:0,k=P.length>0?P.reduce((D,C)=>{var T,L;const w=parseFloat(((L=(T=C.customFields)==null?void 0:T.budget)==null?void 0:L.replace(/[^0-9]/g,""))||"0");return D+w},0)/P.length:0;return{repId:b.id,repName:b.name,totalLeads:j.length,qualifiedLeads:y.length,closedWon:P.length,closedLost:M.length,pipelineValue:O,conversionRate:S,averageDealSize:k,activitiesThisWeek:v.length}}),[e,t,n]),d=l.reduce((g,b)=>g+b.value,0),p=l.reduce((g,b)=>g+b.count,0);return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex gap-4",children:[r.jsxs(lt,{value:s,onValueChange:a,children:[r.jsx(it,{className:"w-48",children:r.jsx(ct,{placeholder:"Select sales rep"})}),r.jsxs(ot,{children:[r.jsx(oe,{value:"all",children:"All Sales Reps"}),t.map(g=>r.jsx(oe,{value:g.id,children:g.name},g.id))]})]}),r.jsxs(lt,{value:i,onValueChange:o,children:[r.jsx(it,{className:"w-32",children:r.jsx(ct,{})}),r.jsxs(ot,{children:[r.jsx(oe,{value:"7",children:"7 days"}),r.jsx(oe,{value:"30",children:"30 days"}),r.jsx(oe,{value:"90",children:"90 days"}),r.jsx(oe,{value:"365",children:"1 year"})]})]})]}),r.jsxs("div",{className:"grid gap-4 md:grid-cols-4",children:[r.jsxs(me,{className:"shadow-sm border-0 bg-gradient-to-br from-blue-50 to-blue-100/50",children:[r.jsxs(be,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(je,{className:"text-sm font-medium text-blue-900",children:"Total Pipeline"}),r.jsx(gr,{className:"h-4 w-4 text-blue-600"})]}),r.jsxs(fe,{children:[r.jsx("div",{className:"text-2xl font-bold text-blue-900",children:Le(d)}),r.jsxs("p",{className:"text-xs text-blue-600 flex items-center mt-1",children:[r.jsx(jt,{className:"h-3 w-3 mr-1"}),p," active leads"]})]})]}),r.jsxs(me,{className:"shadow-sm border-0 bg-gradient-to-br from-green-50 to-green-100/50",children:[r.jsxs(be,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(je,{className:"text-sm font-medium text-green-900",children:"Qualified Leads"}),r.jsx(vs,{className:"h-4 w-4 text-green-600"})]}),r.jsxs(fe,{children:[r.jsx("div",{className:"text-2xl font-bold text-green-900",children:((u=l.find(g=>g.stage==="Qualified"))==null?void 0:u.count)||0}),r.jsxs("p",{className:"text-xs text-green-600 flex items-center mt-1",children:[r.jsx(jt,{className:"h-3 w-3 mr-1"}),"Ready for proposal"]})]})]}),r.jsxs(me,{className:"shadow-sm border-0 bg-gradient-to-br from-purple-50 to-purple-100/50",children:[r.jsxs(be,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(je,{className:"text-sm font-medium text-purple-900",children:"Conversion Rate"}),r.jsx(vs,{className:"h-4 w-4 text-purple-600"})]}),r.jsxs(fe,{children:[r.jsxs("div",{className:"text-2xl font-bold text-purple-900",children:[Math.round(s==="all"?c.reduce((g,b)=>g+b.conversionRate,0)/c.length||0:((f=c.find(g=>g.repId===s))==null?void 0:f.conversionRate)||0),"%"]}),r.jsxs("p",{className:"text-xs text-purple-600 flex items-center mt-1",children:[r.jsx(jt,{className:"h-3 w-3 mr-1"}),"Win rate"]})]})]}),r.jsxs(me,{className:"shadow-sm border-0 bg-gradient-to-br from-orange-50 to-orange-100/50",children:[r.jsxs(be,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(je,{className:"text-sm font-medium text-orange-900",children:"Avg Deal Size"}),r.jsx(gr,{className:"h-4 w-4 text-orange-600"})]}),r.jsxs(fe,{children:[r.jsx("div",{className:"text-2xl font-bold text-orange-900",children:Le(s==="all"?c.reduce((g,b)=>g+b.averageDealSize,0)/c.length||0:((m=c.find(g=>g.repId===s))==null?void 0:m.averageDealSize)||0)}),r.jsxs("p",{className:"text-xs text-orange-600 flex items-center mt-1",children:[r.jsx(gr,{className:"h-3 w-3 mr-1"}),"Per closed deal"]})]})]})]}),r.jsxs(me,{children:[r.jsxs(be,{children:[r.jsx(je,{children:"Sales Pipeline"}),r.jsx(Ke,{children:"Lead distribution across pipeline stages"})]}),r.jsx(fe,{children:r.jsx("div",{className:"grid gap-4 md:grid-cols-7",children:l.map((g,b)=>{const j=dv[b];return r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:$e("w-full h-24 rounded-lg flex items-center justify-center text-white font-bold text-lg mb-2",j.color),children:g.count}),r.jsx("h3",{className:"font-semibold text-sm",children:j.name}),r.jsx("p",{className:"text-xs text-muted-foreground",children:Le(g.value)}),r.jsxs("p",{className:"text-xs text-muted-foreground",children:[j.probability,"% probability"]})]},j.id)})})})]}),r.jsxs(me,{children:[r.jsxs(be,{children:[r.jsx(je,{children:"Sales Rep Performance"}),r.jsx(Ke,{children:"Individual performance metrics and activity levels"})]}),r.jsx(fe,{children:r.jsx("div",{className:"space-y-4",children:c.map(g=>r.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg hover:bg-accent/50 transition-colors",children:[r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[r.jsx("h3",{className:"font-semibold",children:g.repName}),r.jsxs(Re,{variant:"secondary",children:[g.totalLeads," leads"]}),r.jsxs(Re,{className:"bg-green-50 text-green-700 border-green-200",children:[g.conversionRate.toFixed(1),"% conversion"]})]}),r.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm text-muted-foreground",children:[r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Pipeline Value:"}),r.jsx("div",{className:"font-bold text-primary",children:Le(g.pipelineValue)})]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Qualified:"}),r.jsx("div",{className:"font-bold text-green-600",children:g.qualifiedLeads})]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Closed Won:"}),r.jsx("div",{className:"font-bold text-blue-600",children:g.closedWon})]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Activities (7d):"}),r.jsx("div",{className:"font-bold text-purple-600",children:g.activitiesThisWeek})]})]})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsxs(ae,{variant:"outline",size:"sm",children:[r.jsx(cn,{className:"h-3 w-3 mr-1"}),"View Leads"]}),r.jsxs(ae,{variant:"outline",size:"sm",children:[r.jsx(kn,{className:"h-3 w-3 mr-1"}),"Activities"]})]})]},g.repId))})})]})]})}var zy="Progress",$y=100,[A8,UU]=wd(zy),[E8,I8]=A8(zy),uC=A.forwardRef((e,t)=>{const{__scopeProgress:n,value:s=null,max:a,getValueLabel:i=P8,...o}=e;(a||a===0)&&!ew(a)&&console.error(k8(`${a}`,"Progress"));const l=ew(a)?a:$y;s!==null&&!tw(s,l)&&console.error(D8(`${s}`,"Progress"));const c=tw(s,l)?s:null,d=bh(c)?i(c,l):void 0;return r.jsx(E8,{scope:n,value:c,max:l,children:r.jsx(Mr.div,{"aria-valuemax":l,"aria-valuemin":0,"aria-valuenow":bh(c)?c:void 0,"aria-valuetext":d,role:"progressbar","data-state":fC(c,l),"data-value":c??void 0,"data-max":l,...o,ref:t})})});uC.displayName=zy;var pC="ProgressIndicator",mC=A.forwardRef((e,t)=>{const{__scopeProgress:n,...s}=e,a=I8(pC,n);return r.jsx(Mr.div,{"data-state":fC(a.value,a.max),"data-value":a.value??void 0,"data-max":a.max,...s,ref:t})});mC.displayName=pC;function P8(e,t){return`${Math.round(e/t*100)}%`}function fC(e,t){return e==null?"indeterminate":e===t?"complete":"loading"}function bh(e){return typeof e=="number"}function ew(e){return bh(e)&&!isNaN(e)&&e>0}function tw(e,t){return bh(e)&&!isNaN(e)&&e<=t&&e>=0}function k8(e,t){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${$y}\`.`}function D8(e,t){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${$y} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var hC=uC,L8=mC;const Cl=A.forwardRef(({className:e,value:t,...n},s)=>r.jsx(hC,{ref:s,className:$e("relative h-4 w-full overflow-hidden rounded-full bg-secondary",e),...n,children:r.jsx(L8,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})}));Cl.displayName=hC.displayName;function T8({score:e,className:t}){const n=i=>i>=80?"text-green-600":i>=60?"text-yellow-600":i>=40?"text-orange-600":"text-red-600",s=i=>i>=80?"bg-green-50 text-green-700 border-green-200":i>=60?"bg-yellow-50 text-yellow-700 border-yellow-200":i>=40?"bg-orange-50 text-orange-700 border-orange-200":"bg-red-50 text-red-700 border-red-200",a=i=>i>=80?"Hot Lead":i>=60?"Warm Lead":i>=40?"Cool Lead":"Cold Lead";return r.jsxs(me,{className:$e("shadow-sm",t),children:[r.jsx(be,{children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx(je,{className:"text-lg",children:"Lead Score"}),r.jsxs(Ke,{children:["Last calculated: ",e.lastCalculated.toLocaleDateString()]})]}),r.jsxs("div",{className:"text-right",children:[r.jsx("div",{className:$e("text-3xl font-bold",n(e.totalScore)),children:e.totalScore}),r.jsx(Re,{className:$e("ri-badge-status",s(e.totalScore)),children:a(e.totalScore)})]})]})}),r.jsxs(fe,{className:"space-y-6",children:[r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Os,{className:"h-4 w-4 text-blue-500"}),r.jsx("span",{className:"text-sm font-medium",children:"Demographics"})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Cl,{value:e.demographicScore/50*100,className:"w-20"}),r.jsx("span",{className:"text-sm font-bold w-8",children:e.demographicScore})]})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(ki,{className:"h-4 w-4 text-green-500"}),r.jsx("span",{className:"text-sm font-medium",children:"Behavior"})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Cl,{value:e.behaviorScore/50*100,className:"w-20"}),r.jsx("span",{className:"text-sm font-bold w-8",children:e.behaviorScore})]})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(LD,{className:"h-4 w-4 text-purple-500"}),r.jsx("span",{className:"text-sm font-medium",children:"Engagement"})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Cl,{value:e.engagementScore/50*100,className:"w-20"}),r.jsx("span",{className:"text-sm font-bold w-8",children:e.engagementScore})]})]})]}),r.jsxs("div",{children:[r.jsxs("h4",{className:"font-semibold text-sm mb-3 flex items-center",children:[r.jsx(jt,{className:"h-4 w-4 mr-2"}),"Score Factors"]}),r.jsx("div",{className:"space-y-2",children:e.factors.map((i,o)=>r.jsxs("div",{className:"flex items-center justify-between p-2 bg-muted/30 rounded-md",children:[r.jsxs("div",{children:[r.jsx("span",{className:"text-sm font-medium",children:i.factor}),r.jsx("p",{className:"text-xs text-muted-foreground",children:i.reason})]}),r.jsxs(Re,{variant:"secondary",className:"text-xs",children:["+",i.points]})]},o))})]}),r.jsxs("div",{className:"bg-blue-50 p-3 rounded-lg",children:[r.jsx("h4",{className:"font-semibold text-sm text-blue-900 mb-2",children:"Recommendations"}),r.jsxs("div",{className:"space-y-1 text-xs text-blue-700",children:[e.totalScore>=80&&r.jsx("p",{children:" High priority lead - schedule immediate follow-up"}),e.totalScore>=60&&e.totalScore<80&&r.jsx("p",{children:" Good potential - maintain regular contact"}),e.totalScore>=40&&e.totalScore<60&&r.jsx("p",{children:" Nurture with educational content"}),e.totalScore<40&&r.jsx("p",{children:" Low priority - add to drip campaign"}),e.behaviorScore<20&&r.jsx("p",{children:" Increase engagement with personalized outreach"}),e.engagementScore<20&&r.jsx("p",{children:" Try different communication channels"})]})]})]})]})}function R8({leadId:e,activities:t}){const{logActivity:n}=Hl(),[s,a]=A.useState(!1),[i,o]=A.useState({type:"note",description:"",outcome:void 0,duration:void 0,scheduledDate:void 0}),l=f=>{switch(f){case"call":return Ay;case"email":return aa;case"meeting":return kn;case"note":return Vn;case"status_change":return Os;default:return Vn}},c=f=>{switch(f){case"call":return"text-green-500";case"email":return"text-blue-500";case"meeting":return"text-purple-500";case"note":return"text-gray-500";case"status_change":return"text-orange-500";default:return"text-gray-500"}},d=f=>{switch(f){case"positive":return"bg-green-50 text-green-700 border-green-200";case"neutral":return"bg-yellow-50 text-yellow-700 border-yellow-200";case"negative":return"bg-red-50 text-red-700 border-red-200";default:return"bg-gray-50 text-gray-700 border-gray-200"}},p=async()=>{i.description.trim()&&(await n({leadId:e,type:i.type,description:i.description,outcome:i.outcome,duration:i.duration,scheduledDate:i.scheduledDate,userId:"current-user"}),o({type:"note",description:"",outcome:void 0,duration:void 0,scheduledDate:void 0}),a(!1))},u=[...t].sort((f,m)=>new Date(m.createdAt).getTime()-new Date(f.createdAt).getTime());return r.jsxs(me,{className:"shadow-sm",children:[r.jsx(be,{children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx(je,{className:"text-lg",children:"Activity Timeline"}),r.jsx(Ke,{children:"Track all interactions and activities for this lead"})]}),r.jsxs(ae,{onClick:()=>a(!0),size:"sm",children:[r.jsx(It,{className:"h-4 w-4 mr-2"}),"Add Activity"]})]})}),r.jsxs(fe,{children:[s&&r.jsx(me,{className:"mb-6 border-dashed",children:r.jsx(fe,{className:"pt-6",children:r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium",children:"Activity Type"}),r.jsxs(lt,{value:i.type,onValueChange:f=>o(m=>({...m,type:f})),children:[r.jsx(it,{children:r.jsx(ct,{})}),r.jsxs(ot,{children:[r.jsx(oe,{value:"call",children:"Phone Call"}),r.jsx(oe,{value:"email",children:"Email"}),r.jsx(oe,{value:"meeting",children:"Meeting"}),r.jsx(oe,{value:"note",children:"Note"})]})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium",children:"Outcome"}),r.jsxs(lt,{value:i.outcome||"",onValueChange:f=>o(m=>({...m,outcome:f||void 0})),children:[r.jsx(it,{children:r.jsx(ct,{placeholder:"Select outcome"})}),r.jsxs(ot,{children:[r.jsx(oe,{value:"positive",children:"Positive"}),r.jsx(oe,{value:"neutral",children:"Neutral"}),r.jsx(oe,{value:"negative",children:"Negative"})]})]})]})]}),i.type==="call"&&r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium",children:"Duration (minutes)"}),r.jsx(Be,{type:"number",value:i.duration||"",onChange:f=>o(m=>({...m,duration:f.target.value?parseInt(f.target.value):void 0})),placeholder:"e.g., 15"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium",children:"Description"}),r.jsx(lr,{value:i.description,onChange:f=>o(m=>({...m,description:f.target.value})),placeholder:"Describe the activity...",rows:3})]}),r.jsxs("div",{className:"flex justify-end space-x-2",children:[r.jsx(ae,{variant:"outline",onClick:()=>a(!1),children:"Cancel"}),r.jsx(ae,{onClick:p,children:"Add Activity"})]})]})})}),r.jsx("div",{className:"space-y-4",children:u.length===0?r.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No activities recorded yet"}):u.map((f,m)=>{const g=l(f.type),b=m===u.length-1;return r.jsxs("div",{className:"relative",children:[!b&&r.jsx("div",{className:"absolute left-4 top-8 bottom-0 w-px bg-border"}),r.jsxs("div",{className:"flex items-start space-x-3",children:[r.jsx("div",{className:$e("flex-shrink-0 w-8 h-8 rounded-full bg-background border-2 flex items-center justify-center",c(f.type)),children:r.jsx(g,{className:"h-4 w-4"})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsxs("div",{className:"flex items-center justify-between mb-1",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("span",{className:"font-medium text-sm capitalize",children:f.type.replace("_"," ")}),f.outcome&&r.jsx(Re,{className:$e("ri-badge-status text-xs",d(f.outcome)),children:f.outcome}),f.duration&&r.jsxs(Re,{variant:"secondary",className:"text-xs",children:[r.jsx(pr,{className:"h-3 w-3 mr-1"}),f.duration,"m"]})]}),r.jsx("span",{className:"text-xs text-muted-foreground",children:yt(f.createdAt)})]}),r.jsx("p",{className:"text-sm text-muted-foreground",children:f.description}),f.scheduledDate&&r.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["Scheduled for: ",yt(f.scheduledDate)]})]})]})]},f.id)})})]})]})}function F8(e){const t=A.useRef({value:e,previous:e});return A.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}function _8(e){const[t,n]=A.useState(void 0);return Fl(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const s=new ResizeObserver(a=>{if(!Array.isArray(a)||!a.length)return;const i=a[0];let o,l;if("borderBoxSize"in i){const c=i.borderBoxSize,d=Array.isArray(c)?c[0]:c;o=d.inlineSize,l=d.blockSize}else o=e.offsetWidth,l=e.offsetHeight;n({width:o,height:l})});return s.observe(e,{box:"border-box"}),()=>s.unobserve(e)}else n(void 0)},[e]),t}var ux="Checkbox",[O8,VU]=wd(ux),[M8,Uy]=O8(ux);function B8(e){const{__scopeCheckbox:t,checked:n,children:s,defaultChecked:a,disabled:i,form:o,name:l,onCheckedChange:c,required:d,value:p="on",internal_do_not_use_render:u}=e,[f,m]=ex({prop:n,defaultProp:a??!1,onChange:c,caller:ux}),[g,b]=A.useState(null),[j,x]=A.useState(null),v=A.useRef(!1),y=g?!!o||!!g.closest("form"):!0,P={checked:f,disabled:i,setChecked:m,control:g,setControl:b,name:l,form:o,value:p,hasConsumerStoppedPropagationRef:v,required:d,defaultChecked:ko(a)?!1:a,isFormControl:y,bubbleInput:j,setBubbleInput:x};return r.jsx(M8,{scope:t,...P,children:z8(u)?u(P):s})}var xC="CheckboxTrigger",gC=A.forwardRef(({__scopeCheckbox:e,onKeyDown:t,onClick:n,...s},a)=>{const{control:i,value:o,disabled:l,checked:c,required:d,setControl:p,setChecked:u,hasConsumerStoppedPropagationRef:f,isFormControl:m,bubbleInput:g}=Uy(xC,e),b=pi(a,p),j=A.useRef(c);return A.useEffect(()=>{const x=i==null?void 0:i.form;if(x){const v=()=>u(j.current);return x.addEventListener("reset",v),()=>x.removeEventListener("reset",v)}},[i,u]),r.jsx(Mr.button,{type:"button",role:"checkbox","aria-checked":ko(c)?"mixed":c,"aria-required":d,"data-state":wC(c),"data-disabled":l?"":void 0,disabled:l,value:o,...s,ref:b,onKeyDown:Sr(t,x=>{x.key==="Enter"&&x.preventDefault()}),onClick:Sr(n,x=>{u(v=>ko(v)?!0:!v),g&&m&&(f.current=x.isPropagationStopped(),f.current||x.stopPropagation())})})});gC.displayName=xC;var Vy=A.forwardRef((e,t)=>{const{__scopeCheckbox:n,name:s,checked:a,defaultChecked:i,required:o,disabled:l,value:c,onCheckedChange:d,form:p,...u}=e;return r.jsx(B8,{__scopeCheckbox:n,checked:a,defaultChecked:i,disabled:l,required:o,onCheckedChange:d,name:s,form:p,value:c,internal_do_not_use_render:({isFormControl:f})=>r.jsxs(r.Fragment,{children:[r.jsx(gC,{...u,ref:t,__scopeCheckbox:n}),f&&r.jsx(jC,{__scopeCheckbox:n})]})})});Vy.displayName=ux;var vC="CheckboxIndicator",yC=A.forwardRef((e,t)=>{const{__scopeCheckbox:n,forceMount:s,...a}=e,i=Uy(vC,n);return r.jsx(Zh,{present:s||ko(i.checked)||i.checked===!0,children:r.jsx(Mr.span,{"data-state":wC(i.checked),"data-disabled":i.disabled?"":void 0,...a,ref:t,style:{pointerEvents:"none",...e.style}})})});yC.displayName=vC;var bC="CheckboxBubbleInput",jC=A.forwardRef(({__scopeCheckbox:e,...t},n)=>{const{control:s,hasConsumerStoppedPropagationRef:a,checked:i,defaultChecked:o,required:l,disabled:c,name:d,value:p,form:u,bubbleInput:f,setBubbleInput:m}=Uy(bC,e),g=pi(n,m),b=F8(i),j=_8(s);A.useEffect(()=>{const v=f;if(!v)return;const y=window.HTMLInputElement.prototype,M=Object.getOwnPropertyDescriptor(y,"checked").set,O=!a.current;if(b!==i&&M){const E=new Event("click",{bubbles:O});v.indeterminate=ko(i),M.call(v,ko(i)?!1:i),v.dispatchEvent(E)}},[f,b,i,a]);const x=A.useRef(ko(i)?!1:i);return r.jsx(Mr.input,{type:"checkbox","aria-hidden":!0,defaultChecked:o??x.current,required:l,disabled:c,name:d,value:p,form:u,...t,tabIndex:-1,ref:g,style:{...t.style,...j,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});jC.displayName=bC;function z8(e){return typeof e=="function"}function ko(e){return e==="indeterminate"}function wC(e){return ko(e)?"indeterminate":e?"checked":"unchecked"}const Yn=A.forwardRef(({className:e,...t},n)=>r.jsx(Vy,{ref:n,className:$e("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...t,children:r.jsx(yC,{className:$e("flex items-center justify-center text-current"),children:r.jsx(Sy,{className:"h-4 w-4"})})}));Yn.displayName=Vy.displayName;function $8({leadId:e,reminders:t}){const{createReminder:n,completeReminder:s}=Hl(),[a,i]=A.useState(!1),[o,l]=A.useState({type:"follow_up",title:"",description:"",dueDate:"",priority:"medium"}),c=b=>{switch(b){case"urgent":return"bg-red-50 text-red-700 border-red-200";case"high":return"bg-orange-50 text-orange-700 border-orange-200";case"medium":return"bg-yellow-50 text-yellow-700 border-yellow-200";case"low":return"bg-green-50 text-green-700 border-green-200";default:return"bg-gray-50 text-gray-700 border-gray-200"}},d=b=>{switch(b){case"call":return"";case"email":return"";case"meeting":return"";case"deadline":return"";default:return""}},p=b=>new Date(b)<new Date,u=async()=>{!o.title.trim()||!o.dueDate||(await n({leadId:e,type:o.type,title:o.title,description:o.description,dueDate:new Date(o.dueDate),priority:o.priority,userId:"current-user"}),l({type:"follow_up",title:"",description:"",dueDate:"",priority:"medium"}),i(!1))},f=async b=>{await s(b)},m=t.filter(b=>!b.isCompleted),g=t.filter(b=>b.isCompleted);return r.jsxs(me,{className:"shadow-sm",children:[r.jsx(be,{children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsxs(je,{className:"text-lg flex items-center",children:[r.jsx(PD,{className:"h-5 w-5 mr-2"}),"Reminders"]}),r.jsx(Ke,{children:"Set follow-up reminders and track completion"})]}),r.jsxs(ae,{onClick:()=>i(!0),size:"sm",children:[r.jsx(It,{className:"h-4 w-4 mr-2"}),"Add Reminder"]})]})}),r.jsxs(fe,{children:[a&&r.jsx(me,{className:"mb-6 border-dashed",children:r.jsx(fe,{className:"pt-6",children:r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium",children:"Reminder Type"}),r.jsxs(lt,{value:o.type,onValueChange:b=>l(j=>({...j,type:b})),children:[r.jsx(it,{children:r.jsx(ct,{})}),r.jsxs(ot,{children:[r.jsx(oe,{value:"follow_up",children:"Follow Up"}),r.jsx(oe,{value:"call",children:"Call"}),r.jsx(oe,{value:"email",children:"Email"}),r.jsx(oe,{value:"meeting",children:"Meeting"}),r.jsx(oe,{value:"deadline",children:"Deadline"})]})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium",children:"Priority"}),r.jsxs(lt,{value:o.priority,onValueChange:b=>l(j=>({...j,priority:b})),children:[r.jsx(it,{children:r.jsx(ct,{})}),r.jsxs(ot,{children:[r.jsx(oe,{value:"low",children:"Low"}),r.jsx(oe,{value:"medium",children:"Medium"}),r.jsx(oe,{value:"high",children:"High"}),r.jsx(oe,{value:"urgent",children:"Urgent"})]})]})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium",children:"Title"}),r.jsx(Be,{value:o.title,onChange:b=>l(j=>({...j,title:b.target.value})),placeholder:"e.g., Follow up on pricing questions"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium",children:"Due Date"}),r.jsx(Be,{type:"datetime-local",value:o.dueDate,onChange:b=>l(j=>({...j,dueDate:b.target.value}))})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium",children:"Description"}),r.jsx(lr,{value:o.description,onChange:b=>l(j=>({...j,description:b.target.value})),placeholder:"Additional details...",rows:2})]}),r.jsxs("div",{className:"flex justify-end space-x-2",children:[r.jsx(ae,{variant:"outline",onClick:()=>i(!1),children:"Cancel"}),r.jsx(ae,{onClick:u,children:"Add Reminder"})]})]})})}),r.jsxs("div",{className:"space-y-6",children:[m.length>0&&r.jsxs("div",{children:[r.jsxs("h4",{className:"font-semibold text-sm mb-3 flex items-center",children:[r.jsx(pr,{className:"h-4 w-4 mr-2"}),"Active Reminders (",m.length,")"]}),r.jsx("div",{className:"space-y-3",children:m.sort((b,j)=>new Date(b.dueDate).getTime()-new Date(j.dueDate).getTime()).map(b=>r.jsxs("div",{className:$e("flex items-start space-x-3 p-3 border rounded-lg",p(b.dueDate)?"border-red-200 bg-red-50":"hover:bg-accent/50"),children:[r.jsx(Yn,{checked:!1,onCheckedChange:()=>f(b.id),className:"mt-1"}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[r.jsx("span",{className:"text-lg",children:d(b.type)}),r.jsx("span",{className:"font-medium text-sm",children:b.title}),r.jsx(Re,{className:$e("ri-badge-status text-xs",c(b.priority)),children:b.priority}),p(b.dueDate)&&r.jsxs(Re,{className:"bg-red-50 text-red-700 border-red-200 text-xs",children:[r.jsx(ai,{className:"h-3 w-3 mr-1"}),"Overdue"]})]}),r.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:b.description}),r.jsxs("div",{className:"flex items-center space-x-2 text-xs text-muted-foreground",children:[r.jsx(kn,{className:"h-3 w-3"}),r.jsxs("span",{children:["Due: ",yt(b.dueDate)]})]})]})]},b.id))})]}),g.length>0&&r.jsxs("div",{children:[r.jsxs("h4",{className:"font-semibold text-sm mb-3 text-muted-foreground",children:["Completed (",g.length,")"]}),r.jsx("div",{className:"space-y-2",children:g.sort((b,j)=>new Date(j.dueDate).getTime()-new Date(b.dueDate).getTime()).slice(0,5).map(b=>r.jsxs("div",{className:"flex items-center space-x-3 p-2 text-sm text-muted-foreground",children:[r.jsx(Yn,{checked:!0,disabled:!0}),r.jsx("span",{className:"line-through",children:b.title}),r.jsx("span",{className:"text-xs",children:yt(b.dueDate)})]},b.id))})]}),m.length===0&&g.length===0&&r.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No reminders set for this lead"})]})]})]})}function U8({template:e,type:t,onSave:n,onCancel:s}){const{toast:a}=Cr(),[i,o]=A.useState(!1),[l,c]=A.useState({name:(e==null?void 0:e.name)||"",subject:(e==null?void 0:e.subject)||"",body:(e==null?void 0:e.body)||(e==null?void 0:e.message)||"",type:(e==null?void 0:e.type)||"custom",variables:(e==null?void 0:e.variables)||[],isActive:(e==null?void 0:e.isActive)??!0}),[d,p]=A.useState(""),u=[{value:"welcome",label:"Welcome"},{value:"follow_up",label:"Follow Up"},{value:"nurture",label:"Nurture"},{value:"proposal",label:"Proposal"},{value:"reminder",label:"Reminder"},{value:"custom",label:"Custom"}],f=["first_name","last_name","company_name","rep_name","rep_phone","rep_email","website_url","budget","timeframe"],m=async()=>{if(!l.name.trim()){a({title:"Validation Error",description:"Template name is required",variant:"destructive"});return}if(!l.body.trim()){a({title:"Validation Error",description:`${t==="email"?"Email body":"SMS message"} is required`,variant:"destructive"});return}if(t==="email"&&!l.subject.trim()){a({title:"Validation Error",description:"Email subject is required",variant:"destructive"});return}if(t==="sms"&&l.body.length>160){a({title:"Validation Error",description:"SMS message must be 160 characters or less",variant:"destructive"});return}o(!0);try{const x=t==="email"?{name:l.name,subject:l.subject,body:l.body,type:l.type,variables:l.variables,isActive:l.isActive}:{name:l.name,message:l.body,type:l.type,variables:l.variables,isActive:l.isActive};await n(x),a({title:"Success",description:`${t==="email"?"Email":"SMS"} template ${e?"updated":"created"} successfully`})}catch{a({title:"Error",description:`Failed to ${e?"update":"create"} template`,variant:"destructive"})}finally{o(!1)}},g=()=>{d.trim()&&!l.variables.includes(d.trim())&&(c(x=>({...x,variables:[...x.variables,d.trim()]})),p(""))},b=x=>{c(v=>({...v,variables:v.variables.filter(y=>y!==x)}))},j=x=>{const v=`{{${x}}}`;c(y=>({...y,body:y.body+v}))};return r.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:r.jsxs(me,{className:"w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[r.jsx(be,{children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsxs(je,{className:"text-xl flex items-center",children:[t==="email"?r.jsx(aa,{className:"h-5 w-5 mr-2 text-blue-500"}):r.jsx(Vn,{className:"h-5 w-5 mr-2 text-green-500"}),e?"Edit":"Create"," ",t==="email"?"Email":"SMS"," Template"]}),r.jsx(Ke,{children:e?"Update the template details":"Create a new template for automated communications"})]}),r.jsx(ae,{variant:"ghost",size:"sm",onClick:s,children:r.jsx(or,{className:"h-4 w-4"})})]})}),r.jsxs(fe,{className:"space-y-6",children:[r.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[r.jsxs("div",{children:[r.jsx(Ae,{htmlFor:"name",children:"Template Name *"}),r.jsx(Be,{id:"name",value:l.name,onChange:x=>c(v=>({...v,name:x.target.value})),placeholder:"e.g., Welcome New Lead"})]}),r.jsxs("div",{children:[r.jsx(Ae,{htmlFor:"type",children:"Template Type"}),r.jsxs(lt,{value:l.type,onValueChange:x=>c(v=>({...v,type:x})),children:[r.jsx(it,{children:r.jsx(ct,{})}),r.jsx(ot,{children:u.map(x=>r.jsx(oe,{value:x.value,children:x.label},x.value))})]})]})]}),t==="email"&&r.jsxs("div",{children:[r.jsx(Ae,{htmlFor:"subject",children:"Subject Line *"}),r.jsx(Be,{id:"subject",value:l.subject,onChange:x=>c(v=>({...v,subject:x.target.value})),placeholder:"e.g., Welcome to {{company_name}}, {{first_name}}!"})]}),r.jsxs("div",{className:"grid gap-6 md:grid-cols-3",children:[r.jsxs("div",{className:"md:col-span-2",children:[r.jsxs(Ae,{htmlFor:"body",children:[t==="email"?"Email Body":"SMS Message"," *"]}),r.jsx(lr,{id:"body",value:l.body,onChange:x=>c(v=>({...v,body:x.target.value})),placeholder:t==="email"?`Hi {{first_name}},

Thank you for your interest in our RV inventory!

Best regards,
{{rep_name}}`:"Hi {{first_name}}! Thanks for your interest. Call us at {{rep_phone}} - {{rep_name}}",rows:t==="email"?12:4,maxLength:t==="sms"?160:void 0}),t==="sms"&&r.jsxs("div",{className:"flex justify-between items-center mt-1",children:[r.jsxs("div",{className:"text-xs text-muted-foreground",children:[l.body.length,"/160 characters"]}),r.jsx("div",{className:`text-xs ${l.body.length>160?"text-red-500":"text-muted-foreground"}`,children:l.body.length>160&&"Message too long"})]})]}),r.jsxs("div",{children:[r.jsx(Ae,{children:"Variables"}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"Common Variables:"}),r.jsx("div",{className:"space-y-1",children:f.map(x=>r.jsxs(ae,{variant:"outline",size:"sm",className:"w-full justify-start text-xs",onClick:()=>j(x),children:[r.jsx(It,{className:"h-3 w-3 mr-1"}),x]},x))})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"Custom Variables:"}),r.jsxs("div",{className:"flex space-x-1 mb-2",children:[r.jsx(Be,{value:d,onChange:x=>p(x.target.value),placeholder:"variable_name",className:"text-xs",onKeyPress:x=>x.key==="Enter"&&g()}),r.jsx(ae,{size:"sm",onClick:g,children:r.jsx(It,{className:"h-3 w-3"})})]}),r.jsx("div",{className:"space-y-1",children:l.variables.map(x=>r.jsxs("div",{className:"flex items-center justify-between p-1 bg-muted rounded text-xs",children:[r.jsx("span",{children:x}),r.jsx(ae,{variant:"ghost",size:"sm",onClick:()=>b(x),className:"h-4 w-4 p-0",children:r.jsx(ys,{className:"h-3 w-3"})})]},x))})]})]})]})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Yn,{id:"isActive",checked:l.isActive,onCheckedChange:x=>c(v=>({...v,isActive:!!x}))}),r.jsx(Ae,{htmlFor:"isActive",children:"Active template"})]}),r.jsxs("div",{children:[r.jsx(Ae,{children:"Preview"}),r.jsxs("div",{className:"mt-2 p-4 bg-muted/30 rounded-lg",children:[t==="email"&&r.jsxs("div",{className:"mb-2",children:[r.jsx("strong",{children:"Subject:"})," ",l.subject||"No subject"]}),r.jsx("div",{className:"whitespace-pre-wrap text-sm",children:l.body||`No ${t==="email"?"content":"message"}`})]})]}),r.jsxs("div",{className:"flex justify-end space-x-3 pt-6 border-t",children:[r.jsx(ae,{variant:"outline",onClick:s,disabled:i,children:"Cancel"}),r.jsx(ae,{onClick:m,disabled:i,children:i?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Saving..."]}):r.jsxs(r.Fragment,{children:[r.jsx(da,{className:"h-4 w-4 mr-2"}),e?"Update":"Create"," Template"]})})]})]})]})})}function V8({sequence:e,emailTemplates:t,smsTemplates:n,onSave:s,onCancel:a}){var O,E,S,k,D;const{toast:i}=Cr(),[o,l]=A.useState(!1),[c,d]=A.useState({name:(e==null?void 0:e.name)||"",description:(e==null?void 0:e.description)||"",targetAudience:(e==null?void 0:e.targetAudience)||"",steps:(e==null?void 0:e.steps)||[],isActive:(e==null?void 0:e.isActive)??!0}),[p,u]=A.useState(!1),[f,m]=A.useState({type:"email",delay:0,content:{body:""},isActive:!0}),g=[{value:"email",label:"Email",icon:aa,color:"text-blue-500"},{value:"sms",label:"SMS",icon:Vn,color:"text-green-500"},{value:"wait",label:"Wait",icon:pr,color:"text-orange-500"},{value:"task",label:"Task",icon:cn,color:"text-purple-500"}],b=C=>{const w=g.find(T=>T.value===C);return(w==null?void 0:w.icon)||aa},j=C=>{const w=g.find(T=>T.value===C);return(w==null?void 0:w.color)||"text-gray-500"},x=async()=>{if(!c.name.trim()){i({title:"Validation Error",description:"Sequence name is required",variant:"destructive"});return}if(c.steps.length===0){i({title:"Validation Error",description:"At least one step is required",variant:"destructive"});return}l(!0);try{const C={...c,steps:c.steps.map((w,T)=>({...w,order:T+1}))};await s(C),i({title:"Success",description:`Sequence ${e?"updated":"created"} successfully`})}catch{i({title:"Error",description:`Failed to ${e?"update":"create"} sequence`,variant:"destructive"})}finally{l(!1)}},v=()=>{var w,T;if(!((T=(w=f.content)==null?void 0:w.body)!=null&&T.trim())&&f.type!=="wait"){i({title:"Validation Error",description:"Step content is required",variant:"destructive"});return}const C={id:Math.random().toString(36).substr(2,9),type:f.type||"email",delay:f.delay||0,content:f.content||{body:""},isActive:!0};d(L=>({...L,steps:[...L.steps,C]})),m({type:"email",delay:0,content:{body:""},isActive:!0}),u(!1)},y=C=>{d(w=>({...w,steps:w.steps.filter(T=>T.id!==C)}))},P=(C,w)=>{const T=[...c.steps],L=T.findIndex(W=>W.id===C);w==="up"&&L>0?[T[L],T[L-1]]=[T[L-1],T[L]]:w==="down"&&L<T.length-1&&([T[L],T[L+1]]=[T[L+1],T[L]]),d(W=>({...W,steps:T}))},M=C=>{if(C<24)return`${C} hours`;const w=Math.floor(C/24),T=C%24;return T===0?`${w} days`:`${w} days ${T} hours`};return r.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:r.jsxs(me,{className:"w-full max-w-6xl max-h-[90vh] overflow-y-auto",children:[r.jsx(be,{children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsxs(je,{className:"text-xl",children:[e?"Edit":"Create"," Nurture Sequence"]}),r.jsx(Ke,{children:e?"Update the sequence details and steps":"Create an automated sequence for lead nurturing"})]}),r.jsx(ae,{variant:"ghost",size:"sm",onClick:a,children:r.jsx(or,{className:"h-4 w-4"})})]})}),r.jsxs(fe,{className:"space-y-6",children:[r.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[r.jsxs("div",{children:[r.jsx(Ae,{htmlFor:"name",children:"Sequence Name *"}),r.jsx(Be,{id:"name",value:c.name,onChange:C=>d(w=>({...w,name:C.target.value})),placeholder:"e.g., New Lead Welcome Series"})]}),r.jsxs("div",{children:[r.jsx(Ae,{htmlFor:"targetAudience",children:"Target Audience"}),r.jsx(Be,{id:"targetAudience",value:c.targetAudience,onChange:C=>d(w=>({...w,targetAudience:C.target.value})),placeholder:"e.g., New website leads"})]})]}),r.jsxs("div",{children:[r.jsx(Ae,{htmlFor:"description",children:"Description"}),r.jsx(lr,{id:"description",value:c.description,onChange:C=>d(w=>({...w,description:C.target.value})),placeholder:"Describe the purpose and goals of this sequence",rows:3})]}),r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsxs(Ae,{children:["Sequence Steps (",c.steps.length,")"]}),r.jsxs(ae,{onClick:()=>u(!0),size:"sm",children:[r.jsx(It,{className:"h-4 w-4 mr-2"}),"Add Step"]})]}),p&&r.jsx(me,{className:"mb-4 border-dashed",children:r.jsx(fe,{className:"pt-6",children:r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[r.jsxs("div",{children:[r.jsx(Ae,{children:"Step Type"}),r.jsxs(lt,{value:f.type,onValueChange:C=>m(w=>({...w,type:C})),children:[r.jsx(it,{children:r.jsx(ct,{})}),r.jsx(ot,{children:g.map(C=>r.jsx(oe,{value:C.value,children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(C.icon,{className:$e("h-4 w-4 mr-2",C.color)}),r.jsx("span",{children:C.label})]})},C.value))})]})]}),r.jsxs("div",{children:[r.jsx(Ae,{children:"Delay (hours)"}),r.jsx(Be,{type:"number",value:f.delay||0,onChange:C=>m(w=>({...w,delay:parseInt(C.target.value)||0})),placeholder:"0",min:"0"})]}),f.type==="email"&&r.jsxs("div",{children:[r.jsx(Ae,{children:"Email Template"}),r.jsxs(lt,{value:((O=f.content)==null?void 0:O.template)||"",onValueChange:C=>{const w=t.find(T=>T.id===C);m(T=>({...T,content:{...T.content,template:C,subject:(w==null?void 0:w.subject)||"",body:(w==null?void 0:w.body)||""}}))},children:[r.jsx(it,{children:r.jsx(ct,{placeholder:"Select template"})}),r.jsxs(ot,{children:[r.jsx(oe,{value:"",children:"Custom Content"}),t.filter(C=>C.isActive).map(C=>r.jsx(oe,{value:C.id,children:C.name},C.id))]})]})]}),f.type==="sms"&&r.jsxs("div",{children:[r.jsx(Ae,{children:"SMS Template"}),r.jsxs(lt,{value:((E=f.content)==null?void 0:E.template)||"",onValueChange:C=>{const w=n.find(T=>T.id===C);m(T=>({...T,content:{...T.content,template:C,body:(w==null?void 0:w.message)||""}}))},children:[r.jsx(it,{children:r.jsx(ct,{placeholder:"Select template"})}),r.jsxs(ot,{children:[r.jsx(oe,{value:"",children:"Custom Content"}),n.filter(C=>C.isActive).map(C=>r.jsx(oe,{value:C.id,children:C.name},C.id))]})]})]})]}),f.type==="email"&&r.jsxs("div",{children:[r.jsx(Ae,{children:"Subject"}),r.jsx(Be,{value:((S=f.content)==null?void 0:S.subject)||"",onChange:C=>m(w=>({...w,content:{...w.content,subject:C.target.value}})),placeholder:"Email subject line"})]}),(f.type==="email"||f.type==="sms"||f.type==="task")&&r.jsxs("div",{children:[r.jsx(Ae,{children:f.type==="email"?"Email Body":f.type==="sms"?"SMS Message":"Task Description"}),r.jsx(lr,{value:((k=f.content)==null?void 0:k.body)||"",onChange:C=>m(w=>({...w,content:{...w.content,body:C.target.value}})),placeholder:f.type==="email"?"Email content...":f.type==="sms"?"SMS message...":"Task description...",rows:f.type==="email"?6:3,maxLength:f.type==="sms"?160:void 0}),f.type==="sms"&&r.jsxs("div",{className:"text-xs text-muted-foreground mt-1",children:[(((D=f.content)==null?void 0:D.body)||"").length,"/160 characters"]})]}),r.jsxs("div",{className:"flex justify-end space-x-2",children:[r.jsx(ae,{variant:"outline",onClick:()=>u(!1),children:"Cancel"}),r.jsx(ae,{onClick:v,children:"Add Step"})]})]})})}),r.jsxs("div",{className:"space-y-4",children:[c.steps.map((C,w)=>{const T=b(C.type),L=w===c.steps.length-1;return r.jsxs("div",{className:"relative",children:[!L&&r.jsx("div",{className:"absolute left-6 top-12 bottom-0 w-px bg-border"}),r.jsxs("div",{className:"flex items-start space-x-4 p-4 border rounded-lg hover:bg-accent/50 transition-colors",children:[r.jsx("div",{className:$e("flex-shrink-0 w-12 h-12 rounded-full bg-background border-2 flex items-center justify-center",j(C.type)),children:r.jsx(T,{className:"h-5 w-5"})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[r.jsx("span",{className:"font-medium capitalize",children:C.type}),C.delay>0&&r.jsxs(Re,{variant:"secondary",className:"text-xs",children:[r.jsx(pr,{className:"h-3 w-3 mr-1"}),M(C.delay)]})]}),C.type==="email"&&r.jsxs("div",{className:"bg-blue-50 p-3 rounded-md",children:[r.jsx("p",{className:"font-medium text-sm text-blue-900",children:C.content.subject||"No subject"}),r.jsx("p",{className:"text-sm text-blue-700 mt-1 line-clamp-2",children:C.content.body||"No content"})]}),C.type==="sms"&&r.jsx("div",{className:"bg-green-50 p-3 rounded-md",children:r.jsx("p",{className:"text-sm text-green-700",children:C.content.body||"No message"})}),C.type==="wait"&&r.jsx("div",{className:"bg-orange-50 p-3 rounded-md",children:r.jsxs("p",{className:"text-sm text-orange-700",children:["Wait ",M(C.delay)," before next step"]})}),C.type==="task"&&r.jsx("div",{className:"bg-purple-50 p-3 rounded-md",children:r.jsx("p",{className:"text-sm text-purple-700",children:C.content.body||"No task description"})})]}),r.jsxs("div",{className:"flex items-center space-x-1",children:[r.jsx(ae,{variant:"outline",size:"sm",onClick:()=>P(C.id,"up"),disabled:w===0,children:r.jsx(_0,{className:"h-3 w-3"})}),r.jsx(ae,{variant:"outline",size:"sm",onClick:()=>P(C.id,"down"),disabled:w===c.steps.length-1,children:r.jsx(F0,{className:"h-3 w-3"})}),r.jsx(ae,{variant:"outline",size:"sm",onClick:()=>y(C.id),children:r.jsx(ys,{className:"h-3 w-3"})})]})]})]},C.id)}),c.steps.length===0&&r.jsx("div",{className:"text-center py-8 text-muted-foreground border-2 border-dashed rounded-lg",children:'No steps added yet. Click "Add Step" to get started.'})]})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Yn,{id:"isActive",checked:c.isActive,onCheckedChange:C=>d(w=>({...w,isActive:!!C}))}),r.jsx(Ae,{htmlFor:"isActive",children:"Active sequence"})]}),r.jsxs("div",{className:"flex justify-end space-x-3 pt-6 border-t",children:[r.jsx(ae,{variant:"outline",onClick:a,disabled:o,children:"Cancel"}),r.jsx(ae,{onClick:x,disabled:o,children:o?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Saving..."]}):r.jsxs(r.Fragment,{children:[r.jsx(da,{className:"h-4 w-4 mr-2"}),e?"Update":"Create"," Sequence"]})})]})]})]})})}const W8=[{id:"1",name:"New Lead Welcome Series",description:"Automated welcome sequence for new leads",isActive:!0,targetAudience:"New website leads",steps:[{id:"1",type:"email",delay:0},{id:"2",type:"wait",delay:72},{id:"3",type:"email",delay:0},{id:"4",type:"sms",delay:48}]}],q8=[{id:"1",name:"Welcome New Lead",subject:"Welcome to our RV dealership!",body:"Thank you for your interest...",type:"welcome",isActive:!0}],H8=[{id:"1",name:"Quick Follow-up",message:"Hi! Just wanted to check if you have any questions.",type:"follow_up",isActive:!0}];function rw(){const[e,t]=A.useState(W8),[n,s]=A.useState(q8),[a,i]=A.useState(H8),[o]=A.useState([]),[l,c]=A.useState(null),[d,p]=A.useState(!1),[u,f]=A.useState(!1),[m,g]=A.useState(null),[b,j]=A.useState(null),[x,v]=A.useState("email"),y=w=>{switch(w){case"email":return aa;case"sms":return Vn;case"wait":return pr;case"task":return cn;default:return UD}},P=w=>{switch(w){case"email":return"text-blue-500 bg-blue-50";case"sms":return"text-green-500 bg-green-50";case"wait":return"text-orange-500 bg-orange-50";case"task":return"text-purple-500 bg-purple-50";default:return"text-gray-500 bg-gray-50"}},M=w=>{if(w<24)return`${w} hours`;const T=Math.floor(w/24),L=w%24;return L===0?`${T} days`:`${T} days ${L} hours`},O=w=>{const T=o.filter(L=>L.sequenceId===w);return{total:T.length,active:T.filter(L=>L.status==="active").length,completed:T.filter(L=>L.status==="completed").length,paused:T.filter(L=>L.status==="paused").length}},E=(w,T)=>{j({template:w,type:T}),f(!0)},S=async w=>{if(b)b.type==="email"?s(T=>T.map(L=>L.id===b.template.id?{...L,...w}:L)):i(T=>T.map(L=>L.id===b.template.id?{...L,...w}:L));else{const T={id:Math.random().toString(36).substr(2,9),...w,isActive:!0};x==="email"?s(L=>[...L,T]):i(L=>[...L,T])}f(!1),j(null)},k=()=>{p(!0),g(null)},D=w=>{g(w),p(!0)},C=async w=>{if(m)t(T=>T.map(L=>L.id===m.id?{...L,...w}:L));else{const T={id:Math.random().toString(36).substr(2,9),...w,steps:w.steps||[]};t(L=>[...L,T])}p(!1),g(null)};return r.jsxs("div",{className:"space-y-6",children:[u&&r.jsx(U8,{template:b==null?void 0:b.template,type:(b==null?void 0:b.type)||x,onSave:S,onCancel:()=>{f(!1),j(null)}}),d&&r.jsx(V8,{sequence:m,emailTemplates:n,smsTemplates:a,onSave:C,onCancel:()=>{p(!1),g(null)}}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-bold",children:"Nurture Sequences"}),r.jsx("p",{className:"text-muted-foreground",children:"Automate lead nurturing with email and SMS sequences"})]}),r.jsxs("div",{className:"flex space-x-2",children:[r.jsxs(ae,{variant:"outline",onClick:()=>f(!0),children:[r.jsx(It,{className:"h-4 w-4 mr-2"}),"Template"]}),r.jsxs(ae,{onClick:k,children:[r.jsx(It,{className:"h-4 w-4 mr-2"}),"Sequence"]})]})]}),r.jsxs(dn,{defaultValue:"sequences",className:"space-y-6",children:[r.jsxs(Zr,{children:[r.jsx(ut,{value:"sequences",children:"Sequences"}),r.jsx(ut,{value:"templates",children:"Templates"}),r.jsx(ut,{value:"analytics",children:"Analytics"})]}),r.jsxs(ht,{value:"sequences",className:"space-y-6",children:[r.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:e.map(w=>{const T=O(w.id);return r.jsxs(me,{className:"shadow-sm hover:shadow-md transition-shadow cursor-pointer",onClick:()=>c(w),children:[r.jsx(be,{children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx(je,{className:"text-lg",children:w.name}),r.jsx(Ke,{className:"mt-1",children:w.description})]}),r.jsx(Re,{className:w.isActive?"bg-green-50 text-green-700 border-green-200":"bg-gray-50 text-gray-700 border-gray-200",children:w.isActive?"Active":"Inactive"})]})}),r.jsx(fe,{children:r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center space-x-4 text-sm",children:[r.jsxs("div",{className:"flex items-center space-x-1",children:[r.jsx(cn,{className:"h-4 w-4 text-blue-500"}),r.jsxs("span",{children:[T.total," enrolled"]})]}),r.jsxs("div",{className:"flex items-center space-x-1",children:[r.jsx(Kg,{className:"h-4 w-4 text-green-500"}),r.jsxs("span",{children:[T.active," active"]})]})]}),r.jsxs("div",{className:"flex flex-wrap gap-1",children:[w.steps.slice(0,4).map((L,W)=>{const V=y(L.type);return r.jsx("div",{className:$e("flex items-center justify-center w-8 h-8 rounded-full",P(L.type)),children:r.jsx(V,{className:"h-4 w-4"})},L.id)}),w.steps.length>4&&r.jsxs("div",{className:"flex items-center justify-center w-8 h-8 rounded-full bg-gray-100 text-gray-500 text-xs",children:["+",w.steps.length-4]})]}),r.jsxs("div",{className:"text-xs text-muted-foreground",children:["Target: ",w.targetAudience]})]})})]},w.id)})}),l&&r.jsxs(me,{className:"shadow-sm",children:[r.jsx(be,{children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx(je,{className:"text-xl",children:l.name}),r.jsx(Ke,{children:l.description})]}),r.jsxs("div",{className:"flex space-x-2",children:[r.jsxs(ae,{variant:"outline",size:"sm",onClick:()=>D(l),children:[r.jsx(ln,{className:"h-4 w-4 mr-2"}),"Edit"]}),r.jsxs(ae,{variant:"outline",size:"sm",children:[l.isActive?r.jsx(OD,{className:"h-4 w-4 mr-2"}):r.jsx(Kg,{className:"h-4 w-4 mr-2"}),l.isActive?"Pause":"Activate"]})]})]})}),r.jsx(fe,{children:r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("h4",{className:"font-semibold mb-3",children:"Sequence Steps"}),r.jsx("div",{className:"space-y-4",children:l.steps.map((w,T)=>{const L=y(w.type),W=T===l.steps.length-1;return r.jsxs("div",{className:"relative",children:[!W&&r.jsx("div",{className:"absolute left-6 top-12 bottom-0 w-px bg-border"}),r.jsxs("div",{className:"flex items-start space-x-4",children:[r.jsx("div",{className:$e("flex-shrink-0 w-12 h-12 rounded-full flex items-center justify-center",P(w.type)),children:r.jsx(L,{className:"h-5 w-5"})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[r.jsx("span",{className:"font-medium capitalize",children:w.type}),w.delay>0&&r.jsxs(Re,{variant:"outline",className:"flex items-center space-x-1",children:[r.jsx(pr,{className:"h-3 w-3"}),r.jsxs("span",{children:["Wait ",M(w.delay)]})]})]}),w.type==="email"&&r.jsx("div",{className:"bg-muted/30 p-3 rounded-md",children:r.jsx("p",{className:"text-sm text-muted-foreground",children:w.type==="email"?"Email step":w.type==="sms"?"SMS step":w.type==="wait"?"Wait step":"Step"})})]})]})]},w.id)})})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-semibold mb-3",children:"Performance"}),r.jsx("div",{className:"grid gap-4 md:grid-cols-4",children:Object.entries(O(l.id)).map(([w,T])=>r.jsxs("div",{className:"text-center p-3 bg-muted/30 rounded-lg",children:[r.jsx("div",{className:"text-2xl font-bold",children:T}),r.jsx("div",{className:"text-sm text-muted-foreground capitalize",children:w})]},w))})]})]})})]})]}),r.jsx(ht,{value:"templates",className:"space-y-6",children:r.jsxs(dn,{defaultValue:"email",className:"space-y-4",children:[r.jsxs(Zr,{children:[r.jsx(ut,{value:"email",children:"Email Templates"}),r.jsx(ut,{value:"sms",children:"SMS Templates"})]}),u&&!b&&r.jsx("div",{className:"mb-4",children:r.jsx(dn,{value:x,onValueChange:w=>v(w),children:r.jsxs(Zr,{children:[r.jsx(ut,{value:"email",children:"Email Template"}),r.jsx(ut,{value:"sms",children:"SMS Template"})]})})}),r.jsx(ht,{value:"email",children:r.jsx("div",{className:"grid gap-4 md:grid-cols-2",children:n.map(w=>r.jsxs(me,{className:"shadow-sm",children:[r.jsx(be,{children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx(je,{className:"text-lg",children:w.name}),r.jsx(Re,{variant:"secondary",className:"mt-1",children:w.type})]}),r.jsx(ae,{variant:"outline",size:"sm",onClick:()=>E(w,"email"),children:r.jsx(ln,{className:"h-4 w-4"})})]})}),r.jsx(fe,{children:r.jsxs("div",{className:"space-y-2",children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:w.subject||w.body}),r.jsxs("div",{children:[r.jsx("span",{className:"text-sm font-medium",children:"Variables:"}),r.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:(w.variables||["first_name","company_name"]).map(T=>r.jsx(Re,{variant:"outline",className:"text-xs",children:T},T))})]})]})})]},w.id))})}),r.jsx(ht,{value:"sms",children:r.jsx("div",{className:"grid gap-4 md:grid-cols-2",children:a.map(w=>r.jsxs(me,{className:"shadow-sm",children:[r.jsx(be,{children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx(je,{className:"text-lg",children:w.name}),r.jsx(Re,{variant:"secondary",className:"mt-1",children:w.type})]}),r.jsx(ae,{variant:"outline",size:"sm",onClick:()=>E(w,"sms"),children:r.jsx(ln,{className:"h-4 w-4"})})]})}),r.jsx(fe,{children:r.jsxs("div",{className:"space-y-2",children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:w.message}),r.jsxs("div",{children:[r.jsx("span",{className:"text-sm font-medium",children:"Variables:"}),r.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:(w.variables||["first_name"]).map(T=>r.jsx(Re,{variant:"outline",className:"text-xs",children:T},T))})]})]})})]},w.id))})})]})}),r.jsxs(ht,{value:"analytics",className:"space-y-6",children:[r.jsxs("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-4",children:[r.jsxs(me,{className:"shadow-sm border-0 bg-gradient-to-br from-blue-50 to-blue-100/50",children:[r.jsxs(be,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(je,{className:"text-sm font-medium text-blue-900",children:"Total Enrollments"}),r.jsx(cn,{className:"h-4 w-4 text-blue-600"})]}),r.jsxs(fe,{children:[r.jsx("div",{className:"text-2xl font-bold text-blue-900",children:"0"}),r.jsxs("p",{className:"text-xs text-blue-600 flex items-center mt-1",children:[r.jsx(jt,{className:"h-3 w-3 mr-1"}),"Across all sequences"]})]})]}),r.jsxs(me,{className:"shadow-sm border-0 bg-gradient-to-br from-green-50 to-green-100/50",children:[r.jsxs(be,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(je,{className:"text-sm font-medium text-green-900",children:"Active Sequences"}),r.jsx(Kg,{className:"h-4 w-4 text-green-600"})]}),r.jsxs(fe,{children:[r.jsx("div",{className:"text-2xl font-bold text-green-900",children:e.filter(w=>w.isActive).length}),r.jsxs("p",{className:"text-xs text-green-600 flex items-center mt-1",children:[r.jsx(jt,{className:"h-3 w-3 mr-1"}),"Currently running"]})]})]}),r.jsxs(me,{className:"shadow-sm border-0 bg-gradient-to-br from-purple-50 to-purple-100/50",children:[r.jsxs(be,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(je,{className:"text-sm font-medium text-purple-900",children:"Completion Rate"}),r.jsx(jt,{className:"h-4 w-4 text-purple-600"})]}),r.jsxs(fe,{children:[r.jsx("div",{className:"text-2xl font-bold text-purple-900",children:"0%"}),r.jsxs("p",{className:"text-xs text-purple-600 flex items-center mt-1",children:[r.jsx(jt,{className:"h-3 w-3 mr-1"}),"Average completion"]})]})]}),r.jsxs(me,{className:"shadow-sm border-0 bg-gradient-to-br from-orange-50 to-orange-100/50",children:[r.jsxs(be,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(je,{className:"text-sm font-medium text-orange-900",children:"Templates"}),r.jsx(aa,{className:"h-4 w-4 text-orange-600"})]}),r.jsxs(fe,{children:[r.jsx("div",{className:"text-2xl font-bold text-orange-900",children:n.length+a.length}),r.jsxs("p",{className:"text-xs text-orange-600 flex items-center mt-1",children:[r.jsx(aa,{className:"h-3 w-3 mr-1"}),"Email & SMS templates"]})]})]})]}),r.jsxs(me,{className:"shadow-sm",children:[r.jsxs(be,{children:[r.jsx(je,{children:"Sequence Performance"}),r.jsx(Ke,{children:"Detailed analytics for each nurture sequence"})]}),r.jsx(fe,{children:r.jsx("div",{className:"space-y-4",children:e.map(w=>{O(w.id);const T=0;return r.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[r.jsxs("div",{className:"flex-1",children:[r.jsx("h4",{className:"font-semibold",children:w.name}),r.jsx("p",{className:"text-sm text-muted-foreground",children:w.description})]}),r.jsxs("div",{className:"grid grid-cols-4 gap-4 text-center",children:[r.jsxs("div",{children:[r.jsx("div",{className:"text-lg font-bold",children:"0"}),r.jsx("div",{className:"text-xs text-muted-foreground",children:"Enrolled"})]}),r.jsxs("div",{children:[r.jsx("div",{className:"text-lg font-bold text-green-600",children:"0"}),r.jsx("div",{className:"text-xs text-muted-foreground",children:"Active"})]}),r.jsxs("div",{children:[r.jsx("div",{className:"text-lg font-bold text-blue-600",children:"0"}),r.jsx("div",{className:"text-xs text-muted-foreground",children:"Completed"})]}),r.jsxs("div",{children:[r.jsxs("div",{className:"text-lg font-bold text-purple-600",children:[T.toFixed(1),"%"]}),r.jsx("div",{className:"text-xs text-muted-foreground",children:"Rate"})]})]})]},w.id)})})})]})]})]})]})}function NC(){const[e,t]=A.useState([]),[n,s]=A.useState([]),[a,i]=A.useState([]),[o,l]=A.useState([]),[c,d]=A.useState([]),[p,u]=A.useState([]),[f,m]=A.useState([]),[g,b]=A.useState([]),[j,x]=A.useState(!1);A.useEffect(()=>{v()},[]);const v=()=>{const q=En("renter-insight-email-templates",[]),H=En("renter-insight-sms-templates",[]),R=En("renter-insight-sequences",[]),$=En("renter-insight-enrollments",[]),G=En("renter-insight-communication-logs",[]),Z=En("renter-insight-ai-insights",[]);if(q.length===0){const te=[{id:"1",name:"Welcome New Lead",subject:"Welcome to {{company_name}}, {{first_name}}!",body:`Hi {{first_name}},

Thank you for your interest in our RV inventory! We're excited to help you find the perfect recreational vehicle for your adventures.

Here's what happens next:
- One of our RV specialists will contact you within 24 hours
- We'll schedule a personalized tour of our showroom
- You'll receive our latest inventory updates and special offers

In the meantime, feel free to browse our current inventory at {{website_url}}.

Best regards,
{{rep_name}}
{{company_name}}`,type:"welcome",variables:["first_name","company_name","website_url","rep_name"],isActive:!0,createdAt:new Date("2024-01-01")},{id:"2",name:"Follow-up After 3 Days",subject:"Still looking for the perfect RV, {{first_name}}?",body:`Hi {{first_name}},

I wanted to follow up on your recent inquiry about our RV inventory. Have you had a chance to think about what type of RV would best suit your needs?

Based on your interests, I'd love to show you:
- {{suggested_models}}

We also have some exciting financing options that might interest you. Would you like to schedule a call this week to discuss your options?

You can reply to this email or call me directly at {{rep_phone}}.

Best regards,
{{rep_name}}`,type:"follow_up",variables:["first_name","suggested_models","rep_phone","rep_name"],isActive:!0,createdAt:new Date("2024-01-01")}];i(te),Xr("renter-insight-email-templates",te)}else i(q);if(H.length===0){const te=[{id:"1",name:"Quick Follow-up",message:"Hi {{first_name}}! This is {{rep_name}} from {{company_name}}. Just wanted to check if you have any questions about the RVs you viewed. Reply STOP to opt out.",type:"follow_up",variables:["first_name","rep_name","company_name"],isActive:!0,createdAt:new Date("2024-01-01")},{id:"2",name:"Appointment Reminder",message:"Hi {{first_name}}! Reminder: Your RV showroom appointment is tomorrow at {{appointment_time}}. See you then! - {{rep_name}}",type:"reminder",variables:["first_name","appointment_time","rep_name"],isActive:!0,createdAt:new Date("2024-01-01")}];l(te),Xr("renter-insight-sms-templates",te)}else l(H);if(R.length===0){const te=[{id:"1",name:"New Lead Welcome Series",description:"Automated welcome sequence for new leads",triggerConditions:[{type:"lead_status",operator:"equals",value:"new"}],steps:[{id:"1",sequenceId:"1",order:1,type:"email",delay:0,content:{subject:"Welcome to {{company_name}}, {{first_name}}!",body:mockEmailTemplates[0].body,template:"1"},isActive:!0},{id:"2",sequenceId:"1",order:2,type:"wait",delay:72,content:{body:"Wait 3 days"},isActive:!0},{id:"3",sequenceId:"1",order:3,type:"email",delay:0,content:{subject:"Still looking for the perfect RV, {{first_name}}?",body:mockEmailTemplates[1].body,template:"2"},isActive:!0},{id:"4",sequenceId:"1",order:4,type:"sms",delay:48,content:{body:mockSmsTemplates[0].message},isActive:!0}],isActive:!0,targetAudience:"New website leads",createdBy:"admin",createdAt:new Date("2024-01-01"),updatedAt:new Date("2024-01-01")}];t(te),Xr("renter-insight-sequences",te)}else t(R);if(Z.length===0){const te=[{id:"1",leadId:"1",type:"next_action",title:"Optimal Contact Time Identified",description:"Based on lead behavior patterns, the best time to contact this lead is Tuesday-Thursday between 2-4 PM.",confidence:85,actionable:!0,suggestedActions:["Schedule call for Tuesday 2-4 PM","Send follow-up email on Wednesday morning","Avoid Friday afternoon contact"],metadata:{timeZone:"EST",preferredDays:["Tuesday","Wednesday","Thursday"],preferredHours:[14,15,16]},generatedAt:new Date("2024-01-20"),isRead:!1},{id:"2",leadId:"1",type:"communication_style",title:"Communication Preference Analysis",description:"This lead responds better to detailed, educational content rather than high-pressure sales tactics.",confidence:78,actionable:!0,suggestedActions:["Share educational RV buying guides","Focus on features and benefits","Provide comparison charts","Avoid aggressive closing techniques"],metadata:{preferredStyle:"educational",responseRate:.65,engagementType:"content-focused"},generatedAt:new Date("2024-01-20"),isRead:!1}];u(te),Xr("renter-insight-ai-insights",te)}else u(Z);s($),d(G)},y=async(q,H)=>{var R,$;x(!0);try{const G={id:Math.random().toString(36).substr(2,9),leadId:q,sequenceId:H,currentStepId:(($=(R=e.find(Z=>Z.id===H))==null?void 0:R.steps[0])==null?void 0:$.id)||"",status:"active",enrolledAt:new Date,nextActionAt:new Date};return s(Z=>[...Z,G]),await P(G),G}finally{x(!1)}},P=async q=>{const H=e.find(G=>G.id===q.sequenceId);if(!H)return;const R=H.steps.find(G=>G.id===q.currentStepId);if(!R)return;switch(R.type){case"email":await M(q.leadId,R);break;case"sms":await O(q.leadId,R);break;case"wait":const G=new Date;G.setHours(G.getHours()+R.delay),s(Z=>Z.map(te=>te.id===q.id?{...te,nextActionAt:G}:te));break}const $=H.steps.findIndex(G=>G.id===R.id)+1;if($<H.steps.length){const G=H.steps[$];s(Z=>Z.map(te=>te.id===q.id?{...te,currentStepId:G.id}:te))}else s(G=>G.map(Z=>Z.id===q.id?{...Z,status:"completed",completedAt:new Date}:Z))},M=async(q,H)=>{const R={id:Math.random().toString(36).substr(2,9),leadId:q,type:"email",direction:"outbound",subject:H.content.subject,content:H.content.body,status:"sent",sentAt:new Date,metadata:{sequenceStep:H.id,template:H.content.template}};d($=>[...$,R]),setTimeout(()=>{d($=>$.map(G=>G.id===R.id?{...G,status:"delivered",deliveredAt:new Date}:G))},2e3),setTimeout(()=>{d($=>$.map(G=>G.id===R.id?{...G,status:"opened",openedAt:new Date}:G))},5e3)},O=async(q,H)=>{const R={id:Math.random().toString(36).substr(2,9),leadId:q,type:"sms",direction:"outbound",content:H.content.body,status:"sent",sentAt:new Date,metadata:{sequenceStep:H.id}};d($=>[...$,R]),setTimeout(()=>{d($=>$.map(G=>G.id===R.id?{...G,status:"delivered",deliveredAt:new Date}:G))},1e3)};return{sequences:e,enrollments:n,emailTemplates:a,smsTemplates:o,communicationLogs:c,aiInsights:p,automationRules:f,analytics:g,loading:j,enrollLeadInSequence:y,processNextStep:P,generateAIInsights:async(q,H)=>{var R;x(!0);try{const $=[];H.score>70&&$.push({id:Math.random().toString(36).substr(2,9),leadId:q,type:"next_action",title:"High-Priority Lead - Immediate Action Recommended",description:"This lead has a high score and recent activity. Schedule a personal call within 24 hours.",confidence:92,actionable:!0,suggestedActions:["Schedule personal phone call","Send personalized video message","Invite to exclusive showroom tour"],generatedAt:new Date,isRead:!1});const G=new Date(H.lastActivity),Z=Math.floor((Date.now()-G.getTime())/(1e3*60*60*24));return Z>7&&$.push({id:Math.random().toString(36).substr(2,9),leadId:q,type:"timing",title:"Re-engagement Opportunity",description:`No activity for ${Z} days. Consider a re-engagement campaign.`,confidence:75,actionable:!0,suggestedActions:['Send "We miss you" email',"Offer special incentive","Share new inventory updates"],generatedAt:new Date,isRead:!1}),(R=H.customFields)!=null&&R.budget&&$.push({id:Math.random().toString(36).substr(2,9),leadId:q,type:"content_suggestion",title:"Personalized Content Recommendation",description:`Based on budget range ${H.customFields.budget}, suggest specific RV models and financing options.`,confidence:88,actionable:!0,suggestedActions:["Send budget-specific inventory","Share financing calculator","Provide trade-in valuation"],generatedAt:new Date,isRead:!1}),u(te=>[...te.filter(le=>le.leadId!==q),...$]),$}finally{x(!1)}},createEmailTemplate:async q=>{const H={id:Math.random().toString(36).substr(2,9),name:q.name||"",subject:q.subject||"",body:q.body||"",type:q.type||"custom",variables:q.variables||[],isActive:!0,createdAt:new Date},R=[...a,H];return i(R),Xr("renter-insight-email-templates",R),H},createSMSTemplate:async q=>{const H={id:Math.random().toString(36).substr(2,9),name:q.name||"",message:q.message||"",type:q.type||"custom",variables:q.variables||[],isActive:!0,createdAt:new Date},R=[...o,H];return l(R),Xr("renter-insight-sms-templates",R),H},createNurtureSequence:async q=>{const H={id:Math.random().toString(36).substr(2,9),name:q.name||"",description:q.description||"",triggerConditions:q.triggerConditions||[],steps:q.steps||[],isActive:!0,targetAudience:q.targetAudience||"",createdBy:"current-user",createdAt:new Date,updatedAt:new Date},R=[...e,H];return t(R),Xr("renter-insight-sequences",R),H},updateNurtureSequence:async(q,H)=>{const R=e.map($=>$.id===q?{...$,...H,updatedAt:new Date}:$);t(R),Xr("renter-insight-sequences",R)},updateEmailTemplate:async(q,H)=>{const R=a.map($=>$.id===q?{...$,...H}:$);i(R),Xr("renter-insight-email-templates",R)},updateSMSTemplate:async(q,H)=>{const R=o.map($=>$.id===q?{...$,...H}:$);l(R),Xr("renter-insight-sms-templates",R)},getEnrollmentsByLead:q=>n.filter(H=>H.leadId===q),getCommunicationHistory:q=>c.filter(H=>H.leadId===q).sort((H,R)=>new Date(R.sentAt).getTime()-new Date(H.sentAt).getTime()),getAIInsightsByLead:q=>p.filter(H=>H.leadId===q&&!H.isRead),markInsightAsRead:async q=>{u(H=>H.map(R=>R.id===q?{...R,isRead:!0}:R))},pauseEnrollment:async q=>{s(H=>H.map(R=>R.id===q?{...R,status:"paused"}:R))},resumeEnrollment:async q=>{s(H=>H.map(R=>R.id===q?{...R,status:"active"}:R))}}}function G8({leadId:e,leadData:t}){var M,O,E;const{aiInsights:n,generateAIInsights:s,markInsightAsRead:a,enrollLeadInSequence:i,sequences:o}=NC(),[l,c]=A.useState(!1),[d,p]=A.useState("insights"),u=n.filter(S=>S.leadId===e),f=u.filter(S=>!S.isRead),m=S=>{switch(S){case"next_action":return vs;case"communication_style":return Vn;case"timing":return pr;case"content_suggestion":return RD;case"risk_assessment":return jt;default:return ti}},g=S=>{switch(S){case"next_action":return"from-blue-50 to-blue-100/50";case"communication_style":return"from-green-50 to-green-100/50";case"timing":return"from-orange-50 to-orange-100/50";case"content_suggestion":return"from-purple-50 to-purple-100/50";case"risk_assessment":return"from-red-50 to-red-100/50";default:return"from-gray-50 to-gray-100/50"}},b=S=>S>=80?"text-green-600 bg-green-50":S>=60?"text-yellow-600 bg-yellow-50":"text-orange-600 bg-orange-50",j=async()=>{c(!0);try{await s(e,t)}finally{c(!1)}},x=async S=>{await a(S)},v=async S=>{await i(e,S)},P=(S=>{var C;const k=[];if(S.score>80?k.push({type:"High Priority Action",suggestion:"This lead has excellent potential. Schedule a personal call within 24 hours and prepare a customized presentation.",confidence:95,actions:["Schedule immediate call","Prepare custom presentation","Send calendar invite"]}):S.score>60?k.push({type:"Warm Lead Nurturing",suggestion:"Good engagement level. Send educational content about RV ownership and schedule a follow-up in 3-5 days.",confidence:85,actions:["Send RV buying guide","Share customer testimonials","Schedule follow-up"]}):k.push({type:"Lead Warming",suggestion:"Lower engagement detected. Enroll in nurture sequence and focus on value-driven content.",confidence:75,actions:["Enroll in email sequence","Send value content","Monitor engagement"]}),(C=S.customFields)!=null&&C.budget){const w=S.customFields.budget;k.push({type:"Budget-Matched Recommendations",suggestion:`Based on ${w} budget, focus on specific inventory that matches their price range and financing options.`,confidence:90,actions:["Send matching inventory","Discuss financing","Offer trade-in evaluation"]})}const D=Math.floor((Date.now()-new Date(S.createdAt).getTime())/(1e3*60*60*24));return D>7&&k.push({type:"Re-engagement Strategy",suggestion:`Lead is ${D} days old. Implement re-engagement tactics with special offers or new inventory alerts.`,confidence:80,actions:["Send special offer","Share new arrivals","Offer exclusive preview"]}),S.source.toLowerCase().includes("website")&&k.push({type:"Digital-First Approach",suggestion:"Lead came from website - they prefer digital communication. Use email and video messages before phone calls.",confidence:85,actions:["Send welcome email","Create video message","Share virtual tour"]}),k})(t);return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsxs("h3",{className:"text-lg font-semibold flex items-center",children:[r.jsx(ti,{className:"h-5 w-5 mr-2 text-purple-500"}),"AI Insights & Suggestions"]}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"AI-powered recommendations for lead engagement"})]}),r.jsxs(ae,{onClick:j,disabled:l,size:"sm",children:[r.jsx(ti,{className:"h-4 w-4 mr-2"}),l?"Analyzing...":"Generate Insights"]})]}),r.jsxs(dn,{value:d,onValueChange:p,className:"space-y-4",children:[r.jsxs(Zr,{className:"grid w-full grid-cols-3",children:[r.jsxs(ut,{value:"insights",className:"relative",children:["AI Insights",f.length>0&&r.jsx(Re,{className:"ml-2 h-5 w-5 rounded-full p-0 text-xs bg-red-500",children:f.length})]}),r.jsx(ut,{value:"chatgpt",children:"ChatGPT Suggestions"}),r.jsx(ut,{value:"automation",children:"Automation"})]}),r.jsx(ht,{value:"insights",className:"space-y-4",children:u.length===0?r.jsx(me,{className:"shadow-sm",children:r.jsxs(fe,{className:"flex flex-col items-center justify-center py-12",children:[r.jsx(ti,{className:"h-12 w-12 text-muted-foreground mb-4"}),r.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No AI Insights Yet"}),r.jsx("p",{className:"text-muted-foreground text-center mb-4",children:"Generate AI-powered insights to get personalized recommendations for this lead."}),r.jsxs(ae,{onClick:j,disabled:l,children:[r.jsx(ti,{className:"h-4 w-4 mr-2"}),"Generate First Insights"]})]})}):r.jsx("div",{className:"space-y-4",children:u.sort((S,k)=>new Date(k.generatedAt).getTime()-new Date(S.generatedAt).getTime()).map(S=>{const k=m(S.type);return r.jsxs(me,{className:$e("shadow-sm border-0 bg-gradient-to-br",g(S.type),!S.isRead&&"ring-2 ring-blue-200"),children:[r.jsx(be,{children:r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsxs("div",{className:"flex items-start space-x-3",children:[r.jsx(k,{className:"h-6 w-6 text-primary mt-1"}),r.jsxs("div",{children:[r.jsx(je,{className:"text-lg",children:S.title}),r.jsx(Ke,{className:"mt-1",children:S.description})]})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsxs(Re,{className:$e("ri-badge-status",b(S.confidence)),children:[S.confidence,"% confidence"]}),!S.isRead&&r.jsxs(ae,{variant:"outline",size:"sm",onClick:()=>x(S.id),children:[r.jsx(sa,{className:"h-3 w-3 mr-1"}),"Mark Read"]})]})]})}),S.actionable&&S.suggestedActions&&r.jsx(fe,{children:r.jsxs("div",{children:[r.jsx("h4",{className:"font-semibold text-sm mb-2",children:"Suggested Actions:"}),r.jsx("div",{className:"space-y-2",children:S.suggestedActions.map((D,C)=>r.jsxs("div",{className:"flex items-center justify-between p-2 bg-white/50 rounded-md",children:[r.jsx("span",{className:"text-sm",children:D}),r.jsx(ae,{variant:"outline",size:"sm",children:"Execute"})]},C))})]})})]},S.id)})})}),r.jsxs(ht,{value:"chatgpt",className:"space-y-4",children:[r.jsxs(me,{className:"shadow-sm border-0 bg-gradient-to-br from-green-50 to-green-100/50",children:[r.jsx(be,{children:r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("div",{className:"w-8 h-8 bg-green-500 rounded-full flex items-center justify-center",children:r.jsx(ti,{className:"h-4 w-4 text-white"})}),r.jsxs("div",{children:[r.jsx(je,{className:"text-green-900",children:"ChatGPT Analysis"}),r.jsx(Ke,{className:"text-green-700",children:"AI-powered lead analysis and action recommendations"})]})]})}),r.jsx(fe,{children:r.jsx("div",{className:"space-y-4",children:P.map((S,k)=>r.jsxs("div",{className:"bg-white/70 p-4 rounded-lg",children:[r.jsxs("div",{className:"flex items-start justify-between mb-2",children:[r.jsx("h4",{className:"font-semibold text-green-900",children:S.type}),r.jsxs(Re,{className:"bg-green-100 text-green-700 border-green-200",children:[S.confidence,"% confidence"]})]}),r.jsx("p",{className:"text-sm text-green-800 mb-3",children:S.suggestion}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("h5",{className:"text-xs font-semibold text-green-900 uppercase tracking-wide",children:"Recommended Actions:"}),r.jsx("div",{className:"grid gap-2 md:grid-cols-3",children:S.actions.map((D,C)=>r.jsx(ae,{variant:"outline",size:"sm",className:"justify-start text-xs bg-white/50 hover:bg-white/80",children:D},C))})]})]},k))})})]}),r.jsxs(me,{className:"shadow-sm",children:[r.jsx(be,{children:r.jsxs(je,{className:"flex items-center",children:[r.jsx(vs,{className:"h-5 w-5 mr-2 text-blue-500"}),"Lead Scoring Analysis"]})}),r.jsx(fe,{children:r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between p-3 bg-blue-50 rounded-lg",children:[r.jsxs("div",{children:[r.jsxs("h4",{className:"font-semibold text-blue-900",children:["Current Score: ",t.score]}),r.jsx("p",{className:"text-sm text-blue-700",children:t.score>=80?"Hot Lead - High Priority":t.score>=60?"Warm Lead - Good Potential":t.score>=40?"Cool Lead - Needs Nurturing":"Cold Lead - Long-term Nurturing"})]}),r.jsxs("div",{className:"text-right",children:[r.jsx("div",{className:"text-2xl font-bold text-blue-600",children:t.score}),r.jsx("div",{className:"text-xs text-blue-500",children:"/ 100"})]})]}),r.jsxs("div",{className:"grid gap-3 md:grid-cols-2",children:[r.jsxs("div",{className:"p-3 bg-green-50 rounded-lg",children:[r.jsx("h5",{className:"font-semibold text-green-900 mb-1",children:"Strengths"}),r.jsxs("ul",{className:"text-sm text-green-700 space-y-1",children:[((M=t.customFields)==null?void 0:M.budget)&&r.jsx("li",{children:" Budget information provided"}),((O=t.customFields)==null?void 0:O.timeframe)&&r.jsx("li",{children:" Clear purchase timeline"}),t.score>60&&r.jsx("li",{children:" Good engagement level"}),t.source==="Customer Referral"&&r.jsx("li",{children:" High-quality referral source"})]})]}),r.jsxs("div",{className:"p-3 bg-orange-50 rounded-lg",children:[r.jsx("h5",{className:"font-semibold text-orange-900 mb-1",children:"Improvement Areas"}),r.jsxs("ul",{className:"text-sm text-orange-700 space-y-1",children:[!((E=t.customFields)!=null&&E.budget)&&r.jsx("li",{children:" No budget information"}),t.score<60&&r.jsx("li",{children:" Low engagement level"}),!t.assignedTo&&r.jsx("li",{children:" No sales rep assigned"}),r.jsx("li",{children:" Limited activity history"})]})]})]})]})})]})]}),r.jsxs(ht,{value:"automation",className:"space-y-4",children:[r.jsxs(me,{className:"shadow-sm",children:[r.jsxs(be,{children:[r.jsxs(je,{className:"flex items-center",children:[r.jsx(Vn,{className:"h-5 w-5 mr-2 text-purple-500"}),"Nurture Sequences"]}),r.jsx(Ke,{children:"Enroll this lead in automated nurturing sequences"})]}),r.jsx(fe,{children:r.jsx("div",{className:"space-y-4",children:o.filter(S=>S.isActive).map(S=>r.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg hover:bg-accent/50 transition-colors",children:[r.jsxs("div",{className:"flex-1",children:[r.jsx("h4",{className:"font-semibold",children:S.name}),r.jsx("p",{className:"text-sm text-muted-foreground",children:S.description}),r.jsxs("div",{className:"flex items-center space-x-2 mt-2",children:[r.jsxs(Re,{variant:"secondary",className:"text-xs",children:[S.steps.length," steps"]}),r.jsx(Re,{variant:"outline",className:"text-xs",children:S.targetAudience})]})]}),r.jsx(ae,{onClick:()=>v(S.id),size:"sm",children:"Enroll Lead"})]},S.id))})})]}),r.jsxs(me,{className:"shadow-sm",children:[r.jsx(be,{children:r.jsxs(je,{className:"flex items-center",children:[r.jsx(pr,{className:"h-5 w-5 mr-2 text-orange-500"}),"Smart Timing Recommendations"]})}),r.jsx(fe,{children:r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"p-3 bg-blue-50 rounded-lg",children:[r.jsx("h4",{className:"font-semibold text-blue-900",children:"Best Contact Times"}),r.jsx("p",{className:"text-sm text-blue-700",children:"Based on lead behavior: Tuesday-Thursday, 2-4 PM"})]}),r.jsxs("div",{className:"p-3 bg-green-50 rounded-lg",children:[r.jsx("h4",{className:"font-semibold text-green-900",children:"Email Timing"}),r.jsx("p",{className:"text-sm text-green-700",children:"Send emails Tuesday/Wednesday mornings for best open rates"})]}),r.jsxs("div",{className:"p-3 bg-purple-50 rounded-lg",children:[r.jsx("h4",{className:"font-semibold text-purple-900",children:"Follow-up Schedule"}),r.jsx("p",{className:"text-sm text-purple-700",children:"Next follow-up recommended in 2-3 days based on engagement"})]})]})})]})]})]})]})}function Q8({leadId:e,leadData:t}){const{emailTemplates:n,smsTemplates:s,communicationLogs:a,getCommunicationHistory:i}=NC(),[o,l]=A.useState("history"),[c,d]=A.useState(""),[p,u]=A.useState(""),[f,m]=A.useState(""),[g,b]=A.useState(""),[j,x]=A.useState(""),[v,y]=A.useState(!1),P=i(e),M=C=>{switch(C){case"sent":return r.jsx(Zc,{className:"h-3 w-3 text-blue-500"});case"delivered":return r.jsx(sa,{className:"h-3 w-3 text-green-500"});case"opened":return r.jsx(aa,{className:"h-3 w-3 text-purple-500"});case"clicked":return r.jsx(sa,{className:"h-3 w-3 text-green-600"});case"replied":return r.jsx(Vn,{className:"h-3 w-3 text-blue-600"});case"failed":return r.jsx(_u,{className:"h-3 w-3 text-red-500"});default:return r.jsx(pr,{className:"h-3 w-3 text-gray-500"})}},O=C=>{switch(C){case"sent":return"bg-blue-50 text-blue-700 border-blue-200";case"delivered":return"bg-green-50 text-green-700 border-green-200";case"opened":return"bg-purple-50 text-purple-700 border-purple-200";case"clicked":return"bg-green-50 text-green-700 border-green-200";case"replied":return"bg-blue-50 text-blue-700 border-blue-200";case"failed":return"bg-red-50 text-red-700 border-red-200";default:return"bg-gray-50 text-gray-700 border-gray-200"}},E=(C,w)=>{var T;return C.replace(/\{\{first_name\}\}/g,w.firstName).replace(/\{\{last_name\}\}/g,w.lastName).replace(/\{\{company_name\}\}/g,"Renter Insight RV").replace(/\{\{rep_name\}\}/g,"Your Sales Representative").replace(/\{\{rep_phone\}\}/g,"(555) 123-4567").replace(/\{\{website_url\}\}/g,"https://renterinsight.com").replace(/\{\{budget\}\}/g,((T=w.customFields)==null?void 0:T.budget)||"your budget")},S=async()=>{y(!0);try{let C=f,w=g;if(c){const T=n.find(L=>L.id===c);T&&(C=E(T.subject,t),w=E(T.body,t))}await new Promise(T=>setTimeout(T,2e3)),m(""),b(""),d(""),console.log("Email sent:",{subject:C,body:w,to:t.email})}finally{y(!1)}},k=async()=>{y(!0);try{let C=j;if(p){const w=s.find(T=>T.id===p);w&&(C=E(w.message,t))}await new Promise(w=>setTimeout(w,1500)),x(""),u(""),console.log("SMS sent:",{message:C,to:t.phone})}finally{y(!1)}},D=(C,w)=>{if(w==="email"){d(C);const T=n.find(L=>L.id===C);T&&(m(E(T.subject,t)),b(E(T.body,t)))}else{u(C);const T=s.find(L=>L.id===C);T&&x(E(T.message,t))}};return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsxs("h3",{className:"text-lg font-semibold flex items-center",children:[r.jsx(Vn,{className:"h-5 w-5 mr-2 text-blue-500"}),"Communication Center"]}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Send emails, SMS, and track communication history"})]}),r.jsxs(dn,{value:o,onValueChange:l,className:"space-y-4",children:[r.jsxs(Zr,{className:"grid w-full grid-cols-3",children:[r.jsx(ut,{value:"history",children:"History"}),r.jsx(ut,{value:"email",children:"Send Email"}),r.jsx(ut,{value:"sms",children:"Send SMS"})]}),r.jsx(ht,{value:"history",className:"space-y-4",children:r.jsxs(me,{className:"shadow-sm",children:[r.jsxs(be,{children:[r.jsxs(je,{className:"flex items-center",children:[r.jsx(pr,{className:"h-5 w-5 mr-2"}),"Communication History"]}),r.jsx(Ke,{children:"All email and SMS communications with this lead"})]}),r.jsx(fe,{children:P.length===0?r.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[r.jsx(Vn,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground/50"}),r.jsx("p",{children:"No communication history yet"}),r.jsx("p",{className:"text-sm",children:"Start by sending an email or SMS"})]}):r.jsx("div",{className:"space-y-4",children:P.map((C,w)=>r.jsxs("div",{className:"relative",children:[w<P.length-1&&r.jsx("div",{className:"absolute left-4 top-12 bottom-0 w-px bg-border"}),r.jsxs("div",{className:"flex items-start space-x-4",children:[r.jsx("div",{className:$e("flex-shrink-0 w-8 h-8 rounded-full border-2 bg-background flex items-center justify-center",C.type==="email"?"border-blue-200":"border-green-200"),children:C.type==="email"?r.jsx(aa,{className:"h-4 w-4 text-blue-500"}):r.jsx(Vn,{className:"h-4 w-4 text-green-500"})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsxs("span",{className:"font-medium text-sm capitalize",children:[C.type," ",C.direction]}),r.jsxs(Re,{className:$e("ri-badge-status text-xs",O(C.status)),children:[M(C.status),r.jsx("span",{className:"ml-1",children:C.status})]})]}),r.jsx("span",{className:"text-xs text-muted-foreground",children:yt(C.sentAt)})]}),C.subject&&r.jsx("p",{className:"font-medium text-sm mb-1",children:C.subject}),r.jsx("div",{className:"bg-muted/30 p-3 rounded-md",children:r.jsx("p",{className:"text-sm text-muted-foreground whitespace-pre-wrap",children:C.content})}),r.jsxs("div",{className:"flex items-center space-x-4 mt-2 text-xs text-muted-foreground",children:[r.jsxs("span",{children:["Sent: ",yt(C.sentAt)]}),C.deliveredAt&&r.jsxs("span",{children:["Delivered: ",yt(C.deliveredAt)]}),C.openedAt&&r.jsxs("span",{children:["Opened: ",yt(C.openedAt)]}),C.clickedAt&&r.jsxs("span",{children:["Clicked: ",yt(C.clickedAt)]})]})]})]})]},C.id))})})]})}),r.jsx(ht,{value:"email",className:"space-y-4",children:r.jsxs(me,{className:"shadow-sm",children:[r.jsxs(be,{children:[r.jsxs(je,{className:"flex items-center",children:[r.jsx(aa,{className:"h-5 w-5 mr-2 text-blue-500"}),"Send Email"]}),r.jsx(Ke,{children:"Send personalized emails using templates or custom content"})]}),r.jsxs(fe,{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium",children:"Email Template (Optional)"}),r.jsxs(lt,{value:c,onValueChange:C=>D(C,"email"),children:[r.jsx(it,{children:r.jsx(ct,{placeholder:"Choose a template or write custom email"})}),r.jsxs(ot,{children:[r.jsx(oe,{value:"",children:"Custom Email"}),n.filter(C=>C.isActive).map(C=>r.jsxs(oe,{value:C.id,children:[C.name," (",C.type,")"]},C.id))]})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium",children:"To"}),r.jsx(Be,{value:t.email,disabled:!0,className:"bg-muted/50"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium",children:"Subject"}),r.jsx(Be,{value:f,onChange:C=>m(C.target.value),placeholder:"Enter email subject"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium",children:"Message"}),r.jsx(lr,{value:g,onChange:C=>b(C.target.value),placeholder:"Enter your email message",rows:8})]}),r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsxs("div",{className:"text-xs text-muted-foreground",children:["Available variables: ",{first_name},", ",{last_name},", ",{company_name},", ",{rep_name}]}),r.jsxs(ae,{onClick:S,disabled:v||!f||!g,children:[r.jsx(Zc,{className:"h-4 w-4 mr-2"}),v?"Sending...":"Send Email"]})]})]})]})}),r.jsx(ht,{value:"sms",className:"space-y-4",children:r.jsxs(me,{className:"shadow-sm",children:[r.jsxs(be,{children:[r.jsxs(je,{className:"flex items-center",children:[r.jsx(Vn,{className:"h-5 w-5 mr-2 text-green-500"}),"Send SMS"]}),r.jsx(Ke,{children:"Send text messages using templates or custom content"})]}),r.jsxs(fe,{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium",children:"SMS Template (Optional)"}),r.jsxs(lt,{value:p,onValueChange:C=>D(C,"sms"),children:[r.jsx(it,{children:r.jsx(ct,{placeholder:"Choose a template or write custom SMS"})}),r.jsxs(ot,{children:[r.jsx(oe,{value:"",children:"Custom SMS"}),s.filter(C=>C.isActive).map(C=>r.jsxs(oe,{value:C.id,children:[C.name," (",C.type,")"]},C.id))]})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium",children:"To"}),r.jsx(Be,{value:t.phone,disabled:!0,className:"bg-muted/50"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium",children:"Message"}),r.jsx(lr,{value:j,onChange:C=>x(C.target.value),placeholder:"Enter your SMS message",rows:4,maxLength:160}),r.jsxs("div",{className:"flex justify-between items-center mt-1",children:[r.jsxs("div",{className:"text-xs text-muted-foreground",children:[j.length,"/160 characters"]}),r.jsx("div",{className:$e("text-xs",j.length>160?"text-red-500":"text-muted-foreground"),children:j.length>160&&"Message too long"})]})]}),r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsxs("div",{className:"text-xs text-muted-foreground",children:["Available variables: ",{first_name},", ",{company_name},", ",{rep_name}]}),r.jsxs(ae,{onClick:k,disabled:v||!j||j.length>160,children:[r.jsx(Zc,{className:"h-4 w-4 mr-2"}),v?"Sending...":"Send SMS"]})]})]})]})})]})]})}var SC={exports:{}};/* @license
Papa Parse
v5.5.3
https://github.com/mholt/PapaParse
License: MIT
*/(function(e,t){((n,s)=>{e.exports=s()})(bf,function n(){var s=typeof self<"u"?self:typeof window<"u"?window:s!==void 0?s:{},a,i=!s.document&&!!s.postMessage,o=s.IS_PAPA_WORKER||!1,l={},c=0,d={};function p(S){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},(function(k){var D=M(k);D.chunkSize=parseInt(D.chunkSize),k.step||k.chunk||(D.chunkSize=null),this._handle=new b(D),(this._handle.streamer=this)._config=D}).call(this,S),this.parseChunk=function(k,D){var C=parseInt(this._config.skipFirstNLines)||0;if(this.isFirstChunk&&0<C){let T=this._config.newline;T||(w=this._config.quoteChar||'"',T=this._handle.guessLineEndings(k,w)),k=[...k.split(T).slice(C)].join(T)}this.isFirstChunk&&E(this._config.beforeFirstChunk)&&(w=this._config.beforeFirstChunk(k))!==void 0&&(k=w),this.isFirstChunk=!1,this._halted=!1;var C=this._partialLine+k,w=(this._partialLine="",this._handle.parse(C,this._baseIndex,!this._finished));if(!this._handle.paused()&&!this._handle.aborted()){if(k=w.meta.cursor,C=(this._finished||(this._partialLine=C.substring(k-this._baseIndex),this._baseIndex=k),w&&w.data&&(this._rowCount+=w.data.length),this._finished||this._config.preview&&this._rowCount>=this._config.preview),o)s.postMessage({results:w,workerId:d.WORKER_ID,finished:C});else if(E(this._config.chunk)&&!D){if(this._config.chunk(w,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);this._completeResults=w=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(w.data),this._completeResults.errors=this._completeResults.errors.concat(w.errors),this._completeResults.meta=w.meta),this._completed||!C||!E(this._config.complete)||w&&w.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),C||w&&w.meta.paused||this._nextChunk(),w}this._halted=!0},this._sendError=function(k){E(this._config.error)?this._config.error(k):o&&this._config.error&&s.postMessage({workerId:d.WORKER_ID,error:k,finished:!1})}}function u(S){var k;(S=S||{}).chunkSize||(S.chunkSize=d.RemoteChunkSize),p.call(this,S),this._nextChunk=i?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(D){this._input=D,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(k=new XMLHttpRequest,this._config.withCredentials&&(k.withCredentials=this._config.withCredentials),i||(k.onload=O(this._chunkLoaded,this),k.onerror=O(this._chunkError,this)),k.open(this._config.downloadRequestBody?"POST":"GET",this._input,!i),this._config.downloadRequestHeaders){var D,C=this._config.downloadRequestHeaders;for(D in C)k.setRequestHeader(D,C[D])}var w;this._config.chunkSize&&(w=this._start+this._config.chunkSize-1,k.setRequestHeader("Range","bytes="+this._start+"-"+w));try{k.send(this._config.downloadRequestBody)}catch(T){this._chunkError(T.message)}i&&k.status===0&&this._chunkError()}},this._chunkLoaded=function(){k.readyState===4&&(k.status<200||400<=k.status?this._chunkError():(this._start+=this._config.chunkSize||k.responseText.length,this._finished=!this._config.chunkSize||this._start>=(D=>(D=D.getResponseHeader("Content-Range"))!==null?parseInt(D.substring(D.lastIndexOf("/")+1)):-1)(k),this.parseChunk(k.responseText)))},this._chunkError=function(D){D=k.statusText||D,this._sendError(new Error(D))}}function f(S){(S=S||{}).chunkSize||(S.chunkSize=d.LocalChunkSize),p.call(this,S);var k,D,C=typeof FileReader<"u";this.stream=function(w){this._input=w,D=w.slice||w.webkitSlice||w.mozSlice,C?((k=new FileReader).onload=O(this._chunkLoaded,this),k.onerror=O(this._chunkError,this)):k=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var w=this._input,T=(this._config.chunkSize&&(T=Math.min(this._start+this._config.chunkSize,this._input.size),w=D.call(w,this._start,T)),k.readAsText(w,this._config.encoding));C||this._chunkLoaded({target:{result:T}})},this._chunkLoaded=function(w){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(w.target.result)},this._chunkError=function(){this._sendError(k.error)}}function m(S){var k;p.call(this,S=S||{}),this.stream=function(D){return k=D,this._nextChunk()},this._nextChunk=function(){var D,C;if(!this._finished)return D=this._config.chunkSize,k=D?(C=k.substring(0,D),k.substring(D)):(C=k,""),this._finished=!k,this.parseChunk(C)}}function g(S){p.call(this,S=S||{});var k=[],D=!0,C=!1;this.pause=function(){p.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){p.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(w){this._input=w,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){C&&k.length===1&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),k.length?this.parseChunk(k.shift()):D=!0},this._streamData=O(function(w){try{k.push(typeof w=="string"?w:w.toString(this._config.encoding)),D&&(D=!1,this._checkIsFinished(),this.parseChunk(k.shift()))}catch(T){this._streamError(T)}},this),this._streamError=O(function(w){this._streamCleanUp(),this._sendError(w)},this),this._streamEnd=O(function(){this._streamCleanUp(),C=!0,this._streamData("")},this),this._streamCleanUp=O(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function b(S){var k,D,C,w,T=Math.pow(2,53),L=-T,W=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,V=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,_=this,B=0,U=0,q=!1,H=!1,R=[],$={data:[],errors:[],meta:{}};function G(ce){return S.skipEmptyLines==="greedy"?ce.join("").trim()==="":ce.length===1&&ce[0].length===0}function Z(){if($&&C&&(le("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+d.DefaultDelimiter+"'"),C=!1),S.skipEmptyLines&&($.data=$.data.filter(function(ve){return!G(ve)})),te()){let ve=function(Ee,Te){E(S.transformHeader)&&(Ee=S.transformHeader(Ee,Te)),R.push(Ee)};if($)if(Array.isArray($.data[0])){for(var ce=0;te()&&ce<$.data.length;ce++)$.data[ce].forEach(ve);$.data.splice(0,1)}else $.data.forEach(ve)}function de(ve,Ee){for(var Te=S.header?{}:[],pe=0;pe<ve.length;pe++){var se=pe,ee=ve[pe],ee=((Ue,Fe)=>(ke=>(S.dynamicTypingFunction&&S.dynamicTyping[ke]===void 0&&(S.dynamicTyping[ke]=S.dynamicTypingFunction(ke)),(S.dynamicTyping[ke]||S.dynamicTyping)===!0))(Ue)?Fe==="true"||Fe==="TRUE"||Fe!=="false"&&Fe!=="FALSE"&&((ke=>{if(W.test(ke)&&(ke=parseFloat(ke),L<ke&&ke<T))return 1})(Fe)?parseFloat(Fe):V.test(Fe)?new Date(Fe):Fe===""?null:Fe):Fe)(se=S.header?pe>=R.length?"__parsed_extra":R[pe]:se,ee=S.transform?S.transform(ee,se):ee);se==="__parsed_extra"?(Te[se]=Te[se]||[],Te[se].push(ee)):Te[se]=ee}return S.header&&(pe>R.length?le("FieldMismatch","TooManyFields","Too many fields: expected "+R.length+" fields but parsed "+pe,U+Ee):pe<R.length&&le("FieldMismatch","TooFewFields","Too few fields: expected "+R.length+" fields but parsed "+pe,U+Ee)),Te}var Ne;$&&(S.header||S.dynamicTyping||S.transform)&&(Ne=1,!$.data.length||Array.isArray($.data[0])?($.data=$.data.map(de),Ne=$.data.length):$.data=de($.data,0),S.header&&$.meta&&($.meta.fields=R),U+=Ne)}function te(){return S.header&&R.length===0}function le(ce,de,Ne,ve){ce={type:ce,code:de,message:Ne},ve!==void 0&&(ce.row=ve),$.errors.push(ce)}E(S.step)&&(w=S.step,S.step=function(ce){$=ce,te()?Z():(Z(),$.data.length!==0&&(B+=ce.data.length,S.preview&&B>S.preview?D.abort():($.data=$.data[0],w($,_))))}),this.parse=function(ce,de,Ne){var ve=S.quoteChar||'"',ve=(S.newline||(S.newline=this.guessLineEndings(ce,ve)),C=!1,S.delimiter?E(S.delimiter)&&(S.delimiter=S.delimiter(ce),$.meta.delimiter=S.delimiter):((ve=((Ee,Te,pe,se,ee)=>{var Ue,Fe,ke,Ve;ee=ee||[",","	","|",";",d.RECORD_SEP,d.UNIT_SEP];for(var Xe=0;Xe<ee.length;Xe++){for(var Ge,xt=ee[Xe],Pe=0,We=0,et=0,dt=(ke=void 0,new x({comments:se,delimiter:xt,newline:Te,preview:10}).parse(Ee)),Nt=0;Nt<dt.data.length;Nt++)pe&&G(dt.data[Nt])?et++:(Ge=dt.data[Nt].length,We+=Ge,ke===void 0?ke=Ge:0<Ge&&(Pe+=Math.abs(Ge-ke),ke=Ge));0<dt.data.length&&(We/=dt.data.length-et),(Fe===void 0||Pe<=Fe)&&(Ve===void 0||Ve<We)&&1.99<We&&(Fe=Pe,Ue=xt,Ve=We)}return{successful:!!(S.delimiter=Ue),bestDelimiter:Ue}})(ce,S.newline,S.skipEmptyLines,S.comments,S.delimitersToGuess)).successful?S.delimiter=ve.bestDelimiter:(C=!0,S.delimiter=d.DefaultDelimiter),$.meta.delimiter=S.delimiter),M(S));return S.preview&&S.header&&ve.preview++,k=ce,D=new x(ve),$=D.parse(k,de,Ne),Z(),q?{meta:{paused:!0}}:$||{meta:{paused:!1}}},this.paused=function(){return q},this.pause=function(){q=!0,D.abort(),k=E(S.chunk)?"":k.substring(D.getCharIndex())},this.resume=function(){_.streamer._halted?(q=!1,_.streamer.parseChunk(k,!0)):setTimeout(_.resume,3)},this.aborted=function(){return H},this.abort=function(){H=!0,D.abort(),$.meta.aborted=!0,E(S.complete)&&S.complete($),k=""},this.guessLineEndings=function(Ee,ve){Ee=Ee.substring(0,1048576);var ve=new RegExp(j(ve)+"([^]*?)"+j(ve),"gm"),Ne=(Ee=Ee.replace(ve,"")).split("\r"),ve=Ee.split(`
`),Ee=1<ve.length&&ve[0].length<Ne[0].length;if(Ne.length===1||Ee)return`
`;for(var Te=0,pe=0;pe<Ne.length;pe++)Ne[pe][0]===`
`&&Te++;return Te>=Ne.length/2?`\r
`:"\r"}}function j(S){return S.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function x(S){var k=(S=S||{}).delimiter,D=S.newline,C=S.comments,w=S.step,T=S.preview,L=S.fastMode,W=null,V=!1,_=S.quoteChar==null?'"':S.quoteChar,B=_;if(S.escapeChar!==void 0&&(B=S.escapeChar),(typeof k!="string"||-1<d.BAD_DELIMITERS.indexOf(k))&&(k=","),C===k)throw new Error("Comment character same as delimiter");C===!0?C="#":(typeof C!="string"||-1<d.BAD_DELIMITERS.indexOf(C))&&(C=!1),D!==`
`&&D!=="\r"&&D!==`\r
`&&(D=`
`);var U=0,q=!1;this.parse=function(H,R,$){if(typeof H!="string")throw new Error("Input must be a string");var G=H.length,Z=k.length,te=D.length,le=C.length,ce=E(w),de=[],Ne=[],ve=[],Ee=U=0;if(!H)return Pe();if(L||L!==!1&&H.indexOf(_)===-1){for(var Te=H.split(D),pe=0;pe<Te.length;pe++){if(ve=Te[pe],U+=ve.length,pe!==Te.length-1)U+=D.length;else if($)return Pe();if(!C||ve.substring(0,le)!==C){if(ce){if(de=[],Ve(ve.split(k)),We(),q)return Pe()}else Ve(ve.split(k));if(T&&T<=pe)return de=de.slice(0,T),Pe(!0)}}return Pe()}for(var se=H.indexOf(k,U),ee=H.indexOf(D,U),Ue=new RegExp(j(B)+j(_),"g"),Fe=H.indexOf(_,U);;)if(H[U]===_)for(Fe=U,U++;;){if((Fe=H.indexOf(_,Fe+1))===-1)return $||Ne.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:de.length,index:U}),Ge();if(Fe===G-1)return Ge(H.substring(U,Fe).replace(Ue,_));if(_===B&&H[Fe+1]===B)Fe++;else if(_===B||Fe===0||H[Fe-1]!==B){se!==-1&&se<Fe+1&&(se=H.indexOf(k,Fe+1));var ke=Xe((ee=ee!==-1&&ee<Fe+1?H.indexOf(D,Fe+1):ee)===-1?se:Math.min(se,ee));if(H.substr(Fe+1+ke,Z)===k){ve.push(H.substring(U,Fe).replace(Ue,_)),H[U=Fe+1+ke+Z]!==_&&(Fe=H.indexOf(_,U)),se=H.indexOf(k,U),ee=H.indexOf(D,U);break}if(ke=Xe(ee),H.substring(Fe+1+ke,Fe+1+ke+te)===D){if(ve.push(H.substring(U,Fe).replace(Ue,_)),xt(Fe+1+ke+te),se=H.indexOf(k,U),Fe=H.indexOf(_,U),ce&&(We(),q))return Pe();if(T&&de.length>=T)return Pe(!0);break}Ne.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:de.length,index:U}),Fe++}}else if(C&&ve.length===0&&H.substring(U,U+le)===C){if(ee===-1)return Pe();U=ee+te,ee=H.indexOf(D,U),se=H.indexOf(k,U)}else if(se!==-1&&(se<ee||ee===-1))ve.push(H.substring(U,se)),U=se+Z,se=H.indexOf(k,U);else{if(ee===-1)break;if(ve.push(H.substring(U,ee)),xt(ee+te),ce&&(We(),q))return Pe();if(T&&de.length>=T)return Pe(!0)}return Ge();function Ve(et){de.push(et),Ee=U}function Xe(et){var dt=0;return dt=et!==-1&&(et=H.substring(Fe+1,et))&&et.trim()===""?et.length:dt}function Ge(et){return $||(et===void 0&&(et=H.substring(U)),ve.push(et),U=G,Ve(ve),ce&&We()),Pe()}function xt(et){U=et,Ve(ve),ve=[],ee=H.indexOf(D,U)}function Pe(et){if(S.header&&!R&&de.length&&!V){var dt=de[0],Nt=Object.create(null),gt=new Set(dt);let Pt=!1;for(let Ye=0;Ye<dt.length;Ye++){let Kt=dt[Ye];if(Nt[Kt=E(S.transformHeader)?S.transformHeader(Kt,Ye):Kt]){let Ot,en=Nt[Kt];for(;Ot=Kt+"_"+en,en++,gt.has(Ot););gt.add(Ot),dt[Ye]=Ot,Nt[Kt]++,Pt=!0,(W=W===null?{}:W)[Ot]=Kt}else Nt[Kt]=1,dt[Ye]=Kt;gt.add(Kt)}Pt&&console.warn("Duplicate headers found and renamed."),V=!0}return{data:de,errors:Ne,meta:{delimiter:k,linebreak:D,aborted:q,truncated:!!et,cursor:Ee+(R||0),renamedHeaders:W}}}function We(){w(Pe()),de=[],Ne=[]}},this.abort=function(){q=!0},this.getCharIndex=function(){return U}}function v(S){var k=S.data,D=l[k.workerId],C=!1;if(k.error)D.userError(k.error,k.file);else if(k.results&&k.results.data){var w={abort:function(){C=!0,y(k.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:P,resume:P};if(E(D.userStep)){for(var T=0;T<k.results.data.length&&(D.userStep({data:k.results.data[T],errors:k.results.errors,meta:k.results.meta},w),!C);T++);delete k.results}else E(D.userChunk)&&(D.userChunk(k.results,w,k.file),delete k.results)}k.finished&&!C&&y(k.workerId,k.results)}function y(S,k){var D=l[S];E(D.userComplete)&&D.userComplete(k),D.terminate(),delete l[S]}function P(){throw new Error("Not implemented.")}function M(S){if(typeof S!="object"||S===null)return S;var k,D=Array.isArray(S)?[]:{};for(k in S)D[k]=M(S[k]);return D}function O(S,k){return function(){S.apply(k,arguments)}}function E(S){return typeof S=="function"}return d.parse=function(S,k){var D=(k=k||{}).dynamicTyping||!1;if(E(D)&&(k.dynamicTypingFunction=D,D={}),k.dynamicTyping=D,k.transform=!!E(k.transform)&&k.transform,!k.worker||!d.WORKERS_SUPPORTED)return D=null,d.NODE_STREAM_INPUT,typeof S=="string"?(S=(C=>C.charCodeAt(0)!==65279?C:C.slice(1))(S),D=new(k.download?u:m)(k)):S.readable===!0&&E(S.read)&&E(S.on)?D=new g(k):(s.File&&S instanceof File||S instanceof Object)&&(D=new f(k)),D.stream(S);(D=(()=>{var C;return!!d.WORKERS_SUPPORTED&&(C=(()=>{var w=s.URL||s.webkitURL||null,T=n.toString();return d.BLOB_URL||(d.BLOB_URL=w.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",T,")();"],{type:"text/javascript"})))})(),(C=new s.Worker(C)).onmessage=v,C.id=c++,l[C.id]=C)})()).userStep=k.step,D.userChunk=k.chunk,D.userComplete=k.complete,D.userError=k.error,k.step=E(k.step),k.chunk=E(k.chunk),k.complete=E(k.complete),k.error=E(k.error),delete k.worker,D.postMessage({input:S,config:k,workerId:D.id})},d.unparse=function(S,k){var D=!1,C=!0,w=",",T=`\r
`,L='"',W=L+L,V=!1,_=null,B=!1,U=((()=>{if(typeof k=="object"){if(typeof k.delimiter!="string"||d.BAD_DELIMITERS.filter(function(R){return k.delimiter.indexOf(R)!==-1}).length||(w=k.delimiter),typeof k.quotes!="boolean"&&typeof k.quotes!="function"&&!Array.isArray(k.quotes)||(D=k.quotes),typeof k.skipEmptyLines!="boolean"&&typeof k.skipEmptyLines!="string"||(V=k.skipEmptyLines),typeof k.newline=="string"&&(T=k.newline),typeof k.quoteChar=="string"&&(L=k.quoteChar),typeof k.header=="boolean"&&(C=k.header),Array.isArray(k.columns)){if(k.columns.length===0)throw new Error("Option columns is empty");_=k.columns}k.escapeChar!==void 0&&(W=k.escapeChar+L),k.escapeFormulae instanceof RegExp?B=k.escapeFormulae:typeof k.escapeFormulae=="boolean"&&k.escapeFormulae&&(B=/^[=+\-@\t\r].*$/)}})(),new RegExp(j(L),"g"));if(typeof S=="string"&&(S=JSON.parse(S)),Array.isArray(S)){if(!S.length||Array.isArray(S[0]))return q(null,S,V);if(typeof S[0]=="object")return q(_||Object.keys(S[0]),S,V)}else if(typeof S=="object")return typeof S.data=="string"&&(S.data=JSON.parse(S.data)),Array.isArray(S.data)&&(S.fields||(S.fields=S.meta&&S.meta.fields||_),S.fields||(S.fields=Array.isArray(S.data[0])?S.fields:typeof S.data[0]=="object"?Object.keys(S.data[0]):[]),Array.isArray(S.data[0])||typeof S.data[0]=="object"||(S.data=[S.data])),q(S.fields||[],S.data||[],V);throw new Error("Unable to serialize unrecognized input");function q(R,$,G){var Z="",te=(typeof R=="string"&&(R=JSON.parse(R)),typeof $=="string"&&($=JSON.parse($)),Array.isArray(R)&&0<R.length),le=!Array.isArray($[0]);if(te&&C){for(var ce=0;ce<R.length;ce++)0<ce&&(Z+=w),Z+=H(R[ce],ce);0<$.length&&(Z+=T)}for(var de=0;de<$.length;de++){var Ne=(te?R:$[de]).length,ve=!1,Ee=te?Object.keys($[de]).length===0:$[de].length===0;if(G&&!te&&(ve=G==="greedy"?$[de].join("").trim()==="":$[de].length===1&&$[de][0].length===0),G==="greedy"&&te){for(var Te=[],pe=0;pe<Ne;pe++){var se=le?R[pe]:pe;Te.push($[de][se])}ve=Te.join("").trim()===""}if(!ve){for(var ee=0;ee<Ne;ee++){0<ee&&!Ee&&(Z+=w);var Ue=te&&le?R[ee]:ee;Z+=H($[de][Ue],ee)}de<$.length-1&&(!G||0<Ne&&!Ee)&&(Z+=T)}}return Z}function H(R,$){var G,Z;return R==null?"":R.constructor===Date?JSON.stringify(R).slice(1,25):(Z=!1,B&&typeof R=="string"&&B.test(R)&&(R="'"+R,Z=!0),G=R.toString().replace(U,W),(Z=Z||D===!0||typeof D=="function"&&D(R,$)||Array.isArray(D)&&D[$]||((te,le)=>{for(var ce=0;ce<le.length;ce++)if(-1<te.indexOf(le[ce]))return!0;return!1})(G,d.BAD_DELIMITERS)||-1<G.indexOf(w)||G.charAt(0)===" "||G.charAt(G.length-1)===" ")?L+G+L:G)}},d.RECORD_SEP=String.fromCharCode(30),d.UNIT_SEP=String.fromCharCode(31),d.BYTE_ORDER_MARK="\uFEFF",d.BAD_DELIMITERS=["\r",`
`,'"',d.BYTE_ORDER_MARK],d.WORKERS_SUPPORTED=!i&&!!s.Worker,d.NODE_STREAM_INPUT=1,d.LocalChunkSize=10485760,d.RemoteChunkSize=5242880,d.DefaultDelimiter=",",d.Parser=x,d.ParserHandle=b,d.NetworkStreamer=u,d.FileStreamer=f,d.StringStreamer=m,d.ReadableStreamStreamer=g,s.jQuery&&((a=s.jQuery).fn.parse=function(S){var k=S.config||{},D=[];return this.each(function(T){if(!(a(this).prop("tagName").toUpperCase()==="INPUT"&&a(this).attr("type").toLowerCase()==="file"&&s.FileReader)||!this.files||this.files.length===0)return!0;for(var L=0;L<this.files.length;L++)D.push({file:this.files[L],inputElem:this,instanceConfig:a.extend({},k)})}),C(),this;function C(){if(D.length===0)E(S.complete)&&S.complete();else{var T,L,W,V,_=D[0];if(E(S.before)){var B=S.before(_.file,_.inputElem);if(typeof B=="object"){if(B.action==="abort")return T="AbortError",L=_.file,W=_.inputElem,V=B.reason,void(E(S.error)&&S.error({name:T},L,W,V));if(B.action==="skip")return void w();typeof B.config=="object"&&(_.instanceConfig=a.extend(_.instanceConfig,B.config))}else if(B==="skip")return void w()}var U=_.instanceConfig.complete;_.instanceConfig.complete=function(q){E(U)&&U(q,_.file,_.inputElem),w()},d.parse(_.file,_.instanceConfig)}}function w(){D.splice(0,1),C()}}),o&&(s.onmessage=function(S){S=S.data,d.WORKER_ID===void 0&&S&&(d.WORKER_ID=S.workerId),typeof S.input=="string"?s.postMessage({workerId:d.WORKER_ID,results:d.parse(S.input,S.config),finished:!0}):(s.File&&S.input instanceof File||S.input instanceof Object)&&(S=d.parse(S.input,S.config))&&s.postMessage({workerId:d.WORKER_ID,results:S,finished:!0})}),(u.prototype=Object.create(p.prototype)).constructor=u,(f.prototype=Object.create(p.prototype)).constructor=f,(m.prototype=Object.create(m.prototype)).constructor=m,(g.prototype=Object.create(p.prototype)).constructor=g,d})})(SC);var Y8=SC.exports;const jh=Cp(Y8);function Fp(){const[e,t]=A.useState([]),[n,s]=A.useState(!1);A.useEffect(()=>{a()},[]);const a=()=>{const m=En("renter-insight-vehicles",[{id:"1",vin:"1FDXE4FS8KDC12345",make:"Forest River",model:"Georgetown",year:2024,type:at.MOTORHOME,status:_t.AVAILABLE,price:125e3,cost:95e3,location:"Lot A-15",features:["Slide-out","Generator","Solar Panel"],images:["https://images.pexels.com/photos/1319515/pexels-photo-1319515.jpeg"],customFields:{},createdAt:new Date("2024-01-10"),updatedAt:new Date("2024-01-15")},{id:"2",vin:"1FDXE4FS8KDC67890",make:"Winnebago",model:"View",year:2023,type:at.RV,status:_t.AVAILABLE,price:89e3,cost:72e3,location:"Lot B-08",features:["Compact Design","Fuel Efficient"],images:["https://images.pexels.com/photos/2506923/pexels-photo-2506923.jpeg"],customFields:{},createdAt:new Date("2024-01-08"),updatedAt:new Date("2024-01-12")},{id:"3",vin:"1FDXE4FS8KDC11111",make:"Jayco",model:"Eagle",year:2024,type:at.FIFTH_WHEEL,status:_t.AVAILABLE,price:75e3,cost:58e3,location:"Lot C-12",features:["Bunk Beds","Outdoor Kitchen","Fireplace"],images:["https://images.pexels.com/photos/1319515/pexels-photo-1319515.jpeg"],customFields:{},createdAt:new Date("2024-01-05"),updatedAt:new Date("2024-01-10")},{id:"4",vin:"1FDXE4FS8KDC22222",make:"Airstream",model:"Flying Cloud",year:2024,type:at.TRAVEL_TRAILER,status:_t.AVAILABLE,price:95e3,cost:78e3,location:"Lot D-05",features:["Aluminum Construction","Premium Interior","Smart Technology"],images:["https://images.pexels.com/photos/2506923/pexels-photo-2506923.jpeg"],customFields:{},createdAt:new Date("2024-01-03"),updatedAt:new Date("2024-01-08")},{id:"5",vin:"1FDXE4FS8KDC33333",make:"Grand Design",model:"Momentum",year:2023,type:at.TOY_HAULER,status:_t.AVAILABLE,price:11e4,cost:88e3,location:"Lot E-18",features:["Garage Space","Fuel Station","Generator"],images:["https://images.pexels.com/photos/1319515/pexels-photo-1319515.jpeg"],customFields:{},createdAt:new Date("2024-01-01"),updatedAt:new Date("2024-01-05")},{id:"6",vin:"MH12345678901234",make:"Clayton Homes",model:"Inspiration",year:2024,type:at.DOUBLE_WIDE,status:_t.AVAILABLE,price:125e3,cost:95e3,location:"MH Section A-10",features:["3 Bedroom","2 Bathroom","Open Floor Plan","Energy Efficient"],images:["https://images.pexels.com/photos/2506923/pexels-photo-2506923.jpeg"],customFields:{length:"76",width:"28",squareFootage:"2128",constructionType:"Manufactured",roofType:"Shingle",exteriorSiding:"Vinyl",insulationRating:"R-21"},createdAt:new Date("2024-01-15"),updatedAt:new Date("2024-01-15")}]);t(m)},i=m=>{Xr("renter-insight-vehicles",m)};return{vehicles:e,loading:n,getAvailableVehicles:()=>e.filter(m=>m.status===_t.AVAILABLE),getVehicleById:m=>e.find(g=>g.id===m),updateVehicleStatus:async(m,g)=>{const b=e.map(j=>j.id===m?{...j,status:g,updatedAt:new Date}:j);t(b),i(b)},createVehicle:async m=>{s(!0);try{const g={id:Math.random().toString(36).substr(2,9),vin:m.vin||"",make:m.make||"",model:m.model||"",year:m.year||new Date().getFullYear(),type:m.type||at.RV,status:_t.AVAILABLE,price:m.price||0,cost:m.cost||0,location:m.location||"",features:m.features||[],images:m.images||[],customFields:m.customFields||{},createdAt:new Date,updatedAt:new Date},b=[...e,g];return t(b),i(b),g}finally{s(!1)}},deleteVehicle:async m=>{const g=e.filter(b=>b.id!==m);t(g),i(g)},importVehiclesFromCSV:async m=>new Promise((g,b)=>{jh.parse(m,{header:!0,skipEmptyLines:!0,complete:j=>{const x=j.data.map(v=>({vin:v.vin||"",make:v.make||"",model:v.model||"",year:parseInt(v.year)||new Date().getFullYear(),type:v.type||at.RV,status:v.status||_t.AVAILABLE,price:parseFloat(v.price)||0,cost:parseFloat(v.cost)||0,location:v.location||"",features:v.features?v.features.split(",").map(y=>y.trim()):[],images:[],customFields:{exteriorColor:v.exteriorColor||"",interiorColor:v.interiorColor||"",length:v.length||"",weight:v.weight||"",sleeps:v.sleeps||"",slideouts:v.slideouts||"",fuelType:v.fuelType||"",mileage:v.mileage||"",condition:v.condition||"New"}}));g(x)},error:j=>{b(j)}})}),exportVehiclesToCSV:()=>{const m=e.map(b=>{var j,x,v,y,P,M,O,E,S;return{id:b.id,vin:b.vin,make:b.make,model:b.model,year:b.year,type:b.type,status:b.status,price:b.price,cost:b.cost,location:b.location,features:b.features.join(", "),exteriorColor:((j=b.customFields)==null?void 0:j.exteriorColor)||"",interiorColor:((x=b.customFields)==null?void 0:x.interiorColor)||"",length:((v=b.customFields)==null?void 0:v.length)||"",weight:((y=b.customFields)==null?void 0:y.weight)||"",sleeps:((P=b.customFields)==null?void 0:P.sleeps)||"",slideouts:((M=b.customFields)==null?void 0:M.slideouts)||"",fuelType:((O=b.customFields)==null?void 0:O.fuelType)||"",mileage:((E=b.customFields)==null?void 0:E.mileage)||"",condition:((S=b.customFields)==null?void 0:S.condition)||""}});return jh.unparse(m)}}}const xu=[{id:"1",name:"2024 Forest River Georgetown",description:"Class A Motorhome with premium features",price:125e3,category:"motorhome"},{id:"2",name:"Extended Warranty",description:"3-year comprehensive warranty coverage",price:2500,category:"warranty"},{id:"3",name:"Solar Panel Package",description:"400W solar panel system with inverter",price:3500,category:"accessory"},{id:"4",name:"Premium Package",description:"Includes extended warranty, solar panels, and premium interior",price:8e3,category:"bundle",isBundle:!0,bundleItems:[{productId:"2",quantity:1},{productId:"3",quantity:1},{productId:"5",quantity:1}]},{id:"5",name:"Premium Interior Upgrade",description:"Leather seating and premium finishes",price:2200,category:"upgrade"}],K8=[{id:"1",name:"Bulk Accessory Discount",type:"quantity_discount",conditions:{minQuantity:3},discount:{type:"percentage",value:10},isActive:!0},{id:"2",name:"Premium Bundle Discount",type:"bundle_discount",conditions:{productIds:["4"]},discount:{type:"fixed",value:500},isActive:!0}];function CC({quote:e,customerId:t,onSave:n,onCancel:s}){const{toast:a}=Cr(),{getAvailableVehicles:i,getVehicleById:o}=Fp(),[l,c]=A.useState(!1),[d,p]=A.useState("items"),[u,f]=A.useState({customerId:t,validUntil:new Date(Date.now()+30*24*60*60*1e3),notes:"",terms:"Payment due within 30 days. All sales final.",items:[],subtotal:0,totalDiscount:0,tax:0,taxRate:.08,total:0}),[m,g]=A.useState(""),[b,j]=A.useState(!1),[x,v]=A.useState(""),[y,P]=A.useState({description:"",quantity:1,unitPrice:0,discount:0,discountType:"percentage"}),M=i();A.useEffect(()=>{e&&f(_=>({..._,...e}))},[e]),A.useEffect(()=>{O()},[u.items,u.taxRate]);const O=()=>{const _=u.items.reduce((R,$)=>R+$.total,0),B=u.items.reduce((R,$)=>{const G=$.discountType==="percentage"?$.quantity*$.unitPrice*$.discount/100:$.discount*$.quantity;return R+G},0),U=_-B,q=U*u.taxRate,H=U+q;f(R=>({...R,subtotal:_,totalDiscount:B,tax:q,total:H}))},E=()=>{if(!y.description||!y.unitPrice){a({title:"Validation Error",description:"Description and unit price are required",variant:"destructive"});return}const _={id:Math.random().toString(36).substr(2,9),description:y.description,quantity:y.quantity||1,unitPrice:y.unitPrice||0,discount:y.discount||0,discountType:y.discountType||"percentage",total:D(y)};f(B=>({...B,items:[...B.items,_]})),P({description:"",quantity:1,unitPrice:0,discount:0,discountType:"percentage"}),g(""),j(!1)},S=_=>{const B=o(_);if(!B)return;const U={id:Math.random().toString(36).substr(2,9),productId:B.id,description:`${B.year} ${B.make} ${B.model}`,quantity:1,unitPrice:B.price,discount:0,discountType:"percentage",total:B.price};f(q=>({...q,items:[...q.items,U]})),v(""),a({title:"Vehicle Added",description:`${B.year} ${B.make} ${B.model} added to quote`})},k=_=>{const B=xu.find(U=>U.id===_);if(B){if(B.isBundle&&B.bundleItems){const U={id:Math.random().toString(36).substr(2,9),productId:B.id,description:B.description,quantity:1,unitPrice:B.price,discount:0,discountType:"percentage",total:B.price,isBundle:!0,bundleItems:B.bundleItems.map(q=>{const H=xu.find(R=>R.id===q.productId);return{id:Math.random().toString(36).substr(2,9),productId:q.productId,description:(H==null?void 0:H.name)||"",quantity:q.quantity,unitPrice:(H==null?void 0:H.price)||0,discount:0,discountType:"percentage",total:((H==null?void 0:H.price)||0)*q.quantity}})};f(q=>({...q,items:[...q.items,U]}))}else{const U={id:Math.random().toString(36).substr(2,9),productId:B.id,description:B.name,quantity:1,unitPrice:B.price,discount:0,discountType:"percentage",total:B.price};f(q=>({...q,items:[...q.items,U]}))}T()}},D=_=>{const B=_.quantity*_.unitPrice,U=_.discountType==="percentage"?B*(_.discount/100):_.discount*_.quantity;return B-U},C=(_,B)=>{f(U=>({...U,items:U.items.map(q=>{if(q.id===_){const H={...q,...B};return H.total=D(H),H}return q})}))},w=_=>{f(B=>({...B,items:B.items.filter(U=>U.id!==_)}))},T=()=>{const _=u.items.filter(U=>{var q;return((q=xu.find(H=>H.id===U.productId))==null?void 0:q.category)==="accessory"});_.length>=3&&_.forEach(U=>{C(U.id,{discount:10,discountType:"percentage"})}),u.items.filter(U=>U.isBundle).forEach(U=>{C(U.id,{discount:500,discountType:"fixed"})})},L=async()=>{c(!0);try{await new Promise(H=>setTimeout(H,2e3));const _=W(),B=new Blob([_],{type:"text/plain"}),U=URL.createObjectURL(B),q=document.createElement("a");q.href=U,q.download=`quote-${Date.now()}.txt`,document.body.appendChild(q),q.click(),document.body.removeChild(q),URL.revokeObjectURL(U),a({title:"PDF Generated",description:"Quote PDF has been downloaded successfully"})}catch{a({title:"Error",description:"Failed to generate PDF",variant:"destructive"})}finally{c(!1)}},W=()=>`
QUOTE DOCUMENT
==============

Customer ID: ${u.customerId}
Valid Until: ${u.validUntil.toLocaleDateString()}

LINE ITEMS:
-----------
${u.items.map(_=>{var B;return`
${_.description}
Quantity: ${_.quantity} x ${Le(_.unitPrice)}
${_.discount>0?`Discount: ${_.discount}${_.discountType==="percentage"?"%":" fixed"}`:""}
Total: ${Le(_.total)}
${_.isBundle?`
  Bundle Items:
  ${((B=_.bundleItems)==null?void 0:B.map(U=>`  - ${U.description} (${U.quantity}x)`).join(`
  `))||""}
`:""}
`}).join(`
`)}

TOTALS:
-------
Subtotal: ${Le(u.subtotal)}
Total Discount: ${Le(u.totalDiscount)}
Tax (${(u.taxRate*100).toFixed(1)}%): ${Le(u.tax)}
TOTAL: ${Le(u.total)}

Notes: ${u.notes}
Terms: ${u.terms}
    `,V=async()=>{if(u.items.length===0){a({title:"Validation Error",description:"At least one line item is required",variant:"destructive"});return}c(!0);try{const _={...u,customerId:u.customerId||t};await n(_),a({title:"Success",description:"Quote saved successfully"})}catch{a({title:"Error",description:"Failed to save quote",variant:"destructive"})}finally{c(!1)}};return r.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:r.jsxs(me,{className:"w-full max-w-6xl max-h-[90vh] overflow-y-auto",children:[r.jsx(be,{children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsxs(je,{className:"text-xl flex items-center",children:[r.jsx(qn,{className:"h-5 w-5 mr-2 text-blue-500"}),e?"Edit Quote":"Create Quote"]}),r.jsx(Ke,{children:"Build a detailed quote with line items, pricing rules, and bundled products"})]}),r.jsx(ae,{variant:"ghost",size:"sm",onClick:s,children:r.jsx(or,{className:"h-4 w-4"})})]})}),r.jsxs(fe,{children:[r.jsxs(dn,{value:d,onValueChange:p,className:"space-y-6",children:[r.jsxs(Zr,{className:"grid w-full grid-cols-4",children:[r.jsx(ut,{value:"items",children:"Line Items"}),r.jsx(ut,{value:"products",children:"Products"}),r.jsx(ut,{value:"pricing",children:"Pricing Rules"}),r.jsx(ut,{value:"details",children:"Quote Details"})]}),r.jsxs(ht,{value:"items",className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("h3",{className:"text-lg font-semibold",children:"Quote Line Items"}),r.jsxs("div",{className:"flex space-x-2",children:[r.jsxs(lt,{value:x,onValueChange:v,children:[r.jsx(it,{className:"w-64",children:r.jsx(ct,{placeholder:"Add vehicle from inventory"})}),r.jsx(ot,{children:M.map(_=>r.jsxs(oe,{value:_.id,children:[_.year," ",_.make," ",_.model," - ",Le(_.price)]},_.id))})]}),x&&r.jsxs(ae,{onClick:()=>S(x),size:"sm",children:[r.jsx(It,{className:"h-4 w-4 mr-2"}),"Add Vehicle"]}),r.jsxs(ae,{onClick:()=>j(!0),size:"sm",variant:"outline",children:[r.jsx(It,{className:"h-4 w-4 mr-2"}),"Custom Item"]})]})]}),b&&r.jsx(me,{className:"border-dashed",children:r.jsxs(fe,{className:"pt-6",children:[r.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[r.jsxs("div",{children:[r.jsx(Ae,{children:"Description"}),r.jsx(Be,{value:y.description||"",onChange:_=>P(B=>({...B,description:_.target.value})),placeholder:"Item description"})]}),r.jsxs("div",{children:[r.jsx(Ae,{children:"Unit Price"}),r.jsx(Be,{type:"number",value:y.unitPrice||"",onChange:_=>P(B=>({...B,unitPrice:parseFloat(_.target.value)||0})),placeholder:"0.00"})]}),r.jsxs("div",{children:[r.jsx(Ae,{children:"Quantity"}),r.jsx(Be,{type:"number",value:y.quantity||1,onChange:_=>P(B=>({...B,quantity:parseInt(_.target.value)||1})),min:"1"})]}),r.jsxs("div",{children:[r.jsx(Ae,{children:"Discount"}),r.jsxs("div",{className:"flex space-x-2",children:[r.jsx(Be,{type:"number",value:y.discount||0,onChange:_=>P(B=>({...B,discount:parseFloat(_.target.value)||0})),placeholder:"0"}),r.jsxs(lt,{value:y.discountType,onValueChange:_=>P(B=>({...B,discountType:_})),children:[r.jsx(it,{className:"w-32",children:r.jsx(ct,{})}),r.jsxs(ot,{children:[r.jsx(oe,{value:"percentage",children:"%"}),r.jsx(oe,{value:"fixed",children:"$"})]})]})]})]})]}),r.jsxs("div",{className:"flex justify-end space-x-2 mt-4",children:[r.jsx(ae,{variant:"outline",onClick:()=>j(!1),children:"Cancel"}),r.jsx(ae,{onClick:E,children:"Add Item"})]})]})}),r.jsxs("div",{className:"space-y-4",children:[u.items.map((_,B)=>r.jsx(me,{className:"shadow-sm",children:r.jsxs(fe,{className:"pt-6",children:[r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsxs("div",{className:"flex-1 grid gap-4 md:grid-cols-4",children:[r.jsxs("div",{children:[r.jsx(Ae,{children:"Description"}),r.jsx(Be,{value:_.description,onChange:U=>C(_.id,{description:U.target.value})}),_.isBundle&&r.jsxs(Re,{className:"mt-1 bg-purple-50 text-purple-700 border-purple-200",children:[r.jsx(Hn,{className:"h-3 w-3 mr-1"}),"Bundle"]})]}),r.jsxs("div",{children:[r.jsx(Ae,{children:"Quantity"}),r.jsx(Be,{type:"number",value:_.quantity,onChange:U=>C(_.id,{quantity:parseInt(U.target.value)||1}),min:"1"})]}),r.jsxs("div",{children:[r.jsx(Ae,{children:"Unit Price"}),r.jsx(Be,{type:"number",value:_.unitPrice,onChange:U=>C(_.id,{unitPrice:parseFloat(U.target.value)||0}),step:"0.01"})]}),r.jsxs("div",{children:[r.jsx(Ae,{children:"Discount"}),r.jsxs("div",{className:"flex space-x-2",children:[r.jsx(Be,{type:"number",value:_.discount,onChange:U=>C(_.id,{discount:parseFloat(U.target.value)||0}),step:"0.01"}),r.jsxs(lt,{value:_.discountType,onValueChange:U=>C(_.id,{discountType:U}),children:[r.jsx(it,{className:"w-16",children:r.jsx(ct,{})}),r.jsxs(ot,{children:[r.jsx(oe,{value:"percentage",children:"%"}),r.jsx(oe,{value:"fixed",children:"$"})]})]})]})]})]}),r.jsxs("div",{className:"flex items-center space-x-3 ml-4",children:[r.jsxs("div",{className:"text-right",children:[r.jsx("div",{className:"text-sm text-muted-foreground",children:"Total"}),r.jsx("div",{className:"font-bold text-lg",children:Le(_.total)})]}),r.jsx(ae,{variant:"outline",size:"sm",onClick:()=>w(_.id),children:r.jsx(ys,{className:"h-4 w-4"})})]})]}),_.isBundle&&_.bundleItems&&r.jsxs("div",{className:"mt-4 pl-4 border-l-2 border-purple-200",children:[r.jsx("h4",{className:"text-sm font-semibold text-purple-700 mb-2",children:"Bundle Contents:"}),r.jsx("div",{className:"space-y-2",children:_.bundleItems.map(U=>r.jsxs("div",{className:"flex items-center justify-between text-sm bg-purple-50 p-2 rounded",children:[r.jsx("span",{children:U.description}),r.jsxs("span",{children:[U.quantity,"x ",Le(U.unitPrice)]})]},U.id))})]})]})},_.id)),u.items.length===0&&r.jsxs("div",{className:"text-center py-12 text-muted-foreground border-2 border-dashed rounded-lg",children:[r.jsx(qn,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground/50"}),r.jsx("p",{children:"No line items added yet"}),r.jsx("p",{className:"text-sm",children:"Add products or custom items to build your quote"})]})]}),u.items.length>0&&r.jsx(me,{className:"bg-muted/30",children:r.jsx(fe,{className:"pt-6",children:r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{children:"Subtotal:"}),r.jsx("span",{children:Le(u.subtotal)})]}),r.jsxs("div",{className:"flex justify-between text-red-600",children:[r.jsx("span",{children:"Total Discount:"}),r.jsxs("span",{children:["-",Le(u.totalDiscount)]})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsxs("span",{children:["Tax (",(u.taxRate*100).toFixed(1),"%):"]}),r.jsx("span",{children:Le(u.tax)})]}),r.jsxs("div",{className:"flex justify-between text-lg font-bold border-t pt-2",children:[r.jsx("span",{children:"Total:"}),r.jsx("span",{children:Le(u.total)})]})]})})})]}),r.jsx(ht,{value:"products",className:"space-y-6",children:r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Available Inventory & Products"}),r.jsxs("div",{className:"mb-8",children:[r.jsx("h4",{className:"text-md font-semibold mb-3 text-blue-600",children:"Available Vehicles"}),r.jsx("div",{className:"grid gap-4 md:grid-cols-2",children:M.map(_=>r.jsx(me,{className:"shadow-sm hover:shadow-md transition-shadow cursor-pointer",children:r.jsx(fe,{className:"pt-6",children:r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[r.jsxs("h4",{className:"font-semibold",children:[_.year," ",_.make," ",_.model]}),r.jsx(Re,{className:"bg-blue-50 text-blue-700 border-blue-200",children:_.type.replace("_"," ").toUpperCase()})]}),r.jsxs("p",{className:"text-sm text-muted-foreground mb-2",children:["VIN: ",_.vin]}),r.jsxs("p",{className:"text-sm text-muted-foreground mb-2",children:["Location: ",_.location]}),r.jsx("div",{className:"text-lg font-bold text-primary",children:Le(_.price)}),_.features.length>0&&r.jsx("div",{className:"mt-3",children:r.jsxs("div",{className:"flex flex-wrap gap-1",children:[_.features.slice(0,3).map((B,U)=>r.jsx(Re,{variant:"outline",className:"text-xs",children:B},U)),_.features.length>3&&r.jsxs(Re,{variant:"outline",className:"text-xs",children:["+",_.features.length-3," more"]})]})})]}),r.jsxs(ae,{onClick:()=>S(_.id),size:"sm",className:"ml-4",children:[r.jsx(It,{className:"h-4 w-4 mr-1"}),"Add"]})]})})},_.id))})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"text-md font-semibold mb-3 text-green-600",children:"Available Products & Services"}),r.jsx("div",{className:"grid gap-4 md:grid-cols-2",children:xu.map(_=>r.jsx(me,{className:"shadow-sm hover:shadow-md transition-shadow cursor-pointer",children:r.jsx(fe,{className:"pt-6",children:r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[r.jsx("h4",{className:"font-semibold",children:_.name}),_.isBundle&&r.jsxs(Re,{className:"bg-purple-50 text-purple-700 border-purple-200",children:[r.jsx(Hn,{className:"h-3 w-3 mr-1"}),"Bundle"]})]}),r.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:_.description}),r.jsx("div",{className:"text-lg font-bold text-primary",children:Le(_.price)}),_.isBundle&&_.bundleItems&&r.jsxs("div",{className:"mt-3 p-2 bg-purple-50 rounded",children:[r.jsx("div",{className:"text-xs font-semibold text-purple-700 mb-1",children:"Includes:"}),_.bundleItems.map(B=>{const U=xu.find(q=>q.id===B.productId);return r.jsxs("div",{className:"text-xs text-purple-600",children:[" ",U==null?void 0:U.name," (",B.quantity,"x)"]},B.productId)})]})]}),r.jsxs(ae,{onClick:()=>k(_.id),size:"sm",className:"ml-4",children:[r.jsx(It,{className:"h-4 w-4 mr-1"}),"Add"]})]})})},_.id))})]})]})}),r.jsx(ht,{value:"pricing",className:"space-y-6",children:r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Active Pricing Rules"}),r.jsx("div",{className:"space-y-4",children:K8.filter(_=>_.isActive).map(_=>r.jsx(me,{className:"shadow-sm",children:r.jsx(fe,{className:"pt-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h4",{className:"font-semibold",children:_.name}),r.jsxs("p",{className:"text-sm text-muted-foreground",children:[_.type==="quantity_discount"&&`Min quantity: ${_.conditions.minQuantity}`,_.type==="bundle_discount"&&"Applied to bundle products",_.type==="customer_discount"&&`Customer type: ${_.conditions.customerType}`]}),r.jsx("div",{className:"flex items-center space-x-2 mt-2",children:r.jsxs(Re,{className:"bg-green-50 text-green-700 border-green-200",children:[r.jsx(MD,{className:"h-3 w-3 mr-1"}),_.discount.type==="percentage"?`${_.discount.value}%`:Le(_.discount.value)," off"]})})]}),r.jsxs(ae,{variant:"outline",size:"sm",onClick:()=>T(),children:[r.jsx(kD,{className:"h-4 w-4 mr-1"}),"Apply"]})]})})},_.id))})]})}),r.jsxs(ht,{value:"details",className:"space-y-6",children:[r.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[r.jsxs("div",{children:[r.jsx(Ae,{htmlFor:"validUntil",children:"Valid Until"}),r.jsx(Be,{id:"validUntil",type:"date",value:u.validUntil.toISOString().split("T")[0],onChange:_=>f(B=>({...B,validUntil:new Date(_.target.value)}))})]}),r.jsxs("div",{children:[r.jsx(Ae,{htmlFor:"taxRate",children:"Tax Rate (%)"}),r.jsx(Be,{id:"taxRate",type:"number",value:(u.taxRate*100).toFixed(2),onChange:_=>f(B=>({...B,taxRate:parseFloat(_.target.value)/100||0})),step:"0.01",min:"0",max:"100"})]})]}),r.jsxs("div",{children:[r.jsx(Ae,{htmlFor:"notes",children:"Notes"}),r.jsx(lr,{id:"notes",value:u.notes,onChange:_=>f(B=>({...B,notes:_.target.value})),placeholder:"Additional notes for the customer...",rows:3})]}),r.jsxs("div",{children:[r.jsx(Ae,{htmlFor:"terms",children:"Terms & Conditions"}),r.jsx(lr,{id:"terms",value:u.terms,onChange:_=>f(B=>({...B,terms:_.target.value})),placeholder:"Terms and conditions...",rows:4})]})]})]}),r.jsxs("div",{className:"flex justify-between items-center pt-6 border-t",children:[r.jsx("div",{className:"flex space-x-2",children:r.jsxs(ae,{variant:"outline",onClick:L,disabled:l||u.items.length===0,children:[r.jsx(Ol,{className:"h-4 w-4 mr-2"}),l?"Generating...":"Export PDF"]})}),r.jsxs("div",{className:"flex space-x-3",children:[r.jsx(ae,{variant:"outline",onClick:s,disabled:l,children:"Cancel"}),r.jsx(ae,{onClick:V,disabled:l,children:l?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Saving..."]}):r.jsxs(r.Fragment,{children:[r.jsx(da,{className:"h-4 w-4 mr-2"}),"Save Quote"]})})]})]})]})]})})}function X8(){const[e,t]=A.useState([]),[n,s]=A.useState([]),[a,i]=A.useState([]),[o,l]=A.useState(!1);A.useEffect(()=>{c()},[]);const c=()=>{const O=En("renter-insight-quotes",[]);t(O);const E=[{id:"1",name:"2024 Forest River Georgetown",description:"Class A Motorhome with premium features",price:125e3,category:"motorhome"},{id:"2",name:"Extended Warranty",description:"3-year comprehensive warranty coverage",price:2500,category:"warranty"},{id:"3",name:"Solar Panel Package",description:"400W solar panel system with inverter",price:3500,category:"accessory"},{id:"4",name:"Premium Package",description:"Includes extended warranty, solar panels, and premium interior",price:8e3,category:"bundle",isBundle:!0,bundleItems:[{productId:"2",quantity:1},{productId:"3",quantity:1},{productId:"5",quantity:1}]},{id:"5",name:"Premium Interior Upgrade",description:"Leather seating and premium finishes",price:2200,category:"upgrade"},{id:"6",name:"Backup Camera System",description:"Wireless backup camera with monitor",price:450,category:"accessory"},{id:"7",name:"Awning Package",description:"Electric awning with LED lighting",price:1200,category:"accessory"}],S=[{id:"1",name:"Bulk Accessory Discount",type:"quantity_discount",conditions:{minQuantity:3},discount:{type:"percentage",value:10},isActive:!0},{id:"2",name:"Premium Bundle Discount",type:"bundle_discount",conditions:{productIds:["4"]},discount:{type:"fixed",value:500},isActive:!0},{id:"3",name:"First-Time Buyer Discount",type:"customer_discount",conditions:{customerType:"first_time"},discount:{type:"percentage",value:5},isActive:!0}];s(E),i(S)},d=O=>{Xr("renter-insight-quotes",O)},p=async O=>{l(!0);try{const E={id:Math.random().toString(36).substr(2,9),customerId:O.customerId||"",items:O.items||[],subtotal:O.subtotal||0,totalDiscount:O.totalDiscount||0,tax:O.tax||0,taxRate:O.taxRate||.08,total:O.total||0,status:"draft",validUntil:O.validUntil||new Date(Date.now()+2592e6),notes:O.notes||"",terms:O.terms||"",createdAt:new Date,updatedAt:new Date},S=[...e,E];return t(S),d(S),E}finally{l(!1)}},u=async(O,E)=>{l(!0);try{const S=e.map(k=>k.id===O?{...k,...E,updatedAt:new Date}:k);return t(S),d(S),S.find(k=>k.id===O)}finally{l(!1)}};return{quotes:e,products:n,pricingRules:a,loading:o,createQuote:p,updateQuote:u,deleteQuote:async O=>{const E=e.filter(S=>S.id!==O);t(E),d(E)},duplicateQuote:async O=>{const E=e.find(D=>D.id===O);if(!E)return;const S={...E,id:Math.random().toString(36).substr(2,9),status:"draft",createdAt:new Date,updatedAt:new Date},k=[...e,S];return t(k),d(k),S},sendQuote:async O=>u(O,{status:"sent"}),acceptQuote:async O=>u(O,{status:"accepted"}),rejectQuote:async O=>u(O,{status:"rejected"}),calculateQuoteTotals:(O,E=.08)=>{const S=O.reduce((T,L)=>T+L.total,0),k=O.reduce((T,L)=>{const W=L.discountType==="percentage"?L.quantity*L.unitPrice*L.discount/100:L.discount*L.quantity;return T+W},0),D=S-k,C=D*E,w=D+C;return{subtotal:S,totalDiscount:k,tax:C,total:w}},applyPricingRules:(O,E)=>{let S=[...O];return a.forEach(k=>{if(k.isActive)switch(k.type){case"quantity_discount":if(k.conditions.minQuantity){const D=S.filter(C=>{var w;return((w=n.find(T=>T.id===C.productId))==null?void 0:w.category)==="accessory"});D.length>=k.conditions.minQuantity&&(S=S.map(C=>D.includes(C)?{...C,discount:k.discount.value,discountType:k.discount.type}:C))}break;case"bundle_discount":k.conditions.productIds&&(S=S.map(D=>{var C;return D.isBundle&&((C=k.conditions.productIds)!=null&&C.includes(D.productId||""))?{...D,discount:k.discount.value,discountType:k.discount.type}:D}));break}}),S},getQuotesByCustomer:O=>e.filter(E=>E.customerId===O),getQuotesByStatus:O=>e.filter(E=>E.status===O),getExpiredQuotes:()=>{const O=new Date;return e.filter(E=>new Date(E.validUntil)<O&&E.status!=="accepted")}}}function J8({quote:e,onClose:t,onEdit:n}){const s=a=>{switch(a){case"draft":return"bg-gray-50 text-gray-700 border-gray-200";case"sent":return"bg-blue-50 text-blue-700 border-blue-200";case"viewed":return"bg-yellow-50 text-yellow-700 border-yellow-200";case"accepted":return"bg-green-50 text-green-700 border-green-200";case"rejected":return"bg-red-50 text-red-700 border-red-200";case"expired":return"bg-orange-50 text-orange-700 border-orange-200";default:return"bg-gray-50 text-gray-700 border-gray-200"}};return r.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:r.jsxs(me,{className:"w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[r.jsx(be,{children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsxs(je,{className:"text-xl",children:["Quote #",e.id]}),r.jsx(Ke,{children:"Quote details and line items"})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsxs(ae,{onClick:()=>n(e),size:"sm",children:[r.jsx(ln,{className:"h-4 w-4 mr-2"}),"Edit Quote"]}),r.jsx(ae,{variant:"ghost",size:"sm",onClick:t,children:r.jsx(or,{className:"h-4 w-4"})})]})]})}),r.jsxs(fe,{className:"space-y-6",children:[r.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Customer ID"}),r.jsx("p",{className:"font-medium",children:e.customerId})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Status"}),r.jsx("div",{className:"mt-1",children:r.jsx(Re,{className:$e("ri-badge-status",s(e.status)),children:e.status.toUpperCase()})})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Created Date"}),r.jsx("p",{className:"font-medium",children:yt(e.createdAt)})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Valid Until"}),r.jsx("p",{className:"font-medium",children:yt(e.validUntil)})]})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Line Items"}),r.jsx("div",{className:"space-y-3",children:e.items.map((a,i)=>r.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[r.jsxs("div",{className:"flex-1",children:[r.jsx("h4",{className:"font-medium",children:a.description}),r.jsxs("p",{className:"text-sm text-muted-foreground",children:["Quantity: ",a.quantity,"  ",Le(a.unitPrice)]}),a.isBundle&&r.jsx(Re,{className:"mt-1 bg-purple-50 text-purple-700 border-purple-200",children:"Bundle"})]}),r.jsxs("div",{className:"text-right",children:[r.jsx("div",{className:"font-bold text-lg",children:Le(a.total)}),a.discount>0&&r.jsxs("div",{className:"text-sm text-green-600",children:["-",a.discountType==="percentage"?`${a.discount}%`:Le(a.discount)," discount"]})]})]},a.id))})]}),r.jsx("div",{className:"bg-muted/30 p-4 rounded-lg",children:r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{children:"Subtotal:"}),r.jsx("span",{children:Le(e.subtotal)})]}),e.totalDiscount>0&&r.jsxs("div",{className:"flex justify-between text-green-600",children:[r.jsx("span",{children:"Total Discount:"}),r.jsxs("span",{children:["-",Le(e.totalDiscount)]})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{children:"Tax:"}),r.jsx("span",{children:Le(e.tax)})]}),r.jsxs("div",{className:"flex justify-between text-lg font-bold border-t pt-2",children:[r.jsx("span",{children:"Total:"}),r.jsx("span",{children:Le(e.total)})]})]})}),e.notes&&r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Notes"}),r.jsx("div",{className:"mt-1 p-3 bg-muted/30 rounded-md",children:r.jsx("p",{className:"text-sm",children:e.notes})})]}),e.terms&&r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Terms & Conditions"}),r.jsx("div",{className:"mt-1 p-3 bg-muted/30 rounded-md",children:r.jsx("p",{className:"text-sm whitespace-pre-wrap",children:e.terms})})]})]})]})})}function Z8(){const{quotes:e,loading:t,createQuote:n,updateQuote:s,deleteQuote:a,duplicateQuote:i,sendQuote:o,acceptQuote:l,rejectQuote:c}=X8(),{toast:d}=Cr(),[p,u]=A.useState(""),[f,m]=A.useState("all"),[g,b]=A.useState(!1),[j,x]=A.useState(null),[v,y]=A.useState(null),[P,M]=A.useState(""),O=_=>{switch(_){case"draft":return"bg-gray-50 text-gray-700 border-gray-200";case"sent":return"bg-blue-50 text-blue-700 border-blue-200";case"viewed":return"bg-yellow-50 text-yellow-700 border-yellow-200";case"accepted":return"bg-green-50 text-green-700 border-green-200";case"rejected":return"bg-red-50 text-red-700 border-red-200";case"expired":return"bg-orange-50 text-orange-700 border-orange-200";default:return"bg-gray-50 text-gray-700 border-gray-200"}},E=e.filter(_=>{const B=_.id.toLowerCase().includes(p.toLowerCase())||_.customerId.toLowerCase().includes(p.toLowerCase()),U=f==="all"||_.status===f;return B&&U}),S=()=>{x(null),M(""),b(!0)},k=_=>{x(_),M(_.customerId),b(!0)},D=_=>{y(_)},C=()=>y(null),w=async _=>{try{j?(await s(j.id,_),d({title:"Success",description:"Quote updated successfully"})):(await n(_),d({title:"Success",description:"Quote created successfully"})),b(!1),x(null)}catch{d({title:"Error",description:"Failed to save quote",variant:"destructive"})}},T=async _=>{try{await o(_),d({title:"Success",description:"Quote sent to customer"})}catch{d({title:"Error",description:"Failed to send quote",variant:"destructive"})}},L=async _=>{try{await i(_),d({title:"Success",description:"Quote duplicated successfully"})}catch{d({title:"Error",description:"Failed to duplicate quote",variant:"destructive"})}},W=async _=>{if(window.confirm("Are you sure you want to delete this quote?"))try{await a(_),d({title:"Success",description:"Quote deleted successfully"})}catch{d({title:"Error",description:"Failed to delete quote",variant:"destructive"})}},V={total:e.length,draft:e.filter(_=>_.status==="draft").length,sent:e.filter(_=>_.status==="sent").length,accepted:e.filter(_=>_.status==="accepted").length,totalValue:e.reduce((_,B)=>_+B.total,0),acceptedValue:e.filter(_=>_.status==="accepted").reduce((_,B)=>_+B.total,0)};return r.jsxs("div",{className:"space-y-8",children:[g&&r.jsx(CC,{quote:j,customerId:P,onSave:w,onCancel:()=>{b(!1),x(null)}}),v&&r.jsx(J8,{quote:v,onClose:C,onEdit:k}),r.jsx("div",{className:"ri-page-header",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"ri-page-title",children:"Quote Builder"}),r.jsx("p",{className:"ri-page-description",children:"Create and manage customer quotes with advanced pricing rules"})]}),r.jsxs(ae,{className:"shadow-sm",onClick:S,children:[r.jsx(It,{className:"h-4 w-4 mr-2"}),"New Quote"]})]})}),r.jsxs("div",{className:"ri-stats-grid",children:[r.jsxs(me,{className:"shadow-sm border-0 bg-gradient-to-br from-blue-50 to-blue-100/50",children:[r.jsxs(be,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(je,{className:"text-sm font-medium text-blue-900",children:"Total Quotes"}),r.jsx(qn,{className:"h-4 w-4 text-blue-600"})]}),r.jsxs(fe,{children:[r.jsx("div",{className:"text-2xl font-bold text-blue-900",children:V.total}),r.jsxs("p",{className:"text-xs text-blue-600 flex items-center mt-1",children:[r.jsx(jt,{className:"h-3 w-3 mr-1"}),"All quotes"]})]})]}),r.jsxs(me,{className:"shadow-sm border-0 bg-gradient-to-br from-yellow-50 to-yellow-100/50",children:[r.jsxs(be,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(je,{className:"text-sm font-medium text-yellow-900",children:"Pending"}),r.jsx(qn,{className:"h-4 w-4 text-yellow-600"})]}),r.jsxs(fe,{children:[r.jsx("div",{className:"text-2xl font-bold text-yellow-900",children:V.sent}),r.jsxs("p",{className:"text-xs text-yellow-600 flex items-center mt-1",children:[r.jsx(kn,{className:"h-3 w-3 mr-1"}),"Awaiting response"]})]})]}),r.jsxs(me,{className:"shadow-sm border-0 bg-gradient-to-br from-green-50 to-green-100/50",children:[r.jsxs(be,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(je,{className:"text-sm font-medium text-green-900",children:"Accepted"}),r.jsx(qn,{className:"h-4 w-4 text-green-600"})]}),r.jsxs(fe,{children:[r.jsx("div",{className:"text-2xl font-bold text-green-900",children:V.accepted}),r.jsxs("p",{className:"text-xs text-green-600 flex items-center mt-1",children:[r.jsx(jt,{className:"h-3 w-3 mr-1"}),V.total>0?Math.round(V.accepted/V.total*100):0,"% acceptance rate"]})]})]}),r.jsxs(me,{className:"shadow-sm border-0 bg-gradient-to-br from-purple-50 to-purple-100/50",children:[r.jsxs(be,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(je,{className:"text-sm font-medium text-purple-900",children:"Quote Value"}),r.jsx(gr,{className:"h-4 w-4 text-purple-600"})]}),r.jsxs(fe,{children:[r.jsx("div",{className:"text-2xl font-bold text-purple-900",children:Le(V.totalValue)}),r.jsxs("p",{className:"text-xs text-purple-600 flex items-center mt-1",children:[r.jsx(gr,{className:"h-3 w-3 mr-1"}),Le(V.acceptedValue)," accepted"]})]})]})]}),r.jsxs("div",{className:"flex gap-4",children:[r.jsxs("div",{className:"ri-search-bar",children:[r.jsx(ss,{className:"ri-search-icon"}),r.jsx(Be,{placeholder:"Search quotes...",value:p,onChange:_=>u(_.target.value),className:"ri-search-input shadow-sm"})]}),r.jsxs(lt,{value:f,onValueChange:m,children:[r.jsx(it,{className:"w-40",children:r.jsx(ct,{placeholder:"Status"})}),r.jsxs(ot,{children:[r.jsx(oe,{value:"all",children:"All Status"}),r.jsx(oe,{value:"draft",children:"Draft"}),r.jsx(oe,{value:"sent",children:"Sent"}),r.jsx(oe,{value:"viewed",children:"Viewed"}),r.jsx(oe,{value:"accepted",children:"Accepted"}),r.jsx(oe,{value:"rejected",children:"Rejected"}),r.jsx(oe,{value:"expired",children:"Expired"})]})]}),r.jsxs(ae,{variant:"outline",className:"shadow-sm",children:[r.jsx(zs,{className:"h-4 w-4 mr-2"}),"Filter"]})]}),r.jsxs(me,{className:"shadow-sm",children:[r.jsxs(be,{children:[r.jsxs(je,{className:"text-xl",children:["Quotes (",E.length,")"]}),r.jsx(Ke,{children:"Manage customer quotes with advanced pricing and bundling"})]}),r.jsx(fe,{children:r.jsxs("div",{className:"space-y-4",children:[E.map(_=>r.jsxs("div",{className:"ri-table-row",children:[r.jsx("div",{className:"flex items-center space-x-4 flex-1",children:r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[r.jsxs("h3",{className:"font-semibold text-foreground",children:["Quote #",_.id]}),r.jsx(Re,{className:$e("ri-badge-status",O(_.status)),children:_.status.toUpperCase()}),_.items.some(B=>B.isBundle)&&r.jsx(Re,{className:"bg-purple-50 text-purple-700 border-purple-200",children:"Bundle"})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm text-muted-foreground",children:[r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Customer:"})," ",_.customerId]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Total:"}),r.jsx("span",{className:"font-bold text-primary ml-1",children:Le(_.total)})]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Created:"})," ",yt(_.createdAt)]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Valid Until:"})," ",yt(_.validUntil)]})]}),r.jsxs("div",{className:"mt-2 bg-muted/30 p-2 rounded-md",children:[r.jsxs("p",{className:"text-sm text-muted-foreground",children:[_.items.length," item(s)",_.totalDiscount>0&&r.jsxs("span",{className:"text-green-600 ml-2",children:[" ",Le(_.totalDiscount)," discount applied"]})]}),_.notes&&r.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:[r.jsx("span",{className:"font-medium",children:"Notes:"})," ",_.notes]})]})]})}),r.jsxs("div",{className:"ri-action-buttons",children:[r.jsxs(ae,{variant:"outline",size:"sm",className:"shadow-sm",onClick:()=>D(_),children:[r.jsx(Qo,{className:"h-3 w-3 mr-1"}),"View"]}),r.jsxs(ae,{variant:"outline",size:"sm",className:"shadow-sm",onClick:()=>k(_),children:[r.jsx(ln,{className:"h-3 w-3 mr-1"}),"Edit"]}),_.status==="draft"&&r.jsxs(ae,{variant:"outline",size:"sm",className:"shadow-sm",onClick:()=>T(_.id),children:[r.jsx(Zc,{className:"h-3 w-3 mr-1"}),"Send"]}),r.jsxs(ae,{variant:"outline",size:"sm",className:"shadow-sm",onClick:()=>L(_.id),children:[r.jsx(Cy,{className:"h-3 w-3 mr-1"}),"Copy"]}),r.jsx(ae,{variant:"outline",size:"sm",className:"shadow-sm text-red-600 hover:text-red-700",onClick:()=>W(_.id),children:r.jsx(ys,{className:"h-3 w-3"})})]})]},_.id)),E.length===0&&r.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[r.jsx(qn,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground/50"}),r.jsx("p",{children:"No quotes found"}),r.jsx("p",{className:"text-sm",children:"Create your first quote to get started"})]})]})})]})]})}function nw(){var k;const{leads:e,sources:t,activities:n,salesReps:s,updateLeadStatus:a,assignLead:i,getActivitiesByLead:o,getRemindersByUser:l,getLeadScore:c}=Hl(),[d,p]=A.useState(""),[u,f]=A.useState("all"),[m,g]=A.useState("all"),[b,j]=A.useState("all"),[x,v]=A.useState(null),[y,P]=A.useState(!1),M=D=>{switch(D){case Sn.NEW:return"bg-blue-50 text-blue-700 border-blue-200";case Sn.CONTACTED:return"bg-yellow-50 text-yellow-700 border-yellow-200";case Sn.QUALIFIED:return"bg-green-50 text-green-700 border-green-200";case Sn.PROPOSAL:return"bg-purple-50 text-purple-700 border-purple-200";case Sn.NEGOTIATION:return"bg-orange-50 text-orange-700 border-orange-200";case Sn.CLOSED_WON:return"bg-emerald-50 text-emerald-700 border-emerald-200";case Sn.CLOSED_LOST:return"bg-red-50 text-red-700 border-red-200";default:return"bg-gray-50 text-gray-700 border-gray-200"}},O=D=>D>=80?"text-green-600 bg-green-50":D>=60?"text-yellow-600 bg-yellow-50":D>=40?"text-orange-600 bg-orange-50":"text-red-600 bg-red-50",E=e.filter(D=>{const C=`${D.firstName} ${D.lastName}`.toLowerCase().includes(d.toLowerCase())||D.email.toLowerCase().includes(d.toLowerCase())||D.phone.includes(d),w=u==="all"||D.status===u,T=m==="all"||D.sourceId===m,L=b==="all"||D.assignedTo===b;return C&&w&&T&&L}),S=D=>{console.log("New lead created:",D)};if(x){const D=o(x.id),C=l("current-user").filter(T=>T.leadId===x.id),w=c(x.id);return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx(ae,{variant:"outline",onClick:()=>v(null),className:"mb-4",children:" Back to Leads"}),r.jsxs("h1",{className:"ri-page-title",children:[x.firstName," ",x.lastName]}),r.jsx("p",{className:"ri-page-description",children:"Lead details and activity management"})]}),r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx(Re,{className:$e("ri-badge-status",M(x.status)),children:x.status.replace("_"," ").toUpperCase()}),x.score&&r.jsxs(Re,{className:$e("ri-badge-status",O(x.score)),children:["Score: ",x.score]})]})]}),r.jsxs(dn,{defaultValue:"overview",className:"space-y-6",children:[r.jsxs(Zr,{className:"grid w-full grid-cols-6",children:[r.jsx(ut,{value:"overview",children:"Overview"}),r.jsx(ut,{value:"activity",children:"Activity"}),r.jsx(ut,{value:"communication",children:"Communication"}),r.jsx(ut,{value:"ai-insights",children:"AI Insights"}),r.jsx(ut,{value:"nurturing",children:"Nurturing"}),r.jsx(ut,{value:"reminders",children:"Reminders"})]}),r.jsx(ht,{value:"overview",className:"space-y-6",children:r.jsxs("div",{className:"grid gap-6 md:grid-cols-3",children:[r.jsx("div",{className:"md:col-span-2",children:r.jsxs(me,{className:"shadow-sm",children:[r.jsx(be,{children:r.jsx(je,{children:"Lead Information"})}),r.jsxs(fe,{children:[r.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Email"}),r.jsx("p",{className:"font-medium",children:x.email})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Phone"}),r.jsx("p",{className:"font-medium",children:x.phone})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Source"}),r.jsx("p",{className:"font-medium",children:x.source})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Assigned To"}),r.jsx("p",{className:"font-medium",children:((k=s.find(T=>T.id===x.assignedTo))==null?void 0:k.name)||"Unassigned"})]}),Object.entries(x.customFields||{}).map(([T,L])=>r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-muted-foreground capitalize",children:T.replace(/([A-Z])/g," $1").trim()}),r.jsx("p",{className:"font-medium",children:L})]},T))]}),x.notes&&r.jsxs("div",{className:"mt-4",children:[r.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Notes"}),r.jsx("p",{className:"mt-1 p-3 bg-muted/30 rounded-md",children:x.notes})]})]})]})}),r.jsx("div",{className:"space-y-6",children:w&&r.jsx(T8,{score:w})})]})}),r.jsx(ht,{value:"activity",children:r.jsx(R8,{leadId:x.id,activities:D})}),r.jsx(ht,{value:"communication",children:r.jsx(Q8,{leadId:x.id,leadData:x})}),r.jsx(ht,{value:"ai-insights",children:r.jsx(G8,{leadId:x.id,leadData:x})}),r.jsx(ht,{value:"nurturing",children:r.jsx("div",{className:"space-y-6",children:r.jsx(rw,{})})}),r.jsx(ht,{value:"reminders",children:r.jsx($8,{leadId:x.id,reminders:C})})]})]})}return r.jsxs("div",{className:"space-y-8",children:[y&&r.jsx(Ad,{onClose:()=>P(!1),onSuccess:S}),r.jsx("div",{className:"ri-page-header",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"ri-page-title",children:"CRM & Prospecting"}),r.jsx("p",{className:"ri-page-description",children:"Manage leads, track activities, and monitor sales pipeline with AI-powered insights"})]}),r.jsxs(ae,{className:"shadow-sm",onClick:()=>P(!0),children:[r.jsx(It,{className:"h-4 w-4 mr-2"}),"Add Lead"]})]})}),r.jsxs("div",{className:"ri-stats-grid",children:[r.jsxs(me,{className:"shadow-sm border-0 bg-gradient-to-br from-blue-50 to-blue-100/50",children:[r.jsxs(be,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(je,{className:"text-sm font-medium text-blue-900",children:"Total Leads"}),r.jsx(cn,{className:"h-4 w-4 text-blue-600"})]}),r.jsxs(fe,{children:[r.jsx("div",{className:"text-2xl font-bold text-blue-900",children:e.length}),r.jsxs("p",{className:"text-xs text-blue-600 flex items-center mt-1",children:[r.jsx(jt,{className:"h-3 w-3 mr-1"}),"+12% from last month"]})]})]}),r.jsxs(me,{className:"shadow-sm border-0 bg-gradient-to-br from-yellow-50 to-yellow-100/50",children:[r.jsxs(be,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(je,{className:"text-sm font-medium text-yellow-900",children:"New Leads"}),r.jsx(cn,{className:"h-4 w-4 text-yellow-600"})]}),r.jsxs(fe,{children:[r.jsx("div",{className:"text-2xl font-bold text-yellow-900",children:e.filter(D=>D.status===Sn.NEW).length}),r.jsxs("p",{className:"text-xs text-yellow-600 flex items-center mt-1",children:[r.jsx(jt,{className:"h-3 w-3 mr-1"}),"+8% from last week"]})]})]}),r.jsxs(me,{className:"shadow-sm border-0 bg-gradient-to-br from-green-50 to-green-100/50",children:[r.jsxs(be,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(je,{className:"text-sm font-medium text-green-900",children:"Qualified"}),r.jsx(vs,{className:"h-4 w-4 text-green-600"})]}),r.jsxs(fe,{children:[r.jsx("div",{className:"text-2xl font-bold text-green-900",children:e.filter(D=>D.status===Sn.QUALIFIED).length}),r.jsxs("p",{className:"text-xs text-green-600 flex items-center mt-1",children:[r.jsx(jt,{className:"h-3 w-3 mr-1"}),"+15% from last month"]})]})]}),r.jsxs(me,{className:"shadow-sm border-0 bg-gradient-to-br from-purple-50 to-purple-100/50",children:[r.jsxs(be,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(je,{className:"text-sm font-medium text-purple-900",children:"AI Insights"}),r.jsx(ti,{className:"h-4 w-4 text-purple-600"})]}),r.jsxs(fe,{children:[r.jsx("div",{className:"text-2xl font-bold text-purple-900",children:"47"}),r.jsxs("p",{className:"text-xs text-purple-600 flex items-center mt-1",children:[r.jsx(ti,{className:"h-3 w-3 mr-1"}),"Active recommendations"]})]})]})]}),r.jsxs(dn,{defaultValue:"leads",className:"space-y-6",children:[r.jsxs(Zr,{className:"grid w-full grid-cols-6",children:[r.jsx(ut,{value:"leads",children:"Leads"}),r.jsx(ut,{value:"pipeline",children:"Pipeline"}),r.jsx(ut,{value:"quotes",children:"Quotes"}),r.jsx(ut,{value:"nurturing",children:"Nurturing"}),r.jsx(ut,{value:"forms",children:"Intake Forms"}),r.jsx(ut,{value:"sources",children:"Sources"})]}),r.jsxs(ht,{value:"leads",className:"space-y-6",children:[r.jsxs("div",{className:"flex gap-4",children:[r.jsxs("div",{className:"ri-search-bar",children:[r.jsx(ss,{className:"ri-search-icon"}),r.jsx(Be,{placeholder:"Search leads...",value:d,onChange:D=>p(D.target.value),className:"ri-search-input shadow-sm"})]}),r.jsxs(lt,{value:u,onValueChange:f,children:[r.jsx(it,{className:"w-40",children:r.jsx(ct,{placeholder:"Status"})}),r.jsxs(ot,{children:[r.jsx(oe,{value:"all",children:"All Status"}),r.jsx(oe,{value:Sn.NEW,children:"New"}),r.jsx(oe,{value:Sn.CONTACTED,children:"Contacted"}),r.jsx(oe,{value:Sn.QUALIFIED,children:"Qualified"}),r.jsx(oe,{value:Sn.PROPOSAL,children:"Proposal"}),r.jsx(oe,{value:Sn.NEGOTIATION,children:"Negotiation"}),r.jsx(oe,{value:Sn.CLOSED_WON,children:"Closed Won"}),r.jsx(oe,{value:Sn.CLOSED_LOST,children:"Closed Lost"})]})]}),r.jsxs(lt,{value:m,onValueChange:g,children:[r.jsx(it,{className:"w-40",children:r.jsx(ct,{placeholder:"Source"})}),r.jsxs(ot,{children:[r.jsx(oe,{value:"all",children:"All Sources"}),t.map(D=>r.jsx(oe,{value:D.id,children:D.name},D.id))]})]}),r.jsxs(lt,{value:b,onValueChange:j,children:[r.jsx(it,{className:"w-40",children:r.jsx(ct,{placeholder:"Assignee"})}),r.jsxs(ot,{children:[r.jsx(oe,{value:"all",children:"All Reps"}),s.map(D=>r.jsx(oe,{value:D.id,children:D.name},D.id))]})]}),r.jsxs(ae,{onClick:()=>P(!0),className:"shadow-sm",children:[r.jsx(It,{className:"h-4 w-4 mr-2"}),"Add Lead"]})]}),r.jsxs(me,{className:"shadow-sm",children:[r.jsx(be,{children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsxs(je,{className:"text-xl",children:["Leads (",E.length,")"]}),r.jsx(Ke,{children:"Manage your sales prospects with AI-powered insights and automated nurturing"})]}),r.jsxs(ae,{onClick:()=>P(!0),variant:"outline",className:"shadow-sm",children:[r.jsx(It,{className:"h-4 w-4 mr-2"}),"Add Lead"]})]})}),r.jsx(fe,{children:r.jsx("div",{className:"space-y-4",children:E.map(D=>{var C;return r.jsxs("div",{className:"ri-table-row cursor-pointer",onClick:()=>v(D),children:[r.jsx("div",{className:"flex items-center space-x-4 flex-1",children:r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[r.jsxs("h3",{className:"font-semibold text-foreground",children:[D.firstName," ",D.lastName]}),r.jsx(Re,{className:$e("ri-badge-status",M(D.status)),children:D.status.replace("_"," ").toUpperCase()}),D.score&&r.jsx(Re,{className:$e("ri-badge-status",O(D.score)),children:D.score}),r.jsxs(Re,{variant:"outline",className:"text-xs",children:[r.jsx(ti,{className:"h-3 w-3 mr-1"}),"AI Ready"]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-2 text-sm text-muted-foreground",children:[r.jsxs("span",{className:"flex items-center",children:[r.jsx(aa,{className:"h-3 w-3 mr-2 text-blue-500"}),D.email]}),r.jsxs("span",{className:"flex items-center",children:[r.jsx(Ay,{className:"h-3 w-3 mr-2 text-green-500"}),D.phone]}),r.jsxs("span",{className:"flex items-center",children:[r.jsx(cn,{className:"h-3 w-3 mr-2 text-purple-500"}),((C=s.find(w=>w.id===D.assignedTo))==null?void 0:C.name)||"Unassigned"]}),r.jsxs("span",{className:"flex items-center",children:[r.jsx(kn,{className:"h-3 w-3 mr-2 text-orange-500"}),yt(D.createdAt)]})]}),D.notes&&r.jsx("p",{className:"text-sm text-muted-foreground mt-2 bg-muted/30 p-2 rounded-md",children:D.notes})]})}),r.jsxs("div",{className:"ri-action-buttons",children:[r.jsxs(ae,{variant:"outline",size:"sm",className:"shadow-sm",onClick:w=>{w.stopPropagation()},children:[r.jsx(Vn,{className:"h-3 w-3 mr-1"}),"Contact"]}),r.jsxs(ae,{variant:"outline",size:"sm",className:"shadow-sm",onClick:w=>{w.stopPropagation(),v(D)},children:[r.jsx(ti,{className:"h-3 w-3 mr-1"}),"AI Insights"]})]})]},D.id)})})})]})]}),r.jsx(ht,{value:"pipeline",children:r.jsx(C8,{})}),r.jsx(ht,{value:"quotes",children:r.jsx(Z8,{})}),r.jsx(ht,{value:"nurturing",children:r.jsx(rw,{})}),r.jsx(ht,{value:"forms",children:r.jsxs(me,{className:"shadow-sm",children:[r.jsxs(be,{children:[r.jsx(je,{children:"Lead Intake Forms"}),r.jsx(Ke,{children:"Create and manage dynamic lead capture forms"})]}),r.jsx(fe,{children:r.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"Form builder coming soon..."})})]})}),r.jsx(ht,{value:"sources",children:r.jsxs(me,{className:"shadow-sm",children:[r.jsxs(be,{children:[r.jsx(je,{children:"Lead Sources"}),r.jsx(Ke,{children:"Manage and track lead source performance"})]}),r.jsx(fe,{children:r.jsx("div",{className:"space-y-4",children:t.map(D=>r.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg hover:bg-accent/50 transition-colors",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"font-semibold",children:D.name}),r.jsxs("p",{className:"text-sm text-muted-foreground",children:["Type: ",D.type,"  Conversion: ",D.conversionRate,"%",D.trackingCode&&`  Code: ${D.trackingCode}`]})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Re,{className:D.isActive?"bg-green-50 text-green-700 border-green-200":"bg-gray-50 text-gray-700 border-gray-200",children:D.isActive?"Active":"Inactive"}),r.jsx(ae,{variant:"outline",size:"sm",children:r.jsx(mp,{className:"h-3 w-3"})})]})]},D.id))})})]})})]})]})}function eF(){return r.jsxs(Ln,{children:[r.jsx(Et,{path:"/",element:r.jsx(nw,{})}),r.jsx(Et,{path:"/*",element:r.jsx(nw,{})})]})}function tF({vehicles:e,onEdit:t,onDelete:n,onView:s,onStatusChange:a}){const{toast:i}=Cr(),[o,l]=A.useState(""),[c,d]=A.useState("all"),[p,u]=A.useState("all"),[f,m]=A.useState("all"),[g,b]=A.useState([]),[j,x]=A.useState("updatedAt"),[v,y]=A.useState("desc"),P=Array.from(new Set(e.map(T=>T.location))),M=T=>{switch(T){case _t.AVAILABLE:return"bg-green-50 text-green-700 border-green-200";case _t.RESERVED:return"bg-yellow-50 text-yellow-700 border-yellow-200";case _t.SOLD:return"bg-blue-50 text-blue-700 border-blue-200";case _t.SERVICE:return"bg-orange-50 text-orange-700 border-orange-200";case _t.DELIVERED:return"bg-purple-50 text-purple-700 border-purple-200";default:return"bg-gray-50 text-gray-700 border-gray-200"}},O=T=>T.replace("_"," ").toUpperCase(),E=e.filter(T=>{const L=`${T.make} ${T.model}`.toLowerCase().includes(o.toLowerCase())||T.vin.toLowerCase().includes(o.toLowerCase())||T.year.toString().includes(o),W=c==="all"||T.status===c,V=p==="all"||T.type===p,_=f==="all"||T.location===f;return L&&W&&V&&_}).sort((T,L)=>{let W=T[j],V=L[j];return W instanceof Date&&V instanceof Date&&(W=W.getTime(),V=V.getTime()),typeof W=="string"&&typeof V=="string"&&(W=W.toLowerCase(),V=V.toLowerCase()),W<V?v==="asc"?-1:1:W>V?v==="asc"?1:-1:0}),S=T=>{j===T?y(v==="asc"?"desc":"asc"):(x(T),y("asc"))},k=T=>{b(T?E.map(L=>L.id):[])},D=T=>{g.includes(T)?b(g.filter(L=>L!==T)):b([...g,T])},C=()=>{const L=(g.length>0?e.filter(U=>g.includes(U.id)):E).map(U=>({id:U.id,vin:U.vin,make:U.make,model:U.model,year:U.year,type:U.type,status:U.status,price:U.price,cost:U.cost,location:U.location,features:U.features.join(", "),createdAt:U.createdAt.toISOString(),updatedAt:U.updatedAt.toISOString()})),W=jh.unparse(L),V=new Blob([W],{type:"text/csv;charset=utf-8;"}),_=URL.createObjectURL(V),B=document.createElement("a");B.href=_,B.setAttribute("download",`inventory_export_${new Date().toISOString().split("T")[0]}.csv`),document.body.appendChild(B),B.click(),document.body.removeChild(B),i({title:"Export Successful",description:`Exported ${L.length} vehicles to CSV`})},w=T=>{if(g.length===0){i({title:"No Vehicles Selected",description:"Please select vehicles to update",variant:"destructive"});return}g.forEach(L=>{a(L,T)}),i({title:"Status Updated",description:`Updated ${g.length} vehicles to ${T}`})};return r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[r.jsxs("div",{className:"ri-search-bar flex-1",children:[r.jsx(ss,{className:"ri-search-icon"}),r.jsx(Be,{placeholder:"Search by make, model, VIN...",value:o,onChange:T=>l(T.target.value),className:"ri-search-input shadow-sm"})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs(lt,{value:c,onValueChange:d,children:[r.jsx(it,{className:"w-[130px]",children:r.jsx(ct,{placeholder:"Status"})}),r.jsxs(ot,{children:[r.jsx(oe,{value:"all",children:"All Status"}),r.jsx(oe,{value:_t.AVAILABLE,children:"Available"}),r.jsx(oe,{value:_t.RESERVED,children:"Reserved"}),r.jsx(oe,{value:_t.SOLD,children:"Sold"}),r.jsx(oe,{value:_t.SERVICE,children:"Service"}),r.jsx(oe,{value:_t.DELIVERED,children:"Delivered"})]})]}),r.jsxs(lt,{value:p,onValueChange:u,children:[r.jsx(it,{className:"w-[130px]",children:r.jsx(ct,{placeholder:"Type"})}),r.jsxs(ot,{children:[r.jsx(oe,{value:"all",children:"All Types"}),r.jsx(oe,{value:at.RV,children:"RV"}),r.jsx(oe,{value:at.MOTORHOME,children:"Motorhome"}),r.jsx(oe,{value:at.TRAVEL_TRAILER,children:"Travel Trailer"}),r.jsx(oe,{value:at.FIFTH_WHEEL,children:"Fifth Wheel"}),r.jsx(oe,{value:at.TOY_HAULER,children:"Toy Hauler"})]})]}),r.jsxs(lt,{value:f,onValueChange:m,children:[r.jsx(it,{className:"w-[130px]",children:r.jsx(ct,{placeholder:"Location"})}),r.jsxs(ot,{children:[r.jsx(oe,{value:"all",children:"All Locations"}),P.map(T=>r.jsx(oe,{value:T,children:T},T))]})]})]})]}),g.length>0&&r.jsxs("div",{className:"flex items-center justify-between bg-muted/30 p-2 rounded-lg",children:[r.jsxs("div",{className:"text-sm font-medium",children:[g.length," vehicles selected"]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs(lt,{onValueChange:T=>w(T),children:[r.jsx(it,{className:"w-[150px]",children:r.jsx(ct,{placeholder:"Change Status"})}),r.jsxs(ot,{children:[r.jsx(oe,{value:_t.AVAILABLE,children:"Available"}),r.jsx(oe,{value:_t.RESERVED,children:"Reserved"}),r.jsx(oe,{value:_t.SOLD,children:"Sold"}),r.jsx(oe,{value:_t.SERVICE,children:"Service"}),r.jsx(oe,{value:_t.DELIVERED,children:"Delivered"}),r.jsx(oe,{value:at.SINGLE_WIDE,children:"Single Wide MH"}),r.jsx(oe,{value:at.DOUBLE_WIDE,children:"Double Wide MH"}),r.jsx(oe,{value:at.TRIPLE_WIDE,children:"Triple Wide MH"}),r.jsx(oe,{value:at.PARK_MODEL,children:"Park Model"}),r.jsx(oe,{value:at.MODULAR_HOME,children:"Modular Home"})]})]}),r.jsxs(ae,{variant:"outline",size:"sm",onClick:C,children:[r.jsx(Ol,{className:"h-4 w-4 mr-2"}),"Export Selected"]}),r.jsxs(ae,{variant:"outline",size:"sm",onClick:()=>b([]),children:[r.jsx(or,{className:"h-4 w-4 mr-2"}),"Clear Selection"]})]})]}),r.jsxs(me,{className:"shadow-sm",children:[r.jsx(be,{className:"pb-3",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsxs(je,{className:"text-xl",children:["Inventory (",E.length,")"]}),r.jsx(Ke,{children:"Manage your RV and motorhome inventory"})]}),r.jsx("div",{className:"flex gap-2",children:r.jsxs(ae,{variant:"outline",size:"sm",onClick:C,children:[r.jsx(Ol,{className:"h-4 w-4 mr-2"}),"Export CSV"]})})]})}),r.jsx(fe,{children:r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full border-collapse",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"border-b",children:[r.jsx("th",{className:"p-2 text-left",children:r.jsx(Yn,{checked:g.length===E.length&&E.length>0,onCheckedChange:k})}),r.jsx("th",{className:"p-2 text-left cursor-pointer hover:bg-muted/30",onClick:()=>S("make"),children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("span",{children:"Make/Model"}),j==="make"&&r.jsx("span",{className:"ml-1",children:v==="asc"?"":""})]})}),r.jsx("th",{className:"p-2 text-left cursor-pointer hover:bg-muted/30",onClick:()=>S("year"),children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("span",{children:"Year"}),j==="year"&&r.jsx("span",{className:"ml-1",children:v==="asc"?"":""})]})}),r.jsx("th",{className:"p-2 text-left cursor-pointer hover:bg-muted/30",onClick:()=>S("vin"),children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("span",{children:"VIN"}),j==="vin"&&r.jsx("span",{className:"ml-1",children:v==="asc"?"":""})]})}),r.jsx("th",{className:"p-2 text-left cursor-pointer hover:bg-muted/30",onClick:()=>S("type"),children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("span",{children:"Type"}),j==="type"&&r.jsx("span",{className:"ml-1",children:v==="asc"?"":""})]})}),r.jsx("th",{className:"p-2 text-left cursor-pointer hover:bg-muted/30",onClick:()=>S("status"),children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("span",{children:"Status"}),j==="status"&&r.jsx("span",{className:"ml-1",children:v==="asc"?"":""})]})}),r.jsx("th",{className:"p-2 text-left cursor-pointer hover:bg-muted/30",onClick:()=>S("location"),children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("span",{children:"Location"}),j==="location"&&r.jsx("span",{className:"ml-1",children:v==="asc"?"":""})]})}),r.jsx("th",{className:"p-2 text-left cursor-pointer hover:bg-muted/30",onClick:()=>S("price"),children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("span",{children:"Price"}),j==="price"&&r.jsx("span",{className:"ml-1",children:v==="asc"?"":""})]})}),r.jsx("th",{className:"p-2 text-left",children:"Media"}),r.jsx("th",{className:"p-2 text-left",children:"Actions"})]})}),r.jsxs("tbody",{children:[E.map(T=>r.jsxs("tr",{className:"border-b hover:bg-muted/10",children:[r.jsx("td",{className:"p-2",children:r.jsx(Yn,{checked:g.includes(T.id),onCheckedChange:()=>D(T.id)})}),r.jsx("td",{className:"p-2",children:r.jsxs("div",{className:"font-medium",children:[T.make," ",T.model]})}),r.jsx("td",{className:"p-2",children:T.year}),r.jsx("td",{className:"p-2",children:r.jsx("span",{className:"font-mono text-xs",children:T.vin})}),r.jsx("td",{className:"p-2",children:r.jsx("span",{className:"text-sm",children:O(T.type)})}),r.jsx("td",{className:"p-2",children:r.jsx(Re,{className:$e("ri-badge-status",M(T.status)),children:T.status.toUpperCase()})}),r.jsx("td",{className:"p-2",children:T.location}),r.jsx("td",{className:"p-2 font-medium text-primary",children:Le(T.price)}),r.jsx("td",{className:"p-2",children:r.jsxs("div",{className:"flex items-center space-x-1",children:[r.jsxs(Re,{variant:"outline",className:"text-xs",children:[r.jsx(pp,{className:"h-3 w-3 mr-1"}),T.images.length]}),T.customFields.videos&&r.jsxs(Re,{variant:"outline",className:"text-xs",children:[r.jsx(hh,{className:"h-3 w-3 mr-1"}),T.customFields.videos.length||0]})]})}),r.jsx("td",{className:"p-2",children:r.jsxs("div",{className:"flex items-center space-x-1",children:[r.jsx(ae,{variant:"ghost",size:"sm",onClick:()=>s(T),children:r.jsx(Qo,{className:"h-4 w-4"})}),r.jsx(ae,{variant:"ghost",size:"sm",onClick:()=>t(T),children:r.jsx(ln,{className:"h-4 w-4"})}),r.jsx(ae,{variant:"ghost",size:"sm",onClick:()=>n(T.id),children:r.jsx(ys,{className:"h-4 w-4"})})]})})]},T.id)),E.length===0&&r.jsx("tr",{children:r.jsxs("td",{colSpan:10,className:"p-8 text-center text-muted-foreground",children:[r.jsx(Hn,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground/50"}),r.jsx("p",{children:"No vehicles found"}),r.jsx("p",{className:"text-sm",children:"Try adjusting your search or filters"})]})})]})]})})})]})]})}var AC={exports:{}},rF="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",nF=rF,sF=nF;function EC(){}function IC(){}IC.resetWarningCache=EC;var aF=function(){function e(s,a,i,o,l,c){if(c!==sF){var d=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw d.name="Invariant Violation",d}}e.isRequired=e;function t(){return e}var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:IC,resetWarningCache:EC};return n.PropTypes=n,n};AC.exports=aF();var iF=AC.exports;const dr=Cp(iF),oF=new Map([["1km","application/vnd.1000minds.decision-model+xml"],["3dml","text/vnd.in3d.3dml"],["3ds","image/x-3ds"],["3g2","video/3gpp2"],["3gp","video/3gp"],["3gpp","video/3gpp"],["3mf","model/3mf"],["7z","application/x-7z-compressed"],["7zip","application/x-7z-compressed"],["123","application/vnd.lotus-1-2-3"],["aab","application/x-authorware-bin"],["aac","audio/x-acc"],["aam","application/x-authorware-map"],["aas","application/x-authorware-seg"],["abw","application/x-abiword"],["ac","application/vnd.nokia.n-gage.ac+xml"],["ac3","audio/ac3"],["acc","application/vnd.americandynamics.acc"],["ace","application/x-ace-compressed"],["acu","application/vnd.acucobol"],["acutc","application/vnd.acucorp"],["adp","audio/adpcm"],["aep","application/vnd.audiograph"],["afm","application/x-font-type1"],["afp","application/vnd.ibm.modcap"],["ahead","application/vnd.ahead.space"],["ai","application/pdf"],["aif","audio/x-aiff"],["aifc","audio/x-aiff"],["aiff","audio/x-aiff"],["air","application/vnd.adobe.air-application-installer-package+zip"],["ait","application/vnd.dvb.ait"],["ami","application/vnd.amiga.ami"],["amr","audio/amr"],["apk","application/vnd.android.package-archive"],["apng","image/apng"],["appcache","text/cache-manifest"],["application","application/x-ms-application"],["apr","application/vnd.lotus-approach"],["arc","application/x-freearc"],["arj","application/x-arj"],["asc","application/pgp-signature"],["asf","video/x-ms-asf"],["asm","text/x-asm"],["aso","application/vnd.accpac.simply.aso"],["asx","video/x-ms-asf"],["atc","application/vnd.acucorp"],["atom","application/atom+xml"],["atomcat","application/atomcat+xml"],["atomdeleted","application/atomdeleted+xml"],["atomsvc","application/atomsvc+xml"],["atx","application/vnd.antix.game-component"],["au","audio/x-au"],["avi","video/x-msvideo"],["avif","image/avif"],["aw","application/applixware"],["azf","application/vnd.airzip.filesecure.azf"],["azs","application/vnd.airzip.filesecure.azs"],["azv","image/vnd.airzip.accelerator.azv"],["azw","application/vnd.amazon.ebook"],["b16","image/vnd.pco.b16"],["bat","application/x-msdownload"],["bcpio","application/x-bcpio"],["bdf","application/x-font-bdf"],["bdm","application/vnd.syncml.dm+wbxml"],["bdoc","application/x-bdoc"],["bed","application/vnd.realvnc.bed"],["bh2","application/vnd.fujitsu.oasysprs"],["bin","application/octet-stream"],["blb","application/x-blorb"],["blorb","application/x-blorb"],["bmi","application/vnd.bmi"],["bmml","application/vnd.balsamiq.bmml+xml"],["bmp","image/bmp"],["book","application/vnd.framemaker"],["box","application/vnd.previewsystems.box"],["boz","application/x-bzip2"],["bpk","application/octet-stream"],["bpmn","application/octet-stream"],["bsp","model/vnd.valve.source.compiled-map"],["btif","image/prs.btif"],["buffer","application/octet-stream"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["c","text/x-c"],["c4d","application/vnd.clonk.c4group"],["c4f","application/vnd.clonk.c4group"],["c4g","application/vnd.clonk.c4group"],["c4p","application/vnd.clonk.c4group"],["c4u","application/vnd.clonk.c4group"],["c11amc","application/vnd.cluetrust.cartomobile-config"],["c11amz","application/vnd.cluetrust.cartomobile-config-pkg"],["cab","application/vnd.ms-cab-compressed"],["caf","audio/x-caf"],["cap","application/vnd.tcpdump.pcap"],["car","application/vnd.curl.car"],["cat","application/vnd.ms-pki.seccat"],["cb7","application/x-cbr"],["cba","application/x-cbr"],["cbr","application/x-cbr"],["cbt","application/x-cbr"],["cbz","application/x-cbr"],["cc","text/x-c"],["cco","application/x-cocoa"],["cct","application/x-director"],["ccxml","application/ccxml+xml"],["cdbcmsg","application/vnd.contact.cmsg"],["cda","application/x-cdf"],["cdf","application/x-netcdf"],["cdfx","application/cdfx+xml"],["cdkey","application/vnd.mediastation.cdkey"],["cdmia","application/cdmi-capability"],["cdmic","application/cdmi-container"],["cdmid","application/cdmi-domain"],["cdmio","application/cdmi-object"],["cdmiq","application/cdmi-queue"],["cdr","application/cdr"],["cdx","chemical/x-cdx"],["cdxml","application/vnd.chemdraw+xml"],["cdy","application/vnd.cinderella"],["cer","application/pkix-cert"],["cfs","application/x-cfs-compressed"],["cgm","image/cgm"],["chat","application/x-chat"],["chm","application/vnd.ms-htmlhelp"],["chrt","application/vnd.kde.kchart"],["cif","chemical/x-cif"],["cii","application/vnd.anser-web-certificate-issue-initiation"],["cil","application/vnd.ms-artgalry"],["cjs","application/node"],["cla","application/vnd.claymore"],["class","application/octet-stream"],["clkk","application/vnd.crick.clicker.keyboard"],["clkp","application/vnd.crick.clicker.palette"],["clkt","application/vnd.crick.clicker.template"],["clkw","application/vnd.crick.clicker.wordbank"],["clkx","application/vnd.crick.clicker"],["clp","application/x-msclip"],["cmc","application/vnd.cosmocaller"],["cmdf","chemical/x-cmdf"],["cml","chemical/x-cml"],["cmp","application/vnd.yellowriver-custom-menu"],["cmx","image/x-cmx"],["cod","application/vnd.rim.cod"],["coffee","text/coffeescript"],["com","application/x-msdownload"],["conf","text/plain"],["cpio","application/x-cpio"],["cpp","text/x-c"],["cpt","application/mac-compactpro"],["crd","application/x-mscardfile"],["crl","application/pkix-crl"],["crt","application/x-x509-ca-cert"],["crx","application/x-chrome-extension"],["cryptonote","application/vnd.rig.cryptonote"],["csh","application/x-csh"],["csl","application/vnd.citationstyles.style+xml"],["csml","chemical/x-csml"],["csp","application/vnd.commonspace"],["csr","application/octet-stream"],["css","text/css"],["cst","application/x-director"],["csv","text/csv"],["cu","application/cu-seeme"],["curl","text/vnd.curl"],["cww","application/prs.cww"],["cxt","application/x-director"],["cxx","text/x-c"],["dae","model/vnd.collada+xml"],["daf","application/vnd.mobius.daf"],["dart","application/vnd.dart"],["dataless","application/vnd.fdsn.seed"],["davmount","application/davmount+xml"],["dbf","application/vnd.dbf"],["dbk","application/docbook+xml"],["dcr","application/x-director"],["dcurl","text/vnd.curl.dcurl"],["dd2","application/vnd.oma.dd2+xml"],["ddd","application/vnd.fujixerox.ddd"],["ddf","application/vnd.syncml.dmddf+xml"],["dds","image/vnd.ms-dds"],["deb","application/x-debian-package"],["def","text/plain"],["deploy","application/octet-stream"],["der","application/x-x509-ca-cert"],["dfac","application/vnd.dreamfactory"],["dgc","application/x-dgc-compressed"],["dic","text/x-c"],["dir","application/x-director"],["dis","application/vnd.mobius.dis"],["disposition-notification","message/disposition-notification"],["dist","application/octet-stream"],["distz","application/octet-stream"],["djv","image/vnd.djvu"],["djvu","image/vnd.djvu"],["dll","application/octet-stream"],["dmg","application/x-apple-diskimage"],["dmn","application/octet-stream"],["dmp","application/vnd.tcpdump.pcap"],["dms","application/octet-stream"],["dna","application/vnd.dna"],["doc","application/msword"],["docm","application/vnd.ms-word.template.macroEnabled.12"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["dot","application/msword"],["dotm","application/vnd.ms-word.template.macroEnabled.12"],["dotx","application/vnd.openxmlformats-officedocument.wordprocessingml.template"],["dp","application/vnd.osgi.dp"],["dpg","application/vnd.dpgraph"],["dra","audio/vnd.dra"],["drle","image/dicom-rle"],["dsc","text/prs.lines.tag"],["dssc","application/dssc+der"],["dtb","application/x-dtbook+xml"],["dtd","application/xml-dtd"],["dts","audio/vnd.dts"],["dtshd","audio/vnd.dts.hd"],["dump","application/octet-stream"],["dvb","video/vnd.dvb.file"],["dvi","application/x-dvi"],["dwd","application/atsc-dwd+xml"],["dwf","model/vnd.dwf"],["dwg","image/vnd.dwg"],["dxf","image/vnd.dxf"],["dxp","application/vnd.spotfire.dxp"],["dxr","application/x-director"],["ear","application/java-archive"],["ecelp4800","audio/vnd.nuera.ecelp4800"],["ecelp7470","audio/vnd.nuera.ecelp7470"],["ecelp9600","audio/vnd.nuera.ecelp9600"],["ecma","application/ecmascript"],["edm","application/vnd.novadigm.edm"],["edx","application/vnd.novadigm.edx"],["efif","application/vnd.picsel"],["ei6","application/vnd.pg.osasli"],["elc","application/octet-stream"],["emf","image/emf"],["eml","message/rfc822"],["emma","application/emma+xml"],["emotionml","application/emotionml+xml"],["emz","application/x-msmetafile"],["eol","audio/vnd.digital-winds"],["eot","application/vnd.ms-fontobject"],["eps","application/postscript"],["epub","application/epub+zip"],["es","application/ecmascript"],["es3","application/vnd.eszigno3+xml"],["esa","application/vnd.osgi.subsystem"],["esf","application/vnd.epson.esf"],["et3","application/vnd.eszigno3+xml"],["etx","text/x-setext"],["eva","application/x-eva"],["evy","application/x-envoy"],["exe","application/octet-stream"],["exi","application/exi"],["exp","application/express"],["exr","image/aces"],["ext","application/vnd.novadigm.ext"],["ez","application/andrew-inset"],["ez2","application/vnd.ezpix-album"],["ez3","application/vnd.ezpix-package"],["f","text/x-fortran"],["f4v","video/mp4"],["f77","text/x-fortran"],["f90","text/x-fortran"],["fbs","image/vnd.fastbidsheet"],["fcdt","application/vnd.adobe.formscentral.fcdt"],["fcs","application/vnd.isac.fcs"],["fdf","application/vnd.fdf"],["fdt","application/fdt+xml"],["fe_launch","application/vnd.denovo.fcselayout-link"],["fg5","application/vnd.fujitsu.oasysgp"],["fgd","application/x-director"],["fh","image/x-freehand"],["fh4","image/x-freehand"],["fh5","image/x-freehand"],["fh7","image/x-freehand"],["fhc","image/x-freehand"],["fig","application/x-xfig"],["fits","image/fits"],["flac","audio/x-flac"],["fli","video/x-fli"],["flo","application/vnd.micrografx.flo"],["flv","video/x-flv"],["flw","application/vnd.kde.kivio"],["flx","text/vnd.fmi.flexstor"],["fly","text/vnd.fly"],["fm","application/vnd.framemaker"],["fnc","application/vnd.frogans.fnc"],["fo","application/vnd.software602.filler.form+xml"],["for","text/x-fortran"],["fpx","image/vnd.fpx"],["frame","application/vnd.framemaker"],["fsc","application/vnd.fsc.weblaunch"],["fst","image/vnd.fst"],["ftc","application/vnd.fluxtime.clip"],["fti","application/vnd.anser-web-funds-transfer-initiation"],["fvt","video/vnd.fvt"],["fxp","application/vnd.adobe.fxp"],["fxpl","application/vnd.adobe.fxp"],["fzs","application/vnd.fuzzysheet"],["g2w","application/vnd.geoplan"],["g3","image/g3fax"],["g3w","application/vnd.geospace"],["gac","application/vnd.groove-account"],["gam","application/x-tads"],["gbr","application/rpki-ghostbusters"],["gca","application/x-gca-compressed"],["gdl","model/vnd.gdl"],["gdoc","application/vnd.google-apps.document"],["geo","application/vnd.dynageo"],["geojson","application/geo+json"],["gex","application/vnd.geometry-explorer"],["ggb","application/vnd.geogebra.file"],["ggt","application/vnd.geogebra.tool"],["ghf","application/vnd.groove-help"],["gif","image/gif"],["gim","application/vnd.groove-identity-message"],["glb","model/gltf-binary"],["gltf","model/gltf+json"],["gml","application/gml+xml"],["gmx","application/vnd.gmx"],["gnumeric","application/x-gnumeric"],["gpg","application/gpg-keys"],["gph","application/vnd.flographit"],["gpx","application/gpx+xml"],["gqf","application/vnd.grafeq"],["gqs","application/vnd.grafeq"],["gram","application/srgs"],["gramps","application/x-gramps-xml"],["gre","application/vnd.geometry-explorer"],["grv","application/vnd.groove-injector"],["grxml","application/srgs+xml"],["gsf","application/x-font-ghostscript"],["gsheet","application/vnd.google-apps.spreadsheet"],["gslides","application/vnd.google-apps.presentation"],["gtar","application/x-gtar"],["gtm","application/vnd.groove-tool-message"],["gtw","model/vnd.gtw"],["gv","text/vnd.graphviz"],["gxf","application/gxf"],["gxt","application/vnd.geonext"],["gz","application/gzip"],["gzip","application/gzip"],["h","text/x-c"],["h261","video/h261"],["h263","video/h263"],["h264","video/h264"],["hal","application/vnd.hal+xml"],["hbci","application/vnd.hbci"],["hbs","text/x-handlebars-template"],["hdd","application/x-virtualbox-hdd"],["hdf","application/x-hdf"],["heic","image/heic"],["heics","image/heic-sequence"],["heif","image/heif"],["heifs","image/heif-sequence"],["hej2","image/hej2k"],["held","application/atsc-held+xml"],["hh","text/x-c"],["hjson","application/hjson"],["hlp","application/winhlp"],["hpgl","application/vnd.hp-hpgl"],["hpid","application/vnd.hp-hpid"],["hps","application/vnd.hp-hps"],["hqx","application/mac-binhex40"],["hsj2","image/hsj2"],["htc","text/x-component"],["htke","application/vnd.kenameaapp"],["htm","text/html"],["html","text/html"],["hvd","application/vnd.yamaha.hv-dic"],["hvp","application/vnd.yamaha.hv-voice"],["hvs","application/vnd.yamaha.hv-script"],["i2g","application/vnd.intergeo"],["icc","application/vnd.iccprofile"],["ice","x-conference/x-cooltalk"],["icm","application/vnd.iccprofile"],["ico","image/x-icon"],["ics","text/calendar"],["ief","image/ief"],["ifb","text/calendar"],["ifm","application/vnd.shana.informed.formdata"],["iges","model/iges"],["igl","application/vnd.igloader"],["igm","application/vnd.insors.igm"],["igs","model/iges"],["igx","application/vnd.micrografx.igx"],["iif","application/vnd.shana.informed.interchange"],["img","application/octet-stream"],["imp","application/vnd.accpac.simply.imp"],["ims","application/vnd.ms-ims"],["in","text/plain"],["ini","text/plain"],["ink","application/inkml+xml"],["inkml","application/inkml+xml"],["install","application/x-install-instructions"],["iota","application/vnd.astraea-software.iota"],["ipfix","application/ipfix"],["ipk","application/vnd.shana.informed.package"],["irm","application/vnd.ibm.rights-management"],["irp","application/vnd.irepository.package+xml"],["iso","application/x-iso9660-image"],["itp","application/vnd.shana.informed.formtemplate"],["its","application/its+xml"],["ivp","application/vnd.immervision-ivp"],["ivu","application/vnd.immervision-ivu"],["jad","text/vnd.sun.j2me.app-descriptor"],["jade","text/jade"],["jam","application/vnd.jam"],["jar","application/java-archive"],["jardiff","application/x-java-archive-diff"],["java","text/x-java-source"],["jhc","image/jphc"],["jisp","application/vnd.jisp"],["jls","image/jls"],["jlt","application/vnd.hp-jlyt"],["jng","image/x-jng"],["jnlp","application/x-java-jnlp-file"],["joda","application/vnd.joost.joda-archive"],["jp2","image/jp2"],["jpe","image/jpeg"],["jpeg","image/jpeg"],["jpf","image/jpx"],["jpg","image/jpeg"],["jpg2","image/jp2"],["jpgm","video/jpm"],["jpgv","video/jpeg"],["jph","image/jph"],["jpm","video/jpm"],["jpx","image/jpx"],["js","application/javascript"],["json","application/json"],["json5","application/json5"],["jsonld","application/ld+json"],["jsonl","application/jsonl"],["jsonml","application/jsonml+json"],["jsx","text/jsx"],["jxr","image/jxr"],["jxra","image/jxra"],["jxrs","image/jxrs"],["jxs","image/jxs"],["jxsc","image/jxsc"],["jxsi","image/jxsi"],["jxss","image/jxss"],["kar","audio/midi"],["karbon","application/vnd.kde.karbon"],["kdb","application/octet-stream"],["kdbx","application/x-keepass2"],["key","application/x-iwork-keynote-sffkey"],["kfo","application/vnd.kde.kformula"],["kia","application/vnd.kidspiration"],["kml","application/vnd.google-earth.kml+xml"],["kmz","application/vnd.google-earth.kmz"],["kne","application/vnd.kinar"],["knp","application/vnd.kinar"],["kon","application/vnd.kde.kontour"],["kpr","application/vnd.kde.kpresenter"],["kpt","application/vnd.kde.kpresenter"],["kpxx","application/vnd.ds-keypoint"],["ksp","application/vnd.kde.kspread"],["ktr","application/vnd.kahootz"],["ktx","image/ktx"],["ktx2","image/ktx2"],["ktz","application/vnd.kahootz"],["kwd","application/vnd.kde.kword"],["kwt","application/vnd.kde.kword"],["lasxml","application/vnd.las.las+xml"],["latex","application/x-latex"],["lbd","application/vnd.llamagraphics.life-balance.desktop"],["lbe","application/vnd.llamagraphics.life-balance.exchange+xml"],["les","application/vnd.hhe.lesson-player"],["less","text/less"],["lgr","application/lgr+xml"],["lha","application/octet-stream"],["link66","application/vnd.route66.link66+xml"],["list","text/plain"],["list3820","application/vnd.ibm.modcap"],["listafp","application/vnd.ibm.modcap"],["litcoffee","text/coffeescript"],["lnk","application/x-ms-shortcut"],["log","text/plain"],["lostxml","application/lost+xml"],["lrf","application/octet-stream"],["lrm","application/vnd.ms-lrm"],["ltf","application/vnd.frogans.ltf"],["lua","text/x-lua"],["luac","application/x-lua-bytecode"],["lvp","audio/vnd.lucent.voice"],["lwp","application/vnd.lotus-wordpro"],["lzh","application/octet-stream"],["m1v","video/mpeg"],["m2a","audio/mpeg"],["m2v","video/mpeg"],["m3a","audio/mpeg"],["m3u","text/plain"],["m3u8","application/vnd.apple.mpegurl"],["m4a","audio/x-m4a"],["m4p","application/mp4"],["m4s","video/iso.segment"],["m4u","application/vnd.mpegurl"],["m4v","video/x-m4v"],["m13","application/x-msmediaview"],["m14","application/x-msmediaview"],["m21","application/mp21"],["ma","application/mathematica"],["mads","application/mads+xml"],["maei","application/mmt-aei+xml"],["mag","application/vnd.ecowin.chart"],["maker","application/vnd.framemaker"],["man","text/troff"],["manifest","text/cache-manifest"],["map","application/json"],["mar","application/octet-stream"],["markdown","text/markdown"],["mathml","application/mathml+xml"],["mb","application/mathematica"],["mbk","application/vnd.mobius.mbk"],["mbox","application/mbox"],["mc1","application/vnd.medcalcdata"],["mcd","application/vnd.mcd"],["mcurl","text/vnd.curl.mcurl"],["md","text/markdown"],["mdb","application/x-msaccess"],["mdi","image/vnd.ms-modi"],["mdx","text/mdx"],["me","text/troff"],["mesh","model/mesh"],["meta4","application/metalink4+xml"],["metalink","application/metalink+xml"],["mets","application/mets+xml"],["mfm","application/vnd.mfmp"],["mft","application/rpki-manifest"],["mgp","application/vnd.osgeo.mapguide.package"],["mgz","application/vnd.proteus.magazine"],["mid","audio/midi"],["midi","audio/midi"],["mie","application/x-mie"],["mif","application/vnd.mif"],["mime","message/rfc822"],["mj2","video/mj2"],["mjp2","video/mj2"],["mjs","application/javascript"],["mk3d","video/x-matroska"],["mka","audio/x-matroska"],["mkd","text/x-markdown"],["mks","video/x-matroska"],["mkv","video/x-matroska"],["mlp","application/vnd.dolby.mlp"],["mmd","application/vnd.chipnuts.karaoke-mmd"],["mmf","application/vnd.smaf"],["mml","text/mathml"],["mmr","image/vnd.fujixerox.edmics-mmr"],["mng","video/x-mng"],["mny","application/x-msmoney"],["mobi","application/x-mobipocket-ebook"],["mods","application/mods+xml"],["mov","video/quicktime"],["movie","video/x-sgi-movie"],["mp2","audio/mpeg"],["mp2a","audio/mpeg"],["mp3","audio/mpeg"],["mp4","video/mp4"],["mp4a","audio/mp4"],["mp4s","application/mp4"],["mp4v","video/mp4"],["mp21","application/mp21"],["mpc","application/vnd.mophun.certificate"],["mpd","application/dash+xml"],["mpe","video/mpeg"],["mpeg","video/mpeg"],["mpg","video/mpeg"],["mpg4","video/mp4"],["mpga","audio/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["mpm","application/vnd.blueice.multipass"],["mpn","application/vnd.mophun.application"],["mpp","application/vnd.ms-project"],["mpt","application/vnd.ms-project"],["mpy","application/vnd.ibm.minipay"],["mqy","application/vnd.mobius.mqy"],["mrc","application/marc"],["mrcx","application/marcxml+xml"],["ms","text/troff"],["mscml","application/mediaservercontrol+xml"],["mseed","application/vnd.fdsn.mseed"],["mseq","application/vnd.mseq"],["msf","application/vnd.epson.msf"],["msg","application/vnd.ms-outlook"],["msh","model/mesh"],["msi","application/x-msdownload"],["msl","application/vnd.mobius.msl"],["msm","application/octet-stream"],["msp","application/octet-stream"],["msty","application/vnd.muvee.style"],["mtl","model/mtl"],["mts","model/vnd.mts"],["mus","application/vnd.musician"],["musd","application/mmt-usd+xml"],["musicxml","application/vnd.recordare.musicxml+xml"],["mvb","application/x-msmediaview"],["mvt","application/vnd.mapbox-vector-tile"],["mwf","application/vnd.mfer"],["mxf","application/mxf"],["mxl","application/vnd.recordare.musicxml"],["mxmf","audio/mobile-xmf"],["mxml","application/xv+xml"],["mxs","application/vnd.triscape.mxs"],["mxu","video/vnd.mpegurl"],["n-gage","application/vnd.nokia.n-gage.symbian.install"],["n3","text/n3"],["nb","application/mathematica"],["nbp","application/vnd.wolfram.player"],["nc","application/x-netcdf"],["ncx","application/x-dtbncx+xml"],["nfo","text/x-nfo"],["ngdat","application/vnd.nokia.n-gage.data"],["nitf","application/vnd.nitf"],["nlu","application/vnd.neurolanguage.nlu"],["nml","application/vnd.enliven"],["nnd","application/vnd.noblenet-directory"],["nns","application/vnd.noblenet-sealer"],["nnw","application/vnd.noblenet-web"],["npx","image/vnd.net-fpx"],["nq","application/n-quads"],["nsc","application/x-conference"],["nsf","application/vnd.lotus-notes"],["nt","application/n-triples"],["ntf","application/vnd.nitf"],["numbers","application/x-iwork-numbers-sffnumbers"],["nzb","application/x-nzb"],["oa2","application/vnd.fujitsu.oasys2"],["oa3","application/vnd.fujitsu.oasys3"],["oas","application/vnd.fujitsu.oasys"],["obd","application/x-msbinder"],["obgx","application/vnd.openblox.game+xml"],["obj","model/obj"],["oda","application/oda"],["odb","application/vnd.oasis.opendocument.database"],["odc","application/vnd.oasis.opendocument.chart"],["odf","application/vnd.oasis.opendocument.formula"],["odft","application/vnd.oasis.opendocument.formula-template"],["odg","application/vnd.oasis.opendocument.graphics"],["odi","application/vnd.oasis.opendocument.image"],["odm","application/vnd.oasis.opendocument.text-master"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogex","model/vnd.opengex"],["ogg","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["omdoc","application/omdoc+xml"],["onepkg","application/onenote"],["onetmp","application/onenote"],["onetoc","application/onenote"],["onetoc2","application/onenote"],["opf","application/oebps-package+xml"],["opml","text/x-opml"],["oprc","application/vnd.palm"],["opus","audio/ogg"],["org","text/x-org"],["osf","application/vnd.yamaha.openscoreformat"],["osfpvg","application/vnd.yamaha.openscoreformat.osfpvg+xml"],["osm","application/vnd.openstreetmap.data+xml"],["otc","application/vnd.oasis.opendocument.chart-template"],["otf","font/otf"],["otg","application/vnd.oasis.opendocument.graphics-template"],["oth","application/vnd.oasis.opendocument.text-web"],["oti","application/vnd.oasis.opendocument.image-template"],["otp","application/vnd.oasis.opendocument.presentation-template"],["ots","application/vnd.oasis.opendocument.spreadsheet-template"],["ott","application/vnd.oasis.opendocument.text-template"],["ova","application/x-virtualbox-ova"],["ovf","application/x-virtualbox-ovf"],["owl","application/rdf+xml"],["oxps","application/oxps"],["oxt","application/vnd.openofficeorg.extension"],["p","text/x-pascal"],["p7a","application/x-pkcs7-signature"],["p7b","application/x-pkcs7-certificates"],["p7c","application/pkcs7-mime"],["p7m","application/pkcs7-mime"],["p7r","application/x-pkcs7-certreqresp"],["p7s","application/pkcs7-signature"],["p8","application/pkcs8"],["p10","application/x-pkcs10"],["p12","application/x-pkcs12"],["pac","application/x-ns-proxy-autoconfig"],["pages","application/x-iwork-pages-sffpages"],["pas","text/x-pascal"],["paw","application/vnd.pawaafile"],["pbd","application/vnd.powerbuilder6"],["pbm","image/x-portable-bitmap"],["pcap","application/vnd.tcpdump.pcap"],["pcf","application/x-font-pcf"],["pcl","application/vnd.hp-pcl"],["pclxl","application/vnd.hp-pclxl"],["pct","image/x-pict"],["pcurl","application/vnd.curl.pcurl"],["pcx","image/x-pcx"],["pdb","application/x-pilot"],["pde","text/x-processing"],["pdf","application/pdf"],["pem","application/x-x509-user-cert"],["pfa","application/x-font-type1"],["pfb","application/x-font-type1"],["pfm","application/x-font-type1"],["pfr","application/font-tdpfr"],["pfx","application/x-pkcs12"],["pgm","image/x-portable-graymap"],["pgn","application/x-chess-pgn"],["pgp","application/pgp"],["php","application/x-httpd-php"],["php3","application/x-httpd-php"],["php4","application/x-httpd-php"],["phps","application/x-httpd-php-source"],["phtml","application/x-httpd-php"],["pic","image/x-pict"],["pkg","application/octet-stream"],["pki","application/pkixcmp"],["pkipath","application/pkix-pkipath"],["pkpass","application/vnd.apple.pkpass"],["pl","application/x-perl"],["plb","application/vnd.3gpp.pic-bw-large"],["plc","application/vnd.mobius.plc"],["plf","application/vnd.pocketlearn"],["pls","application/pls+xml"],["pm","application/x-perl"],["pml","application/vnd.ctc-posml"],["png","image/png"],["pnm","image/x-portable-anymap"],["portpkg","application/vnd.macports.portpkg"],["pot","application/vnd.ms-powerpoint"],["potm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["potx","application/vnd.openxmlformats-officedocument.presentationml.template"],["ppa","application/vnd.ms-powerpoint"],["ppam","application/vnd.ms-powerpoint.addin.macroEnabled.12"],["ppd","application/vnd.cups-ppd"],["ppm","image/x-portable-pixmap"],["pps","application/vnd.ms-powerpoint"],["ppsm","application/vnd.ms-powerpoint.slideshow.macroEnabled.12"],["ppsx","application/vnd.openxmlformats-officedocument.presentationml.slideshow"],["ppt","application/powerpoint"],["pptm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["pqa","application/vnd.palm"],["prc","application/x-pilot"],["pre","application/vnd.lotus-freelance"],["prf","application/pics-rules"],["provx","application/provenance+xml"],["ps","application/postscript"],["psb","application/vnd.3gpp.pic-bw-small"],["psd","application/x-photoshop"],["psf","application/x-font-linux-psf"],["pskcxml","application/pskc+xml"],["pti","image/prs.pti"],["ptid","application/vnd.pvi.ptid1"],["pub","application/x-mspublisher"],["pvb","application/vnd.3gpp.pic-bw-var"],["pwn","application/vnd.3m.post-it-notes"],["pya","audio/vnd.ms-playready.media.pya"],["pyv","video/vnd.ms-playready.media.pyv"],["qam","application/vnd.epson.quickanime"],["qbo","application/vnd.intu.qbo"],["qfx","application/vnd.intu.qfx"],["qps","application/vnd.publishare-delta-tree"],["qt","video/quicktime"],["qwd","application/vnd.quark.quarkxpress"],["qwt","application/vnd.quark.quarkxpress"],["qxb","application/vnd.quark.quarkxpress"],["qxd","application/vnd.quark.quarkxpress"],["qxl","application/vnd.quark.quarkxpress"],["qxt","application/vnd.quark.quarkxpress"],["ra","audio/x-realaudio"],["ram","audio/x-pn-realaudio"],["raml","application/raml+yaml"],["rapd","application/route-apd+xml"],["rar","application/x-rar"],["ras","image/x-cmu-raster"],["rcprofile","application/vnd.ipunplugged.rcprofile"],["rdf","application/rdf+xml"],["rdz","application/vnd.data-vision.rdz"],["relo","application/p2p-overlay+xml"],["rep","application/vnd.businessobjects"],["res","application/x-dtbresource+xml"],["rgb","image/x-rgb"],["rif","application/reginfo+xml"],["rip","audio/vnd.rip"],["ris","application/x-research-info-systems"],["rl","application/resource-lists+xml"],["rlc","image/vnd.fujixerox.edmics-rlc"],["rld","application/resource-lists-diff+xml"],["rm","audio/x-pn-realaudio"],["rmi","audio/midi"],["rmp","audio/x-pn-realaudio-plugin"],["rms","application/vnd.jcp.javame.midlet-rms"],["rmvb","application/vnd.rn-realmedia-vbr"],["rnc","application/relax-ng-compact-syntax"],["rng","application/xml"],["roa","application/rpki-roa"],["roff","text/troff"],["rp9","application/vnd.cloanto.rp9"],["rpm","audio/x-pn-realaudio-plugin"],["rpss","application/vnd.nokia.radio-presets"],["rpst","application/vnd.nokia.radio-preset"],["rq","application/sparql-query"],["rs","application/rls-services+xml"],["rsa","application/x-pkcs7"],["rsat","application/atsc-rsat+xml"],["rsd","application/rsd+xml"],["rsheet","application/urc-ressheet+xml"],["rss","application/rss+xml"],["rtf","text/rtf"],["rtx","text/richtext"],["run","application/x-makeself"],["rusd","application/route-usd+xml"],["rv","video/vnd.rn-realvideo"],["s","text/x-asm"],["s3m","audio/s3m"],["saf","application/vnd.yamaha.smaf-audio"],["sass","text/x-sass"],["sbml","application/sbml+xml"],["sc","application/vnd.ibm.secure-container"],["scd","application/x-msschedule"],["scm","application/vnd.lotus-screencam"],["scq","application/scvp-cv-request"],["scs","application/scvp-cv-response"],["scss","text/x-scss"],["scurl","text/vnd.curl.scurl"],["sda","application/vnd.stardivision.draw"],["sdc","application/vnd.stardivision.calc"],["sdd","application/vnd.stardivision.impress"],["sdkd","application/vnd.solent.sdkm+xml"],["sdkm","application/vnd.solent.sdkm+xml"],["sdp","application/sdp"],["sdw","application/vnd.stardivision.writer"],["sea","application/octet-stream"],["see","application/vnd.seemail"],["seed","application/vnd.fdsn.seed"],["sema","application/vnd.sema"],["semd","application/vnd.semd"],["semf","application/vnd.semf"],["senmlx","application/senml+xml"],["sensmlx","application/sensml+xml"],["ser","application/java-serialized-object"],["setpay","application/set-payment-initiation"],["setreg","application/set-registration-initiation"],["sfd-hdstx","application/vnd.hydrostatix.sof-data"],["sfs","application/vnd.spotfire.sfs"],["sfv","text/x-sfv"],["sgi","image/sgi"],["sgl","application/vnd.stardivision.writer-global"],["sgm","text/sgml"],["sgml","text/sgml"],["sh","application/x-sh"],["shar","application/x-shar"],["shex","text/shex"],["shf","application/shf+xml"],["shtml","text/html"],["sid","image/x-mrsid-image"],["sieve","application/sieve"],["sig","application/pgp-signature"],["sil","audio/silk"],["silo","model/mesh"],["sis","application/vnd.symbian.install"],["sisx","application/vnd.symbian.install"],["sit","application/x-stuffit"],["sitx","application/x-stuffitx"],["siv","application/sieve"],["skd","application/vnd.koan"],["skm","application/vnd.koan"],["skp","application/vnd.koan"],["skt","application/vnd.koan"],["sldm","application/vnd.ms-powerpoint.slide.macroenabled.12"],["sldx","application/vnd.openxmlformats-officedocument.presentationml.slide"],["slim","text/slim"],["slm","text/slim"],["sls","application/route-s-tsid+xml"],["slt","application/vnd.epson.salt"],["sm","application/vnd.stepmania.stepchart"],["smf","application/vnd.stardivision.math"],["smi","application/smil"],["smil","application/smil"],["smv","video/x-smv"],["smzip","application/vnd.stepmania.package"],["snd","audio/basic"],["snf","application/x-font-snf"],["so","application/octet-stream"],["spc","application/x-pkcs7-certificates"],["spdx","text/spdx"],["spf","application/vnd.yamaha.smaf-phrase"],["spl","application/x-futuresplash"],["spot","text/vnd.in3d.spot"],["spp","application/scvp-vp-response"],["spq","application/scvp-vp-request"],["spx","audio/ogg"],["sql","application/x-sql"],["src","application/x-wais-source"],["srt","application/x-subrip"],["sru","application/sru+xml"],["srx","application/sparql-results+xml"],["ssdl","application/ssdl+xml"],["sse","application/vnd.kodak-descriptor"],["ssf","application/vnd.epson.ssf"],["ssml","application/ssml+xml"],["sst","application/octet-stream"],["st","application/vnd.sailingtracker.track"],["stc","application/vnd.sun.xml.calc.template"],["std","application/vnd.sun.xml.draw.template"],["stf","application/vnd.wt.stf"],["sti","application/vnd.sun.xml.impress.template"],["stk","application/hyperstudio"],["stl","model/stl"],["stpx","model/step+xml"],["stpxz","model/step-xml+zip"],["stpz","model/step+zip"],["str","application/vnd.pg.format"],["stw","application/vnd.sun.xml.writer.template"],["styl","text/stylus"],["stylus","text/stylus"],["sub","text/vnd.dvb.subtitle"],["sus","application/vnd.sus-calendar"],["susp","application/vnd.sus-calendar"],["sv4cpio","application/x-sv4cpio"],["sv4crc","application/x-sv4crc"],["svc","application/vnd.dvb.service"],["svd","application/vnd.svd"],["svg","image/svg+xml"],["svgz","image/svg+xml"],["swa","application/x-director"],["swf","application/x-shockwave-flash"],["swi","application/vnd.aristanetworks.swi"],["swidtag","application/swid+xml"],["sxc","application/vnd.sun.xml.calc"],["sxd","application/vnd.sun.xml.draw"],["sxg","application/vnd.sun.xml.writer.global"],["sxi","application/vnd.sun.xml.impress"],["sxm","application/vnd.sun.xml.math"],["sxw","application/vnd.sun.xml.writer"],["t","text/troff"],["t3","application/x-t3vm-image"],["t38","image/t38"],["taglet","application/vnd.mynfc"],["tao","application/vnd.tao.intent-module-archive"],["tap","image/vnd.tencent.tap"],["tar","application/x-tar"],["tcap","application/vnd.3gpp2.tcap"],["tcl","application/x-tcl"],["td","application/urc-targetdesc+xml"],["teacher","application/vnd.smart.teacher"],["tei","application/tei+xml"],["teicorpus","application/tei+xml"],["tex","application/x-tex"],["texi","application/x-texinfo"],["texinfo","application/x-texinfo"],["text","text/plain"],["tfi","application/thraud+xml"],["tfm","application/x-tex-tfm"],["tfx","image/tiff-fx"],["tga","image/x-tga"],["tgz","application/x-tar"],["thmx","application/vnd.ms-officetheme"],["tif","image/tiff"],["tiff","image/tiff"],["tk","application/x-tcl"],["tmo","application/vnd.tmobile-livetv"],["toml","application/toml"],["torrent","application/x-bittorrent"],["tpl","application/vnd.groove-tool-template"],["tpt","application/vnd.trid.tpt"],["tr","text/troff"],["tra","application/vnd.trueapp"],["trig","application/trig"],["trm","application/x-msterminal"],["ts","video/mp2t"],["tsd","application/timestamped-data"],["tsv","text/tab-separated-values"],["ttc","font/collection"],["ttf","font/ttf"],["ttl","text/turtle"],["ttml","application/ttml+xml"],["twd","application/vnd.simtech-mindmapper"],["twds","application/vnd.simtech-mindmapper"],["txd","application/vnd.genomatix.tuxedo"],["txf","application/vnd.mobius.txf"],["txt","text/plain"],["u8dsn","message/global-delivery-status"],["u8hdr","message/global-headers"],["u8mdn","message/global-disposition-notification"],["u8msg","message/global"],["u32","application/x-authorware-bin"],["ubj","application/ubjson"],["udeb","application/x-debian-package"],["ufd","application/vnd.ufdl"],["ufdl","application/vnd.ufdl"],["ulx","application/x-glulx"],["umj","application/vnd.umajin"],["unityweb","application/vnd.unity"],["uoml","application/vnd.uoml+xml"],["uri","text/uri-list"],["uris","text/uri-list"],["urls","text/uri-list"],["usdz","model/vnd.usdz+zip"],["ustar","application/x-ustar"],["utz","application/vnd.uiq.theme"],["uu","text/x-uuencode"],["uva","audio/vnd.dece.audio"],["uvd","application/vnd.dece.data"],["uvf","application/vnd.dece.data"],["uvg","image/vnd.dece.graphic"],["uvh","video/vnd.dece.hd"],["uvi","image/vnd.dece.graphic"],["uvm","video/vnd.dece.mobile"],["uvp","video/vnd.dece.pd"],["uvs","video/vnd.dece.sd"],["uvt","application/vnd.dece.ttml+xml"],["uvu","video/vnd.uvvu.mp4"],["uvv","video/vnd.dece.video"],["uvva","audio/vnd.dece.audio"],["uvvd","application/vnd.dece.data"],["uvvf","application/vnd.dece.data"],["uvvg","image/vnd.dece.graphic"],["uvvh","video/vnd.dece.hd"],["uvvi","image/vnd.dece.graphic"],["uvvm","video/vnd.dece.mobile"],["uvvp","video/vnd.dece.pd"],["uvvs","video/vnd.dece.sd"],["uvvt","application/vnd.dece.ttml+xml"],["uvvu","video/vnd.uvvu.mp4"],["uvvv","video/vnd.dece.video"],["uvvx","application/vnd.dece.unspecified"],["uvvz","application/vnd.dece.zip"],["uvx","application/vnd.dece.unspecified"],["uvz","application/vnd.dece.zip"],["vbox","application/x-virtualbox-vbox"],["vbox-extpack","application/x-virtualbox-vbox-extpack"],["vcard","text/vcard"],["vcd","application/x-cdlink"],["vcf","text/x-vcard"],["vcg","application/vnd.groove-vcard"],["vcs","text/x-vcalendar"],["vcx","application/vnd.vcx"],["vdi","application/x-virtualbox-vdi"],["vds","model/vnd.sap.vds"],["vhd","application/x-virtualbox-vhd"],["vis","application/vnd.visionary"],["viv","video/vnd.vivo"],["vlc","application/videolan"],["vmdk","application/x-virtualbox-vmdk"],["vob","video/x-ms-vob"],["vor","application/vnd.stardivision.writer"],["vox","application/x-authorware-bin"],["vrml","model/vrml"],["vsd","application/vnd.visio"],["vsf","application/vnd.vsf"],["vss","application/vnd.visio"],["vst","application/vnd.visio"],["vsw","application/vnd.visio"],["vtf","image/vnd.valve.source.texture"],["vtt","text/vtt"],["vtu","model/vnd.vtu"],["vxml","application/voicexml+xml"],["w3d","application/x-director"],["wad","application/x-doom"],["wadl","application/vnd.sun.wadl+xml"],["war","application/java-archive"],["wasm","application/wasm"],["wav","audio/x-wav"],["wax","audio/x-ms-wax"],["wbmp","image/vnd.wap.wbmp"],["wbs","application/vnd.criticaltools.wbs+xml"],["wbxml","application/wbxml"],["wcm","application/vnd.ms-works"],["wdb","application/vnd.ms-works"],["wdp","image/vnd.ms-photo"],["weba","audio/webm"],["webapp","application/x-web-app-manifest+json"],["webm","video/webm"],["webmanifest","application/manifest+json"],["webp","image/webp"],["wg","application/vnd.pmi.widget"],["wgt","application/widget"],["wks","application/vnd.ms-works"],["wm","video/x-ms-wm"],["wma","audio/x-ms-wma"],["wmd","application/x-ms-wmd"],["wmf","image/wmf"],["wml","text/vnd.wap.wml"],["wmlc","application/wmlc"],["wmls","text/vnd.wap.wmlscript"],["wmlsc","application/vnd.wap.wmlscriptc"],["wmv","video/x-ms-wmv"],["wmx","video/x-ms-wmx"],["wmz","application/x-msmetafile"],["woff","font/woff"],["woff2","font/woff2"],["word","application/msword"],["wpd","application/vnd.wordperfect"],["wpl","application/vnd.ms-wpl"],["wps","application/vnd.ms-works"],["wqd","application/vnd.wqd"],["wri","application/x-mswrite"],["wrl","model/vrml"],["wsc","message/vnd.wfa.wsc"],["wsdl","application/wsdl+xml"],["wspolicy","application/wspolicy+xml"],["wtb","application/vnd.webturbo"],["wvx","video/x-ms-wvx"],["x3d","model/x3d+xml"],["x3db","model/x3d+fastinfoset"],["x3dbz","model/x3d+binary"],["x3dv","model/x3d-vrml"],["x3dvz","model/x3d+vrml"],["x3dz","model/x3d+xml"],["x32","application/x-authorware-bin"],["x_b","model/vnd.parasolid.transmit.binary"],["x_t","model/vnd.parasolid.transmit.text"],["xaml","application/xaml+xml"],["xap","application/x-silverlight-app"],["xar","application/vnd.xara"],["xav","application/xcap-att+xml"],["xbap","application/x-ms-xbap"],["xbd","application/vnd.fujixerox.docuworks.binder"],["xbm","image/x-xbitmap"],["xca","application/xcap-caps+xml"],["xcs","application/calendar+xml"],["xdf","application/xcap-diff+xml"],["xdm","application/vnd.syncml.dm+xml"],["xdp","application/vnd.adobe.xdp+xml"],["xdssc","application/dssc+xml"],["xdw","application/vnd.fujixerox.docuworks"],["xel","application/xcap-el+xml"],["xenc","application/xenc+xml"],["xer","application/patch-ops-error+xml"],["xfdf","application/vnd.adobe.xfdf"],["xfdl","application/vnd.xfdl"],["xht","application/xhtml+xml"],["xhtml","application/xhtml+xml"],["xhvml","application/xv+xml"],["xif","image/vnd.xiff"],["xl","application/excel"],["xla","application/vnd.ms-excel"],["xlam","application/vnd.ms-excel.addin.macroEnabled.12"],["xlc","application/vnd.ms-excel"],["xlf","application/xliff+xml"],["xlm","application/vnd.ms-excel"],["xls","application/vnd.ms-excel"],["xlsb","application/vnd.ms-excel.sheet.binary.macroEnabled.12"],["xlsm","application/vnd.ms-excel.sheet.macroEnabled.12"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xlt","application/vnd.ms-excel"],["xltm","application/vnd.ms-excel.template.macroEnabled.12"],["xltx","application/vnd.openxmlformats-officedocument.spreadsheetml.template"],["xlw","application/vnd.ms-excel"],["xm","audio/xm"],["xml","application/xml"],["xns","application/xcap-ns+xml"],["xo","application/vnd.olpc-sugar"],["xop","application/xop+xml"],["xpi","application/x-xpinstall"],["xpl","application/xproc+xml"],["xpm","image/x-xpixmap"],["xpr","application/vnd.is-xpr"],["xps","application/vnd.ms-xpsdocument"],["xpw","application/vnd.intercon.formnet"],["xpx","application/vnd.intercon.formnet"],["xsd","application/xml"],["xsl","application/xml"],["xslt","application/xslt+xml"],["xsm","application/vnd.syncml+xml"],["xspf","application/xspf+xml"],["xul","application/vnd.mozilla.xul+xml"],["xvm","application/xv+xml"],["xvml","application/xv+xml"],["xwd","image/x-xwindowdump"],["xyz","chemical/x-xyz"],["xz","application/x-xz"],["yaml","text/yaml"],["yang","application/yang"],["yin","application/yin+xml"],["yml","text/yaml"],["ymp","text/x-suse-ymp"],["z","application/x-compress"],["z1","application/x-zmachine"],["z2","application/x-zmachine"],["z3","application/x-zmachine"],["z4","application/x-zmachine"],["z5","application/x-zmachine"],["z6","application/x-zmachine"],["z7","application/x-zmachine"],["z8","application/x-zmachine"],["zaz","application/vnd.zzazz.deck+xml"],["zip","application/zip"],["zir","application/vnd.zul"],["zirz","application/vnd.zul"],["zmm","application/vnd.handheld-entertainment+xml"],["zsh","text/x-scriptzsh"]]);function pd(e,t,n){const s=lF(e),{webkitRelativePath:a}=e,i=typeof t=="string"?t:typeof a=="string"&&a.length>0?a:`./${e.name}`;return typeof s.path!="string"&&sw(s,"path",i),n!==void 0&&Object.defineProperty(s,"handle",{value:n,writable:!1,configurable:!1,enumerable:!0}),sw(s,"relativePath",i),s}function lF(e){const{name:t}=e;if(t&&t.lastIndexOf(".")!==-1&&!e.type){const s=t.split(".").pop().toLowerCase(),a=oF.get(s);a&&Object.defineProperty(e,"type",{value:a,writable:!1,configurable:!1,enumerable:!0})}return e}function sw(e,t,n){Object.defineProperty(e,t,{value:n,writable:!1,configurable:!1,enumerable:!0})}const cF=[".DS_Store","Thumbs.db"];function dF(e){return Vl(this,void 0,void 0,function*(){return wh(e)&&uF(e.dataTransfer)?hF(e.dataTransfer,e.type):pF(e)?mF(e):Array.isArray(e)&&e.every(t=>"getFile"in t&&typeof t.getFile=="function")?fF(e):[]})}function uF(e){return wh(e)}function pF(e){return wh(e)&&wh(e.target)}function wh(e){return typeof e=="object"&&e!==null}function mF(e){return Y0(e.target.files).map(t=>pd(t))}function fF(e){return Vl(this,void 0,void 0,function*(){return(yield Promise.all(e.map(n=>n.getFile()))).map(n=>pd(n))})}function hF(e,t){return Vl(this,void 0,void 0,function*(){if(e.items){const n=Y0(e.items).filter(a=>a.kind==="file");if(t!=="drop")return n;const s=yield Promise.all(n.map(xF));return aw(PC(s))}return aw(Y0(e.files).map(n=>pd(n)))})}function aw(e){return e.filter(t=>cF.indexOf(t.name)===-1)}function Y0(e){if(e===null)return[];const t=[];for(let n=0;n<e.length;n++){const s=e[n];t.push(s)}return t}function xF(e){if(typeof e.webkitGetAsEntry!="function")return iw(e);const t=e.webkitGetAsEntry();return t&&t.isDirectory?kC(t):iw(e,t)}function PC(e){return e.reduce((t,n)=>[...t,...Array.isArray(n)?PC(n):[n]],[])}function iw(e,t){return Vl(this,void 0,void 0,function*(){var n;if(globalThis.isSecureContext&&typeof e.getAsFileSystemHandle=="function"){const i=yield e.getAsFileSystemHandle();if(i===null)throw new Error(`${e} is not a File`);if(i!==void 0){const o=yield i.getFile();return o.handle=i,pd(o)}}const s=e.getAsFile();if(!s)throw new Error(`${e} is not a File`);return pd(s,(n=t==null?void 0:t.fullPath)!==null&&n!==void 0?n:void 0)})}function gF(e){return Vl(this,void 0,void 0,function*(){return e.isDirectory?kC(e):vF(e)})}function kC(e){const t=e.createReader();return new Promise((n,s)=>{const a=[];function i(){t.readEntries(o=>Vl(this,void 0,void 0,function*(){if(o.length){const l=Promise.all(o.map(gF));a.push(l),i()}else try{const l=yield Promise.all(a);n(l)}catch(l){s(l)}}),o=>{s(o)})}i()})}function vF(e){return Vl(this,void 0,void 0,function*(){return new Promise((t,n)=>{e.file(s=>{const a=pd(s,e.fullPath);t(a)},s=>{n(s)})})})}var uv=function(e,t){if(e&&t){var n=Array.isArray(t)?t:t.split(",");if(n.length===0)return!0;var s=e.name||"",a=(e.type||"").toLowerCase(),i=a.replace(/\/.*$/,"");return n.some(function(o){var l=o.trim().toLowerCase();return l.charAt(0)==="."?s.toLowerCase().endsWith(l):l.endsWith("/*")?i===l.replace(/\/.*$/,""):a===l})}return!0};function ow(e){return jF(e)||bF(e)||LC(e)||yF()}function yF(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bF(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function jF(e){if(Array.isArray(e))return K0(e)}function lw(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,s)}return n}function cw(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?lw(Object(n),!0).forEach(function(s){DC(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):lw(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function DC(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function gp(e,t){return SF(e)||NF(e,t)||LC(e,t)||wF()}function wF(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function LC(e,t){if(e){if(typeof e=="string")return K0(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return K0(e,t)}}function K0(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}function NF(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var s=[],a=!0,i=!1,o,l;try{for(n=n.call(e);!(a=(o=n.next()).done)&&(s.push(o.value),!(t&&s.length===t));a=!0);}catch(c){i=!0,l=c}finally{try{!a&&n.return!=null&&n.return()}finally{if(i)throw l}}return s}}function SF(e){if(Array.isArray(e))return e}var CF=typeof uv=="function"?uv:uv.default,AF="file-invalid-type",EF="file-too-large",IF="file-too-small",PF="too-many-files",kF=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",n=t.split(","),s=n.length>1?"one of ".concat(n.join(", ")):n[0];return{code:AF,message:"File type must be ".concat(s)}},dw=function(t){return{code:EF,message:"File is larger than ".concat(t," ").concat(t===1?"byte":"bytes")}},uw=function(t){return{code:IF,message:"File is smaller than ".concat(t," ").concat(t===1?"byte":"bytes")}},DF={code:PF,message:"Too many files"};function TC(e,t){var n=e.type==="application/x-moz-file"||CF(e,t);return[n,n?null:kF(t)]}function RC(e,t,n){if(ml(e.size))if(ml(t)&&ml(n)){if(e.size>n)return[!1,dw(n)];if(e.size<t)return[!1,uw(t)]}else{if(ml(t)&&e.size<t)return[!1,uw(t)];if(ml(n)&&e.size>n)return[!1,dw(n)]}return[!0,null]}function ml(e){return e!=null}function LF(e){var t=e.files,n=e.accept,s=e.minSize,a=e.maxSize,i=e.multiple,o=e.maxFiles,l=e.validator;return!i&&t.length>1||i&&o>=1&&t.length>o?!1:t.every(function(c){var d=TC(c,n),p=gp(d,1),u=p[0],f=RC(c,s,a),m=gp(f,1),g=m[0],b=l?l(c):null;return u&&g&&!b})}function Nh(e){return typeof e.isPropagationStopped=="function"?e.isPropagationStopped():typeof e.cancelBubble<"u"?e.cancelBubble:!1}function uf(e){return e.dataTransfer?Array.prototype.some.call(e.dataTransfer.types,function(t){return t==="Files"||t==="application/x-moz-file"}):!!e.target&&!!e.target.files}function pw(e){e.preventDefault()}function TF(e){return e.indexOf("MSIE")!==-1||e.indexOf("Trident/")!==-1}function RF(e){return e.indexOf("Edge/")!==-1}function FF(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window.navigator.userAgent;return TF(e)||RF(e)}function Ka(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(s){for(var a=arguments.length,i=new Array(a>1?a-1:0),o=1;o<a;o++)i[o-1]=arguments[o];return t.some(function(l){return!Nh(s)&&l&&l.apply(void 0,[s].concat(i)),Nh(s)})}}function _F(){return"showOpenFilePicker"in window}function OF(e){if(ml(e)){var t=Object.entries(e).filter(function(n){var s=gp(n,2),a=s[0],i=s[1],o=!0;return FC(a)||(console.warn('Skipped "'.concat(a,'" because it is not a valid MIME type. Check https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_types/Common_types for a list of valid MIME types.')),o=!1),(!Array.isArray(i)||!i.every(_C))&&(console.warn('Skipped "'.concat(a,'" because an invalid file extension was provided.')),o=!1),o}).reduce(function(n,s){var a=gp(s,2),i=a[0],o=a[1];return cw(cw({},n),{},DC({},i,o))},{});return[{description:"Files",accept:t}]}return e}function MF(e){if(ml(e))return Object.entries(e).reduce(function(t,n){var s=gp(n,2),a=s[0],i=s[1];return[].concat(ow(t),[a],ow(i))},[]).filter(function(t){return FC(t)||_C(t)}).join(",")}function BF(e){return e instanceof DOMException&&(e.name==="AbortError"||e.code===e.ABORT_ERR)}function zF(e){return e instanceof DOMException&&(e.name==="SecurityError"||e.code===e.SECURITY_ERR)}function FC(e){return e==="audio/*"||e==="video/*"||e==="image/*"||e==="text/*"||e==="application/*"||/\w+\/[-+.\w]+/g.test(e)}function _C(e){return/^.*\.[\w]+$/.test(e)}var $F=["children"],UF=["open"],VF=["refKey","role","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"],WF=["refKey","onChange","onClick"];function qF(e){return QF(e)||GF(e)||OC(e)||HF()}function HF(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function GF(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function QF(e){if(Array.isArray(e))return X0(e)}function pv(e,t){return XF(e)||KF(e,t)||OC(e,t)||YF()}function YF(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function OC(e,t){if(e){if(typeof e=="string")return X0(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return X0(e,t)}}function X0(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}function KF(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var s=[],a=!0,i=!1,o,l;try{for(n=n.call(e);!(a=(o=n.next()).done)&&(s.push(o.value),!(t&&s.length===t));a=!0);}catch(c){i=!0,l=c}finally{try{!a&&n.return!=null&&n.return()}finally{if(i)throw l}}return s}}function XF(e){if(Array.isArray(e))return e}function mw(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,s)}return n}function Er(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?mw(Object(n),!0).forEach(function(s){J0(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mw(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function J0(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Sh(e,t){if(e==null)return{};var n=JF(e,t),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function JF(e,t){if(e==null)return{};var n={},s=Object.keys(e),a,i;for(i=0;i<s.length;i++)a=s[i],!(t.indexOf(a)>=0)&&(n[a]=e[a]);return n}var Wy=A.forwardRef(function(e,t){var n=e.children,s=Sh(e,$F),a=qy(s),i=a.open,o=Sh(a,UF);return A.useImperativeHandle(t,function(){return{open:i}},[i]),Dt.createElement(A.Fragment,null,n(Er(Er({},o),{},{open:i})))});Wy.displayName="Dropzone";var MC={disabled:!1,getFilesFromEvent:dF,maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1,validator:null,useFsAccessApi:!1,autoFocus:!1};Wy.defaultProps=MC;Wy.propTypes={children:dr.func,accept:dr.objectOf(dr.arrayOf(dr.string)),multiple:dr.bool,preventDropOnDocument:dr.bool,noClick:dr.bool,noKeyboard:dr.bool,noDrag:dr.bool,noDragEventsBubbling:dr.bool,minSize:dr.number,maxSize:dr.number,maxFiles:dr.number,disabled:dr.bool,getFilesFromEvent:dr.func,onFileDialogCancel:dr.func,onFileDialogOpen:dr.func,useFsAccessApi:dr.bool,autoFocus:dr.bool,onDragEnter:dr.func,onDragLeave:dr.func,onDragOver:dr.func,onDrop:dr.func,onDropAccepted:dr.func,onDropRejected:dr.func,onError:dr.func,validator:dr.func};var Z0={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,acceptedFiles:[],fileRejections:[]};function qy(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=Er(Er({},MC),e),n=t.accept,s=t.disabled,a=t.getFilesFromEvent,i=t.maxSize,o=t.minSize,l=t.multiple,c=t.maxFiles,d=t.onDragEnter,p=t.onDragLeave,u=t.onDragOver,f=t.onDrop,m=t.onDropAccepted,g=t.onDropRejected,b=t.onFileDialogCancel,j=t.onFileDialogOpen,x=t.useFsAccessApi,v=t.autoFocus,y=t.preventDropOnDocument,P=t.noClick,M=t.noKeyboard,O=t.noDrag,E=t.noDragEventsBubbling,S=t.onError,k=t.validator,D=A.useMemo(function(){return MF(n)},[n]),C=A.useMemo(function(){return OF(n)},[n]),w=A.useMemo(function(){return typeof j=="function"?j:fw},[j]),T=A.useMemo(function(){return typeof b=="function"?b:fw},[b]),L=A.useRef(null),W=A.useRef(null),V=A.useReducer(ZF,Z0),_=pv(V,2),B=_[0],U=_[1],q=B.isFocused,H=B.isFileDialogActive,R=A.useRef(typeof window<"u"&&window.isSecureContext&&x&&_F()),$=function(){!R.current&&H&&setTimeout(function(){if(W.current){var We=W.current.files;We.length||(U({type:"closeDialog"}),T())}},300)};A.useEffect(function(){return window.addEventListener("focus",$,!1),function(){window.removeEventListener("focus",$,!1)}},[W,H,T,R]);var G=A.useRef([]),Z=function(We){L.current&&L.current.contains(We.target)||(We.preventDefault(),G.current=[])};A.useEffect(function(){return y&&(document.addEventListener("dragover",pw,!1),document.addEventListener("drop",Z,!1)),function(){y&&(document.removeEventListener("dragover",pw),document.removeEventListener("drop",Z))}},[L,y]),A.useEffect(function(){return!s&&v&&L.current&&L.current.focus(),function(){}},[L,v,s]);var te=A.useCallback(function(Pe){S?S(Pe):console.error(Pe)},[S]),le=A.useCallback(function(Pe){Pe.preventDefault(),Pe.persist(),Ve(Pe),G.current=[].concat(qF(G.current),[Pe.target]),uf(Pe)&&Promise.resolve(a(Pe)).then(function(We){if(!(Nh(Pe)&&!E)){var et=We.length,dt=et>0&&LF({files:We,accept:D,minSize:o,maxSize:i,multiple:l,maxFiles:c,validator:k}),Nt=et>0&&!dt;U({isDragAccept:dt,isDragReject:Nt,isDragActive:!0,type:"setDraggedFiles"}),d&&d(Pe)}}).catch(function(We){return te(We)})},[a,d,te,E,D,o,i,l,c,k]),ce=A.useCallback(function(Pe){Pe.preventDefault(),Pe.persist(),Ve(Pe);var We=uf(Pe);if(We&&Pe.dataTransfer)try{Pe.dataTransfer.dropEffect="copy"}catch{}return We&&u&&u(Pe),!1},[u,E]),de=A.useCallback(function(Pe){Pe.preventDefault(),Pe.persist(),Ve(Pe);var We=G.current.filter(function(dt){return L.current&&L.current.contains(dt)}),et=We.indexOf(Pe.target);et!==-1&&We.splice(et,1),G.current=We,!(We.length>0)&&(U({type:"setDraggedFiles",isDragActive:!1,isDragAccept:!1,isDragReject:!1}),uf(Pe)&&p&&p(Pe))},[L,p,E]),Ne=A.useCallback(function(Pe,We){var et=[],dt=[];Pe.forEach(function(Nt){var gt=TC(Nt,D),Pt=pv(gt,2),Ye=Pt[0],Kt=Pt[1],Ot=RC(Nt,o,i),en=pv(Ot,2),Xt=en[0],ar=en[1],as=k?k(Nt):null;if(Ye&&Xt&&!as)et.push(Nt);else{var Vt=[Kt,ar];as&&(Vt=Vt.concat(as)),dt.push({file:Nt,errors:Vt.filter(function(xi){return xi})})}}),(!l&&et.length>1||l&&c>=1&&et.length>c)&&(et.forEach(function(Nt){dt.push({file:Nt,errors:[DF]})}),et.splice(0)),U({acceptedFiles:et,fileRejections:dt,isDragReject:dt.length>0,type:"setFiles"}),f&&f(et,dt,We),dt.length>0&&g&&g(dt,We),et.length>0&&m&&m(et,We)},[U,l,D,o,i,c,f,m,g,k]),ve=A.useCallback(function(Pe){Pe.preventDefault(),Pe.persist(),Ve(Pe),G.current=[],uf(Pe)&&Promise.resolve(a(Pe)).then(function(We){Nh(Pe)&&!E||Ne(We,Pe)}).catch(function(We){return te(We)}),U({type:"reset"})},[a,Ne,te,E]),Ee=A.useCallback(function(){if(R.current){U({type:"openDialog"}),w();var Pe={multiple:l,types:C};window.showOpenFilePicker(Pe).then(function(We){return a(We)}).then(function(We){Ne(We,null),U({type:"closeDialog"})}).catch(function(We){BF(We)?(T(We),U({type:"closeDialog"})):zF(We)?(R.current=!1,W.current?(W.current.value=null,W.current.click()):te(new Error("Cannot open the file picker because the https://developer.mozilla.org/en-US/docs/Web/API/File_System_Access_API is not supported and no <input> was provided."))):te(We)});return}W.current&&(U({type:"openDialog"}),w(),W.current.value=null,W.current.click())},[U,w,T,x,Ne,te,C,l]),Te=A.useCallback(function(Pe){!L.current||!L.current.isEqualNode(Pe.target)||(Pe.key===" "||Pe.key==="Enter"||Pe.keyCode===32||Pe.keyCode===13)&&(Pe.preventDefault(),Ee())},[L,Ee]),pe=A.useCallback(function(){U({type:"focus"})},[]),se=A.useCallback(function(){U({type:"blur"})},[]),ee=A.useCallback(function(){P||(FF()?setTimeout(Ee,0):Ee())},[P,Ee]),Ue=function(We){return s?null:We},Fe=function(We){return M?null:Ue(We)},ke=function(We){return O?null:Ue(We)},Ve=function(We){E&&We.stopPropagation()},Xe=A.useMemo(function(){return function(){var Pe=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},We=Pe.refKey,et=We===void 0?"ref":We,dt=Pe.role,Nt=Pe.onKeyDown,gt=Pe.onFocus,Pt=Pe.onBlur,Ye=Pe.onClick,Kt=Pe.onDragEnter,Ot=Pe.onDragOver,en=Pe.onDragLeave,Xt=Pe.onDrop,ar=Sh(Pe,VF);return Er(Er(J0({onKeyDown:Fe(Ka(Nt,Te)),onFocus:Fe(Ka(gt,pe)),onBlur:Fe(Ka(Pt,se)),onClick:Ue(Ka(Ye,ee)),onDragEnter:ke(Ka(Kt,le)),onDragOver:ke(Ka(Ot,ce)),onDragLeave:ke(Ka(en,de)),onDrop:ke(Ka(Xt,ve)),role:typeof dt=="string"&&dt!==""?dt:"presentation"},et,L),!s&&!M?{tabIndex:0}:{}),ar)}},[L,Te,pe,se,ee,le,ce,de,ve,M,O,s]),Ge=A.useCallback(function(Pe){Pe.stopPropagation()},[]),xt=A.useMemo(function(){return function(){var Pe=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},We=Pe.refKey,et=We===void 0?"ref":We,dt=Pe.onChange,Nt=Pe.onClick,gt=Sh(Pe,WF),Pt=J0({accept:D,multiple:l,type:"file",style:{border:0,clip:"rect(0, 0, 0, 0)",clipPath:"inset(50%)",height:"1px",margin:"0 -1px -1px 0",overflow:"hidden",padding:0,position:"absolute",width:"1px",whiteSpace:"nowrap"},onChange:Ue(Ka(dt,ve)),onClick:Ue(Ka(Nt,Ge)),tabIndex:-1},et,W);return Er(Er({},Pt),gt)}},[W,n,l,ve,s]);return Er(Er({},B),{},{isFocused:q&&!s,getRootProps:Xe,getInputProps:xt,rootRef:L,inputRef:W,open:Ue(Ee)})}function ZF(e,t){switch(t.type){case"focus":return Er(Er({},e),{},{isFocused:!0});case"blur":return Er(Er({},e),{},{isFocused:!1});case"openDialog":return Er(Er({},Z0),{},{isFileDialogActive:!0});case"closeDialog":return Er(Er({},e),{},{isFileDialogActive:!1});case"setDraggedFiles":return Er(Er({},e),{},{isDragActive:t.isDragActive,isDragAccept:t.isDragAccept,isDragReject:t.isDragReject});case"setFiles":return Er(Er({},e),{},{acceptedFiles:t.acceptedFiles,fileRejections:t.fileRejections,isDragReject:t.isDragReject});case"reset":return Er({},Z0);default:return e}}function fw(){}function e_({vehicle:e,onSave:t,onCancel:n,onScanBarcode:s}){var S,k,D,C,w,T,L,W,V,_,B,U,q,H,R,$,G,Z,te,le,ce,de,Ne,ve,Ee,Te;const{toast:a}=Cr(),[i,o]=A.useState(!1),[l,c]=A.useState({vin:"",make:"",model:"",year:new Date().getFullYear(),type:at.RV,status:_t.AVAILABLE,price:0,cost:0,location:"",features:[],images:[],customFields:{videos:[],exteriorColor:"",interiorColor:"",length:"",weight:"",sleeps:"",slideouts:"",fuelType:"",mileage:"",condition:"New"}}),[d,p]=A.useState(""),[u,f]=A.useState(""),[m,g]=A.useState(!1);A.useEffect(()=>{e&&c({...e,customFields:{...e.customFields,videos:e.customFields.videos||[]}})},[e]);const{getRootProps:b,getInputProps:j}=qy({accept:{"image/*":[]},onDrop:pe=>{const se=pe.map(ee=>URL.createObjectURL(ee));c(ee=>({...ee,images:[...ee.images||[],...se]})),a({title:"Images Added",description:`Added ${pe.length} images`})}}),x=async pe=>{if(pe.preventDefault(),!l.vin||!l.make||!l.model||!l.year){a({title:"Validation Error",description:"Please fill in all required fields",variant:"destructive"});return}o(!0);try{await t(l),a({title:"Success",description:`Vehicle ${e?"updated":"created"} successfully`})}catch{a({title:"Error",description:`Failed to ${e?"update":"create"} vehicle`,variant:"destructive"})}finally{o(!1)}},v=()=>{var pe;d.trim()&&!((pe=l.features)!=null&&pe.includes(d.trim()))&&(c(se=>({...se,features:[...se.features||[],d.trim()]})),p(""))},y=pe=>{c(se=>{var ee;return{...se,features:((ee=se.features)==null?void 0:ee.filter(Ue=>Ue!==pe))||[]}})},P=()=>{u.trim()&&(c(pe=>{var se;return{...pe,customFields:{...pe.customFields,videos:[...((se=pe.customFields)==null?void 0:se.videos)||[],u.trim()]}}}),f(""))},M=pe=>{c(se=>{var ee,Ue;return{...se,customFields:{...se.customFields,videos:((Ue=(ee=se.customFields)==null?void 0:ee.videos)==null?void 0:Ue.filter(Fe=>Fe!==pe))||[]}}})},O=pe=>{c(se=>{var ee;return{...se,images:((ee=se.images)==null?void 0:ee.filter(Ue=>Ue!==pe))||[]}})},E=pe=>{pe.length===17?(c(se=>({...se,vin:pe})),a({title:"Barcode Scanned",description:`VIN: ${pe}`}),g(!1)):a({title:"Invalid Barcode",description:"The scanned barcode does not appear to be a valid VIN",variant:"destructive"})};return r.jsxs("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:[r.jsxs(me,{className:"w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[r.jsx(be,{children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx(je,{children:e?"Edit Vehicle":"Add New Home"}),r.jsx(Ke,{children:e?"Update vehicle details":"Add a new home to inventory"})]}),r.jsx(ae,{variant:"ghost",size:"sm",onClick:n,children:r.jsx(or,{className:"h-4 w-4"})})]})}),r.jsx(fe,{children:r.jsxs("form",{onSubmit:x,className:"space-y-6",children:[r.jsxs("div",{className:"space-y-4",children:[r.jsx("h3",{className:"text-lg font-semibold",children:"Basic Information"}),r.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[r.jsxs("div",{children:[r.jsx(Ae,{htmlFor:"vin",children:"VIN *"}),r.jsxs("div",{className:"flex",children:[r.jsx(Be,{id:"vin",value:l.vin,onChange:pe=>c(se=>({...se,vin:pe.target.value})),placeholder:"Vehicle Identification Number",className:"flex-1"}),r.jsx(ae,{type:"button",variant:"outline",className:"ml-2",onClick:()=>g(!0),children:r.jsx(F4,{className:"h-4 w-4"})})]})]}),r.jsxs("div",{children:[r.jsx(Ae,{htmlFor:"year",children:"Year *"}),r.jsx(Be,{id:"year",type:"number",value:l.year,onChange:pe=>c(se=>({...se,year:parseInt(pe.target.value)||new Date().getFullYear()})),min:"1900",max:new Date().getFullYear()+1})]})]}),r.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[r.jsxs("div",{children:[r.jsx(Ae,{htmlFor:"make",children:"Make *"}),r.jsx(Be,{id:"make",value:l.make,onChange:pe=>c(se=>({...se,make:pe.target.value})),placeholder:"e.g., Forest River, Winnebago"})]}),r.jsxs("div",{children:[r.jsx(Ae,{htmlFor:"model",children:"Model *"}),r.jsx(Be,{id:"model",value:l.model,onChange:pe=>c(se=>({...se,model:pe.target.value})),placeholder:"e.g., Georgetown, View"})]})]}),r.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[r.jsxs("div",{children:[r.jsx(Ae,{htmlFor:"type",children:"Type"}),r.jsxs(lt,{value:l.type,onValueChange:pe=>c(se=>({...se,type:pe})),children:[r.jsx(it,{children:r.jsx(ct,{})}),r.jsxs(ot,{children:[r.jsx(oe,{value:at.RV,children:"RV"}),r.jsx(oe,{value:at.MOTORHOME,children:"Motorhome"}),r.jsx(oe,{value:at.TRAVEL_TRAILER,children:"Travel Trailer"}),r.jsx(oe,{value:at.FIFTH_WHEEL,children:"Fifth Wheel"}),r.jsx(oe,{value:at.TOY_HAULER,children:"Toy Hauler"}),r.jsx(oe,{value:at.SINGLE_WIDE,children:"Single Wide MH"}),r.jsx(oe,{value:at.DOUBLE_WIDE,children:"Double Wide MH"}),r.jsx(oe,{value:at.TRIPLE_WIDE,children:"Triple Wide MH"}),r.jsx(oe,{value:at.PARK_MODEL,children:"Park Model"}),r.jsx(oe,{value:at.MODULAR_HOME,children:"Modular Home"})]})]})]}),r.jsxs("div",{children:[r.jsx(Ae,{htmlFor:"status",children:"Status"}),r.jsxs(lt,{value:l.status,onValueChange:pe=>c(se=>({...se,status:pe})),children:[r.jsx(it,{children:r.jsx(ct,{})}),r.jsxs(ot,{children:[r.jsx(oe,{value:_t.AVAILABLE,children:"Available"}),r.jsx(oe,{value:_t.RESERVED,children:"Reserved"}),r.jsx(oe,{value:_t.SOLD,children:"Sold"}),r.jsx(oe,{value:_t.SERVICE,children:"Service"}),r.jsx(oe,{value:_t.DELIVERED,children:"Delivered"})]})]})]}),r.jsxs("div",{children:[r.jsx(Ae,{htmlFor:"location",children:"Location"}),r.jsx(Be,{id:"location",value:l.location,onChange:pe=>c(se=>({...se,location:pe.target.value})),placeholder:"e.g., Lot A-15"})]})]}),r.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[r.jsxs("div",{children:[r.jsx(Ae,{htmlFor:"price",children:"Price *"}),r.jsx(Be,{id:"price",type:"number",value:l.price,onChange:pe=>c(se=>({...se,price:parseFloat(pe.target.value)||0})),min:"0",step:"0.01"})]}),r.jsxs("div",{children:[r.jsx(Ae,{htmlFor:"cost",children:"Cost *"}),r.jsx(Be,{id:"cost",type:"number",value:l.cost,onChange:pe=>c(se=>({...se,cost:parseFloat(pe.target.value)||0})),min:"0",step:"0.01"})]})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsx("h3",{className:"text-lg font-semibold",children:"Features"}),r.jsxs("div",{className:"flex space-x-2",children:[r.jsx(Be,{value:d,onChange:pe=>p(pe.target.value),placeholder:"Add a feature",onKeyDown:pe=>{pe.key==="Enter"&&(pe.preventDefault(),v())}}),r.jsx(ae,{type:"button",onClick:v,children:r.jsx(It,{className:"h-4 w-4"})})]}),r.jsxs("div",{className:"flex flex-wrap gap-2",children:[(S=l.features)==null?void 0:S.map((pe,se)=>r.jsxs(Re,{variant:"secondary",className:"flex items-center gap-1",children:[pe,r.jsx(or,{className:"h-3 w-3 cursor-pointer",onClick:()=>y(pe)})]},se)),(!l.features||l.features.length===0)&&r.jsx("div",{className:"text-sm text-muted-foreground",children:"No features added yet"})]})]}),(l.type===at.SINGLE_WIDE||l.type===at.DOUBLE_WIDE||l.type===at.TRIPLE_WIDE||l.type===at.PARK_MODEL||l.type===at.MODULAR_HOME)&&r.jsxs("div",{className:"space-y-4",children:[r.jsx("h3",{className:"text-lg font-semibold",children:"Manufactured Housing Details"}),r.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[r.jsxs("div",{children:[r.jsx(Ae,{htmlFor:"squareFootage",children:"Square Footage"}),r.jsx(Be,{id:"squareFootage",value:((k=l.customFields)==null?void 0:k.squareFootage)||"",onChange:pe=>c(se=>({...se,customFields:{...se.customFields,squareFootage:pe.target.value}})),placeholder:"e.g., 1200"})]}),r.jsxs("div",{children:[r.jsx(Ae,{htmlFor:"bedrooms",children:"Bedrooms"}),r.jsxs(lt,{value:((D=l.customFields)==null?void 0:D.bedrooms)||"",onValueChange:pe=>c(se=>({...se,customFields:{...se.customFields,bedrooms:pe}})),children:[r.jsx(it,{children:r.jsx(ct,{placeholder:"Select number"})}),r.jsxs(ot,{children:[r.jsx(oe,{value:"1",children:"1"}),r.jsx(oe,{value:"2",children:"2"}),r.jsx(oe,{value:"3",children:"3"}),r.jsx(oe,{value:"4",children:"4"}),r.jsx(oe,{value:"5+",children:"5+"})]})]})]}),r.jsxs("div",{children:[r.jsx(Ae,{htmlFor:"bathrooms",children:"Bathrooms"}),r.jsxs(lt,{value:((C=l.customFields)==null?void 0:C.bathrooms)||"",onValueChange:pe=>c(se=>({...se,customFields:{...se.customFields,bathrooms:pe}})),children:[r.jsx(it,{children:r.jsx(ct,{placeholder:"Select number"})}),r.jsxs(ot,{children:[r.jsx(oe,{value:"1",children:"1"}),r.jsx(oe,{value:"1.5",children:"1.5"}),r.jsx(oe,{value:"2",children:"2"}),r.jsx(oe,{value:"2.5",children:"2.5"}),r.jsx(oe,{value:"3",children:"3"}),r.jsx(oe,{value:"3+",children:"3+"})]})]})]}),r.jsxs("div",{children:[r.jsx(Ae,{htmlFor:"constructionType",children:"Construction Type"}),r.jsxs(lt,{value:((w=l.customFields)==null?void 0:w.constructionType)||"",onValueChange:pe=>c(se=>({...se,customFields:{...se.customFields,constructionType:pe}})),children:[r.jsx(it,{children:r.jsx(ct,{placeholder:"Select type"})}),r.jsxs(ot,{children:[r.jsx(oe,{value:"Manufactured",children:"Manufactured"}),r.jsx(oe,{value:"Modular",children:"Modular"}),r.jsx(oe,{value:"Park Model",children:"Park Model"})]})]})]}),r.jsxs("div",{children:[r.jsx(Ae,{htmlFor:"exteriorSiding",children:"Exterior Siding"}),r.jsx(Be,{id:"exteriorSiding",value:((T=l.customFields)==null?void 0:T.exteriorSiding)||"",onChange:pe=>c(se=>({...se,customFields:{...se.customFields,exteriorSiding:pe.target.value}})),placeholder:"e.g., Vinyl, Hardiplank"})]}),r.jsxs("div",{children:[r.jsx(Ae,{htmlFor:"roofType",children:"Roof Type"}),r.jsx(Be,{id:"roofType",value:((L=l.customFields)==null?void 0:L.roofType)||"",onChange:pe=>c(se=>({...se,customFields:{...se.customFields,roofType:pe.target.value}})),placeholder:"e.g., Shingle, Metal"})]})]})]}),(l.type===at.SINGLE_WIDE||l.type===at.DOUBLE_WIDE||l.type===at.TRIPLE_WIDE||l.type===at.PARK_MODEL||l.type===at.MODULAR_HOME)&&r.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[r.jsxs("div",{children:[r.jsx(Ae,{htmlFor:"squareFootage",children:"Square Footage"}),r.jsx(Be,{id:"squareFootage",value:((W=l.customFields)==null?void 0:W.squareFootage)||"",onChange:pe=>c(se=>({...se,customFields:{...se.customFields,squareFootage:pe.target.value}}))})]}),r.jsxs("div",{children:[r.jsx(Ae,{htmlFor:"constructionType",children:"Construction Type"}),r.jsxs(lt,{value:((V=l.customFields)==null?void 0:V.constructionType)||"",onValueChange:pe=>c(se=>({...se,customFields:{...se.customFields,constructionType:pe}})),children:[r.jsx(it,{children:r.jsx(ct,{placeholder:"Select type"})}),r.jsxs(ot,{children:[r.jsx(oe,{value:"Manufactured",children:"Manufactured"}),r.jsx(oe,{value:"Modular",children:"Modular"}),r.jsx(oe,{value:"Park Model",children:"Park Model"})]})]})]}),r.jsxs("div",{children:[r.jsx(Ae,{htmlFor:"bedrooms",children:"Bedrooms"}),r.jsxs(lt,{value:((_=l.customFields)==null?void 0:_.bedrooms)||"",onValueChange:pe=>c(se=>({...se,customFields:{...se.customFields,bedrooms:pe}})),children:[r.jsx(it,{children:r.jsx(ct,{placeholder:"Select number"})}),r.jsxs(ot,{children:[r.jsx(oe,{value:"1",children:"1"}),r.jsx(oe,{value:"2",children:"2"}),r.jsx(oe,{value:"3",children:"3"}),r.jsx(oe,{value:"4",children:"4"}),r.jsx(oe,{value:"5+",children:"5+"})]})]})]}),r.jsxs("div",{children:[r.jsx(Ae,{htmlFor:"bathrooms",children:"Bathrooms"}),r.jsxs(lt,{value:((B=l.customFields)==null?void 0:B.bathrooms)||"",onValueChange:pe=>c(se=>({...se,customFields:{...se.customFields,bathrooms:pe}})),children:[r.jsx(it,{children:r.jsx(ct,{placeholder:"Select number"})}),r.jsxs(ot,{children:[r.jsx(oe,{value:"1",children:"1"}),r.jsx(oe,{value:"1.5",children:"1.5"}),r.jsx(oe,{value:"2",children:"2"}),r.jsx(oe,{value:"2.5",children:"2.5"}),r.jsx(oe,{value:"3",children:"3"}),r.jsx(oe,{value:"3+",children:"3+"})]})]})]}),r.jsxs("div",{children:[r.jsx(Ae,{htmlFor:"exteriorSiding",children:"Exterior Siding"}),r.jsx(Be,{id:"exteriorSiding",value:((U=l.customFields)==null?void 0:U.exteriorSiding)||"",onChange:pe=>c(se=>({...se,customFields:{...se.customFields,exteriorSiding:pe.target.value}}))})]}),r.jsxs("div",{children:[r.jsx(Ae,{htmlFor:"roofType",children:"Roof Type"}),r.jsx(Be,{id:"roofType",value:((q=l.customFields)==null?void 0:q.roofType)||"",onChange:pe=>c(se=>({...se,customFields:{...se.customFields,roofType:pe.target.value}}))})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsx("h3",{className:"text-lg font-semibold",children:"Specifications"}),r.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[r.jsxs("div",{children:[r.jsx(Ae,{htmlFor:"exteriorColor",children:"Exterior Color"}),r.jsx(Be,{id:"exteriorColor",value:((H=l.customFields)==null?void 0:H.exteriorColor)||"",onChange:pe=>c(se=>({...se,customFields:{...se.customFields,exteriorColor:pe.target.value}}))})]}),r.jsxs("div",{children:[r.jsx(Ae,{htmlFor:"interiorColor",children:"Interior Color"}),r.jsx(Be,{id:"interiorColor",value:((R=l.customFields)==null?void 0:R.interiorColor)||"",onChange:pe=>c(se=>({...se,customFields:{...se.customFields,interiorColor:pe.target.value}}))})]}),r.jsxs("div",{children:[r.jsx(Ae,{htmlFor:"length",children:"Length (ft)"}),r.jsx(Be,{id:"length",value:(($=l.customFields)==null?void 0:$.length)||"",onChange:pe=>c(se=>({...se,customFields:{...se.customFields,length:pe.target.value}}))})]}),r.jsxs("div",{children:[r.jsx(Ae,{htmlFor:"weight",children:"Weight (lbs)"}),r.jsx(Be,{id:"weight",value:((G=l.customFields)==null?void 0:G.weight)||"",onChange:pe=>c(se=>({...se,customFields:{...se.customFields,weight:pe.target.value}}))})]}),r.jsxs("div",{children:[r.jsx(Ae,{htmlFor:"sleeps",children:"Sleeps"}),r.jsx(Be,{id:"sleeps",value:((Z=l.customFields)==null?void 0:Z.sleeps)||"",onChange:pe=>c(se=>({...se,customFields:{...se.customFields,sleeps:pe.target.value}}))})]}),r.jsxs("div",{children:[r.jsx(Ae,{htmlFor:"slideouts",children:"Slideouts"}),r.jsx(Be,{id:"slideouts",value:((te=l.customFields)==null?void 0:te.slideouts)||"",onChange:pe=>c(se=>({...se,customFields:{...se.customFields,slideouts:pe.target.value}}))})]}),r.jsxs("div",{children:[r.jsx(Ae,{htmlFor:"fuelType",children:"Fuel Type"}),r.jsxs(lt,{value:((le=l.customFields)==null?void 0:le.fuelType)||"",onValueChange:pe=>c(se=>({...se,customFields:{...se.customFields,fuelType:pe}})),children:[r.jsx(it,{children:r.jsx(ct,{placeholder:"Select fuel type"})}),r.jsxs(ot,{children:[r.jsx(oe,{value:"",children:"Not Applicable"}),r.jsx(oe,{value:"gasoline",children:"Gasoline"}),r.jsx(oe,{value:"diesel",children:"Diesel"}),r.jsx(oe,{value:"propane",children:"Propane"})]})]})]}),r.jsxs("div",{children:[r.jsx(Ae,{htmlFor:"mileage",children:"Mileage"}),r.jsx(Be,{id:"mileage",value:((ce=l.customFields)==null?void 0:ce.mileage)||"",onChange:pe=>c(se=>({...se,customFields:{...se.customFields,mileage:pe.target.value}}))})]}),r.jsxs("div",{children:[r.jsx(Ae,{htmlFor:"condition",children:"Condition"}),r.jsxs(lt,{value:((de=l.customFields)==null?void 0:de.condition)||"New",onValueChange:pe=>c(se=>({...se,customFields:{...se.customFields,condition:pe}})),children:[r.jsx(it,{children:r.jsx(ct,{})}),r.jsxs(ot,{children:[r.jsx(oe,{value:"New",children:"New"}),r.jsx(oe,{value:"Used",children:"Used"}),r.jsx(oe,{value:"Certified Pre-Owned",children:"Certified Pre-Owned"})]})]})]})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsx("h3",{className:"text-lg font-semibold",children:"Images"}),r.jsxs("div",{...b(),className:"border-2 border-dashed rounded-lg p-6 text-center cursor-pointer hover:bg-muted/10",children:[r.jsx("input",{...j()}),r.jsx(pp,{className:"h-8 w-8 mx-auto mb-2 text-muted-foreground"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Drag & drop images here, or click to select files"})]}),l.images&&l.images.length>0&&r.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mt-4",children:l.images.map((pe,se)=>r.jsxs("div",{className:"relative group",children:[r.jsx("img",{src:pe,alt:`Vehicle ${se+1}`,className:"h-24 w-full object-cover rounded-md"}),r.jsx(ae,{type:"button",variant:"destructive",size:"sm",className:"absolute top-1 right-1 opacity-0 group-hover:opacity-100 transition-opacity",onClick:()=>O(pe),children:r.jsx(or,{className:"h-3 w-3"})})]},se))})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsx("h3",{className:"text-lg font-semibold",children:"Videos"}),r.jsxs("div",{className:"flex space-x-2",children:[r.jsx(Be,{value:u,onChange:pe=>f(pe.target.value),placeholder:"Add a video URL (YouTube, Vimeo, etc.)",onKeyDown:pe=>{pe.key==="Enter"&&(pe.preventDefault(),P())}}),r.jsx(ae,{type:"button",onClick:P,children:r.jsx(It,{className:"h-4 w-4"})})]}),r.jsxs("div",{className:"space-y-2",children:[(ve=(Ne=l.customFields)==null?void 0:Ne.videos)==null?void 0:ve.map((pe,se)=>r.jsxs("div",{className:"flex items-center justify-between p-2 bg-muted/30 rounded-md",children:[r.jsxs("div",{className:"flex items-center",children:[r.jsx(hh,{className:"h-4 w-4 mr-2 text-blue-500"}),r.jsx("a",{href:pe,target:"_blank",rel:"noopener noreferrer",className:"text-sm text-blue-600 hover:underline truncate max-w-md",children:pe})]}),r.jsx(ae,{type:"button",variant:"ghost",size:"sm",onClick:()=>M(pe),children:r.jsx(or,{className:"h-4 w-4"})})]},se)),(!((Ee=l.customFields)!=null&&Ee.videos)||l.customFields.videos.length===0)&&r.jsx("div",{className:"text-sm text-muted-foreground",children:"No videos added yet"})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsx("h3",{className:"text-lg font-semibold",children:"Notes"}),r.jsx(lr,{value:((Te=l.customFields)==null?void 0:Te.notes)||"",onChange:pe=>c(se=>({...se,customFields:{...se.customFields,notes:pe.target.value}})),placeholder:"Add any additional notes about this vehicle...",rows:3})]}),r.jsxs("div",{className:"flex justify-end space-x-3 pt-6 border-t",children:[r.jsx(ae,{type:"button",variant:"outline",onClick:n,disabled:i,children:"Cancel"}),r.jsx(ae,{type:"submit",disabled:i,children:i?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),e?"Updating...":"Creating..."]}):r.jsxs(r.Fragment,{children:[r.jsx(da,{className:"h-4 w-4 mr-2"}),e?"Update":"Create"," Home"]})})]})]})})]}),m&&r.jsx("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center z-[60]",children:r.jsxs(me,{className:"w-full max-w-md",children:[r.jsxs(be,{children:[r.jsx(je,{children:"Scan VIN Barcode"}),r.jsx(Ke,{children:"Position the barcode in front of your camera"})]}),r.jsxs(fe,{className:"space-y-4",children:[r.jsx("div",{className:"bg-black h-64 flex items-center justify-center rounded-md",children:r.jsx(Hc,{className:"h-12 w-12 text-white/50"})}),r.jsxs("div",{className:"flex justify-end space-x-2",children:[r.jsx(ae,{variant:"outline",onClick:()=>g(!1),children:"Cancel"}),r.jsx(ae,{onClick:()=>{E("1FDXE4FS8KDC"+Math.floor(Math.random()*1e5).toString().padStart(5,"0"))},children:"Simulate Scan"})]})]})]})})]})}function t_({vehicle:e,onClose:t,onEdit:n}){var i,o,l,c,d,p,u,f,m,g,b,j,x,v,y,P,M,O,E,S,k,D,C;const s=w=>{switch(w){case _t.AVAILABLE:return"bg-green-50 text-green-700 border-green-200";case _t.RESERVED:return"bg-yellow-50 text-yellow-700 border-yellow-200";case _t.SOLD:return"bg-blue-50 text-blue-700 border-blue-200";case _t.SERVICE:return"bg-orange-50 text-orange-700 border-orange-200";case _t.DELIVERED:return"bg-purple-50 text-purple-700 border-purple-200";default:return"bg-gray-50 text-gray-700 border-gray-200"}},a=w=>w.replace("_"," ").toUpperCase();return r.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:r.jsxs(me,{className:"w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[r.jsx(be,{children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsxs(je,{className:"text-xl",children:[e.year," ",e.make," ",e.model]}),r.jsxs(Ke,{children:["VIN: ",e.vin]})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsxs(ae,{onClick:()=>n(e),size:"sm",children:[r.jsx(ln,{className:"h-4 w-4 mr-2"}),"Edit Vehicle"]}),r.jsx(ae,{variant:"ghost",size:"sm",onClick:t,children:r.jsx(or,{className:"h-4 w-4"})})]})]})}),r.jsxs(fe,{className:"space-y-6",children:[r.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[r.jsx(Re,{className:$e("ri-badge-status",s(e.status)),children:e.status.toUpperCase()}),r.jsx(Re,{variant:"outline",children:a(e.type)}),r.jsx("div",{className:"ml-auto font-bold text-lg text-primary",children:Le(e.price)})]}),r.jsxs(dn,{defaultValue:"details",className:"space-y-4",children:[r.jsxs(Zr,{children:[r.jsx(ut,{value:"details",children:"Details"}),r.jsx(ut,{value:"images",children:"Images"}),r.jsx(ut,{value:"features",children:"Features"}),r.jsx(ut,{value:"videos",children:"Videos"}),r.jsx(ut,{value:"notes",children:"Notes"})]}),r.jsxs(ht,{value:"details",className:"space-y-4",children:[r.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Make"}),r.jsx("p",{className:"font-medium",children:e.make})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Model"}),r.jsx("p",{className:"font-medium",children:e.model})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Year"}),r.jsx("p",{className:"font-medium",children:e.year})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"VIN"}),r.jsx("p",{className:"font-medium font-mono",children:e.vin})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Type"}),r.jsx("p",{className:"font-medium",children:a(e.type)})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Location"}),r.jsx("p",{className:"font-medium",children:e.location})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Price"}),r.jsx("p",{className:"font-medium text-primary",children:Le(e.price)})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Cost"}),r.jsx("p",{className:"font-medium",children:Le(e.cost)})]})]}),r.jsxs("div",{className:"mt-6",children:[r.jsx("h3",{className:"text-lg font-semibold mb-3",children:"Specifications"}),r.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[((i=e.customFields)==null?void 0:i.exteriorColor)&&r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Exterior Color"}),r.jsx("p",{className:"font-medium",children:e.customFields.exteriorColor})]}),((o=e.customFields)==null?void 0:o.interiorColor)&&r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Interior Color"}),r.jsx("p",{className:"font-medium",children:e.customFields.interiorColor})]}),((l=e.customFields)==null?void 0:l.length)&&r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Length"}),r.jsxs("p",{className:"font-medium",children:[e.customFields.length," ft"]})]}),((c=e.customFields)==null?void 0:c.weight)&&r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Weight"}),r.jsxs("p",{className:"font-medium",children:[e.customFields.weight," lbs"]})]}),((d=e.customFields)==null?void 0:d.sleeps)&&r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Sleeps"}),r.jsx("p",{className:"font-medium",children:e.customFields.sleeps})]}),((p=e.customFields)==null?void 0:p.slideouts)&&r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Slideouts"}),r.jsx("p",{className:"font-medium",children:e.customFields.slideouts})]}),((u=e.customFields)==null?void 0:u.fuelType)&&r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Fuel Type"}),r.jsx("p",{className:"font-medium",children:e.customFields.fuelType})]}),((f=e.customFields)==null?void 0:f.mileage)&&r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Mileage"}),r.jsx("p",{className:"font-medium",children:e.customFields.mileage})]}),((m=e.customFields)==null?void 0:m.condition)&&r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Condition"}),r.jsx("p",{className:"font-medium",children:e.customFields.condition})]}),(e.type===at.SINGLE_WIDE||e.type===at.DOUBLE_WIDE||e.type===at.TRIPLE_WIDE||e.type===at.PARK_MODEL||e.type===at.MODULAR_HOME)&&r.jsxs(r.Fragment,{children:[((g=e.customFields)==null?void 0:g.squareFootage)&&r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Square Footage"}),r.jsxs("p",{className:"font-medium",children:[e.customFields.squareFootage," sq ft"]})]}),((b=e.customFields)==null?void 0:b.bedrooms)&&r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Bedrooms"}),r.jsx("p",{className:"font-medium",children:e.customFields.bedrooms})]}),((j=e.customFields)==null?void 0:j.bathrooms)&&r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Bathrooms"}),r.jsx("p",{className:"font-medium",children:e.customFields.bathrooms})]}),((x=e.customFields)==null?void 0:x.constructionType)&&r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Construction Type"}),r.jsx("p",{className:"font-medium",children:e.customFields.constructionType})]}),((v=e.customFields)==null?void 0:v.exteriorSiding)&&r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Exterior Siding"}),r.jsx("p",{className:"font-medium",children:e.customFields.exteriorSiding})]}),((y=e.customFields)==null?void 0:y.roofType)&&r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Roof Type"}),r.jsx("p",{className:"font-medium",children:e.customFields.roofType})]})]}),(e.type===at.SINGLE_WIDE||e.type===at.DOUBLE_WIDE||e.type===at.TRIPLE_WIDE||e.type===at.PARK_MODEL||e.type===at.MODULAR_HOME)&&r.jsxs(r.Fragment,{children:[((P=e.customFields)==null?void 0:P.squareFootage)&&r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Square Footage"}),r.jsxs("p",{className:"font-medium",children:[e.customFields.squareFootage," sq ft"]})]}),((M=e.customFields)==null?void 0:M.bedrooms)&&r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Bedrooms"}),r.jsx("p",{className:"font-medium",children:e.customFields.bedrooms})]}),((O=e.customFields)==null?void 0:O.bathrooms)&&r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Bathrooms"}),r.jsx("p",{className:"font-medium",children:e.customFields.bathrooms})]}),((E=e.customFields)==null?void 0:E.constructionType)&&r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Construction Type"}),r.jsx("p",{className:"font-medium",children:e.customFields.constructionType})]}),((S=e.customFields)==null?void 0:S.exteriorSiding)&&r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Exterior Siding"}),r.jsx("p",{className:"font-medium",children:e.customFields.exteriorSiding})]}),((k=e.customFields)==null?void 0:k.roofType)&&r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Roof Type"}),r.jsx("p",{className:"font-medium",children:e.customFields.roofType})]})]})]})]})]}),r.jsx(ht,{value:"images",children:e.images&&e.images.length>0?r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:e.images.map((w,T)=>r.jsx("div",{className:"overflow-hidden rounded-md",children:r.jsx("img",{src:w,alt:`${e.make} ${e.model} ${T+1}`,className:"w-full h-auto object-cover hover:scale-105 transition-transform duration-300"})},T))}):r.jsxs("div",{className:"text-center py-12 text-muted-foreground border-2 border-dashed rounded-lg",children:[r.jsx(pp,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground/50"}),r.jsx("p",{children:"No images available"})]})}),r.jsx(ht,{value:"features",children:e.features&&e.features.length>0?r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:e.features.map((w,T)=>r.jsxs("div",{className:"flex items-center p-2 bg-muted/30 rounded-md",children:[r.jsx(Hn,{className:"h-4 w-4 mr-2 text-primary"}),r.jsx("span",{children:w})]},T))}):r.jsxs("div",{className:"text-center py-12 text-muted-foreground border-2 border-dashed rounded-lg",children:[r.jsx(Hn,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground/50"}),r.jsx("p",{children:"No features listed"})]})}),r.jsx(ht,{value:"videos",children:(D=e.customFields)!=null&&D.videos&&e.customFields.videos.length>0?r.jsx("div",{className:"space-y-4",children:e.customFields.videos.map((w,T)=>r.jsx("div",{className:"p-3 bg-muted/30 rounded-md",children:r.jsxs("div",{className:"flex items-center mb-2",children:[r.jsx(hh,{className:"h-4 w-4 mr-2 text-primary"}),r.jsxs("a",{href:w,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline",children:["Video ",T+1]})]})},T))}):r.jsxs("div",{className:"text-center py-12 text-muted-foreground border-2 border-dashed rounded-lg",children:[r.jsx(hh,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground/50"}),r.jsx("p",{children:"No videos available"})]})}),r.jsx(ht,{value:"notes",children:(C=e.customFields)!=null&&C.notes?r.jsx("div",{className:"p-4 bg-muted/30 rounded-md whitespace-pre-wrap",children:e.customFields.notes}):r.jsxs("div",{className:"text-center py-12 text-muted-foreground border-2 border-dashed rounded-lg",children:[r.jsx(qn,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground/50"}),r.jsx("p",{children:"No notes available"})]})})]}),r.jsxs("div",{className:"flex justify-end space-x-3 pt-6 border-t",children:[r.jsx(ae,{variant:"outline",onClick:t,children:"Close"}),r.jsxs(ae,{onClick:()=>n(e),children:[r.jsx(ln,{className:"h-4 w-4 mr-2"}),"Edit Vehicle"]})]})]})]})})}function r_({onImport:e,onCancel:t}){const{toast:n}=Cr(),[s,a]=A.useState(null),[i,o]=A.useState([]),[l,c]=A.useState({}),[d,p]=A.useState(!1),[u,f]=A.useState("upload"),[m,g]=A.useState([]),b=["vin","make","model","year","price","cost"],j=[{key:"vin",label:"VIN"},{key:"make",label:"Make"},{key:"model",label:"Model"},{key:"year",label:"Year"},{key:"type",label:"Type"},{key:"status",label:"Status"},{key:"price",label:"Price"},{key:"cost",label:"Cost"},{key:"location",label:"Location"},{key:"features",label:"Features"},{key:"exteriorColor",label:"Exterior Color"},{key:"interiorColor",label:"Interior Color"},{key:"length",label:"Length"},{key:"weight",label:"Weight"},{key:"sleeps",label:"Sleeps"},{key:"slideouts",label:"Slideouts"},{key:"fuelType",label:"Fuel Type"},{key:"mileage",label:"Mileage"},{key:"condition",label:"Condition"}],x=k=>{var C;const D=(C=k.target.files)==null?void 0:C[0];D&&(a(D),jh.parse(D,{header:!0,skipEmptyLines:!0,complete:w=>{if(o(w.data),w.meta.fields){const T={};w.meta.fields.forEach(L=>{const W=L.toLowerCase().replace(/[^a-z0-9]/g,"");j.forEach(V=>{const _=V.key.toLowerCase();(W===_||W===V.label.toLowerCase().replace(/[^a-z0-9]/g,""))&&(T[L]=V.key)})}),c(T)}f("map")},error:w=>{n({title:"Error Parsing CSV",description:w.message,variant:"destructive"})}}))},v=(k,D)=>{c(C=>({...C,[k]:D}))},y=()=>{if(b.filter(D=>Object.values(l).includes(D)).length<b.length){n({title:"Missing Required Fields",description:`Please map all required fields: ${b.join(", ")}`,variant:"destructive"});return}f("preview"),g(i.map((D,C)=>C))},P=k=>{g(k?i.map((D,C)=>C):[])},M=k=>{m.includes(k)?g(m.filter(D=>D!==k)):g([...m,k])},O=async()=>{if(m.length===0){n({title:"No Rows Selected",description:"Please select at least one row to import",variant:"destructive"});return}p(!0);try{const k=m.map(D=>{const C=i[D],w={images:[],features:[],customFields:{}};return Object.entries(l).forEach(([T,L])=>{const W=C[T];L==="features"?w.features=W?W.split(",").map(V=>V.trim()):[]:L==="year"||L==="price"||L==="cost"?w[L]=parseFloat(W)||0:L==="type"?w.type=E(W):L==="status"?w.status=S(W):["exteriorColor","interiorColor","length","weight","sleeps","slideouts","fuelType","mileage","condition"].includes(L)?w.customFields={...w.customFields,[L]:W}:w[L]=W}),w});await e(k),n({title:"Import Successful",description:`Imported ${k.length} vehicles`})}catch{n({title:"Import Failed",description:"There was an error importing the vehicles",variant:"destructive"})}finally{p(!1)}},E=k=>{const D=k.toLowerCase().replace(/[^a-z0-9]/g,"");return D.includes("motorhome")?at.MOTORHOME:D.includes("travel")&&D.includes("trailer")?at.TRAVEL_TRAILER:D.includes("fifth")&&D.includes("wheel")?at.FIFTH_WHEEL:D.includes("toy")&&D.includes("hauler")?at.TOY_HAULER:at.RV},S=k=>{const D=k.toLowerCase().replace(/[^a-z0-9]/g,"");return D.includes("reserved")?_t.RESERVED:D.includes("sold")?_t.SOLD:D.includes("service")?_t.SERVICE:D.includes("delivered")?_t.DELIVERED:_t.AVAILABLE};return r.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:r.jsxs(me,{className:"w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[r.jsx(be,{children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx(je,{children:"Import Inventory from CSV"}),r.jsxs(Ke,{children:[u==="upload"&&"Upload a CSV file with your inventory data",u==="map"&&"Map CSV columns to vehicle fields",u==="preview"&&"Preview and select vehicles to import"]})]}),r.jsx(ae,{variant:"ghost",size:"sm",onClick:t,children:r.jsx(or,{className:"h-4 w-4"})})]})}),r.jsxs(fe,{children:[u==="upload"&&r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"border-2 border-dashed rounded-lg p-6 text-center",children:[r.jsx(qn,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground"}),r.jsx("p",{className:"text-muted-foreground mb-4",children:"Upload a CSV file with your inventory data"}),r.jsx(Be,{type:"file",accept:".csv",onChange:x,className:"max-w-sm mx-auto"})]}),r.jsxs("div",{className:"bg-muted/30 p-4 rounded-lg",children:[r.jsx("h3",{className:"font-medium mb-2",children:"CSV Format Guidelines"}),r.jsxs("ul",{className:"text-sm space-y-1 text-muted-foreground",children:[r.jsx("li",{children:" File should be in CSV format"}),r.jsx("li",{children:" First row should contain column headers"}),r.jsx("li",{children:" Required fields: VIN, Make, Model, Year, Price, Cost"}),r.jsx("li",{children:" Features should be comma-separated within quotes"})]})]}),r.jsx("div",{className:"flex justify-end",children:r.jsx(ae,{variant:"outline",onClick:t,children:"Cancel"})})]}),u==="map"&&r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"bg-muted/30 p-4 rounded-lg",children:[r.jsxs("h3",{className:"font-medium mb-2 flex items-center",children:[r.jsx(qn,{className:"h-4 w-4 mr-2"}),s==null?void 0:s.name]}),r.jsxs("p",{className:"text-sm text-muted-foreground",children:[i.length," rows found"]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsx("h3",{className:"font-medium",children:"Map CSV Columns to Vehicle Fields"}),r.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Required fields are marked with *"}),r.jsx("div",{className:"space-y-3 max-h-96 overflow-y-auto p-2",children:s&&i.length>0&&Object.keys(i[0]).map(k=>r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx("div",{className:"w-1/3 font-medium truncate",children:k}),r.jsx("div",{className:"w-2/3",children:r.jsxs("select",{value:l[k]||"",onChange:D=>v(k,D.target.value),className:"w-full p-2 border rounded-md",children:[r.jsx("option",{value:"",children:"-- Skip this field --"}),j.map(D=>r.jsxs("option",{value:D.key,children:[D.label," ",b.includes(D.key)?"*":""]},D.key))]})})]},k))})]}),r.jsxs("div",{className:"flex justify-end space-x-3",children:[r.jsx(ae,{variant:"outline",onClick:t,children:"Cancel"}),r.jsx(ae,{onClick:y,children:"Preview Data"})]})]}),u==="preview"&&r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Yn,{checked:m.length===i.length,onCheckedChange:P}),r.jsxs(Ae,{children:["Select All (",i.length," vehicles)"]})]}),r.jsxs(Re,{children:[m.length," selected"]})]}),r.jsx("div",{className:"border rounded-md overflow-hidden",children:r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{className:"bg-muted/50",children:r.jsxs("tr",{children:[r.jsx("th",{className:"p-2 text-left"}),Object.entries(l).filter(([k,D])=>D).map(([k,D])=>r.jsxs("th",{className:"p-2 text-left text-sm",children:[D,b.includes(D)&&r.jsx("span",{className:"text-red-500",children:"*"})]},k))]})}),r.jsx("tbody",{children:i.map((k,D)=>r.jsxs("tr",{className:"border-t hover:bg-muted/10",children:[r.jsx("td",{className:"p-2",children:r.jsx(Yn,{checked:m.includes(D),onCheckedChange:()=>M(D)})}),Object.entries(l).filter(([C,w])=>w).map(([C,w])=>r.jsx("td",{className:"p-2 text-sm",children:k[C]||r.jsx("span",{className:"text-muted-foreground italic",children:"Empty"})},C))]},D))})]})})}),r.jsxs("div",{className:"flex justify-end space-x-3",children:[r.jsx(ae,{variant:"outline",onClick:()=>f("map"),children:"Back to Mapping"}),r.jsx(ae,{onClick:O,disabled:d,children:d?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Importing..."]}):r.jsxs(r.Fragment,{children:[r.jsx(O4,{className:"h-4 w-4 mr-2"}),"Import ",m.length," Vehicles"]})})]})]})]})]})})}function n_({onScan:e,onClose:t}){const{toast:n}=Cr(),[s,a]=A.useState(!1),[i,o]=A.useState(null);A.useEffect(()=>{const d=setTimeout(()=>{a(!0)},1e3);return()=>clearTimeout(d)},[]);const l=()=>{const d="ABCDEFGHJKLMNPRSTUVWXYZ0123456789";let p="";for(let u=0;u<17;u++)p+=d.charAt(Math.floor(Math.random()*d.length));o(p),n({title:"Barcode Scanned",description:`VIN: ${p}`})},c=()=>{i&&e(i)};return r.jsx("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center z-[60]",children:r.jsxs(me,{className:"w-full max-w-md",children:[r.jsx(be,{children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx(je,{children:"Scan VIN Barcode"}),r.jsx(Ke,{children:"Position the barcode in front of your camera"})]}),r.jsx(ae,{variant:"ghost",size:"sm",onClick:t,children:r.jsx(or,{className:"h-4 w-4"})})]})}),r.jsxs(fe,{className:"space-y-4",children:[r.jsx("div",{className:"bg-black h-64 flex items-center justify-center rounded-md relative",children:s?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:r.jsx("div",{className:"w-3/4 h-1 bg-red-500 animate-pulse"})}),r.jsx("div",{className:"text-white text-sm absolute bottom-2 left-2",children:i?`Scanned: ${i}`:"Scanning..."})]}):r.jsx(Hc,{className:"h-12 w-12 text-white/50"})}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx(ae,{variant:"outline",onClick:t,children:"Cancel"}),i?r.jsxs(ae,{onClick:c,children:[r.jsx(Sy,{className:"h-4 w-4 mr-2"}),"Confirm"]}):r.jsx(ae,{onClick:l,children:"Simulate Scan"})]})]})]})})}function hw(){const{vehicles:e,createVehicle:t,updateVehicleStatus:n,deleteVehicle:s}=Fp(),{toast:a}=Cr(),[i,o]=A.useState(!1),[l,c]=A.useState(!1),[d,p]=A.useState(!1),[u,f]=A.useState(!1),[m,g]=A.useState(null),b=()=>{g(null),o(!0)},j=E=>{g(E),o(!0)},x=E=>{g(E),c(!0)},v=async E=>{if(window.confirm("Are you sure you want to delete this vehicle?"))try{await s(E),a({title:"Vehicle Deleted",description:"The vehicle has been removed from inventory"})}catch{a({title:"Error",description:"Failed to delete vehicle",variant:"destructive"})}},y=async(E,S)=>{try{await n(E,S),a({title:"Status Updated",description:`Vehicle status changed to ${S}`})}catch{a({title:"Error",description:"Failed to update vehicle status",variant:"destructive"})}},P=async E=>{try{m?(await n(m.id,E.status||m.status),a({title:"Vehicle Updated",description:"Vehicle information has been updated"})):(await t(E),a({title:"Vehicle Added",description:"New vehicle has been added to inventory"})),o(!1),g(null)}catch{a({title:"Error",description:`Failed to ${m?"update":"create"} vehicle`,variant:"destructive"})}},M=async E=>{try{for(const S of E)await t(S);p(!1),a({title:"Import Successful",description:`Imported ${E.length} vehicles`})}catch{a({title:"Import Failed",description:"There was an error importing the vehicles",variant:"destructive"})}},O=E=>{const S=e.find(k=>k.vin===E);S?(g(S),c(!0),a({title:"Vehicle Found",description:`Found existing vehicle with VIN: ${E}`})):(g(null),o(!0),setTimeout(()=>{const k=document.getElementById("vin");if(k){k.value=E;const D=new Event("input",{bubbles:!0});k.dispatchEvent(D)}},100),a({title:"New VIN Scanned",description:`Creating new vehicle with VIN: ${E}`})),f(!1)};return r.jsxs("div",{className:"space-y-8",children:[i&&r.jsx(e_,{vehicle:m||void 0,onSave:P,onCancel:()=>{o(!1),g(null)}}),l&&m&&r.jsx(t_,{vehicle:m,onClose:()=>c(!1),onEdit:j}),d&&r.jsx(r_,{onImport:M,onCancel:()=>p(!1)}),u&&r.jsx(n_,{onScan:O,onClose:()=>f(!1)}),r.jsx("div",{className:"ri-page-header",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"ri-page-title",children:"Inventory Management"}),r.jsx("p",{className:"ri-page-description",children:"Manage your RV and motorhome inventory"})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs(ae,{variant:"outline",onClick:()=>f(!0),children:[r.jsx(F4,{className:"h-4 w-4 mr-2"}),"Scan Barcode"]}),r.jsxs(ae,{variant:"outline",onClick:()=>p(!0),children:[r.jsx(O4,{className:"h-4 w-4 mr-2"}),"Import CSV"]}),r.jsxs(ae,{onClick:b,children:[r.jsx(It,{className:"h-4 w-4 mr-2"}),"Add Home"]})]})]})}),r.jsxs("div",{className:"ri-stats-grid",children:[r.jsxs(me,{className:"shadow-sm border-0 bg-gradient-to-br from-blue-50 to-blue-100/50",children:[r.jsxs(be,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(je,{className:"text-sm font-medium text-blue-900",children:"Total Units"}),r.jsx(Hn,{className:"h-4 w-4 text-blue-600"})]}),r.jsxs(fe,{children:[r.jsx("div",{className:"text-2xl font-bold text-blue-900",children:e.length}),r.jsxs("p",{className:"text-xs text-blue-600 flex items-center mt-1",children:[r.jsx(jt,{className:"h-3 w-3 mr-1"}),"+5 units this month"]})]})]}),r.jsxs(me,{className:"shadow-sm border-0 bg-gradient-to-br from-green-50 to-green-100/50",children:[r.jsxs(be,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(je,{className:"text-sm font-medium text-green-900",children:"Available"}),r.jsx(Hn,{className:"h-4 w-4 text-green-600"})]}),r.jsxs(fe,{children:[r.jsx("div",{className:"text-2xl font-bold text-green-900",children:e.filter(E=>E.status===_t.AVAILABLE).length}),r.jsxs("p",{className:"text-xs text-green-600 flex items-center mt-1",children:[r.jsx(jt,{className:"h-3 w-3 mr-1"}),"Ready for sale"]})]})]}),r.jsxs(me,{className:"shadow-sm border-0 bg-gradient-to-br from-yellow-50 to-yellow-100/50",children:[r.jsxs(be,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(je,{className:"text-sm font-medium text-yellow-900",children:"Reserved"}),r.jsx(Hn,{className:"h-4 w-4 text-yellow-600"})]}),r.jsxs(fe,{children:[r.jsx("div",{className:"text-2xl font-bold text-yellow-900",children:e.filter(E=>E.status===_t.RESERVED).length}),r.jsxs("p",{className:"text-xs text-yellow-600 flex items-center mt-1",children:[r.jsx(jt,{className:"h-3 w-3 mr-1"}),"Pending sale"]})]})]}),r.jsxs(me,{className:"shadow-sm border-0 bg-gradient-to-br from-purple-50 to-purple-100/50",children:[r.jsxs(be,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(je,{className:"text-sm font-medium text-purple-900",children:"Total Value"}),r.jsx(gr,{className:"h-4 w-4 text-purple-600"})]}),r.jsxs(fe,{children:[r.jsx("div",{className:"text-2xl font-bold text-purple-900",children:Le(e.reduce((E,S)=>E+S.price,0))}),r.jsxs("p",{className:"text-xs text-purple-600 flex items-center mt-1",children:[r.jsx(jt,{className:"h-3 w-3 mr-1"}),"Inventory value"]})]})]})]}),r.jsx(tF,{vehicles:e,onEdit:j,onDelete:v,onView:x,onStatusChange:y})]})}function s_(){return r.jsxs(Ln,{children:[r.jsx(Et,{path:"/",element:r.jsx(hw,{})}),r.jsx(Et,{path:"/*",element:r.jsx(hw,{})})]})}const a_=[{id:"1",customerId:"cust-1",vehicleId:"veh-1",items:[{id:"1",description:"2024 Forest River Georgetown",quantity:1,unitPrice:125e3,total:125e3},{id:"2",description:"Extended Warranty",quantity:1,unitPrice:2500,total:2500}],subtotal:127500,tax:10200,total:137700,status:Xs.SENT,validUntil:new Date("2024-02-15"),notes:"Customer interested in financing options",customFields:{},createdAt:new Date("2024-01-15"),updatedAt:new Date("2024-01-16")},{id:"2",customerId:"cust-2",vehicleId:"veh-2",items:[{id:"3",description:"2023 Winnebago View",quantity:1,unitPrice:89e3,total:89e3}],subtotal:89e3,tax:7120,total:96120,status:Xs.ACCEPTED,validUntil:new Date("2024-02-20"),notes:"Ready to proceed with purchase",customFields:{},createdAt:new Date("2024-01-12"),updatedAt:new Date("2024-01-18")}];function i_({quote:e,onClose:t,onEdit:n}){const s=a=>{switch(a){case"draft":return"bg-gray-50 text-gray-700 border-gray-200";case"sent":return"bg-blue-50 text-blue-700 border-blue-200";case"viewed":return"bg-yellow-50 text-yellow-700 border-yellow-200";case"accepted":return"bg-green-50 text-green-700 border-green-200";case"rejected":return"bg-red-50 text-red-700 border-red-200";case"expired":return"bg-orange-50 text-orange-700 border-orange-200";default:return"bg-gray-50 text-gray-700 border-gray-200"}};return r.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:r.jsxs(me,{className:"w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[r.jsx(be,{children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsxs(je,{className:"text-xl",children:["Quote #",e.id]}),r.jsx(Ke,{children:"Quote details and line items"})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsxs(ae,{onClick:()=>n(e),size:"sm",children:[r.jsx(ln,{className:"h-4 w-4 mr-2"}),"Edit Quote"]}),r.jsx(ae,{variant:"ghost",size:"sm",onClick:t,children:r.jsx(or,{className:"h-4 w-4"})})]})]})}),r.jsxs(fe,{className:"space-y-6",children:[r.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Customer ID"}),r.jsx("p",{className:"font-medium",children:e.customerId})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Status"}),r.jsx("div",{className:"mt-1",children:r.jsx(Re,{className:$e("ri-badge-status",s(e.status)),children:e.status.toUpperCase()})})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Created Date"}),r.jsx("p",{className:"font-medium",children:yt(e.createdAt)})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Valid Until"}),r.jsx("p",{className:"font-medium",children:yt(e.validUntil)})]})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Line Items"}),r.jsx("div",{className:"space-y-3",children:e.items.map((a,i)=>r.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[r.jsxs("div",{className:"flex-1",children:[r.jsx("h4",{className:"font-medium",children:a.description}),r.jsxs("p",{className:"text-sm text-muted-foreground",children:["Quantity: ",a.quantity,"  ",Le(a.unitPrice)]})]}),r.jsx("div",{className:"text-right",children:r.jsx("div",{className:"font-bold text-lg",children:Le(a.total)})})]},a.id))})]}),r.jsx("div",{className:"bg-muted/30 p-4 rounded-lg",children:r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{children:"Subtotal:"}),r.jsx("span",{children:Le(e.subtotal)})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{children:"Tax:"}),r.jsx("span",{children:Le(e.tax)})]}),r.jsxs("div",{className:"flex justify-between text-lg font-bold border-t pt-2",children:[r.jsx("span",{children:"Total:"}),r.jsx("span",{children:Le(e.total)})]})]})}),e.notes&&r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Notes"}),r.jsx("div",{className:"mt-1 p-3 bg-muted/30 rounded-md",children:r.jsx("p",{className:"text-sm",children:e.notes})})]})]})]})})}function xw(){const{toast:e}=Cr(),[t,n]=A.useState(a_),[s,a]=A.useState(""),[i,o]=A.useState("all"),[l,c]=A.useState(!1),[d,p]=A.useState(null),[u,f]=A.useState(null),[m,g]=A.useState(""),b=D=>{switch(D){case Xs.DRAFT:return"bg-gray-50 text-gray-700 border-gray-200";case Xs.SENT:return"bg-blue-50 text-blue-700 border-blue-200";case Xs.VIEWED:return"bg-yellow-50 text-yellow-700 border-yellow-200";case Xs.ACCEPTED:return"bg-green-50 text-green-700 border-green-200";case Xs.REJECTED:return"bg-red-50 text-red-700 border-red-200";case Xs.EXPIRED:return"bg-orange-50 text-orange-700 border-orange-200";default:return"bg-gray-50 text-gray-700 border-gray-200"}},j=t.filter(D=>{const C=D.id.toLowerCase().includes(s.toLowerCase())||D.customerId.toLowerCase().includes(s.toLowerCase()),w=i==="all"||D.status===i;return C&&w}),x=()=>{p(null),g(""),c(!0)},v=D=>{p(D),g(D.customerId),c(!0)},y=D=>{f(D)},P=()=>f(null),M=async D=>{try{if(d)n(C=>C.map(w=>w.id===d.id?{...w,...D,updatedAt:new Date}:w)),e({title:"Success",description:"Quote updated successfully"});else{const C={id:Math.random().toString(36).substr(2,9),...D,status:Xs.DRAFT,createdAt:new Date,updatedAt:new Date};n(w=>[...w,C]),e({title:"Success",description:"Quote created successfully"})}c(!1),p(null)}catch{e({title:"Error",description:"Failed to save quote",variant:"destructive"})}},O=async D=>{try{n(C=>C.map(w=>w.id===D?{...w,status:Xs.SENT,updatedAt:new Date}:w)),e({title:"Success",description:"Quote sent to customer"})}catch{e({title:"Error",description:"Failed to send quote",variant:"destructive"})}},E=async D=>{try{const C=t.find(w=>w.id===D);if(C){const w={...C,id:Math.random().toString(36).substr(2,9),status:Xs.DRAFT,createdAt:new Date,updatedAt:new Date};n(T=>[...T,w]),e({title:"Success",description:"Quote duplicated successfully"})}}catch{e({title:"Error",description:"Failed to duplicate quote",variant:"destructive"})}},S=async D=>{if(window.confirm("Are you sure you want to delete this quote?"))try{n(C=>C.filter(w=>w.id!==D)),e({title:"Success",description:"Quote deleted successfully"})}catch{e({title:"Error",description:"Failed to delete quote",variant:"destructive"})}},k={total:t.length,draft:t.filter(D=>D.status==="draft").length,sent:t.filter(D=>D.status==="sent").length,accepted:t.filter(D=>D.status==="accepted").length,totalValue:t.reduce((D,C)=>D+C.total,0),acceptedValue:t.filter(D=>D.status==="accepted").reduce((D,C)=>D+C.total,0)};return r.jsxs("div",{className:"space-y-8",children:[l&&r.jsx(CC,{quote:d,customerId:m,onSave:M,onCancel:()=>{c(!1),p(null)}}),u&&r.jsx(i_,{quote:u,onClose:P,onEdit:v}),r.jsx("div",{className:"ri-page-header",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"ri-page-title",children:"Quote Builder"}),r.jsx("p",{className:"ri-page-description",children:"Create and manage customer quotes with advanced pricing rules"})]}),r.jsxs(ae,{className:"shadow-sm",onClick:x,children:[r.jsx(It,{className:"h-4 w-4 mr-2"}),"New Quote"]})]})}),r.jsxs("div",{className:"ri-stats-grid",children:[r.jsxs(me,{className:"shadow-sm border-0 bg-gradient-to-br from-blue-50 to-blue-100/50",children:[r.jsxs(be,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(je,{className:"text-sm font-medium text-blue-900",children:"Total Quotes"}),r.jsx(qn,{className:"h-4 w-4 text-blue-600"})]}),r.jsxs(fe,{children:[r.jsx("div",{className:"text-2xl font-bold text-blue-900",children:k.total}),r.jsxs("p",{className:"text-xs text-blue-600 flex items-center mt-1",children:[r.jsx(jt,{className:"h-3 w-3 mr-1"}),"All quotes"]})]})]}),r.jsxs(me,{className:"shadow-sm border-0 bg-gradient-to-br from-yellow-50 to-yellow-100/50",children:[r.jsxs(be,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(je,{className:"text-sm font-medium text-yellow-900",children:"Pending"}),r.jsx(qn,{className:"h-4 w-4 text-yellow-600"})]}),r.jsxs(fe,{children:[r.jsx("div",{className:"text-2xl font-bold text-yellow-900",children:k.sent}),r.jsxs("p",{className:"text-xs text-yellow-600 flex items-center mt-1",children:[r.jsx(jt,{className:"h-3 w-3 mr-1"}),"Awaiting response"]})]})]}),r.jsxs(me,{className:"shadow-sm border-0 bg-gradient-to-br from-green-50 to-green-100/50",children:[r.jsxs(be,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(je,{className:"text-sm font-medium text-green-900",children:"Accepted"}),r.jsx(qn,{className:"h-4 w-4 text-green-600"})]}),r.jsxs(fe,{children:[r.jsx("div",{className:"text-2xl font-bold text-green-900",children:k.accepted}),r.jsxs("p",{className:"text-xs text-green-600 flex items-center mt-1",children:[r.jsx(jt,{className:"h-3 w-3 mr-1"}),k.total>0?Math.round(k.accepted/k.total*100):0,"% acceptance rate"]})]})]}),r.jsxs(me,{className:"shadow-sm border-0 bg-gradient-to-br from-purple-50 to-purple-100/50",children:[r.jsxs(be,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(je,{className:"text-sm font-medium text-purple-900",children:"Quote Value"}),r.jsx(gr,{className:"h-4 w-4 text-purple-600"})]}),r.jsxs(fe,{children:[r.jsx("div",{className:"text-2xl font-bold text-purple-900",children:Le(k.totalValue)}),r.jsxs("p",{className:"text-xs text-purple-600 flex items-center mt-1",children:[r.jsx(gr,{className:"h-3 w-3 mr-1"}),Le(k.acceptedValue)," accepted"]})]})]})]}),r.jsxs("div",{className:"flex gap-4",children:[r.jsxs("div",{className:"ri-search-bar",children:[r.jsx(ss,{className:"ri-search-icon"}),r.jsx(Be,{placeholder:"Search quotes...",value:s,onChange:D=>a(D.target.value),className:"ri-search-input shadow-sm"})]}),r.jsxs(lt,{value:i,onValueChange:o,children:[r.jsx(it,{className:"w-40",children:r.jsx(ct,{placeholder:"Status"})}),r.jsxs(ot,{children:[r.jsx(oe,{value:"all",children:"All Status"}),r.jsx(oe,{value:"draft",children:"Draft"}),r.jsx(oe,{value:"sent",children:"Sent"}),r.jsx(oe,{value:"viewed",children:"Viewed"}),r.jsx(oe,{value:"accepted",children:"Accepted"}),r.jsx(oe,{value:"rejected",children:"Rejected"}),r.jsx(oe,{value:"expired",children:"Expired"})]})]}),r.jsxs(ae,{variant:"outline",className:"shadow-sm",children:[r.jsx(zs,{className:"h-4 w-4 mr-2"}),"Filter"]})]}),r.jsxs(me,{className:"shadow-sm",children:[r.jsxs(be,{children:[r.jsxs(je,{className:"text-xl",children:["Quotes (",j.length,")"]}),r.jsx(Ke,{children:"Manage customer quotes with advanced pricing and bundling"})]}),r.jsx(fe,{children:r.jsxs("div",{className:"space-y-4",children:[j.map(D=>r.jsxs("div",{className:"ri-table-row",children:[r.jsx("div",{className:"flex items-center space-x-4 flex-1",children:r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[r.jsxs("h3",{className:"font-semibold text-foreground",children:["Quote #",D.id]}),r.jsx(Re,{className:$e("ri-badge-status",b(D.status)),children:D.status.toUpperCase()})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm text-muted-foreground",children:[r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Customer:"})," ",D.customerId]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Total:"}),r.jsx("span",{className:"font-bold text-primary ml-1",children:Le(D.total)})]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Created:"})," ",yt(D.createdAt)]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Valid Until:"})," ",yt(D.validUntil)]})]}),r.jsxs("div",{className:"mt-2 bg-muted/30 p-2 rounded-md",children:[r.jsxs("p",{className:"text-sm text-muted-foreground",children:[D.items.length," item(s)"]}),D.notes&&r.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:[r.jsx("span",{className:"font-medium",children:"Notes:"})," ",D.notes]})]})]})}),r.jsxs("div",{className:"ri-action-buttons",children:[r.jsxs(ae,{variant:"outline",size:"sm",className:"shadow-sm",onClick:()=>y(D),children:[r.jsx(Qo,{className:"h-3 w-3 mr-1"}),"View"]}),r.jsxs(ae,{variant:"outline",size:"sm",className:"shadow-sm",onClick:()=>v(D),children:[r.jsx(ln,{className:"h-3 w-3 mr-1"}),"Edit"]}),D.status==="draft"&&r.jsxs(ae,{variant:"outline",size:"sm",className:"shadow-sm",onClick:()=>O(D.id),children:[r.jsx(Zc,{className:"h-3 w-3 mr-1"}),"Send"]}),r.jsxs(ae,{variant:"outline",size:"sm",className:"shadow-sm",onClick:()=>E(D.id),children:[r.jsx(Cy,{className:"h-3 w-3 mr-1"}),"Copy"]}),r.jsx(ae,{variant:"outline",size:"sm",className:"shadow-sm text-red-600 hover:text-red-700",onClick:()=>S(D.id),children:r.jsx(ys,{className:"h-3 w-3"})})]})]},D.id)),j.length===0&&r.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[r.jsx(qn,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground/50"}),r.jsx("p",{children:"No quotes found"}),r.jsx("p",{className:"text-sm",children:"Create your first quote to get started"})]})]})})]})]})}function o_(){return r.jsxs(Ln,{children:[r.jsx(Et,{path:"/",element:r.jsx(xw,{})}),r.jsx(Et,{path:"/*",element:r.jsx(xw,{})})]})}function l_({onSave:e,onCancel:t,onAddNewCustomer:n,preselectedCustomerId:s}){useToast();const{leads:a}=useLeadManagement();useInventoryManagement(),useState(!1),useState(!1),useState(null);const[i,o]=useState({customerId:s||"",customerName:"",vehicleId:"",vehicleInfo:"",amount:0,downPayment:0,term:60,rate:6.99,paymentAmount:0,startDate:new Date().toISOString().split("T")[0],status:"active",notes:"",loanType:"standard",paymentFrequency:"monthly",includeInsurance:!1,insuranceAmount:0,includeTax:!1,taxRate:0});useEffect(()=>{s&&o(l=>({...l,customerId:s}))},[s]),useEffect(()=>{if(i.customerId){const l=a.find(c=>c.id===i.customerId);l&&o(c=>({...c,customerName:`${l.firstName} ${l.lastName}`}))}},[i.customerId,a])}const c_=[];function gw(){const[e,t]=A.useState(c_);A.useState(!1);const[n,s]=A.useState(!1),[a,i]=A.useState(null),[o,l]=A.useState(!1);A.useState("dashboard"),A.useState("");const{toast:c}=Cr(),d=u=>{c({title:"Customer Added",description:`${u.firstName} ${u.lastName} has been added.`}),i(u.id),l(!1),s(!0)},p=async u=>{const f={id:Math.random().toString(36).substr(2,9),customerId:u.customerId,customerName:u.customerName,vehicleId:u.vehicleId,vehicleInfo:u.vehicleInfo,amount:u.amount,downPayment:u.downPayment,term:u.term,rate:u.rate,paymentAmount:u.paymentAmount,startDate:new Date(u.startDate),status:u.status,remainingBalance:u.amount-u.downPayment,nextPaymentDate:new Date(new Date(u.startDate).setMonth(new Date(u.startDate).getMonth()+1)),createdAt:new Date};t([...e,f]),s(!1),c({title:"Success",description:"Loan created successfully"})};return r.jsxs("div",{className:"space-y-8",children:[o&&r.jsx(Ad,{onClose:()=>l(!1),onSuccess:d}),n&&r.jsx(l_,{preselectedCustomerId:a,onSave:p,onCancel:()=>s(!1),onAddNewCustomer:()=>{s(!1),l(!0)}})]})}function d_(){return r.jsxs(Ln,{children:[r.jsx(Et,{path:"/",element:r.jsx(gw,{})}),r.jsx(Et,{path:"/*",element:r.jsx(gw,{})})]})}var pt=(e=>(e.PROSPECTING="prospecting",e.QUALIFICATION="qualification",e.NEEDS_ANALYSIS="needs_analysis",e.PROPOSAL="proposal",e.NEGOTIATION="negotiation",e.CLOSED_WON="closed_won",e.CLOSED_LOST="closed_lost",e))(pt||{}),rr=(e=>(e.ACTIVE="active",e.WON="won",e.LOST="lost",e.ON_HOLD="on_hold",e.CANCELLED="cancelled",e))(rr||{}),si=(e=>(e.LOW="low",e.MEDIUM="medium",e.HIGH="high",e.CRITICAL="critical",e))(si||{}),uo=(e=>(e.GEOGRAPHIC="geographic",e.INDUSTRY="industry",e.ACCOUNT_SIZE="account_size",e.PRODUCT_LINE="product_line",e))(uo||{});function u_(){const[e,t]=A.useState([]),[n,s]=A.useState([]),[a,i]=A.useState([]),[o,l]=A.useState([]),[c,d]=A.useState([]),[p,u]=A.useState(!1);A.useEffect(()=>{f()},[]);const f=()=>{const L=En("renter-insight-deals",[{id:"1",name:"Georgetown Class A Sale - Smith Family",customerId:"cust-001",customerName:"John & Mary Smith",stage:pt.PROPOSAL,status:rr.ACTIVE,priority:"high",value:145e3,probability:75,expectedCloseDate:new Date("2024-02-15"),assignedTo:"rep-001",territoryId:"territory-001",sourceId:"source-001",competitorIds:["comp-001"],products:[{id:"1",productId:"prod-001",productName:"2024 Forest River Georgetown",quantity:1,unitPrice:125e3,discount:5e3,total:12e4},{id:"2",productId:"prod-002",productName:"Extended Warranty Package",quantity:1,unitPrice:3500,discount:0,total:3500}],stageHistory:[],notes:"Customer very interested, financing pre-approved",requiresApproval:!0,approvalStatus:"pending",customFields:{tradeInValue:25e3,financingType:"bank_loan"},createdAt:new Date("2024-01-10"),updatedAt:new Date("2024-01-20")},{id:"2",name:"Travel Trailer - Johnson Family",customerId:"cust-002",customerName:"Sarah Johnson",stage:pt.NEGOTIATION,status:rr.ACTIVE,priority:"medium",value:75e3,probability:85,expectedCloseDate:new Date("2024-02-10"),assignedTo:"rep-002",territoryId:"territory-002",competitorIds:[],products:[{id:"3",productId:"prod-003",productName:"2024 Airstream Flying Cloud",quantity:1,unitPrice:75e3,discount:2e3,total:73e3}],stageHistory:[],notes:"Ready to close, just finalizing delivery details",requiresApproval:!1,customFields:{},createdAt:new Date("2024-01-05"),updatedAt:new Date("2024-01-18")}]),W=En("renter-insight-territories",[{id:"territory-001",name:"North Region",type:"geographic",description:"Northern states territory",assignedTo:["rep-001","rep-003"],rules:[{id:"1",field:"state",operator:"in_range",value:["IL","WI","MN","IA"],priority:1}],isActive:!0,createdAt:new Date("2024-01-01"),updatedAt:new Date("2024-01-01")},{id:"territory-002",name:"South Region",type:"geographic",description:"Southern states territory",assignedTo:["rep-002"],rules:[{id:"2",field:"state",operator:"in_range",value:["TX","FL","GA","NC"],priority:1}],isActive:!0,createdAt:new Date("2024-01-01"),updatedAt:new Date("2024-01-01")}]),V=En("renter-insight-stage-history",[{id:"1",dealId:"1",fromStage:pt.QUALIFICATION,toStage:pt.NEEDS_ANALYSIS,changedBy:"rep-001",changedAt:new Date("2024-01-12"),duration:48,notes:"Customer qualified, moving to needs analysis"},{id:"2",dealId:"1",fromStage:pt.NEEDS_ANALYSIS,toStage:pt.PROPOSAL,changedBy:"rep-001",changedAt:new Date("2024-01-18"),duration:144,notes:"Proposal prepared and presented"}]);t(L),s(W),d(V)},m=L=>{Xr("renter-insight-deals",L)},g=L=>{Xr("renter-insight-stage-history",L)},b=async L=>{u(!0);try{const W={id:Math.random().toString(36).substr(2,9),name:L.name||"",customerId:L.customerId||"",customerName:L.customerName||"",stage:pt.PROSPECTING,status:rr.ACTIVE,priority:L.priority||"medium",value:L.value||0,probability:10,expectedCloseDate:L.expectedCloseDate||new Date,assignedTo:L.assignedTo||"",territoryId:L.territoryId||"",sourceId:L.sourceId,competitorIds:L.competitorIds||[],products:L.products||[],stageHistory:[],notes:L.notes||"",requiresApproval:(L.value||0)>1e5,customFields:L.customFields||{},createdAt:new Date,updatedAt:new Date},V=[...e,W];return t(V),m(V),await x(W.id,void 0,pt.PROSPECTING,"system"),W}finally{u(!1)}},j=async(L,W,V)=>{const _=e.find($=>$.id===L);if(!_)return;const B=_.stage,U=y(W),q=W===pt.CLOSED_WON?rr.WON:W===pt.CLOSED_LOST?rr.LOST:rr.ACTIVE,H=W===pt.CLOSED_WON||W===pt.CLOSED_LOST?new Date:void 0,R=e.map($=>$.id===L?{...$,stage:W,probability:U,status:q,actualCloseDate:H,updatedAt:new Date}:$);return t(R),m(R),await x(L,B,W,"current-user",V||`Stage changed from ${(B==null?void 0:B.replace("_"," "))||"none"} to ${W.replace("_"," ")}`),R.find($=>$.id===L)},x=async(L,W,V,_,B)=>{const U=W?v(L,W):void 0,q={id:Math.random().toString(36).substr(2,9),dealId:L,fromStage:W,toStage:V,changedBy:_,changedAt:new Date,duration:U,notes:B},H=[...c,q];d(H),g(H)},v=(L,W)=>{const _=c.filter(B=>B.dealId===L).find(B=>B.toStage===W);return _?Math.floor((Date.now()-_.changedAt.getTime())/36e5):0},y=L=>{switch(L){case pt.PROSPECTING:return 10;case pt.QUALIFICATION:return 25;case pt.NEEDS_ANALYSIS:return 40;case pt.PROPOSAL:return 60;case pt.NEGOTIATION:return 80;case pt.CLOSED_WON:return 100;case pt.CLOSED_LOST:return 0;default:return 10}},P=async(L,W)=>{const V=n.find(_=>_.isActive);if(V){const _=e.map(B=>B.id===L?{...B,territoryId:V.id,updatedAt:new Date}:B);t(_),m(_)}},M=async(L,W)=>{const V={id:Math.random().toString(36).substr(2,9),dealId:L,workflowType:W,currentStep:1,totalSteps:2,steps:[{id:"1",stepNumber:1,approverRole:"sales_manager",approverIds:["manager-001"],requiredApprovals:1,currentApprovals:[],status:"pending"},{id:"2",stepNumber:2,approverRole:"sales_director",approverIds:["director-001"],requiredApprovals:1,currentApprovals:[],status:"pending"}],status:"pending",requestedBy:"current-user",requestedAt:new Date};return i(_=>[..._,V]),V},O=async(L,W,V)=>{const _={id:Math.random().toString(36).substr(2,9),dealId:L,outcome:W,primaryReason:V.primaryReason||"",secondaryReasons:V.secondaryReasons||[],competitorWon:V.competitorWon,feedback:V.feedback||"",lessonsLearned:V.lessonsLearned||[],actionItems:V.actionItems||[],reportedBy:"current-user",reportedAt:new Date};return l(B=>[...B,_]),_},E=()=>{const L=e.length,W=e.reduce(($,G)=>$+G.value,0),V=e.filter($=>$.status===rr.WON).length,_=e.filter($=>$.status===rr.WON).reduce(($,G)=>$+G.value,0),B=e.filter($=>$.status===rr.LOST).length,U=e.filter($=>$.status===rr.LOST).reduce(($,G)=>$+G.value,0),q=L>0?V/L*100:0,H=L>0?W/L:0,R=S();return{totalDeals:L,totalValue:W,wonDeals:V,wonValue:_,lostDeals:B,lostValue:U,winRate:q,averageDealSize:H,averageSalesCycle:R,conversionRates:k()}},S=()=>{const L=e.filter(V=>V.actualCloseDate);return L.length===0?0:L.reduce((V,_)=>{const B=new Date(_.actualCloseDate),U=new Date(_.createdAt),q=isNaN(B.getTime())?0:B.getTime(),H=isNaN(U.getTime())?0:U.getTime(),R=q&&H?Math.floor((q-H)/(1e3*60*60*24)):0;return V+R},0)/L.length},k=()=>[{fromStage:pt.PROSPECTING,toStage:pt.QUALIFICATION,rate:65,averageDuration:72},{fromStage:pt.QUALIFICATION,toStage:pt.NEEDS_ANALYSIS,rate:75,averageDuration:48},{fromStage:pt.NEEDS_ANALYSIS,toStage:pt.PROPOSAL,rate:80,averageDuration:96},{fromStage:pt.PROPOSAL,toStage:pt.NEGOTIATION,rate:70,averageDuration:120},{fromStage:pt.NEGOTIATION,toStage:pt.CLOSED_WON,rate:85,averageDuration:168}];return{deals:e,territories:n,approvalWorkflows:a,winLossReports:o,stageHistory:c,loading:p,createDeal:b,updateDealStage:j,assignTerritory:P,createApprovalWorkflow:M,createWinLossReport:O,getDealMetrics:E,getDealsByStage:L=>e.filter(W=>W.stage===L),getDealsByTerritory:L=>e.filter(W=>W.territoryId===L),getDealsByRep:L=>e.filter(W=>W.assignedTo===L),getStageHistory:L=>c.filter(W=>W.dealId===L).sort((W,V)=>new Date(W.changedAt).getTime()-new Date(V.changedAt).getTime())}}function e1(e,t){return e1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},e1(e,t)}function BC(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e1(e,t)}function Yt(e){"@babel/helpers - typeof";return Yt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Yt(e)}function p_(e,t){if(Yt(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if(Yt(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function m_(e){var t=p_(e,"string");return Yt(t)=="symbol"?t:t+""}function f_(e,t,n){return(t=m_(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function vw(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,s)}return n}function yw(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?vw(Object(n),!0).forEach(function(s){f_(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vw(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function ps(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var bw=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),mv=function(){return Math.random().toString(36).substring(7).split("").join(".")},jw={INIT:"@@redux/INIT"+mv(),REPLACE:"@@redux/REPLACE"+mv(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+mv()}};function h_(e){if(typeof e!="object"||e===null)return!1;for(var t=e;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function zC(e,t,n){var s;if(typeof t=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(ps(0));if(typeof t=="function"&&typeof n>"u"&&(n=t,t=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(ps(1));return n(zC)(e,t)}if(typeof e!="function")throw new Error(ps(2));var a=e,i=t,o=[],l=o,c=!1;function d(){l===o&&(l=o.slice())}function p(){if(c)throw new Error(ps(3));return i}function u(b){if(typeof b!="function")throw new Error(ps(4));if(c)throw new Error(ps(5));var j=!0;return d(),l.push(b),function(){if(j){if(c)throw new Error(ps(6));j=!1,d();var v=l.indexOf(b);l.splice(v,1),o=null}}}function f(b){if(!h_(b))throw new Error(ps(7));if(typeof b.type>"u")throw new Error(ps(8));if(c)throw new Error(ps(9));try{c=!0,i=a(i,b)}finally{c=!1}for(var j=o=l,x=0;x<j.length;x++){var v=j[x];v()}return b}function m(b){if(typeof b!="function")throw new Error(ps(10));a=b,f({type:jw.REPLACE})}function g(){var b,j=u;return b={subscribe:function(v){if(typeof v!="object"||v===null)throw new Error(ps(11));function y(){v.next&&v.next(p())}y();var P=j(y);return{unsubscribe:P}}},b[bw]=function(){return this},b}return f({type:jw.INIT}),s={dispatch:f,subscribe:u,getState:p,replaceReducer:m},s[bw]=g,s}function ww(e,t){return function(){return t(e.apply(this,arguments))}}function Nw(e,t){if(typeof e=="function")return ww(e,t);if(typeof e!="object"||e===null)throw new Error(ps(16));var n={};for(var s in e){var a=e[s];typeof a=="function"&&(n[s]=ww(a,t))}return n}function $C(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.length===0?function(s){return s}:t.length===1?t[0]:t.reduce(function(s,a){return function(){return s(a.apply(void 0,arguments))}})}function x_(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(s){return function(){var a=s.apply(void 0,arguments),i=function(){throw new Error(ps(15))},o={getState:a.getState,dispatch:function(){return i.apply(void 0,arguments)}},l=t.map(function(c){return c(o)});return i=$C.apply(void 0,l)(a.dispatch),yw(yw({},a),{},{dispatch:i})}}}var UC=Dt.createContext(null);function g_(e){e()}var VC=g_,v_=function(t){return VC=t},y_=function(){return VC};function b_(){var e=y_(),t=null,n=null;return{clear:function(){t=null,n=null},notify:function(){e(function(){for(var a=t;a;)a.callback(),a=a.next})},get:function(){for(var a=[],i=t;i;)a.push(i),i=i.next;return a},subscribe:function(a){var i=!0,o=n={callback:a,next:null,prev:n};return o.prev?o.prev.next=o:t=o,function(){!i||t===null||(i=!1,o.next?o.next.prev=o.prev:n=o.prev,o.prev?o.prev.next=o.next:t=o.next)}}}}var Sw={notify:function(){},get:function(){return[]}};function WC(e,t){var n,s=Sw;function a(u){return c(),s.subscribe(u)}function i(){s.notify()}function o(){p.onStateChange&&p.onStateChange()}function l(){return!!n}function c(){n||(n=t?t.addNestedSub(o):e.subscribe(o),s=b_())}function d(){n&&(n(),n=void 0,s.clear(),s=Sw)}var p={addNestedSub:a,notifyNestedSubs:i,handleChangeWrapper:o,isSubscribed:l,trySubscribe:c,tryUnsubscribe:d,getListeners:function(){return s}};return p}var qC=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?A.useLayoutEffect:A.useEffect;function j_(e){var t=e.store,n=e.context,s=e.children,a=A.useMemo(function(){var l=WC(t);return{store:t,subscription:l}},[t]),i=A.useMemo(function(){return t.getState()},[t]);qC(function(){var l=a.subscription;return l.onStateChange=l.notifyNestedSubs,l.trySubscribe(),i!==t.getState()&&l.notifyNestedSubs(),function(){l.tryUnsubscribe(),l.onStateChange=null}},[a,i]);var o=n||UC;return Dt.createElement(o.Provider,{value:a},s)}function Ch(e,t){if(e==null)return{};var n={};for(var s in e)if({}.hasOwnProperty.call(e,s)){if(t.indexOf(s)!==-1)continue;n[s]=e[s]}return n}var HC={exports:{}},sr={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yn=typeof Symbol=="function"&&Symbol.for,Hy=yn?Symbol.for("react.element"):60103,Gy=yn?Symbol.for("react.portal"):60106,px=yn?Symbol.for("react.fragment"):60107,mx=yn?Symbol.for("react.strict_mode"):60108,fx=yn?Symbol.for("react.profiler"):60114,hx=yn?Symbol.for("react.provider"):60109,xx=yn?Symbol.for("react.context"):60110,Qy=yn?Symbol.for("react.async_mode"):60111,gx=yn?Symbol.for("react.concurrent_mode"):60111,vx=yn?Symbol.for("react.forward_ref"):60112,yx=yn?Symbol.for("react.suspense"):60113,w_=yn?Symbol.for("react.suspense_list"):60120,bx=yn?Symbol.for("react.memo"):60115,jx=yn?Symbol.for("react.lazy"):60116,N_=yn?Symbol.for("react.block"):60121,S_=yn?Symbol.for("react.fundamental"):60117,C_=yn?Symbol.for("react.responder"):60118,A_=yn?Symbol.for("react.scope"):60119;function $s(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case Hy:switch(e=e.type,e){case Qy:case gx:case px:case fx:case mx:case yx:return e;default:switch(e=e&&e.$$typeof,e){case xx:case vx:case jx:case bx:case hx:return e;default:return t}}case Gy:return t}}}function GC(e){return $s(e)===gx}sr.AsyncMode=Qy;sr.ConcurrentMode=gx;sr.ContextConsumer=xx;sr.ContextProvider=hx;sr.Element=Hy;sr.ForwardRef=vx;sr.Fragment=px;sr.Lazy=jx;sr.Memo=bx;sr.Portal=Gy;sr.Profiler=fx;sr.StrictMode=mx;sr.Suspense=yx;sr.isAsyncMode=function(e){return GC(e)||$s(e)===Qy};sr.isConcurrentMode=GC;sr.isContextConsumer=function(e){return $s(e)===xx};sr.isContextProvider=function(e){return $s(e)===hx};sr.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===Hy};sr.isForwardRef=function(e){return $s(e)===vx};sr.isFragment=function(e){return $s(e)===px};sr.isLazy=function(e){return $s(e)===jx};sr.isMemo=function(e){return $s(e)===bx};sr.isPortal=function(e){return $s(e)===Gy};sr.isProfiler=function(e){return $s(e)===fx};sr.isStrictMode=function(e){return $s(e)===mx};sr.isSuspense=function(e){return $s(e)===yx};sr.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===px||e===gx||e===fx||e===mx||e===yx||e===w_||typeof e=="object"&&e!==null&&(e.$$typeof===jx||e.$$typeof===bx||e.$$typeof===hx||e.$$typeof===xx||e.$$typeof===vx||e.$$typeof===S_||e.$$typeof===C_||e.$$typeof===A_||e.$$typeof===N_)};sr.typeOf=$s;HC.exports=sr;var E_=HC.exports,Yy=E_,I_={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},P_={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},k_={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},QC={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},Ky={};Ky[Yy.ForwardRef]=k_;Ky[Yy.Memo]=QC;function Cw(e){return Yy.isMemo(e)?QC:Ky[e.$$typeof]||I_}var D_=Object.defineProperty,L_=Object.getOwnPropertyNames,Aw=Object.getOwnPropertySymbols,T_=Object.getOwnPropertyDescriptor,R_=Object.getPrototypeOf,Ew=Object.prototype;function YC(e,t,n){if(typeof t!="string"){if(Ew){var s=R_(t);s&&s!==Ew&&YC(e,s,n)}var a=L_(t);Aw&&(a=a.concat(Aw(t)));for(var i=Cw(e),o=Cw(t),l=0;l<a.length;++l){var c=a[l];if(!P_[c]&&!(n&&n[c])&&!(o&&o[c])&&!(i&&i[c])){var d=T_(t,c);try{D_(e,c,d)}catch{}}}}return e}var F_=YC;const Iw=Cp(F_);var KC={exports:{}},mr={};/** @license React v17.0.2
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wx=60103,Nx=60106,_p=60107,Op=60108,Mp=60114,Bp=60109,zp=60110,$p=60112,Up=60113,Xy=60120,Vp=60115,Wp=60116,XC=60121,JC=60122,ZC=60117,eA=60129,tA=60131;if(typeof Symbol=="function"&&Symbol.for){var Nn=Symbol.for;wx=Nn("react.element"),Nx=Nn("react.portal"),_p=Nn("react.fragment"),Op=Nn("react.strict_mode"),Mp=Nn("react.profiler"),Bp=Nn("react.provider"),zp=Nn("react.context"),$p=Nn("react.forward_ref"),Up=Nn("react.suspense"),Xy=Nn("react.suspense_list"),Vp=Nn("react.memo"),Wp=Nn("react.lazy"),XC=Nn("react.block"),JC=Nn("react.server.block"),ZC=Nn("react.fundamental"),eA=Nn("react.debug_trace_mode"),tA=Nn("react.legacy_hidden")}function Oa(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case wx:switch(e=e.type,e){case _p:case Mp:case Op:case Up:case Xy:return e;default:switch(e=e&&e.$$typeof,e){case zp:case $p:case Wp:case Vp:case Bp:return e;default:return t}}case Nx:return t}}}var __=Bp,O_=wx,M_=$p,B_=_p,z_=Wp,$_=Vp,U_=Nx,V_=Mp,W_=Op,q_=Up;mr.ContextConsumer=zp;mr.ContextProvider=__;mr.Element=O_;mr.ForwardRef=M_;mr.Fragment=B_;mr.Lazy=z_;mr.Memo=$_;mr.Portal=U_;mr.Profiler=V_;mr.StrictMode=W_;mr.Suspense=q_;mr.isAsyncMode=function(){return!1};mr.isConcurrentMode=function(){return!1};mr.isContextConsumer=function(e){return Oa(e)===zp};mr.isContextProvider=function(e){return Oa(e)===Bp};mr.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===wx};mr.isForwardRef=function(e){return Oa(e)===$p};mr.isFragment=function(e){return Oa(e)===_p};mr.isLazy=function(e){return Oa(e)===Wp};mr.isMemo=function(e){return Oa(e)===Vp};mr.isPortal=function(e){return Oa(e)===Nx};mr.isProfiler=function(e){return Oa(e)===Mp};mr.isStrictMode=function(e){return Oa(e)===Op};mr.isSuspense=function(e){return Oa(e)===Up};mr.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===_p||e===Mp||e===eA||e===Op||e===Up||e===Xy||e===tA||typeof e=="object"&&e!==null&&(e.$$typeof===Wp||e.$$typeof===Vp||e.$$typeof===Bp||e.$$typeof===zp||e.$$typeof===$p||e.$$typeof===ZC||e.$$typeof===XC||e[0]===JC)};mr.typeOf=Oa;KC.exports=mr;var H_=KC.exports,G_=["getDisplayName","methodName","renderCountProp","shouldHandleStateChanges","storeKey","withRef","forwardRef","context"],Q_=["reactReduxForwardedRef"],Y_=[],K_=[null,null];function X_(e,t){var n=e[1];return[t.payload,n+1]}function Pw(e,t,n){qC(function(){return e.apply(void 0,t)},n)}function J_(e,t,n,s,a,i,o){e.current=s,t.current=a,n.current=!1,i.current&&(i.current=null,o())}function Z_(e,t,n,s,a,i,o,l,c,d){if(e){var p=!1,u=null,f=function(){if(!p){var b=t.getState(),j,x;try{j=s(b,a.current)}catch(v){x=v,u=v}x||(u=null),j===i.current?o.current||c():(i.current=j,l.current=j,o.current=!0,d({type:"STORE_UPDATED",payload:{error:x}}))}};n.onStateChange=f,n.trySubscribe(),f();var m=function(){if(p=!0,n.tryUnsubscribe(),n.onStateChange=null,u)throw u};return m}}var eO=function(){return[null,0]};function tO(e,t){t===void 0&&(t={});var n=t,s=n.getDisplayName,a=s===void 0?function(y){return"ConnectAdvanced("+y+")"}:s,i=n.methodName,o=i===void 0?"connectAdvanced":i,l=n.renderCountProp,c=l===void 0?void 0:l,d=n.shouldHandleStateChanges,p=d===void 0?!0:d,u=n.storeKey,f=u===void 0?"store":u;n.withRef;var m=n.forwardRef,g=m===void 0?!1:m,b=n.context,j=b===void 0?UC:b,x=Ch(n,G_),v=j;return function(P){var M=P.displayName||P.name||"Component",O=a(M),E=Ze({},x,{getDisplayName:a,methodName:o,renderCountProp:c,shouldHandleStateChanges:p,storeKey:f,displayName:O,wrappedComponentName:M,WrappedComponent:P}),S=x.pure;function k(L){return e(L.dispatch,E)}var D=S?A.useMemo:function(L){return L()};function C(L){var W=A.useMemo(function(){var ke=L.reactReduxForwardedRef,Ve=Ch(L,Q_);return[L.context,ke,Ve]},[L]),V=W[0],_=W[1],B=W[2],U=A.useMemo(function(){return V&&V.Consumer&&H_.isContextConsumer(Dt.createElement(V.Consumer,null))?V:v},[V,v]),q=A.useContext(U),H=!!L.store&&!!L.store.getState&&!!L.store.dispatch;q&&q.store;var R=H?L.store:q.store,$=A.useMemo(function(){return k(R)},[R]),G=A.useMemo(function(){if(!p)return K_;var ke=WC(R,H?null:q.subscription),Ve=ke.notifyNestedSubs.bind(ke);return[ke,Ve]},[R,H,q]),Z=G[0],te=G[1],le=A.useMemo(function(){return H?q:Ze({},q,{subscription:Z})},[H,q,Z]),ce=A.useReducer(X_,Y_,eO),de=ce[0],Ne=de[0],ve=ce[1];if(Ne&&Ne.error)throw Ne.error;var Ee=A.useRef(),Te=A.useRef(B),pe=A.useRef(),se=A.useRef(!1),ee=D(function(){return pe.current&&B===Te.current?pe.current:$(R.getState(),B)},[R,Ne,B]);Pw(J_,[Te,Ee,se,B,ee,pe,te]),Pw(Z_,[p,R,Z,$,Te,Ee,se,pe,te,ve],[R,Z,$]);var Ue=A.useMemo(function(){return Dt.createElement(P,Ze({},ee,{ref:_}))},[_,P,ee]),Fe=A.useMemo(function(){return p?Dt.createElement(U.Provider,{value:le},Ue):Ue},[U,Ue,le]);return Fe}var w=S?Dt.memo(C):C;if(w.WrappedComponent=P,w.displayName=C.displayName=O,g){var T=Dt.forwardRef(function(W,V){return Dt.createElement(w,Ze({},W,{reactReduxForwardedRef:V}))});return T.displayName=O,T.WrappedComponent=P,Iw(T,P)}return Iw(w,P)}}function kw(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}function fv(e,t){if(kw(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),s=Object.keys(t);if(n.length!==s.length)return!1;for(var a=0;a<n.length;a++)if(!Object.prototype.hasOwnProperty.call(t,n[a])||!kw(e[n[a]],t[n[a]]))return!1;return!0}function rO(e,t){var n={},s=function(o){var l=e[o];typeof l=="function"&&(n[o]=function(){return t(l.apply(void 0,arguments))})};for(var a in e)s(a);return n}function Jy(e){return function(n,s){var a=e(n,s);function i(){return a}return i.dependsOnOwnProps=!1,i}}function Dw(e){return e.dependsOnOwnProps!==null&&e.dependsOnOwnProps!==void 0?!!e.dependsOnOwnProps:e.length!==1}function rA(e,t){return function(s,a){a.displayName;var i=function(l,c){return i.dependsOnOwnProps?i.mapToProps(l,c):i.mapToProps(l)};return i.dependsOnOwnProps=!0,i.mapToProps=function(l,c){i.mapToProps=e,i.dependsOnOwnProps=Dw(e);var d=i(l,c);return typeof d=="function"&&(i.mapToProps=d,i.dependsOnOwnProps=Dw(d),d=i(l,c)),d},i}}function nO(e){return typeof e=="function"?rA(e):void 0}function sO(e){return e?void 0:Jy(function(t){return{dispatch:t}})}function aO(e){return e&&typeof e=="object"?Jy(function(t){return rO(e,t)}):void 0}const iO=[nO,sO,aO];function oO(e){return typeof e=="function"?rA(e):void 0}function lO(e){return e?void 0:Jy(function(){return{}})}const cO=[oO,lO];function dO(e,t,n){return Ze({},n,e,t)}function uO(e){return function(n,s){s.displayName;var a=s.pure,i=s.areMergedPropsEqual,o=!1,l;return function(d,p,u){var f=e(d,p,u);return o?(!a||!i(f,l))&&(l=f):(o=!0,l=f),l}}}function pO(e){return typeof e=="function"?uO(e):void 0}function mO(e){return e?void 0:function(){return dO}}const fO=[pO,mO];var hO=["initMapStateToProps","initMapDispatchToProps","initMergeProps"];function xO(e,t,n,s){return function(i,o){return n(e(i,o),t(s,o),o)}}function gO(e,t,n,s,a){var i=a.areStatesEqual,o=a.areOwnPropsEqual,l=a.areStatePropsEqual,c=!1,d,p,u,f,m;function g(y,P){return d=y,p=P,u=e(d,p),f=t(s,p),m=n(u,f,p),c=!0,m}function b(){return u=e(d,p),t.dependsOnOwnProps&&(f=t(s,p)),m=n(u,f,p),m}function j(){return e.dependsOnOwnProps&&(u=e(d,p)),t.dependsOnOwnProps&&(f=t(s,p)),m=n(u,f,p),m}function x(){var y=e(d,p),P=!l(y,u);return u=y,P&&(m=n(u,f,p)),m}function v(y,P){var M=!o(P,p),O=!i(y,d,P,p);return d=y,p=P,M&&O?b():M?j():O?x():m}return function(P,M){return c?v(P,M):g(P,M)}}function vO(e,t){var n=t.initMapStateToProps,s=t.initMapDispatchToProps,a=t.initMergeProps,i=Ch(t,hO),o=n(e,i),l=s(e,i),c=a(e,i),d=i.pure?gO:xO;return d(o,l,c,e,i)}var yO=["pure","areStatesEqual","areOwnPropsEqual","areStatePropsEqual","areMergedPropsEqual"];function hv(e,t,n){for(var s=t.length-1;s>=0;s--){var a=t[s](e);if(a)return a}return function(i,o){throw new Error("Invalid value of type "+typeof e+" for "+n+" argument when connecting component "+o.wrappedComponentName+".")}}function bO(e,t){return e===t}function jO(e){var t=e===void 0?{}:e,n=t.connectHOC,s=n===void 0?tO:n,a=t.mapStateToPropsFactories,i=a===void 0?cO:a,o=t.mapDispatchToPropsFactories,l=o===void 0?iO:o,c=t.mergePropsFactories,d=c===void 0?fO:c,p=t.selectorFactory,u=p===void 0?vO:p;return function(m,g,b,j){j===void 0&&(j={});var x=j,v=x.pure,y=v===void 0?!0:v,P=x.areStatesEqual,M=P===void 0?bO:P,O=x.areOwnPropsEqual,E=O===void 0?fv:O,S=x.areStatePropsEqual,k=S===void 0?fv:S,D=x.areMergedPropsEqual,C=D===void 0?fv:D,w=Ch(x,yO),T=hv(m,i,"mapStateToProps"),L=hv(g,l,"mapDispatchToProps"),W=hv(b,d,"mergeProps");return s(u,Ze({methodName:"connect",getDisplayName:function(_){return"Connect("+_+")"},shouldHandleStateChanges:!!m,initMapStateToProps:T,initMapDispatchToProps:L,initMergeProps:W,pure:y,areStatesEqual:M,areOwnPropsEqual:E,areStatePropsEqual:k,areMergedPropsEqual:C},w))}}const nA=jO();v_(Wi.unstable_batchedUpdates);function wO(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function sA(e,t){var n=A.useState(function(){return{inputs:t,result:e()}})[0],s=A.useRef(!0),a=A.useRef(n),i=s.current||!!(t&&a.current.inputs&&wO(t,a.current.inputs)),o=i?a.current:{inputs:t,result:e()};return A.useEffect(function(){s.current=!1,a.current=o},[o]),o.result}function NO(e,t){return sA(function(){return e},t)}var Gt=sA,vt=NO,SO=!0,xv="Invariant failed";function CO(e,t){if(!e){if(SO)throw new Error(xv);var n=typeof t=="function"?t():t,s=n?"".concat(xv,": ").concat(n):xv;throw new Error(s)}}var Da=function(t){var n=t.top,s=t.right,a=t.bottom,i=t.left,o=s-i,l=a-n,c={top:n,right:s,bottom:a,left:i,width:o,height:l,x:i,y:n,center:{x:(s+i)/2,y:(a+n)/2}};return c},Zy=function(t,n){return{top:t.top-n.top,left:t.left-n.left,bottom:t.bottom+n.bottom,right:t.right+n.right}},Lw=function(t,n){return{top:t.top+n.top,left:t.left+n.left,bottom:t.bottom-n.bottom,right:t.right-n.right}},AO=function(t,n){return{top:t.top+n.y,left:t.left+n.x,bottom:t.bottom+n.y,right:t.right+n.x}},gv={top:0,right:0,bottom:0,left:0},e2=function(t){var n=t.borderBox,s=t.margin,a=s===void 0?gv:s,i=t.border,o=i===void 0?gv:i,l=t.padding,c=l===void 0?gv:l,d=Da(Zy(n,a)),p=Da(Lw(n,o)),u=Da(Lw(p,c));return{marginBox:d,borderBox:Da(n),paddingBox:p,contentBox:u,margin:a,border:o,padding:c}},Ks=function(t){var n=t.slice(0,-2),s=t.slice(-2);if(s!=="px")return 0;var a=Number(n);return isNaN(a)&&CO(!1),a},EO=function(){return{x:window.pageXOffset,y:window.pageYOffset}},Ah=function(t,n){var s=t.borderBox,a=t.border,i=t.margin,o=t.padding,l=AO(s,n);return e2({borderBox:l,border:a,margin:i,padding:o})},Eh=function(t,n){return n===void 0&&(n=EO()),Ah(t,n)},aA=function(t,n){var s={top:Ks(n.marginTop),right:Ks(n.marginRight),bottom:Ks(n.marginBottom),left:Ks(n.marginLeft)},a={top:Ks(n.paddingTop),right:Ks(n.paddingRight),bottom:Ks(n.paddingBottom),left:Ks(n.paddingLeft)},i={top:Ks(n.borderTopWidth),right:Ks(n.borderRightWidth),bottom:Ks(n.borderBottomWidth),left:Ks(n.borderLeftWidth)};return e2({borderBox:t,margin:s,padding:a,border:i})},iA=function(t){var n=t.getBoundingClientRect(),s=window.getComputedStyle(t);return aA(n,s)},Tw=Number.isNaN||function(t){return typeof t=="number"&&t!==t};function IO(e,t){return!!(e===t||Tw(e)&&Tw(t))}function PO(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(!IO(e[n],t[n]))return!1;return!0}function gn(e,t){t===void 0&&(t=PO);var n,s=[],a,i=!1;function o(){for(var l=[],c=0;c<arguments.length;c++)l[c]=arguments[c];return i&&n===this&&t(l,s)||(a=e.apply(this,l),i=!0,n=this,s=l),a}return o}var kO=function(t){var n=[],s=null,a=function(){for(var o=arguments.length,l=new Array(o),c=0;c<o;c++)l[c]=arguments[c];n=l,!s&&(s=requestAnimationFrame(function(){s=null,t.apply(void 0,n)}))};return a.cancel=function(){s&&(cancelAnimationFrame(s),s=null)},a};const vp=kO;function oA(e,t){}oA.bind(null,"warn");oA.bind(null,"error");function Do(){}function DO(e,t){return Ze({},e,{},t)}function ra(e,t,n){var s=t.map(function(a){var i=DO(n,a.options);return e.addEventListener(a.eventName,a.fn,i),function(){e.removeEventListener(a.eventName,a.fn,i)}});return function(){s.forEach(function(i){i()})}}var LO="Invariant failed";function Ih(e){this.message=e}Ih.prototype.toString=function(){return this.message};function Qe(e,t){if(!e)throw new Ih(LO)}var TO=function(e){BC(t,e);function t(){for(var s,a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return s=e.call.apply(e,[this].concat(i))||this,s.callbacks=null,s.unbind=Do,s.onWindowError=function(l){var c=s.getCallbacks();c.isDragging()&&c.tryAbort();var d=l.error;d instanceof Ih&&l.preventDefault()},s.getCallbacks=function(){if(!s.callbacks)throw new Error("Unable to find AppCallbacks in <ErrorBoundary/>");return s.callbacks},s.setCallbacks=function(l){s.callbacks=l},s}var n=t.prototype;return n.componentDidMount=function(){this.unbind=ra(window,[{eventName:"error",fn:this.onWindowError}])},n.componentDidCatch=function(a){if(a instanceof Ih){this.setState({});return}throw a},n.componentWillUnmount=function(){this.unbind()},n.render=function(){return this.props.children(this.setCallbacks)},t}(Dt.Component),RO=`
  Press space bar to start a drag.
  When dragging you can use the arrow keys to move the item around and escape to cancel.
  Some screen readers may require you to be in focus mode or to use your pass through key
`,Ph=function(t){return t+1},FO=function(t){return`
  You have lifted an item in position `+Ph(t.source.index)+`
`},lA=function(t,n){var s=t.droppableId===n.droppableId,a=Ph(t.index),i=Ph(n.index);return s?`
      You have moved the item from position `+a+`
      to position `+i+`
    `:`
    You have moved the item from position `+a+`
    in list `+t.droppableId+`
    to list `+n.droppableId+`
    in position `+i+`
  `},cA=function(t,n,s){var a=n.droppableId===s.droppableId;return a?`
      The item `+t+`
      has been combined with `+s.draggableId:`
      The item `+t+`
      in list `+n.droppableId+`
      has been combined with `+s.draggableId+`
      in list `+s.droppableId+`
    `},_O=function(t){var n=t.destination;if(n)return lA(t.source,n);var s=t.combine;return s?cA(t.draggableId,t.source,s):"You are over an area that cannot be dropped on"},Rw=function(t){return`
  The item has returned to its starting position
  of `+Ph(t.index)+`
`},OO=function(t){if(t.reason==="CANCEL")return`
      Movement cancelled.
      `+Rw(t.source)+`
    `;var n=t.destination,s=t.combine;return n?`
      You have dropped the item.
      `+lA(t.source,n)+`
    `:s?`
      You have dropped the item.
      `+cA(t.draggableId,t.source,s)+`
    `:`
    The item has been dropped while not over a drop area.
    `+Rw(t.source)+`
  `},zf={dragHandleUsageInstructions:RO,onDragStart:FO,onDragUpdate:_O,onDragEnd:OO},vn={x:0,y:0},In=function(t,n){return{x:t.x+n.x,y:t.y+n.y}},ks=function(t,n){return{x:t.x-n.x,y:t.y-n.y}},Lo=function(t,n){return t.x===n.x&&t.y===n.y},Ed=function(t){return{x:t.x!==0?-t.x:0,y:t.y!==0?-t.y:0}},Bl=function(t,n,s){var a;return s===void 0&&(s=0),a={},a[t]=n,a[t==="x"?"y":"x"]=s,a},yp=function(t,n){return Math.sqrt(Math.pow(n.x-t.x,2)+Math.pow(n.y-t.y,2))},Fw=function(t,n){return Math.min.apply(Math,n.map(function(s){return yp(t,s)}))},dA=function(t){return function(n){return{x:t(n.x),y:t(n.y)}}},MO=function(e,t){var n=Da({top:Math.max(t.top,e.top),right:Math.min(t.right,e.right),bottom:Math.min(t.bottom,e.bottom),left:Math.max(t.left,e.left)});return n.width<=0||n.height<=0?null:n},qp=function(t,n){return{top:t.top+n.y,left:t.left+n.x,bottom:t.bottom+n.y,right:t.right+n.x}},_w=function(t){return[{x:t.left,y:t.top},{x:t.right,y:t.top},{x:t.left,y:t.bottom},{x:t.right,y:t.bottom}]},BO={top:0,right:0,bottom:0,left:0},zO=function(t,n){return n?qp(t,n.scroll.diff.displacement):t},$O=function(t,n,s){if(s&&s.increasedBy){var a;return Ze({},t,(a={},a[n.end]=t[n.end]+s.increasedBy[n.line],a))}return t},UO=function(t,n){return n&&n.shouldClipSubject?MO(n.pageMarginBox,t):Da(t)},md=function(e){var t=e.page,n=e.withPlaceholder,s=e.axis,a=e.frame,i=zO(t.marginBox,a),o=$O(i,s,n),l=UO(o,a);return{page:t,withPlaceholder:n,active:l}},t2=function(e,t){e.frame||Qe(!1);var n=e.frame,s=ks(t,n.scroll.initial),a=Ed(s),i=Ze({},n,{scroll:{initial:n.scroll.initial,current:t,diff:{value:s,displacement:a},max:n.scroll.max}}),o=md({page:e.subject.page,withPlaceholder:e.subject.withPlaceholder,axis:e.axis,frame:i}),l=Ze({},e,{frame:i,subject:o});return l};function kh(e){return Object.values?Object.values(e):Object.keys(e).map(function(t){return e[t]})}function r2(e,t){if(e.findIndex)return e.findIndex(t);for(var n=0;n<e.length;n++)if(t(e[n]))return n;return-1}function Yo(e,t){if(e.find)return e.find(t);var n=r2(e,t);if(n!==-1)return e[n]}function uA(e){return Array.prototype.slice.call(e)}var pA=gn(function(e){return e.reduce(function(t,n){return t[n.descriptor.id]=n,t},{})}),mA=gn(function(e){return e.reduce(function(t,n){return t[n.descriptor.id]=n,t},{})}),Sx=gn(function(e){return kh(e)}),VO=gn(function(e){return kh(e)}),Id=gn(function(e,t){var n=VO(t).filter(function(s){return e===s.descriptor.droppableId}).sort(function(s,a){return s.descriptor.index-a.descriptor.index});return n});function n2(e){return e.at&&e.at.type==="REORDER"?e.at.destination:null}function Cx(e){return e.at&&e.at.type==="COMBINE"?e.at.combine:null}var Ax=gn(function(e,t){return t.filter(function(n){return n.descriptor.id!==e.descriptor.id})}),WO=function(e){var t=e.isMovingForward,n=e.draggable,s=e.destination,a=e.insideDestination,i=e.previousImpact;if(!s.isCombineEnabled)return null;var o=n2(i);if(!o)return null;function l(b){var j={type:"COMBINE",combine:{draggableId:b,droppableId:s.descriptor.id}};return Ze({},i,{at:j})}var c=i.displaced.all,d=c.length?c[0]:null;if(t)return d?l(d):null;var p=Ax(n,a);if(!d){if(!p.length)return null;var u=p[p.length-1];return l(u.descriptor.id)}var f=r2(p,function(b){return b.descriptor.id===d});f===-1&&Qe(!1);var m=f-1;if(m<0)return null;var g=p[m];return l(g.descriptor.id)},Pd=function(e,t){return e.descriptor.droppableId===t.descriptor.id},fA={point:vn,value:0},bp={invisible:{},visible:{},all:[]},qO={displaced:bp,displacedBy:fA,at:null},ia=function(e,t){return function(n){return e<=n&&n<=t}},hA=function(e){var t=ia(e.top,e.bottom),n=ia(e.left,e.right);return function(s){var a=t(s.top)&&t(s.bottom)&&n(s.left)&&n(s.right);if(a)return!0;var i=t(s.top)||t(s.bottom),o=n(s.left)||n(s.right),l=i&&o;if(l)return!0;var c=s.top<e.top&&s.bottom>e.bottom,d=s.left<e.left&&s.right>e.right,p=c&&d;if(p)return!0;var u=c&&o||d&&i;return u}},HO=function(e){var t=ia(e.top,e.bottom),n=ia(e.left,e.right);return function(s){var a=t(s.top)&&t(s.bottom)&&n(s.left)&&n(s.right);return a}},s2={direction:"vertical",line:"y",crossAxisLine:"x",start:"top",end:"bottom",size:"height",crossAxisStart:"left",crossAxisEnd:"right",crossAxisSize:"width"},xA={direction:"horizontal",line:"x",crossAxisLine:"y",start:"left",end:"right",size:"width",crossAxisStart:"top",crossAxisEnd:"bottom",crossAxisSize:"height"},GO=function(e){return function(t){var n=ia(t.top,t.bottom),s=ia(t.left,t.right);return function(a){return e===s2?n(a.top)&&n(a.bottom):s(a.left)&&s(a.right)}}},QO=function(t,n){var s=n.frame?n.frame.scroll.diff.displacement:vn;return qp(t,s)},YO=function(t,n,s){return n.subject.active?s(n.subject.active)(t):!1},KO=function(t,n,s){return s(n)(t)},a2=function(t){var n=t.target,s=t.destination,a=t.viewport,i=t.withDroppableDisplacement,o=t.isVisibleThroughFrameFn,l=i?QO(n,s):n;return YO(l,s,o)&&KO(l,a,o)},XO=function(t){return a2(Ze({},t,{isVisibleThroughFrameFn:hA}))},gA=function(t){return a2(Ze({},t,{isVisibleThroughFrameFn:HO}))},JO=function(t){return a2(Ze({},t,{isVisibleThroughFrameFn:GO(t.destination.axis)}))},ZO=function(t,n,s){if(typeof s=="boolean")return s;if(!n)return!0;var a=n.invisible,i=n.visible;if(a[t])return!1;var o=i[t];return o?o.shouldAnimate:!0};function eM(e,t){var n=e.page.marginBox,s={top:t.point.y,right:0,bottom:0,left:t.point.x};return Da(Zy(n,s))}function jp(e){var t=e.afterDragging,n=e.destination,s=e.displacedBy,a=e.viewport,i=e.forceShouldAnimate,o=e.last;return t.reduce(function(c,d){var p=eM(d,s),u=d.descriptor.id;c.all.push(u);var f=XO({target:p,destination:n,viewport:a,withDroppableDisplacement:!0});if(!f)return c.invisible[d.descriptor.id]=!0,c;var m=ZO(u,o,i),g={draggableId:u,shouldAnimate:m};return c.visible[u]=g,c},{all:[],visible:{},invisible:{}})}function tM(e,t){if(!e.length)return 0;var n=e[e.length-1].descriptor.index;return t.inHomeList?n:n+1}function Ow(e){var t=e.insideDestination,n=e.inHomeList,s=e.displacedBy,a=e.destination,i=tM(t,{inHomeList:n});return{displaced:bp,displacedBy:s,at:{type:"REORDER",destination:{droppableId:a.descriptor.id,index:i}}}}function Dh(e){var t=e.draggable,n=e.insideDestination,s=e.destination,a=e.viewport,i=e.displacedBy,o=e.last,l=e.index,c=e.forceShouldAnimate,d=Pd(t,s);if(l==null)return Ow({insideDestination:n,inHomeList:d,displacedBy:i,destination:s});var p=Yo(n,function(b){return b.descriptor.index===l});if(!p)return Ow({insideDestination:n,inHomeList:d,displacedBy:i,destination:s});var u=Ax(t,n),f=n.indexOf(p),m=u.slice(f),g=jp({afterDragging:m,destination:s,displacedBy:i,last:o,viewport:a.frame,forceShouldAnimate:c});return{displaced:g,displacedBy:i,at:{type:"REORDER",destination:{droppableId:s.descriptor.id,index:l}}}}function zo(e,t){return!!t.effected[e]}var rM=function(e){var t=e.isMovingForward,n=e.destination,s=e.draggables,a=e.combine,i=e.afterCritical;if(!n.isCombineEnabled)return null;var o=a.draggableId,l=s[o],c=l.descriptor.index,d=zo(o,i);return d?t?c:c-1:t?c+1:c},nM=function(e){var t=e.isMovingForward,n=e.isInHomeList,s=e.insideDestination,a=e.location;if(!s.length)return null;var i=a.index,o=t?i+1:i-1,l=s[0].descriptor.index,c=s[s.length-1].descriptor.index,d=n?c:c+1;return o<l||o>d?null:o},sM=function(e){var t=e.isMovingForward,n=e.isInHomeList,s=e.draggable,a=e.draggables,i=e.destination,o=e.insideDestination,l=e.previousImpact,c=e.viewport,d=e.afterCritical,p=l.at;if(p||Qe(!1),p.type==="REORDER"){var u=nM({isMovingForward:t,isInHomeList:n,location:p.destination,insideDestination:o});return u==null?null:Dh({draggable:s,insideDestination:o,destination:i,viewport:c,last:l.displaced,displacedBy:l.displacedBy,index:u})}var f=rM({isMovingForward:t,destination:i,displaced:l.displaced,draggables:a,combine:p.combine,afterCritical:d});return f==null?null:Dh({draggable:s,insideDestination:o,destination:i,viewport:c,last:l.displaced,displacedBy:l.displacedBy,index:f})},aM=function(e){var t=e.displaced,n=e.afterCritical,s=e.combineWith,a=e.displacedBy,i=!!(t.visible[s]||t.invisible[s]);return zo(s,n)?i?vn:Ed(a.point):i?a.point:vn},iM=function(e){var t=e.afterCritical,n=e.impact,s=e.draggables,a=Cx(n);a||Qe(!1);var i=a.draggableId,o=s[i].page.borderBox.center,l=aM({displaced:n.displaced,afterCritical:t,combineWith:i,displacedBy:n.displacedBy});return In(o,l)},vA=function(t,n){return n.margin[t.start]+n.borderBox[t.size]/2},oM=function(t,n){return n.margin[t.end]+n.borderBox[t.size]/2},i2=function(t,n,s){return n[t.crossAxisStart]+s.margin[t.crossAxisStart]+s.borderBox[t.crossAxisSize]/2},Mw=function(t){var n=t.axis,s=t.moveRelativeTo,a=t.isMoving;return Bl(n.line,s.marginBox[n.end]+vA(n,a),i2(n,s.marginBox,a))},Bw=function(t){var n=t.axis,s=t.moveRelativeTo,a=t.isMoving;return Bl(n.line,s.marginBox[n.start]-oM(n,a),i2(n,s.marginBox,a))},lM=function(t){var n=t.axis,s=t.moveInto,a=t.isMoving;return Bl(n.line,s.contentBox[n.start]+vA(n,a),i2(n,s.contentBox,a))},cM=function(e){var t=e.impact,n=e.draggable,s=e.draggables,a=e.droppable,i=e.afterCritical,o=Id(a.descriptor.id,s),l=n.page,c=a.axis;if(!o.length)return lM({axis:c,moveInto:a.page,isMoving:l});var d=t.displaced,p=t.displacedBy,u=d.all[0];if(u){var f=s[u];if(zo(u,i))return Bw({axis:c,moveRelativeTo:f.page,isMoving:l});var m=Ah(f.page,p.point);return Bw({axis:c,moveRelativeTo:m,isMoving:l})}var g=o[o.length-1];if(g.descriptor.id===n.descriptor.id)return l.borderBox.center;if(zo(g.descriptor.id,i)){var b=Ah(g.page,Ed(i.displacedBy.point));return Mw({axis:c,moveRelativeTo:b,isMoving:l})}return Mw({axis:c,moveRelativeTo:g.page,isMoving:l})},t1=function(e,t){var n=e.frame;return n?In(t,n.scroll.diff.displacement):t},dM=function(t){var n=t.impact,s=t.draggable,a=t.droppable,i=t.draggables,o=t.afterCritical,l=s.page.borderBox.center,c=n.at;return!a||!c?l:c.type==="REORDER"?cM({impact:n,draggable:s,draggables:i,droppable:a,afterCritical:o}):iM({impact:n,draggables:i,afterCritical:o})},Ex=function(e){var t=dM(e),n=e.droppable,s=n?t1(n,t):t;return s},yA=function(e,t){var n=ks(t,e.scroll.initial),s=Ed(n),a=Da({top:t.y,bottom:t.y+e.frame.height,left:t.x,right:t.x+e.frame.width}),i={frame:a,scroll:{initial:e.scroll.initial,max:e.scroll.max,current:t,diff:{value:n,displacement:s}}};return i};function zw(e,t){return e.map(function(n){return t[n]})}function uM(e,t){for(var n=0;n<t.length;n++){var s=t[n].visible[e];if(s)return s}return null}var pM=function(e){var t=e.impact,n=e.viewport,s=e.destination,a=e.draggables,i=e.maxScrollChange,o=yA(n,In(n.scroll.current,i)),l=s.frame?t2(s,In(s.frame.scroll.current,i)):s,c=t.displaced,d=jp({afterDragging:zw(c.all,a),destination:s,displacedBy:t.displacedBy,viewport:o.frame,last:c,forceShouldAnimate:!1}),p=jp({afterDragging:zw(c.all,a),destination:l,displacedBy:t.displacedBy,viewport:n.frame,last:c,forceShouldAnimate:!1}),u={},f={},m=[c,d,p];c.all.forEach(function(b){var j=uM(b,m);if(j){f[b]=j;return}u[b]=!0});var g=Ze({},t,{displaced:{all:c.all,invisible:u,visible:f}});return g},mM=function(e,t){return In(e.scroll.diff.displacement,t)},o2=function(e){var t=e.pageBorderBoxCenter,n=e.draggable,s=e.viewport,a=mM(s,t),i=ks(a,n.page.borderBox.center);return In(n.client.borderBox.center,i)},bA=function(e){var t=e.draggable,n=e.destination,s=e.newPageBorderBoxCenter,a=e.viewport,i=e.withDroppableDisplacement,o=e.onlyOnMainAxis,l=o===void 0?!1:o,c=ks(s,t.page.borderBox.center),d=qp(t.page.borderBox,c),p={target:d,destination:n,withDroppableDisplacement:i,viewport:a};return l?JO(p):gA(p)},fM=function(e){var t=e.isMovingForward,n=e.draggable,s=e.destination,a=e.draggables,i=e.previousImpact,o=e.viewport,l=e.previousPageBorderBoxCenter,c=e.previousClientSelection,d=e.afterCritical;if(!s.isEnabled)return null;var p=Id(s.descriptor.id,a),u=Pd(n,s),f=WO({isMovingForward:t,draggable:n,destination:s,insideDestination:p,previousImpact:i})||sM({isMovingForward:t,isInHomeList:u,draggable:n,draggables:a,destination:s,insideDestination:p,previousImpact:i,viewport:o,afterCritical:d});if(!f)return null;var m=Ex({impact:f,draggable:n,droppable:s,draggables:a,afterCritical:d}),g=bA({draggable:n,destination:s,newPageBorderBoxCenter:m,viewport:o.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0});if(g){var b=o2({pageBorderBoxCenter:m,draggable:n,viewport:o});return{clientSelection:b,impact:f,scrollJumpRequest:null}}var j=ks(m,l),x=pM({impact:f,viewport:o,destination:s,draggables:a,maxScrollChange:j});return{clientSelection:c,impact:x,scrollJumpRequest:j}},Zn=function(t){var n=t.subject.active;return n||Qe(!1),n},hM=function(e){var t=e.isMovingForward,n=e.pageBorderBoxCenter,s=e.source,a=e.droppables,i=e.viewport,o=s.subject.active;if(!o)return null;var l=s.axis,c=ia(o[l.start],o[l.end]),d=Sx(a).filter(function(u){return u!==s}).filter(function(u){return u.isEnabled}).filter(function(u){return!!u.subject.active}).filter(function(u){return hA(i.frame)(Zn(u))}).filter(function(u){var f=Zn(u);return t?o[l.crossAxisEnd]<f[l.crossAxisEnd]:f[l.crossAxisStart]<o[l.crossAxisStart]}).filter(function(u){var f=Zn(u),m=ia(f[l.start],f[l.end]);return c(f[l.start])||c(f[l.end])||m(o[l.start])||m(o[l.end])}).sort(function(u,f){var m=Zn(u)[l.crossAxisStart],g=Zn(f)[l.crossAxisStart];return t?m-g:g-m}).filter(function(u,f,m){return Zn(u)[l.crossAxisStart]===Zn(m[0])[l.crossAxisStart]});if(!d.length)return null;if(d.length===1)return d[0];var p=d.filter(function(u){var f=ia(Zn(u)[l.start],Zn(u)[l.end]);return f(n[l.line])});return p.length===1?p[0]:p.length>1?p.sort(function(u,f){return Zn(u)[l.start]-Zn(f)[l.start]})[0]:d.sort(function(u,f){var m=Fw(n,_w(Zn(u))),g=Fw(n,_w(Zn(f)));return m!==g?m-g:Zn(u)[l.start]-Zn(f)[l.start]})[0]},$w=function(t,n){var s=t.page.borderBox.center;return zo(t.descriptor.id,n)?ks(s,n.displacedBy.point):s},xM=function(t,n){var s=t.page.borderBox;return zo(t.descriptor.id,n)?qp(s,Ed(n.displacedBy.point)):s},gM=function(e){var t=e.pageBorderBoxCenter,n=e.viewport,s=e.destination,a=e.insideDestination,i=e.afterCritical,o=a.filter(function(l){return gA({target:xM(l,i),destination:s,viewport:n.frame,withDroppableDisplacement:!0})}).sort(function(l,c){var d=yp(t,t1(s,$w(l,i))),p=yp(t,t1(s,$w(c,i)));return d<p?-1:p<d?1:l.descriptor.index-c.descriptor.index});return o[0]||null},Hp=gn(function(t,n){var s=n[t.line];return{value:s,point:Bl(t.line,s)}}),vM=function(t,n,s){var a=t.axis;if(t.descriptor.mode==="virtual")return Bl(a.line,n[a.line]);var i=t.subject.page.contentBox[a.size],o=Id(t.descriptor.id,s),l=o.reduce(function(p,u){return p+u.client.marginBox[a.size]},0),c=l+n[a.line],d=c-i;return d<=0?null:Bl(a.line,d)},jA=function(t,n){return Ze({},t,{scroll:Ze({},t.scroll,{max:n})})},wA=function(t,n,s){var a=t.frame;Pd(n,t)&&Qe(!1),t.subject.withPlaceholder&&Qe(!1);var i=Hp(t.axis,n.displaceBy).point,o=vM(t,i,s),l={placeholderSize:i,increasedBy:o,oldFrameMaxScroll:t.frame?t.frame.scroll.max:null};if(!a){var c=md({page:t.subject.page,withPlaceholder:l,axis:t.axis,frame:t.frame});return Ze({},t,{subject:c})}var d=o?In(a.scroll.max,o):a.scroll.max,p=jA(a,d),u=md({page:t.subject.page,withPlaceholder:l,axis:t.axis,frame:p});return Ze({},t,{subject:u,frame:p})},yM=function(t){var n=t.subject.withPlaceholder;n||Qe(!1);var s=t.frame;if(!s){var a=md({page:t.subject.page,axis:t.axis,frame:null,withPlaceholder:null});return Ze({},t,{subject:a})}var i=n.oldFrameMaxScroll;i||Qe(!1);var o=jA(s,i),l=md({page:t.subject.page,axis:t.axis,frame:o,withPlaceholder:null});return Ze({},t,{subject:l,frame:o})},bM=function(e){var t=e.previousPageBorderBoxCenter,n=e.moveRelativeTo,s=e.insideDestination,a=e.draggable,i=e.draggables,o=e.destination,l=e.viewport,c=e.afterCritical;if(!n){if(s.length)return null;var d={displaced:bp,displacedBy:fA,at:{type:"REORDER",destination:{droppableId:o.descriptor.id,index:0}}},p=Ex({impact:d,draggable:a,droppable:o,draggables:i,afterCritical:c}),u=Pd(a,o)?o:wA(o,a,i),f=bA({draggable:a,destination:u,newPageBorderBoxCenter:p,viewport:l.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0});return f?d:null}var m=t[o.axis.line]<=n.page.borderBox.center[o.axis.line],g=function(){var j=n.descriptor.index;return n.descriptor.id===a.descriptor.id||m?j:j+1}(),b=Hp(o.axis,a.displaceBy);return Dh({draggable:a,insideDestination:s,destination:o,viewport:l,displacedBy:b,last:bp,index:g})},jM=function(e){var t=e.isMovingForward,n=e.previousPageBorderBoxCenter,s=e.draggable,a=e.isOver,i=e.draggables,o=e.droppables,l=e.viewport,c=e.afterCritical,d=hM({isMovingForward:t,pageBorderBoxCenter:n,source:a,droppables:o,viewport:l});if(!d)return null;var p=Id(d.descriptor.id,i),u=gM({pageBorderBoxCenter:n,viewport:l,destination:d,insideDestination:p,afterCritical:c}),f=bM({previousPageBorderBoxCenter:n,destination:d,draggable:s,draggables:i,moveRelativeTo:u,insideDestination:p,viewport:l,afterCritical:c});if(!f)return null;var m=Ex({impact:f,draggable:s,droppable:d,draggables:i,afterCritical:c}),g=o2({pageBorderBoxCenter:m,draggable:s,viewport:l});return{clientSelection:g,impact:f,scrollJumpRequest:null}},Rs=function(e){var t=e.at;return t?t.type==="REORDER"?t.destination.droppableId:t.combine.droppableId:null},wM=function(t,n){var s=Rs(t);return s?n[s]:null},NM=function(e){var t=e.state,n=e.type,s=wM(t.impact,t.dimensions.droppables),a=!!s,i=t.dimensions.droppables[t.critical.droppable.id],o=s||i,l=o.axis.direction,c=l==="vertical"&&(n==="MOVE_UP"||n==="MOVE_DOWN")||l==="horizontal"&&(n==="MOVE_LEFT"||n==="MOVE_RIGHT");if(c&&!a)return null;var d=n==="MOVE_DOWN"||n==="MOVE_RIGHT",p=t.dimensions.draggables[t.critical.draggable.id],u=t.current.page.borderBoxCenter,f=t.dimensions,m=f.draggables,g=f.droppables;return c?fM({isMovingForward:d,previousPageBorderBoxCenter:u,draggable:p,destination:o,draggables:m,viewport:t.viewport,previousClientSelection:t.current.client.selection,previousImpact:t.impact,afterCritical:t.afterCritical}):jM({isMovingForward:d,previousPageBorderBoxCenter:u,draggable:p,isOver:o,draggables:m,droppables:g,viewport:t.viewport,afterCritical:t.afterCritical})};function ul(e){return e.phase==="DRAGGING"||e.phase==="COLLECTING"}function NA(e){var t=ia(e.top,e.bottom),n=ia(e.left,e.right);return function(a){return t(a.y)&&n(a.x)}}function SM(e,t){return e.left<t.right&&e.right>t.left&&e.top<t.bottom&&e.bottom>t.top}function CM(e){var t=e.pageBorderBox,n=e.draggable,s=e.candidates,a=n.page.borderBox.center,i=s.map(function(o){var l=o.axis,c=Bl(o.axis.line,t.center[l.line],o.page.borderBox.center[l.crossAxisLine]);return{id:o.descriptor.id,distance:yp(a,c)}}).sort(function(o,l){return l.distance-o.distance});return i[0]?i[0].id:null}function AM(e){var t=e.pageBorderBox,n=e.draggable,s=e.droppables,a=Sx(s).filter(function(i){if(!i.isEnabled)return!1;var o=i.subject.active;if(!o||!SM(t,o))return!1;if(NA(o)(t.center))return!0;var l=i.axis,c=o.center[l.crossAxisLine],d=t[l.crossAxisStart],p=t[l.crossAxisEnd],u=ia(o[l.crossAxisStart],o[l.crossAxisEnd]),f=u(d),m=u(p);return!f&&!m?!0:f?d<c:p>c});return a.length?a.length===1?a[0].descriptor.id:CM({pageBorderBox:t,draggable:n,candidates:a}):null}var SA=function(t,n){return Da(qp(t,n))},EM=function(e,t){var n=e.frame;return n?SA(t,n.scroll.diff.value):t};function CA(e){var t=e.displaced,n=e.id;return!!(t.visible[n]||t.invisible[n])}function IM(e){var t=e.draggable,n=e.closest,s=e.inHomeList;return n?s&&n.descriptor.index>t.descriptor.index?n.descriptor.index-1:n.descriptor.index:null}var PM=function(e){var t=e.pageBorderBoxWithDroppableScroll,n=e.draggable,s=e.destination,a=e.insideDestination,i=e.last,o=e.viewport,l=e.afterCritical,c=s.axis,d=Hp(s.axis,n.displaceBy),p=d.value,u=t[c.start],f=t[c.end],m=Ax(n,a),g=Yo(m,function(j){var x=j.descriptor.id,v=j.page.borderBox.center[c.line],y=zo(x,l),P=CA({displaced:i,id:x});return y?P?f<=v:u<v-p:P?f<=v+p:u<v}),b=IM({draggable:n,closest:g,inHomeList:Pd(n,s)});return Dh({draggable:n,insideDestination:a,destination:s,viewport:o,last:i,displacedBy:d,index:b})},kM=4,DM=function(e){var t=e.draggable,n=e.pageBorderBoxWithDroppableScroll,s=e.previousImpact,a=e.destination,i=e.insideDestination,o=e.afterCritical;if(!a.isCombineEnabled)return null;var l=a.axis,c=Hp(a.axis,t.displaceBy),d=c.value,p=n[l.start],u=n[l.end],f=Ax(t,i),m=Yo(f,function(b){var j=b.descriptor.id,x=b.page.borderBox,v=x[l.size],y=v/kM,P=zo(j,o),M=CA({displaced:s.displaced,id:j});return P?M?u>x[l.start]+y&&u<x[l.end]-y:p>x[l.start]-d+y&&p<x[l.end]-d-y:M?u>x[l.start]+d+y&&u<x[l.end]+d-y:p>x[l.start]+y&&p<x[l.end]-y});if(!m)return null;var g={displacedBy:c,displaced:s.displaced,at:{type:"COMBINE",combine:{draggableId:m.descriptor.id,droppableId:a.descriptor.id}}};return g},AA=function(e){var t=e.pageOffset,n=e.draggable,s=e.draggables,a=e.droppables,i=e.previousImpact,o=e.viewport,l=e.afterCritical,c=SA(n.page.borderBox,t),d=AM({pageBorderBox:c,draggable:n,droppables:a});if(!d)return qO;var p=a[d],u=Id(p.descriptor.id,s),f=EM(p,c);return DM({pageBorderBoxWithDroppableScroll:f,draggable:n,previousImpact:i,destination:p,insideDestination:u,afterCritical:l})||PM({pageBorderBoxWithDroppableScroll:f,draggable:n,destination:p,insideDestination:u,last:i.displaced,viewport:o,afterCritical:l})},l2=function(e,t){var n;return Ze({},e,(n={},n[t.descriptor.id]=t,n))},LM=function(t){var n=t.previousImpact,s=t.impact,a=t.droppables,i=Rs(n),o=Rs(s);if(!i||i===o)return a;var l=a[i];if(!l.subject.withPlaceholder)return a;var c=yM(l);return l2(a,c)},TM=function(e){var t=e.draggable,n=e.draggables,s=e.droppables,a=e.previousImpact,i=e.impact,o=LM({previousImpact:a,impact:i,droppables:s}),l=Rs(i);if(!l)return o;var c=s[l];if(Pd(t,c)||c.subject.withPlaceholder)return o;var d=wA(c,t,n);return l2(o,d)},zu=function(e){var t=e.state,n=e.clientSelection,s=e.dimensions,a=e.viewport,i=e.impact,o=e.scrollJumpRequest,l=a||t.viewport,c=s||t.dimensions,d=n||t.current.client.selection,p=ks(d,t.initial.client.selection),u={offset:p,selection:d,borderBoxCenter:In(t.initial.client.borderBoxCenter,p)},f={selection:In(u.selection,l.scroll.current),borderBoxCenter:In(u.borderBoxCenter,l.scroll.current),offset:In(u.offset,l.scroll.diff.value)},m={client:u,page:f};if(t.phase==="COLLECTING")return Ze({phase:"COLLECTING"},t,{dimensions:c,viewport:l,current:m});var g=c.draggables[t.critical.draggable.id],b=i||AA({pageOffset:f.offset,draggable:g,draggables:c.draggables,droppables:c.droppables,previousImpact:t.impact,viewport:l,afterCritical:t.afterCritical}),j=TM({draggable:g,impact:b,previousImpact:t.impact,draggables:c.draggables,droppables:c.droppables}),x=Ze({},t,{current:m,dimensions:{draggables:c.draggables,droppables:j},impact:b,viewport:l,scrollJumpRequest:o||null,forceShouldAnimate:o?!1:null});return x};function RM(e,t){return e.map(function(n){return t[n]})}var EA=function(e){var t=e.impact,n=e.viewport,s=e.draggables,a=e.destination,i=e.forceShouldAnimate,o=t.displaced,l=RM(o.all,s),c=jp({afterDragging:l,destination:a,displacedBy:t.displacedBy,viewport:n.frame,forceShouldAnimate:i,last:o});return Ze({},t,{displaced:c})},IA=function(e){var t=e.impact,n=e.draggable,s=e.droppable,a=e.draggables,i=e.viewport,o=e.afterCritical,l=Ex({impact:t,draggable:n,draggables:a,droppable:s,afterCritical:o});return o2({pageBorderBoxCenter:l,draggable:n,viewport:i})},PA=function(e){var t=e.state,n=e.dimensions,s=e.viewport;t.movementMode!=="SNAP"&&Qe(!1);var a=t.impact,i=s||t.viewport,o=n||t.dimensions,l=o.draggables,c=o.droppables,d=l[t.critical.draggable.id],p=Rs(a);p||Qe(!1);var u=c[p],f=EA({impact:a,viewport:i,destination:u,draggables:l}),m=IA({impact:f,draggable:d,droppable:u,draggables:l,viewport:i,afterCritical:t.afterCritical});return zu({impact:f,clientSelection:m,state:t,dimensions:o,viewport:i})},FM=function(e){return{index:e.index,droppableId:e.droppableId}},kA=function(e){var t=e.draggable,n=e.home,s=e.draggables,a=e.viewport,i=Hp(n.axis,t.displaceBy),o=Id(n.descriptor.id,s),l=o.indexOf(t);l===-1&&Qe(!1);var c=o.slice(l+1),d=c.reduce(function(m,g){return m[g.descriptor.id]=!0,m},{}),p={inVirtualList:n.descriptor.mode==="virtual",displacedBy:i,effected:d},u=jp({afterDragging:c,destination:n,displacedBy:i,last:null,viewport:a.frame,forceShouldAnimate:!1}),f={displaced:u,displacedBy:i,at:{type:"REORDER",destination:FM(t.descriptor)}};return{impact:f,afterCritical:p}},_M=function(e,t){return{draggables:e.draggables,droppables:l2(e.droppables,t)}},OM=function(e){var t=e.draggable,n=e.offset,s=e.initialWindowScroll,a=Ah(t.client,n),i=Eh(a,s),o=Ze({},t,{placeholder:Ze({},t.placeholder,{client:a}),client:a,page:i});return o},MM=function(e){var t=e.frame;return t||Qe(!1),t},BM=function(e){var t=e.additions,n=e.updatedDroppables,s=e.viewport,a=s.scroll.diff.value;return t.map(function(i){var o=i.descriptor.droppableId,l=n[o],c=MM(l),d=c.scroll.diff.value,p=In(a,d),u=OM({draggable:i,offset:p,initialWindowScroll:s.scroll.initial});return u})},zM=function(e){var t=e.state,n=e.published,s=n.modified.map(function(y){var P=t.dimensions.droppables[y.droppableId],M=t2(P,y.scroll);return M}),a=Ze({},t.dimensions.droppables,{},pA(s)),i=mA(BM({additions:n.additions,updatedDroppables:a,viewport:t.viewport})),o=Ze({},t.dimensions.draggables,{},i);n.removals.forEach(function(y){delete o[y]});var l={droppables:a,draggables:o},c=Rs(t.impact),d=c?l.droppables[c]:null,p=l.draggables[t.critical.draggable.id],u=l.droppables[t.critical.droppable.id],f=kA({draggable:p,home:u,draggables:o,viewport:t.viewport}),m=f.impact,g=f.afterCritical,b=d&&d.isCombineEnabled?t.impact:m,j=AA({pageOffset:t.current.page.offset,draggable:l.draggables[t.critical.draggable.id],draggables:l.draggables,droppables:l.droppables,previousImpact:b,viewport:t.viewport,afterCritical:g}),x=Ze({phase:"DRAGGING"},t,{phase:"DRAGGING",impact:j,onLiftImpact:m,dimensions:l,afterCritical:g,forceShouldAnimate:!1});if(t.phase==="COLLECTING")return x;var v=Ze({phase:"DROP_PENDING"},x,{phase:"DROP_PENDING",reason:t.reason,isWaiting:!1});return v},r1=function(t){return t.movementMode==="SNAP"},vv=function(t,n,s){var a=_M(t.dimensions,n);return!r1(t)||s?zu({state:t,dimensions:a}):PA({state:t,dimensions:a})};function yv(e){return e.isDragging&&e.movementMode==="SNAP"?Ze({phase:"DRAGGING"},e,{scrollJumpRequest:null}):e}var Uw={phase:"IDLE",completed:null,shouldFlush:!1},$M=function(e,t){if(e===void 0&&(e=Uw),t.type==="FLUSH")return Ze({},Uw,{shouldFlush:!0});if(t.type==="INITIAL_PUBLISH"){e.phase!=="IDLE"&&Qe(!1);var n=t.payload,s=n.critical,a=n.clientSelection,i=n.viewport,o=n.dimensions,l=n.movementMode,c=o.draggables[s.draggable.id],d=o.droppables[s.droppable.id],p={selection:a,borderBoxCenter:c.client.borderBox.center,offset:vn},u={client:p,page:{selection:In(p.selection,i.scroll.initial),borderBoxCenter:In(p.selection,i.scroll.initial),offset:In(p.selection,i.scroll.diff.value)}},f=Sx(o.droppables).every(function(ve){return!ve.isFixedOnPage}),m=kA({draggable:c,home:d,draggables:o.draggables,viewport:i}),g=m.impact,b=m.afterCritical,j={phase:"DRAGGING",isDragging:!0,critical:s,movementMode:l,dimensions:o,initial:u,current:u,isWindowScrollAllowed:f,impact:g,afterCritical:b,onLiftImpact:g,viewport:i,scrollJumpRequest:null,forceShouldAnimate:null};return j}if(t.type==="COLLECTION_STARTING"){if(e.phase==="COLLECTING"||e.phase==="DROP_PENDING")return e;e.phase!=="DRAGGING"&&Qe(!1);var x=Ze({phase:"COLLECTING"},e,{phase:"COLLECTING"});return x}if(t.type==="PUBLISH_WHILE_DRAGGING")return e.phase==="COLLECTING"||e.phase==="DROP_PENDING"||Qe(!1),zM({state:e,published:t.payload});if(t.type==="MOVE"){if(e.phase==="DROP_PENDING")return e;ul(e)||Qe(!1);var v=t.payload.client;return Lo(v,e.current.client.selection)?e:zu({state:e,clientSelection:v,impact:r1(e)?e.impact:null})}if(t.type==="UPDATE_DROPPABLE_SCROLL"){if(e.phase==="DROP_PENDING"||e.phase==="COLLECTING")return yv(e);ul(e)||Qe(!1);var y=t.payload,P=y.id,M=y.newScroll,O=e.dimensions.droppables[P];if(!O)return e;var E=t2(O,M);return vv(e,E,!1)}if(t.type==="UPDATE_DROPPABLE_IS_ENABLED"){if(e.phase==="DROP_PENDING")return e;ul(e)||Qe(!1);var S=t.payload,k=S.id,D=S.isEnabled,C=e.dimensions.droppables[k];C||Qe(!1),C.isEnabled===D&&Qe(!1);var w=Ze({},C,{isEnabled:D});return vv(e,w,!0)}if(t.type==="UPDATE_DROPPABLE_IS_COMBINE_ENABLED"){if(e.phase==="DROP_PENDING")return e;ul(e)||Qe(!1);var T=t.payload,L=T.id,W=T.isCombineEnabled,V=e.dimensions.droppables[L];V||Qe(!1),V.isCombineEnabled===W&&Qe(!1);var _=Ze({},V,{isCombineEnabled:W});return vv(e,_,!0)}if(t.type==="MOVE_BY_WINDOW_SCROLL"){if(e.phase==="DROP_PENDING"||e.phase==="DROP_ANIMATING")return e;ul(e)||Qe(!1),e.isWindowScrollAllowed||Qe(!1);var B=t.payload.newScroll;if(Lo(e.viewport.scroll.current,B))return yv(e);var U=yA(e.viewport,B);return r1(e)?PA({state:e,viewport:U}):zu({state:e,viewport:U})}if(t.type==="UPDATE_VIEWPORT_MAX_SCROLL"){if(!ul(e))return e;var q=t.payload.maxScroll;if(Lo(q,e.viewport.scroll.max))return e;var H=Ze({},e.viewport,{scroll:Ze({},e.viewport.scroll,{max:q})});return Ze({phase:"DRAGGING"},e,{viewport:H})}if(t.type==="MOVE_UP"||t.type==="MOVE_DOWN"||t.type==="MOVE_LEFT"||t.type==="MOVE_RIGHT"){if(e.phase==="COLLECTING"||e.phase==="DROP_PENDING")return e;e.phase!=="DRAGGING"&&Qe(!1);var R=NM({state:e,type:t.type});return R?zu({state:e,impact:R.impact,clientSelection:R.clientSelection,scrollJumpRequest:R.scrollJumpRequest}):e}if(t.type==="DROP_PENDING"){var $=t.payload.reason;e.phase!=="COLLECTING"&&Qe(!1);var G=Ze({phase:"DROP_PENDING"},e,{phase:"DROP_PENDING",isWaiting:!0,reason:$});return G}if(t.type==="DROP_ANIMATE"){var Z=t.payload,te=Z.completed,le=Z.dropDuration,ce=Z.newHomeClientOffset;e.phase==="DRAGGING"||e.phase==="DROP_PENDING"||Qe(!1);var de={phase:"DROP_ANIMATING",completed:te,dropDuration:le,newHomeClientOffset:ce,dimensions:e.dimensions};return de}if(t.type==="DROP_COMPLETE"){var Ne=t.payload.completed;return{phase:"IDLE",completed:Ne,shouldFlush:!1}}return e},UM=function(t){return{type:"BEFORE_INITIAL_CAPTURE",payload:t}},VM=function(t){return{type:"LIFT",payload:t}},WM=function(t){return{type:"INITIAL_PUBLISH",payload:t}},qM=function(t){return{type:"PUBLISH_WHILE_DRAGGING",payload:t}},HM=function(){return{type:"COLLECTION_STARTING",payload:null}},GM=function(t){return{type:"UPDATE_DROPPABLE_SCROLL",payload:t}},QM=function(t){return{type:"UPDATE_DROPPABLE_IS_ENABLED",payload:t}},YM=function(t){return{type:"UPDATE_DROPPABLE_IS_COMBINE_ENABLED",payload:t}},DA=function(t){return{type:"MOVE",payload:t}},KM=function(t){return{type:"MOVE_BY_WINDOW_SCROLL",payload:t}},XM=function(t){return{type:"UPDATE_VIEWPORT_MAX_SCROLL",payload:t}},JM=function(){return{type:"MOVE_UP",payload:null}},ZM=function(){return{type:"MOVE_DOWN",payload:null}},e9=function(){return{type:"MOVE_RIGHT",payload:null}},t9=function(){return{type:"MOVE_LEFT",payload:null}},c2=function(){return{type:"FLUSH",payload:null}},r9=function(t){return{type:"DROP_ANIMATE",payload:t}},d2=function(t){return{type:"DROP_COMPLETE",payload:t}},LA=function(t){return{type:"DROP",payload:t}},n9=function(t){return{type:"DROP_PENDING",payload:t}},TA=function(){return{type:"DROP_ANIMATION_FINISHED",payload:null}},s9=function(e){return function(t){var n=t.getState,s=t.dispatch;return function(a){return function(i){if(i.type!=="LIFT"){a(i);return}var o=i.payload,l=o.id,c=o.clientSelection,d=o.movementMode,p=n();p.phase==="DROP_ANIMATING"&&s(d2({completed:p.completed})),n().phase!=="IDLE"&&Qe(!1),s(c2()),s(UM({draggableId:l,movementMode:d}));var u={shouldPublishImmediately:d==="SNAP"},f={draggableId:l,scrollOptions:u},m=e.startPublishing(f),g=m.critical,b=m.dimensions,j=m.viewport;s(WM({critical:g,dimensions:b,clientSelection:c,movementMode:d,viewport:j}))}}}},a9=function(e){return function(){return function(t){return function(n){n.type==="INITIAL_PUBLISH"&&e.dragging(),n.type==="DROP_ANIMATE"&&e.dropping(n.payload.completed.result.reason),(n.type==="FLUSH"||n.type==="DROP_COMPLETE")&&e.resting(),t(n)}}}},u2={outOfTheWay:"cubic-bezier(0.2, 0, 0, 1)",drop:"cubic-bezier(.2,1,.1,1)"},wp={opacity:{drop:0,combining:.7},scale:{drop:.75}},p2={outOfTheWay:.2,minDropTime:.33,maxDropTime:.55},ll=p2.outOfTheWay+"s "+u2.outOfTheWay,$u={fluid:"opacity "+ll,snap:"transform "+ll+", opacity "+ll,drop:function(t){var n=t+"s "+u2.drop;return"transform "+n+", opacity "+n},outOfTheWay:"transform "+ll,placeholder:"height "+ll+", width "+ll+", margin "+ll},Vw=function(t){return Lo(t,vn)?null:"translate("+t.x+"px, "+t.y+"px)"},n1={moveTo:Vw,drop:function(t,n){var s=Vw(t);return s?n?s+" scale("+wp.scale.drop+")":s:null}},s1=p2.minDropTime,RA=p2.maxDropTime,i9=RA-s1,Ww=1500,o9=.6,l9=function(e){var t=e.current,n=e.destination,s=e.reason,a=yp(t,n);if(a<=0)return s1;if(a>=Ww)return RA;var i=a/Ww,o=s1+i9*i,l=s==="CANCEL"?o*o9:o;return Number(l.toFixed(2))},c9=function(e){var t=e.impact,n=e.draggable,s=e.dimensions,a=e.viewport,i=e.afterCritical,o=s.draggables,l=s.droppables,c=Rs(t),d=c?l[c]:null,p=l[n.descriptor.droppableId],u=IA({impact:t,draggable:n,draggables:o,afterCritical:i,droppable:d||p,viewport:a}),f=ks(u,n.client.borderBox.center);return f},d9=function(e){var t=e.draggables,n=e.reason,s=e.lastImpact,a=e.home,i=e.viewport,o=e.onLiftImpact;if(!s.at||n!=="DROP"){var l=EA({draggables:t,impact:o,destination:a,viewport:i,forceShouldAnimate:!0});return{impact:l,didDropInsideDroppable:!1}}if(s.at.type==="REORDER")return{impact:s,didDropInsideDroppable:!0};var c=Ze({},s,{displaced:bp});return{impact:c,didDropInsideDroppable:!0}},u9=function(e){var t=e.getState,n=e.dispatch;return function(s){return function(a){if(a.type!=="DROP"){s(a);return}var i=t(),o=a.payload.reason;if(i.phase==="COLLECTING"){n(n9({reason:o}));return}if(i.phase!=="IDLE"){var l=i.phase==="DROP_PENDING"&&i.isWaiting;l&&Qe(!1),i.phase==="DRAGGING"||i.phase==="DROP_PENDING"||Qe(!1);var c=i.critical,d=i.dimensions,p=d.draggables[i.critical.draggable.id],u=d9({reason:o,lastImpact:i.impact,afterCritical:i.afterCritical,onLiftImpact:i.onLiftImpact,home:i.dimensions.droppables[i.critical.droppable.id],viewport:i.viewport,draggables:i.dimensions.draggables}),f=u.impact,m=u.didDropInsideDroppable,g=m?n2(f):null,b=m?Cx(f):null,j={index:c.draggable.index,droppableId:c.droppable.id},x={draggableId:p.descriptor.id,type:p.descriptor.type,source:j,reason:o,mode:i.movementMode,destination:g,combine:b},v=c9({impact:f,draggable:p,dimensions:d,viewport:i.viewport,afterCritical:i.afterCritical}),y={critical:i.critical,afterCritical:i.afterCritical,result:x,impact:f},P=!Lo(i.current.client.offset,v)||!!x.combine;if(!P){n(d2({completed:y}));return}var M=l9({current:i.current.client.offset,destination:v,reason:o}),O={newHomeClientOffset:v,dropDuration:M,completed:y};n(r9(O))}}}},FA=function(){return{x:window.pageXOffset,y:window.pageYOffset}};function p9(e){return{eventName:"scroll",options:{passive:!0,capture:!1},fn:function(n){n.target!==window&&n.target!==window.document||e()}}}function m9(e){var t=e.onWindowScroll;function n(){t(FA())}var s=vp(n),a=p9(s),i=Do;function o(){return i!==Do}function l(){o()&&Qe(!1),i=ra(window,[a])}function c(){o()||Qe(!1),s.cancel(),i(),i=Do}return{start:l,stop:c,isActive:o}}var f9=function(t){return t.type==="DROP_COMPLETE"||t.type==="DROP_ANIMATE"||t.type==="FLUSH"},h9=function(e){var t=m9({onWindowScroll:function(s){e.dispatch(KM({newScroll:s}))}});return function(n){return function(s){!t.isActive()&&s.type==="INITIAL_PUBLISH"&&t.start(),t.isActive()&&f9(s)&&t.stop(),n(s)}}},x9=function(e){var t=!1,n=!1,s=setTimeout(function(){n=!0}),a=function(o){t||n||(t=!0,e(o),clearTimeout(s))};return a.wasCalled=function(){return t},a},g9=function(){var e=[],t=function(i){var o=r2(e,function(d){return d.timerId===i});o===-1&&Qe(!1);var l=e.splice(o,1),c=l[0];c.callback()},n=function(i){var o=setTimeout(function(){return t(o)}),l={timerId:o,callback:i};e.push(l)},s=function(){if(e.length){var i=[].concat(e);e.length=0,i.forEach(function(o){clearTimeout(o.timerId),o.callback()})}};return{add:n,flush:s}},v9=function(t,n){return t==null&&n==null?!0:t==null||n==null?!1:t.droppableId===n.droppableId&&t.index===n.index},y9=function(t,n){return t==null&&n==null?!0:t==null||n==null?!1:t.draggableId===n.draggableId&&t.droppableId===n.droppableId},b9=function(t,n){if(t===n)return!0;var s=t.draggable.id===n.draggable.id&&t.draggable.droppableId===n.draggable.droppableId&&t.draggable.type===n.draggable.type&&t.draggable.index===n.draggable.index,a=t.droppable.id===n.droppable.id&&t.droppable.type===n.droppable.type;return s&&a},gu=function(t,n){n()},pf=function(t,n){return{draggableId:t.draggable.id,type:t.droppable.type,source:{droppableId:t.droppable.id,index:t.draggable.index},mode:n}},bv=function(t,n,s,a){if(!t){s(a(n));return}var i=x9(s),o={announce:i};t(n,o),i.wasCalled()||s(a(n))},j9=function(e,t){var n=g9(),s=null,a=function(f,m){s&&Qe(!1),gu("onBeforeCapture",function(){var g=e().onBeforeCapture;if(g){var b={draggableId:f,mode:m};g(b)}})},i=function(f,m){s&&Qe(!1),gu("onBeforeDragStart",function(){var g=e().onBeforeDragStart;g&&g(pf(f,m))})},o=function(f,m){s&&Qe(!1);var g=pf(f,m);s={mode:m,lastCritical:f,lastLocation:g.source,lastCombine:null},n.add(function(){gu("onDragStart",function(){return bv(e().onDragStart,g,t,zf.onDragStart)})})},l=function(f,m){var g=n2(m),b=Cx(m);s||Qe(!1);var j=!b9(f,s.lastCritical);j&&(s.lastCritical=f);var x=!v9(s.lastLocation,g);x&&(s.lastLocation=g);var v=!y9(s.lastCombine,b);if(v&&(s.lastCombine=b),!(!j&&!x&&!v)){var y=Ze({},pf(f,s.mode),{combine:b,destination:g});n.add(function(){gu("onDragUpdate",function(){return bv(e().onDragUpdate,y,t,zf.onDragUpdate)})})}},c=function(){s||Qe(!1),n.flush()},d=function(f){s||Qe(!1),s=null,gu("onDragEnd",function(){return bv(e().onDragEnd,f,t,zf.onDragEnd)})},p=function(){if(s){var f=Ze({},pf(s.lastCritical,s.mode),{combine:null,destination:null,reason:"CANCEL"});d(f)}};return{beforeCapture:a,beforeStart:i,start:o,update:l,flush:c,drop:d,abort:p}},w9=function(e,t){var n=j9(e,t);return function(s){return function(a){return function(i){if(i.type==="BEFORE_INITIAL_CAPTURE"){n.beforeCapture(i.payload.draggableId,i.payload.movementMode);return}if(i.type==="INITIAL_PUBLISH"){var o=i.payload.critical;n.beforeStart(o,i.payload.movementMode),a(i),n.start(o,i.payload.movementMode);return}if(i.type==="DROP_COMPLETE"){var l=i.payload.completed.result;n.flush(),a(i),n.drop(l);return}if(a(i),i.type==="FLUSH"){n.abort();return}var c=s.getState();c.phase==="DRAGGING"&&n.update(c.critical,c.impact)}}}},N9=function(e){return function(t){return function(n){if(n.type!=="DROP_ANIMATION_FINISHED"){t(n);return}var s=e.getState();s.phase!=="DROP_ANIMATING"&&Qe(!1),e.dispatch(d2({completed:s.completed}))}}},S9=function(e){var t=null,n=null;function s(){n&&(cancelAnimationFrame(n),n=null),t&&(t(),t=null)}return function(a){return function(i){if((i.type==="FLUSH"||i.type==="DROP_COMPLETE"||i.type==="DROP_ANIMATION_FINISHED")&&s(),a(i),i.type==="DROP_ANIMATE"){var o={eventName:"scroll",options:{capture:!0,passive:!1,once:!0},fn:function(){var c=e.getState();c.phase==="DROP_ANIMATING"&&e.dispatch(TA())}};n=requestAnimationFrame(function(){n=null,t=ra(window,[o])})}}}},C9=function(e){return function(){return function(t){return function(n){(n.type==="DROP_COMPLETE"||n.type==="FLUSH"||n.type==="DROP_ANIMATE")&&e.stopPublishing(),t(n)}}}},A9=function(e){var t=!1;return function(){return function(n){return function(s){if(s.type==="INITIAL_PUBLISH"){t=!0,e.tryRecordFocus(s.payload.critical.draggable.id),n(s),e.tryRestoreFocusRecorded();return}if(n(s),!!t){if(s.type==="FLUSH"){t=!1,e.tryRestoreFocusRecorded();return}if(s.type==="DROP_COMPLETE"){t=!1;var a=s.payload.completed.result;a.combine&&e.tryShiftRecord(a.draggableId,a.combine.draggableId),e.tryRestoreFocusRecorded()}}}}}},E9=function(t){return t.type==="DROP_COMPLETE"||t.type==="DROP_ANIMATE"||t.type==="FLUSH"},I9=function(e){return function(t){return function(n){return function(s){if(E9(s)){e.stop(),n(s);return}if(s.type==="INITIAL_PUBLISH"){n(s);var a=t.getState();a.phase!=="DRAGGING"&&Qe(!1),e.start(a);return}n(s),e.scroll(t.getState())}}}},P9=function(e){return function(t){return function(n){if(t(n),n.type==="PUBLISH_WHILE_DRAGGING"){var s=e.getState();s.phase==="DROP_PENDING"&&(s.isWaiting||e.dispatch(LA({reason:s.reason})))}}}},k9=$C,D9=function(e){var t=e.dimensionMarshal,n=e.focusMarshal,s=e.styleMarshal,a=e.getResponders,i=e.announce,o=e.autoScroller;return zC($M,k9(x_(a9(s),C9(t),s9(t),u9,N9,S9,P9,I9(o),h9,A9(n),w9(a,i))))},jv=function(){return{additions:{},removals:{},modified:{}}};function L9(e){var t=e.registry,n=e.callbacks,s=jv(),a=null,i=function(){a||(n.collectionStarting(),a=requestAnimationFrame(function(){a=null;var p=s,u=p.additions,f=p.removals,m=p.modified,g=Object.keys(u).map(function(x){return t.draggable.getById(x).getDimension(vn)}).sort(function(x,v){return x.descriptor.index-v.descriptor.index}),b=Object.keys(m).map(function(x){var v=t.droppable.getById(x),y=v.callbacks.getScrollWhileDragging();return{droppableId:x,scroll:y}}),j={additions:g,removals:Object.keys(f),modified:b};s=jv(),n.publish(j)}))},o=function(p){var u=p.descriptor.id;s.additions[u]=p,s.modified[p.descriptor.droppableId]=!0,s.removals[u]&&delete s.removals[u],i()},l=function(p){var u=p.descriptor;s.removals[u.id]=!0,s.modified[u.droppableId]=!0,s.additions[u.id]&&delete s.additions[u.id],i()},c=function(){a&&(cancelAnimationFrame(a),a=null,s=jv())};return{add:o,remove:l,stop:c}}var _A=function(e){var t=e.scrollHeight,n=e.scrollWidth,s=e.height,a=e.width,i=ks({x:n,y:t},{x:a,y:s}),o={x:Math.max(0,i.x),y:Math.max(0,i.y)};return o},OA=function(){var e=document.documentElement;return e||Qe(!1),e},MA=function(){var e=OA(),t=_A({scrollHeight:e.scrollHeight,scrollWidth:e.scrollWidth,width:e.clientWidth,height:e.clientHeight});return t},T9=function(){var e=FA(),t=MA(),n=e.y,s=e.x,a=OA(),i=a.clientWidth,o=a.clientHeight,l=s+i,c=n+o,d=Da({top:n,left:s,right:l,bottom:c}),p={frame:d,scroll:{initial:e,current:e,max:t,diff:{value:vn,displacement:vn}}};return p},R9=function(e){var t=e.critical,n=e.scrollOptions,s=e.registry,a=T9(),i=a.scroll.current,o=t.droppable,l=s.droppable.getAllByType(o.type).map(function(u){return u.callbacks.getDimensionAndWatchScroll(i,n)}),c=s.draggable.getAllByType(t.draggable.type).map(function(u){return u.getDimension(i)}),d={draggables:mA(c),droppables:pA(l)},p={dimensions:d,critical:t,viewport:a};return p};function qw(e,t,n){if(n.descriptor.id===t.id||n.descriptor.type!==t.type)return!1;var s=e.droppable.getById(n.descriptor.droppableId);return s.descriptor.mode==="virtual"}var F9=function(e,t){var n=null,s=L9({callbacks:{publish:t.publishWhileDragging,collectionStarting:t.collectionStarting},registry:e}),a=function(m,g){e.droppable.exists(m)||Qe(!1),n&&t.updateDroppableIsEnabled({id:m,isEnabled:g})},i=function(m,g){n&&(e.droppable.exists(m)||Qe(!1),t.updateDroppableIsCombineEnabled({id:m,isCombineEnabled:g}))},o=function(m,g){n&&(e.droppable.exists(m)||Qe(!1),t.updateDroppableScroll({id:m,newScroll:g}))},l=function(m,g){n&&e.droppable.getById(m).callbacks.scroll(g)},c=function(){if(n){s.stop();var m=n.critical.droppable;e.droppable.getAllByType(m.type).forEach(function(g){return g.callbacks.dragStopped()}),n.unsubscribe(),n=null}},d=function(m){n||Qe(!1);var g=n.critical.draggable;m.type==="ADDITION"&&qw(e,g,m.value)&&s.add(m.value),m.type==="REMOVAL"&&qw(e,g,m.value)&&s.remove(m.value)},p=function(m){n&&Qe(!1);var g=e.draggable.getById(m.draggableId),b=e.droppable.getById(g.descriptor.droppableId),j={draggable:g.descriptor,droppable:b.descriptor},x=e.subscribe(d);return n={critical:j,unsubscribe:x},R9({critical:j,registry:e,scrollOptions:m.scrollOptions})},u={updateDroppableIsEnabled:a,updateDroppableIsCombineEnabled:i,scrollDroppable:l,updateDroppableScroll:o,startPublishing:p,stopPublishing:c};return u},BA=function(e,t){return e.phase==="IDLE"?!0:e.phase!=="DROP_ANIMATING"||e.completed.result.draggableId===t?!1:e.completed.result.reason==="DROP"},_9=function(e){window.scrollBy(e.x,e.y)},O9=gn(function(e){return Sx(e).filter(function(t){return!(!t.isEnabled||!t.frame)})}),M9=function(t,n){var s=Yo(O9(n),function(a){return a.frame||Qe(!1),NA(a.frame.pageMarginBox)(t)});return s},B9=function(e){var t=e.center,n=e.destination,s=e.droppables;if(n){var a=s[n];return a.frame?a:null}var i=M9(t,s);return i},To={startFromPercentage:.25,maxScrollAtPercentage:.05,maxPixelScroll:28,ease:function(t){return Math.pow(t,2)},durationDampening:{stopDampeningAt:1200,accelerateAt:360}},z9=function(e,t){var n=e[t.size]*To.startFromPercentage,s=e[t.size]*To.maxScrollAtPercentage,a={startScrollingFrom:n,maxScrollValueAt:s};return a},zA=function(e){var t=e.startOfRange,n=e.endOfRange,s=e.current,a=n-t;if(a===0)return 0;var i=s-t,o=i/a;return o},m2=1,$9=function(e,t){if(e>t.startScrollingFrom)return 0;if(e<=t.maxScrollValueAt)return To.maxPixelScroll;if(e===t.startScrollingFrom)return m2;var n=zA({startOfRange:t.maxScrollValueAt,endOfRange:t.startScrollingFrom,current:e}),s=1-n,a=To.maxPixelScroll*To.ease(s);return Math.ceil(a)},Hw=To.durationDampening.accelerateAt,Gw=To.durationDampening.stopDampeningAt,U9=function(e,t){var n=t,s=Gw,a=Date.now(),i=a-n;if(i>=Gw)return e;if(i<Hw)return m2;var o=zA({startOfRange:Hw,endOfRange:s,current:i}),l=e*To.ease(o);return Math.ceil(l)},Qw=function(e){var t=e.distanceToEdge,n=e.thresholds,s=e.dragStartTime,a=e.shouldUseTimeDampening,i=$9(t,n);return i===0?0:a?Math.max(U9(i,s),m2):i},Yw=function(e){var t=e.container,n=e.distanceToEdges,s=e.dragStartTime,a=e.axis,i=e.shouldUseTimeDampening,o=z9(t,a),l=n[a.end]<n[a.start];return l?Qw({distanceToEdge:n[a.end],thresholds:o,dragStartTime:s,shouldUseTimeDampening:i}):-1*Qw({distanceToEdge:n[a.start],thresholds:o,dragStartTime:s,shouldUseTimeDampening:i})},V9=function(e){var t=e.container,n=e.subject,s=e.proposedScroll,a=n.height>t.height,i=n.width>t.width;return!i&&!a?s:i&&a?null:{x:i?0:s.x,y:a?0:s.y}},W9=dA(function(e){return e===0?0:e}),$A=function(e){var t=e.dragStartTime,n=e.container,s=e.subject,a=e.center,i=e.shouldUseTimeDampening,o={top:a.y-n.top,right:n.right-a.x,bottom:n.bottom-a.y,left:a.x-n.left},l=Yw({container:n,distanceToEdges:o,dragStartTime:t,axis:s2,shouldUseTimeDampening:i}),c=Yw({container:n,distanceToEdges:o,dragStartTime:t,axis:xA,shouldUseTimeDampening:i}),d=W9({x:c,y:l});if(Lo(d,vn))return null;var p=V9({container:n,subject:s,proposedScroll:d});return p?Lo(p,vn)?null:p:null},q9=dA(function(e){return e===0?0:e>0?1:-1}),f2=function(){var e=function(n,s){return n<0?n:n>s?n-s:0};return function(t){var n=t.current,s=t.max,a=t.change,i=In(n,a),o={x:e(i.x,s.x),y:e(i.y,s.y)};return Lo(o,vn)?null:o}}(),UA=function(t){var n=t.max,s=t.current,a=t.change,i={x:Math.max(s.x,n.x),y:Math.max(s.y,n.y)},o=q9(a),l=f2({max:i,current:s,change:o});return!l||o.x!==0&&l.x===0||o.y!==0&&l.y===0},h2=function(t,n){return UA({current:t.scroll.current,max:t.scroll.max,change:n})},H9=function(t,n){if(!h2(t,n))return null;var s=t.scroll.max,a=t.scroll.current;return f2({current:a,max:s,change:n})},x2=function(t,n){var s=t.frame;return s?UA({current:s.scroll.current,max:s.scroll.max,change:n}):!1},G9=function(t,n){var s=t.frame;return!s||!x2(t,n)?null:f2({current:s.scroll.current,max:s.scroll.max,change:n})},Q9=function(e){var t=e.viewport,n=e.subject,s=e.center,a=e.dragStartTime,i=e.shouldUseTimeDampening,o=$A({dragStartTime:a,container:t.frame,subject:n,center:s,shouldUseTimeDampening:i});return o&&h2(t,o)?o:null},Y9=function(e){var t=e.droppable,n=e.subject,s=e.center,a=e.dragStartTime,i=e.shouldUseTimeDampening,o=t.frame;if(!o)return null;var l=$A({dragStartTime:a,container:o.pageMarginBox,subject:n,center:s,shouldUseTimeDampening:i});return l&&x2(t,l)?l:null},Kw=function(e){var t=e.state,n=e.dragStartTime,s=e.shouldUseTimeDampening,a=e.scrollWindow,i=e.scrollDroppable,o=t.current.page.borderBoxCenter,l=t.dimensions.draggables[t.critical.draggable.id],c=l.page.marginBox;if(t.isWindowScrollAllowed){var d=t.viewport,p=Q9({dragStartTime:n,viewport:d,subject:c,center:o,shouldUseTimeDampening:s});if(p){a(p);return}}var u=B9({center:o,destination:Rs(t.impact),droppables:t.dimensions.droppables});if(u){var f=Y9({dragStartTime:n,droppable:u,subject:c,center:o,shouldUseTimeDampening:s});f&&i(u.descriptor.id,f)}},K9=function(e){var t=e.scrollWindow,n=e.scrollDroppable,s=vp(t),a=vp(n),i=null,o=function(p){i||Qe(!1);var u=i,f=u.shouldUseTimeDampening,m=u.dragStartTime;Kw({state:p,scrollWindow:s,scrollDroppable:a,dragStartTime:m,shouldUseTimeDampening:f})},l=function(p){i&&Qe(!1);var u=Date.now(),f=!1,m=function(){f=!0};Kw({state:p,dragStartTime:0,shouldUseTimeDampening:!1,scrollWindow:m,scrollDroppable:m}),i={dragStartTime:u,shouldUseTimeDampening:f},f&&o(p)},c=function(){i&&(s.cancel(),a.cancel(),i=null)};return{start:l,stop:c,scroll:o}},X9=function(e){var t=e.move,n=e.scrollDroppable,s=e.scrollWindow,a=function(d,p){var u=In(d.current.client.selection,p);t({client:u})},i=function(d,p){if(!x2(d,p))return p;var u=G9(d,p);if(!u)return n(d.descriptor.id,p),null;var f=ks(p,u);n(d.descriptor.id,f);var m=ks(p,f);return m},o=function(d,p,u){if(!d||!h2(p,u))return u;var f=H9(p,u);if(!f)return s(u),null;var m=ks(u,f);s(m);var g=ks(u,m);return g},l=function(d){var p=d.scrollJumpRequest;if(p){var u=Rs(d.impact);u||Qe(!1);var f=i(d.dimensions.droppables[u],p);if(f){var m=d.viewport,g=o(d.isWindowScrollAllowed,m,f);g&&a(d,g)}}};return l},J9=function(e){var t=e.scrollDroppable,n=e.scrollWindow,s=e.move,a=K9({scrollWindow:n,scrollDroppable:t}),i=X9({move:s,scrollWindow:n,scrollDroppable:t}),o=function(d){if(d.phase==="DRAGGING"){if(d.movementMode==="FLUID"){a.scroll(d);return}d.scrollJumpRequest&&i(d)}},l={scroll:o,start:a.start,stop:a.stop};return l},fd="data-rbd",hd=function(){var e=fd+"-drag-handle";return{base:e,draggableId:e+"-draggable-id",contextId:e+"-context-id"}}(),a1=function(){var e=fd+"-draggable";return{base:e,contextId:e+"-context-id",id:e+"-id"}}(),Z9=function(){var e=fd+"-droppable";return{base:e,contextId:e+"-context-id",id:e+"-id"}}(),Xw={contextId:fd+"-scroll-container-context-id"},eB=function(t){return function(n){return"["+n+'="'+t+'"]'}},vu=function(t,n){return t.map(function(s){var a=s.styles[n];return a?s.selector+" { "+a+" }":""}).join(" ")},tB="pointer-events: none;",rB=function(e){var t=eB(e),n=function(){var l=`
      cursor: -webkit-grab;
      cursor: grab;
    `;return{selector:t(hd.contextId),styles:{always:`
          -webkit-touch-callout: none;
          -webkit-tap-highlight-color: rgba(0,0,0,0);
          touch-action: manipulation;
        `,resting:l,dragging:tB,dropAnimating:l}}}(),s=function(){var l=`
      transition: `+$u.outOfTheWay+`;
    `;return{selector:t(a1.contextId),styles:{dragging:l,dropAnimating:l,userCancel:l}}}(),a={selector:t(Z9.contextId),styles:{always:"overflow-anchor: none;"}},i={selector:"body",styles:{dragging:`
        cursor: grabbing;
        cursor: -webkit-grabbing;
        user-select: none;
        -webkit-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        overflow-anchor: none;
      `}},o=[s,n,a,i];return{always:vu(o,"always"),resting:vu(o,"resting"),dragging:vu(o,"dragging"),dropAnimating:vu(o,"dropAnimating"),userCancel:vu(o,"userCancel")}},Fs=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?A.useLayoutEffect:A.useEffect,wv=function(){var t=document.querySelector("head");return t||Qe(!1),t},Jw=function(t){var n=document.createElement("style");return t&&n.setAttribute("nonce",t),n.type="text/css",n};function nB(e,t){var n=Gt(function(){return rB(e)},[e]),s=A.useRef(null),a=A.useRef(null),i=vt(gn(function(u){var f=a.current;f||Qe(!1),f.textContent=u}),[]),o=vt(function(u){var f=s.current;f||Qe(!1),f.textContent=u},[]);Fs(function(){!s.current&&!a.current||Qe(!1);var u=Jw(t),f=Jw(t);return s.current=u,a.current=f,u.setAttribute(fd+"-always",e),f.setAttribute(fd+"-dynamic",e),wv().appendChild(u),wv().appendChild(f),o(n.always),i(n.resting),function(){var m=function(b){var j=b.current;j||Qe(!1),wv().removeChild(j),b.current=null};m(s),m(a)}},[t,o,i,n.always,n.resting,e]);var l=vt(function(){return i(n.dragging)},[i,n.dragging]),c=vt(function(u){if(u==="DROP"){i(n.dropAnimating);return}i(n.userCancel)},[i,n.dropAnimating,n.userCancel]),d=vt(function(){a.current&&i(n.resting)},[i,n.resting]),p=Gt(function(){return{dragging:l,dropping:c,resting:d}},[l,c,d]);return p}var VA=function(e){return e&&e.ownerDocument?e.ownerDocument.defaultView:window};function Ix(e){return e instanceof VA(e).HTMLElement}function sB(e,t){var n="["+hd.contextId+'="'+e+'"]',s=uA(document.querySelectorAll(n));if(!s.length)return null;var a=Yo(s,function(i){return i.getAttribute(hd.draggableId)===t});return!a||!Ix(a)?null:a}function aB(e){var t=A.useRef({}),n=A.useRef(null),s=A.useRef(null),a=A.useRef(!1),i=vt(function(f,m){var g={id:f,focus:m};return t.current[f]=g,function(){var j=t.current,x=j[f];x!==g&&delete j[f]}},[]),o=vt(function(f){var m=sB(e,f);m&&m!==document.activeElement&&m.focus()},[e]),l=vt(function(f,m){n.current===f&&(n.current=m)},[]),c=vt(function(){s.current||a.current&&(s.current=requestAnimationFrame(function(){s.current=null;var f=n.current;f&&o(f)}))},[o]),d=vt(function(f){n.current=null;var m=document.activeElement;m&&m.getAttribute(hd.draggableId)===f&&(n.current=f)},[]);Fs(function(){return a.current=!0,function(){a.current=!1;var f=s.current;f&&cancelAnimationFrame(f)}},[]);var p=Gt(function(){return{register:i,tryRecordFocus:d,tryRestoreFocusRecorded:c,tryShiftRecord:l}},[i,d,c,l]);return p}function iB(){var e={draggables:{},droppables:{}},t=[];function n(u){return t.push(u),function(){var m=t.indexOf(u);m!==-1&&t.splice(m,1)}}function s(u){t.length&&t.forEach(function(f){return f(u)})}function a(u){return e.draggables[u]||null}function i(u){var f=a(u);return f||Qe(!1),f}var o={register:function(f){e.draggables[f.descriptor.id]=f,s({type:"ADDITION",value:f})},update:function(f,m){var g=e.draggables[m.descriptor.id];g&&g.uniqueId===f.uniqueId&&(delete e.draggables[m.descriptor.id],e.draggables[f.descriptor.id]=f)},unregister:function(f){var m=f.descriptor.id,g=a(m);g&&f.uniqueId===g.uniqueId&&(delete e.draggables[m],s({type:"REMOVAL",value:f}))},getById:i,findById:a,exists:function(f){return!!a(f)},getAllByType:function(f){return kh(e.draggables).filter(function(m){return m.descriptor.type===f})}};function l(u){return e.droppables[u]||null}function c(u){var f=l(u);return f||Qe(!1),f}var d={register:function(f){e.droppables[f.descriptor.id]=f},unregister:function(f){var m=l(f.descriptor.id);m&&f.uniqueId===m.uniqueId&&delete e.droppables[f.descriptor.id]},getById:c,findById:l,exists:function(f){return!!l(f)},getAllByType:function(f){return kh(e.droppables).filter(function(m){return m.descriptor.type===f})}};function p(){e.draggables={},e.droppables={},t.length=0}return{draggable:o,droppable:d,subscribe:n,clean:p}}function oB(){var e=Gt(iB,[]);return A.useEffect(function(){return function(){requestAnimationFrame(e.clean)}},[e]),e}var g2=Dt.createContext(null),Lh=function(){var e=document.body;return e||Qe(!1),e},lB={position:"absolute",width:"1px",height:"1px",margin:"-1px",border:"0",padding:"0",overflow:"hidden",clip:"rect(0 0 0 0)","clip-path":"inset(100%)"},cB=function(t){return"rbd-announcement-"+t};function dB(e){var t=Gt(function(){return cB(e)},[e]),n=A.useRef(null);A.useEffect(function(){var i=document.createElement("div");return n.current=i,i.id=t,i.setAttribute("aria-live","assertive"),i.setAttribute("aria-atomic","true"),Ze(i.style,lB),Lh().appendChild(i),function(){setTimeout(function(){var c=Lh();c.contains(i)&&c.removeChild(i),i===n.current&&(n.current=null)})}},[t]);var s=vt(function(a){var i=n.current;if(i){i.textContent=a;return}},[]);return s}var uB=0,pB={separator:"::"};function v2(e,t){return t===void 0&&(t=pB),Gt(function(){return""+e+t.separator+uB++},[t.separator,e])}function mB(e){var t=e.contextId,n=e.uniqueId;return"rbd-hidden-text-"+t+"-"+n}function fB(e){var t=e.contextId,n=e.text,s=v2("hidden-text",{separator:"-"}),a=Gt(function(){return mB({contextId:t,uniqueId:s})},[s,t]);return A.useEffect(function(){var o=document.createElement("div");return o.id=a,o.textContent=n,o.style.display="none",Lh().appendChild(o),function(){var c=Lh();c.contains(o)&&c.removeChild(o)}},[a,n]),a}var Px=Dt.createContext(null);function WA(e){var t=A.useRef(e);return A.useEffect(function(){t.current=e}),t}function hB(){var e=null;function t(){return!!e}function n(o){return o===e}function s(o){e&&Qe(!1);var l={abandon:o};return e=l,l}function a(){e||Qe(!1),e=null}function i(){e&&(e.abandon(),a())}return{isClaimed:t,isActive:n,claim:s,release:a,tryAbandon:i}}var xB=9,gB=13,y2=27,qA=32,vB=33,yB=34,bB=35,jB=36,wB=37,NB=38,SB=39,CB=40,mf,AB=(mf={},mf[gB]=!0,mf[xB]=!0,mf),HA=function(e){AB[e.keyCode]&&e.preventDefault()},kx=function(){var e="visibilitychange";if(typeof document>"u")return e;var t=[e,"ms"+e,"webkit"+e,"moz"+e,"o"+e],n=Yo(t,function(s){return"on"+s in document});return n||e}(),GA=0,Zw=5;function EB(e,t){return Math.abs(t.x-e.x)>=Zw||Math.abs(t.y-e.y)>=Zw}var e5={type:"IDLE"};function IB(e){var t=e.cancel,n=e.completed,s=e.getPhase,a=e.setPhase;return[{eventName:"mousemove",fn:function(o){var l=o.button,c=o.clientX,d=o.clientY;if(l===GA){var p={x:c,y:d},u=s();if(u.type==="DRAGGING"){o.preventDefault(),u.actions.move(p);return}u.type!=="PENDING"&&Qe(!1);var f=u.point;if(EB(f,p)){o.preventDefault();var m=u.actions.fluidLift(p);a({type:"DRAGGING",actions:m})}}}},{eventName:"mouseup",fn:function(o){var l=s();if(l.type!=="DRAGGING"){t();return}o.preventDefault(),l.actions.drop({shouldBlockNextClick:!0}),n()}},{eventName:"mousedown",fn:function(o){s().type==="DRAGGING"&&o.preventDefault(),t()}},{eventName:"keydown",fn:function(o){var l=s();if(l.type==="PENDING"){t();return}if(o.keyCode===y2){o.preventDefault(),t();return}HA(o)}},{eventName:"resize",fn:t},{eventName:"scroll",options:{passive:!0,capture:!1},fn:function(){s().type==="PENDING"&&t()}},{eventName:"webkitmouseforcedown",fn:function(o){var l=s();if(l.type==="IDLE"&&Qe(!1),l.actions.shouldRespectForcePress()){t();return}o.preventDefault()}},{eventName:kx,fn:t}]}function PB(e){var t=A.useRef(e5),n=A.useRef(Do),s=Gt(function(){return{eventName:"mousedown",fn:function(u){if(!u.defaultPrevented&&u.button===GA&&!(u.ctrlKey||u.metaKey||u.shiftKey||u.altKey)){var f=e.findClosestDraggableId(u);if(f){var m=e.tryGetLock(f,o,{sourceEvent:u});if(m){u.preventDefault();var g={x:u.clientX,y:u.clientY};n.current(),d(m,g)}}}}}},[e]),a=Gt(function(){return{eventName:"webkitmouseforcewillbegin",fn:function(u){if(!u.defaultPrevented){var f=e.findClosestDraggableId(u);if(f){var m=e.findOptionsForDraggable(f);m&&(m.shouldRespectForcePress||e.canGetLock(f)&&u.preventDefault())}}}}},[e]),i=vt(function(){var u={passive:!1,capture:!0};n.current=ra(window,[a,s],u)},[a,s]),o=vt(function(){var p=t.current;p.type!=="IDLE"&&(t.current=e5,n.current(),i())},[i]),l=vt(function(){var p=t.current;o(),p.type==="DRAGGING"&&p.actions.cancel({shouldBlockNextClick:!0}),p.type==="PENDING"&&p.actions.abort()},[o]),c=vt(function(){var u={capture:!0,passive:!1},f=IB({cancel:l,completed:o,getPhase:function(){return t.current},setPhase:function(g){t.current=g}});n.current=ra(window,f,u)},[l,o]),d=vt(function(u,f){t.current.type!=="IDLE"&&Qe(!1),t.current={type:"PENDING",point:f,actions:u},c()},[c]);Fs(function(){return i(),function(){n.current()}},[i])}var Ec;function kB(){}var DB=(Ec={},Ec[yB]=!0,Ec[vB]=!0,Ec[jB]=!0,Ec[bB]=!0,Ec);function LB(e,t){function n(){t(),e.cancel()}function s(){t(),e.drop()}return[{eventName:"keydown",fn:function(i){if(i.keyCode===y2){i.preventDefault(),n();return}if(i.keyCode===qA){i.preventDefault(),s();return}if(i.keyCode===CB){i.preventDefault(),e.moveDown();return}if(i.keyCode===NB){i.preventDefault(),e.moveUp();return}if(i.keyCode===SB){i.preventDefault(),e.moveRight();return}if(i.keyCode===wB){i.preventDefault(),e.moveLeft();return}if(DB[i.keyCode]){i.preventDefault();return}HA(i)}},{eventName:"mousedown",fn:n},{eventName:"mouseup",fn:n},{eventName:"click",fn:n},{eventName:"touchstart",fn:n},{eventName:"resize",fn:n},{eventName:"wheel",fn:n,options:{passive:!0}},{eventName:kx,fn:n}]}function TB(e){var t=A.useRef(kB),n=Gt(function(){return{eventName:"keydown",fn:function(i){if(i.defaultPrevented||i.keyCode!==qA)return;var o=e.findClosestDraggableId(i);if(!o)return;var l=e.tryGetLock(o,p,{sourceEvent:i});if(!l)return;i.preventDefault();var c=!0,d=l.snapLift();t.current();function p(){c||Qe(!1),c=!1,t.current(),s()}t.current=ra(window,LB(d,p),{capture:!0,passive:!1})}}},[e]),s=vt(function(){var i={passive:!1,capture:!0};t.current=ra(window,[n],i)},[n]);Fs(function(){return s(),function(){t.current()}},[s])}var Nv={type:"IDLE"},RB=120,FB=.15;function _B(e){var t=e.cancel,n=e.getPhase;return[{eventName:"orientationchange",fn:t},{eventName:"resize",fn:t},{eventName:"contextmenu",fn:function(a){a.preventDefault()}},{eventName:"keydown",fn:function(a){if(n().type!=="DRAGGING"){t();return}a.keyCode===y2&&a.preventDefault(),t()}},{eventName:kx,fn:t}]}function OB(e){var t=e.cancel,n=e.completed,s=e.getPhase;return[{eventName:"touchmove",options:{capture:!1},fn:function(i){var o=s();if(o.type!=="DRAGGING"){t();return}o.hasMoved=!0;var l=i.touches[0],c=l.clientX,d=l.clientY,p={x:c,y:d};i.preventDefault(),o.actions.move(p)}},{eventName:"touchend",fn:function(i){var o=s();if(o.type!=="DRAGGING"){t();return}i.preventDefault(),o.actions.drop({shouldBlockNextClick:!0}),n()}},{eventName:"touchcancel",fn:function(i){if(s().type!=="DRAGGING"){t();return}i.preventDefault(),t()}},{eventName:"touchforcechange",fn:function(i){var o=s();o.type==="IDLE"&&Qe(!1);var l=i.touches[0];if(l){var c=l.force>=FB;if(c){var d=o.actions.shouldRespectForcePress();if(o.type==="PENDING"){d&&t();return}if(d){if(o.hasMoved){i.preventDefault();return}t();return}i.preventDefault()}}}},{eventName:kx,fn:t}]}function MB(e){var t=A.useRef(Nv),n=A.useRef(Do),s=vt(function(){return t.current},[]),a=vt(function(m){t.current=m},[]),i=Gt(function(){return{eventName:"touchstart",fn:function(m){if(!m.defaultPrevented){var g=e.findClosestDraggableId(m);if(g){var b=e.tryGetLock(g,l,{sourceEvent:m});if(b){var j=m.touches[0],x=j.clientX,v=j.clientY,y={x,y:v};n.current(),u(b,y)}}}}}},[e]),o=vt(function(){var m={capture:!0,passive:!1};n.current=ra(window,[i],m)},[i]),l=vt(function(){var f=t.current;f.type!=="IDLE"&&(f.type==="PENDING"&&clearTimeout(f.longPressTimerId),a(Nv),n.current(),o())},[o,a]),c=vt(function(){var f=t.current;l(),f.type==="DRAGGING"&&f.actions.cancel({shouldBlockNextClick:!0}),f.type==="PENDING"&&f.actions.abort()},[l]),d=vt(function(){var m={capture:!0,passive:!1},g={cancel:c,completed:l,getPhase:s},b=ra(window,OB(g),m),j=ra(window,_B(g),m);n.current=function(){b(),j()}},[c,s,l]),p=vt(function(){var m=s();m.type!=="PENDING"&&Qe(!1);var g=m.actions.fluidLift(m.point);a({type:"DRAGGING",actions:g,hasMoved:!1})},[s,a]),u=vt(function(m,g){s().type!=="IDLE"&&Qe(!1);var b=setTimeout(p,RB);a({type:"PENDING",point:g,actions:m,longPressTimerId:b}),d()},[d,s,a,p]);Fs(function(){return o(),function(){n.current();var g=s();g.type==="PENDING"&&(clearTimeout(g.longPressTimerId),a(Nv))}},[s,o,a]),Fs(function(){var m=ra(window,[{eventName:"touchmove",fn:function(){},options:{capture:!1,passive:!1}}]);return m},[])}var BB={input:!0,button:!0,textarea:!0,select:!0,option:!0,optgroup:!0,video:!0,audio:!0};function QA(e,t){if(t==null)return!1;var n=!!BB[t.tagName.toLowerCase()];if(n)return!0;var s=t.getAttribute("contenteditable");return s==="true"||s===""?!0:t===e?!1:QA(e,t.parentElement)}function zB(e,t){var n=t.target;return Ix(n)?QA(e,n):!1}var $B=function(e){return Da(e.getBoundingClientRect()).center};function UB(e){return e instanceof VA(e).Element}var VB=function(){var e="matches";if(typeof document>"u")return e;var t=[e,"msMatchesSelector","webkitMatchesSelector"],n=Yo(t,function(s){return s in Element.prototype});return n||e}();function YA(e,t){return e==null?null:e[VB](t)?e:YA(e.parentElement,t)}function WB(e,t){return e.closest?e.closest(t):YA(e,t)}function qB(e){return"["+hd.contextId+'="'+e+'"]'}function HB(e,t){var n=t.target;if(!UB(n))return null;var s=qB(e),a=WB(n,s);return!a||!Ix(a)?null:a}function GB(e,t){var n=HB(e,t);return n?n.getAttribute(hd.draggableId):null}function QB(e,t){var n="["+a1.contextId+'="'+e+'"]',s=uA(document.querySelectorAll(n)),a=Yo(s,function(i){return i.getAttribute(a1.id)===t});return!a||!Ix(a)?null:a}function YB(e){e.preventDefault()}function ff(e){var t=e.expected,n=e.phase,s=e.isLockActive;return e.shouldWarn,!(!s()||t!==n)}function KA(e){var t=e.lockAPI,n=e.store,s=e.registry,a=e.draggableId;if(t.isClaimed())return!1;var i=s.draggable.findById(a);return!(!i||!i.options.isEnabled||!BA(n.getState(),a))}function KB(e){var t=e.lockAPI,n=e.contextId,s=e.store,a=e.registry,i=e.draggableId,o=e.forceSensorStop,l=e.sourceEvent,c=KA({lockAPI:t,store:s,registry:a,draggableId:i});if(!c)return null;var d=a.draggable.getById(i),p=QB(n,d.descriptor.id);if(!p||l&&!d.options.canDragInteractiveElements&&zB(p,l))return null;var u=t.claim(o||Do),f="PRE_DRAG";function m(){return d.options.shouldRespectForcePress}function g(){return t.isActive(u)}function b(O,E){ff({expected:O,phase:f,isLockActive:g,shouldWarn:!0})&&s.dispatch(E())}var j=b.bind(null,"DRAGGING");function x(O){function E(){t.release(),f="COMPLETED"}f!=="PRE_DRAG"&&(E(),f!=="PRE_DRAG"&&Qe(!1)),s.dispatch(VM(O.liftActionArgs)),f="DRAGGING";function S(k,D){if(D===void 0&&(D={shouldBlockNextClick:!1}),O.cleanup(),D.shouldBlockNextClick){var C=ra(window,[{eventName:"click",fn:YB,options:{once:!0,passive:!1,capture:!0}}]);setTimeout(C)}E(),s.dispatch(LA({reason:k}))}return Ze({isActive:function(){return ff({expected:"DRAGGING",phase:f,isLockActive:g,shouldWarn:!1})},shouldRespectForcePress:m,drop:function(D){return S("DROP",D)},cancel:function(D){return S("CANCEL",D)}},O.actions)}function v(O){var E=vp(function(k){j(function(){return DA({client:k})})}),S=x({liftActionArgs:{id:i,clientSelection:O,movementMode:"FLUID"},cleanup:function(){return E.cancel()},actions:{move:E}});return Ze({},S,{move:E})}function y(){var O={moveUp:function(){return j(JM)},moveRight:function(){return j(e9)},moveDown:function(){return j(ZM)},moveLeft:function(){return j(t9)}};return x({liftActionArgs:{id:i,clientSelection:$B(p),movementMode:"SNAP"},cleanup:Do,actions:O})}function P(){var O=ff({expected:"PRE_DRAG",phase:f,isLockActive:g,shouldWarn:!0});O&&t.release()}var M={isActive:function(){return ff({expected:"PRE_DRAG",phase:f,isLockActive:g,shouldWarn:!1})},shouldRespectForcePress:m,fluidLift:v,snapLift:y,abort:P};return M}var XB=[PB,TB,MB];function JB(e){var t=e.contextId,n=e.store,s=e.registry,a=e.customSensors,i=e.enableDefaultSensors,o=[].concat(i?XB:[],a||[]),l=A.useState(function(){return hB()})[0],c=vt(function(v,y){v.isDragging&&!y.isDragging&&l.tryAbandon()},[l]);Fs(function(){var v=n.getState(),y=n.subscribe(function(){var P=n.getState();c(v,P),v=P});return y},[l,n,c]),Fs(function(){return l.tryAbandon},[l.tryAbandon]);for(var d=vt(function(x){return KA({lockAPI:l,registry:s,store:n,draggableId:x})},[l,s,n]),p=vt(function(x,v,y){return KB({lockAPI:l,registry:s,contextId:t,store:n,draggableId:x,forceSensorStop:v,sourceEvent:y&&y.sourceEvent?y.sourceEvent:null})},[t,l,s,n]),u=vt(function(x){return GB(t,x)},[t]),f=vt(function(x){var v=s.draggable.findById(x);return v?v.options:null},[s.draggable]),m=vt(function(){l.isClaimed()&&(l.tryAbandon(),n.getState().phase!=="IDLE"&&n.dispatch(c2()))},[l,n]),g=vt(l.isClaimed,[l]),b=Gt(function(){return{canGetLock:d,tryGetLock:p,findClosestDraggableId:u,findOptionsForDraggable:f,tryReleaseLock:m,isLockClaimed:g}},[d,p,u,f,m,g]),j=0;j<o.length;j++)o[j](b)}var ZB=function(t){return{onBeforeCapture:t.onBeforeCapture,onBeforeDragStart:t.onBeforeDragStart,onDragStart:t.onDragStart,onDragEnd:t.onDragEnd,onDragUpdate:t.onDragUpdate}};function yu(e){return e.current||Qe(!1),e.current}function ez(e){var t=e.contextId,n=e.setCallbacks,s=e.sensors,a=e.nonce,i=e.dragHandleUsageInstructions,o=A.useRef(null),l=WA(e),c=vt(function(){return ZB(l.current)},[l]),d=dB(t),p=fB({contextId:t,text:i}),u=nB(t,a),f=vt(function(k){yu(o).dispatch(k)},[]),m=Gt(function(){return Nw({publishWhileDragging:qM,updateDroppableScroll:GM,updateDroppableIsEnabled:QM,updateDroppableIsCombineEnabled:YM,collectionStarting:HM},f)},[f]),g=oB(),b=Gt(function(){return F9(g,m)},[g,m]),j=Gt(function(){return J9(Ze({scrollWindow:_9,scrollDroppable:b.scrollDroppable},Nw({move:DA},f)))},[b.scrollDroppable,f]),x=aB(t),v=Gt(function(){return D9({announce:d,autoScroller:j,dimensionMarshal:b,focusMarshal:x,getResponders:c,styleMarshal:u})},[d,j,b,x,c,u]);o.current=v;var y=vt(function(){var k=yu(o),D=k.getState();D.phase!=="IDLE"&&k.dispatch(c2())},[]),P=vt(function(){var k=yu(o).getState();return k.isDragging||k.phase==="DROP_ANIMATING"},[]),M=Gt(function(){return{isDragging:P,tryAbort:y}},[P,y]);n(M);var O=vt(function(k){return BA(yu(o).getState(),k)},[]),E=vt(function(){return ul(yu(o).getState())},[]),S=Gt(function(){return{marshal:b,focus:x,contextId:t,canLift:O,isMovementAllowed:E,dragHandleUsageInstructionsId:p,registry:g}},[t,b,p,x,O,E,g]);return JB({contextId:t,store:v,registry:g,customSensors:s,enableDefaultSensors:e.enableDefaultSensors!==!1}),A.useEffect(function(){return y},[y]),Dt.createElement(Px.Provider,{value:S},Dt.createElement(j_,{context:g2,store:v},e.children))}var tz=0;function rz(){return Gt(function(){return""+tz++},[])}function nz(e){var t=rz(),n=e.dragHandleUsageInstructions||zf.dragHandleUsageInstructions;return Dt.createElement(TO,null,function(s){return Dt.createElement(ez,{nonce:e.nonce,contextId:t,setCallbacks:s,dragHandleUsageInstructions:n,enableDefaultSensors:e.enableDefaultSensors,sensors:e.sensors,onBeforeCapture:e.onBeforeCapture,onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragUpdate:e.onDragUpdate,onDragEnd:e.onDragEnd},e.children)})}var XA=function(t){return function(n){return t===n}},sz=XA("scroll"),az=XA("auto"),t5=function(t,n){return n(t.overflowX)||n(t.overflowY)},iz=function(t){var n=window.getComputedStyle(t),s={overflowX:n.overflowX,overflowY:n.overflowY};return t5(s,sz)||t5(s,az)},oz=function(){return!1},lz=function e(t){return t==null?null:t===document.body?oz()?t:null:t===document.documentElement?null:iz(t)?t:e(t.parentElement)},i1=function(e){return{x:e.scrollLeft,y:e.scrollTop}},cz=function e(t){if(!t)return!1;var n=window.getComputedStyle(t);return n.position==="fixed"?!0:e(t.parentElement)},dz=function(e){var t=lz(e),n=cz(e);return{closestScrollable:t,isFixedOnPage:n}},uz=function(e){var t=e.descriptor,n=e.isEnabled,s=e.isCombineEnabled,a=e.isFixedOnPage,i=e.direction,o=e.client,l=e.page,c=e.closest,d=function(){if(!c)return null;var m=c.scrollSize,g=c.client,b=_A({scrollHeight:m.scrollHeight,scrollWidth:m.scrollWidth,height:g.paddingBox.height,width:g.paddingBox.width});return{pageMarginBox:c.page.marginBox,frameClient:g,scrollSize:m,shouldClipSubject:c.shouldClipSubject,scroll:{initial:c.scroll,current:c.scroll,max:b,diff:{value:vn,displacement:vn}}}}(),p=i==="vertical"?s2:xA,u=md({page:l,withPlaceholder:null,axis:p,frame:d}),f={descriptor:t,isCombineEnabled:s,isFixedOnPage:a,axis:p,isEnabled:n,client:o,page:l,frame:d,subject:u};return f},pz=function(t,n){var s=iA(t);if(!n||t!==n)return s;var a=s.paddingBox.top-n.scrollTop,i=s.paddingBox.left-n.scrollLeft,o=a+n.scrollHeight,l=i+n.scrollWidth,c={top:a,right:l,bottom:o,left:i},d=Zy(c,s.border),p=e2({borderBox:d,margin:s.margin,border:s.border,padding:s.padding});return p},mz=function(e){var t=e.ref,n=e.descriptor,s=e.env,a=e.windowScroll,i=e.direction,o=e.isDropDisabled,l=e.isCombineEnabled,c=e.shouldClipSubject,d=s.closestScrollable,p=pz(t,d),u=Eh(p,a),f=function(){if(!d)return null;var g=iA(d),b={scrollHeight:d.scrollHeight,scrollWidth:d.scrollWidth};return{client:g,page:Eh(g,a),scroll:i1(d),scrollSize:b,shouldClipSubject:c}}(),m=uz({descriptor:n,isEnabled:!o,isCombineEnabled:l,isFixedOnPage:s.isFixedOnPage,direction:i,client:p,page:u,closest:f});return m},fz={passive:!1},hz={passive:!0},r5=function(e){return e.shouldPublishImmediately?fz:hz};function Th(e){var t=A.useContext(e);return t||Qe(!1),t}var hf=function(t){return t&&t.env.closestScrollable||null};function xz(e){var t=A.useRef(null),n=Th(Px),s=v2("droppable"),a=n.registry,i=n.marshal,o=WA(e),l=Gt(function(){return{id:e.droppableId,type:e.type,mode:e.mode}},[e.droppableId,e.mode,e.type]),c=A.useRef(l),d=Gt(function(){return gn(function(P,M){t.current||Qe(!1);var O={x:P,y:M};i.updateDroppableScroll(l.id,O)})},[l.id,i]),p=vt(function(){var P=t.current;return!P||!P.env.closestScrollable?vn:i1(P.env.closestScrollable)},[]),u=vt(function(){var P=p();d(P.x,P.y)},[p,d]),f=Gt(function(){return vp(u)},[u]),m=vt(function(){var P=t.current,M=hf(P);P&&M||Qe(!1);var O=P.scrollOptions;if(O.shouldPublishImmediately){u();return}f()},[f,u]),g=vt(function(P,M){t.current&&Qe(!1);var O=o.current,E=O.getDroppableRef();E||Qe(!1);var S=dz(E),k={ref:E,descriptor:l,env:S,scrollOptions:M};t.current=k;var D=mz({ref:E,descriptor:l,env:S,windowScroll:P,direction:O.direction,isDropDisabled:O.isDropDisabled,isCombineEnabled:O.isCombineEnabled,shouldClipSubject:!O.ignoreContainerClipping}),C=S.closestScrollable;return C&&(C.setAttribute(Xw.contextId,n.contextId),C.addEventListener("scroll",m,r5(k.scrollOptions))),D},[n.contextId,l,m,o]),b=vt(function(){var P=t.current,M=hf(P);return P&&M||Qe(!1),i1(M)},[]),j=vt(function(){var P=t.current;P||Qe(!1);var M=hf(P);t.current=null,M&&(f.cancel(),M.removeAttribute(Xw.contextId),M.removeEventListener("scroll",m,r5(P.scrollOptions)))},[m,f]),x=vt(function(P){var M=t.current;M||Qe(!1);var O=hf(M);O||Qe(!1),O.scrollTop+=P.y,O.scrollLeft+=P.x},[]),v=Gt(function(){return{getDimensionAndWatchScroll:g,getScrollWhileDragging:b,dragStopped:j,scroll:x}},[j,g,b,x]),y=Gt(function(){return{uniqueId:s,descriptor:l,callbacks:v}},[v,l,s]);Fs(function(){return c.current=y.descriptor,a.droppable.register(y),function(){t.current&&j(),a.droppable.unregister(y)}},[v,l,j,y,i,a.droppable]),Fs(function(){t.current&&i.updateDroppableIsEnabled(c.current.id,!e.isDropDisabled)},[e.isDropDisabled,i]),Fs(function(){t.current&&i.updateDroppableIsCombineEnabled(c.current.id,e.isCombineEnabled)},[e.isCombineEnabled,i])}function Sv(){}var n5={width:0,height:0,margin:BO},gz=function(t){var n=t.isAnimatingOpenOnMount,s=t.placeholder,a=t.animate;return n||a==="close"?n5:{height:s.client.borderBox.height,width:s.client.borderBox.width,margin:s.client.margin}},vz=function(t){var n=t.isAnimatingOpenOnMount,s=t.placeholder,a=t.animate,i=gz({isAnimatingOpenOnMount:n,placeholder:s,animate:a});return{display:s.display,boxSizing:"border-box",width:i.width,height:i.height,marginTop:i.margin.top,marginRight:i.margin.right,marginBottom:i.margin.bottom,marginLeft:i.margin.left,flexShrink:"0",flexGrow:"0",pointerEvents:"none",transition:a!=="none"?$u.placeholder:null}};function yz(e){var t=A.useRef(null),n=vt(function(){t.current&&(clearTimeout(t.current),t.current=null)},[]),s=e.animate,a=e.onTransitionEnd,i=e.onClose,o=e.contextId,l=A.useState(e.animate==="open"),c=l[0],d=l[1];A.useEffect(function(){return c?s!=="open"?(n(),d(!1),Sv):t.current?Sv:(t.current=setTimeout(function(){t.current=null,d(!1)}),n):Sv},[s,c,n]);var p=vt(function(f){f.propertyName==="height"&&(a(),s==="close"&&i())},[s,i,a]),u=vz({isAnimatingOpenOnMount:c,animate:e.animate,placeholder:e.placeholder});return Dt.createElement(e.placeholder.tagName,{style:u,"data-rbd-placeholder-context-id":o,onTransitionEnd:p,ref:e.innerRef})}var bz=Dt.memo(yz),b2=Dt.createContext(null),jz=function(e){BC(t,e);function t(){for(var s,a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return s=e.call.apply(e,[this].concat(i))||this,s.state={isVisible:!!s.props.on,data:s.props.on,animate:s.props.shouldAnimate&&s.props.on?"open":"none"},s.onClose=function(){s.state.animate==="close"&&s.setState({isVisible:!1})},s}t.getDerivedStateFromProps=function(a,i){return a.shouldAnimate?a.on?{isVisible:!0,data:a.on,animate:"open"}:i.isVisible?{isVisible:!0,data:i.data,animate:"close"}:{isVisible:!1,animate:"close",data:null}:{isVisible:!!a.on,data:a.on,animate:"none"}};var n=t.prototype;return n.render=function(){if(!this.state.isVisible)return null;var a={onClose:this.onClose,data:this.state.data,animate:this.state.animate};return this.props.children(a)},t}(Dt.PureComponent),s5={dragging:5e3,dropAnimating:4500},wz=function(t,n){return n?$u.drop(n.duration):t?$u.snap:$u.fluid},Nz=function(t,n){return t?n?wp.opacity.drop:wp.opacity.combining:null},Sz=function(t){return t.forceShouldAnimate!=null?t.forceShouldAnimate:t.mode==="SNAP"};function Cz(e){var t=e.dimension,n=t.client,s=e.offset,a=e.combineWith,i=e.dropping,o=!!a,l=Sz(e),c=!!i,d=c?n1.drop(s,o):n1.moveTo(s),p={position:"fixed",top:n.marginBox.top,left:n.marginBox.left,boxSizing:"border-box",width:n.borderBox.width,height:n.borderBox.height,transition:wz(l,i),transform:d,opacity:Nz(o,c),zIndex:c?s5.dropAnimating:s5.dragging,pointerEvents:"none"};return p}function Az(e){return{transform:n1.moveTo(e.offset),transition:e.shouldAnimateDisplacement?null:"none"}}function Ez(e){return e.type==="DRAGGING"?Cz(e):Az(e)}function Iz(e,t,n){n===void 0&&(n=vn);var s=window.getComputedStyle(t),a=t.getBoundingClientRect(),i=aA(a,s),o=Eh(i,n),l={client:i,tagName:t.tagName.toLowerCase(),display:s.display},c={x:i.marginBox.width,y:i.marginBox.height},d={descriptor:e,placeholder:l,displaceBy:c,client:i,page:o};return d}function Pz(e){var t=v2("draggable"),n=e.descriptor,s=e.registry,a=e.getDraggableRef,i=e.canDragInteractiveElements,o=e.shouldRespectForcePress,l=e.isEnabled,c=Gt(function(){return{canDragInteractiveElements:i,shouldRespectForcePress:o,isEnabled:l}},[i,l,o]),d=vt(function(m){var g=a();return g||Qe(!1),Iz(n,g,m)},[n,a]),p=Gt(function(){return{uniqueId:t,descriptor:n,options:c,getDimension:d}},[n,d,c,t]),u=A.useRef(p),f=A.useRef(!0);Fs(function(){return s.draggable.register(u.current),function(){return s.draggable.unregister(u.current)}},[s.draggable]),Fs(function(){if(f.current){f.current=!1;return}var m=u.current;u.current=p,s.draggable.update(p,m)},[p,s.draggable])}function kz(e){e.preventDefault()}function Dz(e){var t=A.useRef(null),n=vt(function(k){t.current=k},[]),s=vt(function(){return t.current},[]),a=Th(Px),i=a.contextId,o=a.dragHandleUsageInstructionsId,l=a.registry,c=Th(b2),d=c.type,p=c.droppableId,u=Gt(function(){return{id:e.draggableId,index:e.index,type:d,droppableId:p}},[e.draggableId,e.index,d,p]),f=e.children,m=e.draggableId,g=e.isEnabled,b=e.shouldRespectForcePress,j=e.canDragInteractiveElements,x=e.isClone,v=e.mapped,y=e.dropAnimationFinished;if(!x){var P=Gt(function(){return{descriptor:u,registry:l,getDraggableRef:s,canDragInteractiveElements:j,shouldRespectForcePress:b,isEnabled:g}},[u,l,s,j,b,g]);Pz(P)}var M=Gt(function(){return g?{tabIndex:0,role:"button","aria-describedby":o,"data-rbd-drag-handle-draggable-id":m,"data-rbd-drag-handle-context-id":i,draggable:!1,onDragStart:kz}:null},[i,o,m,g]),O=vt(function(k){v.type==="DRAGGING"&&v.dropping&&k.propertyName==="transform"&&y()},[y,v]),E=Gt(function(){var k=Ez(v),D=v.type==="DRAGGING"&&v.dropping?O:null,C={innerRef:n,draggableProps:{"data-rbd-draggable-context-id":i,"data-rbd-draggable-id":m,style:k,onTransitionEnd:D},dragHandleProps:M};return C},[i,M,m,v,O,n]),S=Gt(function(){return{draggableId:u.id,type:u.type,source:{index:u.index,droppableId:u.droppableId}}},[u.droppableId,u.id,u.index,u.type]);return f(E,v.snapshot,S)}var JA=function(e,t){return e===t},ZA=function(e){var t=e.combine,n=e.destination;return n?n.droppableId:t?t.droppableId:null},Lz=function(t){return t.combine?t.combine.draggableId:null},Tz=function(t){return t.at&&t.at.type==="COMBINE"?t.at.combine.draggableId:null};function Rz(){var e=gn(function(a,i){return{x:a,y:i}}),t=gn(function(a,i,o,l,c){return{isDragging:!0,isClone:i,isDropAnimating:!!c,dropAnimation:c,mode:a,draggingOver:o,combineWith:l,combineTargetFor:null}}),n=gn(function(a,i,o,l,c,d,p){return{mapped:{type:"DRAGGING",dropping:null,draggingOver:c,combineWith:d,mode:i,offset:a,dimension:o,forceShouldAnimate:p,snapshot:t(i,l,c,d,null)}}}),s=function(i,o){if(i.isDragging){if(i.critical.draggable.id!==o.draggableId)return null;var l=i.current.client.offset,c=i.dimensions.draggables[o.draggableId],d=Rs(i.impact),p=Tz(i.impact),u=i.forceShouldAnimate;return n(e(l.x,l.y),i.movementMode,c,o.isClone,d,p,u)}if(i.phase==="DROP_ANIMATING"){var f=i.completed;if(f.result.draggableId!==o.draggableId)return null;var m=o.isClone,g=i.dimensions.draggables[o.draggableId],b=f.result,j=b.mode,x=ZA(b),v=Lz(b),y=i.dropDuration,P={duration:y,curve:u2.drop,moveTo:i.newHomeClientOffset,opacity:v?wp.opacity.drop:null,scale:v?wp.scale.drop:null};return{mapped:{type:"DRAGGING",offset:i.newHomeClientOffset,dimension:g,dropping:P,draggingOver:x,combineWith:v,mode:j,forceShouldAnimate:null,snapshot:t(j,m,x,v,P)}}}return null};return s}function eE(e){return{isDragging:!1,isDropAnimating:!1,isClone:!1,dropAnimation:null,mode:null,draggingOver:null,combineTargetFor:e,combineWith:null}}var Fz={mapped:{type:"SECONDARY",offset:vn,combineTargetFor:null,shouldAnimateDisplacement:!0,snapshot:eE(null)}};function _z(){var e=gn(function(o,l){return{x:o,y:l}}),t=gn(eE),n=gn(function(o,l,c){return l===void 0&&(l=null),{mapped:{type:"SECONDARY",offset:o,combineTargetFor:l,shouldAnimateDisplacement:c,snapshot:t(l)}}}),s=function(l){return l?n(vn,l,!0):null},a=function(l,c,d,p){var u=d.displaced.visible[l],f=!!(p.inVirtualList&&p.effected[l]),m=Cx(d),g=m&&m.draggableId===l?c:null;if(!u){if(!f)return s(g);if(d.displaced.invisible[l])return null;var b=Ed(p.displacedBy.point),j=e(b.x,b.y);return n(j,g,!0)}if(f)return s(g);var x=d.displacedBy.point,v=e(x.x,x.y);return n(v,g,u.shouldAnimate)},i=function(l,c){if(l.isDragging)return l.critical.draggable.id===c.draggableId?null:a(c.draggableId,l.critical.draggable.id,l.impact,l.afterCritical);if(l.phase==="DROP_ANIMATING"){var d=l.completed;return d.result.draggableId===c.draggableId?null:a(c.draggableId,d.result.draggableId,d.impact,d.afterCritical)}return null};return i}var Oz=function(){var t=Rz(),n=_z(),s=function(i,o){return t(i,o)||n(i,o)||Fz};return s},Mz={dropAnimationFinished:TA},Bz=nA(Oz,Mz,null,{context:g2,pure:!0,areStatePropsEqual:JA})(Dz);function tE(e){var t=Th(b2),n=t.isUsingCloneFor;return n===e.draggableId&&!e.isClone?null:Dt.createElement(Bz,e)}function zz(e){var t=typeof e.isDragDisabled=="boolean"?!e.isDragDisabled:!0,n=!!e.disableInteractiveElementBlocking,s=!!e.shouldRespectForcePress;return Dt.createElement(tE,Ze({},e,{isClone:!1,isEnabled:t,canDragInteractiveElements:n,shouldRespectForcePress:s}))}function $z(e){var t=A.useContext(Px);t||Qe(!1);var n=t.contextId,s=t.isMovementAllowed,a=A.useRef(null),i=A.useRef(null),o=e.children,l=e.droppableId,c=e.type,d=e.mode,p=e.direction,u=e.ignoreContainerClipping,f=e.isDropDisabled,m=e.isCombineEnabled,g=e.snapshot,b=e.useClone,j=e.updateViewportMaxScroll,x=e.getContainerForClone,v=vt(function(){return a.current},[]),y=vt(function(C){a.current=C},[]);vt(function(){return i.current},[]);var P=vt(function(C){i.current=C},[]),M=vt(function(){s()&&j({maxScroll:MA()})},[s,j]);xz({droppableId:l,type:c,mode:d,direction:p,isDropDisabled:f,isCombineEnabled:m,ignoreContainerClipping:u,getDroppableRef:v});var O=Dt.createElement(jz,{on:e.placeholder,shouldAnimate:e.shouldAnimatePlaceholder},function(C){var w=C.onClose,T=C.data,L=C.animate;return Dt.createElement(bz,{placeholder:T,onClose:w,innerRef:P,animate:L,contextId:n,onTransitionEnd:M})}),E=Gt(function(){return{innerRef:y,placeholder:O,droppableProps:{"data-rbd-droppable-id":l,"data-rbd-droppable-context-id":n}}},[n,l,O,y]),S=b?b.dragging.draggableId:null,k=Gt(function(){return{droppableId:l,type:c,isUsingCloneFor:S}},[l,S,c]);function D(){if(!b)return null;var C=b.dragging,w=b.render,T=Dt.createElement(tE,{draggableId:C.draggableId,index:C.source.index,isClone:!0,isEnabled:!0,shouldRespectForcePress:!1,canDragInteractiveElements:!0},function(L,W){return w(L,W,C)});return my.createPortal(T,x())}return Dt.createElement(b2.Provider,{value:k},o(E,g),D())}var Cv=function(t,n){return t===n.droppable.type},a5=function(t,n){return n.draggables[t.draggable.id]},Uz=function(){var t={placeholder:null,shouldAnimatePlaceholder:!0,snapshot:{isDraggingOver:!1,draggingOverWith:null,draggingFromThisWith:null,isUsingPlaceholder:!1},useClone:null},n=Ze({},t,{shouldAnimatePlaceholder:!1}),s=gn(function(o){return{draggableId:o.id,type:o.type,source:{index:o.index,droppableId:o.droppableId}}}),a=gn(function(o,l,c,d,p,u){var f=p.descriptor.id,m=p.descriptor.droppableId===o;if(m){var g=u?{render:u,dragging:s(p.descriptor)}:null,b={isDraggingOver:c,draggingOverWith:c?f:null,draggingFromThisWith:f,isUsingPlaceholder:!0};return{placeholder:p.placeholder,shouldAnimatePlaceholder:!1,snapshot:b,useClone:g}}if(!l)return n;if(!d)return t;var j={isDraggingOver:c,draggingOverWith:f,draggingFromThisWith:null,isUsingPlaceholder:!0};return{placeholder:p.placeholder,shouldAnimatePlaceholder:!0,snapshot:j,useClone:null}}),i=function(l,c){var d=c.droppableId,p=c.type,u=!c.isDropDisabled,f=c.renderClone;if(l.isDragging){var m=l.critical;if(!Cv(p,m))return n;var g=a5(m,l.dimensions),b=Rs(l.impact)===d;return a(d,u,b,b,g,f)}if(l.phase==="DROP_ANIMATING"){var j=l.completed;if(!Cv(p,j.critical))return n;var x=a5(j.critical,l.dimensions);return a(d,u,ZA(j.result)===d,Rs(j.impact)===d,x,f)}if(l.phase==="IDLE"&&l.completed&&!l.shouldFlush){var v=l.completed;if(!Cv(p,v.critical))return n;var y=Rs(v.impact)===d,P=!!(v.impact.at&&v.impact.at.type==="COMBINE"),M=v.critical.droppable.id===d;return y?P?t:n:M?t:n}return n};return i},Vz={updateViewportMaxScroll:XM};function Wz(){return document.body||Qe(!1),document.body}var qz={mode:"standard",type:"DEFAULT",direction:"vertical",isDropDisabled:!1,isCombineEnabled:!1,ignoreContainerClipping:!1,renderClone:null,getContainerForClone:Wz},rE=nA(Uz,Vz,null,{context:g2,pure:!0,areStatePropsEqual:JA})($z);rE.defaultProps=qz;const i5=[{stage:pt.PROSPECTING,name:"Prospecting",color:"bg-blue-500"},{stage:pt.QUALIFICATION,name:"Qualification",color:"bg-yellow-500"},{stage:pt.NEEDS_ANALYSIS,name:"Needs Analysis",color:"bg-orange-500"},{stage:pt.PROPOSAL,name:"Proposal",color:"bg-purple-500"},{stage:pt.NEGOTIATION,name:"Negotiation",color:"bg-indigo-500"},{stage:pt.CLOSED_WON,name:"Closed Won",color:"bg-green-500"},{stage:pt.CLOSED_LOST,name:"Closed Lost",color:"bg-red-500"}];function Hz({deals:e,onDealStageChange:t,onDealClick:n}){const[s,a]=A.useState(null),i=m=>{switch(m){case rr.ACTIVE:return"bg-blue-50 text-blue-700 border-blue-200";case rr.WON:return"bg-green-50 text-green-700 border-green-200";case rr.LOST:return"bg-red-50 text-red-700 border-red-200";case rr.ON_HOLD:return"bg-yellow-50 text-yellow-700 border-yellow-200";case rr.CANCELLED:return"bg-gray-50 text-gray-700 border-gray-200";default:return"bg-gray-50 text-gray-700 border-gray-200"}},o=m=>{switch(m){case"critical":return"bg-red-50 text-red-700 border-red-200";case"high":return"bg-orange-50 text-orange-700 border-orange-200";case"medium":return"bg-yellow-50 text-yellow-700 border-yellow-200";case"low":return"bg-green-50 text-green-700 border-green-200";default:return"bg-gray-50 text-gray-700 border-gray-200"}},l=m=>new Date(m.expectedCloseDate)<new Date&&m.status===rr.ACTIVE,c=m=>{if(a(null),!m.destination||m.source.droppableId===m.destination.droppableId)return;const g=m.draggableId,b=m.destination.droppableId;t(g,b)},d=m=>{a(m.draggableId)},p=m=>e.filter(g=>g.stage===m),u=m=>p(m).reduce((g,b)=>g+b.value,0),f=m=>p(m).reduce((g,b)=>g+b.value*b.probability/100,0);return r.jsxs("div",{className:"space-y-6 pb-10",children:[r.jsx("div",{className:"grid gap-4 md:grid-cols-7",children:i5.map(m=>{const g=p(m.stage),b=u(m.stage),j=f(m.stage);return r.jsxs(me,{className:"shadow-sm",children:[r.jsxs(be,{className:"pb-3",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("div",{className:$e("w-3 h-3 rounded-full",m.color)}),r.jsx("span",{className:"text-xs text-muted-foreground",children:g.length})]}),r.jsx(je,{className:"text-sm font-medium",children:m.name})]}),r.jsx(fe,{className:"pt-0",children:r.jsxs("div",{className:"space-y-1",children:[r.jsx("div",{className:"text-lg font-bold",children:Le(b)}),r.jsxs("div",{className:"text-xs text-muted-foreground",children:["Weighted: ",Le(j)]})]})})]},m.stage)})}),r.jsx(nz,{onDragEnd:c,onDragStart:d,children:r.jsx("div",{className:"grid gap-4 grid-cols-1 md:grid-cols-7 min-h-[600px]",children:i5.map(m=>r.jsx(rE,{droppableId:m.stage,children:(g,b)=>r.jsxs("div",{ref:g.innerRef,...g.droppableProps,className:$e("space-y-3 p-3 rounded-lg border-2 border-dashed transition-colors min-h-[200px]",b.isDraggingOver?"border-primary bg-primary/5":"border-muted"),children:[r.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[r.jsx("div",{className:$e("w-3 h-3 rounded-full",m.color)}),r.jsx("h3",{className:"font-semibold text-sm",children:m.name})]}),p(m.stage).map((j,x)=>r.jsx(zz,{draggableId:j.id,index:x,children:(v,y)=>r.jsx(me,{ref:v.innerRef,...v.draggableProps,...v.dragHandleProps,className:$e("cursor-pointer transition-all hover:shadow-md",y.isDragging&&"rotate-3 shadow-lg",s===j.id&&"opacity-50"),onClick:()=>n(j),children:r.jsx(fe,{className:"p-4",children:r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{children:[r.jsx("h4",{className:"font-semibold text-sm line-clamp-2",children:j.name}),r.jsx("p",{className:"text-xs text-muted-foreground truncate",children:j.customerName})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"font-bold text-primary",children:Le(j.value)}),r.jsx(Re,{className:$e("ri-badge-status text-xs",o(j.priority)),children:j.priority.toUpperCase()})]}),r.jsxs("div",{className:"flex items-center justify-between text-xs text-muted-foreground",children:[r.jsxs("div",{className:"flex items-center space-x-1",children:[r.jsx(jt,{className:"h-3 w-3"}),r.jsxs("span",{children:[j.probability,"%"]})]}),r.jsxs("div",{className:"flex items-center space-x-1",children:[r.jsx(kn,{className:"h-3 w-3 flex-shrink-0"}),r.jsx("span",{className:"truncate",children:new Date(j.expectedCloseDate).toLocaleDateString()})]})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx(Re,{className:$e("ri-badge-status text-xs",i(j.status)),children:j.status.toUpperCase()}),l(j)&&r.jsxs("div",{className:"flex items-center space-x-1 text-red-500",children:[r.jsx(_u,{className:"h-3 w-3 flex-shrink-0"}),r.jsx("span",{className:"text-xs",children:"Overdue"})]})]})]})})},j.id)},j.id)),g.placeholder]})},m.stage))})})]})}function Gz({metrics:e}){const t=n=>n>=80?"text-green-600":n>=60?"text-yellow-600":"text-red-600";return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"grid gap-4 md:grid-cols-4",children:[r.jsxs(me,{className:"shadow-sm border-0 bg-gradient-to-br from-blue-50 to-blue-100/50",children:[r.jsxs(be,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(je,{className:"text-sm font-medium text-blue-900",children:"Total Pipeline"}),r.jsx(gr,{className:"h-4 w-4 text-blue-600"})]}),r.jsxs(fe,{children:[r.jsx("div",{className:"text-2xl font-bold text-blue-900",children:Le(e.totalValue)}),r.jsxs("p",{className:"text-xs text-blue-600 flex items-center mt-1",children:[r.jsx(ka,{className:"h-3 w-3 mr-1"}),e.totalDeals," active deals"]})]})]}),r.jsxs(me,{className:"shadow-sm border-0 bg-gradient-to-br from-green-50 to-green-100/50",children:[r.jsxs(be,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(je,{className:"text-sm font-medium text-green-900",children:"Won Deals"}),r.jsx(jt,{className:"h-4 w-4 text-green-600"})]}),r.jsxs(fe,{children:[r.jsx("div",{className:"text-2xl font-bold text-green-900",children:Le(e.wonValue)}),r.jsxs("p",{className:"text-xs text-green-600 flex items-center mt-1",children:[r.jsx(vs,{className:"h-3 w-3 mr-1"}),e.wonDeals," deals closed"]})]})]}),r.jsxs(me,{className:"shadow-sm border-0 bg-gradient-to-br from-purple-50 to-purple-100/50",children:[r.jsxs(be,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(je,{className:"text-sm font-medium text-purple-900",children:"Win Rate"}),r.jsx(vs,{className:"h-4 w-4 text-purple-600"})]}),r.jsxs(fe,{children:[r.jsxs("div",{className:"text-2xl font-bold text-purple-900",children:[e.winRate.toFixed(1),"%"]}),r.jsxs("p",{className:"text-xs text-purple-600 flex items-center mt-1",children:[r.jsx(jt,{className:"h-3 w-3 mr-1"}),"Industry average: 27%"]})]})]}),r.jsxs(me,{className:"shadow-sm border-0 bg-gradient-to-br from-orange-50 to-orange-100/50",children:[r.jsxs(be,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(je,{className:"text-sm font-medium text-orange-900",children:"Avg Deal Size"}),r.jsx(gr,{className:"h-4 w-4 text-orange-600"})]}),r.jsxs(fe,{children:[r.jsx("div",{className:"text-2xl font-bold text-orange-900",children:Le(e.averageDealSize)}),r.jsxs("p",{className:"text-xs text-orange-600 flex items-center mt-1",children:[r.jsx(pr,{className:"h-3 w-3 mr-1"}),e.averageSalesCycle.toFixed(0)," day cycle"]})]})]})]}),r.jsxs(me,{className:"shadow-sm",children:[r.jsxs(be,{children:[r.jsx(je,{children:"Stage Conversion Rates"}),r.jsx(Ke,{children:"Conversion rates and average time spent in each stage"})]}),r.jsx(fe,{children:r.jsx("div",{className:"space-y-6",children:e.conversionRates.map((n,s)=>r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsxs("span",{className:"text-sm font-medium capitalize",children:[n.fromStage.replace("_"," "),"  ",n.toStage.replace("_"," ")]}),r.jsxs("span",{className:`text-sm font-bold ${t(n.rate)}`,children:[n.rate.toFixed(1),"%"]})]}),r.jsxs("div",{className:"flex items-center space-x-2 text-xs text-muted-foreground",children:[r.jsx(pr,{className:"h-3 w-3"}),r.jsxs("span",{children:[n.averageDuration,"h avg"]})]})]}),r.jsx(Cl,{value:n.rate,className:"h-2"})]},`${n.fromStage}-${n.toStage}`))})})]}),r.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[r.jsxs(me,{className:"shadow-sm",children:[r.jsxs(be,{children:[r.jsx(je,{children:"Pipeline Health"}),r.jsx(Ke,{children:"Key performance indicators"})]}),r.jsx(fe,{children:r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between p-3 bg-green-50 rounded-lg",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(jt,{className:"h-4 w-4 text-green-600"}),r.jsx("span",{className:"text-sm font-medium text-green-900",children:"Win Rate"})]}),r.jsxs("span",{className:"text-lg font-bold text-green-600",children:[e.winRate.toFixed(1),"%"]})]}),r.jsxs("div",{className:"flex items-center justify-between p-3 bg-blue-50 rounded-lg",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(gr,{className:"h-4 w-4 text-blue-600"}),r.jsx("span",{className:"text-sm font-medium text-blue-900",children:"Average Deal Size"})]}),r.jsx("span",{className:"text-lg font-bold text-blue-600",children:Le(e.averageDealSize)})]}),r.jsxs("div",{className:"flex items-center justify-between p-3 bg-purple-50 rounded-lg",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(pr,{className:"h-4 w-4 text-purple-600"}),r.jsx("span",{className:"text-sm font-medium text-purple-900",children:"Sales Cycle"})]}),r.jsxs("span",{className:"text-lg font-bold text-purple-600",children:[e.averageSalesCycle.toFixed(0)," days"]})]})]})})]}),r.jsxs(me,{className:"shadow-sm",children:[r.jsxs(be,{children:[r.jsx(je,{children:"Deal Breakdown"}),r.jsx(Ke,{children:"Current pipeline composition"})]}),r.jsx(fe,{children:r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-sm text-muted-foreground",children:"Total Deals"}),r.jsx("span",{className:"font-bold",children:e.totalDeals})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-sm text-muted-foreground",children:"Won Deals"}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("span",{className:"font-bold text-green-600",children:e.wonDeals}),r.jsxs("span",{className:"text-xs text-green-600",children:["(",Le(e.wonValue),")"]})]})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-sm text-muted-foreground",children:"Lost Deals"}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("span",{className:"font-bold text-red-600",children:e.lostDeals}),r.jsxs("span",{className:"text-xs text-red-600",children:["(",Le(e.lostValue),")"]})]})]}),r.jsx("div",{className:"pt-2 border-t",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-sm font-medium",children:"Active Pipeline"}),r.jsx("span",{className:"font-bold text-primary",children:Le(e.totalValue-e.wonValue-e.lostValue)})]})})]})})]})]})]})}const Qz=["Best Price","Superior Product Features","Excellent Service","Strong Relationship","Competitive Financing","Quick Delivery","Brand Reputation","Referral/Recommendation"],Yz=["Price Too High","Lost to Competitor","Budget Constraints","Timing Issues","Product Limitations","Service Concerns","Decision Delayed","Requirements Changed"],Kz=["Camping World","Lazydays","General RV","PPL Motor Homes","Local Dealer","Private Seller","Other"];function Xz({deals:e,winLossReports:t,onCreateReport:n}){const[s,a]=A.useState(!1),[i,o]=A.useState(null),[l,c]=A.useState({outcome:"won",primaryReason:"",secondaryReasons:[],competitorWon:"",feedback:"",lessonsLearned:[],actionItems:[]}),d=e.filter(O=>O.status==="won"||O.status==="lost"),p=e.filter(O=>O.status==="won"),u=e.filter(O=>O.status==="lost"),f=d.length>0?p.length/d.length*100:0,m=p.length>0?p.reduce((O,E)=>O+E.value,0)/p.length:0,g=u.length>0?u.reduce((O,E)=>O+E.value,0)/u.length:0,b=O=>{o(O),c({...l,outcome:O.status==="won"?"won":"lost"}),a(!0)},j=()=>{i&&(n(i.id,l.outcome,l),a(!1),o(null),c({outcome:"won",primaryReason:"",secondaryReasons:[],competitorWon:"",feedback:"",lessonsLearned:[],actionItems:[]}))},x=(O,E,S)=>{E.trim()&&!O.includes(E.trim())&&S([...O,E.trim()])},v=(O,E,S)=>{S(O.filter((k,D)=>D!==E))},y=O=>{const E=t.filter(k=>k.outcome===O),S={};return E.forEach(k=>{S[k.primaryReason]=(S[k.primaryReason]||0)+1}),Object.entries(S).sort(([,k],[,D])=>D-k).slice(0,5).map(([k,D])=>({reason:k,count:D,percentage:E.length>0?D/E.length*100:0}))},P=y("won"),M=y("lost");return r.jsxs("div",{className:"space-y-6",children:[s&&i&&r.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:r.jsxs(me,{className:"w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[r.jsx(be,{children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx(je,{children:"Win/Loss Report"}),r.jsxs(Ke,{children:[i.name," - ",Le(i.value)]})]}),r.jsx(ae,{variant:"ghost",size:"sm",onClick:()=>a(!1),children:r.jsx(or,{className:"h-4 w-4"})})]})}),r.jsxs(fe,{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx(Ae,{children:"Outcome"}),r.jsxs(lt,{value:l.outcome,onValueChange:O=>c(E=>({...E,outcome:O})),children:[r.jsx(it,{children:r.jsx(ct,{})}),r.jsxs(ot,{children:[r.jsx(oe,{value:"won",children:"Won"}),r.jsx(oe,{value:"lost",children:"Lost"})]})]})]}),r.jsxs("div",{children:[r.jsx(Ae,{children:"Primary Reason"}),r.jsxs(lt,{value:l.primaryReason,onValueChange:O=>c(E=>({...E,primaryReason:O})),children:[r.jsx(it,{children:r.jsx(ct,{placeholder:"Select primary reason"})}),r.jsx(ot,{children:(l.outcome==="won"?Qz:Yz).map(O=>r.jsx(oe,{value:O,children:O},O))})]})]}),l.outcome==="lost"&&r.jsxs("div",{children:[r.jsx(Ae,{children:"Competitor Won"}),r.jsxs(lt,{value:l.competitorWon,onValueChange:O=>c(E=>({...E,competitorWon:O})),children:[r.jsx(it,{children:r.jsx(ct,{placeholder:"Select competitor"})}),r.jsx(ot,{children:Kz.map(O=>r.jsx(oe,{value:O,children:O},O))})]})]}),r.jsxs("div",{children:[r.jsx(Ae,{children:"Customer Feedback"}),r.jsx(lr,{value:l.feedback,onChange:O=>c(E=>({...E,feedback:O.target.value})),placeholder:"What did the customer say about their decision?",rows:3})]}),r.jsxs("div",{children:[r.jsx(Ae,{children:"Lessons Learned"}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex space-x-2",children:[r.jsx(Be,{placeholder:"Add a lesson learned",onKeyDown:O=>{if(O.key==="Enter"){O.preventDefault();const E=O.currentTarget;x(l.lessonsLearned,E.value,S=>c(k=>({...k,lessonsLearned:S}))),E.value=""}}}),r.jsx(ae,{type:"button",variant:"outline",onClick:O=>{const E=O.currentTarget.previousElementSibling;x(l.lessonsLearned,E.value,S=>c(k=>({...k,lessonsLearned:S}))),E.value=""},children:r.jsx(It,{className:"h-4 w-4"})})]}),r.jsx("div",{className:"flex flex-wrap gap-2",children:l.lessonsLearned.map((O,E)=>r.jsxs(Re,{variant:"secondary",className:"flex items-center gap-1",children:[O,r.jsx(or,{className:"h-3 w-3 cursor-pointer",onClick:()=>v(l.lessonsLearned,E,S=>c(k=>({...k,lessonsLearned:S})))})]},E))})]})]}),r.jsxs("div",{children:[r.jsx(Ae,{children:"Action Items"}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex space-x-2",children:[r.jsx(Be,{placeholder:"Add an action item",onKeyDown:O=>{if(O.key==="Enter"){O.preventDefault();const E=O.currentTarget;x(l.actionItems,E.value,S=>c(k=>({...k,actionItems:S}))),E.value=""}}}),r.jsx(ae,{type:"button",variant:"outline",onClick:O=>{const E=O.currentTarget.previousElementSibling;x(l.actionItems,E.value,S=>c(k=>({...k,actionItems:S}))),E.value=""},children:r.jsx(It,{className:"h-4 w-4"})})]}),r.jsx("div",{className:"flex flex-wrap gap-2",children:l.actionItems.map((O,E)=>r.jsxs(Re,{variant:"secondary",className:"flex items-center gap-1",children:[O,r.jsx(or,{className:"h-3 w-3 cursor-pointer",onClick:()=>v(l.actionItems,E,S=>c(k=>({...k,actionItems:S})))})]},E))})]})]}),r.jsxs("div",{className:"flex justify-end space-x-3 pt-6 border-t",children:[r.jsx(ae,{variant:"outline",onClick:()=>a(!1),children:"Cancel"}),r.jsxs(ae,{onClick:j,children:[r.jsx(da,{className:"h-4 w-4 mr-2"}),"Save Report"]})]})]})]})}),r.jsxs("div",{className:"grid gap-4 md:grid-cols-4",children:[r.jsxs(me,{className:"shadow-sm border-0 bg-gradient-to-br from-blue-50 to-blue-100/50",children:[r.jsxs(be,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(je,{className:"text-sm font-medium text-blue-900",children:"Win Rate"}),r.jsx(vs,{className:"h-4 w-4 text-blue-600"})]}),r.jsxs(fe,{children:[r.jsxs("div",{className:"text-2xl font-bold text-blue-900",children:[f.toFixed(1),"%"]}),r.jsxs("p",{className:"text-xs text-blue-600 flex items-center mt-1",children:[r.jsx(ka,{className:"h-3 w-3 mr-1"}),d.length," closed deals"]})]})]}),r.jsxs(me,{className:"shadow-sm border-0 bg-gradient-to-br from-green-50 to-green-100/50",children:[r.jsxs(be,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(je,{className:"text-sm font-medium text-green-900",children:"Won Deals"}),r.jsx(jt,{className:"h-4 w-4 text-green-600"})]}),r.jsxs(fe,{children:[r.jsx("div",{className:"text-2xl font-bold text-green-900",children:p.length}),r.jsxs("p",{className:"text-xs text-green-600 flex items-center mt-1",children:[r.jsx(jt,{className:"h-3 w-3 mr-1"}),Le(m)," avg"]})]})]}),r.jsxs(me,{className:"shadow-sm border-0 bg-gradient-to-br from-red-50 to-red-100/50",children:[r.jsxs(be,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(je,{className:"text-sm font-medium text-red-900",children:"Lost Deals"}),r.jsx(Xg,{className:"h-4 w-4 text-red-600"})]}),r.jsxs(fe,{children:[r.jsx("div",{className:"text-2xl font-bold text-red-900",children:u.length}),r.jsxs("p",{className:"text-xs text-red-600 flex items-center mt-1",children:[r.jsx(Xg,{className:"h-3 w-3 mr-1"}),Le(g)," avg"]})]})]}),r.jsxs(me,{className:"shadow-sm border-0 bg-gradient-to-br from-purple-50 to-purple-100/50",children:[r.jsxs(be,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(je,{className:"text-sm font-medium text-purple-900",children:"Reports"}),r.jsx(ka,{className:"h-4 w-4 text-purple-600"})]}),r.jsxs(fe,{children:[r.jsx("div",{className:"text-2xl font-bold text-purple-900",children:t.length}),r.jsxs("p",{className:"text-xs text-purple-600 flex items-center mt-1",children:[r.jsx(ka,{className:"h-3 w-3 mr-1"}),"Completed reports"]})]})]})]}),r.jsxs(dn,{defaultValue:"analysis",className:"space-y-6",children:[r.jsxs(Zr,{children:[r.jsx(ut,{value:"analysis",children:"Analysis"}),r.jsx(ut,{value:"closed-deals",children:"Closed Deals"}),r.jsx(ut,{value:"reports",children:"Reports"})]}),r.jsxs(ht,{value:"analysis",className:"space-y-6",children:[r.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[r.jsxs(me,{className:"shadow-sm",children:[r.jsxs(be,{children:[r.jsxs(je,{className:"flex items-center",children:[r.jsx(jt,{className:"h-5 w-5 mr-2 text-green-500"}),"Win Reasons"]}),r.jsx(Ke,{children:"Top reasons for winning deals"})]}),r.jsx(fe,{children:r.jsx("div",{className:"space-y-4",children:P.length>0?P.map((O,E)=>r.jsxs("div",{className:"space-y-1",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-sm font-medium",children:O.reason}),r.jsxs("span",{className:"text-sm text-green-600",children:[O.percentage.toFixed(0),"%"]})]}),r.jsx(Cl,{value:O.percentage,className:"h-2"})]},E)):r.jsx("div",{className:"text-center py-6 text-muted-foreground",children:"No win reports available"})})})]}),r.jsxs(me,{className:"shadow-sm",children:[r.jsxs(be,{children:[r.jsxs(je,{className:"flex items-center",children:[r.jsx(Xg,{className:"h-5 w-5 mr-2 text-red-500"}),"Loss Reasons"]}),r.jsx(Ke,{children:"Top reasons for losing deals"})]}),r.jsx(fe,{children:r.jsx("div",{className:"space-y-4",children:M.length>0?M.map((O,E)=>r.jsxs("div",{className:"space-y-1",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-sm font-medium",children:O.reason}),r.jsxs("span",{className:"text-sm text-red-600",children:[O.percentage.toFixed(0),"%"]})]}),r.jsx(Cl,{value:O.percentage,className:"h-2"})]},E)):r.jsx("div",{className:"text-center py-6 text-muted-foreground",children:"No loss reports available"})})})]})]}),r.jsxs(me,{className:"shadow-sm",children:[r.jsxs(be,{children:[r.jsx(je,{children:"Lessons Learned"}),r.jsx(Ke,{children:"Key insights from win/loss reports"})]}),r.jsx(fe,{children:t.length>0?r.jsx("div",{className:"space-y-4",children:t.slice(0,5).map((O,E)=>r.jsxs("div",{className:"p-3 rounded-lg bg-muted/30",children:[r.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[O.outcome==="won"?r.jsx(Re,{className:"bg-green-50 text-green-700 border-green-200",children:"WON"}):r.jsx(Re,{className:"bg-red-50 text-red-700 border-red-200",children:"LOST"}),r.jsx("span",{className:"text-sm font-medium",children:O.primaryReason})]}),r.jsx("div",{className:"space-y-2",children:O.lessonsLearned.map((S,k)=>r.jsxs("p",{className:"text-sm text-muted-foreground",children:[" ",S]},k))})]},E))}):r.jsx("div",{className:"text-center py-6 text-muted-foreground",children:"No lessons learned available"})})]})]}),r.jsx(ht,{value:"closed-deals",className:"space-y-6",children:r.jsxs(me,{className:"shadow-sm",children:[r.jsxs(be,{children:[r.jsx(je,{children:"Recently Closed Deals"}),r.jsx(Ke,{children:"Deals that have been won or lost"})]}),r.jsx(fe,{children:r.jsx("div",{className:"space-y-4",children:d.length>0?d.map(O=>r.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg hover:bg-accent/50 transition-colors",children:[r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[r.jsx("h3",{className:"font-semibold",children:O.name}),r.jsx(Re,{className:O.status==="won"?"bg-green-50 text-green-700 border-green-200":"bg-red-50 text-red-700 border-red-200",children:O.status.toUpperCase()})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm text-muted-foreground",children:[r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Customer:"})," ",O.customerName]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Value:"})," ",Le(O.value)]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Closed:"})," ",O.actualCloseDate?yt(O.actualCloseDate):"N/A"]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Rep:"})," ",O.assignedTo]})]})]}),r.jsxs(ae,{variant:"outline",size:"sm",onClick:()=>b(O),className:"shadow-sm",children:[r.jsx(It,{className:"h-3 w-3 mr-1"}),"Report"]})]},O.id)):r.jsx("div",{className:"text-center py-6 text-muted-foreground",children:"No closed deals available"})})})]})}),r.jsx(ht,{value:"reports",className:"space-y-6",children:r.jsxs(me,{className:"shadow-sm",children:[r.jsxs(be,{children:[r.jsx(je,{children:"Win/Loss Reports"}),r.jsx(Ke,{children:"Detailed reports on won and lost deals"})]}),r.jsx(fe,{children:r.jsx("div",{className:"space-y-4",children:t.length>0?t.map(O=>{const E=e.find(S=>S.id===O.dealId);return r.jsxs("div",{className:"p-4 border rounded-lg hover:bg-accent/50 transition-colors",children:[r.jsxs("div",{className:"flex items-center justify-between mb-3",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx(Re,{className:O.outcome==="won"?"bg-green-50 text-green-700 border-green-200":"bg-red-50 text-red-700 border-red-200",children:O.outcome.toUpperCase()}),r.jsx("h3",{className:"font-semibold",children:(E==null?void 0:E.name)||"Unknown Deal"})]}),r.jsx("span",{className:"text-sm text-muted-foreground",children:yt(O.reportedAt)})]}),r.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[r.jsxs("div",{children:[r.jsx("h4",{className:"text-sm font-medium mb-2",children:"Reasons"}),r.jsxs("div",{className:"space-y-1",children:[r.jsxs("p",{className:"text-sm",children:[r.jsx("span",{className:"font-medium",children:"Primary:"})," ",O.primaryReason]}),O.secondaryReasons.length>0&&r.jsxs("p",{className:"text-sm",children:[r.jsx("span",{className:"font-medium",children:"Secondary:"})," ",O.secondaryReasons.join(", ")]}),O.competitorWon&&r.jsxs("p",{className:"text-sm",children:[r.jsx("span",{className:"font-medium",children:"Competitor:"})," ",O.competitorWon]})]})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"text-sm font-medium mb-2",children:"Feedback"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:O.feedback})]})]}),r.jsxs("div",{className:"mt-4 pt-4 border-t",children:[r.jsx("h4",{className:"text-sm font-medium mb-2",children:"Lessons & Action Items"}),r.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[r.jsxs("div",{children:[r.jsx("h5",{className:"text-xs font-medium text-muted-foreground mb-1",children:"Lessons Learned:"}),r.jsx("ul",{className:"text-sm space-y-1",children:O.lessonsLearned.map((S,k)=>r.jsxs("li",{children:[" ",S]},k))})]}),r.jsxs("div",{children:[r.jsx("h5",{className:"text-xs font-medium text-muted-foreground mb-1",children:"Action Items:"}),r.jsx("ul",{className:"text-sm space-y-1",children:O.actionItems.map((S,k)=>r.jsxs("li",{children:[" ",S]},k))})]})]})]})]},O.id)}):r.jsx("div",{className:"text-center py-6 text-muted-foreground",children:"No win/loss reports available"})})})]})})]})]})}function Jz({deal:e,onClose:t,onEdit:n}){const s=l=>{switch(l){case rr.ACTIVE:return"bg-blue-50 text-blue-700 border-blue-200";case rr.WON:return"bg-green-50 text-green-700 border-green-200";case rr.LOST:return"bg-red-50 text-red-700 border-red-200";case rr.ON_HOLD:return"bg-yellow-50 text-yellow-700 border-yellow-200";case rr.CANCELLED:return"bg-gray-50 text-gray-700 border-gray-200";default:return"bg-gray-50 text-gray-700 border-gray-200"}},a=l=>{switch(l){case si.CRITICAL:return"bg-red-50 text-red-700 border-red-200";case si.HIGH:return"bg-orange-50 text-orange-700 border-orange-200";case si.MEDIUM:return"bg-yellow-50 text-yellow-700 border-yellow-200";case si.LOW:return"bg-green-50 text-green-700 border-green-200";default:return"bg-gray-50 text-gray-700 border-gray-200"}},i=l=>{switch(l){case pt.PROSPECTING:return"bg-blue-50 text-blue-700 border-blue-200";case pt.QUALIFICATION:return"bg-yellow-50 text-yellow-700 border-yellow-200";case pt.NEEDS_ANALYSIS:return"bg-orange-50 text-orange-700 border-orange-200";case pt.PROPOSAL:return"bg-purple-50 text-purple-700 border-purple-200";case pt.NEGOTIATION:return"bg-indigo-50 text-indigo-700 border-indigo-200";case pt.CLOSED_WON:return"bg-green-50 text-green-700 border-green-200";case pt.CLOSED_LOST:return"bg-red-50 text-red-700 border-red-200";default:return"bg-gray-50 text-gray-700 border-gray-200"}},o=l=>new Date(l.expectedCloseDate)<new Date&&l.status===rr.ACTIVE;return r.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:r.jsxs(me,{className:"w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[r.jsx(be,{children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx(je,{className:"text-xl",children:e.name}),r.jsx(Ke,{children:"Deal details and information"})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsxs(ae,{onClick:()=>n(e),size:"sm",children:[r.jsx(ln,{className:"h-4 w-4 mr-2"}),"Edit Deal"]}),r.jsx(ae,{variant:"ghost",size:"sm",onClick:t,children:r.jsx(or,{className:"h-4 w-4"})})]})]})}),r.jsxs(fe,{className:"space-y-6",children:[r.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[r.jsx(Re,{className:$e("ri-badge-status",s(e.status)),children:e.status.toUpperCase()}),r.jsx(Re,{className:$e("ri-badge-status",i(e.stage)),children:e.stage.replace("_"," ").toUpperCase()}),r.jsx(Re,{className:$e("ri-badge-status",a(e.priority)),children:e.priority.toUpperCase()}),o(e)&&r.jsxs(Re,{className:"bg-red-50 text-red-700 border-red-200",children:[r.jsx(ai,{className:"h-3 w-3 mr-1"}),"OVERDUE"]}),e.requiresApproval&&r.jsx(Re,{className:"bg-orange-50 text-orange-700 border-orange-200",children:"REQUIRES APPROVAL"})]}),r.jsxs(dn,{defaultValue:"overview",className:"space-y-4",children:[r.jsxs(Zr,{children:[r.jsx(ut,{value:"overview",children:"Overview"}),r.jsx(ut,{value:"products",children:"Products"}),r.jsx(ut,{value:"history",children:"History"})]}),r.jsxs(ht,{value:"overview",className:"space-y-4",children:[r.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Customer"}),r.jsx("p",{className:"font-medium",children:e.customerName})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Value"}),r.jsx("p",{className:"font-bold text-primary text-lg",children:Le(e.value)})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Probability"}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(vs,{className:"h-4 w-4 text-blue-500"}),r.jsxs("p",{className:"font-medium",children:[e.probability,"%"]})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Expected Close"}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(kn,{className:"h-4 w-4 text-purple-500"}),r.jsx("p",{className:"font-medium",children:yt(e.expectedCloseDate)})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Assigned To"}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Os,{className:"h-4 w-4 text-green-500"}),r.jsx("p",{className:"font-medium",children:e.assignedTo||"Unassigned"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Territory"}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(cd,{className:"h-4 w-4 text-orange-500"}),r.jsx("p",{className:"font-medium",children:e.territoryId||"No Territory"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Created"}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(pr,{className:"h-4 w-4 text-blue-500"}),r.jsx("p",{className:"font-medium",children:yt(e.createdAt)})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Last Updated"}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(pr,{className:"h-4 w-4 text-blue-500"}),r.jsx("p",{className:"font-medium",children:yt(e.updatedAt)})]})]})]}),e.notes&&r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Notes"}),r.jsx("div",{className:"mt-1 p-3 bg-muted/30 rounded-md",children:r.jsx("p",{className:"text-sm whitespace-pre-wrap",children:e.notes})})]}),Object.keys(e.customFields||{}).length>0&&r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Custom Fields"}),r.jsx("div",{className:"mt-1 grid gap-2 md:grid-cols-2",children:Object.entries(e.customFields||{}).map(([l,c])=>r.jsxs("div",{className:"p-2 bg-muted/30 rounded-md",children:[r.jsxs("span",{className:"text-sm font-medium capitalize",children:[l.replace(/([A-Z])/g," $1").trim(),": "]}),r.jsx("span",{className:"text-sm",children:c==null?void 0:c.toString()})]},l))})]})]}),r.jsxs(ht,{value:"products",className:"space-y-4",children:[r.jsx("h3",{className:"text-lg font-semibold",children:"Products & Services"}),e.products&&e.products.length>0?r.jsxs("div",{className:"space-y-3",children:[e.products.map(l=>r.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Hn,{className:"h-4 w-4 text-blue-500"}),r.jsx("span",{className:"font-medium",children:l.productName})]}),r.jsxs("div",{className:"flex items-center space-x-4 mt-1 text-sm text-muted-foreground",children:[r.jsxs("span",{children:["Quantity: ",l.quantity]}),r.jsxs("span",{children:["Unit Price: ",Le(l.unitPrice)]}),l.discount>0&&r.jsxs("span",{className:"text-green-600",children:["Discount: ",Le(l.discount)]})]})]}),r.jsx("div",{className:"text-right",children:r.jsx("div",{className:"font-bold",children:Le(l.total)})})]},l.id)),r.jsx("div",{className:"flex justify-end p-3 bg-muted/30 rounded-lg",children:r.jsxs("div",{className:"text-right",children:[r.jsx("span",{className:"text-sm font-medium",children:"Total Deal Value: "}),r.jsx("span",{className:"text-lg font-bold text-primary",children:Le(e.value)})]})})]}):r.jsxs("div",{className:"text-center py-8 text-muted-foreground border-2 border-dashed rounded-lg",children:[r.jsx(Hn,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground/50"}),r.jsx("p",{children:"No products added to this deal"}),r.jsx("p",{className:"text-sm",children:"Edit the deal to add products"})]})]}),r.jsxs(ht,{value:"history",className:"space-y-4",children:[r.jsx("h3",{className:"text-lg font-semibold",children:"Stage History"}),e.stageHistory&&e.stageHistory.length>0?r.jsx("div",{className:"space-y-3",children:e.stageHistory.map((l,c)=>r.jsxs("div",{className:"relative",children:[c<e.stageHistory.length-1&&r.jsx("div",{className:"absolute left-4 top-8 bottom-0 w-px bg-border"}),r.jsxs("div",{className:"flex items-start space-x-3",children:[r.jsx("div",{className:"flex-shrink-0 w-8 h-8 rounded-full bg-primary flex items-center justify-center text-primary-foreground",children:c+1}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[r.jsx("span",{className:"font-medium capitalize",children:l.fromStage?`${l.fromStage.replace("_"," ")}  ${l.toStage.replace("_"," ")}`:`Started at ${l.toStage.replace("_"," ")}`}),r.jsx("span",{className:"text-xs text-muted-foreground",children:yt(l.changedAt)})]}),l.duration!==void 0&&r.jsxs("div",{className:"text-sm text-muted-foreground",children:["Duration: ",l.duration," hours"]}),l.notes&&r.jsx("div",{className:"mt-1 text-sm bg-muted/30 p-2 rounded-md",children:l.notes})]})]})]},c))}):r.jsxs("div",{className:"text-center py-8 text-muted-foreground border-2 border-dashed rounded-lg",children:[r.jsx(pr,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground/50"}),r.jsx("p",{children:"No stage history available"})]})]})]}),r.jsxs("div",{className:"flex justify-end space-x-3 pt-6 border-t",children:[r.jsx(ae,{variant:"outline",onClick:t,children:"Close"}),r.jsxs(ae,{onClick:()=>n(e),children:[r.jsx(ln,{className:"h-4 w-4 mr-2"}),"Edit Deal"]})]})]})]})})}function Zz({territories:e,salesReps:t,deals:n,onCreateTerritory:s,onUpdateTerritory:a,onDeleteTerritory:i}){var O,E,S;const[o,l]=A.useState(!1),[c,d]=A.useState(null),[p,u]=A.useState({name:"",type:uo.GEOGRAPHIC,description:"",assignedTo:[],rules:[],isActive:!0}),[f,m]=A.useState({field:"",operator:"equals",value:"",priority:1}),g=()=>{d(null),u({name:"",type:uo.GEOGRAPHIC,description:"",assignedTo:[],rules:[],isActive:!0}),l(!0)},b=k=>{d(k),u({name:k.name,type:k.type,description:k.description,assignedTo:[...k.assignedTo],rules:[...k.rules],isActive:k.isActive}),l(!0)},j=()=>{p.name&&(c?a(c.id,p):s(p),l(!1),d(null),u({name:"",type:uo.GEOGRAPHIC,description:"",assignedTo:[],rules:[],isActive:!0}))},x=()=>{if(!f.field||!f.operator)return;const k={id:Math.random().toString(36).substr(2,9),field:f.field,operator:f.operator,value:f.value,priority:f.priority||1};u(D=>({...D,rules:[...D.rules||[],k]})),m({field:"",operator:"equals",value:"",priority:1})},v=k=>{u(D=>{var C;return{...D,rules:((C=D.rules)==null?void 0:C.filter(w=>w.id!==k))||[]}})},y=(k,D)=>{u(D?C=>({...C,assignedTo:[...C.assignedTo||[],k]}):C=>{var w;return{...C,assignedTo:((w=C.assignedTo)==null?void 0:w.filter(T=>T!==k))||[]}})},P=k=>n.filter(C=>C.territoryId===k).length,M=k=>{const D=e.find(C=>C.id===k);return D?t.filter(C=>D.assignedTo.includes(C.id)):[]};return r.jsxs("div",{className:"space-y-6",children:[o&&r.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:r.jsxs(me,{className:"w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[r.jsx(be,{children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx(je,{children:c?"Edit Territory":"Create Territory"}),r.jsx(Ke,{children:c?"Update territory details and rules":"Define a new sales territory"})]}),r.jsx(ae,{variant:"ghost",size:"sm",onClick:()=>l(!1),children:r.jsx(or,{className:"h-4 w-4"})})]})}),r.jsxs(fe,{className:"space-y-6",children:[r.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[r.jsxs("div",{children:[r.jsx(Ae,{htmlFor:"name",children:"Territory Name *"}),r.jsx(Be,{id:"name",value:p.name,onChange:k=>u(D=>({...D,name:k.target.value})),placeholder:"e.g., North Region"})]}),r.jsxs("div",{children:[r.jsx(Ae,{htmlFor:"type",children:"Territory Type"}),r.jsxs(lt,{value:p.type,onValueChange:k=>u(D=>({...D,type:k})),children:[r.jsx(it,{children:r.jsx(ct,{})}),r.jsxs(ot,{children:[r.jsx(oe,{value:uo.GEOGRAPHIC,children:"Geographic"}),r.jsx(oe,{value:uo.INDUSTRY,children:"Industry"}),r.jsx(oe,{value:uo.ACCOUNT_SIZE,children:"Account Size"}),r.jsx(oe,{value:uo.PRODUCT_LINE,children:"Product Line"})]})]})]})]}),r.jsxs("div",{children:[r.jsx(Ae,{htmlFor:"description",children:"Description"}),r.jsx(lr,{id:"description",value:p.description,onChange:k=>u(D=>({...D,description:k.target.value})),placeholder:"Describe the territory",rows:3})]}),r.jsxs("div",{children:[r.jsx("div",{className:"flex items-center justify-between mb-4",children:r.jsx(Ae,{children:"Territory Rules"})}),r.jsxs("div",{className:"space-y-4",children:[(O=p.rules)==null?void 0:O.map(k=>r.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("span",{className:"font-medium",children:k.field}),r.jsx("span",{className:"text-muted-foreground",children:k.operator}),r.jsx("span",{children:k.value.toString()})]}),r.jsxs("div",{className:"text-xs text-muted-foreground mt-1",children:["Priority: ",k.priority]})]}),r.jsx(ae,{variant:"ghost",size:"sm",onClick:()=>v(k.id),children:r.jsx(ys,{className:"h-4 w-4 text-red-500"})})]},k.id)),r.jsx(me,{className:"border-dashed",children:r.jsxs(fe,{className:"pt-6",children:[r.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[r.jsxs("div",{children:[r.jsx(Ae,{children:"Field"}),r.jsxs(lt,{value:f.field,onValueChange:k=>m(D=>({...D,field:k})),children:[r.jsx(it,{children:r.jsx(ct,{placeholder:"Select field"})}),r.jsxs(ot,{children:[r.jsx(oe,{value:"state",children:"State"}),r.jsx(oe,{value:"zipCode",children:"Zip Code"}),r.jsx(oe,{value:"country",children:"Country"}),r.jsx(oe,{value:"industry",children:"Industry"}),r.jsx(oe,{value:"dealSize",children:"Deal Size"}),r.jsx(oe,{value:"productType",children:"Product Type"})]})]})]}),r.jsxs("div",{children:[r.jsx(Ae,{children:"Operator"}),r.jsxs(lt,{value:f.operator,onValueChange:k=>m(D=>({...D,operator:k})),children:[r.jsx(it,{children:r.jsx(ct,{})}),r.jsxs(ot,{children:[r.jsx(oe,{value:"equals",children:"Equals"}),r.jsx(oe,{value:"contains",children:"Contains"}),r.jsx(oe,{value:"starts_with",children:"Starts With"}),r.jsx(oe,{value:"in_range",children:"In Range"}),r.jsx(oe,{value:"greater_than",children:"Greater Than"}),r.jsx(oe,{value:"less_than",children:"Less Than"})]})]})]})]}),r.jsxs("div",{className:"mt-4",children:[r.jsx(Ae,{children:"Value"}),r.jsx(Be,{value:((E=f.value)==null?void 0:E.toString())||"",onChange:k=>m(D=>({...D,value:k.target.value})),placeholder:"Rule value"}),r.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"For multiple values, separate with commas"})]}),r.jsxs("div",{className:"mt-4",children:[r.jsx(Ae,{children:"Priority"}),r.jsxs(lt,{value:((S=f.priority)==null?void 0:S.toString())||"1",onValueChange:k=>m(D=>({...D,priority:parseInt(k)})),children:[r.jsx(it,{children:r.jsx(ct,{})}),r.jsxs(ot,{children:[r.jsx(oe,{value:"1",children:"1 - Highest"}),r.jsx(oe,{value:"2",children:"2"}),r.jsx(oe,{value:"3",children:"3"}),r.jsx(oe,{value:"4",children:"4"}),r.jsx(oe,{value:"5",children:"5 - Lowest"})]})]})]}),r.jsx("div",{className:"flex justify-end mt-4",children:r.jsxs(ae,{onClick:x,children:[r.jsx(It,{className:"h-4 w-4 mr-2"}),"Add Rule"]})})]})})]})]}),r.jsxs("div",{children:[r.jsx(Ae,{className:"mb-2 block",children:"Assign Sales Reps"}),r.jsx("div",{className:"space-y-2 max-h-40 overflow-y-auto p-2 border rounded-lg",children:t.map(k=>{var D;return r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Yn,{id:`rep-${k.id}`,checked:(D=p.assignedTo)==null?void 0:D.includes(k.id),onCheckedChange:C=>y(k.id,!!C)}),r.jsx(Ae,{htmlFor:`rep-${k.id}`,className:"text-sm cursor-pointer",children:k.name})]},k.id)})})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Yn,{id:"isActive",checked:p.isActive,onCheckedChange:k=>u(D=>({...D,isActive:!!k}))}),r.jsx(Ae,{htmlFor:"isActive",children:"Active territory"})]}),r.jsxs("div",{className:"flex justify-end space-x-3 pt-6 border-t",children:[r.jsx(ae,{variant:"outline",onClick:()=>l(!1),children:"Cancel"}),r.jsxs(ae,{onClick:j,children:[r.jsx(da,{className:"h-4 w-4 mr-2"}),c?"Update":"Create"," Territory"]})]})]})]})}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-bold",children:"Territory Management"}),r.jsx("p",{className:"text-muted-foreground",children:"Define and manage sales territories and assignment rules"})]}),r.jsxs(ae,{onClick:g,children:[r.jsx(It,{className:"h-4 w-4 mr-2"}),"Create Territory"]})]}),r.jsxs("div",{className:"space-y-6",children:[e.map(k=>r.jsxs(me,{className:"shadow-sm",children:[r.jsx(be,{children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx(je,{children:k.name}),r.jsx(Re,{className:k.isActive?"bg-green-50 text-green-700 border-green-200":"bg-gray-50 text-gray-700 border-gray-200",children:k.isActive?"Active":"Inactive"}),r.jsx(Re,{variant:"outline",children:k.type.replace("_"," ")})]}),r.jsx(Ke,{className:"mt-1",children:k.description})]}),r.jsx("div",{className:"flex space-x-2",children:r.jsxs(ae,{variant:"outline",size:"sm",onClick:()=>b(k),children:[r.jsx(ln,{className:"h-4 w-4 mr-2"}),"Edit"]})})]})}),r.jsx(fe,{children:r.jsxs("div",{className:"grid gap-6 md:grid-cols-3",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-sm font-semibold mb-3",children:"Territory Rules"}),r.jsxs("div",{className:"space-y-2",children:[k.rules.map(D=>r.jsx("div",{className:"p-2 bg-muted/30 rounded-lg text-sm",children:r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("span",{className:"font-medium",children:D.field}),r.jsx("span",{className:"text-muted-foreground",children:D.operator}),r.jsx("span",{children:D.value.toString()})]})},D.id)),k.rules.length===0&&r.jsx("p",{className:"text-sm text-muted-foreground",children:"No rules defined"})]})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-sm font-semibold mb-3",children:"Assigned Sales Reps"}),r.jsxs("div",{className:"space-y-2",children:[M(k.id).map(D=>r.jsxs("div",{className:"flex items-center space-x-2 p-2 bg-muted/30 rounded-lg",children:[r.jsx(cn,{className:"h-4 w-4 text-blue-500"}),r.jsx("span",{className:"text-sm",children:D.name})]},D.id)),k.assignedTo.length===0&&r.jsx("p",{className:"text-sm text-muted-foreground",children:"No reps assigned"})]})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-sm font-semibold mb-3",children:"Territory Stats"}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex items-center justify-between p-2 bg-blue-50 rounded-lg",children:[r.jsx("span",{className:"text-sm text-blue-700",children:"Deals"}),r.jsx("span",{className:"font-bold text-blue-700",children:P(k.id)})]}),r.jsxs("div",{className:"flex items-center justify-between p-2 bg-green-50 rounded-lg",children:[r.jsx("span",{className:"text-sm text-green-700",children:"Reps"}),r.jsx("span",{className:"font-bold text-green-700",children:k.assignedTo.length})]})]})]})]})})]},k.id)),e.length===0&&r.jsx(me,{className:"shadow-sm",children:r.jsxs(fe,{className:"flex flex-col items-center justify-center py-12",children:[r.jsx(cd,{className:"h-12 w-12 text-muted-foreground mb-4"}),r.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No Territories Defined"}),r.jsx("p",{className:"text-muted-foreground text-center mb-4",children:"Create territories to organize your sales team and deals by region, industry, or other criteria."}),r.jsxs(ae,{onClick:g,children:[r.jsx(It,{className:"h-4 w-4 mr-2"}),"Create First Territory"]})]})})]})]})}function e$({deals:e,approvalWorkflows:t,onApprove:n,onReject:s,onEscalate:a}){var v;const[i,o]=A.useState("pending"),[l,c]=A.useState(null),[d,p]=A.useState(""),u=y=>{switch(y){case"pending":return"bg-yellow-50 text-yellow-700 border-yellow-200";case"approved":return"bg-green-50 text-green-700 border-green-200";case"rejected":return"bg-red-50 text-red-700 border-red-200";case"escalated":return"bg-orange-50 text-orange-700 border-orange-200";default:return"bg-gray-50 text-gray-700 border-gray-200"}},f=y=>{switch(y){case"pending":return r.jsx(pr,{className:"h-4 w-4 text-yellow-500"});case"approved":return r.jsx(sa,{className:"h-4 w-4 text-green-500"});case"rejected":return r.jsx(Ou,{className:"h-4 w-4 text-red-500"});case"escalated":return r.jsx(ai,{className:"h-4 w-4 text-orange-500"});default:return r.jsx(pr,{className:"h-4 w-4 text-gray-500"})}},m=y=>t.filter(P=>P.status===y),g=y=>e.find(P=>P.id===y),b=()=>{if(!l)return;const y=l.steps.find(P=>P.stepNumber===l.currentStep);y&&(n(l.id,y.id,d),p(""),c(null))},j=()=>{if(!l)return;const y=l.steps.find(P=>P.stepNumber===l.currentStep);y&&(s(l.id,y.id,d),p(""),c(null))},x=()=>{if(!l)return;const y=l.steps.find(P=>P.stepNumber===l.currentStep);y&&(a(l.id,y.id,d),p(""),c(null))};return r.jsxs("div",{className:"space-y-6",children:[l&&r.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:r.jsxs(me,{className:"w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[r.jsx(be,{children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx(je,{children:"Approval Request"}),r.jsx(Ke,{children:((v=g(l.dealId))==null?void 0:v.name)||"Unknown Deal"})]}),r.jsx(Re,{className:$e("ri-badge-status",u(l.status)),children:l.status.toUpperCase()})]})}),r.jsxs(fe,{className:"space-y-6",children:[r.jsx("div",{className:"p-4 bg-muted/30 rounded-lg",children:r.jsx("div",{className:"grid gap-4 md:grid-cols-2",children:(()=>{const y=g(l.dealId);return y?r.jsxs(r.Fragment,{children:[r.jsxs("div",{children:[r.jsx("span",{className:"text-sm font-medium",children:"Customer:"}),r.jsx("p",{className:"text-sm",children:y.customerName})]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-sm font-medium",children:"Deal Value:"}),r.jsx("p",{className:"text-sm font-bold",children:Le(y.value)})]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-sm font-medium",children:"Stage:"}),r.jsx("p",{className:"text-sm",children:y.stage.replace("_"," ")})]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-sm font-medium",children:"Assigned To:"}),r.jsx("p",{className:"text-sm",children:y.assignedTo})]})]}):null})()})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-sm font-semibold mb-2",children:"Workflow Details"}),r.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[r.jsxs("div",{children:[r.jsx("span",{className:"text-sm font-medium",children:"Type:"}),r.jsx("p",{className:"text-sm",children:l.workflowType.replace("_"," ")})]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-sm font-medium",children:"Requested By:"}),r.jsx("p",{className:"text-sm",children:l.requestedBy})]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-sm font-medium",children:"Requested:"}),r.jsx("p",{className:"text-sm",children:yt(l.requestedAt)})]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-sm font-medium",children:"Current Step:"}),r.jsxs("p",{className:"text-sm",children:[l.currentStep," of ",l.totalSteps]})]})]})]}),r.jsxs("div",{children:[r.jsx(Ae,{htmlFor:"comments",children:"Comments"}),r.jsx(lr,{id:"comments",value:d,onChange:y=>p(y.target.value),placeholder:"Add your comments here...",rows:3})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-sm font-semibold mb-3",children:"Approval Steps"}),r.jsx("div",{className:"space-y-4",children:l.steps.map((y,P)=>{const M=y.stepNumber===l.currentStep,O=y.stepNumber<l.currentStep;return r.jsxs("div",{className:$e("p-3 rounded-lg border-2",M?"border-primary bg-primary/5":O?"border-muted bg-muted/10":"border-dashed border-muted"),children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("span",{className:"flex items-center justify-center w-6 h-6 rounded-full bg-muted text-xs font-bold",children:y.stepNumber}),r.jsx("span",{className:"font-medium",children:y.approverRole.replace("_"," ")})]}),r.jsxs(Re,{className:$e("ri-badge-status",u(y.status)),children:[f(y.status),r.jsx("span",{className:"ml-1",children:y.status.toUpperCase()})]})]}),r.jsxs("div",{className:"text-sm text-muted-foreground mb-2",children:["Requires ",y.requiredApprovals," approval(s) from ",y.approverIds.length," approver(s)"]}),y.currentApprovals.length>0&&r.jsxs("div",{className:"mt-3 space-y-2",children:[r.jsx("h4",{className:"text-xs font-medium",children:"Approvals:"}),y.currentApprovals.map((E,S)=>r.jsxs("div",{className:"flex items-start space-x-2 text-xs p-2 bg-muted/30 rounded",children:[E.action==="approve"?r.jsx($D,{className:"h-3 w-3 text-green-500 mt-0.5"}):E.action==="reject"?r.jsx(zD,{className:"h-3 w-3 text-red-500 mt-0.5"}):r.jsx(ai,{className:"h-3 w-3 text-orange-500 mt-0.5"}),r.jsxs("div",{children:[r.jsx("div",{className:"font-medium",children:E.approverId}),r.jsx("div",{className:"text-muted-foreground",children:yt(E.actionDate)}),E.comments&&r.jsx("div",{className:"mt-1 italic",children:E.comments})]})]},S))]})]},y.id)})})]}),l.status==="pending"&&r.jsxs(r.Fragment,{children:[r.jsxs("div",{children:[r.jsx(Ae,{htmlFor:"comments",children:"Comments"}),r.jsx(lr,{id:"comments",value:d,onChange:y=>p(y.target.value),placeholder:"Add your comments here...",rows:3})]}),r.jsxs("div",{className:"flex justify-end space-x-3 pt-6 border-t",children:[r.jsx(ae,{variant:"outline",onClick:()=>c(null),children:"Cancel"}),r.jsxs(ae,{variant:"outline",onClick:x,children:[r.jsx(ai,{className:"h-4 w-4 mr-2"}),"Escalate"]}),r.jsxs(ae,{variant:"destructive",onClick:j,children:[r.jsx(Ou,{className:"h-4 w-4 mr-2"}),"Reject"]}),r.jsxs(ae,{variant:"default",onClick:b,children:[r.jsx(sa,{className:"h-4 w-4 mr-2"}),"Approve"]})]})]}),l.status!=="pending"&&r.jsx("div",{className:"flex justify-end pt-6 border-t",children:r.jsx(ae,{variant:"outline",onClick:()=>c(null),children:"Close"})})]})]})}),r.jsx("div",{className:"flex items-center justify-between",children:r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-bold",children:"Approval Workflows"}),r.jsx("p",{className:"text-muted-foreground",children:"Manage approval requests for deals above threshold"})]})}),r.jsxs(dn,{value:i,onValueChange:o,className:"space-y-6",children:[r.jsxs(Zr,{children:[r.jsxs(ut,{value:"pending",children:["Pending",r.jsx(Re,{className:"ml-2 bg-yellow-50 text-yellow-700 border-yellow-200",children:m("pending").length})]}),r.jsxs(ut,{value:"approved",children:["Approved",r.jsx(Re,{className:"ml-2 bg-green-50 text-green-700 border-green-200",children:m("approved").length})]}),r.jsxs(ut,{value:"rejected",children:["Rejected",r.jsx(Re,{className:"ml-2 bg-red-50 text-red-700 border-red-200",children:m("rejected").length})]}),r.jsxs(ut,{value:"escalated",children:["Escalated",r.jsx(Re,{className:"ml-2 bg-orange-50 text-orange-700 border-orange-200",children:m("escalated").length})]})]}),r.jsx(ht,{value:"pending",className:"space-y-4",children:m("pending").length>0?m("pending").map(y=>{const P=g(y.dealId);return P?r.jsx(me,{className:"shadow-sm hover:shadow-md transition-shadow cursor-pointer",onClick:()=>c(y),children:r.jsxs(fe,{className:"p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"font-semibold",children:P.name}),r.jsx("p",{className:"text-sm text-muted-foreground",children:P.customerName})]}),r.jsxs(Re,{className:$e("ri-badge-status",u(y.status)),children:[f(y.status),r.jsx("span",{className:"ml-1",children:y.status.toUpperCase()})]})]}),r.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[r.jsxs("div",{children:[r.jsx("span",{className:"text-sm font-medium",children:"Deal Value:"}),r.jsx("p",{className:"text-lg font-bold text-primary",children:Le(P.value)})]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-sm font-medium",children:"Requested By:"}),r.jsxs("div",{className:"flex items-center space-x-1 mt-1",children:[r.jsx(Os,{className:"h-4 w-4 text-blue-500"}),r.jsx("span",{className:"text-sm",children:y.requestedBy})]})]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-sm font-medium",children:"Requested:"}),r.jsx("p",{className:"text-sm",children:yt(y.requestedAt)})]})]}),r.jsxs("div",{className:"mt-4 pt-4 border-t",children:[r.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[r.jsx("span",{className:"text-sm font-medium",children:"Approval Progress:"}),r.jsxs("span",{className:"text-sm",children:[y.currentStep," of ",y.totalSteps]})]}),r.jsx("div",{className:"flex items-center space-x-2",children:y.steps.map((M,O)=>{const E=M.stepNumber<y.currentStep,S=M.stepNumber===y.currentStep;return r.jsxs(Dt.Fragment,{children:[r.jsx("div",{className:$e("flex items-center justify-center w-8 h-8 rounded-full",E?"bg-primary text-primary-foreground":S?"bg-primary/20 text-primary border-2 border-primary":"bg-muted text-muted-foreground"),children:M.stepNumber}),O<y.steps.length-1&&r.jsx(ID,{className:"h-4 w-4 text-muted-foreground"})]},M.id)})})]})]})},y.id):null}):r.jsx(me,{className:"shadow-sm",children:r.jsxs(fe,{className:"flex flex-col items-center justify-center py-12",children:[r.jsx(pr,{className:"h-12 w-12 text-muted-foreground mb-4"}),r.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No Pending Approvals"}),r.jsx("p",{className:"text-muted-foreground text-center",children:"There are no deals currently waiting for your approval."})]})})}),r.jsx(ht,{value:"approved",className:"space-y-4",children:m("approved").length>0?m("approved").map(y=>{const P=g(y.dealId);return P?r.jsx(me,{className:"shadow-sm hover:shadow-md transition-shadow cursor-pointer",onClick:()=>c(y),children:r.jsxs(fe,{className:"p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"font-semibold",children:P.name}),r.jsx("p",{className:"text-sm text-muted-foreground",children:P.customerName})]}),r.jsxs(Re,{className:$e("ri-badge-status",u(y.status)),children:[f(y.status),r.jsx("span",{className:"ml-1",children:y.status.toUpperCase()})]})]}),r.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[r.jsxs("div",{children:[r.jsx("span",{className:"text-sm font-medium",children:"Deal Value:"}),r.jsx("p",{className:"text-lg font-bold text-primary",children:Le(P.value)})]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-sm font-medium",children:"Completed:"}),r.jsx("p",{className:"text-sm",children:y.completedAt?yt(y.completedAt):"N/A"})]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-sm font-medium",children:"Workflow Type:"}),r.jsx("p",{className:"text-sm capitalize",children:y.workflowType.replace("_"," ")})]})]})]})},y.id):null}):r.jsx(me,{className:"shadow-sm",children:r.jsxs(fe,{className:"flex flex-col items-center justify-center py-12",children:[r.jsx(sa,{className:"h-12 w-12 text-muted-foreground mb-4"}),r.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No Approved Workflows"}),r.jsx("p",{className:"text-muted-foreground text-center",children:"There are no approved deal workflows yet."})]})})}),r.jsx(ht,{value:"rejected",className:"space-y-4",children:m("rejected").length>0?m("rejected").map(y=>{const P=g(y.dealId);return P?r.jsx(me,{className:"shadow-sm hover:shadow-md transition-shadow cursor-pointer",onClick:()=>c(y),children:r.jsxs(fe,{className:"p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"font-semibold",children:P.name}),r.jsx("p",{className:"text-sm text-muted-foreground",children:P.customerName})]}),r.jsxs(Re,{className:$e("ri-badge-status",u(y.status)),children:[f(y.status),r.jsx("span",{className:"ml-1",children:y.status.toUpperCase()})]})]}),r.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[r.jsxs("div",{children:[r.jsx("span",{className:"text-sm font-medium",children:"Deal Value:"}),r.jsx("p",{className:"text-lg font-bold text-primary",children:Le(P.value)})]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-sm font-medium",children:"Completed:"}),r.jsx("p",{className:"text-sm",children:y.completedAt?yt(y.completedAt):"N/A"})]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-sm font-medium",children:"Workflow Type:"}),r.jsx("p",{className:"text-sm capitalize",children:y.workflowType.replace("_"," ")})]})]})]})},y.id):null}):r.jsx(me,{className:"shadow-sm",children:r.jsxs(fe,{className:"flex flex-col items-center justify-center py-12",children:[r.jsx(Ou,{className:"h-12 w-12 text-muted-foreground mb-4"}),r.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No Rejected Workflows"}),r.jsx("p",{className:"text-muted-foreground text-center",children:"There are no rejected deal workflows."})]})})}),r.jsx(ht,{value:"escalated",className:"space-y-4",children:m("escalated").length>0?m("escalated").map(y=>{const P=g(y.dealId);return P?r.jsx(me,{className:"shadow-sm hover:shadow-md transition-shadow cursor-pointer",onClick:()=>c(y),children:r.jsxs(fe,{className:"p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"font-semibold",children:P.name}),r.jsx("p",{className:"text-sm text-muted-foreground",children:P.customerName})]}),r.jsxs(Re,{className:$e("ri-badge-status",u(y.status)),children:[f(y.status),r.jsx("span",{className:"ml-1",children:y.status.toUpperCase()})]})]}),r.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[r.jsxs("div",{children:[r.jsx("span",{className:"text-sm font-medium",children:"Deal Value:"}),r.jsx("p",{className:"text-lg font-bold text-primary",children:Le(P.value)})]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-sm font-medium",children:"Requested:"}),r.jsx("p",{className:"text-sm",children:yt(y.requestedAt)})]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-sm font-medium",children:"Workflow Type:"}),r.jsx("p",{className:"text-sm capitalize",children:y.workflowType.replace("_"," ")})]})]})]})},y.id):null}):r.jsx(me,{className:"shadow-sm",children:r.jsxs(fe,{className:"flex flex-col items-center justify-center py-12",children:[r.jsx(ai,{className:"h-12 w-12 text-muted-foreground mb-4"}),r.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No Escalated Workflows"}),r.jsx("p",{className:"text-muted-foreground text-center",children:"There are no escalated deal workflows."})]})})})]})]})}function t$({deal:e,customers:t,salesReps:n,territories:s,products:a,onSave:i,onCancel:o}){const{toast:l}=Cr(),[c,d]=A.useState(!1),[p,u]=A.useState({name:"",customerId:"",customerName:"",stage:pt.PROSPECTING,status:rr.ACTIVE,priority:si.MEDIUM,value:0,probability:10,expectedCloseDate:new Date(Date.now()+30*24*60*60*1e3),assignedTo:"",territoryId:"",sourceId:"",competitorIds:[],products:[],notes:"",requiresApproval:!1,customFields:{}}),[f,m]=A.useState(!1),[g,b]=A.useState(!1),[j,x]=A.useState({productId:"",productName:"",quantity:1,unitPrice:0,discount:0,total:0});A.useEffect(()=>{e&&u({...e,expectedCloseDate:new Date(e.expectedCloseDate)})},[e]),A.useEffect(()=>{if(p.customerId){const E=t.find(S=>S.id===p.customerId);E&&u(S=>({...S,customerName:`${E.firstName} ${E.lastName}`}))}},[p.customerId,t]),A.useEffect(()=>{if(p.products&&p.products.length>0){const E=p.products.reduce((S,k)=>S+k.total,0);u(S=>({...S,value:E}))}},[p.products]),A.useEffect(()=>{const E=j.quantity||1,S=j.unitPrice||0,k=j.discount||0,D=E*S-k;x(C=>({...C,total:D}))},[j.quantity,j.unitPrice,j.discount]);const v=async E=>{if(E.preventDefault(),!p.name||!p.customerId||!p.expectedCloseDate){l({title:"Validation Error",description:"Please fill in all required fields",variant:"destructive"});return}d(!0);try{await i(p),l({title:"Success",description:`Deal ${e?"updated":"created"} successfully`})}catch{l({title:"Error",description:`Failed to ${e?"update":"create"} deal`,variant:"destructive"})}finally{d(!1)}},y=()=>{if(!j.productId||!j.productName){l({title:"Validation Error",description:"Please select a product",variant:"destructive"});return}const E={id:Math.random().toString(36).substr(2,9),productId:j.productId,productName:j.productName,quantity:j.quantity||1,unitPrice:j.unitPrice||0,discount:j.discount||0,total:j.total||0};u(S=>({...S,products:[...S.products||[],E]})),x({productId:"",productName:"",quantity:1,unitPrice:0,discount:0,total:0}),m(!1)},P=E=>{u(S=>{var k;return{...S,products:((k=S.products)==null?void 0:k.filter(D=>D.id!==E))||[]}})},M=E=>{const S=a.find(k=>k.id===E);S&&x({productId:S.id,productName:S.name,quantity:1,unitPrice:S.price,discount:0,total:S.price})},O=E=>{u(S=>({...S,customerId:E.id,customerName:`${E.firstName} ${E.lastName}`})),b(!1),l({title:"Customer Added",description:`${E.firstName} ${E.lastName} has been added as a customer.`})};return r.jsxs("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:[g&&r.jsx(Ad,{onClose:()=>b(!1),onSuccess:O}),r.jsxs(me,{className:"w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[r.jsx(be,{children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx(je,{children:e?"Edit Deal":"Create Deal"}),r.jsx(Ke,{children:e?"Update deal details":"Create a new sales deal"})]}),r.jsx(ae,{variant:"ghost",size:"sm",onClick:o,children:r.jsx(or,{className:"h-4 w-4"})})]})}),r.jsx(fe,{children:r.jsxs("form",{onSubmit:v,className:"space-y-6",children:[r.jsxs("div",{className:"space-y-4",children:[r.jsxs("h3",{className:"text-lg font-semibold flex items-center",children:[r.jsx(vs,{className:"h-4 w-4 mr-2"}),"Deal Information"]}),r.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[r.jsxs("div",{children:[r.jsx(Ae,{htmlFor:"name",children:"Deal Name *"}),r.jsx(Be,{id:"name",value:p.name,onChange:E=>u(S=>({...S,name:E.target.value})),placeholder:"Enter deal name"})]}),r.jsxs("div",{children:[r.jsx(Ae,{htmlFor:"customerId",children:"Customer *"}),r.jsxs(lt,{value:p.customerId||"",onValueChange:E=>u(S=>({...S,customerId:E})),children:[r.jsx(it,{children:r.jsx(ct,{placeholder:"Select customer"})}),r.jsxs(ot,{children:[r.jsx("div",{className:"px-2 py-1.5",children:r.jsxs(ae,{variant:"outline",size:"sm",className:"w-full justify-start",onClick:()=>b(!0),children:[r.jsx(It,{className:"h-3.5 w-3.5 mr-2"}),"Add New Customer"]})}),r.jsx("div",{className:"px-2 py-1 border-t"}),t.map(E=>r.jsxs(oe,{value:E.id,children:[E.firstName," ",E.lastName]},E.id))]})]})]})]}),r.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[r.jsxs("div",{children:[r.jsx(Ae,{htmlFor:"stage",children:"Stage"}),r.jsxs(lt,{value:p.stage,onValueChange:E=>u(S=>({...S,stage:E,probability:E===pt.PROSPECTING?10:E===pt.QUALIFICATION?25:E===pt.NEEDS_ANALYSIS?40:E===pt.PROPOSAL?60:E===pt.NEGOTIATION?80:E===pt.CLOSED_WON?100:E===pt.CLOSED_LOST?0:10})),children:[r.jsx(it,{children:r.jsx(ct,{})}),r.jsxs(ot,{children:[r.jsx(oe,{value:pt.PROSPECTING,children:"Prospecting"}),r.jsx(oe,{value:pt.QUALIFICATION,children:"Qualification"}),r.jsx(oe,{value:pt.NEEDS_ANALYSIS,children:"Needs Analysis"}),r.jsx(oe,{value:pt.PROPOSAL,children:"Proposal"}),r.jsx(oe,{value:pt.NEGOTIATION,children:"Negotiation"}),r.jsx(oe,{value:pt.CLOSED_WON,children:"Closed Won"}),r.jsx(oe,{value:pt.CLOSED_LOST,children:"Closed Lost"})]})]})]}),r.jsxs("div",{children:[r.jsx(Ae,{htmlFor:"priority",children:"Priority"}),r.jsxs(lt,{value:p.priority,onValueChange:E=>u(S=>({...S,priority:E})),children:[r.jsx(it,{children:r.jsx(ct,{})}),r.jsxs(ot,{children:[r.jsx(oe,{value:si.LOW,children:"Low"}),r.jsx(oe,{value:si.MEDIUM,children:"Medium"}),r.jsx(oe,{value:si.HIGH,children:"High"}),r.jsx(oe,{value:si.CRITICAL,children:"Critical"})]})]})]}),r.jsxs("div",{children:[r.jsx(Ae,{htmlFor:"probability",children:"Probability (%)"}),r.jsx(Be,{id:"probability",type:"number",min:"0",max:"100",value:p.probability,onChange:E=>u(S=>({...S,probability:parseInt(E.target.value)||0}))})]})]}),r.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[r.jsxs("div",{children:[r.jsx(Ae,{htmlFor:"expectedCloseDate",children:"Expected Close Date *"}),r.jsx(Be,{id:"expectedCloseDate",type:"date",value:p.expectedCloseDate?new Date(p.expectedCloseDate).toISOString().split("T")[0]:"",onChange:E=>u(S=>({...S,expectedCloseDate:new Date(E.target.value)}))})]}),r.jsxs("div",{children:[r.jsx(Ae,{htmlFor:"assignedTo",children:"Assigned To"}),r.jsxs(lt,{value:p.assignedTo,onValueChange:E=>u(S=>({...S,assignedTo:E})),children:[r.jsx(it,{children:r.jsx(ct,{placeholder:"Select sales rep"})}),r.jsx(ot,{children:n.map(E=>r.jsx(oe,{value:E.id,children:E.name},E.id))})]})]}),r.jsxs("div",{children:[r.jsx(Ae,{htmlFor:"territoryId",children:"Territory"}),r.jsxs(lt,{value:p.territoryId,onValueChange:E=>u(S=>({...S,territoryId:E})),children:[r.jsx(it,{children:r.jsx(ct,{placeholder:"Select territory"})}),r.jsx(ot,{children:s.map(E=>r.jsx(oe,{value:E.id,children:E.name},E.id))})]})]})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("h3",{className:"text-lg font-semibold flex items-center",children:[r.jsx(Hn,{className:"h-4 w-4 mr-2"}),"Products"]}),r.jsxs(ae,{type:"button",onClick:()=>m(!0),size:"sm",children:[r.jsx(It,{className:"h-4 w-4 mr-2"}),"Add Product"]})]}),f&&r.jsx(me,{className:"border-dashed",children:r.jsxs(fe,{className:"pt-6",children:[r.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[r.jsxs("div",{children:[r.jsx(Ae,{children:"Product"}),r.jsxs(lt,{onValueChange:M,children:[r.jsx(it,{children:r.jsx(ct,{placeholder:"Select product"})}),r.jsx(ot,{children:a.map(E=>r.jsxs(oe,{value:E.id,children:[E.name," - ",Le(E.price)]},E.id))})]})]}),r.jsxs("div",{children:[r.jsx(Ae,{children:"Quantity"}),r.jsx(Be,{type:"number",min:"1",value:j.quantity,onChange:E=>x(S=>({...S,quantity:parseInt(E.target.value)||1}))})]}),r.jsxs("div",{children:[r.jsx(Ae,{children:"Unit Price"}),r.jsx(Be,{type:"number",min:"0",step:"0.01",value:j.unitPrice,onChange:E=>x(S=>({...S,unitPrice:parseFloat(E.target.value)||0}))})]}),r.jsxs("div",{children:[r.jsx(Ae,{children:"Discount"}),r.jsx(Be,{type:"number",min:"0",step:"0.01",value:j.discount,onChange:E=>x(S=>({...S,discount:parseFloat(E.target.value)||0}))})]})]}),r.jsxs("div",{className:"flex items-center justify-between mt-4",children:[r.jsxs("div",{children:[r.jsx("span",{className:"text-sm font-medium",children:"Total: "}),r.jsx("span",{className:"font-bold",children:Le(j.total||0)})]}),r.jsxs("div",{className:"flex space-x-2",children:[r.jsx(ae,{type:"button",variant:"outline",onClick:()=>m(!1),children:"Cancel"}),r.jsx(ae,{type:"button",onClick:y,children:"Add Product"})]})]})]})}),r.jsx("div",{className:"space-y-3",children:p.products&&p.products.length>0?p.products.map(E=>r.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("span",{className:"font-medium",children:E.productName}),r.jsxs(Re,{variant:"outline",children:[E.quantity,"  ",Le(E.unitPrice)]})]}),E.discount>0&&r.jsxs("div",{className:"text-sm text-green-600 mt-1",children:["Discount: ",Le(E.discount)]})]}),r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx("span",{className:"font-bold",children:Le(E.total)}),r.jsx(ae,{type:"button",variant:"ghost",size:"sm",onClick:()=>P(E.id),children:r.jsx(ys,{className:"h-4 w-4 text-red-500"})})]})]},E.id)):r.jsxs("div",{className:"text-center py-6 text-muted-foreground border-2 border-dashed rounded-lg",children:[r.jsx(Hn,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground/50"}),r.jsx("p",{children:"No products added yet"}),r.jsx("p",{className:"text-sm",children:"Add products to calculate deal value"})]})}),p.products&&p.products.length>0&&r.jsx("div",{className:"flex justify-end p-3 bg-muted/30 rounded-lg",children:r.jsxs("div",{className:"text-right",children:[r.jsx("span",{className:"text-sm font-medium",children:"Total Deal Value: "}),r.jsx("span",{className:"text-lg font-bold text-primary",children:Le(p.value||0)})]})})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsx("h3",{className:"text-lg font-semibold",children:"Notes"}),r.jsx(lr,{value:p.notes,onChange:E=>u(S=>({...S,notes:E.target.value})),placeholder:"Add any additional notes about this deal...",rows:3})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsx("h3",{className:"text-lg font-semibold",children:"Approval Settings"}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Yn,{id:"requiresApproval",checked:p.requiresApproval,onCheckedChange:E=>u(S=>({...S,requiresApproval:!!E}))}),r.jsx(Ae,{htmlFor:"requiresApproval",children:"This deal requires approval"})]}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Deals over $100,000 automatically require approval"})]}),r.jsxs("div",{className:"flex justify-end space-x-3 pt-6 border-t",children:[r.jsx(ae,{type:"button",variant:"outline",onClick:o,disabled:c,children:"Cancel"}),r.jsx(ae,{type:"submit",disabled:c,children:c?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),e?"Updating...":"Creating..."]}):r.jsxs(r.Fragment,{children:[r.jsx(da,{className:"h-4 w-4 mr-2"}),e?"Update":"Create"," Deal"]})})]})]})})]})]})}function o5(){const{deals:e,territories:t,approvalWorkflows:n,winLossReports:s,stageHistory:a,createDeal:i,updateDealStage:o,assignTerritory:l,createApprovalWorkflow:c,createWinLossReport:d,getDealMetrics:p}=u_(),{leads:u,salesReps:f}=Hl(),{vehicles:m}=Fp(),[g,b]=A.useState(""),[j,x]=A.useState("all"),[v,y]=A.useState("all"),[P,M]=A.useState(null),[O,E]=A.useState(!1),[S,k]=A.useState("pipeline"),[D,C]=A.useState(!1),{toast:w}=Cr(),T=G=>{switch(G){case rr.ACTIVE:return"bg-blue-50 text-blue-700 border-blue-200";case rr.WON:return"bg-green-50 text-green-700 border-green-200";case rr.LOST:return"bg-red-50 text-red-700 border-red-200";case rr.ON_HOLD:return"bg-yellow-50 text-yellow-700 border-yellow-200";case rr.CANCELLED:return"bg-gray-50 text-gray-700 border-gray-200";default:return"bg-gray-50 text-gray-700 border-gray-200"}},L=e.filter(G=>{const Z=G.name.toLowerCase().includes(g.toLowerCase())||G.customerName.toLowerCase().includes(g.toLowerCase()),te=j==="all"||G.stage===j,le=v==="all"||G.assignedTo===v;return Z&&te&&le}),W=async(G,Z)=>{try{await o(G,Z);const te=e.find(le=>le.id===G);te&&w({title:"Deal Stage Updated",description:`${te.name} moved to ${Z.replace("_"," ").toLowerCase()}`})}catch{w({title:"Error",description:"Failed to update deal stage",variant:"destructive"})}},V=G=>{M(G),C(!0)},_=()=>{M(null),E(!0)},B=G=>{M(G),E(!0)},U=async G=>{P?await o(P.id,G.stage||P.stage):await i(G),E(!1),M(null)},q=async(G,Z)=>{await c(G,Z)},H=async(G,Z,te)=>{await d(G,Z,te)},R=p(),$=m.map(G=>({id:G.id,name:`${G.year} ${G.make} ${G.model}`,price:G.price,category:"vehicle"})).concat([{id:"prod-001",name:"Extended Warranty Package",price:3500,category:"warranty"},{id:"prod-002",name:"Premium Interior Upgrade",price:2200,category:"upgrade"},{id:"prod-003",name:"Solar Panel Package",price:3500,category:"accessory"}]);return r.jsxs("div",{className:"space-y-8",children:[D&&P&&r.jsx(Jz,{deal:P,onClose:()=>C(!1),onEdit:B}),O&&r.jsx(t$,{deal:P||void 0,customers:u,salesReps:f,territories:t,products:$,onSave:U,onCancel:()=>{E(!1),M(null)}}),r.jsx("div",{className:"ri-page-header",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"ri-page-title",children:"Sales Deal Management"}),r.jsx("p",{className:"ri-page-description",children:"Track deals through the sales pipeline with approvals and territory management"})]}),r.jsxs(ae,{className:"shadow-sm",onClick:_,children:[r.jsx(It,{className:"h-4 w-4 mr-2"}),"New Deal"]})]})}),r.jsxs("div",{className:"ri-stats-grid",children:[r.jsxs(me,{className:"shadow-sm border-0 bg-gradient-to-br from-blue-50 to-blue-100/50",children:[r.jsxs(be,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(je,{className:"text-sm font-medium text-blue-900",children:"Total Pipeline"}),r.jsx(gr,{className:"h-4 w-4 text-blue-600"})]}),r.jsxs(fe,{children:[r.jsx("div",{className:"text-2xl font-bold text-blue-900",children:Le(R.totalValue)}),r.jsxs("p",{className:"text-xs text-blue-600 flex items-center mt-1",children:[r.jsx(jt,{className:"h-3 w-3 mr-1"}),R.totalDeals," active deals"]})]})]}),r.jsxs(me,{className:"shadow-sm border-0 bg-gradient-to-br from-green-50 to-green-100/50",children:[r.jsxs(be,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(je,{className:"text-sm font-medium text-green-900",children:"Win Rate"}),r.jsx(vs,{className:"h-4 w-4 text-green-600"})]}),r.jsxs(fe,{children:[r.jsxs("div",{className:"text-2xl font-bold text-green-900",children:[R.winRate.toFixed(1),"%"]}),r.jsxs("p",{className:"text-xs text-green-600 flex items-center mt-1",children:[r.jsx(jt,{className:"h-3 w-3 mr-1"}),R.wonDeals," won deals"]})]})]}),r.jsxs(me,{className:"shadow-sm border-0 bg-gradient-to-br from-purple-50 to-purple-100/50",children:[r.jsxs(be,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(je,{className:"text-sm font-medium text-purple-900",children:"Avg Deal Size"}),r.jsx(gr,{className:"h-4 w-4 text-purple-600"})]}),r.jsxs(fe,{children:[r.jsx("div",{className:"text-2xl font-bold text-purple-900",children:Le(R.averageDealSize)}),r.jsxs("p",{className:"text-xs text-purple-600 flex items-center mt-1",children:[r.jsx(jt,{className:"h-3 w-3 mr-1"}),R.averageSalesCycle.toFixed(0)," day cycle"]})]})]}),r.jsxs(me,{className:"shadow-sm border-0 bg-gradient-to-br from-orange-50 to-orange-100/50",children:[r.jsxs(be,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(je,{className:"text-sm font-medium text-orange-900",children:"Territories"}),r.jsx(cd,{className:"h-4 w-4 text-orange-600"})]}),r.jsxs(fe,{children:[r.jsx("div",{className:"text-2xl font-bold text-orange-900",children:t.length}),r.jsxs("p",{className:"text-xs text-orange-600 flex items-center mt-1",children:[r.jsx(cn,{className:"h-3 w-3 mr-1"}),"Active territories"]})]})]})]}),r.jsxs(dn,{value:S,onValueChange:k,className:"space-y-6",children:[r.jsxs(Zr,{className:"grid w-full grid-cols-5",children:[r.jsx(ut,{value:"pipeline",children:"Pipeline"}),r.jsx(ut,{value:"deals",children:"Deals"}),r.jsx(ut,{value:"analytics",children:"Analytics"}),r.jsx(ut,{value:"territories",children:"Territories"}),r.jsx(ut,{value:"approvals",children:"Approvals"})]}),r.jsx(ht,{value:"pipeline",className:"space-y-6",children:r.jsx(Hz,{deals:e,onDealStageChange:W,onDealClick:V})}),r.jsxs(ht,{value:"deals",className:"space-y-6",children:[r.jsxs("div",{className:"flex gap-4",children:[r.jsxs("div",{className:"ri-search-bar",children:[r.jsx(ss,{className:"ri-search-icon"}),r.jsx(Be,{placeholder:"Search deals...",value:g,onChange:G=>b(G.target.value),className:"ri-search-input shadow-sm"})]}),r.jsxs(lt,{value:j,onValueChange:x,children:[r.jsx(it,{className:"w-40",children:r.jsx(ct,{placeholder:"Stage"})}),r.jsxs(ot,{children:[r.jsx(oe,{value:"all",children:"All Stages"}),r.jsx(oe,{value:pt.PROSPECTING,children:"Prospecting"}),r.jsx(oe,{value:pt.QUALIFICATION,children:"Qualification"}),r.jsx(oe,{value:pt.NEEDS_ANALYSIS,children:"Needs Analysis"}),r.jsx(oe,{value:pt.PROPOSAL,children:"Proposal"}),r.jsx(oe,{value:pt.NEGOTIATION,children:"Negotiation"}),r.jsx(oe,{value:pt.CLOSED_WON,children:"Closed Won"}),r.jsx(oe,{value:pt.CLOSED_LOST,children:"Closed Lost"})]})]}),r.jsxs(lt,{value:v,onValueChange:y,children:[r.jsx(it,{className:"w-40",children:r.jsx(ct,{placeholder:"Sales Rep"})}),r.jsxs(ot,{children:[r.jsx(oe,{value:"all",children:"All Reps"}),f.map(G=>r.jsx(oe,{value:G.id,children:G.name},G.id))]})]}),r.jsxs(ae,{variant:"outline",className:"shadow-sm",children:[r.jsx(zs,{className:"h-4 w-4 mr-2"}),"Filter"]})]}),r.jsxs(me,{className:"shadow-sm",children:[r.jsxs(be,{children:[r.jsxs(je,{className:"text-xl",children:["Deals (",L.length,")"]}),r.jsx(Ke,{children:"Manage your sales pipeline and deal progression"})]}),r.jsx(fe,{children:r.jsxs("div",{className:"space-y-4",children:[L.map(G=>{var Z;return r.jsxs("div",{className:"ri-table-row cursor-pointer",onClick:()=>B(G),children:[r.jsx("div",{className:"flex items-center space-x-4 flex-1",children:r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[r.jsx("h3",{className:"font-semibold text-foreground",children:G.name}),r.jsx(Re,{className:$e("ri-badge-status",T(G.status)),children:G.status.toUpperCase()}),r.jsx(Re,{variant:"outline",children:G.stage.replace("_"," ").toUpperCase()})]}),r.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2 text-sm text-muted-foreground",children:[r.jsxs("span",{className:"flex items-center",children:[r.jsx(cn,{className:"h-3 w-3 mr-2 text-blue-500"}),G.customerName]}),r.jsxs("span",{className:"flex items-center",children:[r.jsx(gr,{className:"h-3 w-3 mr-2 text-green-500"}),Le(G.value)]}),r.jsxs("span",{className:"flex items-center",children:[r.jsx(vs,{className:"h-3 w-3 mr-2 text-purple-500"}),G.probability,"% probability"]}),r.jsxs("span",{className:"flex items-center",children:[r.jsx(cd,{className:"h-3 w-3 mr-2 text-orange-500"}),((Z=t.find(te=>te.id===G.territoryId))==null?void 0:Z.name)||"No Territory"]})]}),G.notes&&r.jsx("p",{className:"text-sm text-muted-foreground mt-2 bg-muted/30 p-2 rounded-md",children:G.notes})]})}),r.jsxs("div",{className:"ri-action-buttons",children:[r.jsx(ae,{variant:"outline",size:"sm",className:"shadow-sm",onClick:te=>{te.stopPropagation(),V(G)},children:"View"}),G.requiresApproval&&r.jsx(ae,{variant:"outline",size:"sm",className:"shadow-sm",onClick:te=>{te.stopPropagation(),q(G.id,"deal_value")},children:"Request Approval"})]})]},G.id)}),L.length===0&&r.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[r.jsx(vs,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground/50"}),r.jsx("p",{children:"No deals found"}),r.jsx("p",{className:"text-sm",children:"Create your first deal to get started"})]})]})})]})]}),r.jsx(ht,{value:"analytics",className:"space-y-6",children:r.jsxs(dn,{defaultValue:"metrics",className:"space-y-6",children:[r.jsxs(Zr,{children:[r.jsx(ut,{value:"metrics",children:"Deal Metrics"}),r.jsx(ut,{value:"win-loss",children:"Win/Loss Analysis"})]}),r.jsx(ht,{value:"metrics",children:r.jsx(Gz,{metrics:R})}),r.jsx(ht,{value:"win-loss",children:r.jsx(Xz,{deals:e,winLossReports:s,onCreateReport:H})})]})}),r.jsx(ht,{value:"territories",className:"space-y-6",children:r.jsx(Zz,{territories:t,salesReps:f,deals:e,onCreateTerritory:()=>{},onUpdateTerritory:()=>{},onDeleteTerritory:()=>{}})}),r.jsx(ht,{value:"approvals",className:"space-y-6",children:r.jsx(e$,{deals:e,approvalWorkflows:n,onApprove:()=>{},onReject:()=>{},onEscalate:()=>{}})})]})]})}function r$(){return r.jsxs(Ln,{children:[r.jsx(Et,{path:"/",element:r.jsx(o5,{})}),r.jsx(Et,{path:"/*",element:r.jsx(o5,{})})]})}const n$=[{id:"1",type:yl.PURCHASE,customerId:"cust-1",vehicleId:"veh-1",quoteId:"quote-1",status:Aa.SIGNED,signedDate:new Date("2024-01-18"),effectiveDate:new Date("2024-01-18"),expirationDate:new Date("2025-01-18"),terms:"Standard purchase agreement with 90-day warranty",documents:[{id:"1",name:"Purchase Agreement.pdf",type:"application/pdf",url:"/documents/purchase-agreement-1.pdf",size:245760,uploadedAt:new Date("2024-01-18")}],customFields:{},createdAt:new Date("2024-01-15"),updatedAt:new Date("2024-01-18")},{id:"2",type:yl.SERVICE,customerId:"cust-2",status:Aa.ACTIVE,effectiveDate:new Date("2024-01-10"),expirationDate:new Date("2024-07-10"),terms:"Extended service contract for 6 months",documents:[{id:"2",name:"Service Contract.pdf",type:"application/pdf",url:"/documents/service-contract-2.pdf",size:189440,uploadedAt:new Date("2024-01-10")}],customFields:{},createdAt:new Date("2024-01-08"),updatedAt:new Date("2024-01-10")}];function l5(){const[e]=A.useState(n$),[t,n]=A.useState(""),s=o=>{switch(o){case Aa.DRAFT:return"bg-gray-50 text-gray-700 border-gray-200";case Aa.PENDING:return"bg-yellow-50 text-yellow-700 border-yellow-200";case Aa.SIGNED:return"bg-blue-50 text-blue-700 border-blue-200";case Aa.ACTIVE:return"bg-green-50 text-green-700 border-green-200";case Aa.EXPIRED:return"bg-orange-50 text-orange-700 border-orange-200";case Aa.CANCELLED:return"bg-red-50 text-red-700 border-red-200";default:return"bg-gray-50 text-gray-700 border-gray-200"}},a=o=>{switch(o){case yl.PURCHASE:return"bg-blue-50 text-blue-700 border-blue-200";case yl.LEASE:return"bg-purple-50 text-purple-700 border-purple-200";case yl.SERVICE:return"bg-green-50 text-green-700 border-green-200";case yl.WARRANTY:return"bg-orange-50 text-orange-700 border-orange-200";default:return"bg-gray-50 text-gray-700 border-gray-200"}},i=e.filter(o=>o.id.toLowerCase().includes(t.toLowerCase())||o.customerId.toLowerCase().includes(t.toLowerCase())||o.type.toLowerCase().includes(t.toLowerCase()));return r.jsxs("div",{className:"space-y-8",children:[r.jsx("div",{className:"ri-page-header",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"ri-page-title",children:"Agreement Vault"}),r.jsx("p",{className:"ri-page-description",children:"Manage contracts, agreements, and legal documents"})]}),r.jsxs(ae,{className:"shadow-sm",children:[r.jsx(It,{className:"h-4 w-4 mr-2"}),"New Agreement"]})]})}),r.jsxs("div",{className:"ri-stats-grid",children:[r.jsxs(me,{className:"shadow-sm border-0 bg-gradient-to-br from-blue-50 to-blue-100/50",children:[r.jsxs(be,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(je,{className:"text-sm font-medium text-blue-900",children:"Total Agreements"}),r.jsx(Tf,{className:"h-4 w-4 text-blue-600"})]}),r.jsxs(fe,{children:[r.jsx("div",{className:"text-2xl font-bold text-blue-900",children:e.length}),r.jsxs("p",{className:"text-xs text-blue-600 flex items-center mt-1",children:[r.jsx(jt,{className:"h-3 w-3 mr-1"}),"All contracts"]})]})]}),r.jsxs(me,{className:"shadow-sm border-0 bg-gradient-to-br from-green-50 to-green-100/50",children:[r.jsxs(be,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(je,{className:"text-sm font-medium text-green-900",children:"Active"}),r.jsx(Tf,{className:"h-4 w-4 text-green-600"})]}),r.jsxs(fe,{children:[r.jsx("div",{className:"text-2xl font-bold text-green-900",children:e.filter(o=>o.status===Aa.ACTIVE).length}),r.jsxs("p",{className:"text-xs text-green-600 flex items-center mt-1",children:[r.jsx(jt,{className:"h-3 w-3 mr-1"}),"Currently active"]})]})]}),r.jsxs(me,{className:"shadow-sm border-0 bg-gradient-to-br from-yellow-50 to-yellow-100/50",children:[r.jsxs(be,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(je,{className:"text-sm font-medium text-yellow-900",children:"Pending"}),r.jsx(Tf,{className:"h-4 w-4 text-yellow-600"})]}),r.jsxs(fe,{children:[r.jsx("div",{className:"text-2xl font-bold text-yellow-900",children:e.filter(o=>o.status===Aa.PENDING).length}),r.jsxs("p",{className:"text-xs text-yellow-600 flex items-center mt-1",children:[r.jsx(kn,{className:"h-3 w-3 mr-1"}),"Awaiting signature"]})]})]}),r.jsxs(me,{className:"shadow-sm border-0 bg-gradient-to-br from-orange-50 to-orange-100/50",children:[r.jsxs(be,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(je,{className:"text-sm font-medium text-orange-900",children:"Expiring Soon"}),r.jsx(kn,{className:"h-4 w-4 text-orange-600"})]}),r.jsxs(fe,{children:[r.jsx("div",{className:"text-2xl font-bold text-orange-900",children:"0"}),r.jsxs("p",{className:"text-xs text-orange-600 flex items-center mt-1",children:[r.jsx(kn,{className:"h-3 w-3 mr-1"}),"Next 30 days"]})]})]})]}),r.jsxs("div",{className:"flex gap-4",children:[r.jsxs("div",{className:"ri-search-bar",children:[r.jsx(ss,{className:"ri-search-icon"}),r.jsx(Be,{placeholder:"Search agreements...",value:t,onChange:o=>n(o.target.value),className:"ri-search-input shadow-sm"})]}),r.jsxs(ae,{variant:"outline",className:"shadow-sm",children:[r.jsx(zs,{className:"h-4 w-4 mr-2"}),"Filter"]})]}),r.jsxs(me,{className:"shadow-sm",children:[r.jsxs(be,{children:[r.jsx(je,{className:"text-xl",children:"Agreements"}),r.jsx(Ke,{children:"Manage contracts, purchase agreements, and legal documents"})]}),r.jsx(fe,{children:r.jsx("div",{className:"space-y-4",children:i.map(o=>r.jsxs("div",{className:"ri-table-row",children:[r.jsx("div",{className:"flex items-center space-x-4 flex-1",children:r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[r.jsxs("h3",{className:"font-semibold text-foreground",children:["Agreement #",o.id]}),r.jsx(Re,{className:$e("ri-badge-status",a(o.type)),children:o.type.toUpperCase()}),r.jsx(Re,{className:$e("ri-badge-status",s(o.status)),children:o.status.toUpperCase()})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm text-muted-foreground",children:[r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Customer:"})," ",o.customerId]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Effective:"})," ",yt(o.effectiveDate)]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Documents:"})," ",o.documents.length]}),o.expirationDate&&r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Expires:"})," ",yt(o.expirationDate)]})]}),r.jsx("div",{className:"mt-2 bg-muted/30 p-2 rounded-md",children:r.jsx("p",{className:"text-sm text-muted-foreground",children:o.terms})})]})}),r.jsxs("div",{className:"ri-action-buttons",children:[r.jsxs(ae,{variant:"outline",size:"sm",className:"shadow-sm",children:[r.jsx(Qo,{className:"h-3 w-3 mr-1"}),"View"]}),r.jsxs(ae,{variant:"outline",size:"sm",className:"shadow-sm",children:[r.jsx(ln,{className:"h-3 w-3 mr-1"}),"Edit"]}),r.jsxs(ae,{variant:"outline",size:"sm",className:"shadow-sm",children:[r.jsx(Ol,{className:"h-3 w-3 mr-1"}),"Download"]})]})]},o.id))})})]})]})}function s$(){return r.jsxs(Ln,{children:[r.jsx(Et,{path:"/",element:r.jsx(l5,{})}),r.jsx(Et,{path:"/*",element:r.jsx(l5,{})})]})}function a$(){const[e,t]=A.useState([]),[n,s]=A.useState(!1);A.useEffect(()=>{a()},[]);const a=()=>{const j=En("renter-insight-service-tickets",[{id:"1",customerId:"cust-1",vehicleId:"veh-1",title:"Annual Maintenance Service",description:"Complete annual maintenance including oil change, filter replacement, and system checks",priority:br.MEDIUM,status:Ut.IN_PROGRESS,assignedTo:"Tech-001",scheduledDate:new Date("2024-01-20"),parts:[{id:"1",partNumber:"OIL-001",description:"Engine Oil Filter",quantity:1,unitCost:25.99,total:25.99}],labor:[{id:"1",description:"Annual Maintenance",hours:3,rate:85,total:255}],notes:"Customer requested additional inspection of brake system",customFields:{warrantyStatus:"not_covered",estimatedCompletionDate:"2024-01-22",customerAuthorization:!0,technicianNotes:"Check brake pads and rotors during service",customerPortalAccess:!0},createdAt:new Date("2024-01-15"),updatedAt:new Date("2024-01-18")},{id:"2",customerId:"cust-2",vehicleId:"veh-2",title:"AC System Repair",description:"Air conditioning not cooling properly, needs diagnostic and repair",priority:br.HIGH,status:Ut.WAITING_PARTS,assignedTo:"Tech-002",scheduledDate:new Date("2024-01-22"),parts:[{id:"2",partNumber:"AC-COMP-001",description:"AC Compressor",quantity:1,unitCost:450,total:450}],labor:[{id:"2",description:"AC System Diagnostic",hours:2,rate:85,total:170}],notes:"Waiting for compressor part to arrive",customFields:{warrantyStatus:"partial",estimatedCompletionDate:"2024-01-25",customerAuthorization:!0,technicianNotes:"Compressor needs replacement, on order from supplier",customerPortalAccess:!0},createdAt:new Date("2024-01-12"),updatedAt:new Date("2024-01-16")}]);t(j)},i=j=>{Xr("renter-insight-service-tickets",j)};return{tickets:e,loading:n,getTicketsByCustomerId:j=>e.filter(x=>x.customerId===j),getTicketsByVehicleId:j=>e.filter(x=>x.vehicleId===j),getTicketById:j=>e.find(x=>x.id===j),createTicket:async j=>{s(!0);try{const x={id:Math.random().toString(36).substr(2,9),customerId:j.customerId||"",vehicleId:j.vehicleId,title:j.title||"",description:j.description||"",priority:j.priority||br.MEDIUM,status:j.status||Ut.OPEN,assignedTo:j.assignedTo,scheduledDate:j.scheduledDate,parts:j.parts||[],labor:j.labor||[],notes:j.notes||"",customFields:j.customFields||{},createdAt:new Date,updatedAt:new Date},v=[...e,x];return t(v),i(v),x}finally{s(!1)}},updateTicket:async(j,x)=>{const v=e.map(y=>y.id===j?{...y,...x,updatedAt:new Date}:y);t(v),i(v)},deleteTicket:async j=>{const x=e.filter(v=>v.id!==j);t(x),i(x)},updateTicketStatus:async(j,x)=>{const v=e.map(y=>y.id===j?{...y,status:x,completedDate:x===Ut.COMPLETED?new Date:y.completedDate,updatedAt:new Date}:y);t(v),i(v)},assignTechnician:async(j,x)=>{const v=e.map(y=>y.id===j?{...y,assignedTo:x,updatedAt:new Date}:y);t(v),i(v)},addPart:async(j,x)=>{if(!e.find(M=>M.id===j))return null;const y={id:Math.random().toString(36).substr(2,9),partNumber:x.partNumber||"",description:x.description||"",quantity:x.quantity||1,unitCost:x.unitCost||0,total:x.total||0},P=e.map(M=>M.id===j?{...M,parts:[...M.parts,y],updatedAt:new Date}:M);return t(P),i(P),y},addLabor:async(j,x)=>{if(!e.find(M=>M.id===j))return null;const y={id:Math.random().toString(36).substr(2,9),description:x.description||"",hours:x.hours||1,rate:x.rate||85,total:x.total||85},P=e.map(M=>M.id===j?{...M,labor:[...M.labor,y],updatedAt:new Date}:M);return t(P),i(P),y}}}function i$({ticket:e,onSave:t,onCancel:n}){var L,W,V,_,B,U,q;const{toast:s}=Cr(),{vehicles:a}=Fp(),{leads:i}=Hl(),[o,l]=A.useState(!1),[c,d]=A.useState(!1),[p,u]=A.useState({customerId:"",vehicleId:"",title:"",description:"",priority:br.MEDIUM,status:Ut.OPEN,assignedTo:"",scheduledDate:void 0,notes:"",parts:[],labor:[],customFields:{warrantyStatus:"not_covered",estimatedCompletionDate:"",customerAuthorization:!1,technicianNotes:"",customerPortalAccess:!0}}),[f,m]=A.useState(!1),[g,b]=A.useState(!1),[j,x]=A.useState({partNumber:"",description:"",quantity:1,unitCost:0,total:0}),[v,y]=A.useState({description:"",hours:1,rate:85,total:85});A.useEffect(()=>{var H,R,$,G,Z;e&&u({...e,customFields:{...e.customFields,warrantyStatus:((H=e.customFields)==null?void 0:H.warrantyStatus)||"not_covered",estimatedCompletionDate:((R=e.customFields)==null?void 0:R.estimatedCompletionDate)||"",customerAuthorization:(($=e.customFields)==null?void 0:$.customerAuthorization)||!1,technicianNotes:((G=e.customFields)==null?void 0:G.technicianNotes)||"",customerPortalAccess:((Z=e.customFields)==null?void 0:Z.customerPortalAccess)!==!1}})},[e]),A.useEffect(()=>{const H=j.quantity||1,R=j.unitCost||0;x($=>({...$,total:H*R}))},[j.quantity,j.unitCost]),A.useEffect(()=>{const H=v.hours||1,R=v.rate||85;y($=>({...$,total:H*R}))},[v.hours,v.rate]);const P=async H=>{if(H.preventDefault(),!p.customerId||!p.title||!p.description){s({title:"Validation Error",description:"Please fill in all required fields",variant:"destructive"});return}l(!0);try{await t(p),s({title:"Success",description:`Service ticket ${e?"updated":"created"} successfully`})}catch{s({title:"Error",description:`Failed to ${e?"update":"create"} service ticket`,variant:"destructive"})}finally{l(!1)}},M=H=>{H==="add-new"?d(!0):u(R=>({...R,customerId:H}))},O=H=>{u(R=>({...R,customerId:H.id})),d(!1),s({title:"Customer Added",description:`${H.firstName} ${H.lastName} has been added as a customer.`})},E=()=>{if(!j.partNumber||!j.description){s({title:"Validation Error",description:"Part number and description are required",variant:"destructive"});return}const H={id:Math.random().toString(36).substr(2,9),partNumber:j.partNumber||"",description:j.description||"",quantity:j.quantity||1,unitCost:j.unitCost||0,total:j.total||0};u(R=>({...R,parts:[...R.parts||[],H]})),x({partNumber:"",description:"",quantity:1,unitCost:0,total:0}),m(!1)},S=H=>{u(R=>{var $;return{...R,parts:(($=R.parts)==null?void 0:$.filter(G=>G.id!==H))||[]}})},k=()=>{if(!v.description){s({title:"Validation Error",description:"Labor description is required",variant:"destructive"});return}const H={id:Math.random().toString(36).substr(2,9),description:v.description||"",hours:v.hours||1,rate:v.rate||85,total:v.total||85};u(R=>({...R,labor:[...R.labor||[],H]})),y({description:"",hours:1,rate:85,total:85}),b(!1)},D=H=>{u(R=>{var $;return{...R,labor:(($=R.labor)==null?void 0:$.filter(G=>G.id!==H))||[]}})},w=(()=>{var $,G;const H=(($=p.parts)==null?void 0:$.reduce((Z,te)=>Z+te.total,0))||0,R=((G=p.labor)==null?void 0:G.reduce((Z,te)=>Z+te.total,0))||0;return{partsTotal:H,laborTotal:R,grandTotal:H+R}})(),T=[{id:"Tech-001",name:"John Smith"},{id:"Tech-002",name:"Sarah Johnson"},{id:"Tech-003",name:"Mike Davis"}];return r.jsxs("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:[c&&r.jsx(Ad,{onClose:()=>d(!1),onSuccess:O}),r.jsxs(me,{className:"w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[r.jsx(be,{children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx(je,{children:e?"Edit Service Ticket":"Create Service Ticket"}),r.jsx(Ke,{children:e?"Update service ticket details":"Create a new service ticket"})]}),r.jsx(ae,{variant:"ghost",size:"sm",onClick:n,children:r.jsx(or,{className:"h-4 w-4"})})]})}),r.jsx(fe,{children:r.jsxs("form",{onSubmit:P,className:"space-y-6",children:[r.jsxs("div",{className:"space-y-4",children:[r.jsx("h3",{className:"text-lg font-semibold",children:"Ticket Information"}),r.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[r.jsxs("div",{children:[r.jsx(Ae,{htmlFor:"customerId",children:"Customer *"}),r.jsxs(lt,{value:p.customerId,onValueChange:M,children:[r.jsx(it,{children:r.jsx(ct,{placeholder:"Select customer"})}),r.jsxs(ot,{children:[r.jsx("div",{className:"px-2 py-1.5",children:r.jsxs(ae,{variant:"outline",size:"sm",className:"w-full justify-start",onClick:()=>M("add-new"),children:[r.jsx(It,{className:"h-3.5 w-3.5 mr-2"}),"Add New Customer"]})}),r.jsx("div",{className:"px-2 py-1 border-t"}),i.map(H=>r.jsxs(oe,{value:H.id,children:[H.firstName," ",H.lastName]},H.id))]})]})]}),r.jsxs("div",{children:[r.jsx(Ae,{htmlFor:"vehicleId",children:"Vehicle"}),r.jsxs(lt,{value:p.vehicleId,onValueChange:H=>u(R=>({...R,vehicleId:H})),children:[r.jsx(it,{children:r.jsx(ct,{placeholder:"Select vehicle (optional)"})}),r.jsxs(ot,{children:[r.jsx(oe,{value:"",children:"No Vehicle"}),a.map(H=>r.jsxs(oe,{value:H.id,children:[H.year," ",H.make," ",H.model]},H.id))]})]})]})]}),r.jsxs("div",{children:[r.jsx(Ae,{htmlFor:"title",children:"Service Title *"}),r.jsx(Be,{id:"title",value:p.title,onChange:H=>u(R=>({...R,title:H.target.value})),placeholder:"e.g., Annual Maintenance Service"})]}),r.jsxs("div",{children:[r.jsx(Ae,{htmlFor:"description",children:"Description *"}),r.jsx(lr,{id:"description",value:p.description,onChange:H=>u(R=>({...R,description:H.target.value})),placeholder:"Describe the service needed",rows:3})]}),r.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[r.jsxs("div",{children:[r.jsx(Ae,{htmlFor:"priority",children:"Priority"}),r.jsxs(lt,{value:p.priority,onValueChange:H=>u(R=>({...R,priority:H})),children:[r.jsx(it,{children:r.jsx(ct,{})}),r.jsxs(ot,{children:[r.jsx(oe,{value:br.LOW,children:"Low"}),r.jsx(oe,{value:br.MEDIUM,children:"Medium"}),r.jsx(oe,{value:br.HIGH,children:"High"}),r.jsx(oe,{value:br.URGENT,children:"Urgent"})]})]})]}),r.jsxs("div",{children:[r.jsx(Ae,{htmlFor:"status",children:"Status"}),r.jsxs(lt,{value:p.status,onValueChange:H=>u(R=>({...R,status:H})),children:[r.jsx(it,{children:r.jsx(ct,{})}),r.jsxs(ot,{children:[r.jsx(oe,{value:Ut.OPEN,children:"Open"}),r.jsx(oe,{value:Ut.IN_PROGRESS,children:"In Progress"}),r.jsx(oe,{value:Ut.WAITING_PARTS,children:"Waiting for Parts"}),r.jsx(oe,{value:Ut.COMPLETED,children:"Completed"}),r.jsx(oe,{value:Ut.CANCELLED,children:"Cancelled"})]})]})]}),r.jsxs("div",{children:[r.jsx(Ae,{htmlFor:"assignedTo",children:"Assigned Technician"}),r.jsxs(lt,{value:p.assignedTo,onValueChange:H=>u(R=>({...R,assignedTo:H})),children:[r.jsx(it,{children:r.jsx(ct,{placeholder:"Select technician"})}),r.jsxs(ot,{children:[r.jsx(oe,{value:"",children:"Unassigned"}),T.map(H=>r.jsx(oe,{value:H.id,children:H.name},H.id))]})]})]})]}),r.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[r.jsxs("div",{children:[r.jsx(Ae,{htmlFor:"scheduledDate",children:"Scheduled Date"}),r.jsx(Be,{id:"scheduledDate",type:"date",value:p.scheduledDate?new Date(p.scheduledDate).toISOString().split("T")[0]:"",onChange:H=>u(R=>({...R,scheduledDate:H.target.value?new Date(H.target.value):void 0}))})]}),r.jsxs("div",{children:[r.jsx(Ae,{htmlFor:"estimatedCompletionDate",children:"Estimated Completion"}),r.jsx(Be,{id:"estimatedCompletionDate",type:"date",value:((L=p.customFields)==null?void 0:L.estimatedCompletionDate)||"",onChange:H=>u(R=>({...R,customFields:{...R.customFields,estimatedCompletionDate:H.target.value}}))})]})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsx("h3",{className:"text-lg font-semibold",children:"Warranty Information"}),r.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[r.jsxs("div",{children:[r.jsx(Ae,{htmlFor:"warrantyStatus",children:"Warranty Status"}),r.jsxs(lt,{value:((W=p.customFields)==null?void 0:W.warrantyStatus)||"not_covered",onValueChange:H=>u(R=>({...R,customFields:{...R.customFields,warrantyStatus:H}})),children:[r.jsx(it,{children:r.jsx(ct,{})}),r.jsxs(ot,{children:[r.jsx(oe,{value:"covered",children:"Covered by Warranty"}),r.jsx(oe,{value:"partial",children:"Partially Covered"}),r.jsx(oe,{value:"not_covered",children:"Not Covered"}),r.jsx(oe,{value:"extended",children:"Extended Warranty"}),r.jsx(oe,{value:"expired",children:"Warranty Expired"})]})]})]}),r.jsxs("div",{className:"flex items-center space-x-2 pt-8",children:[r.jsx(Yn,{id:"customerAuthorization",checked:((V=p.customFields)==null?void 0:V.customerAuthorization)||!1,onCheckedChange:H=>u(R=>({...R,customFields:{...R.customFields,customerAuthorization:!!H}}))}),r.jsx(Ae,{htmlFor:"customerAuthorization",children:"Customer has authorized work"})]})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("h3",{className:"text-lg font-semibold",children:"Parts"}),r.jsxs(ae,{type:"button",onClick:()=>m(!0),size:"sm",children:[r.jsx(It,{className:"h-4 w-4 mr-2"}),"Add Part"]})]}),f&&r.jsx(me,{className:"border-dashed",children:r.jsxs(fe,{className:"pt-6",children:[r.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[r.jsxs("div",{children:[r.jsx(Ae,{htmlFor:"partNumber",children:"Part Number *"}),r.jsx(Be,{id:"partNumber",value:j.partNumber,onChange:H=>x(R=>({...R,partNumber:H.target.value})),placeholder:"e.g., AC-COMP-001"})]}),r.jsxs("div",{children:[r.jsx(Ae,{htmlFor:"partDescription",children:"Description *"}),r.jsx(Be,{id:"partDescription",value:j.description,onChange:H=>x(R=>({...R,description:H.target.value})),placeholder:"e.g., AC Compressor"})]}),r.jsxs("div",{children:[r.jsx(Ae,{htmlFor:"partQuantity",children:"Quantity"}),r.jsx(Be,{id:"partQuantity",type:"number",min:"1",value:j.quantity,onChange:H=>x(R=>({...R,quantity:parseInt(H.target.value)||1}))})]}),r.jsxs("div",{children:[r.jsx(Ae,{htmlFor:"partUnitCost",children:"Unit Cost"}),r.jsx(Be,{id:"partUnitCost",type:"number",step:"0.01",min:"0",value:j.unitCost,onChange:H=>x(R=>({...R,unitCost:parseFloat(H.target.value)||0}))})]})]}),r.jsxs("div",{className:"flex justify-between items-center mt-4",children:[r.jsxs("div",{children:[r.jsx("span",{className:"text-sm font-medium",children:"Total: "}),r.jsx("span",{className:"font-bold",children:Le(j.total||0)})]}),r.jsxs("div",{className:"flex space-x-2",children:[r.jsx(ae,{type:"button",variant:"outline",onClick:()=>m(!1),children:"Cancel"}),r.jsx(ae,{type:"button",onClick:E,children:"Add Part"})]})]})]})}),r.jsx("div",{className:"space-y-3",children:p.parts&&p.parts.length>0?p.parts.map(H=>r.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("span",{className:"font-medium",children:H.description}),r.jsx(Re,{variant:"outline",children:H.partNumber})]}),r.jsxs("p",{className:"text-sm text-muted-foreground",children:["Quantity: ",H.quantity,"  ",Le(H.unitCost)]})]}),r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx("span",{className:"font-bold",children:Le(H.total)}),r.jsx(ae,{type:"button",variant:"ghost",size:"sm",onClick:()=>S(H.id),children:r.jsx(ys,{className:"h-4 w-4 text-red-500"})})]})]},H.id)):r.jsxs("div",{className:"text-center py-6 text-muted-foreground border-2 border-dashed rounded-lg",children:[r.jsx(gl,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground/50"}),r.jsx("p",{children:"No parts added yet"}),r.jsx("p",{className:"text-sm",children:"Add parts needed for this service"})]})})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("h3",{className:"text-lg font-semibold",children:"Labor"}),r.jsxs(ae,{type:"button",onClick:()=>b(!0),size:"sm",children:[r.jsx(It,{className:"h-4 w-4 mr-2"}),"Add Labor"]})]}),g&&r.jsx(me,{className:"border-dashed",children:r.jsxs(fe,{className:"pt-6",children:[r.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[r.jsxs("div",{className:"md:col-span-3",children:[r.jsx(Ae,{htmlFor:"laborDescription",children:"Description *"}),r.jsx(Be,{id:"laborDescription",value:v.description,onChange:H=>y(R=>({...R,description:H.target.value})),placeholder:"e.g., Diagnostic and Repair"})]}),r.jsxs("div",{children:[r.jsx(Ae,{htmlFor:"laborHours",children:"Hours"}),r.jsx(Be,{id:"laborHours",type:"number",step:"0.5",min:"0.5",value:v.hours,onChange:H=>y(R=>({...R,hours:parseFloat(H.target.value)||1}))})]}),r.jsxs("div",{children:[r.jsx(Ae,{htmlFor:"laborRate",children:"Hourly Rate"}),r.jsx(Be,{id:"laborRate",type:"number",step:"0.01",min:"0",value:v.rate,onChange:H=>y(R=>({...R,rate:parseFloat(H.target.value)||85}))})]}),r.jsxs("div",{children:[r.jsx(Ae,{children:"Total"}),r.jsx("div",{className:"h-10 px-3 py-2 rounded-md border border-input bg-muted/50 flex items-center",children:Le(v.total||0)})]})]}),r.jsxs("div",{className:"flex justify-end space-x-2 mt-4",children:[r.jsx(ae,{type:"button",variant:"outline",onClick:()=>b(!1),children:"Cancel"}),r.jsx(ae,{type:"button",onClick:k,children:"Add Labor"})]})]})}),r.jsx("div",{className:"space-y-3",children:p.labor&&p.labor.length>0?p.labor.map(H=>r.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[r.jsxs("div",{className:"flex-1",children:[r.jsx("div",{className:"font-medium",children:H.description}),r.jsxs("p",{className:"text-sm text-muted-foreground",children:[H.hours," hours  ",Le(H.rate),"/hr"]})]}),r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx("span",{className:"font-bold",children:Le(H.total)}),r.jsx(ae,{type:"button",variant:"ghost",size:"sm",onClick:()=>D(H.id),children:r.jsx(ys,{className:"h-4 w-4 text-red-500"})})]})]},H.id)):r.jsxs("div",{className:"text-center py-6 text-muted-foreground border-2 border-dashed rounded-lg",children:[r.jsx(pr,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground/50"}),r.jsx("p",{children:"No labor added yet"}),r.jsx("p",{className:"text-sm",children:"Add labor for this service"})]})})]}),(((_=p.parts)==null?void 0:_.length)>0||((B=p.labor)==null?void 0:B.length)>0)&&r.jsx(me,{className:"bg-muted/30",children:r.jsx(fe,{className:"pt-6",children:r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{children:"Parts Total:"}),r.jsx("span",{children:Le(w.partsTotal)})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{children:"Labor Total:"}),r.jsx("span",{children:Le(w.laborTotal)})]}),r.jsxs("div",{className:"flex justify-between text-lg font-bold border-t pt-2",children:[r.jsx("span",{children:"Grand Total:"}),r.jsx("span",{children:Le(w.grandTotal)})]})]})})}),r.jsxs("div",{className:"space-y-4",children:[r.jsx("h3",{className:"text-lg font-semibold",children:"Additional Information"}),r.jsxs("div",{children:[r.jsx(Ae,{htmlFor:"technicianNotes",children:"Technician Notes"}),r.jsx(lr,{id:"technicianNotes",value:((U=p.customFields)==null?void 0:U.technicianNotes)||"",onChange:H=>u(R=>({...R,customFields:{...R.customFields,technicianNotes:H.target.value}})),placeholder:"Notes for technicians only (not visible to customer)",rows:3})]}),r.jsxs("div",{children:[r.jsx(Ae,{htmlFor:"notes",children:"Customer Notes"}),r.jsx(lr,{id:"notes",value:p.notes,onChange:H=>u(R=>({...R,notes:H.target.value})),placeholder:"Notes visible to the customer",rows:3})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Yn,{id:"customerPortalAccess",checked:((q=p.customFields)==null?void 0:q.customerPortalAccess)!==!1,onCheckedChange:H=>u(R=>({...R,customFields:{...R.customFields,customerPortalAccess:!!H}}))}),r.jsx(Ae,{htmlFor:"customerPortalAccess",children:"Allow customer to view this ticket in portal"})]})]}),r.jsxs("div",{className:"flex justify-end space-x-3 pt-6 border-t",children:[r.jsx(ae,{type:"button",variant:"outline",onClick:n,disabled:o,children:"Cancel"}),r.jsx(ae,{type:"submit",disabled:o,children:o?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),e?"Updating...":"Creating..."]}):r.jsxs(r.Fragment,{children:[r.jsx(da,{className:"h-4 w-4 mr-2"}),e?"Update":"Create"," Ticket"]})})]})]})})]})]})}const o$="modulepreload",l$=function(e){return"/"+e},c5={},o1=function(t,n,s){if(!n||n.length===0)return t();const a=document.getElementsByTagName("link");return Promise.all(n.map(i=>{if(i=l$(i),i in c5)return;c5[i]=!0;const o=i.endsWith(".css"),l=o?'[rel="stylesheet"]':"";if(!!s)for(let p=a.length-1;p>=0;p--){const u=a[p];if(u.href===i&&(!o||u.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${i}"]${l}`))return;const d=document.createElement("link");if(d.rel=o?"stylesheet":o$,o||(d.as="script",d.crossOrigin=""),d.href=i,document.head.appendChild(d),o)return new Promise((p,u)=>{d.addEventListener("load",p),d.addEventListener("error",()=>u(new Error(`Unable to preload CSS for ${i}`)))})})).then(()=>t()).catch(i=>{const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=i,window.dispatchEvent(o),!o.defaultPrevented)throw i})};var Wn=Uint8Array,Ds=Uint16Array,j2=Int32Array,Dx=new Wn([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),Lx=new Wn([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),l1=new Wn([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),nE=function(e,t){for(var n=new Ds(31),s=0;s<31;++s)n[s]=t+=1<<e[s-1];for(var a=new j2(n[30]),s=1;s<30;++s)for(var i=n[s];i<n[s+1];++i)a[i]=i-n[s]<<5|s;return{b:n,r:a}},sE=nE(Dx,2),aE=sE.b,c1=sE.r;aE[28]=258,c1[258]=28;var iE=nE(Lx,0),c$=iE.b,d5=iE.r,d1=new Ds(32768);for(var jr=0;jr<32768;++jr){var oo=(jr&43690)>>1|(jr&21845)<<1;oo=(oo&52428)>>2|(oo&13107)<<2,oo=(oo&61680)>>4|(oo&3855)<<4,d1[jr]=((oo&65280)>>8|(oo&255)<<8)>>1}var ui=function(e,t,n){for(var s=e.length,a=0,i=new Ds(t);a<s;++a)e[a]&&++i[e[a]-1];var o=new Ds(t);for(a=1;a<t;++a)o[a]=o[a-1]+i[a-1]<<1;var l;if(n){l=new Ds(1<<t);var c=15-t;for(a=0;a<s;++a)if(e[a])for(var d=a<<4|e[a],p=t-e[a],u=o[e[a]-1]++<<p,f=u|(1<<p)-1;u<=f;++u)l[d1[u]>>c]=d}else for(l=new Ds(s),a=0;a<s;++a)e[a]&&(l[a]=d1[o[e[a]-1]++]>>15-e[a]);return l},$o=new Wn(288);for(var jr=0;jr<144;++jr)$o[jr]=8;for(var jr=144;jr<256;++jr)$o[jr]=9;for(var jr=256;jr<280;++jr)$o[jr]=7;for(var jr=280;jr<288;++jr)$o[jr]=8;var Np=new Wn(32);for(var jr=0;jr<32;++jr)Np[jr]=5;var d$=ui($o,9,0),u$=ui($o,9,1),p$=ui(Np,5,0),m$=ui(Np,5,1),Av=function(e){for(var t=e[0],n=1;n<e.length;++n)e[n]>t&&(t=e[n]);return t},Na=function(e,t,n){var s=t/8|0;return(e[s]|e[s+1]<<8)>>(t&7)&n},Ev=function(e,t){var n=t/8|0;return(e[n]|e[n+1]<<8|e[n+2]<<16)>>(t&7)},w2=function(e){return(e+7)/8|0},oE=function(e,t,n){return(t==null||t<0)&&(t=0),(n==null||n>e.length)&&(n=e.length),new Wn(e.subarray(t,n))},f$=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],Ea=function(e,t,n){var s=new Error(t||f$[e]);if(s.code=e,Error.captureStackTrace&&Error.captureStackTrace(s,Ea),!n)throw s;return s},h$=function(e,t,n,s){var a=e.length,i=s?s.length:0;if(!a||t.f&&!t.l)return n||new Wn(0);var o=!n,l=o||t.i!=2,c=t.i;o&&(n=new Wn(a*3));var d=function(ve){var Ee=n.length;if(ve>Ee){var Te=new Wn(Math.max(Ee*2,ve));Te.set(n),n=Te}},p=t.f||0,u=t.p||0,f=t.b||0,m=t.l,g=t.d,b=t.m,j=t.n,x=a*8;do{if(!m){p=Na(e,u,1);var v=Na(e,u+1,3);if(u+=3,v)if(v==1)m=u$,g=m$,b=9,j=5;else if(v==2){var O=Na(e,u,31)+257,E=Na(e,u+10,15)+4,S=O+Na(e,u+5,31)+1;u+=14;for(var k=new Wn(S),D=new Wn(19),C=0;C<E;++C)D[l1[C]]=Na(e,u+C*3,7);u+=E*3;for(var w=Av(D),T=(1<<w)-1,L=ui(D,w,1),C=0;C<S;){var W=L[Na(e,u,T)];u+=W&15;var y=W>>4;if(y<16)k[C++]=y;else{var V=0,_=0;for(y==16?(_=3+Na(e,u,3),u+=2,V=k[C-1]):y==17?(_=3+Na(e,u,7),u+=3):y==18&&(_=11+Na(e,u,127),u+=7);_--;)k[C++]=V}}var B=k.subarray(0,O),U=k.subarray(O);b=Av(B),j=Av(U),m=ui(B,b,1),g=ui(U,j,1)}else Ea(1);else{var y=w2(u)+4,P=e[y-4]|e[y-3]<<8,M=y+P;if(M>a){c&&Ea(0);break}l&&d(f+P),n.set(e.subarray(y,M),f),t.b=f+=P,t.p=u=M*8,t.f=p;continue}if(u>x){c&&Ea(0);break}}l&&d(f+131072);for(var q=(1<<b)-1,H=(1<<j)-1,R=u;;R=u){var V=m[Ev(e,u)&q],$=V>>4;if(u+=V&15,u>x){c&&Ea(0);break}if(V||Ea(2),$<256)n[f++]=$;else if($==256){R=u,m=null;break}else{var G=$-254;if($>264){var C=$-257,Z=Dx[C];G=Na(e,u,(1<<Z)-1)+aE[C],u+=Z}var te=g[Ev(e,u)&H],le=te>>4;te||Ea(3),u+=te&15;var U=c$[le];if(le>3){var Z=Lx[le];U+=Ev(e,u)&(1<<Z)-1,u+=Z}if(u>x){c&&Ea(0);break}l&&d(f+131072);var ce=f+G;if(f<U){var de=i-U,Ne=Math.min(U,ce);for(de+f<0&&Ea(3);f<Ne;++f)n[f]=s[de+f]}for(;f<ce;++f)n[f]=n[f-U]}}t.l=m,t.p=R,t.b=f,t.f=p,m&&(p=1,t.m=b,t.d=g,t.n=j)}while(!p);return f!=n.length&&o?oE(n,0,f):n.subarray(0,f)},Ii=function(e,t,n){n<<=t&7;var s=t/8|0;e[s]|=n,e[s+1]|=n>>8},bu=function(e,t,n){n<<=t&7;var s=t/8|0;e[s]|=n,e[s+1]|=n>>8,e[s+2]|=n>>16},Iv=function(e,t){for(var n=[],s=0;s<e.length;++s)e[s]&&n.push({s,f:e[s]});var a=n.length,i=n.slice();if(!a)return{t:cE,l:0};if(a==1){var o=new Wn(n[0].s+1);return o[n[0].s]=1,{t:o,l:1}}n.sort(function(M,O){return M.f-O.f}),n.push({s:-1,f:25001});var l=n[0],c=n[1],d=0,p=1,u=2;for(n[0]={s:-1,f:l.f+c.f,l,r:c};p!=a-1;)l=n[n[d].f<n[u].f?d++:u++],c=n[d!=p&&n[d].f<n[u].f?d++:u++],n[p++]={s:-1,f:l.f+c.f,l,r:c};for(var f=i[0].s,s=1;s<a;++s)i[s].s>f&&(f=i[s].s);var m=new Ds(f+1),g=u1(n[p-1],m,0);if(g>t){var s=0,b=0,j=g-t,x=1<<j;for(i.sort(function(O,E){return m[E.s]-m[O.s]||O.f-E.f});s<a;++s){var v=i[s].s;if(m[v]>t)b+=x-(1<<g-m[v]),m[v]=t;else break}for(b>>=j;b>0;){var y=i[s].s;m[y]<t?b-=1<<t-m[y]++-1:++s}for(;s>=0&&b;--s){var P=i[s].s;m[P]==t&&(--m[P],++b)}g=t}return{t:new Wn(m),l:g}},u1=function(e,t,n){return e.s==-1?Math.max(u1(e.l,t,n+1),u1(e.r,t,n+1)):t[e.s]=n},u5=function(e){for(var t=e.length;t&&!e[--t];);for(var n=new Ds(++t),s=0,a=e[0],i=1,o=function(c){n[s++]=c},l=1;l<=t;++l)if(e[l]==a&&l!=t)++i;else{if(!a&&i>2){for(;i>138;i-=138)o(32754);i>2&&(o(i>10?i-11<<5|28690:i-3<<5|12305),i=0)}else if(i>3){for(o(a),--i;i>6;i-=6)o(8304);i>2&&(o(i-3<<5|8208),i=0)}for(;i--;)o(a);i=1,a=e[l]}return{c:n.subarray(0,s),n:t}},ju=function(e,t){for(var n=0,s=0;s<t.length;++s)n+=e[s]*t[s];return n},lE=function(e,t,n){var s=n.length,a=w2(t+2);e[a]=s&255,e[a+1]=s>>8,e[a+2]=e[a]^255,e[a+3]=e[a+1]^255;for(var i=0;i<s;++i)e[a+i+4]=n[i];return(a+4+s)*8},p5=function(e,t,n,s,a,i,o,l,c,d,p){Ii(t,p++,n),++a[256];for(var u=Iv(a,15),f=u.t,m=u.l,g=Iv(i,15),b=g.t,j=g.l,x=u5(f),v=x.c,y=x.n,P=u5(b),M=P.c,O=P.n,E=new Ds(19),S=0;S<v.length;++S)++E[v[S]&31];for(var S=0;S<M.length;++S)++E[M[S]&31];for(var k=Iv(E,7),D=k.t,C=k.l,w=19;w>4&&!D[l1[w-1]];--w);var T=d+5<<3,L=ju(a,$o)+ju(i,Np)+o,W=ju(a,f)+ju(i,b)+o+14+3*w+ju(E,D)+2*E[16]+3*E[17]+7*E[18];if(c>=0&&T<=L&&T<=W)return lE(t,p,e.subarray(c,c+d));var V,_,B,U;if(Ii(t,p,1+(W<L)),p+=2,W<L){V=ui(f,m,0),_=f,B=ui(b,j,0),U=b;var q=ui(D,C,0);Ii(t,p,y-257),Ii(t,p+5,O-1),Ii(t,p+10,w-4),p+=14;for(var S=0;S<w;++S)Ii(t,p+3*S,D[l1[S]]);p+=3*w;for(var H=[v,M],R=0;R<2;++R)for(var $=H[R],S=0;S<$.length;++S){var G=$[S]&31;Ii(t,p,q[G]),p+=D[G],G>15&&(Ii(t,p,$[S]>>5&127),p+=$[S]>>12)}}else V=d$,_=$o,B=p$,U=Np;for(var S=0;S<l;++S){var Z=s[S];if(Z>255){var G=Z>>18&31;bu(t,p,V[G+257]),p+=_[G+257],G>7&&(Ii(t,p,Z>>23&31),p+=Dx[G]);var te=Z&31;bu(t,p,B[te]),p+=U[te],te>3&&(bu(t,p,Z>>5&8191),p+=Lx[te])}else bu(t,p,V[Z]),p+=_[Z]}return bu(t,p,V[256]),p+_[256]},x$=new j2([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),cE=new Wn(0),g$=function(e,t,n,s,a,i){var o=i.z||e.length,l=new Wn(s+o+5*(1+Math.ceil(o/7e3))+a),c=l.subarray(s,l.length-a),d=i.l,p=(i.r||0)&7;if(t){p&&(c[0]=i.r>>3);for(var u=x$[t-1],f=u>>13,m=u&8191,g=(1<<n)-1,b=i.p||new Ds(32768),j=i.h||new Ds(g+1),x=Math.ceil(n/3),v=2*x,y=function(pe){return(e[pe]^e[pe+1]<<x^e[pe+2]<<v)&g},P=new j2(25e3),M=new Ds(288),O=new Ds(32),E=0,S=0,k=i.i||0,D=0,C=i.w||0,w=0;k+2<o;++k){var T=y(k),L=k&32767,W=j[T];if(b[L]=W,j[T]=L,C<=k){var V=o-k;if((E>7e3||D>24576)&&(V>423||!d)){p=p5(e,c,0,P,M,O,S,D,w,k-w,p),D=E=S=0,w=k;for(var _=0;_<286;++_)M[_]=0;for(var _=0;_<30;++_)O[_]=0}var B=2,U=0,q=m,H=L-W&32767;if(V>2&&T==y(k-H))for(var R=Math.min(f,V)-1,$=Math.min(32767,k),G=Math.min(258,V);H<=$&&--q&&L!=W;){if(e[k+B]==e[k+B-H]){for(var Z=0;Z<G&&e[k+Z]==e[k+Z-H];++Z);if(Z>B){if(B=Z,U=H,Z>R)break;for(var te=Math.min(H,Z-2),le=0,_=0;_<te;++_){var ce=k-H+_&32767,de=b[ce],Ne=ce-de&32767;Ne>le&&(le=Ne,W=ce)}}}L=W,W=b[L],H+=L-W&32767}if(U){P[D++]=268435456|c1[B]<<18|d5[U];var ve=c1[B]&31,Ee=d5[U]&31;S+=Dx[ve]+Lx[Ee],++M[257+ve],++O[Ee],C=k+B,++E}else P[D++]=e[k],++M[e[k]]}}for(k=Math.max(k,C);k<o;++k)P[D++]=e[k],++M[e[k]];p=p5(e,c,d,P,M,O,S,D,w,k-w,p),d||(i.r=p&7|c[p/8|0]<<3,p-=7,i.h=j,i.p=b,i.i=k,i.w=C)}else{for(var k=i.w||0;k<o+d;k+=65535){var Te=k+65535;Te>=o&&(c[p/8|0]=d,Te=o),p=lE(c,p+1,e.subarray(k,Te))}i.i=o}return oE(l,0,s+w2(p)+a)},dE=function(){var e=1,t=0;return{p:function(n){for(var s=e,a=t,i=n.length|0,o=0;o!=i;){for(var l=Math.min(o+2655,i);o<l;++o)a+=s+=n[o];s=(s&65535)+15*(s>>16),a=(a&65535)+15*(a>>16)}e=s,t=a},d:function(){return e%=65521,t%=65521,(e&255)<<24|(e&65280)<<8|(t&255)<<8|t>>8}}},v$=function(e,t,n,s,a){if(!a&&(a={l:1},t.dictionary)){var i=t.dictionary.subarray(-32768),o=new Wn(i.length+e.length);o.set(i),o.set(e,i.length),e=o,a.w=i.length}return g$(e,t.level==null?6:t.level,t.mem==null?a.l?Math.ceil(Math.max(8,Math.min(13,Math.log(e.length)))*1.5):20:12+t.mem,n,s,a)},uE=function(e,t,n){for(;n;++t)e[t]=n,n>>>=8},y$=function(e,t){var n=t.level,s=n==0?0:n<6?1:n==9?3:2;if(e[0]=120,e[1]=s<<6|(t.dictionary&&32),e[1]|=31-(e[0]<<8|e[1])%31,t.dictionary){var a=dE();a.p(t.dictionary),uE(e,2,a.d())}},b$=function(e,t){return((e[0]&15)!=8||e[0]>>4>7||(e[0]<<8|e[1])%31)&&Ea(6,"invalid zlib data"),(e[1]>>5&1)==+!t&&Ea(6,"invalid zlib data: "+(e[1]&32?"need":"unexpected")+" dictionary"),(e[1]>>3&4)+2};function p1(e,t){t||(t={});var n=dE();n.p(e);var s=v$(e,t,t.dictionary?6:2,4);return y$(s,t),uE(s,s.length-4,n.d()),s}function j$(e,t){return h$(e.subarray(b$(e,t&&t.dictionary),-4),{i:2},t&&t.out,t&&t.dictionary)}var w$=typeof TextDecoder<"u"&&new TextDecoder,N$=0;try{w$.decode(cE,{stream:!0}),N$=1}catch{}var At=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function Pv(){At.console&&typeof At.console.log=="function"&&At.console.log.apply(At.console,arguments)}var ur={log:Pv,warn:function(e){At.console&&(typeof At.console.warn=="function"?At.console.warn.apply(At.console,arguments):Pv.call(null,arguments))},error:function(e){At.console&&(typeof At.console.error=="function"?At.console.error.apply(At.console,arguments):Pv(e))}};function kv(e,t,n){var s=new XMLHttpRequest;s.open("GET",e),s.responseType="blob",s.onload=function(){pl(s.response,t,n)},s.onerror=function(){ur.error("could not download file")},s.send()}function m5(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch{}return t.status>=200&&t.status<=299}function xf(e){try{e.dispatchEvent(new MouseEvent("click"))}catch{var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var Uu,m1,pl=At.saveAs||((typeof window>"u"?"undefined":Yt(window))!=="object"||window!==At?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(e,t,n){var s=At.URL||At.webkitURL,a=document.createElement("a");t=t||e.name||"download",a.download=t,a.rel="noopener",typeof e=="string"?(a.href=e,a.origin!==location.origin?m5(a.href)?kv(e,t,n):xf(a,a.target="_blank"):xf(a)):(a.href=s.createObjectURL(e),setTimeout(function(){s.revokeObjectURL(a.href)},4e4),setTimeout(function(){xf(a)},0))}:"msSaveOrOpenBlob"in navigator?function(e,t,n){if(t=t||e.name||"download",typeof e=="string")if(m5(e))kv(e,t,n);else{var s=document.createElement("a");s.href=e,s.target="_blank",setTimeout(function(){xf(s)})}else navigator.msSaveOrOpenBlob(function(a,i){return i===void 0?i={autoBom:!1}:Yt(i)!=="object"&&(ur.warn("Deprecated: Expected third argument to be a object"),i={autoBom:!i}),i.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(a.type)?new Blob([String.fromCharCode(65279),a],{type:a.type}):a}(e,n),t)}:function(e,t,n,s){if((s=s||open("","_blank"))&&(s.document.title=s.document.body.innerText="downloading..."),typeof e=="string")return kv(e,t,n);var a=e.type==="application/octet-stream",i=/constructor/i.test(At.HTMLElement)||At.safari,o=/CriOS\/[\d]+/.test(navigator.userAgent);if((o||a&&i)&&(typeof FileReader>"u"?"undefined":Yt(FileReader))==="object"){var l=new FileReader;l.onloadend=function(){var p=l.result;p=o?p:p.replace(/^data:[^;]*;/,"data:attachment/file;"),s?s.location.href=p:location=p,s=null},l.readAsDataURL(e)}else{var c=At.URL||At.webkitURL,d=c.createObjectURL(e);s?s.location=d:location.href=d,s=null,setTimeout(function(){c.revokeObjectURL(d)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function pE(e){var t;e=e||"",this.ok=!1,e.charAt(0)=="#"&&(e=e.substr(1,6)),e={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[e=(e=e.replace(/ /g,"")).toLowerCase()]||e;for(var n=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(l){return[parseInt(l[1]),parseInt(l[2]),parseInt(l[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(l){return[parseInt(l[1],16),parseInt(l[2],16),parseInt(l[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(l){return[parseInt(l[1]+l[1],16),parseInt(l[2]+l[2],16),parseInt(l[3]+l[3],16)]}}],s=0;s<n.length;s++){var a=n[s].re,i=n[s].process,o=a.exec(e);o&&(t=i(o),this.r=t[0],this.g=t[1],this.b=t[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var l=this.r.toString(16),c=this.g.toString(16),d=this.b.toString(16);return l.length==1&&(l="0"+l),c.length==1&&(c="0"+c),d.length==1&&(d="0"+d),"#"+l+c+d}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function Dv(e,t){var n=e[0],s=e[1],a=e[2],i=e[3];n=Mn(n,s,a,i,t[0],7,-680876936),i=Mn(i,n,s,a,t[1],12,-389564586),a=Mn(a,i,n,s,t[2],17,606105819),s=Mn(s,a,i,n,t[3],22,-1044525330),n=Mn(n,s,a,i,t[4],7,-176418897),i=Mn(i,n,s,a,t[5],12,1200080426),a=Mn(a,i,n,s,t[6],17,-1473231341),s=Mn(s,a,i,n,t[7],22,-45705983),n=Mn(n,s,a,i,t[8],7,1770035416),i=Mn(i,n,s,a,t[9],12,-1958414417),a=Mn(a,i,n,s,t[10],17,-42063),s=Mn(s,a,i,n,t[11],22,-1990404162),n=Mn(n,s,a,i,t[12],7,1804603682),i=Mn(i,n,s,a,t[13],12,-40341101),a=Mn(a,i,n,s,t[14],17,-1502002290),n=Bn(n,s=Mn(s,a,i,n,t[15],22,1236535329),a,i,t[1],5,-165796510),i=Bn(i,n,s,a,t[6],9,-1069501632),a=Bn(a,i,n,s,t[11],14,643717713),s=Bn(s,a,i,n,t[0],20,-373897302),n=Bn(n,s,a,i,t[5],5,-701558691),i=Bn(i,n,s,a,t[10],9,38016083),a=Bn(a,i,n,s,t[15],14,-660478335),s=Bn(s,a,i,n,t[4],20,-405537848),n=Bn(n,s,a,i,t[9],5,568446438),i=Bn(i,n,s,a,t[14],9,-1019803690),a=Bn(a,i,n,s,t[3],14,-187363961),s=Bn(s,a,i,n,t[8],20,1163531501),n=Bn(n,s,a,i,t[13],5,-1444681467),i=Bn(i,n,s,a,t[2],9,-51403784),a=Bn(a,i,n,s,t[7],14,1735328473),n=zn(n,s=Bn(s,a,i,n,t[12],20,-1926607734),a,i,t[5],4,-378558),i=zn(i,n,s,a,t[8],11,-2022574463),a=zn(a,i,n,s,t[11],16,1839030562),s=zn(s,a,i,n,t[14],23,-35309556),n=zn(n,s,a,i,t[1],4,-1530992060),i=zn(i,n,s,a,t[4],11,1272893353),a=zn(a,i,n,s,t[7],16,-155497632),s=zn(s,a,i,n,t[10],23,-1094730640),n=zn(n,s,a,i,t[13],4,681279174),i=zn(i,n,s,a,t[0],11,-358537222),a=zn(a,i,n,s,t[3],16,-722521979),s=zn(s,a,i,n,t[6],23,76029189),n=zn(n,s,a,i,t[9],4,-640364487),i=zn(i,n,s,a,t[12],11,-421815835),a=zn(a,i,n,s,t[15],16,530742520),n=$n(n,s=zn(s,a,i,n,t[2],23,-995338651),a,i,t[0],6,-198630844),i=$n(i,n,s,a,t[7],10,1126891415),a=$n(a,i,n,s,t[14],15,-1416354905),s=$n(s,a,i,n,t[5],21,-57434055),n=$n(n,s,a,i,t[12],6,1700485571),i=$n(i,n,s,a,t[3],10,-1894986606),a=$n(a,i,n,s,t[10],15,-1051523),s=$n(s,a,i,n,t[1],21,-2054922799),n=$n(n,s,a,i,t[8],6,1873313359),i=$n(i,n,s,a,t[15],10,-30611744),a=$n(a,i,n,s,t[6],15,-1560198380),s=$n(s,a,i,n,t[13],21,1309151649),n=$n(n,s,a,i,t[4],6,-145523070),i=$n(i,n,s,a,t[11],10,-1120210379),a=$n(a,i,n,s,t[2],15,718787259),s=$n(s,a,i,n,t[9],21,-343485551),e[0]=bo(n,e[0]),e[1]=bo(s,e[1]),e[2]=bo(a,e[2]),e[3]=bo(i,e[3])}function Tx(e,t,n,s,a,i){return t=bo(bo(t,e),bo(s,i)),bo(t<<a|t>>>32-a,n)}function Mn(e,t,n,s,a,i,o){return Tx(t&n|~t&s,e,t,a,i,o)}function Bn(e,t,n,s,a,i,o){return Tx(t&s|n&~s,e,t,a,i,o)}function zn(e,t,n,s,a,i,o){return Tx(t^n^s,e,t,a,i,o)}function $n(e,t,n,s,a,i,o){return Tx(n^(t|~s),e,t,a,i,o)}function mE(e){var t,n=e.length,s=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=e.length;t+=64)Dv(s,S$(e.substring(t-64,t)));e=e.substring(t-64);var a=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<e.length;t++)a[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(a[t>>2]|=128<<(t%4<<3),t>55)for(Dv(s,a),t=0;t<16;t++)a[t]=0;return a[14]=8*n,Dv(s,a),s}function S$(e){var t,n=[];for(t=0;t<64;t+=4)n[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return n}Uu=At.atob.bind(At),m1=At.btoa.bind(At);var f5="0123456789abcdef".split("");function C$(e){for(var t="",n=0;n<4;n++)t+=f5[e>>8*n+4&15]+f5[e>>8*n&15];return t}function A$(e){return String.fromCharCode((255&e)>>0,(65280&e)>>8,(16711680&e)>>16,(4278190080&e)>>24)}function f1(e){return mE(e).map(A$).join("")}var E$=function(e){for(var t=0;t<e.length;t++)e[t]=C$(e[t]);return e.join("")}(mE("hello"))!="5d41402abc4b2a76b9719d911017c592";function bo(e,t){if(E$){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}return e+t&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function h1(e,t){var n,s,a,i;if(e!==n){for(var o=(a=e,i=1+(256/e.length>>0),new Array(i+1).join(a)),l=[],c=0;c<256;c++)l[c]=c;var d=0;for(c=0;c<256;c++){var p=l[c];d=(d+p+o.charCodeAt(c))%256,l[c]=l[d],l[d]=p}n=e,s=l}else l=s;var u=t.length,f=0,m=0,g="";for(c=0;c<u;c++)m=(m+(p=l[f=(f+1)%256]))%256,l[f]=l[m],l[m]=p,o=l[(l[f]+l[m])%256],g+=String.fromCharCode(t.charCodeAt(c)^o);return g}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var h5={print:4,modify:8,copy:16,"annot-forms":32};function Lc(e,t,n,s){this.v=1,this.r=2;var a=192;e.forEach(function(l){if(h5.perm!==void 0)throw new Error("Invalid permission: "+l);a+=h5[l]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var i=(t+this.padding).substr(0,32),o=(n+this.padding).substr(0,32);this.O=this.processOwnerPassword(i,o),this.P=-(1+(255^a)),this.encryptionKey=f1(i+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(s)).substr(0,5),this.U=h1(this.encryptionKey,this.padding)}function Tc(e){if(/[^\u0000-\u00ff]/.test(e))throw new Error("Invalid PDF Name Object: "+e+", Only accept ASCII characters.");for(var t="",n=e.length,s=0;s<n;s++){var a=e.charCodeAt(s);a<33||a===35||a===37||a===40||a===41||a===47||a===60||a===62||a===91||a===93||a===123||a===125||a>126?t+="#"+("0"+a.toString(16)).slice(-2):t+=e[s]}return t}function x5(e){if(Yt(e)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var t={};this.subscribe=function(n,s,a){if(a=a||!1,typeof n!="string"||typeof s!="function"||typeof a!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");t.hasOwnProperty(n)||(t[n]={});var i=Math.random().toString(35);return t[n][i]=[s,!!a],i},this.unsubscribe=function(n){for(var s in t)if(t[s][n])return delete t[s][n],Object.keys(t[s]).length===0&&delete t[s],!0;return!1},this.publish=function(n){if(t.hasOwnProperty(n)){var s=Array.prototype.slice.call(arguments,1),a=[];for(var i in t[n]){var o=t[n][i];try{o[0].apply(e,s)}catch(l){At.console&&ur.error("jsPDF PubSub Error",l.message,l)}o[1]&&a.push(i)}a.length&&a.forEach(this.unsubscribe)}},this.getTopics=function(){return t}}function Sp(e){if(!(this instanceof Sp))return new Sp(e);var t="opacity,stroke-opacity".split(",");for(var n in e)e.hasOwnProperty(n)&&t.indexOf(n)>=0&&(this[n]=e[n]);this.id="",this.objectNumber=-1}function fE(e,t){this.gState=e,this.matrix=t,this.id="",this.objectNumber=-1}function xo(e,t,n,s,a){if(!(this instanceof xo))return new xo(e,t,n,s,a);this.type=e==="axial"?2:3,this.coords=t,this.colors=n,fE.call(this,s,a)}function jl(e,t,n,s,a){if(!(this instanceof jl))return new jl(e,t,n,s,a);this.boundingBox=e,this.xStep=t,this.yStep=n,this.stream="",this.cloneIndex=0,fE.call(this,s,a)}function wt(e){var t,n=typeof arguments[0]=="string"?arguments[0]:"p",s=arguments[1],a=arguments[2],i=arguments[3],o=[],l=1,c=16,d="S",p=null;Yt(e=e||{})==="object"&&(n=e.orientation,s=e.unit||s,a=e.format||a,i=e.compress||e.compressPdf||i,(p=e.encryption||null)!==null&&(p.userPassword=p.userPassword||"",p.ownerPassword=p.ownerPassword||"",p.userPermissions=p.userPermissions||[]),l=typeof e.userUnit=="number"?Math.abs(e.userUnit):1,e.precision!==void 0&&(t=e.precision),e.floatPrecision!==void 0&&(c=e.floatPrecision),d=e.defaultPathOperation||"S"),o=e.filters||(i===!0?["FlateEncode"]:o),s=s||"mm",n=(""+(n||"P")).toLowerCase();var u=e.putOnlyUsedFonts||!1,f={},m={internal:{},__private__:{}};m.__private__.PubSub=x5;var g="1.3",b=m.__private__.getPdfVersion=function(){return g};m.__private__.setPdfVersion=function(I){g=I};var j={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};m.__private__.getPageFormats=function(){return j};var x=m.__private__.getPageFormat=function(I){return j[I]};a=a||"a4";var v={COMPAT:"compat",ADVANCED:"advanced"},y=v.COMPAT;function P(){this.saveGraphicsState(),ee(new Ct(Ye,0,0,-Ye,0,Gi()*Ye).toString()+" cm"),this.setFontSize(this.getFontSize()/Ye),d="n",y=v.ADVANCED}function M(){this.restoreGraphicsState(),d="S",y=v.COMPAT}var O=m.__private__.combineFontStyleAndFontWeight=function(I,Y){if(I=="bold"&&Y=="normal"||I=="bold"&&Y==400||I=="normal"&&Y=="italic"||I=="bold"&&Y=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return Y&&(I=Y==400||Y==="normal"?I==="italic"?"italic":"normal":Y!=700&&Y!=="bold"||I!=="normal"?(Y==700?"bold":Y)+""+I:"bold"),I};m.advancedAPI=function(I){var Y=y===v.COMPAT;return Y&&P.call(this),typeof I!="function"||(I(this),Y&&M.call(this)),this},m.compatAPI=function(I){var Y=y===v.ADVANCED;return Y&&M.call(this),typeof I!="function"||(I(this),Y&&P.call(this)),this},m.isAdvancedAPI=function(){return y===v.ADVANCED};var E,S=function(I){if(y!==v.ADVANCED)throw new Error(I+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},k=m.roundToPrecision=m.__private__.roundToPrecision=function(I,Y){var ie=t||Y;if(isNaN(I)||isNaN(ie))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return I.toFixed(ie).replace(/0+$/,"")};E=m.hpf=m.__private__.hpf=typeof c=="number"?function(I){if(isNaN(I))throw new Error("Invalid argument passed to jsPDF.hpf");return k(I,c)}:c==="smart"?function(I){if(isNaN(I))throw new Error("Invalid argument passed to jsPDF.hpf");return k(I,I>-1&&I<1?16:5)}:function(I){if(isNaN(I))throw new Error("Invalid argument passed to jsPDF.hpf");return k(I,16)};var D=m.f2=m.__private__.f2=function(I){if(isNaN(I))throw new Error("Invalid argument passed to jsPDF.f2");return k(I,2)},C=m.__private__.f3=function(I){if(isNaN(I))throw new Error("Invalid argument passed to jsPDF.f3");return k(I,3)},w=m.scale=m.__private__.scale=function(I){if(isNaN(I))throw new Error("Invalid argument passed to jsPDF.scale");return y===v.COMPAT?I*Ye:y===v.ADVANCED?I:void 0},T=function(I){return y===v.COMPAT?Gi()-I:y===v.ADVANCED?I:void 0},L=function(I){return w(T(I))};m.__private__.setPrecision=m.setPrecision=function(I){typeof parseInt(I,10)=="number"&&(t=parseInt(I,10))};var W,V="00000000000000000000000000000000",_=m.__private__.getFileId=function(){return V},B=m.__private__.setFileId=function(I){return V=I!==void 0&&/^[a-fA-F0-9]{32}$/.test(I)?I.toUpperCase():V.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),p!==null&&(Rn=new Lc(p.userPermissions,p.userPassword,p.ownerPassword,V)),V};m.setFileId=function(I){return B(I),this},m.getFileId=function(){return _()};var U=m.__private__.convertDateToPDFDate=function(I){var Y=I.getTimezoneOffset(),ie=Y<0?"+":"-",ue=Math.floor(Math.abs(Y/60)),we=Math.abs(Y%60),De=[ie,G(ue),"'",G(we),"'"].join("");return["D:",I.getFullYear(),G(I.getMonth()+1),G(I.getDate()),G(I.getHours()),G(I.getMinutes()),G(I.getSeconds()),De].join("")},q=m.__private__.convertPDFDateToDate=function(I){var Y=parseInt(I.substr(2,4),10),ie=parseInt(I.substr(6,2),10)-1,ue=parseInt(I.substr(8,2),10),we=parseInt(I.substr(10,2),10),De=parseInt(I.substr(12,2),10),qe=parseInt(I.substr(14,2),10);return new Date(Y,ie,ue,we,De,qe,0)},H=m.__private__.setCreationDate=function(I){var Y;if(I===void 0&&(I=new Date),I instanceof Date)Y=U(I);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(I))throw new Error("Invalid argument passed to jsPDF.setCreationDate");Y=I}return W=Y},R=m.__private__.getCreationDate=function(I){var Y=W;return I==="jsDate"&&(Y=q(W)),Y};m.setCreationDate=function(I){return H(I),this},m.getCreationDate=function(I){return R(I)};var $,G=m.__private__.padd2=function(I){return("0"+parseInt(I)).slice(-2)},Z=m.__private__.padd2Hex=function(I){return("00"+(I=I.toString())).substr(I.length)},te=0,le=[],ce=[],de=0,Ne=[],ve=[],Ee=!1,Te=ce,pe=function(){te=0,de=0,ce=[],le=[],Ne=[],vi=Gr(),ma=Gr()};m.__private__.setCustomOutputDestination=function(I){Ee=!0,Te=I};var se=function(I){Ee||(Te=I)};m.__private__.resetCustomOutputDestination=function(){Ee=!1,Te=ce};var ee=m.__private__.out=function(I){return I=I.toString(),de+=I.length+1,Te.push(I),Te},Ue=m.__private__.write=function(I){return ee(arguments.length===1?I.toString():Array.prototype.join.call(arguments," "))},Fe=m.__private__.getArrayBuffer=function(I){for(var Y=I.length,ie=new ArrayBuffer(Y),ue=new Uint8Array(ie);Y--;)ue[Y]=I.charCodeAt(Y);return ie},ke=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];m.__private__.getStandardFonts=function(){return ke};var Ve=e.fontSize||16;m.__private__.setFontSize=m.setFontSize=function(I){return Ve=y===v.ADVANCED?I/Ye:I,this};var Xe,Ge=m.__private__.getFontSize=m.getFontSize=function(){return y===v.COMPAT?Ve:Ve*Ye},xt=e.R2L||!1;m.__private__.setR2L=m.setR2L=function(I){return xt=I,this},m.__private__.getR2L=m.getR2L=function(){return xt};var Pe,We=m.__private__.setZoomMode=function(I){var Y=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(I))Xe=I;else if(isNaN(I)){if(Y.indexOf(I)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+I+'" is not recognized.');Xe=I}else Xe=parseInt(I,10)};m.__private__.getZoomMode=function(){return Xe};var et,dt=m.__private__.setPageMode=function(I){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(I)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+I+'" is not recognized.');Pe=I};m.__private__.getPageMode=function(){return Pe};var Nt=m.__private__.setLayoutMode=function(I){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(I)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+I+'" is not recognized.');et=I};m.__private__.getLayoutMode=function(){return et},m.__private__.setDisplayMode=m.setDisplayMode=function(I,Y,ie){return We(I),Nt(Y),dt(ie),this};var gt={title:"",subject:"",author:"",keywords:"",creator:""};m.__private__.getDocumentProperty=function(I){if(Object.keys(gt).indexOf(I)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return gt[I]},m.__private__.getDocumentProperties=function(){return gt},m.__private__.setDocumentProperties=m.setProperties=m.setDocumentProperties=function(I){for(var Y in gt)gt.hasOwnProperty(Y)&&I[Y]&&(gt[Y]=I[Y]);return this},m.__private__.setDocumentProperty=function(I,Y){if(Object.keys(gt).indexOf(I)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return gt[I]=Y};var Pt,Ye,Kt,Ot,en,Xt={},ar={},as=[],Vt={},xi={},Lr={},ua={},gi=null,Tr=0,Lt=[],Zt=new x5(m),Ko=e.hotfixes||[],bn={},za={},$a=[],Ct=function I(Y,ie,ue,we,De,qe){if(!(this instanceof I))return new I(Y,ie,ue,we,De,qe);isNaN(Y)&&(Y=1),isNaN(ie)&&(ie=0),isNaN(ue)&&(ue=0),isNaN(we)&&(we=1),isNaN(De)&&(De=0),isNaN(qe)&&(qe=0),this._matrix=[Y,ie,ue,we,De,qe]};Object.defineProperty(Ct.prototype,"sx",{get:function(){return this._matrix[0]},set:function(I){this._matrix[0]=I}}),Object.defineProperty(Ct.prototype,"shy",{get:function(){return this._matrix[1]},set:function(I){this._matrix[1]=I}}),Object.defineProperty(Ct.prototype,"shx",{get:function(){return this._matrix[2]},set:function(I){this._matrix[2]=I}}),Object.defineProperty(Ct.prototype,"sy",{get:function(){return this._matrix[3]},set:function(I){this._matrix[3]=I}}),Object.defineProperty(Ct.prototype,"tx",{get:function(){return this._matrix[4]},set:function(I){this._matrix[4]=I}}),Object.defineProperty(Ct.prototype,"ty",{get:function(){return this._matrix[5]},set:function(I){this._matrix[5]=I}}),Object.defineProperty(Ct.prototype,"a",{get:function(){return this._matrix[0]},set:function(I){this._matrix[0]=I}}),Object.defineProperty(Ct.prototype,"b",{get:function(){return this._matrix[1]},set:function(I){this._matrix[1]=I}}),Object.defineProperty(Ct.prototype,"c",{get:function(){return this._matrix[2]},set:function(I){this._matrix[2]=I}}),Object.defineProperty(Ct.prototype,"d",{get:function(){return this._matrix[3]},set:function(I){this._matrix[3]=I}}),Object.defineProperty(Ct.prototype,"e",{get:function(){return this._matrix[4]},set:function(I){this._matrix[4]=I}}),Object.defineProperty(Ct.prototype,"f",{get:function(){return this._matrix[5]},set:function(I){this._matrix[5]=I}}),Object.defineProperty(Ct.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Ct.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Ct.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Ct.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),Ct.prototype.join=function(I){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(E).join(I)},Ct.prototype.multiply=function(I){var Y=I.sx*this.sx+I.shy*this.shx,ie=I.sx*this.shy+I.shy*this.sy,ue=I.shx*this.sx+I.sy*this.shx,we=I.shx*this.shy+I.sy*this.sy,De=I.tx*this.sx+I.ty*this.shx+this.tx,qe=I.tx*this.shy+I.ty*this.sy+this.ty;return new Ct(Y,ie,ue,we,De,qe)},Ct.prototype.decompose=function(){var I=this.sx,Y=this.shy,ie=this.shx,ue=this.sy,we=this.tx,De=this.ty,qe=Math.sqrt(I*I+Y*Y),rt=(I/=qe)*ie+(Y/=qe)*ue;ie-=I*rt,ue-=Y*rt;var bt=Math.sqrt(ie*ie+ue*ue);return rt/=bt,I*(ue/=bt)<Y*(ie/=bt)&&(I=-I,Y=-Y,rt=-rt,qe=-qe),{scale:new Ct(qe,0,0,bt,0,0),translate:new Ct(1,0,0,1,we,De),rotate:new Ct(I,Y,-Y,I,0,0),skew:new Ct(1,0,rt,1,0,0)}},Ct.prototype.toString=function(I){return this.join(" ")},Ct.prototype.inversed=function(){var I=this.sx,Y=this.shy,ie=this.shx,ue=this.sy,we=this.tx,De=this.ty,qe=1/(I*ue-Y*ie),rt=ue*qe,bt=-Y*qe,Ft=-ie*qe,Tt=I*qe;return new Ct(rt,bt,Ft,Tt,-rt*we-Ft*De,-bt*we-Tt*De)},Ct.prototype.applyToPoint=function(I){var Y=I.x*this.sx+I.y*this.shx+this.tx,ie=I.x*this.shy+I.y*this.sy+this.ty;return new oc(Y,ie)},Ct.prototype.applyToRectangle=function(I){var Y=this.applyToPoint(I),ie=this.applyToPoint(new oc(I.x+I.w,I.y+I.h));return new zd(Y.x,Y.y,ie.x-Y.x,ie.y-Y.y)},Ct.prototype.clone=function(){var I=this.sx,Y=this.shy,ie=this.shx,ue=this.sy,we=this.tx,De=this.ty;return new Ct(I,Y,ie,ue,we,De)},m.Matrix=Ct;var pa=m.matrixMult=function(I,Y){return Y.multiply(I)},Ua=new Ct(1,0,0,1,0,0);m.unitMatrix=m.identityMatrix=Ua;var is=function(I,Y){if(!xi[I]){var ie=(Y instanceof xo?"Sh":"P")+(Object.keys(Vt).length+1).toString(10);Y.id=ie,xi[I]=ie,Vt[ie]=Y,Zt.publish("addPattern",Y)}};m.ShadingPattern=xo,m.TilingPattern=jl,m.addShadingPattern=function(I,Y){return S("addShadingPattern()"),is(I,Y),this},m.beginTilingPattern=function(I){S("beginTilingPattern()"),um(I.boundingBox[0],I.boundingBox[1],I.boundingBox[2]-I.boundingBox[0],I.boundingBox[3]-I.boundingBox[1],I.matrix)},m.endTilingPattern=function(I,Y){S("endTilingPattern()"),Y.stream=ve[$].join(`
`),is(I,Y),Zt.publish("endTilingPattern",Y),$a.pop().restore()};var tn=m.__private__.newObject=function(){var I=Gr();return js(I,!0),I},Gr=m.__private__.newObjectDeferred=function(){return te++,le[te]=function(){return de},te},js=function(I,Y){return Y=typeof Y=="boolean"&&Y,le[I]=de,Y&&ee(I+" 0 obj"),I},Ql=m.__private__.newAdditionalObject=function(){var I={objId:Gr(),content:""};return Ne.push(I),I},vi=Gr(),ma=Gr(),fa=m.__private__.decodeColorString=function(I){var Y=I.split(" ");if(Y.length!==2||Y[1]!=="g"&&Y[1]!=="G")Y.length===5&&(Y[4]==="k"||Y[4]==="K")&&(Y=[(1-Y[0])*(1-Y[3]),(1-Y[1])*(1-Y[3]),(1-Y[2])*(1-Y[3]),"r"]);else{var ie=parseFloat(Y[0]);Y=[ie,ie,ie,"r"]}for(var ue="#",we=0;we<3;we++)ue+=("0"+Math.floor(255*parseFloat(Y[we])).toString(16)).slice(-2);return ue},ha=m.__private__.encodeColorString=function(I){var Y;typeof I=="string"&&(I={ch1:I});var ie=I.ch1,ue=I.ch2,we=I.ch3,De=I.ch4,qe=I.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof ie=="string"&&ie.charAt(0)!=="#"){var rt=new pE(ie);if(rt.ok)ie=rt.toHex();else if(!/^\d*\.?\d*$/.test(ie))throw new Error('Invalid color "'+ie+'" passed to jsPDF.encodeColorString.')}if(typeof ie=="string"&&/^#[0-9A-Fa-f]{3}$/.test(ie)&&(ie="#"+ie[1]+ie[1]+ie[2]+ie[2]+ie[3]+ie[3]),typeof ie=="string"&&/^#[0-9A-Fa-f]{6}$/.test(ie)){var bt=parseInt(ie.substr(1),16);ie=bt>>16&255,ue=bt>>8&255,we=255&bt}if(ue===void 0||De===void 0&&ie===ue&&ue===we)if(typeof ie=="string")Y=ie+" "+qe[0];else switch(I.precision){case 2:Y=D(ie/255)+" "+qe[0];break;case 3:default:Y=C(ie/255)+" "+qe[0]}else if(De===void 0||Yt(De)==="object"){if(De&&!isNaN(De.a)&&De.a===0)return Y=["1.","1.","1.",qe[1]].join(" ");if(typeof ie=="string")Y=[ie,ue,we,qe[1]].join(" ");else switch(I.precision){case 2:Y=[D(ie/255),D(ue/255),D(we/255),qe[1]].join(" ");break;default:case 3:Y=[C(ie/255),C(ue/255),C(we/255),qe[1]].join(" ")}}else if(typeof ie=="string")Y=[ie,ue,we,De,qe[2]].join(" ");else switch(I.precision){case 2:Y=[D(ie),D(ue),D(we),D(De),qe[2]].join(" ");break;case 3:default:Y=[C(ie),C(ue),C(we),C(De),qe[2]].join(" ")}return Y},Va=m.__private__.getFilters=function(){return o},Us=m.__private__.putStream=function(I){var Y=(I=I||{}).data||"",ie=I.filters||Va(),ue=I.alreadyAppliedFilters||[],we=I.addLength1||!1,De=Y.length,qe=I.objectId,rt=function(Fn){return Fn};if(p!==null&&qe===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");p!==null&&(rt=Rn.encryptor(qe,0));var bt={};ie===!0&&(ie=["FlateEncode"]);var Ft=I.additionalKeyValues||[],Tt=(bt=wt.API.processDataByFilters!==void 0?wt.API.processDataByFilters(Y,ie):{data:Y,reverseChain:[]}).reverseChain+(Array.isArray(ue)?ue.join(" "):ue.toString());if(bt.data.length!==0&&(Ft.push({key:"Length",value:bt.data.length}),we===!0&&Ft.push({key:"Length1",value:De})),Tt.length!=0)if(Tt.split("/").length-1==1)Ft.push({key:"Filter",value:Tt});else{Ft.push({key:"Filter",value:"["+Tt+"]"});for(var Wt=0;Wt<Ft.length;Wt+=1)if(Ft[Wt].key==="DecodeParms"){for(var Ar=[],Rr=0;Rr<bt.reverseChain.split("/").length-1;Rr+=1)Ar.push("null");Ar.push(Ft[Wt].value),Ft[Wt].value="["+Ar.join(" ")+"]"}}ee("<<");for(var Qr=0;Qr<Ft.length;Qr++)ee("/"+Ft[Qr].key+" "+Ft[Qr].value);ee(">>"),bt.data.length!==0&&(ee("stream"),ee(rt(bt.data)),ee("endstream"))},Wa=m.__private__.putPage=function(I){var Y=I.number,ie=I.data,ue=I.objId,we=I.contentsObjId;js(ue,!0),ee("<</Type /Page"),ee("/Parent "+I.rootDictionaryObjId+" 0 R"),ee("/Resources "+I.resourceDictionaryObjId+" 0 R"),ee("/MediaBox ["+parseFloat(E(I.mediaBox.bottomLeftX))+" "+parseFloat(E(I.mediaBox.bottomLeftY))+" "+E(I.mediaBox.topRightX)+" "+E(I.mediaBox.topRightY)+"]"),I.cropBox!==null&&ee("/CropBox ["+E(I.cropBox.bottomLeftX)+" "+E(I.cropBox.bottomLeftY)+" "+E(I.cropBox.topRightX)+" "+E(I.cropBox.topRightY)+"]"),I.bleedBox!==null&&ee("/BleedBox ["+E(I.bleedBox.bottomLeftX)+" "+E(I.bleedBox.bottomLeftY)+" "+E(I.bleedBox.topRightX)+" "+E(I.bleedBox.topRightY)+"]"),I.trimBox!==null&&ee("/TrimBox ["+E(I.trimBox.bottomLeftX)+" "+E(I.trimBox.bottomLeftY)+" "+E(I.trimBox.topRightX)+" "+E(I.trimBox.topRightY)+"]"),I.artBox!==null&&ee("/ArtBox ["+E(I.artBox.bottomLeftX)+" "+E(I.artBox.bottomLeftY)+" "+E(I.artBox.topRightX)+" "+E(I.artBox.topRightY)+"]"),typeof I.userUnit=="number"&&I.userUnit!==1&&ee("/UserUnit "+I.userUnit),Zt.publish("putPage",{objId:ue,pageContext:Lt[Y],pageNumber:Y,page:ie}),ee("/Contents "+we+" 0 R"),ee(">>"),ee("endobj");var De=ie.join(`
`);return y===v.ADVANCED&&(De+=`
Q`),js(we,!0),Us({data:De,filters:Va(),objectId:we}),ee("endobj"),ue},Xo=m.__private__.putPages=function(){var I,Y,ie=[];for(I=1;I<=Tr;I++)Lt[I].objId=Gr(),Lt[I].contentsObjId=Gr();for(I=1;I<=Tr;I++)ie.push(Wa({number:I,data:ve[I],objId:Lt[I].objId,contentsObjId:Lt[I].contentsObjId,mediaBox:Lt[I].mediaBox,cropBox:Lt[I].cropBox,bleedBox:Lt[I].bleedBox,trimBox:Lt[I].trimBox,artBox:Lt[I].artBox,userUnit:Lt[I].userUnit,rootDictionaryObjId:vi,resourceDictionaryObjId:ma}));js(vi,!0),ee("<</Type /Pages");var ue="/Kids [";for(Y=0;Y<Tr;Y++)ue+=ie[Y]+" 0 R ";ee(ue+"]"),ee("/Count "+Tr),ee(">>"),ee("endobj"),Zt.publish("postPutPages")},Yl=function(I){Zt.publish("putFont",{font:I,out:ee,newObject:tn,putStream:Us}),I.isAlreadyPutted!==!0&&(I.objectNumber=tn(),ee("<<"),ee("/Type /Font"),ee("/BaseFont /"+Tc(I.postScriptName)),ee("/Subtype /Type1"),typeof I.encoding=="string"&&ee("/Encoding /"+I.encoding),ee("/FirstChar 32"),ee("/LastChar 255"),ee(">>"),ee("endobj"))},Kl=function(){for(var I in Xt)Xt.hasOwnProperty(I)&&(u===!1||u===!0&&f.hasOwnProperty(I))&&Yl(Xt[I])},Xl=function(I){I.objectNumber=tn();var Y=[];Y.push({key:"Type",value:"/XObject"}),Y.push({key:"Subtype",value:"/Form"}),Y.push({key:"BBox",value:"["+[E(I.x),E(I.y),E(I.x+I.width),E(I.y+I.height)].join(" ")+"]"}),Y.push({key:"Matrix",value:"["+I.matrix.toString()+"]"});var ie=I.pages[1].join(`
`);Us({data:ie,additionalKeyValues:Y,objectId:I.objectNumber}),ee("endobj")},Jl=function(){for(var I in bn)bn.hasOwnProperty(I)&&Xl(bn[I])},Gp=function(I,Y){var ie,ue=[],we=1/(Y-1);for(ie=0;ie<1;ie+=we)ue.push(ie);if(ue.push(1),I[0].offset!=0){var De={offset:0,color:I[0].color};I.unshift(De)}if(I[I.length-1].offset!=1){var qe={offset:1,color:I[I.length-1].color};I.push(qe)}for(var rt="",bt=0,Ft=0;Ft<ue.length;Ft++){for(ie=ue[Ft];ie>I[bt+1].offset;)bt++;var Tt=I[bt].offset,Wt=(ie-Tt)/(I[bt+1].offset-Tt),Ar=I[bt].color,Rr=I[bt+1].color;rt+=Z(Math.round((1-Wt)*Ar[0]+Wt*Rr[0]).toString(16))+Z(Math.round((1-Wt)*Ar[1]+Wt*Rr[1]).toString(16))+Z(Math.round((1-Wt)*Ar[2]+Wt*Rr[2]).toString(16))}return rt.trim()},Rx=function(I,Y){Y||(Y=21);var ie=tn(),ue=Gp(I.colors,Y),we=[];we.push({key:"FunctionType",value:"0"}),we.push({key:"Domain",value:"[0.0 1.0]"}),we.push({key:"Size",value:"["+Y+"]"}),we.push({key:"BitsPerSample",value:"8"}),we.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),we.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Us({data:ue,additionalKeyValues:we,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:ie}),ee("endobj"),I.objectNumber=tn(),ee("<< /ShadingType "+I.type),ee("/ColorSpace /DeviceRGB");var De="/Coords ["+E(parseFloat(I.coords[0]))+" "+E(parseFloat(I.coords[1]))+" ";I.type===2?De+=E(parseFloat(I.coords[2]))+" "+E(parseFloat(I.coords[3])):De+=E(parseFloat(I.coords[2]))+" "+E(parseFloat(I.coords[3]))+" "+E(parseFloat(I.coords[4]))+" "+E(parseFloat(I.coords[5])),ee(De+="]"),I.matrix&&ee("/Matrix ["+I.matrix.toString()+"]"),ee("/Function "+ie+" 0 R"),ee("/Extend [true true]"),ee(">>"),ee("endobj")},Fx=function(I,Y){var ie=Gr(),ue=tn();Y.push({resourcesOid:ie,objectOid:ue}),I.objectNumber=ue;var we=[];we.push({key:"Type",value:"/Pattern"}),we.push({key:"PatternType",value:"1"}),we.push({key:"PaintType",value:"1"}),we.push({key:"TilingType",value:"1"}),we.push({key:"BBox",value:"["+I.boundingBox.map(E).join(" ")+"]"}),we.push({key:"XStep",value:E(I.xStep)}),we.push({key:"YStep",value:E(I.yStep)}),we.push({key:"Resources",value:ie+" 0 R"}),I.matrix&&we.push({key:"Matrix",value:"["+I.matrix.toString()+"]"}),Us({data:I.stream,additionalKeyValues:we,objectId:I.objectNumber}),ee("endobj")},Zl=function(I){var Y;for(Y in Vt)Vt.hasOwnProperty(Y)&&(Vt[Y]instanceof xo?Rx(Vt[Y]):Vt[Y]instanceof jl&&Fx(Vt[Y],I))},Qp=function(I){for(var Y in I.objectNumber=tn(),ee("<<"),I)switch(Y){case"opacity":ee("/ca "+D(I[Y]));break;case"stroke-opacity":ee("/CA "+D(I[Y]))}ee(">>"),ee("endobj")},_x=function(){var I;for(I in Lr)Lr.hasOwnProperty(I)&&Qp(Lr[I])},kd=function(){for(var I in ee("/XObject <<"),bn)bn.hasOwnProperty(I)&&bn[I].objectNumber>=0&&ee("/"+I+" "+bn[I].objectNumber+" 0 R");Zt.publish("putXobjectDict"),ee(">>")},Ox=function(){Rn.oid=tn(),ee("<<"),ee("/Filter /Standard"),ee("/V "+Rn.v),ee("/R "+Rn.r),ee("/U <"+Rn.toHexString(Rn.U)+">"),ee("/O <"+Rn.toHexString(Rn.O)+">"),ee("/P "+Rn.P),ee(">>"),ee("endobj")},Yp=function(){for(var I in ee("/Font <<"),Xt)Xt.hasOwnProperty(I)&&(u===!1||u===!0&&f.hasOwnProperty(I))&&ee("/"+I+" "+Xt[I].objectNumber+" 0 R");ee(">>")},Mx=function(){if(Object.keys(Vt).length>0){for(var I in ee("/Shading <<"),Vt)Vt.hasOwnProperty(I)&&Vt[I]instanceof xo&&Vt[I].objectNumber>=0&&ee("/"+I+" "+Vt[I].objectNumber+" 0 R");Zt.publish("putShadingPatternDict"),ee(">>")}},ec=function(I){if(Object.keys(Vt).length>0){for(var Y in ee("/Pattern <<"),Vt)Vt.hasOwnProperty(Y)&&Vt[Y]instanceof m.TilingPattern&&Vt[Y].objectNumber>=0&&Vt[Y].objectNumber<I&&ee("/"+Y+" "+Vt[Y].objectNumber+" 0 R");Zt.publish("putTilingPatternDict"),ee(">>")}},Bx=function(){if(Object.keys(Lr).length>0){var I;for(I in ee("/ExtGState <<"),Lr)Lr.hasOwnProperty(I)&&Lr[I].objectNumber>=0&&ee("/"+I+" "+Lr[I].objectNumber+" 0 R");Zt.publish("putGStateDict"),ee(">>")}},Br=function(I){js(I.resourcesOid,!0),ee("<<"),ee("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),Yp(),Mx(),ec(I.objectOid),Bx(),kd(),ee(">>"),ee("endobj")},Kp=function(){var I=[];Kl(),_x(),Jl(),Zl(I),Zt.publish("putResources"),I.forEach(Br),Br({resourcesOid:ma,objectOid:Number.MAX_SAFE_INTEGER}),Zt.publish("postPutResources")},Xp=function(){Zt.publish("putAdditionalObjects");for(var I=0;I<Ne.length;I++){var Y=Ne[I];js(Y.objId,!0),ee(Y.content),ee("endobj")}Zt.publish("postPutAdditionalObjects")},Jp=function(I){ar[I.fontName]=ar[I.fontName]||{},ar[I.fontName][I.fontStyle]=I.id},Dd=function(I,Y,ie,ue,we){var De={id:"F"+(Object.keys(Xt).length+1).toString(10),postScriptName:I,fontName:Y,fontStyle:ie,encoding:ue,isStandardFont:we||!1,metadata:{}};return Zt.publish("addFont",{font:De,instance:this}),Xt[De.id]=De,Jp(De),De.id},zx=function(I){for(var Y=0,ie=ke.length;Y<ie;Y++){var ue=Dd.call(this,I[Y][0],I[Y][1],I[Y][2],ke[Y][3],!0);u===!1&&(f[ue]=!0);var we=I[Y][0].split("-");Jp({id:ue,fontName:we[0],fontStyle:we[1]||""})}Zt.publish("addFonts",{fonts:Xt,dictionary:ar})},xa=function(I){return I.foo=function(){try{return I.apply(this,arguments)}catch(ue){var Y=ue.stack||"";~Y.indexOf(" at ")&&(Y=Y.split(" at ")[1]);var ie="Error in function "+Y.split(`
`)[0].split("<")[0]+": "+ue.message;if(!At.console)throw new Error(ie);At.console.error(ie,ue),At.alert&&alert(ie)}},I.foo.bar=I,I.foo},tc=function(I,Y){var ie,ue,we,De,qe,rt,bt,Ft,Tt;if(we=(Y=Y||{}).sourceEncoding||"Unicode",qe=Y.outputEncoding,(Y.autoencode||qe)&&Xt[Pt].metadata&&Xt[Pt].metadata[we]&&Xt[Pt].metadata[we].encoding&&(De=Xt[Pt].metadata[we].encoding,!qe&&Xt[Pt].encoding&&(qe=Xt[Pt].encoding),!qe&&De.codePages&&(qe=De.codePages[0]),typeof qe=="string"&&(qe=De[qe]),qe)){for(bt=!1,rt=[],ie=0,ue=I.length;ie<ue;ie++)(Ft=qe[I.charCodeAt(ie)])?rt.push(String.fromCharCode(Ft)):rt.push(I[ie]),rt[ie].charCodeAt(0)>>8&&(bt=!0);I=rt.join("")}for(ie=I.length;bt===void 0&&ie!==0;)I.charCodeAt(ie-1)>>8&&(bt=!0),ie--;if(!bt)return I;for(rt=Y.noBOM?[]:[254,255],ie=0,ue=I.length;ie<ue;ie++){if((Tt=(Ft=I.charCodeAt(ie))>>8)>>8)throw new Error("Character at position "+ie+" of string '"+I+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");rt.push(Tt),rt.push(Ft-(Tt<<8))}return String.fromCharCode.apply(void 0,rt)},os=m.__private__.pdfEscape=m.pdfEscape=function(I,Y){return tc(I,Y).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Ld=m.__private__.beginPage=function(I){ve[++Tr]=[],Lt[Tr]={objId:0,contentsObjId:0,userUnit:Number(l),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(I[0]),topRightY:Number(I[1])}},em(Tr),se(ve[$])},Zp=function(I,Y){var ie,ue,we;switch(n=Y||n,typeof I=="string"&&(ie=x(I.toLowerCase()),Array.isArray(ie)&&(ue=ie[0],we=ie[1])),Array.isArray(I)&&(ue=I[0]*Ye,we=I[1]*Ye),isNaN(ue)&&(ue=a[0],we=a[1]),(ue>14400||we>14400)&&(ur.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),ue=Math.min(14400,ue),we=Math.min(14400,we)),a=[ue,we],n.substr(0,1)){case"l":we>ue&&(a=[we,ue]);break;case"p":ue>we&&(a=[we,ue])}Ld(a),im(_d),ee(ga),Md!==0&&ee(Md+" J"),Bd!==0&&ee(Bd+" j"),Zt.publish("addPage",{pageNumber:Tr})},$x=function(I){I>0&&I<=Tr&&(ve.splice(I,1),Lt.splice(I,1),Tr--,$>Tr&&($=Tr),this.setPage($))},em=function(I){I>0&&I<=Tr&&($=I)},Ux=m.__private__.getNumberOfPages=m.getNumberOfPages=function(){return ve.length-1},tm=function(I,Y,ie){var ue,we=void 0;return ie=ie||{},I=I!==void 0?I:Xt[Pt].fontName,Y=Y!==void 0?Y:Xt[Pt].fontStyle,ue=I.toLowerCase(),ar[ue]!==void 0&&ar[ue][Y]!==void 0?we=ar[ue][Y]:ar[I]!==void 0&&ar[I][Y]!==void 0?we=ar[I][Y]:ie.disableWarning===!1&&ur.warn("Unable to look up font label for font '"+I+"', '"+Y+"'. Refer to getFontList() for available fonts."),we||ie.noFallback||(we=ar.times[Y])==null&&(we=ar.times.normal),we},Vx=m.__private__.putInfo=function(){var I=tn(),Y=function(ue){return ue};for(var ie in p!==null&&(Y=Rn.encryptor(I,0)),ee("<<"),ee("/Producer ("+os(Y("jsPDF "+wt.version))+")"),gt)gt.hasOwnProperty(ie)&&gt[ie]&&ee("/"+ie.substr(0,1).toUpperCase()+ie.substr(1)+" ("+os(Y(gt[ie]))+")");ee("/CreationDate ("+os(Y(W))+")"),ee(">>"),ee("endobj")},Td=m.__private__.putCatalog=function(I){var Y=(I=I||{}).rootDictionaryObjId||vi;switch(tn(),ee("<<"),ee("/Type /Catalog"),ee("/Pages "+Y+" 0 R"),Xe||(Xe="fullwidth"),Xe){case"fullwidth":ee("/OpenAction [3 0 R /FitH null]");break;case"fullheight":ee("/OpenAction [3 0 R /FitV null]");break;case"fullpage":ee("/OpenAction [3 0 R /Fit]");break;case"original":ee("/OpenAction [3 0 R /XYZ null null 1]");break;default:var ie=""+Xe;ie.substr(ie.length-1)==="%"&&(Xe=parseInt(Xe)/100),typeof Xe=="number"&&ee("/OpenAction [3 0 R /XYZ null null "+D(Xe)+"]")}switch(et||(et="continuous"),et){case"continuous":ee("/PageLayout /OneColumn");break;case"single":ee("/PageLayout /SinglePage");break;case"two":case"twoleft":ee("/PageLayout /TwoColumnLeft");break;case"tworight":ee("/PageLayout /TwoColumnRight")}Pe&&ee("/PageMode /"+Pe),Zt.publish("putCatalog"),ee(">>"),ee("endobj")},Wx=m.__private__.putTrailer=function(){ee("trailer"),ee("<<"),ee("/Size "+(te+1)),ee("/Root "+te+" 0 R"),ee("/Info "+(te-1)+" 0 R"),p!==null&&ee("/Encrypt "+Rn.oid+" 0 R"),ee("/ID [ <"+V+"> <"+V+"> ]"),ee(">>")},qx=m.__private__.putHeader=function(){ee("%PDF-"+g),ee("%")},Hx=m.__private__.putXRef=function(){var I="0000000000";ee("xref"),ee("0 "+(te+1)),ee("0000000000 65535 f ");for(var Y=1;Y<=te;Y++)typeof le[Y]=="function"?ee((I+le[Y]()).slice(-10)+" 00000 n "):le[Y]!==void 0?ee((I+le[Y]).slice(-10)+" 00000 n "):ee("0000000000 00000 n ")},yi=m.__private__.buildDocument=function(){pe(),se(ce),Zt.publish("buildDocument"),qx(),Xo(),Xp(),Kp(),p!==null&&Ox(),Vx(),Td();var I=de;return Hx(),Wx(),ee("startxref"),ee(""+I),ee("%%EOF"),se(ve[$]),ce.join(`
`)},rc=m.__private__.getBlob=function(I){return new Blob([Fe(I)],{type:"application/pdf"})},nc=m.output=m.__private__.output=xa(function(I,Y){switch(typeof(Y=Y||{})=="string"?Y={filename:Y}:Y.filename=Y.filename||"generated.pdf",I){case void 0:return yi();case"save":m.save(Y.filename);break;case"arraybuffer":return Fe(yi());case"blob":return rc(yi());case"bloburi":case"bloburl":if(At.URL!==void 0&&typeof At.URL.createObjectURL=="function")return At.URL&&At.URL.createObjectURL(rc(yi()))||void 0;ur.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var ie="",ue=yi();try{ie=m1(ue)}catch{ie=m1(unescape(encodeURIComponent(ue)))}return"data:application/pdf;filename="+Y.filename+";base64,"+ie;case"pdfobjectnewwindow":if(Object.prototype.toString.call(At)==="[object Window]"){var we="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",De=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';Y.pdfObjectUrl&&(we=Y.pdfObjectUrl,De="");var qe='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+we+'"'+De+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(Y)+");<\/script></body></html>",rt=At.open();return rt!==null&&rt.document.write(qe),rt}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(At)==="[object Window]"){var bt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(Y.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+Y.filename+'" width="500px" height="400px" /></body></html>',Ft=At.open();if(Ft!==null){Ft.document.write(bt);var Tt=this;Ft.document.documentElement.querySelector("#pdfViewer").onload=function(){Ft.document.title=Y.filename,Ft.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(Tt.output("bloburl"))}}return Ft}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(At)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var Wt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",Y)+'"></iframe></body></html>',Ar=At.open();if(Ar!==null&&(Ar.document.write(Wt),Ar.document.title=Y.filename),Ar||typeof safari>"u")return Ar;break;case"datauri":case"dataurl":return At.document.location.href=this.output("datauristring",Y);default:return null}}),rm=function(I){return Array.isArray(Ko)===!0&&Ko.indexOf(I)>-1};switch(s){case"pt":Ye=1;break;case"mm":Ye=72/25.4;break;case"cm":Ye=72/2.54;break;case"in":Ye=72;break;case"px":Ye=rm("px_scaling")==1?.75:96/72;break;case"pc":case"em":Ye=12;break;case"ex":Ye=6;break;default:if(typeof s!="number")throw new Error("Invalid unit: "+s);Ye=s}var Rn=null;H(),B();var Gx=function(I){return p!==null?Rn.encryptor(I,0):function(Y){return Y}},nm=m.__private__.getPageInfo=m.getPageInfo=function(I){if(isNaN(I)||I%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:Lt[I].objId,pageNumber:I,pageContext:Lt[I]}},kt=m.__private__.getPageInfoByObjId=function(I){if(isNaN(I)||I%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var Y in Lt)if(Lt[Y].objId===I)break;return nm(Y)},Qx=m.__private__.getCurrentPageInfo=m.getCurrentPageInfo=function(){return{objId:Lt[$].objId,pageNumber:$,pageContext:Lt[$]}};m.addPage=function(){return Zp.apply(this,arguments),this},m.setPage=function(){return em.apply(this,arguments),se.call(this,ve[$]),this},m.insertPage=function(I){return this.addPage(),this.movePage($,I),this},m.movePage=function(I,Y){var ie,ue;if(I>Y){ie=ve[I],ue=Lt[I];for(var we=I;we>Y;we--)ve[we]=ve[we-1],Lt[we]=Lt[we-1];ve[Y]=ie,Lt[Y]=ue,this.setPage(Y)}else if(I<Y){ie=ve[I],ue=Lt[I];for(var De=I;De<Y;De++)ve[De]=ve[De+1],Lt[De]=Lt[De+1];ve[Y]=ie,Lt[Y]=ue,this.setPage(Y)}return this},m.deletePage=function(){return $x.apply(this,arguments),this},m.__private__.text=m.text=function(I,Y,ie,ue,we){var De,qe,rt,bt,Ft,Tt,Wt,Ar,Rr,Qr=(ue=ue||{}).scope||this;if(typeof I=="number"&&typeof Y=="number"&&(typeof ie=="string"||Array.isArray(ie))){var Fn=ie;ie=Y,Y=I,I=Fn}if(arguments[3]instanceof Ct?(S("The transform parameter of text() with a Matrix value"),Rr=we):(rt=arguments[4],bt=arguments[5],Yt(Wt=arguments[3])==="object"&&Wt!==null||(typeof rt=="string"&&(bt=rt,rt=null),typeof Wt=="string"&&(bt=Wt,Wt=null),typeof Wt=="number"&&(rt=Wt,Wt=null),ue={flags:Wt,angle:rt,align:bt})),isNaN(Y)||isNaN(ie)||I==null)throw new Error("Invalid arguments passed to jsPDF.text");if(I.length===0)return Qr;var un="",va=!1,ws=typeof ue.lineHeightFactor=="number"?ue.lineHeightFactor:Zo,Ga=Qr.internal.scaleFactor;function pm(fr){return fr=fr.split("	").join(Array(ue.TabLen||9).join(" ")),os(fr,Wt)}function Wd(fr){for(var hr,$r=fr.concat(),rn=[],Si=$r.length;Si--;)typeof(hr=$r.shift())=="string"?rn.push(hr):Array.isArray(fr)&&(hr.length===1||hr[1]===void 0&&hr[2]===void 0)?rn.push(hr[0]):rn.push([hr[0],hr[1],hr[2]]);return rn}function qd(fr,hr){var $r;if(typeof fr=="string")$r=hr(fr)[0];else if(Array.isArray(fr)){for(var rn,Si,Zd=fr.concat(),vc=[],gm=Zd.length;gm--;)typeof(rn=Zd.shift())=="string"?vc.push(hr(rn)[0]):Array.isArray(rn)&&typeof rn[0]=="string"&&(Si=hr(rn[0],rn[1],rn[2]),vc.push([Si[0],Si[1],Si[2]]));$r=vc}return $r}var cc=!1,Hd=!0;if(typeof I=="string")cc=!0;else if(Array.isArray(I)){var Gd=I.concat();qe=[];for(var dc,jn=Gd.length;jn--;)(typeof(dc=Gd.shift())!="string"||Array.isArray(dc)&&typeof dc[0]!="string")&&(Hd=!1);cc=Hd}if(cc===!1)throw new Error('Type of text must be string or Array. "'+I+'" is not recognized.');typeof I=="string"&&(I=I.match(/[\r?\n]/)?I.split(/\r\n|\r|\n/g):[I]);var uc=Ve/Qr.internal.scaleFactor,pc=uc*(ws-1);switch(ue.baseline){case"bottom":ie-=pc;break;case"top":ie+=uc-pc;break;case"hanging":ie+=uc-2*pc;break;case"middle":ie+=uc/2-pc}if((Tt=ue.maxWidth||0)>0&&(typeof I=="string"?I=Qr.splitTextToSize(I,Tt):Object.prototype.toString.call(I)==="[object Array]"&&(I=I.reduce(function(fr,hr){return fr.concat(Qr.splitTextToSize(hr,Tt))},[]))),De={text:I,x:Y,y:ie,options:ue,mutex:{pdfEscape:os,activeFontKey:Pt,fonts:Xt,activeFontSize:Ve}},Zt.publish("preProcessText",De),I=De.text,rt=(ue=De.options).angle,!(Rr instanceof Ct)&&rt&&typeof rt=="number"){rt*=Math.PI/180,ue.rotationDirection===0&&(rt=-rt),y===v.ADVANCED&&(rt=-rt);var mc=Math.cos(rt),Qd=Math.sin(rt);Rr=new Ct(mc,Qd,-Qd,mc,0,0)}else rt&&rt instanceof Ct&&(Rr=rt);y!==v.ADVANCED||Rr||(Rr=Ua),(Ft=ue.charSpace||ic)!==void 0&&(un+=E(w(Ft))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Ar=ue.horizontalScale)!==void 0&&(un+=E(100*Ar)+` Tz
`),ue.lang;var ls=-1,sg=ue.renderingMode!==void 0?ue.renderingMode:ue.stroke,Yd=Qr.internal.getCurrentPageInfo().pageContext;switch(sg){case 0:case!1:case"fill":ls=0;break;case 1:case!0:case"stroke":ls=1;break;case 2:case"fillThenStroke":ls=2;break;case 3:case"invisible":ls=3;break;case 4:case"fillAndAddForClipping":ls=4;break;case 5:case"strokeAndAddPathForClipping":ls=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":ls=6;break;case 7:case"addToPathForClipping":ls=7}var mm=Yd.usedRenderingMode!==void 0?Yd.usedRenderingMode:-1;ls!==-1?un+=ls+` Tr
`:mm!==-1&&(un+=`0 Tr
`),ls!==-1&&(Yd.usedRenderingMode=ls),bt=ue.align||"left";var Vs,fc=Ve*ws,fm=Qr.internal.pageSize.getWidth(),hm=Xt[Pt];Ft=ue.charSpace||ic,Tt=ue.maxWidth||0,Wt=Object.assign({autoencode:!0,noBOM:!0},ue.flags);var Qi=[],rl=function(fr){return Qr.getStringUnitWidth(fr,{font:hm,charSpace:Ft,fontSize:Ve,doKerning:!1})*Ve/Ga};if(Object.prototype.toString.call(I)==="[object Array]"){var cs;qe=Wd(I),bt!=="left"&&(Vs=qe.map(rl));var Kn,Yi=0;if(bt==="right"){Y-=Vs[0],I=[],jn=qe.length;for(var ji=0;ji<jn;ji++)ji===0?(Kn=Ha(Y),cs=bi(ie)):(Kn=w(Yi-Vs[ji]),cs=-fc),I.push([qe[ji],Kn,cs]),Yi=Vs[ji]}else if(bt==="center"){Y-=Vs[0]/2,I=[],jn=qe.length;for(var wi=0;wi<jn;wi++)wi===0?(Kn=Ha(Y),cs=bi(ie)):(Kn=w((Yi-Vs[wi])/2),cs=-fc),I.push([qe[wi],Kn,cs]),Yi=Vs[wi]}else if(bt==="left"){I=[],jn=qe.length;for(var hc=0;hc<jn;hc++)I.push(qe[hc])}else if(bt==="justify"&&hm.encoding==="Identity-H"){I=[],jn=qe.length,Tt=Tt!==0?Tt:fm;for(var Ni=0,zr=0;zr<jn;zr++)if(cs=zr===0?bi(ie):-fc,Kn=zr===0?Ha(Y):Ni,zr<jn-1){var Kd=w((Tt-Vs[zr])/(qe[zr].split(" ").length-1)),Xn=qe[zr].split(" ");I.push([Xn[0]+" ",Kn,cs]),Ni=0;for(var Ws=1;Ws<Xn.length;Ws++){var xc=(rl(Xn[Ws-1]+" "+Xn[Ws])-rl(Xn[Ws]))*Ga+Kd;Ws==Xn.length-1?I.push([Xn[Ws],xc,0]):I.push([Xn[Ws]+" ",xc,0]),Ni-=xc}}else I.push([qe[zr],Kn,cs]);I.push(["",Ni,0])}else{if(bt!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(I=[],jn=qe.length,Tt=Tt!==0?Tt:fm,zr=0;zr<jn;zr++)cs=zr===0?bi(ie):-fc,Kn=zr===0?Ha(Y):0,zr<jn-1?Qi.push(E(w((Tt-Vs[zr])/(qe[zr].split(" ").length-1)))):Qi.push(0),I.push([qe[zr],Kn,cs])}}var xm=typeof ue.R2L=="boolean"?ue.R2L:xt;xm===!0&&(I=qd(I,function(fr,hr,$r){return[fr.split("").reverse().join(""),hr,$r]})),De={text:I,x:Y,y:ie,options:ue,mutex:{pdfEscape:os,activeFontKey:Pt,fonts:Xt,activeFontSize:Ve}},Zt.publish("postProcessText",De),I=De.text,va=De.mutex.isHex||!1;var Xd=Xt[Pt].encoding;Xd!=="WinAnsiEncoding"&&Xd!=="StandardEncoding"||(I=qd(I,function(fr,hr,$r){return[pm(fr),hr,$r]})),qe=Wd(I),I=[];for(var nl,sl,Ki,al=0,gc=1,il=Array.isArray(qe[0])?gc:al,Xi="",Jd=function(fr,hr,$r){var rn="";return $r instanceof Ct?($r=typeof ue.angle=="number"?pa($r,new Ct(1,0,0,1,fr,hr)):pa(new Ct(1,0,0,1,fr,hr),$r),y===v.ADVANCED&&($r=pa(new Ct(1,0,0,-1,0,0),$r)),rn=$r.join(" ")+` Tm
`):rn=E(fr)+" "+E(hr)+` Td
`,rn},qs=0;qs<qe.length;qs++){switch(Xi="",il){case gc:Ki=(va?"<":"(")+qe[qs][0]+(va?">":")"),nl=parseFloat(qe[qs][1]),sl=parseFloat(qe[qs][2]);break;case al:Ki=(va?"<":"(")+qe[qs]+(va?">":")"),nl=Ha(Y),sl=bi(ie)}Qi!==void 0&&Qi[qs]!==void 0&&(Xi=Qi[qs]+` Tw
`),qs===0?I.push(Xi+Jd(nl,sl,Rr)+Ki):il===al?I.push(Xi+Ki):il===gc&&I.push(Xi+Jd(nl,sl,Rr)+Ki)}I=il===al?I.join(` Tj
T* `):I.join(` Tj
`),I+=` Tj
`;var Hs=`BT
/`;return Hs+=Pt+" "+Ve+` Tf
`,Hs+=E(Ve*ws)+` TL
`,Hs+=el+`
`,Hs+=un,Hs+=I,ee(Hs+="ET"),f[Pt]=!0,Qr};var Yx=m.__private__.clip=m.clip=function(I){return ee(I==="evenodd"?"W*":"W"),this};m.clipEvenOdd=function(){return Yx("evenodd")},m.__private__.discardPath=m.discardPath=function(){return ee("n"),this};var qa=m.__private__.isValidStyle=function(I){var Y=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(I)!==-1&&(Y=!0),Y};m.__private__.setDefaultPathOperation=m.setDefaultPathOperation=function(I){return qa(I)&&(d=I),this};var sm=m.__private__.getStyle=m.getStyle=function(I){var Y=d;switch(I){case"D":case"S":Y="S";break;case"F":Y="f";break;case"FD":case"DF":Y="B";break;case"f":case"f*":case"B":case"B*":Y=I}return Y},am=m.close=function(){return ee("h"),this};m.stroke=function(){return ee("S"),this},m.fill=function(I){return sc("f",I),this},m.fillEvenOdd=function(I){return sc("f*",I),this},m.fillStroke=function(I){return sc("B",I),this},m.fillStrokeEvenOdd=function(I){return sc("B*",I),this};var sc=function(I,Y){Yt(Y)==="object"?Xx(Y,I):ee(I)},Rd=function(I){I===null||y===v.ADVANCED&&I===void 0||(I=sm(I),ee(I))};function Kx(I,Y,ie,ue,we){var De=new jl(Y||this.boundingBox,ie||this.xStep,ue||this.yStep,this.gState,we||this.matrix);De.stream=this.stream;var qe=I+"$$"+this.cloneIndex+++"$$";return is(qe,De),De}var Xx=function(I,Y){var ie=xi[I.key],ue=Vt[ie];if(ue instanceof xo)ee("q"),ee(Jx(Y)),ue.gState&&m.setGState(ue.gState),ee(I.matrix.toString()+" cm"),ee("/"+ie+" sh"),ee("Q");else if(ue instanceof jl){var we=new Ct(1,0,0,-1,0,Gi());I.matrix&&(we=we.multiply(I.matrix||Ua),ie=Kx.call(ue,I.key,I.boundingBox,I.xStep,I.yStep,we).id),ee("q"),ee("/Pattern cs"),ee("/"+ie+" scn"),ue.gState&&m.setGState(ue.gState),ee(Y),ee("Q")}},Jx=function(I){switch(I){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},Fd=m.moveTo=function(I,Y){return ee(E(w(I))+" "+E(L(Y))+" m"),this},Jo=m.lineTo=function(I,Y){return ee(E(w(I))+" "+E(L(Y))+" l"),this},qi=m.curveTo=function(I,Y,ie,ue,we,De){return ee([E(w(I)),E(L(Y)),E(w(ie)),E(L(ue)),E(w(we)),E(L(De)),"c"].join(" ")),this};m.__private__.line=m.line=function(I,Y,ie,ue,we){if(isNaN(I)||isNaN(Y)||isNaN(ie)||isNaN(ue)||!qa(we))throw new Error("Invalid arguments passed to jsPDF.line");return y===v.COMPAT?this.lines([[ie-I,ue-Y]],I,Y,[1,1],we||"S"):this.lines([[ie-I,ue-Y]],I,Y,[1,1]).stroke()},m.__private__.lines=m.lines=function(I,Y,ie,ue,we,De){var qe,rt,bt,Ft,Tt,Wt,Ar,Rr,Qr,Fn,un,va;if(typeof I=="number"&&(va=ie,ie=Y,Y=I,I=va),ue=ue||[1,1],De=De||!1,isNaN(Y)||isNaN(ie)||!Array.isArray(I)||!Array.isArray(ue)||!qa(we)||typeof De!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Fd(Y,ie),qe=ue[0],rt=ue[1],Ft=I.length,Fn=Y,un=ie,bt=0;bt<Ft;bt++)(Tt=I[bt]).length===2?(Fn=Tt[0]*qe+Fn,un=Tt[1]*rt+un,Jo(Fn,un)):(Wt=Tt[0]*qe+Fn,Ar=Tt[1]*rt+un,Rr=Tt[2]*qe+Fn,Qr=Tt[3]*rt+un,Fn=Tt[4]*qe+Fn,un=Tt[5]*rt+un,qi(Wt,Ar,Rr,Qr,Fn,un));return De&&am(),Rd(we),this},m.path=function(I){for(var Y=0;Y<I.length;Y++){var ie=I[Y],ue=ie.c;switch(ie.op){case"m":Fd(ue[0],ue[1]);break;case"l":Jo(ue[0],ue[1]);break;case"c":qi.apply(this,ue);break;case"h":am()}}return this},m.__private__.rect=m.rect=function(I,Y,ie,ue,we){if(isNaN(I)||isNaN(Y)||isNaN(ie)||isNaN(ue)||!qa(we))throw new Error("Invalid arguments passed to jsPDF.rect");return y===v.COMPAT&&(ue=-ue),ee([E(w(I)),E(L(Y)),E(w(ie)),E(w(ue)),"re"].join(" ")),Rd(we),this},m.__private__.triangle=m.triangle=function(I,Y,ie,ue,we,De,qe){if(isNaN(I)||isNaN(Y)||isNaN(ie)||isNaN(ue)||isNaN(we)||isNaN(De)||!qa(qe))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[ie-I,ue-Y],[we-ie,De-ue],[I-we,Y-De]],I,Y,[1,1],qe,!0),this},m.__private__.roundedRect=m.roundedRect=function(I,Y,ie,ue,we,De,qe){if(isNaN(I)||isNaN(Y)||isNaN(ie)||isNaN(ue)||isNaN(we)||isNaN(De)||!qa(qe))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var rt=4/3*(Math.SQRT2-1);return we=Math.min(we,.5*ie),De=Math.min(De,.5*ue),this.lines([[ie-2*we,0],[we*rt,0,we,De-De*rt,we,De],[0,ue-2*De],[0,De*rt,-we*rt,De,-we,De],[2*we-ie,0],[-we*rt,0,-we,-De*rt,-we,-De],[0,2*De-ue],[0,-De*rt,we*rt,-De,we,-De]],I+we,Y,[1,1],qe,!0),this},m.__private__.ellipse=m.ellipse=function(I,Y,ie,ue,we){if(isNaN(I)||isNaN(Y)||isNaN(ie)||isNaN(ue)||!qa(we))throw new Error("Invalid arguments passed to jsPDF.ellipse");var De=4/3*(Math.SQRT2-1)*ie,qe=4/3*(Math.SQRT2-1)*ue;return Fd(I+ie,Y),qi(I+ie,Y-qe,I+De,Y-ue,I,Y-ue),qi(I-De,Y-ue,I-ie,Y-qe,I-ie,Y),qi(I-ie,Y+qe,I-De,Y+ue,I,Y+ue),qi(I+De,Y+ue,I+ie,Y+qe,I+ie,Y),Rd(we),this},m.__private__.circle=m.circle=function(I,Y,ie,ue){if(isNaN(I)||isNaN(Y)||isNaN(ie)||!qa(ue))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(I,Y,ie,ie,ue)},m.setFont=function(I,Y,ie){return ie&&(Y=O(Y,ie)),Pt=tm(I,Y,{disableWarning:!1}),this};var Zx=m.__private__.getFont=m.getFont=function(){return Xt[tm.apply(m,arguments)]};m.__private__.getFontList=m.getFontList=function(){var I,Y,ie={};for(I in ar)if(ar.hasOwnProperty(I))for(Y in ie[I]=[],ar[I])ar[I].hasOwnProperty(Y)&&ie[I].push(Y);return ie},m.addFont=function(I,Y,ie,ue,we){var De=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&De.indexOf(arguments[3])!==-1?we=arguments[3]:arguments[3]&&De.indexOf(arguments[3])==-1&&(ie=O(ie,ue)),we=we||"Identity-H",Dd.call(this,I,Y,ie,we)};var Zo,_d=e.lineWidth||.200025,ac=m.__private__.getLineWidth=m.getLineWidth=function(){return _d},im=m.__private__.setLineWidth=m.setLineWidth=function(I){return _d=I,ee(E(w(I))+" w"),this};m.__private__.setLineDash=wt.API.setLineDash=wt.API.setLineDashPattern=function(I,Y){if(I=I||[],Y=Y||0,isNaN(Y)||!Array.isArray(I))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return I=I.map(function(ie){return E(w(ie))}).join(" "),Y=E(w(Y)),ee("["+I+"] "+Y+" d"),this};var om=m.__private__.getLineHeight=m.getLineHeight=function(){return Ve*Zo};m.__private__.getLineHeight=m.getLineHeight=function(){return Ve*Zo};var lm=m.__private__.setLineHeightFactor=m.setLineHeightFactor=function(I){return typeof(I=I||1.15)=="number"&&(Zo=I),this},cm=m.__private__.getLineHeightFactor=m.getLineHeightFactor=function(){return Zo};lm(e.lineHeight);var Ha=m.__private__.getHorizontalCoordinate=function(I){return w(I)},bi=m.__private__.getVerticalCoordinate=function(I){return y===v.ADVANCED?I:Lt[$].mediaBox.topRightY-Lt[$].mediaBox.bottomLeftY-w(I)},eg=m.__private__.getHorizontalCoordinateString=m.getHorizontalCoordinateString=function(I){return E(Ha(I))},Hi=m.__private__.getVerticalCoordinateString=m.getVerticalCoordinateString=function(I){return E(bi(I))},ga=e.strokeColor||"0 G";m.__private__.getStrokeColor=m.getDrawColor=function(){return fa(ga)},m.__private__.setStrokeColor=m.setDrawColor=function(I,Y,ie,ue){return ga=ha({ch1:I,ch2:Y,ch3:ie,ch4:ue,pdfColorType:"draw",precision:2}),ee(ga),this};var Od=e.fillColor||"0 g";m.__private__.getFillColor=m.getFillColor=function(){return fa(Od)},m.__private__.setFillColor=m.setFillColor=function(I,Y,ie,ue){return Od=ha({ch1:I,ch2:Y,ch3:ie,ch4:ue,pdfColorType:"fill",precision:2}),ee(Od),this};var el=e.textColor||"0 g",tg=m.__private__.getTextColor=m.getTextColor=function(){return fa(el)};m.__private__.setTextColor=m.setTextColor=function(I,Y,ie,ue){return el=ha({ch1:I,ch2:Y,ch3:ie,ch4:ue,pdfColorType:"text",precision:3}),this};var ic=e.charSpace,rg=m.__private__.getCharSpace=m.getCharSpace=function(){return parseFloat(ic||0)};m.__private__.setCharSpace=m.setCharSpace=function(I){if(isNaN(I))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return ic=I,this};var Md=0;m.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},m.__private__.setLineCap=m.setLineCap=function(I){var Y=m.CapJoinStyles[I];if(Y===void 0)throw new Error("Line cap style of '"+I+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Md=Y,ee(Y+" J"),this};var Bd=0;m.__private__.setLineJoin=m.setLineJoin=function(I){var Y=m.CapJoinStyles[I];if(Y===void 0)throw new Error("Line join style of '"+I+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Bd=Y,ee(Y+" j"),this},m.__private__.setLineMiterLimit=m.__private__.setMiterLimit=m.setLineMiterLimit=m.setMiterLimit=function(I){if(I=I||0,isNaN(I))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return ee(E(w(I))+" M"),this},m.GState=Sp,m.setGState=function(I){(I=typeof I=="string"?Lr[ua[I]]:dm(null,I)).equals(gi)||(ee("/"+I.id+" gs"),gi=I)};var dm=function(I,Y){if(!I||!ua[I]){var ie=!1;for(var ue in Lr)if(Lr.hasOwnProperty(ue)&&Lr[ue].equals(Y)){ie=!0;break}if(ie)Y=Lr[ue];else{var we="GS"+(Object.keys(Lr).length+1).toString(10);Lr[we]=Y,Y.id=we}return I&&(ua[I]=Y.id),Zt.publish("addGState",Y),Y}};m.addGState=function(I,Y){return dm(I,Y),this},m.saveGraphicsState=function(){return ee("q"),as.push({key:Pt,size:Ve,color:el}),this},m.restoreGraphicsState=function(){ee("Q");var I=as.pop();return Pt=I.key,Ve=I.size,el=I.color,gi=null,this},m.setCurrentTransformationMatrix=function(I){return ee(I.toString()+" cm"),this},m.comment=function(I){return ee("#"+I),this};var oc=function(I,Y){var ie=I||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return ie},set:function(De){isNaN(De)||(ie=parseFloat(De))}});var ue=Y||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return ue},set:function(De){isNaN(De)||(ue=parseFloat(De))}});var we="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return we},set:function(De){we=De.toString()}}),this},zd=function(I,Y,ie,ue){oc.call(this,I,Y),this.type="rect";var we=ie||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return we},set:function(qe){isNaN(qe)||(we=parseFloat(qe))}});var De=ue||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return De},set:function(qe){isNaN(qe)||(De=parseFloat(qe))}}),this},$d=function(){this.page=Tr,this.currentPage=$,this.pages=ve.slice(0),this.pagesContext=Lt.slice(0),this.x=Kt,this.y=Ot,this.matrix=en,this.width=tl($),this.height=Gi($),this.outputDestination=Te,this.id="",this.objectNumber=-1};$d.prototype.restore=function(){Tr=this.page,$=this.currentPage,Lt=this.pagesContext,ve=this.pages,Kt=this.x,Ot=this.y,en=this.matrix,Ud($,this.width),Vd($,this.height),Te=this.outputDestination};var um=function(I,Y,ie,ue,we){$a.push(new $d),Tr=$=0,ve=[],Kt=I,Ot=Y,en=we,Ld([ie,ue])},ng=function(I){if(za[I])$a.pop().restore();else{var Y=new $d,ie="Xo"+(Object.keys(bn).length+1).toString(10);Y.id=ie,za[I]=ie,bn[ie]=Y,Zt.publish("addFormObject",Y),$a.pop().restore()}};for(var lc in m.beginFormObject=function(I,Y,ie,ue,we){return um(I,Y,ie,ue,we),this},m.endFormObject=function(I){return ng(I),this},m.doFormObject=function(I,Y){var ie=bn[za[I]];return ee("q"),ee(Y.toString()+" cm"),ee("/"+ie.id+" Do"),ee("Q"),this},m.getFormObject=function(I){var Y=bn[za[I]];return{x:Y.x,y:Y.y,width:Y.width,height:Y.height,matrix:Y.matrix}},m.save=function(I,Y){return I=I||"generated.pdf",(Y=Y||{}).returnPromise=Y.returnPromise||!1,Y.returnPromise===!1?(pl(rc(yi()),I),typeof pl.unload=="function"&&At.setTimeout&&setTimeout(pl.unload,911),this):new Promise(function(ie,ue){try{var we=pl(rc(yi()),I);typeof pl.unload=="function"&&At.setTimeout&&setTimeout(pl.unload,911),ie(we)}catch(De){ue(De.message)}})},wt.API)wt.API.hasOwnProperty(lc)&&(lc==="events"&&wt.API.events.length?function(I,Y){var ie,ue,we;for(we=Y.length-1;we!==-1;we--)ie=Y[we][0],ue=Y[we][1],I.subscribe.apply(I,[ie].concat(typeof ue=="function"?[ue]:ue))}(Zt,wt.API.events):m[lc]=wt.API[lc]);var tl=m.getPageWidth=function(I){return(Lt[I=I||$].mediaBox.topRightX-Lt[I].mediaBox.bottomLeftX)/Ye},Ud=m.setPageWidth=function(I,Y){Lt[I].mediaBox.topRightX=Y*Ye+Lt[I].mediaBox.bottomLeftX},Gi=m.getPageHeight=function(I){return(Lt[I=I||$].mediaBox.topRightY-Lt[I].mediaBox.bottomLeftY)/Ye},Vd=m.setPageHeight=function(I,Y){Lt[I].mediaBox.topRightY=Y*Ye+Lt[I].mediaBox.bottomLeftY};return m.internal={pdfEscape:os,getStyle:sm,getFont:Zx,getFontSize:Ge,getCharSpace:rg,getTextColor:tg,getLineHeight:om,getLineHeightFactor:cm,getLineWidth:ac,write:Ue,getHorizontalCoordinate:Ha,getVerticalCoordinate:bi,getCoordinateString:eg,getVerticalCoordinateString:Hi,collections:{},newObject:tn,newAdditionalObject:Ql,newObjectDeferred:Gr,newObjectDeferredBegin:js,getFilters:Va,putStream:Us,events:Zt,scaleFactor:Ye,pageSize:{getWidth:function(){return tl($)},setWidth:function(I){Ud($,I)},getHeight:function(){return Gi($)},setHeight:function(I){Vd($,I)}},encryptionOptions:p,encryption:Rn,getEncryptor:Gx,output:nc,getNumberOfPages:Ux,pages:ve,out:ee,f2:D,f3:C,getPageInfo:nm,getPageInfoByObjId:kt,getCurrentPageInfo:Qx,getPDFVersion:b,Point:oc,Rectangle:zd,Matrix:Ct,hasHotfix:rm},Object.defineProperty(m.internal.pageSize,"width",{get:function(){return tl($)},set:function(I){Ud($,I)},enumerable:!0,configurable:!0}),Object.defineProperty(m.internal.pageSize,"height",{get:function(){return Gi($)},set:function(I){Vd($,I)},enumerable:!0,configurable:!0}),zx.call(m,ke),Pt="F1",Zp(a,n),Zt.publish("initialized"),m}Lc.prototype.lsbFirstWord=function(e){return String.fromCharCode(e>>0&255,e>>8&255,e>>16&255,e>>24&255)},Lc.prototype.toHexString=function(e){return e.split("").map(function(t){return("0"+(255&t.charCodeAt(0)).toString(16)).slice(-2)}).join("")},Lc.prototype.hexToBytes=function(e){for(var t=[],n=0;n<e.length;n+=2)t.push(String.fromCharCode(parseInt(e.substr(n,2),16)));return t.join("")},Lc.prototype.processOwnerPassword=function(e,t){return h1(f1(t).substr(0,5),e)},Lc.prototype.encryptor=function(e,t){var n=f1(this.encryptionKey+String.fromCharCode(255&e,e>>8&255,e>>16&255,255&t,t>>8&255)).substr(0,10);return function(s){return h1(n,s)}},Sp.prototype.equals=function(e){var t,n="id,objectNumber,equals";if(!e||Yt(e)!==Yt(this))return!1;var s=0;for(t in this)if(!(n.indexOf(t)>=0)){if(this.hasOwnProperty(t)&&!e.hasOwnProperty(t)||this[t]!==e[t])return!1;s++}for(t in e)e.hasOwnProperty(t)&&n.indexOf(t)<0&&s--;return s===0},wt.API={events:[]},wt.version="2.5.2";var _r=wt.API,N2=1,Gl=function(e){return e.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Ic=function(e){return e.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Rt=function(e){return e.toFixed(2)},lo=function(e){return e.toFixed(5)};_r.__acroform__={};var bs=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e},g5=function(e){return e*N2},Xa=function(e){var t=new xE,n=ft.internal.getHeight(e)||0,s=ft.internal.getWidth(e)||0;return t.BBox=[0,0,Number(Rt(s)),Number(Rt(n))],t},I$=_r.__acroform__.setBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return e|=1<<t},P$=_r.__acroform__.clearBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return e&=~(1<<t)},k$=_r.__acroform__.getBit=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return e&1<<t?1:0},Vr=_r.__acroform__.getBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return k$(e,t-1)},Wr=_r.__acroform__.setBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return I$(e,t-1)},qr=_r.__acroform__.clearBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return P$(e,t-1)},D$=_r.__acroform__.calculateCoordinates=function(e,t){var n=t.internal.getHorizontalCoordinate,s=t.internal.getVerticalCoordinate,a=e[0],i=e[1],o=e[2],l=e[3],c={};return c.lowerLeft_X=n(a)||0,c.lowerLeft_Y=s(i+l)||0,c.upperRight_X=n(a+o)||0,c.upperRight_Y=s(i)||0,[Number(Rt(c.lowerLeft_X)),Number(Rt(c.lowerLeft_Y)),Number(Rt(c.upperRight_X)),Number(Rt(c.upperRight_Y))]},L$=function(e){if(e.appearanceStreamContent)return e.appearanceStreamContent;if(e.V||e.DV){var t=[],n=e._V||e.DV,s=x1(e,n),a=e.scope.internal.getFont(e.fontName,e.fontStyle).id;t.push("/Tx BMC"),t.push("q"),t.push("BT"),t.push(e.scope.__private__.encodeColorString(e.color)),t.push("/"+a+" "+Rt(s.fontSize)+" Tf"),t.push("1 0 0 1 0 0 Tm"),t.push(s.text),t.push("ET"),t.push("Q"),t.push("EMC");var i=Xa(e);return i.scope=e.scope,i.stream=t.join(`
`),i}},x1=function(e,t){var n=e.fontSize===0?e.maxFontSize:e.fontSize,s={text:"",fontSize:""},a=(t=(t=t.substr(0,1)=="("?t.substr(1):t).substr(t.length-1)==")"?t.substr(0,t.length-1):t).split(" ");a=e.multiline?a.map(function(C){return C.split(`
`)}):a.map(function(C){return[C]});var i=n,o=ft.internal.getHeight(e)||0;o=o<0?-o:o;var l=ft.internal.getWidth(e)||0;l=l<0?-l:l;var c=function(C,w,T){if(C+1<a.length){var L=w+" "+a[C+1][0];return gf(L,e,T).width<=l-4}return!1};i++;e:for(;i>0;){t="",i--;var d,p,u=gf("3",e,i).height,f=e.multiline?o-i:(o-u)/2,m=f+=2,g=0,b=0,j=0;if(i<=0){t=`(...) Tj
`,t+="% Width of Text: "+gf(t,e,i=12).width+", FieldWidth:"+l+`
`;break}for(var x="",v=0,y=0;y<a.length;y++)if(a.hasOwnProperty(y)){var P=!1;if(a[y].length!==1&&j!==a[y].length-1){if((u+2)*(v+2)+2>o)continue e;x+=a[y][j],P=!0,b=y,y--}else{x=(x+=a[y][j]+" ").substr(x.length-1)==" "?x.substr(0,x.length-1):x;var M=parseInt(y),O=c(M,x,i),E=y>=a.length-1;if(O&&!E){x+=" ",j=0;continue}if(O||E){if(E)b=M;else if(e.multiline&&(u+2)*(v+2)+2>o)continue e}else{if(!e.multiline||(u+2)*(v+2)+2>o)continue e;b=M}}for(var S="",k=g;k<=b;k++){var D=a[k];if(e.multiline){if(k===b){S+=D[j]+" ",j=(j+1)%D.length;continue}if(k===g){S+=D[D.length-1]+" ";continue}}S+=D[0]+" "}switch(S=S.substr(S.length-1)==" "?S.substr(0,S.length-1):S,p=gf(S,e,i).width,e.textAlign){case"right":d=l-p-2;break;case"center":d=(l-p)/2;break;case"left":default:d=2}t+=Rt(d)+" "+Rt(m)+` Td
`,t+="("+Gl(S)+`) Tj
`,t+=-Rt(d)+` 0 Td
`,m=-(i+2),p=0,g=P?b:b+1,v++,x=""}break}return s.text=t,s.fontSize=i,s},gf=function(e,t,n){var s=t.scope.internal.getFont(t.fontName,t.fontStyle),a=t.scope.getStringUnitWidth(e,{font:s,fontSize:parseFloat(n),charSpace:0})*parseFloat(n);return{height:t.scope.getStringUnitWidth("3",{font:s,fontSize:parseFloat(n),charSpace:0})*parseFloat(n)*1.5,width:a}},T$={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},R$=function(e,t){var n={type:"reference",object:e};t.internal.getPageInfo(e.page).pageContext.annotations.find(function(s){return s.type===n.type&&s.object===n.object})===void 0&&t.internal.getPageInfo(e.page).pageContext.annotations.push(n)},F$=function(e,t){for(var n in e)if(e.hasOwnProperty(n)){var s=n,a=e[n];t.internal.newObjectDeferredBegin(a.objId,!0),Yt(a)==="object"&&typeof a.putStream=="function"&&a.putStream(),delete e[s]}},_$=function(e,t){if(t.scope=e,e.internal!==void 0&&(e.internal.acroformPlugin===void 0||e.internal.acroformPlugin.isInitialized===!1)){if(Ma.FieldNum=0,e.internal.acroformPlugin=JSON.parse(JSON.stringify(T$)),e.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");N2=e.internal.scaleFactor,e.internal.acroformPlugin.acroFormDictionaryRoot=new gE,e.internal.acroformPlugin.acroFormDictionaryRoot.scope=e,e.internal.acroformPlugin.acroFormDictionaryRoot._eventID=e.internal.events.subscribe("postPutResources",function(){(function(n){n.internal.events.unsubscribe(n.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete n.internal.acroformPlugin.acroFormDictionaryRoot._eventID,n.internal.acroformPlugin.printedOut=!0})(e)}),e.internal.events.subscribe("buildDocument",function(){(function(n){n.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var s=n.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var a in s)if(s.hasOwnProperty(a)){var i=s[a];i.objId=void 0,i.hasAnnotation&&R$(i,n)}})(e)}),e.internal.events.subscribe("putCatalog",function(){(function(n){if(n.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");n.internal.write("/AcroForm "+n.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(e)}),e.internal.events.subscribe("postPutPages",function(n){(function(s,a){var i=!s;for(var o in s||(a.internal.newObjectDeferredBegin(a.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),a.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),s=s||a.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(s.hasOwnProperty(o)){var l=s[o],c=[],d=l.Rect;if(l.Rect&&(l.Rect=D$(l.Rect,a)),a.internal.newObjectDeferredBegin(l.objId,!0),l.DA=ft.createDefaultAppearanceStream(l),Yt(l)==="object"&&typeof l.getKeyValueListForStream=="function"&&(c=l.getKeyValueListForStream()),l.Rect=d,l.hasAppearanceStream&&!l.appearanceStreamContent){var p=L$(l);c.push({key:"AP",value:"<</N "+p+">>"}),a.internal.acroformPlugin.xForms.push(p)}if(l.appearanceStreamContent){var u="";for(var f in l.appearanceStreamContent)if(l.appearanceStreamContent.hasOwnProperty(f)){var m=l.appearanceStreamContent[f];if(u+="/"+f+" ",u+="<<",Object.keys(m).length>=1||Array.isArray(m)){for(var o in m)if(m.hasOwnProperty(o)){var g=m[o];typeof g=="function"&&(g=g.call(a,l)),u+="/"+o+" "+g+" ",a.internal.acroformPlugin.xForms.indexOf(g)>=0||a.internal.acroformPlugin.xForms.push(g)}}else typeof(g=m)=="function"&&(g=g.call(a,l)),u+="/"+o+" "+g,a.internal.acroformPlugin.xForms.indexOf(g)>=0||a.internal.acroformPlugin.xForms.push(g);u+=">>"}c.push({key:"AP",value:`<<
`+u+">>"})}a.internal.putStream({additionalKeyValues:c,objectId:l.objId}),a.internal.out("endobj")}i&&F$(a.internal.acroformPlugin.xForms,a)})(n,e)}),e.internal.acroformPlugin.isInitialized=!0}},hE=_r.__acroform__.arrayToPdfArray=function(e,t,n){var s=function(o){return o};if(Array.isArray(e)){for(var a="[",i=0;i<e.length;i++)switch(i!==0&&(a+=" "),Yt(e[i])){case"boolean":case"number":case"object":a+=e[i].toString();break;case"string":e[i].substr(0,1)!=="/"?(t!==void 0&&n&&(s=n.internal.getEncryptor(t)),a+="("+Gl(s(e[i].toString()))+")"):a+=e[i].toString()}return a+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},Lv=function(e,t,n){var s=function(a){return a};return t!==void 0&&n&&(s=n.internal.getEncryptor(t)),(e=e||"").toString(),e="("+Gl(s(e))+")"},oi=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(e){this._objId=e}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};oi.prototype.toString=function(){return this.objId+" 0 R"},oi.prototype.putStream=function(){var e=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:e,objectId:this.objId}),this.scope.internal.out("endobj")},oi.prototype.getKeyValueListForStream=function(){var e=[],t=Object.getOwnPropertyNames(this).filter(function(i){return i!="content"&&i!="appearanceStreamContent"&&i!="scope"&&i!="objId"&&i.substring(0,1)!="_"});for(var n in t)if(Object.getOwnPropertyDescriptor(this,t[n]).configurable===!1){var s=t[n],a=this[s];a&&(Array.isArray(a)?e.push({key:s,value:hE(a,this.objId,this.scope)}):a instanceof oi?(a.scope=this.scope,e.push({key:s,value:a.objId+" 0 R"})):typeof a!="function"&&e.push({key:s,value:a}))}return e};var xE=function(){oi.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var e,t=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(n){e=n.trim()},get:function(){return e||null}})};bs(xE,oi);var gE=function(){oi.call(this);var e,t=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return t.length>0?t:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return t}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(e){var n=function(s){return s};return this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),"("+Gl(n(e))+")"}},set:function(n){e=n}})};bs(gE,oi);var Ma=function e(){oi.call(this);var t=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return t},set:function(x){if(isNaN(x))throw new Error('Invalid value "'+x+'" for attribute F supplied.');t=x}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Vr(t,3)},set:function(x){x?this.F=Wr(t,3):this.F=qr(t,3)}});var n=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return n},set:function(x){if(isNaN(x))throw new Error('Invalid value "'+x+'" for attribute Ff supplied.');n=x}});var s=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(s.length!==0)return s},set:function(x){s=x!==void 0?x:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!s||isNaN(s[0])?0:s[0]},set:function(x){s[0]=x}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!s||isNaN(s[1])?0:s[1]},set:function(x){s[1]=x}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!s||isNaN(s[2])?0:s[2]},set:function(x){s[2]=x}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!s||isNaN(s[3])?0:s[3]},set:function(x){s[3]=x}});var a="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return a},set:function(x){switch(x){case"/Btn":case"/Tx":case"/Ch":case"/Sig":a=x;break;default:throw new Error('Invalid value "'+x+'" for attribute FT supplied.')}}});var i=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!i||i.length<1){if(this instanceof Rh)return;i="FieldObject"+e.FieldNum++}var x=function(v){return v};return this.scope&&(x=this.scope.internal.getEncryptor(this.objId)),"("+Gl(x(i))+")"},set:function(x){i=x.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return i},set:function(x){i=x}});var o="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return o},set:function(x){o=x}});var l="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return l},set:function(x){l=x}});var c=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return c},set:function(x){c=x}});var d=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return d===void 0?50/N2:d},set:function(x){d=x}});var p="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return p},set:function(x){p=x}});var u="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!u||this instanceof Rh||this instanceof Ro))return Lv(u,this.objId,this.scope)},set:function(x){x=x.toString(),u=x}});var f=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(f)return this instanceof an?f:Lv(f,this.objId,this.scope)},set:function(x){x=x.toString(),f=this instanceof an?x:x.substr(0,1)==="("?Ic(x.substr(1,x.length-2)):Ic(x)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof an?Ic(f.substr(1,f.length-1)):f},set:function(x){x=x.toString(),f=this instanceof an?"/"+x:x}});var m=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(m)return m},set:function(x){this.V=x}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(m)return this instanceof an?m:Lv(m,this.objId,this.scope)},set:function(x){x=x.toString(),m=this instanceof an?x:x.substr(0,1)==="("?Ic(x.substr(1,x.length-2)):Ic(x)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof an?Ic(m.substr(1,m.length-1)):m},set:function(x){x=x.toString(),m=this instanceof an?"/"+x:x}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var g,b=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return b},set:function(x){x=!!x,b=x}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(g)return g},set:function(x){g=x}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Vr(this.Ff,1)},set:function(x){x?this.Ff=Wr(this.Ff,1):this.Ff=qr(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Vr(this.Ff,2)},set:function(x){x?this.Ff=Wr(this.Ff,2):this.Ff=qr(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Vr(this.Ff,3)},set:function(x){x?this.Ff=Wr(this.Ff,3):this.Ff=qr(this.Ff,3)}});var j=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(j!==null)return j},set:function(x){if([0,1,2].indexOf(x)===-1)throw new Error('Invalid value "'+x+'" for attribute Q supplied.');j=x}}),Object.defineProperty(this,"textAlign",{get:function(){var x;switch(j){case 0:default:x="left";break;case 1:x="center";break;case 2:x="right"}return x},configurable:!0,enumerable:!0,set:function(x){switch(x){case"right":case 2:j=2;break;case"center":case 1:j=1;break;case"left":case 0:default:j=0}}})};bs(Ma,oi);var Al=function(){Ma.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var e=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return e},set:function(n){e=n}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return e},set:function(n){e=n}});var t=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return hE(t,this.objId,this.scope)},set:function(n){var s,a;a=[],typeof(s=n)=="string"&&(a=function(i,o,l){l||(l=1);for(var c,d=[];c=o.exec(i);)d.push(c[l]);return d}(s,/\((.*?)\)/g)),t=a}}),this.getOptions=function(){return t},this.setOptions=function(n){t=n,this.sort&&t.sort()},this.addOption=function(n){n=(n=n||"").toString(),t.push(n),this.sort&&t.sort()},this.removeOption=function(n,s){for(s=s||!1,n=(n=n||"").toString();t.indexOf(n)!==-1&&(t.splice(t.indexOf(n),1),s!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Vr(this.Ff,18)},set:function(n){n?this.Ff=Wr(this.Ff,18):this.Ff=qr(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Vr(this.Ff,19)},set:function(n){this.combo===!0&&(n?this.Ff=Wr(this.Ff,19):this.Ff=qr(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Vr(this.Ff,20)},set:function(n){n?(this.Ff=Wr(this.Ff,20),t.sort()):this.Ff=qr(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Vr(this.Ff,22)},set:function(n){n?this.Ff=Wr(this.Ff,22):this.Ff=qr(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Vr(this.Ff,23)},set:function(n){n?this.Ff=Wr(this.Ff,23):this.Ff=qr(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Vr(this.Ff,27)},set:function(n){n?this.Ff=Wr(this.Ff,27):this.Ff=qr(this.Ff,27)}}),this.hasAppearanceStream=!1};bs(Al,Ma);var El=function(){Al.call(this),this.fontName="helvetica",this.combo=!1};bs(El,Al);var Il=function(){El.call(this),this.combo=!0};bs(Il,El);var Vu=function(){Il.call(this),this.edit=!0};bs(Vu,Il);var an=function(){Ma.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Vr(this.Ff,15)},set:function(n){n?this.Ff=Wr(this.Ff,15):this.Ff=qr(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Vr(this.Ff,16)},set:function(n){n?this.Ff=Wr(this.Ff,16):this.Ff=qr(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Vr(this.Ff,17)},set:function(n){n?this.Ff=Wr(this.Ff,17):this.Ff=qr(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Vr(this.Ff,26)},set:function(n){n?this.Ff=Wr(this.Ff,26):this.Ff=qr(this.Ff,26)}});var e,t={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var n=function(i){return i};if(this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),Object.keys(t).length!==0){var s,a=[];for(s in a.push("<<"),t)a.push("/"+s+" ("+Gl(n(t[s]))+")");return a.push(">>"),a.join(`
`)}},set:function(n){Yt(n)==="object"&&(t=n)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return t.CA||""},set:function(n){typeof n=="string"&&(t.CA=n)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(n){e=n}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(n){e="/"+n}})};bs(an,Ma);var Wu=function(){an.call(this),this.pushButton=!0};bs(Wu,an);var Pl=function(){an.call(this),this.radio=!0,this.pushButton=!1;var e=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t!==void 0?t:[]}})};bs(Pl,an);var Rh=function(){var e,t;Ma.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return e},set:function(a){e=a}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return t},set:function(a){t=a}});var n,s={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var a=function(l){return l};this.scope&&(a=this.scope.internal.getEncryptor(this.objId));var i,o=[];for(i in o.push("<<"),s)o.push("/"+i+" ("+Gl(a(s[i]))+")");return o.push(">>"),o.join(`
`)},set:function(a){Yt(a)==="object"&&(s=a)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return s.CA||""},set:function(a){typeof a=="string"&&(s.CA=a)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(a){n=a}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(a){n="/"+a}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=ft.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};bs(Rh,Ma),Pl.prototype.setAppearance=function(e){if(!("createAppearanceStream"in e)||!("getCA"in e))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var t in this.Kids)if(this.Kids.hasOwnProperty(t)){var n=this.Kids[t];n.appearanceStreamContent=e.createAppearanceStream(n.optionName),n.caption=e.getCA()}},Pl.prototype.createOption=function(e){var t=new Rh;return t.Parent=this,t.optionName=e,this.Kids.push(t),O$.call(this.scope,t),t};var qu=function(){an.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=ft.CheckBox.createAppearanceStream()};bs(qu,an);var Ro=function(){Ma.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Vr(this.Ff,13)},set:function(t){t?this.Ff=Wr(this.Ff,13):this.Ff=qr(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Vr(this.Ff,21)},set:function(t){t?this.Ff=Wr(this.Ff,21):this.Ff=qr(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Vr(this.Ff,23)},set:function(t){t?this.Ff=Wr(this.Ff,23):this.Ff=qr(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Vr(this.Ff,24)},set:function(t){t?this.Ff=Wr(this.Ff,24):this.Ff=qr(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Vr(this.Ff,25)},set:function(t){t?this.Ff=Wr(this.Ff,25):this.Ff=qr(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Vr(this.Ff,26)},set:function(t){t?this.Ff=Wr(this.Ff,26):this.Ff=qr(this.Ff,26)}});var e=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return e},set:function(t){Number.isInteger(t)&&(e=t)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};bs(Ro,Ma);var Hu=function(){Ro.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Vr(this.Ff,14)},set:function(e){e?this.Ff=Wr(this.Ff,14):this.Ff=qr(this.Ff,14)}}),this.password=!0};bs(Hu,Ro);var ft={CheckBox:{createAppearanceStream:function(){return{N:{On:ft.CheckBox.YesNormal},D:{On:ft.CheckBox.YesPushDown,Off:ft.CheckBox.OffPushDown}}},YesPushDown:function(e){var t=Xa(e);t.scope=e.scope;var n=[],s=e.scope.internal.getFont(e.fontName,e.fontStyle).id,a=e.scope.__private__.encodeColorString(e.color),i=x1(e,e.caption);return n.push("0.749023 g"),n.push("0 0 "+Rt(ft.internal.getWidth(e))+" "+Rt(ft.internal.getHeight(e))+" re"),n.push("f"),n.push("BMC"),n.push("q"),n.push("0 0 1 rg"),n.push("/"+s+" "+Rt(i.fontSize)+" Tf "+a),n.push("BT"),n.push(i.text),n.push("ET"),n.push("Q"),n.push("EMC"),t.stream=n.join(`
`),t},YesNormal:function(e){var t=Xa(e);t.scope=e.scope;var n=e.scope.internal.getFont(e.fontName,e.fontStyle).id,s=e.scope.__private__.encodeColorString(e.color),a=[],i=ft.internal.getHeight(e),o=ft.internal.getWidth(e),l=x1(e,e.caption);return a.push("1 g"),a.push("0 0 "+Rt(o)+" "+Rt(i)+" re"),a.push("f"),a.push("q"),a.push("0 0 1 rg"),a.push("0 0 "+Rt(o-1)+" "+Rt(i-1)+" re"),a.push("W"),a.push("n"),a.push("0 g"),a.push("BT"),a.push("/"+n+" "+Rt(l.fontSize)+" Tf "+s),a.push(l.text),a.push("ET"),a.push("Q"),t.stream=a.join(`
`),t},OffPushDown:function(e){var t=Xa(e);t.scope=e.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+Rt(ft.internal.getWidth(e))+" "+Rt(ft.internal.getHeight(e))+" re"),n.push("f"),t.stream=n.join(`
`),t}},RadioButton:{Circle:{createAppearanceStream:function(e){var t={D:{Off:ft.RadioButton.Circle.OffPushDown},N:{}};return t.N[e]=ft.RadioButton.Circle.YesNormal,t.D[e]=ft.RadioButton.Circle.YesPushDown,t},getCA:function(){return"l"},YesNormal:function(e){var t=Xa(e);t.scope=e.scope;var n=[],s=ft.internal.getWidth(e)<=ft.internal.getHeight(e)?ft.internal.getWidth(e)/4:ft.internal.getHeight(e)/4;s=Number((.9*s).toFixed(5));var a=ft.internal.Bezier_C,i=Number((s*a).toFixed(5));return n.push("q"),n.push("1 0 0 1 "+lo(ft.internal.getWidth(e)/2)+" "+lo(ft.internal.getHeight(e)/2)+" cm"),n.push(s+" 0 m"),n.push(s+" "+i+" "+i+" "+s+" 0 "+s+" c"),n.push("-"+i+" "+s+" -"+s+" "+i+" -"+s+" 0 c"),n.push("-"+s+" -"+i+" -"+i+" -"+s+" 0 -"+s+" c"),n.push(i+" -"+s+" "+s+" -"+i+" "+s+" 0 c"),n.push("f"),n.push("Q"),t.stream=n.join(`
`),t},YesPushDown:function(e){var t=Xa(e);t.scope=e.scope;var n=[],s=ft.internal.getWidth(e)<=ft.internal.getHeight(e)?ft.internal.getWidth(e)/4:ft.internal.getHeight(e)/4;s=Number((.9*s).toFixed(5));var a=Number((2*s).toFixed(5)),i=Number((a*ft.internal.Bezier_C).toFixed(5)),o=Number((s*ft.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+lo(ft.internal.getWidth(e)/2)+" "+lo(ft.internal.getHeight(e)/2)+" cm"),n.push(a+" 0 m"),n.push(a+" "+i+" "+i+" "+a+" 0 "+a+" c"),n.push("-"+i+" "+a+" -"+a+" "+i+" -"+a+" 0 c"),n.push("-"+a+" -"+i+" -"+i+" -"+a+" 0 -"+a+" c"),n.push(i+" -"+a+" "+a+" -"+i+" "+a+" 0 c"),n.push("f"),n.push("Q"),n.push("0 g"),n.push("q"),n.push("1 0 0 1 "+lo(ft.internal.getWidth(e)/2)+" "+lo(ft.internal.getHeight(e)/2)+" cm"),n.push(s+" 0 m"),n.push(s+" "+o+" "+o+" "+s+" 0 "+s+" c"),n.push("-"+o+" "+s+" -"+s+" "+o+" -"+s+" 0 c"),n.push("-"+s+" -"+o+" -"+o+" -"+s+" 0 -"+s+" c"),n.push(o+" -"+s+" "+s+" -"+o+" "+s+" 0 c"),n.push("f"),n.push("Q"),t.stream=n.join(`
`),t},OffPushDown:function(e){var t=Xa(e);t.scope=e.scope;var n=[],s=ft.internal.getWidth(e)<=ft.internal.getHeight(e)?ft.internal.getWidth(e)/4:ft.internal.getHeight(e)/4;s=Number((.9*s).toFixed(5));var a=Number((2*s).toFixed(5)),i=Number((a*ft.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+lo(ft.internal.getWidth(e)/2)+" "+lo(ft.internal.getHeight(e)/2)+" cm"),n.push(a+" 0 m"),n.push(a+" "+i+" "+i+" "+a+" 0 "+a+" c"),n.push("-"+i+" "+a+" -"+a+" "+i+" -"+a+" 0 c"),n.push("-"+a+" -"+i+" -"+i+" -"+a+" 0 -"+a+" c"),n.push(i+" -"+a+" "+a+" -"+i+" "+a+" 0 c"),n.push("f"),n.push("Q"),t.stream=n.join(`
`),t}},Cross:{createAppearanceStream:function(e){var t={D:{Off:ft.RadioButton.Cross.OffPushDown},N:{}};return t.N[e]=ft.RadioButton.Cross.YesNormal,t.D[e]=ft.RadioButton.Cross.YesPushDown,t},getCA:function(){return"8"},YesNormal:function(e){var t=Xa(e);t.scope=e.scope;var n=[],s=ft.internal.calculateCross(e);return n.push("q"),n.push("1 1 "+Rt(ft.internal.getWidth(e)-2)+" "+Rt(ft.internal.getHeight(e)-2)+" re"),n.push("W"),n.push("n"),n.push(Rt(s.x1.x)+" "+Rt(s.x1.y)+" m"),n.push(Rt(s.x2.x)+" "+Rt(s.x2.y)+" l"),n.push(Rt(s.x4.x)+" "+Rt(s.x4.y)+" m"),n.push(Rt(s.x3.x)+" "+Rt(s.x3.y)+" l"),n.push("s"),n.push("Q"),t.stream=n.join(`
`),t},YesPushDown:function(e){var t=Xa(e);t.scope=e.scope;var n=ft.internal.calculateCross(e),s=[];return s.push("0.749023 g"),s.push("0 0 "+Rt(ft.internal.getWidth(e))+" "+Rt(ft.internal.getHeight(e))+" re"),s.push("f"),s.push("q"),s.push("1 1 "+Rt(ft.internal.getWidth(e)-2)+" "+Rt(ft.internal.getHeight(e)-2)+" re"),s.push("W"),s.push("n"),s.push(Rt(n.x1.x)+" "+Rt(n.x1.y)+" m"),s.push(Rt(n.x2.x)+" "+Rt(n.x2.y)+" l"),s.push(Rt(n.x4.x)+" "+Rt(n.x4.y)+" m"),s.push(Rt(n.x3.x)+" "+Rt(n.x3.y)+" l"),s.push("s"),s.push("Q"),t.stream=s.join(`
`),t},OffPushDown:function(e){var t=Xa(e);t.scope=e.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+Rt(ft.internal.getWidth(e))+" "+Rt(ft.internal.getHeight(e))+" re"),n.push("f"),t.stream=n.join(`
`),t}}},createDefaultAppearanceStream:function(e){var t=e.scope.internal.getFont(e.fontName,e.fontStyle).id,n=e.scope.__private__.encodeColorString(e.color);return"/"+t+" "+e.fontSize+" Tf "+n}};ft.internal={Bezier_C:.551915024494,calculateCross:function(e){var t=ft.internal.getWidth(e),n=ft.internal.getHeight(e),s=Math.min(t,n);return{x1:{x:(t-s)/2,y:(n-s)/2+s},x2:{x:(t-s)/2+s,y:(n-s)/2},x3:{x:(t-s)/2,y:(n-s)/2},x4:{x:(t-s)/2+s,y:(n-s)/2+s}}}},ft.internal.getWidth=function(e){var t=0;return Yt(e)==="object"&&(t=g5(e.Rect[2])),t},ft.internal.getHeight=function(e){var t=0;return Yt(e)==="object"&&(t=g5(e.Rect[3])),t};var O$=_r.addField=function(e){if(_$(this,e),!(e instanceof Ma))throw new Error("Invalid argument passed to jsPDF.addField.");var t;return(t=e).scope.internal.acroformPlugin.printedOut&&(t.scope.internal.acroformPlugin.printedOut=!1,t.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),t.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(t),e.page=e.scope.internal.getCurrentPageInfo().pageNumber,this};_r.AcroFormChoiceField=Al,_r.AcroFormListBox=El,_r.AcroFormComboBox=Il,_r.AcroFormEditBox=Vu,_r.AcroFormButton=an,_r.AcroFormPushButton=Wu,_r.AcroFormRadioButton=Pl,_r.AcroFormCheckBox=qu,_r.AcroFormTextField=Ro,_r.AcroFormPasswordField=Hu,_r.AcroFormAppearance=ft,_r.AcroForm={ChoiceField:Al,ListBox:El,ComboBox:Il,EditBox:Vu,Button:an,PushButton:Wu,RadioButton:Pl,CheckBox:qu,TextField:Ro,PasswordField:Hu,Appearance:ft},wt.AcroForm={ChoiceField:Al,ListBox:El,ComboBox:Il,EditBox:Vu,Button:an,PushButton:Wu,RadioButton:Pl,CheckBox:qu,TextField:Ro,PasswordField:Hu,Appearance:ft};var M$=wt.AcroForm;function vE(e){return e.reduce(function(t,n,s){return t[n]=s,t},{})}(function(e){e.__addimage__={};var t="UNKNOWN",n={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},s=e.__addimage__.getImageFileTypeByImageData=function(C,w){var T,L,W,V,_,B=t;if((w=w||t)==="RGBA"||C.data!==void 0&&C.data instanceof Uint8ClampedArray&&"height"in C&&"width"in C)return"RGBA";if(O(C))for(_ in n)for(W=n[_],T=0;T<W.length;T+=1){for(V=!0,L=0;L<W[T].length;L+=1)if(W[T][L]!==void 0&&W[T][L]!==C[L]){V=!1;break}if(V===!0){B=_;break}}else for(_ in n)for(W=n[_],T=0;T<W.length;T+=1){for(V=!0,L=0;L<W[T].length;L+=1)if(W[T][L]!==void 0&&W[T][L]!==C.charCodeAt(L)){V=!1;break}if(V===!0){B=_;break}}return B===t&&w!==t&&(B=w),B},a=function C(w){for(var T=this.internal.write,L=this.internal.putStream,W=(0,this.internal.getFilters)();W.indexOf("FlateEncode")!==-1;)W.splice(W.indexOf("FlateEncode"),1);w.objectId=this.internal.newObject();var V=[];if(V.push({key:"Type",value:"/XObject"}),V.push({key:"Subtype",value:"/Image"}),V.push({key:"Width",value:w.width}),V.push({key:"Height",value:w.height}),w.colorSpace===j.INDEXED?V.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(w.palette.length/3-1)+" "+("sMask"in w&&w.sMask!==void 0?w.objectId+2:w.objectId+1)+" 0 R]"}):(V.push({key:"ColorSpace",value:"/"+w.colorSpace}),w.colorSpace===j.DEVICE_CMYK&&V.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),V.push({key:"BitsPerComponent",value:w.bitsPerComponent}),"decodeParameters"in w&&w.decodeParameters!==void 0&&V.push({key:"DecodeParms",value:"<<"+w.decodeParameters+">>"}),"transparency"in w&&Array.isArray(w.transparency)){for(var _="",B=0,U=w.transparency.length;B<U;B++)_+=w.transparency[B]+" "+w.transparency[B]+" ";V.push({key:"Mask",value:"["+_+"]"})}w.sMask!==void 0&&V.push({key:"SMask",value:w.objectId+1+" 0 R"});var q=w.filter!==void 0?["/"+w.filter]:void 0;if(L({data:w.data,additionalKeyValues:V,alreadyAppliedFilters:q,objectId:w.objectId}),T("endobj"),"sMask"in w&&w.sMask!==void 0){var H="/Predictor "+w.predictor+" /Colors 1 /BitsPerComponent "+w.bitsPerComponent+" /Columns "+w.width,R={width:w.width,height:w.height,colorSpace:"DeviceGray",bitsPerComponent:w.bitsPerComponent,decodeParameters:H,data:w.sMask};"filter"in w&&(R.filter=w.filter),C.call(this,R)}if(w.colorSpace===j.INDEXED){var $=this.internal.newObject();L({data:S(new Uint8Array(w.palette)),objectId:$}),T("endobj")}},i=function(){var C=this.internal.collections.addImage_images;for(var w in C)a.call(this,C[w])},o=function(){var C,w=this.internal.collections.addImage_images,T=this.internal.write;for(var L in w)T("/I"+(C=w[L]).index,C.objectId,"0","R")},l=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",i),this.internal.events.subscribe("putXobjectDict",o))},c=function(){var C=this.internal.collections.addImage_images;return l.call(this),C},d=function(){return Object.keys(this.internal.collections.addImage_images).length},p=function(C){return typeof e["process"+C.toUpperCase()]=="function"},u=function(C){return Yt(C)==="object"&&C.nodeType===1},f=function(C,w){if(C.nodeName==="IMG"&&C.hasAttribute("src")){var T=""+C.getAttribute("src");if(T.indexOf("data:image/")===0)return Uu(unescape(T).split("base64,").pop());var L=e.loadFile(T,!0);if(L!==void 0)return L}if(C.nodeName==="CANVAS"){if(C.width===0||C.height===0)throw new Error("Given canvas must have data. Canvas width: "+C.width+", height: "+C.height);var W;switch(w){case"PNG":W="image/png";break;case"WEBP":W="image/webp";break;case"JPEG":case"JPG":default:W="image/jpeg"}return Uu(C.toDataURL(W,1).split("base64,").pop())}},m=function(C){var w=this.internal.collections.addImage_images;if(w){for(var T in w)if(C===w[T].alias)return w[T]}},g=function(C,w,T){return C||w||(C=-96,w=-96),C<0&&(C=-1*T.width*72/C/this.internal.scaleFactor),w<0&&(w=-1*T.height*72/w/this.internal.scaleFactor),C===0&&(C=w*T.width/T.height),w===0&&(w=C*T.height/T.width),[C,w]},b=function(C,w,T,L,W,V){var _=g.call(this,T,L,W),B=this.internal.getCoordinateString,U=this.internal.getVerticalCoordinateString,q=c.call(this);if(T=_[0],L=_[1],q[W.index]=W,V){V*=Math.PI/180;var H=Math.cos(V),R=Math.sin(V),$=function(Z){return Z.toFixed(4)},G=[$(H),$(R),$(-1*R),$(H),0,0,"cm"]}this.internal.write("q"),V?(this.internal.write([1,"0","0",1,B(C),U(w+L),"cm"].join(" ")),this.internal.write(G.join(" ")),this.internal.write([B(T),"0","0",B(L),"0","0","cm"].join(" "))):this.internal.write([B(T),"0","0",B(L),B(C),U(w+L),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+W.index+" Do"),this.internal.write("Q")},j=e.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};e.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var x=e.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},v=e.__addimage__.sHashCode=function(C){var w,T,L=0;if(typeof C=="string")for(T=C.length,w=0;w<T;w++)L=(L<<5)-L+C.charCodeAt(w),L|=0;else if(O(C))for(T=C.byteLength/2,w=0;w<T;w++)L=(L<<5)-L+C[w],L|=0;return L},y=e.__addimage__.validateStringAsBase64=function(C){(C=C||"").toString().trim();var w=!0;return C.length===0&&(w=!1),C.length%4!=0&&(w=!1),/^[A-Za-z0-9+/]+$/.test(C.substr(0,C.length-2))===!1&&(w=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(C.substr(-2))===!1&&(w=!1),w},P=e.__addimage__.extractImageFromDataUrl=function(C){var w=(C=C||"").split("base64,"),T=null;if(w.length===2){var L=/^data:(\w*\/\w*);*(charset=(?!charset=)[\w=-]*)*;*$/.exec(w[0]);Array.isArray(L)&&(T={mimeType:L[1],charset:L[2],data:w[1]})}return T},M=e.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};e.__addimage__.isArrayBuffer=function(C){return M()&&C instanceof ArrayBuffer};var O=e.__addimage__.isArrayBufferView=function(C){return M()&&typeof Uint32Array<"u"&&(C instanceof Int8Array||C instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&C instanceof Uint8ClampedArray||C instanceof Int16Array||C instanceof Uint16Array||C instanceof Int32Array||C instanceof Uint32Array||C instanceof Float32Array||C instanceof Float64Array)},E=e.__addimage__.binaryStringToUint8Array=function(C){for(var w=C.length,T=new Uint8Array(w),L=0;L<w;L++)T[L]=C.charCodeAt(L);return T},S=e.__addimage__.arrayBufferToBinaryString=function(C){for(var w="",T=O(C)?C:new Uint8Array(C),L=0;L<T.length;L+=8192)w+=String.fromCharCode.apply(null,T.subarray(L,L+8192));return w};e.addImage=function(){var C,w,T,L,W,V,_,B,U;if(typeof arguments[1]=="number"?(w=t,T=arguments[1],L=arguments[2],W=arguments[3],V=arguments[4],_=arguments[5],B=arguments[6],U=arguments[7]):(w=arguments[1],T=arguments[2],L=arguments[3],W=arguments[4],V=arguments[5],_=arguments[6],B=arguments[7],U=arguments[8]),Yt(C=arguments[0])==="object"&&!u(C)&&"imageData"in C){var q=C;C=q.imageData,w=q.format||w||t,T=q.x||T||0,L=q.y||L||0,W=q.w||q.width||W,V=q.h||q.height||V,_=q.alias||_,B=q.compression||B,U=q.rotation||q.angle||U}var H=this.internal.getFilters();if(B===void 0&&H.indexOf("FlateEncode")!==-1&&(B="SLOW"),isNaN(T)||isNaN(L))throw new Error("Invalid coordinates passed to jsPDF.addImage");l.call(this);var R=k.call(this,C,w,_,B);return b.call(this,T,L,W,V,R,U),this};var k=function(C,w,T,L){var W,V,_;if(typeof C=="string"&&s(C)===t){C=unescape(C);var B=D(C,!1);(B!==""||(B=e.loadFile(C,!0))!==void 0)&&(C=B)}if(u(C)&&(C=f(C,w)),w=s(C,w),!p(w))throw new Error("addImage does not support files of type '"+w+"', please ensure that a plugin for '"+w+"' support is added.");if(((_=T)==null||_.length===0)&&(T=function(U){return typeof U=="string"||O(U)?v(U):O(U.data)?v(U.data):null}(C)),(W=m.call(this,T))||(M()&&(C instanceof Uint8Array||w==="RGBA"||(V=C,C=E(C))),W=this["process"+w.toUpperCase()](C,d.call(this),T,function(U){return U&&typeof U=="string"&&(U=U.toUpperCase()),U in e.image_compression?U:x.NONE}(L),V)),!W)throw new Error("An unknown error occurred whilst processing the image.");return W},D=e.__addimage__.convertBase64ToBinaryString=function(C,w){var T;w=typeof w!="boolean"||w;var L,W="";if(typeof C=="string"){L=(T=P(C))!==null?T.data:C;try{W=Uu(L)}catch(V){if(w)throw y(L)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+V.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return W};e.getImageProperties=function(C){var w,T,L="";if(u(C)&&(C=f(C)),typeof C=="string"&&s(C)===t&&((L=D(C,!1))===""&&(L=e.loadFile(C)||""),C=L),T=s(C),!p(T))throw new Error("addImage does not support files of type '"+T+"', please ensure that a plugin for '"+T+"' support is added.");if(!M()||C instanceof Uint8Array||(C=E(C)),!(w=this["process"+T.toUpperCase()](C)))throw new Error("An unknown error occurred whilst processing the image");return w.fileType=T,w}})(wt.API),function(e){var t=function(n){if(n!==void 0&&n!="")return!0};wt.API.events.push(["addPage",function(n){this.internal.getPageInfo(n.pageNumber).pageContext.annotations=[]}]),e.events.push(["putPage",function(n){for(var s,a,i,o=this.internal.getCoordinateString,l=this.internal.getVerticalCoordinateString,c=this.internal.getPageInfoByObjId(n.objId),d=n.pageContext.annotations,p=!1,u=0;u<d.length&&!p;u++)switch((s=d[u]).type){case"link":(t(s.options.url)||t(s.options.pageNumber))&&(p=!0);break;case"reference":case"text":case"freetext":p=!0}if(p!=0){this.internal.write("/Annots [");for(var f=0;f<d.length;f++){s=d[f];var m=this.internal.pdfEscape,g=this.internal.getEncryptor(n.objId);switch(s.type){case"reference":this.internal.write(" "+s.object.objId+" 0 R ");break;case"text":var b=this.internal.newAdditionalObject(),j=this.internal.newAdditionalObject(),x=this.internal.getEncryptor(b.objId),v=s.title||"Note";i="<</Type /Annot /Subtype /Text "+(a="/Rect ["+o(s.bounds.x)+" "+l(s.bounds.y+s.bounds.h)+" "+o(s.bounds.x+s.bounds.w)+" "+l(s.bounds.y)+"] ")+"/Contents ("+m(x(s.contents))+")",i+=" /Popup "+j.objId+" 0 R",i+=" /P "+c.objId+" 0 R",i+=" /T ("+m(x(v))+") >>",b.content=i;var y=b.objId+" 0 R";i="<</Type /Annot /Subtype /Popup "+(a="/Rect ["+o(s.bounds.x+30)+" "+l(s.bounds.y+s.bounds.h)+" "+o(s.bounds.x+s.bounds.w+30)+" "+l(s.bounds.y)+"] ")+" /Parent "+y,s.open&&(i+=" /Open true"),i+=" >>",j.content=i,this.internal.write(b.objId,"0 R",j.objId,"0 R");break;case"freetext":a="/Rect ["+o(s.bounds.x)+" "+l(s.bounds.y)+" "+o(s.bounds.x+s.bounds.w)+" "+l(s.bounds.y+s.bounds.h)+"] ";var P=s.color||"#000000";i="<</Type /Annot /Subtype /FreeText "+a+"/Contents ("+m(g(s.contents))+")",i+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+P+")",i+=" /Border [0 0 0]",i+=" >>",this.internal.write(i);break;case"link":if(s.options.name){var M=this.annotations._nameMap[s.options.name];s.options.pageNumber=M.page,s.options.top=M.y}else s.options.top||(s.options.top=0);if(a="/Rect ["+s.finalBounds.x+" "+s.finalBounds.y+" "+s.finalBounds.w+" "+s.finalBounds.h+"] ",i="",s.options.url)i="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /A <</S /URI /URI ("+m(g(s.options.url))+") >>";else if(s.options.pageNumber)switch(i="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(s.options.pageNumber).objId+" 0 R",s.options.magFactor=s.options.magFactor||"XYZ",s.options.magFactor){case"Fit":i+=" /Fit]";break;case"FitH":i+=" /FitH "+s.options.top+"]";break;case"FitV":s.options.left=s.options.left||0,i+=" /FitV "+s.options.left+"]";break;case"XYZ":default:var O=l(s.options.top);s.options.left=s.options.left||0,s.options.zoom===void 0&&(s.options.zoom=0),i+=" /XYZ "+s.options.left+" "+O+" "+s.options.zoom+"]"}i!=""&&(i+=" >>",this.internal.write(i))}}this.internal.write("]")}}]),e.createAnnotation=function(n){var s=this.internal.getCurrentPageInfo();switch(n.type){case"link":this.link(n.bounds.x,n.bounds.y,n.bounds.w,n.bounds.h,n);break;case"text":case"freetext":s.pageContext.annotations.push(n)}},e.link=function(n,s,a,i,o){var l=this.internal.getCurrentPageInfo(),c=this.internal.getCoordinateString,d=this.internal.getVerticalCoordinateString;l.pageContext.annotations.push({finalBounds:{x:c(n),y:d(s),w:c(n+a),h:d(s+i)},options:o,type:"link"})},e.textWithLink=function(n,s,a,i){var o,l,c=this.getTextWidth(n),d=this.internal.getLineHeight()/this.internal.scaleFactor;if(i.maxWidth!==void 0){l=i.maxWidth;var p=this.splitTextToSize(n,l).length;o=Math.ceil(d*p)}else l=c,o=d;return this.text(n,s,a,i),a+=.2*d,i.align==="center"&&(s-=c/2),i.align==="right"&&(s-=c),this.link(s,a-d,l,o,i),c},e.getTextWidth=function(n){var s=this.internal.getFontSize();return this.getStringUnitWidth(n)*s/this.internal.scaleFactor}}(wt.API),function(e){var t={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},n={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},s={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},a=[1570,1571,1573,1575];e.__arabicParser__={};var i=e.__arabicParser__.isInArabicSubstitutionA=function(b){return t[b.charCodeAt(0)]!==void 0},o=e.__arabicParser__.isArabicLetter=function(b){return typeof b=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(b)},l=e.__arabicParser__.isArabicEndLetter=function(b){return o(b)&&i(b)&&t[b.charCodeAt(0)].length<=2},c=e.__arabicParser__.isArabicAlfLetter=function(b){return o(b)&&a.indexOf(b.charCodeAt(0))>=0};e.__arabicParser__.arabicLetterHasIsolatedForm=function(b){return o(b)&&i(b)&&t[b.charCodeAt(0)].length>=1};var d=e.__arabicParser__.arabicLetterHasFinalForm=function(b){return o(b)&&i(b)&&t[b.charCodeAt(0)].length>=2};e.__arabicParser__.arabicLetterHasInitialForm=function(b){return o(b)&&i(b)&&t[b.charCodeAt(0)].length>=3};var p=e.__arabicParser__.arabicLetterHasMedialForm=function(b){return o(b)&&i(b)&&t[b.charCodeAt(0)].length==4},u=e.__arabicParser__.resolveLigatures=function(b){var j=0,x=n,v="",y=0;for(j=0;j<b.length;j+=1)x[b.charCodeAt(j)]!==void 0?(y++,typeof(x=x[b.charCodeAt(j)])=="number"&&(v+=String.fromCharCode(x),x=n,y=0),j===b.length-1&&(x=n,v+=b.charAt(j-(y-1)),j-=y-1,y=0)):(x=n,v+=b.charAt(j-y),j-=y,y=0);return v};e.__arabicParser__.isArabicDiacritic=function(b){return b!==void 0&&s[b.charCodeAt(0)]!==void 0};var f=e.__arabicParser__.getCorrectForm=function(b,j,x){return o(b)?i(b)===!1?-1:!d(b)||!o(j)&&!o(x)||!o(x)&&l(j)||l(b)&&!o(j)||l(b)&&c(j)||l(b)&&l(j)?0:p(b)&&o(j)&&!l(j)&&o(x)&&d(x)?3:l(b)||!o(x)?1:2:-1},m=function(b){var j=0,x=0,v=0,y="",P="",M="",O=(b=b||"").split("\\s+"),E=[];for(j=0;j<O.length;j+=1){for(E.push(""),x=0;x<O[j].length;x+=1)y=O[j][x],P=O[j][x-1],M=O[j][x+1],o(y)?(v=f(y,P,M),E[j]+=v!==-1?String.fromCharCode(t[y.charCodeAt(0)][v]):y):E[j]+=y;E[j]=u(E[j])}return E.join(" ")},g=e.__arabicParser__.processArabic=e.processArabic=function(){var b,j=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,x=[];if(Array.isArray(j)){var v=0;for(x=[],v=0;v<j.length;v+=1)Array.isArray(j[v])?x.push([m(j[v][0]),j[v][1],j[v][2]]):x.push([m(j[v])]);b=x}else b=m(j);return typeof arguments[0]=="string"?b:(arguments[0].text=b,arguments[0])};e.events.push(["preProcessText",g])}(wt.API),wt.API.autoPrint=function(e){var t;switch((e=e||{}).variant=e.variant||"non-conform",e.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+t+" 0 R")})}return this},function(e){var t=function(){var n=void 0;Object.defineProperty(this,"pdf",{get:function(){return n},set:function(l){n=l}});var s=150;Object.defineProperty(this,"width",{get:function(){return s},set:function(l){s=isNaN(l)||Number.isInteger(l)===!1||l<0?150:l,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=s+1)}});var a=300;Object.defineProperty(this,"height",{get:function(){return a},set:function(l){a=isNaN(l)||Number.isInteger(l)===!1||l<0?300:l,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=a+1)}});var i=[];Object.defineProperty(this,"childNodes",{get:function(){return i},set:function(l){i=l}});var o={};Object.defineProperty(this,"style",{get:function(){return o},set:function(l){o=l}}),Object.defineProperty(this,"parentNode",{})};t.prototype.getContext=function(n,s){var a;if((n=n||"2d")!=="2d")return null;for(a in s)this.pdf.context2d.hasOwnProperty(a)&&(this.pdf.context2d[a]=s[a]);return this.pdf.context2d._canvas=this,this.pdf.context2d},t.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},e.events.push(["initialized",function(){this.canvas=new t,this.canvas.pdf=this}])}(wt.API),function(e){var t={left:0,top:0,bottom:0,right:0},n=!1,s=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},t),this.internal.__cell__.margins.width=this.getPageWidth(),a.call(this))},a=function(){this.internal.__cell__.lastCell=new i,this.internal.__cell__.pages=1},i=function(){var c=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return c},set:function(b){c=b}});var d=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return d},set:function(b){d=b}});var p=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return p},set:function(b){p=b}});var u=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return u},set:function(b){u=b}});var f=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return f},set:function(b){f=b}});var m=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return m},set:function(b){m=b}});var g=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return g},set:function(b){g=b}}),this};i.prototype.clone=function(){return new i(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},i.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},e.setHeaderFunction=function(c){return s.call(this),this.internal.__cell__.headerFunction=typeof c=="function"?c:void 0,this},e.getTextDimensions=function(c,d){s.call(this);var p=(d=d||{}).fontSize||this.getFontSize(),u=d.font||this.getFont(),f=d.scaleFactor||this.internal.scaleFactor,m=0,g=0,b=0,j=this;if(!Array.isArray(c)&&typeof c!="string"){if(typeof c!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");c=String(c)}var x=d.maxWidth;x>0?typeof c=="string"?c=this.splitTextToSize(c,x):Object.prototype.toString.call(c)==="[object Array]"&&(c=c.reduce(function(y,P){return y.concat(j.splitTextToSize(P,x))},[])):c=Array.isArray(c)?c:[c];for(var v=0;v<c.length;v++)m<(b=this.getStringUnitWidth(c[v],{font:u})*p)&&(m=b);return m!==0&&(g=c.length),{w:m/=f,h:Math.max((g*p*this.getLineHeightFactor()-p*(this.getLineHeightFactor()-1))/f,0)}},e.cellAddPage=function(){s.call(this),this.addPage();var c=this.internal.__cell__.margins||t;return this.internal.__cell__.lastCell=new i(c.left,c.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var o=e.cell=function(){var c;c=arguments[0]instanceof i?arguments[0]:new i(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),s.call(this);var d=this.internal.__cell__.lastCell,p=this.internal.__cell__.padding,u=this.internal.__cell__.margins||t,f=this.internal.__cell__.tableHeaderRow,m=this.internal.__cell__.printHeaders;return d.lineNumber!==void 0&&(d.lineNumber===c.lineNumber?(c.x=(d.x||0)+(d.width||0),c.y=d.y||0):d.y+d.height+c.height+u.bottom>this.getPageHeight()?(this.cellAddPage(),c.y=u.top,m&&f&&(this.printHeaderRow(c.lineNumber,!0),c.y+=f[0].height)):c.y=d.y+d.height||c.y),c.text[0]!==void 0&&(this.rect(c.x,c.y,c.width,c.height,n===!0?"FD":void 0),c.align==="right"?this.text(c.text,c.x+c.width-p,c.y+p,{align:"right",baseline:"top"}):c.align==="center"?this.text(c.text,c.x+c.width/2,c.y+p,{align:"center",baseline:"top",maxWidth:c.width-p-p}):this.text(c.text,c.x+p,c.y+p,{align:"left",baseline:"top",maxWidth:c.width-p-p})),this.internal.__cell__.lastCell=c,this};e.table=function(c,d,p,u,f){if(s.call(this),!p)throw new Error("No data for PDF table.");var m,g,b,j,x=[],v=[],y=[],P={},M={},O=[],E=[],S=(f=f||{}).autoSize||!1,k=f.printHeaders!==!1,D=f.css&&f.css["font-size"]!==void 0?16*f.css["font-size"]:f.fontSize||12,C=f.margins||Object.assign({width:this.getPageWidth()},t),w=typeof f.padding=="number"?f.padding:3,T=f.headerBackgroundColor||"#c8c8c8",L=f.headerTextColor||"#000";if(a.call(this),this.internal.__cell__.printHeaders=k,this.internal.__cell__.margins=C,this.internal.__cell__.table_font_size=D,this.internal.__cell__.padding=w,this.internal.__cell__.headerBackgroundColor=T,this.internal.__cell__.headerTextColor=L,this.setFontSize(D),u==null)v=x=Object.keys(p[0]),y=x.map(function(){return"left"});else if(Array.isArray(u)&&Yt(u[0])==="object")for(x=u.map(function(q){return q.name}),v=u.map(function(q){return q.prompt||q.name||""}),y=u.map(function(q){return q.align||"left"}),m=0;m<u.length;m+=1)M[u[m].name]=u[m].width*(19.049976/25.4);else Array.isArray(u)&&typeof u[0]=="string"&&(v=x=u,y=x.map(function(){return"left"}));if(S||Array.isArray(u)&&typeof u[0]=="string")for(m=0;m<x.length;m+=1){for(P[j=x[m]]=p.map(function(q){return q[j]}),this.setFont(void 0,"bold"),O.push(this.getTextDimensions(v[m],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),g=P[j],this.setFont(void 0,"normal"),b=0;b<g.length;b+=1)O.push(this.getTextDimensions(g[b],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);M[j]=Math.max.apply(null,O)+w+w,O=[]}if(k){var W={};for(m=0;m<x.length;m+=1)W[x[m]]={},W[x[m]].text=v[m],W[x[m]].align=y[m];var V=l.call(this,W,M);E=x.map(function(q){return new i(c,d,M[q],V,W[q].text,void 0,W[q].align)}),this.setTableHeaderRow(E),this.printHeaderRow(1,!1)}var _=u.reduce(function(q,H){return q[H.name]=H.align,q},{});for(m=0;m<p.length;m+=1){"rowStart"in f&&f.rowStart instanceof Function&&f.rowStart({row:m,data:p[m]},this);var B=l.call(this,p[m],M);for(b=0;b<x.length;b+=1){var U=p[m][x[b]];"cellStart"in f&&f.cellStart instanceof Function&&f.cellStart({row:m,col:b,data:U},this),o.call(this,new i(c,d,M[x[b]],B,U,m+2,_[x[b]]))}}return this.internal.__cell__.table_x=c,this.internal.__cell__.table_y=d,this};var l=function(c,d){var p=this.internal.__cell__.padding,u=this.internal.__cell__.table_font_size,f=this.internal.scaleFactor;return Object.keys(c).map(function(m){var g=c[m];return this.splitTextToSize(g.hasOwnProperty("text")?g.text:g,d[m]-p-p)},this).map(function(m){return this.getLineHeightFactor()*m.length*u/f+p+p},this).reduce(function(m,g){return Math.max(m,g)},0)};e.setTableHeaderRow=function(c){s.call(this),this.internal.__cell__.tableHeaderRow=c},e.printHeaderRow=function(c,d){if(s.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var p;if(n=!0,typeof this.internal.__cell__.headerFunction=="function"){var u=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new i(u[0],u[1],u[2],u[3],void 0,-1)}this.setFont(void 0,"bold");for(var f=[],m=0;m<this.internal.__cell__.tableHeaderRow.length;m+=1){p=this.internal.__cell__.tableHeaderRow[m].clone(),d&&(p.y=this.internal.__cell__.margins.top||0,f.push(p)),p.lineNumber=c;var g=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),o.call(this,p),this.setTextColor(g)}f.length>0&&this.setTableHeaderRow(f),this.setFont(void 0,"normal"),n=!1}}(wt.API);var yE={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},bE=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],g1=vE(bE),jE=[100,200,300,400,500,600,700,800,900],B$=vE(jE);function v1(e){var t=e.family.replace(/"|'/g,"").toLowerCase(),n=function(i){return yE[i=i||"normal"]?i:"normal"}(e.style),s=function(i){if(!i)return 400;if(typeof i=="number")return i>=100&&i<=900&&i%100==0?i:400;if(/^\d00$/.test(i))return parseInt(i);switch(i){case"bold":return 700;case"normal":default:return 400}}(e.weight),a=function(i){return typeof g1[i=i||"normal"]=="number"?i:"normal"}(e.stretch);return{family:t,style:n,weight:s,stretch:a,src:e.src||[],ref:e.ref||{name:t,style:[a,n,s].join(" ")}}}function v5(e,t,n,s){var a;for(a=n;a>=0&&a<t.length;a+=s)if(e[t[a]])return e[t[a]];for(a=n;a>=0&&a<t.length;a-=s)if(e[t[a]])return e[t[a]]}var z$={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},y5={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function b5(e){return[e.stretch,e.style,e.weight,e.family].join(" ")}function $$(e,t,n){for(var s=(n=n||{}).defaultFontFamily||"times",a=Object.assign({},z$,n.genericFontFamilies||{}),i=null,o=null,l=0;l<t.length;++l)if(a[(i=v1(t[l])).family]&&(i.family=a[i.family]),e.hasOwnProperty(i.family)){o=e[i.family];break}if(!(o=o||e[s]))throw new Error("Could not find a font-family for the rule '"+b5(i)+"' and default family '"+s+"'.");if(o=function(c,d){if(d[c])return d[c];var p=g1[c],u=p<=g1.normal?-1:1,f=v5(d,bE,p,u);if(!f)throw new Error("Could not find a matching font-stretch value for "+c);return f}(i.stretch,o),o=function(c,d){if(d[c])return d[c];for(var p=yE[c],u=0;u<p.length;++u)if(d[p[u]])return d[p[u]];throw new Error("Could not find a matching font-style for "+c)}(i.style,o),!(o=function(c,d){if(d[c])return d[c];if(c===400&&d[500])return d[500];if(c===500&&d[400])return d[400];var p=B$[c],u=v5(d,jE,p,c<400?-1:1);if(!u)throw new Error("Could not find a matching font-weight for value "+c);return u}(i.weight,o)))throw new Error("Failed to resolve a font for the rule '"+b5(i)+"'.");return o}function j5(e){return e.trimLeft()}function U$(e,t){for(var n=0;n<e.length;){if(e.charAt(n)===t)return[e.substring(0,n),e.substring(n+1)];n+=1}return null}function V$(e){var t=e.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return t===null?null:[t[0],e.substring(t[0].length)]}var vf,w5,N5,Tv=["times"];(function(e){var t,n,s,a,i,o,l,c,d,p=function(R){return R=R||{},this.isStrokeTransparent=R.isStrokeTransparent||!1,this.strokeOpacity=R.strokeOpacity||1,this.strokeStyle=R.strokeStyle||"#000000",this.fillStyle=R.fillStyle||"#000000",this.isFillTransparent=R.isFillTransparent||!1,this.fillOpacity=R.fillOpacity||1,this.font=R.font||"10px sans-serif",this.textBaseline=R.textBaseline||"alphabetic",this.textAlign=R.textAlign||"left",this.lineWidth=R.lineWidth||1,this.lineJoin=R.lineJoin||"miter",this.lineCap=R.lineCap||"butt",this.path=R.path||[],this.transform=R.transform!==void 0?R.transform.clone():new c,this.globalCompositeOperation=R.globalCompositeOperation||"normal",this.globalAlpha=R.globalAlpha||1,this.clip_path=R.clip_path||[],this.currentPoint=R.currentPoint||new o,this.miterLimit=R.miterLimit||10,this.lastPoint=R.lastPoint||new o,this.lineDashOffset=R.lineDashOffset||0,this.lineDash=R.lineDash||[],this.margin=R.margin||[0,0,0,0],this.prevPageLastElemOffset=R.prevPageLastElemOffset||0,this.ignoreClearRect=typeof R.ignoreClearRect!="boolean"||R.ignoreClearRect,this};e.events.push(["initialized",function(){this.context2d=new u(this),t=this.internal.f2,n=this.internal.getCoordinateString,s=this.internal.getVerticalCoordinateString,a=this.internal.getHorizontalCoordinate,i=this.internal.getVerticalCoordinate,o=this.internal.Point,l=this.internal.Rectangle,c=this.internal.Matrix,d=new p}]);var u=function(R){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var $=R;Object.defineProperty(this,"pdf",{get:function(){return $}});var G=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return G},set:function(se){G=!!se}});var Z=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return Z},set:function(se){Z=!!se}});var te=0;Object.defineProperty(this,"posX",{get:function(){return te},set:function(se){isNaN(se)||(te=se)}});var le=0;Object.defineProperty(this,"posY",{get:function(){return le},set:function(se){isNaN(se)||(le=se)}}),Object.defineProperty(this,"margin",{get:function(){return d.margin},set:function(se){var ee;typeof se=="number"?ee=[se,se,se,se]:((ee=new Array(4))[0]=se[0],ee[1]=se.length>=2?se[1]:ee[0],ee[2]=se.length>=3?se[2]:ee[0],ee[3]=se.length>=4?se[3]:ee[1]),d.margin=ee}});var ce=!1;Object.defineProperty(this,"autoPaging",{get:function(){return ce},set:function(se){ce=se}});var de=0;Object.defineProperty(this,"lastBreak",{get:function(){return de},set:function(se){de=se}});var Ne=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Ne},set:function(se){Ne=se}}),Object.defineProperty(this,"ctx",{get:function(){return d},set:function(se){se instanceof p&&(d=se)}}),Object.defineProperty(this,"path",{get:function(){return d.path},set:function(se){d.path=se}});var ve=[];Object.defineProperty(this,"ctxStack",{get:function(){return ve},set:function(se){ve=se}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(se){var ee;ee=f(se),this.ctx.fillStyle=ee.style,this.ctx.isFillTransparent=ee.a===0,this.ctx.fillOpacity=ee.a,this.pdf.setFillColor(ee.r,ee.g,ee.b,{a:ee.a}),this.pdf.setTextColor(ee.r,ee.g,ee.b,{a:ee.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(se){var ee=f(se);this.ctx.strokeStyle=ee.style,this.ctx.isStrokeTransparent=ee.a===0,this.ctx.strokeOpacity=ee.a,ee.a===0?this.pdf.setDrawColor(255,255,255):(ee.a,this.pdf.setDrawColor(ee.r,ee.g,ee.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(se){["butt","round","square"].indexOf(se)!==-1&&(this.ctx.lineCap=se,this.pdf.setLineCap(se))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(se){isNaN(se)||(this.ctx.lineWidth=se,this.pdf.setLineWidth(se))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(se){["bevel","round","miter"].indexOf(se)!==-1&&(this.ctx.lineJoin=se,this.pdf.setLineJoin(se))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(se){isNaN(se)||(this.ctx.miterLimit=se,this.pdf.setMiterLimit(se))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(se){this.ctx.textBaseline=se}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(se){["right","end","center","left","start"].indexOf(se)!==-1&&(this.ctx.textAlign=se)}});var Ee=null;function Te(se,ee){if(Ee===null){var Ue=function(Fe){var ke=[];return Object.keys(Fe).forEach(function(Ve){Fe[Ve].forEach(function(Xe){var Ge=null;switch(Xe){case"bold":Ge={family:Ve,weight:"bold"};break;case"italic":Ge={family:Ve,style:"italic"};break;case"bolditalic":Ge={family:Ve,weight:"bold",style:"italic"};break;case"":case"normal":Ge={family:Ve}}Ge!==null&&(Ge.ref={name:Ve,style:Xe},ke.push(Ge))})}),ke}(se.getFontList());Ee=function(Fe){for(var ke={},Ve=0;Ve<Fe.length;++Ve){var Xe=v1(Fe[Ve]),Ge=Xe.family,xt=Xe.stretch,Pe=Xe.style,We=Xe.weight;ke[Ge]=ke[Ge]||{},ke[Ge][xt]=ke[Ge][xt]||{},ke[Ge][xt][Pe]=ke[Ge][xt][Pe]||{},ke[Ge][xt][Pe][We]=Xe}return ke}(Ue.concat(ee))}return Ee}var pe=null;Object.defineProperty(this,"fontFaces",{get:function(){return pe},set:function(se){Ee=null,pe=se}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(se){var ee;if(this.ctx.font=se,(ee=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(se))!==null){var Ue=ee[1],Fe=(ee[2],ee[3]),ke=ee[4],Ve=(ee[5],ee[6]),Xe=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(ke)[2];ke=Math.floor(Xe==="px"?parseFloat(ke)*this.pdf.internal.scaleFactor:Xe==="em"?parseFloat(ke)*this.pdf.getFontSize():parseFloat(ke)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(ke);var Ge=function(gt){var Pt,Ye,Kt=[],Ot=gt.trim();if(Ot==="")return Tv;if(Ot in y5)return[y5[Ot]];for(;Ot!=="";){switch(Ye=null,Pt=(Ot=j5(Ot)).charAt(0)){case'"':case"'":Ye=U$(Ot.substring(1),Pt);break;default:Ye=V$(Ot)}if(Ye===null||(Kt.push(Ye[0]),(Ot=j5(Ye[1]))!==""&&Ot.charAt(0)!==","))return Tv;Ot=Ot.replace(/^,/,"")}return Kt}(Ve);if(this.fontFaces){var xt=$$(Te(this.pdf,this.fontFaces),Ge.map(function(gt){return{family:gt,stretch:"normal",weight:Fe,style:Ue}}));this.pdf.setFont(xt.ref.name,xt.ref.style)}else{var Pe="";(Fe==="bold"||parseInt(Fe,10)>=700||Ue==="bold")&&(Pe="bold"),Ue==="italic"&&(Pe+="italic"),Pe.length===0&&(Pe="normal");for(var We="",et={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},dt=0;dt<Ge.length;dt++){if(this.pdf.internal.getFont(Ge[dt],Pe,{noFallback:!0,disableWarning:!0})!==void 0){We=Ge[dt];break}if(Pe==="bolditalic"&&this.pdf.internal.getFont(Ge[dt],"bold",{noFallback:!0,disableWarning:!0})!==void 0)We=Ge[dt],Pe="bold";else if(this.pdf.internal.getFont(Ge[dt],"normal",{noFallback:!0,disableWarning:!0})!==void 0){We=Ge[dt],Pe="normal";break}}if(We===""){for(var Nt=0;Nt<Ge.length;Nt++)if(et[Ge[Nt]]){We=et[Ge[Nt]];break}}We=We===""?"Times":We,this.pdf.setFont(We,Pe)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(se){this.ctx.globalCompositeOperation=se}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(se){this.ctx.globalAlpha=se}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(se){this.ctx.lineDashOffset=se,H.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(se){this.ctx.lineDash=se,H.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(se){this.ctx.ignoreClearRect=!!se}})};u.prototype.setLineDash=function(R){this.lineDash=R},u.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},u.prototype.fill=function(){P.call(this,"fill",!1)},u.prototype.stroke=function(){P.call(this,"stroke",!1)},u.prototype.beginPath=function(){this.path=[{type:"begin"}]},u.prototype.moveTo=function(R,$){if(isNaN(R)||isNaN($))throw ur.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var G=this.ctx.transform.applyToPoint(new o(R,$));this.path.push({type:"mt",x:G.x,y:G.y}),this.ctx.lastPoint=new o(R,$)},u.prototype.closePath=function(){var R=new o(0,0),$=0;for($=this.path.length-1;$!==-1;$--)if(this.path[$].type==="begin"&&Yt(this.path[$+1])==="object"&&typeof this.path[$+1].x=="number"){R=new o(this.path[$+1].x,this.path[$+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new o(R.x,R.y)},u.prototype.lineTo=function(R,$){if(isNaN(R)||isNaN($))throw ur.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var G=this.ctx.transform.applyToPoint(new o(R,$));this.path.push({type:"lt",x:G.x,y:G.y}),this.ctx.lastPoint=new o(G.x,G.y)},u.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),P.call(this,null,!0)},u.prototype.quadraticCurveTo=function(R,$,G,Z){if(isNaN(G)||isNaN(Z)||isNaN(R)||isNaN($))throw ur.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var te=this.ctx.transform.applyToPoint(new o(G,Z)),le=this.ctx.transform.applyToPoint(new o(R,$));this.path.push({type:"qct",x1:le.x,y1:le.y,x:te.x,y:te.y}),this.ctx.lastPoint=new o(te.x,te.y)},u.prototype.bezierCurveTo=function(R,$,G,Z,te,le){if(isNaN(te)||isNaN(le)||isNaN(R)||isNaN($)||isNaN(G)||isNaN(Z))throw ur.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var ce=this.ctx.transform.applyToPoint(new o(te,le)),de=this.ctx.transform.applyToPoint(new o(R,$)),Ne=this.ctx.transform.applyToPoint(new o(G,Z));this.path.push({type:"bct",x1:de.x,y1:de.y,x2:Ne.x,y2:Ne.y,x:ce.x,y:ce.y}),this.ctx.lastPoint=new o(ce.x,ce.y)},u.prototype.arc=function(R,$,G,Z,te,le){if(isNaN(R)||isNaN($)||isNaN(G)||isNaN(Z)||isNaN(te))throw ur.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(le=!!le,!this.ctx.transform.isIdentity){var ce=this.ctx.transform.applyToPoint(new o(R,$));R=ce.x,$=ce.y;var de=this.ctx.transform.applyToPoint(new o(0,G)),Ne=this.ctx.transform.applyToPoint(new o(0,0));G=Math.sqrt(Math.pow(de.x-Ne.x,2)+Math.pow(de.y-Ne.y,2))}Math.abs(te-Z)>=2*Math.PI&&(Z=0,te=2*Math.PI),this.path.push({type:"arc",x:R,y:$,radius:G,startAngle:Z,endAngle:te,counterclockwise:le})},u.prototype.arcTo=function(R,$,G,Z,te){throw new Error("arcTo not implemented.")},u.prototype.rect=function(R,$,G,Z){if(isNaN(R)||isNaN($)||isNaN(G)||isNaN(Z))throw ur.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(R,$),this.lineTo(R+G,$),this.lineTo(R+G,$+Z),this.lineTo(R,$+Z),this.lineTo(R,$),this.lineTo(R+G,$),this.lineTo(R,$)},u.prototype.fillRect=function(R,$,G,Z){if(isNaN(R)||isNaN($)||isNaN(G)||isNaN(Z))throw ur.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!m.call(this)){var te={};this.lineCap!=="butt"&&(te.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(te.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(R,$,G,Z),this.fill(),te.hasOwnProperty("lineCap")&&(this.lineCap=te.lineCap),te.hasOwnProperty("lineJoin")&&(this.lineJoin=te.lineJoin)}},u.prototype.strokeRect=function(R,$,G,Z){if(isNaN(R)||isNaN($)||isNaN(G)||isNaN(Z))throw ur.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");g.call(this)||(this.beginPath(),this.rect(R,$,G,Z),this.stroke())},u.prototype.clearRect=function(R,$,G,Z){if(isNaN(R)||isNaN($)||isNaN(G)||isNaN(Z))throw ur.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(R,$,G,Z))},u.prototype.save=function(R){R=typeof R!="boolean"||R;for(var $=this.pdf.internal.getCurrentPageInfo().pageNumber,G=0;G<this.pdf.internal.getNumberOfPages();G++)this.pdf.setPage(G+1),this.pdf.internal.out("q");if(this.pdf.setPage($),R){this.ctx.fontSize=this.pdf.internal.getFontSize();var Z=new p(this.ctx);this.ctxStack.push(this.ctx),this.ctx=Z}},u.prototype.restore=function(R){R=typeof R!="boolean"||R;for(var $=this.pdf.internal.getCurrentPageInfo().pageNumber,G=0;G<this.pdf.internal.getNumberOfPages();G++)this.pdf.setPage(G+1),this.pdf.internal.out("Q");this.pdf.setPage($),R&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},u.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var f=function(R){var $,G,Z,te;if(R.isCanvasGradient===!0&&(R=R.getColor()),!R)return{r:0,g:0,b:0,a:0,style:R};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(R))$=0,G=0,Z=0,te=0;else{var le=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(R);if(le!==null)$=parseInt(le[1]),G=parseInt(le[2]),Z=parseInt(le[3]),te=1;else if((le=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(R))!==null)$=parseInt(le[1]),G=parseInt(le[2]),Z=parseInt(le[3]),te=parseFloat(le[4]);else{if(te=1,typeof R=="string"&&R.charAt(0)!=="#"){var ce=new pE(R);R=ce.ok?ce.toHex():"#000000"}R.length===4?($=R.substring(1,2),$+=$,G=R.substring(2,3),G+=G,Z=R.substring(3,4),Z+=Z):($=R.substring(1,3),G=R.substring(3,5),Z=R.substring(5,7)),$=parseInt($,16),G=parseInt(G,16),Z=parseInt(Z,16)}}return{r:$,g:G,b:Z,a:te,style:R}},m=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},g=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};u.prototype.fillText=function(R,$,G,Z){if(isNaN($)||isNaN(G)||typeof R!="string")throw ur.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(Z=isNaN(Z)?void 0:Z,!m.call(this)){var te=B(this.ctx.transform.rotation),le=this.ctx.transform.scaleX;w.call(this,{text:R,x:$,y:G,scale:le,angle:te,align:this.textAlign,maxWidth:Z})}},u.prototype.strokeText=function(R,$,G,Z){if(isNaN($)||isNaN(G)||typeof R!="string")throw ur.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!g.call(this)){Z=isNaN(Z)?void 0:Z;var te=B(this.ctx.transform.rotation),le=this.ctx.transform.scaleX;w.call(this,{text:R,x:$,y:G,scale:le,renderingMode:"stroke",angle:te,align:this.textAlign,maxWidth:Z})}},u.prototype.measureText=function(R){if(typeof R!="string")throw ur.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var $=this.pdf,G=this.pdf.internal.scaleFactor,Z=$.internal.getFontSize(),te=$.getStringUnitWidth(R)*Z/$.internal.scaleFactor,le=function(ce){var de=(ce=ce||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return de}}),this};return new le({width:te*=Math.round(96*G/72*1e4)/1e4})},u.prototype.scale=function(R,$){if(isNaN(R)||isNaN($))throw ur.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var G=new c(R,0,0,$,0,0);this.ctx.transform=this.ctx.transform.multiply(G)},u.prototype.rotate=function(R){if(isNaN(R))throw ur.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var $=new c(Math.cos(R),Math.sin(R),-Math.sin(R),Math.cos(R),0,0);this.ctx.transform=this.ctx.transform.multiply($)},u.prototype.translate=function(R,$){if(isNaN(R)||isNaN($))throw ur.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var G=new c(1,0,0,1,R,$);this.ctx.transform=this.ctx.transform.multiply(G)},u.prototype.transform=function(R,$,G,Z,te,le){if(isNaN(R)||isNaN($)||isNaN(G)||isNaN(Z)||isNaN(te)||isNaN(le))throw ur.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var ce=new c(R,$,G,Z,te,le);this.ctx.transform=this.ctx.transform.multiply(ce)},u.prototype.setTransform=function(R,$,G,Z,te,le){R=isNaN(R)?1:R,$=isNaN($)?0:$,G=isNaN(G)?0:G,Z=isNaN(Z)?1:Z,te=isNaN(te)?0:te,le=isNaN(le)?0:le,this.ctx.transform=new c(R,$,G,Z,te,le)};var b=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};u.prototype.drawImage=function(R,$,G,Z,te,le,ce,de,Ne){var ve=this.pdf.getImageProperties(R),Ee=1,Te=1,pe=1,se=1;Z!==void 0&&de!==void 0&&(pe=de/Z,se=Ne/te,Ee=ve.width/Z*de/Z,Te=ve.height/te*Ne/te),le===void 0&&(le=$,ce=G,$=0,G=0),Z!==void 0&&de===void 0&&(de=Z,Ne=te),Z===void 0&&de===void 0&&(de=ve.width,Ne=ve.height);for(var ee,Ue=this.ctx.transform.decompose(),Fe=B(Ue.rotate.shx),ke=new c,Ve=(ke=(ke=(ke=ke.multiply(Ue.translate)).multiply(Ue.skew)).multiply(Ue.scale)).applyToRectangle(new l(le-$*pe,ce-G*se,Z*Ee,te*Te)),Xe=j.call(this,Ve),Ge=[],xt=0;xt<Xe.length;xt+=1)Ge.indexOf(Xe[xt])===-1&&Ge.push(Xe[xt]);if(y(Ge),this.autoPaging)for(var Pe=Ge[0],We=Ge[Ge.length-1],et=Pe;et<We+1;et++){this.pdf.setPage(et);var dt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Nt=et===1?this.posY+this.margin[0]:this.margin[0],gt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Pt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Ye=et===1?0:gt+(et-2)*Pt;if(this.ctx.clip_path.length!==0){var Kt=this.path;ee=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=v(ee,this.posX+this.margin[3],-Ye+Nt+this.ctx.prevPageLastElemOffset),M.call(this,"fill",!0),this.path=Kt}var Ot=JSON.parse(JSON.stringify(Ve));Ot=v([Ot],this.posX+this.margin[3],-Ye+Nt+this.ctx.prevPageLastElemOffset)[0];var en=(et>Pe||et<We)&&b.call(this);en&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],dt,Pt,null).clip().discardPath()),this.pdf.addImage(R,"JPEG",Ot.x,Ot.y,Ot.w,Ot.h,null,null,Fe),en&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(R,"JPEG",Ve.x,Ve.y,Ve.w,Ve.h,null,null,Fe)};var j=function(R,$,G){var Z=[];$=$||this.pdf.internal.pageSize.width,G=G||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var te=this.posY+this.ctx.prevPageLastElemOffset;switch(R.type){default:case"mt":case"lt":Z.push(Math.floor((R.y+te)/G)+1);break;case"arc":Z.push(Math.floor((R.y+te-R.radius)/G)+1),Z.push(Math.floor((R.y+te+R.radius)/G)+1);break;case"qct":var le=U(this.ctx.lastPoint.x,this.ctx.lastPoint.y,R.x1,R.y1,R.x,R.y);Z.push(Math.floor((le.y+te)/G)+1),Z.push(Math.floor((le.y+le.h+te)/G)+1);break;case"bct":var ce=q(this.ctx.lastPoint.x,this.ctx.lastPoint.y,R.x1,R.y1,R.x2,R.y2,R.x,R.y);Z.push(Math.floor((ce.y+te)/G)+1),Z.push(Math.floor((ce.y+ce.h+te)/G)+1);break;case"rect":Z.push(Math.floor((R.y+te)/G)+1),Z.push(Math.floor((R.y+R.h+te)/G)+1)}for(var de=0;de<Z.length;de+=1)for(;this.pdf.internal.getNumberOfPages()<Z[de];)x.call(this);return Z},x=function(){var R=this.fillStyle,$=this.strokeStyle,G=this.font,Z=this.lineCap,te=this.lineWidth,le=this.lineJoin;this.pdf.addPage(),this.fillStyle=R,this.strokeStyle=$,this.font=G,this.lineCap=Z,this.lineWidth=te,this.lineJoin=le},v=function(R,$,G){for(var Z=0;Z<R.length;Z++)switch(R[Z].type){case"bct":R[Z].x2+=$,R[Z].y2+=G;case"qct":R[Z].x1+=$,R[Z].y1+=G;case"mt":case"lt":case"arc":default:R[Z].x+=$,R[Z].y+=G}return R},y=function(R){return R.sort(function($,G){return $-G})},P=function(R,$){for(var G,Z,te=this.fillStyle,le=this.strokeStyle,ce=this.lineCap,de=this.lineWidth,Ne=Math.abs(de*this.ctx.transform.scaleX),ve=this.lineJoin,Ee=JSON.parse(JSON.stringify(this.path)),Te=JSON.parse(JSON.stringify(this.path)),pe=[],se=0;se<Te.length;se++)if(Te[se].x!==void 0)for(var ee=j.call(this,Te[se]),Ue=0;Ue<ee.length;Ue+=1)pe.indexOf(ee[Ue])===-1&&pe.push(ee[Ue]);for(var Fe=0;Fe<pe.length;Fe++)for(;this.pdf.internal.getNumberOfPages()<pe[Fe];)x.call(this);if(y(pe),this.autoPaging)for(var ke=pe[0],Ve=pe[pe.length-1],Xe=ke;Xe<Ve+1;Xe++){this.pdf.setPage(Xe),this.fillStyle=te,this.strokeStyle=le,this.lineCap=ce,this.lineWidth=Ne,this.lineJoin=ve;var Ge=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],xt=Xe===1?this.posY+this.margin[0]:this.margin[0],Pe=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],We=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],et=Xe===1?0:Pe+(Xe-2)*We;if(this.ctx.clip_path.length!==0){var dt=this.path;G=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=v(G,this.posX+this.margin[3],-et+xt+this.ctx.prevPageLastElemOffset),M.call(this,R,!0),this.path=dt}if(Z=JSON.parse(JSON.stringify(Ee)),this.path=v(Z,this.posX+this.margin[3],-et+xt+this.ctx.prevPageLastElemOffset),$===!1||Xe===0){var Nt=(Xe>ke||Xe<Ve)&&b.call(this);Nt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Ge,We,null).clip().discardPath()),M.call(this,R,$),Nt&&this.pdf.restoreGraphicsState()}this.lineWidth=de}else this.lineWidth=Ne,M.call(this,R,$),this.lineWidth=de;this.path=Ee},M=function(R,$){if((R!=="stroke"||$||!g.call(this))&&(R==="stroke"||$||!m.call(this))){for(var G,Z,te=[],le=this.path,ce=0;ce<le.length;ce++){var de=le[ce];switch(de.type){case"begin":te.push({begin:!0});break;case"close":te.push({close:!0});break;case"mt":te.push({start:de,deltas:[],abs:[]});break;case"lt":var Ne=te.length;if(le[ce-1]&&!isNaN(le[ce-1].x)&&(G=[de.x-le[ce-1].x,de.y-le[ce-1].y],Ne>0)){for(;Ne>=0;Ne--)if(te[Ne-1].close!==!0&&te[Ne-1].begin!==!0){te[Ne-1].deltas.push(G),te[Ne-1].abs.push(de);break}}break;case"bct":G=[de.x1-le[ce-1].x,de.y1-le[ce-1].y,de.x2-le[ce-1].x,de.y2-le[ce-1].y,de.x-le[ce-1].x,de.y-le[ce-1].y],te[te.length-1].deltas.push(G);break;case"qct":var ve=le[ce-1].x+2/3*(de.x1-le[ce-1].x),Ee=le[ce-1].y+2/3*(de.y1-le[ce-1].y),Te=de.x+2/3*(de.x1-de.x),pe=de.y+2/3*(de.y1-de.y),se=de.x,ee=de.y;G=[ve-le[ce-1].x,Ee-le[ce-1].y,Te-le[ce-1].x,pe-le[ce-1].y,se-le[ce-1].x,ee-le[ce-1].y],te[te.length-1].deltas.push(G);break;case"arc":te.push({deltas:[],abs:[],arc:!0}),Array.isArray(te[te.length-1].abs)&&te[te.length-1].abs.push(de)}}Z=$?null:R==="stroke"?"stroke":"fill";for(var Ue=!1,Fe=0;Fe<te.length;Fe++)if(te[Fe].arc)for(var ke=te[Fe].abs,Ve=0;Ve<ke.length;Ve++){var Xe=ke[Ve];Xe.type==="arc"?S.call(this,Xe.x,Xe.y,Xe.radius,Xe.startAngle,Xe.endAngle,Xe.counterclockwise,void 0,$,!Ue):T.call(this,Xe.x,Xe.y),Ue=!0}else if(te[Fe].close===!0)this.pdf.internal.out("h"),Ue=!1;else if(te[Fe].begin!==!0){var Ge=te[Fe].start.x,xt=te[Fe].start.y;L.call(this,te[Fe].deltas,Ge,xt),Ue=!0}Z&&k.call(this,Z),$&&D.call(this)}},O=function(R){var $=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,G=$*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return R-G;case"top":return R+$-G;case"hanging":return R+$-2*G;case"middle":return R+$/2-G;case"ideographic":return R;case"alphabetic":default:return R}},E=function(R){return R+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};u.prototype.createLinearGradient=function(){var R=function(){};return R.colorStops=[],R.addColorStop=function($,G){this.colorStops.push([$,G])},R.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},R.isCanvasGradient=!0,R},u.prototype.createPattern=function(){return this.createLinearGradient()},u.prototype.createRadialGradient=function(){return this.createLinearGradient()};var S=function(R,$,G,Z,te,le,ce,de,Ne){for(var ve=V.call(this,G,Z,te,le),Ee=0;Ee<ve.length;Ee++){var Te=ve[Ee];Ee===0&&(Ne?C.call(this,Te.x1+R,Te.y1+$):T.call(this,Te.x1+R,Te.y1+$)),W.call(this,R,$,Te.x2,Te.y2,Te.x3,Te.y3,Te.x4,Te.y4)}de?D.call(this):k.call(this,ce)},k=function(R){switch(R){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},D=function(){this.pdf.clip(),this.pdf.discardPath()},C=function(R,$){this.pdf.internal.out(n(R)+" "+s($)+" m")},w=function(R){var $;switch(R.align){case"right":case"end":$="right";break;case"center":$="center";break;case"left":case"start":default:$="left"}var G=this.pdf.getTextDimensions(R.text),Z=O.call(this,R.y),te=E.call(this,Z)-G.h,le=this.ctx.transform.applyToPoint(new o(R.x,Z)),ce=this.ctx.transform.decompose(),de=new c;de=(de=(de=de.multiply(ce.translate)).multiply(ce.skew)).multiply(ce.scale);for(var Ne,ve,Ee,Te=this.ctx.transform.applyToRectangle(new l(R.x,Z,G.w,G.h)),pe=de.applyToRectangle(new l(R.x,te,G.w,G.h)),se=j.call(this,pe),ee=[],Ue=0;Ue<se.length;Ue+=1)ee.indexOf(se[Ue])===-1&&ee.push(se[Ue]);if(y(ee),this.autoPaging)for(var Fe=ee[0],ke=ee[ee.length-1],Ve=Fe;Ve<ke+1;Ve++){this.pdf.setPage(Ve);var Xe=Ve===1?this.posY+this.margin[0]:this.margin[0],Ge=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],xt=this.pdf.internal.pageSize.height-this.margin[2],Pe=xt-this.margin[0],We=this.pdf.internal.pageSize.width-this.margin[1],et=We-this.margin[3],dt=Ve===1?0:Ge+(Ve-2)*Pe;if(this.ctx.clip_path.length!==0){var Nt=this.path;Ne=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=v(Ne,this.posX+this.margin[3],-1*dt+Xe),M.call(this,"fill",!0),this.path=Nt}var gt=v([JSON.parse(JSON.stringify(pe))],this.posX+this.margin[3],-dt+Xe+this.ctx.prevPageLastElemOffset)[0];R.scale>=.01&&(ve=this.pdf.internal.getFontSize(),this.pdf.setFontSize(ve*R.scale),Ee=this.lineWidth,this.lineWidth=Ee*R.scale);var Pt=this.autoPaging!=="text";if(Pt||gt.y+gt.h<=xt){if(Pt||gt.y>=Xe&&gt.x<=We){var Ye=Pt?R.text:this.pdf.splitTextToSize(R.text,R.maxWidth||We-gt.x)[0],Kt=v([JSON.parse(JSON.stringify(Te))],this.posX+this.margin[3],-dt+Xe+this.ctx.prevPageLastElemOffset)[0],Ot=Pt&&(Ve>Fe||Ve<ke)&&b.call(this);Ot&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],et,Pe,null).clip().discardPath()),this.pdf.text(Ye,Kt.x,Kt.y,{angle:R.angle,align:$,renderingMode:R.renderingMode}),Ot&&this.pdf.restoreGraphicsState()}}else gt.y<xt&&(this.ctx.prevPageLastElemOffset+=xt-gt.y);R.scale>=.01&&(this.pdf.setFontSize(ve),this.lineWidth=Ee)}else R.scale>=.01&&(ve=this.pdf.internal.getFontSize(),this.pdf.setFontSize(ve*R.scale),Ee=this.lineWidth,this.lineWidth=Ee*R.scale),this.pdf.text(R.text,le.x+this.posX,le.y+this.posY,{angle:R.angle,align:$,renderingMode:R.renderingMode,maxWidth:R.maxWidth}),R.scale>=.01&&(this.pdf.setFontSize(ve),this.lineWidth=Ee)},T=function(R,$,G,Z){G=G||0,Z=Z||0,this.pdf.internal.out(n(R+G)+" "+s($+Z)+" l")},L=function(R,$,G){return this.pdf.lines(R,$,G,null,null)},W=function(R,$,G,Z,te,le,ce,de){this.pdf.internal.out([t(a(G+R)),t(i(Z+$)),t(a(te+R)),t(i(le+$)),t(a(ce+R)),t(i(de+$)),"c"].join(" "))},V=function(R,$,G,Z){for(var te=2*Math.PI,le=Math.PI/2;$>G;)$-=te;var ce=Math.abs(G-$);ce<te&&Z&&(ce=te-ce);for(var de=[],Ne=Z?-1:1,ve=$;ce>1e-5;){var Ee=ve+Ne*Math.min(ce,le);de.push(_.call(this,R,ve,Ee)),ce-=Math.abs(Ee-ve),ve=Ee}return de},_=function(R,$,G){var Z=(G-$)/2,te=R*Math.cos(Z),le=R*Math.sin(Z),ce=te,de=-le,Ne=ce*ce+de*de,ve=Ne+ce*te+de*le,Ee=4/3*(Math.sqrt(2*Ne*ve)-ve)/(ce*le-de*te),Te=ce-Ee*de,pe=de+Ee*ce,se=Te,ee=-pe,Ue=Z+$,Fe=Math.cos(Ue),ke=Math.sin(Ue);return{x1:R*Math.cos($),y1:R*Math.sin($),x2:Te*Fe-pe*ke,y2:Te*ke+pe*Fe,x3:se*Fe-ee*ke,y3:se*ke+ee*Fe,x4:R*Math.cos(G),y4:R*Math.sin(G)}},B=function(R){return 180*R/Math.PI},U=function(R,$,G,Z,te,le){var ce=R+.5*(G-R),de=$+.5*(Z-$),Ne=te+.5*(G-te),ve=le+.5*(Z-le),Ee=Math.min(R,te,ce,Ne),Te=Math.max(R,te,ce,Ne),pe=Math.min($,le,de,ve),se=Math.max($,le,de,ve);return new l(Ee,pe,Te-Ee,se-pe)},q=function(R,$,G,Z,te,le,ce,de){var Ne,ve,Ee,Te,pe,se,ee,Ue,Fe,ke,Ve,Xe,Ge,xt,Pe=G-R,We=Z-$,et=te-G,dt=le-Z,Nt=ce-te,gt=de-le;for(ve=0;ve<41;ve++)Fe=(ee=(Ee=R+(Ne=ve/40)*Pe)+Ne*((pe=G+Ne*et)-Ee))+Ne*(pe+Ne*(te+Ne*Nt-pe)-ee),ke=(Ue=(Te=$+Ne*We)+Ne*((se=Z+Ne*dt)-Te))+Ne*(se+Ne*(le+Ne*gt-se)-Ue),ve==0?(Ve=Fe,Xe=ke,Ge=Fe,xt=ke):(Ve=Math.min(Ve,Fe),Xe=Math.min(Xe,ke),Ge=Math.max(Ge,Fe),xt=Math.max(xt,ke));return new l(Math.round(Ve),Math.round(Xe),Math.round(Ge-Ve),Math.round(xt-Xe))},H=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var R,$,G=(R=this.ctx.lineDash,$=this.ctx.lineDashOffset,JSON.stringify({lineDash:R,lineDashOffset:$}));this.prevLineDash!==G&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=G)}}})(wt.API),function(e){var t=function(i){var o,l,c,d,p,u,f,m,g,b;for(l=[],c=0,d=(i+=o="\0\0\0\0".slice(i.length%4||4)).length;d>c;c+=4)(p=(i.charCodeAt(c)<<24)+(i.charCodeAt(c+1)<<16)+(i.charCodeAt(c+2)<<8)+i.charCodeAt(c+3))!==0?(u=(p=((p=((p=((p=(p-(b=p%85))/85)-(g=p%85))/85)-(m=p%85))/85)-(f=p%85))/85)%85,l.push(u+33,f+33,m+33,g+33,b+33)):l.push(122);return function(j,x){for(var v=x;v>0;v--)j.pop()}(l,o.length),String.fromCharCode.apply(String,l)+"~>"},n=function(i){var o,l,c,d,p,u=String,f="length",m=255,g="charCodeAt",b="slice",j="replace";for(i[b](-2),i=i[b](0,-2)[j](/\s/g,"")[j]("z","!!!!!"),c=[],d=0,p=(i+=o="uuuuu"[b](i[f]%5||5))[f];p>d;d+=5)l=52200625*(i[g](d)-33)+614125*(i[g](d+1)-33)+7225*(i[g](d+2)-33)+85*(i[g](d+3)-33)+(i[g](d+4)-33),c.push(m&l>>24,m&l>>16,m&l>>8,m&l);return function(x,v){for(var y=v;y>0;y--)x.pop()}(c,o[f]),u.fromCharCode.apply(u,c)},s=function(i){var o=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((i=i.replace(/\s/g,"")).indexOf(">")!==-1&&(i=i.substr(0,i.indexOf(">"))),i.length%2&&(i+="0"),o.test(i)===!1)return"";for(var l="",c=0;c<i.length;c+=2)l+=String.fromCharCode("0x"+(i[c]+i[c+1]));return l},a=function(i){for(var o=new Uint8Array(i.length),l=i.length;l--;)o[l]=i.charCodeAt(l);return i=(o=p1(o)).reduce(function(c,d){return c+String.fromCharCode(d)},"")};e.processDataByFilters=function(i,o){var l=0,c=i||"",d=[];for(typeof(o=o||[])=="string"&&(o=[o]),l=0;l<o.length;l+=1)switch(o[l]){case"ASCII85Decode":case"/ASCII85Decode":c=n(c),d.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":c=t(c),d.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":c=s(c),d.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":c=c.split("").map(function(p){return("0"+p.charCodeAt().toString(16)).slice(-2)}).join("")+">",d.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":c=a(c),d.push("/FlateDecode");break;default:throw new Error('The filter: "'+o[l]+'" is not implemented')}return{data:c,reverseChain:d.reverse().join(" ")}}}(wt.API),function(e){e.loadFile=function(t,n,s){return function(a,i,o){i=i!==!1,o=typeof o=="function"?o:function(){};var l=void 0;try{l=function(c,d,p){var u=new XMLHttpRequest,f=0,m=function(g){var b=g.length,j=[],x=String.fromCharCode;for(f=0;f<b;f+=1)j.push(x(255&g.charCodeAt(f)));return j.join("")};if(u.open("GET",c,!d),u.overrideMimeType("text/plain; charset=x-user-defined"),d===!1&&(u.onload=function(){u.status===200?p(m(this.responseText)):p(void 0)}),u.send(null),d&&u.status===200)return m(u.responseText)}(a,i,o)}catch{}return l}(t,n,s)},e.loadImageFile=e.loadFile}(wt.API),function(e){function t(){return(At.html2canvas?Promise.resolve(At.html2canvas):o1(()=>import("./html2canvas.esm-e0a7d97b.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load html2canvas: "+o))}).then(function(o){return o.default?o.default:o})}function n(){return(At.DOMPurify?Promise.resolve(At.DOMPurify):o1(()=>import("./purify.es-2de9db7f.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load dompurify: "+o))}).then(function(o){return o.default?o.default:o})}var s=function(o){var l=Yt(o);return l==="undefined"?"undefined":l==="string"||o instanceof String?"string":l==="number"||o instanceof Number?"number":l==="function"||o instanceof Function?"function":o&&o.constructor===Array?"array":o&&o.nodeType===1?"element":l==="object"?"object":"unknown"},a=function(o,l){var c=document.createElement(o);for(var d in l.className&&(c.className=l.className),l.innerHTML&&l.dompurify&&(c.innerHTML=l.dompurify.sanitize(l.innerHTML)),l.style)c.style[d]=l.style[d];return c},i=function o(l){var c=Object.assign(o.convert(Promise.resolve()),JSON.parse(JSON.stringify(o.template))),d=o.convert(Promise.resolve(),c);return d=(d=d.setProgress(1,o,1,[o])).set(l)};(i.prototype=Object.create(Promise.prototype)).constructor=i,i.convert=function(o,l){return o.__proto__=l||i.prototype,o},i.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},i.prototype.from=function(o,l){return this.then(function(){switch(l=l||function(c){switch(s(c)){case"string":return"string";case"element":return c.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(o)){case"string":return this.then(n).then(function(c){return this.set({src:a("div",{innerHTML:o,dompurify:c})})});case"element":return this.set({src:o});case"canvas":return this.set({canvas:o});case"img":return this.set({img:o});default:return this.error("Unknown source type.")}})},i.prototype.to=function(o){switch(o){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},i.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var o={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},l=function c(d,p){for(var u=d.nodeType===3?document.createTextNode(d.nodeValue):d.cloneNode(!1),f=d.firstChild;f;f=f.nextSibling)p!==!0&&f.nodeType===1&&f.nodeName==="SCRIPT"||u.appendChild(c(f,p));return d.nodeType===1&&(d.nodeName==="CANVAS"?(u.width=d.width,u.height=d.height,u.getContext("2d").drawImage(d,0,0)):d.nodeName!=="TEXTAREA"&&d.nodeName!=="SELECT"||(u.value=d.value),u.addEventListener("load",function(){u.scrollTop=d.scrollTop,u.scrollLeft=d.scrollLeft},!0)),u}(this.prop.src,this.opt.html2canvas.javascriptEnabled);l.tagName==="BODY"&&(o.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=a("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=a("div",{className:"html2pdf__container",style:o}),this.prop.container.appendChild(l),this.prop.container.firstChild.appendChild(a("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},i.prototype.toCanvas=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(t).then(function(l){var c=Object.assign({},this.opt.html2canvas);return delete c.onrendered,l(this.prop.container,c)}).then(function(l){(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},i.prototype.toContext2d=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(t).then(function(l){var c=this.opt.jsPDF,d=this.opt.fontFaces,p=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,u=Object.assign({async:!0,allowTaint:!0,scale:p,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete u.onrendered,c.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,c.context2d.posX=this.opt.x,c.context2d.posY=this.opt.y,c.context2d.margin=this.opt.margin,c.context2d.fontFaces=d,d)for(var f=0;f<d.length;++f){var m=d[f],g=m.src.find(function(b){return b.format==="truetype"});g&&c.addFont(g.url,m.ref.name,m.ref.style)}return u.windowHeight=u.windowHeight||0,u.windowHeight=u.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):u.windowHeight,c.context2d.save(!0),l(this.prop.container,u)}).then(function(l){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},i.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var o=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=o})},i.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},i.prototype.output=function(o,l,c){return(c=c||"pdf").toLowerCase()==="img"||c.toLowerCase()==="image"?this.outputImg(o,l):this.outputPdf(o,l)},i.prototype.outputPdf=function(o,l){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(o,l)})},i.prototype.outputImg=function(o){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(o){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+o+'" is not supported.'}})},i.prototype.save=function(o){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(o?{filename:o}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},i.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},i.prototype.set=function(o){if(s(o)!=="object")return this;var l=Object.keys(o||{}).map(function(c){if(c in i.template.prop)return function(){this.prop[c]=o[c]};switch(c){case"margin":return this.setMargin.bind(this,o.margin);case"jsPDF":return function(){return this.opt.jsPDF=o.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,o.pageSize);default:return function(){this.opt[c]=o[c]}}},this);return this.then(function(){return this.thenList(l)})},i.prototype.get=function(o,l){return this.then(function(){var c=o in i.template.prop?this.prop[o]:this.opt[o];return l?l(c):c})},i.prototype.setMargin=function(o){return this.then(function(){switch(s(o)){case"number":o=[o,o,o,o];case"array":if(o.length===2&&(o=[o[0],o[1],o[0],o[1]]),o.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=o}).then(this.setPageSize)},i.prototype.setPageSize=function(o){function l(c,d){return Math.floor(c*d/72*96)}return this.then(function(){(o=o||wt.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(o.inner={width:o.width-this.opt.margin[1]-this.opt.margin[3],height:o.height-this.opt.margin[0]-this.opt.margin[2]},o.inner.px={width:l(o.inner.width,o.k),height:l(o.inner.height,o.k)},o.inner.ratio=o.inner.height/o.inner.width),this.prop.pageSize=o})},i.prototype.setProgress=function(o,l,c,d){return o!=null&&(this.progress.val=o),l!=null&&(this.progress.state=l),c!=null&&(this.progress.n=c),d!=null&&(this.progress.stack=d),this.progress.ratio=this.progress.val/this.progress.state,this},i.prototype.updateProgress=function(o,l,c,d){return this.setProgress(o?this.progress.val+o:null,l||null,c?this.progress.n+c:null,d?this.progress.stack.concat(d):null)},i.prototype.then=function(o,l){var c=this;return this.thenCore(o,l,function(d,p){return c.updateProgress(null,null,1,[d]),Promise.prototype.then.call(this,function(u){return c.updateProgress(null,d),u}).then(d,p).then(function(u){return c.updateProgress(1),u})})},i.prototype.thenCore=function(o,l,c){c=c||Promise.prototype.then,o&&(o=o.bind(this)),l&&(l=l.bind(this));var d=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:i.convert(Object.assign({},this),Promise.prototype),p=c.call(d,o,l);return i.convert(p,this.__proto__)},i.prototype.thenExternal=function(o,l){return Promise.prototype.then.call(this,o,l)},i.prototype.thenList=function(o){var l=this;return o.forEach(function(c){l=l.thenCore(c)}),l},i.prototype.catch=function(o){o&&(o=o.bind(this));var l=Promise.prototype.catch.call(this,o);return i.convert(l,this)},i.prototype.catchExternal=function(o){return Promise.prototype.catch.call(this,o)},i.prototype.error=function(o){return this.then(function(){throw new Error(o)})},i.prototype.using=i.prototype.set,i.prototype.saveAs=i.prototype.save,i.prototype.export=i.prototype.output,i.prototype.run=i.prototype.then,wt.getPageSize=function(o,l,c){if(Yt(o)==="object"){var d=o;o=d.orientation,l=d.unit||l,c=d.format||c}l=l||"mm",c=c||"a4",o=(""+(o||"P")).toLowerCase();var p,u=(""+c).toLowerCase(),f={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(l){case"pt":p=1;break;case"mm":p=72/25.4;break;case"cm":p=72/2.54;break;case"in":p=72;break;case"px":p=.75;break;case"pc":case"em":p=12;break;case"ex":p=6;break;default:throw"Invalid unit: "+l}var m,g=0,b=0;if(f.hasOwnProperty(u))g=f[u][1]/p,b=f[u][0]/p;else try{g=c[1],b=c[0]}catch{throw new Error("Invalid format: "+c)}if(o==="p"||o==="portrait")o="p",b>g&&(m=b,b=g,g=m);else{if(o!=="l"&&o!=="landscape")throw"Invalid orientation: "+o;o="l",g>b&&(m=b,b=g,g=m)}return{width:b,height:g,unit:l,k:p,orientation:o}},e.html=function(o,l){(l=l||{}).callback=l.callback||function(){},l.html2canvas=l.html2canvas||{},l.html2canvas.canvas=l.html2canvas.canvas||this.canvas,l.jsPDF=l.jsPDF||this,l.fontFaces=l.fontFaces?l.fontFaces.map(v1):null;var c=new i(l);return l.worker?c:c.from(o).doCallback()}}(wt.API),wt.API.addJS=function(e){return N5=e,this.internal.events.subscribe("postPutResources",function(){vf=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(vf+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),w5=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+N5+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){vf!==void 0&&w5!==void 0&&this.internal.out("/Names <</JavaScript "+vf+" 0 R>>")}),this},function(e){var t;e.events.push(["postPutResources",function(){var n=this,s=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var a=n.outline.render().split(/\r\n/),i=0;i<a.length;i++){var o=a[i],l=s.exec(o);if(l!=null){var c=l[1];n.internal.newObjectDeferredBegin(c,!1)}n.internal.write(o)}if(this.outline.createNamedDestinations){var d=this.internal.pages.length,p=[];for(i=0;i<d;i++){var u=n.internal.newObject();p.push(u);var f=n.internal.getPageInfo(i+1);n.internal.write("<< /D["+f.objId+" 0 R /XYZ null null null]>> endobj")}var m=n.internal.newObject();for(n.internal.write("<< /Names [ "),i=0;i<p.length;i++)n.internal.write("(page_"+(i+1)+")"+p[i]+" 0 R");n.internal.write(" ] >>","endobj"),t=n.internal.newObject(),n.internal.write("<< /Dests "+m+" 0 R"),n.internal.write(">>","endobj")}}]),e.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+t+" 0 R"))}]),e.events.push(["initialized",function(){var n=this;n.outline={createNamedDestinations:!1,root:{children:[]}},n.outline.add=function(s,a,i){var o={title:a,options:i,children:[]};return s==null&&(s=this.root),s.children.push(o),o},n.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=n,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},n.outline.genIds_r=function(s){s.id=n.internal.newObjectDeferred();for(var a=0;a<s.children.length;a++)this.genIds_r(s.children[a])},n.outline.renderRoot=function(s){this.objStart(s),this.line("/Type /Outlines"),s.children.length>0&&(this.line("/First "+this.makeRef(s.children[0])),this.line("/Last "+this.makeRef(s.children[s.children.length-1]))),this.line("/Count "+this.count_r({count:0},s)),this.objEnd()},n.outline.renderItems=function(s){for(var a=this.ctx.pdf.internal.getVerticalCoordinateString,i=0;i<s.children.length;i++){var o=s.children[i];this.objStart(o),this.line("/Title "+this.makeString(o.title)),this.line("/Parent "+this.makeRef(s)),i>0&&this.line("/Prev "+this.makeRef(s.children[i-1])),i<s.children.length-1&&this.line("/Next "+this.makeRef(s.children[i+1])),o.children.length>0&&(this.line("/First "+this.makeRef(o.children[0])),this.line("/Last "+this.makeRef(o.children[o.children.length-1])));var l=this.count=this.count_r({count:0},o);if(l>0&&this.line("/Count "+l),o.options&&o.options.pageNumber){var c=n.internal.getPageInfo(o.options.pageNumber);this.line("/Dest ["+c.objId+" 0 R /XYZ 0 "+a(0)+" 0]")}this.objEnd()}for(var d=0;d<s.children.length;d++)this.renderItems(s.children[d])},n.outline.line=function(s){this.ctx.val+=s+`\r
`},n.outline.makeRef=function(s){return s.id+" 0 R"},n.outline.makeString=function(s){return"("+n.internal.pdfEscape(s)+")"},n.outline.objStart=function(s){this.ctx.val+=`\r
`+s.id+` 0 obj\r
<<\r
`},n.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},n.outline.count_r=function(s,a){for(var i=0;i<a.children.length;i++)s.count++,this.count_r(s,a.children[i]);return s.count}}])}(wt.API),function(e){var t=[192,193,194,195,196,197,198,199];e.processJPEG=function(n,s,a,i,o,l){var c,d=this.decode.DCT_DECODE,p=null;if(typeof n=="string"||this.__addimage__.isArrayBuffer(n)||this.__addimage__.isArrayBufferView(n)){switch(n=o||n,n=this.__addimage__.isArrayBuffer(n)?new Uint8Array(n):n,(c=function(u){for(var f,m=256*u.charCodeAt(4)+u.charCodeAt(5),g=u.length,b={width:0,height:0,numcomponents:1},j=4;j<g;j+=2){if(j+=m,t.indexOf(u.charCodeAt(j+1))!==-1){f=256*u.charCodeAt(j+5)+u.charCodeAt(j+6),b={width:256*u.charCodeAt(j+7)+u.charCodeAt(j+8),height:f,numcomponents:u.charCodeAt(j+9)};break}m=256*u.charCodeAt(j+2)+u.charCodeAt(j+3)}return b}(n=this.__addimage__.isArrayBufferView(n)?this.__addimage__.arrayBufferToBinaryString(n):n)).numcomponents){case 1:l=this.color_spaces.DEVICE_GRAY;break;case 4:l=this.color_spaces.DEVICE_CMYK;break;case 3:l=this.color_spaces.DEVICE_RGB}p={data:n,width:c.width,height:c.height,colorSpace:l,bitsPerComponent:8,filter:d,index:s,alias:a}}return p}}(wt.API);var Pc,yf,S5,C5,A5,W$=function(){var e,t,n;function s(i){var o,l,c,d,p,u,f,m,g,b,j,x,v,y;for(this.data=i,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},u=null;;){switch(o=this.readUInt32(),g=(function(){var P,M;for(M=[],P=0;P<4;++P)M.push(String.fromCharCode(this.data[this.pos++]));return M}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(o);break;case"fcTL":u&&this.animation.frames.push(u),this.pos+=4,u={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},p=this.readUInt16(),d=this.readUInt16()||100,u.delay=1e3*p/d,u.disposeOp=this.data[this.pos++],u.blendOp=this.data[this.pos++],u.data=[];break;case"IDAT":case"fdAT":for(g==="fdAT"&&(this.pos+=4,o-=4),i=(u!=null?u.data:void 0)||this.imgData,x=0;0<=o?x<o:x>o;0<=o?++x:--x)i.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(c=this.palette.length/3,this.transparency.indexed=this.read(o),this.transparency.indexed.length>c)throw new Error("More transparent colors than palette size");if((b=c-this.transparency.indexed.length)>0)for(v=0;0<=b?v<b:v>b;0<=b?++v:--v)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(o)[0];break;case 2:this.transparency.rgb=this.read(o)}break;case"tEXt":f=(j=this.read(o)).indexOf(0),m=String.fromCharCode.apply(String,j.slice(0,f)),this.text[m]=String.fromCharCode.apply(String,j.slice(f+1));break;case"IEND":return u&&this.animation.frames.push(u),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=(y=this.colorType)===4||y===6,l=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*l,this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=o}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}s.prototype.read=function(i){var o,l;for(l=[],o=0;0<=i?o<i:o>i;0<=i?++o:--o)l.push(this.data[this.pos++]);return l},s.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},s.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},s.prototype.decodePixels=function(i){var o=this.pixelBitlength/8,l=new Uint8Array(this.width*this.height*o),c=0,d=this;if(i==null&&(i=this.imgData),i.length===0)return new Uint8Array(0);function p(u,f,m,g){var b,j,x,v,y,P,M,O,E,S,k,D,C,w,T,L,W,V,_,B,U,q=Math.ceil((d.width-u)/m),H=Math.ceil((d.height-f)/g),R=d.width==q&&d.height==H;for(w=o*q,D=R?l:new Uint8Array(w*H),P=i.length,C=0,j=0;C<H&&c<P;){switch(i[c++]){case 0:for(v=W=0;W<w;v=W+=1)D[j++]=i[c++];break;case 1:for(v=V=0;V<w;v=V+=1)b=i[c++],y=v<o?0:D[j-o],D[j++]=(b+y)%256;break;case 2:for(v=_=0;_<w;v=_+=1)b=i[c++],x=(v-v%o)/o,T=C&&D[(C-1)*w+x*o+v%o],D[j++]=(T+b)%256;break;case 3:for(v=B=0;B<w;v=B+=1)b=i[c++],x=(v-v%o)/o,y=v<o?0:D[j-o],T=C&&D[(C-1)*w+x*o+v%o],D[j++]=(b+Math.floor((y+T)/2))%256;break;case 4:for(v=U=0;U<w;v=U+=1)b=i[c++],x=(v-v%o)/o,y=v<o?0:D[j-o],C===0?T=L=0:(T=D[(C-1)*w+x*o+v%o],L=x&&D[(C-1)*w+(x-1)*o+v%o]),M=y+T-L,O=Math.abs(M-y),S=Math.abs(M-T),k=Math.abs(M-L),E=O<=S&&O<=k?y:S<=k?T:L,D[j++]=(b+E)%256;break;default:throw new Error("Invalid filter algorithm: "+i[c-1])}if(!R){var $=((f+C*g)*d.width+u)*o,G=C*w;for(v=0;v<q;v+=1){for(var Z=0;Z<o;Z+=1)l[$++]=D[G++];$+=(m-1)*o}}C++}}return i=j$(i),d.interlaceMethod==1?(p(0,0,8,8),p(4,0,8,8),p(0,4,4,8),p(2,0,4,4),p(0,2,2,4),p(1,0,2,2),p(0,1,1,2)):p(0,0,1,1),l},s.prototype.decodePalette=function(){var i,o,l,c,d,p,u,f,m;for(l=this.palette,p=this.transparency.indexed||[],d=new Uint8Array((p.length||0)+l.length),c=0,i=0,o=u=0,f=l.length;u<f;o=u+=3)d[c++]=l[o],d[c++]=l[o+1],d[c++]=l[o+2],d[c++]=(m=p[i++])!=null?m:255;return d},s.prototype.copyToImageData=function(i,o){var l,c,d,p,u,f,m,g,b,j,x;if(c=this.colors,b=null,l=this.hasAlphaChannel,this.palette.length&&(b=(x=this._decodedPalette)!=null?x:this._decodedPalette=this.decodePalette(),c=4,l=!0),g=(d=i.data||i).length,u=b||o,p=f=0,c===1)for(;p<g;)m=b?4*o[p/4]:f,j=u[m++],d[p++]=j,d[p++]=j,d[p++]=j,d[p++]=l?u[m++]:255,f=m;else for(;p<g;)m=b?4*o[p/4]:f,d[p++]=u[m++],d[p++]=u[m++],d[p++]=u[m++],d[p++]=l?u[m++]:255,f=m},s.prototype.decode=function(){var i;return i=new Uint8Array(this.width*this.height*4),this.copyToImageData(i,this.decodePixels()),i};var a=function(){if(Object.prototype.toString.call(At)==="[object Window]"){try{t=At.document.createElement("canvas"),n=t.getContext("2d")}catch{return!1}return!0}return!1};return a(),e=function(i){var o;if(a()===!0)return n.width=i.width,n.height=i.height,n.clearRect(0,0,i.width,i.height),n.putImageData(i,0,0),(o=new Image).src=t.toDataURL(),o;throw new Error("This method requires a Browser with Canvas-capability.")},s.prototype.decodeFrames=function(i){var o,l,c,d,p,u,f,m;if(this.animation){for(m=[],l=p=0,u=(f=this.animation.frames).length;p<u;l=++p)o=f[l],c=i.createImageData(o.width,o.height),d=this.decodePixels(new Uint8Array(o.data)),this.copyToImageData(c,d),o.imageData=c,m.push(o.image=e(c));return m}},s.prototype.renderFrame=function(i,o){var l,c,d;return l=(c=this.animation.frames)[o],d=c[o-1],o===0&&i.clearRect(0,0,this.width,this.height),(d!=null?d.disposeOp:void 0)===1?i.clearRect(d.xOffset,d.yOffset,d.width,d.height):(d!=null?d.disposeOp:void 0)===2&&i.putImageData(d.imageData,d.xOffset,d.yOffset),l.blendOp===0&&i.clearRect(l.xOffset,l.yOffset,l.width,l.height),i.drawImage(l.image,l.xOffset,l.yOffset)},s.prototype.animate=function(i){var o,l,c,d,p,u,f=this;return l=0,u=this.animation,d=u.numFrames,c=u.frames,p=u.numPlays,(o=function(){var m,g;if(m=l++%d,g=c[m],f.renderFrame(i,m),d>1&&l/d<p)return f.animation._timeout=setTimeout(o,g.delay)})()},s.prototype.stopAnimation=function(){var i;return clearTimeout((i=this.animation)!=null?i._timeout:void 0)},s.prototype.render=function(i){var o,l;return i._png&&i._png.stopAnimation(),i._png=this,i.width=this.width,i.height=this.height,o=i.getContext("2d"),this.animation?(this.decodeFrames(o),this.animate(o)):(l=o.createImageData(this.width,this.height),this.copyToImageData(l,this.decodePixels()),o.putImageData(l,0,0))},s}();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function q$(e){var t=0;if(e[t++]!==71||e[t++]!==73||e[t++]!==70||e[t++]!==56||(e[t++]+1&253)!=56||e[t++]!==97)throw new Error("Invalid GIF 87a/89a header.");var n=e[t++]|e[t++]<<8,s=e[t++]|e[t++]<<8,a=e[t++],i=a>>7,o=1<<(7&a)+1;e[t++],e[t++];var l=null,c=null;i&&(l=t,c=o,t+=3*o);var d=!0,p=[],u=0,f=null,m=0,g=null;for(this.width=n,this.height=s;d&&t<e.length;)switch(e[t++]){case 33:switch(e[t++]){case 255:if(e[t]!==11||e[t+1]==78&&e[t+2]==69&&e[t+3]==84&&e[t+4]==83&&e[t+5]==67&&e[t+6]==65&&e[t+7]==80&&e[t+8]==69&&e[t+9]==50&&e[t+10]==46&&e[t+11]==48&&e[t+12]==3&&e[t+13]==1&&e[t+16]==0)t+=14,g=e[t++]|e[t++]<<8,t++;else for(t+=12;;){if(!((C=e[t++])>=0))throw Error("Invalid block size");if(C===0)break;t+=C}break;case 249:if(e[t++]!==4||e[t+4]!==0)throw new Error("Invalid graphics extension block.");var b=e[t++];u=e[t++]|e[t++]<<8,f=e[t++],!(1&b)&&(f=null),m=b>>2&7,t++;break;case 254:for(;;){if(!((C=e[t++])>=0))throw Error("Invalid block size");if(C===0)break;t+=C}break;default:throw new Error("Unknown graphic control label: 0x"+e[t-1].toString(16))}break;case 44:var j=e[t++]|e[t++]<<8,x=e[t++]|e[t++]<<8,v=e[t++]|e[t++]<<8,y=e[t++]|e[t++]<<8,P=e[t++],M=P>>6&1,O=1<<(7&P)+1,E=l,S=c,k=!1;P>>7&&(k=!0,E=t,S=O,t+=3*O);var D=t;for(t++;;){var C;if(!((C=e[t++])>=0))throw Error("Invalid block size");if(C===0)break;t+=C}p.push({x:j,y:x,width:v,height:y,has_local_palette:k,palette_offset:E,palette_size:S,data_offset:D,data_length:t-D,transparent_index:f,interlaced:!!M,delay:u,disposal:m});break;case 59:d=!1;break;default:throw new Error("Unknown gif block: 0x"+e[t-1].toString(16))}this.numFrames=function(){return p.length},this.loopCount=function(){return g},this.frameInfo=function(w){if(w<0||w>=p.length)throw new Error("Frame index out of range.");return p[w]},this.decodeAndBlitFrameBGRA=function(w,T){var L=this.frameInfo(w),W=L.width*L.height,V=new Uint8Array(W);E5(e,L.data_offset,V,W);var _=L.palette_offset,B=L.transparent_index;B===null&&(B=256);var U=L.width,q=n-U,H=U,R=4*(L.y*n+L.x),$=4*((L.y+L.height)*n+L.x),G=R,Z=4*q;L.interlaced===!0&&(Z+=4*n*7);for(var te=8,le=0,ce=V.length;le<ce;++le){var de=V[le];if(H===0&&(H=U,(G+=Z)>=$&&(Z=4*q+4*n*(te-1),G=R+(U+q)*(te<<1),te>>=1)),de===B)G+=4;else{var Ne=e[_+3*de],ve=e[_+3*de+1],Ee=e[_+3*de+2];T[G++]=Ee,T[G++]=ve,T[G++]=Ne,T[G++]=255}--H}},this.decodeAndBlitFrameRGBA=function(w,T){var L=this.frameInfo(w),W=L.width*L.height,V=new Uint8Array(W);E5(e,L.data_offset,V,W);var _=L.palette_offset,B=L.transparent_index;B===null&&(B=256);var U=L.width,q=n-U,H=U,R=4*(L.y*n+L.x),$=4*((L.y+L.height)*n+L.x),G=R,Z=4*q;L.interlaced===!0&&(Z+=4*n*7);for(var te=8,le=0,ce=V.length;le<ce;++le){var de=V[le];if(H===0&&(H=U,(G+=Z)>=$&&(Z=4*q+4*n*(te-1),G=R+(U+q)*(te<<1),te>>=1)),de===B)G+=4;else{var Ne=e[_+3*de],ve=e[_+3*de+1],Ee=e[_+3*de+2];T[G++]=Ne,T[G++]=ve,T[G++]=Ee,T[G++]=255}--H}}}function E5(e,t,n,s){for(var a=e[t++],i=1<<a,o=i+1,l=o+1,c=a+1,d=(1<<c)-1,p=0,u=0,f=0,m=e[t++],g=new Int32Array(4096),b=null;;){for(;p<16&&m!==0;)u|=e[t++]<<p,p+=8,m===1?m=e[t++]:--m;if(p<c)break;var j=u&d;if(u>>=c,p-=c,j!==i){if(j===o)break;for(var x=j<l?j:b,v=0,y=x;y>i;)y=g[y]>>8,++v;var P=y;if(f+v+(x!==j?1:0)>s)return void ur.log("Warning, gif stream longer than expected.");n[f++]=P;var M=f+=v;for(x!==j&&(n[f++]=P),y=x;v--;)y=g[y],n[--M]=255&y,y>>=8;b!==null&&l<4096&&(g[l++]=b<<8|P,l>=d+1&&c<12&&(++c,d=d<<1|1)),b=j}else l=o+1,d=(1<<(c=a+1))-1,b=null}return f!==s&&ur.log("Warning, gif stream shorter than expected."),n}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function Rv(e){var t,n,s,a,i,o=Math.floor,l=new Array(64),c=new Array(64),d=new Array(64),p=new Array(64),u=new Array(65535),f=new Array(65535),m=new Array(64),g=new Array(64),b=[],j=0,x=7,v=new Array(64),y=new Array(64),P=new Array(64),M=new Array(256),O=new Array(2048),E=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],S=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],k=[0,1,2,3,4,5,6,7,8,9,10,11],D=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],C=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],w=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],T=[0,1,2,3,4,5,6,7,8,9,10,11],L=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],W=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function V(R,$){for(var G=0,Z=0,te=new Array,le=1;le<=16;le++){for(var ce=1;ce<=R[le];ce++)te[$[Z]]=[],te[$[Z]][0]=G,te[$[Z]][1]=le,Z++,G++;G*=2}return te}function _(R){for(var $=R[0],G=R[1]-1;G>=0;)$&1<<G&&(j|=1<<x),G--,--x<0&&(j==255?(B(255),B(0)):B(j),x=7,j=0)}function B(R){b.push(R)}function U(R){B(R>>8&255),B(255&R)}function q(R,$,G,Z,te){for(var le,ce=te[0],de=te[240],Ne=function(ke,Ve){var Xe,Ge,xt,Pe,We,et,dt,Nt,gt,Pt,Ye=0;for(gt=0;gt<8;++gt){Xe=ke[Ye],Ge=ke[Ye+1],xt=ke[Ye+2],Pe=ke[Ye+3],We=ke[Ye+4],et=ke[Ye+5],dt=ke[Ye+6];var Kt=Xe+(Nt=ke[Ye+7]),Ot=Xe-Nt,en=Ge+dt,Xt=Ge-dt,ar=xt+et,as=xt-et,Vt=Pe+We,xi=Pe-We,Lr=Kt+Vt,ua=Kt-Vt,gi=en+ar,Tr=en-ar;ke[Ye]=Lr+gi,ke[Ye+4]=Lr-gi;var Lt=.707106781*(Tr+ua);ke[Ye+2]=ua+Lt,ke[Ye+6]=ua-Lt;var Zt=.382683433*((Lr=xi+as)-(Tr=Xt+Ot)),Ko=.5411961*Lr+Zt,bn=1.306562965*Tr+Zt,za=.707106781*(gi=as+Xt),$a=Ot+za,Ct=Ot-za;ke[Ye+5]=Ct+Ko,ke[Ye+3]=Ct-Ko,ke[Ye+1]=$a+bn,ke[Ye+7]=$a-bn,Ye+=8}for(Ye=0,gt=0;gt<8;++gt){Xe=ke[Ye],Ge=ke[Ye+8],xt=ke[Ye+16],Pe=ke[Ye+24],We=ke[Ye+32],et=ke[Ye+40],dt=ke[Ye+48];var pa=Xe+(Nt=ke[Ye+56]),Ua=Xe-Nt,is=Ge+dt,tn=Ge-dt,Gr=xt+et,js=xt-et,Ql=Pe+We,vi=Pe-We,ma=pa+Ql,fa=pa-Ql,ha=is+Gr,Va=is-Gr;ke[Ye]=ma+ha,ke[Ye+32]=ma-ha;var Us=.707106781*(Va+fa);ke[Ye+16]=fa+Us,ke[Ye+48]=fa-Us;var Wa=.382683433*((ma=vi+js)-(Va=tn+Ua)),Xo=.5411961*ma+Wa,Yl=1.306562965*Va+Wa,Kl=.707106781*(ha=js+tn),Xl=Ua+Kl,Jl=Ua-Kl;ke[Ye+40]=Jl+Xo,ke[Ye+24]=Jl-Xo,ke[Ye+8]=Xl+Yl,ke[Ye+56]=Xl-Yl,Ye++}for(gt=0;gt<64;++gt)Pt=ke[gt]*Ve[gt],m[gt]=Pt>0?Pt+.5|0:Pt-.5|0;return m}(R,$),ve=0;ve<64;++ve)g[E[ve]]=Ne[ve];var Ee=g[0]-G;G=g[0],Ee==0?_(Z[0]):(_(Z[f[le=32767+Ee]]),_(u[le]));for(var Te=63;Te>0&&g[Te]==0;)Te--;if(Te==0)return _(ce),G;for(var pe,se=1;se<=Te;){for(var ee=se;g[se]==0&&se<=Te;)++se;var Ue=se-ee;if(Ue>=16){pe=Ue>>4;for(var Fe=1;Fe<=pe;++Fe)_(de);Ue&=15}le=32767+g[se],_(te[(Ue<<4)+f[le]]),_(u[le]),se++}return Te!=63&&_(ce),G}function H(R){R=Math.min(Math.max(R,1),100),i!=R&&(function($){for(var G=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],Z=0;Z<64;Z++){var te=o((G[Z]*$+50)/100);te=Math.min(Math.max(te,1),255),l[E[Z]]=te}for(var le=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],ce=0;ce<64;ce++){var de=o((le[ce]*$+50)/100);de=Math.min(Math.max(de,1),255),c[E[ce]]=de}for(var Ne=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],ve=0,Ee=0;Ee<8;Ee++)for(var Te=0;Te<8;Te++)d[ve]=1/(l[E[ve]]*Ne[Ee]*Ne[Te]*8),p[ve]=1/(c[E[ve]]*Ne[Ee]*Ne[Te]*8),ve++}(R<50?Math.floor(5e3/R):Math.floor(200-2*R)),i=R)}this.encode=function(R,$){$&&H($),b=new Array,j=0,x=7,U(65496),U(65504),U(16),B(74),B(70),B(73),B(70),B(0),B(1),B(1),B(0),U(1),U(1),B(0),B(0),function(){U(65499),U(132),B(0);for(var Ge=0;Ge<64;Ge++)B(l[Ge]);B(1);for(var xt=0;xt<64;xt++)B(c[xt])}(),function(Ge,xt){U(65472),U(17),B(8),U(xt),U(Ge),B(3),B(1),B(17),B(0),B(2),B(17),B(1),B(3),B(17),B(1)}(R.width,R.height),function(){U(65476),U(418),B(0);for(var Ge=0;Ge<16;Ge++)B(S[Ge+1]);for(var xt=0;xt<=11;xt++)B(k[xt]);B(16);for(var Pe=0;Pe<16;Pe++)B(D[Pe+1]);for(var We=0;We<=161;We++)B(C[We]);B(1);for(var et=0;et<16;et++)B(w[et+1]);for(var dt=0;dt<=11;dt++)B(T[dt]);B(17);for(var Nt=0;Nt<16;Nt++)B(L[Nt+1]);for(var gt=0;gt<=161;gt++)B(W[gt])}(),U(65498),U(12),B(3),B(1),B(0),B(2),B(17),B(3),B(17),B(0),B(63),B(0);var G=0,Z=0,te=0;j=0,x=7,this.encode.displayName="_encode_";for(var le,ce,de,Ne,ve,Ee,Te,pe,se,ee=R.data,Ue=R.width,Fe=R.height,ke=4*Ue,Ve=0;Ve<Fe;){for(le=0;le<ke;){for(ve=ke*Ve+le,Te=-1,pe=0,se=0;se<64;se++)Ee=ve+(pe=se>>3)*ke+(Te=4*(7&se)),Ve+pe>=Fe&&(Ee-=ke*(Ve+1+pe-Fe)),le+Te>=ke&&(Ee-=le+Te-ke+4),ce=ee[Ee++],de=ee[Ee++],Ne=ee[Ee++],v[se]=(O[ce]+O[de+256>>0]+O[Ne+512>>0]>>16)-128,y[se]=(O[ce+768>>0]+O[de+1024>>0]+O[Ne+1280>>0]>>16)-128,P[se]=(O[ce+1280>>0]+O[de+1536>>0]+O[Ne+1792>>0]>>16)-128;G=q(v,d,G,t,s),Z=q(y,p,Z,n,a),te=q(P,p,te,n,a),le+=32}Ve+=8}if(x>=0){var Xe=[];Xe[1]=x+1,Xe[0]=(1<<x+1)-1,_(Xe)}return U(65497),new Uint8Array(b)},e=e||50,function(){for(var R=String.fromCharCode,$=0;$<256;$++)M[$]=R($)}(),t=V(S,k),n=V(w,T),s=V(D,C),a=V(L,W),function(){for(var R=1,$=2,G=1;G<=15;G++){for(var Z=R;Z<$;Z++)f[32767+Z]=G,u[32767+Z]=[],u[32767+Z][1]=G,u[32767+Z][0]=Z;for(var te=-($-1);te<=-R;te++)f[32767+te]=G,u[32767+te]=[],u[32767+te][1]=G,u[32767+te][0]=$-1+te;R<<=1,$<<=1}}(),function(){for(var R=0;R<256;R++)O[R]=19595*R,O[R+256>>0]=38470*R,O[R+512>>0]=7471*R+32768,O[R+768>>0]=-11059*R,O[R+1024>>0]=-21709*R,O[R+1280>>0]=32768*R+8421375,O[R+1536>>0]=-27439*R,O[R+1792>>0]=-5329*R}(),H(e)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function Sa(e,t){if(this.pos=0,this.buffer=e,this.datav=new DataView(e.buffer),this.is_with_alpha=!!t,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function I5(e){function t(S){if(!S)throw Error("assert :P")}function n(S,k,D){for(var C=0;4>C;C++)if(S[k+C]!=D.charCodeAt(C))return!0;return!1}function s(S,k,D,C,w){for(var T=0;T<w;T++)S[k+T]=D[C+T]}function a(S,k,D,C){for(var w=0;w<C;w++)S[k+w]=D}function i(S){return new Int32Array(S)}function o(S,k){for(var D=[],C=0;C<S;C++)D.push(new k);return D}function l(S,k){var D=[];return function C(w,T,L){for(var W=L[T],V=0;V<W&&(w.push(L.length>T+1?[]:new k),!(L.length<T+1));V++)C(w[V],T+1,L)}(D,0,S),D}var c=function(){var S=this;function k(h,N){for(var F=1<<N-1>>>0;h&F;)F>>>=1;return F?(h&F-1)+F:h}function D(h,N,F,z,Q){t(!(z%F));do h[N+(z-=F)]=Q;while(0<z)}function C(h,N,F,z,Q){if(t(2328>=Q),512>=Q)var K=i(512);else if((K=i(Q))==null)return 0;return function(X,J,re,ne,he,Se){var Ce,ye,Me=J,Ie=1<<re,xe=i(16),ge=i(16);for(t(he!=0),t(ne!=null),t(X!=null),t(0<re),ye=0;ye<he;++ye){if(15<ne[ye])return 0;++xe[ne[ye]]}if(xe[0]==he)return 0;for(ge[1]=0,Ce=1;15>Ce;++Ce){if(xe[Ce]>1<<Ce)return 0;ge[Ce+1]=ge[Ce]+xe[Ce]}for(ye=0;ye<he;++ye)Ce=ne[ye],0<ne[ye]&&(Se[ge[Ce]++]=ye);if(ge[15]==1)return(ne=new w).g=0,ne.value=Se[0],D(X,Me,1,Ie,ne),Ie;var _e,ze=-1,Oe=Ie-1,st=0,Je=1,St=1,tt=1<<re;for(ye=0,Ce=1,he=2;Ce<=re;++Ce,he<<=1){if(Je+=St<<=1,0>(St-=xe[Ce]))return 0;for(;0<xe[Ce];--xe[Ce])(ne=new w).g=Ce,ne.value=Se[ye++],D(X,Me+st,he,tt,ne),st=k(st,Ce)}for(Ce=re+1,he=2;15>=Ce;++Ce,he<<=1){if(Je+=St<<=1,0>(St-=xe[Ce]))return 0;for(;0<xe[Ce];--xe[Ce]){if(ne=new w,(st&Oe)!=ze){for(Me+=tt,_e=1<<(ze=Ce)-re;15>ze&&!(0>=(_e-=xe[ze]));)++ze,_e<<=1;Ie+=tt=1<<(_e=ze-re),X[J+(ze=st&Oe)].g=_e+re,X[J+ze].value=Me-J-ze}ne.g=Ce-re,ne.value=Se[ye++],D(X,Me+(st>>re),he,tt,ne),st=k(st,Ce)}}return Je!=2*ge[15]-1?0:Ie}(h,N,F,z,Q,K)}function w(){this.value=this.g=0}function T(){this.value=this.g=0}function L(){this.G=o(5,w),this.H=i(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=o(jn,T)}function W(h,N,F,z){t(h!=null),t(N!=null),t(2147483648>z),h.Ca=254,h.I=0,h.b=-8,h.Ka=0,h.oa=N,h.pa=F,h.Jd=N,h.Yc=F+z,h.Zc=4<=z?F+z-4+1:F,le(h)}function V(h,N){for(var F=0;0<N--;)F|=de(h,128)<<N;return F}function _(h,N){var F=V(h,N);return ce(h)?-F:F}function B(h,N,F,z){var Q,K=0;for(t(h!=null),t(N!=null),t(4294967288>z),h.Sb=z,h.Ra=0,h.u=0,h.h=0,4<z&&(z=4),Q=0;Q<z;++Q)K+=N[F+Q]<<8*Q;h.Ra=K,h.bb=z,h.oa=N,h.pa=F}function U(h){for(;8<=h.u&&h.bb<h.Sb;)h.Ra>>>=8,h.Ra+=h.oa[h.pa+h.bb]<<mc-8>>>0,++h.bb,h.u-=8;G(h)&&(h.h=1,h.u=0)}function q(h,N){if(t(0<=N),!h.h&&N<=pc){var F=$(h)&uc[N];return h.u+=N,U(h),F}return h.h=1,h.u=0}function H(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function R(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function $(h){return h.Ra>>>(h.u&mc-1)>>>0}function G(h){return t(h.bb<=h.Sb),h.h||h.bb==h.Sb&&h.u>mc}function Z(h,N){h.u=N,h.h=G(h)}function te(h){h.u>=Qd&&(t(h.u>=Qd),U(h))}function le(h){t(h!=null&&h.oa!=null),h.pa<h.Zc?(h.I=(h.oa[h.pa++]|h.I<<8)>>>0,h.b+=8):(t(h!=null&&h.oa!=null),h.pa<h.Yc?(h.b+=8,h.I=h.oa[h.pa++]|h.I<<8):h.Ka?h.b=0:(h.I<<=8,h.b+=8,h.Ka=1))}function ce(h){return V(h,1)}function de(h,N){var F=h.Ca;0>h.b&&le(h);var z=h.b,Q=F*N>>>8,K=(h.I>>>z>Q)+0;for(K?(F-=Q,h.I-=Q+1<<z>>>0):F=Q+1,z=F,Q=0;256<=z;)Q+=8,z>>=8;return z=7^Q+ls[z],h.b-=z,h.Ca=(F<<z)-1,K}function Ne(h,N,F){h[N+0]=F>>24&255,h[N+1]=F>>16&255,h[N+2]=F>>8&255,h[N+3]=F>>0&255}function ve(h,N){return h[N+0]<<0|h[N+1]<<8}function Ee(h,N){return ve(h,N)|h[N+2]<<16}function Te(h,N){return ve(h,N)|ve(h,N+2)<<16}function pe(h,N){var F=1<<N;return t(h!=null),t(0<N),h.X=i(F),h.X==null?0:(h.Mb=32-N,h.Xa=N,1)}function se(h,N){t(h!=null),t(N!=null),t(h.Xa==N.Xa),s(N.X,0,h.X,0,1<<N.Xa)}function ee(){this.X=[],this.Xa=this.Mb=0}function Ue(h,N,F,z){t(F!=null),t(z!=null);var Q=F[0],K=z[0];return Q==0&&(Q=(h*K+N/2)/N),K==0&&(K=(N*Q+h/2)/h),0>=Q||0>=K?0:(F[0]=Q,z[0]=K,1)}function Fe(h,N){return h+(1<<N)-1>>>N}function ke(h,N){return((4278255360&h)+(4278255360&N)>>>0&4278255360)+((16711935&h)+(16711935&N)>>>0&16711935)>>>0}function Ve(h,N){S[N]=function(F,z,Q,K,X,J,re){var ne;for(ne=0;ne<X;++ne){var he=S[h](J[re+ne-1],Q,K+ne);J[re+ne]=ke(F[z+ne],he)}}}function Xe(){this.ud=this.hd=this.jd=0}function Ge(h,N){return((4278124286&(h^N))>>>1)+(h&N)>>>0}function xt(h){return 0<=h&&256>h?h:0>h?0:255<h?255:void 0}function Pe(h,N){return xt(h+(h-N+.5>>1))}function We(h,N,F){return Math.abs(N-F)-Math.abs(h-F)}function et(h,N,F,z,Q,K,X){for(z=K[X-1],F=0;F<Q;++F)K[X+F]=z=ke(h[N+F],z)}function dt(h,N,F,z,Q){var K;for(K=0;K<F;++K){var X=h[N+K],J=X>>8&255,re=16711935&(re=(re=16711935&X)+((J<<16)+J));z[Q+K]=(4278255360&X)+re>>>0}}function Nt(h,N){N.jd=h>>0&255,N.hd=h>>8&255,N.ud=h>>16&255}function gt(h,N,F,z,Q,K){var X;for(X=0;X<z;++X){var J=N[F+X],re=J>>>8,ne=J,he=255&(he=(he=J>>>16)+((h.jd<<24>>24)*(re<<24>>24)>>>5));ne=255&(ne=(ne=ne+((h.hd<<24>>24)*(re<<24>>24)>>>5))+((h.ud<<24>>24)*(he<<24>>24)>>>5)),Q[K+X]=(4278255360&J)+(he<<16)+ne}}function Pt(h,N,F,z,Q){S[N]=function(K,X,J,re,ne,he,Se,Ce,ye){for(re=Se;re<Ce;++re)for(Se=0;Se<ye;++Se)ne[he++]=Q(J[z(K[X++])])},S[h]=function(K,X,J,re,ne,he,Se){var Ce=8>>K.b,ye=K.Ea,Me=K.K[0],Ie=K.w;if(8>Ce)for(K=(1<<K.b)-1,Ie=(1<<Ce)-1;X<J;++X){var xe,ge=0;for(xe=0;xe<ye;++xe)xe&K||(ge=z(re[ne++])),he[Se++]=Q(Me[ge&Ie]),ge>>=Ce}else S["VP8LMapColor"+F](re,ne,Me,Ie,he,Se,X,J,ye)}}function Ye(h,N,F,z,Q){for(F=N+F;N<F;){var K=h[N++];z[Q++]=K>>16&255,z[Q++]=K>>8&255,z[Q++]=K>>0&255}}function Kt(h,N,F,z,Q){for(F=N+F;N<F;){var K=h[N++];z[Q++]=K>>16&255,z[Q++]=K>>8&255,z[Q++]=K>>0&255,z[Q++]=K>>24&255}}function Ot(h,N,F,z,Q){for(F=N+F;N<F;){var K=(X=h[N++])>>16&240|X>>12&15,X=X>>0&240|X>>28&15;z[Q++]=K,z[Q++]=X}}function en(h,N,F,z,Q){for(F=N+F;N<F;){var K=(X=h[N++])>>16&248|X>>13&7,X=X>>5&224|X>>3&31;z[Q++]=K,z[Q++]=X}}function Xt(h,N,F,z,Q){for(F=N+F;N<F;){var K=h[N++];z[Q++]=K>>0&255,z[Q++]=K>>8&255,z[Q++]=K>>16&255}}function ar(h,N,F,z,Q,K){if(K==0)for(F=N+F;N<F;)Ne(z,((K=h[N++])[0]>>24|K[1]>>8&65280|K[2]<<8&16711680|K[3]<<24)>>>0),Q+=32;else s(z,Q,h,N,F)}function as(h,N){S[N][0]=S[h+"0"],S[N][1]=S[h+"1"],S[N][2]=S[h+"2"],S[N][3]=S[h+"3"],S[N][4]=S[h+"4"],S[N][5]=S[h+"5"],S[N][6]=S[h+"6"],S[N][7]=S[h+"7"],S[N][8]=S[h+"8"],S[N][9]=S[h+"9"],S[N][10]=S[h+"10"],S[N][11]=S[h+"11"],S[N][12]=S[h+"12"],S[N][13]=S[h+"13"],S[N][14]=S[h+"0"],S[N][15]=S[h+"0"]}function Vt(h){return h==og||h==lg||h==Nm||h==cg}function xi(){this.eb=[],this.size=this.A=this.fb=0}function Lr(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function ua(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new xi,this.f.kb=new Lr,this.sd=null}function gi(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Tr(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Lt(h){return alert("todo:WebPSamplerProcessPlane"),h.T}function Zt(h,N){var F=h.T,z=N.ba.f.RGBA,Q=z.eb,K=z.fb+h.ka*z.A,X=Qs[N.ba.S],J=h.y,re=h.O,ne=h.f,he=h.N,Se=h.ea,Ce=h.W,ye=N.cc,Me=N.dc,Ie=N.Mc,xe=N.Nc,ge=h.ka,_e=h.ka+h.T,ze=h.U,Oe=ze+1>>1;for(ge==0?X(J,re,null,null,ne,he,Se,Ce,ne,he,Se,Ce,Q,K,null,null,ze):(X(N.ec,N.fc,J,re,ye,Me,Ie,xe,ne,he,Se,Ce,Q,K-z.A,Q,K,ze),++F);ge+2<_e;ge+=2)ye=ne,Me=he,Ie=Se,xe=Ce,he+=h.Rc,Ce+=h.Rc,K+=2*z.A,X(J,(re+=2*h.fa)-h.fa,J,re,ye,Me,Ie,xe,ne,he,Se,Ce,Q,K-z.A,Q,K,ze);return re+=h.fa,h.j+_e<h.o?(s(N.ec,N.fc,J,re,ze),s(N.cc,N.dc,ne,he,Oe),s(N.Mc,N.Nc,Se,Ce,Oe),F--):1&_e||X(J,re,null,null,ne,he,Se,Ce,ne,he,Se,Ce,Q,K+z.A,null,null,ze),F}function Ko(h,N,F){var z=h.F,Q=[h.J];if(z!=null){var K=h.U,X=N.ba.S,J=X==wm||X==Nm;N=N.ba.f.RGBA;var re=[0],ne=h.ka;re[0]=h.T,h.Kb&&(ne==0?--re[0]:(--ne,Q[0]-=h.width),h.j+h.ka+h.T==h.o&&(re[0]=h.o-h.j-ne));var he=N.eb;ne=N.fb+ne*N.A,h=hr(z,Q[0],h.width,K,re,he,ne+(J?0:3),N.A),t(F==re),h&&Vt(X)&&Hs(he,ne,J,K,re,N.A)}return 0}function bn(h){var N=h.ma,F=N.ba.S,z=11>F,Q=F==bm||F==jm||F==wm||F==ig||F==12||Vt(F);if(N.memory=null,N.Ib=null,N.Jb=null,N.Nd=null,!Hd(N.Oa,h,Q?11:12))return 0;if(Q&&Vt(F)&&qe(),h.da)alert("todo:use_scaling");else{if(z){if(N.Ib=Lt,h.Kb){if(F=h.U+1>>1,N.memory=i(h.U+2*F),N.memory==null)return 0;N.ec=N.memory,N.fc=0,N.cc=N.ec,N.dc=N.fc+h.U,N.Mc=N.cc,N.Nc=N.dc+F,N.Ib=Zt,qe()}}else alert("todo:EmitYUV");Q&&(N.Jb=Ko,z&&we())}if(z&&!R2){for(h=0;256>h;++h)UE[h]=89858*(h-128)+Cm>>Sm,qE[h]=-22014*(h-128)+Cm,WE[h]=-45773*(h-128),VE[h]=113618*(h-128)+Cm>>Sm;for(h=tu;h<pg;++h)N=76283*(h-16)+Cm>>Sm,HE[h-tu]=ws(N,255),GE[h-tu]=ws(N+8>>4,15);R2=1}return 1}function za(h){var N=h.ma,F=h.U,z=h.T;return t(!(1&h.ka)),0>=F||0>=z?0:(F=N.Ib(h,N),N.Jb!=null&&N.Jb(h,N,F),N.Dc+=F,1)}function $a(h){h.ma.memory=null}function Ct(h,N,F,z){return q(h,8)!=47?0:(N[0]=q(h,14)+1,F[0]=q(h,14)+1,z[0]=q(h,1),q(h,3)!=0?0:!h.h)}function pa(h,N){if(4>h)return h+1;var F=h-2>>1;return(2+(1&h)<<F)+q(N,F)+1}function Ua(h,N){return 120<N?N-120:1<=(F=((F=IE[N-1])>>4)*h+(8-(15&F)))?F:1;var F}function is(h,N,F){var z=$(F),Q=h[N+=255&z].g-8;return 0<Q&&(Z(F,F.u+8),z=$(F),N+=h[N].value,N+=z&(1<<Q)-1),Z(F,F.u+h[N].g),h[N].value}function tn(h,N,F){return F.g+=h.g,F.value+=h.value<<N>>>0,t(8>=F.g),h.g}function Gr(h,N,F){var z=h.xc;return t((N=z==0?0:h.vc[h.md*(F>>z)+(N>>z)])<h.Wb),h.Ya[N]}function js(h,N,F,z){var Q=h.ab,K=h.c*N,X=h.C;N=X+N;var J=F,re=z;for(z=h.Ta,F=h.Ua;0<Q--;){var ne=h.gc[Q],he=X,Se=N,Ce=J,ye=re,Me=(re=z,J=F,ne.Ea);switch(t(he<Se),t(Se<=ne.nc),ne.hc){case 2:mm(Ce,ye,(Se-he)*Me,re,J);break;case 0:var Ie=he,xe=Se,ge=re,_e=J,ze=(tt=ne).Ea;Ie==0&&(sg(Ce,ye,null,null,1,ge,_e),et(Ce,ye+1,0,0,ze-1,ge,_e+1),ye+=ze,_e+=ze,++Ie);for(var Oe=1<<tt.b,st=Oe-1,Je=Fe(ze,tt.b),St=tt.K,tt=tt.w+(Ie>>tt.b)*Je;Ie<xe;){var Jt=St,er=tt,Ht=1;for(Yd(Ce,ye,ge,_e-ze,1,ge,_e);Ht<ze;){var zt=(Ht&~st)+Oe;zt>ze&&(zt=ze),(0,Qi[Jt[er++]>>8&15])(Ce,ye+ +Ht,ge,_e+Ht-ze,zt-Ht,ge,_e+Ht),Ht=zt}ye+=ze,_e+=ze,++Ie&st||(tt+=Je)}Se!=ne.nc&&s(re,J-Me,re,J+(Se-he-1)*Me,Me);break;case 1:for(Me=Ce,xe=ye,ze=(Ce=ne.Ea)-(_e=Ce&~(ge=(ye=1<<ne.b)-1)),Ie=Fe(Ce,ne.b),Oe=ne.K,ne=ne.w+(he>>ne.b)*Ie;he<Se;){for(st=Oe,Je=ne,St=new Xe,tt=xe+_e,Jt=xe+Ce;xe<tt;)Nt(st[Je++],St),rl(St,Me,xe,ye,re,J),xe+=ye,J+=ye;xe<Jt&&(Nt(st[Je++],St),rl(St,Me,xe,ze,re,J),xe+=ze,J+=ze),++he&ge||(ne+=Ie)}break;case 3:if(Ce==re&&ye==J&&0<ne.b){for(xe=re,Ce=Me=J+(Se-he)*Me-(_e=(Se-he)*Fe(ne.Ea,ne.b)),ye=re,ge=J,Ie=[],_e=(ze=_e)-1;0<=_e;--_e)Ie[_e]=ye[ge+_e];for(_e=ze-1;0<=_e;--_e)xe[Ce+_e]=Ie[_e];Vs(ne,he,Se,re,Me,re,J)}else Vs(ne,he,Se,Ce,ye,re,J)}J=z,re=F}re!=F&&s(z,F,J,re,K)}function Ql(h,N){var F=h.V,z=h.Ba+h.c*h.C,Q=N-h.C;if(t(N<=h.l.o),t(16>=Q),0<Q){var K=h.l,X=h.Ta,J=h.Ua,re=K.width;if(js(h,Q,F,z),Q=J=[J],t((F=h.C)<(z=N)),t(K.v<K.va),z>K.o&&(z=K.o),F<K.j){var ne=K.j-F;F=K.j,Q[0]+=ne*re}if(F>=z?F=0:(Q[0]+=4*K.v,K.ka=F-K.j,K.U=K.va-K.v,K.T=z-F,F=1),F){if(J=J[0],11>(F=h.ca).S){var he=F.f.RGBA,Se=(z=F.S,Q=K.U,K=K.T,ne=he.eb,he.A),Ce=K;for(he=he.fb+h.Ma*he.A;0<Ce--;){var ye=X,Me=J,Ie=Q,xe=ne,ge=he;switch(z){case ym:cs(ye,Me,Ie,xe,ge);break;case bm:Kn(ye,Me,Ie,xe,ge);break;case og:Kn(ye,Me,Ie,xe,ge),Hs(xe,ge,0,Ie,1,0);break;case S2:wi(ye,Me,Ie,xe,ge);break;case jm:ar(ye,Me,Ie,xe,ge,1);break;case lg:ar(ye,Me,Ie,xe,ge,1),Hs(xe,ge,0,Ie,1,0);break;case wm:ar(ye,Me,Ie,xe,ge,0);break;case Nm:ar(ye,Me,Ie,xe,ge,0),Hs(xe,ge,1,Ie,1,0);break;case ig:Yi(ye,Me,Ie,xe,ge);break;case cg:Yi(ye,Me,Ie,xe,ge),fr(xe,ge,Ie,1,0);break;case C2:ji(ye,Me,Ie,xe,ge);break;default:t(0)}J+=re,he+=Se}h.Ma+=K}else alert("todo:EmitRescaledRowsYUVA");t(h.Ma<=F.height)}}h.C=N,t(h.C<=h.i)}function vi(h){var N;if(0<h.ua)return 0;for(N=0;N<h.Wb;++N){var F=h.Ya[N].G,z=h.Ya[N].H;if(0<F[1][z[1]+0].g||0<F[2][z[2]+0].g||0<F[3][z[3]+0].g)return 0}return 1}function ma(h,N,F,z,Q,K){if(h.Z!=0){var X=h.qd,J=h.rd;for(t(Zi[h.Z]!=null);N<F;++N)Zi[h.Z](X,J,z,Q,z,Q,K),X=z,J=Q,Q+=K;h.qd=X,h.rd=J}}function fa(h,N){var F=h.l.ma,z=F.Z==0||F.Z==1?h.l.j:h.C;if(z=h.C<z?z:h.C,t(N<=h.l.o),N>z){var Q=h.l.width,K=F.ca,X=F.tb+Q*z,J=h.V,re=h.Ba+h.c*z,ne=h.gc;t(h.ab==1),t(ne[0].hc==3),fm(ne[0],z,N,J,re,K,X),ma(F,z,N,K,X,Q)}h.C=h.Ma=N}function ha(h,N,F,z,Q,K,X){var J=h.$/z,re=h.$%z,ne=h.m,he=h.s,Se=F+h.$,Ce=Se;Q=F+z*Q;var ye=F+z*K,Me=280+he.ua,Ie=h.Pb?J:16777216,xe=0<he.ua?he.Wa:null,ge=he.wc,_e=Se<ye?Gr(he,re,J):null;t(h.C<K),t(ye<=Q);var ze=!1;e:for(;;){for(;ze||Se<ye;){var Oe=0;if(J>=Ie){var st=Se-F;t((Ie=h).Pb),Ie.wd=Ie.m,Ie.xd=st,0<Ie.s.ua&&se(Ie.s.Wa,Ie.s.vb),Ie=J+kE}if(re&ge||(_e=Gr(he,re,J)),t(_e!=null),_e.Qb&&(N[Se]=_e.qb,ze=!0),!ze)if(te(ne),_e.jc){Oe=ne,st=N;var Je=Se,St=_e.pd[$(Oe)&jn-1];t(_e.jc),256>St.g?(Z(Oe,Oe.u+St.g),st[Je]=St.value,Oe=0):(Z(Oe,Oe.u+St.g-256),t(256<=St.value),Oe=St.value),Oe==0&&(ze=!0)}else Oe=is(_e.G[0],_e.H[0],ne);if(ne.h)break;if(ze||256>Oe){if(!ze)if(_e.nd)N[Se]=(_e.qb|Oe<<8)>>>0;else{if(te(ne),ze=is(_e.G[1],_e.H[1],ne),te(ne),st=is(_e.G[2],_e.H[2],ne),Je=is(_e.G[3],_e.H[3],ne),ne.h)break;N[Se]=(Je<<24|ze<<16|Oe<<8|st)>>>0}if(ze=!1,++Se,++re>=z&&(re=0,++J,X!=null&&J<=K&&!(J%16)&&X(h,J),xe!=null))for(;Ce<Se;)Oe=N[Ce++],xe.X[(506832829*Oe&4294967295)>>>xe.Mb]=Oe}else if(280>Oe){if(Oe=pa(Oe-256,ne),st=is(_e.G[4],_e.H[4],ne),te(ne),st=Ua(z,st=pa(st,ne)),ne.h)break;if(Se-F<st||Q-Se<Oe)break e;for(Je=0;Je<Oe;++Je)N[Se+Je]=N[Se+Je-st];for(Se+=Oe,re+=Oe;re>=z;)re-=z,++J,X!=null&&J<=K&&!(J%16)&&X(h,J);if(t(Se<=Q),re&ge&&(_e=Gr(he,re,J)),xe!=null)for(;Ce<Se;)Oe=N[Ce++],xe.X[(506832829*Oe&4294967295)>>>xe.Mb]=Oe}else{if(!(Oe<Me))break e;for(ze=Oe-280,t(xe!=null);Ce<Se;)Oe=N[Ce++],xe.X[(506832829*Oe&4294967295)>>>xe.Mb]=Oe;Oe=Se,t(!(ze>>>(st=xe).Xa)),N[Oe]=st.X[ze],ze=!0}ze||t(ne.h==G(ne))}if(h.Pb&&ne.h&&Se<Q)t(h.m.h),h.a=5,h.m=h.wd,h.$=h.xd,0<h.s.ua&&se(h.s.vb,h.s.Wa);else{if(ne.h)break e;X!=null&&X(h,J>K?K:J),h.a=0,h.$=Se-F}return 1}return h.a=3,0}function Va(h){t(h!=null),h.vc=null,h.yc=null,h.Ya=null;var N=h.Wa;N!=null&&(N.X=null),h.vb=null,t(h!=null)}function Us(){var h=new ng;return h==null?null:(h.a=0,h.xb=I2,as("Predictor","VP8LPredictors"),as("Predictor","VP8LPredictors_C"),as("PredictorAdd","VP8LPredictorsAdd"),as("PredictorAdd","VP8LPredictorsAdd_C"),mm=dt,rl=gt,cs=Ye,Kn=Kt,Yi=Ot,ji=en,wi=Xt,S.VP8LMapColor32b=fc,S.VP8LMapColor8b=hm,h)}function Wa(h,N,F,z,Q){var K=1,X=[h],J=[N],re=z.m,ne=z.s,he=null,Se=0;e:for(;;){if(F)for(;K&&q(re,1);){var Ce=X,ye=J,Me=z,Ie=1,xe=Me.m,ge=Me.gc[Me.ab],_e=q(xe,2);if(Me.Oc&1<<_e)K=0;else{switch(Me.Oc|=1<<_e,ge.hc=_e,ge.Ea=Ce[0],ge.nc=ye[0],ge.K=[null],++Me.ab,t(4>=Me.ab),_e){case 0:case 1:ge.b=q(xe,3)+2,Ie=Wa(Fe(ge.Ea,ge.b),Fe(ge.nc,ge.b),0,Me,ge.K),ge.K=ge.K[0];break;case 3:var ze,Oe=q(xe,8)+1,st=16<Oe?0:4<Oe?1:2<Oe?2:3;if(Ce[0]=Fe(ge.Ea,st),ge.b=st,ze=Ie=Wa(Oe,1,0,Me,ge.K)){var Je,St=Oe,tt=ge,Jt=1<<(8>>tt.b),er=i(Jt);if(er==null)ze=0;else{var Ht=tt.K[0],zt=tt.w;for(er[0]=tt.K[0][0],Je=1;Je<1*St;++Je)er[Je]=ke(Ht[zt+Je],er[Je-1]);for(;Je<4*Jt;++Je)er[Je]=0;tt.K[0]=null,tt.K[0]=er,ze=1}}Ie=ze;break;case 2:break;default:t(0)}K=Ie}}if(X=X[0],J=J[0],K&&q(re,1)&&!(K=1<=(Se=q(re,4))&&11>=Se)){z.a=3;break e}var cr;if(cr=K)t:{var ir,Mt,Yr,ds=z,Kr=X,us=J,tr=Se,Ss=F,Cs=ds.m,pn=ds.s,wn=[null],Jn=1,Ys=0,Qa=PE[tr];r:for(;;){if(Ss&&q(Cs,1)){var mn=q(Cs,3)+2,Ai=Fe(Kr,mn),ol=Fe(us,mn),yc=Ai*ol;if(!Wa(Ai,ol,0,ds,wn))break r;for(wn=wn[0],pn.xc=mn,ir=0;ir<yc;++ir){var eo=wn[ir]>>8&65535;wn[ir]=eo,eo>=Jn&&(Jn=eo+1)}}if(Cs.h)break r;for(Mt=0;5>Mt;++Mt){var Fr=A2[Mt];!Mt&&0<tr&&(Fr+=1<<tr),Ys<Fr&&(Ys=Fr)}var mg=o(Jn*Qa,w),O2=Jn,M2=o(O2,L);if(M2==null)var Em=null;else t(65536>=O2),Em=M2;var ru=i(Ys);if(Em==null||ru==null||mg==null){ds.a=1;break r}var Im=mg;for(ir=Yr=0;ir<Jn;++ir){var ba=Em[ir],bc=ba.G,jc=ba.H,B2=0,Pm=1,z2=0;for(Mt=0;5>Mt;++Mt){Fr=A2[Mt],bc[Mt]=Im,jc[Mt]=Yr,!Mt&&0<tr&&(Fr+=1<<tr);s:{var km,fg=Fr,Dm=ds,nu=ru,KE=Im,XE=Yr,hg=0,to=Dm.m,JE=q(to,1);if(a(nu,0,0,fg),JE){var ZE=q(to,1)+1,e6=q(to,1),$2=q(to,e6==0?1:8);nu[$2]=1,ZE==2&&(nu[$2=q(to,8)]=1);var Lm=1}else{var U2=i(19),V2=q(to,4)+4;if(19<V2){Dm.a=3;var Tm=0;break s}for(km=0;km<V2;++km)U2[EE[km]]=q(to,3);var xg=void 0,su=void 0,W2=Dm,t6=U2,Rm=fg,q2=nu,gg=0,ro=W2.m,H2=8,G2=o(128,w);n:for(;C(G2,0,7,t6,19);){if(q(ro,1)){var r6=2+2*q(ro,3);if((xg=2+q(ro,r6))>Rm)break n}else xg=Rm;for(su=0;su<Rm&&xg--;){te(ro);var Q2=G2[0+(127&$(ro))];Z(ro,ro.u+Q2.g);var wc=Q2.value;if(16>wc)q2[su++]=wc,wc!=0&&(H2=wc);else{var n6=wc==16,Y2=wc-16,s6=CE[Y2],K2=q(ro,SE[Y2])+s6;if(su+K2>Rm)break n;for(var a6=n6?H2:0;0<K2--;)q2[su++]=a6}}gg=1;break n}gg||(W2.a=3),Lm=gg}(Lm=Lm&&!to.h)&&(hg=C(KE,XE,8,nu,fg)),Lm&&hg!=0?Tm=hg:(Dm.a=3,Tm=0)}if(Tm==0)break r;if(Pm&&AE[Mt]==1&&(Pm=Im[Yr].g==0),B2+=Im[Yr].g,Yr+=Tm,3>=Mt){var au,vg=ru[0];for(au=1;au<Fr;++au)ru[au]>vg&&(vg=ru[au]);z2+=vg}}if(ba.nd=Pm,ba.Qb=0,Pm&&(ba.qb=(bc[3][jc[3]+0].value<<24|bc[1][jc[1]+0].value<<16|bc[2][jc[2]+0].value)>>>0,B2==0&&256>bc[0][jc[0]+0].value&&(ba.Qb=1,ba.qb+=bc[0][jc[0]+0].value<<8)),ba.jc=!ba.Qb&&6>z2,ba.jc){var Fm,Ei=ba;for(Fm=0;Fm<jn;++Fm){var no=Fm,so=Ei.pd[no],_m=Ei.G[0][Ei.H[0]+no];256<=_m.value?(so.g=_m.g+256,so.value=_m.value):(so.g=0,so.value=0,no>>=tn(_m,8,so),no>>=tn(Ei.G[1][Ei.H[1]+no],16,so),no>>=tn(Ei.G[2][Ei.H[2]+no],0,so),tn(Ei.G[3][Ei.H[3]+no],24,so))}}}pn.vc=wn,pn.Wb=Jn,pn.Ya=Em,pn.yc=mg,cr=1;break t}cr=0}if(!(K=cr)){z.a=3;break e}if(0<Se){if(ne.ua=1<<Se,!pe(ne.Wa,Se)){z.a=1,K=0;break e}}else ne.ua=0;var yg=z,X2=X,i6=J,bg=yg.s,jg=bg.xc;if(yg.c=X2,yg.i=i6,bg.md=Fe(X2,jg),bg.wc=jg==0?-1:(1<<jg)-1,F){z.xb=OE;break e}if((he=i(X*J))==null){z.a=1,K=0;break e}K=(K=ha(z,he,0,X,J,J,null))&&!re.h;break e}return K?(Q!=null?Q[0]=he:(t(he==null),t(F)),z.$=0,F||Va(ne)):Va(ne),K}function Xo(h,N){var F=h.c*h.i,z=F+N+16*N;return t(h.c<=N),h.V=i(z),h.V==null?(h.Ta=null,h.Ua=0,h.a=1,0):(h.Ta=h.V,h.Ua=h.Ba+F+N,1)}function Yl(h,N){var F=h.C,z=N-F,Q=h.V,K=h.Ba+h.c*F;for(t(N<=h.l.o);0<z;){var X=16<z?16:z,J=h.l.ma,re=h.l.width,ne=re*X,he=J.ca,Se=J.tb+re*F,Ce=h.Ta,ye=h.Ua;js(h,X,Q,K),$r(Ce,ye,he,Se,ne),ma(J,F,F+X,he,Se,re),z-=X,Q+=X*h.c,F+=X}t(F==N),h.C=h.Ma=N}function Kl(){this.ub=this.yd=this.td=this.Rb=0}function Xl(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Jl(){this.Fb=this.Bb=this.Cb=0,this.Zb=i(4),this.Lb=i(4)}function Gp(){this.Yb=function(){var h=[];return function N(F,z,Q){for(var K=Q[z],X=0;X<K&&(F.push(Q.length>z+1?[]:0),!(Q.length<z+1));X++)N(F[X],z+1,Q)}(h,0,[3,11]),h}()}function Rx(){this.jb=i(3),this.Wc=l([4,8],Gp),this.Xc=l([4,17],Gp)}function Fx(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new i(4),this.od=new i(4)}function Zl(){this.ld=this.La=this.dd=this.tc=0}function Qp(){this.Na=this.la=0}function _x(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function kd(){this.ad=i(384),this.Za=0,this.Ob=i(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Ox(){this.uc=this.M=this.Nb=0,this.wa=Array(new Zl),this.Y=0,this.ya=Array(new kd),this.aa=0,this.l=new ec}function Yp(){this.y=i(16),this.f=i(8),this.ea=i(8)}function Mx(){this.cb=this.a=0,this.sc="",this.m=new H,this.Od=new Kl,this.Kc=new Xl,this.ed=new Fx,this.Qa=new Jl,this.Ic=this.$c=this.Aa=0,this.D=new Ox,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=o(8,H),this.ia=0,this.pb=o(4,_x),this.Pa=new Rx,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Yp),this.Hd=0,this.rb=Array(new Qp),this.sb=0,this.wa=Array(new Zl),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new kd),this.L=this.aa=0,this.gd=l([4,2],Zl),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function ec(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Bx(){var h=new Mx;return h!=null&&(h.a=0,h.sc="OK",h.cb=0,h.Xb=0,eu||(eu=Jp)),h}function Br(h,N,F){return h.a==0&&(h.a=N,h.sc=F,h.cb=0),0}function Kp(h,N,F){return 3<=F&&h[N+0]==157&&h[N+1]==1&&h[N+2]==42}function Xp(h,N){if(h==null)return 0;if(h.a=0,h.sc="OK",N==null)return Br(h,2,"null VP8Io passed to VP8GetHeaders()");var F=N.data,z=N.w,Q=N.ha;if(4>Q)return Br(h,7,"Truncated header.");var K=F[z+0]|F[z+1]<<8|F[z+2]<<16,X=h.Od;if(X.Rb=!(1&K),X.td=K>>1&7,X.yd=K>>4&1,X.ub=K>>5,3<X.td)return Br(h,3,"Incorrect keyframe parameters.");if(!X.yd)return Br(h,4,"Frame not displayable.");z+=3,Q-=3;var J=h.Kc;if(X.Rb){if(7>Q)return Br(h,7,"cannot parse picture header");if(!Kp(F,z,Q))return Br(h,3,"Bad code word");J.c=16383&(F[z+4]<<8|F[z+3]),J.Td=F[z+4]>>6,J.i=16383&(F[z+6]<<8|F[z+5]),J.Ud=F[z+6]>>6,z+=7,Q-=7,h.za=J.c+15>>4,h.Ub=J.i+15>>4,N.width=J.c,N.height=J.i,N.Da=0,N.j=0,N.v=0,N.va=N.width,N.o=N.height,N.da=0,N.ib=N.width,N.hb=N.height,N.U=N.width,N.T=N.height,a((K=h.Pa).jb,0,255,K.jb.length),t((K=h.Qa)!=null),K.Cb=0,K.Bb=0,K.Fb=1,a(K.Zb,0,0,K.Zb.length),a(K.Lb,0,0,K.Lb)}if(X.ub>Q)return Br(h,7,"bad partition length");W(K=h.m,F,z,X.ub),z+=X.ub,Q-=X.ub,X.Rb&&(J.Ld=ce(K),J.Kd=ce(K)),J=h.Qa;var re,ne=h.Pa;if(t(K!=null),t(J!=null),J.Cb=ce(K),J.Cb){if(J.Bb=ce(K),ce(K)){for(J.Fb=ce(K),re=0;4>re;++re)J.Zb[re]=ce(K)?_(K,7):0;for(re=0;4>re;++re)J.Lb[re]=ce(K)?_(K,6):0}if(J.Bb)for(re=0;3>re;++re)ne.jb[re]=ce(K)?V(K,8):255}else J.Bb=0;if(K.Ka)return Br(h,3,"cannot parse segment header");if((J=h.ed).zd=ce(K),J.Tb=V(K,6),J.wb=V(K,3),J.Pc=ce(K),J.Pc&&ce(K)){for(ne=0;4>ne;++ne)ce(K)&&(J.vd[ne]=_(K,6));for(ne=0;4>ne;++ne)ce(K)&&(J.od[ne]=_(K,6))}if(h.L=J.Tb==0?0:J.zd?1:2,K.Ka)return Br(h,3,"cannot parse filter header");var he=Q;if(Q=re=z,z=re+he,J=he,h.Xb=(1<<V(h.m,2))-1,he<3*(ne=h.Xb))F=7;else{for(re+=3*ne,J-=3*ne,he=0;he<ne;++he){var Se=F[Q+0]|F[Q+1]<<8|F[Q+2]<<16;Se>J&&(Se=J),W(h.Jc[+he],F,re,Se),re+=Se,J-=Se,Q+=3}W(h.Jc[+ne],F,re,J),F=re<z?0:5}if(F!=0)return Br(h,F,"cannot parse partitions");for(F=V(re=h.m,7),Q=ce(re)?_(re,4):0,z=ce(re)?_(re,4):0,J=ce(re)?_(re,4):0,ne=ce(re)?_(re,4):0,re=ce(re)?_(re,4):0,he=h.Qa,Se=0;4>Se;++Se){if(he.Cb){var Ce=he.Zb[Se];he.Fb||(Ce+=F)}else{if(0<Se){h.pb[Se]=h.pb[0];continue}Ce=F}var ye=h.pb[Se];ye.Sc[0]=dg[ws(Ce+Q,127)],ye.Sc[1]=ug[ws(Ce+0,127)],ye.Eb[0]=2*dg[ws(Ce+z,127)],ye.Eb[1]=101581*ug[ws(Ce+J,127)]>>16,8>ye.Eb[1]&&(ye.Eb[1]=8),ye.Qc[0]=dg[ws(Ce+ne,117)],ye.Qc[1]=ug[ws(Ce+re,127)],ye.lc=Ce+re}if(!X.Rb)return Br(h,4,"Not a key frame.");for(ce(K),X=h.Pa,F=0;4>F;++F){for(Q=0;8>Q;++Q)for(z=0;3>z;++z)for(J=0;11>J;++J)ne=de(K,FE[F][Q][z][J])?V(K,8):TE[F][Q][z][J],X.Wc[F][Q].Yb[z][J]=ne;for(Q=0;17>Q;++Q)X.Xc[F][Q]=X.Wc[F][_E[Q]]}return h.kc=ce(K),h.kc&&(h.Bd=V(K,8)),h.cb=1}function Jp(h,N,F,z,Q,K,X){var J=N[Q].Yb[F];for(F=0;16>Q;++Q){if(!de(h,J[F+0]))return Q;for(;!de(h,J[F+1]);)if(J=N[++Q].Yb[0],F=0,Q==16)return 16;var re=N[Q+1].Yb;if(de(h,J[F+2])){var ne=h,he=0;if(de(ne,(Ce=J)[(Se=F)+3]))if(de(ne,Ce[Se+6])){for(J=0,Se=2*(he=de(ne,Ce[Se+8]))+(Ce=de(ne,Ce[Se+9+he])),he=0,Ce=DE[Se];Ce[J];++J)he+=he+de(ne,Ce[J]);he+=3+(8<<Se)}else de(ne,Ce[Se+7])?(he=7+2*de(ne,165),he+=de(ne,145)):he=5+de(ne,159);else he=de(ne,Ce[Se+4])?3+de(ne,Ce[Se+5]):2;J=re[2]}else he=1,J=re[1];re=X+LE[Q],0>(ne=h).b&&le(ne);var Se,Ce=ne.b,ye=(Se=ne.Ca>>1)-(ne.I>>Ce)>>31;--ne.b,ne.Ca+=ye,ne.Ca|=1,ne.I-=(Se+1&ye)<<Ce,K[re]=((he^ye)-ye)*z[(0<Q)+0]}return 16}function Dd(h){var N=h.rb[h.sb-1];N.la=0,N.Na=0,a(h.zc,0,0,h.zc.length),h.ja=0}function zx(h,N){if(h==null)return 0;if(N==null)return Br(h,2,"NULL VP8Io parameter in VP8Decode().");if(!h.cb&&!Xp(h,N))return 0;if(t(h.cb),N.ac==null||N.ac(N)){N.ob&&(h.L=0);var F=Am[h.L];if(h.L==2?(h.yb=0,h.zb=0):(h.yb=N.v-F>>4,h.zb=N.j-F>>4,0>h.yb&&(h.yb=0),0>h.zb&&(h.zb=0)),h.Va=N.o+15+F>>4,h.Hb=N.va+15+F>>4,h.Hb>h.za&&(h.Hb=h.za),h.Va>h.Ub&&(h.Va=h.Ub),0<h.L){var z=h.ed;for(F=0;4>F;++F){var Q;if(h.Qa.Cb){var K=h.Qa.Lb[F];h.Qa.Fb||(K+=z.Tb)}else K=z.Tb;for(Q=0;1>=Q;++Q){var X=h.gd[F][Q],J=K;if(z.Pc&&(J+=z.vd[0],Q&&(J+=z.od[0])),0<(J=0>J?0:63<J?63:J)){var re=J;0<z.wb&&(re=4<z.wb?re>>2:re>>1)>9-z.wb&&(re=9-z.wb),1>re&&(re=1),X.dd=re,X.tc=2*J+re,X.ld=40<=J?2:15<=J?1:0}else X.tc=0;X.La=Q}}}F=0}else Br(h,6,"Frame setup failed"),F=h.a;if(F=F==0){if(F){h.$c=0,0<h.Aa||(h.Ic=YE);e:{F=h.Ic,z=4*(re=h.za);var ne=32*re,he=re+1,Se=0<h.L?re*(0<h.Aa?2:1):0,Ce=(h.Aa==2?2:1)*re;if((X=z+832+(Q=3*(16*F+Am[h.L])/2*ne)+(K=h.Fa!=null&&0<h.Fa.length?h.Kc.c*h.Kc.i:0))!=X)F=0;else{if(X>h.Vb){if(h.Vb=0,h.Ec=i(X),h.Fc=0,h.Ec==null){F=Br(h,1,"no memory during frame initialization.");break e}h.Vb=X}X=h.Ec,J=h.Fc,h.Ac=X,h.Bc=J,J+=z,h.Gd=o(ne,Yp),h.Hd=0,h.rb=o(he+1,Qp),h.sb=1,h.wa=Se?o(Se,Zl):null,h.Y=0,h.D.Nb=0,h.D.wa=h.wa,h.D.Y=h.Y,0<h.Aa&&(h.D.Y+=re),t(!0),h.oc=X,h.pc=J,J+=832,h.ya=o(Ce,kd),h.aa=0,h.D.ya=h.ya,h.D.aa=h.aa,h.Aa==2&&(h.D.aa+=re),h.R=16*re,h.B=8*re,re=(ne=Am[h.L])*h.R,ne=ne/2*h.B,h.sa=X,h.ta=J+re,h.qa=h.sa,h.ra=h.ta+16*F*h.R+ne,h.Ha=h.qa,h.Ia=h.ra+8*F*h.B+ne,h.$c=0,J+=Q,h.mb=K?X:null,h.nb=K?J:null,t(J+K<=h.Fc+h.Vb),Dd(h),a(h.Ac,h.Bc,0,z),F=1}}if(F){if(N.ka=0,N.y=h.sa,N.O=h.ta,N.f=h.qa,N.N=h.ra,N.ea=h.Ha,N.Vd=h.Ia,N.fa=h.R,N.Rc=h.B,N.F=null,N.J=0,!gm){for(F=-255;255>=F;++F)rn[255+F]=0>F?-F:F;for(F=-1020;1020>=F;++F)Si[1020+F]=-128>F?-128:127<F?127:F;for(F=-112;112>=F;++F)Zd[112+F]=-16>F?-16:15<F?15:F;for(F=-255;510>=F;++F)vc[255+F]=0>F?0:255<F?255:F;gm=1}hc=Vx,Ni=$x,Kd=em,Xn=Ux,Ws=tm,zr=Zp,xc=Od,xm=el,Xd=rg,nl=Md,sl=tg,Ki=ic,al=Bd,gc=dm,il=cm,Xi=Ha,Jd=bi,qs=eg,ya[0]=qa,ya[1]=Wx,ya[2]=Qx,ya[3]=Yx,ya[4]=sm,ya[5]=sc,ya[6]=am,ya[7]=Rd,ya[8]=Xx,ya[9]=Kx,Ji[0]=rm,Ji[1]=Hx,Ji[2]=yi,Ji[3]=rc,Ji[4]=Rn,Ji[5]=Gx,Ji[6]=nm,Ci[0]=qi,Ci[1]=qx,Ci[2]=Jx,Ci[3]=Fd,Ci[4]=Zo,Ci[5]=Zx,Ci[6]=_d,F=1}else F=0}F&&(F=function(ye,Me){for(ye.M=0;ye.M<ye.Va;++ye.M){var Ie,xe=ye.Jc[ye.M&ye.Xb],ge=ye.m,_e=ye;for(Ie=0;Ie<_e.za;++Ie){var ze=ge,Oe=_e,st=Oe.Ac,Je=Oe.Bc+4*Ie,St=Oe.zc,tt=Oe.ya[Oe.aa+Ie];if(Oe.Qa.Bb?tt.$b=de(ze,Oe.Pa.jb[0])?2+de(ze,Oe.Pa.jb[2]):de(ze,Oe.Pa.jb[1]):tt.$b=0,Oe.kc&&(tt.Ad=de(ze,Oe.Bd)),tt.Za=!de(ze,145)+0,tt.Za){var Jt=tt.Ob,er=0;for(Oe=0;4>Oe;++Oe){var Ht,zt=St[0+Oe];for(Ht=0;4>Ht;++Ht){zt=RE[st[Je+Ht]][zt];for(var cr=E2[de(ze,zt[0])];0<cr;)cr=E2[2*cr+de(ze,zt[cr])];zt=-cr,st[Je+Ht]=zt}s(Jt,er,st,Je,4),er+=4,St[0+Oe]=zt}}else zt=de(ze,156)?de(ze,128)?1:3:de(ze,163)?2:0,tt.Ob[0]=zt,a(st,Je,zt,4),a(St,0,zt,4);tt.Dd=de(ze,142)?de(ze,114)?de(ze,183)?1:3:2:0}if(_e.m.Ka)return Br(ye,7,"Premature end-of-partition0 encountered.");for(;ye.ja<ye.za;++ye.ja){if(_e=xe,ze=(ge=ye).rb[ge.sb-1],st=ge.rb[ge.sb+ge.ja],Ie=ge.ya[ge.aa+ge.ja],Je=ge.kc?Ie.Ad:0)ze.la=st.la=0,Ie.Za||(ze.Na=st.Na=0),Ie.Hc=0,Ie.Gc=0,Ie.ia=0;else{var ir,Mt;if(ze=st,st=_e,Je=ge.Pa.Xc,St=ge.ya[ge.aa+ge.ja],tt=ge.pb[St.$b],Oe=St.ad,Jt=0,er=ge.rb[ge.sb-1],zt=Ht=0,a(Oe,Jt,0,384),St.Za)var Yr=0,ds=Je[3];else{cr=i(16);var Kr=ze.Na+er.Na;if(Kr=eu(st,Je[1],Kr,tt.Eb,0,cr,0),ze.Na=er.Na=(0<Kr)+0,1<Kr)hc(cr,0,Oe,Jt);else{var us=cr[0]+3>>3;for(cr=0;256>cr;cr+=16)Oe[Jt+cr]=us}Yr=1,ds=Je[0]}var tr=15&ze.la,Ss=15&er.la;for(cr=0;4>cr;++cr){var Cs=1&Ss;for(us=Mt=0;4>us;++us)tr=tr>>1|(Cs=(Kr=eu(st,ds,Kr=Cs+(1&tr),tt.Sc,Yr,Oe,Jt))>Yr)<<7,Mt=Mt<<2|(3<Kr?3:1<Kr?2:Oe[Jt+0]!=0),Jt+=16;tr>>=4,Ss=Ss>>1|Cs<<7,Ht=(Ht<<8|Mt)>>>0}for(ds=tr,Yr=Ss>>4,ir=0;4>ir;ir+=2){for(Mt=0,tr=ze.la>>4+ir,Ss=er.la>>4+ir,cr=0;2>cr;++cr){for(Cs=1&Ss,us=0;2>us;++us)Kr=Cs+(1&tr),tr=tr>>1|(Cs=0<(Kr=eu(st,Je[2],Kr,tt.Qc,0,Oe,Jt)))<<3,Mt=Mt<<2|(3<Kr?3:1<Kr?2:Oe[Jt+0]!=0),Jt+=16;tr>>=2,Ss=Ss>>1|Cs<<5}zt|=Mt<<4*ir,ds|=tr<<4<<ir,Yr|=(240&Ss)<<ir}ze.la=ds,er.la=Yr,St.Hc=Ht,St.Gc=zt,St.ia=43690&zt?0:tt.ia,Je=!(Ht|zt)}if(0<ge.L&&(ge.wa[ge.Y+ge.ja]=ge.gd[Ie.$b][Ie.Za],ge.wa[ge.Y+ge.ja].La|=!Je),_e.Ka)return Br(ye,7,"Premature end-of-file encountered.")}if(Dd(ye),ge=Me,_e=1,Ie=(xe=ye).D,ze=0<xe.L&&xe.M>=xe.zb&&xe.M<=xe.Va,xe.Aa==0)e:{if(Ie.M=xe.M,Ie.uc=ze,qd(xe,Ie),_e=1,Ie=(Mt=xe.D).Nb,ze=(zt=Am[xe.L])*xe.R,st=zt/2*xe.B,cr=16*Ie*xe.R,us=8*Ie*xe.B,Je=xe.sa,St=xe.ta-ze+cr,tt=xe.qa,Oe=xe.ra-st+us,Jt=xe.Ha,er=xe.Ia-st+us,Ss=(tr=Mt.M)==0,Ht=tr>=xe.Va-1,xe.Aa==2&&qd(xe,Mt),Mt.uc)for(Cs=(Kr=xe).D.M,t(Kr.D.uc),Mt=Kr.yb;Mt<Kr.Hb;++Mt){Yr=Mt,ds=Cs;var pn=(wn=(Fr=Kr).D).Nb;ir=Fr.R;var wn=wn.wa[wn.Y+Yr],Jn=Fr.sa,Ys=Fr.ta+16*pn*ir+16*Yr,Qa=wn.dd,mn=wn.tc;if(mn!=0)if(t(3<=mn),Fr.L==1)0<Yr&&Xi(Jn,Ys,ir,mn+4),wn.La&&qs(Jn,Ys,ir,mn),0<ds&&il(Jn,Ys,ir,mn+4),wn.La&&Jd(Jn,Ys,ir,mn);else{var Ai=Fr.B,ol=Fr.qa,yc=Fr.ra+8*pn*Ai+8*Yr,eo=Fr.Ha,Fr=Fr.Ia+8*pn*Ai+8*Yr;pn=wn.ld,0<Yr&&(xm(Jn,Ys,ir,mn+4,Qa,pn),nl(ol,yc,eo,Fr,Ai,mn+4,Qa,pn)),wn.La&&(Ki(Jn,Ys,ir,mn,Qa,pn),gc(ol,yc,eo,Fr,Ai,mn,Qa,pn)),0<ds&&(xc(Jn,Ys,ir,mn+4,Qa,pn),Xd(ol,yc,eo,Fr,Ai,mn+4,Qa,pn)),wn.La&&(sl(Jn,Ys,ir,mn,Qa,pn),al(ol,yc,eo,Fr,Ai,mn,Qa,pn))}}if(xe.ia&&alert("todo:DitherRow"),ge.put!=null){if(Mt=16*tr,tr=16*(tr+1),Ss?(ge.y=xe.sa,ge.O=xe.ta+cr,ge.f=xe.qa,ge.N=xe.ra+us,ge.ea=xe.Ha,ge.W=xe.Ia+us):(Mt-=zt,ge.y=Je,ge.O=St,ge.f=tt,ge.N=Oe,ge.ea=Jt,ge.W=er),Ht||(tr-=zt),tr>ge.o&&(tr=ge.o),ge.F=null,ge.J=null,xe.Fa!=null&&0<xe.Fa.length&&Mt<tr&&(ge.J=Vd(xe,ge,Mt,tr-Mt),ge.F=xe.mb,ge.F==null&&ge.F.length==0)){_e=Br(xe,3,"Could not decode alpha data.");break e}Mt<ge.j&&(zt=ge.j-Mt,Mt=ge.j,t(!(1&zt)),ge.O+=xe.R*zt,ge.N+=xe.B*(zt>>1),ge.W+=xe.B*(zt>>1),ge.F!=null&&(ge.J+=ge.width*zt)),Mt<tr&&(ge.O+=ge.v,ge.N+=ge.v>>1,ge.W+=ge.v>>1,ge.F!=null&&(ge.J+=ge.v),ge.ka=Mt-ge.j,ge.U=ge.va-ge.v,ge.T=tr-Mt,_e=ge.put(ge))}Ie+1!=xe.Ic||Ht||(s(xe.sa,xe.ta-ze,Je,St+16*xe.R,ze),s(xe.qa,xe.ra-st,tt,Oe+8*xe.B,st),s(xe.Ha,xe.Ia-st,Jt,er+8*xe.B,st))}if(!_e)return Br(ye,6,"Output aborted.")}return 1}(h,N)),N.bc!=null&&N.bc(N),F&=1}return F?(h.cb=0,F):0}function xa(h,N,F,z,Q){Q=h[N+F+32*z]+(Q>>3),h[N+F+32*z]=-256&Q?0>Q?0:255:Q}function tc(h,N,F,z,Q,K){xa(h,N,0,F,z+Q),xa(h,N,1,F,z+K),xa(h,N,2,F,z-K),xa(h,N,3,F,z-Q)}function os(h){return(20091*h>>16)+h}function Ld(h,N,F,z){var Q,K=0,X=i(16);for(Q=0;4>Q;++Q){var J=h[N+0]+h[N+8],re=h[N+0]-h[N+8],ne=(35468*h[N+4]>>16)-os(h[N+12]),he=os(h[N+4])+(35468*h[N+12]>>16);X[K+0]=J+he,X[K+1]=re+ne,X[K+2]=re-ne,X[K+3]=J-he,K+=4,N++}for(Q=K=0;4>Q;++Q)J=(h=X[K+0]+4)+X[K+8],re=h-X[K+8],ne=(35468*X[K+4]>>16)-os(X[K+12]),xa(F,z,0,0,J+(he=os(X[K+4])+(35468*X[K+12]>>16))),xa(F,z,1,0,re+ne),xa(F,z,2,0,re-ne),xa(F,z,3,0,J-he),K++,z+=32}function Zp(h,N,F,z){var Q=h[N+0]+4,K=35468*h[N+4]>>16,X=os(h[N+4]),J=35468*h[N+1]>>16;tc(F,z,0,Q+X,h=os(h[N+1]),J),tc(F,z,1,Q+K,h,J),tc(F,z,2,Q-K,h,J),tc(F,z,3,Q-X,h,J)}function $x(h,N,F,z,Q){Ld(h,N,F,z),Q&&Ld(h,N+16,F,z+4)}function em(h,N,F,z){Ni(h,N+0,F,z,1),Ni(h,N+32,F,z+128,1)}function Ux(h,N,F,z){var Q;for(h=h[N+0]+4,Q=0;4>Q;++Q)for(N=0;4>N;++N)xa(F,z,N,Q,h)}function tm(h,N,F,z){h[N+0]&&Xn(h,N+0,F,z),h[N+16]&&Xn(h,N+16,F,z+4),h[N+32]&&Xn(h,N+32,F,z+128),h[N+48]&&Xn(h,N+48,F,z+128+4)}function Vx(h,N,F,z){var Q,K=i(16);for(Q=0;4>Q;++Q){var X=h[N+0+Q]+h[N+12+Q],J=h[N+4+Q]+h[N+8+Q],re=h[N+4+Q]-h[N+8+Q],ne=h[N+0+Q]-h[N+12+Q];K[0+Q]=X+J,K[8+Q]=X-J,K[4+Q]=ne+re,K[12+Q]=ne-re}for(Q=0;4>Q;++Q)X=(h=K[0+4*Q]+3)+K[3+4*Q],J=K[1+4*Q]+K[2+4*Q],re=K[1+4*Q]-K[2+4*Q],ne=h-K[3+4*Q],F[z+0]=X+J>>3,F[z+16]=ne+re>>3,F[z+32]=X-J>>3,F[z+48]=ne-re>>3,z+=64}function Td(h,N,F){var z,Q=N-32,K=Ns,X=255-h[Q-1];for(z=0;z<F;++z){var J,re=K,ne=X+h[N-1];for(J=0;J<F;++J)h[N+J]=re[ne+h[Q+J]];N+=32}}function Wx(h,N){Td(h,N,4)}function qx(h,N){Td(h,N,8)}function Hx(h,N){Td(h,N,16)}function yi(h,N){var F;for(F=0;16>F;++F)s(h,N+32*F,h,N-32,16)}function rc(h,N){var F;for(F=16;0<F;--F)a(h,N,h[N-1],16),N+=32}function nc(h,N,F){var z;for(z=0;16>z;++z)a(N,F+32*z,h,16)}function rm(h,N){var F,z=16;for(F=0;16>F;++F)z+=h[N-1+32*F]+h[N+F-32];nc(z>>5,h,N)}function Rn(h,N){var F,z=8;for(F=0;16>F;++F)z+=h[N-1+32*F];nc(z>>4,h,N)}function Gx(h,N){var F,z=8;for(F=0;16>F;++F)z+=h[N+F-32];nc(z>>4,h,N)}function nm(h,N){nc(128,h,N)}function kt(h,N,F){return h+2*N+F+2>>2}function Qx(h,N){var F,z=N-32;for(z=new Uint8Array([kt(h[z-1],h[z+0],h[z+1]),kt(h[z+0],h[z+1],h[z+2]),kt(h[z+1],h[z+2],h[z+3]),kt(h[z+2],h[z+3],h[z+4])]),F=0;4>F;++F)s(h,N+32*F,z,0,z.length)}function Yx(h,N){var F=h[N-1],z=h[N-1+32],Q=h[N-1+64],K=h[N-1+96];Ne(h,N+0,16843009*kt(h[N-1-32],F,z)),Ne(h,N+32,16843009*kt(F,z,Q)),Ne(h,N+64,16843009*kt(z,Q,K)),Ne(h,N+96,16843009*kt(Q,K,K))}function qa(h,N){var F,z=4;for(F=0;4>F;++F)z+=h[N+F-32]+h[N-1+32*F];for(z>>=3,F=0;4>F;++F)a(h,N+32*F,z,4)}function sm(h,N){var F=h[N-1+0],z=h[N-1+32],Q=h[N-1+64],K=h[N-1-32],X=h[N+0-32],J=h[N+1-32],re=h[N+2-32],ne=h[N+3-32];h[N+0+96]=kt(z,Q,h[N-1+96]),h[N+1+96]=h[N+0+64]=kt(F,z,Q),h[N+2+96]=h[N+1+64]=h[N+0+32]=kt(K,F,z),h[N+3+96]=h[N+2+64]=h[N+1+32]=h[N+0+0]=kt(X,K,F),h[N+3+64]=h[N+2+32]=h[N+1+0]=kt(J,X,K),h[N+3+32]=h[N+2+0]=kt(re,J,X),h[N+3+0]=kt(ne,re,J)}function am(h,N){var F=h[N+1-32],z=h[N+2-32],Q=h[N+3-32],K=h[N+4-32],X=h[N+5-32],J=h[N+6-32],re=h[N+7-32];h[N+0+0]=kt(h[N+0-32],F,z),h[N+1+0]=h[N+0+32]=kt(F,z,Q),h[N+2+0]=h[N+1+32]=h[N+0+64]=kt(z,Q,K),h[N+3+0]=h[N+2+32]=h[N+1+64]=h[N+0+96]=kt(Q,K,X),h[N+3+32]=h[N+2+64]=h[N+1+96]=kt(K,X,J),h[N+3+64]=h[N+2+96]=kt(X,J,re),h[N+3+96]=kt(J,re,re)}function sc(h,N){var F=h[N-1+0],z=h[N-1+32],Q=h[N-1+64],K=h[N-1-32],X=h[N+0-32],J=h[N+1-32],re=h[N+2-32],ne=h[N+3-32];h[N+0+0]=h[N+1+64]=K+X+1>>1,h[N+1+0]=h[N+2+64]=X+J+1>>1,h[N+2+0]=h[N+3+64]=J+re+1>>1,h[N+3+0]=re+ne+1>>1,h[N+0+96]=kt(Q,z,F),h[N+0+64]=kt(z,F,K),h[N+0+32]=h[N+1+96]=kt(F,K,X),h[N+1+32]=h[N+2+96]=kt(K,X,J),h[N+2+32]=h[N+3+96]=kt(X,J,re),h[N+3+32]=kt(J,re,ne)}function Rd(h,N){var F=h[N+0-32],z=h[N+1-32],Q=h[N+2-32],K=h[N+3-32],X=h[N+4-32],J=h[N+5-32],re=h[N+6-32],ne=h[N+7-32];h[N+0+0]=F+z+1>>1,h[N+1+0]=h[N+0+64]=z+Q+1>>1,h[N+2+0]=h[N+1+64]=Q+K+1>>1,h[N+3+0]=h[N+2+64]=K+X+1>>1,h[N+0+32]=kt(F,z,Q),h[N+1+32]=h[N+0+96]=kt(z,Q,K),h[N+2+32]=h[N+1+96]=kt(Q,K,X),h[N+3+32]=h[N+2+96]=kt(K,X,J),h[N+3+64]=kt(X,J,re),h[N+3+96]=kt(J,re,ne)}function Kx(h,N){var F=h[N-1+0],z=h[N-1+32],Q=h[N-1+64],K=h[N-1+96];h[N+0+0]=F+z+1>>1,h[N+2+0]=h[N+0+32]=z+Q+1>>1,h[N+2+32]=h[N+0+64]=Q+K+1>>1,h[N+1+0]=kt(F,z,Q),h[N+3+0]=h[N+1+32]=kt(z,Q,K),h[N+3+32]=h[N+1+64]=kt(Q,K,K),h[N+3+64]=h[N+2+64]=h[N+0+96]=h[N+1+96]=h[N+2+96]=h[N+3+96]=K}function Xx(h,N){var F=h[N-1+0],z=h[N-1+32],Q=h[N-1+64],K=h[N-1+96],X=h[N-1-32],J=h[N+0-32],re=h[N+1-32],ne=h[N+2-32];h[N+0+0]=h[N+2+32]=F+X+1>>1,h[N+0+32]=h[N+2+64]=z+F+1>>1,h[N+0+64]=h[N+2+96]=Q+z+1>>1,h[N+0+96]=K+Q+1>>1,h[N+3+0]=kt(J,re,ne),h[N+2+0]=kt(X,J,re),h[N+1+0]=h[N+3+32]=kt(F,X,J),h[N+1+32]=h[N+3+64]=kt(z,F,X),h[N+1+64]=h[N+3+96]=kt(Q,z,F),h[N+1+96]=kt(K,Q,z)}function Jx(h,N){var F;for(F=0;8>F;++F)s(h,N+32*F,h,N-32,8)}function Fd(h,N){var F;for(F=0;8>F;++F)a(h,N,h[N-1],8),N+=32}function Jo(h,N,F){var z;for(z=0;8>z;++z)a(N,F+32*z,h,8)}function qi(h,N){var F,z=8;for(F=0;8>F;++F)z+=h[N+F-32]+h[N-1+32*F];Jo(z>>4,h,N)}function Zx(h,N){var F,z=4;for(F=0;8>F;++F)z+=h[N+F-32];Jo(z>>3,h,N)}function Zo(h,N){var F,z=4;for(F=0;8>F;++F)z+=h[N-1+32*F];Jo(z>>3,h,N)}function _d(h,N){Jo(128,h,N)}function ac(h,N,F){var z=h[N-F],Q=h[N+0],K=3*(Q-z)+ag[1020+h[N-2*F]-h[N+F]],X=vm[112+(K+4>>3)];h[N-F]=Ns[255+z+vm[112+(K+3>>3)]],h[N+0]=Ns[255+Q-X]}function im(h,N,F,z){var Q=h[N+0],K=h[N+F];return Gs[255+h[N-2*F]-h[N-F]]>z||Gs[255+K-Q]>z}function om(h,N,F,z){return 4*Gs[255+h[N-F]-h[N+0]]+Gs[255+h[N-2*F]-h[N+F]]<=z}function lm(h,N,F,z,Q){var K=h[N-3*F],X=h[N-2*F],J=h[N-F],re=h[N+0],ne=h[N+F],he=h[N+2*F],Se=h[N+3*F];return 4*Gs[255+J-re]+Gs[255+X-ne]>z?0:Gs[255+h[N-4*F]-K]<=Q&&Gs[255+K-X]<=Q&&Gs[255+X-J]<=Q&&Gs[255+Se-he]<=Q&&Gs[255+he-ne]<=Q&&Gs[255+ne-re]<=Q}function cm(h,N,F,z){var Q=2*z+1;for(z=0;16>z;++z)om(h,N+z,F,Q)&&ac(h,N+z,F)}function Ha(h,N,F,z){var Q=2*z+1;for(z=0;16>z;++z)om(h,N+z*F,1,Q)&&ac(h,N+z*F,1)}function bi(h,N,F,z){var Q;for(Q=3;0<Q;--Q)cm(h,N+=4*F,F,z)}function eg(h,N,F,z){var Q;for(Q=3;0<Q;--Q)Ha(h,N+=4,F,z)}function Hi(h,N,F,z,Q,K,X,J){for(K=2*K+1;0<Q--;){if(lm(h,N,F,K,X))if(im(h,N,F,J))ac(h,N,F);else{var re=h,ne=N,he=F,Se=re[ne-2*he],Ce=re[ne-he],ye=re[ne+0],Me=re[ne+he],Ie=re[ne+2*he],xe=27*(_e=ag[1020+3*(ye-Ce)+ag[1020+Se-Me]])+63>>7,ge=18*_e+63>>7,_e=9*_e+63>>7;re[ne-3*he]=Ns[255+re[ne-3*he]+_e],re[ne-2*he]=Ns[255+Se+ge],re[ne-he]=Ns[255+Ce+xe],re[ne+0]=Ns[255+ye-xe],re[ne+he]=Ns[255+Me-ge],re[ne+2*he]=Ns[255+Ie-_e]}N+=z}}function ga(h,N,F,z,Q,K,X,J){for(K=2*K+1;0<Q--;){if(lm(h,N,F,K,X))if(im(h,N,F,J))ac(h,N,F);else{var re=h,ne=N,he=F,Se=re[ne-he],Ce=re[ne+0],ye=re[ne+he],Me=vm[112+((Ie=3*(Ce-Se))+4>>3)],Ie=vm[112+(Ie+3>>3)],xe=Me+1>>1;re[ne-2*he]=Ns[255+re[ne-2*he]+xe],re[ne-he]=Ns[255+Se+Ie],re[ne+0]=Ns[255+Ce-Me],re[ne+he]=Ns[255+ye-xe]}N+=z}}function Od(h,N,F,z,Q,K){Hi(h,N,F,1,16,z,Q,K)}function el(h,N,F,z,Q,K){Hi(h,N,1,F,16,z,Q,K)}function tg(h,N,F,z,Q,K){var X;for(X=3;0<X;--X)ga(h,N+=4*F,F,1,16,z,Q,K)}function ic(h,N,F,z,Q,K){var X;for(X=3;0<X;--X)ga(h,N+=4,1,F,16,z,Q,K)}function rg(h,N,F,z,Q,K,X,J){Hi(h,N,Q,1,8,K,X,J),Hi(F,z,Q,1,8,K,X,J)}function Md(h,N,F,z,Q,K,X,J){Hi(h,N,1,Q,8,K,X,J),Hi(F,z,1,Q,8,K,X,J)}function Bd(h,N,F,z,Q,K,X,J){ga(h,N+4*Q,Q,1,8,K,X,J),ga(F,z+4*Q,Q,1,8,K,X,J)}function dm(h,N,F,z,Q,K,X,J){ga(h,N+4,1,Q,8,K,X,J),ga(F,z+4,1,Q,8,K,X,J)}function oc(){this.ba=new ua,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Tr,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function zd(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function $d(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function um(){this.ua=0,this.Wa=new ee,this.vb=new ee,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new L,this.yc=new w}function ng(){this.xb=this.a=0,this.l=new ec,this.ca=new ua,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new R,this.Pb=0,this.wd=new R,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new um,this.ab=0,this.gc=o(4,$d),this.Oc=0}function lc(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new ec,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function tl(h,N,F,z,Q,K,X){for(h=h==null?0:h[N+0],N=0;N<X;++N)Q[K+N]=h+F[z+N]&255,h=Q[K+N]}function Ud(h,N,F,z,Q,K,X){var J;if(h==null)tl(null,null,F,z,Q,K,X);else for(J=0;J<X;++J)Q[K+J]=h[N+J]+F[z+J]&255}function Gi(h,N,F,z,Q,K,X){if(h==null)tl(null,null,F,z,Q,K,X);else{var J,re=h[N+0],ne=re,he=re;for(J=0;J<X;++J)ne=he+(re=h[N+J])-ne,he=F[z+J]+(-256&ne?0>ne?0:255:ne)&255,ne=re,Q[K+J]=he}}function Vd(h,N,F,z){var Q=N.width,K=N.o;if(t(h!=null&&N!=null),0>F||0>=z||F+z>K)return null;if(!h.Cc){if(h.ga==null){var X;if(h.ga=new lc,(X=h.ga==null)||(X=N.width*N.o,t(h.Gb.length==0),h.Gb=i(X),h.Uc=0,h.Gb==null?X=0:(h.mb=h.Gb,h.nb=h.Uc,h.rc=null,X=1),X=!X),!X){X=h.ga;var J=h.Fa,re=h.P,ne=h.qc,he=h.mb,Se=h.nb,Ce=re+1,ye=ne-1,Me=X.l;if(t(J!=null&&he!=null&&N!=null),Zi[0]=null,Zi[1]=tl,Zi[2]=Ud,Zi[3]=Gi,X.ca=he,X.tb=Se,X.c=N.width,X.i=N.height,t(0<X.c&&0<X.i),1>=ne)N=0;else if(X.$a=J[re+0]>>0&3,X.Z=J[re+0]>>2&3,X.Lc=J[re+0]>>4&3,re=J[re+0]>>6&3,0>X.$a||1<X.$a||4<=X.Z||1<X.Lc||re)N=0;else if(Me.put=za,Me.ac=bn,Me.bc=$a,Me.ma=X,Me.width=N.width,Me.height=N.height,Me.Da=N.Da,Me.v=N.v,Me.va=N.va,Me.j=N.j,Me.o=N.o,X.$a)e:{t(X.$a==1),N=Us();t:for(;;){if(N==null){N=0;break e}if(t(X!=null),X.mc=N,N.c=X.c,N.i=X.i,N.l=X.l,N.l.ma=X,N.l.width=X.c,N.l.height=X.i,N.a=0,B(N.m,J,Ce,ye),!Wa(X.c,X.i,1,N,null)||(N.ab==1&&N.gc[0].hc==3&&vi(N.s)?(X.ic=1,J=N.c*N.i,N.Ta=null,N.Ua=0,N.V=i(J),N.Ba=0,N.V==null?(N.a=1,N=0):N=1):(X.ic=0,N=Xo(N,X.c)),!N))break t;N=1;break e}X.mc=null,N=0}else N=ye>=X.c*X.i;X=!N}if(X)return null;h.ga.Lc!=1?h.Ga=0:z=K-F}t(h.ga!=null),t(F+z<=K);e:{if(N=(J=h.ga).c,K=J.l.o,J.$a==0){if(Ce=h.rc,ye=h.Vc,Me=h.Fa,re=h.P+1+F*N,ne=h.mb,he=h.nb+F*N,t(re<=h.P+h.qc),J.Z!=0)for(t(Zi[J.Z]!=null),X=0;X<z;++X)Zi[J.Z](Ce,ye,Me,re,ne,he,N),Ce=ne,ye=he,he+=N,re+=N;else for(X=0;X<z;++X)s(ne,he,Me,re,N),Ce=ne,ye=he,he+=N,re+=N;h.rc=Ce,h.Vc=ye}else{if(t(J.mc!=null),N=F+z,t((X=J.mc)!=null),t(N<=X.i),X.C>=N)N=1;else if(J.ic||we(),J.ic){J=X.V,Ce=X.Ba,ye=X.c;var Ie=X.i,xe=(Me=1,re=X.$/ye,ne=X.$%ye,he=X.m,Se=X.s,X.$),ge=ye*Ie,_e=ye*N,ze=Se.wc,Oe=xe<_e?Gr(Se,ne,re):null;t(xe<=ge),t(N<=Ie),t(vi(Se));t:for(;;){for(;!he.h&&xe<_e;){if(ne&ze||(Oe=Gr(Se,ne,re)),t(Oe!=null),te(he),256>(Ie=is(Oe.G[0],Oe.H[0],he)))J[Ce+xe]=Ie,++xe,++ne>=ye&&(ne=0,++re<=N&&!(re%16)&&fa(X,re));else{if(!(280>Ie)){Me=0;break t}Ie=pa(Ie-256,he);var st,Je=is(Oe.G[4],Oe.H[4],he);if(te(he),!(xe>=(Je=Ua(ye,Je=pa(Je,he)))&&ge-xe>=Ie)){Me=0;break t}for(st=0;st<Ie;++st)J[Ce+xe+st]=J[Ce+xe+st-Je];for(xe+=Ie,ne+=Ie;ne>=ye;)ne-=ye,++re<=N&&!(re%16)&&fa(X,re);xe<_e&&ne&ze&&(Oe=Gr(Se,ne,re))}t(he.h==G(he))}fa(X,re>N?N:re);break t}!Me||he.h&&xe<ge?(Me=0,X.a=he.h?5:3):X.$=xe,N=Me}else N=ha(X,X.V,X.Ba,X.c,X.i,N,Yl);if(!N){z=0;break e}}F+z>=K&&(h.Cc=1),z=1}if(!z)return null;if(h.Cc&&((z=h.ga)!=null&&(z.mc=null),h.ga=null,0<h.Ga))return alert("todo:WebPDequantizeLevels"),null}return h.nb+F*Q}function I(h,N,F,z,Q,K){for(;0<Q--;){var X,J=h,re=N+(F?1:0),ne=h,he=N+(F?0:3);for(X=0;X<z;++X){var Se=ne[he+4*X];Se!=255&&(Se*=32897,J[re+4*X+0]=J[re+4*X+0]*Se>>23,J[re+4*X+1]=J[re+4*X+1]*Se>>23,J[re+4*X+2]=J[re+4*X+2]*Se>>23)}N+=K}}function Y(h,N,F,z,Q){for(;0<z--;){var K;for(K=0;K<F;++K){var X=h[N+2*K+0],J=15&(ne=h[N+2*K+1]),re=4369*J,ne=(240&ne|ne>>4)*re>>16;h[N+2*K+0]=(240&X|X>>4)*re>>16&240|(15&X|X<<4)*re>>16>>4&15,h[N+2*K+1]=240&ne|J}N+=Q}}function ie(h,N,F,z,Q,K,X,J){var re,ne,he=255;for(ne=0;ne<Q;++ne){for(re=0;re<z;++re){var Se=h[N+re];K[X+4*re]=Se,he&=Se}N+=F,X+=J}return he!=255}function ue(h,N,F,z,Q){var K;for(K=0;K<Q;++K)F[z+K]=h[N+K]>>8}function we(){Hs=I,fr=Y,hr=ie,$r=ue}function De(h,N,F){S[h]=function(z,Q,K,X,J,re,ne,he,Se,Ce,ye,Me,Ie,xe,ge,_e,ze){var Oe,st=ze-1>>1,Je=J[re+0]|ne[he+0]<<16,St=Se[Ce+0]|ye[Me+0]<<16;t(z!=null);var tt=3*Je+St+131074>>2;for(N(z[Q+0],255&tt,tt>>16,Ie,xe),K!=null&&(tt=3*St+Je+131074>>2,N(K[X+0],255&tt,tt>>16,ge,_e)),Oe=1;Oe<=st;++Oe){var Jt=J[re+Oe]|ne[he+Oe]<<16,er=Se[Ce+Oe]|ye[Me+Oe]<<16,Ht=Je+Jt+St+er+524296,zt=Ht+2*(Jt+St)>>3;tt=zt+Je>>1,Je=(Ht=Ht+2*(Je+er)>>3)+Jt>>1,N(z[Q+2*Oe-1],255&tt,tt>>16,Ie,xe+(2*Oe-1)*F),N(z[Q+2*Oe-0],255&Je,Je>>16,Ie,xe+(2*Oe-0)*F),K!=null&&(tt=Ht+St>>1,Je=zt+er>>1,N(K[X+2*Oe-1],255&tt,tt>>16,ge,_e+(2*Oe-1)*F),N(K[X+2*Oe+0],255&Je,Je>>16,ge,_e+(2*Oe+0)*F)),Je=Jt,St=er}1&ze||(tt=3*Je+St+131074>>2,N(z[Q+ze-1],255&tt,tt>>16,Ie,xe+(ze-1)*F),K!=null&&(tt=3*St+Je+131074>>2,N(K[X+ze-1],255&tt,tt>>16,ge,_e+(ze-1)*F)))}}function qe(){Qs[ym]=ME,Qs[bm]=P2,Qs[S2]=BE,Qs[jm]=k2,Qs[wm]=D2,Qs[ig]=L2,Qs[C2]=zE,Qs[og]=P2,Qs[lg]=k2,Qs[Nm]=D2,Qs[cg]=L2}function rt(h){return h&~$E?0>h?0:255:h>>T2}function bt(h,N){return rt((19077*h>>8)+(26149*N>>8)-14234)}function Ft(h,N,F){return rt((19077*h>>8)-(6419*N>>8)-(13320*F>>8)+8708)}function Tt(h,N){return rt((19077*h>>8)+(33050*N>>8)-17685)}function Wt(h,N,F,z,Q){z[Q+0]=bt(h,F),z[Q+1]=Ft(h,N,F),z[Q+2]=Tt(h,N)}function Ar(h,N,F,z,Q){z[Q+0]=Tt(h,N),z[Q+1]=Ft(h,N,F),z[Q+2]=bt(h,F)}function Rr(h,N,F,z,Q){var K=Ft(h,N,F);N=K<<3&224|Tt(h,N)>>3,z[Q+0]=248&bt(h,F)|K>>5,z[Q+1]=N}function Qr(h,N,F,z,Q){var K=240&Tt(h,N)|15;z[Q+0]=240&bt(h,F)|Ft(h,N,F)>>4,z[Q+1]=K}function Fn(h,N,F,z,Q){z[Q+0]=255,Wt(h,N,F,z,Q+1)}function un(h,N,F,z,Q){Ar(h,N,F,z,Q),z[Q+3]=255}function va(h,N,F,z,Q){Wt(h,N,F,z,Q),z[Q+3]=255}function ws(h,N){return 0>h?0:h>N?N:h}function Ga(h,N,F){S[h]=function(z,Q,K,X,J,re,ne,he,Se){for(var Ce=he+(-2&Se)*F;he!=Ce;)N(z[Q+0],K[X+0],J[re+0],ne,he),N(z[Q+1],K[X+0],J[re+0],ne,he+F),Q+=2,++X,++re,he+=2*F;1&Se&&N(z[Q+0],K[X+0],J[re+0],ne,he)}}function pm(h,N,F){return F==0?h==0?N==0?6:5:N==0?4:0:F}function Wd(h,N,F,z,Q){switch(h>>>30){case 3:Ni(N,F,z,Q,0);break;case 2:zr(N,F,z,Q);break;case 1:Xn(N,F,z,Q)}}function qd(h,N){var F,z,Q=N.M,K=N.Nb,X=h.oc,J=h.pc+40,re=h.oc,ne=h.pc+584,he=h.oc,Se=h.pc+600;for(F=0;16>F;++F)X[J+32*F-1]=129;for(F=0;8>F;++F)re[ne+32*F-1]=129,he[Se+32*F-1]=129;for(0<Q?X[J-1-32]=re[ne-1-32]=he[Se-1-32]=129:(a(X,J-32-1,127,21),a(re,ne-32-1,127,9),a(he,Se-32-1,127,9)),z=0;z<h.za;++z){var Ce=N.ya[N.aa+z];if(0<z){for(F=-1;16>F;++F)s(X,J+32*F-4,X,J+32*F+12,4);for(F=-1;8>F;++F)s(re,ne+32*F-4,re,ne+32*F+4,4),s(he,Se+32*F-4,he,Se+32*F+4,4)}var ye=h.Gd,Me=h.Hd+z,Ie=Ce.ad,xe=Ce.Hc;if(0<Q&&(s(X,J-32,ye[Me].y,0,16),s(re,ne-32,ye[Me].f,0,8),s(he,Se-32,ye[Me].ea,0,8)),Ce.Za){var ge=X,_e=J-32+16;for(0<Q&&(z>=h.za-1?a(ge,_e,ye[Me].y[15],4):s(ge,_e,ye[Me+1].y,0,4)),F=0;4>F;F++)ge[_e+128+F]=ge[_e+256+F]=ge[_e+384+F]=ge[_e+0+F];for(F=0;16>F;++F,xe<<=2)ge=X,_e=J+F2[F],ya[Ce.Ob[F]](ge,_e),Wd(xe,Ie,16*+F,ge,_e)}else if(ge=pm(z,Q,Ce.Ob[0]),Ji[ge](X,J),xe!=0)for(F=0;16>F;++F,xe<<=2)Wd(xe,Ie,16*+F,X,J+F2[F]);for(F=Ce.Gc,ge=pm(z,Q,Ce.Dd),Ci[ge](re,ne),Ci[ge](he,Se),xe=Ie,ge=re,_e=ne,255&(Ce=F>>0)&&(170&Ce?Kd(xe,256,ge,_e):Ws(xe,256,ge,_e)),Ce=he,xe=Se,255&(F>>=8)&&(170&F?Kd(Ie,320,Ce,xe):Ws(Ie,320,Ce,xe)),Q<h.Ub-1&&(s(ye[Me].y,0,X,J+480,16),s(ye[Me].f,0,re,ne+224,8),s(ye[Me].ea,0,he,Se+224,8)),F=8*K*h.B,ye=h.sa,Me=h.ta+16*z+16*K*h.R,Ie=h.qa,Ce=h.ra+8*z+F,xe=h.Ha,ge=h.Ia+8*z+F,F=0;16>F;++F)s(ye,Me+F*h.R,X,J+32*F,16);for(F=0;8>F;++F)s(Ie,Ce+F*h.B,re,ne+32*F,8),s(xe,ge+F*h.B,he,Se+32*F,8)}}function cc(h,N,F,z,Q,K,X,J,re){var ne=[0],he=[0],Se=0,Ce=re!=null?re.kd:0,ye=re??new zd;if(h==null||12>F)return 7;ye.data=h,ye.w=N,ye.ha=F,N=[N],F=[F],ye.gb=[ye.gb];e:{var Me=N,Ie=F,xe=ye.gb;if(t(h!=null),t(Ie!=null),t(xe!=null),xe[0]=0,12<=Ie[0]&&!n(h,Me[0],"RIFF")){if(n(h,Me[0]+8,"WEBP")){xe=3;break e}var ge=Te(h,Me[0]+4);if(12>ge||4294967286<ge){xe=3;break e}if(Ce&&ge>Ie[0]-8){xe=7;break e}xe[0]=ge,Me[0]+=12,Ie[0]-=12}xe=0}if(xe!=0)return xe;for(ge=0<ye.gb[0],F=F[0];;){e:{var _e=h;Ie=N,xe=F;var ze=ne,Oe=he,st=Me=[0];if((tt=Se=[Se])[0]=0,8>xe[0])xe=7;else{if(!n(_e,Ie[0],"VP8X")){if(Te(_e,Ie[0]+4)!=10){xe=3;break e}if(18>xe[0]){xe=7;break e}var Je=Te(_e,Ie[0]+8),St=1+Ee(_e,Ie[0]+12);if(2147483648<=St*(_e=1+Ee(_e,Ie[0]+15))){xe=3;break e}st!=null&&(st[0]=Je),ze!=null&&(ze[0]=St),Oe!=null&&(Oe[0]=_e),Ie[0]+=18,xe[0]-=18,tt[0]=1}xe=0}}if(Se=Se[0],Me=Me[0],xe!=0)return xe;if(Ie=!!(2&Me),!ge&&Se)return 3;if(K!=null&&(K[0]=!!(16&Me)),X!=null&&(X[0]=Ie),J!=null&&(J[0]=0),X=ne[0],Me=he[0],Se&&Ie&&re==null){xe=0;break}if(4>F){xe=7;break}if(ge&&Se||!ge&&!Se&&!n(h,N[0],"ALPH")){F=[F],ye.na=[ye.na],ye.P=[ye.P],ye.Sa=[ye.Sa];e:{Je=h,xe=N,ge=F;var tt=ye.gb;ze=ye.na,Oe=ye.P,st=ye.Sa,St=22,t(Je!=null),t(ge!=null),_e=xe[0];var Jt=ge[0];for(t(ze!=null),t(st!=null),ze[0]=null,Oe[0]=null,st[0]=0;;){if(xe[0]=_e,ge[0]=Jt,8>Jt){xe=7;break e}var er=Te(Je,_e+4);if(4294967286<er){xe=3;break e}var Ht=8+er+1&-2;if(St+=Ht,0<tt&&St>tt){xe=3;break e}if(!n(Je,_e,"VP8 ")||!n(Je,_e,"VP8L")){xe=0;break e}if(Jt[0]<Ht){xe=7;break e}n(Je,_e,"ALPH")||(ze[0]=Je,Oe[0]=_e+8,st[0]=er),_e+=Ht,Jt-=Ht}}if(F=F[0],ye.na=ye.na[0],ye.P=ye.P[0],ye.Sa=ye.Sa[0],xe!=0)break}F=[F],ye.Ja=[ye.Ja],ye.xa=[ye.xa];e:if(tt=h,xe=N,ge=F,ze=ye.gb[0],Oe=ye.Ja,st=ye.xa,Je=xe[0],_e=!n(tt,Je,"VP8 "),St=!n(tt,Je,"VP8L"),t(tt!=null),t(ge!=null),t(Oe!=null),t(st!=null),8>ge[0])xe=7;else{if(_e||St){if(tt=Te(tt,Je+4),12<=ze&&tt>ze-12){xe=3;break e}if(Ce&&tt>ge[0]-8){xe=7;break e}Oe[0]=tt,xe[0]+=8,ge[0]-=8,st[0]=St}else st[0]=5<=ge[0]&&tt[Je+0]==47&&!(tt[Je+4]>>5),Oe[0]=ge[0];xe=0}if(F=F[0],ye.Ja=ye.Ja[0],ye.xa=ye.xa[0],N=N[0],xe!=0)break;if(4294967286<ye.Ja)return 3;if(J==null||Ie||(J[0]=ye.xa?2:1),X=[X],Me=[Me],ye.xa){if(5>F){xe=7;break}J=X,Ce=Me,Ie=K,h==null||5>F?h=0:5<=F&&h[N+0]==47&&!(h[N+4]>>5)?(ge=[0],tt=[0],ze=[0],B(Oe=new R,h,N,F),Ct(Oe,ge,tt,ze)?(J!=null&&(J[0]=ge[0]),Ce!=null&&(Ce[0]=tt[0]),Ie!=null&&(Ie[0]=ze[0]),h=1):h=0):h=0}else{if(10>F){xe=7;break}J=Me,h==null||10>F||!Kp(h,N+3,F-3)?h=0:(Ce=h[N+0]|h[N+1]<<8|h[N+2]<<16,Ie=16383&(h[N+7]<<8|h[N+6]),h=16383&(h[N+9]<<8|h[N+8]),1&Ce||3<(Ce>>1&7)||!(Ce>>4&1)||Ce>>5>=ye.Ja||!Ie||!h?h=0:(X&&(X[0]=Ie),J&&(J[0]=h),h=1))}if(!h||(X=X[0],Me=Me[0],Se&&(ne[0]!=X||he[0]!=Me)))return 3;re!=null&&(re[0]=ye,re.offset=N-re.w,t(4294967286>N-re.w),t(re.offset==re.ha-F));break}return xe==0||xe==7&&Se&&re==null?(K!=null&&(K[0]|=ye.na!=null&&0<ye.na.length),z!=null&&(z[0]=X),Q!=null&&(Q[0]=Me),0):xe}function Hd(h,N,F){var z=N.width,Q=N.height,K=0,X=0,J=z,re=Q;if(N.Da=h!=null&&0<h.Da,N.Da&&(J=h.cd,re=h.bd,K=h.v,X=h.j,11>F||(K&=-2,X&=-2),0>K||0>X||0>=J||0>=re||K+J>z||X+re>Q))return 0;if(N.v=K,N.j=X,N.va=K+J,N.o=X+re,N.U=J,N.T=re,N.da=h!=null&&0<h.da,N.da){if(!Ue(J,re,F=[h.ib],K=[h.hb]))return 0;N.ib=F[0],N.hb=K[0]}return N.ob=h!=null&&h.ob,N.Kb=h==null||!h.Sd,N.da&&(N.ob=N.ib<3*z/4&&N.hb<3*Q/4,N.Kb=0),1}function Gd(h){if(h==null)return 2;if(11>h.S){var N=h.f.RGBA;N.fb+=(h.height-1)*N.A,N.A=-N.A}else N=h.f.kb,h=h.height,N.O+=(h-1)*N.fa,N.fa=-N.fa,N.N+=(h-1>>1)*N.Ab,N.Ab=-N.Ab,N.W+=(h-1>>1)*N.Db,N.Db=-N.Db,N.F!=null&&(N.J+=(h-1)*N.lb,N.lb=-N.lb);return 0}function dc(h,N,F,z){if(z==null||0>=h||0>=N)return 2;if(F!=null){if(F.Da){var Q=F.cd,K=F.bd,X=-2&F.v,J=-2&F.j;if(0>X||0>J||0>=Q||0>=K||X+Q>h||J+K>N)return 2;h=Q,N=K}if(F.da){if(!Ue(h,N,Q=[F.ib],K=[F.hb]))return 2;h=Q[0],N=K[0]}}z.width=h,z.height=N;e:{var re=z.width,ne=z.height;if(h=z.S,0>=re||0>=ne||!(h>=ym&&13>h))h=2;else{if(0>=z.Rd&&z.sd==null){X=K=Q=N=0;var he=(J=re*_2[h])*ne;if(11>h||(K=(ne+1)/2*(N=(re+1)/2),h==12&&(X=(Q=re)*ne)),(ne=i(he+2*K+X))==null){h=1;break e}z.sd=ne,11>h?((re=z.f.RGBA).eb=ne,re.fb=0,re.A=J,re.size=he):((re=z.f.kb).y=ne,re.O=0,re.fa=J,re.Fd=he,re.f=ne,re.N=0+he,re.Ab=N,re.Cd=K,re.ea=ne,re.W=0+he+K,re.Db=N,re.Ed=K,h==12&&(re.F=ne,re.J=0+he+2*K),re.Tc=X,re.lb=Q)}if(N=1,Q=z.S,K=z.width,X=z.height,Q>=ym&&13>Q)if(11>Q)h=z.f.RGBA,N&=(J=Math.abs(h.A))*(X-1)+K<=h.size,N&=J>=K*_2[Q],N&=h.eb!=null;else{h=z.f.kb,J=(K+1)/2,he=(X+1)/2,re=Math.abs(h.fa),ne=Math.abs(h.Ab);var Se=Math.abs(h.Db),Ce=Math.abs(h.lb),ye=Ce*(X-1)+K;N&=re*(X-1)+K<=h.Fd,N&=ne*(he-1)+J<=h.Cd,N=(N&=Se*(he-1)+J<=h.Ed)&re>=K&ne>=J&Se>=J,N&=h.y!=null,N&=h.f!=null,N&=h.ea!=null,Q==12&&(N&=Ce>=K,N&=ye<=h.Tc,N&=h.F!=null)}else N=0;h=N?0:2}}return h!=0||F!=null&&F.fd&&(h=Gd(z)),h}var jn=64,uc=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],pc=24,mc=32,Qd=8,ls=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Ve("Predictor0","PredictorAdd0"),S.Predictor0=function(){return 4278190080},S.Predictor1=function(h){return h},S.Predictor2=function(h,N,F){return N[F+0]},S.Predictor3=function(h,N,F){return N[F+1]},S.Predictor4=function(h,N,F){return N[F-1]},S.Predictor5=function(h,N,F){return Ge(Ge(h,N[F+1]),N[F+0])},S.Predictor6=function(h,N,F){return Ge(h,N[F-1])},S.Predictor7=function(h,N,F){return Ge(h,N[F+0])},S.Predictor8=function(h,N,F){return Ge(N[F-1],N[F+0])},S.Predictor9=function(h,N,F){return Ge(N[F+0],N[F+1])},S.Predictor10=function(h,N,F){return Ge(Ge(h,N[F-1]),Ge(N[F+0],N[F+1]))},S.Predictor11=function(h,N,F){var z=N[F+0];return 0>=We(z>>24&255,h>>24&255,(N=N[F-1])>>24&255)+We(z>>16&255,h>>16&255,N>>16&255)+We(z>>8&255,h>>8&255,N>>8&255)+We(255&z,255&h,255&N)?z:h},S.Predictor12=function(h,N,F){var z=N[F+0];return(xt((h>>24&255)+(z>>24&255)-((N=N[F-1])>>24&255))<<24|xt((h>>16&255)+(z>>16&255)-(N>>16&255))<<16|xt((h>>8&255)+(z>>8&255)-(N>>8&255))<<8|xt((255&h)+(255&z)-(255&N)))>>>0},S.Predictor13=function(h,N,F){var z=N[F-1];return(Pe((h=Ge(h,N[F+0]))>>24&255,z>>24&255)<<24|Pe(h>>16&255,z>>16&255)<<16|Pe(h>>8&255,z>>8&255)<<8|Pe(h>>0&255,z>>0&255))>>>0};var sg=S.PredictorAdd0;S.PredictorAdd1=et,Ve("Predictor2","PredictorAdd2"),Ve("Predictor3","PredictorAdd3"),Ve("Predictor4","PredictorAdd4"),Ve("Predictor5","PredictorAdd5"),Ve("Predictor6","PredictorAdd6"),Ve("Predictor7","PredictorAdd7"),Ve("Predictor8","PredictorAdd8"),Ve("Predictor9","PredictorAdd9"),Ve("Predictor10","PredictorAdd10"),Ve("Predictor11","PredictorAdd11"),Ve("Predictor12","PredictorAdd12"),Ve("Predictor13","PredictorAdd13");var Yd=S.PredictorAdd2;Pt("ColorIndexInverseTransform","MapARGB","32b",function(h){return h>>8&255},function(h){return h}),Pt("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(h){return h},function(h){return h>>8&255});var mm,Vs=S.ColorIndexInverseTransform,fc=S.MapARGB,fm=S.VP8LColorIndexInverseTransformAlpha,hm=S.MapAlpha,Qi=S.VP8LPredictorsAdd=[];Qi.length=16,(S.VP8LPredictors=[]).length=16,(S.VP8LPredictorsAdd_C=[]).length=16,(S.VP8LPredictors_C=[]).length=16;var rl,cs,Kn,Yi,ji,wi,hc,Ni,zr,Kd,Xn,Ws,xc,xm,Xd,nl,sl,Ki,al,gc,il,Xi,Jd,qs,Hs,fr,hr,$r,rn=i(511),Si=i(2041),Zd=i(225),vc=i(767),gm=0,ag=Si,vm=Zd,Ns=vc,Gs=rn,ym=0,bm=1,S2=2,jm=3,wm=4,ig=5,C2=6,og=7,lg=8,Nm=9,cg=10,SE=[2,3,7],CE=[3,3,11],A2=[280,256,256,256,40],AE=[0,1,1,1,0],EE=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],IE=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],PE=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],kE=8,dg=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],ug=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],eu=null,DE=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],LE=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],E2=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],TE=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],RE=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],FE=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],_E=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Ji=[],ya=[],Ci=[],OE=1,I2=2,Zi=[],Qs=[];De("UpsampleRgbLinePair",Wt,3),De("UpsampleBgrLinePair",Ar,3),De("UpsampleRgbaLinePair",va,4),De("UpsampleBgraLinePair",un,4),De("UpsampleArgbLinePair",Fn,4),De("UpsampleRgba4444LinePair",Qr,2),De("UpsampleRgb565LinePair",Rr,2);var ME=S.UpsampleRgbLinePair,BE=S.UpsampleBgrLinePair,P2=S.UpsampleRgbaLinePair,k2=S.UpsampleBgraLinePair,D2=S.UpsampleArgbLinePair,L2=S.UpsampleRgba4444LinePair,zE=S.UpsampleRgb565LinePair,Sm=16,Cm=1<<Sm-1,tu=-227,pg=482,T2=6,$E=(256<<T2)-1,R2=0,UE=i(256),VE=i(256),WE=i(256),qE=i(256),HE=i(pg-tu),GE=i(pg-tu);Ga("YuvToRgbRow",Wt,3),Ga("YuvToBgrRow",Ar,3),Ga("YuvToRgbaRow",va,4),Ga("YuvToBgraRow",un,4),Ga("YuvToArgbRow",Fn,4),Ga("YuvToRgba4444Row",Qr,2),Ga("YuvToRgb565Row",Rr,2);var F2=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Am=[0,2,8],QE=[8,7,6,4,4,2,2,2,1,1,1,1],YE=1;this.WebPDecodeRGBA=function(h,N,F,z,Q){var K=bm,X=new oc,J=new ua;X.ba=J,J.S=K,J.width=[J.width],J.height=[J.height];var re=J.width,ne=J.height,he=new gi;if(he==null||h==null)var Se=2;else t(he!=null),Se=cc(h,N,F,he.width,he.height,he.Pd,he.Qd,he.format,null);if(Se!=0?re=0:(re!=null&&(re[0]=he.width[0]),ne!=null&&(ne[0]=he.height[0]),re=1),re){J.width=J.width[0],J.height=J.height[0],z!=null&&(z[0]=J.width),Q!=null&&(Q[0]=J.height);e:{if(z=new ec,(Q=new zd).data=h,Q.w=N,Q.ha=F,Q.kd=1,N=[0],t(Q!=null),((h=cc(Q.data,Q.w,Q.ha,null,null,null,N,null,Q))==0||h==7)&&N[0]&&(h=4),(N=h)==0){if(t(X!=null),z.data=Q.data,z.w=Q.w+Q.offset,z.ha=Q.ha-Q.offset,z.put=za,z.ac=bn,z.bc=$a,z.ma=X,Q.xa){if((h=Us())==null){X=1;break e}if(function(Ce,ye){var Me=[0],Ie=[0],xe=[0];t:for(;;){if(Ce==null)return 0;if(ye==null)return Ce.a=2,0;if(Ce.l=ye,Ce.a=0,B(Ce.m,ye.data,ye.w,ye.ha),!Ct(Ce.m,Me,Ie,xe)){Ce.a=3;break t}if(Ce.xb=I2,ye.width=Me[0],ye.height=Ie[0],!Wa(Me[0],Ie[0],1,Ce,null))break t;return 1}return t(Ce.a!=0),0}(h,z)){if(z=(N=dc(z.width,z.height,X.Oa,X.ba))==0){t:{z=h;r:for(;;){if(z==null){z=0;break t}if(t(z.s.yc!=null),t(z.s.Ya!=null),t(0<z.s.Wb),t((F=z.l)!=null),t((Q=F.ma)!=null),z.xb!=0){if(z.ca=Q.ba,z.tb=Q.tb,t(z.ca!=null),!Hd(Q.Oa,F,jm)){z.a=2;break r}if(!Xo(z,F.width)||F.da)break r;if((F.da||Vt(z.ca.S))&&we(),11>z.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),z.ca.f.kb.F!=null&&we()),z.Pb&&0<z.s.ua&&z.s.vb.X==null&&!pe(z.s.vb,z.s.Wa.Xa)){z.a=1;break r}z.xb=0}if(!ha(z,z.V,z.Ba,z.c,z.i,F.o,Ql))break r;Q.Dc=z.Ma,z=1;break t}t(z.a!=0),z=0}z=!z}z&&(N=h.a)}else N=h.a}else{if((h=new Bx)==null){X=1;break e}if(h.Fa=Q.na,h.P=Q.P,h.qc=Q.Sa,Xp(h,z)){if((N=dc(z.width,z.height,X.Oa,X.ba))==0){if(h.Aa=0,F=X.Oa,t((Q=h)!=null),F!=null){if(0<(re=0>(re=F.Md)?0:100<re?255:255*re/100)){for(ne=he=0;4>ne;++ne)12>(Se=Q.pb[ne]).lc&&(Se.ia=re*QE[0>Se.lc?0:Se.lc]>>3),he|=Se.ia;he&&(alert("todo:VP8InitRandom"),Q.ia=1)}Q.Ga=F.Id,100<Q.Ga?Q.Ga=100:0>Q.Ga&&(Q.Ga=0)}zx(h,z)||(N=h.a)}}else N=h.a}N==0&&X.Oa!=null&&X.Oa.fd&&(N=Gd(X.ba))}X=N}K=X!=0?null:11>K?J.f.RGBA.eb:J.f.kb.y}else K=null;return K};var _2=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function d(S,k){for(var D="",C=0;C<4;C++)D+=String.fromCharCode(S[k++]);return D}function p(S,k){return(S[k+0]<<0|S[k+1]<<8|S[k+2]<<16)>>>0}function u(S,k){return(S[k+0]<<0|S[k+1]<<8|S[k+2]<<16|S[k+3]<<24)>>>0}new c;var f=[0],m=[0],g=[],b=new c,j=e,x=function(S,k){var D={},C=0,w=!1,T=0,L=0;if(D.frames=[],!function($,G,Z,te){for(var le=0;le<te;le++)if($[G+le]!=Z.charCodeAt(le))return!0;return!1}(S,k,"RIFF",4)){var W,V;for(u(S,k+=4),k+=8;k<S.length;){var _=d(S,k),B=u(S,k+=4);k+=4;var U=B+(1&B);switch(_){case"VP8 ":case"VP8L":D.frames[C]===void 0&&(D.frames[C]={}),(R=D.frames[C]).src_off=w?L:k-8,R.src_size=T+B+8,C++,w&&(w=!1,T=0,L=0);break;case"VP8X":(R=D.header={}).feature_flags=S[k];var q=k+4;R.canvas_width=1+p(S,q),q+=3,R.canvas_height=1+p(S,q),q+=3;break;case"ALPH":w=!0,T=U+8,L=k-8;break;case"ANIM":(R=D.header).bgcolor=u(S,k),q=k+4,R.loop_count=(W=S)[(V=q)+0]<<0|W[V+1]<<8,q+=2;break;case"ANMF":var H,R;(R=D.frames[C]={}).offset_x=2*p(S,k),k+=3,R.offset_y=2*p(S,k),k+=3,R.width=1+p(S,k),k+=3,R.height=1+p(S,k),k+=3,R.duration=p(S,k),k+=3,H=S[k++],R.dispose=1&H,R.blend=H>>1&1}_!="ANMF"&&(k+=U)}return D}}(j,0);x.response=j,x.rgbaoutput=!0,x.dataurl=!1;var v=x.header?x.header:null,y=x.frames?x.frames:null;if(v){v.loop_counter=v.loop_count,f=[v.canvas_height],m=[v.canvas_width];for(var P=0;P<y.length&&y[P].blend!=0;P++);}var M=y[0],O=b.WebPDecodeRGBA(j,M.src_off,M.src_size,m,f);M.rgba=O,M.imgwidth=m[0],M.imgheight=f[0];for(var E=0;E<m[0]*f[0]*4;E++)g[E]=O[E];return this.width=m,this.height=f,this.data=g,this}(function(e){var t=function(){return typeof p1=="function"},n=function(f,m,g,b){var j=4,x=o;switch(b){case e.image_compression.FAST:j=1,x=i;break;case e.image_compression.MEDIUM:j=6,x=l;break;case e.image_compression.SLOW:j=9,x=c}f=s(f,m,g,x);var v=p1(f,{level:j});return e.__addimage__.arrayBufferToBinaryString(v)},s=function(f,m,g,b){for(var j,x,v,y=f.length/m,P=new Uint8Array(f.length+y),M=p(),O=0;O<y;O+=1){if(v=O*m,j=f.subarray(v,v+m),b)P.set(b(j,g,x),v+O);else{for(var E,S=M.length,k=[];E<S;E+=1)k[E]=M[E](j,g,x);var D=u(k.concat());P.set(k[D],v+O)}x=j}return P},a=function(f){var m=Array.apply([],f);return m.unshift(0),m},i=function(f,m){var g,b=[],j=f.length;b[0]=1;for(var x=0;x<j;x+=1)g=f[x-m]||0,b[x+1]=f[x]-g+256&255;return b},o=function(f,m,g){var b,j=[],x=f.length;j[0]=2;for(var v=0;v<x;v+=1)b=g&&g[v]||0,j[v+1]=f[v]-b+256&255;return j},l=function(f,m,g){var b,j,x=[],v=f.length;x[0]=3;for(var y=0;y<v;y+=1)b=f[y-m]||0,j=g&&g[y]||0,x[y+1]=f[y]+256-(b+j>>>1)&255;return x},c=function(f,m,g){var b,j,x,v,y=[],P=f.length;y[0]=4;for(var M=0;M<P;M+=1)b=f[M-m]||0,j=g&&g[M]||0,x=g&&g[M-m]||0,v=d(b,j,x),y[M+1]=f[M]-v+256&255;return y},d=function(f,m,g){if(f===m&&m===g)return f;var b=Math.abs(m-g),j=Math.abs(f-g),x=Math.abs(f+m-g-g);return b<=j&&b<=x?f:j<=x?m:g},p=function(){return[a,i,o,l,c]},u=function(f){var m=f.map(function(g){return g.reduce(function(b,j){return b+Math.abs(j)},0)});return m.indexOf(Math.min.apply(null,m))};e.processPNG=function(f,m,g,b){var j,x,v,y,P,M,O,E,S,k,D,C,w,T,L,W=this.decode.FLATE_DECODE,V="";if(this.__addimage__.isArrayBuffer(f)&&(f=new Uint8Array(f)),this.__addimage__.isArrayBufferView(f)){if(f=(v=new W$(f)).imgData,x=v.bits,j=v.colorSpace,P=v.colors,[4,6].indexOf(v.colorType)!==-1){if(v.bits===8){S=(E=v.pixelBitlength==32?new Uint32Array(v.decodePixels().buffer):v.pixelBitlength==16?new Uint16Array(v.decodePixels().buffer):new Uint8Array(v.decodePixels().buffer)).length,D=new Uint8Array(S*v.colors),k=new Uint8Array(S);var _,B=v.pixelBitlength-v.bits;for(T=0,L=0;T<S;T++){for(w=E[T],_=0;_<B;)D[L++]=w>>>_&255,_+=v.bits;k[T]=w>>>_&255}}if(v.bits===16){S=(E=new Uint32Array(v.decodePixels().buffer)).length,D=new Uint8Array(S*(32/v.pixelBitlength)*v.colors),k=new Uint8Array(S*(32/v.pixelBitlength)),C=v.colors>1,T=0,L=0;for(var U=0;T<S;)w=E[T++],D[L++]=w>>>0&255,C&&(D[L++]=w>>>16&255,w=E[T++],D[L++]=w>>>0&255),k[U++]=w>>>16&255;x=8}b!==e.image_compression.NONE&&t()?(f=n(D,v.width*v.colors,v.colors,b),O=n(k,v.width,1,b)):(f=D,O=k,W=void 0)}if(v.colorType===3&&(j=this.color_spaces.INDEXED,M=v.palette,v.transparency.indexed)){var q=v.transparency.indexed,H=0;for(T=0,S=q.length;T<S;++T)H+=q[T];if((H/=255)===S-1&&q.indexOf(0)!==-1)y=[q.indexOf(0)];else if(H!==S){for(E=v.decodePixels(),k=new Uint8Array(E.length),T=0,S=E.length;T<S;T++)k[T]=q[E[T]];O=n(k,v.width,1)}}var R=function($){var G;switch($){case e.image_compression.FAST:G=11;break;case e.image_compression.MEDIUM:G=13;break;case e.image_compression.SLOW:G=14;break;default:G=12}return G}(b);return W===this.decode.FLATE_DECODE&&(V="/Predictor "+R+" "),V+="/Colors "+P+" /BitsPerComponent "+x+" /Columns "+v.width,(this.__addimage__.isArrayBuffer(f)||this.__addimage__.isArrayBufferView(f))&&(f=this.__addimage__.arrayBufferToBinaryString(f)),(O&&this.__addimage__.isArrayBuffer(O)||this.__addimage__.isArrayBufferView(O))&&(O=this.__addimage__.arrayBufferToBinaryString(O)),{alias:g,data:f,index:m,filter:W,decodeParameters:V,transparency:y,palette:M,sMask:O,predictor:R,width:v.width,height:v.height,bitsPerComponent:x,colorSpace:j}}}})(wt.API),function(e){e.processGIF89A=function(t,n,s,a){var i=new q$(t),o=i.width,l=i.height,c=[];i.decodeAndBlitFrameRGBA(0,c);var d={data:c,width:o,height:l},p=new Rv(100).encode(d,100);return e.processJPEG.call(this,p,n,s,a)},e.processGIF87A=e.processGIF89A}(wt.API),Sa.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var e=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(e);for(var t=0;t<e;t++){var n=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0);this.palette[t]={red:a,green:s,blue:n,quad:i}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Sa.prototype.parseBGR=function(){this.pos=this.offset;try{var e="bit"+this.bitPP,t=this.width*this.height*4;this.data=new Uint8Array(t),this[e]()}catch(n){ur.log("bit decode error:"+n)}},Sa.prototype.bit1=function(){var e,t=Math.ceil(this.width/8),n=t%4;for(e=this.height-1;e>=0;e--){for(var s=this.bottom_up?e:this.height-1-e,a=0;a<t;a++)for(var i=this.datav.getUint8(this.pos++,!0),o=s*this.width*4+8*a*4,l=0;l<8&&8*a+l<this.width;l++){var c=this.palette[i>>7-l&1];this.data[o+4*l]=c.blue,this.data[o+4*l+1]=c.green,this.data[o+4*l+2]=c.red,this.data[o+4*l+3]=255}n!==0&&(this.pos+=4-n)}},Sa.prototype.bit4=function(){for(var e=Math.ceil(this.width/2),t=e%4,n=this.height-1;n>=0;n--){for(var s=this.bottom_up?n:this.height-1-n,a=0;a<e;a++){var i=this.datav.getUint8(this.pos++,!0),o=s*this.width*4+2*a*4,l=i>>4,c=15&i,d=this.palette[l];if(this.data[o]=d.blue,this.data[o+1]=d.green,this.data[o+2]=d.red,this.data[o+3]=255,2*a+1>=this.width)break;d=this.palette[c],this.data[o+4]=d.blue,this.data[o+4+1]=d.green,this.data[o+4+2]=d.red,this.data[o+4+3]=255}t!==0&&(this.pos+=4-t)}},Sa.prototype.bit8=function(){for(var e=this.width%4,t=this.height-1;t>=0;t--){for(var n=this.bottom_up?t:this.height-1-t,s=0;s<this.width;s++){var a=this.datav.getUint8(this.pos++,!0),i=n*this.width*4+4*s;if(a<this.palette.length){var o=this.palette[a];this.data[i]=o.red,this.data[i+1]=o.green,this.data[i+2]=o.blue,this.data[i+3]=255}else this.data[i]=255,this.data[i+1]=255,this.data[i+2]=255,this.data[i+3]=255}e!==0&&(this.pos+=4-e)}},Sa.prototype.bit15=function(){for(var e=this.width%3,t=parseInt("11111",2),n=this.height-1;n>=0;n--){for(var s=this.bottom_up?n:this.height-1-n,a=0;a<this.width;a++){var i=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(i&t)/t*255|0,l=(i>>5&t)/t*255|0,c=(i>>10&t)/t*255|0,d=i>>15?255:0,p=s*this.width*4+4*a;this.data[p]=c,this.data[p+1]=l,this.data[p+2]=o,this.data[p+3]=d}this.pos+=e}},Sa.prototype.bit16=function(){for(var e=this.width%3,t=parseInt("11111",2),n=parseInt("111111",2),s=this.height-1;s>=0;s--){for(var a=this.bottom_up?s:this.height-1-s,i=0;i<this.width;i++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var l=(o&t)/t*255|0,c=(o>>5&n)/n*255|0,d=(o>>11)/t*255|0,p=a*this.width*4+4*i;this.data[p]=d,this.data[p+1]=c,this.data[p+2]=l,this.data[p+3]=255}this.pos+=e}},Sa.prototype.bit24=function(){for(var e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var s=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=t*this.width*4+4*n;this.data[o]=i,this.data[o+1]=a,this.data[o+2]=s,this.data[o+3]=255}this.pos+=this.width%4}},Sa.prototype.bit32=function(){for(var e=this.height-1;e>=0;e--)for(var t=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var s=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),l=t*this.width*4+4*n;this.data[l]=i,this.data[l+1]=a,this.data[l+2]=s,this.data[l+3]=o}},Sa.prototype.getData=function(){return this.data},function(e){e.processBMP=function(t,n,s,a){var i=new Sa(t,!1),o=i.width,l=i.height,c={data:i.getData(),width:o,height:l},d=new Rv(100).encode(c,100);return e.processJPEG.call(this,d,n,s,a)}}(wt.API),I5.prototype.getData=function(){return this.data},function(e){e.processWEBP=function(t,n,s,a){var i=new I5(t),o=i.width,l=i.height,c={data:i.getData(),width:o,height:l},d=new Rv(100).encode(c,100);return e.processJPEG.call(this,d,n,s,a)}}(wt.API),wt.API.processRGBA=function(e,t,n){for(var s=e.data,a=s.length,i=new Uint8Array(a/4*3),o=new Uint8Array(a/4),l=0,c=0,d=0;d<a;d+=4){var p=s[d],u=s[d+1],f=s[d+2],m=s[d+3];i[l++]=p,i[l++]=u,i[l++]=f,o[c++]=m}var g=this.__addimage__.arrayBufferToBinaryString(i);return{alpha:this.__addimage__.arrayBufferToBinaryString(o),data:g,index:t,alias:n,colorSpace:"DeviceRGB",bitsPerComponent:8,width:e.width,height:e.height}},wt.API.setLanguage=function(e){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[e]!==void 0&&(this.internal.languageSettings.languageCode=e,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Pc=wt.API,yf=Pc.getCharWidthsArray=function(e,t){var n,s,a=(t=t||{}).font||this.internal.getFont(),i=t.fontSize||this.internal.getFontSize(),o=t.charSpace||this.internal.getCharSpace(),l=t.widths?t.widths:a.metadata.Unicode.widths,c=l.fof?l.fof:1,d=t.kerning?t.kerning:a.metadata.Unicode.kerning,p=d.fof?d.fof:1,u=t.doKerning!==!1,f=0,m=e.length,g=0,b=l[0]||c,j=[];for(n=0;n<m;n++)s=e.charCodeAt(n),typeof a.metadata.widthOfString=="function"?j.push((a.metadata.widthOfGlyph(a.metadata.characterToGlyph(s))+o*(1e3/i)||0)/1e3):(f=u&&Yt(d[s])==="object"&&!isNaN(parseInt(d[s][g],10))?d[s][g]/p:0,j.push((l[s]||b)/c+f)),g=s;return j},S5=Pc.getStringUnitWidth=function(e,t){var n=(t=t||{}).fontSize||this.internal.getFontSize(),s=t.font||this.internal.getFont(),a=t.charSpace||this.internal.getCharSpace();return Pc.processArabic&&(e=Pc.processArabic(e)),typeof s.metadata.widthOfString=="function"?s.metadata.widthOfString(e,n,a)/n:yf.apply(this,arguments).reduce(function(i,o){return i+o},0)},C5=function(e,t,n,s){for(var a=[],i=0,o=e.length,l=0;i!==o&&l+t[i]<n;)l+=t[i],i++;a.push(e.slice(0,i));var c=i;for(l=0;i!==o;)l+t[i]>s&&(a.push(e.slice(c,i)),l=0,c=i),l+=t[i],i++;return c!==i&&a.push(e.slice(c,i)),a},A5=function(e,t,n){n||(n={});var s,a,i,o,l,c,d,p=[],u=[p],f=n.textIndent||0,m=0,g=0,b=e.split(" "),j=yf.apply(this,[" ",n])[0];if(c=n.lineIndent===-1?b[0].length+2:n.lineIndent||0){var x=Array(c).join(" "),v=[];b.map(function(P){(P=P.split(/\s*\n/)).length>1?v=v.concat(P.map(function(M,O){return(O&&M.length?`
`:"")+M})):v.push(P[0])}),b=v,c=S5.apply(this,[x,n])}for(i=0,o=b.length;i<o;i++){var y=0;if(s=b[i],c&&s[0]==`
`&&(s=s.substr(1),y=1),f+m+(g=(a=yf.apply(this,[s,n])).reduce(function(P,M){return P+M},0))>t||y){if(g>t){for(l=C5.apply(this,[s,a,t-(f+m),t]),p.push(l.shift()),p=[l.pop()];l.length;)u.push([l.shift()]);g=a.slice(s.length-(p[0]?p[0].length:0)).reduce(function(P,M){return P+M},0)}else p=[s];u.push(p),f=g+c,m=j}else p.push(s),f+=m+g,m=j}return d=c?function(P,M){return(M?x:"")+P.join(" ")}:function(P){return P.join(" ")},u.map(d)},Pc.splitTextToSize=function(e,t,n){var s,a=(n=n||{}).fontSize||this.internal.getFontSize(),i=(function(p){if(p.widths&&p.kerning)return{widths:p.widths,kerning:p.kerning};var u=this.internal.getFont(p.fontName,p.fontStyle);return u.metadata.Unicode?{widths:u.metadata.Unicode.widths||{0:1},kerning:u.metadata.Unicode.kerning||{}}:{font:u.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,n);s=Array.isArray(e)?e:String(e).split(/\r?\n/);var o=1*this.internal.scaleFactor*t/a;i.textIndent=n.textIndent?1*n.textIndent*this.internal.scaleFactor/a:0,i.lineIndent=n.lineIndent;var l,c,d=[];for(l=0,c=s.length;l<c;l++)d=d.concat(A5.apply(this,[s[l],o,i]));return d},function(e){e.__fontmetrics__=e.__fontmetrics__||{};for(var t="klmnopqrstuvwxyz",n={},s={},a=0;a<t.length;a++)n[t[a]]="0123456789abcdef"[a],s["0123456789abcdef"[a]]=t[a];var i=function(u){return"0x"+parseInt(u,10).toString(16)},o=e.__fontmetrics__.compress=function(u){var f,m,g,b,j=["{"];for(var x in u){if(f=u[x],isNaN(parseInt(x,10))?m="'"+x+"'":(x=parseInt(x,10),m=(m=i(x).slice(2)).slice(0,-1)+s[m.slice(-1)]),typeof f=="number")f<0?(g=i(f).slice(3),b="-"):(g=i(f).slice(2),b=""),g=b+g.slice(0,-1)+s[g.slice(-1)];else{if(Yt(f)!=="object")throw new Error("Don't know what to do with value type "+Yt(f)+".");g=o(f)}j.push(m+g)}return j.push("}"),j.join("")},l=e.__fontmetrics__.uncompress=function(u){if(typeof u!="string")throw new Error("Invalid argument passed to uncompress.");for(var f,m,g,b,j={},x=1,v=j,y=[],P="",M="",O=u.length-1,E=1;E<O;E+=1)(b=u[E])=="'"?f?(g=f.join(""),f=void 0):f=[]:f?f.push(b):b=="{"?(y.push([v,g]),v={},g=void 0):b=="}"?((m=y.pop())[0][m[1]]=v,g=void 0,v=m[0]):b=="-"?x=-1:g===void 0?n.hasOwnProperty(b)?(P+=n[b],g=parseInt(P,16)*x,x=1,P=""):P+=b:n.hasOwnProperty(b)?(M+=n[b],v[g]=parseInt(M,16)*x,x=1,g=void 0,M=""):M+=b;return j},c={codePages:["WinAnsiEncoding"],WinAnsiEncoding:l("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},d={Unicode:{Courier:c,"Courier-Bold":c,"Courier-BoldOblique":c,"Courier-Oblique":c,Helvetica:c,"Helvetica-Bold":c,"Helvetica-BoldOblique":c,"Helvetica-Oblique":c,"Times-Roman":c,"Times-Bold":c,"Times-BoldItalic":c,"Times-Italic":c}},p={Unicode:{"Courier-Oblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":l("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":l("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:l("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:l("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":l("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":l("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};e.events.push(["addFont",function(u){var f=u.font,m=p.Unicode[f.postScriptName];m&&(f.metadata.Unicode={},f.metadata.Unicode.widths=m.widths,f.metadata.Unicode.kerning=m.kerning);var g=d.Unicode[f.postScriptName];g&&(f.metadata.Unicode.encoding=g,f.encoding=g.codePages[0])}])}(wt.API),function(e){var t=function(n){for(var s=n.length,a=new Uint8Array(s),i=0;i<s;i++)a[i]=n.charCodeAt(i);return a};e.API.events.push(["addFont",function(n){var s=void 0,a=n.font,i=n.instance;if(!a.isStandardFont){if(i===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");if(typeof(s=i.existsFileInVFS(a.postScriptName)===!1?i.loadFile(a.postScriptName):i.getFileFromVFS(a.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");(function(o,l){l=/^\x00\x01\x00\x00/.test(l)?t(l):t(Uu(l)),o.metadata=e.API.TTFFont.open(l),o.metadata.Unicode=o.metadata.Unicode||{encoding:{},kerning:{},widths:[]},o.metadata.glyIdsUsed=[0]})(a,s)}}])}(wt),function(e){function t(){return(At.canvg?Promise.resolve(At.canvg):o1(()=>import("./index.es-7a7a0fff.js"),[])).catch(function(n){return Promise.reject(new Error("Could not load canvg: "+n))}).then(function(n){return n.default?n.default:n})}wt.API.addSvgAsImage=function(n,s,a,i,o,l,c,d){if(isNaN(s)||isNaN(a))throw ur.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(i)||isNaN(o))throw ur.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var p=document.createElement("canvas");p.width=i,p.height=o;var u=p.getContext("2d");u.fillStyle="#fff",u.fillRect(0,0,p.width,p.height);var f={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},m=this;return t().then(function(g){return g.fromString(u,n,f)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(g){return g.render(f)}).then(function(){m.addImage(p.toDataURL("image/jpeg",1),s,a,i,o,c,d)})}}(),wt.API.putTotalPages=function(e){var t,n=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(t=new RegExp(e,"g"),n=this.internal.getNumberOfPages()):(t=new RegExp(this.pdfEscape16(e,this.internal.getFont()),"g"),n=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var s=1;s<=this.internal.getNumberOfPages();s++)for(var a=0;a<this.internal.pages[s].length;a++)this.internal.pages[s][a]=this.internal.pages[s][a].replace(t,n);return this},wt.API.viewerPreferences=function(e,t){var n;e=e||{},t=t||!1;var s,a,i,o={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},l=Object.keys(o),c=[],d=0,p=0,u=0;function f(g,b){var j,x=!1;for(j=0;j<g.length;j+=1)g[j]===b&&(x=!0);return x}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(o)),this.internal.viewerpreferences.isSubscribed=!1),n=this.internal.viewerpreferences.configuration,e==="reset"||t===!0){var m=l.length;for(u=0;u<m;u+=1)n[l[u]].value=n[l[u]].defaultValue,n[l[u]].explicitSet=!1}if(Yt(e)==="object"){for(a in e)if(i=e[a],f(l,a)&&i!==void 0){if(n[a].type==="boolean"&&typeof i=="boolean")n[a].value=i;else if(n[a].type==="name"&&f(n[a].valueSet,i))n[a].value=i;else if(n[a].type==="integer"&&Number.isInteger(i))n[a].value=i;else if(n[a].type==="array"){for(d=0;d<i.length;d+=1)if(s=!0,i[d].length===1&&typeof i[d][0]=="number")c.push(String(i[d]-1));else if(i[d].length>1){for(p=0;p<i[d].length;p+=1)typeof i[d][p]!="number"&&(s=!1);s===!0&&c.push([i[d][0]-1,i[d][1]-1].join(" "))}n[a].value="["+c.join(" ")+"]"}else n[a].value=n[a].defaultValue;n[a].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var g,b=[];for(g in n)n[g].explicitSet===!0&&(n[g].type==="name"?b.push("/"+g+" /"+n[g].value):b.push("/"+g+" "+n[g].value));b.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+b.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=n,this},function(e){var t=function(){var s='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',a=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),i=unescape(encodeURIComponent(s)),o=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),l=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),c=unescape(encodeURIComponent("</x:xmpmeta>")),d=i.length+o.length+l.length+a.length+c.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+d+" >>"),this.internal.write("stream"),this.internal.write(a+i+o+l+c),this.internal.write("endstream"),this.internal.write("endobj")},n=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};e.addMetadata=function(s,a){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:s,namespaceuri:a||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",n),this.internal.events.subscribe("postPutResources",t)),this}}(wt.API),function(e){var t=e.API,n=t.pdfEscape16=function(i,o){for(var l,c=o.metadata.Unicode.widths,d=["","0","00","000","0000"],p=[""],u=0,f=i.length;u<f;++u){if(l=o.metadata.characterToGlyph(i.charCodeAt(u)),o.metadata.glyIdsUsed.push(l),o.metadata.toUnicode[l]=i.charCodeAt(u),c.indexOf(l)==-1&&(c.push(l),c.push([parseInt(o.metadata.widthOfGlyph(l),10)])),l=="0")return p.join("");l=l.toString(16),p.push(d[4-l.length],l)}return p.join("")},s=function(i){var o,l,c,d,p,u,f;for(p=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,c=[],u=0,f=(l=Object.keys(i).sort(function(m,g){return m-g})).length;u<f;u++)o=l[u],c.length>=100&&(p+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar`,c=[]),i[o]!==void 0&&i[o]!==null&&typeof i[o].toString=="function"&&(d=("0000"+i[o].toString(16)).slice(-4),o=("0000"+(+o).toString(16)).slice(-4),c.push("<"+o+"><"+d+">"));return c.length&&(p+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar
`),p+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};t.events.push(["putFont",function(i){(function(o){var l=o.font,c=o.out,d=o.newObject,p=o.putStream;if(l.metadata instanceof e.API.TTFFont&&l.encoding==="Identity-H"){for(var u=l.metadata.Unicode.widths,f=l.metadata.subset.encode(l.metadata.glyIdsUsed,1),m="",g=0;g<f.length;g++)m+=String.fromCharCode(f[g]);var b=d();p({data:m,addLength1:!0,objectId:b}),c("endobj");var j=d();p({data:s(l.metadata.toUnicode),addLength1:!0,objectId:j}),c("endobj");var x=d();c("<<"),c("/Type /FontDescriptor"),c("/FontName /"+Tc(l.fontName)),c("/FontFile2 "+b+" 0 R"),c("/FontBBox "+e.API.PDFObject.convert(l.metadata.bbox)),c("/Flags "+l.metadata.flags),c("/StemV "+l.metadata.stemV),c("/ItalicAngle "+l.metadata.italicAngle),c("/Ascent "+l.metadata.ascender),c("/Descent "+l.metadata.decender),c("/CapHeight "+l.metadata.capHeight),c(">>"),c("endobj");var v=d();c("<<"),c("/Type /Font"),c("/BaseFont /"+Tc(l.fontName)),c("/FontDescriptor "+x+" 0 R"),c("/W "+e.API.PDFObject.convert(u)),c("/CIDToGIDMap /Identity"),c("/DW 1000"),c("/Subtype /CIDFontType2"),c("/CIDSystemInfo"),c("<<"),c("/Supplement 0"),c("/Registry (Adobe)"),c("/Ordering ("+l.encoding+")"),c(">>"),c(">>"),c("endobj"),l.objectNumber=d(),c("<<"),c("/Type /Font"),c("/Subtype /Type0"),c("/ToUnicode "+j+" 0 R"),c("/BaseFont /"+Tc(l.fontName)),c("/Encoding /"+l.encoding),c("/DescendantFonts ["+v+" 0 R]"),c(">>"),c("endobj"),l.isAlreadyPutted=!0}})(i)}]),t.events.push(["putFont",function(i){(function(o){var l=o.font,c=o.out,d=o.newObject,p=o.putStream;if(l.metadata instanceof e.API.TTFFont&&l.encoding==="WinAnsiEncoding"){for(var u=l.metadata.rawData,f="",m=0;m<u.length;m++)f+=String.fromCharCode(u[m]);var g=d();p({data:f,addLength1:!0,objectId:g}),c("endobj");var b=d();p({data:s(l.metadata.toUnicode),addLength1:!0,objectId:b}),c("endobj");var j=d();c("<<"),c("/Descent "+l.metadata.decender),c("/CapHeight "+l.metadata.capHeight),c("/StemV "+l.metadata.stemV),c("/Type /FontDescriptor"),c("/FontFile2 "+g+" 0 R"),c("/Flags 96"),c("/FontBBox "+e.API.PDFObject.convert(l.metadata.bbox)),c("/FontName /"+Tc(l.fontName)),c("/ItalicAngle "+l.metadata.italicAngle),c("/Ascent "+l.metadata.ascender),c(">>"),c("endobj"),l.objectNumber=d();for(var x=0;x<l.metadata.hmtx.widths.length;x++)l.metadata.hmtx.widths[x]=parseInt(l.metadata.hmtx.widths[x]*(1e3/l.metadata.head.unitsPerEm));c("<</Subtype/TrueType/Type/Font/ToUnicode "+b+" 0 R/BaseFont/"+Tc(l.fontName)+"/FontDescriptor "+j+" 0 R/Encoding/"+l.encoding+" /FirstChar 29 /LastChar 255 /Widths "+e.API.PDFObject.convert(l.metadata.hmtx.widths)+">>"),c("endobj"),l.isAlreadyPutted=!0}})(i)}]);var a=function(i){var o,l=i.text||"",c=i.x,d=i.y,p=i.options||{},u=i.mutex||{},f=u.pdfEscape,m=u.activeFontKey,g=u.fonts,b=m,j="",x=0,v="",y=g[b].encoding;if(g[b].encoding!=="Identity-H")return{text:l,x:c,y:d,options:p,mutex:u};for(v=l,b=m,Array.isArray(l)&&(v=l[0]),x=0;x<v.length;x+=1)g[b].metadata.hasOwnProperty("cmap")&&(o=g[b].metadata.cmap.unicode.codeMap[v[x].charCodeAt(0)]),o||v[x].charCodeAt(0)<256&&g[b].metadata.hasOwnProperty("Unicode")?j+=v[x]:j+="";var P="";return parseInt(b.slice(1))<14||y==="WinAnsiEncoding"?P=f(j,b).split("").map(function(M){return M.charCodeAt(0).toString(16)}).join(""):y==="Identity-H"&&(P=n(j,g[b])),u.isHex=!0,{text:P,x:c,y:d,options:p,mutex:u}};t.events.push(["postProcessText",function(i){var o=i.text||"",l=[],c={text:o,x:i.x,y:i.y,options:i.options,mutex:i.mutex};if(Array.isArray(o)){var d=0;for(d=0;d<o.length;d+=1)Array.isArray(o[d])&&o[d].length===3?l.push([a(Object.assign({},c,{text:o[d][0]})).text,o[d][1],o[d][2]]):l.push(a(Object.assign({},c,{text:o[d]})).text);i.text=l}else i.text=a(Object.assign({},c,{text:o})).text}])}(wt),function(e){var t=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};e.existsFileInVFS=function(n){return t.call(this),this.internal.vFS[n]!==void 0},e.addFileToVFS=function(n,s){return t.call(this),this.internal.vFS[n]=s,this},e.getFileFromVFS=function(n){return t.call(this),this.internal.vFS[n]!==void 0?this.internal.vFS[n]:null}}(wt.API),function(e){e.__bidiEngine__=e.prototype.__bidiEngine__=function(s){var a,i,o,l,c,d,p,u=t,f=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],m=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],g={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},b={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},j=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],x=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),v=!1,y=0;this.__bidiEngine__={};var P=function(C){var w=C.charCodeAt(),T=w>>8,L=b[T];return L!==void 0?u[256*L+(255&w)]:T===252||T===253?"AL":x.test(T)?"L":T===8?"R":"N"},M=function(C){for(var w,T=0;T<C.length;T++){if((w=P(C.charAt(T)))==="L")return!1;if(w==="R")return!0}return!1},O=function(C,w,T,L){var W,V,_,B,U=w[L];switch(U){case"L":case"R":v=!1;break;case"N":case"AN":break;case"EN":v&&(U="AN");break;case"AL":v=!0,U="R";break;case"WS":U="N";break;case"CS":L<1||L+1>=w.length||(W=T[L-1])!=="EN"&&W!=="AN"||(V=w[L+1])!=="EN"&&V!=="AN"?U="N":v&&(V="AN"),U=V===W?V:"N";break;case"ES":U=(W=L>0?T[L-1]:"B")==="EN"&&L+1<w.length&&w[L+1]==="EN"?"EN":"N";break;case"ET":if(L>0&&T[L-1]==="EN"){U="EN";break}if(v){U="N";break}for(_=L+1,B=w.length;_<B&&w[_]==="ET";)_++;U=_<B&&w[_]==="EN"?"EN":"N";break;case"NSM":if(o&&!l){for(B=w.length,_=L+1;_<B&&w[_]==="NSM";)_++;if(_<B){var q=C[L],H=q>=1425&&q<=2303||q===64286;if(W=w[_],H&&(W==="R"||W==="AL")){U="R";break}}}U=L<1||(W=w[L-1])==="B"?"N":T[L-1];break;case"B":v=!1,a=!0,U=y;break;case"S":i=!0,U="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":v=!1;break;case"BN":U="N"}return U},E=function(C,w,T){var L=C.split("");return T&&S(L,T,{hiLevel:y}),L.reverse(),w&&w.reverse(),L.join("")},S=function(C,w,T){var L,W,V,_,B,U=-1,q=C.length,H=0,R=[],$=y?m:f,G=[];for(v=!1,a=!1,i=!1,W=0;W<q;W++)G[W]=P(C[W]);for(V=0;V<q;V++){if(B=H,R[V]=O(C,G,R,V),L=240&(H=$[B][g[R[V]]]),H&=15,w[V]=_=$[H][5],L>0)if(L===16){for(W=U;W<V;W++)w[W]=1;U=-1}else U=-1;if($[H][6])U===-1&&(U=V);else if(U>-1){for(W=U;W<V;W++)w[W]=_;U=-1}G[V]==="B"&&(w[V]=0),T.hiLevel|=_}i&&function(Z,te,le){for(var ce=0;ce<le;ce++)if(Z[ce]==="S"){te[ce]=y;for(var de=ce-1;de>=0&&Z[de]==="WS";de--)te[de]=y}}(G,w,q)},k=function(C,w,T,L,W){if(!(W.hiLevel<C)){if(C===1&&y===1&&!a)return w.reverse(),void(T&&T.reverse());for(var V,_,B,U,q=w.length,H=0;H<q;){if(L[H]>=C){for(B=H+1;B<q&&L[B]>=C;)B++;for(U=H,_=B-1;U<_;U++,_--)V=w[U],w[U]=w[_],w[_]=V,T&&(V=T[U],T[U]=T[_],T[_]=V);H=B}H++}}},D=function(C,w,T){var L=C.split(""),W={hiLevel:y};return T||(T=[]),S(L,T,W),function(V,_,B){if(B.hiLevel!==0&&p)for(var U,q=0;q<V.length;q++)_[q]===1&&(U=j.indexOf(V[q]))>=0&&(V[q]=j[U+1])}(L,T,W),k(2,L,w,T,W),k(1,L,w,T,W),L.join("")};return this.__bidiEngine__.doBidiReorder=function(C,w,T){if(function(W,V){if(V)for(var _=0;_<W.length;_++)V[_]=_;l===void 0&&(l=M(W)),d===void 0&&(d=M(W))}(C,w),o||!c||d)if(o&&c&&l^d)y=l?1:0,C=E(C,w,T);else if(!o&&c&&d)y=l?1:0,C=D(C,w,T),C=E(C,w);else if(!o||l||c||d){if(o&&!c&&l^d)C=E(C,w),l?(y=0,C=D(C,w,T)):(y=1,C=D(C,w,T),C=E(C,w));else if(o&&l&&!c&&d)y=1,C=D(C,w,T),C=E(C,w);else if(!o&&!c&&l^d){var L=p;l?(y=1,C=D(C,w,T),y=0,p=!1,C=D(C,w,T),p=L):(y=0,C=D(C,w,T),C=E(C,w),y=1,p=!1,C=D(C,w,T),p=L,C=E(C,w))}}else y=0,C=D(C,w,T);else y=l?1:0,C=D(C,w,T);return C},this.__bidiEngine__.setOptions=function(C){C&&(o=C.isInputVisual,c=C.isOutputVisual,l=C.isInputRtl,d=C.isOutputRtl,p=C.isSymmetricSwapping)},this.__bidiEngine__.setOptions(s),this.__bidiEngine__};var t=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],n=new e.__bidiEngine__({isInputVisual:!0});e.API.events.push(["postProcessText",function(s){var a=s.text,i=(s.x,s.y,s.options||{}),o=(s.mutex,i.lang,[]);if(i.isInputVisual=typeof i.isInputVisual!="boolean"||i.isInputVisual,n.setOptions(i),Object.prototype.toString.call(a)==="[object Array]"){var l=0;for(o=[],l=0;l<a.length;l+=1)Object.prototype.toString.call(a[l])==="[object Array]"?o.push([n.doBidiReorder(a[l][0]),a[l][1],a[l][2]]):o.push([n.doBidiReorder(a[l])]);s.text=o}else s.text=n.doBidiReorder(a);n.setOptions({isInputVisual:!0})}])}(wt),wt.API.TTFFont=function(){function e(t){var n;if(this.rawData=t,n=this.contents=new Uo(t),this.contents.pos=4,n.readString(4)==="ttcf")throw new Error("TTCF not supported.");n.pos=0,this.parse(),this.subset=new iU(this),this.registerTTF()}return e.open=function(t){return new e(t)},e.prototype.parse=function(){return this.directory=new H$(this.contents),this.head=new Q$(this),this.name=new Z$(this),this.cmap=new wE(this),this.toUnicode={},this.hhea=new Y$(this),this.maxp=new eU(this),this.hmtx=new tU(this),this.post=new X$(this),this.os2=new K$(this),this.loca=new aU(this),this.glyf=new rU(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},e.prototype.registerTTF=function(){var t,n,s,a,i;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var o,l,c,d;for(d=[],o=0,l=(c=this.bbox).length;o<l;o++)t=c[o],d.push(Math.round(t*this.scaleFactor));return d}).call(this),this.stemV=0,this.post.exists?(s=255&(a=this.post.italic_angle),32768&(n=a>>16)&&(n=-(1+(65535^n))),this.italicAngle=+(n+"."+s)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(i=this.familyClass)===1||i===2||i===3||i===4||i===5||i===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},e.prototype.characterToGlyph=function(t){var n;return((n=this.cmap.unicode)!=null?n.codeMap[t]:void 0)||0},e.prototype.widthOfGlyph=function(t){var n;return n=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(t).advance*n},e.prototype.widthOfString=function(t,n,s){var a,i,o,l;for(o=0,i=0,l=(t=""+t).length;0<=l?i<l:i>l;i=0<=l?++i:--i)a=t.charCodeAt(i),o+=this.widthOfGlyph(this.characterToGlyph(a))+s*(1e3/n)||0;return o*(n/1e3)},e.prototype.lineHeight=function(t,n){var s;return n==null&&(n=!1),s=n?this.lineGap:0,(this.ascender+s-this.decender)/1e3*t},e}();var Ba,Uo=function(){function e(t){this.data=t??[],this.pos=0,this.length=this.data.length}return e.prototype.readByte=function(){return this.data[this.pos++]},e.prototype.writeByte=function(t){return this.data[this.pos++]=t},e.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},e.prototype.writeUInt32=function(t){return this.writeByte(t>>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt32=function(){var t;return(t=this.readUInt32())>=2147483648?t-4294967296:t},e.prototype.writeInt32=function(t){return t<0&&(t+=4294967296),this.writeUInt32(t)},e.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},e.prototype.writeUInt16=function(t){return this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt16=function(){var t;return(t=this.readUInt16())>=32768?t-65536:t},e.prototype.writeInt16=function(t){return t<0&&(t+=65536),this.writeUInt16(t)},e.prototype.readString=function(t){var n,s;for(s=[],n=0;0<=t?n<t:n>t;n=0<=t?++n:--n)s[n]=String.fromCharCode(this.readByte());return s.join("")},e.prototype.writeString=function(t){var n,s,a;for(a=[],n=0,s=t.length;0<=s?n<s:n>s;n=0<=s?++n:--n)a.push(this.writeByte(t.charCodeAt(n)));return a},e.prototype.readShort=function(){return this.readInt16()},e.prototype.writeShort=function(t){return this.writeInt16(t)},e.prototype.readLongLong=function(){var t,n,s,a,i,o,l,c;return t=this.readByte(),n=this.readByte(),s=this.readByte(),a=this.readByte(),i=this.readByte(),o=this.readByte(),l=this.readByte(),c=this.readByte(),128&t?-1*(72057594037927940*(255^t)+281474976710656*(255^n)+1099511627776*(255^s)+4294967296*(255^a)+16777216*(255^i)+65536*(255^o)+256*(255^l)+(255^c)+1):72057594037927940*t+281474976710656*n+1099511627776*s+4294967296*a+16777216*i+65536*o+256*l+c},e.prototype.writeLongLong=function(t){var n,s;return n=Math.floor(t/4294967296),s=4294967295&t,this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n),this.writeByte(s>>24&255),this.writeByte(s>>16&255),this.writeByte(s>>8&255),this.writeByte(255&s)},e.prototype.readInt=function(){return this.readInt32()},e.prototype.writeInt=function(t){return this.writeInt32(t)},e.prototype.read=function(t){var n,s;for(n=[],s=0;0<=t?s<t:s>t;s=0<=t?++s:--s)n.push(this.readByte());return n},e.prototype.write=function(t){var n,s,a,i;for(i=[],s=0,a=t.length;s<a;s++)n=t[s],i.push(this.writeByte(n));return i},e}(),H$=function(){var e;function t(n){var s,a,i;for(this.scalarType=n.readInt(),this.tableCount=n.readShort(),this.searchRange=n.readShort(),this.entrySelector=n.readShort(),this.rangeShift=n.readShort(),this.tables={},a=0,i=this.tableCount;0<=i?a<i:a>i;a=0<=i?++a:--a)s={tag:n.readString(4),checksum:n.readInt(),offset:n.readInt(),length:n.readInt()},this.tables[s.tag]=s}return t.prototype.encode=function(n){var s,a,i,o,l,c,d,p,u,f,m,g,b;for(b in m=Object.keys(n).length,c=Math.log(2),u=16*Math.floor(Math.log(m)/c),o=Math.floor(u/c),p=16*m-u,(a=new Uo).writeInt(this.scalarType),a.writeShort(m),a.writeShort(u),a.writeShort(o),a.writeShort(p),i=16*m,d=a.pos+i,l=null,g=[],n)for(f=n[b],a.writeString(b),a.writeInt(e(f)),a.writeInt(d),a.writeInt(f.length),g=g.concat(f),b==="head"&&(l=d),d+=f.length;d%4;)g.push(0),d++;return a.write(g),s=2981146554-e(a.data),a.pos=l+8,a.writeUInt32(s),a.data},e=function(n){var s,a,i,o;for(n=NE.call(n);n.length%4;)n.push(0);for(i=new Uo(n),a=0,s=0,o=n.length;s<o;s=s+=4)a+=i.readUInt32();return 4294967295&a},t}(),G$={}.hasOwnProperty,hi=function(e,t){for(var n in t)G$.call(t,n)&&(e[n]=t[n]);function s(){this.constructor=e}return s.prototype=t.prototype,e.prototype=new s,e.__super__=t.prototype,e};Ba=function(){function e(t){var n;this.file=t,n=this.file.directory.tables[this.tag],this.exists=!!n,n&&(this.offset=n.offset,this.length=n.length,this.parse(this.file.contents))}return e.prototype.parse=function(){},e.prototype.encode=function(){},e.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},e}();var Q$=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return hi(t,Ba),t.prototype.tag="head",t.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.revision=n.readInt(),this.checkSumAdjustment=n.readInt(),this.magicNumber=n.readInt(),this.flags=n.readShort(),this.unitsPerEm=n.readShort(),this.created=n.readLongLong(),this.modified=n.readLongLong(),this.xMin=n.readShort(),this.yMin=n.readShort(),this.xMax=n.readShort(),this.yMax=n.readShort(),this.macStyle=n.readShort(),this.lowestRecPPEM=n.readShort(),this.fontDirectionHint=n.readShort(),this.indexToLocFormat=n.readShort(),this.glyphDataFormat=n.readShort()},t.prototype.encode=function(n){var s;return(s=new Uo).writeInt(this.version),s.writeInt(this.revision),s.writeInt(this.checkSumAdjustment),s.writeInt(this.magicNumber),s.writeShort(this.flags),s.writeShort(this.unitsPerEm),s.writeLongLong(this.created),s.writeLongLong(this.modified),s.writeShort(this.xMin),s.writeShort(this.yMin),s.writeShort(this.xMax),s.writeShort(this.yMax),s.writeShort(this.macStyle),s.writeShort(this.lowestRecPPEM),s.writeShort(this.fontDirectionHint),s.writeShort(n),s.writeShort(this.glyphDataFormat),s.data},t}(),P5=function(){function e(t,n){var s,a,i,o,l,c,d,p,u,f,m,g,b,j,x,v,y;switch(this.platformID=t.readUInt16(),this.encodingID=t.readShort(),this.offset=n+t.readInt(),u=t.pos,t.pos=this.offset,this.format=t.readUInt16(),this.length=t.readUInt16(),this.language=t.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(c=0;c<256;++c)this.codeMap[c]=t.readByte();break;case 4:for(m=t.readUInt16(),f=m/2,t.pos+=6,i=function(){var P,M;for(M=[],c=P=0;0<=f?P<f:P>f;c=0<=f?++P:--P)M.push(t.readUInt16());return M}(),t.pos+=2,b=function(){var P,M;for(M=[],c=P=0;0<=f?P<f:P>f;c=0<=f?++P:--P)M.push(t.readUInt16());return M}(),d=function(){var P,M;for(M=[],c=P=0;0<=f?P<f:P>f;c=0<=f?++P:--P)M.push(t.readUInt16());return M}(),p=function(){var P,M;for(M=[],c=P=0;0<=f?P<f:P>f;c=0<=f?++P:--P)M.push(t.readUInt16());return M}(),a=(this.length-t.pos+this.offset)/2,l=function(){var P,M;for(M=[],c=P=0;0<=a?P<a:P>a;c=0<=a?++P:--P)M.push(t.readUInt16());return M}(),c=x=0,y=i.length;x<y;c=++x)for(j=i[c],s=v=g=b[c];g<=j?v<=j:v>=j;s=g<=j?++v:--v)p[c]===0?o=s+d[c]:(o=l[p[c]/2+(s-g)-(f-c)]||0)!==0&&(o+=d[c]),this.codeMap[s]=65535&o}t.pos=u}return e.encode=function(t,n){var s,a,i,o,l,c,d,p,u,f,m,g,b,j,x,v,y,P,M,O,E,S,k,D,C,w,T,L,W,V,_,B,U,q,H,R,$,G,Z,te,le,ce,de,Ne,ve,Ee;switch(L=new Uo,o=Object.keys(t).sort(function(Te,pe){return Te-pe}),n){case"macroman":for(b=0,j=function(){var Te=[];for(g=0;g<256;++g)Te.push(0);return Te}(),v={0:0},i={},W=0,U=o.length;W<U;W++)v[de=t[a=o[W]]]==null&&(v[de]=++b),i[a]={old:t[a],new:v[t[a]]},j[a]=v[t[a]];return L.writeUInt16(1),L.writeUInt16(0),L.writeUInt32(12),L.writeUInt16(0),L.writeUInt16(262),L.writeUInt16(0),L.write(j),{charMap:i,subtable:L.data,maxGlyphID:b+1};case"unicode":for(w=[],u=[],y=0,v={},s={},x=d=null,V=0,q=o.length;V<q;V++)v[M=t[a=o[V]]]==null&&(v[M]=++y),s[a]={old:M,new:v[M]},l=v[M]-a,x!=null&&l===d||(x&&u.push(x),w.push(a),d=l),x=a;for(x&&u.push(x),u.push(65535),w.push(65535),D=2*(k=w.length),S=2*Math.pow(Math.log(k)/Math.LN2,2),f=Math.log(S/2)/Math.LN2,E=2*k-S,c=[],O=[],m=[],g=_=0,H=w.length;_<H;g=++_){if(C=w[g],p=u[g],C===65535){c.push(0),O.push(0);break}if(C-(T=s[C].new)>=32768)for(c.push(0),O.push(2*(m.length+k-g)),a=B=C;C<=p?B<=p:B>=p;a=C<=p?++B:--B)m.push(s[a].new);else c.push(T-C),O.push(0)}for(L.writeUInt16(3),L.writeUInt16(1),L.writeUInt32(12),L.writeUInt16(4),L.writeUInt16(16+8*k+2*m.length),L.writeUInt16(0),L.writeUInt16(D),L.writeUInt16(S),L.writeUInt16(f),L.writeUInt16(E),le=0,R=u.length;le<R;le++)a=u[le],L.writeUInt16(a);for(L.writeUInt16(0),ce=0,$=w.length;ce<$;ce++)a=w[ce],L.writeUInt16(a);for(Ne=0,G=c.length;Ne<G;Ne++)l=c[Ne],L.writeUInt16(l);for(ve=0,Z=O.length;ve<Z;ve++)P=O[ve],L.writeUInt16(P);for(Ee=0,te=m.length;Ee<te;Ee++)b=m[Ee],L.writeUInt16(b);return{charMap:s,subtable:L.data,maxGlyphID:y+1}}},e}(),wE=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return hi(t,Ba),t.prototype.tag="cmap",t.prototype.parse=function(n){var s,a,i;for(n.pos=this.offset,this.version=n.readUInt16(),i=n.readUInt16(),this.tables=[],this.unicode=null,a=0;0<=i?a<i:a>i;a=0<=i?++a:--a)s=new P5(n,this.offset),this.tables.push(s),s.isUnicode&&this.unicode==null&&(this.unicode=s);return!0},t.encode=function(n,s){var a,i;return s==null&&(s="macroman"),a=P5.encode(n,s),(i=new Uo).writeUInt16(0),i.writeUInt16(1),a.table=i.data.concat(a.subtable),a},t}(),Y$=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return hi(t,Ba),t.prototype.tag="hhea",t.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.ascender=n.readShort(),this.decender=n.readShort(),this.lineGap=n.readShort(),this.advanceWidthMax=n.readShort(),this.minLeftSideBearing=n.readShort(),this.minRightSideBearing=n.readShort(),this.xMaxExtent=n.readShort(),this.caretSlopeRise=n.readShort(),this.caretSlopeRun=n.readShort(),this.caretOffset=n.readShort(),n.pos+=8,this.metricDataFormat=n.readShort(),this.numberOfMetrics=n.readUInt16()},t}(),K$=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return hi(t,Ba),t.prototype.tag="OS/2",t.prototype.parse=function(n){if(n.pos=this.offset,this.version=n.readUInt16(),this.averageCharWidth=n.readShort(),this.weightClass=n.readUInt16(),this.widthClass=n.readUInt16(),this.type=n.readShort(),this.ySubscriptXSize=n.readShort(),this.ySubscriptYSize=n.readShort(),this.ySubscriptXOffset=n.readShort(),this.ySubscriptYOffset=n.readShort(),this.ySuperscriptXSize=n.readShort(),this.ySuperscriptYSize=n.readShort(),this.ySuperscriptXOffset=n.readShort(),this.ySuperscriptYOffset=n.readShort(),this.yStrikeoutSize=n.readShort(),this.yStrikeoutPosition=n.readShort(),this.familyClass=n.readShort(),this.panose=function(){var s,a;for(a=[],s=0;s<10;++s)a.push(n.readByte());return a}(),this.charRange=function(){var s,a;for(a=[],s=0;s<4;++s)a.push(n.readInt());return a}(),this.vendorID=n.readString(4),this.selection=n.readShort(),this.firstCharIndex=n.readShort(),this.lastCharIndex=n.readShort(),this.version>0&&(this.ascent=n.readShort(),this.descent=n.readShort(),this.lineGap=n.readShort(),this.winAscent=n.readShort(),this.winDescent=n.readShort(),this.codePageRange=function(){var s,a;for(a=[],s=0;s<2;s=++s)a.push(n.readInt());return a}(),this.version>1))return this.xHeight=n.readShort(),this.capHeight=n.readShort(),this.defaultChar=n.readShort(),this.breakChar=n.readShort(),this.maxContext=n.readShort()},t}(),X$=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return hi(t,Ba),t.prototype.tag="post",t.prototype.parse=function(n){var s,a,i;switch(n.pos=this.offset,this.format=n.readInt(),this.italicAngle=n.readInt(),this.underlinePosition=n.readShort(),this.underlineThickness=n.readShort(),this.isFixedPitch=n.readInt(),this.minMemType42=n.readInt(),this.maxMemType42=n.readInt(),this.minMemType1=n.readInt(),this.maxMemType1=n.readInt(),this.format){case 65536:break;case 131072:var o;for(a=n.readUInt16(),this.glyphNameIndex=[],o=0;0<=a?o<a:o>a;o=0<=a?++o:--o)this.glyphNameIndex.push(n.readUInt16());for(this.names=[],i=[];n.pos<this.offset+this.length;)s=n.readByte(),i.push(this.names.push(n.readString(s)));return i;case 151552:return a=n.readUInt16(),this.offsets=n.read(a);case 196608:break;case 262144:return this.map=(function(){var l,c,d;for(d=[],o=l=0,c=this.file.maxp.numGlyphs;0<=c?l<c:l>c;o=0<=c?++l:--l)d.push(n.readUInt32());return d}).call(this)}},t}(),J$=function(e,t){this.raw=e,this.length=e.length,this.platformID=t.platformID,this.encodingID=t.encodingID,this.languageID=t.languageID},Z$=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return hi(t,Ba),t.prototype.tag="name",t.prototype.parse=function(n){var s,a,i,o,l,c,d,p,u,f,m;for(n.pos=this.offset,n.readShort(),s=n.readShort(),c=n.readShort(),a=[],o=0;0<=s?o<s:o>s;o=0<=s?++o:--o)a.push({platformID:n.readShort(),encodingID:n.readShort(),languageID:n.readShort(),nameID:n.readShort(),length:n.readShort(),offset:this.offset+c+n.readShort()});for(d={},o=u=0,f=a.length;u<f;o=++u)i=a[o],n.pos=i.offset,p=n.readString(i.length),l=new J$(p,i),d[m=i.nameID]==null&&(d[m]=[]),d[i.nameID].push(l);this.strings=d,this.copyright=d[0],this.fontFamily=d[1],this.fontSubfamily=d[2],this.uniqueSubfamily=d[3],this.fontName=d[4],this.version=d[5];try{this.postscriptName=d[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=d[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=d[7],this.manufacturer=d[8],this.designer=d[9],this.description=d[10],this.vendorUrl=d[11],this.designerUrl=d[12],this.license=d[13],this.licenseUrl=d[14],this.preferredFamily=d[15],this.preferredSubfamily=d[17],this.compatibleFull=d[18],this.sampleText=d[19]},t}(),eU=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return hi(t,Ba),t.prototype.tag="maxp",t.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.numGlyphs=n.readUInt16(),this.maxPoints=n.readUInt16(),this.maxContours=n.readUInt16(),this.maxCompositePoints=n.readUInt16(),this.maxComponentContours=n.readUInt16(),this.maxZones=n.readUInt16(),this.maxTwilightPoints=n.readUInt16(),this.maxStorage=n.readUInt16(),this.maxFunctionDefs=n.readUInt16(),this.maxInstructionDefs=n.readUInt16(),this.maxStackElements=n.readUInt16(),this.maxSizeOfInstructions=n.readUInt16(),this.maxComponentElements=n.readUInt16(),this.maxComponentDepth=n.readUInt16()},t}(),tU=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return hi(t,Ba),t.prototype.tag="hmtx",t.prototype.parse=function(n){var s,a,i,o,l,c,d;for(n.pos=this.offset,this.metrics=[],s=0,c=this.file.hhea.numberOfMetrics;0<=c?s<c:s>c;s=0<=c?++s:--s)this.metrics.push({advance:n.readUInt16(),lsb:n.readInt16()});for(i=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var p,u;for(u=[],s=p=0;0<=i?p<i:p>i;s=0<=i?++p:--p)u.push(n.readInt16());return u}(),this.widths=(function(){var p,u,f,m;for(m=[],p=0,u=(f=this.metrics).length;p<u;p++)o=f[p],m.push(o.advance);return m}).call(this),a=this.widths[this.widths.length-1],d=[],s=l=0;0<=i?l<i:l>i;s=0<=i?++l:--l)d.push(this.widths.push(a));return d},t.prototype.forGlyph=function(n){return n in this.metrics?this.metrics[n]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[n-this.metrics.length]}},t}(),NE=[].slice,rU=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return hi(t,Ba),t.prototype.tag="glyf",t.prototype.parse=function(){return this.cache={}},t.prototype.glyphFor=function(n){var s,a,i,o,l,c,d,p,u,f;return n in this.cache?this.cache[n]:(o=this.file.loca,s=this.file.contents,a=o.indexOf(n),(i=o.lengthOf(n))===0?this.cache[n]=null:(s.pos=this.offset+a,l=(c=new Uo(s.read(i))).readShort(),p=c.readShort(),f=c.readShort(),d=c.readShort(),u=c.readShort(),this.cache[n]=l===-1?new sU(c,p,f,d,u):new nU(c,l,p,f,d,u),this.cache[n]))},t.prototype.encode=function(n,s,a){var i,o,l,c,d;for(l=[],o=[],c=0,d=s.length;c<d;c++)i=n[s[c]],o.push(l.length),i&&(l=l.concat(i.encode(a)));return o.push(l.length),{table:l,offsets:o}},t}(),nU=function(){function e(t,n,s,a,i,o){this.raw=t,this.numberOfContours=n,this.xMin=s,this.yMin=a,this.xMax=i,this.yMax=o,this.compound=!1}return e.prototype.encode=function(){return this.raw.data},e}(),sU=function(){function e(t,n,s,a,i){var o,l;for(this.raw=t,this.xMin=n,this.yMin=s,this.xMax=a,this.yMax=i,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],o=this.raw;l=o.readShort(),this.glyphOffsets.push(o.pos),this.glyphIDs.push(o.readUInt16()),32&l;)o.pos+=1&l?4:2,128&l?o.pos+=8:64&l?o.pos+=4:8&l&&(o.pos+=2)}return e.prototype.encode=function(){var t,n,s;for(n=new Uo(NE.call(this.raw.data)),t=0,s=this.glyphIDs.length;t<s;++t)n.pos=this.glyphOffsets[t];return n.data},e}(),aU=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return hi(t,Ba),t.prototype.tag="loca",t.prototype.parse=function(n){var s,a;return n.pos=this.offset,s=this.file.head.indexToLocFormat,this.offsets=s===0?(function(){var i,o;for(o=[],a=0,i=this.length;a<i;a+=2)o.push(2*n.readUInt16());return o}).call(this):(function(){var i,o;for(o=[],a=0,i=this.length;a<i;a+=4)o.push(n.readUInt32());return o}).call(this)},t.prototype.indexOf=function(n){return this.offsets[n]},t.prototype.lengthOf=function(n){return this.offsets[n+1]-this.offsets[n]},t.prototype.encode=function(n,s){for(var a=new Uint32Array(this.offsets.length),i=0,o=0,l=0;l<a.length;++l)if(a[l]=i,o<s.length&&s[o]==l){++o,a[l]=i;var c=this.offsets[l],d=this.offsets[l+1]-c;d>0&&(i+=d)}for(var p=new Array(4*a.length),u=0;u<a.length;++u)p[4*u+3]=255&a[u],p[4*u+2]=(65280&a[u])>>8,p[4*u+1]=(16711680&a[u])>>16,p[4*u]=(4278190080&a[u])>>24;return p},t}(),iU=function(){function e(t){this.font=t,this.subset={},this.unicodes={},this.next=33}return e.prototype.generateCmap=function(){var t,n,s,a,i;for(n in a=this.font.cmap.tables[0].codeMap,t={},i=this.subset)s=i[n],t[n]=a[s];return t},e.prototype.glyphsFor=function(t){var n,s,a,i,o,l,c;for(a={},o=0,l=t.length;o<l;o++)a[i=t[o]]=this.font.glyf.glyphFor(i);for(i in n=[],a)(s=a[i])!=null&&s.compound&&n.push.apply(n,s.glyphIDs);if(n.length>0)for(i in c=this.glyphsFor(n))s=c[i],a[i]=s;return a},e.prototype.encode=function(t,n){var s,a,i,o,l,c,d,p,u,f,m,g,b,j,x;for(a in s=wE.encode(this.generateCmap(),"unicode"),o=this.glyphsFor(t),m={0:0},x=s.charMap)m[(c=x[a]).old]=c.new;for(g in f=s.maxGlyphID,o)g in m||(m[g]=f++);return p=function(v){var y,P;for(y in P={},v)P[v[y]]=y;return P}(m),u=Object.keys(p).sort(function(v,y){return v-y}),b=function(){var v,y,P;for(P=[],v=0,y=u.length;v<y;v++)l=u[v],P.push(p[l]);return P}(),i=this.font.glyf.encode(o,b,m),d=this.font.loca.encode(i.offsets,b),j={cmap:this.font.cmap.raw(),glyf:i.table,loca:d,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(n)},this.font.os2.exists&&(j["OS/2"]=this.font.os2.raw()),this.font.directory.encode(j)},e}();wt.API.PDFObject=function(){var e;function t(){}return e=function(n,s){return(Array(s+1).join("0")+n).slice(-s)},t.convert=function(n){var s,a,i,o;if(Array.isArray(n))return"["+function(){var l,c,d;for(d=[],l=0,c=n.length;l<c;l++)s=n[l],d.push(t.convert(s));return d}().join(" ")+"]";if(typeof n=="string")return"/"+n;if(n!=null&&n.isString)return"("+n+")";if(n instanceof Date)return"(D:"+e(n.getUTCFullYear(),4)+e(n.getUTCMonth(),2)+e(n.getUTCDate(),2)+e(n.getUTCHours(),2)+e(n.getUTCMinutes(),2)+e(n.getUTCSeconds(),2)+"Z)";if({}.toString.call(n)==="[object Object]"){for(a in i=["<<"],n)o=n[a],i.push("/"+a+" "+t.convert(o));return i.push(">>"),i.join(`
`)}return""+n},t}();const oU=Object.freeze(Object.defineProperty({__proto__:null,AcroForm:M$,AcroFormAppearance:ft,AcroFormButton:an,AcroFormCheckBox:qu,AcroFormChoiceField:Al,AcroFormComboBox:Il,AcroFormEditBox:Vu,AcroFormListBox:El,AcroFormPasswordField:Hu,AcroFormPushButton:Wu,AcroFormRadioButton:Pl,AcroFormTextField:Ro,GState:Sp,ShadingPattern:xo,TilingPattern:jl,default:wt,jsPDF:wt},Symbol.toStringTag,{value:"Module"}));var lU={exports:{}};const cU=l6(oU);/*!
 * 
 *               jsPDF AutoTable plugin v3.8.4
 *
 *               Copyright (c) 2024 Simon Bengtsson, https://github.com/simonbengtsson/jsPDF-AutoTable
 *               Licensed under the MIT License.
 *               http://opensource.org/licenses/mit-license
 *
 */(function(e,t){(function(s,a){e.exports=a(function(){try{return cU}catch{}}())})(typeof globalThis<"u"?globalThis:typeof bf<"u"?bf:typeof window<"u"?window:typeof self<"u"?self:bf,function(n){return function(){var s={172:function(l,c){var d=this&&this.__extends||function(){var f=function(m,g){return f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,j){b.__proto__=j}||function(b,j){for(var x in j)Object.prototype.hasOwnProperty.call(j,x)&&(b[x]=j[x])},f(m,g)};return function(m,g){if(typeof g!="function"&&g!==null)throw new TypeError("Class extends value "+String(g)+" is not a constructor or null");f(m,g);function b(){this.constructor=m}m.prototype=g===null?Object.create(g):(b.prototype=g.prototype,new b)}}();Object.defineProperty(c,"__esModule",{value:!0}),c.CellHookData=c.HookData=void 0;var p=function(){function f(m,g,b){this.table=g,this.pageNumber=g.pageNumber,this.pageCount=this.pageNumber,this.settings=g.settings,this.cursor=b,this.doc=m.getDocument()}return f}();c.HookData=p;var u=function(f){d(m,f);function m(g,b,j,x,v,y){var P=f.call(this,g,b,y)||this;return P.cell=j,P.row=x,P.column=v,P.section=x.section,P}return m}(p);c.CellHookData=u},340:function(l,c,d){Object.defineProperty(c,"__esModule",{value:!0});var p=d(4),u=d(136),f=d(744),m=d(776),g=d(664),b=d(972);function j(x){x.API.autoTable=function(){for(var v=[],y=0;y<arguments.length;y++)v[y]=arguments[y];var P;v.length===1?P=v[0]:(console.error("Use of deprecated autoTable initiation"),P=v[2]||{},P.columns=v[0],P.body=v[1]);var M=(0,m.parseInput)(this,P),O=(0,b.createTable)(this,M);return(0,g.drawTable)(this,O),this},x.API.lastAutoTable=!1,x.API.previousAutoTable=!1,x.API.autoTable.previous=!1,x.API.autoTableText=function(v,y,P,M){(0,u.default)(v,y,P,M,this)},x.API.autoTableSetDefaults=function(v){return f.DocHandler.setDefaults(v,this),this},x.autoTableSetDefaults=function(v,y){f.DocHandler.setDefaults(v,y)},x.API.autoTableHtmlToJson=function(v,y){var P;if(y===void 0&&(y=!1),typeof window>"u")return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var M=new f.DocHandler(this),O=(0,p.parseHtml)(M,v,window,y,!1),E=O.head,S=O.body,k=((P=E[0])===null||P===void 0?void 0:P.map(function(D){return D.content}))||[];return{columns:k,rows:S,data:S}},x.API.autoTableEndPosY=function(){console.error("Use of deprecated function: autoTableEndPosY. Use doc.lastAutoTable.finalY instead.");var v=this.lastAutoTable;return v&&v.finalY?v.finalY:0},x.API.autoTableAddPageContent=function(v){return console.error("Use of deprecated function: autoTableAddPageContent. Use jsPDF.autoTableSetDefaults({didDrawPage: () => {}}) instead."),x.API.autoTable.globalDefaults||(x.API.autoTable.globalDefaults={}),x.API.autoTable.globalDefaults.addPageContent=v,this},x.API.autoTableAddPage=function(){return console.error("Use of deprecated function: autoTableAddPage. Use doc.addPage()"),this.addPage(),this}}c.default=j},136:function(l,c){Object.defineProperty(c,"__esModule",{value:!0});function d(p,u,f,m,g){m=m||{};var b=1.15,j=g.internal.scaleFactor,x=g.internal.getFontSize()/j,v=g.getLineHeightFactor?g.getLineHeightFactor():b,y=x*v,P=/\r\n|\r|\n/g,M="",O=1;if((m.valign==="middle"||m.valign==="bottom"||m.halign==="center"||m.halign==="right")&&(M=typeof p=="string"?p.split(P):p,O=M.length||1),f+=x*(2-b),m.valign==="middle"?f-=O/2*y:m.valign==="bottom"&&(f-=O*y),m.halign==="center"||m.halign==="right"){var E=x;if(m.halign==="center"&&(E*=.5),M&&O>=1){for(var S=0;S<M.length;S++)g.text(M[S],u-g.getStringUnitWidth(M[S])*E,f),f+=y;return g}u-=g.getStringUnitWidth(p)*E}return m.halign==="justify"?g.text(p,u,f,{maxWidth:m.maxWidth||100,align:"justify"}):g.text(p,u,f),g}c.default=d},420:function(l,c){Object.defineProperty(c,"__esModule",{value:!0}),c.getPageAvailableWidth=c.parseSpacing=c.getFillStyle=c.addTableBorder=c.getStringWidth=void 0;function d(g,b,j){j.applyStyles(b,!0);var x=Array.isArray(g)?g:[g],v=x.map(function(y){return j.getTextWidth(y)}).reduce(function(y,P){return Math.max(y,P)},0);return v}c.getStringWidth=d;function p(g,b,j,x){var v=b.settings.tableLineWidth,y=b.settings.tableLineColor;g.applyStyles({lineWidth:v,lineColor:y});var P=u(v,!1);P&&g.rect(j.x,j.y,b.getWidth(g.pageSize().width),x.y-j.y,P)}c.addTableBorder=p;function u(g,b){var j=g>0,x=b||b===0;return j&&x?"DF":j?"S":x?"F":null}c.getFillStyle=u;function f(g,b){var j,x,v,y;if(g=g||b,Array.isArray(g)){if(g.length>=4)return{top:g[0],right:g[1],bottom:g[2],left:g[3]};if(g.length===3)return{top:g[0],right:g[1],bottom:g[2],left:g[1]};if(g.length===2)return{top:g[0],right:g[1],bottom:g[0],left:g[1]};g.length===1?g=g[0]:g=b}return typeof g=="object"?(typeof g.vertical=="number"&&(g.top=g.vertical,g.bottom=g.vertical),typeof g.horizontal=="number"&&(g.right=g.horizontal,g.left=g.horizontal),{left:(j=g.left)!==null&&j!==void 0?j:b,top:(x=g.top)!==null&&x!==void 0?x:b,right:(v=g.right)!==null&&v!==void 0?v:b,bottom:(y=g.bottom)!==null&&y!==void 0?y:b}):(typeof g!="number"&&(g=b),{top:g,right:g,bottom:g,left:g})}c.parseSpacing=f;function m(g,b){var j=f(b.settings.margin,0);return g.pageSize().width-(j.left+j.right)}c.getPageAvailableWidth=m},796:function(l,c){var d=this&&this.__extends||function(){var m=function(g,b){return m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(j,x){j.__proto__=x}||function(j,x){for(var v in x)Object.prototype.hasOwnProperty.call(x,v)&&(j[v]=x[v])},m(g,b)};return function(g,b){if(typeof b!="function"&&b!==null)throw new TypeError("Class extends value "+String(b)+" is not a constructor or null");m(g,b);function j(){this.constructor=g}g.prototype=b===null?Object.create(b):(j.prototype=b.prototype,new j)}}();Object.defineProperty(c,"__esModule",{value:!0}),c.getTheme=c.defaultStyles=c.HtmlRowInput=void 0;var p=function(m){d(g,m);function g(b){var j=m.call(this)||this;return j._element=b,j}return g}(Array);c.HtmlRowInput=p;function u(m){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/m,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}}c.defaultStyles=u;function f(m){var g={striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}};return g[m]}c.getTheme=f},903:function(l,c,d){Object.defineProperty(c,"__esModule",{value:!0}),c.parseCss=void 0;var p=d(420);function u(j,x,v,y,P){var M={},O=1.3333333333333333,E=m(x,function(U){return P.getComputedStyle(U).backgroundColor});E!=null&&(M.fillColor=E);var S=m(x,function(U){return P.getComputedStyle(U).color});S!=null&&(M.textColor=S);var k=b(y,v);k&&(M.cellPadding=k);var D="borderTopColor",C=O*v,w=y.borderTopWidth;if(y.borderBottomWidth===w&&y.borderRightWidth===w&&y.borderLeftWidth===w){var T=(parseFloat(w)||0)/C;T&&(M.lineWidth=T)}else M.lineWidth={top:(parseFloat(y.borderTopWidth)||0)/C,right:(parseFloat(y.borderRightWidth)||0)/C,bottom:(parseFloat(y.borderBottomWidth)||0)/C,left:(parseFloat(y.borderLeftWidth)||0)/C},M.lineWidth.top||(M.lineWidth.right?D="borderRightColor":M.lineWidth.bottom?D="borderBottomColor":M.lineWidth.left&&(D="borderLeftColor"));var L=m(x,function(U){return P.getComputedStyle(U)[D]});L!=null&&(M.lineColor=L);var W=["left","right","center","justify"];W.indexOf(y.textAlign)!==-1&&(M.halign=y.textAlign),W=["middle","bottom","top"],W.indexOf(y.verticalAlign)!==-1&&(M.valign=y.verticalAlign);var V=parseInt(y.fontSize||"");isNaN(V)||(M.fontSize=V/O);var _=f(y);_&&(M.fontStyle=_);var B=(y.fontFamily||"").toLowerCase();return j.indexOf(B)!==-1&&(M.font=B),M}c.parseCss=u;function f(j){var x="";return(j.fontWeight==="bold"||j.fontWeight==="bolder"||parseInt(j.fontWeight)>=700)&&(x="bold"),(j.fontStyle==="italic"||j.fontStyle==="oblique")&&(x+="italic"),x}function m(j,x){var v=g(j,x);if(!v)return null;var y=v.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!y||!Array.isArray(y))return null;var P=[parseInt(y[1]),parseInt(y[2]),parseInt(y[3])],M=parseInt(y[4]);return M===0||isNaN(P[0])||isNaN(P[1])||isNaN(P[2])?null:P}function g(j,x){var v=x(j);return v==="rgba(0, 0, 0, 0)"||v==="transparent"||v==="initial"||v==="inherit"?j.parentElement==null?null:g(j.parentElement,x):v}function b(j,x){var v=[j.paddingTop,j.paddingRight,j.paddingBottom,j.paddingLeft],y=96/(72/x),P=(parseInt(j.lineHeight)-parseInt(j.fontSize))/x/2,M=v.map(function(E){return parseInt(E||"0")/y}),O=(0,p.parseSpacing)(M,0);return P>O.top&&(O.top=P),P>O.bottom&&(O.bottom=P),O}},744:function(l,c){Object.defineProperty(c,"__esModule",{value:!0}),c.DocHandler=void 0;var d={},p=function(){function u(f){this.jsPDFDocument=f,this.userStyles={textColor:f.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:f.internal.getFontSize(),fontStyle:f.internal.getFont().fontStyle,font:f.internal.getFont().fontName,lineWidth:f.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:f.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return u.setDefaults=function(f,m){m===void 0&&(m=null),m?m.__autoTableDocumentDefaults=f:d=f},u.unifyColor=function(f){return Array.isArray(f)?f:typeof f=="number"?[f,f,f]:typeof f=="string"?[f]:null},u.prototype.applyStyles=function(f,m){var g,b,j;m===void 0&&(m=!1),f.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(f.fontStyle);var x=this.jsPDFDocument.internal.getFont(),v=x.fontStyle,y=x.fontName;if(f.font&&(y=f.font),f.fontStyle){v=f.fontStyle;var P=this.getFontList()[y];P&&P.indexOf(v)===-1&&(this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(P[0]),v=P[0])}if(this.jsPDFDocument.setFont(y,v),f.fontSize&&this.jsPDFDocument.setFontSize(f.fontSize),!m){var M=u.unifyColor(f.fillColor);M&&(g=this.jsPDFDocument).setFillColor.apply(g,M),M=u.unifyColor(f.textColor),M&&(b=this.jsPDFDocument).setTextColor.apply(b,M),M=u.unifyColor(f.lineColor),M&&(j=this.jsPDFDocument).setDrawColor.apply(j,M),typeof f.lineWidth=="number"&&this.jsPDFDocument.setLineWidth(f.lineWidth)}},u.prototype.splitTextToSize=function(f,m,g){return this.jsPDFDocument.splitTextToSize(f,m,g)},u.prototype.rect=function(f,m,g,b,j){return this.jsPDFDocument.rect(f,m,g,b,j)},u.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},u.prototype.getTextWidth=function(f){return this.jsPDFDocument.getTextWidth(f)},u.prototype.getDocument=function(){return this.jsPDFDocument},u.prototype.setPage=function(f){this.jsPDFDocument.setPage(f)},u.prototype.addPage=function(){return this.jsPDFDocument.addPage()},u.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},u.prototype.getGlobalOptions=function(){return d||{}},u.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},u.prototype.pageSize=function(){var f=this.jsPDFDocument.internal.pageSize;return f.width==null&&(f={width:f.getWidth(),height:f.getHeight()}),f},u.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},u.prototype.getLineHeightFactor=function(){var f=this.jsPDFDocument;return f.getLineHeightFactor?f.getLineHeightFactor():1.15},u.prototype.getLineHeight=function(f){return f/this.scaleFactor()*this.getLineHeightFactor()},u.prototype.pageNumber=function(){var f=this.jsPDFDocument.internal.getCurrentPageInfo();return f?f.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},u}();c.DocHandler=p},4:function(l,c,d){Object.defineProperty(c,"__esModule",{value:!0}),c.parseHtml=void 0;var p=d(903),u=d(796);function f(b,j,x,v,y){var P,M;v===void 0&&(v=!1),y===void 0&&(y=!1);var O;typeof j=="string"?O=x.document.querySelector(j):O=j;var E=Object.keys(b.getFontList()),S=b.scaleFactor(),k=[],D=[],C=[];if(!O)return console.error("Html table could not be found with input: ",j),{head:k,body:D,foot:C};for(var w=0;w<O.rows.length;w++){var T=O.rows[w],L=(M=(P=T==null?void 0:T.parentElement)===null||P===void 0?void 0:P.tagName)===null||M===void 0?void 0:M.toLowerCase(),W=m(E,S,x,T,v,y);W&&(L==="thead"?k.push(W):L==="tfoot"?C.push(W):D.push(W))}return{head:k,body:D,foot:C}}c.parseHtml=f;function m(b,j,x,v,y,P){for(var M=new u.HtmlRowInput(v),O=0;O<v.cells.length;O++){var E=v.cells[O],S=x.getComputedStyle(E);if(y||S.display!=="none"){var k=void 0;P&&(k=(0,p.parseCss)(b,E,j,S,x)),M.push({rowSpan:E.rowSpan,colSpan:E.colSpan,styles:k,_element:E,content:g(E)})}}var D=x.getComputedStyle(v);if(M.length>0&&(y||D.display!=="none"))return M}function g(b){var j=b.cloneNode(!0);return j.innerHTML=j.innerHTML.replace(/\n/g,"").replace(/ +/g," "),j.innerHTML=j.innerHTML.split(/<br.*?>/).map(function(x){return x.trim()}).join(`
`),j.innerText||j.textContent||""}},776:function(l,c,d){Object.defineProperty(c,"__esModule",{value:!0}),c.parseInput=void 0;var p=d(4),u=d(356),f=d(420),m=d(744),g=d(792);function b(O,E){var S=new m.DocHandler(O),k=S.getDocumentOptions(),D=S.getGlobalOptions();(0,g.default)(S,D,k,E);var C=(0,u.assign)({},D,k,E),w;typeof window<"u"&&(w=window);var T=j(D,k,E),L=x(D,k,E),W=v(S,C),V=P(S,C,w);return{id:E.tableId,content:V,hooks:L,styles:T,settings:W}}c.parseInput=b;function j(O,E,S){for(var k={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},D=function(L){if(L==="columnStyles"){var W=O[L],V=E[L],_=S[L];k.columnStyles=(0,u.assign)({},W,V,_)}else{var B=[O,E,S],U=B.map(function(q){return q[L]||{}});k[L]=(0,u.assign)({},U[0],U[1],U[2])}},C=0,w=Object.keys(k);C<w.length;C++){var T=w[C];D(T)}return k}function x(O,E,S){for(var k=[O,E,S],D={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},C=0,w=k;C<w.length;C++){var T=w[C];T.didParseCell&&D.didParseCell.push(T.didParseCell),T.willDrawCell&&D.willDrawCell.push(T.willDrawCell),T.didDrawCell&&D.didDrawCell.push(T.didDrawCell),T.willDrawPage&&D.willDrawPage.push(T.willDrawPage),T.didDrawPage&&D.didDrawPage.push(T.didDrawPage)}return D}function v(O,E){var S,k,D,C,w,T,L,W,V,_,B,U,q=(0,f.parseSpacing)(E.margin,40/O.scaleFactor()),H=(S=y(O,E.startY))!==null&&S!==void 0?S:q.top,R;E.showFoot===!0?R="everyPage":E.showFoot===!1?R="never":R=(k=E.showFoot)!==null&&k!==void 0?k:"everyPage";var $;E.showHead===!0?$="everyPage":E.showHead===!1?$="never":$=(D=E.showHead)!==null&&D!==void 0?D:"everyPage";var G=(C=E.useCss)!==null&&C!==void 0?C:!1,Z=E.theme||(G?"plain":"striped"),te=!!E.horizontalPageBreak,le=(w=E.horizontalPageBreakRepeat)!==null&&w!==void 0?w:null;return{includeHiddenHtml:(T=E.includeHiddenHtml)!==null&&T!==void 0?T:!1,useCss:G,theme:Z,startY:H,margin:q,pageBreak:(L=E.pageBreak)!==null&&L!==void 0?L:"auto",rowPageBreak:(W=E.rowPageBreak)!==null&&W!==void 0?W:"auto",tableWidth:(V=E.tableWidth)!==null&&V!==void 0?V:"auto",showHead:$,showFoot:R,tableLineWidth:(_=E.tableLineWidth)!==null&&_!==void 0?_:0,tableLineColor:(B=E.tableLineColor)!==null&&B!==void 0?B:200,horizontalPageBreak:te,horizontalPageBreakRepeat:le,horizontalPageBreakBehaviour:(U=E.horizontalPageBreakBehaviour)!==null&&U!==void 0?U:"afterAllRows"}}function y(O,E){var S=O.getLastAutoTable(),k=O.scaleFactor(),D=O.pageNumber(),C=!1;if(S&&S.startPageNumber){var w=S.startPageNumber+S.pageNumber-1;C=w===D}return typeof E=="number"?E:(E==null||E===!1)&&C&&(S==null?void 0:S.finalY)!=null?S.finalY+20/k:null}function P(O,E,S){var k=E.head||[],D=E.body||[],C=E.foot||[];if(E.html){var w=E.includeHiddenHtml;if(S){var T=(0,p.parseHtml)(O,E.html,S,w,E.useCss)||{};k=T.head||k,D=T.body||k,C=T.foot||k}else console.error("Cannot parse html in non browser environment")}var L=E.columns||M(k,D,C);return{columns:L,head:k,body:D,foot:C}}function M(O,E,S){var k=O[0]||E[0]||S[0]||[],D=[];return Object.keys(k).filter(function(C){return C!=="_element"}).forEach(function(C){var w=1,T;Array.isArray(k)?T=k[parseInt(C)]:T=k[C],typeof T=="object"&&!Array.isArray(T)&&(w=(T==null?void 0:T.colSpan)||1);for(var L=0;L<w;L++){var W=void 0;Array.isArray(k)?W=D.length:W=C+(L>0?"_".concat(L):"");var V={dataKey:W};D.push(V)}}),D}},792:function(l,c){Object.defineProperty(c,"__esModule",{value:!0});function d(u,f,m,g){for(var b=function(y){y&&typeof y!="object"&&console.error("The options parameter should be of type object, is: "+typeof y),typeof y.extendWidth<"u"&&(y.tableWidth=y.extendWidth?"auto":"wrap",console.error("Use of deprecated option: extendWidth, use tableWidth instead.")),typeof y.margins<"u"&&(typeof y.margin>"u"&&(y.margin=y.margins),console.error("Use of deprecated option: margins, use margin instead.")),y.startY&&typeof y.startY!="number"&&(console.error("Invalid value for startY option",y.startY),delete y.startY),!y.didDrawPage&&(y.afterPageContent||y.beforePageContent||y.afterPageAdd)&&(console.error("The afterPageContent, beforePageContent and afterPageAdd hooks are deprecated. Use didDrawPage instead"),y.didDrawPage=function(C){u.applyStyles(u.userStyles),y.beforePageContent&&y.beforePageContent(C),u.applyStyles(u.userStyles),y.afterPageContent&&y.afterPageContent(C),u.applyStyles(u.userStyles),y.afterPageAdd&&C.pageNumber>1&&C.afterPageAdd(C),u.applyStyles(u.userStyles)}),["createdHeaderCell","drawHeaderRow","drawRow","drawHeaderCell"].forEach(function(C){y[C]&&console.error('The "'.concat(C,'" hook has changed in version 3.0, check the changelog for how to migrate.'))}),[["showFoot","showFooter"],["showHead","showHeader"],["didDrawPage","addPageContent"],["didParseCell","createdCell"],["headStyles","headerStyles"]].forEach(function(C){var w=C[0],T=C[1];y[T]&&(console.error("Use of deprecated option ".concat(T,". Use ").concat(w," instead")),y[w]=y[T])}),[["padding","cellPadding"],["lineHeight","rowHeight"],"fontSize","overflow"].forEach(function(C){var w=typeof C=="string"?C:C[0],T=typeof C=="string"?C:C[1];typeof y[w]<"u"&&(typeof y.styles[T]>"u"&&(y.styles[T]=y[w]),console.error("Use of deprecated option: "+w+", use the style "+T+" instead."))});for(var P=0,M=["styles","bodyStyles","headStyles","footStyles"];P<M.length;P++){var O=M[P];p(y[O]||{})}for(var E=y.columnStyles||{},S=0,k=Object.keys(E);S<k.length;S++){var D=k[S];p(E[D]||{})}},j=0,x=[f,m,g];j<x.length;j++){var v=x[j];b(v)}}c.default=d;function p(u){u.rowHeight?(console.error("Use of deprecated style rowHeight. It is renamed to minCellHeight."),u.minCellHeight||(u.minCellHeight=u.rowHeight)):u.columnWidth&&(console.error("Use of deprecated style columnWidth. It is renamed to cellWidth."),u.cellWidth||(u.cellWidth=u.columnWidth))}},260:function(l,c,d){Object.defineProperty(c,"__esModule",{value:!0}),c.Column=c.Cell=c.Row=c.Table=void 0;var p=d(796),u=d(172),f=d(420),m=function(){function x(v,y){this.pageNumber=1,this.pageCount=1,this.id=v.id,this.settings=v.settings,this.styles=v.styles,this.hooks=v.hooks,this.columns=y.columns,this.head=y.head,this.body=y.body,this.foot=y.foot}return x.prototype.getHeadHeight=function(v){return this.head.reduce(function(y,P){return y+P.getMaxCellHeight(v)},0)},x.prototype.getFootHeight=function(v){return this.foot.reduce(function(y,P){return y+P.getMaxCellHeight(v)},0)},x.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},x.prototype.callCellHooks=function(v,y,P,M,O,E){for(var S=0,k=y;S<k.length;S++){var D=k[S],C=new u.CellHookData(v,this,P,M,O,E),w=D(C)===!1;if(P.text=Array.isArray(P.text)?P.text:[P.text],w)return!1}return!0},x.prototype.callEndPageHooks=function(v,y){v.applyStyles(v.userStyles);for(var P=0,M=this.hooks.didDrawPage;P<M.length;P++){var O=M[P];O(new u.HookData(v,this,y))}},x.prototype.callWillDrawPageHooks=function(v,y){for(var P=0,M=this.hooks.willDrawPage;P<M.length;P++){var O=M[P];O(new u.HookData(v,this,y))}},x.prototype.getWidth=function(v){if(typeof this.settings.tableWidth=="number")return this.settings.tableWidth;if(this.settings.tableWidth==="wrap"){var y=this.columns.reduce(function(M,O){return M+O.wrappedWidth},0);return y}else{var P=this.settings.margin;return v-P.left-P.right}},x}();c.Table=m;var g=function(){function x(v,y,P,M,O){O===void 0&&(O=!1),this.height=0,this.raw=v,v instanceof p.HtmlRowInput&&(this.raw=v._element,this.element=v._element),this.index=y,this.section=P,this.cells=M,this.spansMultiplePages=O}return x.prototype.getMaxCellHeight=function(v){var y=this;return v.reduce(function(P,M){var O;return Math.max(P,((O=y.cells[M.index])===null||O===void 0?void 0:O.height)||0)},0)},x.prototype.hasRowSpan=function(v){var y=this;return v.filter(function(P){var M=y.cells[P.index];return M?M.rowSpan>1:!1}).length>0},x.prototype.canEntireRowFit=function(v,y){return this.getMaxCellHeight(y)<=v},x.prototype.getMinimumRowHeight=function(v,y){var P=this;return v.reduce(function(M,O){var E=P.cells[O.index];if(!E)return 0;var S=y.getLineHeight(E.styles.fontSize),k=E.padding("vertical"),D=k+S;return D>M?D:M},0)},x}();c.Row=g;var b=function(){function x(v,y,P){var M,O;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=y,this.section=P,this.raw=v;var E=v;v!=null&&typeof v=="object"&&!Array.isArray(v)?(this.rowSpan=v.rowSpan||1,this.colSpan=v.colSpan||1,E=(O=(M=v.content)!==null&&M!==void 0?M:v.title)!==null&&O!==void 0?O:v,v._element&&(this.raw=v._element)):(this.rowSpan=1,this.colSpan=1);var S=E!=null?""+E:"",k=/\r\n|\r|\n/g;this.text=S.split(k)}return x.prototype.getTextPos=function(){var v;if(this.styles.valign==="top")v=this.y+this.padding("top");else if(this.styles.valign==="bottom")v=this.y+this.height-this.padding("bottom");else{var y=this.height-this.padding("vertical");v=this.y+y/2+this.padding("top")}var P;if(this.styles.halign==="right")P=this.x+this.width-this.padding("right");else if(this.styles.halign==="center"){var M=this.width-this.padding("horizontal");P=this.x+M/2+this.padding("left")}else P=this.x+this.padding("left");return{x:P,y:v}},x.prototype.getContentHeight=function(v,y){y===void 0&&(y=1.15);var P=Array.isArray(this.text)?this.text.length:1,M=this.styles.fontSize/v*y,O=P*M+this.padding("vertical");return Math.max(O,this.styles.minCellHeight)},x.prototype.padding=function(v){var y=(0,f.parseSpacing)(this.styles.cellPadding,0);return v==="vertical"?y.top+y.bottom:v==="horizontal"?y.left+y.right:y[v]},x}();c.Cell=b;var j=function(){function x(v,y,P){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=v,this.raw=y,this.index=P}return x.prototype.getMaxCustomCellWidth=function(v){for(var y=0,P=0,M=v.allRows();P<M.length;P++){var O=M[P],E=O.cells[this.index];E&&typeof E.styles.cellWidth=="number"&&(y=Math.max(y,E.styles.cellWidth))}return y},x}();c.Column=j},356:function(l,c){Object.defineProperty(c,"__esModule",{value:!0}),c.assign=void 0;function d(p,u,f,m,g){if(p==null)throw new TypeError("Cannot convert undefined or null to object");for(var b=Object(p),j=1;j<arguments.length;j++){var x=arguments[j];if(x!=null)for(var v in x)Object.prototype.hasOwnProperty.call(x,v)&&(b[v]=x[v])}return b}c.assign=d},972:function(l,c,d){Object.defineProperty(c,"__esModule",{value:!0}),c.createTable=void 0;var p=d(744),u=d(260),f=d(324),m=d(796),g=d(356);function b(O,E){var S=new p.DocHandler(O),k=j(E,S.scaleFactor()),D=new u.Table(E,k);return(0,f.calculateWidths)(S,D),S.applyStyles(S.userStyles),D}c.createTable=b;function j(O,E){var S=O.content,k=P(S.columns);if(S.head.length===0){var D=v(k,"head");D&&S.head.push(D)}if(S.foot.length===0){var D=v(k,"foot");D&&S.foot.push(D)}var C=O.settings.theme,w=O.styles;return{columns:k,head:x("head",S.head,k,w,C,E),body:x("body",S.body,k,w,C,E),foot:x("foot",S.foot,k,w,C,E)}}function x(O,E,S,k,D,C){var w={},T=E.map(function(L,W){for(var V=0,_={},B=0,U=0,q=0,H=S;q<H.length;q++){var R=H[q];if(w[R.index]==null||w[R.index].left===0)if(U===0){var $=void 0;Array.isArray(L)?$=L[R.index-B-V]:$=L[R.dataKey];var G={};typeof $=="object"&&!Array.isArray($)&&(G=($==null?void 0:$.styles)||{});var Z=M(O,R,W,D,k,C,G),te=new u.Cell($,Z,O);_[R.dataKey]=te,_[R.index]=te,U=te.colSpan-1,w[R.index]={left:te.rowSpan-1,times:U}}else U--,B++;else w[R.index].left--,U=w[R.index].times,V++}return new u.Row(L,W,O,_)});return T}function v(O,E){var S={};return O.forEach(function(k){if(k.raw!=null){var D=y(E,k.raw);D!=null&&(S[k.dataKey]=D)}}),Object.keys(S).length>0?S:null}function y(O,E){if(O==="head"){if(typeof E=="object")return E.header||E.title||null;if(typeof E=="string"||typeof E=="number")return E}else if(O==="foot"&&typeof E=="object")return E.footer;return null}function P(O){return O.map(function(E,S){var k,D,C;return typeof E=="object"?C=(D=(k=E.dataKey)!==null&&k!==void 0?k:E.key)!==null&&D!==void 0?D:S:C=S,new u.Column(C,E,S)})}function M(O,E,S,k,D,C,w){var T=(0,m.getTheme)(k),L;O==="head"?L=D.headStyles:O==="body"?L=D.bodyStyles:O==="foot"&&(L=D.footStyles);var W=(0,g.assign)({},T.table,T[O],D.styles,L),V=D.columnStyles[E.dataKey]||D.columnStyles[E.index]||{},_=O==="body"?V:{},B=O==="body"&&S%2===0?(0,g.assign)({},T.alternateRow,D.alternateRowStyles):{},U=(0,m.defaultStyles)(C),q=(0,g.assign)({},U,W,B,_);return(0,g.assign)(q,w)}},664:function(l,c,d){Object.defineProperty(c,"__esModule",{value:!0}),c.addPage=c.drawTable=void 0;var p=d(420),u=d(260),f=d(744),m=d(356),g=d(136),b=d(224);function j(V,_){var B=_.settings,U=B.startY,q=B.margin,H={x:q.left,y:U},R=_.getHeadHeight(_.columns)+_.getFootHeight(_.columns),$=U+q.bottom+R;if(B.pageBreak==="avoid"){var G=_.body,Z=G.reduce(function(ce,de){return ce+de.height},0);$+=Z}var te=new f.DocHandler(V);(B.pageBreak==="always"||B.startY!=null&&$>te.pageSize().height)&&(W(te),H.y=q.top),_.callWillDrawPageHooks(te,H);var le=(0,m.assign)({},H);_.startPageNumber=te.pageNumber(),B.horizontalPageBreak?x(te,_,le,H):(te.applyStyles(te.userStyles),(B.showHead==="firstPage"||B.showHead==="everyPage")&&_.head.forEach(function(ce){return D(te,_,ce,H,_.columns)}),te.applyStyles(te.userStyles),_.body.forEach(function(ce,de){var Ne=de===_.body.length-1;k(te,_,ce,Ne,le,H,_.columns)}),te.applyStyles(te.userStyles),(B.showFoot==="lastPage"||B.showFoot==="everyPage")&&_.foot.forEach(function(ce){return D(te,_,ce,H,_.columns)})),(0,p.addTableBorder)(te,_,le,H),_.callEndPageHooks(te,H),_.finalY=H.y,V.lastAutoTable=_,V.previousAutoTable=_,V.autoTable&&(V.autoTable.previous=_),te.applyStyles(te.userStyles)}c.drawTable=j;function x(V,_,B,U){var q=(0,b.calculateAllColumnsCanFitInPage)(V,_),H=_.settings;if(H.horizontalPageBreakBehaviour==="afterAllRows")q.forEach(function(Z,te){V.applyStyles(V.userStyles),te>0?L(V,_,B,U,Z.columns,!0):v(V,_,U,Z.columns),y(V,_,B,U,Z.columns),M(V,_,U,Z.columns)});else for(var R=-1,$=q[0],G=function(){var Z=R;if($){V.applyStyles(V.userStyles);var te=$.columns;R>=0?L(V,_,B,U,te,!0):v(V,_,U,te),Z=P(V,_,R+1,U,te),M(V,_,U,te)}var le=Z-R;q.slice(1).forEach(function(ce){V.applyStyles(V.userStyles),L(V,_,B,U,ce.columns,!0),P(V,_,R+1,U,ce.columns,le),M(V,_,U,ce.columns)}),R=Z};R<_.body.length-1;)G()}function v(V,_,B,U){var q=_.settings;V.applyStyles(V.userStyles),(q.showHead==="firstPage"||q.showHead==="everyPage")&&_.head.forEach(function(H){return D(V,_,H,B,U)})}function y(V,_,B,U,q){V.applyStyles(V.userStyles),_.body.forEach(function(H,R){var $=R===_.body.length-1;k(V,_,H,$,B,U,q)})}function P(V,_,B,U,q,H){V.applyStyles(V.userStyles),H=H??_.body.length;var R=Math.min(B+H,_.body.length),$=-1;return _.body.slice(B,R).forEach(function(G,Z){var te=B+Z===_.body.length-1,le=T(V,_,te,U);G.canEntireRowFit(le,q)&&(D(V,_,G,U,q),$=B+Z)}),$}function M(V,_,B,U){var q=_.settings;V.applyStyles(V.userStyles),(q.showFoot==="lastPage"||q.showFoot==="everyPage")&&_.foot.forEach(function(H){return D(V,_,H,B,U)})}function O(V,_,B){var U=B.getLineHeight(V.styles.fontSize),q=V.padding("vertical"),H=Math.floor((_-q)/U);return Math.max(0,H)}function E(V,_,B,U){var q={};V.spansMultiplePages=!0,V.height=0;for(var H=0,R=0,$=B.columns;R<$.length;R++){var G=$[R],Z=V.cells[G.index];if(Z){Array.isArray(Z.text)||(Z.text=[Z.text]);var te=new u.Cell(Z.raw,Z.styles,Z.section);te=(0,m.assign)(te,Z),te.text=[];var le=O(Z,_,U);Z.text.length>le&&(te.text=Z.text.splice(le,Z.text.length));var ce=U.scaleFactor(),de=U.getLineHeightFactor();Z.contentHeight=Z.getContentHeight(ce,de),Z.contentHeight>=_&&(Z.contentHeight=_,te.styles.minCellHeight-=_),Z.contentHeight>V.height&&(V.height=Z.contentHeight),te.contentHeight=te.getContentHeight(ce,de),te.contentHeight>H&&(H=te.contentHeight),q[G.index]=te}}var Ne=new u.Row(V.raw,-1,V.section,q,!0);Ne.height=H;for(var ve=0,Ee=B.columns;ve<Ee.length;ve++){var G=Ee[ve],te=Ne.cells[G.index];te&&(te.height=Ne.height);var Z=V.cells[G.index];Z&&(Z.height=V.height)}return Ne}function S(V,_,B,U){var q=V.pageSize().height,H=U.settings.margin,R=H.top+H.bottom,$=q-R;_.section==="body"&&($-=U.getHeadHeight(U.columns)+U.getFootHeight(U.columns));var G=_.getMinimumRowHeight(U.columns,V),Z=G<B;if(G>$)return console.error("Will not be able to print row ".concat(_.index," correctly since it's minimum height is larger than page height")),!0;if(!Z)return!1;var te=_.hasRowSpan(U.columns),le=_.getMaxCellHeight(U.columns)>$;return le?(te&&console.error("The content of row ".concat(_.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!(te||U.settings.rowPageBreak==="avoid")}function k(V,_,B,U,q,H,R){var $=T(V,_,U,H);if(B.canEntireRowFit($,R))D(V,_,B,H,R);else if(S(V,B,$,_)){var G=E(B,$,_,V);D(V,_,B,H,R),L(V,_,q,H,R),k(V,_,G,U,q,H,R)}else L(V,_,q,H,R),k(V,_,B,U,q,H,R)}function D(V,_,B,U,q){U.x=_.settings.margin.left;for(var H=0,R=q;H<R.length;H++){var $=R[H],G=B.cells[$.index];if(!G){U.x+=$.width;continue}V.applyStyles(G.styles),G.x=U.x,G.y=U.y;var Z=_.callCellHooks(V,_.hooks.willDrawCell,G,B,$,U);if(Z===!1){U.x+=$.width;continue}C(V,G,U);var te=G.getTextPos();(0,g.default)(G.text,te.x,te.y,{halign:G.styles.halign,valign:G.styles.valign,maxWidth:Math.ceil(G.width-G.padding("left")-G.padding("right"))},V.getDocument()),_.callCellHooks(V,_.hooks.didDrawCell,G,B,$,U),U.x+=$.width}U.y+=B.height}function C(V,_,B){var U=_.styles;if(V.getDocument().setFillColor(V.getDocument().getFillColor()),typeof U.lineWidth=="number"){var q=(0,p.getFillStyle)(U.lineWidth,U.fillColor);q&&V.rect(_.x,B.y,_.width,_.height,q)}else typeof U.lineWidth=="object"&&(U.fillColor&&V.rect(_.x,B.y,_.width,_.height,"F"),w(V,_,B,U.lineWidth))}function w(V,_,B,U){var q,H,R,$;U.top&&(q=B.x,H=B.y,R=B.x+_.width,$=B.y,U.right&&(R+=.5*U.right),U.left&&(q-=.5*U.left),G(U.top,q,H,R,$)),U.bottom&&(q=B.x,H=B.y+_.height,R=B.x+_.width,$=B.y+_.height,U.right&&(R+=.5*U.right),U.left&&(q-=.5*U.left),G(U.bottom,q,H,R,$)),U.left&&(q=B.x,H=B.y,R=B.x,$=B.y+_.height,U.top&&(H-=.5*U.top),U.bottom&&($+=.5*U.bottom),G(U.left,q,H,R,$)),U.right&&(q=B.x+_.width,H=B.y,R=B.x+_.width,$=B.y+_.height,U.top&&(H-=.5*U.top),U.bottom&&($+=.5*U.bottom),G(U.right,q,H,R,$));function G(Z,te,le,ce,de){V.getDocument().setLineWidth(Z),V.getDocument().line(te,le,ce,de,"S")}}function T(V,_,B,U){var q=_.settings.margin.bottom,H=_.settings.showFoot;return(H==="everyPage"||H==="lastPage"&&B)&&(q+=_.getFootHeight(_.columns)),V.pageSize().height-U.y-q}function L(V,_,B,U,q,H){q===void 0&&(q=[]),H===void 0&&(H=!1),V.applyStyles(V.userStyles),_.settings.showFoot==="everyPage"&&!H&&_.foot.forEach(function($){return D(V,_,$,U,q)}),_.callEndPageHooks(V,U);var R=_.settings.margin;(0,p.addTableBorder)(V,_,B,U),W(V),_.pageNumber++,_.pageCount++,U.x=R.left,U.y=R.top,B.y=R.top,_.callWillDrawPageHooks(V,U),_.settings.showHead==="everyPage"&&(_.head.forEach(function($){return D(V,_,$,U,q)}),V.applyStyles(V.userStyles))}c.addPage=L;function W(V){var _=V.pageNumber();V.setPage(_+1);var B=V.pageNumber();return B===_?(V.addPage(),!0):!1}},224:function(l,c,d){Object.defineProperty(c,"__esModule",{value:!0}),c.calculateAllColumnsCanFitInPage=void 0;var p=d(420);function u(m,g,b){var j;b===void 0&&(b={});var x=(0,p.getPageAvailableWidth)(m,g),v=new Map,y=[],P=[],M=[];g.settings.horizontalPageBreakRepeat,Array.isArray(g.settings.horizontalPageBreakRepeat)?M=g.settings.horizontalPageBreakRepeat:(typeof g.settings.horizontalPageBreakRepeat=="string"||typeof g.settings.horizontalPageBreakRepeat=="number")&&(M=[g.settings.horizontalPageBreakRepeat]),M.forEach(function(k){var D=g.columns.find(function(C){return C.dataKey===k||C.index===k});D&&!v.has(D.index)&&(v.set(D.index,!0),y.push(D.index),P.push(g.columns[D.index]),x-=D.wrappedWidth)});for(var O=!0,E=(j=b==null?void 0:b.start)!==null&&j!==void 0?j:0;E<g.columns.length;){if(v.has(E)){E++;continue}var S=g.columns[E].wrappedWidth;if(O||x>=S)O=!1,y.push(E),P.push(g.columns[E]),x-=S;else break;E++}return{colIndexes:y,columns:P,lastIndex:E-1}}function f(m,g){for(var b=[],j=0;j<g.columns.length;j++){var x=u(m,g,{start:j});x.columns.length&&(b.push(x),j=x.lastIndex)}return b}c.calculateAllColumnsCanFitInPage=f},324:function(l,c,d){Object.defineProperty(c,"__esModule",{value:!0}),c.ellipsize=c.resizeColumns=c.calculateWidths=void 0;var p=d(420);function u(y,P){f(y,P);var M=[],O=0;P.columns.forEach(function(S){var k=S.getMaxCustomCellWidth(P);k?S.width=k:(S.width=S.wrappedWidth,M.push(S)),O+=S.width});var E=P.getWidth(y.pageSize().width)-O;E&&(E=m(M,E,function(S){return Math.max(S.minReadableWidth,S.minWidth)})),E&&(E=m(M,E,function(S){return S.minWidth})),E=Math.abs(E),!P.settings.horizontalPageBreak&&E>.1/y.scaleFactor()&&(E=E<1?E:Math.round(E),console.warn("Of the table content, ".concat(E," units width could not fit page"))),b(P),j(P,y),g(P)}c.calculateWidths=u;function f(y,P){var M=y.scaleFactor(),O=P.settings.horizontalPageBreak,E=(0,p.getPageAvailableWidth)(y,P);P.allRows().forEach(function(S){for(var k=0,D=P.columns;k<D.length;k++){var C=D[k],w=S.cells[C.index];if(w){var T=P.hooks.didParseCell;P.callCellHooks(y,T,w,S,C,null);var L=w.padding("horizontal");w.contentWidth=(0,p.getStringWidth)(w.text,w.styles,y)+L;var W=(0,p.getStringWidth)(w.text.join(" ").split(/[^\S\u00A0]+/),w.styles,y);if(w.minReadableWidth=W+w.padding("horizontal"),typeof w.styles.cellWidth=="number")w.minWidth=w.styles.cellWidth,w.wrappedWidth=w.styles.cellWidth;else if(w.styles.cellWidth==="wrap"||O===!0)w.contentWidth>E?(w.minWidth=E,w.wrappedWidth=E):(w.minWidth=w.contentWidth,w.wrappedWidth=w.contentWidth);else{var V=10/M;w.minWidth=w.styles.minCellWidth||V,w.wrappedWidth=w.contentWidth,w.minWidth>w.wrappedWidth&&(w.wrappedWidth=w.minWidth)}}}}),P.allRows().forEach(function(S){for(var k=0,D=P.columns;k<D.length;k++){var C=D[k],w=S.cells[C.index];if(w&&w.colSpan===1)C.wrappedWidth=Math.max(C.wrappedWidth,w.wrappedWidth),C.minWidth=Math.max(C.minWidth,w.minWidth),C.minReadableWidth=Math.max(C.minReadableWidth,w.minReadableWidth);else{var T=P.styles.columnStyles[C.dataKey]||P.styles.columnStyles[C.index]||{},L=T.cellWidth||T.minCellWidth;L&&typeof L=="number"&&(C.minWidth=L,C.wrappedWidth=L)}w&&(w.colSpan>1&&!C.minWidth&&(C.minWidth=w.minWidth),w.colSpan>1&&!C.wrappedWidth&&(C.wrappedWidth=w.minWidth))}})}function m(y,P,M){for(var O=P,E=y.reduce(function(V,_){return V+_.wrappedWidth},0),S=0;S<y.length;S++){var k=y[S],D=k.wrappedWidth/E,C=O*D,w=k.width+C,T=M(k),L=w<T?T:w;P-=L-k.width,k.width=L}if(P=Math.round(P*1e10)/1e10,P){var W=y.filter(function(V){return P<0?V.width>M(V):!0});W.length&&(P=m(W,P,M))}return P}c.resizeColumns=m;function g(y){for(var P={},M=1,O=y.allRows(),E=0;E<O.length;E++)for(var S=O[E],k=0,D=y.columns;k<D.length;k++){var C=D[k],w=P[C.index];if(M>1)M--,delete S.cells[C.index];else if(w)w.cell.height+=S.height,M=w.cell.colSpan,delete S.cells[C.index],w.left--,w.left<=1&&delete P[C.index];else{var T=S.cells[C.index];if(!T)continue;if(T.height=S.height,T.rowSpan>1){var L=O.length-E,W=T.rowSpan>L?L:T.rowSpan;P[C.index]={cell:T,left:W,row:S}}}}}function b(y){for(var P=y.allRows(),M=0;M<P.length;M++)for(var O=P[M],E=null,S=0,k=0,D=0;D<y.columns.length;D++){var C=y.columns[D];if(k-=1,k>1&&y.columns[D+1])S+=C.width,delete O.cells[C.index];else if(E){var w=E;delete O.cells[C.index],E=null,w.width=C.width+S}else{var w=O.cells[C.index];if(!w)continue;if(k=w.colSpan,S=0,w.colSpan>1){E=w,S+=C.width;continue}w.width=C.width+S}}}function j(y,P){for(var M={count:0,height:0},O=0,E=y.allRows();O<E.length;O++){for(var S=E[O],k=0,D=y.columns;k<D.length;k++){var C=D[k],w=S.cells[C.index];if(w){P.applyStyles(w.styles,!0);var T=w.width-w.padding("horizontal");if(w.styles.overflow==="linebreak")w.text=P.splitTextToSize(w.text,T+1/P.scaleFactor(),{fontSize:w.styles.fontSize});else if(w.styles.overflow==="ellipsize")w.text=x(w.text,T,w.styles,P,"...");else if(w.styles.overflow==="hidden")w.text=x(w.text,T,w.styles,P,"");else if(typeof w.styles.overflow=="function"){var L=w.styles.overflow(w.text,T);typeof L=="string"?w.text=[L]:w.text=L}w.contentHeight=w.getContentHeight(P.scaleFactor(),P.getLineHeightFactor());var W=w.contentHeight/w.rowSpan;w.rowSpan>1&&M.count*M.height<W*w.rowSpan?M={height:W,count:w.rowSpan}:M&&M.count>0&&M.height>W&&(W=M.height),W>S.height&&(S.height=W)}}M.count--}}function x(y,P,M,O,E){return y.map(function(S){return v(S,P,M,O,E)})}c.ellipsize=x;function v(y,P,M,O,E){var S=1e4*O.scaleFactor();if(P=Math.ceil(P*S)/S,P>=(0,p.getStringWidth)(y,M,O))return y;for(;P<(0,p.getStringWidth)(y+E,M,O)&&!(y.length<=1);)y=y.substring(0,y.length-1);return y.trim()+E}},964:function(l){if(typeof n>"u"){var c=new Error("Cannot find module 'undefined'");throw c.code="MODULE_NOT_FOUND",c}l.exports=n}},a={};function i(l){var c=a[l];if(c!==void 0)return c.exports;var d=a[l]={exports:{}};return s[l].call(d.exports,d,d.exports,i),d.exports}var o={};return function(){var l=o;Object.defineProperty(l,"__esModule",{value:!0}),l.Cell=l.Column=l.Row=l.Table=l.CellHookData=l.__drawTable=l.__createTable=l.applyPlugin=void 0;var c=i(340),d=i(776),p=i(664),u=i(972),f=i(260);Object.defineProperty(l,"Table",{enumerable:!0,get:function(){return f.Table}});var m=i(172);Object.defineProperty(l,"CellHookData",{enumerable:!0,get:function(){return m.CellHookData}});var g=i(260);Object.defineProperty(l,"Cell",{enumerable:!0,get:function(){return g.Cell}}),Object.defineProperty(l,"Column",{enumerable:!0,get:function(){return g.Column}}),Object.defineProperty(l,"Row",{enumerable:!0,get:function(){return g.Row}});function b(P){(0,c.default)(P)}l.applyPlugin=b;function j(P,M){var O=(0,d.parseInput)(P,M),E=(0,u.createTable)(P,O);(0,p.drawTable)(P,E)}function x(P,M){var O=(0,d.parseInput)(P,M);return(0,u.createTable)(P,O)}l.__createTable=x;function v(P,M){(0,p.drawTable)(P,M)}l.__drawTable=v;try{var y=i(964);y.jsPDF&&(y=y.jsPDF),b(y)}catch{}l.default=j}(),o}()})})(lU);function dU({ticket:e,onClose:t,onEdit:n}){var m,g,b,j,x,v;const{toast:s}=Cr(),[a,i]=A.useState("details"),o=y=>{switch(y){case Ut.OPEN:return"bg-blue-50 text-blue-700 border-blue-200";case Ut.IN_PROGRESS:return"bg-yellow-50 text-yellow-700 border-yellow-200";case Ut.WAITING_PARTS:return"bg-orange-50 text-orange-700 border-orange-200";case Ut.COMPLETED:return"bg-green-50 text-green-700 border-green-200";case Ut.CANCELLED:return"bg-red-50 text-red-700 border-red-200";default:return"bg-gray-50 text-gray-700 border-gray-200"}},l=y=>{switch(y){case br.LOW:return"bg-green-50 text-green-700 border-green-200";case br.MEDIUM:return"bg-yellow-50 text-yellow-700 border-yellow-200";case br.HIGH:return"bg-orange-50 text-orange-700 border-orange-200";case br.URGENT:return"bg-red-50 text-red-700 border-red-200";default:return"bg-gray-50 text-gray-700 border-gray-200"}},c=y=>{switch(y){case"covered":return"Covered by Warranty";case"partial":return"Partially Covered";case"not_covered":return"Not Covered";case"extended":return"Extended Warranty";case"expired":return"Warranty Expired";default:return"Unknown"}},d=y=>{switch(y){case"covered":return"bg-green-50 text-green-700 border-green-200";case"partial":return"bg-yellow-50 text-yellow-700 border-yellow-200";case"not_covered":return"bg-red-50 text-red-700 border-red-200";case"extended":return"bg-blue-50 text-blue-700 border-blue-200";case"expired":return"bg-orange-50 text-orange-700 border-orange-200";default:return"bg-gray-50 text-gray-700 border-gray-200"}},u=(()=>{const y=e.parts.reduce((M,O)=>M+O.total,0),P=e.labor.reduce((M,O)=>M+O.total,0);return{partsTotal:y,laborTotal:P,grandTotal:y+P}})(),f=()=>{try{const y=new wt;y.setFontSize(20),y.text("Service Ticket",105,15,{align:"center"}),y.setFontSize(12),y.text(`Ticket #: ${e.id}`,20,30),y.text(`Date: ${yt(e.createdAt)}`,20,40),y.text(`Customer: ${e.customerId}`,20,50),y.text(`Status: ${e.status.replace("_"," ")}`,20,60),y.setFontSize(16),y.text("Service Details",20,75),y.setFontSize(12),y.text(`Title: ${e.title}`,20,85);const P=y.splitTextToSize(e.description,170);if(y.text(P,20,95),e.parts.length>0&&(y.setFontSize(16),y.text("Parts",20,120),y.autoTable({startY:125,head:[["Part Number","Description","Quantity","Unit Cost","Total"]],body:e.parts.map(O=>[O.partNumber,O.description,O.quantity,Le(O.unitCost),Le(O.total)]),foot:[["","","","Parts Total:",Le(u.partsTotal)]]})),e.labor.length>0){const O=y.lastAutoTable.finalY||125;y.setFontSize(16),y.text("Labor",20,O+15),y.autoTable({startY:O+20,head:[["Description","Hours","Rate","Total"]],body:e.labor.map(E=>[E.description,E.hours,Le(E.rate),Le(E.total)]),foot:[["","","Labor Total:",Le(u.laborTotal)]]})}const M=y.lastAutoTable.finalY||125;if(y.setFontSize(14),y.text(`Grand Total: ${Le(u.grandTotal)}`,150,M+20,{align:"right"}),e.notes){y.setFontSize(16),y.text("Notes",20,M+35),y.setFontSize(12);const O=y.splitTextToSize(e.notes,170);y.text(O,20,M+45)}y.save(`service-ticket-${e.id}.pdf`),s({title:"PDF Generated",description:"Service ticket PDF has been downloaded"})}catch(y){console.error("Error generating PDF:",y),s({title:"Error",description:"Failed to generate PDF",variant:"destructive"})}};return r.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:r.jsxs(me,{className:"w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[r.jsx(be,{children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx(je,{className:"text-xl",children:e.title}),r.jsxs(Ke,{children:["Service Ticket #",e.id]})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsxs(ae,{onClick:()=>n(e),size:"sm",children:[r.jsx(ln,{className:"h-4 w-4 mr-2"}),"Edit Ticket"]}),r.jsx(ae,{variant:"ghost",size:"sm",onClick:t,children:r.jsx(or,{className:"h-4 w-4"})})]})]})}),r.jsxs(fe,{children:[r.jsxs(dn,{value:a,onValueChange:i,className:"space-y-4",children:[r.jsxs(Zr,{className:"grid w-full grid-cols-3",children:[r.jsx(ut,{value:"details",children:"Details"}),r.jsx(ut,{value:"parts-labor",children:"Parts & Labor"}),r.jsx(ut,{value:"notes",children:"Notes"})]}),r.jsxs(ht,{value:"details",className:"space-y-6",children:[r.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[r.jsx(Re,{className:$e("ri-badge-status",o(e.status)),children:e.status.replace("_"," ").toUpperCase()}),r.jsxs(Re,{className:$e("ri-badge-status",l(e.priority)),children:[e.priority.toUpperCase()," PRIORITY"]}),((m=e.customFields)==null?void 0:m.warrantyStatus)&&r.jsx(Re,{className:$e("ri-badge-status",d(e.customFields.warrantyStatus)),children:c(e.customFields.warrantyStatus)}),((g=e.customFields)==null?void 0:g.customerAuthorization)&&r.jsx(Re,{className:"bg-green-50 text-green-700 border-green-200",children:"AUTHORIZED"})]}),r.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Customer"}),r.jsx("p",{className:"font-medium",children:e.customerId})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Vehicle"}),r.jsx("p",{className:"font-medium",children:e.vehicleId||"No Vehicle"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Assigned To"}),r.jsx("p",{className:"font-medium",children:e.assignedTo||"Unassigned"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Created"}),r.jsx("p",{className:"font-medium",children:yt(e.createdAt)})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Scheduled Date"}),r.jsx("p",{className:"font-medium",children:e.scheduledDate?yt(e.scheduledDate):"Not scheduled"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Estimated Completion"}),r.jsx("p",{className:"font-medium",children:((b=e.customFields)==null?void 0:b.estimatedCompletionDate)||"Not specified"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Description"}),r.jsx("div",{className:"mt-1 p-3 bg-muted/30 rounded-md",children:r.jsx("p",{className:"whitespace-pre-wrap",children:e.description})})]}),r.jsxs("div",{className:"p-3 bg-blue-50 rounded-md",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Os,{className:"h-4 w-4 text-blue-600"}),r.jsx("span",{className:"font-medium text-blue-700",children:"Customer Portal Access:"}),r.jsx("span",{className:"text-blue-700",children:((j=e.customFields)==null?void 0:j.customerPortalAccess)!==!1?"Enabled":"Disabled"})]}),r.jsx("p",{className:"text-sm text-blue-600 mt-1",children:((x=e.customFields)==null?void 0:x.customerPortalAccess)!==!1?"Customer can view this ticket in the portal":"Customer cannot view this ticket in the portal"})]})]}),r.jsxs(ht,{value:"parts-labor",className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold mb-3",children:"Parts"}),e.parts.length>0?r.jsxs("div",{className:"space-y-3",children:[e.parts.map(y=>r.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("span",{className:"font-medium",children:y.description}),r.jsx(Re,{variant:"outline",children:y.partNumber})]}),r.jsxs("p",{className:"text-sm text-muted-foreground",children:["Quantity: ",y.quantity,"  ",Le(y.unitCost)]})]}),r.jsx("div",{className:"font-bold",children:Le(y.total)})]},y.id)),r.jsx("div",{className:"flex justify-end p-2",children:r.jsxs("span",{className:"font-medium",children:["Parts Total: ",Le(u.partsTotal)]})})]}):r.jsx("div",{className:"text-center py-6 text-muted-foreground border-2 border-dashed rounded-lg",children:r.jsx("p",{children:"No parts added to this service ticket"})})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold mb-3",children:"Labor"}),e.labor.length>0?r.jsxs("div",{className:"space-y-3",children:[e.labor.map(y=>r.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[r.jsxs("div",{className:"flex-1",children:[r.jsx("div",{className:"font-medium",children:y.description}),r.jsxs("p",{className:"text-sm text-muted-foreground",children:[y.hours," hours  ",Le(y.rate),"/hr"]})]}),r.jsx("div",{className:"font-bold",children:Le(y.total)})]},y.id)),r.jsx("div",{className:"flex justify-end p-2",children:r.jsxs("span",{className:"font-medium",children:["Labor Total: ",Le(u.laborTotal)]})})]}):r.jsx("div",{className:"text-center py-6 text-muted-foreground border-2 border-dashed rounded-lg",children:r.jsx("p",{children:"No labor added to this service ticket"})})]}),r.jsx(me,{className:"bg-muted/30",children:r.jsx(fe,{className:"pt-6",children:r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{children:"Parts Total:"}),r.jsx("span",{children:Le(u.partsTotal)})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{children:"Labor Total:"}),r.jsx("span",{children:Le(u.laborTotal)})]}),r.jsxs("div",{className:"flex justify-between text-lg font-bold border-t pt-2",children:[r.jsx("span",{children:"Grand Total:"}),r.jsx("span",{children:Le(u.grandTotal)})]})]})})})]}),r.jsxs(ht,{value:"notes",className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold mb-3",children:"Customer Notes"}),e.notes?r.jsx("div",{className:"p-3 bg-muted/30 rounded-md",children:r.jsx("p",{className:"whitespace-pre-wrap",children:e.notes})}):r.jsx("div",{className:"text-center py-6 text-muted-foreground border-2 border-dashed rounded-lg",children:r.jsx("p",{children:"No customer notes for this service ticket"})})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold mb-3",children:"Technician Notes"}),(v=e.customFields)!=null&&v.technicianNotes?r.jsx("div",{className:"p-3 bg-yellow-50 rounded-md",children:r.jsx("p",{className:"whitespace-pre-wrap text-yellow-800",children:e.customFields.technicianNotes})}):r.jsx("div",{className:"text-center py-6 text-muted-foreground border-2 border-dashed rounded-lg",children:r.jsx("p",{children:"No technician notes for this service ticket"})})]})]})]}),r.jsxs("div",{className:"flex justify-end space-x-3 pt-6 border-t mt-6",children:[r.jsx(ae,{variant:"outline",onClick:t,children:"Close"}),r.jsxs(ae,{variant:"outline",onClick:f,children:[r.jsx(Ey,{className:"h-4 w-4 mr-2"}),"Print PDF"]}),r.jsxs(ae,{onClick:()=>n(e),children:[r.jsx(ln,{className:"h-4 w-4 mr-2"}),"Edit Ticket"]})]})]})]})})}function uU({ticket:e,onClose:t}){var l;const n=c=>{switch(c){case Ut.OPEN:return"bg-blue-50 text-blue-700 border-blue-200";case Ut.IN_PROGRESS:return"bg-yellow-50 text-yellow-700 border-yellow-200";case Ut.WAITING_PARTS:return"bg-orange-50 text-orange-700 border-orange-200";case Ut.COMPLETED:return"bg-green-50 text-green-700 border-green-200";case Ut.CANCELLED:return"bg-red-50 text-red-700 border-red-200";default:return"bg-gray-50 text-gray-700 border-gray-200"}},s=c=>{switch(c){case br.LOW:return"bg-green-50 text-green-700 border-green-200";case br.MEDIUM:return"bg-yellow-50 text-yellow-700 border-yellow-200";case br.HIGH:return"bg-orange-50 text-orange-700 border-orange-200";case br.URGENT:return"bg-red-50 text-red-700 border-red-200";default:return"bg-gray-50 text-gray-700 border-gray-200"}},i=(()=>{const c=e.parts.reduce((p,u)=>p+u.total,0),d=e.labor.reduce((p,u)=>p+u.total,0);return{partsTotal:c,laborTotal:d,grandTotal:c+d}})(),o=()=>{try{const c=new wt;c.setFontSize(20),c.text("Service Ticket",105,15,{align:"center"}),c.setFontSize(12),c.text(`Ticket #: ${e.id}`,20,30),c.text(`Date: ${yt(e.createdAt)}`,20,40),c.text(`Status: ${e.status.replace("_"," ")}`,20,50),c.setFontSize(16),c.text("Service Details",20,65),c.setFontSize(12),c.text(`Title: ${e.title}`,20,75);const d=c.splitTextToSize(e.description,170);if(c.text(d,20,85),e.parts.length>0&&(c.setFontSize(16),c.text("Parts",20,110),c.autoTable({startY:115,head:[["Description","Quantity","Unit Cost","Total"]],body:e.parts.map(u=>[u.description,u.quantity,Le(u.unitCost),Le(u.total)]),foot:[["","","Parts Total:",Le(i.partsTotal)]]})),e.labor.length>0){const u=c.lastAutoTable.finalY||115;c.setFontSize(16),c.text("Labor",20,u+15),c.autoTable({startY:u+20,head:[["Description","Hours","Rate","Total"]],body:e.labor.map(f=>[f.description,f.hours,Le(f.rate),Le(f.total)]),foot:[["","","Labor Total:",Le(i.laborTotal)]]})}const p=c.lastAutoTable.finalY||115;if(c.setFontSize(14),c.text(`Grand Total: ${Le(i.grandTotal)}`,150,p+20,{align:"right"}),e.notes){c.setFontSize(16),c.text("Notes",20,p+35),c.setFontSize(12);const u=c.splitTextToSize(e.notes,170);c.text(u,20,p+45)}c.save(`service-ticket-${e.id}.pdf`)}catch(c){console.error("Error generating PDF:",c)}};return r.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:r.jsxs(me,{className:"w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[r.jsx(be,{children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx(je,{className:"text-xl",children:"Service Ticket"}),r.jsxs(Ke,{children:["Ticket #",e.id]})]}),r.jsx(ae,{variant:"ghost",size:"sm",onClick:t,children:r.jsx(or,{className:"h-4 w-4"})})]})}),r.jsx(fe,{children:r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(gl,{className:"h-5 w-5 text-blue-600"}),r.jsx("h3",{className:"font-semibold text-blue-700",children:"Customer Portal View"})]}),r.jsx("p",{className:"text-sm text-blue-600 mt-1",children:"This is how your service ticket appears in the customer portal"})]}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-bold",children:e.title}),r.jsxs("div",{className:"flex flex-wrap items-center gap-2 mt-2",children:[r.jsx(Re,{className:$e("ri-badge-status",n(e.status)),children:e.status.replace("_"," ").toUpperCase()}),r.jsxs(Re,{className:$e("ri-badge-status",s(e.priority)),children:[e.priority.toUpperCase()," PRIORITY"]})]})]}),r.jsxs(dn,{defaultValue:"details",className:"space-y-4",children:[r.jsxs(Zr,{className:"grid w-full grid-cols-3",children:[r.jsx(ut,{value:"details",children:"Details"}),r.jsx(ut,{value:"parts-labor",children:"Parts & Labor"}),r.jsx(ut,{value:"timeline",children:"Timeline"})]}),r.jsxs(ht,{value:"details",className:"space-y-4",children:[r.jsxs(me,{children:[r.jsx(be,{children:r.jsx(je,{className:"text-lg",children:"Description"})}),r.jsx(fe,{children:r.jsx("p",{className:"whitespace-pre-wrap",children:e.description})})]}),r.jsxs(me,{children:[r.jsx(be,{children:r.jsx(je,{className:"text-lg",children:"Schedule Information"})}),r.jsx(fe,{children:r.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Created Date"}),r.jsx("p",{className:"font-medium",children:yt(e.createdAt)})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Scheduled Date"}),r.jsx("p",{className:"font-medium",children:e.scheduledDate?yt(e.scheduledDate):"Not scheduled"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Estimated Completion"}),r.jsx("p",{className:"font-medium",children:((l=e.customFields)==null?void 0:l.estimatedCompletionDate)||"Not specified"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Completed Date"}),r.jsx("p",{className:"font-medium",children:e.completedDate?yt(e.completedDate):"Not completed"})]})]})})]}),e.notes&&r.jsxs(me,{children:[r.jsx(be,{children:r.jsx(je,{className:"text-lg",children:"Notes"})}),r.jsx(fe,{children:r.jsx("p",{className:"whitespace-pre-wrap",children:e.notes})})]})]}),r.jsxs(ht,{value:"parts-labor",className:"space-y-6",children:[r.jsxs(me,{children:[r.jsx(be,{children:r.jsx(je,{className:"text-lg",children:"Parts"})}),r.jsx(fe,{children:e.parts.length>0?r.jsxs("div",{className:"space-y-3",children:[e.parts.map(c=>r.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[r.jsxs("div",{className:"flex-1",children:[r.jsx("div",{className:"font-medium",children:c.description}),r.jsxs("p",{className:"text-sm text-muted-foreground",children:["Quantity: ",c.quantity,"  ",Le(c.unitCost)]})]}),r.jsx("div",{className:"font-bold",children:Le(c.total)})]},c.id)),r.jsx("div",{className:"flex justify-end p-2",children:r.jsxs("span",{className:"font-medium",children:["Parts Total: ",Le(i.partsTotal)]})})]}):r.jsx("div",{className:"text-center py-6 text-muted-foreground",children:r.jsx("p",{children:"No parts added to this service ticket"})})})]}),r.jsxs(me,{children:[r.jsx(be,{children:r.jsx(je,{className:"text-lg",children:"Labor"})}),r.jsx(fe,{children:e.labor.length>0?r.jsxs("div",{className:"space-y-3",children:[e.labor.map(c=>r.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[r.jsxs("div",{className:"flex-1",children:[r.jsx("div",{className:"font-medium",children:c.description}),r.jsxs("p",{className:"text-sm text-muted-foreground",children:[c.hours," hours  ",Le(c.rate),"/hr"]})]}),r.jsx("div",{className:"font-bold",children:Le(c.total)})]},c.id)),r.jsx("div",{className:"flex justify-end p-2",children:r.jsxs("span",{className:"font-medium",children:["Labor Total: ",Le(i.laborTotal)]})})]}):r.jsx("div",{className:"text-center py-6 text-muted-foreground",children:r.jsx("p",{children:"No labor added to this service ticket"})})})]}),r.jsx(me,{className:"bg-muted/30",children:r.jsx(fe,{className:"pt-6",children:r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{children:"Parts Total:"}),r.jsx("span",{children:Le(i.partsTotal)})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{children:"Labor Total:"}),r.jsx("span",{children:Le(i.laborTotal)})]}),r.jsxs("div",{className:"flex justify-between text-lg font-bold border-t pt-2",children:[r.jsx("span",{children:"Grand Total:"}),r.jsx("span",{children:Le(i.grandTotal)})]})]})})})]}),r.jsx(ht,{value:"timeline",className:"space-y-4",children:r.jsxs(me,{children:[r.jsx(be,{children:r.jsx(je,{className:"text-lg",children:"Service Timeline"})}),r.jsx(fe,{children:r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"relative pl-6 pb-6 border-l-2 border-muted",children:[r.jsx("div",{className:"absolute left-[-8px] top-0 w-4 h-4 rounded-full bg-blue-500"}),r.jsx("div",{className:"font-medium",children:"Ticket Created"}),r.jsx("div",{className:"text-sm text-muted-foreground",children:yt(e.createdAt)})]}),e.status!==Ut.OPEN&&r.jsxs("div",{className:"relative pl-6 pb-6 border-l-2 border-muted",children:[r.jsx("div",{className:"absolute left-[-8px] top-0 w-4 h-4 rounded-full bg-yellow-500"}),r.jsx("div",{className:"font-medium",children:"Work Started"}),r.jsx("div",{className:"text-sm text-muted-foreground",children:new Date(e.createdAt.getTime()+864e5).toLocaleDateString()})]}),e.status===Ut.WAITING_PARTS&&r.jsxs("div",{className:"relative pl-6 pb-6 border-l-2 border-muted",children:[r.jsx("div",{className:"absolute left-[-8px] top-0 w-4 h-4 rounded-full bg-orange-500"}),r.jsx("div",{className:"font-medium",children:"Waiting for Parts"}),r.jsx("div",{className:"text-sm text-muted-foreground",children:new Date(e.createdAt.getTime()+1728e5).toLocaleDateString()})]}),e.status===Ut.COMPLETED&&r.jsxs("div",{className:"relative pl-6",children:[r.jsx("div",{className:"absolute left-[-8px] top-0 w-4 h-4 rounded-full bg-green-500"}),r.jsx("div",{className:"font-medium",children:"Service Completed"}),r.jsx("div",{className:"text-sm text-muted-foreground",children:e.completedDate?yt(e.completedDate):"Date not recorded"})]})]})})]})})]}),r.jsxs("div",{className:"flex justify-end space-x-3 pt-6 border-t",children:[r.jsx(ae,{variant:"outline",onClick:t,children:"Close"}),r.jsxs(ae,{variant:"outline",onClick:o,children:[r.jsx(Ey,{className:"h-4 w-4 mr-2"}),"Print PDF"]})]})]})})]})})}function pU(){const{tickets:e,createTicket:t,updateTicket:n,deleteTicket:s,updateTicketStatus:a}=a$(),{toast:i}=Cr(),[o,l]=A.useState(""),[c,d]=A.useState("all"),[p,u]=A.useState("all"),[f,m]=A.useState(!1),[g,b]=A.useState(!1),[j,x]=A.useState(!1),[v,y]=A.useState(!1),[P,M]=A.useState(null),O=W=>{switch(W){case Ut.OPEN:return"bg-blue-50 text-blue-700 border-blue-200";case Ut.IN_PROGRESS:return"bg-yellow-50 text-yellow-700 border-yellow-200";case Ut.WAITING_PARTS:return"bg-orange-50 text-orange-700 border-orange-200";case Ut.COMPLETED:return"bg-green-50 text-green-700 border-green-200";case Ut.CANCELLED:return"bg-red-50 text-red-700 border-red-200";default:return"bg-gray-50 text-gray-700 border-gray-200"}},E=W=>{switch(W){case br.LOW:return"bg-green-50 text-green-700 border-green-200";case br.MEDIUM:return"bg-yellow-50 text-yellow-700 border-yellow-200";case br.HIGH:return"bg-orange-50 text-orange-700 border-orange-200";case br.URGENT:return"bg-red-50 text-red-700 border-red-200";default:return"bg-gray-50 text-gray-700 border-gray-200"}},S=e.filter(W=>W.title.toLowerCase().includes(o.toLowerCase())||W.description.toLowerCase().includes(o.toLowerCase())||W.customerId.toLowerCase().includes(o.toLowerCase())||W.id.toLowerCase().includes(o.toLowerCase())).filter(W=>c==="all"||W.status===c).filter(W=>p==="all"||W.priority===p),k=()=>{M(null),m(!0)},D=W=>{M(W),m(!0),b(!1)},C=W=>{M(W),b(!0)},w=W=>{M(W),x(!0)},T=async W=>{try{P?(await n(P.id,W),i({title:"Success",description:"Service ticket updated successfully"})):(await t(W),i({title:"Success",description:"Service ticket created successfully"})),m(!1),M(null)}catch{i({title:"Error",description:`Failed to ${P?"update":"create"} service ticket`,variant:"destructive"})}},L=W=>{i({title:"Customer Added",description:`${W.firstName} ${W.lastName} has been added.`}),M(null),y(!1),m(!0)};return r.jsxs("div",{className:"space-y-8",children:[v&&r.jsx(Ad,{onClose:()=>y(!1),onSuccess:L}),f&&r.jsx(i$,{ticket:P||void 0,onSave:T,onCancel:()=>{m(!1),M(null)}}),g&&P&&r.jsx(dU,{ticket:P,onClose:()=>b(!1),onEdit:D}),j&&P&&r.jsx(uU,{ticket:P,onClose:()=>x(!1)}),r.jsx("div",{className:"ri-page-header",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"ri-page-title",children:"Service Operations"}),r.jsx("p",{className:"ri-page-description",children:"Manage service tickets and maintenance schedules"})]}),r.jsxs(ae,{className:"shadow-sm",onClick:k,children:[r.jsx(It,{className:"h-4 w-4 mr-2"}),"New Service Ticket"]})]})}),r.jsxs("div",{className:"ri-stats-grid",children:[r.jsxs(me,{className:"shadow-sm border-0 bg-gradient-to-br from-blue-50 to-blue-100/50",children:[r.jsxs(be,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(je,{className:"text-sm font-medium text-blue-900",children:"Total Tickets"}),r.jsx(gl,{className:"h-4 w-4 text-blue-600"})]}),r.jsxs(fe,{children:[r.jsx("div",{className:"text-2xl font-bold text-blue-900",children:e.length}),r.jsxs("p",{className:"text-xs text-blue-600 flex items-center mt-1",children:[r.jsx(jt,{className:"h-3 w-3 mr-1"}),"All service requests"]})]})]}),r.jsxs(me,{className:"shadow-sm border-0 bg-gradient-to-br from-yellow-50 to-yellow-100/50",children:[r.jsxs(be,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(je,{className:"text-sm font-medium text-yellow-900",children:"In Progress"}),r.jsx(gl,{className:"h-4 w-4 text-yellow-600"})]}),r.jsxs(fe,{children:[r.jsx("div",{className:"text-2xl font-bold text-yellow-900",children:e.filter(W=>W.status===Ut.IN_PROGRESS).length}),r.jsxs("p",{className:"text-xs text-yellow-600 flex items-center mt-1",children:[r.jsx(pr,{className:"h-3 w-3 mr-1"}),"Currently working"]})]})]}),r.jsxs(me,{className:"shadow-sm border-0 bg-gradient-to-br from-orange-50 to-orange-100/50",children:[r.jsxs(be,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(je,{className:"text-sm font-medium text-orange-900",children:"Waiting Parts"}),r.jsx(gl,{className:"h-4 w-4 text-orange-600"})]}),r.jsxs(fe,{children:[r.jsx("div",{className:"text-2xl font-bold text-orange-900",children:e.filter(W=>W.status===Ut.WAITING_PARTS).length}),r.jsxs("p",{className:"text-xs text-orange-600 flex items-center mt-1",children:[r.jsx(pr,{className:"h-3 w-3 mr-1"}),"Parts on order"]})]})]}),r.jsxs(me,{className:"shadow-sm border-0 bg-gradient-to-br from-green-50 to-green-100/50",children:[r.jsxs(be,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(je,{className:"text-sm font-medium text-green-900",children:"Revenue"}),r.jsx(gr,{className:"h-4 w-4 text-green-600"})]}),r.jsxs(fe,{children:[r.jsx("div",{className:"text-2xl font-bold text-green-900",children:Le(e.reduce((W,V)=>W+V.parts.reduce((_,B)=>_+B.total,0)+V.labor.reduce((_,B)=>_+B.total,0),0))}),r.jsxs("p",{className:"text-xs text-green-600 flex items-center mt-1",children:[r.jsx(jt,{className:"h-3 w-3 mr-1"}),"Service revenue"]})]})]})]}),r.jsxs("div",{className:"flex gap-4",children:[r.jsxs("div",{className:"ri-search-bar",children:[r.jsx(ss,{className:"ri-search-icon"}),r.jsx(Be,{placeholder:"Search service tickets...",value:o,onChange:W=>l(W.target.value),className:"ri-search-input shadow-sm"})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs(lt,{value:c,onValueChange:d,children:[r.jsx(it,{className:"w-40",children:r.jsx(ct,{placeholder:"Status"})}),r.jsxs(ot,{children:[r.jsx(oe,{value:"all",children:"All Status"}),r.jsx(oe,{value:Ut.OPEN,children:"Open"}),r.jsx(oe,{value:Ut.IN_PROGRESS,children:"In Progress"}),r.jsx(oe,{value:Ut.WAITING_PARTS,children:"Waiting Parts"}),r.jsx(oe,{value:Ut.COMPLETED,children:"Completed"}),r.jsx(oe,{value:Ut.CANCELLED,children:"Cancelled"})]})]}),r.jsxs(lt,{value:p,onValueChange:u,children:[r.jsx(it,{className:"w-40",children:r.jsx(ct,{placeholder:"Priority"})}),r.jsxs(ot,{children:[r.jsx(oe,{value:"all",children:"All Priorities"}),r.jsx(oe,{value:br.LOW,children:"Low"}),r.jsx(oe,{value:br.MEDIUM,children:"Medium"}),r.jsx(oe,{value:br.HIGH,children:"High"}),r.jsx(oe,{value:br.URGENT,children:"Urgent"})]})]}),r.jsxs(ae,{variant:"outline",className:"shadow-sm",children:[r.jsx(zs,{className:"h-4 w-4 mr-2"}),"More Filters"]})]})]}),r.jsxs(me,{className:"shadow-sm",children:[r.jsxs(be,{children:[r.jsx(je,{className:"text-xl",children:"Service Tickets"}),r.jsx(Ke,{children:"Manage service requests and maintenance schedules"})]}),r.jsx(fe,{children:r.jsxs("div",{className:"space-y-4",children:[S.map(W=>{var V;return r.jsxs("div",{className:"ri-table-row",children:[r.jsx("div",{className:"flex items-center space-x-4 flex-1",children:r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[r.jsx("h3",{className:"font-semibold text-foreground",children:W.title}),r.jsx(Re,{className:$e("ri-badge-status",E(W.priority)),children:W.priority.toUpperCase()}),r.jsx(Re,{className:$e("ri-badge-status",O(W.status)),children:W.status.replace("_"," ").toUpperCase()})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm text-muted-foreground",children:[r.jsxs("div",{className:"flex items-center",children:[r.jsx(Os,{className:"h-3 w-3 mr-2 text-blue-500"}),r.jsx("span",{className:"font-medium",children:"Customer:"}),r.jsx("span",{className:"ml-1",children:W.customerId})]}),r.jsxs("div",{className:"flex items-center",children:[r.jsx(Os,{className:"h-3 w-3 mr-2 text-green-500"}),r.jsx("span",{className:"font-medium",children:"Assigned:"}),r.jsx("span",{className:"ml-1",children:W.assignedTo||"Unassigned"})]}),r.jsxs("div",{className:"flex items-center",children:[r.jsx(kn,{className:"h-3 w-3 mr-2 text-purple-500"}),r.jsx("span",{className:"font-medium",children:"Scheduled:"}),r.jsx("span",{className:"ml-1",children:W.scheduledDate?yt(W.scheduledDate):"Not scheduled"})]}),r.jsxs("div",{className:"flex items-center",children:[r.jsx(pr,{className:"h-3 w-3 mr-2 text-orange-500"}),r.jsx("span",{className:"font-medium",children:"Created:"}),r.jsx("span",{className:"ml-1",children:yt(W.createdAt)})]})]}),r.jsxs("div",{className:"mt-2 bg-muted/30 p-2 rounded-md",children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:W.description}),W.notes&&r.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:[r.jsx("span",{className:"font-medium",children:"Notes:"})," ",W.notes]})]}),r.jsxs("div",{className:"flex items-center space-x-4 mt-3 text-sm",children:[r.jsxs("span",{className:"bg-blue-50 text-blue-700 px-2 py-1 rounded-md",children:[r.jsx("span",{className:"font-medium",children:"Parts:"})," ",Le(W.parts.reduce((_,B)=>_+B.total,0))]}),r.jsxs("span",{className:"bg-green-50 text-green-700 px-2 py-1 rounded-md",children:[r.jsx("span",{className:"font-medium",children:"Labor:"})," ",Le(W.labor.reduce((_,B)=>_+B.total,0))]}),r.jsxs("span",{className:"bg-purple-50 text-purple-700 px-2 py-1 rounded-md font-semibold",children:[r.jsx("span",{className:"font-medium",children:"Total:"})," ",Le(W.parts.reduce((_,B)=>_+B.total,0)+W.labor.reduce((_,B)=>_+B.total,0))]})]})]})}),r.jsxs("div",{className:"ri-action-buttons",children:[r.jsx(ae,{variant:"outline",size:"sm",className:"shadow-sm",onClick:()=>C(W),children:"View"}),r.jsx(ae,{variant:"outline",size:"sm",className:"shadow-sm",onClick:()=>D(W),children:"Edit"}),((V=W.customFields)==null?void 0:V.customerPortalAccess)!==!1&&r.jsx(ae,{variant:"outline",size:"sm",className:"shadow-sm",onClick:()=>w(W),children:"Customer View"})]})]},W.id)}),S.length===0&&r.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[r.jsx(gl,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground/50"}),r.jsx("p",{children:"No service tickets found"}),r.jsx("p",{className:"text-sm",children:"Try adjusting your search or filters"})]})]})})]})]})}function mU(){return r.jsx(Ln,{children:r.jsx(Et,{path:"/*",element:r.jsx(pU,{})})})}const fU=[{id:"1",customerId:"cust-1",vehicleId:"veh-1",status:Za.SCHEDULED,scheduledDate:new Date("2024-01-25"),address:{street:"123 Main St",city:"Springfield",state:"IL",zipCode:"62701",country:"USA"},driver:"Driver-001",notes:"Customer prefers morning delivery",customFields:{},createdAt:new Date("2024-01-15"),updatedAt:new Date("2024-01-18")},{id:"2",customerId:"cust-2",vehicleId:"veh-2",status:Za.IN_TRANSIT,scheduledDate:new Date("2024-01-20"),deliveredDate:void 0,address:{street:"456 Oak Ave",city:"Chicago",state:"IL",zipCode:"60601",country:"USA"},driver:"Driver-002",notes:"Call customer 30 minutes before arrival",customFields:{},createdAt:new Date("2024-01-12"),updatedAt:new Date("2024-01-20")}];function k5(){const[e]=A.useState(fU),[t,n]=A.useState(""),s=i=>{switch(i){case Za.SCHEDULED:return"bg-blue-50 text-blue-700 border-blue-200";case Za.IN_TRANSIT:return"bg-yellow-50 text-yellow-700 border-yellow-200";case Za.DELIVERED:return"bg-green-50 text-green-700 border-green-200";case Za.CANCELLED:return"bg-red-50 text-red-700 border-red-200";default:return"bg-gray-50 text-gray-700 border-gray-200"}},a=e.filter(i=>i.id.toLowerCase().includes(t.toLowerCase())||i.customerId.toLowerCase().includes(t.toLowerCase())||i.address.city.toLowerCase().includes(t.toLowerCase()));return r.jsxs("div",{className:"space-y-8",children:[r.jsx("div",{className:"ri-page-header",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"ri-page-title",children:"Delivery Tracker"}),r.jsx("p",{className:"ri-page-description",children:"Track vehicle deliveries and logistics"})]}),r.jsxs(ae,{className:"shadow-sm",children:[r.jsx(It,{className:"h-4 w-4 mr-2"}),"Schedule Delivery"]})]})}),r.jsxs("div",{className:"ri-stats-grid",children:[r.jsxs(me,{className:"shadow-sm border-0 bg-gradient-to-br from-blue-50 to-blue-100/50",children:[r.jsxs(be,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(je,{className:"text-sm font-medium text-blue-900",children:"Total Deliveries"}),r.jsx(Dc,{className:"h-4 w-4 text-blue-600"})]}),r.jsxs(fe,{children:[r.jsx("div",{className:"text-2xl font-bold text-blue-900",children:e.length}),r.jsxs("p",{className:"text-xs text-blue-600 flex items-center mt-1",children:[r.jsx(jt,{className:"h-3 w-3 mr-1"}),"All deliveries"]})]})]}),r.jsxs(me,{className:"shadow-sm border-0 bg-gradient-to-br from-blue-50 to-blue-100/50",children:[r.jsxs(be,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(je,{className:"text-sm font-medium text-blue-900",children:"Scheduled"}),r.jsx(Dc,{className:"h-4 w-4 text-blue-600"})]}),r.jsxs(fe,{children:[r.jsx("div",{className:"text-2xl font-bold text-blue-900",children:e.filter(i=>i.status===Za.SCHEDULED).length}),r.jsxs("p",{className:"text-xs text-blue-600 flex items-center mt-1",children:[r.jsx(kn,{className:"h-3 w-3 mr-1"}),"Upcoming deliveries"]})]})]}),r.jsxs(me,{className:"shadow-sm border-0 bg-gradient-to-br from-yellow-50 to-yellow-100/50",children:[r.jsxs(be,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(je,{className:"text-sm font-medium text-yellow-900",children:"In Transit"}),r.jsx(Dc,{className:"h-4 w-4 text-yellow-600"})]}),r.jsxs(fe,{children:[r.jsx("div",{className:"text-2xl font-bold text-yellow-900",children:e.filter(i=>i.status===Za.IN_TRANSIT).length}),r.jsxs("p",{className:"text-xs text-yellow-600 flex items-center mt-1",children:[r.jsx(Dc,{className:"h-3 w-3 mr-1"}),"On the road"]})]})]}),r.jsxs(me,{className:"shadow-sm border-0 bg-gradient-to-br from-green-50 to-green-100/50",children:[r.jsxs(be,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(je,{className:"text-sm font-medium text-green-900",children:"Delivered"}),r.jsx(Dc,{className:"h-4 w-4 text-green-600"})]}),r.jsxs(fe,{children:[r.jsx("div",{className:"text-2xl font-bold text-green-900",children:e.filter(i=>i.status===Za.DELIVERED).length}),r.jsxs("p",{className:"text-xs text-green-600 flex items-center mt-1",children:[r.jsx(jt,{className:"h-3 w-3 mr-1"}),"Completed"]})]})]})]}),r.jsxs("div",{className:"flex gap-4",children:[r.jsxs("div",{className:"ri-search-bar",children:[r.jsx(ss,{className:"ri-search-icon"}),r.jsx(Be,{placeholder:"Search deliveries...",value:t,onChange:i=>n(i.target.value),className:"ri-search-input shadow-sm"})]}),r.jsxs(ae,{variant:"outline",className:"shadow-sm",children:[r.jsx(zs,{className:"h-4 w-4 mr-2"}),"Filter"]})]}),r.jsxs(me,{className:"shadow-sm",children:[r.jsxs(be,{children:[r.jsx(je,{className:"text-xl",children:"Deliveries"}),r.jsx(Ke,{children:"Track and manage vehicle deliveries"})]}),r.jsx(fe,{children:r.jsx("div",{className:"space-y-4",children:a.map(i=>r.jsxs("div",{className:"ri-table-row",children:[r.jsx("div",{className:"flex items-center space-x-4 flex-1",children:r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[r.jsxs("h3",{className:"font-semibold text-foreground",children:["Delivery #",i.id]}),r.jsx(Re,{className:$e("ri-badge-status",s(i.status)),children:i.status.replace("_"," ").toUpperCase()})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm text-muted-foreground",children:[r.jsxs("div",{className:"flex items-center",children:[r.jsx(Os,{className:"h-3 w-3 mr-2 text-blue-500"}),r.jsx("span",{className:"font-medium",children:"Customer:"}),r.jsx("span",{className:"ml-1",children:i.customerId})]}),r.jsxs("div",{className:"flex items-center",children:[r.jsx(Os,{className:"h-3 w-3 mr-2 text-green-500"}),r.jsx("span",{className:"font-medium",children:"Driver:"}),r.jsx("span",{className:"ml-1",children:i.driver||"Not assigned"})]}),r.jsxs("div",{className:"flex items-center",children:[r.jsx(kn,{className:"h-3 w-3 mr-2 text-purple-500"}),r.jsx("span",{className:"font-medium",children:"Scheduled:"}),r.jsx("span",{className:"ml-1",children:yt(i.scheduledDate)})]}),i.deliveredDate&&r.jsxs("div",{className:"flex items-center",children:[r.jsx(kn,{className:"h-3 w-3 mr-2 text-green-500"}),r.jsx("span",{className:"font-medium",children:"Delivered:"}),r.jsx("span",{className:"ml-1",children:yt(i.deliveredDate)})]})]}),r.jsxs("div",{className:"mt-2",children:[r.jsxs("div",{className:"flex items-start bg-muted/30 p-2 rounded-md",children:[r.jsx(cd,{className:"h-3 w-3 mr-2 mt-0.5 text-red-500"}),r.jsxs("span",{className:"text-sm text-muted-foreground",children:[i.address.street,", ",i.address.city,", ",i.address.state," ",i.address.zipCode]})]}),i.notes&&r.jsxs("p",{className:"text-sm text-muted-foreground mt-2 bg-blue-50 p-2 rounded-md",children:[r.jsx("span",{className:"font-medium",children:"Notes:"})," ",i.notes]})]})]})}),r.jsxs("div",{className:"ri-action-buttons",children:[r.jsxs(ae,{variant:"outline",size:"sm",className:"shadow-sm",children:[r.jsx(cd,{className:"h-3 w-3 mr-1"}),"Track"]}),r.jsx(ae,{variant:"outline",size:"sm",className:"shadow-sm",children:"Edit"})]})]},i.id))})})]})]})}function hU(){return r.jsxs(Ln,{children:[r.jsx(Et,{path:"/",element:r.jsx(k5,{})}),r.jsx(Et,{path:"/*",element:r.jsx(k5,{})})]})}var Ir=(e=>(e.IN_PROGRESS="in_progress",e.COMPLETED="completed",e.APPROVED="approved",e.REJECTED="rejected",e))(Ir||{}),qt=(e=>(e.PENDING="pending",e.PASSED="passed",e.FAILED="failed",e.NA="na",e))(qt||{}),An=(e=>(e.LOW="low",e.MEDIUM="medium",e.HIGH="high",e.CRITICAL="critical",e))(An||{}),$f=(e=>(e.OPEN="open",e.IN_PROGRESS="in_progress",e.RESOLVED="resolved",e.VERIFIED="verified",e))($f||{}),wl=(e=>(e.INSPECTOR="inspector",e.MANAGER="manager",e.QUALITY_CONTROL="quality_control",e))(wl||{});function xU(){const[e,t]=A.useState([]),[n,s]=A.useState([]),[a,i]=A.useState(!1);A.useEffect(()=>{o()},[]);const o=()=>{const C=En("renter-insight-pdi-templates",[{id:"1",name:"RV Pre-Delivery Inspection",description:"Standard PDI checklist for recreational vehicles",vehicleType:at.RV,isActive:!0,sections:[{id:"1-1",templateId:"1",name:"Exterior",description:"Exterior inspection items",orderIndex:1,items:[{id:"1-1-1",sectionId:"1-1",name:"Exterior Body Condition",description:"Check for scratches, dents, or damage",itemType:"checkbox",isRequired:!0,orderIndex:1,createdAt:new Date("2024-01-01")},{id:"1-1-2",sectionId:"1-1",name:"Roof Inspection",description:"Check roof seals, vents, and AC units",itemType:"checkbox",isRequired:!0,orderIndex:2,createdAt:new Date("2024-01-01")},{id:"1-1-3",sectionId:"1-1",name:"Exterior Photos",description:"Take photos of all sides of the vehicle",itemType:"photo",isRequired:!0,orderIndex:3,createdAt:new Date("2024-01-01")}],createdAt:new Date("2024-01-01")},{id:"1-2",templateId:"1",name:"Interior",description:"Interior inspection items",orderIndex:2,items:[{id:"1-2-1",sectionId:"1-2",name:"Interior Cleanliness",description:"Verify interior is clean and free of debris",itemType:"checkbox",isRequired:!0,orderIndex:1,createdAt:new Date("2024-01-01")},{id:"1-2-2",sectionId:"1-2",name:"Furniture Condition",description:"Check all furniture for damage or defects",itemType:"checkbox",isRequired:!0,orderIndex:2,createdAt:new Date("2024-01-01")}],createdAt:new Date("2024-01-01")}],createdAt:new Date("2024-01-01"),updatedAt:new Date("2024-01-01")},{id:"2",name:"Motorhome Pre-Delivery Inspection",description:"Comprehensive PDI checklist for motorhomes",vehicleType:at.MOTORHOME,isActive:!0,sections:[],createdAt:new Date("2024-01-01"),updatedAt:new Date("2024-01-01")}]),w=En("renter-insight-pdi-inspections",[{id:"1",templateId:"1",vehicleId:"1",inspectorId:"user-001",status:Ir.IN_PROGRESS,startedAt:new Date("2024-01-15"),notes:"Initial inspection for new RV",items:[{id:"1-1",inspectionId:"1",templateItemId:"1-1-1",status:qt.PASSED,notes:"No exterior damage found",createdAt:new Date("2024-01-15"),updatedAt:new Date("2024-01-15")},{id:"1-2",inspectionId:"1",templateItemId:"1-1-2",status:qt.FAILED,notes:"Roof seal damaged near AC unit",createdAt:new Date("2024-01-15"),updatedAt:new Date("2024-01-15")}],defects:[{id:"1-1",inspectionId:"1",inspectionItemId:"1-2",title:"Roof Seal Damage",description:"Damaged roof seal near AC unit on passenger side",severity:An.MEDIUM,status:$f.OPEN,assignedTo:"user-002",createdAt:new Date("2024-01-15"),updatedAt:new Date("2024-01-15")}],photos:[{id:"1-1",inspectionId:"1",inspectionItemId:"1-2",defectId:"1-1",url:"https://images.pexels.com/photos/1319515/pexels-photo-1319515.jpeg",caption:"Damaged roof seal",createdAt:new Date("2024-01-15")}],signoffs:[],createdAt:new Date("2024-01-15"),updatedAt:new Date("2024-01-15")}]);t(C),s(w)},l=C=>{Xr("renter-insight-pdi-templates",C)},c=C=>{Xr("renter-insight-pdi-inspections",C)};return{templates:e,inspections:n,loading:a,getTemplatesByVehicleType:C=>e.filter(w=>w.vehicleType===C&&w.isActive),getTemplateById:C=>e.find(w=>w.id===C),createTemplate:async C=>{i(!0);try{const w={id:Math.random().toString(36).substr(2,9),name:C.name||"",description:C.description||"",vehicleType:C.vehicleType||at.RV,isActive:C.isActive??!0,sections:C.sections||[],createdAt:new Date,updatedAt:new Date},T=[...e,w];return t(T),l(T),w}finally{i(!1)}},updateTemplate:async(C,w)=>{const T=e.map(L=>L.id===C?{...L,...w,updatedAt:new Date}:L);t(T),l(T)},deleteTemplate:async C=>{const w=e.filter(T=>T.id!==C);t(w),l(w)},createTemplateSection:async(C,w)=>{const T=e.find(_=>_.id===C);if(!T)return null;const L={id:Math.random().toString(36).substr(2,9),templateId:C,name:w.name||"",description:w.description||"",orderIndex:w.orderIndex||T.sections.length+1,items:w.items||[],createdAt:new Date},W={...T,sections:[...T.sections,L],updatedAt:new Date},V=e.map(_=>_.id===C?W:_);return t(V),l(V),L},createTemplateItem:async(C,w)=>{const T=e.findIndex(R=>R.sections.some($=>$.id===C));if(T===-1)return null;const L=e[T],W=L.sections.findIndex(R=>R.id===C);if(W===-1)return null;const V=L.sections[W],_={id:Math.random().toString(36).substr(2,9),sectionId:C,name:w.name||"",description:w.description||"",itemType:w.itemType||"checkbox",isRequired:w.isRequired??!0,orderIndex:w.orderIndex||V.items.length+1,createdAt:new Date},B={...V,items:[...V.items,_]},U=[...L.sections];U[W]=B;const q={...L,sections:U,updatedAt:new Date},H=[...e];return H[T]=q,t(H),l(H),_},getInspectionsByVehicleId:C=>n.filter(w=>w.vehicleId===C),getInspectionById:C=>n.find(w=>w.id===C),createInspection:async C=>{i(!0);try{const w=e.find(V=>V.id===C.templateId);if(!w)throw new Error("Template not found");const T=[];w.sections.forEach(V=>{V.items.forEach(_=>{T.push({id:Math.random().toString(36).substr(2,9),inspectionId:"",templateItemId:_.id,templateItem:_,status:qt.PENDING,createdAt:new Date,updatedAt:new Date})})});const L={id:Math.random().toString(36).substr(2,9),templateId:C.templateId||"",template:w||void 0,vehicleId:C.vehicleId||"",inspectorId:C.inspectorId||"",status:Ir.IN_PROGRESS,startedAt:new Date,notes:C.notes||"",items:[],defects:[],photos:[],signoffs:[],createdAt:new Date,updatedAt:new Date};T.forEach(V=>{V.inspectionId=L.id}),L.items=T;const W=[...n,L];return s(W),c(W),L}finally{i(!1)}},updateInspection:async(C,w)=>{const T=n.map(L=>L.id===C?{...L,...w,updatedAt:new Date}:L);s(T),c(T)},updateInspectionItem:async(C,w,T)=>{const L=n.findIndex(q=>q.id===C);if(L===-1)return;const W=n[L],V=W.items.findIndex(q=>q.id===w);if(V===-1)return;const _=[...W.items];_[V]={..._[V],...T,updatedAt:new Date};const B={...W,items:_,updatedAt:new Date},U=[...n];U[L]=B,s(U),c(U)},completeInspection:async(C,w)=>{const T=n.findIndex(B=>B.id===C);if(T===-1)return;const L=n[T];if(!L.items.every(B=>{const U=e.flatMap(q=>q.sections).flatMap(q=>q.items).find(q=>q.id===B.templateItemId);return!(U!=null&&U.isRequired)||B.status!==qt.PENDING}))throw new Error("All required items must be completed");const V={...L,status:Ir.COMPLETED,completedAt:new Date,notes:w||L.notes,updatedAt:new Date},_=[...n];_[T]=V,s(_),c(_)},createDefect:async(C,w)=>{const T=n.findIndex(B=>B.id===C);if(T===-1)return null;const L=n[T],W={id:Math.random().toString(36).substr(2,9),inspectionId:C,inspectionItemId:w.inspectionItemId,title:w.title||"",description:w.description||"",severity:w.severity||An.MEDIUM,status:$f.OPEN,assignedTo:w.assignedTo,photos:[],createdAt:new Date,updatedAt:new Date},V={...L,defects:[...L.defects,W],updatedAt:new Date},_=[...n];return _[T]=V,s(_),c(_),W},updateDefect:async(C,w,T)=>{const L=n.findIndex(q=>q.id===C);if(L===-1)return;const W=n[L],V=W.defects.findIndex(q=>q.id===w);if(V===-1)return;const _=[...W.defects];_[V]={..._[V],...T,updatedAt:new Date};const B={...W,defects:_,updatedAt:new Date},U=[...n];U[L]=B,s(U),c(U)},resolveDefect:async(C,w,T)=>{const L=n.findIndex(q=>q.id===C);if(L===-1)return;const W=n[L],V=W.defects.findIndex(q=>q.id===w);if(V===-1)return;const _=[...W.defects];_[V]={..._[V],status:$f.RESOLVED,resolvedAt:new Date,resolutionNotes:T,updatedAt:new Date};const B={...W,defects:_,updatedAt:new Date},U=[...n];U[L]=B,s(U),c(U)},addPhoto:async(C,w)=>{const T=n.findIndex(B=>B.id===C);if(T===-1)return null;const L=n[T],W={id:Math.random().toString(36).substr(2,9),inspectionId:C,inspectionItemId:w.inspectionItemId,defectId:w.defectId,url:w.url||"",caption:w.caption,createdAt:new Date},V={...L,photos:[...L.photos,W],updatedAt:new Date},_=[...n];return _[T]=V,s(_),c(_),W},addSignoff:async(C,w)=>{const T=n.findIndex(U=>U.id===C);if(T===-1)return null;const L=n[T],W={id:Math.random().toString(36).substr(2,9),inspectionId:C,userId:w.userId||"",role:w.role||wl.INSPECTOR,signatureUrl:w.signatureUrl,notes:w.notes,signedAt:new Date,createdAt:new Date};let V=L.status;w.role===wl.MANAGER&&(V=Ir.APPROVED);const _={...L,signoffs:[...L.signoffs,W],status:V,updatedAt:new Date},B=[...n];return B[T]=_,s(B),c(B),W}}}function gU({templates:e,onCreateTemplate:t,onEditTemplate:n,onDeleteTemplate:s,onDuplicateTemplate:a,onViewTemplate:i}){const[o,l]=A.useState(""),[c,d]=A.useState("all"),p=e.filter(f=>{var b;const m=f.name.toLowerCase().includes(o.toLowerCase())||((b=f.description)==null?void 0:b.toLowerCase().includes(o.toLowerCase())),g=c==="all"||f.vehicleType===c;return m&&g}),u=f=>f.replace("_"," ").toUpperCase();return r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[r.jsxs("div",{className:"ri-search-bar flex-1",children:[r.jsx(ss,{className:"ri-search-icon"}),r.jsx(Be,{placeholder:"Search templates...",value:o,onChange:f=>l(f.target.value),className:"ri-search-input shadow-sm"})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs("select",{value:c,onChange:f=>d(f.target.value),className:"px-3 py-2 rounded-md border border-input bg-background",children:[r.jsx("option",{value:"all",children:"All Types"}),r.jsx("option",{value:"rv",children:"RV"}),r.jsx("option",{value:"motorhome",children:"Motorhome"}),r.jsx("option",{value:"travel_trailer",children:"Travel Trailer"}),r.jsx("option",{value:"fifth_wheel",children:"Fifth Wheel"}),r.jsx("option",{value:"toy_hauler",children:"Toy Hauler"})]}),r.jsxs(ae,{variant:"outline",className:"shadow-sm",children:[r.jsx(zs,{className:"h-4 w-4 mr-2"}),"Filter"]}),r.jsxs(ae,{onClick:t,className:"shadow-sm",children:[r.jsx(It,{className:"h-4 w-4 mr-2"}),"New Template"]})]})]}),r.jsxs(me,{className:"shadow-sm",children:[r.jsxs(be,{children:[r.jsxs(je,{className:"text-xl",children:["PDI Templates (",p.length,")"]}),r.jsx(Ke,{children:"Manage pre-delivery inspection templates for different vehicle types"})]}),r.jsx(fe,{children:r.jsxs("div",{className:"space-y-4",children:[p.map(f=>r.jsxs("div",{className:"ri-table-row",children:[r.jsx("div",{className:"flex items-center space-x-4 flex-1",children:r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[r.jsx("h3",{className:"font-semibold text-foreground",children:f.name}),r.jsx(Re,{variant:"outline",children:u(f.vehicleType)}),f.isActive?r.jsx(Re,{className:"bg-green-50 text-green-700 border-green-200",children:"ACTIVE"}):r.jsx(Re,{className:"bg-gray-50 text-gray-700 border-gray-200",children:"INACTIVE"})]}),r.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:f.description}),r.jsxs("div",{className:"flex items-center space-x-4 text-sm",children:[r.jsxs("span",{className:"flex items-center",children:[r.jsx(M0,{className:"h-3 w-3 mr-1 text-blue-500"}),f.sections.length," sections"]}),r.jsxs("span",{className:"flex items-center",children:[r.jsx(Ny,{className:"h-3 w-3 mr-1 text-green-500"}),f.sections.reduce((m,g)=>m+g.items.length,0)," items"]})]})]})}),r.jsxs("div",{className:"ri-action-buttons",children:[r.jsx(ae,{variant:"outline",size:"sm",className:"shadow-sm",onClick:()=>i(f),children:"View"}),r.jsxs(ae,{variant:"outline",size:"sm",className:"shadow-sm",onClick:()=>n(f),children:[r.jsx(ln,{className:"h-3 w-3 mr-1"}),"Edit"]}),r.jsxs(ae,{variant:"outline",size:"sm",className:"shadow-sm",onClick:()=>a(f),children:[r.jsx(Cy,{className:"h-3 w-3 mr-1"}),"Duplicate"]}),r.jsx(ae,{variant:"outline",size:"sm",className:"shadow-sm text-red-600 hover:text-red-700",onClick:()=>s(f.id),children:r.jsx(ys,{className:"h-3 w-3"})})]})]},f.id)),p.length===0&&r.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[r.jsx(M0,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground/50"}),r.jsx("p",{children:"No templates found"}),r.jsx("p",{className:"text-sm",children:"Create your first template to get started"})]})]})})]})]})}function vU({template:e,onSave:t,onCancel:n}){var C;const{toast:s}=Cr(),[a,i]=A.useState(!1),[o,l]=A.useState({name:"",description:"",vehicleType:at.RV,isActive:!0,sections:[]}),[c,d]=A.useState(!1),[p,u]=A.useState({name:"",description:"",items:[]}),[f,m]=A.useState(null),[g,b]=A.useState(!1),[j,x]=A.useState({name:"",description:"",itemType:"checkbox",isRequired:!0});A.useEffect(()=>{e&&l({...e})},[e]);const v=async w=>{if(w.preventDefault(),!o.name){s({title:"Validation Error",description:"Template name is required",variant:"destructive"});return}if(!o.vehicleType){s({title:"Validation Error",description:"Vehicle type is required",variant:"destructive"});return}if(!o.sections||o.sections.length===0){s({title:"Validation Error",description:"At least one section is required",variant:"destructive"});return}const T=o.sections.filter(L=>!L.items||L.items.length===0);if(T.length>0){s({title:"Validation Error",description:`Section "${T[0].name}" must have at least one item`,variant:"destructive"});return}i(!0);try{await t(o),s({title:"Success",description:`Template ${e?"updated":"created"} successfully`})}catch{s({title:"Error",description:`Failed to ${e?"update":"create"} template`,variant:"destructive"})}finally{i(!1)}},y=()=>{var T;if(!p.name){s({title:"Validation Error",description:"Section name is required",variant:"destructive"});return}const w={id:Math.random().toString(36).substr(2,9),templateId:(e==null?void 0:e.id)||"",name:p.name,description:p.description||"",orderIndex:(((T=o.sections)==null?void 0:T.length)||0)+1,items:[],createdAt:new Date};l(L=>({...L,sections:[...L.sections||[],w]})),u({name:"",description:"",items:[]}),d(!1)},P=w=>{l(T=>{var L;return{...T,sections:((L=T.sections)==null?void 0:L.filter(W=>W.id!==w))||[]}})},M=w=>{const T=[...o.sections||[]],L=T.findIndex(W=>W.id===w);L<=0||([T[L-1],T[L]]=[T[L],T[L-1]],T.forEach((W,V)=>{W.orderIndex=V+1}),l(W=>({...W,sections:T})))},O=w=>{const T=[...o.sections||[]],L=T.findIndex(W=>W.id===w);L===-1||L>=T.length-1||([T[L],T[L+1]]=[T[L+1],T[L]],T.forEach((W,V)=>{W.orderIndex=V+1}),l(W=>({...W,sections:T})))},E=w=>{var _;if(!j.name){s({title:"Validation Error",description:"Item name is required",variant:"destructive"});return}const T=[...o.sections||[]],L=T.findIndex(B=>B.id===w);if(L===-1)return;const W=T[L],V={id:Math.random().toString(36).substr(2,9),sectionId:w,name:j.name,description:j.description||"",itemType:j.itemType||"checkbox",isRequired:j.isRequired??!0,orderIndex:(((_=W.items)==null?void 0:_.length)||0)+1,createdAt:new Date};W.items=[...W.items||[],V],T[L]=W,l(B=>({...B,sections:T})),x({name:"",description:"",itemType:"checkbox",isRequired:!0}),b(!1)},S=(w,T)=>{const L=[...o.sections||[]],W=L.findIndex(_=>_.id===w);if(W===-1)return;const V=L[W];V.items=V.items.filter(_=>_.id!==T),L[W]=V,l(_=>({..._,sections:L}))},k=(w,T)=>{const L=[...o.sections||[]],W=L.findIndex(U=>U.id===w);if(W===-1)return;const V=L[W],_=[...V.items],B=_.findIndex(U=>U.id===T);B<=0||([_[B-1],_[B]]=[_[B],_[B-1]],_.forEach((U,q)=>{U.orderIndex=q+1}),V.items=_,L[W]=V,l(U=>({...U,sections:L})))},D=(w,T)=>{const L=[...o.sections||[]],W=L.findIndex(U=>U.id===w);if(W===-1)return;const V=L[W],_=[...V.items],B=_.findIndex(U=>U.id===T);B===-1||B>=_.length-1||([_[B],_[B+1]]=[_[B+1],_[B]],_.forEach((U,q)=>{U.orderIndex=q+1}),V.items=_,L[W]=V,l(U=>({...U,sections:L})))};return r.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:r.jsxs(me,{className:"w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[r.jsx(be,{children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx(je,{children:e?"Edit Template":"Create Template"}),r.jsx(Ke,{children:e?"Update PDI template details":"Create a new PDI template"})]}),r.jsx(ae,{variant:"ghost",size:"sm",onClick:n,children:r.jsx(or,{className:"h-4 w-4"})})]})}),r.jsx(fe,{children:r.jsxs("form",{onSubmit:v,className:"space-y-6",children:[r.jsxs("div",{className:"space-y-4",children:[r.jsx("h3",{className:"text-lg font-semibold",children:"Template Information"}),r.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[r.jsxs("div",{children:[r.jsx(Ae,{htmlFor:"name",children:"Template Name *"}),r.jsx(Be,{id:"name",value:o.name,onChange:w=>l(T=>({...T,name:w.target.value})),placeholder:"e.g., RV Pre-Delivery Inspection"})]}),r.jsxs("div",{children:[r.jsx(Ae,{htmlFor:"vehicleType",children:"Home/Vehicle Type *"}),r.jsxs(lt,{value:o.vehicleType,onValueChange:w=>l(T=>({...T,vehicleType:w})),children:[r.jsx(it,{children:r.jsx(ct,{})}),r.jsxs(ot,{children:[r.jsx(oe,{value:at.RV,children:"RV"}),r.jsx(oe,{value:at.MOTORHOME,children:"Motorhome"}),r.jsx(oe,{value:at.TRAVEL_TRAILER,children:"Travel Trailer"}),r.jsx(oe,{value:at.FIFTH_WHEEL,children:"Fifth Wheel"}),r.jsx(oe,{value:at.TOY_HAULER,children:"Toy Hauler"}),r.jsx(oe,{value:at.SINGLE_WIDE,children:"Single Wide MH"}),r.jsx(oe,{value:at.DOUBLE_WIDE,children:"Double Wide MH"}),r.jsx(oe,{value:at.TRIPLE_WIDE,children:"Triple Wide MH"}),r.jsx(oe,{value:at.PARK_MODEL,children:"Park Model"}),r.jsx(oe,{value:at.MODULAR_HOME,children:"Modular Home"})]})]})]})]}),r.jsxs("div",{children:[r.jsx(Ae,{htmlFor:"description",children:"Description"}),r.jsx(lr,{id:"description",value:o.description,onChange:w=>l(T=>({...T,description:w.target.value})),placeholder:"Describe the purpose and scope of this template",rows:3})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Yn,{id:"isActive",checked:o.isActive,onCheckedChange:w=>l(T=>({...T,isActive:!!w}))}),r.jsx(Ae,{htmlFor:"isActive",children:"Active template"})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("h3",{className:"text-lg font-semibold",children:"Sections"}),r.jsxs(ae,{type:"button",onClick:()=>d(!0),size:"sm",children:[r.jsx(It,{className:"h-4 w-4 mr-2"}),"Add Section"]})]}),c&&r.jsx(me,{className:"border-dashed",children:r.jsx(fe,{className:"pt-6",children:r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx(Ae,{htmlFor:"sectionName",children:"Section Name *"}),r.jsx(Be,{id:"sectionName",value:p.name,onChange:w=>u(T=>({...T,name:w.target.value})),placeholder:"e.g., Exterior Inspection"})]}),r.jsxs("div",{children:[r.jsx(Ae,{htmlFor:"sectionDescription",children:"Description"}),r.jsx(lr,{id:"sectionDescription",value:p.description,onChange:w=>u(T=>({...T,description:w.target.value})),placeholder:"Describe this section",rows:2})]}),r.jsxs("div",{className:"flex justify-end space-x-2",children:[r.jsx(ae,{type:"button",variant:"outline",onClick:()=>d(!1),children:"Cancel"}),r.jsx(ae,{type:"button",onClick:y,children:"Add Section"})]})]})})}),r.jsxs("div",{className:"space-y-6",children:[(C=o.sections)==null?void 0:C.map(w=>{var T;return r.jsxs(me,{className:"shadow-sm",children:[r.jsx(be,{className:"pb-3",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx(je,{className:"text-lg",children:w.name}),w.description&&r.jsx(Ke,{children:w.description})]}),r.jsxs("div",{className:"flex items-center space-x-1",children:[r.jsx(ae,{type:"button",variant:"ghost",size:"sm",onClick:()=>M(w.id),disabled:w.orderIndex<=1,children:r.jsx(_0,{className:"h-4 w-4"})}),r.jsx(ae,{type:"button",variant:"ghost",size:"sm",onClick:()=>O(w.id),disabled:w.orderIndex>=(((T=o.sections)==null?void 0:T.length)||0),children:r.jsx(F0,{className:"h-4 w-4"})}),r.jsx(ae,{type:"button",variant:"ghost",size:"sm",onClick:()=>P(w.id),children:r.jsx(ys,{className:"h-4 w-4 text-red-500"})})]})]})}),r.jsx(fe,{children:r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("h4",{className:"text-sm font-semibold",children:["Items (",w.items.length,")"]}),r.jsxs(ae,{type:"button",size:"sm",variant:"outline",onClick:()=>{m(w.id),b(!0)},children:[r.jsx(It,{className:"h-3 w-3 mr-1"}),"Add Item"]})]}),g&&f===w.id&&r.jsx(me,{className:"border-dashed",children:r.jsx(fe,{className:"pt-6",children:r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[r.jsxs("div",{children:[r.jsx(Ae,{htmlFor:"itemName",children:"Item Name *"}),r.jsx(Be,{id:"itemName",value:j.name,onChange:L=>x(W=>({...W,name:L.target.value})),placeholder:"e.g., Check Exterior Body Condition"})]}),r.jsxs("div",{children:[r.jsx(Ae,{htmlFor:"itemType",children:"Item Type"}),r.jsxs(lt,{value:j.itemType,onValueChange:L=>x(W=>({...W,itemType:L})),children:[r.jsx(it,{children:r.jsx(ct,{})}),r.jsxs(ot,{children:[r.jsx(oe,{value:"checkbox",children:"Checkbox"}),r.jsx(oe,{value:"text",children:"Text Input"}),r.jsx(oe,{value:"number",children:"Number Input"}),r.jsx(oe,{value:"photo",children:"Photo Upload"})]})]})]})]}),r.jsxs("div",{children:[r.jsx(Ae,{htmlFor:"itemDescription",children:"Description"}),r.jsx(lr,{id:"itemDescription",value:j.description,onChange:L=>x(W=>({...W,description:L.target.value})),placeholder:"Describe this inspection item",rows:2})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Yn,{id:"isRequired",checked:j.isRequired,onCheckedChange:L=>x(W=>({...W,isRequired:!!L}))}),r.jsx(Ae,{htmlFor:"isRequired",children:"Required item"})]}),r.jsxs("div",{className:"flex justify-end space-x-2",children:[r.jsx(ae,{type:"button",variant:"outline",onClick:()=>{b(!1),m(null)},children:"Cancel"}),r.jsx(ae,{type:"button",onClick:()=>E(w.id),children:"Add Item"})]})]})})}),r.jsxs("div",{className:"space-y-2",children:[w.items.map(L=>r.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("span",{className:"font-medium",children:L.name}),r.jsx(Re,{variant:"outline",className:"text-xs",children:L.itemType}),L.isRequired&&r.jsx(Re,{className:"bg-blue-50 text-blue-700 border-blue-200 text-xs",children:"Required"})]}),L.description&&r.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:L.description})]}),r.jsxs("div",{className:"flex items-center space-x-1",children:[r.jsx(ae,{type:"button",variant:"ghost",size:"sm",onClick:()=>k(w.id,L.id),disabled:L.orderIndex<=1,children:r.jsx(_0,{className:"h-3 w-3"})}),r.jsx(ae,{type:"button",variant:"ghost",size:"sm",onClick:()=>D(w.id,L.id),disabled:L.orderIndex>=w.items.length,children:r.jsx(F0,{className:"h-3 w-3"})}),r.jsx(ae,{type:"button",variant:"ghost",size:"sm",onClick:()=>S(w.id,L.id),children:r.jsx(ys,{className:"h-3 w-3 text-red-500"})})]})]},L.id)),w.items.length===0&&r.jsxs("div",{className:"text-center py-4 text-sm text-muted-foreground border-2 border-dashed rounded-lg",children:[r.jsx(Ny,{className:"h-8 w-8 mx-auto mb-2 text-muted-foreground/50"}),r.jsx("p",{children:"No items added yet"}),r.jsx("p",{className:"text-xs",children:"Add items to this section"})]})]})]})})]},w.id)}),(!o.sections||o.sections.length===0)&&r.jsxs("div",{className:"text-center py-8 text-muted-foreground border-2 border-dashed rounded-lg",children:[r.jsx(M0,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground/50"}),r.jsx("p",{children:"No sections added yet"}),r.jsx("p",{className:"text-sm",children:"Add sections to organize your checklist"})]})]})]}),r.jsxs("div",{className:"flex justify-end space-x-3 pt-6 border-t",children:[r.jsx(ae,{type:"button",variant:"outline",onClick:n,disabled:a,children:"Cancel"}),r.jsx(ae,{type:"submit",disabled:a,children:a?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),e?"Updating...":"Creating..."]}):r.jsxs(r.Fragment,{children:[r.jsx(da,{className:"h-4 w-4 mr-2"}),e?"Update":"Create"," Template"]})})]})]})})]})})}function yU({inspections:e,onCreateInspection:t,onViewInspection:n,onContinueInspection:s}){const[a,i]=A.useState(""),[o,l]=A.useState("all"),c=e.filter(u=>{const f=u.id.toLowerCase().includes(a.toLowerCase())||u.vehicleId.toLowerCase().includes(a.toLowerCase()),m=o==="all"||u.status===o;return f&&m}),d=u=>{switch(u){case Ir.IN_PROGRESS:return"bg-yellow-50 text-yellow-700 border-yellow-200";case Ir.COMPLETED:return"bg-blue-50 text-blue-700 border-blue-200";case Ir.APPROVED:return"bg-green-50 text-green-700 border-green-200";case Ir.REJECTED:return"bg-red-50 text-red-700 border-red-200";default:return"bg-gray-50 text-gray-700 border-gray-200"}},p=u=>{switch(u){case Ir.IN_PROGRESS:return r.jsx(pr,{className:"h-4 w-4 text-yellow-500"});case Ir.COMPLETED:return r.jsx(sa,{className:"h-4 w-4 text-blue-500"});case Ir.APPROVED:return r.jsx(sa,{className:"h-4 w-4 text-green-500"});case Ir.REJECTED:return r.jsx(_u,{className:"h-4 w-4 text-red-500"});default:return r.jsx(pr,{className:"h-4 w-4 text-gray-500"})}};return r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[r.jsxs("div",{className:"ri-search-bar flex-1",children:[r.jsx(ss,{className:"ri-search-icon"}),r.jsx(Be,{placeholder:"Search inspections...",value:a,onChange:u=>i(u.target.value),className:"ri-search-input shadow-sm"})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs("select",{value:o,onChange:u=>l(u.target.value),className:"px-3 py-2 rounded-md border border-input bg-background",children:[r.jsx("option",{value:"all",children:"All Status"}),r.jsx("option",{value:"in_progress",children:"In Progress"}),r.jsx("option",{value:"completed",children:"Completed"}),r.jsx("option",{value:"approved",children:"Approved"}),r.jsx("option",{value:"rejected",children:"Rejected"})]}),r.jsxs(ae,{variant:"outline",className:"shadow-sm",children:[r.jsx(zs,{className:"h-4 w-4 mr-2"}),"Filter"]}),r.jsxs(ae,{onClick:t,className:"shadow-sm",children:[r.jsx(It,{className:"h-4 w-4 mr-2"}),"New Inspection"]})]})]}),r.jsxs(me,{className:"shadow-sm",children:[r.jsxs(be,{children:[r.jsxs(je,{className:"text-xl",children:["Home/Vehicle PDI Inspections (",c.length,")"]}),r.jsx(Ke,{children:"Manage pre-delivery inspections for homes and vehicles"})]}),r.jsx(fe,{children:r.jsxs("div",{className:"space-y-4",children:[c.map(u=>{var f,m,g;return r.jsxs("div",{className:"ri-table-row",children:[r.jsx("div",{className:"flex items-center space-x-4 flex-1",children:r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[r.jsxs("h3",{className:"font-semibold text-foreground",children:["Inspection #",u.id.substring(0,8)]}),r.jsxs(Re,{className:$e("ri-badge-status",d(u.status)),children:[p(u.status),r.jsx("span",{className:"ml-1",children:u.status.replace("_"," ").toUpperCase()})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm text-muted-foreground",children:[r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Vehicle:"}),r.jsxs("span",{className:"ml-1",children:[(f=u.vehicle)==null?void 0:f.make," ",(m=u.vehicle)==null?void 0:m.model," (",u.vehicleId,")"]})]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Inspector:"}),r.jsx("span",{className:"ml-1",children:((g=u.inspector)==null?void 0:g.name)||u.inspectorId})]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Started:"}),r.jsx("span",{className:"ml-1",children:yt(u.startedAt)})]}),u.completedAt&&r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Completed:"}),r.jsx("span",{className:"ml-1",children:yt(u.completedAt)})]})]}),r.jsxs("div",{className:"flex items-center space-x-4 mt-2 text-sm",children:[r.jsxs("span",{className:"flex items-center",children:[r.jsx(sa,{className:"h-3 w-3 mr-1 text-green-500"}),u.items.filter(b=>b.status==="passed").length," passed"]}),r.jsxs("span",{className:"flex items-center",children:[r.jsx(_u,{className:"h-3 w-3 mr-1 text-red-500"}),u.items.filter(b=>b.status==="failed").length," failed"]}),r.jsxs("span",{className:"flex items-center",children:[r.jsx(pr,{className:"h-3 w-3 mr-1 text-yellow-500"}),u.items.filter(b=>b.status==="pending").length," pending"]})]}),u.defects.length>0&&r.jsx("div",{className:"mt-2 bg-red-50 p-2 rounded-md",children:r.jsxs("p",{className:"text-sm text-red-700 flex items-center",children:[r.jsx(_u,{className:"h-3 w-3 mr-1"}),u.defects.length," defect",u.defects.length!==1?"s":""," found"]})})]})}),r.jsx("div",{className:"ri-action-buttons",children:u.status===Ir.IN_PROGRESS?r.jsxs(ae,{variant:"outline",size:"sm",className:"shadow-sm",onClick:()=>s(u),children:[r.jsx(_l,{className:"h-3 w-3 mr-1"}),"Continue"]}):r.jsxs(ae,{variant:"outline",size:"sm",className:"shadow-sm",onClick:()=>n(u),children:[r.jsx(Qo,{className:"h-3 w-3 mr-1"}),"View"]})})]},u.id)}),c.length===0&&r.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[r.jsx(_l,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground/50"}),r.jsx("p",{children:"No inspections found"}),r.jsx("p",{className:"text-sm",children:"Create your first inspection to get started"})]})]})})]})]})}function bU({inspection:e,vehicles:t,onSave:n,onComplete:s,onUpdateItem:a,onAddDefect:i,onAddPhoto:o,onCancel:l}){var U;const{toast:c}=Cr(),[d,p]=A.useState(!1),[u,f]=A.useState("checklist"),[m,g]=A.useState(e.notes||""),[b,j]=A.useState(!1),[x,v]=A.useState(null),[y,P]=A.useState({title:"",description:"",severity:An.MEDIUM}),[M,O]=A.useState(!1),[E,S]=A.useState("");A.useEffect(()=>{g(e.notes||"")},[e]);const{getRootProps:k,getInputProps:D}=qy({accept:{"image/*":[]},onDrop:q=>{if(q.length===0)return;const H=q[0],R=URL.createObjectURL(H);W(R)}}),C=async()=>{p(!0);try{await n({notes:m}),c({title:"Success",description:"Inspection saved successfully"})}catch{c({title:"Error",description:"Failed to save inspection",variant:"destructive"})}finally{p(!1)}},w=async()=>{const q=e.items.filter(H=>{const R=H.templateItem;return(R==null?void 0:R.isRequired)&&H.status===qt.PENDING});if(q.length>0){c({title:"Incomplete Inspection",description:`${q.length} required items are still pending`,variant:"destructive"});return}p(!0);try{await s(e.id,m),c({title:"Success",description:"Inspection completed successfully"}),l()}catch{c({title:"Error",description:"Failed to complete inspection",variant:"destructive"})}finally{p(!1)}},T=async(q,H,R,$)=>{try{await a(e.id,q,{status:H,value:R,notes:$}),H===qt.FAILED&&(v(q),j(!0))}catch{c({title:"Error",description:"Failed to update item",variant:"destructive"})}},L=async()=>{if(!y.title||!y.description){c({title:"Validation Error",description:"Title and description are required",variant:"destructive"});return}try{await i(e.id,{...y,inspectionItemId:x||void 0}),P({title:"",description:"",severity:An.MEDIUM}),v(null),j(!1),c({title:"Success",description:"Defect added successfully"})}catch{c({title:"Error",description:"Failed to add defect",variant:"destructive"})}},W=async q=>{try{await o(e.id,{url:q,inspectionItemId:x||void 0,caption:E}),S(""),O(!1),c({title:"Success",description:"Photo added successfully"})}catch{c({title:"Error",description:"Failed to add photo",variant:"destructive"})}},V=q=>{switch(q){case qt.PENDING:return"bg-yellow-50 text-yellow-700 border-yellow-200";case qt.PASSED:return"bg-green-50 text-green-700 border-green-200";case qt.FAILED:return"bg-red-50 text-red-700 border-red-200";case qt.NA:return"bg-gray-50 text-gray-700 border-gray-200";default:return"bg-gray-50 text-gray-700 border-gray-200"}},_=q=>{switch(q){case An.LOW:return"bg-blue-50 text-blue-700 border-blue-200";case An.MEDIUM:return"bg-yellow-50 text-yellow-700 border-yellow-200";case An.HIGH:return"bg-orange-50 text-orange-700 border-orange-200";case An.CRITICAL:return"bg-red-50 text-red-700 border-red-200";default:return"bg-gray-50 text-gray-700 border-gray-200"}},B=t.find(q=>q.id===e.vehicleId);return r.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:r.jsxs(me,{className:"w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[r.jsx(be,{children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx(je,{children:"PDI Inspection"}),r.jsx(Ke,{children:B?`${B.year} ${B.make} ${B.model}`:e.vehicleId})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Re,{className:$e("ri-badge-status",e.status===Ir.IN_PROGRESS?"bg-yellow-50 text-yellow-700 border-yellow-200":e.status===Ir.COMPLETED?"bg-blue-50 text-blue-700 border-blue-200":e.status===Ir.APPROVED?"bg-green-50 text-green-700 border-green-200":"bg-red-50 text-red-700 border-red-200"),children:e.status.replace("_"," ").toUpperCase()}),r.jsx(ae,{variant:"ghost",size:"sm",onClick:l,children:r.jsx(or,{className:"h-4 w-4"})})]})]})}),r.jsx(fe,{children:r.jsxs(dn,{value:u,onValueChange:f,className:"space-y-4",children:[r.jsxs(Zr,{className:"grid w-full grid-cols-3",children:[r.jsx(ut,{value:"checklist",children:"Checklist"}),r.jsxs(ut,{value:"defects",children:["Defects",e.defects.length>0&&r.jsx(Re,{className:"ml-2 bg-red-50 text-red-700 border-red-200",children:e.defects.length})]}),r.jsxs(ut,{value:"photos",children:["Photos",e.photos.length>0&&r.jsx(Re,{className:"ml-2 bg-blue-50 text-blue-700 border-blue-200",children:e.photos.length})]})]}),r.jsxs(ht,{value:"checklist",className:"space-y-6",children:[b&&r.jsxs(me,{className:"border-2 border-red-200",children:[r.jsxs(be,{className:"bg-red-50",children:[r.jsxs(je,{className:"text-lg text-red-700 flex items-center",children:[r.jsx(ai,{className:"h-5 w-5 mr-2"}),"Report Defect"]}),r.jsx(Ke,{className:"text-red-600",children:"Record details about the issue found"})]}),r.jsxs(fe,{className:"pt-6 space-y-4",children:[r.jsxs("div",{children:[r.jsx(Ae,{htmlFor:"defectTitle",children:"Defect Title *"}),r.jsx(Be,{id:"defectTitle",value:y.title,onChange:q=>P(H=>({...H,title:q.target.value})),placeholder:"e.g., Damaged Roof Seal"})]}),r.jsxs("div",{children:[r.jsx(Ae,{htmlFor:"defectDescription",children:"Description *"}),r.jsx(lr,{id:"defectDescription",value:y.description,onChange:q=>P(H=>({...H,description:q.target.value})),placeholder:"Describe the defect in detail",rows:3})]}),r.jsxs("div",{children:[r.jsx(Ae,{htmlFor:"defectSeverity",children:"Severity"}),r.jsxs(lt,{value:y.severity,onValueChange:q=>P(H=>({...H,severity:q})),children:[r.jsx(it,{children:r.jsx(ct,{})}),r.jsxs(ot,{children:[r.jsx(oe,{value:An.LOW,children:"Low"}),r.jsx(oe,{value:An.MEDIUM,children:"Medium"}),r.jsx(oe,{value:An.HIGH,children:"High"}),r.jsx(oe,{value:An.CRITICAL,children:"Critical"})]})]})]}),r.jsxs("div",{className:"flex justify-end space-x-2",children:[r.jsx(ae,{type:"button",variant:"outline",onClick:()=>{j(!1),v(null)},children:"Cancel"}),r.jsx(ae,{type:"button",onClick:L,children:"Add Defect"})]})]})]}),M&&r.jsxs(me,{className:"border-2 border-blue-200",children:[r.jsxs(be,{className:"bg-blue-50",children:[r.jsxs(je,{className:"text-lg text-blue-700 flex items-center",children:[r.jsx(Hc,{className:"h-5 w-5 mr-2"}),"Add Photo"]}),r.jsx(Ke,{className:"text-blue-600",children:"Upload a photo for documentation"})]}),r.jsxs(fe,{className:"pt-6 space-y-4",children:[r.jsxs("div",{...k(),className:"border-2 border-dashed rounded-lg p-6 text-center cursor-pointer hover:bg-muted/10",children:[r.jsx("input",{...D()}),r.jsx(pp,{className:"h-8 w-8 mx-auto mb-2 text-muted-foreground"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Drag & drop an image here, or click to select a file"})]}),r.jsxs("div",{children:[r.jsx(Ae,{htmlFor:"photoCaption",children:"Caption (Optional)"}),r.jsx(Be,{id:"photoCaption",value:E,onChange:q=>S(q.target.value),placeholder:"e.g., Front view of vehicle"})]}),r.jsxs("div",{className:"flex justify-end space-x-2",children:[r.jsx(ae,{type:"button",variant:"outline",onClick:()=>{O(!1),v(null),S("")},children:"Cancel"}),r.jsx(ae,{type:"button",onClick:()=>{W("https://images.pexels.com/photos/1319515/pexels-photo-1319515.jpeg")},children:"Simulate Upload"})]})]})]}),(U=e.template)==null?void 0:U.sections.map(q=>r.jsxs("div",{className:"space-y-4",children:[r.jsx("h3",{className:"text-lg font-semibold",children:q.name}),q.description&&r.jsx("p",{className:"text-sm text-muted-foreground",children:q.description}),r.jsx("div",{className:"space-y-3",children:q.items.map(H=>{const R=e.items.find($=>$.templateItemId===H.id);return R?r.jsx(me,{className:"shadow-sm",children:r.jsx(fe,{className:"p-4",children:r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[r.jsx("h4",{className:"font-medium",children:H.name}),H.isRequired&&r.jsx(Re,{className:"bg-blue-50 text-blue-700 border-blue-200 text-xs",children:"Required"}),r.jsx(Re,{className:$e("ri-badge-status text-xs",V(R.status)),children:R.status.toUpperCase()})]}),H.description&&r.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:H.description}),H.itemType==="text"&&r.jsx("div",{className:"mb-3",children:r.jsx(Be,{value:R.value||"",onChange:$=>T(R.id,qt.PASSED,$.target.value),placeholder:"Enter text"})}),H.itemType==="number"&&r.jsx("div",{className:"mb-3",children:r.jsx(Be,{type:"number",value:R.value||"",onChange:$=>T(R.id,qt.PASSED,$.target.value),placeholder:"Enter number"})}),H.itemType==="photo"&&r.jsxs("div",{className:"mb-3",children:[r.jsxs(ae,{variant:"outline",size:"sm",onClick:()=>{v(R.id),O(!0)},children:[r.jsx(Hc,{className:"h-4 w-4 mr-2"}),"Add Photo"]}),e.photos.filter($=>$.inspectionItemId===R.id).length>0&&r.jsx("div",{className:"grid grid-cols-3 gap-2 mt-2",children:e.photos.filter($=>$.inspectionItemId===R.id).map($=>r.jsxs("div",{className:"relative",children:[r.jsx("img",{src:$.url,alt:$.caption||"Inspection photo",className:"h-20 w-full object-cover rounded-md"}),$.caption&&r.jsx("div",{className:"absolute bottom-0 left-0 right-0 bg-black/50 text-white text-xs p-1 truncate",children:$.caption})]},$.id))})]}),R.notes&&r.jsx("div",{className:"mb-3 p-2 bg-muted/30 rounded-md",children:r.jsxs("p",{className:"text-sm text-muted-foreground",children:[r.jsx("span",{className:"font-medium",children:"Notes:"})," ",R.notes]})}),R.status!==qt.PENDING&&r.jsx("div",{className:"mb-3",children:r.jsx(lr,{value:R.notes||"",onChange:$=>T(R.id,R.status,R.value,$.target.value),placeholder:"Add notes (optional)",rows:2})})]}),H.itemType==="checkbox"&&r.jsxs("div",{className:"flex items-center space-x-2 ml-4",children:[r.jsxs(ae,{variant:R.status===qt.PASSED?"default":"outline",size:"sm",onClick:()=>T(R.id,qt.PASSED),className:R.status===qt.PASSED?"":"border-green-200 text-green-700",children:[r.jsx(sa,{className:"h-4 w-4 mr-1"}),"Pass"]}),r.jsxs(ae,{variant:R.status===qt.FAILED?"default":"outline",size:"sm",onClick:()=>T(R.id,qt.FAILED),className:R.status===qt.FAILED?"":"border-red-200 text-red-700",children:[r.jsx(Ou,{className:"h-4 w-4 mr-1"}),"Fail"]}),r.jsx(ae,{variant:R.status===qt.NA?"default":"outline",size:"sm",onClick:()=>T(R.id,qt.NA),className:R.status===qt.NA?"":"border-gray-200 text-gray-700",children:"N/A"})]})]})})},H.id):null})})]},q.id)),r.jsxs("div",{className:"space-y-4 pt-6 border-t",children:[r.jsxs("div",{children:[r.jsx(Ae,{htmlFor:"inspectionNotes",children:"Inspection Notes"}),r.jsx(lr,{id:"inspectionNotes",value:m,onChange:q=>g(q.target.value),placeholder:"Add general notes about this inspection",rows:3})]}),r.jsxs("div",{className:"flex justify-end space-x-3",children:[r.jsx(ae,{type:"button",variant:"outline",onClick:l,disabled:d,children:"Cancel"}),r.jsxs(ae,{type:"button",onClick:C,disabled:d,children:[r.jsx(da,{className:"h-4 w-4 mr-2"}),"Save Progress"]}),r.jsxs(ae,{type:"button",onClick:w,disabled:d||e.status!=="in_progress",children:[r.jsx(_l,{className:"h-4 w-4 mr-2"}),"Complete Inspection"]})]})]})]}),r.jsxs(ht,{value:"defects",className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("h3",{className:"text-lg font-semibold",children:"Defects"}),r.jsxs(ae,{size:"sm",onClick:()=>{v(null),j(!0)},children:[r.jsx(It,{className:"h-4 w-4 mr-2"}),"Add Defect"]})]}),e.defects.length===0?r.jsxs("div",{className:"text-center py-8 text-muted-foreground border-2 border-dashed rounded-lg",children:[r.jsx(ai,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground/50"}),r.jsx("p",{children:"No defects reported"}),r.jsx("p",{className:"text-sm",children:"Add defects when issues are found"})]}):r.jsx("div",{className:"space-y-4",children:e.defects.map(q=>r.jsxs(me,{className:"shadow-sm",children:[r.jsx(be,{className:"pb-3",children:r.jsx("div",{className:"flex items-center justify-between",children:r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("h4",{className:"font-semibold",children:q.title}),r.jsx(Re,{className:$e("ri-badge-status",_(q.severity)),children:q.severity.toUpperCase()}),r.jsx(Re,{className:q.status==="open"?"bg-red-50 text-red-700 border-red-200":q.status==="in_progress"?"bg-yellow-50 text-yellow-700 border-yellow-200":q.status==="resolved"?"bg-blue-50 text-blue-700 border-blue-200":"bg-green-50 text-green-700 border-green-200",children:q.status.replace("_"," ").toUpperCase()})]})})}),r.jsxs(fe,{children:[r.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:q.description}),e.photos.filter(H=>H.defectId===q.id).length>0&&r.jsxs("div",{className:"mb-4",children:[r.jsx("h5",{className:"text-sm font-medium mb-2",children:"Photos"}),r.jsx("div",{className:"grid grid-cols-3 gap-2",children:e.photos.filter(H=>H.defectId===q.id).map(H=>r.jsxs("div",{className:"relative",children:[r.jsx("img",{src:H.url,alt:H.caption||"Defect photo",className:"h-24 w-full object-cover rounded-md"}),H.caption&&r.jsx("div",{className:"absolute bottom-0 left-0 right-0 bg-black/50 text-white text-xs p-1 truncate",children:H.caption})]},H.id))})]}),r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("div",{className:"text-sm text-muted-foreground",children:q.assignedTo?r.jsxs("span",{children:["Assigned to: ",q.assignedTo]}):r.jsx("span",{children:"Unassigned"})}),r.jsx("div",{className:"flex space-x-2",children:r.jsxs(ae,{variant:"outline",size:"sm",onClick:()=>{v(null),O(!0)},children:[r.jsx(Hc,{className:"h-3 w-3 mr-1"}),"Add Photo"]})})]})]})]},q.id))})]}),r.jsxs(ht,{value:"photos",className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("h3",{className:"text-lg font-semibold",children:"Photos"}),r.jsxs(ae,{size:"sm",onClick:()=>{v(null),O(!0)},children:[r.jsx(Hc,{className:"h-4 w-4 mr-2"}),"Add Photo"]})]}),e.photos.length===0?r.jsxs("div",{className:"text-center py-8 text-muted-foreground border-2 border-dashed rounded-lg",children:[r.jsx(pp,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground/50"}),r.jsx("p",{children:"No photos added"}),r.jsx("p",{className:"text-sm",children:"Add photos to document the inspection"})]}):r.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:e.photos.map(q=>r.jsxs("div",{className:"relative",children:[r.jsx("img",{src:q.url,alt:q.caption||"Inspection photo",className:"h-40 w-full object-cover rounded-md"}),q.caption&&r.jsx("div",{className:"absolute bottom-0 left-0 right-0 bg-black/50 text-white p-2 truncate",children:q.caption})]},q.id))})]})]})})]})})}function jU({inspection:e,vehicles:t,onAddSignoff:n,onClose:s}){var O,E;const{toast:a}=Cr(),[i,o]=A.useState("summary"),[l,c]=A.useState(!1),[d,p]=A.useState(""),[u,f]=A.useState(wl.INSPECTOR),m=async()=>{try{await n(e.id,{role:u,notes:d,signatureUrl:"https://via.placeholder.com/200x100?text=Signature"}),c(!1),p(""),a({title:"Success",description:"Signoff added successfully"})}catch{a({title:"Error",description:"Failed to add signoff",variant:"destructive"})}},g=S=>{switch(S){case qt.PENDING:return"bg-yellow-50 text-yellow-700 border-yellow-200";case qt.PASSED:return"bg-green-50 text-green-700 border-green-200";case qt.FAILED:return"bg-red-50 text-red-700 border-red-200";case qt.NA:return"bg-gray-50 text-gray-700 border-gray-200";default:return"bg-gray-50 text-gray-700 border-gray-200"}},b=S=>{switch(S){case An.LOW:return"bg-blue-50 text-blue-700 border-blue-200";case An.MEDIUM:return"bg-yellow-50 text-yellow-700 border-yellow-200";case An.HIGH:return"bg-orange-50 text-orange-700 border-orange-200";case An.CRITICAL:return"bg-red-50 text-red-700 border-red-200";default:return"bg-gray-50 text-gray-700 border-gray-200"}},j=t.find(S=>S.id===e.vehicleId),x=e.items.filter(S=>S.status===qt.PASSED).length,v=e.items.filter(S=>S.status===qt.FAILED).length,y=e.items.filter(S=>S.status===qt.NA).length,P=e.items.length,M=Math.round((x+v+y)/P*100);return r.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:r.jsxs(me,{className:"w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[r.jsx(be,{children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx(je,{children:"PDI Inspection Report"}),r.jsx(Ke,{children:j?`${j.year} ${j.make} ${j.model}`:e.vehicleId})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Re,{className:$e("ri-badge-status",e.status===Ir.IN_PROGRESS?"bg-yellow-50 text-yellow-700 border-yellow-200":e.status===Ir.COMPLETED?"bg-blue-50 text-blue-700 border-blue-200":e.status===Ir.APPROVED?"bg-green-50 text-green-700 border-green-200":"bg-red-50 text-red-700 border-red-200"),children:e.status.replace("_"," ").toUpperCase()}),r.jsx(ae,{variant:"ghost",size:"sm",onClick:s,children:r.jsx(or,{className:"h-4 w-4"})})]})]})}),r.jsx(fe,{children:r.jsxs(dn,{value:i,onValueChange:o,className:"space-y-4",children:[r.jsxs(Zr,{className:"grid w-full grid-cols-4",children:[r.jsx(ut,{value:"summary",children:"Summary"}),r.jsx(ut,{value:"checklist",children:"Checklist"}),r.jsxs(ut,{value:"defects",children:["Defects",e.defects.length>0&&r.jsx(Re,{className:"ml-2 bg-red-50 text-red-700 border-red-200",children:e.defects.length})]}),r.jsxs(ut,{value:"signoffs",children:["Signoffs",e.signoffs.length>0&&r.jsx(Re,{className:"ml-2 bg-green-50 text-green-700 border-green-200",children:e.signoffs.length})]})]}),r.jsxs(ht,{value:"summary",className:"space-y-6",children:[r.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[r.jsxs(me,{className:"shadow-sm",children:[r.jsx(be,{children:r.jsx(je,{className:"text-lg",children:"Inspection Details"})}),r.jsx(fe,{children:r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"Status"}),r.jsx("p",{className:"font-medium",children:e.status.replace("_"," ")})]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"Inspector"}),r.jsx("p",{className:"font-medium",children:((O=e.inspector)==null?void 0:O.name)||e.inspectorId})]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"Started"}),r.jsx("p",{className:"font-medium",children:yt(e.startedAt)})]}),e.completedAt&&r.jsxs("div",{children:[r.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"Completed"}),r.jsx("p",{className:"font-medium",children:yt(e.completedAt)})]})]}),e.notes&&r.jsxs("div",{children:[r.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"Notes"}),r.jsx("p",{className:"text-sm mt-1 p-3 bg-muted/30 rounded-md",children:e.notes})]})]})})]}),r.jsxs(me,{className:"shadow-sm",children:[r.jsx(be,{children:r.jsx(je,{className:"text-lg",children:"Inspection Results"})}),r.jsx(fe,{children:r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-sm font-medium",children:"Completion"}),r.jsxs("span",{className:"text-sm font-bold",children:[M,"%"]})]}),r.jsx("div",{className:"w-full bg-muted rounded-full h-2.5",children:r.jsx("div",{className:"bg-primary h-2.5 rounded-full",style:{width:`${M}%`}})}),r.jsxs("div",{className:"grid grid-cols-3 gap-2 text-center",children:[r.jsxs("div",{className:"p-3 bg-green-50 rounded-lg",children:[r.jsx("div",{className:"text-lg font-bold text-green-700",children:x}),r.jsx("p",{className:"text-xs text-green-600",children:"Passed"})]}),r.jsxs("div",{className:"p-3 bg-red-50 rounded-lg",children:[r.jsx("div",{className:"text-lg font-bold text-red-700",children:v}),r.jsx("p",{className:"text-xs text-red-600",children:"Failed"})]}),r.jsxs("div",{className:"p-3 bg-gray-50 rounded-lg",children:[r.jsx("div",{className:"text-lg font-bold text-gray-700",children:y}),r.jsx("p",{className:"text-xs text-gray-600",children:"N/A"})]})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-sm font-medium",children:"Defects"}),r.jsx("span",{className:"text-sm font-bold text-red-600",children:e.defects.length})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-sm font-medium",children:"Photos"}),r.jsx("span",{className:"text-sm font-bold",children:e.photos.length})]})]})})]})]}),r.jsxs("div",{className:"flex justify-end space-x-3",children:[r.jsx(ae,{variant:"outline",onClick:s,children:"Close"}),r.jsxs(ae,{variant:"outline",children:[r.jsx(Ey,{className:"h-4 w-4 mr-2"}),"Print Report"]}),r.jsxs(ae,{variant:"outline",children:[r.jsx(Ol,{className:"h-4 w-4 mr-2"}),"Export PDF"]}),e.status==="completed"&&r.jsxs(ae,{onClick:()=>c(!0),children:[r.jsx(rf,{className:"h-4 w-4 mr-2"}),"Add Signoff"]})]})]}),r.jsx(ht,{value:"checklist",className:"space-y-6",children:(E=e.template)==null?void 0:E.sections.map(S=>r.jsxs("div",{className:"space-y-4",children:[r.jsx("h3",{className:"text-lg font-semibold",children:S.name}),S.description&&r.jsx("p",{className:"text-sm text-muted-foreground",children:S.description}),r.jsx("div",{className:"space-y-3",children:S.items.map(k=>{const D=e.items.find(C=>C.templateItemId===k.id);return D?r.jsx(me,{className:"shadow-sm",children:r.jsx(fe,{className:"p-4",children:r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[r.jsx("h4",{className:"font-medium",children:k.name}),k.isRequired&&r.jsx(Re,{className:"bg-blue-50 text-blue-700 border-blue-200 text-xs",children:"Required"}),r.jsx(Re,{className:$e("ri-badge-status text-xs",g(D.status)),children:D.status.toUpperCase()})]}),k.description&&r.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:k.description}),D.value&&r.jsx("div",{className:"mb-2 p-2 bg-muted/30 rounded-md",children:r.jsxs("p",{className:"text-sm",children:[r.jsx("span",{className:"font-medium",children:"Value:"})," ",D.value]})}),D.notes&&r.jsx("div",{className:"mb-2 p-2 bg-muted/30 rounded-md",children:r.jsxs("p",{className:"text-sm text-muted-foreground",children:[r.jsx("span",{className:"font-medium",children:"Notes:"})," ",D.notes]})}),e.photos.filter(C=>C.inspectionItemId===D.id).length>0&&r.jsxs("div",{className:"mt-2",children:[r.jsx("h5",{className:"text-sm font-medium mb-1",children:"Photos"}),r.jsx("div",{className:"grid grid-cols-3 gap-2",children:e.photos.filter(C=>C.inspectionItemId===D.id).map(C=>r.jsxs("div",{className:"relative",children:[r.jsx("img",{src:C.url,alt:C.caption||"Inspection photo",className:"h-20 w-full object-cover rounded-md"}),C.caption&&r.jsx("div",{className:"absolute bottom-0 left-0 right-0 bg-black/50 text-white text-xs p-1 truncate",children:C.caption})]},C.id))})]}),e.defects.filter(C=>C.inspectionItemId===D.id).length>0&&r.jsxs("div",{className:"mt-2",children:[r.jsx("h5",{className:"text-sm font-medium mb-1 text-red-600",children:"Defects"}),e.defects.filter(C=>C.inspectionItemId===D.id).map(C=>r.jsxs("div",{className:"p-2 bg-red-50 rounded-md mb-2",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("span",{className:"font-medium text-red-700",children:C.title}),r.jsx(Re,{className:$e("ri-badge-status text-xs",b(C.severity)),children:C.severity.toUpperCase()})]}),r.jsx("p",{className:"text-sm text-red-600 mt-1",children:C.description})]},C.id))]})]}),r.jsxs("div",{className:"ml-4",children:[D.status===qt.PASSED&&r.jsx(sa,{className:"h-6 w-6 text-green-500"}),D.status===qt.FAILED&&r.jsx(Ou,{className:"h-6 w-6 text-red-500"}),D.status===qt.PENDING&&r.jsx(pr,{className:"h-6 w-6 text-yellow-500"}),D.status===qt.NA&&r.jsx("span",{className:"text-sm font-medium text-gray-500",children:"N/A"})]})]})})},k.id):null})})]},S.id))}),r.jsxs(ht,{value:"defects",className:"space-y-4",children:[r.jsx("h3",{className:"text-lg font-semibold",children:"Defects"}),e.defects.length===0?r.jsxs("div",{className:"text-center py-8 text-muted-foreground border-2 border-dashed rounded-lg",children:[r.jsx(sa,{className:"h-12 w-12 mx-auto mb-4 text-green-500"}),r.jsx("p",{children:"No defects reported"}),r.jsx("p",{className:"text-sm",children:"This vehicle passed inspection without issues"})]}):r.jsx("div",{className:"space-y-4",children:e.defects.map(S=>r.jsxs(me,{className:"shadow-sm",children:[r.jsx(be,{className:"pb-3",children:r.jsx("div",{className:"flex items-center justify-between",children:r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("h4",{className:"font-semibold",children:S.title}),r.jsx(Re,{className:$e("ri-badge-status",b(S.severity)),children:S.severity.toUpperCase()}),r.jsx(Re,{className:S.status==="open"?"bg-red-50 text-red-700 border-red-200":S.status==="in_progress"?"bg-yellow-50 text-yellow-700 border-yellow-200":S.status==="resolved"?"bg-blue-50 text-blue-700 border-blue-200":"bg-green-50 text-green-700 border-green-200",children:S.status.replace("_"," ").toUpperCase()})]})})}),r.jsxs(fe,{children:[r.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:S.description}),e.photos.filter(k=>k.defectId===S.id).length>0&&r.jsxs("div",{className:"mb-4",children:[r.jsx("h5",{className:"text-sm font-medium mb-2",children:"Photos"}),r.jsx("div",{className:"grid grid-cols-3 gap-2",children:e.photos.filter(k=>k.defectId===S.id).map(k=>r.jsxs("div",{className:"relative",children:[r.jsx("img",{src:k.url,alt:k.caption||"Defect photo",className:"h-24 w-full object-cover rounded-md"}),k.caption&&r.jsx("div",{className:"absolute bottom-0 left-0 right-0 bg-black/50 text-white text-xs p-1 truncate",children:k.caption})]},k.id))})]}),r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("div",{className:"text-sm text-muted-foreground",children:S.assignedTo?r.jsxs("span",{children:["Assigned to: ",S.assignedTo]}):r.jsx("span",{children:"Unassigned"})}),S.resolvedAt&&r.jsxs("div",{className:"text-sm text-green-600",children:["Resolved: ",yt(S.resolvedAt)]})]}),S.resolutionNotes&&r.jsx("div",{className:"mt-3 p-2 bg-blue-50 rounded-md",children:r.jsxs("p",{className:"text-sm text-blue-700",children:[r.jsx("span",{className:"font-medium",children:"Resolution:"})," ",S.resolutionNotes]})})]})]},S.id))})]}),r.jsxs(ht,{value:"signoffs",className:"space-y-4",children:[l&&r.jsxs(me,{className:"border-2 border-green-200 mb-6",children:[r.jsxs(be,{className:"bg-green-50",children:[r.jsxs(je,{className:"text-lg text-green-700 flex items-center",children:[r.jsx(rf,{className:"h-5 w-5 mr-2"}),"Add Signoff"]}),r.jsx(Ke,{className:"text-green-600",children:"Sign off on the completed inspection"})]}),r.jsxs(fe,{className:"pt-6 space-y-4",children:[r.jsxs("div",{children:[r.jsx(Ae,{htmlFor:"signoffRole",children:"Role"}),r.jsxs("select",{id:"signoffRole",value:u,onChange:S=>f(S.target.value),className:"w-full p-2 border rounded-md",children:[r.jsx("option",{value:wl.INSPECTOR,children:"Inspector"}),r.jsx("option",{value:wl.MANAGER,children:"Manager"}),r.jsx("option",{value:wl.QUALITY_CONTROL,children:"Quality Control"})]})]}),r.jsxs("div",{children:[r.jsx(Ae,{htmlFor:"signoffNotes",children:"Notes (Optional)"}),r.jsx(lr,{id:"signoffNotes",value:d,onChange:S=>p(S.target.value),placeholder:"Add any notes about this signoff",rows:3})]}),r.jsxs("div",{className:"border-2 border-dashed rounded-lg p-6 text-center",children:[r.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Signature Capture"}),r.jsx("p",{className:"text-xs text-muted-foreground",children:"In a real app, this would be a signature pad"})]}),r.jsxs("div",{className:"flex justify-end space-x-2",children:[r.jsx(ae,{type:"button",variant:"outline",onClick:()=>{c(!1),p("")},children:"Cancel"}),r.jsx(ae,{type:"button",onClick:m,children:"Add Signoff"})]})]})]}),r.jsx("h3",{className:"text-lg font-semibold",children:"Signoffs"}),e.signoffs.length===0?r.jsxs("div",{className:"text-center py-8 text-muted-foreground border-2 border-dashed rounded-lg",children:[r.jsx(rf,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground/50"}),r.jsx("p",{children:"No signoffs yet"}),r.jsx("p",{className:"text-sm",children:"Add signoffs to approve the inspection"})]}):r.jsx("div",{className:"space-y-4",children:e.signoffs.map(S=>{var k;return r.jsx(me,{className:"shadow-sm",children:r.jsx(fe,{className:"p-4",children:r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[r.jsx("h4",{className:"font-medium",children:((k=S.user)==null?void 0:k.name)||S.userId}),r.jsx(Re,{className:"bg-blue-50 text-blue-700 border-blue-200",children:S.role.replace("_"," ").toUpperCase()})]}),r.jsxs("p",{className:"text-sm text-muted-foreground mb-2",children:["Signed: ",yt(S.signedAt)]}),S.notes&&r.jsx("p",{className:"text-sm text-muted-foreground p-2 bg-muted/30 rounded-md",children:S.notes})]}),r.jsx("div",{className:"ml-4",children:S.signatureUrl?r.jsx("img",{src:S.signatureUrl,alt:"Signature",className:"h-12 object-contain"}):r.jsx("div",{className:"h-12 w-32 border-2 border-dashed rounded flex items-center justify-center",children:r.jsx("span",{className:"text-xs text-muted-foreground",children:"No signature"})})})]})})},S.id)})}),e.status==="completed"&&!l&&r.jsx("div",{className:"flex justify-end mt-4",children:r.jsxs(ae,{onClick:()=>c(!0),children:[r.jsx(rf,{className:"h-4 w-4 mr-2"}),"Add Signoff"]})})]})]})})]})})}function wU({templates:e,vehicles:t,currentUserId:n,onCreateInspection:s,onCancel:a}){const{toast:i}=Cr(),[o,l]=A.useState(!1),[c,d]=A.useState(""),[p,u]=A.useState(""),[f,m]=A.useState(""),[g,b]=A.useState([]);A.useEffect(()=>{if(c){const x=t.find(v=>v.id===c);if(x){const v=x.type,y=e.filter(P=>P.isActive&&P.vehicleType===v);b(y),y.length===1?u(y[0].id):u("")}}else b([]),u("")},[c,e,t]);const j=async x=>{if(x.preventDefault(),!c){i({title:"Validation Error",description:"Please select a vehicle",variant:"destructive"});return}if(!p){i({title:"Validation Error",description:"Please select a template",variant:"destructive"});return}l(!0);try{await s({templateId:p,vehicleId:c,inspectorId:n,notes:f}),i({title:"Success",description:"Inspection created successfully"})}catch{i({title:"Error",description:"Failed to create inspection",variant:"destructive"})}finally{l(!1)}};return r.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:r.jsxs(me,{className:"w-full max-w-md",children:[r.jsx(be,{children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx(je,{children:"New PDI Inspection"}),r.jsx(Ke,{children:"Create a new pre-delivery inspection"})]}),r.jsx(ae,{variant:"ghost",size:"sm",onClick:a,children:r.jsx(or,{className:"h-4 w-4"})})]})}),r.jsx(fe,{children:r.jsxs("form",{onSubmit:j,className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx(Ae,{htmlFor:"vehicle",children:"Vehicle *"}),r.jsxs(lt,{value:c,onValueChange:d,children:[r.jsx(it,{children:r.jsx(ct,{placeholder:"Select a home/vehicle"})}),r.jsx(ot,{children:t.map(x=>r.jsxs(oe,{value:x.id,children:[x.year," ",x.make," ",x.model," - ",x.vin]},x.id))})]})]}),r.jsxs("div",{children:[r.jsx(Ae,{htmlFor:"template",children:"Inspection Template *"}),r.jsxs(lt,{value:p,onValueChange:u,disabled:g.length===0,children:[r.jsx(it,{children:r.jsx(ct,{placeholder:g.length===0?"Select a home/vehicle first":"Select a template"})}),r.jsx(ot,{children:g.map(x=>r.jsx(oe,{value:x.id,children:x.name},x.id))})]}),g.length===0&&c&&r.jsx("p",{className:"text-xs text-red-500 mt-1",children:"No templates available for this vehicle type"})]}),r.jsxs("div",{children:[r.jsx(Ae,{htmlFor:"notes",children:"Notes (Optional)"}),r.jsx(lr,{id:"notes",value:f,onChange:x=>m(x.target.value),placeholder:"Add any initial notes about this inspection",rows:3})]}),r.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[r.jsx(ae,{type:"button",variant:"outline",onClick:a,disabled:o,children:"Cancel"}),r.jsx(ae,{type:"submit",disabled:o||!c||!p,children:o?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Creating..."]}):r.jsxs(r.Fragment,{children:[r.jsx(_l,{className:"h-4 w-4 mr-2"}),"Start Inspection"]})})]})]})})]})})}function D5(){const{templates:e,inspections:t,createTemplate:n,updateTemplate:s,deleteTemplate:a,createInspection:i,updateInspection:o,updateInspectionItem:l,completeInspection:c,createDefect:d,addPhoto:p,addSignoff:u}=xU(),{vehicles:f}=Fp(),{user:m}=Lp(),{toast:g}=Cr(),[b,j]=A.useState("inspections"),[x,v]=A.useState(!1),[y,P]=A.useState(!1),[M,O]=A.useState(!1),[E,S]=A.useState(!1),[k,D]=A.useState(null),[C,w]=A.useState(null),T=()=>{D(null),v(!0)},L=ee=>{D(ee),v(!0)},W=ee=>{D(ee),v(!0)},V=async ee=>{if(window.confirm("Are you sure you want to delete this template?"))try{await a(ee),g({title:"Success",description:"Template deleted successfully"})}catch{g({title:"Error",description:"Failed to delete template",variant:"destructive"})}},_=async ee=>{try{const Ue={...ee,id:void 0,name:`${ee.name} (Copy)`};await n(Ue),g({title:"Success",description:"Template duplicated successfully"})}catch{g({title:"Error",description:"Failed to duplicate template",variant:"destructive"})}},B=async ee=>{try{k?await s(k.id,ee):await n(ee),v(!1),D(null)}catch{g({title:"Error",description:`Failed to ${k?"update":"create"} template`,variant:"destructive"})}},U=()=>{O(!0)},q=async ee=>{try{const Ue=await i(ee);O(!1),w(Ue),P(!0)}catch{g({title:"Error",description:"Failed to create inspection",variant:"destructive"})}},H=ee=>{w(ee),S(!0)},R=ee=>{w(ee),P(!0)},$=async ee=>{if(C)try{await o(C.id,ee),g({title:"Success",description:"Inspection saved successfully"})}catch{g({title:"Error",description:"Failed to save inspection",variant:"destructive"})}},G=async(ee,Ue)=>{try{await c(ee,Ue),P(!1),w(null),g({title:"Success",description:"Inspection completed successfully"})}catch{g({title:"Error",description:"Failed to complete inspection",variant:"destructive"})}},Z=async(ee,Ue,Fe)=>{try{await l(ee,Ue,Fe)}catch{g({title:"Error",description:"Failed to update item",variant:"destructive"})}},te=async(ee,Ue)=>{try{await d(ee,Ue)}catch{g({title:"Error",description:"Failed to add defect",variant:"destructive"})}},le=async(ee,Ue)=>{try{await p(ee,Ue)}catch{g({title:"Error",description:"Failed to add photo",variant:"destructive"})}},ce=async(ee,Ue)=>{try{await u(ee,{...Ue,userId:(m==null?void 0:m.id)||"current-user"})}catch{g({title:"Error",description:"Failed to add signoff",variant:"destructive"})}},de=e.length,Ne=e.filter(ee=>ee.isActive).length,ve=t.length,Ee=t.filter(ee=>ee.status===Ir.COMPLETED||ee.status===Ir.APPROVED).length,Te=t.filter(ee=>ee.status===Ir.IN_PROGRESS).length,pe=t.reduce((ee,Ue)=>ee+Ue.defects.length,0),se=t.reduce((ee,Ue)=>ee+Ue.defects.filter(Fe=>Fe.status==="open"||Fe.status==="in_progress").length,0);return t.reduce((ee,Ue)=>ee+Ue.photos.length,0),r.jsxs("div",{className:"space-y-8",children:[x&&r.jsx(vU,{template:k||void 0,onSave:B,onCancel:()=>{v(!1),D(null)}}),M&&r.jsx(wU,{templates:e,vehicles:f,currentUserId:(m==null?void 0:m.id)||"current-user",onCreateInspection:q,onCancel:()=>O(!1)}),y&&C&&r.jsx(bU,{inspection:C,vehicles:f,onSave:$,onComplete:G,onUpdateItem:Z,onAddDefect:te,onAddPhoto:le,onCancel:()=>{P(!1),w(null)}}),E&&C&&r.jsx(jU,{inspection:C,vehicles:f,onAddSignoff:ce,onClose:()=>{S(!1),w(null)}}),r.jsx("div",{className:"ri-page-header",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"ri-page-title",children:"PDI Checklist - Home/Vehicle"}),r.jsx("p",{className:"ri-page-description",children:"Manage pre-delivery inspections and quality control for homes and vehicles"})]}),r.jsxs(ae,{className:"shadow-sm",onClick:U,children:[r.jsx(It,{className:"h-4 w-4 mr-2"}),"New Inspection"]})]})}),r.jsxs("div",{className:"ri-stats-grid",children:[r.jsxs(me,{className:"shadow-sm border-0 bg-gradient-to-br from-blue-50 to-blue-100/50",children:[r.jsxs(be,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(je,{className:"text-sm font-medium text-blue-900",children:"Inspections"}),r.jsx(_l,{className:"h-4 w-4 text-blue-600"})]}),r.jsxs(fe,{children:[r.jsx("div",{className:"text-2xl font-bold text-blue-900",children:ve}),r.jsxs("p",{className:"text-xs text-blue-600 flex items-center mt-1",children:[r.jsx(jt,{className:"h-3 w-3 mr-1"}),Ee," completed"]})]})]}),r.jsxs(me,{className:"shadow-sm border-0 bg-gradient-to-br from-yellow-50 to-yellow-100/50",children:[r.jsxs(be,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(je,{className:"text-sm font-medium text-yellow-900",children:"In Progress"}),r.jsx(_l,{className:"h-4 w-4 text-yellow-600"})]}),r.jsxs(fe,{children:[r.jsx("div",{className:"text-2xl font-bold text-yellow-900",children:Te}),r.jsxs("p",{className:"text-xs text-yellow-600 flex items-center mt-1",children:[r.jsx(jt,{className:"h-3 w-3 mr-1"}),"Active inspections"]})]})]}),r.jsxs(me,{className:"shadow-sm border-0 bg-gradient-to-br from-red-50 to-red-100/50",children:[r.jsxs(be,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(je,{className:"text-sm font-medium text-red-900",children:"Open Defects"}),r.jsx(ai,{className:"h-4 w-4 text-red-600"})]}),r.jsxs(fe,{children:[r.jsx("div",{className:"text-2xl font-bold text-red-900",children:se}),r.jsxs("p",{className:"text-xs text-red-600 flex items-center mt-1",children:[r.jsx(jt,{className:"h-3 w-3 mr-1"}),pe," total defects"]})]})]}),r.jsxs(me,{className:"shadow-sm border-0 bg-gradient-to-br from-green-50 to-green-100/50",children:[r.jsxs(be,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(je,{className:"text-sm font-medium text-green-900",children:"Templates"}),r.jsx(Ny,{className:"h-4 w-4 text-green-600"})]}),r.jsxs(fe,{children:[r.jsx("div",{className:"text-2xl font-bold text-green-900",children:de}),r.jsxs("p",{className:"text-xs text-green-600 flex items-center mt-1",children:[r.jsx(jt,{className:"h-3 w-3 mr-1"}),Ne," active"]})]})]})]}),r.jsxs(dn,{value:b,onValueChange:j,className:"space-y-6",children:[r.jsxs(Zr,{className:"grid w-full grid-cols-2",children:[r.jsx(ut,{value:"inspections",children:"Inspections"}),r.jsx(ut,{value:"templates",children:"Templates"})]}),r.jsx(ht,{value:"inspections",children:r.jsx(yU,{inspections:t,onCreateInspection:U,onViewInspection:H,onContinueInspection:R})}),r.jsx(ht,{value:"templates",children:r.jsx(gU,{templates:e,onCreateTemplate:T,onEditTemplate:L,onDeleteTemplate:V,onDuplicateTemplate:_,onViewTemplate:W})})]})]})}function NU(){return r.jsxs(Ln,{children:[r.jsx(Et,{path:"/",element:r.jsx(D5,{})}),r.jsx(Et,{path:"/*",element:r.jsx(D5,{})})]})}const SU=[{id:"1",salesPersonId:"sales-001",dealId:"deal-001",type:bl.PERCENTAGE,rate:.05,amount:6875,status:ei.APPROVED,paidDate:new Date("2024-01-20"),notes:"Commission for Georgetown sale",customFields:{},createdAt:new Date("2024-01-18"),updatedAt:new Date("2024-01-20")},{id:"2",salesPersonId:"sales-002",dealId:"deal-002",type:bl.FLAT,rate:0,amount:2500,status:ei.PENDING,notes:"Flat commission for service contract",customFields:{},createdAt:new Date("2024-01-15"),updatedAt:new Date("2024-01-15")}];function L5(){const[e]=A.useState(SU),[t,n]=A.useState(""),s=o=>{switch(o){case ei.PENDING:return"bg-yellow-50 text-yellow-700 border-yellow-200";case ei.APPROVED:return"bg-blue-50 text-blue-700 border-blue-200";case ei.PAID:return"bg-green-50 text-green-700 border-green-200";case ei.CANCELLED:return"bg-red-50 text-red-700 border-red-200";default:return"bg-gray-50 text-gray-700 border-gray-200"}},a=o=>{switch(o){case bl.FLAT:return"bg-blue-50 text-blue-700 border-blue-200";case bl.PERCENTAGE:return"bg-green-50 text-green-700 border-green-200";case bl.TIERED:return"bg-purple-50 text-purple-700 border-purple-200";default:return"bg-gray-50 text-gray-700 border-gray-200"}},i=e.filter(o=>o.id.toLowerCase().includes(t.toLowerCase())||o.salesPersonId.toLowerCase().includes(t.toLowerCase())||o.dealId.toLowerCase().includes(t.toLowerCase()));return r.jsxs("div",{className:"space-y-8",children:[r.jsx("div",{className:"ri-page-header",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"ri-page-title",children:"Commission Engine"}),r.jsx("p",{className:"ri-page-description",children:"Manage sales commissions and payouts"})]}),r.jsxs(ae,{className:"shadow-sm",children:[r.jsx(It,{className:"h-4 w-4 mr-2"}),"New Commission"]})]})}),r.jsxs("div",{className:"ri-stats-grid",children:[r.jsxs(me,{className:"shadow-sm border-0 bg-gradient-to-br from-blue-50 to-blue-100/50",children:[r.jsxs(be,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(je,{className:"text-sm font-medium text-blue-900",children:"Total Commissions"}),r.jsx(gr,{className:"h-4 w-4 text-blue-600"})]}),r.jsxs(fe,{children:[r.jsx("div",{className:"text-2xl font-bold text-blue-900",children:e.length}),r.jsxs("p",{className:"text-xs text-blue-600 flex items-center mt-1",children:[r.jsx(jt,{className:"h-3 w-3 mr-1"}),"All commissions"]})]})]}),r.jsxs(me,{className:"shadow-sm border-0 bg-gradient-to-br from-yellow-50 to-yellow-100/50",children:[r.jsxs(be,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(je,{className:"text-sm font-medium text-yellow-900",children:"Pending"}),r.jsx(gr,{className:"h-4 w-4 text-yellow-600"})]}),r.jsxs(fe,{children:[r.jsx("div",{className:"text-2xl font-bold text-yellow-900",children:e.filter(o=>o.status===ei.PENDING).length}),r.jsxs("p",{className:"text-xs text-yellow-600 flex items-center mt-1",children:[r.jsx(kn,{className:"h-3 w-3 mr-1"}),"Awaiting approval"]})]})]}),r.jsxs(me,{className:"shadow-sm border-0 bg-gradient-to-br from-green-50 to-green-100/50",children:[r.jsxs(be,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(je,{className:"text-sm font-medium text-green-900",children:"Paid This Month"}),r.jsx(gr,{className:"h-4 w-4 text-green-600"})]}),r.jsxs(fe,{children:[r.jsx("div",{className:"text-2xl font-bold text-green-900",children:Le(e.filter(o=>o.status===ei.PAID).reduce((o,l)=>o+l.amount,0))}),r.jsxs("p",{className:"text-xs text-green-600 flex items-center mt-1",children:[r.jsx(jt,{className:"h-3 w-3 mr-1"}),"Paid out"]})]})]}),r.jsxs(me,{className:"shadow-sm border-0 bg-gradient-to-br from-purple-50 to-purple-100/50",children:[r.jsxs(be,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(je,{className:"text-sm font-medium text-purple-900",children:"Total Value"}),r.jsx(gr,{className:"h-4 w-4 text-purple-600"})]}),r.jsxs(fe,{children:[r.jsx("div",{className:"text-2xl font-bold text-purple-900",children:Le(e.reduce((o,l)=>o+l.amount,0))}),r.jsxs("p",{className:"text-xs text-purple-600 flex items-center mt-1",children:[r.jsx(jt,{className:"h-3 w-3 mr-1"}),"Total commission value"]})]})]})]}),r.jsxs("div",{className:"flex gap-4",children:[r.jsxs("div",{className:"ri-search-bar",children:[r.jsx(ss,{className:"ri-search-icon"}),r.jsx(Be,{placeholder:"Search commissions...",value:t,onChange:o=>n(o.target.value),className:"ri-search-input shadow-sm"})]}),r.jsxs(ae,{variant:"outline",className:"shadow-sm",children:[r.jsx(zs,{className:"h-4 w-4 mr-2"}),"Filter"]})]}),r.jsxs(me,{className:"shadow-sm",children:[r.jsxs(be,{children:[r.jsx(je,{className:"text-xl",children:"Commissions"}),r.jsx(Ke,{children:"Track and manage sales commissions"})]}),r.jsx(fe,{children:r.jsx("div",{className:"space-y-4",children:i.map(o=>r.jsxs("div",{className:"ri-table-row",children:[r.jsx("div",{className:"flex items-center space-x-4 flex-1",children:r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[r.jsxs("h3",{className:"font-semibold text-foreground",children:["Commission #",o.id]}),r.jsx(Re,{className:$e("ri-badge-status",a(o.type)),children:o.type.toUpperCase()}),r.jsx(Re,{className:$e("ri-badge-status",s(o.status)),children:o.status.toUpperCase()})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm text-muted-foreground",children:[r.jsxs("div",{className:"flex items-center",children:[r.jsx(Os,{className:"h-3 w-3 mr-2 text-blue-500"}),r.jsx("span",{className:"font-medium",children:"Sales Person:"}),r.jsx("span",{className:"ml-1",children:o.salesPersonId})]}),r.jsxs("div",{className:"flex items-center",children:[r.jsx(jt,{className:"h-3 w-3 mr-2 text-green-500"}),r.jsx("span",{className:"font-medium",children:"Deal:"}),r.jsx("span",{className:"ml-1",children:o.dealId})]}),r.jsxs("div",{className:"flex items-center",children:[r.jsx(gr,{className:"h-3 w-3 mr-2 text-purple-500"}),r.jsx("span",{className:"font-medium",children:"Amount:"}),r.jsx("span",{className:"ml-1 font-bold text-primary",children:Le(o.amount)})]}),r.jsxs("div",{className:"flex items-center",children:[r.jsx(kn,{className:"h-3 w-3 mr-2 text-orange-500"}),r.jsx("span",{className:"font-medium",children:"Created:"}),r.jsx("span",{className:"ml-1",children:yt(o.createdAt)})]})]}),o.type===bl.PERCENTAGE&&r.jsx("div",{className:"mt-2 bg-green-50 p-2 rounded-md",children:r.jsxs("span",{className:"text-sm text-green-700",children:[r.jsx("span",{className:"font-medium",children:"Rate:"})," ",(o.rate*100).toFixed(2),"%"]})}),o.paidDate&&r.jsx("div",{className:"mt-2 bg-blue-50 p-2 rounded-md",children:r.jsxs("span",{className:"text-sm text-blue-700",children:[r.jsx("span",{className:"font-medium",children:"Paid Date:"})," ",yt(o.paidDate)]})}),o.notes&&r.jsx("div",{className:"mt-2 bg-muted/30 p-2 rounded-md",children:r.jsxs("p",{className:"text-sm text-muted-foreground",children:[r.jsx("span",{className:"font-medium",children:"Notes:"})," ",o.notes]})})]})}),r.jsxs("div",{className:"ri-action-buttons",children:[r.jsx(ae,{variant:"outline",size:"sm",className:"shadow-sm",children:"View"}),r.jsx(ae,{variant:"outline",size:"sm",className:"shadow-sm",children:"Edit"}),o.status===ei.PENDING&&r.jsx(ae,{variant:"outline",size:"sm",className:"shadow-sm",children:"Approve"})]})]},o.id))})})]})]})}function CU(){return r.jsxs(Ln,{children:[r.jsx(Et,{path:"/",element:r.jsx(L5,{})}),r.jsx(Et,{path:"/*",element:r.jsx(L5,{})})]})}const AU=[{id:"1",name:"John Smith",email:"john.smith@email.com",status:"active",lastLogin:new Date("2024-01-18"),vehicleCount:1,serviceTickets:2,invoices:3},{id:"2",name:"Sarah Johnson",email:"sarah.j@email.com",status:"active",lastLogin:new Date("2024-01-16"),vehicleCount:1,serviceTickets:0,invoices:1}];function T5(){const[e]=A.useState(AU),[t,n]=A.useState(""),s=i=>{switch(i){case"active":return"bg-green-50 text-green-700 border-green-200";case"inactive":return"bg-gray-50 text-gray-700 border-gray-200";case"suspended":return"bg-red-50 text-red-700 border-red-200";default:return"bg-gray-50 text-gray-700 border-gray-200"}},a=e.filter(i=>i.name.toLowerCase().includes(t.toLowerCase())||i.email.toLowerCase().includes(t.toLowerCase()));return r.jsxs("div",{className:"space-y-8",children:[r.jsx("div",{className:"ri-page-header",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"ri-page-title",children:"Client Portal"}),r.jsx("p",{className:"ri-page-description",children:"Manage customer portal access and self-service features"})]}),r.jsxs(ae,{className:"shadow-sm",children:[r.jsx(It,{className:"h-4 w-4 mr-2"}),"Add Portal User"]})]})}),r.jsxs("div",{className:"ri-stats-grid",children:[r.jsxs(me,{className:"shadow-sm border-0 bg-gradient-to-br from-blue-50 to-blue-100/50",children:[r.jsxs(be,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(je,{className:"text-sm font-medium text-blue-900",children:"Portal Users"}),r.jsx(Au,{className:"h-4 w-4 text-blue-600"})]}),r.jsxs(fe,{children:[r.jsx("div",{className:"text-2xl font-bold text-blue-900",children:e.length}),r.jsxs("p",{className:"text-xs text-blue-600 flex items-center mt-1",children:[r.jsx(jt,{className:"h-3 w-3 mr-1"}),"Total registered users"]})]})]}),r.jsxs(me,{className:"shadow-sm border-0 bg-gradient-to-br from-green-50 to-green-100/50",children:[r.jsxs(be,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(je,{className:"text-sm font-medium text-green-900",children:"Active Users"}),r.jsx(Au,{className:"h-4 w-4 text-green-600"})]}),r.jsxs(fe,{children:[r.jsx("div",{className:"text-2xl font-bold text-green-900",children:e.filter(i=>i.status==="active").length}),r.jsxs("p",{className:"text-xs text-green-600 flex items-center mt-1",children:[r.jsx(ki,{className:"h-3 w-3 mr-1"}),"Currently active"]})]})]}),r.jsxs(me,{className:"shadow-sm border-0 bg-gradient-to-br from-purple-50 to-purple-100/50",children:[r.jsxs(be,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(je,{className:"text-sm font-medium text-purple-900",children:"Monthly Logins"}),r.jsx(Au,{className:"h-4 w-4 text-purple-600"})]}),r.jsxs(fe,{children:[r.jsx("div",{className:"text-2xl font-bold text-purple-900",children:"247"}),r.jsxs("p",{className:"text-xs text-purple-600 flex items-center mt-1",children:[r.jsx(jt,{className:"h-3 w-3 mr-1"}),"+18% from last month"]})]})]}),r.jsxs(me,{className:"shadow-sm border-0 bg-gradient-to-br from-orange-50 to-orange-100/50",children:[r.jsxs(be,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(je,{className:"text-sm font-medium text-orange-900",children:"Support Tickets"}),r.jsx(Vn,{className:"h-4 w-4 text-orange-600"})]}),r.jsxs(fe,{children:[r.jsx("div",{className:"text-2xl font-bold text-orange-900",children:"12"}),r.jsxs("p",{className:"text-xs text-orange-600 flex items-center mt-1",children:[r.jsx(Vn,{className:"h-3 w-3 mr-1"}),"This month"]})]})]})]}),r.jsxs("div",{className:"ri-content-grid",children:[r.jsxs(me,{className:"shadow-sm",children:[r.jsxs(be,{children:[r.jsx(je,{className:"text-xl",children:"Portal Features"}),r.jsx(Ke,{children:"Available self-service features for customers"})]}),r.jsx(fe,{children:r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg hover:bg-accent/50 transition-colors",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx(Qo,{className:"h-8 w-8 text-blue-500 bg-blue-50 p-2 rounded-lg"}),r.jsxs("div",{children:[r.jsx("p",{className:"font-semibold",children:"Vehicle Information"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"View vehicle details and documentation"})]})]}),r.jsx(Re,{className:"bg-green-50 text-green-700 border-green-200",children:"Active"})]}),r.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg hover:bg-accent/50 transition-colors",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx(Vn,{className:"h-8 w-8 text-purple-500 bg-purple-50 p-2 rounded-lg"}),r.jsxs("div",{children:[r.jsx("p",{className:"font-semibold",children:"Service Requests"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Submit and track service tickets"})]})]}),r.jsx(Re,{className:"bg-green-50 text-green-700 border-green-200",children:"Active"})]}),r.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg hover:bg-accent/50 transition-colors",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx(mp,{className:"h-8 w-8 text-green-500 bg-green-50 p-2 rounded-lg"}),r.jsxs("div",{children:[r.jsx("p",{className:"font-semibold",children:"Account Management"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Update profile and preferences"})]})]}),r.jsx(Re,{className:"bg-green-50 text-green-700 border-green-200",children:"Active"})]}),r.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg hover:bg-accent/50 transition-colors",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx(Au,{className:"h-8 w-8 text-orange-500 bg-orange-50 p-2 rounded-lg"}),r.jsxs("div",{children:[r.jsx("p",{className:"font-semibold",children:"Document Library"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Access manuals and warranties"})]})]}),r.jsx(Re,{className:"bg-yellow-50 text-yellow-700 border-yellow-200",children:"Coming Soon"})]})]})})]}),r.jsxs(me,{className:"shadow-sm",children:[r.jsxs(be,{children:[r.jsx(je,{className:"text-xl",children:"Recent Activity"}),r.jsx(Ke,{children:"Latest portal user activities"})]}),r.jsx(fe,{children:r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-start space-x-3 p-3 bg-blue-50 rounded-lg",children:[r.jsx("div",{className:"flex-shrink-0",children:r.jsx("div",{className:"h-2 w-2 bg-blue-500 rounded-full mt-2"})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("p",{className:"text-sm font-medium text-blue-900",children:"John Smith logged in"}),r.jsx("p",{className:"text-xs text-blue-600 mt-1",children:"2 hours ago"})]})]}),r.jsxs("div",{className:"flex items-start space-x-3 p-3 bg-green-50 rounded-lg",children:[r.jsx("div",{className:"flex-shrink-0",children:r.jsx("div",{className:"h-2 w-2 bg-green-500 rounded-full mt-2"})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("p",{className:"text-sm font-medium text-green-900",children:"Sarah Johnson submitted service request"}),r.jsx("p",{className:"text-xs text-green-600 mt-1",children:"4 hours ago"})]})]}),r.jsxs("div",{className:"flex items-start space-x-3 p-3 bg-purple-50 rounded-lg",children:[r.jsx("div",{className:"flex-shrink-0",children:r.jsx("div",{className:"h-2 w-2 bg-purple-500 rounded-full mt-2"})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("p",{className:"text-sm font-medium text-purple-900",children:"Mike Davis updated profile"}),r.jsx("p",{className:"text-xs text-purple-600 mt-1",children:"1 day ago"})]})]})]})})]})]}),r.jsxs("div",{className:"flex gap-4",children:[r.jsxs("div",{className:"ri-search-bar",children:[r.jsx(ss,{className:"ri-search-icon"}),r.jsx(Be,{placeholder:"Search portal users...",value:t,onChange:i=>n(i.target.value),className:"ri-search-input shadow-sm"})]}),r.jsxs(ae,{variant:"outline",className:"shadow-sm",children:[r.jsx(zs,{className:"h-4 w-4 mr-2"}),"Filter"]})]}),r.jsxs(me,{className:"shadow-sm",children:[r.jsxs(be,{children:[r.jsx(je,{className:"text-xl",children:"Portal Users"}),r.jsx(Ke,{children:"Manage customer portal access and permissions"})]}),r.jsx(fe,{children:r.jsx("div",{className:"space-y-4",children:a.map(i=>r.jsxs("div",{className:"ri-table-row",children:[r.jsx("div",{className:"flex items-center space-x-4 flex-1",children:r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[r.jsx("h3",{className:"font-semibold text-foreground",children:i.name}),r.jsx(Re,{className:$e("ri-badge-status",s(i.status)),children:i.status.toUpperCase()})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm text-muted-foreground",children:[r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Email:"}),r.jsx("span",{className:"ml-1",children:i.email})]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Last Login:"}),r.jsx("span",{className:"ml-1",children:i.lastLogin.toLocaleDateString()})]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Vehicles:"}),r.jsx("span",{className:"ml-1",children:i.vehicleCount})]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Service Tickets:"}),r.jsx("span",{className:"ml-1",children:i.serviceTickets})]})]})]})}),r.jsxs("div",{className:"ri-action-buttons",children:[r.jsxs(ae,{variant:"outline",size:"sm",className:"shadow-sm",children:[r.jsx(cn,{className:"h-3 w-3 mr-1"}),"Manage"]}),r.jsxs(ae,{variant:"outline",size:"sm",className:"shadow-sm",children:[r.jsx(mp,{className:"h-3 w-3 mr-1"}),"Settings"]})]})]},i.id))})})]})]})}function EU(){return r.jsxs(Ln,{children:[r.jsx(Et,{path:"/",element:r.jsx(T5,{})}),r.jsx(Et,{path:"/*",element:r.jsx(T5,{})})]})}const IU=[{id:"1",customerId:"cust-1",number:"INV-2024-001",items:[{id:"1",description:"2024 Forest River Georgetown",quantity:1,unitPrice:125e3,total:125e3},{id:"2",description:"Extended Warranty",quantity:1,unitPrice:2500,total:2500}],subtotal:127500,tax:10200,total:137700,status:Js.PAID,dueDate:new Date("2024-02-15"),paidDate:new Date("2024-01-20"),paymentMethod:"Credit Card",notes:"Payment received via Zego",customFields:{},createdAt:new Date("2024-01-15"),updatedAt:new Date("2024-01-20")},{id:"2",customerId:"cust-2",number:"INV-2024-002",items:[{id:"3",description:"Service - AC Repair",quantity:1,unitPrice:620,total:620}],subtotal:620,tax:49.6,total:669.6,status:Js.SENT,dueDate:new Date("2024-02-20"),notes:"Service invoice for AC repair",customFields:{},createdAt:new Date("2024-01-12"),updatedAt:new Date("2024-01-18")}],PU=[{id:"1",invoiceId:"1",amount:137700,method:"CREDIT_CARD",status:"COMPLETED",transactionId:"txn_1234567890",processedDate:new Date("2024-01-20"),notes:"Processed via Zego payment gateway",customFields:{},createdAt:new Date("2024-01-20"),updatedAt:new Date("2024-01-20")}];function R5(){const[e]=A.useState(IU);A.useState(PU);const[t,n]=A.useState(""),s=i=>{switch(i){case Js.DRAFT:return"bg-gray-50 text-gray-700 border-gray-200";case Js.SENT:return"bg-blue-50 text-blue-700 border-blue-200";case Js.VIEWED:return"bg-yellow-50 text-yellow-700 border-yellow-200";case Js.PAID:return"bg-green-50 text-green-700 border-green-200";case Js.OVERDUE:return"bg-red-50 text-red-700 border-red-200";case Js.CANCELLED:return"bg-gray-50 text-gray-700 border-gray-200";default:return"bg-gray-50 text-gray-700 border-gray-200"}},a=e.filter(i=>i.number.toLowerCase().includes(t.toLowerCase())||i.customerId.toLowerCase().includes(t.toLowerCase()));return r.jsxs("div",{className:"space-y-8",children:[r.jsx("div",{className:"ri-page-header",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"ri-page-title",children:"Invoice & Payments"}),r.jsx("p",{className:"ri-page-description",children:"Manage invoices and process payments via Zego integration"})]}),r.jsxs(ae,{className:"shadow-sm",children:[r.jsx(It,{className:"h-4 w-4 mr-2"}),"New Invoice"]})]})}),r.jsxs("div",{className:"ri-stats-grid",children:[r.jsxs(me,{className:"shadow-sm border-0 bg-gradient-to-br from-blue-50 to-blue-100/50",children:[r.jsxs(be,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(je,{className:"text-sm font-medium text-blue-900",children:"Total Invoices"}),r.jsx(Rf,{className:"h-4 w-4 text-blue-600"})]}),r.jsxs(fe,{children:[r.jsx("div",{className:"text-2xl font-bold text-blue-900",children:e.length}),r.jsxs("p",{className:"text-xs text-blue-600 flex items-center mt-1",children:[r.jsx(jt,{className:"h-3 w-3 mr-1"}),"All invoices"]})]})]}),r.jsxs(me,{className:"shadow-sm border-0 bg-gradient-to-br from-orange-50 to-orange-100/50",children:[r.jsxs(be,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(je,{className:"text-sm font-medium text-orange-900",children:"Outstanding"}),r.jsx(Rf,{className:"h-4 w-4 text-orange-600"})]}),r.jsxs(fe,{children:[r.jsx("div",{className:"text-2xl font-bold text-orange-900",children:Le(e.filter(i=>i.status!==Js.PAID).reduce((i,o)=>i+o.total,0))}),r.jsxs("p",{className:"text-xs text-orange-600 flex items-center mt-1",children:[r.jsx(gr,{className:"h-3 w-3 mr-1"}),"Unpaid invoices"]})]})]}),r.jsxs(me,{className:"shadow-sm border-0 bg-gradient-to-br from-green-50 to-green-100/50",children:[r.jsxs(be,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(je,{className:"text-sm font-medium text-green-900",children:"Paid This Month"}),r.jsx(Rf,{className:"h-4 w-4 text-green-600"})]}),r.jsxs(fe,{children:[r.jsx("div",{className:"text-2xl font-bold text-green-900",children:Le(e.filter(i=>i.status===Js.PAID).reduce((i,o)=>i+o.total,0))}),r.jsxs("p",{className:"text-xs text-green-600 flex items-center mt-1",children:[r.jsx(jt,{className:"h-3 w-3 mr-1"}),"Revenue collected"]})]})]}),r.jsxs(me,{className:"shadow-sm border-0 bg-gradient-to-br from-purple-50 to-purple-100/50",children:[r.jsxs(be,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(je,{className:"text-sm font-medium text-purple-900",children:"Payment Success Rate"}),r.jsx(wj,{className:"h-4 w-4 text-purple-600"})]}),r.jsxs(fe,{children:[r.jsx("div",{className:"text-2xl font-bold text-purple-900",children:"98.5%"}),r.jsxs("p",{className:"text-xs text-purple-600 flex items-center mt-1",children:[r.jsx(jt,{className:"h-3 w-3 mr-1"}),"Excellent rate"]})]})]})]}),r.jsxs(me,{className:"shadow-sm border-0 bg-gradient-to-br from-blue-50 to-blue-100/50",children:[r.jsxs(be,{children:[r.jsxs(je,{className:"flex items-center space-x-2 text-blue-900",children:[r.jsx(wj,{className:"h-5 w-5 text-blue-600"}),r.jsx("span",{children:"Zego Payment Integration"})]}),r.jsx(Ke,{className:"text-blue-700",children:"Seamlessly process payments and send payment requests to customers"})]}),r.jsx(fe,{children:r.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[r.jsxs("div",{className:"text-center p-4 bg-white/50 rounded-lg",children:[r.jsx("div",{className:"text-2xl font-bold text-blue-600",children:"99.9%"}),r.jsx("p",{className:"text-sm text-blue-700",children:"Uptime"})]}),r.jsxs("div",{className:"text-center p-4 bg-white/50 rounded-lg",children:[r.jsx("div",{className:"text-2xl font-bold text-blue-600",children:"2.9%"}),r.jsx("p",{className:"text-sm text-blue-700",children:"Processing Fee"})]}),r.jsxs("div",{className:"text-center p-4 bg-white/50 rounded-lg",children:[r.jsx("div",{className:"text-2xl font-bold text-blue-600",children:"24/7"}),r.jsx("p",{className:"text-sm text-blue-700",children:"Support"})]})]})})]}),r.jsxs("div",{className:"flex gap-4",children:[r.jsxs("div",{className:"ri-search-bar",children:[r.jsx(ss,{className:"ri-search-icon"}),r.jsx(Be,{placeholder:"Search invoices...",value:t,onChange:i=>n(i.target.value),className:"ri-search-input shadow-sm"})]}),r.jsxs(ae,{variant:"outline",className:"shadow-sm",children:[r.jsx(zs,{className:"h-4 w-4 mr-2"}),"Filter"]})]}),r.jsxs(me,{className:"shadow-sm",children:[r.jsxs(be,{children:[r.jsx(je,{className:"text-xl",children:"Invoices"}),r.jsx(Ke,{children:"Manage invoices and track payments"})]}),r.jsx(fe,{children:r.jsx("div",{className:"space-y-4",children:a.map(i=>r.jsxs("div",{className:"ri-table-row",children:[r.jsx("div",{className:"flex items-center space-x-4 flex-1",children:r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[r.jsx("h3",{className:"font-semibold text-foreground",children:i.number}),r.jsx(Re,{className:$e("ri-badge-status",s(i.status)),children:i.status.toUpperCase()})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm text-muted-foreground",children:[r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Customer:"}),r.jsx("span",{className:"ml-1",children:i.customerId})]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Total:"}),r.jsx("span",{className:"ml-1 font-bold text-primary",children:Le(i.total)})]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Due Date:"}),r.jsx("span",{className:"ml-1",children:yt(i.dueDate)})]}),i.paidDate&&r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Paid Date:"}),r.jsx("span",{className:"ml-1",children:yt(i.paidDate)})]})]}),r.jsxs("div",{className:"mt-2 bg-muted/30 p-2 rounded-md",children:[r.jsxs("p",{className:"text-sm text-muted-foreground",children:[i.items.length," item(s) - ",i.notes]}),i.paymentMethod&&r.jsxs("p",{className:"text-sm text-muted-foreground",children:[r.jsx("span",{className:"font-medium",children:"Payment Method:"})," ",i.paymentMethod]})]})]})}),r.jsxs("div",{className:"ri-action-buttons",children:[r.jsxs(ae,{variant:"outline",size:"sm",className:"shadow-sm",children:[r.jsx(Qo,{className:"h-3 w-3 mr-1"}),"View"]}),r.jsxs(ae,{variant:"outline",size:"sm",className:"shadow-sm",children:[r.jsx(Ol,{className:"h-3 w-3 mr-1"}),"PDF"]}),i.status!==Js.PAID&&r.jsxs(ae,{variant:"outline",size:"sm",className:"shadow-sm",children:[r.jsx(Zc,{className:"h-3 w-3 mr-1"}),"Send Payment Request"]})]})]},i.id))})})]})]})}function kU(){return r.jsxs(Ln,{children:[r.jsx(Et,{path:"/",element:r.jsx(R5,{})}),r.jsx(Et,{path:"/*",element:r.jsx(R5,{})})]})}function F5(){const{tenant:e,customFields:t,updateTenantSettings:n,addCustomField:s,updateCustomField:a,deleteCustomField:i}=X4(),[o,l]=A.useState("general"),c=[{id:"general",name:"General",icon:O0},{id:"branding",name:"Branding",icon:_D},{id:"users",name:"Users",icon:cn},{id:"custom-fields",name:"Custom Fields",icon:mp}],d=async()=>{console.log("Saving settings...")},p=()=>r.jsxs("div",{className:"space-y-6",children:[r.jsxs(me,{className:"shadow-sm",children:[r.jsxs(be,{children:[r.jsx(je,{className:"text-xl",children:"Company Information"}),r.jsx(Ke,{children:"Basic information about your dealership"})]}),r.jsx(fe,{className:"space-y-4",children:r.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-foreground",children:"Company Name"}),r.jsx(Be,{defaultValue:e==null?void 0:e.name,className:"mt-1 shadow-sm"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-foreground",children:"Domain"}),r.jsx(Be,{defaultValue:e==null?void 0:e.domain,className:"mt-1 shadow-sm"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-foreground",children:"Timezone"}),r.jsx(Be,{defaultValue:e==null?void 0:e.settings.timezone,className:"mt-1 shadow-sm"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-foreground",children:"Currency"}),r.jsx(Be,{defaultValue:e==null?void 0:e.settings.currency,className:"mt-1 shadow-sm"})]})]})})]}),r.jsxs(me,{className:"shadow-sm",children:[r.jsxs(be,{children:[r.jsx(je,{className:"text-xl",children:"Business Hours"}),r.jsx(Ke,{children:"Set your dealership operating hours"})]}),r.jsx(fe,{children:r.jsx("div",{className:"space-y-4",children:(e==null?void 0:e.settings.businessHours)&&Object.entries(e.settings.businessHours).map(([g,b])=>r.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/30 rounded-lg",children:[r.jsx("div",{className:"w-24 capitalize font-medium",children:g}),r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx(Be,{type:"time",defaultValue:b.open,disabled:b.closed,className:"w-32 shadow-sm"}),r.jsx("span",{className:"text-muted-foreground",children:"to"}),r.jsx(Be,{type:"time",defaultValue:b.close,disabled:b.closed,className:"w-32 shadow-sm"}),r.jsxs("label",{className:"flex items-center space-x-2",children:[r.jsx("input",{type:"checkbox",defaultChecked:b.closed,className:"rounded"}),r.jsx("span",{className:"text-sm",children:"Closed"})]})]})]},g))})})]})]}),u=()=>r.jsxs(me,{className:"shadow-sm",children:[r.jsxs(be,{children:[r.jsx(je,{className:"text-xl",children:"Branding & Appearance"}),r.jsx(Ke,{children:"Customize your dealership's visual identity"})]}),r.jsx(fe,{className:"space-y-4",children:r.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-foreground",children:"Primary Color"}),r.jsxs("div",{className:"flex items-center space-x-2 mt-1",children:[r.jsx(Be,{type:"color",defaultValue:e==null?void 0:e.branding.primaryColor,className:"w-16 h-10 shadow-sm"}),r.jsx(Be,{defaultValue:e==null?void 0:e.branding.primaryColor,className:"shadow-sm"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-foreground",children:"Secondary Color"}),r.jsxs("div",{className:"flex items-center space-x-2 mt-1",children:[r.jsx(Be,{type:"color",defaultValue:e==null?void 0:e.branding.secondaryColor,className:"w-16 h-10 shadow-sm"}),r.jsx(Be,{defaultValue:e==null?void 0:e.branding.secondaryColor,className:"shadow-sm"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-foreground",children:"Font Family"}),r.jsx(Be,{defaultValue:e==null?void 0:e.branding.fontFamily,className:"mt-1 shadow-sm"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-foreground",children:"Logo URL"}),r.jsx(Be,{defaultValue:(e==null?void 0:e.branding.logo)||"",placeholder:"https://...",className:"mt-1 shadow-sm"})]})]})})]}),f=()=>r.jsxs(me,{className:"shadow-sm",children:[r.jsxs(be,{children:[r.jsx(je,{className:"text-xl",children:"User Management"}),r.jsx(Ke,{children:"Manage user accounts and permissions"})]}),r.jsxs(fe,{children:[r.jsxs("div",{className:"flex justify-between items-center mb-6",children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:"Manage users, roles, and permissions for your dealership"}),r.jsxs(ae,{className:"shadow-sm",children:[r.jsx(It,{className:"h-4 w-4 mr-2"}),"Add User"]})]}),r.jsx("div",{className:"space-y-4",children:r.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg hover:bg-accent/50 transition-colors",children:[r.jsxs("div",{children:[r.jsx("h4",{className:"font-semibold",children:"Admin User"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"admin@renterinsight.com"})]}),r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx(Re,{className:"bg-blue-50 text-blue-700 border-blue-200",children:"Admin"}),r.jsx(ae,{variant:"outline",size:"sm",className:"shadow-sm",children:r.jsx(ln,{className:"h-3 w-3"})})]})]})})]})]}),m=()=>r.jsxs(me,{className:"shadow-sm",children:[r.jsxs(be,{children:[r.jsx(je,{className:"text-xl",children:"Custom Fields"}),r.jsx(Ke,{children:"Add custom fields to capture additional information"})]}),r.jsxs(fe,{children:[r.jsxs("div",{className:"flex justify-between items-center mb-6",children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:"Create custom fields for leads, vehicles, and other entities"}),r.jsxs(ae,{className:"shadow-sm",children:[r.jsx(It,{className:"h-4 w-4 mr-2"}),"Add Custom Field"]})]}),r.jsxs("div",{className:"space-y-4",children:[t.map(g=>r.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg hover:bg-accent/50 transition-colors",children:[r.jsxs("div",{children:[r.jsx("h4",{className:"font-semibold",children:g.name}),r.jsxs("p",{className:"text-sm text-muted-foreground",children:[g.module," - ",g.section," - ",g.type,g.required&&r.jsx(Re,{className:"ml-2 bg-orange-50 text-orange-700 border-orange-200",variant:"secondary",children:"Required"})]})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(ae,{variant:"outline",size:"sm",className:"shadow-sm",children:r.jsx(ln,{className:"h-3 w-3"})}),r.jsx(ae,{variant:"outline",size:"sm",className:"shadow-sm",children:r.jsx(ys,{className:"h-3 w-3"})})]})]},g.id)),t.length===0&&r.jsx("div",{className:"text-center py-12 text-muted-foreground bg-muted/30 rounded-lg",children:"No custom fields configured yet"})]})]})]});return r.jsxs("div",{className:"space-y-8",children:[r.jsx("div",{className:"ri-page-header",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"ri-page-title",children:"Company Settings"}),r.jsx("p",{className:"ri-page-description",children:"Configure your dealership settings and preferences"})]}),r.jsxs(ae,{onClick:d,className:"shadow-sm",children:[r.jsx(da,{className:"h-4 w-4 mr-2"}),"Save Changes"]})]})}),r.jsx("div",{className:"border-b",children:r.jsx("nav",{className:"-mb-px flex space-x-8",children:c.map(g=>r.jsxs("button",{onClick:()=>l(g.id),className:$e("flex items-center space-x-2 py-3 px-1 border-b-2 font-medium text-sm transition-colors",o===g.id?"border-primary text-primary":"border-transparent text-muted-foreground hover:text-foreground hover:border-gray-300"),children:[r.jsx(g.icon,{className:"h-4 w-4"}),r.jsx("span",{children:g.name})]},g.id))})}),r.jsxs("div",{children:[o==="general"&&p(),o==="branding"&&u(),o==="users"&&f(),o==="custom-fields"&&m()]})]})}function DU(){return r.jsxs(Ln,{children:[r.jsx(Et,{path:"/",element:r.jsx(F5,{})}),r.jsx(Et,{path:"/*",element:r.jsx(F5,{})})]})}const LU=[{id:"1",name:"Demo RV Dealership",domain:"demo.renterinsight.com",status:"active",users:5,createdAt:new Date("2024-01-01"),lastActivity:new Date("2024-01-20")},{id:"2",name:"Sunshine RV Center",domain:"sunshine.renterinsight.com",status:"active",users:12,createdAt:new Date("2023-12-15"),lastActivity:new Date("2024-01-19")}],kc={totalTenants:2,activeTenants:2,totalUsers:17,systemUptime:"99.9%",avgResponseTime:"120ms",errorRate:"0.1%"};function _5(){const{hasRole:e}=Lp(),[t]=A.useState(LU),[n,s]=A.useState("");if(!e(Bu.ADMIN))return r.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:r.jsx(me,{className:"w-full max-w-md shadow-sm",children:r.jsxs(be,{className:"text-center",children:[r.jsx(ai,{className:"h-12 w-12 text-orange-500 mx-auto mb-4"}),r.jsx(je,{children:"Access Denied"}),r.jsx(Ke,{children:"You don't have permission to access the Platform Admin area."})]})})});const a=o=>{switch(o){case"active":return"bg-green-50 text-green-700 border-green-200";case"inactive":return"bg-gray-50 text-gray-700 border-gray-200";case"suspended":return"bg-red-50 text-red-700 border-red-200";default:return"bg-gray-50 text-gray-700 border-gray-200"}},i=t.filter(o=>o.name.toLowerCase().includes(n.toLowerCase())||o.domain.toLowerCase().includes(n.toLowerCase()));return r.jsxs("div",{className:"space-y-8",children:[r.jsx("div",{className:"ri-page-header",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"ri-page-title",children:"Platform Admin"}),r.jsx("p",{className:"ri-page-description",children:"System administration and tenant management"})]}),r.jsxs(ae,{className:"shadow-sm",children:[r.jsx(It,{className:"h-4 w-4 mr-2"}),"Add Tenant"]})]})}),r.jsxs("div",{className:"grid gap-4 md:grid-cols-3 lg:grid-cols-6",children:[r.jsxs(me,{className:"shadow-sm border-0 bg-gradient-to-br from-blue-50 to-blue-100/50",children:[r.jsxs(be,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(je,{className:"text-sm font-medium text-blue-900",children:"Total Tenants"}),r.jsx(O0,{className:"h-4 w-4 text-blue-600"})]}),r.jsxs(fe,{children:[r.jsx("div",{className:"text-2xl font-bold text-blue-900",children:kc.totalTenants}),r.jsxs("p",{className:"text-xs text-blue-600 flex items-center mt-1",children:[r.jsx(jt,{className:"h-3 w-3 mr-1"}),"All tenants"]})]})]}),r.jsxs(me,{className:"shadow-sm border-0 bg-gradient-to-br from-green-50 to-green-100/50",children:[r.jsxs(be,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(je,{className:"text-sm font-medium text-green-900",children:"Active Tenants"}),r.jsx(O0,{className:"h-4 w-4 text-green-600"})]}),r.jsxs(fe,{children:[r.jsx("div",{className:"text-2xl font-bold text-green-900",children:kc.activeTenants}),r.jsxs("p",{className:"text-xs text-green-600 flex items-center mt-1",children:[r.jsx(ki,{className:"h-3 w-3 mr-1"}),"Currently active"]})]})]}),r.jsxs(me,{className:"shadow-sm border-0 bg-gradient-to-br from-purple-50 to-purple-100/50",children:[r.jsxs(be,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(je,{className:"text-sm font-medium text-purple-900",children:"Total Users"}),r.jsx(cn,{className:"h-4 w-4 text-purple-600"})]}),r.jsxs(fe,{children:[r.jsx("div",{className:"text-2xl font-bold text-purple-900",children:kc.totalUsers}),r.jsxs("p",{className:"text-xs text-purple-600 flex items-center mt-1",children:[r.jsx(cn,{className:"h-3 w-3 mr-1"}),"All users"]})]})]}),r.jsxs(me,{className:"shadow-sm border-0 bg-gradient-to-br from-green-50 to-green-100/50",children:[r.jsxs(be,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(je,{className:"text-sm font-medium text-green-900",children:"System Uptime"}),r.jsx(ki,{className:"h-4 w-4 text-green-600"})]}),r.jsxs(fe,{children:[r.jsx("div",{className:"text-2xl font-bold text-green-900",children:kc.systemUptime}),r.jsxs("p",{className:"text-xs text-green-600 flex items-center mt-1",children:[r.jsx(ki,{className:"h-3 w-3 mr-1"}),"Excellent"]})]})]}),r.jsxs(me,{className:"shadow-sm border-0 bg-gradient-to-br from-blue-50 to-blue-100/50",children:[r.jsxs(be,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(je,{className:"text-sm font-medium text-blue-900",children:"Avg Response"}),r.jsx(ki,{className:"h-4 w-4 text-blue-600"})]}),r.jsxs(fe,{children:[r.jsx("div",{className:"text-2xl font-bold text-blue-900",children:kc.avgResponseTime}),r.jsxs("p",{className:"text-xs text-blue-600 flex items-center mt-1",children:[r.jsx(jt,{className:"h-3 w-3 mr-1"}),"Fast response"]})]})]}),r.jsxs(me,{className:"shadow-sm border-0 bg-gradient-to-br from-green-50 to-green-100/50",children:[r.jsxs(be,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(je,{className:"text-sm font-medium text-green-900",children:"Error Rate"}),r.jsx(ki,{className:"h-4 w-4 text-green-600"})]}),r.jsxs(fe,{children:[r.jsx("div",{className:"text-2xl font-bold text-green-900",children:kc.errorRate}),r.jsxs("p",{className:"text-xs text-green-600 flex items-center mt-1",children:[r.jsx(ki,{className:"h-3 w-3 mr-1"}),"Very low"]})]})]})]}),r.jsxs(me,{className:"shadow-sm",children:[r.jsxs(be,{children:[r.jsx(je,{className:"text-xl",children:"System Health"}),r.jsx(Ke,{children:"Real-time system status and health metrics"})]}),r.jsx(fe,{children:r.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[r.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-green-50 rounded-lg",children:[r.jsx("div",{className:"h-3 w-3 bg-green-500 rounded-full"}),r.jsx("span",{className:"text-sm font-medium text-green-900",children:"Database: Healthy"})]}),r.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-green-50 rounded-lg",children:[r.jsx("div",{className:"h-3 w-3 bg-green-500 rounded-full"}),r.jsx("span",{className:"text-sm font-medium text-green-900",children:"API Services: Operational"})]}),r.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-green-50 rounded-lg",children:[r.jsx("div",{className:"h-3 w-3 bg-green-500 rounded-full"}),r.jsx("span",{className:"text-sm font-medium text-green-900",children:"Payment Gateway: Connected"})]}),r.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-green-50 rounded-lg",children:[r.jsx("div",{className:"h-3 w-3 bg-green-500 rounded-full"}),r.jsx("span",{className:"text-sm font-medium text-green-900",children:"Email Service: Active"})]}),r.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-green-50 rounded-lg",children:[r.jsx("div",{className:"h-3 w-3 bg-green-500 rounded-full"}),r.jsx("span",{className:"text-sm font-medium text-green-900",children:"File Storage: Available"})]}),r.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-green-50 rounded-lg",children:[r.jsx("div",{className:"h-3 w-3 bg-green-500 rounded-full"}),r.jsx("span",{className:"text-sm font-medium text-green-900",children:"Backup System: Running"})]})]})})]}),r.jsxs("div",{className:"flex gap-4",children:[r.jsxs("div",{className:"ri-search-bar",children:[r.jsx(ss,{className:"ri-search-icon"}),r.jsx(Be,{placeholder:"Search tenants...",value:n,onChange:o=>s(o.target.value),className:"ri-search-input shadow-sm"})]}),r.jsxs(ae,{variant:"outline",className:"shadow-sm",children:[r.jsx(zs,{className:"h-4 w-4 mr-2"}),"Filter"]})]}),r.jsxs(me,{className:"shadow-sm",children:[r.jsxs(be,{children:[r.jsx(je,{className:"text-xl",children:"Tenant Management"}),r.jsx(Ke,{children:"Manage dealership tenants and their configurations"})]}),r.jsx(fe,{children:r.jsx("div",{className:"space-y-4",children:i.map(o=>r.jsxs("div",{className:"ri-table-row",children:[r.jsx("div",{className:"flex items-center space-x-4 flex-1",children:r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[r.jsx("h3",{className:"font-semibold text-foreground",children:o.name}),r.jsx(Re,{className:$e("ri-badge-status",a(o.status)),children:o.status.toUpperCase()})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm text-muted-foreground",children:[r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Domain:"}),r.jsx("span",{className:"ml-1",children:o.domain})]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Users:"}),r.jsx("span",{className:"ml-1",children:o.users})]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Created:"}),r.jsx("span",{className:"ml-1",children:o.createdAt.toLocaleDateString()})]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Last Activity:"}),r.jsx("span",{className:"ml-1",children:o.lastActivity.toLocaleDateString()})]})]})]})}),r.jsxs("div",{className:"ri-action-buttons",children:[r.jsxs(ae,{variant:"outline",size:"sm",className:"shadow-sm",children:[r.jsx(_4,{className:"h-3 w-3 mr-1"}),"Manage"]}),r.jsxs(ae,{variant:"outline",size:"sm",className:"shadow-sm",children:[r.jsx(ki,{className:"h-3 w-3 mr-1"}),"Monitor"]})]})]},o.id))})})]})]})}function TU(){return r.jsxs(Ln,{children:[r.jsx(Et,{path:"/",element:r.jsx(_5,{})}),r.jsx(Et,{path:"/*",element:r.jsx(_5,{})})]})}const RU=[{id:"1",name:"Monthly Sales Report",type:Is.SALES,module:"sales",filters:[],columns:[],data:[],generatedAt:new Date("2024-01-20"),generatedBy:"admin"},{id:"2",name:"Inventory Valuation",type:Is.INVENTORY,module:"inventory",filters:[],columns:[],data:[],generatedAt:new Date("2024-01-19"),generatedBy:"manager"},{id:"3",name:"Service Revenue Analysis",type:Is.SERVICE,module:"service",filters:[],columns:[],data:[],generatedAt:new Date("2024-01-18"),generatedBy:"admin"}],O5=[{id:"sales-summary",name:"Sales Summary",description:"Overview of sales performance and metrics",type:Is.SALES,icon:gr,color:"from-green-50 to-green-100/50"},{id:"inventory-report",name:"Inventory Report",description:"Current inventory levels and valuation",type:Is.INVENTORY,icon:Hn,color:"from-blue-50 to-blue-100/50"},{id:"customer-analysis",name:"Customer Analysis",description:"Customer demographics and behavior insights",type:Is.CUSTOM,icon:cn,color:"from-purple-50 to-purple-100/50"},{id:"financial-overview",name:"Financial Overview",description:"Revenue, expenses, and profitability analysis",type:Is.FINANCIAL,icon:jt,color:"from-orange-50 to-orange-100/50"}];function M5(){const[e]=A.useState(RU),[t,n]=A.useState(""),s=i=>{switch(i){case Is.SALES:return"bg-green-50 text-green-700 border-green-200";case Is.INVENTORY:return"bg-blue-50 text-blue-700 border-blue-200";case Is.SERVICE:return"bg-purple-50 text-purple-700 border-purple-200";case Is.FINANCIAL:return"bg-orange-50 text-orange-700 border-orange-200";case Is.CUSTOM:return"bg-gray-50 text-gray-700 border-gray-200";default:return"bg-gray-50 text-gray-700 border-gray-200"}},a=e.filter(i=>i.name.toLowerCase().includes(t.toLowerCase())||i.type.toLowerCase().includes(t.toLowerCase()));return r.jsxs("div",{className:"space-y-8",children:[r.jsx("div",{className:"ri-page-header",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"ri-page-title",children:"Reporting Suite"}),r.jsx("p",{className:"ri-page-description",children:"Generate insights and analytics for your dealership"})]}),r.jsxs(ae,{className:"shadow-sm",children:[r.jsx(It,{className:"h-4 w-4 mr-2"}),"Create Report"]})]})}),r.jsxs("div",{className:"ri-stats-grid",children:[r.jsxs(me,{className:"shadow-sm border-0 bg-gradient-to-br from-blue-50 to-blue-100/50",children:[r.jsxs(be,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(je,{className:"text-sm font-medium text-blue-900",children:"Total Reports"}),r.jsx(ka,{className:"h-4 w-4 text-blue-600"})]}),r.jsxs(fe,{children:[r.jsx("div",{className:"text-2xl font-bold text-blue-900",children:e.length}),r.jsxs("p",{className:"text-xs text-blue-600 flex items-center mt-1",children:[r.jsx(jt,{className:"h-3 w-3 mr-1"}),"All reports"]})]})]}),r.jsxs(me,{className:"shadow-sm border-0 bg-gradient-to-br from-green-50 to-green-100/50",children:[r.jsxs(be,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(je,{className:"text-sm font-medium text-green-900",children:"This Month"}),r.jsx(ka,{className:"h-4 w-4 text-green-600"})]}),r.jsxs(fe,{children:[r.jsx("div",{className:"text-2xl font-bold text-green-900",children:e.filter(i=>i.generatedAt.getMonth()===new Date().getMonth()).length}),r.jsxs("p",{className:"text-xs text-green-600 flex items-center mt-1",children:[r.jsx(jt,{className:"h-3 w-3 mr-1"}),"Generated this month"]})]})]}),r.jsxs(me,{className:"shadow-sm border-0 bg-gradient-to-br from-purple-50 to-purple-100/50",children:[r.jsxs(be,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(je,{className:"text-sm font-medium text-purple-900",children:"Scheduled"}),r.jsx(ka,{className:"h-4 w-4 text-purple-600"})]}),r.jsxs(fe,{children:[r.jsx("div",{className:"text-2xl font-bold text-purple-900",children:"5"}),r.jsxs("p",{className:"text-xs text-purple-600 flex items-center mt-1",children:[r.jsx(ka,{className:"h-3 w-3 mr-1"}),"Automated reports"]})]})]}),r.jsxs(me,{className:"shadow-sm border-0 bg-gradient-to-br from-orange-50 to-orange-100/50",children:[r.jsxs(be,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(je,{className:"text-sm font-medium text-orange-900",children:"Templates"}),r.jsx(ka,{className:"h-4 w-4 text-orange-600"})]}),r.jsxs(fe,{children:[r.jsx("div",{className:"text-2xl font-bold text-orange-900",children:O5.length}),r.jsxs("p",{className:"text-xs text-orange-600 flex items-center mt-1",children:[r.jsx(ka,{className:"h-3 w-3 mr-1"}),"Available templates"]})]})]})]}),r.jsxs(me,{className:"shadow-sm",children:[r.jsxs(be,{children:[r.jsx(je,{className:"text-xl",children:"Report Templates"}),r.jsx(Ke,{children:"Quick start templates for common reports"})]}),r.jsx(fe,{children:r.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:O5.map(i=>r.jsx(me,{className:$e("overflow-hidden shadow-sm hover:shadow-md transition-shadow cursor-pointer border-0 bg-gradient-to-br",i.color),children:r.jsxs(fe,{className:"p-6",children:[r.jsxs("div",{className:"flex items-center space-x-3 mb-3",children:[r.jsx(i.icon,{className:"h-8 w-8 text-primary"}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-semibold text-foreground",children:i.name}),r.jsx(Re,{className:$e("ri-badge-status mt-1",s(i.type)),children:i.type.toUpperCase()})]})]}),r.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:i.description}),r.jsx(ae,{size:"sm",className:"w-full shadow-sm",children:"Generate Report"})]})},i.id))})})]}),r.jsxs("div",{className:"flex gap-4",children:[r.jsxs("div",{className:"ri-search-bar",children:[r.jsx(ss,{className:"ri-search-icon"}),r.jsx(Be,{placeholder:"Search reports...",value:t,onChange:i=>n(i.target.value),className:"ri-search-input shadow-sm"})]}),r.jsxs(ae,{variant:"outline",className:"shadow-sm",children:[r.jsx(zs,{className:"h-4 w-4 mr-2"}),"Filter"]})]}),r.jsxs(me,{className:"shadow-sm",children:[r.jsxs(be,{children:[r.jsx(je,{className:"text-xl",children:"Generated Reports"}),r.jsx(Ke,{children:"View and manage your generated reports"})]}),r.jsx(fe,{children:r.jsx("div",{className:"space-y-4",children:a.map(i=>r.jsxs("div",{className:"ri-table-row",children:[r.jsx("div",{className:"flex items-center space-x-4 flex-1",children:r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[r.jsx("h3",{className:"font-semibold text-foreground",children:i.name}),r.jsx(Re,{className:$e("ri-badge-status",s(i.type)),children:i.type.toUpperCase()})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm text-muted-foreground",children:[r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Module:"}),r.jsx("span",{className:"ml-1",children:i.module})]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Generated By:"}),r.jsx("span",{className:"ml-1",children:i.generatedBy})]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Generated:"}),r.jsx("span",{className:"ml-1",children:yt(i.generatedAt)})]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Records:"}),r.jsx("span",{className:"ml-1",children:i.data.length})]})]})]})}),r.jsxs("div",{className:"ri-action-buttons",children:[r.jsxs(ae,{variant:"outline",size:"sm",className:"shadow-sm",children:[r.jsx(Qo,{className:"h-3 w-3 mr-1"}),"View"]}),r.jsxs(ae,{variant:"outline",size:"sm",className:"shadow-sm",children:[r.jsx(Ol,{className:"h-3 w-3 mr-1"}),"Export"]})]})]},i.id))})})]})]})}function FU(){return r.jsxs(Ln,{children:[r.jsx(Et,{path:"/",element:r.jsx(M5,{})}),r.jsx(Et,{path:"/*",element:r.jsx(M5,{})})]})}function _U(){return r.jsx(LL,{defaultTheme:"light",storageKey:"renter-insight-theme",children:r.jsx(IL,{children:r.jsx(kk,{children:r.jsx(PL,{children:r.jsxs("div",{className:"min-h-screen bg-background",children:[r.jsxs(Ln,{children:[r.jsx(Et,{path:"/login",element:r.jsx(s8,{})}),r.jsx(Et,{path:"/*",element:r.jsx(a8,{children:r.jsx(OL,{children:r.jsxs(Ln,{children:[r.jsx(Et,{path:"/",element:r.jsx(n8,{})}),r.jsx(Et,{path:"/crm/*",element:r.jsx(eF,{})}),r.jsx(Et,{path:"/inventory/*",element:r.jsx(s_,{})}),r.jsx(Et,{path:"/deals/*",element:r.jsx(r$,{})}),r.jsx(Et,{path:"/finance/*",element:r.jsx(d_,{})}),r.jsx(Et,{path:"/quotes/*",element:r.jsx(o_,{})}),r.jsx(Et,{path:"/agreements/*",element:r.jsx(s$,{})}),r.jsx(Et,{path:"/service/*",element:r.jsx(mU,{})}),r.jsx(Et,{path:"/pdi/*",element:r.jsx(NU,{})}),r.jsx(Et,{path:"/delivery/*",element:r.jsx(hU,{})}),r.jsx(Et,{path:"/commissions/*",element:r.jsx(CU,{})}),r.jsx(Et,{path:"/portal/*",element:r.jsx(EU,{})}),r.jsx(Et,{path:"/invoices/*",element:r.jsx(kU,{})}),r.jsx(Et,{path:"/settings/*",element:r.jsx(DU,{})}),r.jsx(Et,{path:"/admin/*",element:r.jsx(TU,{})}),r.jsx(Et,{path:"/reports/*",element:r.jsx(FU,{})})]})})})})]}),r.jsx(EL,{})]})})})})})}Fv.createRoot(document.getElementById("root")).render(r.jsx(_U,{}));export{f_ as _,bf as c,Cp as g};
