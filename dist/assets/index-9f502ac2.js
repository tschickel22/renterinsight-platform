function o6(e,r){for(var n=0;n<r.length;n++){const s=r[n];if(typeof s!="string"&&!Array.isArray(s)){for(const a in s)if(a!=="default"&&!(a in e)){const i=Object.getOwnPropertyDescriptor(s,a);i&&Object.defineProperty(e,a,i.get?i:{enumerable:!0,get:()=>s[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function n(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(a){if(a.ep)return;a.ep=!0;const i=n(a);fetch(a.href,i)}})();var wh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Pm(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function l6(e){if(e.__esModule)return e;var r=e.default;if(typeof r=="function"){var n=function s(){return this instanceof s?Reflect.construct(r,arguments,this.constructor):r.apply(this,arguments)};n.prototype=r.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(s){var a=Object.getOwnPropertyDescriptor(e,s);Object.defineProperty(n,s,a.get?a:{enumerable:!0,get:function(){return e[s]}})}),n}var z5={exports:{}},Bf={},$5={exports:{}},zt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dm=Symbol.for("react.element"),c6=Symbol.for("react.portal"),d6=Symbol.for("react.fragment"),u6=Symbol.for("react.strict_mode"),m6=Symbol.for("react.profiler"),p6=Symbol.for("react.provider"),h6=Symbol.for("react.context"),f6=Symbol.for("react.forward_ref"),x6=Symbol.for("react.suspense"),g6=Symbol.for("react.memo"),v6=Symbol.for("react.lazy"),tb=Symbol.iterator;function y6(e){return e===null||typeof e!="object"?null:(e=tb&&e[tb]||e["@@iterator"],typeof e=="function"?e:null)}var U5={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},V5=Object.assign,W5={};function jd(e,r,n){this.props=e,this.context=r,this.refs=W5,this.updater=n||U5}jd.prototype.isReactComponent={};jd.prototype.setState=function(e,r){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,r,"setState")};jd.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function q5(){}q5.prototype=jd.prototype;function N1(e,r,n){this.props=e,this.context=r,this.refs=W5,this.updater=n||U5}var S1=N1.prototype=new q5;S1.constructor=N1;V5(S1,jd.prototype);S1.isPureReactComponent=!0;var rb=Array.isArray,H5=Object.prototype.hasOwnProperty,C1={current:null},G5={key:!0,ref:!0,__self:!0,__source:!0};function Q5(e,r,n){var s,a={},i=null,o=null;if(r!=null)for(s in r.ref!==void 0&&(o=r.ref),r.key!==void 0&&(i=""+r.key),r)H5.call(r,s)&&!G5.hasOwnProperty(s)&&(a[s]=r[s]);var l=arguments.length-2;if(l===1)a.children=n;else if(1<l){for(var c=Array(l),d=0;d<l;d++)c[d]=arguments[d+2];a.children=c}if(e&&e.defaultProps)for(s in l=e.defaultProps,l)a[s]===void 0&&(a[s]=l[s]);return{$$typeof:Dm,type:e,key:i,ref:o,props:a,_owner:C1.current}}function b6(e,r){return{$$typeof:Dm,type:e.type,key:r,ref:e.ref,props:e.props,_owner:e._owner}}function A1(e){return typeof e=="object"&&e!==null&&e.$$typeof===Dm}function j6(e){var r={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return r[n]})}var nb=/\/+/g;function Ig(e,r){return typeof e=="object"&&e!==null&&e.key!=null?j6(""+e.key):r.toString(36)}function Nh(e,r,n,s,a){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Dm:case c6:o=!0}}if(o)return o=e,a=a(o),e=s===""?"."+Ig(o,0):s,rb(a)?(n="",e!=null&&(n=e.replace(nb,"$&/")+"/"),Nh(a,r,n,"",function(d){return d})):a!=null&&(A1(a)&&(a=b6(a,n+(!a.key||o&&o.key===a.key?"":(""+a.key).replace(nb,"$&/")+"/")+e)),r.push(a)),1;if(o=0,s=s===""?".":s+":",rb(e))for(var l=0;l<e.length;l++){i=e[l];var c=s+Ig(i,l);o+=Nh(i,r,n,c,a)}else if(c=y6(e),typeof c=="function")for(e=c.call(e),l=0;!(i=e.next()).done;)i=i.value,c=s+Ig(i,l++),o+=Nh(i,r,n,c,a);else if(i==="object")throw r=String(e),Error("Objects are not valid as a React child (found: "+(r==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":r)+"). If you meant to render a collection of children, use an array instead.");return o}function zp(e,r,n){if(e==null)return e;var s=[],a=0;return Nh(e,s,"","",function(i){return r.call(n,i,a++)}),s}function w6(e){if(e._status===-1){var r=e._result;r=r(),r.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=r)}if(e._status===1)return e._result.default;throw e._result}var ss={current:null},Sh={transition:null},N6={ReactCurrentDispatcher:ss,ReactCurrentBatchConfig:Sh,ReactCurrentOwner:C1};function Y5(){throw Error("act(...) is not supported in production builds of React.")}zt.Children={map:zp,forEach:function(e,r,n){zp(e,function(){r.apply(this,arguments)},n)},count:function(e){var r=0;return zp(e,function(){r++}),r},toArray:function(e){return zp(e,function(r){return r})||[]},only:function(e){if(!A1(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};zt.Component=jd;zt.Fragment=d6;zt.Profiler=m6;zt.PureComponent=N1;zt.StrictMode=u6;zt.Suspense=x6;zt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=N6;zt.act=Y5;zt.cloneElement=function(e,r,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var s=V5({},e.props),a=e.key,i=e.ref,o=e._owner;if(r!=null){if(r.ref!==void 0&&(i=r.ref,o=C1.current),r.key!==void 0&&(a=""+r.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in r)H5.call(r,c)&&!G5.hasOwnProperty(c)&&(s[c]=r[c]===void 0&&l!==void 0?l[c]:r[c])}var c=arguments.length-2;if(c===1)s.children=n;else if(1<c){l=Array(c);for(var d=0;d<c;d++)l[d]=arguments[d+2];s.children=l}return{$$typeof:Dm,type:e.type,key:a,ref:i,props:s,_owner:o}};zt.createContext=function(e){return e={$$typeof:h6,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:p6,_context:e},e.Consumer=e};zt.createElement=Q5;zt.createFactory=function(e){var r=Q5.bind(null,e);return r.type=e,r};zt.createRef=function(){return{current:null}};zt.forwardRef=function(e){return{$$typeof:f6,render:e}};zt.isValidElement=A1;zt.lazy=function(e){return{$$typeof:v6,_payload:{_status:-1,_result:e},_init:w6}};zt.memo=function(e,r){return{$$typeof:g6,type:e,compare:r===void 0?null:r}};zt.startTransition=function(e){var r=Sh.transition;Sh.transition={};try{e()}finally{Sh.transition=r}};zt.unstable_act=Y5;zt.useCallback=function(e,r){return ss.current.useCallback(e,r)};zt.useContext=function(e){return ss.current.useContext(e)};zt.useDebugValue=function(){};zt.useDeferredValue=function(e){return ss.current.useDeferredValue(e)};zt.useEffect=function(e,r){return ss.current.useEffect(e,r)};zt.useId=function(){return ss.current.useId()};zt.useImperativeHandle=function(e,r,n){return ss.current.useImperativeHandle(e,r,n)};zt.useInsertionEffect=function(e,r){return ss.current.useInsertionEffect(e,r)};zt.useLayoutEffect=function(e,r){return ss.current.useLayoutEffect(e,r)};zt.useMemo=function(e,r){return ss.current.useMemo(e,r)};zt.useReducer=function(e,r,n){return ss.current.useReducer(e,r,n)};zt.useRef=function(e){return ss.current.useRef(e)};zt.useState=function(e){return ss.current.useState(e)};zt.useSyncExternalStore=function(e,r,n){return ss.current.useSyncExternalStore(e,r,n)};zt.useTransition=function(){return ss.current.useTransition()};zt.version="18.3.1";$5.exports=zt;var A=$5.exports;const Dt=Pm(A),zf=o6({__proto__:null,default:Dt},[A]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var S6=A,C6=Symbol.for("react.element"),A6=Symbol.for("react.fragment"),E6=Object.prototype.hasOwnProperty,I6=S6.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,P6={key:!0,ref:!0,__self:!0,__source:!0};function K5(e,r,n){var s,a={},i=null,o=null;n!==void 0&&(i=""+n),r.key!==void 0&&(i=""+r.key),r.ref!==void 0&&(o=r.ref);for(s in r)E6.call(r,s)&&!P6.hasOwnProperty(s)&&(a[s]=r[s]);if(e&&e.defaultProps)for(s in r=e.defaultProps,r)a[s]===void 0&&(a[s]=r[s]);return{$$typeof:C6,type:e,key:i,ref:o,props:a,_owner:I6.current}}Bf.Fragment=A6;Bf.jsx=K5;Bf.jsxs=K5;z5.exports=Bf;var t=z5.exports,$v={},J5={exports:{}},Us={},X5={exports:{}},Z5={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function r(B,U){var H=B.length;B.push(U);e:for(;0<H;){var q=H-1>>>1,R=B[q];if(0<a(R,U))B[q]=U,B[H]=R,H=q;else break e}}function n(B){return B.length===0?null:B[0]}function s(B){if(B.length===0)return null;var U=B[0],H=B.pop();if(H!==U){B[0]=H;e:for(var q=0,R=B.length,$=R>>>1;q<$;){var G=2*(q+1)-1,X=B[G],Z=G+1,le=B[Z];if(0>a(X,H))Z<R&&0>a(le,X)?(B[q]=le,B[Z]=H,q=Z):(B[q]=X,B[G]=H,q=G);else if(Z<R&&0>a(le,H))B[q]=le,B[Z]=H,q=Z;else break e}}return U}function a(B,U){var H=B.sortIndex-U.sortIndex;return H!==0?H:B.id-U.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],d=[],m=1,u=null,h=3,p=!1,g=!1,b=!1,j=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function y(B){for(var U=n(d);U!==null;){if(U.callback===null)s(d);else if(U.startTime<=B)s(d),U.sortIndex=U.expirationTime,r(c,U);else break;U=n(d)}}function E(B){if(b=!1,y(B),!g)if(n(c)!==null)g=!0,V(O);else{var U=n(d);U!==null&&_(E,U.startTime-B)}}function O(B,U){g=!1,b&&(b=!1,x(S),S=-1),p=!0;var H=h;try{for(y(U),u=n(c);u!==null&&(!(u.expirationTime>U)||B&&!C());){var q=u.callback;if(typeof q=="function"){u.callback=null,h=u.priorityLevel;var R=q(u.expirationTime<=U);U=e.unstable_now(),typeof R=="function"?u.callback=R:u===n(c)&&s(c),y(U)}else s(c);u=n(c)}if(u!==null)var $=!0;else{var G=n(d);G!==null&&_(E,G.startTime-U),$=!1}return $}finally{u=null,h=H,p=!1}}var M=!1,P=null,S=-1,I=5,k=-1;function C(){return!(e.unstable_now()-k<I)}function w(){if(P!==null){var B=e.unstable_now();k=B;var U=!0;try{U=P(!0,B)}finally{U?L():(M=!1,P=null)}}else M=!1}var L;if(typeof v=="function")L=function(){v(w)};else if(typeof MessageChannel<"u"){var T=new MessageChannel,W=T.port2;T.port1.onmessage=w,L=function(){W.postMessage(null)}}else L=function(){j(w,0)};function V(B){P=B,M||(M=!0,L())}function _(B,U){S=j(function(){B(e.unstable_now())},U)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(B){B.callback=null},e.unstable_continueExecution=function(){g||p||(g=!0,V(O))},e.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<B?Math.floor(1e3/B):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(B){switch(h){case 1:case 2:case 3:var U=3;break;default:U=h}var H=h;h=U;try{return B()}finally{h=H}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(B,U){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var H=h;h=B;try{return U()}finally{h=H}},e.unstable_scheduleCallback=function(B,U,H){var q=e.unstable_now();switch(typeof H=="object"&&H!==null?(H=H.delay,H=typeof H=="number"&&0<H?q+H:q):H=q,B){case 1:var R=-1;break;case 2:R=250;break;case 5:R=1073741823;break;case 4:R=1e4;break;default:R=5e3}return R=H+R,B={id:m++,callback:U,priorityLevel:B,startTime:H,expirationTime:R,sortIndex:-1},H>q?(B.sortIndex=H,r(d,B),n(c)===null&&B===n(d)&&(b?(x(S),S=-1):b=!0,_(E,H-q))):(B.sortIndex=R,r(c,B),g||p||(g=!0,V(O))),B},e.unstable_shouldYield=C,e.unstable_wrapCallback=function(B){var U=h;return function(){var H=h;h=U;try{return B.apply(this,arguments)}finally{h=H}}}})(Z5);X5.exports=Z5;var D6=X5.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var k6=A,zs=D6;function He(e){for(var r="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)r+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var eN=new Set,Xu={};function Gl(e,r){ad(e,r),ad(e+"Capture",r)}function ad(e,r){for(Xu[e]=r,e=0;e<r.length;e++)eN.add(r[e])}var zi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Uv=Object.prototype.hasOwnProperty,T6=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,sb={},ab={};function L6(e){return Uv.call(ab,e)?!0:Uv.call(sb,e)?!1:T6.test(e)?ab[e]=!0:(sb[e]=!0,!1)}function R6(e,r,n,s){if(n!==null&&n.type===0)return!1;switch(typeof r){case"function":case"symbol":return!0;case"boolean":return s?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function F6(e,r,n,s){if(r===null||typeof r>"u"||R6(e,r,n,s))return!0;if(s)return!1;if(n!==null)switch(n.type){case 3:return!r;case 4:return r===!1;case 5:return isNaN(r);case 6:return isNaN(r)||1>r}return!1}function as(e,r,n,s,a,i,o){this.acceptsBooleans=r===2||r===3||r===4,this.attributeName=s,this.attributeNamespace=a,this.mustUseProperty=n,this.propertyName=e,this.type=r,this.sanitizeURL=i,this.removeEmptyString=o}var Rn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Rn[e]=new as(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var r=e[0];Rn[r]=new as(r,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Rn[e]=new as(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Rn[e]=new as(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Rn[e]=new as(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Rn[e]=new as(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Rn[e]=new as(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Rn[e]=new as(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Rn[e]=new as(e,5,!1,e.toLowerCase(),null,!1,!1)});var E1=/[\-:]([a-z])/g;function I1(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var r=e.replace(E1,I1);Rn[r]=new as(r,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var r=e.replace(E1,I1);Rn[r]=new as(r,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var r=e.replace(E1,I1);Rn[r]=new as(r,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Rn[e]=new as(e,1,!1,e.toLowerCase(),null,!1,!1)});Rn.xlinkHref=new as("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Rn[e]=new as(e,1,!1,e.toLowerCase(),null,!0,!0)});function P1(e,r,n,s){var a=Rn.hasOwnProperty(r)?Rn[r]:null;(a!==null?a.type!==0:s||!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(F6(r,n,a,s)&&(n=null),s||a===null?L6(r)&&(n===null?e.removeAttribute(r):e.setAttribute(r,""+n)):a.mustUseProperty?e[a.propertyName]=n===null?a.type===3?!1:"":n:(r=a.attributeName,s=a.attributeNamespace,n===null?e.removeAttribute(r):(a=a.type,n=a===3||a===4&&n===!0?"":""+n,s?e.setAttributeNS(s,r,n):e.setAttribute(r,n))))}var Gi=k6.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,$p=Symbol.for("react.element"),Bc=Symbol.for("react.portal"),zc=Symbol.for("react.fragment"),D1=Symbol.for("react.strict_mode"),Vv=Symbol.for("react.profiler"),tN=Symbol.for("react.provider"),rN=Symbol.for("react.context"),k1=Symbol.for("react.forward_ref"),Wv=Symbol.for("react.suspense"),qv=Symbol.for("react.suspense_list"),T1=Symbol.for("react.memo"),go=Symbol.for("react.lazy"),nN=Symbol.for("react.offscreen"),ib=Symbol.iterator;function uu(e){return e===null||typeof e!="object"?null:(e=ib&&e[ib]||e["@@iterator"],typeof e=="function"?e:null)}var Lr=Object.assign,Pg;function Eu(e){if(Pg===void 0)try{throw Error()}catch(n){var r=n.stack.trim().match(/\n( *(at )?)/);Pg=r&&r[1]||""}return`
`+Pg+e}var Dg=!1;function kg(e,r){if(!e||Dg)return"";Dg=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(r)if(r=function(){throw Error()},Object.defineProperty(r.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(r,[])}catch(d){var s=d}Reflect.construct(e,[],r)}else{try{r.call()}catch(d){s=d}e.call(r.prototype)}else{try{throw Error()}catch(d){s=d}e()}}catch(d){if(d&&s&&typeof d.stack=="string"){for(var a=d.stack.split(`
`),i=s.stack.split(`
`),o=a.length-1,l=i.length-1;1<=o&&0<=l&&a[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(a[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||a[o]!==i[l]){var c=`
`+a[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=l);break}}}finally{Dg=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Eu(e):""}function _6(e){switch(e.tag){case 5:return Eu(e.type);case 16:return Eu("Lazy");case 13:return Eu("Suspense");case 19:return Eu("SuspenseList");case 0:case 2:case 15:return e=kg(e.type,!1),e;case 11:return e=kg(e.type.render,!1),e;case 1:return e=kg(e.type,!0),e;default:return""}}function Hv(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case zc:return"Fragment";case Bc:return"Portal";case Vv:return"Profiler";case D1:return"StrictMode";case Wv:return"Suspense";case qv:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case rN:return(e.displayName||"Context")+".Consumer";case tN:return(e._context.displayName||"Context")+".Provider";case k1:var r=e.render;return e=e.displayName,e||(e=r.displayName||r.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case T1:return r=e.displayName||null,r!==null?r:Hv(e.type)||"Memo";case go:r=e._payload,e=e._init;try{return Hv(e(r))}catch{}}return null}function O6(e){var r=e.type;switch(e.tag){case 24:return"Cache";case 9:return(r.displayName||"Context")+".Consumer";case 10:return(r._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=r.render,e=e.displayName||e.name||"",r.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return r;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Hv(r);case 8:return r===D1?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r}return null}function $o(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function sN(e){var r=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function M6(e){var r=sN(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,r),s=""+e[r];if(!e.hasOwnProperty(r)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var a=n.get,i=n.set;return Object.defineProperty(e,r,{configurable:!0,get:function(){return a.call(this)},set:function(o){s=""+o,i.call(this,o)}}),Object.defineProperty(e,r,{enumerable:n.enumerable}),{getValue:function(){return s},setValue:function(o){s=""+o},stopTracking:function(){e._valueTracker=null,delete e[r]}}}}function Up(e){e._valueTracker||(e._valueTracker=M6(e))}function aN(e){if(!e)return!1;var r=e._valueTracker;if(!r)return!0;var n=r.getValue(),s="";return e&&(s=sN(e)?e.checked?"true":"false":e.value),e=s,e!==n?(r.setValue(e),!0):!1}function Wh(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Gv(e,r){var n=r.checked;return Lr({},r,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function ob(e,r){var n=r.defaultValue==null?"":r.defaultValue,s=r.checked!=null?r.checked:r.defaultChecked;n=$o(r.value!=null?r.value:n),e._wrapperState={initialChecked:s,initialValue:n,controlled:r.type==="checkbox"||r.type==="radio"?r.checked!=null:r.value!=null}}function iN(e,r){r=r.checked,r!=null&&P1(e,"checked",r,!1)}function Qv(e,r){iN(e,r);var n=$o(r.value),s=r.type;if(n!=null)s==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(s==="submit"||s==="reset"){e.removeAttribute("value");return}r.hasOwnProperty("value")?Yv(e,r.type,n):r.hasOwnProperty("defaultValue")&&Yv(e,r.type,$o(r.defaultValue)),r.checked==null&&r.defaultChecked!=null&&(e.defaultChecked=!!r.defaultChecked)}function lb(e,r,n){if(r.hasOwnProperty("value")||r.hasOwnProperty("defaultValue")){var s=r.type;if(!(s!=="submit"&&s!=="reset"||r.value!==void 0&&r.value!==null))return;r=""+e._wrapperState.initialValue,n||r===e.value||(e.value=r),e.defaultValue=r}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Yv(e,r,n){(r!=="number"||Wh(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Iu=Array.isArray;function Jc(e,r,n,s){if(e=e.options,r){r={};for(var a=0;a<n.length;a++)r["$"+n[a]]=!0;for(n=0;n<e.length;n++)a=r.hasOwnProperty("$"+e[n].value),e[n].selected!==a&&(e[n].selected=a),a&&s&&(e[n].defaultSelected=!0)}else{for(n=""+$o(n),r=null,a=0;a<e.length;a++){if(e[a].value===n){e[a].selected=!0,s&&(e[a].defaultSelected=!0);return}r!==null||e[a].disabled||(r=e[a])}r!==null&&(r.selected=!0)}}function Kv(e,r){if(r.dangerouslySetInnerHTML!=null)throw Error(He(91));return Lr({},r,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function cb(e,r){var n=r.value;if(n==null){if(n=r.children,r=r.defaultValue,n!=null){if(r!=null)throw Error(He(92));if(Iu(n)){if(1<n.length)throw Error(He(93));n=n[0]}r=n}r==null&&(r=""),n=r}e._wrapperState={initialValue:$o(n)}}function oN(e,r){var n=$o(r.value),s=$o(r.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),r.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),s!=null&&(e.defaultValue=""+s)}function db(e){var r=e.textContent;r===e._wrapperState.initialValue&&r!==""&&r!==null&&(e.value=r)}function lN(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Jv(e,r){return e==null||e==="http://www.w3.org/1999/xhtml"?lN(r):e==="http://www.w3.org/2000/svg"&&r==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Vp,cN=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(r,n,s,a){MSApp.execUnsafeLocalFunction(function(){return e(r,n,s,a)})}:e}(function(e,r){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=r;else{for(Vp=Vp||document.createElement("div"),Vp.innerHTML="<svg>"+r.valueOf().toString()+"</svg>",r=Vp.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;r.firstChild;)e.appendChild(r.firstChild)}});function Zu(e,r){if(r){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=r;return}}e.textContent=r}var Tu={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},B6=["Webkit","ms","Moz","O"];Object.keys(Tu).forEach(function(e){B6.forEach(function(r){r=r+e.charAt(0).toUpperCase()+e.substring(1),Tu[r]=Tu[e]})});function dN(e,r,n){return r==null||typeof r=="boolean"||r===""?"":n||typeof r!="number"||r===0||Tu.hasOwnProperty(e)&&Tu[e]?(""+r).trim():r+"px"}function uN(e,r){e=e.style;for(var n in r)if(r.hasOwnProperty(n)){var s=n.indexOf("--")===0,a=dN(n,r[n],s);n==="float"&&(n="cssFloat"),s?e.setProperty(n,a):e[n]=a}}var z6=Lr({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Xv(e,r){if(r){if(z6[e]&&(r.children!=null||r.dangerouslySetInnerHTML!=null))throw Error(He(137,e));if(r.dangerouslySetInnerHTML!=null){if(r.children!=null)throw Error(He(60));if(typeof r.dangerouslySetInnerHTML!="object"||!("__html"in r.dangerouslySetInnerHTML))throw Error(He(61))}if(r.style!=null&&typeof r.style!="object")throw Error(He(62))}}function Zv(e,r){if(e.indexOf("-")===-1)return typeof r.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var e0=null;function L1(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var t0=null,Xc=null,Zc=null;function ub(e){if(e=Lm(e)){if(typeof t0!="function")throw Error(He(280));var r=e.stateNode;r&&(r=qf(r),t0(e.stateNode,e.type,r))}}function mN(e){Xc?Zc?Zc.push(e):Zc=[e]:Xc=e}function pN(){if(Xc){var e=Xc,r=Zc;if(Zc=Xc=null,ub(e),r)for(e=0;e<r.length;e++)ub(r[e])}}function hN(e,r){return e(r)}function fN(){}var Tg=!1;function xN(e,r,n){if(Tg)return e(r,n);Tg=!0;try{return hN(e,r,n)}finally{Tg=!1,(Xc!==null||Zc!==null)&&(fN(),pN())}}function em(e,r){var n=e.stateNode;if(n===null)return null;var s=qf(n);if(s===null)return null;n=s[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(e=e.type,s=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!s;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(He(231,r,typeof n));return n}var r0=!1;if(zi)try{var mu={};Object.defineProperty(mu,"passive",{get:function(){r0=!0}}),window.addEventListener("test",mu,mu),window.removeEventListener("test",mu,mu)}catch{r0=!1}function $6(e,r,n,s,a,i,o,l,c){var d=Array.prototype.slice.call(arguments,3);try{r.apply(n,d)}catch(m){this.onError(m)}}var Lu=!1,qh=null,Hh=!1,n0=null,U6={onError:function(e){Lu=!0,qh=e}};function V6(e,r,n,s,a,i,o,l,c){Lu=!1,qh=null,$6.apply(U6,arguments)}function W6(e,r,n,s,a,i,o,l,c){if(V6.apply(this,arguments),Lu){if(Lu){var d=qh;Lu=!1,qh=null}else throw Error(He(198));Hh||(Hh=!0,n0=d)}}function Ql(e){var r=e,n=e;if(e.alternate)for(;r.return;)r=r.return;else{e=r;do r=e,r.flags&4098&&(n=r.return),e=r.return;while(e)}return r.tag===3?n:null}function gN(e){if(e.tag===13){var r=e.memoizedState;if(r===null&&(e=e.alternate,e!==null&&(r=e.memoizedState)),r!==null)return r.dehydrated}return null}function mb(e){if(Ql(e)!==e)throw Error(He(188))}function q6(e){var r=e.alternate;if(!r){if(r=Ql(e),r===null)throw Error(He(188));return r!==e?null:e}for(var n=e,s=r;;){var a=n.return;if(a===null)break;var i=a.alternate;if(i===null){if(s=a.return,s!==null){n=s;continue}break}if(a.child===i.child){for(i=a.child;i;){if(i===n)return mb(a),e;if(i===s)return mb(a),r;i=i.sibling}throw Error(He(188))}if(n.return!==s.return)n=a,s=i;else{for(var o=!1,l=a.child;l;){if(l===n){o=!0,n=a,s=i;break}if(l===s){o=!0,s=a,n=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===n){o=!0,n=i,s=a;break}if(l===s){o=!0,s=i,n=a;break}l=l.sibling}if(!o)throw Error(He(189))}}if(n.alternate!==s)throw Error(He(190))}if(n.tag!==3)throw Error(He(188));return n.stateNode.current===n?e:r}function vN(e){return e=q6(e),e!==null?yN(e):null}function yN(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var r=yN(e);if(r!==null)return r;e=e.sibling}return null}var bN=zs.unstable_scheduleCallback,pb=zs.unstable_cancelCallback,H6=zs.unstable_shouldYield,G6=zs.unstable_requestPaint,Gr=zs.unstable_now,Q6=zs.unstable_getCurrentPriorityLevel,R1=zs.unstable_ImmediatePriority,jN=zs.unstable_UserBlockingPriority,Gh=zs.unstable_NormalPriority,Y6=zs.unstable_LowPriority,wN=zs.unstable_IdlePriority,$f=null,di=null;function K6(e){if(di&&typeof di.onCommitFiberRoot=="function")try{di.onCommitFiberRoot($f,e,void 0,(e.current.flags&128)===128)}catch{}}var Fa=Math.clz32?Math.clz32:Z6,J6=Math.log,X6=Math.LN2;function Z6(e){return e>>>=0,e===0?32:31-(J6(e)/X6|0)|0}var Wp=64,qp=4194304;function Pu(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Qh(e,r){var n=e.pendingLanes;if(n===0)return 0;var s=0,a=e.suspendedLanes,i=e.pingedLanes,o=n&268435455;if(o!==0){var l=o&~a;l!==0?s=Pu(l):(i&=o,i!==0&&(s=Pu(i)))}else o=n&~a,o!==0?s=Pu(o):i!==0&&(s=Pu(i));if(s===0)return 0;if(r!==0&&r!==s&&!(r&a)&&(a=s&-s,i=r&-r,a>=i||a===16&&(i&4194240)!==0))return r;if(s&4&&(s|=n&16),r=e.entangledLanes,r!==0)for(e=e.entanglements,r&=s;0<r;)n=31-Fa(r),a=1<<n,s|=e[n],r&=~a;return s}function eI(e,r){switch(e){case 1:case 2:case 4:return r+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function tI(e,r){for(var n=e.suspendedLanes,s=e.pingedLanes,a=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-Fa(i),l=1<<o,c=a[o];c===-1?(!(l&n)||l&s)&&(a[o]=eI(l,r)):c<=r&&(e.expiredLanes|=l),i&=~l}}function s0(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function NN(){var e=Wp;return Wp<<=1,!(Wp&4194240)&&(Wp=64),e}function Lg(e){for(var r=[],n=0;31>n;n++)r.push(e);return r}function km(e,r,n){e.pendingLanes|=r,r!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,r=31-Fa(r),e[r]=n}function rI(e,r){var n=e.pendingLanes&~r;e.pendingLanes=r,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=r,e.mutableReadLanes&=r,e.entangledLanes&=r,r=e.entanglements;var s=e.eventTimes;for(e=e.expirationTimes;0<n;){var a=31-Fa(n),i=1<<a;r[a]=0,s[a]=-1,e[a]=-1,n&=~i}}function F1(e,r){var n=e.entangledLanes|=r;for(e=e.entanglements;n;){var s=31-Fa(n),a=1<<s;a&r|e[s]&r&&(e[s]|=r),n&=~a}}var lr=0;function SN(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var CN,_1,AN,EN,IN,a0=!1,Hp=[],Ao=null,Eo=null,Io=null,tm=new Map,rm=new Map,yo=[],nI="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function hb(e,r){switch(e){case"focusin":case"focusout":Ao=null;break;case"dragenter":case"dragleave":Eo=null;break;case"mouseover":case"mouseout":Io=null;break;case"pointerover":case"pointerout":tm.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":rm.delete(r.pointerId)}}function pu(e,r,n,s,a,i){return e===null||e.nativeEvent!==i?(e={blockedOn:r,domEventName:n,eventSystemFlags:s,nativeEvent:i,targetContainers:[a]},r!==null&&(r=Lm(r),r!==null&&_1(r)),e):(e.eventSystemFlags|=s,r=e.targetContainers,a!==null&&r.indexOf(a)===-1&&r.push(a),e)}function sI(e,r,n,s,a){switch(r){case"focusin":return Ao=pu(Ao,e,r,n,s,a),!0;case"dragenter":return Eo=pu(Eo,e,r,n,s,a),!0;case"mouseover":return Io=pu(Io,e,r,n,s,a),!0;case"pointerover":var i=a.pointerId;return tm.set(i,pu(tm.get(i)||null,e,r,n,s,a)),!0;case"gotpointercapture":return i=a.pointerId,rm.set(i,pu(rm.get(i)||null,e,r,n,s,a)),!0}return!1}function PN(e){var r=wl(e.target);if(r!==null){var n=Ql(r);if(n!==null){if(r=n.tag,r===13){if(r=gN(n),r!==null){e.blockedOn=r,IN(e.priority,function(){AN(n)});return}}else if(r===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ch(e){if(e.blockedOn!==null)return!1;for(var r=e.targetContainers;0<r.length;){var n=i0(e.domEventName,e.eventSystemFlags,r[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var s=new n.constructor(n.type,n);e0=s,n.target.dispatchEvent(s),e0=null}else return r=Lm(n),r!==null&&_1(r),e.blockedOn=n,!1;r.shift()}return!0}function fb(e,r,n){Ch(e)&&n.delete(r)}function aI(){a0=!1,Ao!==null&&Ch(Ao)&&(Ao=null),Eo!==null&&Ch(Eo)&&(Eo=null),Io!==null&&Ch(Io)&&(Io=null),tm.forEach(fb),rm.forEach(fb)}function hu(e,r){e.blockedOn===r&&(e.blockedOn=null,a0||(a0=!0,zs.unstable_scheduleCallback(zs.unstable_NormalPriority,aI)))}function nm(e){function r(a){return hu(a,e)}if(0<Hp.length){hu(Hp[0],e);for(var n=1;n<Hp.length;n++){var s=Hp[n];s.blockedOn===e&&(s.blockedOn=null)}}for(Ao!==null&&hu(Ao,e),Eo!==null&&hu(Eo,e),Io!==null&&hu(Io,e),tm.forEach(r),rm.forEach(r),n=0;n<yo.length;n++)s=yo[n],s.blockedOn===e&&(s.blockedOn=null);for(;0<yo.length&&(n=yo[0],n.blockedOn===null);)PN(n),n.blockedOn===null&&yo.shift()}var ed=Gi.ReactCurrentBatchConfig,Yh=!0;function iI(e,r,n,s){var a=lr,i=ed.transition;ed.transition=null;try{lr=1,O1(e,r,n,s)}finally{lr=a,ed.transition=i}}function oI(e,r,n,s){var a=lr,i=ed.transition;ed.transition=null;try{lr=4,O1(e,r,n,s)}finally{lr=a,ed.transition=i}}function O1(e,r,n,s){if(Yh){var a=i0(e,r,n,s);if(a===null)Vg(e,r,s,Kh,n),hb(e,s);else if(sI(a,e,r,n,s))s.stopPropagation();else if(hb(e,s),r&4&&-1<nI.indexOf(e)){for(;a!==null;){var i=Lm(a);if(i!==null&&CN(i),i=i0(e,r,n,s),i===null&&Vg(e,r,s,Kh,n),i===a)break;a=i}a!==null&&s.stopPropagation()}else Vg(e,r,s,null,n)}}var Kh=null;function i0(e,r,n,s){if(Kh=null,e=L1(s),e=wl(e),e!==null)if(r=Ql(e),r===null)e=null;else if(n=r.tag,n===13){if(e=gN(r),e!==null)return e;e=null}else if(n===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;e=null}else r!==e&&(e=null);return Kh=e,null}function DN(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Q6()){case R1:return 1;case jN:return 4;case Gh:case Y6:return 16;case wN:return 536870912;default:return 16}default:return 16}}var wo=null,M1=null,Ah=null;function kN(){if(Ah)return Ah;var e,r=M1,n=r.length,s,a="value"in wo?wo.value:wo.textContent,i=a.length;for(e=0;e<n&&r[e]===a[e];e++);var o=n-e;for(s=1;s<=o&&r[n-s]===a[i-s];s++);return Ah=a.slice(e,1<s?1-s:void 0)}function Eh(e){var r=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&r===13&&(e=13)):e=r,e===10&&(e=13),32<=e||e===13?e:0}function Gp(){return!0}function xb(){return!1}function Vs(e){function r(n,s,a,i,o){this._reactName=n,this._targetInst=a,this.type=s,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Gp:xb,this.isPropagationStopped=xb,this}return Lr(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Gp)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Gp)},persist:function(){},isPersistent:Gp}),r}var wd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},B1=Vs(wd),Tm=Lr({},wd,{view:0,detail:0}),lI=Vs(Tm),Rg,Fg,fu,Uf=Lr({},Tm,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:z1,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==fu&&(fu&&e.type==="mousemove"?(Rg=e.screenX-fu.screenX,Fg=e.screenY-fu.screenY):Fg=Rg=0,fu=e),Rg)},movementY:function(e){return"movementY"in e?e.movementY:Fg}}),gb=Vs(Uf),cI=Lr({},Uf,{dataTransfer:0}),dI=Vs(cI),uI=Lr({},Tm,{relatedTarget:0}),_g=Vs(uI),mI=Lr({},wd,{animationName:0,elapsedTime:0,pseudoElement:0}),pI=Vs(mI),hI=Lr({},wd,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),fI=Vs(hI),xI=Lr({},wd,{data:0}),vb=Vs(xI),gI={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},vI={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},yI={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function bI(e){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(e):(e=yI[e])?!!r[e]:!1}function z1(){return bI}var jI=Lr({},Tm,{key:function(e){if(e.key){var r=gI[e.key]||e.key;if(r!=="Unidentified")return r}return e.type==="keypress"?(e=Eh(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?vI[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:z1,charCode:function(e){return e.type==="keypress"?Eh(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Eh(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),wI=Vs(jI),NI=Lr({},Uf,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),yb=Vs(NI),SI=Lr({},Tm,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:z1}),CI=Vs(SI),AI=Lr({},wd,{propertyName:0,elapsedTime:0,pseudoElement:0}),EI=Vs(AI),II=Lr({},Uf,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),PI=Vs(II),DI=[9,13,27,32],$1=zi&&"CompositionEvent"in window,Ru=null;zi&&"documentMode"in document&&(Ru=document.documentMode);var kI=zi&&"TextEvent"in window&&!Ru,TN=zi&&(!$1||Ru&&8<Ru&&11>=Ru),bb=String.fromCharCode(32),jb=!1;function LN(e,r){switch(e){case"keyup":return DI.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function RN(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var $c=!1;function TI(e,r){switch(e){case"compositionend":return RN(r);case"keypress":return r.which!==32?null:(jb=!0,bb);case"textInput":return e=r.data,e===bb&&jb?null:e;default:return null}}function LI(e,r){if($c)return e==="compositionend"||!$1&&LN(e,r)?(e=kN(),Ah=M1=wo=null,$c=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return TN&&r.locale!=="ko"?null:r.data;default:return null}}var RI={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function wb(e){var r=e&&e.nodeName&&e.nodeName.toLowerCase();return r==="input"?!!RI[e.type]:r==="textarea"}function FN(e,r,n,s){mN(s),r=Jh(r,"onChange"),0<r.length&&(n=new B1("onChange","change",null,n,s),e.push({event:n,listeners:r}))}var Fu=null,sm=null;function FI(e){HN(e,0)}function Vf(e){var r=Wc(e);if(aN(r))return e}function _I(e,r){if(e==="change")return r}var _N=!1;if(zi){var Og;if(zi){var Mg="oninput"in document;if(!Mg){var Nb=document.createElement("div");Nb.setAttribute("oninput","return;"),Mg=typeof Nb.oninput=="function"}Og=Mg}else Og=!1;_N=Og&&(!document.documentMode||9<document.documentMode)}function Sb(){Fu&&(Fu.detachEvent("onpropertychange",ON),sm=Fu=null)}function ON(e){if(e.propertyName==="value"&&Vf(sm)){var r=[];FN(r,sm,e,L1(e)),xN(FI,r)}}function OI(e,r,n){e==="focusin"?(Sb(),Fu=r,sm=n,Fu.attachEvent("onpropertychange",ON)):e==="focusout"&&Sb()}function MI(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Vf(sm)}function BI(e,r){if(e==="click")return Vf(r)}function zI(e,r){if(e==="input"||e==="change")return Vf(r)}function $I(e,r){return e===r&&(e!==0||1/e===1/r)||e!==e&&r!==r}var Oa=typeof Object.is=="function"?Object.is:$I;function am(e,r){if(Oa(e,r))return!0;if(typeof e!="object"||e===null||typeof r!="object"||r===null)return!1;var n=Object.keys(e),s=Object.keys(r);if(n.length!==s.length)return!1;for(s=0;s<n.length;s++){var a=n[s];if(!Uv.call(r,a)||!Oa(e[a],r[a]))return!1}return!0}function Cb(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Ab(e,r){var n=Cb(e);e=0;for(var s;n;){if(n.nodeType===3){if(s=e+n.textContent.length,e<=r&&s>=r)return{node:n,offset:r-e};e=s}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Cb(n)}}function MN(e,r){return e&&r?e===r?!0:e&&e.nodeType===3?!1:r&&r.nodeType===3?MN(e,r.parentNode):"contains"in e?e.contains(r):e.compareDocumentPosition?!!(e.compareDocumentPosition(r)&16):!1:!1}function BN(){for(var e=window,r=Wh();r instanceof e.HTMLIFrameElement;){try{var n=typeof r.contentWindow.location.href=="string"}catch{n=!1}if(n)e=r.contentWindow;else break;r=Wh(e.document)}return r}function U1(e){var r=e&&e.nodeName&&e.nodeName.toLowerCase();return r&&(r==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||r==="textarea"||e.contentEditable==="true")}function UI(e){var r=BN(),n=e.focusedElem,s=e.selectionRange;if(r!==n&&n&&n.ownerDocument&&MN(n.ownerDocument.documentElement,n)){if(s!==null&&U1(n)){if(r=s.start,e=s.end,e===void 0&&(e=r),"selectionStart"in n)n.selectionStart=r,n.selectionEnd=Math.min(e,n.value.length);else if(e=(r=n.ownerDocument||document)&&r.defaultView||window,e.getSelection){e=e.getSelection();var a=n.textContent.length,i=Math.min(s.start,a);s=s.end===void 0?i:Math.min(s.end,a),!e.extend&&i>s&&(a=s,s=i,i=a),a=Ab(n,i);var o=Ab(n,s);a&&o&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(r=r.createRange(),r.setStart(a.node,a.offset),e.removeAllRanges(),i>s?(e.addRange(r),e.extend(o.node,o.offset)):(r.setEnd(o.node,o.offset),e.addRange(r)))}}for(r=[],e=n;e=e.parentNode;)e.nodeType===1&&r.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<r.length;n++)e=r[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var VI=zi&&"documentMode"in document&&11>=document.documentMode,Uc=null,o0=null,_u=null,l0=!1;function Eb(e,r,n){var s=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;l0||Uc==null||Uc!==Wh(s)||(s=Uc,"selectionStart"in s&&U1(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),_u&&am(_u,s)||(_u=s,s=Jh(o0,"onSelect"),0<s.length&&(r=new B1("onSelect","select",null,r,n),e.push({event:r,listeners:s}),r.target=Uc)))}function Qp(e,r){var n={};return n[e.toLowerCase()]=r.toLowerCase(),n["Webkit"+e]="webkit"+r,n["Moz"+e]="moz"+r,n}var Vc={animationend:Qp("Animation","AnimationEnd"),animationiteration:Qp("Animation","AnimationIteration"),animationstart:Qp("Animation","AnimationStart"),transitionend:Qp("Transition","TransitionEnd")},Bg={},zN={};zi&&(zN=document.createElement("div").style,"AnimationEvent"in window||(delete Vc.animationend.animation,delete Vc.animationiteration.animation,delete Vc.animationstart.animation),"TransitionEvent"in window||delete Vc.transitionend.transition);function Wf(e){if(Bg[e])return Bg[e];if(!Vc[e])return e;var r=Vc[e],n;for(n in r)if(r.hasOwnProperty(n)&&n in zN)return Bg[e]=r[n];return e}var $N=Wf("animationend"),UN=Wf("animationiteration"),VN=Wf("animationstart"),WN=Wf("transitionend"),qN=new Map,Ib="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ko(e,r){qN.set(e,r),Gl(r,[e])}for(var zg=0;zg<Ib.length;zg++){var $g=Ib[zg],WI=$g.toLowerCase(),qI=$g[0].toUpperCase()+$g.slice(1);Ko(WI,"on"+qI)}Ko($N,"onAnimationEnd");Ko(UN,"onAnimationIteration");Ko(VN,"onAnimationStart");Ko("dblclick","onDoubleClick");Ko("focusin","onFocus");Ko("focusout","onBlur");Ko(WN,"onTransitionEnd");ad("onMouseEnter",["mouseout","mouseover"]);ad("onMouseLeave",["mouseout","mouseover"]);ad("onPointerEnter",["pointerout","pointerover"]);ad("onPointerLeave",["pointerout","pointerover"]);Gl("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Gl("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Gl("onBeforeInput",["compositionend","keypress","textInput","paste"]);Gl("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Gl("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Gl("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Du="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),HI=new Set("cancel close invalid load scroll toggle".split(" ").concat(Du));function Pb(e,r,n){var s=e.type||"unknown-event";e.currentTarget=n,W6(s,r,void 0,e),e.currentTarget=null}function HN(e,r){r=(r&4)!==0;for(var n=0;n<e.length;n++){var s=e[n],a=s.event;s=s.listeners;e:{var i=void 0;if(r)for(var o=s.length-1;0<=o;o--){var l=s[o],c=l.instance,d=l.currentTarget;if(l=l.listener,c!==i&&a.isPropagationStopped())break e;Pb(a,l,d),i=c}else for(o=0;o<s.length;o++){if(l=s[o],c=l.instance,d=l.currentTarget,l=l.listener,c!==i&&a.isPropagationStopped())break e;Pb(a,l,d),i=c}}}if(Hh)throw e=n0,Hh=!1,n0=null,e}function jr(e,r){var n=r[p0];n===void 0&&(n=r[p0]=new Set);var s=e+"__bubble";n.has(s)||(GN(r,e,2,!1),n.add(s))}function Ug(e,r,n){var s=0;r&&(s|=4),GN(n,e,s,r)}var Yp="_reactListening"+Math.random().toString(36).slice(2);function im(e){if(!e[Yp]){e[Yp]=!0,eN.forEach(function(n){n!=="selectionchange"&&(HI.has(n)||Ug(n,!1,e),Ug(n,!0,e))});var r=e.nodeType===9?e:e.ownerDocument;r===null||r[Yp]||(r[Yp]=!0,Ug("selectionchange",!1,r))}}function GN(e,r,n,s){switch(DN(r)){case 1:var a=iI;break;case 4:a=oI;break;default:a=O1}n=a.bind(null,r,n,e),a=void 0,!r0||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(a=!0),s?a!==void 0?e.addEventListener(r,n,{capture:!0,passive:a}):e.addEventListener(r,n,!0):a!==void 0?e.addEventListener(r,n,{passive:a}):e.addEventListener(r,n,!1)}function Vg(e,r,n,s,a){var i=s;if(!(r&1)&&!(r&2)&&s!==null)e:for(;;){if(s===null)return;var o=s.tag;if(o===3||o===4){var l=s.stateNode.containerInfo;if(l===a||l.nodeType===8&&l.parentNode===a)break;if(o===4)for(o=s.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===a||c.nodeType===8&&c.parentNode===a))return;o=o.return}for(;l!==null;){if(o=wl(l),o===null)return;if(c=o.tag,c===5||c===6){s=i=o;continue e}l=l.parentNode}}s=s.return}xN(function(){var d=i,m=L1(n),u=[];e:{var h=qN.get(e);if(h!==void 0){var p=B1,g=e;switch(e){case"keypress":if(Eh(n)===0)break e;case"keydown":case"keyup":p=wI;break;case"focusin":g="focus",p=_g;break;case"focusout":g="blur",p=_g;break;case"beforeblur":case"afterblur":p=_g;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=gb;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=dI;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=CI;break;case $N:case UN:case VN:p=pI;break;case WN:p=EI;break;case"scroll":p=lI;break;case"wheel":p=PI;break;case"copy":case"cut":case"paste":p=fI;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=yb}var b=(r&4)!==0,j=!b&&e==="scroll",x=b?h!==null?h+"Capture":null:h;b=[];for(var v=d,y;v!==null;){y=v;var E=y.stateNode;if(y.tag===5&&E!==null&&(y=E,x!==null&&(E=em(v,x),E!=null&&b.push(om(v,E,y)))),j)break;v=v.return}0<b.length&&(h=new p(h,g,null,n,m),u.push({event:h,listeners:b}))}}if(!(r&7)){e:{if(h=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",h&&n!==e0&&(g=n.relatedTarget||n.fromElement)&&(wl(g)||g[$i]))break e;if((p||h)&&(h=m.window===m?m:(h=m.ownerDocument)?h.defaultView||h.parentWindow:window,p?(g=n.relatedTarget||n.toElement,p=d,g=g?wl(g):null,g!==null&&(j=Ql(g),g!==j||g.tag!==5&&g.tag!==6)&&(g=null)):(p=null,g=d),p!==g)){if(b=gb,E="onMouseLeave",x="onMouseEnter",v="mouse",(e==="pointerout"||e==="pointerover")&&(b=yb,E="onPointerLeave",x="onPointerEnter",v="pointer"),j=p==null?h:Wc(p),y=g==null?h:Wc(g),h=new b(E,v+"leave",p,n,m),h.target=j,h.relatedTarget=y,E=null,wl(m)===d&&(b=new b(x,v+"enter",g,n,m),b.target=y,b.relatedTarget=j,E=b),j=E,p&&g)t:{for(b=p,x=g,v=0,y=b;y;y=Pc(y))v++;for(y=0,E=x;E;E=Pc(E))y++;for(;0<v-y;)b=Pc(b),v--;for(;0<y-v;)x=Pc(x),y--;for(;v--;){if(b===x||x!==null&&b===x.alternate)break t;b=Pc(b),x=Pc(x)}b=null}else b=null;p!==null&&Db(u,h,p,b,!1),g!==null&&j!==null&&Db(u,j,g,b,!0)}}e:{if(h=d?Wc(d):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var O=_I;else if(wb(h))if(_N)O=zI;else{O=MI;var M=OI}else(p=h.nodeName)&&p.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(O=BI);if(O&&(O=O(e,d))){FN(u,O,n,m);break e}M&&M(e,h,d),e==="focusout"&&(M=h._wrapperState)&&M.controlled&&h.type==="number"&&Yv(h,"number",h.value)}switch(M=d?Wc(d):window,e){case"focusin":(wb(M)||M.contentEditable==="true")&&(Uc=M,o0=d,_u=null);break;case"focusout":_u=o0=Uc=null;break;case"mousedown":l0=!0;break;case"contextmenu":case"mouseup":case"dragend":l0=!1,Eb(u,n,m);break;case"selectionchange":if(VI)break;case"keydown":case"keyup":Eb(u,n,m)}var P;if($1)e:{switch(e){case"compositionstart":var S="onCompositionStart";break e;case"compositionend":S="onCompositionEnd";break e;case"compositionupdate":S="onCompositionUpdate";break e}S=void 0}else $c?LN(e,n)&&(S="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(S="onCompositionStart");S&&(TN&&n.locale!=="ko"&&($c||S!=="onCompositionStart"?S==="onCompositionEnd"&&$c&&(P=kN()):(wo=m,M1="value"in wo?wo.value:wo.textContent,$c=!0)),M=Jh(d,S),0<M.length&&(S=new vb(S,e,null,n,m),u.push({event:S,listeners:M}),P?S.data=P:(P=RN(n),P!==null&&(S.data=P)))),(P=kI?TI(e,n):LI(e,n))&&(d=Jh(d,"onBeforeInput"),0<d.length&&(m=new vb("onBeforeInput","beforeinput",null,n,m),u.push({event:m,listeners:d}),m.data=P))}HN(u,r)})}function om(e,r,n){return{instance:e,listener:r,currentTarget:n}}function Jh(e,r){for(var n=r+"Capture",s=[];e!==null;){var a=e,i=a.stateNode;a.tag===5&&i!==null&&(a=i,i=em(e,n),i!=null&&s.unshift(om(e,i,a)),i=em(e,r),i!=null&&s.push(om(e,i,a))),e=e.return}return s}function Pc(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Db(e,r,n,s,a){for(var i=r._reactName,o=[];n!==null&&n!==s;){var l=n,c=l.alternate,d=l.stateNode;if(c!==null&&c===s)break;l.tag===5&&d!==null&&(l=d,a?(c=em(n,i),c!=null&&o.unshift(om(n,c,l))):a||(c=em(n,i),c!=null&&o.push(om(n,c,l)))),n=n.return}o.length!==0&&e.push({event:r,listeners:o})}var GI=/\r\n?/g,QI=/\u0000|\uFFFD/g;function kb(e){return(typeof e=="string"?e:""+e).replace(GI,`
`).replace(QI,"")}function Kp(e,r,n){if(r=kb(r),kb(e)!==r&&n)throw Error(He(425))}function Xh(){}var c0=null,d0=null;function u0(e,r){return e==="textarea"||e==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var m0=typeof setTimeout=="function"?setTimeout:void 0,YI=typeof clearTimeout=="function"?clearTimeout:void 0,Tb=typeof Promise=="function"?Promise:void 0,KI=typeof queueMicrotask=="function"?queueMicrotask:typeof Tb<"u"?function(e){return Tb.resolve(null).then(e).catch(JI)}:m0;function JI(e){setTimeout(function(){throw e})}function Wg(e,r){var n=r,s=0;do{var a=n.nextSibling;if(e.removeChild(n),a&&a.nodeType===8)if(n=a.data,n==="/$"){if(s===0){e.removeChild(a),nm(r);return}s--}else n!=="$"&&n!=="$?"&&n!=="$!"||s++;n=a}while(n);nm(r)}function Po(e){for(;e!=null;e=e.nextSibling){var r=e.nodeType;if(r===1||r===3)break;if(r===8){if(r=e.data,r==="$"||r==="$!"||r==="$?")break;if(r==="/$")return null}}return e}function Lb(e){e=e.previousSibling;for(var r=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(r===0)return e;r--}else n==="/$"&&r++}e=e.previousSibling}return null}var Nd=Math.random().toString(36).slice(2),ai="__reactFiber$"+Nd,lm="__reactProps$"+Nd,$i="__reactContainer$"+Nd,p0="__reactEvents$"+Nd,XI="__reactListeners$"+Nd,ZI="__reactHandles$"+Nd;function wl(e){var r=e[ai];if(r)return r;for(var n=e.parentNode;n;){if(r=n[$i]||n[ai]){if(n=r.alternate,r.child!==null||n!==null&&n.child!==null)for(e=Lb(e);e!==null;){if(n=e[ai])return n;e=Lb(e)}return r}e=n,n=e.parentNode}return null}function Lm(e){return e=e[ai]||e[$i],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Wc(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(He(33))}function qf(e){return e[lm]||null}var h0=[],qc=-1;function Jo(e){return{current:e}}function Sr(e){0>qc||(e.current=h0[qc],h0[qc]=null,qc--)}function yr(e,r){qc++,h0[qc]=e.current,e.current=r}var Uo={},Yn=Jo(Uo),xs=Jo(!1),Ml=Uo;function id(e,r){var n=e.type.contextTypes;if(!n)return Uo;var s=e.stateNode;if(s&&s.__reactInternalMemoizedUnmaskedChildContext===r)return s.__reactInternalMemoizedMaskedChildContext;var a={},i;for(i in n)a[i]=r[i];return s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=r,e.__reactInternalMemoizedMaskedChildContext=a),a}function gs(e){return e=e.childContextTypes,e!=null}function Zh(){Sr(xs),Sr(Yn)}function Rb(e,r,n){if(Yn.current!==Uo)throw Error(He(168));yr(Yn,r),yr(xs,n)}function QN(e,r,n){var s=e.stateNode;if(r=r.childContextTypes,typeof s.getChildContext!="function")return n;s=s.getChildContext();for(var a in s)if(!(a in r))throw Error(He(108,O6(e)||"Unknown",a));return Lr({},n,s)}function ef(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Uo,Ml=Yn.current,yr(Yn,e),yr(xs,xs.current),!0}function Fb(e,r,n){var s=e.stateNode;if(!s)throw Error(He(169));n?(e=QN(e,r,Ml),s.__reactInternalMemoizedMergedChildContext=e,Sr(xs),Sr(Yn),yr(Yn,e)):Sr(xs),yr(xs,n)}var Ri=null,Hf=!1,qg=!1;function YN(e){Ri===null?Ri=[e]:Ri.push(e)}function eP(e){Hf=!0,YN(e)}function Xo(){if(!qg&&Ri!==null){qg=!0;var e=0,r=lr;try{var n=Ri;for(lr=1;e<n.length;e++){var s=n[e];do s=s(!0);while(s!==null)}Ri=null,Hf=!1}catch(a){throw Ri!==null&&(Ri=Ri.slice(e+1)),bN(R1,Xo),a}finally{lr=r,qg=!1}}return null}var Hc=[],Gc=0,tf=null,rf=0,na=[],sa=0,Bl=null,Oi=1,Mi="";function gl(e,r){Hc[Gc++]=rf,Hc[Gc++]=tf,tf=e,rf=r}function KN(e,r,n){na[sa++]=Oi,na[sa++]=Mi,na[sa++]=Bl,Bl=e;var s=Oi;e=Mi;var a=32-Fa(s)-1;s&=~(1<<a),n+=1;var i=32-Fa(r)+a;if(30<i){var o=a-a%5;i=(s&(1<<o)-1).toString(32),s>>=o,a-=o,Oi=1<<32-Fa(r)+a|n<<a|s,Mi=i+e}else Oi=1<<i|n<<a|s,Mi=e}function V1(e){e.return!==null&&(gl(e,1),KN(e,1,0))}function W1(e){for(;e===tf;)tf=Hc[--Gc],Hc[Gc]=null,rf=Hc[--Gc],Hc[Gc]=null;for(;e===Bl;)Bl=na[--sa],na[sa]=null,Mi=na[--sa],na[sa]=null,Oi=na[--sa],na[sa]=null}var Rs=null,ks=null,Cr=!1,Da=null;function JN(e,r){var n=aa(5,null,null,0);n.elementType="DELETED",n.stateNode=r,n.return=e,r=e.deletions,r===null?(e.deletions=[n],e.flags|=16):r.push(n)}function _b(e,r){switch(e.tag){case 5:var n=e.type;return r=r.nodeType!==1||n.toLowerCase()!==r.nodeName.toLowerCase()?null:r,r!==null?(e.stateNode=r,Rs=e,ks=Po(r.firstChild),!0):!1;case 6:return r=e.pendingProps===""||r.nodeType!==3?null:r,r!==null?(e.stateNode=r,Rs=e,ks=null,!0):!1;case 13:return r=r.nodeType!==8?null:r,r!==null?(n=Bl!==null?{id:Oi,overflow:Mi}:null,e.memoizedState={dehydrated:r,treeContext:n,retryLane:1073741824},n=aa(18,null,null,0),n.stateNode=r,n.return=e,e.child=n,Rs=e,ks=null,!0):!1;default:return!1}}function f0(e){return(e.mode&1)!==0&&(e.flags&128)===0}function x0(e){if(Cr){var r=ks;if(r){var n=r;if(!_b(e,r)){if(f0(e))throw Error(He(418));r=Po(n.nextSibling);var s=Rs;r&&_b(e,r)?JN(s,n):(e.flags=e.flags&-4097|2,Cr=!1,Rs=e)}}else{if(f0(e))throw Error(He(418));e.flags=e.flags&-4097|2,Cr=!1,Rs=e}}}function Ob(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Rs=e}function Jp(e){if(e!==Rs)return!1;if(!Cr)return Ob(e),Cr=!0,!1;var r;if((r=e.tag!==3)&&!(r=e.tag!==5)&&(r=e.type,r=r!=="head"&&r!=="body"&&!u0(e.type,e.memoizedProps)),r&&(r=ks)){if(f0(e))throw XN(),Error(He(418));for(;r;)JN(e,r),r=Po(r.nextSibling)}if(Ob(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(He(317));e:{for(e=e.nextSibling,r=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(r===0){ks=Po(e.nextSibling);break e}r--}else n!=="$"&&n!=="$!"&&n!=="$?"||r++}e=e.nextSibling}ks=null}}else ks=Rs?Po(e.stateNode.nextSibling):null;return!0}function XN(){for(var e=ks;e;)e=Po(e.nextSibling)}function od(){ks=Rs=null,Cr=!1}function q1(e){Da===null?Da=[e]:Da.push(e)}var tP=Gi.ReactCurrentBatchConfig;function xu(e,r,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(He(309));var s=n.stateNode}if(!s)throw Error(He(147,e));var a=s,i=""+e;return r!==null&&r.ref!==null&&typeof r.ref=="function"&&r.ref._stringRef===i?r.ref:(r=function(o){var l=a.refs;o===null?delete l[i]:l[i]=o},r._stringRef=i,r)}if(typeof e!="string")throw Error(He(284));if(!n._owner)throw Error(He(290,e))}return e}function Xp(e,r){throw e=Object.prototype.toString.call(r),Error(He(31,e==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":e))}function Mb(e){var r=e._init;return r(e._payload)}function ZN(e){function r(x,v){if(e){var y=x.deletions;y===null?(x.deletions=[v],x.flags|=16):y.push(v)}}function n(x,v){if(!e)return null;for(;v!==null;)r(x,v),v=v.sibling;return null}function s(x,v){for(x=new Map;v!==null;)v.key!==null?x.set(v.key,v):x.set(v.index,v),v=v.sibling;return x}function a(x,v){return x=Lo(x,v),x.index=0,x.sibling=null,x}function i(x,v,y){return x.index=y,e?(y=x.alternate,y!==null?(y=y.index,y<v?(x.flags|=2,v):y):(x.flags|=2,v)):(x.flags|=1048576,v)}function o(x){return e&&x.alternate===null&&(x.flags|=2),x}function l(x,v,y,E){return v===null||v.tag!==6?(v=Xg(y,x.mode,E),v.return=x,v):(v=a(v,y),v.return=x,v)}function c(x,v,y,E){var O=y.type;return O===zc?m(x,v,y.props.children,E,y.key):v!==null&&(v.elementType===O||typeof O=="object"&&O!==null&&O.$$typeof===go&&Mb(O)===v.type)?(E=a(v,y.props),E.ref=xu(x,v,y),E.return=x,E):(E=Rh(y.type,y.key,y.props,null,x.mode,E),E.ref=xu(x,v,y),E.return=x,E)}function d(x,v,y,E){return v===null||v.tag!==4||v.stateNode.containerInfo!==y.containerInfo||v.stateNode.implementation!==y.implementation?(v=Zg(y,x.mode,E),v.return=x,v):(v=a(v,y.children||[]),v.return=x,v)}function m(x,v,y,E,O){return v===null||v.tag!==7?(v=Tl(y,x.mode,E,O),v.return=x,v):(v=a(v,y),v.return=x,v)}function u(x,v,y){if(typeof v=="string"&&v!==""||typeof v=="number")return v=Xg(""+v,x.mode,y),v.return=x,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case $p:return y=Rh(v.type,v.key,v.props,null,x.mode,y),y.ref=xu(x,null,v),y.return=x,y;case Bc:return v=Zg(v,x.mode,y),v.return=x,v;case go:var E=v._init;return u(x,E(v._payload),y)}if(Iu(v)||uu(v))return v=Tl(v,x.mode,y,null),v.return=x,v;Xp(x,v)}return null}function h(x,v,y,E){var O=v!==null?v.key:null;if(typeof y=="string"&&y!==""||typeof y=="number")return O!==null?null:l(x,v,""+y,E);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case $p:return y.key===O?c(x,v,y,E):null;case Bc:return y.key===O?d(x,v,y,E):null;case go:return O=y._init,h(x,v,O(y._payload),E)}if(Iu(y)||uu(y))return O!==null?null:m(x,v,y,E,null);Xp(x,y)}return null}function p(x,v,y,E,O){if(typeof E=="string"&&E!==""||typeof E=="number")return x=x.get(y)||null,l(v,x,""+E,O);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case $p:return x=x.get(E.key===null?y:E.key)||null,c(v,x,E,O);case Bc:return x=x.get(E.key===null?y:E.key)||null,d(v,x,E,O);case go:var M=E._init;return p(x,v,y,M(E._payload),O)}if(Iu(E)||uu(E))return x=x.get(y)||null,m(v,x,E,O,null);Xp(v,E)}return null}function g(x,v,y,E){for(var O=null,M=null,P=v,S=v=0,I=null;P!==null&&S<y.length;S++){P.index>S?(I=P,P=null):I=P.sibling;var k=h(x,P,y[S],E);if(k===null){P===null&&(P=I);break}e&&P&&k.alternate===null&&r(x,P),v=i(k,v,S),M===null?O=k:M.sibling=k,M=k,P=I}if(S===y.length)return n(x,P),Cr&&gl(x,S),O;if(P===null){for(;S<y.length;S++)P=u(x,y[S],E),P!==null&&(v=i(P,v,S),M===null?O=P:M.sibling=P,M=P);return Cr&&gl(x,S),O}for(P=s(x,P);S<y.length;S++)I=p(P,x,S,y[S],E),I!==null&&(e&&I.alternate!==null&&P.delete(I.key===null?S:I.key),v=i(I,v,S),M===null?O=I:M.sibling=I,M=I);return e&&P.forEach(function(C){return r(x,C)}),Cr&&gl(x,S),O}function b(x,v,y,E){var O=uu(y);if(typeof O!="function")throw Error(He(150));if(y=O.call(y),y==null)throw Error(He(151));for(var M=O=null,P=v,S=v=0,I=null,k=y.next();P!==null&&!k.done;S++,k=y.next()){P.index>S?(I=P,P=null):I=P.sibling;var C=h(x,P,k.value,E);if(C===null){P===null&&(P=I);break}e&&P&&C.alternate===null&&r(x,P),v=i(C,v,S),M===null?O=C:M.sibling=C,M=C,P=I}if(k.done)return n(x,P),Cr&&gl(x,S),O;if(P===null){for(;!k.done;S++,k=y.next())k=u(x,k.value,E),k!==null&&(v=i(k,v,S),M===null?O=k:M.sibling=k,M=k);return Cr&&gl(x,S),O}for(P=s(x,P);!k.done;S++,k=y.next())k=p(P,x,S,k.value,E),k!==null&&(e&&k.alternate!==null&&P.delete(k.key===null?S:k.key),v=i(k,v,S),M===null?O=k:M.sibling=k,M=k);return e&&P.forEach(function(w){return r(x,w)}),Cr&&gl(x,S),O}function j(x,v,y,E){if(typeof y=="object"&&y!==null&&y.type===zc&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case $p:e:{for(var O=y.key,M=v;M!==null;){if(M.key===O){if(O=y.type,O===zc){if(M.tag===7){n(x,M.sibling),v=a(M,y.props.children),v.return=x,x=v;break e}}else if(M.elementType===O||typeof O=="object"&&O!==null&&O.$$typeof===go&&Mb(O)===M.type){n(x,M.sibling),v=a(M,y.props),v.ref=xu(x,M,y),v.return=x,x=v;break e}n(x,M);break}else r(x,M);M=M.sibling}y.type===zc?(v=Tl(y.props.children,x.mode,E,y.key),v.return=x,x=v):(E=Rh(y.type,y.key,y.props,null,x.mode,E),E.ref=xu(x,v,y),E.return=x,x=E)}return o(x);case Bc:e:{for(M=y.key;v!==null;){if(v.key===M)if(v.tag===4&&v.stateNode.containerInfo===y.containerInfo&&v.stateNode.implementation===y.implementation){n(x,v.sibling),v=a(v,y.children||[]),v.return=x,x=v;break e}else{n(x,v);break}else r(x,v);v=v.sibling}v=Zg(y,x.mode,E),v.return=x,x=v}return o(x);case go:return M=y._init,j(x,v,M(y._payload),E)}if(Iu(y))return g(x,v,y,E);if(uu(y))return b(x,v,y,E);Xp(x,y)}return typeof y=="string"&&y!==""||typeof y=="number"?(y=""+y,v!==null&&v.tag===6?(n(x,v.sibling),v=a(v,y),v.return=x,x=v):(n(x,v),v=Xg(y,x.mode,E),v.return=x,x=v),o(x)):n(x,v)}return j}var ld=ZN(!0),eS=ZN(!1),nf=Jo(null),sf=null,Qc=null,H1=null;function G1(){H1=Qc=sf=null}function Q1(e){var r=nf.current;Sr(nf),e._currentValue=r}function g0(e,r,n){for(;e!==null;){var s=e.alternate;if((e.childLanes&r)!==r?(e.childLanes|=r,s!==null&&(s.childLanes|=r)):s!==null&&(s.childLanes&r)!==r&&(s.childLanes|=r),e===n)break;e=e.return}}function td(e,r){sf=e,H1=Qc=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&r&&(fs=!0),e.firstContext=null)}function ca(e){var r=e._currentValue;if(H1!==e)if(e={context:e,memoizedValue:r,next:null},Qc===null){if(sf===null)throw Error(He(308));Qc=e,sf.dependencies={lanes:0,firstContext:e}}else Qc=Qc.next=e;return r}var Nl=null;function Y1(e){Nl===null?Nl=[e]:Nl.push(e)}function tS(e,r,n,s){var a=r.interleaved;return a===null?(n.next=n,Y1(r)):(n.next=a.next,a.next=n),r.interleaved=n,Ui(e,s)}function Ui(e,r){e.lanes|=r;var n=e.alternate;for(n!==null&&(n.lanes|=r),n=e,e=e.return;e!==null;)e.childLanes|=r,n=e.alternate,n!==null&&(n.childLanes|=r),n=e,e=e.return;return n.tag===3?n.stateNode:null}var vo=!1;function K1(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function rS(e,r){e=e.updateQueue,r.updateQueue===e&&(r.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Bi(e,r){return{eventTime:e,lane:r,tag:0,payload:null,callback:null,next:null}}function Do(e,r,n){var s=e.updateQueue;if(s===null)return null;if(s=s.shared,Jt&2){var a=s.pending;return a===null?r.next=r:(r.next=a.next,a.next=r),s.pending=r,Ui(e,n)}return a=s.interleaved,a===null?(r.next=r,Y1(s)):(r.next=a.next,a.next=r),s.interleaved=r,Ui(e,n)}function Ih(e,r,n){if(r=r.updateQueue,r!==null&&(r=r.shared,(n&4194240)!==0)){var s=r.lanes;s&=e.pendingLanes,n|=s,r.lanes=n,F1(e,n)}}function Bb(e,r){var n=e.updateQueue,s=e.alternate;if(s!==null&&(s=s.updateQueue,n===s)){var a=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?a=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?a=i=r:i=i.next=r}else a=i=r;n={baseState:s.baseState,firstBaseUpdate:a,lastBaseUpdate:i,shared:s.shared,effects:s.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=r:e.next=r,n.lastBaseUpdate=r}function af(e,r,n,s){var a=e.updateQueue;vo=!1;var i=a.firstBaseUpdate,o=a.lastBaseUpdate,l=a.shared.pending;if(l!==null){a.shared.pending=null;var c=l,d=c.next;c.next=null,o===null?i=d:o.next=d,o=c;var m=e.alternate;m!==null&&(m=m.updateQueue,l=m.lastBaseUpdate,l!==o&&(l===null?m.firstBaseUpdate=d:l.next=d,m.lastBaseUpdate=c))}if(i!==null){var u=a.baseState;o=0,m=d=c=null,l=i;do{var h=l.lane,p=l.eventTime;if((s&h)===h){m!==null&&(m=m.next={eventTime:p,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var g=e,b=l;switch(h=r,p=n,b.tag){case 1:if(g=b.payload,typeof g=="function"){u=g.call(p,u,h);break e}u=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=b.payload,h=typeof g=="function"?g.call(p,u,h):g,h==null)break e;u=Lr({},u,h);break e;case 2:vo=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,h=a.effects,h===null?a.effects=[l]:h.push(l))}else p={eventTime:p,lane:h,tag:l.tag,payload:l.payload,callback:l.callback,next:null},m===null?(d=m=p,c=u):m=m.next=p,o|=h;if(l=l.next,l===null){if(l=a.shared.pending,l===null)break;h=l,l=h.next,h.next=null,a.lastBaseUpdate=h,a.shared.pending=null}}while(1);if(m===null&&(c=u),a.baseState=c,a.firstBaseUpdate=d,a.lastBaseUpdate=m,r=a.shared.interleaved,r!==null){a=r;do o|=a.lane,a=a.next;while(a!==r)}else i===null&&(a.shared.lanes=0);$l|=o,e.lanes=o,e.memoizedState=u}}function zb(e,r,n){if(e=r.effects,r.effects=null,e!==null)for(r=0;r<e.length;r++){var s=e[r],a=s.callback;if(a!==null){if(s.callback=null,s=n,typeof a!="function")throw Error(He(191,a));a.call(s)}}}var Rm={},ui=Jo(Rm),cm=Jo(Rm),dm=Jo(Rm);function Sl(e){if(e===Rm)throw Error(He(174));return e}function J1(e,r){switch(yr(dm,r),yr(cm,e),yr(ui,Rm),e=r.nodeType,e){case 9:case 11:r=(r=r.documentElement)?r.namespaceURI:Jv(null,"");break;default:e=e===8?r.parentNode:r,r=e.namespaceURI||null,e=e.tagName,r=Jv(r,e)}Sr(ui),yr(ui,r)}function cd(){Sr(ui),Sr(cm),Sr(dm)}function nS(e){Sl(dm.current);var r=Sl(ui.current),n=Jv(r,e.type);r!==n&&(yr(cm,e),yr(ui,n))}function X1(e){cm.current===e&&(Sr(ui),Sr(cm))}var Dr=Jo(0);function of(e){for(var r=e;r!==null;){if(r.tag===13){var n=r.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if(r.flags&128)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var Hg=[];function Z1(){for(var e=0;e<Hg.length;e++)Hg[e]._workInProgressVersionPrimary=null;Hg.length=0}var Ph=Gi.ReactCurrentDispatcher,Gg=Gi.ReactCurrentBatchConfig,zl=0,kr=null,dn=null,gn=null,lf=!1,Ou=!1,um=0,rP=0;function Bn(){throw Error(He(321))}function ey(e,r){if(r===null)return!1;for(var n=0;n<r.length&&n<e.length;n++)if(!Oa(e[n],r[n]))return!1;return!0}function ty(e,r,n,s,a,i){if(zl=i,kr=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,Ph.current=e===null||e.memoizedState===null?iP:oP,e=n(s,a),Ou){i=0;do{if(Ou=!1,um=0,25<=i)throw Error(He(301));i+=1,gn=dn=null,r.updateQueue=null,Ph.current=lP,e=n(s,a)}while(Ou)}if(Ph.current=cf,r=dn!==null&&dn.next!==null,zl=0,gn=dn=kr=null,lf=!1,r)throw Error(He(300));return e}function ry(){var e=um!==0;return um=0,e}function ti(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return gn===null?kr.memoizedState=gn=e:gn=gn.next=e,gn}function da(){if(dn===null){var e=kr.alternate;e=e!==null?e.memoizedState:null}else e=dn.next;var r=gn===null?kr.memoizedState:gn.next;if(r!==null)gn=r,dn=e;else{if(e===null)throw Error(He(310));dn=e,e={memoizedState:dn.memoizedState,baseState:dn.baseState,baseQueue:dn.baseQueue,queue:dn.queue,next:null},gn===null?kr.memoizedState=gn=e:gn=gn.next=e}return gn}function mm(e,r){return typeof r=="function"?r(e):r}function Qg(e){var r=da(),n=r.queue;if(n===null)throw Error(He(311));n.lastRenderedReducer=e;var s=dn,a=s.baseQueue,i=n.pending;if(i!==null){if(a!==null){var o=a.next;a.next=i.next,i.next=o}s.baseQueue=a=i,n.pending=null}if(a!==null){i=a.next,s=s.baseState;var l=o=null,c=null,d=i;do{var m=d.lane;if((zl&m)===m)c!==null&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),s=d.hasEagerState?d.eagerState:e(s,d.action);else{var u={lane:m,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};c===null?(l=c=u,o=s):c=c.next=u,kr.lanes|=m,$l|=m}d=d.next}while(d!==null&&d!==i);c===null?o=s:c.next=l,Oa(s,r.memoizedState)||(fs=!0),r.memoizedState=s,r.baseState=o,r.baseQueue=c,n.lastRenderedState=s}if(e=n.interleaved,e!==null){a=e;do i=a.lane,kr.lanes|=i,$l|=i,a=a.next;while(a!==e)}else a===null&&(n.lanes=0);return[r.memoizedState,n.dispatch]}function Yg(e){var r=da(),n=r.queue;if(n===null)throw Error(He(311));n.lastRenderedReducer=e;var s=n.dispatch,a=n.pending,i=r.memoizedState;if(a!==null){n.pending=null;var o=a=a.next;do i=e(i,o.action),o=o.next;while(o!==a);Oa(i,r.memoizedState)||(fs=!0),r.memoizedState=i,r.baseQueue===null&&(r.baseState=i),n.lastRenderedState=i}return[i,s]}function sS(){}function aS(e,r){var n=kr,s=da(),a=r(),i=!Oa(s.memoizedState,a);if(i&&(s.memoizedState=a,fs=!0),s=s.queue,ny(lS.bind(null,n,s,e),[e]),s.getSnapshot!==r||i||gn!==null&&gn.memoizedState.tag&1){if(n.flags|=2048,pm(9,oS.bind(null,n,s,a,r),void 0,null),bn===null)throw Error(He(349));zl&30||iS(n,r,a)}return a}function iS(e,r,n){e.flags|=16384,e={getSnapshot:r,value:n},r=kr.updateQueue,r===null?(r={lastEffect:null,stores:null},kr.updateQueue=r,r.stores=[e]):(n=r.stores,n===null?r.stores=[e]:n.push(e))}function oS(e,r,n,s){r.value=n,r.getSnapshot=s,cS(r)&&dS(e)}function lS(e,r,n){return n(function(){cS(r)&&dS(e)})}function cS(e){var r=e.getSnapshot;e=e.value;try{var n=r();return!Oa(e,n)}catch{return!0}}function dS(e){var r=Ui(e,1);r!==null&&_a(r,e,1,-1)}function $b(e){var r=ti();return typeof e=="function"&&(e=e()),r.memoizedState=r.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:mm,lastRenderedState:e},r.queue=e,e=e.dispatch=aP.bind(null,kr,e),[r.memoizedState,e]}function pm(e,r,n,s){return e={tag:e,create:r,destroy:n,deps:s,next:null},r=kr.updateQueue,r===null?(r={lastEffect:null,stores:null},kr.updateQueue=r,r.lastEffect=e.next=e):(n=r.lastEffect,n===null?r.lastEffect=e.next=e:(s=n.next,n.next=e,e.next=s,r.lastEffect=e)),e}function uS(){return da().memoizedState}function Dh(e,r,n,s){var a=ti();kr.flags|=e,a.memoizedState=pm(1|r,n,void 0,s===void 0?null:s)}function Gf(e,r,n,s){var a=da();s=s===void 0?null:s;var i=void 0;if(dn!==null){var o=dn.memoizedState;if(i=o.destroy,s!==null&&ey(s,o.deps)){a.memoizedState=pm(r,n,i,s);return}}kr.flags|=e,a.memoizedState=pm(1|r,n,i,s)}function Ub(e,r){return Dh(8390656,8,e,r)}function ny(e,r){return Gf(2048,8,e,r)}function mS(e,r){return Gf(4,2,e,r)}function pS(e,r){return Gf(4,4,e,r)}function hS(e,r){if(typeof r=="function")return e=e(),r(e),function(){r(null)};if(r!=null)return e=e(),r.current=e,function(){r.current=null}}function fS(e,r,n){return n=n!=null?n.concat([e]):null,Gf(4,4,hS.bind(null,r,e),n)}function sy(){}function xS(e,r){var n=da();r=r===void 0?null:r;var s=n.memoizedState;return s!==null&&r!==null&&ey(r,s[1])?s[0]:(n.memoizedState=[e,r],e)}function gS(e,r){var n=da();r=r===void 0?null:r;var s=n.memoizedState;return s!==null&&r!==null&&ey(r,s[1])?s[0]:(e=e(),n.memoizedState=[e,r],e)}function vS(e,r,n){return zl&21?(Oa(n,r)||(n=NN(),kr.lanes|=n,$l|=n,e.baseState=!0),r):(e.baseState&&(e.baseState=!1,fs=!0),e.memoizedState=n)}function nP(e,r){var n=lr;lr=n!==0&&4>n?n:4,e(!0);var s=Gg.transition;Gg.transition={};try{e(!1),r()}finally{lr=n,Gg.transition=s}}function yS(){return da().memoizedState}function sP(e,r,n){var s=To(e);if(n={lane:s,action:n,hasEagerState:!1,eagerState:null,next:null},bS(e))jS(r,n);else if(n=tS(e,r,n,s),n!==null){var a=ns();_a(n,e,s,a),wS(n,r,s)}}function aP(e,r,n){var s=To(e),a={lane:s,action:n,hasEagerState:!1,eagerState:null,next:null};if(bS(e))jS(r,a);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=r.lastRenderedReducer,i!==null))try{var o=r.lastRenderedState,l=i(o,n);if(a.hasEagerState=!0,a.eagerState=l,Oa(l,o)){var c=r.interleaved;c===null?(a.next=a,Y1(r)):(a.next=c.next,c.next=a),r.interleaved=a;return}}catch{}finally{}n=tS(e,r,a,s),n!==null&&(a=ns(),_a(n,e,s,a),wS(n,r,s))}}function bS(e){var r=e.alternate;return e===kr||r!==null&&r===kr}function jS(e,r){Ou=lf=!0;var n=e.pending;n===null?r.next=r:(r.next=n.next,n.next=r),e.pending=r}function wS(e,r,n){if(n&4194240){var s=r.lanes;s&=e.pendingLanes,n|=s,r.lanes=n,F1(e,n)}}var cf={readContext:ca,useCallback:Bn,useContext:Bn,useEffect:Bn,useImperativeHandle:Bn,useInsertionEffect:Bn,useLayoutEffect:Bn,useMemo:Bn,useReducer:Bn,useRef:Bn,useState:Bn,useDebugValue:Bn,useDeferredValue:Bn,useTransition:Bn,useMutableSource:Bn,useSyncExternalStore:Bn,useId:Bn,unstable_isNewReconciler:!1},iP={readContext:ca,useCallback:function(e,r){return ti().memoizedState=[e,r===void 0?null:r],e},useContext:ca,useEffect:Ub,useImperativeHandle:function(e,r,n){return n=n!=null?n.concat([e]):null,Dh(4194308,4,hS.bind(null,r,e),n)},useLayoutEffect:function(e,r){return Dh(4194308,4,e,r)},useInsertionEffect:function(e,r){return Dh(4,2,e,r)},useMemo:function(e,r){var n=ti();return r=r===void 0?null:r,e=e(),n.memoizedState=[e,r],e},useReducer:function(e,r,n){var s=ti();return r=n!==void 0?n(r):r,s.memoizedState=s.baseState=r,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:r},s.queue=e,e=e.dispatch=sP.bind(null,kr,e),[s.memoizedState,e]},useRef:function(e){var r=ti();return e={current:e},r.memoizedState=e},useState:$b,useDebugValue:sy,useDeferredValue:function(e){return ti().memoizedState=e},useTransition:function(){var e=$b(!1),r=e[0];return e=nP.bind(null,e[1]),ti().memoizedState=e,[r,e]},useMutableSource:function(){},useSyncExternalStore:function(e,r,n){var s=kr,a=ti();if(Cr){if(n===void 0)throw Error(He(407));n=n()}else{if(n=r(),bn===null)throw Error(He(349));zl&30||iS(s,r,n)}a.memoizedState=n;var i={value:n,getSnapshot:r};return a.queue=i,Ub(lS.bind(null,s,i,e),[e]),s.flags|=2048,pm(9,oS.bind(null,s,i,n,r),void 0,null),n},useId:function(){var e=ti(),r=bn.identifierPrefix;if(Cr){var n=Mi,s=Oi;n=(s&~(1<<32-Fa(s)-1)).toString(32)+n,r=":"+r+"R"+n,n=um++,0<n&&(r+="H"+n.toString(32)),r+=":"}else n=rP++,r=":"+r+"r"+n.toString(32)+":";return e.memoizedState=r},unstable_isNewReconciler:!1},oP={readContext:ca,useCallback:xS,useContext:ca,useEffect:ny,useImperativeHandle:fS,useInsertionEffect:mS,useLayoutEffect:pS,useMemo:gS,useReducer:Qg,useRef:uS,useState:function(){return Qg(mm)},useDebugValue:sy,useDeferredValue:function(e){var r=da();return vS(r,dn.memoizedState,e)},useTransition:function(){var e=Qg(mm)[0],r=da().memoizedState;return[e,r]},useMutableSource:sS,useSyncExternalStore:aS,useId:yS,unstable_isNewReconciler:!1},lP={readContext:ca,useCallback:xS,useContext:ca,useEffect:ny,useImperativeHandle:fS,useInsertionEffect:mS,useLayoutEffect:pS,useMemo:gS,useReducer:Yg,useRef:uS,useState:function(){return Yg(mm)},useDebugValue:sy,useDeferredValue:function(e){var r=da();return dn===null?r.memoizedState=e:vS(r,dn.memoizedState,e)},useTransition:function(){var e=Yg(mm)[0],r=da().memoizedState;return[e,r]},useMutableSource:sS,useSyncExternalStore:aS,useId:yS,unstable_isNewReconciler:!1};function Aa(e,r){if(e&&e.defaultProps){r=Lr({},r),e=e.defaultProps;for(var n in e)r[n]===void 0&&(r[n]=e[n]);return r}return r}function v0(e,r,n,s){r=e.memoizedState,n=n(s,r),n=n==null?r:Lr({},r,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Qf={isMounted:function(e){return(e=e._reactInternals)?Ql(e)===e:!1},enqueueSetState:function(e,r,n){e=e._reactInternals;var s=ns(),a=To(e),i=Bi(s,a);i.payload=r,n!=null&&(i.callback=n),r=Do(e,i,a),r!==null&&(_a(r,e,a,s),Ih(r,e,a))},enqueueReplaceState:function(e,r,n){e=e._reactInternals;var s=ns(),a=To(e),i=Bi(s,a);i.tag=1,i.payload=r,n!=null&&(i.callback=n),r=Do(e,i,a),r!==null&&(_a(r,e,a,s),Ih(r,e,a))},enqueueForceUpdate:function(e,r){e=e._reactInternals;var n=ns(),s=To(e),a=Bi(n,s);a.tag=2,r!=null&&(a.callback=r),r=Do(e,a,s),r!==null&&(_a(r,e,s,n),Ih(r,e,s))}};function Vb(e,r,n,s,a,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(s,i,o):r.prototype&&r.prototype.isPureReactComponent?!am(n,s)||!am(a,i):!0}function NS(e,r,n){var s=!1,a=Uo,i=r.contextType;return typeof i=="object"&&i!==null?i=ca(i):(a=gs(r)?Ml:Yn.current,s=r.contextTypes,i=(s=s!=null)?id(e,a):Uo),r=new r(n,i),e.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,r.updater=Qf,e.stateNode=r,r._reactInternals=e,s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=i),r}function Wb(e,r,n,s){e=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(n,s),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(n,s),r.state!==e&&Qf.enqueueReplaceState(r,r.state,null)}function y0(e,r,n,s){var a=e.stateNode;a.props=n,a.state=e.memoizedState,a.refs={},K1(e);var i=r.contextType;typeof i=="object"&&i!==null?a.context=ca(i):(i=gs(r)?Ml:Yn.current,a.context=id(e,i)),a.state=e.memoizedState,i=r.getDerivedStateFromProps,typeof i=="function"&&(v0(e,r,i,n),a.state=e.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(r=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),r!==a.state&&Qf.enqueueReplaceState(a,a.state,null),af(e,n,a,s),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function dd(e,r){try{var n="",s=r;do n+=_6(s),s=s.return;while(s);var a=n}catch(i){a=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:r,stack:a,digest:null}}function Kg(e,r,n){return{value:e,source:null,stack:n??null,digest:r??null}}function b0(e,r){try{console.error(r.value)}catch(n){setTimeout(function(){throw n})}}var cP=typeof WeakMap=="function"?WeakMap:Map;function SS(e,r,n){n=Bi(-1,n),n.tag=3,n.payload={element:null};var s=r.value;return n.callback=function(){uf||(uf=!0,D0=s),b0(e,r)},n}function CS(e,r,n){n=Bi(-1,n),n.tag=3;var s=e.type.getDerivedStateFromError;if(typeof s=="function"){var a=r.value;n.payload=function(){return s(a)},n.callback=function(){b0(e,r)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){b0(e,r),typeof s!="function"&&(ko===null?ko=new Set([this]):ko.add(this));var o=r.stack;this.componentDidCatch(r.value,{componentStack:o!==null?o:""})}),n}function qb(e,r,n){var s=e.pingCache;if(s===null){s=e.pingCache=new cP;var a=new Set;s.set(r,a)}else a=s.get(r),a===void 0&&(a=new Set,s.set(r,a));a.has(n)||(a.add(n),e=NP.bind(null,e,r,n),r.then(e,e))}function Hb(e){do{var r;if((r=e.tag===13)&&(r=e.memoizedState,r=r!==null?r.dehydrated!==null:!0),r)return e;e=e.return}while(e!==null);return null}function Gb(e,r,n,s,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===r?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(r=Bi(-1,1),r.tag=2,Do(n,r,1))),n.lanes|=1),e)}var dP=Gi.ReactCurrentOwner,fs=!1;function rs(e,r,n,s){r.child=e===null?eS(r,null,n,s):ld(r,e.child,n,s)}function Qb(e,r,n,s,a){n=n.render;var i=r.ref;return td(r,a),s=ty(e,r,n,s,i,a),n=ry(),e!==null&&!fs?(r.updateQueue=e.updateQueue,r.flags&=-2053,e.lanes&=~a,Vi(e,r,a)):(Cr&&n&&V1(r),r.flags|=1,rs(e,r,s,a),r.child)}function Yb(e,r,n,s,a){if(e===null){var i=n.type;return typeof i=="function"&&!my(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(r.tag=15,r.type=i,AS(e,r,i,s,a)):(e=Rh(n.type,null,s,r,r.mode,a),e.ref=r.ref,e.return=r,r.child=e)}if(i=e.child,!(e.lanes&a)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:am,n(o,s)&&e.ref===r.ref)return Vi(e,r,a)}return r.flags|=1,e=Lo(i,s),e.ref=r.ref,e.return=r,r.child=e}function AS(e,r,n,s,a){if(e!==null){var i=e.memoizedProps;if(am(i,s)&&e.ref===r.ref)if(fs=!1,r.pendingProps=s=i,(e.lanes&a)!==0)e.flags&131072&&(fs=!0);else return r.lanes=e.lanes,Vi(e,r,a)}return j0(e,r,n,s,a)}function ES(e,r,n){var s=r.pendingProps,a=s.children,i=e!==null?e.memoizedState:null;if(s.mode==="hidden")if(!(r.mode&1))r.memoizedState={baseLanes:0,cachePool:null,transitions:null},yr(Kc,Is),Is|=n;else{if(!(n&1073741824))return e=i!==null?i.baseLanes|n:n,r.lanes=r.childLanes=1073741824,r.memoizedState={baseLanes:e,cachePool:null,transitions:null},r.updateQueue=null,yr(Kc,Is),Is|=e,null;r.memoizedState={baseLanes:0,cachePool:null,transitions:null},s=i!==null?i.baseLanes:n,yr(Kc,Is),Is|=s}else i!==null?(s=i.baseLanes|n,r.memoizedState=null):s=n,yr(Kc,Is),Is|=s;return rs(e,r,a,n),r.child}function IS(e,r){var n=r.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(r.flags|=512,r.flags|=2097152)}function j0(e,r,n,s,a){var i=gs(n)?Ml:Yn.current;return i=id(r,i),td(r,a),n=ty(e,r,n,s,i,a),s=ry(),e!==null&&!fs?(r.updateQueue=e.updateQueue,r.flags&=-2053,e.lanes&=~a,Vi(e,r,a)):(Cr&&s&&V1(r),r.flags|=1,rs(e,r,n,a),r.child)}function Kb(e,r,n,s,a){if(gs(n)){var i=!0;ef(r)}else i=!1;if(td(r,a),r.stateNode===null)kh(e,r),NS(r,n,s),y0(r,n,s,a),s=!0;else if(e===null){var o=r.stateNode,l=r.memoizedProps;o.props=l;var c=o.context,d=n.contextType;typeof d=="object"&&d!==null?d=ca(d):(d=gs(n)?Ml:Yn.current,d=id(r,d));var m=n.getDerivedStateFromProps,u=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function";u||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==s||c!==d)&&Wb(r,o,s,d),vo=!1;var h=r.memoizedState;o.state=h,af(r,s,o,a),c=r.memoizedState,l!==s||h!==c||xs.current||vo?(typeof m=="function"&&(v0(r,n,m,s),c=r.memoizedState),(l=vo||Vb(r,n,l,s,h,c,d))?(u||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(r.flags|=4194308)):(typeof o.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=s,r.memoizedState=c),o.props=s,o.state=c,o.context=d,s=l):(typeof o.componentDidMount=="function"&&(r.flags|=4194308),s=!1)}else{o=r.stateNode,rS(e,r),l=r.memoizedProps,d=r.type===r.elementType?l:Aa(r.type,l),o.props=d,u=r.pendingProps,h=o.context,c=n.contextType,typeof c=="object"&&c!==null?c=ca(c):(c=gs(n)?Ml:Yn.current,c=id(r,c));var p=n.getDerivedStateFromProps;(m=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==u||h!==c)&&Wb(r,o,s,c),vo=!1,h=r.memoizedState,o.state=h,af(r,s,o,a);var g=r.memoizedState;l!==u||h!==g||xs.current||vo?(typeof p=="function"&&(v0(r,n,p,s),g=r.memoizedState),(d=vo||Vb(r,n,d,s,h,g,c)||!1)?(m||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(s,g,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(s,g,c)),typeof o.componentDidUpdate=="function"&&(r.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(r.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(r.flags|=1024),r.memoizedProps=s,r.memoizedState=g),o.props=s,o.state=g,o.context=c,s=d):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(r.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(r.flags|=1024),s=!1)}return w0(e,r,n,s,i,a)}function w0(e,r,n,s,a,i){IS(e,r);var o=(r.flags&128)!==0;if(!s&&!o)return a&&Fb(r,n,!1),Vi(e,r,i);s=r.stateNode,dP.current=r;var l=o&&typeof n.getDerivedStateFromError!="function"?null:s.render();return r.flags|=1,e!==null&&o?(r.child=ld(r,e.child,null,i),r.child=ld(r,null,l,i)):rs(e,r,l,i),r.memoizedState=s.state,a&&Fb(r,n,!0),r.child}function PS(e){var r=e.stateNode;r.pendingContext?Rb(e,r.pendingContext,r.pendingContext!==r.context):r.context&&Rb(e,r.context,!1),J1(e,r.containerInfo)}function Jb(e,r,n,s,a){return od(),q1(a),r.flags|=256,rs(e,r,n,s),r.child}var N0={dehydrated:null,treeContext:null,retryLane:0};function S0(e){return{baseLanes:e,cachePool:null,transitions:null}}function DS(e,r,n){var s=r.pendingProps,a=Dr.current,i=!1,o=(r.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(a&2)!==0),l?(i=!0,r.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),yr(Dr,a&1),e===null)return x0(r),e=r.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(r.mode&1?e.data==="$!"?r.lanes=8:r.lanes=1073741824:r.lanes=1,null):(o=s.children,e=s.fallback,i?(s=r.mode,i=r.child,o={mode:"hidden",children:o},!(s&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Jf(o,s,0,null),e=Tl(e,s,n,null),i.return=r,e.return=r,i.sibling=e,r.child=i,r.child.memoizedState=S0(n),r.memoizedState=N0,e):ay(r,o));if(a=e.memoizedState,a!==null&&(l=a.dehydrated,l!==null))return uP(e,r,o,s,l,a,n);if(i){i=s.fallback,o=r.mode,a=e.child,l=a.sibling;var c={mode:"hidden",children:s.children};return!(o&1)&&r.child!==a?(s=r.child,s.childLanes=0,s.pendingProps=c,r.deletions=null):(s=Lo(a,c),s.subtreeFlags=a.subtreeFlags&14680064),l!==null?i=Lo(l,i):(i=Tl(i,o,n,null),i.flags|=2),i.return=r,s.return=r,s.sibling=i,r.child=s,s=i,i=r.child,o=e.child.memoizedState,o=o===null?S0(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~n,r.memoizedState=N0,s}return i=e.child,e=i.sibling,s=Lo(i,{mode:"visible",children:s.children}),!(r.mode&1)&&(s.lanes=n),s.return=r,s.sibling=null,e!==null&&(n=r.deletions,n===null?(r.deletions=[e],r.flags|=16):n.push(e)),r.child=s,r.memoizedState=null,s}function ay(e,r){return r=Jf({mode:"visible",children:r},e.mode,0,null),r.return=e,e.child=r}function Zp(e,r,n,s){return s!==null&&q1(s),ld(r,e.child,null,n),e=ay(r,r.pendingProps.children),e.flags|=2,r.memoizedState=null,e}function uP(e,r,n,s,a,i,o){if(n)return r.flags&256?(r.flags&=-257,s=Kg(Error(He(422))),Zp(e,r,o,s)):r.memoizedState!==null?(r.child=e.child,r.flags|=128,null):(i=s.fallback,a=r.mode,s=Jf({mode:"visible",children:s.children},a,0,null),i=Tl(i,a,o,null),i.flags|=2,s.return=r,i.return=r,s.sibling=i,r.child=s,r.mode&1&&ld(r,e.child,null,o),r.child.memoizedState=S0(o),r.memoizedState=N0,i);if(!(r.mode&1))return Zp(e,r,o,null);if(a.data==="$!"){if(s=a.nextSibling&&a.nextSibling.dataset,s)var l=s.dgst;return s=l,i=Error(He(419)),s=Kg(i,s,void 0),Zp(e,r,o,s)}if(l=(o&e.childLanes)!==0,fs||l){if(s=bn,s!==null){switch(o&-o){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(s.suspendedLanes|o)?0:a,a!==0&&a!==i.retryLane&&(i.retryLane=a,Ui(e,a),_a(s,e,a,-1))}return uy(),s=Kg(Error(He(421))),Zp(e,r,o,s)}return a.data==="$?"?(r.flags|=128,r.child=e.child,r=SP.bind(null,e),a._reactRetry=r,null):(e=i.treeContext,ks=Po(a.nextSibling),Rs=r,Cr=!0,Da=null,e!==null&&(na[sa++]=Oi,na[sa++]=Mi,na[sa++]=Bl,Oi=e.id,Mi=e.overflow,Bl=r),r=ay(r,s.children),r.flags|=4096,r)}function Xb(e,r,n){e.lanes|=r;var s=e.alternate;s!==null&&(s.lanes|=r),g0(e.return,r,n)}function Jg(e,r,n,s,a){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:s,tail:n,tailMode:a}:(i.isBackwards=r,i.rendering=null,i.renderingStartTime=0,i.last=s,i.tail=n,i.tailMode=a)}function kS(e,r,n){var s=r.pendingProps,a=s.revealOrder,i=s.tail;if(rs(e,r,s.children,n),s=Dr.current,s&2)s=s&1|2,r.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=r.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Xb(e,n,r);else if(e.tag===19)Xb(e,n,r);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===r)break e;for(;e.sibling===null;){if(e.return===null||e.return===r)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}s&=1}if(yr(Dr,s),!(r.mode&1))r.memoizedState=null;else switch(a){case"forwards":for(n=r.child,a=null;n!==null;)e=n.alternate,e!==null&&of(e)===null&&(a=n),n=n.sibling;n=a,n===null?(a=r.child,r.child=null):(a=n.sibling,n.sibling=null),Jg(r,!1,a,n,i);break;case"backwards":for(n=null,a=r.child,r.child=null;a!==null;){if(e=a.alternate,e!==null&&of(e)===null){r.child=a;break}e=a.sibling,a.sibling=n,n=a,a=e}Jg(r,!0,n,null,i);break;case"together":Jg(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function kh(e,r){!(r.mode&1)&&e!==null&&(e.alternate=null,r.alternate=null,r.flags|=2)}function Vi(e,r,n){if(e!==null&&(r.dependencies=e.dependencies),$l|=r.lanes,!(n&r.childLanes))return null;if(e!==null&&r.child!==e.child)throw Error(He(153));if(r.child!==null){for(e=r.child,n=Lo(e,e.pendingProps),r.child=n,n.return=r;e.sibling!==null;)e=e.sibling,n=n.sibling=Lo(e,e.pendingProps),n.return=r;n.sibling=null}return r.child}function mP(e,r,n){switch(r.tag){case 3:PS(r),od();break;case 5:nS(r);break;case 1:gs(r.type)&&ef(r);break;case 4:J1(r,r.stateNode.containerInfo);break;case 10:var s=r.type._context,a=r.memoizedProps.value;yr(nf,s._currentValue),s._currentValue=a;break;case 13:if(s=r.memoizedState,s!==null)return s.dehydrated!==null?(yr(Dr,Dr.current&1),r.flags|=128,null):n&r.child.childLanes?DS(e,r,n):(yr(Dr,Dr.current&1),e=Vi(e,r,n),e!==null?e.sibling:null);yr(Dr,Dr.current&1);break;case 19:if(s=(n&r.childLanes)!==0,e.flags&128){if(s)return kS(e,r,n);r.flags|=128}if(a=r.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),yr(Dr,Dr.current),s)break;return null;case 22:case 23:return r.lanes=0,ES(e,r,n)}return Vi(e,r,n)}var TS,C0,LS,RS;TS=function(e,r){for(var n=r.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===r)break;for(;n.sibling===null;){if(n.return===null||n.return===r)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};C0=function(){};LS=function(e,r,n,s){var a=e.memoizedProps;if(a!==s){e=r.stateNode,Sl(ui.current);var i=null;switch(n){case"input":a=Gv(e,a),s=Gv(e,s),i=[];break;case"select":a=Lr({},a,{value:void 0}),s=Lr({},s,{value:void 0}),i=[];break;case"textarea":a=Kv(e,a),s=Kv(e,s),i=[];break;default:typeof a.onClick!="function"&&typeof s.onClick=="function"&&(e.onclick=Xh)}Xv(n,s);var o;n=null;for(d in a)if(!s.hasOwnProperty(d)&&a.hasOwnProperty(d)&&a[d]!=null)if(d==="style"){var l=a[d];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(Xu.hasOwnProperty(d)?i||(i=[]):(i=i||[]).push(d,null));for(d in s){var c=s[d];if(l=a!=null?a[d]:void 0,s.hasOwnProperty(d)&&c!==l&&(c!=null||l!=null))if(d==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(i||(i=[]),i.push(d,n)),n=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(i=i||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(Xu.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&jr("scroll",e),i||l===c||(i=[])):(i=i||[]).push(d,c))}n&&(i=i||[]).push("style",n);var d=i;(r.updateQueue=d)&&(r.flags|=4)}};RS=function(e,r,n,s){n!==s&&(r.flags|=4)};function gu(e,r){if(!Cr)switch(e.tailMode){case"hidden":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?r||e.tail===null?e.tail=null:e.tail.sibling=null:s.sibling=null}}function zn(e){var r=e.alternate!==null&&e.alternate.child===e.child,n=0,s=0;if(r)for(var a=e.child;a!==null;)n|=a.lanes|a.childLanes,s|=a.subtreeFlags&14680064,s|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)n|=a.lanes|a.childLanes,s|=a.subtreeFlags,s|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=s,e.childLanes=n,r}function pP(e,r,n){var s=r.pendingProps;switch(W1(r),r.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return zn(r),null;case 1:return gs(r.type)&&Zh(),zn(r),null;case 3:return s=r.stateNode,cd(),Sr(xs),Sr(Yn),Z1(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(Jp(r)?r.flags|=4:e===null||e.memoizedState.isDehydrated&&!(r.flags&256)||(r.flags|=1024,Da!==null&&(L0(Da),Da=null))),C0(e,r),zn(r),null;case 5:X1(r);var a=Sl(dm.current);if(n=r.type,e!==null&&r.stateNode!=null)LS(e,r,n,s,a),e.ref!==r.ref&&(r.flags|=512,r.flags|=2097152);else{if(!s){if(r.stateNode===null)throw Error(He(166));return zn(r),null}if(e=Sl(ui.current),Jp(r)){s=r.stateNode,n=r.type;var i=r.memoizedProps;switch(s[ai]=r,s[lm]=i,e=(r.mode&1)!==0,n){case"dialog":jr("cancel",s),jr("close",s);break;case"iframe":case"object":case"embed":jr("load",s);break;case"video":case"audio":for(a=0;a<Du.length;a++)jr(Du[a],s);break;case"source":jr("error",s);break;case"img":case"image":case"link":jr("error",s),jr("load",s);break;case"details":jr("toggle",s);break;case"input":ob(s,i),jr("invalid",s);break;case"select":s._wrapperState={wasMultiple:!!i.multiple},jr("invalid",s);break;case"textarea":cb(s,i),jr("invalid",s)}Xv(n,i),a=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?s.textContent!==l&&(i.suppressHydrationWarning!==!0&&Kp(s.textContent,l,e),a=["children",l]):typeof l=="number"&&s.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&Kp(s.textContent,l,e),a=["children",""+l]):Xu.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&jr("scroll",s)}switch(n){case"input":Up(s),lb(s,i,!0);break;case"textarea":Up(s),db(s);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(s.onclick=Xh)}s=a,r.updateQueue=s,s!==null&&(r.flags|=4)}else{o=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=lN(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof s.is=="string"?e=o.createElement(n,{is:s.is}):(e=o.createElement(n),n==="select"&&(o=e,s.multiple?o.multiple=!0:s.size&&(o.size=s.size))):e=o.createElementNS(e,n),e[ai]=r,e[lm]=s,TS(e,r,!1,!1),r.stateNode=e;e:{switch(o=Zv(n,s),n){case"dialog":jr("cancel",e),jr("close",e),a=s;break;case"iframe":case"object":case"embed":jr("load",e),a=s;break;case"video":case"audio":for(a=0;a<Du.length;a++)jr(Du[a],e);a=s;break;case"source":jr("error",e),a=s;break;case"img":case"image":case"link":jr("error",e),jr("load",e),a=s;break;case"details":jr("toggle",e),a=s;break;case"input":ob(e,s),a=Gv(e,s),jr("invalid",e);break;case"option":a=s;break;case"select":e._wrapperState={wasMultiple:!!s.multiple},a=Lr({},s,{value:void 0}),jr("invalid",e);break;case"textarea":cb(e,s),a=Kv(e,s),jr("invalid",e);break;default:a=s}Xv(n,a),l=a;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="style"?uN(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&cN(e,c)):i==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&Zu(e,c):typeof c=="number"&&Zu(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Xu.hasOwnProperty(i)?c!=null&&i==="onScroll"&&jr("scroll",e):c!=null&&P1(e,i,c,o))}switch(n){case"input":Up(e),lb(e,s,!1);break;case"textarea":Up(e),db(e);break;case"option":s.value!=null&&e.setAttribute("value",""+$o(s.value));break;case"select":e.multiple=!!s.multiple,i=s.value,i!=null?Jc(e,!!s.multiple,i,!1):s.defaultValue!=null&&Jc(e,!!s.multiple,s.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=Xh)}switch(n){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}}s&&(r.flags|=4)}r.ref!==null&&(r.flags|=512,r.flags|=2097152)}return zn(r),null;case 6:if(e&&r.stateNode!=null)RS(e,r,e.memoizedProps,s);else{if(typeof s!="string"&&r.stateNode===null)throw Error(He(166));if(n=Sl(dm.current),Sl(ui.current),Jp(r)){if(s=r.stateNode,n=r.memoizedProps,s[ai]=r,(i=s.nodeValue!==n)&&(e=Rs,e!==null))switch(e.tag){case 3:Kp(s.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Kp(s.nodeValue,n,(e.mode&1)!==0)}i&&(r.flags|=4)}else s=(n.nodeType===9?n:n.ownerDocument).createTextNode(s),s[ai]=r,r.stateNode=s}return zn(r),null;case 13:if(Sr(Dr),s=r.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Cr&&ks!==null&&r.mode&1&&!(r.flags&128))XN(),od(),r.flags|=98560,i=!1;else if(i=Jp(r),s!==null&&s.dehydrated!==null){if(e===null){if(!i)throw Error(He(318));if(i=r.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(He(317));i[ai]=r}else od(),!(r.flags&128)&&(r.memoizedState=null),r.flags|=4;zn(r),i=!1}else Da!==null&&(L0(Da),Da=null),i=!0;if(!i)return r.flags&65536?r:null}return r.flags&128?(r.lanes=n,r):(s=s!==null,s!==(e!==null&&e.memoizedState!==null)&&s&&(r.child.flags|=8192,r.mode&1&&(e===null||Dr.current&1?mn===0&&(mn=3):uy())),r.updateQueue!==null&&(r.flags|=4),zn(r),null);case 4:return cd(),C0(e,r),e===null&&im(r.stateNode.containerInfo),zn(r),null;case 10:return Q1(r.type._context),zn(r),null;case 17:return gs(r.type)&&Zh(),zn(r),null;case 19:if(Sr(Dr),i=r.memoizedState,i===null)return zn(r),null;if(s=(r.flags&128)!==0,o=i.rendering,o===null)if(s)gu(i,!1);else{if(mn!==0||e!==null&&e.flags&128)for(e=r.child;e!==null;){if(o=of(e),o!==null){for(r.flags|=128,gu(i,!1),s=o.updateQueue,s!==null&&(r.updateQueue=s,r.flags|=4),r.subtreeFlags=0,s=n,n=r.child;n!==null;)i=n,e=s,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return yr(Dr,Dr.current&1|2),r.child}e=e.sibling}i.tail!==null&&Gr()>ud&&(r.flags|=128,s=!0,gu(i,!1),r.lanes=4194304)}else{if(!s)if(e=of(o),e!==null){if(r.flags|=128,s=!0,n=e.updateQueue,n!==null&&(r.updateQueue=n,r.flags|=4),gu(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!Cr)return zn(r),null}else 2*Gr()-i.renderingStartTime>ud&&n!==1073741824&&(r.flags|=128,s=!0,gu(i,!1),r.lanes=4194304);i.isBackwards?(o.sibling=r.child,r.child=o):(n=i.last,n!==null?n.sibling=o:r.child=o,i.last=o)}return i.tail!==null?(r=i.tail,i.rendering=r,i.tail=r.sibling,i.renderingStartTime=Gr(),r.sibling=null,n=Dr.current,yr(Dr,s?n&1|2:n&1),r):(zn(r),null);case 22:case 23:return dy(),s=r.memoizedState!==null,e!==null&&e.memoizedState!==null!==s&&(r.flags|=8192),s&&r.mode&1?Is&1073741824&&(zn(r),r.subtreeFlags&6&&(r.flags|=8192)):zn(r),null;case 24:return null;case 25:return null}throw Error(He(156,r.tag))}function hP(e,r){switch(W1(r),r.tag){case 1:return gs(r.type)&&Zh(),e=r.flags,e&65536?(r.flags=e&-65537|128,r):null;case 3:return cd(),Sr(xs),Sr(Yn),Z1(),e=r.flags,e&65536&&!(e&128)?(r.flags=e&-65537|128,r):null;case 5:return X1(r),null;case 13:if(Sr(Dr),e=r.memoizedState,e!==null&&e.dehydrated!==null){if(r.alternate===null)throw Error(He(340));od()}return e=r.flags,e&65536?(r.flags=e&-65537|128,r):null;case 19:return Sr(Dr),null;case 4:return cd(),null;case 10:return Q1(r.type._context),null;case 22:case 23:return dy(),null;case 24:return null;default:return null}}var eh=!1,qn=!1,fP=typeof WeakSet=="function"?WeakSet:Set,ht=null;function Yc(e,r){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(s){Br(e,r,s)}else n.current=null}function A0(e,r,n){try{n()}catch(s){Br(e,r,s)}}var Zb=!1;function xP(e,r){if(c0=Yh,e=BN(),U1(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var s=n.getSelection&&n.getSelection();if(s&&s.rangeCount!==0){n=s.anchorNode;var a=s.anchorOffset,i=s.focusNode;s=s.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,l=-1,c=-1,d=0,m=0,u=e,h=null;t:for(;;){for(var p;u!==n||a!==0&&u.nodeType!==3||(l=o+a),u!==i||s!==0&&u.nodeType!==3||(c=o+s),u.nodeType===3&&(o+=u.nodeValue.length),(p=u.firstChild)!==null;)h=u,u=p;for(;;){if(u===e)break t;if(h===n&&++d===a&&(l=o),h===i&&++m===s&&(c=o),(p=u.nextSibling)!==null)break;u=h,h=u.parentNode}u=p}n=l===-1||c===-1?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(d0={focusedElem:e,selectionRange:n},Yh=!1,ht=r;ht!==null;)if(r=ht,e=r.child,(r.subtreeFlags&1028)!==0&&e!==null)e.return=r,ht=e;else for(;ht!==null;){r=ht;try{var g=r.alternate;if(r.flags&1024)switch(r.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var b=g.memoizedProps,j=g.memoizedState,x=r.stateNode,v=x.getSnapshotBeforeUpdate(r.elementType===r.type?b:Aa(r.type,b),j);x.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var y=r.stateNode.containerInfo;y.nodeType===1?y.textContent="":y.nodeType===9&&y.documentElement&&y.removeChild(y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(He(163))}}catch(E){Br(r,r.return,E)}if(e=r.sibling,e!==null){e.return=r.return,ht=e;break}ht=r.return}return g=Zb,Zb=!1,g}function Mu(e,r,n){var s=r.updateQueue;if(s=s!==null?s.lastEffect:null,s!==null){var a=s=s.next;do{if((a.tag&e)===e){var i=a.destroy;a.destroy=void 0,i!==void 0&&A0(r,n,i)}a=a.next}while(a!==s)}}function Yf(e,r){if(r=r.updateQueue,r=r!==null?r.lastEffect:null,r!==null){var n=r=r.next;do{if((n.tag&e)===e){var s=n.create;n.destroy=s()}n=n.next}while(n!==r)}}function E0(e){var r=e.ref;if(r!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof r=="function"?r(e):r.current=e}}function FS(e){var r=e.alternate;r!==null&&(e.alternate=null,FS(r)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(r=e.stateNode,r!==null&&(delete r[ai],delete r[lm],delete r[p0],delete r[XI],delete r[ZI])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function _S(e){return e.tag===5||e.tag===3||e.tag===4}function ej(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||_S(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function I0(e,r,n){var s=e.tag;if(s===5||s===6)e=e.stateNode,r?n.nodeType===8?n.parentNode.insertBefore(e,r):n.insertBefore(e,r):(n.nodeType===8?(r=n.parentNode,r.insertBefore(e,n)):(r=n,r.appendChild(e)),n=n._reactRootContainer,n!=null||r.onclick!==null||(r.onclick=Xh));else if(s!==4&&(e=e.child,e!==null))for(I0(e,r,n),e=e.sibling;e!==null;)I0(e,r,n),e=e.sibling}function P0(e,r,n){var s=e.tag;if(s===5||s===6)e=e.stateNode,r?n.insertBefore(e,r):n.appendChild(e);else if(s!==4&&(e=e.child,e!==null))for(P0(e,r,n),e=e.sibling;e!==null;)P0(e,r,n),e=e.sibling}var Pn=null,Pa=!1;function uo(e,r,n){for(n=n.child;n!==null;)OS(e,r,n),n=n.sibling}function OS(e,r,n){if(di&&typeof di.onCommitFiberUnmount=="function")try{di.onCommitFiberUnmount($f,n)}catch{}switch(n.tag){case 5:qn||Yc(n,r);case 6:var s=Pn,a=Pa;Pn=null,uo(e,r,n),Pn=s,Pa=a,Pn!==null&&(Pa?(e=Pn,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Pn.removeChild(n.stateNode));break;case 18:Pn!==null&&(Pa?(e=Pn,n=n.stateNode,e.nodeType===8?Wg(e.parentNode,n):e.nodeType===1&&Wg(e,n),nm(e)):Wg(Pn,n.stateNode));break;case 4:s=Pn,a=Pa,Pn=n.stateNode.containerInfo,Pa=!0,uo(e,r,n),Pn=s,Pa=a;break;case 0:case 11:case 14:case 15:if(!qn&&(s=n.updateQueue,s!==null&&(s=s.lastEffect,s!==null))){a=s=s.next;do{var i=a,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&A0(n,r,o),a=a.next}while(a!==s)}uo(e,r,n);break;case 1:if(!qn&&(Yc(n,r),s=n.stateNode,typeof s.componentWillUnmount=="function"))try{s.props=n.memoizedProps,s.state=n.memoizedState,s.componentWillUnmount()}catch(l){Br(n,r,l)}uo(e,r,n);break;case 21:uo(e,r,n);break;case 22:n.mode&1?(qn=(s=qn)||n.memoizedState!==null,uo(e,r,n),qn=s):uo(e,r,n);break;default:uo(e,r,n)}}function tj(e){var r=e.updateQueue;if(r!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new fP),r.forEach(function(s){var a=CP.bind(null,e,s);n.has(s)||(n.add(s),s.then(a,a))})}}function wa(e,r){var n=r.deletions;if(n!==null)for(var s=0;s<n.length;s++){var a=n[s];try{var i=e,o=r,l=o;e:for(;l!==null;){switch(l.tag){case 5:Pn=l.stateNode,Pa=!1;break e;case 3:Pn=l.stateNode.containerInfo,Pa=!0;break e;case 4:Pn=l.stateNode.containerInfo,Pa=!0;break e}l=l.return}if(Pn===null)throw Error(He(160));OS(i,o,a),Pn=null,Pa=!1;var c=a.alternate;c!==null&&(c.return=null),a.return=null}catch(d){Br(a,r,d)}}if(r.subtreeFlags&12854)for(r=r.child;r!==null;)MS(r,e),r=r.sibling}function MS(e,r){var n=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(wa(r,e),Xa(e),s&4){try{Mu(3,e,e.return),Yf(3,e)}catch(b){Br(e,e.return,b)}try{Mu(5,e,e.return)}catch(b){Br(e,e.return,b)}}break;case 1:wa(r,e),Xa(e),s&512&&n!==null&&Yc(n,n.return);break;case 5:if(wa(r,e),Xa(e),s&512&&n!==null&&Yc(n,n.return),e.flags&32){var a=e.stateNode;try{Zu(a,"")}catch(b){Br(e,e.return,b)}}if(s&4&&(a=e.stateNode,a!=null)){var i=e.memoizedProps,o=n!==null?n.memoizedProps:i,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&iN(a,i),Zv(l,o);var d=Zv(l,i);for(o=0;o<c.length;o+=2){var m=c[o],u=c[o+1];m==="style"?uN(a,u):m==="dangerouslySetInnerHTML"?cN(a,u):m==="children"?Zu(a,u):P1(a,m,u,d)}switch(l){case"input":Qv(a,i);break;case"textarea":oN(a,i);break;case"select":var h=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!i.multiple;var p=i.value;p!=null?Jc(a,!!i.multiple,p,!1):h!==!!i.multiple&&(i.defaultValue!=null?Jc(a,!!i.multiple,i.defaultValue,!0):Jc(a,!!i.multiple,i.multiple?[]:"",!1))}a[lm]=i}catch(b){Br(e,e.return,b)}}break;case 6:if(wa(r,e),Xa(e),s&4){if(e.stateNode===null)throw Error(He(162));a=e.stateNode,i=e.memoizedProps;try{a.nodeValue=i}catch(b){Br(e,e.return,b)}}break;case 3:if(wa(r,e),Xa(e),s&4&&n!==null&&n.memoizedState.isDehydrated)try{nm(r.containerInfo)}catch(b){Br(e,e.return,b)}break;case 4:wa(r,e),Xa(e);break;case 13:wa(r,e),Xa(e),a=e.child,a.flags&8192&&(i=a.memoizedState!==null,a.stateNode.isHidden=i,!i||a.alternate!==null&&a.alternate.memoizedState!==null||(ly=Gr())),s&4&&tj(e);break;case 22:if(m=n!==null&&n.memoizedState!==null,e.mode&1?(qn=(d=qn)||m,wa(r,e),qn=d):wa(r,e),Xa(e),s&8192){if(d=e.memoizedState!==null,(e.stateNode.isHidden=d)&&!m&&e.mode&1)for(ht=e,m=e.child;m!==null;){for(u=ht=m;ht!==null;){switch(h=ht,p=h.child,h.tag){case 0:case 11:case 14:case 15:Mu(4,h,h.return);break;case 1:Yc(h,h.return);var g=h.stateNode;if(typeof g.componentWillUnmount=="function"){s=h,n=h.return;try{r=s,g.props=r.memoizedProps,g.state=r.memoizedState,g.componentWillUnmount()}catch(b){Br(s,n,b)}}break;case 5:Yc(h,h.return);break;case 22:if(h.memoizedState!==null){nj(u);continue}}p!==null?(p.return=h,ht=p):nj(u)}m=m.sibling}e:for(m=null,u=e;;){if(u.tag===5){if(m===null){m=u;try{a=u.stateNode,d?(i=a.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=u.stateNode,c=u.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=dN("display",o))}catch(b){Br(e,e.return,b)}}}else if(u.tag===6){if(m===null)try{u.stateNode.nodeValue=d?"":u.memoizedProps}catch(b){Br(e,e.return,b)}}else if((u.tag!==22&&u.tag!==23||u.memoizedState===null||u===e)&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===e)break e;for(;u.sibling===null;){if(u.return===null||u.return===e)break e;m===u&&(m=null),u=u.return}m===u&&(m=null),u.sibling.return=u.return,u=u.sibling}}break;case 19:wa(r,e),Xa(e),s&4&&tj(e);break;case 21:break;default:wa(r,e),Xa(e)}}function Xa(e){var r=e.flags;if(r&2){try{e:{for(var n=e.return;n!==null;){if(_S(n)){var s=n;break e}n=n.return}throw Error(He(160))}switch(s.tag){case 5:var a=s.stateNode;s.flags&32&&(Zu(a,""),s.flags&=-33);var i=ej(e);P0(e,i,a);break;case 3:case 4:var o=s.stateNode.containerInfo,l=ej(e);I0(e,l,o);break;default:throw Error(He(161))}}catch(c){Br(e,e.return,c)}e.flags&=-3}r&4096&&(e.flags&=-4097)}function gP(e,r,n){ht=e,BS(e)}function BS(e,r,n){for(var s=(e.mode&1)!==0;ht!==null;){var a=ht,i=a.child;if(a.tag===22&&s){var o=a.memoizedState!==null||eh;if(!o){var l=a.alternate,c=l!==null&&l.memoizedState!==null||qn;l=eh;var d=qn;if(eh=o,(qn=c)&&!d)for(ht=a;ht!==null;)o=ht,c=o.child,o.tag===22&&o.memoizedState!==null?sj(a):c!==null?(c.return=o,ht=c):sj(a);for(;i!==null;)ht=i,BS(i),i=i.sibling;ht=a,eh=l,qn=d}rj(e)}else a.subtreeFlags&8772&&i!==null?(i.return=a,ht=i):rj(e)}}function rj(e){for(;ht!==null;){var r=ht;if(r.flags&8772){var n=r.alternate;try{if(r.flags&8772)switch(r.tag){case 0:case 11:case 15:qn||Yf(5,r);break;case 1:var s=r.stateNode;if(r.flags&4&&!qn)if(n===null)s.componentDidMount();else{var a=r.elementType===r.type?n.memoizedProps:Aa(r.type,n.memoizedProps);s.componentDidUpdate(a,n.memoizedState,s.__reactInternalSnapshotBeforeUpdate)}var i=r.updateQueue;i!==null&&zb(r,i,s);break;case 3:var o=r.updateQueue;if(o!==null){if(n=null,r.child!==null)switch(r.child.tag){case 5:n=r.child.stateNode;break;case 1:n=r.child.stateNode}zb(r,o,n)}break;case 5:var l=r.stateNode;if(n===null&&r.flags&4){n=l;var c=r.memoizedProps;switch(r.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(r.memoizedState===null){var d=r.alternate;if(d!==null){var m=d.memoizedState;if(m!==null){var u=m.dehydrated;u!==null&&nm(u)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(He(163))}qn||r.flags&512&&E0(r)}catch(h){Br(r,r.return,h)}}if(r===e){ht=null;break}if(n=r.sibling,n!==null){n.return=r.return,ht=n;break}ht=r.return}}function nj(e){for(;ht!==null;){var r=ht;if(r===e){ht=null;break}var n=r.sibling;if(n!==null){n.return=r.return,ht=n;break}ht=r.return}}function sj(e){for(;ht!==null;){var r=ht;try{switch(r.tag){case 0:case 11:case 15:var n=r.return;try{Yf(4,r)}catch(c){Br(r,n,c)}break;case 1:var s=r.stateNode;if(typeof s.componentDidMount=="function"){var a=r.return;try{s.componentDidMount()}catch(c){Br(r,a,c)}}var i=r.return;try{E0(r)}catch(c){Br(r,i,c)}break;case 5:var o=r.return;try{E0(r)}catch(c){Br(r,o,c)}}}catch(c){Br(r,r.return,c)}if(r===e){ht=null;break}var l=r.sibling;if(l!==null){l.return=r.return,ht=l;break}ht=r.return}}var vP=Math.ceil,df=Gi.ReactCurrentDispatcher,iy=Gi.ReactCurrentOwner,oa=Gi.ReactCurrentBatchConfig,Jt=0,bn=null,sn=null,Ln=0,Is=0,Kc=Jo(0),mn=0,hm=null,$l=0,Kf=0,oy=0,Bu=null,hs=null,ly=0,ud=1/0,ki=null,uf=!1,D0=null,ko=null,th=!1,No=null,mf=0,zu=0,k0=null,Th=-1,Lh=0;function ns(){return Jt&6?Gr():Th!==-1?Th:Th=Gr()}function To(e){return e.mode&1?Jt&2&&Ln!==0?Ln&-Ln:tP.transition!==null?(Lh===0&&(Lh=NN()),Lh):(e=lr,e!==0||(e=window.event,e=e===void 0?16:DN(e.type)),e):1}function _a(e,r,n,s){if(50<zu)throw zu=0,k0=null,Error(He(185));km(e,n,s),(!(Jt&2)||e!==bn)&&(e===bn&&(!(Jt&2)&&(Kf|=n),mn===4&&bo(e,Ln)),vs(e,s),n===1&&Jt===0&&!(r.mode&1)&&(ud=Gr()+500,Hf&&Xo()))}function vs(e,r){var n=e.callbackNode;tI(e,r);var s=Qh(e,e===bn?Ln:0);if(s===0)n!==null&&pb(n),e.callbackNode=null,e.callbackPriority=0;else if(r=s&-s,e.callbackPriority!==r){if(n!=null&&pb(n),r===1)e.tag===0?eP(aj.bind(null,e)):YN(aj.bind(null,e)),KI(function(){!(Jt&6)&&Xo()}),n=null;else{switch(SN(s)){case 1:n=R1;break;case 4:n=jN;break;case 16:n=Gh;break;case 536870912:n=wN;break;default:n=Gh}n=GS(n,zS.bind(null,e))}e.callbackPriority=r,e.callbackNode=n}}function zS(e,r){if(Th=-1,Lh=0,Jt&6)throw Error(He(327));var n=e.callbackNode;if(rd()&&e.callbackNode!==n)return null;var s=Qh(e,e===bn?Ln:0);if(s===0)return null;if(s&30||s&e.expiredLanes||r)r=pf(e,s);else{r=s;var a=Jt;Jt|=2;var i=US();(bn!==e||Ln!==r)&&(ki=null,ud=Gr()+500,kl(e,r));do try{jP();break}catch(l){$S(e,l)}while(1);G1(),df.current=i,Jt=a,sn!==null?r=0:(bn=null,Ln=0,r=mn)}if(r!==0){if(r===2&&(a=s0(e),a!==0&&(s=a,r=T0(e,a))),r===1)throw n=hm,kl(e,0),bo(e,s),vs(e,Gr()),n;if(r===6)bo(e,s);else{if(a=e.current.alternate,!(s&30)&&!yP(a)&&(r=pf(e,s),r===2&&(i=s0(e),i!==0&&(s=i,r=T0(e,i))),r===1))throw n=hm,kl(e,0),bo(e,s),vs(e,Gr()),n;switch(e.finishedWork=a,e.finishedLanes=s,r){case 0:case 1:throw Error(He(345));case 2:vl(e,hs,ki);break;case 3:if(bo(e,s),(s&130023424)===s&&(r=ly+500-Gr(),10<r)){if(Qh(e,0)!==0)break;if(a=e.suspendedLanes,(a&s)!==s){ns(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=m0(vl.bind(null,e,hs,ki),r);break}vl(e,hs,ki);break;case 4:if(bo(e,s),(s&4194240)===s)break;for(r=e.eventTimes,a=-1;0<s;){var o=31-Fa(s);i=1<<o,o=r[o],o>a&&(a=o),s&=~i}if(s=a,s=Gr()-s,s=(120>s?120:480>s?480:1080>s?1080:1920>s?1920:3e3>s?3e3:4320>s?4320:1960*vP(s/1960))-s,10<s){e.timeoutHandle=m0(vl.bind(null,e,hs,ki),s);break}vl(e,hs,ki);break;case 5:vl(e,hs,ki);break;default:throw Error(He(329))}}}return vs(e,Gr()),e.callbackNode===n?zS.bind(null,e):null}function T0(e,r){var n=Bu;return e.current.memoizedState.isDehydrated&&(kl(e,r).flags|=256),e=pf(e,r),e!==2&&(r=hs,hs=n,r!==null&&L0(r)),e}function L0(e){hs===null?hs=e:hs.push.apply(hs,e)}function yP(e){for(var r=e;;){if(r.flags&16384){var n=r.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var s=0;s<n.length;s++){var a=n[s],i=a.getSnapshot;a=a.value;try{if(!Oa(i(),a))return!1}catch{return!1}}}if(n=r.child,r.subtreeFlags&16384&&n!==null)n.return=r,r=n;else{if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function bo(e,r){for(r&=~oy,r&=~Kf,e.suspendedLanes|=r,e.pingedLanes&=~r,e=e.expirationTimes;0<r;){var n=31-Fa(r),s=1<<n;e[n]=-1,r&=~s}}function aj(e){if(Jt&6)throw Error(He(327));rd();var r=Qh(e,0);if(!(r&1))return vs(e,Gr()),null;var n=pf(e,r);if(e.tag!==0&&n===2){var s=s0(e);s!==0&&(r=s,n=T0(e,s))}if(n===1)throw n=hm,kl(e,0),bo(e,r),vs(e,Gr()),n;if(n===6)throw Error(He(345));return e.finishedWork=e.current.alternate,e.finishedLanes=r,vl(e,hs,ki),vs(e,Gr()),null}function cy(e,r){var n=Jt;Jt|=1;try{return e(r)}finally{Jt=n,Jt===0&&(ud=Gr()+500,Hf&&Xo())}}function Ul(e){No!==null&&No.tag===0&&!(Jt&6)&&rd();var r=Jt;Jt|=1;var n=oa.transition,s=lr;try{if(oa.transition=null,lr=1,e)return e()}finally{lr=s,oa.transition=n,Jt=r,!(Jt&6)&&Xo()}}function dy(){Is=Kc.current,Sr(Kc)}function kl(e,r){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,YI(n)),sn!==null)for(n=sn.return;n!==null;){var s=n;switch(W1(s),s.tag){case 1:s=s.type.childContextTypes,s!=null&&Zh();break;case 3:cd(),Sr(xs),Sr(Yn),Z1();break;case 5:X1(s);break;case 4:cd();break;case 13:Sr(Dr);break;case 19:Sr(Dr);break;case 10:Q1(s.type._context);break;case 22:case 23:dy()}n=n.return}if(bn=e,sn=e=Lo(e.current,null),Ln=Is=r,mn=0,hm=null,oy=Kf=$l=0,hs=Bu=null,Nl!==null){for(r=0;r<Nl.length;r++)if(n=Nl[r],s=n.interleaved,s!==null){n.interleaved=null;var a=s.next,i=n.pending;if(i!==null){var o=i.next;i.next=a,s.next=o}n.pending=s}Nl=null}return e}function $S(e,r){do{var n=sn;try{if(G1(),Ph.current=cf,lf){for(var s=kr.memoizedState;s!==null;){var a=s.queue;a!==null&&(a.pending=null),s=s.next}lf=!1}if(zl=0,gn=dn=kr=null,Ou=!1,um=0,iy.current=null,n===null||n.return===null){mn=1,hm=r,sn=null;break}e:{var i=e,o=n.return,l=n,c=r;if(r=Ln,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c,m=l,u=m.tag;if(!(m.mode&1)&&(u===0||u===11||u===15)){var h=m.alternate;h?(m.updateQueue=h.updateQueue,m.memoizedState=h.memoizedState,m.lanes=h.lanes):(m.updateQueue=null,m.memoizedState=null)}var p=Hb(o);if(p!==null){p.flags&=-257,Gb(p,o,l,i,r),p.mode&1&&qb(i,d,r),r=p,c=d;var g=r.updateQueue;if(g===null){var b=new Set;b.add(c),r.updateQueue=b}else g.add(c);break e}else{if(!(r&1)){qb(i,d,r),uy();break e}c=Error(He(426))}}else if(Cr&&l.mode&1){var j=Hb(o);if(j!==null){!(j.flags&65536)&&(j.flags|=256),Gb(j,o,l,i,r),q1(dd(c,l));break e}}i=c=dd(c,l),mn!==4&&(mn=2),Bu===null?Bu=[i]:Bu.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,r&=-r,i.lanes|=r;var x=SS(i,c,r);Bb(i,x);break e;case 1:l=c;var v=i.type,y=i.stateNode;if(!(i.flags&128)&&(typeof v.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(ko===null||!ko.has(y)))){i.flags|=65536,r&=-r,i.lanes|=r;var E=CS(i,l,r);Bb(i,E);break e}}i=i.return}while(i!==null)}WS(n)}catch(O){r=O,sn===n&&n!==null&&(sn=n=n.return);continue}break}while(1)}function US(){var e=df.current;return df.current=cf,e===null?cf:e}function uy(){(mn===0||mn===3||mn===2)&&(mn=4),bn===null||!($l&268435455)&&!(Kf&268435455)||bo(bn,Ln)}function pf(e,r){var n=Jt;Jt|=2;var s=US();(bn!==e||Ln!==r)&&(ki=null,kl(e,r));do try{bP();break}catch(a){$S(e,a)}while(1);if(G1(),Jt=n,df.current=s,sn!==null)throw Error(He(261));return bn=null,Ln=0,mn}function bP(){for(;sn!==null;)VS(sn)}function jP(){for(;sn!==null&&!H6();)VS(sn)}function VS(e){var r=HS(e.alternate,e,Is);e.memoizedProps=e.pendingProps,r===null?WS(e):sn=r,iy.current=null}function WS(e){var r=e;do{var n=r.alternate;if(e=r.return,r.flags&32768){if(n=hP(n,r),n!==null){n.flags&=32767,sn=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{mn=6,sn=null;return}}else if(n=pP(n,r,Is),n!==null){sn=n;return}if(r=r.sibling,r!==null){sn=r;return}sn=r=e}while(r!==null);mn===0&&(mn=5)}function vl(e,r,n){var s=lr,a=oa.transition;try{oa.transition=null,lr=1,wP(e,r,n,s)}finally{oa.transition=a,lr=s}return null}function wP(e,r,n,s){do rd();while(No!==null);if(Jt&6)throw Error(He(327));n=e.finishedWork;var a=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(He(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(rI(e,i),e===bn&&(sn=bn=null,Ln=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||th||(th=!0,GS(Gh,function(){return rd(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=oa.transition,oa.transition=null;var o=lr;lr=1;var l=Jt;Jt|=4,iy.current=null,xP(e,n),MS(n,e),UI(d0),Yh=!!c0,d0=c0=null,e.current=n,gP(n),G6(),Jt=l,lr=o,oa.transition=i}else e.current=n;if(th&&(th=!1,No=e,mf=a),i=e.pendingLanes,i===0&&(ko=null),K6(n.stateNode),vs(e,Gr()),r!==null)for(s=e.onRecoverableError,n=0;n<r.length;n++)a=r[n],s(a.value,{componentStack:a.stack,digest:a.digest});if(uf)throw uf=!1,e=D0,D0=null,e;return mf&1&&e.tag!==0&&rd(),i=e.pendingLanes,i&1?e===k0?zu++:(zu=0,k0=e):zu=0,Xo(),null}function rd(){if(No!==null){var e=SN(mf),r=oa.transition,n=lr;try{if(oa.transition=null,lr=16>e?16:e,No===null)var s=!1;else{if(e=No,No=null,mf=0,Jt&6)throw Error(He(331));var a=Jt;for(Jt|=4,ht=e.current;ht!==null;){var i=ht,o=i.child;if(ht.flags&16){var l=i.deletions;if(l!==null){for(var c=0;c<l.length;c++){var d=l[c];for(ht=d;ht!==null;){var m=ht;switch(m.tag){case 0:case 11:case 15:Mu(8,m,i)}var u=m.child;if(u!==null)u.return=m,ht=u;else for(;ht!==null;){m=ht;var h=m.sibling,p=m.return;if(FS(m),m===d){ht=null;break}if(h!==null){h.return=p,ht=h;break}ht=p}}}var g=i.alternate;if(g!==null){var b=g.child;if(b!==null){g.child=null;do{var j=b.sibling;b.sibling=null,b=j}while(b!==null)}}ht=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,ht=o;else e:for(;ht!==null;){if(i=ht,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Mu(9,i,i.return)}var x=i.sibling;if(x!==null){x.return=i.return,ht=x;break e}ht=i.return}}var v=e.current;for(ht=v;ht!==null;){o=ht;var y=o.child;if(o.subtreeFlags&2064&&y!==null)y.return=o,ht=y;else e:for(o=v;ht!==null;){if(l=ht,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Yf(9,l)}}catch(O){Br(l,l.return,O)}if(l===o){ht=null;break e}var E=l.sibling;if(E!==null){E.return=l.return,ht=E;break e}ht=l.return}}if(Jt=a,Xo(),di&&typeof di.onPostCommitFiberRoot=="function")try{di.onPostCommitFiberRoot($f,e)}catch{}s=!0}return s}finally{lr=n,oa.transition=r}}return!1}function ij(e,r,n){r=dd(n,r),r=SS(e,r,1),e=Do(e,r,1),r=ns(),e!==null&&(km(e,1,r),vs(e,r))}function Br(e,r,n){if(e.tag===3)ij(e,e,n);else for(;r!==null;){if(r.tag===3){ij(r,e,n);break}else if(r.tag===1){var s=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(ko===null||!ko.has(s))){e=dd(n,e),e=CS(r,e,1),r=Do(r,e,1),e=ns(),r!==null&&(km(r,1,e),vs(r,e));break}}r=r.return}}function NP(e,r,n){var s=e.pingCache;s!==null&&s.delete(r),r=ns(),e.pingedLanes|=e.suspendedLanes&n,bn===e&&(Ln&n)===n&&(mn===4||mn===3&&(Ln&130023424)===Ln&&500>Gr()-ly?kl(e,0):oy|=n),vs(e,r)}function qS(e,r){r===0&&(e.mode&1?(r=qp,qp<<=1,!(qp&130023424)&&(qp=4194304)):r=1);var n=ns();e=Ui(e,r),e!==null&&(km(e,r,n),vs(e,n))}function SP(e){var r=e.memoizedState,n=0;r!==null&&(n=r.retryLane),qS(e,n)}function CP(e,r){var n=0;switch(e.tag){case 13:var s=e.stateNode,a=e.memoizedState;a!==null&&(n=a.retryLane);break;case 19:s=e.stateNode;break;default:throw Error(He(314))}s!==null&&s.delete(r),qS(e,n)}var HS;HS=function(e,r,n){if(e!==null)if(e.memoizedProps!==r.pendingProps||xs.current)fs=!0;else{if(!(e.lanes&n)&&!(r.flags&128))return fs=!1,mP(e,r,n);fs=!!(e.flags&131072)}else fs=!1,Cr&&r.flags&1048576&&KN(r,rf,r.index);switch(r.lanes=0,r.tag){case 2:var s=r.type;kh(e,r),e=r.pendingProps;var a=id(r,Yn.current);td(r,n),a=ty(null,r,s,e,a,n);var i=ry();return r.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(r.tag=1,r.memoizedState=null,r.updateQueue=null,gs(s)?(i=!0,ef(r)):i=!1,r.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,K1(r),a.updater=Qf,r.stateNode=a,a._reactInternals=r,y0(r,s,e,n),r=w0(null,r,s,!0,i,n)):(r.tag=0,Cr&&i&&V1(r),rs(null,r,a,n),r=r.child),r;case 16:s=r.elementType;e:{switch(kh(e,r),e=r.pendingProps,a=s._init,s=a(s._payload),r.type=s,a=r.tag=EP(s),e=Aa(s,e),a){case 0:r=j0(null,r,s,e,n);break e;case 1:r=Kb(null,r,s,e,n);break e;case 11:r=Qb(null,r,s,e,n);break e;case 14:r=Yb(null,r,s,Aa(s.type,e),n);break e}throw Error(He(306,s,""))}return r;case 0:return s=r.type,a=r.pendingProps,a=r.elementType===s?a:Aa(s,a),j0(e,r,s,a,n);case 1:return s=r.type,a=r.pendingProps,a=r.elementType===s?a:Aa(s,a),Kb(e,r,s,a,n);case 3:e:{if(PS(r),e===null)throw Error(He(387));s=r.pendingProps,i=r.memoizedState,a=i.element,rS(e,r),af(r,s,null,n);var o=r.memoizedState;if(s=o.element,i.isDehydrated)if(i={element:s,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},r.updateQueue.baseState=i,r.memoizedState=i,r.flags&256){a=dd(Error(He(423)),r),r=Jb(e,r,s,n,a);break e}else if(s!==a){a=dd(Error(He(424)),r),r=Jb(e,r,s,n,a);break e}else for(ks=Po(r.stateNode.containerInfo.firstChild),Rs=r,Cr=!0,Da=null,n=eS(r,null,s,n),r.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(od(),s===a){r=Vi(e,r,n);break e}rs(e,r,s,n)}r=r.child}return r;case 5:return nS(r),e===null&&x0(r),s=r.type,a=r.pendingProps,i=e!==null?e.memoizedProps:null,o=a.children,u0(s,a)?o=null:i!==null&&u0(s,i)&&(r.flags|=32),IS(e,r),rs(e,r,o,n),r.child;case 6:return e===null&&x0(r),null;case 13:return DS(e,r,n);case 4:return J1(r,r.stateNode.containerInfo),s=r.pendingProps,e===null?r.child=ld(r,null,s,n):rs(e,r,s,n),r.child;case 11:return s=r.type,a=r.pendingProps,a=r.elementType===s?a:Aa(s,a),Qb(e,r,s,a,n);case 7:return rs(e,r,r.pendingProps,n),r.child;case 8:return rs(e,r,r.pendingProps.children,n),r.child;case 12:return rs(e,r,r.pendingProps.children,n),r.child;case 10:e:{if(s=r.type._context,a=r.pendingProps,i=r.memoizedProps,o=a.value,yr(nf,s._currentValue),s._currentValue=o,i!==null)if(Oa(i.value,o)){if(i.children===a.children&&!xs.current){r=Vi(e,r,n);break e}}else for(i=r.child,i!==null&&(i.return=r);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var c=l.firstContext;c!==null;){if(c.context===s){if(i.tag===1){c=Bi(-1,n&-n),c.tag=2;var d=i.updateQueue;if(d!==null){d=d.shared;var m=d.pending;m===null?c.next=c:(c.next=m.next,m.next=c),d.pending=c}}i.lanes|=n,c=i.alternate,c!==null&&(c.lanes|=n),g0(i.return,n,r),l.lanes|=n;break}c=c.next}}else if(i.tag===10)o=i.type===r.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(He(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),g0(o,n,r),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===r){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}rs(e,r,a.children,n),r=r.child}return r;case 9:return a=r.type,s=r.pendingProps.children,td(r,n),a=ca(a),s=s(a),r.flags|=1,rs(e,r,s,n),r.child;case 14:return s=r.type,a=Aa(s,r.pendingProps),a=Aa(s.type,a),Yb(e,r,s,a,n);case 15:return AS(e,r,r.type,r.pendingProps,n);case 17:return s=r.type,a=r.pendingProps,a=r.elementType===s?a:Aa(s,a),kh(e,r),r.tag=1,gs(s)?(e=!0,ef(r)):e=!1,td(r,n),NS(r,s,a),y0(r,s,a,n),w0(null,r,s,!0,e,n);case 19:return kS(e,r,n);case 22:return ES(e,r,n)}throw Error(He(156,r.tag))};function GS(e,r){return bN(e,r)}function AP(e,r,n,s){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function aa(e,r,n,s){return new AP(e,r,n,s)}function my(e){return e=e.prototype,!(!e||!e.isReactComponent)}function EP(e){if(typeof e=="function")return my(e)?1:0;if(e!=null){if(e=e.$$typeof,e===k1)return 11;if(e===T1)return 14}return 2}function Lo(e,r){var n=e.alternate;return n===null?(n=aa(e.tag,r,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=r,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,r=e.dependencies,n.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Rh(e,r,n,s,a,i){var o=2;if(s=e,typeof e=="function")my(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case zc:return Tl(n.children,a,i,r);case D1:o=8,a|=8;break;case Vv:return e=aa(12,n,r,a|2),e.elementType=Vv,e.lanes=i,e;case Wv:return e=aa(13,n,r,a),e.elementType=Wv,e.lanes=i,e;case qv:return e=aa(19,n,r,a),e.elementType=qv,e.lanes=i,e;case nN:return Jf(n,a,i,r);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case tN:o=10;break e;case rN:o=9;break e;case k1:o=11;break e;case T1:o=14;break e;case go:o=16,s=null;break e}throw Error(He(130,e==null?e:typeof e,""))}return r=aa(o,n,r,a),r.elementType=e,r.type=s,r.lanes=i,r}function Tl(e,r,n,s){return e=aa(7,e,s,r),e.lanes=n,e}function Jf(e,r,n,s){return e=aa(22,e,s,r),e.elementType=nN,e.lanes=n,e.stateNode={isHidden:!1},e}function Xg(e,r,n){return e=aa(6,e,null,r),e.lanes=n,e}function Zg(e,r,n){return r=aa(4,e.children!==null?e.children:[],e.key,r),r.lanes=n,r.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},r}function IP(e,r,n,s,a){this.tag=r,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Lg(0),this.expirationTimes=Lg(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Lg(0),this.identifierPrefix=s,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function py(e,r,n,s,a,i,o,l,c){return e=new IP(e,r,n,l,c),r===1?(r=1,i===!0&&(r|=8)):r=0,i=aa(3,null,null,r),e.current=i,i.stateNode=e,i.memoizedState={element:s,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},K1(i),e}function PP(e,r,n){var s=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Bc,key:s==null?null:""+s,children:e,containerInfo:r,implementation:n}}function QS(e){if(!e)return Uo;e=e._reactInternals;e:{if(Ql(e)!==e||e.tag!==1)throw Error(He(170));var r=e;do{switch(r.tag){case 3:r=r.stateNode.context;break e;case 1:if(gs(r.type)){r=r.stateNode.__reactInternalMemoizedMergedChildContext;break e}}r=r.return}while(r!==null);throw Error(He(171))}if(e.tag===1){var n=e.type;if(gs(n))return QN(e,n,r)}return r}function YS(e,r,n,s,a,i,o,l,c){return e=py(n,s,!0,e,a,i,o,l,c),e.context=QS(null),n=e.current,s=ns(),a=To(n),i=Bi(s,a),i.callback=r??null,Do(n,i,a),e.current.lanes=a,km(e,a,s),vs(e,s),e}function Xf(e,r,n,s){var a=r.current,i=ns(),o=To(a);return n=QS(n),r.context===null?r.context=n:r.pendingContext=n,r=Bi(i,o),r.payload={element:e},s=s===void 0?null:s,s!==null&&(r.callback=s),e=Do(a,r,o),e!==null&&(_a(e,a,o,i),Ih(e,a,o)),o}function hf(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function oj(e,r){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<r?n:r}}function hy(e,r){oj(e,r),(e=e.alternate)&&oj(e,r)}function DP(){return null}var KS=typeof reportError=="function"?reportError:function(e){console.error(e)};function fy(e){this._internalRoot=e}Zf.prototype.render=fy.prototype.render=function(e){var r=this._internalRoot;if(r===null)throw Error(He(409));Xf(e,r,null,null)};Zf.prototype.unmount=fy.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var r=e.containerInfo;Ul(function(){Xf(null,e,null,null)}),r[$i]=null}};function Zf(e){this._internalRoot=e}Zf.prototype.unstable_scheduleHydration=function(e){if(e){var r=EN();e={blockedOn:null,target:e,priority:r};for(var n=0;n<yo.length&&r!==0&&r<yo[n].priority;n++);yo.splice(n,0,e),n===0&&PN(e)}};function xy(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function ex(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function lj(){}function kP(e,r,n,s,a){if(a){if(typeof s=="function"){var i=s;s=function(){var d=hf(o);i.call(d)}}var o=YS(r,s,e,0,null,!1,!1,"",lj);return e._reactRootContainer=o,e[$i]=o.current,im(e.nodeType===8?e.parentNode:e),Ul(),o}for(;a=e.lastChild;)e.removeChild(a);if(typeof s=="function"){var l=s;s=function(){var d=hf(c);l.call(d)}}var c=py(e,0,!1,null,null,!1,!1,"",lj);return e._reactRootContainer=c,e[$i]=c.current,im(e.nodeType===8?e.parentNode:e),Ul(function(){Xf(r,c,n,s)}),c}function tx(e,r,n,s,a){var i=n._reactRootContainer;if(i){var o=i;if(typeof a=="function"){var l=a;a=function(){var c=hf(o);l.call(c)}}Xf(r,o,e,a)}else o=kP(n,r,e,a,s);return hf(o)}CN=function(e){switch(e.tag){case 3:var r=e.stateNode;if(r.current.memoizedState.isDehydrated){var n=Pu(r.pendingLanes);n!==0&&(F1(r,n|1),vs(r,Gr()),!(Jt&6)&&(ud=Gr()+500,Xo()))}break;case 13:Ul(function(){var s=Ui(e,1);if(s!==null){var a=ns();_a(s,e,1,a)}}),hy(e,1)}};_1=function(e){if(e.tag===13){var r=Ui(e,134217728);if(r!==null){var n=ns();_a(r,e,134217728,n)}hy(e,134217728)}};AN=function(e){if(e.tag===13){var r=To(e),n=Ui(e,r);if(n!==null){var s=ns();_a(n,e,r,s)}hy(e,r)}};EN=function(){return lr};IN=function(e,r){var n=lr;try{return lr=e,r()}finally{lr=n}};t0=function(e,r,n){switch(r){case"input":if(Qv(e,n),r=n.name,n.type==="radio"&&r!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+r)+'][type="radio"]'),r=0;r<n.length;r++){var s=n[r];if(s!==e&&s.form===e.form){var a=qf(s);if(!a)throw Error(He(90));aN(s),Qv(s,a)}}}break;case"textarea":oN(e,n);break;case"select":r=n.value,r!=null&&Jc(e,!!n.multiple,r,!1)}};hN=cy;fN=Ul;var TP={usingClientEntryPoint:!1,Events:[Lm,Wc,qf,mN,pN,cy]},vu={findFiberByHostInstance:wl,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},LP={bundleType:vu.bundleType,version:vu.version,rendererPackageName:vu.rendererPackageName,rendererConfig:vu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Gi.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=vN(e),e===null?null:e.stateNode},findFiberByHostInstance:vu.findFiberByHostInstance||DP,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var rh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!rh.isDisabled&&rh.supportsFiber)try{$f=rh.inject(LP),di=rh}catch{}}Us.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=TP;Us.createPortal=function(e,r){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!xy(r))throw Error(He(200));return PP(e,r,null,n)};Us.createRoot=function(e,r){if(!xy(e))throw Error(He(299));var n=!1,s="",a=KS;return r!=null&&(r.unstable_strictMode===!0&&(n=!0),r.identifierPrefix!==void 0&&(s=r.identifierPrefix),r.onRecoverableError!==void 0&&(a=r.onRecoverableError)),r=py(e,1,!1,null,null,n,!1,s,a),e[$i]=r.current,im(e.nodeType===8?e.parentNode:e),new fy(r)};Us.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var r=e._reactInternals;if(r===void 0)throw typeof e.render=="function"?Error(He(188)):(e=Object.keys(e).join(","),Error(He(268,e)));return e=vN(r),e=e===null?null:e.stateNode,e};Us.flushSync=function(e){return Ul(e)};Us.hydrate=function(e,r,n){if(!ex(r))throw Error(He(200));return tx(null,e,r,!0,n)};Us.hydrateRoot=function(e,r,n){if(!xy(e))throw Error(He(405));var s=n!=null&&n.hydratedSources||null,a=!1,i="",o=KS;if(n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),r=YS(r,null,e,1,n??null,a,!1,i,o),e[$i]=r.current,im(e),s)for(e=0;e<s.length;e++)n=s[e],a=n._getVersion,a=a(n._source),r.mutableSourceEagerHydrationData==null?r.mutableSourceEagerHydrationData=[n,a]:r.mutableSourceEagerHydrationData.push(n,a);return new Zf(r)};Us.render=function(e,r,n){if(!ex(r))throw Error(He(200));return tx(null,e,r,!1,n)};Us.unmountComponentAtNode=function(e){if(!ex(e))throw Error(He(40));return e._reactRootContainer?(Ul(function(){tx(null,null,e,!1,function(){e._reactRootContainer=null,e[$i]=null})}),!0):!1};Us.unstable_batchedUpdates=cy;Us.unstable_renderSubtreeIntoContainer=function(e,r,n,s){if(!ex(n))throw Error(He(200));if(e==null||e._reactInternals===void 0)throw Error(He(38));return tx(e,r,n,!1,s)};Us.version="18.3.1-next-f1338f8080-20240426";function JS(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(JS)}catch(e){console.error(e)}}JS(),J5.exports=Us;var Qi=J5.exports;const gy=Pm(Qi);var cj=Qi;$v.createRoot=cj.createRoot,$v.hydrateRoot=cj.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function fm(){return fm=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},fm.apply(this,arguments)}var So;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(So||(So={}));const dj="popstate";function RP(e){e===void 0&&(e={});function r(s,a){let{pathname:i,search:o,hash:l}=s.location;return R0("",{pathname:i,search:o,hash:l},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(s,a){return typeof a=="string"?a:ff(a)}return _P(r,n,null,e)}function Jr(e,r){if(e===!1||e===null||typeof e>"u")throw new Error(r)}function XS(e,r){if(!e){typeof console<"u"&&console.warn(r);try{throw new Error(r)}catch{}}}function FP(){return Math.random().toString(36).substr(2,8)}function uj(e,r){return{usr:e.state,key:e.key,idx:r}}function R0(e,r,n,s){return n===void 0&&(n=null),fm({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof r=="string"?Sd(r):r,{state:n,key:r&&r.key||s||FP()})}function ff(e){let{pathname:r="/",search:n="",hash:s=""}=e;return n&&n!=="?"&&(r+=n.charAt(0)==="?"?n:"?"+n),s&&s!=="#"&&(r+=s.charAt(0)==="#"?s:"#"+s),r}function Sd(e){let r={};if(e){let n=e.indexOf("#");n>=0&&(r.hash=e.substr(n),e=e.substr(0,n));let s=e.indexOf("?");s>=0&&(r.search=e.substr(s),e=e.substr(0,s)),e&&(r.pathname=e)}return r}function _P(e,r,n,s){s===void 0&&(s={});let{window:a=document.defaultView,v5Compat:i=!1}=s,o=a.history,l=So.Pop,c=null,d=m();d==null&&(d=0,o.replaceState(fm({},o.state,{idx:d}),""));function m(){return(o.state||{idx:null}).idx}function u(){l=So.Pop;let j=m(),x=j==null?null:j-d;d=j,c&&c({action:l,location:b.location,delta:x})}function h(j,x){l=So.Push;let v=R0(b.location,j,x);n&&n(v,j),d=m()+1;let y=uj(v,d),E=b.createHref(v);try{o.pushState(y,"",E)}catch(O){if(O instanceof DOMException&&O.name==="DataCloneError")throw O;a.location.assign(E)}i&&c&&c({action:l,location:b.location,delta:1})}function p(j,x){l=So.Replace;let v=R0(b.location,j,x);n&&n(v,j),d=m();let y=uj(v,d),E=b.createHref(v);o.replaceState(y,"",E),i&&c&&c({action:l,location:b.location,delta:0})}function g(j){let x=a.location.origin!=="null"?a.location.origin:a.location.href,v=typeof j=="string"?j:ff(j);return v=v.replace(/ $/,"%20"),Jr(x,"No window.location.(origin|href) available to create URL for href: "+v),new URL(v,x)}let b={get action(){return l},get location(){return e(a,o)},listen(j){if(c)throw new Error("A history only accepts one active listener");return a.addEventListener(dj,u),c=j,()=>{a.removeEventListener(dj,u),c=null}},createHref(j){return r(a,j)},createURL:g,encodeLocation(j){let x=g(j);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:h,replace:p,go(j){return o.go(j)}};return b}var mj;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(mj||(mj={}));function OP(e,r,n){return n===void 0&&(n="/"),MP(e,r,n,!1)}function MP(e,r,n,s){let a=typeof r=="string"?Sd(r):r,i=vy(a.pathname||"/",n);if(i==null)return null;let o=ZS(e);BP(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let d=KP(i);l=QP(o[c],d,s)}return l}function ZS(e,r,n,s){r===void 0&&(r=[]),n===void 0&&(n=[]),s===void 0&&(s="");let a=(i,o,l)=>{let c={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};c.relativePath.startsWith("/")&&(Jr(c.relativePath.startsWith(s),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+s+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(s.length));let d=Ro([s,c.relativePath]),m=n.concat(c);i.children&&i.children.length>0&&(Jr(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+d+'".')),ZS(i.children,r,m,d)),!(i.path==null&&!i.index)&&r.push({path:d,score:HP(d,i.index),routesMeta:m})};return e.forEach((i,o)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))a(i,o);else for(let c of e4(i.path))a(i,o,c)}),r}function e4(e){let r=e.split("/");if(r.length===0)return[];let[n,...s]=r,a=n.endsWith("?"),i=n.replace(/\?$/,"");if(s.length===0)return a?[i,""]:[i];let o=e4(s.join("/")),l=[];return l.push(...o.map(c=>c===""?i:[i,c].join("/"))),a&&l.push(...o),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function BP(e){e.sort((r,n)=>r.score!==n.score?n.score-r.score:GP(r.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}const zP=/^:[\w-]+$/,$P=3,UP=2,VP=1,WP=10,qP=-2,pj=e=>e==="*";function HP(e,r){let n=e.split("/"),s=n.length;return n.some(pj)&&(s+=qP),r&&(s+=UP),n.filter(a=>!pj(a)).reduce((a,i)=>a+(zP.test(i)?$P:i===""?VP:WP),s)}function GP(e,r){return e.length===r.length&&e.slice(0,-1).every((s,a)=>s===r[a])?e[e.length-1]-r[r.length-1]:0}function QP(e,r,n){n===void 0&&(n=!1);let{routesMeta:s}=e,a={},i="/",o=[];for(let l=0;l<s.length;++l){let c=s[l],d=l===s.length-1,m=i==="/"?r:r.slice(i.length)||"/",u=hj({path:c.relativePath,caseSensitive:c.caseSensitive,end:d},m),h=c.route;if(!u&&d&&n&&!s[s.length-1].route.index&&(u=hj({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},m)),!u)return null;Object.assign(a,u.params),o.push({params:a,pathname:Ro([i,u.pathname]),pathnameBase:eD(Ro([i,u.pathnameBase])),route:h}),u.pathnameBase!=="/"&&(i=Ro([i,u.pathnameBase]))}return o}function hj(e,r){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,s]=YP(e.path,e.caseSensitive,e.end),a=r.match(n);if(!a)return null;let i=a[0],o=i.replace(/(.)\/+$/,"$1"),l=a.slice(1);return{params:s.reduce((d,m,u)=>{let{paramName:h,isOptional:p}=m;if(h==="*"){let b=l[u]||"";o=i.slice(0,i.length-b.length).replace(/(.)\/+$/,"$1")}const g=l[u];return p&&!g?d[h]=void 0:d[h]=(g||"").replace(/%2F/g,"/"),d},{}),pathname:i,pathnameBase:o,pattern:e}}function YP(e,r,n){r===void 0&&(r=!1),n===void 0&&(n=!0),XS(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let s=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(s.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(s.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,r?void 0:"i"),s]}function KP(e){try{return e.split("/").map(r=>decodeURIComponent(r).replace(/\//g,"%2F")).join("/")}catch(r){return XS(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+r+").")),e}}function vy(e,r){if(r==="/")return e;if(!e.toLowerCase().startsWith(r.toLowerCase()))return null;let n=r.endsWith("/")?r.length-1:r.length,s=e.charAt(n);return s&&s!=="/"?null:e.slice(n)||"/"}function JP(e,r){r===void 0&&(r="/");let{pathname:n,search:s="",hash:a=""}=typeof e=="string"?Sd(e):e;return{pathname:n?n.startsWith("/")?n:XP(n,r):r,search:tD(s),hash:rD(a)}}function XP(e,r){let n=r.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function ev(e,r,n,s){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+r+"` field ["+JSON.stringify(s)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function ZP(e){return e.filter((r,n)=>n===0||r.route.path&&r.route.path.length>0)}function yy(e,r){let n=ZP(e);return r?n.map((s,a)=>a===n.length-1?s.pathname:s.pathnameBase):n.map(s=>s.pathnameBase)}function by(e,r,n,s){s===void 0&&(s=!1);let a;typeof e=="string"?a=Sd(e):(a=fm({},e),Jr(!a.pathname||!a.pathname.includes("?"),ev("?","pathname","search",a)),Jr(!a.pathname||!a.pathname.includes("#"),ev("#","pathname","hash",a)),Jr(!a.search||!a.search.includes("#"),ev("#","search","hash",a)));let i=e===""||a.pathname==="",o=i?"/":a.pathname,l;if(o==null)l=n;else{let u=r.length-1;if(!s&&o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),u-=1;a.pathname=h.join("/")}l=u>=0?r[u]:"/"}let c=JP(a,l),d=o&&o!=="/"&&o.endsWith("/"),m=(i||o===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(d||m)&&(c.pathname+="/"),c}const Ro=e=>e.join("/").replace(/\/\/+/g,"/"),eD=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),tD=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,rD=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function nD(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const t4=["post","put","patch","delete"];new Set(t4);const sD=["get",...t4];new Set(sD);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function xm(){return xm=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},xm.apply(this,arguments)}const jy=A.createContext(null),aD=A.createContext(null),Zo=A.createContext(null),rx=A.createContext(null),el=A.createContext({outlet:null,matches:[],isDataRoute:!1}),r4=A.createContext(null);function iD(e,r){let{relative:n}=r===void 0?{}:r;Cd()||Jr(!1);let{basename:s,navigator:a}=A.useContext(Zo),{hash:i,pathname:o,search:l}=s4(e,{relative:n}),c=o;return s!=="/"&&(c=o==="/"?s:Ro([s,o])),a.createHref({pathname:c,search:l,hash:i})}function Cd(){return A.useContext(rx)!=null}function Ad(){return Cd()||Jr(!1),A.useContext(rx).location}function n4(e){A.useContext(Zo).static||A.useLayoutEffect(e)}function wy(){let{isDataRoute:e}=A.useContext(el);return e?yD():oD()}function oD(){Cd()||Jr(!1);let e=A.useContext(jy),{basename:r,future:n,navigator:s}=A.useContext(Zo),{matches:a}=A.useContext(el),{pathname:i}=Ad(),o=JSON.stringify(yy(a,n.v7_relativeSplatPath)),l=A.useRef(!1);return n4(()=>{l.current=!0}),A.useCallback(function(d,m){if(m===void 0&&(m={}),!l.current)return;if(typeof d=="number"){s.go(d);return}let u=by(d,JSON.parse(o),i,m.relative==="path");e==null&&r!=="/"&&(u.pathname=u.pathname==="/"?r:Ro([r,u.pathname])),(m.replace?s.replace:s.push)(u,m.state,m)},[r,s,o,i,e])}function s4(e,r){let{relative:n}=r===void 0?{}:r,{future:s}=A.useContext(Zo),{matches:a}=A.useContext(el),{pathname:i}=Ad(),o=JSON.stringify(yy(a,s.v7_relativeSplatPath));return A.useMemo(()=>by(e,JSON.parse(o),i,n==="path"),[e,o,i,n])}function lD(e,r){return cD(e,r)}function cD(e,r,n,s){Cd()||Jr(!1);let{navigator:a}=A.useContext(Zo),{matches:i}=A.useContext(el),o=i[i.length-1],l=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let d=Ad(),m;if(r){var u;let j=typeof r=="string"?Sd(r):r;c==="/"||(u=j.pathname)!=null&&u.startsWith(c)||Jr(!1),m=j}else m=d;let h=m.pathname||"/",p=h;if(c!=="/"){let j=c.replace(/^\//,"").split("/");p="/"+h.replace(/^\//,"").split("/").slice(j.length).join("/")}let g=OP(e,{pathname:p}),b=hD(g&&g.map(j=>Object.assign({},j,{params:Object.assign({},l,j.params),pathname:Ro([c,a.encodeLocation?a.encodeLocation(j.pathname).pathname:j.pathname]),pathnameBase:j.pathnameBase==="/"?c:Ro([c,a.encodeLocation?a.encodeLocation(j.pathnameBase).pathname:j.pathnameBase])})),i,n,s);return r&&b?A.createElement(rx.Provider,{value:{location:xm({pathname:"/",search:"",hash:"",state:null,key:"default"},m),navigationType:So.Pop}},b):b}function dD(){let e=vD(),r=nD(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},i=null;return A.createElement(A.Fragment,null,A.createElement("h2",null,"Unexpected Application Error!"),A.createElement("h3",{style:{fontStyle:"italic"}},r),n?A.createElement("pre",{style:a},n):null,i)}const uD=A.createElement(dD,null);class mD extends A.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,n){return n.location!==r.location||n.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:n.error,location:n.location,revalidation:r.revalidation||n.revalidation}}componentDidCatch(r,n){console.error("React Router caught the following error during render",r,n)}render(){return this.state.error!==void 0?A.createElement(el.Provider,{value:this.props.routeContext},A.createElement(r4.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function pD(e){let{routeContext:r,match:n,children:s}=e,a=A.useContext(jy);return a&&a.static&&a.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=n.route.id),A.createElement(el.Provider,{value:r},s)}function hD(e,r,n,s){var a;if(r===void 0&&(r=[]),n===void 0&&(n=null),s===void 0&&(s=null),e==null){var i;if(!n)return null;if(n.errors)e=n.matches;else if((i=s)!=null&&i.v7_partialHydration&&r.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let o=e,l=(a=n)==null?void 0:a.errors;if(l!=null){let m=o.findIndex(u=>u.route.id&&(l==null?void 0:l[u.route.id])!==void 0);m>=0||Jr(!1),o=o.slice(0,Math.min(o.length,m+1))}let c=!1,d=-1;if(n&&s&&s.v7_partialHydration)for(let m=0;m<o.length;m++){let u=o[m];if((u.route.HydrateFallback||u.route.hydrateFallbackElement)&&(d=m),u.route.id){let{loaderData:h,errors:p}=n,g=u.route.loader&&h[u.route.id]===void 0&&(!p||p[u.route.id]===void 0);if(u.route.lazy||g){c=!0,d>=0?o=o.slice(0,d+1):o=[o[0]];break}}}return o.reduceRight((m,u,h)=>{let p,g=!1,b=null,j=null;n&&(p=l&&u.route.id?l[u.route.id]:void 0,b=u.route.errorElement||uD,c&&(d<0&&h===0?(bD("route-fallback",!1),g=!0,j=null):d===h&&(g=!0,j=u.route.hydrateFallbackElement||null)));let x=r.concat(o.slice(0,h+1)),v=()=>{let y;return p?y=b:g?y=j:u.route.Component?y=A.createElement(u.route.Component,null):u.route.element?y=u.route.element:y=m,A.createElement(pD,{match:u,routeContext:{outlet:m,matches:x,isDataRoute:n!=null},children:y})};return n&&(u.route.ErrorBoundary||u.route.errorElement||h===0)?A.createElement(mD,{location:n.location,revalidation:n.revalidation,component:b,error:p,children:v(),routeContext:{outlet:null,matches:x,isDataRoute:!0}}):v()},null)}var a4=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(a4||{}),xf=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(xf||{});function fD(e){let r=A.useContext(jy);return r||Jr(!1),r}function xD(e){let r=A.useContext(aD);return r||Jr(!1),r}function gD(e){let r=A.useContext(el);return r||Jr(!1),r}function i4(e){let r=gD(),n=r.matches[r.matches.length-1];return n.route.id||Jr(!1),n.route.id}function vD(){var e;let r=A.useContext(r4),n=xD(xf.UseRouteError),s=i4(xf.UseRouteError);return r!==void 0?r:(e=n.errors)==null?void 0:e[s]}function yD(){let{router:e}=fD(a4.UseNavigateStable),r=i4(xf.UseNavigateStable),n=A.useRef(!1);return n4(()=>{n.current=!0}),A.useCallback(function(a,i){i===void 0&&(i={}),n.current&&(typeof a=="number"?e.navigate(a):e.navigate(a,xm({fromRouteId:r},i)))},[e,r])}const fj={};function bD(e,r,n){!r&&!fj[e]&&(fj[e]=!0)}function jD(e,r){e==null||e.v7_startTransition,(e==null?void 0:e.v7_relativeSplatPath)===void 0&&(!r||r.v7_relativeSplatPath),r&&(r.v7_fetcherPersist,r.v7_normalizeFormMethod,r.v7_partialHydration,r.v7_skipActionErrorRevalidation)}function wD(e){let{to:r,replace:n,state:s,relative:a}=e;Cd()||Jr(!1);let{future:i,static:o}=A.useContext(Zo),{matches:l}=A.useContext(el),{pathname:c}=Ad(),d=wy(),m=by(r,yy(l,i.v7_relativeSplatPath),c,a==="path"),u=JSON.stringify(m);return A.useEffect(()=>d(JSON.parse(u),{replace:n,state:s,relative:a}),[d,u,a,n,s]),null}function Pt(e){Jr(!1)}function ND(e){let{basename:r="/",children:n=null,location:s,navigationType:a=So.Pop,navigator:i,static:o=!1,future:l}=e;Cd()&&Jr(!1);let c=r.replace(/^\/*/,"/"),d=A.useMemo(()=>({basename:c,navigator:i,static:o,future:xm({v7_relativeSplatPath:!1},l)}),[c,l,i,o]);typeof s=="string"&&(s=Sd(s));let{pathname:m="/",search:u="",hash:h="",state:p=null,key:g="default"}=s,b=A.useMemo(()=>{let j=vy(m,c);return j==null?null:{location:{pathname:j,search:u,hash:h,state:p,key:g},navigationType:a}},[c,m,u,h,p,g,a]);return b==null?null:A.createElement(Zo.Provider,{value:d},A.createElement(rx.Provider,{children:n,value:b}))}function Fn(e){let{children:r,location:n}=e;return lD(F0(r),n)}new Promise(()=>{});function F0(e,r){r===void 0&&(r=[]);let n=[];return A.Children.forEach(e,(s,a)=>{if(!A.isValidElement(s))return;let i=[...r,a];if(s.type===A.Fragment){n.push.apply(n,F0(s.props.children,i));return}s.type!==Pt&&Jr(!1),!s.props.index||!s.props.children||Jr(!1);let o={id:s.props.id||i.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(o.children=F0(s.props.children,i)),n.push(o)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _0(){return _0=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},_0.apply(this,arguments)}function SD(e,r){if(e==null)return{};var n={},s=Object.keys(e),a,i;for(i=0;i<s.length;i++)a=s[i],!(r.indexOf(a)>=0)&&(n[a]=e[a]);return n}function CD(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function AD(e,r){return e.button===0&&(!r||r==="_self")&&!CD(e)}const ED=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],ID="6";try{window.__reactRouterVersion=ID}catch{}const PD="startTransition",xj=zf[PD];function DD(e){let{basename:r,children:n,future:s,window:a}=e,i=A.useRef();i.current==null&&(i.current=RP({window:a,v5Compat:!0}));let o=i.current,[l,c]=A.useState({action:o.action,location:o.location}),{v7_startTransition:d}=s||{},m=A.useCallback(u=>{d&&xj?xj(()=>c(u)):c(u)},[c,d]);return A.useLayoutEffect(()=>o.listen(m),[o,m]),A.useEffect(()=>jD(s),[s]),A.createElement(ND,{basename:r,children:n,location:l.location,navigationType:l.action,navigator:o,future:s})}const kD=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",TD=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,LD=A.forwardRef(function(r,n){let{onClick:s,relative:a,reloadDocument:i,replace:o,state:l,target:c,to:d,preventScrollReset:m,viewTransition:u}=r,h=SD(r,ED),{basename:p}=A.useContext(Zo),g,b=!1;if(typeof d=="string"&&TD.test(d)&&(g=d,kD))try{let y=new URL(window.location.href),E=d.startsWith("//")?new URL(y.protocol+d):new URL(d),O=vy(E.pathname,p);E.origin===y.origin&&O!=null?d=O+E.search+E.hash:b=!0}catch{}let j=iD(d,{relative:a}),x=RD(d,{replace:o,state:l,target:c,preventScrollReset:m,relative:a,viewTransition:u});function v(y){s&&s(y),y.defaultPrevented||x(y)}return A.createElement("a",_0({},h,{href:g||j,onClick:b||i?s:v,ref:n,target:c}))});var gj;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(gj||(gj={}));var vj;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(vj||(vj={}));function RD(e,r){let{target:n,replace:s,state:a,preventScrollReset:i,relative:o,viewTransition:l}=r===void 0?{}:r,c=wy(),d=Ad(),m=s4(e,{relative:o});return A.useCallback(u=>{if(AD(u,n)){u.preventDefault();let h=s!==void 0?s:ff(d)===ff(m);c(e,{replace:h,state:a,preventScrollReset:i,relative:o,viewTransition:l})}},[d,c,m,s,a,n,e,i,o,l])}function Ar(e,r,{checkForDefaultPrevented:n=!0}={}){return function(a){if(e==null||e(a),n===!1||!a.defaultPrevented)return r==null?void 0:r(a)}}function yj(e,r){if(typeof e=="function")return e(r);e!=null&&(e.current=r)}function o4(...e){return r=>{let n=!1;const s=e.map(a=>{const i=yj(a,r);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let a=0;a<s.length;a++){const i=s[a];typeof i=="function"?i():yj(e[a],null)}}}}function hi(...e){return A.useCallback(o4(...e),e)}function Ed(e,r=[]){let n=[];function s(i,o){const l=A.createContext(o),c=n.length;n=[...n,o];const d=u=>{var x;const{scope:h,children:p,...g}=u,b=((x=h==null?void 0:h[e])==null?void 0:x[c])||l,j=A.useMemo(()=>g,Object.values(g));return t.jsx(b.Provider,{value:j,children:p})};d.displayName=i+"Provider";function m(u,h){var b;const p=((b=h==null?void 0:h[e])==null?void 0:b[c])||l,g=A.useContext(p);if(g)return g;if(o!==void 0)return o;throw new Error(`\`${u}\` must be used within \`${i}\``)}return[d,m]}const a=()=>{const i=n.map(o=>A.createContext(o));return function(l){const c=(l==null?void 0:l[e])||i;return A.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return a.scopeName=e,[s,FD(a,...r)]}function FD(...e){const r=e[0];if(e.length===1)return r;const n=()=>{const s=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(i){const o=s.reduce((l,{useScope:c,scopeName:d})=>{const u=c(i)[`__scope${d}`];return{...l,...u}},{});return A.useMemo(()=>({[`__scope${r.scopeName}`]:o}),[o])}};return n.scopeName=r.scopeName,n}function gf(e){const r=OD(e),n=A.forwardRef((s,a)=>{const{children:i,...o}=s,l=A.Children.toArray(i),c=l.find(BD);if(c){const d=c.props.children,m=l.map(u=>u===c?A.Children.count(d)>1?A.Children.only(null):A.isValidElement(d)?d.props.children:null:u);return t.jsx(r,{...o,ref:a,children:A.isValidElement(d)?A.cloneElement(d,void 0,m):null})}return t.jsx(r,{...o,ref:a,children:i})});return n.displayName=`${e}.Slot`,n}var _D=gf("Slot");function OD(e){const r=A.forwardRef((n,s)=>{const{children:a,...i}=n;if(A.isValidElement(a)){const o=$D(a),l=zD(i,a.props);return a.type!==A.Fragment&&(l.ref=s?o4(s,o):o),A.cloneElement(a,l)}return A.Children.count(a)>1?A.Children.only(null):null});return r.displayName=`${e}.SlotClone`,r}var MD=Symbol("radix.slottable");function BD(e){return A.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===MD}function zD(e,r){const n={...r};for(const s in r){const a=e[s],i=r[s];/^on[A-Z]/.test(s)?a&&i?n[s]=(...l)=>{const c=i(...l);return a(...l),c}:a&&(n[s]=a):s==="style"?n[s]={...a,...i}:s==="className"&&(n[s]=[a,i].filter(Boolean).join(" "))}return{...e,...n}}function $D(e){var s,a;let r=(s=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:s.get,n=r&&"isReactWarning"in r&&r.isReactWarning;return n?e.ref:(r=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,n=r&&"isReactWarning"in r&&r.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function l4(e){const r=e+"CollectionProvider",[n,s]=Ed(r),[a,i]=n(r,{collectionRef:{current:null},itemMap:new Map}),o=b=>{const{scope:j,children:x}=b,v=Dt.useRef(null),y=Dt.useRef(new Map).current;return t.jsx(a,{scope:j,itemMap:y,collectionRef:v,children:x})};o.displayName=r;const l=e+"CollectionSlot",c=gf(l),d=Dt.forwardRef((b,j)=>{const{scope:x,children:v}=b,y=i(l,x),E=hi(j,y.collectionRef);return t.jsx(c,{ref:E,children:v})});d.displayName=l;const m=e+"CollectionItemSlot",u="data-radix-collection-item",h=gf(m),p=Dt.forwardRef((b,j)=>{const{scope:x,children:v,...y}=b,E=Dt.useRef(null),O=hi(j,E),M=i(m,x);return Dt.useEffect(()=>(M.itemMap.set(E,{ref:E,...y}),()=>void M.itemMap.delete(E))),t.jsx(h,{[u]:"",ref:O,children:v})});p.displayName=m;function g(b){const j=i(e+"CollectionConsumer",b);return Dt.useCallback(()=>{const v=j.collectionRef.current;if(!v)return[];const y=Array.from(v.querySelectorAll(`[${u}]`));return Array.from(j.itemMap.values()).sort((M,P)=>y.indexOf(M.ref.current)-y.indexOf(P.ref.current))},[j.collectionRef,j.itemMap])}return[{Provider:o,Slot:d,ItemSlot:p},g,s]}var UD=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Ur=UD.reduce((e,r)=>{const n=gf(`Primitive.${r}`),s=A.forwardRef((a,i)=>{const{asChild:o,...l}=a,c=o?n:r;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),t.jsx(c,{...l,ref:i})});return s.displayName=`Primitive.${r}`,{...e,[r]:s}},{});function c4(e,r){e&&Qi.flushSync(()=>e.dispatchEvent(r))}function Vo(e){const r=A.useRef(e);return A.useEffect(()=>{r.current=e}),A.useMemo(()=>(...n)=>{var s;return(s=r.current)==null?void 0:s.call(r,...n)},[])}function VD(e,r=globalThis==null?void 0:globalThis.document){const n=Vo(e);A.useEffect(()=>{const s=a=>{a.key==="Escape"&&n(a)};return r.addEventListener("keydown",s,{capture:!0}),()=>r.removeEventListener("keydown",s,{capture:!0})},[n,r])}var WD="DismissableLayer",O0="dismissableLayer.update",qD="dismissableLayer.pointerDownOutside",HD="dismissableLayer.focusOutside",bj,d4=A.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),u4=A.forwardRef((e,r)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:s,onPointerDownOutside:a,onFocusOutside:i,onInteractOutside:o,onDismiss:l,...c}=e,d=A.useContext(d4),[m,u]=A.useState(null),h=(m==null?void 0:m.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,p]=A.useState({}),g=hi(r,P=>u(P)),b=Array.from(d.layers),[j]=[...d.layersWithOutsidePointerEventsDisabled].slice(-1),x=b.indexOf(j),v=m?b.indexOf(m):-1,y=d.layersWithOutsidePointerEventsDisabled.size>0,E=v>=x,O=QD(P=>{const S=P.target,I=[...d.branches].some(k=>k.contains(S));!E||I||(a==null||a(P),o==null||o(P),P.defaultPrevented||l==null||l())},h),M=YD(P=>{const S=P.target;[...d.branches].some(k=>k.contains(S))||(i==null||i(P),o==null||o(P),P.defaultPrevented||l==null||l())},h);return VD(P=>{v===d.layers.size-1&&(s==null||s(P),!P.defaultPrevented&&l&&(P.preventDefault(),l()))},h),A.useEffect(()=>{if(m)return n&&(d.layersWithOutsidePointerEventsDisabled.size===0&&(bj=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),d.layersWithOutsidePointerEventsDisabled.add(m)),d.layers.add(m),jj(),()=>{n&&d.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=bj)}},[m,h,n,d]),A.useEffect(()=>()=>{m&&(d.layers.delete(m),d.layersWithOutsidePointerEventsDisabled.delete(m),jj())},[m,d]),A.useEffect(()=>{const P=()=>p({});return document.addEventListener(O0,P),()=>document.removeEventListener(O0,P)},[]),t.jsx(Ur.div,{...c,ref:g,style:{pointerEvents:y?E?"auto":"none":void 0,...e.style},onFocusCapture:Ar(e.onFocusCapture,M.onFocusCapture),onBlurCapture:Ar(e.onBlurCapture,M.onBlurCapture),onPointerDownCapture:Ar(e.onPointerDownCapture,O.onPointerDownCapture)})});u4.displayName=WD;var GD="DismissableLayerBranch",m4=A.forwardRef((e,r)=>{const n=A.useContext(d4),s=A.useRef(null),a=hi(r,s);return A.useEffect(()=>{const i=s.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),t.jsx(Ur.div,{...e,ref:a})});m4.displayName=GD;function QD(e,r=globalThis==null?void 0:globalThis.document){const n=Vo(e),s=A.useRef(!1),a=A.useRef(()=>{});return A.useEffect(()=>{const i=l=>{if(l.target&&!s.current){let c=function(){p4(qD,n,d,{discrete:!0})};const d={originalEvent:l};l.pointerType==="touch"?(r.removeEventListener("click",a.current),a.current=c,r.addEventListener("click",a.current,{once:!0})):c()}else r.removeEventListener("click",a.current);s.current=!1},o=window.setTimeout(()=>{r.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),r.removeEventListener("pointerdown",i),r.removeEventListener("click",a.current)}},[r,n]),{onPointerDownCapture:()=>s.current=!0}}function YD(e,r=globalThis==null?void 0:globalThis.document){const n=Vo(e),s=A.useRef(!1);return A.useEffect(()=>{const a=i=>{i.target&&!s.current&&p4(HD,n,{originalEvent:i},{discrete:!1})};return r.addEventListener("focusin",a),()=>r.removeEventListener("focusin",a)},[r,n]),{onFocusCapture:()=>s.current=!0,onBlurCapture:()=>s.current=!1}}function jj(){const e=new CustomEvent(O0);document.dispatchEvent(e)}function p4(e,r,n,{discrete:s}){const a=n.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});r&&a.addEventListener(e,r,{once:!0}),s?c4(a,i):a.dispatchEvent(i)}var KD=u4,JD=m4,Vl=globalThis!=null&&globalThis.document?A.useLayoutEffect:()=>{},XD="Portal",h4=A.forwardRef((e,r)=>{var l;const{container:n,...s}=e,[a,i]=A.useState(!1);Vl(()=>i(!0),[]);const o=n||a&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return o?gy.createPortal(t.jsx(Ur.div,{...s,ref:r}),o):null});h4.displayName=XD;function ZD(e,r){return A.useReducer((n,s)=>r[n][s]??n,e)}var nx=e=>{const{present:r,children:n}=e,s=ek(r),a=typeof n=="function"?n({present:s.isPresent}):A.Children.only(n),i=hi(s.ref,tk(a));return typeof n=="function"||s.isPresent?A.cloneElement(a,{ref:i}):null};nx.displayName="Presence";function ek(e){const[r,n]=A.useState(),s=A.useRef(null),a=A.useRef(e),i=A.useRef("none"),o=e?"mounted":"unmounted",[l,c]=ZD(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return A.useEffect(()=>{const d=nh(s.current);i.current=l==="mounted"?d:"none"},[l]),Vl(()=>{const d=s.current,m=a.current;if(m!==e){const h=i.current,p=nh(d);e?c("MOUNT"):p==="none"||(d==null?void 0:d.display)==="none"?c("UNMOUNT"):c(m&&h!==p?"ANIMATION_OUT":"UNMOUNT"),a.current=e}},[e,c]),Vl(()=>{if(r){let d;const m=r.ownerDocument.defaultView??window,u=p=>{const b=nh(s.current).includes(p.animationName);if(p.target===r&&b&&(c("ANIMATION_END"),!a.current)){const j=r.style.animationFillMode;r.style.animationFillMode="forwards",d=m.setTimeout(()=>{r.style.animationFillMode==="forwards"&&(r.style.animationFillMode=j)})}},h=p=>{p.target===r&&(i.current=nh(s.current))};return r.addEventListener("animationstart",h),r.addEventListener("animationcancel",u),r.addEventListener("animationend",u),()=>{m.clearTimeout(d),r.removeEventListener("animationstart",h),r.removeEventListener("animationcancel",u),r.removeEventListener("animationend",u)}}else c("ANIMATION_END")},[r,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:A.useCallback(d=>{s.current=d?getComputedStyle(d):null,n(d)},[])}}function nh(e){return(e==null?void 0:e.animationName)||"none"}function tk(e){var s,a;let r=(s=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:s.get,n=r&&"isReactWarning"in r&&r.isReactWarning;return n?e.ref:(r=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,n=r&&"isReactWarning"in r&&r.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var rk=zf[" useInsertionEffect ".trim().toString()]||Vl;function sx({prop:e,defaultProp:r,onChange:n=()=>{},caller:s}){const[a,i,o]=nk({defaultProp:r,onChange:n}),l=e!==void 0,c=l?e:a;{const m=A.useRef(e!==void 0);A.useEffect(()=>{const u=m.current;u!==l&&console.warn(`${s} is changing from ${u?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),m.current=l},[l,s])}const d=A.useCallback(m=>{var u;if(l){const h=sk(m)?m(e):m;h!==e&&((u=o.current)==null||u.call(o,h))}else i(m)},[l,e,i,o]);return[c,d]}function nk({defaultProp:e,onChange:r}){const[n,s]=A.useState(e),a=A.useRef(n),i=A.useRef(r);return rk(()=>{i.current=r},[r]),A.useEffect(()=>{var o;a.current!==n&&((o=i.current)==null||o.call(i,n),a.current=n)},[n,a]),[n,s,i]}function sk(e){return typeof e=="function"}var ak=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),ik="VisuallyHidden",Ny=A.forwardRef((e,r)=>t.jsx(Ur.span,{...e,ref:r,style:{...ak,...e.style}}));Ny.displayName=ik;var Sy="ToastProvider",[Cy,ok,lk]=l4("Toast"),[f4,qU]=Ed("Toast",[lk]),[ck,ax]=f4(Sy),x4=e=>{const{__scopeToast:r,label:n="Notification",duration:s=5e3,swipeDirection:a="right",swipeThreshold:i=50,children:o}=e,[l,c]=A.useState(null),[d,m]=A.useState(0),u=A.useRef(!1),h=A.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${Sy}\`. Expected non-empty \`string\`.`),t.jsx(Cy.Provider,{scope:r,children:t.jsx(ck,{scope:r,label:n,duration:s,swipeDirection:a,swipeThreshold:i,toastCount:d,viewport:l,onViewportChange:c,onToastAdd:A.useCallback(()=>m(p=>p+1),[]),onToastRemove:A.useCallback(()=>m(p=>p-1),[]),isFocusedToastEscapeKeyDownRef:u,isClosePausedRef:h,children:o})})};x4.displayName=Sy;var g4="ToastViewport",dk=["F8"],M0="toast.viewportPause",B0="toast.viewportResume",v4=A.forwardRef((e,r)=>{const{__scopeToast:n,hotkey:s=dk,label:a="Notifications ({hotkey})",...i}=e,o=ax(g4,n),l=ok(n),c=A.useRef(null),d=A.useRef(null),m=A.useRef(null),u=A.useRef(null),h=hi(r,u,o.onViewportChange),p=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),g=o.toastCount>0;A.useEffect(()=>{const j=x=>{var y;s.length!==0&&s.every(E=>x[E]||x.code===E)&&((y=u.current)==null||y.focus())};return document.addEventListener("keydown",j),()=>document.removeEventListener("keydown",j)},[s]),A.useEffect(()=>{const j=c.current,x=u.current;if(g&&j&&x){const v=()=>{if(!o.isClosePausedRef.current){const M=new CustomEvent(M0);x.dispatchEvent(M),o.isClosePausedRef.current=!0}},y=()=>{if(o.isClosePausedRef.current){const M=new CustomEvent(B0);x.dispatchEvent(M),o.isClosePausedRef.current=!1}},E=M=>{!j.contains(M.relatedTarget)&&y()},O=()=>{j.contains(document.activeElement)||y()};return j.addEventListener("focusin",v),j.addEventListener("focusout",E),j.addEventListener("pointermove",v),j.addEventListener("pointerleave",O),window.addEventListener("blur",v),window.addEventListener("focus",y),()=>{j.removeEventListener("focusin",v),j.removeEventListener("focusout",E),j.removeEventListener("pointermove",v),j.removeEventListener("pointerleave",O),window.removeEventListener("blur",v),window.removeEventListener("focus",y)}}},[g,o.isClosePausedRef]);const b=A.useCallback(({tabbingDirection:j})=>{const v=l().map(y=>{const E=y.ref.current,O=[E,...Nk(E)];return j==="forwards"?O:O.reverse()});return(j==="forwards"?v.reverse():v).flat()},[l]);return A.useEffect(()=>{const j=u.current;if(j){const x=v=>{var O,M,P;const y=v.altKey||v.ctrlKey||v.metaKey;if(v.key==="Tab"&&!y){const S=document.activeElement,I=v.shiftKey;if(v.target===j&&I){(O=d.current)==null||O.focus();return}const w=b({tabbingDirection:I?"backwards":"forwards"}),L=w.findIndex(T=>T===S);tv(w.slice(L+1))?v.preventDefault():I?(M=d.current)==null||M.focus():(P=m.current)==null||P.focus()}};return j.addEventListener("keydown",x),()=>j.removeEventListener("keydown",x)}},[l,b]),t.jsxs(JD,{ref:c,role:"region","aria-label":a.replace("{hotkey}",p),tabIndex:-1,style:{pointerEvents:g?void 0:"none"},children:[g&&t.jsx(z0,{ref:d,onFocusFromOutsideViewport:()=>{const j=b({tabbingDirection:"forwards"});tv(j)}}),t.jsx(Cy.Slot,{scope:n,children:t.jsx(Ur.ol,{tabIndex:-1,...i,ref:h})}),g&&t.jsx(z0,{ref:m,onFocusFromOutsideViewport:()=>{const j=b({tabbingDirection:"backwards"});tv(j)}})]})});v4.displayName=g4;var y4="ToastFocusProxy",z0=A.forwardRef((e,r)=>{const{__scopeToast:n,onFocusFromOutsideViewport:s,...a}=e,i=ax(y4,n);return t.jsx(Ny,{"aria-hidden":!0,tabIndex:0,...a,ref:r,style:{position:"fixed"},onFocus:o=>{var d;const l=o.relatedTarget;!((d=i.viewport)!=null&&d.contains(l))&&s()}})});z0.displayName=y4;var Fm="Toast",uk="toast.swipeStart",mk="toast.swipeMove",pk="toast.swipeCancel",hk="toast.swipeEnd",b4=A.forwardRef((e,r)=>{const{forceMount:n,open:s,defaultOpen:a,onOpenChange:i,...o}=e,[l,c]=sx({prop:s,defaultProp:a??!0,onChange:i,caller:Fm});return t.jsx(nx,{present:n||l,children:t.jsx(gk,{open:l,...o,ref:r,onClose:()=>c(!1),onPause:Vo(e.onPause),onResume:Vo(e.onResume),onSwipeStart:Ar(e.onSwipeStart,d=>{d.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Ar(e.onSwipeMove,d=>{const{x:m,y:u}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","move"),d.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${m}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${u}px`)}),onSwipeCancel:Ar(e.onSwipeCancel,d=>{d.currentTarget.setAttribute("data-swipe","cancel"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Ar(e.onSwipeEnd,d=>{const{x:m,y:u}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","end"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${m}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${u}px`),c(!1)})})})});b4.displayName=Fm;var[fk,xk]=f4(Fm,{onClose(){}}),gk=A.forwardRef((e,r)=>{const{__scopeToast:n,type:s="foreground",duration:a,open:i,onClose:o,onEscapeKeyDown:l,onPause:c,onResume:d,onSwipeStart:m,onSwipeMove:u,onSwipeCancel:h,onSwipeEnd:p,...g}=e,b=ax(Fm,n),[j,x]=A.useState(null),v=hi(r,T=>x(T)),y=A.useRef(null),E=A.useRef(null),O=a||b.duration,M=A.useRef(0),P=A.useRef(O),S=A.useRef(0),{onToastAdd:I,onToastRemove:k}=b,C=Vo(()=>{var W;(j==null?void 0:j.contains(document.activeElement))&&((W=b.viewport)==null||W.focus()),o()}),w=A.useCallback(T=>{!T||T===1/0||(window.clearTimeout(S.current),M.current=new Date().getTime(),S.current=window.setTimeout(C,T))},[C]);A.useEffect(()=>{const T=b.viewport;if(T){const W=()=>{w(P.current),d==null||d()},V=()=>{const _=new Date().getTime()-M.current;P.current=P.current-_,window.clearTimeout(S.current),c==null||c()};return T.addEventListener(M0,V),T.addEventListener(B0,W),()=>{T.removeEventListener(M0,V),T.removeEventListener(B0,W)}}},[b.viewport,O,c,d,w]),A.useEffect(()=>{i&&!b.isClosePausedRef.current&&w(O)},[i,O,b.isClosePausedRef,w]),A.useEffect(()=>(I(),()=>k()),[I,k]);const L=A.useMemo(()=>j?E4(j):null,[j]);return b.viewport?t.jsxs(t.Fragment,{children:[L&&t.jsx(vk,{__scopeToast:n,role:"status","aria-live":s==="foreground"?"assertive":"polite","aria-atomic":!0,children:L}),t.jsx(fk,{scope:n,onClose:C,children:Qi.createPortal(t.jsx(Cy.ItemSlot,{scope:n,children:t.jsx(KD,{asChild:!0,onEscapeKeyDown:Ar(l,()=>{b.isFocusedToastEscapeKeyDownRef.current||C(),b.isFocusedToastEscapeKeyDownRef.current=!1}),children:t.jsx(Ur.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":b.swipeDirection,...g,ref:v,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:Ar(e.onKeyDown,T=>{T.key==="Escape"&&(l==null||l(T.nativeEvent),T.nativeEvent.defaultPrevented||(b.isFocusedToastEscapeKeyDownRef.current=!0,C()))}),onPointerDown:Ar(e.onPointerDown,T=>{T.button===0&&(y.current={x:T.clientX,y:T.clientY})}),onPointerMove:Ar(e.onPointerMove,T=>{if(!y.current)return;const W=T.clientX-y.current.x,V=T.clientY-y.current.y,_=!!E.current,B=["left","right"].includes(b.swipeDirection),U=["left","up"].includes(b.swipeDirection)?Math.min:Math.max,H=B?U(0,W):0,q=B?0:U(0,V),R=T.pointerType==="touch"?10:2,$={x:H,y:q},G={originalEvent:T,delta:$};_?(E.current=$,sh(mk,u,G,{discrete:!1})):wj($,b.swipeDirection,R)?(E.current=$,sh(uk,m,G,{discrete:!1}),T.target.setPointerCapture(T.pointerId)):(Math.abs(W)>R||Math.abs(V)>R)&&(y.current=null)}),onPointerUp:Ar(e.onPointerUp,T=>{const W=E.current,V=T.target;if(V.hasPointerCapture(T.pointerId)&&V.releasePointerCapture(T.pointerId),E.current=null,y.current=null,W){const _=T.currentTarget,B={originalEvent:T,delta:W};wj(W,b.swipeDirection,b.swipeThreshold)?sh(hk,p,B,{discrete:!0}):sh(pk,h,B,{discrete:!0}),_.addEventListener("click",U=>U.preventDefault(),{once:!0})}})})})}),b.viewport)})]}):null}),vk=e=>{const{__scopeToast:r,children:n,...s}=e,a=ax(Fm,r),[i,o]=A.useState(!1),[l,c]=A.useState(!1);return jk(()=>o(!0)),A.useEffect(()=>{const d=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(d)},[]),l?null:t.jsx(h4,{asChild:!0,children:t.jsx(Ny,{...s,children:i&&t.jsxs(t.Fragment,{children:[a.label," ",n]})})})},yk="ToastTitle",j4=A.forwardRef((e,r)=>{const{__scopeToast:n,...s}=e;return t.jsx(Ur.div,{...s,ref:r})});j4.displayName=yk;var bk="ToastDescription",w4=A.forwardRef((e,r)=>{const{__scopeToast:n,...s}=e;return t.jsx(Ur.div,{...s,ref:r})});w4.displayName=bk;var N4="ToastAction",S4=A.forwardRef((e,r)=>{const{altText:n,...s}=e;return n.trim()?t.jsx(A4,{altText:n,asChild:!0,children:t.jsx(Ay,{...s,ref:r})}):(console.error(`Invalid prop \`altText\` supplied to \`${N4}\`. Expected non-empty \`string\`.`),null)});S4.displayName=N4;var C4="ToastClose",Ay=A.forwardRef((e,r)=>{const{__scopeToast:n,...s}=e,a=xk(C4,n);return t.jsx(A4,{asChild:!0,children:t.jsx(Ur.button,{type:"button",...s,ref:r,onClick:Ar(e.onClick,a.onClose)})})});Ay.displayName=C4;var A4=A.forwardRef((e,r)=>{const{__scopeToast:n,altText:s,...a}=e;return t.jsx(Ur.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":s||void 0,...a,ref:r})});function E4(e){const r=[];return Array.from(e.childNodes).forEach(s=>{if(s.nodeType===s.TEXT_NODE&&s.textContent&&r.push(s.textContent),wk(s)){const a=s.ariaHidden||s.hidden||s.style.display==="none",i=s.dataset.radixToastAnnounceExclude==="";if(!a)if(i){const o=s.dataset.radixToastAnnounceAlt;o&&r.push(o)}else r.push(...E4(s))}}),r}function sh(e,r,n,{discrete:s}){const a=n.originalEvent.currentTarget,i=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:n});r&&a.addEventListener(e,r,{once:!0}),s?c4(a,i):a.dispatchEvent(i)}var wj=(e,r,n=0)=>{const s=Math.abs(e.x),a=Math.abs(e.y),i=s>a;return r==="left"||r==="right"?i&&s>n:!i&&a>n};function jk(e=()=>{}){const r=Vo(e);Vl(()=>{let n=0,s=0;return n=window.requestAnimationFrame(()=>s=window.requestAnimationFrame(r)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(s)}},[r])}function wk(e){return e.nodeType===e.ELEMENT_NODE}function Nk(e){const r=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:s=>{const a=s.tagName==="INPUT"&&s.type==="hidden";return s.disabled||s.hidden||a?NodeFilter.FILTER_SKIP:s.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)r.push(n.currentNode);return r}function tv(e){const r=document.activeElement;return e.some(n=>n===r?!0:(n.focus(),document.activeElement!==r))}var Sk=x4,I4=v4,P4=b4,D4=j4,k4=w4,T4=S4,L4=Ay;function R4(e){var r,n,s="";if(typeof e=="string"||typeof e=="number")s+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(r=0;r<a;r++)e[r]&&(n=R4(e[r]))&&(s&&(s+=" "),s+=n)}else for(n in e)e[n]&&(s&&(s+=" "),s+=n);return s}function Ck(){for(var e,r,n=0,s="",a=arguments.length;n<a;n++)(e=arguments[n])&&(r=R4(e))&&(s&&(s+=" "),s+=r);return s}const Nj=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,Sj=Ck,ix=(e,r)=>n=>{var s;if((r==null?void 0:r.variants)==null)return Sj(e,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:a,defaultVariants:i}=r,o=Object.keys(a).map(d=>{const m=n==null?void 0:n[d],u=i==null?void 0:i[d];if(m===null)return null;const h=Nj(m)||Nj(u);return a[d][h]}),l=n&&Object.entries(n).reduce((d,m)=>{let[u,h]=m;return h===void 0||(d[u]=h),d},{}),c=r==null||(s=r.compoundVariants)===null||s===void 0?void 0:s.reduce((d,m)=>{let{class:u,className:h,...p}=m;return Object.entries(p).every(g=>{let[b,j]=g;return Array.isArray(j)?j.includes({...i,...l}[b]):{...i,...l}[b]===j})?[...d,u,h]:d},[]);return Sj(e,o,c,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Ak={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ek=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),ot=(e,r)=>{const n=A.forwardRef(({color:s="currentColor",size:a=24,strokeWidth:i=2,absoluteStrokeWidth:o,className:l="",children:c,...d},m)=>A.createElement("svg",{ref:m,...Ak,width:a,height:a,stroke:s,strokeWidth:o?Number(i)*24/Number(a):i,className:["lucide",`lucide-${Ek(e)}`,l].join(" "),...d},[...r.map(([u,h])=>A.createElement(u,h)),...Array.isArray(c)?c:[c]]));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ti=ot("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $u=ot("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ta=ot("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fi=ot("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ik=ot("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _i=ot("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ka=ot("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pk=ot("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ni=ot("Brain",[["path",{d:"M9.5 2A2.5 2.5 0 0 1 12 4.5v15a2.5 2.5 0 0 1-4.96.44 2.5 2.5 0 0 1-2.96-3.08 3 3 0 0 1-.34-5.58 2.5 2.5 0 0 1 1.32-4.24 2.5 2.5 0 0 1 1.98-3A2.5 2.5 0 0 1 9.5 2Z",key:"1mhkh5"}],["path",{d:"M14.5 2A2.5 2.5 0 0 0 12 4.5v15a2.5 2.5 0 0 0 4.96.44 2.5 2.5 0 0 0 2.96-3.08 3 3 0 0 0 .34-5.58 2.5 2.5 0 0 0-1.32-4.24 2.5 2.5 0 0 0-1.98-3A2.5 2.5 0 0 0 14.5 2Z",key:"1d6s00"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $0=ot("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const md=ot("Calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zr=ot("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const La=ot("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fs=ot("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ey=ot("CheckSquare",[["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}],["path",{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11",key:"1jnkn4"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iy=ot("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F4=ot("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dk=ot("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wl=ot("ClipboardCheck",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"m9 14 2 2 4-4",key:"df797q"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U0=ot("Clipboard",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cr=ot("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Py=ot("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vf=ot("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bt=ot("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wo=ot("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tl=ot("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fh=ot("FileCheck",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"m9 15 2 2 4-4",key:"1grp1n"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gn=ot("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ws=ot("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ku=ot("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kk=ot("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tk=ot("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pd=ot("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lk=ot("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rk=ot("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _s=ot("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hd=ot("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fk=ot("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kn=ot("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qn=ot("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _k=ot("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ok=ot("Pause",[["rect",{width:"4",height:"16",x:"6",y:"4",key:"iffhe4"}],["rect",{width:"4",height:"16",x:"14",y:"4",key:"sjin7j"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ah=ot("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mk=ot("Percent",[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dy=ot("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rv=ot("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Et=ot("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ox=ot("Printer",[["polyline",{points:"6 9 6 2 18 2 18 9",key:"1306q4"}],["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["rect",{width:"12",height:"8",x:"6",y:"14",key:"5ipwut"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _h=ot("Receipt",[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const js=ot("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _4=ot("ScanBarcode",[["path",{d:"M3 7V5a2 2 0 0 1 2-2h2",key:"aa7l1z"}],["path",{d:"M17 3h2a2 2 0 0 1 2 2v2",key:"4qcy5o"}],["path",{d:"M21 17v2a2 2 0 0 1-2 2h-2",key:"6vwrx8"}],["path",{d:"M7 21H5a2 2 0 0 1-2-2v-2",key:"ioqczr"}],["path",{d:"M8 7v10",key:"23sfjj"}],["path",{d:"M12 7v10",key:"jspqdw"}],["path",{d:"M17 7v10",key:"578dap"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jn=ot("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fo=ot("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gm=ot("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O4=ot("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xr=ot("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bk=ot("Tag",[["path",{d:"M12 2H2v10l9.29 9.29c.94.94 2.48.94 3.42 0l6.58-6.58c.94-.94.94-2.48 0-3.42L12 2Z",key:"14b2ls"}],["path",{d:"M7 7h.01",key:"7u93v4"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ys=ot("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zk=ot("ThumbsDown",[["path",{d:"M17 14V2",key:"8ymqnk"}],["path",{d:"M9 18.12 10 14H4.17a2 2 0 0 1-1.92-2.56l2.33-8A2 2 0 0 1 6.5 2H20a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2h-2.76a2 2 0 0 0-1.79 1.11L12 22h0a3.13 3.13 0 0 1-3-3.88Z",key:"s6e0r"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $k=ot("ThumbsUp",[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2h0a3.13 3.13 0 0 1 3 3.88Z",key:"y3tblf"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bs=ot("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nv=ot("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vt=ot("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const si=ot("Truck",[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ky=ot("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $s=ot("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pn=ot("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yf=ot("Video",[["path",{d:"m22 8-6 4 6 4V8Z",key:"50v9me"}],["rect",{width:"14",height:"12",x:"2",y:"6",rx:"2",ry:"2",key:"1rqjg6"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cl=ot("Wrench",[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uu=ot("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qt=ot("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uk=ot("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]);function M4(e){var r,n,s="";if(typeof e=="string"||typeof e=="number")s+=e;else if(typeof e=="object")if(Array.isArray(e))for(r=0;r<e.length;r++)e[r]&&(n=M4(e[r]))&&(s&&(s+=" "),s+=n);else for(r in e)e[r]&&(s&&(s+=" "),s+=r);return s}function Vk(){for(var e,r,n=0,s="";n<arguments.length;)(e=arguments[n++])&&(r=M4(e))&&(s&&(s+=" "),s+=r);return s}function Wk(){for(var e=0,r,n,s="";e<arguments.length;)(r=arguments[e++])&&(n=B4(r))&&(s&&(s+=" "),s+=n);return s}function B4(e){if(typeof e=="string")return e;for(var r,n="",s=0;s<e.length;s++)e[s]&&(r=B4(e[s]))&&(n&&(n+=" "),n+=r);return n}var Ty="-";function qk(e){var r=Gk(e),n=e.conflictingClassGroups,s=e.conflictingClassGroupModifiers,a=s===void 0?{}:s;function i(l){var c=l.split(Ty);return c[0]===""&&c.length!==1&&c.shift(),z4(c,r)||Hk(l)}function o(l,c){var d=n[l]||[];return c&&a[l]?[].concat(d,a[l]):d}return{getClassGroupId:i,getConflictingClassGroupIds:o}}function z4(e,r){var o;if(e.length===0)return r.classGroupId;var n=e[0],s=r.nextPart.get(n),a=s?z4(e.slice(1),s):void 0;if(a)return a;if(r.validators.length!==0){var i=e.join(Ty);return(o=r.validators.find(function(l){var c=l.validator;return c(i)}))==null?void 0:o.classGroupId}}var Cj=/^\[(.+)\]$/;function Hk(e){if(Cj.test(e)){var r=Cj.exec(e)[1],n=r==null?void 0:r.substring(0,r.indexOf(":"));if(n)return"arbitrary.."+n}}function Gk(e){var r=e.theme,n=e.prefix,s={nextPart:new Map,validators:[]},a=Yk(Object.entries(e.classGroups),n);return a.forEach(function(i){var o=i[0],l=i[1];V0(l,s,o,r)}),s}function V0(e,r,n,s){e.forEach(function(a){if(typeof a=="string"){var i=a===""?r:Aj(r,a);i.classGroupId=n;return}if(typeof a=="function"){if(Qk(a)){V0(a(s),r,n,s);return}r.validators.push({validator:a,classGroupId:n});return}Object.entries(a).forEach(function(o){var l=o[0],c=o[1];V0(c,Aj(r,l),n,s)})})}function Aj(e,r){var n=e;return r.split(Ty).forEach(function(s){n.nextPart.has(s)||n.nextPart.set(s,{nextPart:new Map,validators:[]}),n=n.nextPart.get(s)}),n}function Qk(e){return e.isThemeGetter}function Yk(e,r){return r?e.map(function(n){var s=n[0],a=n[1],i=a.map(function(o){return typeof o=="string"?r+o:typeof o=="object"?Object.fromEntries(Object.entries(o).map(function(l){var c=l[0],d=l[1];return[r+c,d]})):o});return[s,i]}):e}function Kk(e){if(e<1)return{get:function(){},set:function(){}};var r=0,n=new Map,s=new Map;function a(i,o){n.set(i,o),r++,r>e&&(r=0,s=n,n=new Map)}return{get:function(o){var l=n.get(o);if(l!==void 0)return l;if((l=s.get(o))!==void 0)return a(o,l),l},set:function(o,l){n.has(o)?n.set(o,l):a(o,l)}}}var $4="!";function Jk(e){var r=e.separator||":",n=r.length===1,s=r[0],a=r.length;return function(o){for(var l=[],c=0,d=0,m,u=0;u<o.length;u++){var h=o[u];if(c===0){if(h===s&&(n||o.slice(u,u+a)===r)){l.push(o.slice(d,u)),d=u+a;continue}if(h==="/"){m=u;continue}}h==="["?c++:h==="]"&&c--}var p=l.length===0?o:o.substring(d),g=p.startsWith($4),b=g?p.substring(1):p,j=m&&m>d?m-d:void 0;return{modifiers:l,hasImportantModifier:g,baseClassName:b,maybePostfixModifierPosition:j}}}function Xk(e){if(e.length<=1)return e;var r=[],n=[];return e.forEach(function(s){var a=s[0]==="[";a?(r.push.apply(r,n.sort().concat([s])),n=[]):n.push(s)}),r.push.apply(r,n.sort()),r}function Zk(e){return{cache:Kk(e.cacheSize),splitModifiers:Jk(e),...qk(e)}}var eT=/\s+/;function tT(e,r){var n=r.splitModifiers,s=r.getClassGroupId,a=r.getConflictingClassGroupIds,i=new Set;return e.trim().split(eT).map(function(o){var l=n(o),c=l.modifiers,d=l.hasImportantModifier,m=l.baseClassName,u=l.maybePostfixModifierPosition,h=s(u?m.substring(0,u):m),p=!!u;if(!h){if(!u)return{isTailwindClass:!1,originalClassName:o};if(h=s(m),!h)return{isTailwindClass:!1,originalClassName:o};p=!1}var g=Xk(c).join(":"),b=d?g+$4:g;return{isTailwindClass:!0,modifierId:b,classGroupId:h,originalClassName:o,hasPostfixModifier:p}}).reverse().filter(function(o){if(!o.isTailwindClass)return!0;var l=o.modifierId,c=o.classGroupId,d=o.hasPostfixModifier,m=l+c;return i.has(m)?!1:(i.add(m),a(c,d).forEach(function(u){return i.add(l+u)}),!0)}).reverse().map(function(o){return o.originalClassName}).join(" ")}function rT(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var s,a,i,o=l;function l(d){var m=r[0],u=r.slice(1),h=u.reduce(function(p,g){return g(p)},m());return s=Zk(h),a=s.cache.get,i=s.cache.set,o=c,c(d)}function c(d){var m=a(d);if(m)return m;var u=tT(d,s);return i(d,u),u}return function(){return o(Wk.apply(null,arguments))}}function br(e){var r=function(s){return s[e]||[]};return r.isThemeGetter=!0,r}var U4=/^\[(?:([a-z-]+):)?(.+)\]$/i,nT=/^\d+\/\d+$/,sT=new Set(["px","full","screen"]),aT=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,iT=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,oT=/^-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/;function Na(e){return Al(e)||sT.has(e)||nT.test(e)||W0(e)}function W0(e){return Yl(e,"length",pT)}function lT(e){return Yl(e,"size",V4)}function cT(e){return Yl(e,"position",V4)}function dT(e){return Yl(e,"url",hT)}function ih(e){return Yl(e,"number",Al)}function Al(e){return!Number.isNaN(Number(e))}function uT(e){return e.endsWith("%")&&Al(e.slice(0,-1))}function yu(e){return Ej(e)||Yl(e,"number",Ej)}function Ut(e){return U4.test(e)}function bu(){return!0}function mo(e){return aT.test(e)}function mT(e){return Yl(e,"",fT)}function Yl(e,r,n){var s=U4.exec(e);return s?s[1]?s[1]===r:n(s[2]):!1}function pT(e){return iT.test(e)}function V4(){return!1}function hT(e){return e.startsWith("url(")}function Ej(e){return Number.isInteger(Number(e))}function fT(e){return oT.test(e)}function xT(){var e=br("colors"),r=br("spacing"),n=br("blur"),s=br("brightness"),a=br("borderColor"),i=br("borderRadius"),o=br("borderSpacing"),l=br("borderWidth"),c=br("contrast"),d=br("grayscale"),m=br("hueRotate"),u=br("invert"),h=br("gap"),p=br("gradientColorStops"),g=br("gradientColorStopPositions"),b=br("inset"),j=br("margin"),x=br("opacity"),v=br("padding"),y=br("saturate"),E=br("scale"),O=br("sepia"),M=br("skew"),P=br("space"),S=br("translate"),I=function(){return["auto","contain","none"]},k=function(){return["auto","hidden","clip","visible","scroll"]},C=function(){return["auto",Ut,r]},w=function(){return[Ut,r]},L=function(){return["",Na]},T=function(){return["auto",Al,Ut]},W=function(){return["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"]},V=function(){return["solid","dashed","dotted","double","none"]},_=function(){return["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity","plus-lighter"]},B=function(){return["start","end","center","between","around","evenly","stretch"]},U=function(){return["","0",Ut]},H=function(){return["auto","avoid","all","avoid-page","page","left","right","column"]},q=function(){return[Al,ih]},R=function(){return[Al,Ut]};return{cacheSize:500,theme:{colors:[bu],spacing:[Na],blur:["none","",mo,Ut],brightness:q(),borderColor:[e],borderRadius:["none","","full",mo,Ut],borderSpacing:w(),borderWidth:L(),contrast:q(),grayscale:U(),hueRotate:R(),invert:U(),gap:w(),gradientColorStops:[e],gradientColorStopPositions:[uT,W0],inset:C(),margin:C(),opacity:q(),padding:w(),saturate:q(),scale:q(),sepia:U(),skew:R(),space:w(),translate:w()},classGroups:{aspect:[{aspect:["auto","square","video",Ut]}],container:["container"],columns:[{columns:[mo]}],"break-after":[{"break-after":H()}],"break-before":[{"break-before":H()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none"]}],clear:[{clear:["left","right","both","none"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[].concat(W(),[Ut])}],overflow:[{overflow:k()}],"overflow-x":[{"overflow-x":k()}],"overflow-y":[{"overflow-y":k()}],overscroll:[{overscroll:I()}],"overscroll-x":[{"overscroll-x":I()}],"overscroll-y":[{"overscroll-y":I()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[b]}],"inset-x":[{"inset-x":[b]}],"inset-y":[{"inset-y":[b]}],start:[{start:[b]}],end:[{end:[b]}],top:[{top:[b]}],right:[{right:[b]}],bottom:[{bottom:[b]}],left:[{left:[b]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",yu]}],basis:[{basis:C()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Ut]}],grow:[{grow:U()}],shrink:[{shrink:U()}],order:[{order:["first","last","none",yu]}],"grid-cols":[{"grid-cols":[bu]}],"col-start-end":[{col:["auto",{span:["full",yu]},Ut]}],"col-start":[{"col-start":T()}],"col-end":[{"col-end":T()}],"grid-rows":[{"grid-rows":[bu]}],"row-start-end":[{row:["auto",{span:[yu]},Ut]}],"row-start":[{"row-start":T()}],"row-end":[{"row-end":T()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Ut]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Ut]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal"].concat(B())}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal"].concat(B(),["baseline"])}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[].concat(B(),["baseline"])}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[v]}],px:[{px:[v]}],py:[{py:[v]}],ps:[{ps:[v]}],pe:[{pe:[v]}],pt:[{pt:[v]}],pr:[{pr:[v]}],pb:[{pb:[v]}],pl:[{pl:[v]}],m:[{m:[j]}],mx:[{mx:[j]}],my:[{my:[j]}],ms:[{ms:[j]}],me:[{me:[j]}],mt:[{mt:[j]}],mr:[{mr:[j]}],mb:[{mb:[j]}],ml:[{ml:[j]}],"space-x":[{"space-x":[P]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[P]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit",Ut,r]}],"min-w":[{"min-w":["min","max","fit",Ut,Na]}],"max-w":[{"max-w":["0","none","full","min","max","fit","prose",{screen:[mo]},mo,Ut]}],h:[{h:[Ut,r,"auto","min","max","fit"]}],"min-h":[{"min-h":["min","max","fit",Ut,Na]}],"max-h":[{"max-h":[Ut,r,"min","max","fit"]}],"font-size":[{text:["base",mo,W0]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",ih]}],"font-family":[{font:[bu]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Ut]}],"line-clamp":[{"line-clamp":["none",Al,ih]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Ut,Na]}],"list-image":[{"list-image":["none",Ut]}],"list-style-type":[{list:["none","disc","decimal",Ut]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[x]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[x]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[].concat(V(),["wavy"])}],"text-decoration-thickness":[{decoration:["auto","from-font",Na]}],"underline-offset":[{"underline-offset":["auto",Ut,Na]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],indent:[{indent:w()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ut]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ut]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[x]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[].concat(W(),[cT])}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",lT]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},dT]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[g]}],"gradient-via-pos":[{via:[g]}],"gradient-to-pos":[{to:[g]}],"gradient-from":[{from:[p]}],"gradient-via":[{via:[p]}],"gradient-to":[{to:[p]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[x]}],"border-style":[{border:[].concat(V(),["hidden"])}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[x]}],"divide-style":[{divide:V()}],"border-color":[{border:[a]}],"border-color-x":[{"border-x":[a]}],"border-color-y":[{"border-y":[a]}],"border-color-t":[{"border-t":[a]}],"border-color-r":[{"border-r":[a]}],"border-color-b":[{"border-b":[a]}],"border-color-l":[{"border-l":[a]}],"divide-color":[{divide:[a]}],"outline-style":[{outline:[""].concat(V())}],"outline-offset":[{"outline-offset":[Ut,Na]}],"outline-w":[{outline:[Na]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:L()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[x]}],"ring-offset-w":[{"ring-offset":[Na]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",mo,mT]}],"shadow-color":[{shadow:[bu]}],opacity:[{opacity:[x]}],"mix-blend":[{"mix-blend":_()}],"bg-blend":[{"bg-blend":_()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[s]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",mo,Ut]}],grayscale:[{grayscale:[d]}],"hue-rotate":[{"hue-rotate":[m]}],invert:[{invert:[u]}],saturate:[{saturate:[y]}],sepia:[{sepia:[O]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[s]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[d]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[m]}],"backdrop-invert":[{"backdrop-invert":[u]}],"backdrop-opacity":[{"backdrop-opacity":[x]}],"backdrop-saturate":[{"backdrop-saturate":[y]}],"backdrop-sepia":[{"backdrop-sepia":[O]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Ut]}],duration:[{duration:R()}],ease:[{ease:["linear","in","out","in-out",Ut]}],delay:[{delay:R()}],animate:[{animate:["none","spin","ping","pulse","bounce",Ut]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[E]}],"scale-x":[{"scale-x":[E]}],"scale-y":[{"scale-y":[E]}],rotate:[{rotate:[yu,Ut]}],"translate-x":[{"translate-x":[S]}],"translate-y":[{"translate-y":[S]}],"skew-x":[{"skew-x":[M]}],"skew-y":[{"skew-y":[M]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Ut]}],accent:[{accent:["auto",e]}],appearance:["appearance-none"],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ut]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":w()}],"scroll-mx":[{"scroll-mx":w()}],"scroll-my":[{"scroll-my":w()}],"scroll-ms":[{"scroll-ms":w()}],"scroll-me":[{"scroll-me":w()}],"scroll-mt":[{"scroll-mt":w()}],"scroll-mr":[{"scroll-mr":w()}],"scroll-mb":[{"scroll-mb":w()}],"scroll-ml":[{"scroll-ml":w()}],"scroll-p":[{"scroll-p":w()}],"scroll-px":[{"scroll-px":w()}],"scroll-py":[{"scroll-py":w()}],"scroll-ps":[{"scroll-ps":w()}],"scroll-pe":[{"scroll-pe":w()}],"scroll-pt":[{"scroll-pt":w()}],"scroll-pr":[{"scroll-pr":w()}],"scroll-pb":[{"scroll-pb":w()}],"scroll-pl":[{"scroll-pl":w()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","pinch-zoom","manipulation",{pan:["x","left","right","y","up","down"]}]}],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ut]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[Na,ih]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}}var gT=rT(xT);function ze(...e){return gT(Vk(e))}function Ie(e){return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(e)}function gt(e){return new Intl.DateTimeFormat("en-US",{year:"numeric",month:"short",day:"numeric"}).format(new Date(e))}function Hr(e,r){try{localStorage.setItem(e,JSON.stringify(r))}catch(n){console.error("Failed to save to localStorage:",n)}}function vn(e,r){try{const n=localStorage.getItem(e);return n?JSON.parse(n):r}catch(n){return console.error("Failed to load from localStorage:",n),r}}function vT(e){try{localStorage.removeItem(e)}catch(r){console.error("Failed to remove from localStorage:",r)}}const yT=Sk,W4=A.forwardRef(({className:e,...r},n)=>t.jsx(I4,{ref:n,className:ze("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...r}));W4.displayName=I4.displayName;const bT=ix("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),q4=A.forwardRef(({className:e,variant:r,...n},s)=>t.jsx(P4,{ref:s,className:ze(bT({variant:r}),e),...n}));q4.displayName=P4.displayName;const jT=A.forwardRef(({className:e,...r},n)=>t.jsx(T4,{ref:n,className:ze("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...r}));jT.displayName=T4.displayName;const H4=A.forwardRef(({className:e,...r},n)=>t.jsx(L4,{ref:n,className:ze("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...r,children:t.jsx(qt,{className:"h-4 w-4"})}));H4.displayName=L4.displayName;const G4=A.forwardRef(({className:e,...r},n)=>t.jsx(D4,{ref:n,className:ze("text-sm font-semibold",e),...r}));G4.displayName=D4.displayName;const Q4=A.forwardRef(({className:e,...r},n)=>t.jsx(k4,{ref:n,className:ze("text-sm opacity-90",e),...r}));Q4.displayName=k4.displayName;const wT=1,NT=1e6;let sv=0;function ST(){return sv=(sv+1)%Number.MAX_SAFE_INTEGER,sv.toString()}const av=new Map,Ij=e=>{if(av.has(e))return;const r=setTimeout(()=>{av.delete(e),Vu({type:"REMOVE_TOAST",toastId:e})},NT);av.set(e,r)},CT=(e,r)=>{switch(r.type){case"ADD_TOAST":return{...e,toasts:[r.toast,...e.toasts].slice(0,wT)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(n=>n.id===r.toast.id?{...n,...r.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=r;return n?Ij(n):e.toasts.forEach(s=>{Ij(s.id)}),{...e,toasts:e.toasts.map(s=>s.id===n||n===void 0?{...s,open:!1}:s)}}case"REMOVE_TOAST":return r.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(n=>n.id!==r.toastId)}}},Oh=[];let Mh={toasts:[]};function Vu(e){Mh=CT(Mh,e),Oh.forEach(r=>{r(Mh)})}function AT({...e}){const r=ST(),n=a=>Vu({type:"UPDATE_TOAST",toast:{...a,id:r}}),s=()=>Vu({type:"DISMISS_TOAST",toastId:r});return Vu({type:"ADD_TOAST",toast:{...e,id:r,open:!0,onOpenChange:a=>{a||s()}}}),{id:r,dismiss:s,update:n}}function nr(){const[e,r]=A.useState(Mh);return A.useEffect(()=>(Oh.push(r),()=>{const n=Oh.indexOf(r);n>-1&&Oh.splice(n,1)}),[e]),{...e,toast:AT,dismiss:n=>Vu({type:"DISMISS_TOAST",toastId:n})}}function ET(){const{toasts:e}=nr();return t.jsxs(yT,{children:[e.map(function({id:r,title:n,description:s,action:a,...i}){return t.jsxs(q4,{...i,children:[t.jsxs("div",{className:"grid gap-1",children:[n&&t.jsx(G4,{children:n}),s&&t.jsx(Q4,{children:s})]}),a,t.jsx(H4,{})]},r)}),t.jsx(W4,{})]})}var Wu=(e=>(e.ADMIN="admin",e.MANAGER="manager",e.SALES="sales",e.SERVICE="service",e.USER="user",e))(Wu||{}),In=(e=>(e.NEW="new",e.CONTACTED="contacted",e.QUALIFIED="qualified",e.PROPOSAL="proposal",e.NEGOTIATION="negotiation",e.CLOSED_WON="closed_won",e.CLOSED_LOST="closed_lost",e))(In||{}),ut=(e=>(e.RV="rv",e.MOTORHOME="motorhome",e.TRAVEL_TRAILER="travel_trailer",e.FIFTH_WHEEL="fifth_wheel",e.TOY_HAULER="toy_hauler",e.SINGLE_WIDE="single_wide",e.DOUBLE_WIDE="double_wide",e.TRIPLE_WIDE="triple_wide",e.PARK_MODEL="park_model",e.MODULAR_HOME="modular_home",e))(ut||{}),_t=(e=>(e.AVAILABLE="available",e.RESERVED="reserved",e.SOLD="sold",e.SERVICE="service",e.DELIVERED="delivered",e))(_t||{}),ta=(e=>(e.DRAFT="draft",e.SENT="sent",e.VIEWED="viewed",e.ACCEPTED="accepted",e.REJECTED="rejected",e.EXPIRED="expired",e))(ta||{}),El=(e=>(e.PURCHASE="purchase",e.LEASE="lease",e.SERVICE="service",e.WARRANTY="warranty",e))(El||{}),Ea=(e=>(e.DRAFT="draft",e.PENDING="pending",e.SIGNED="signed",e.ACTIVE="active",e.EXPIRED="expired",e.CANCELLED="cancelled",e))(Ea||{}),wr=(e=>(e.LOW="low",e.MEDIUM="medium",e.HIGH="high",e.URGENT="urgent",e))(wr||{}),Vt=(e=>(e.OPEN="open",e.IN_PROGRESS="in_progress",e.WAITING_PARTS="waiting_parts",e.COMPLETED="completed",e.CANCELLED="cancelled",e))(Vt||{}),Wt=(e=>(e.SCHEDULED="scheduled",e.IN_TRANSIT="in_transit",e.DELIVERED="delivered",e.CANCELLED="cancelled",e))(Wt||{}),Il=(e=>(e.FLAT="flat",e.PERCENTAGE="percentage",e.TIERED="tiered",e))(Il||{}),ri=(e=>(e.PENDING="pending",e.APPROVED="approved",e.PAID="paid",e.CANCELLED="cancelled",e))(ri||{}),ra=(e=>(e.DRAFT="draft",e.SENT="sent",e.VIEWED="viewed",e.PAID="paid",e.OVERDUE="overdue",e.CANCELLED="cancelled",e))(ra||{}),Ds=(e=>(e.SALES="sales",e.INVENTORY="inventory",e.SERVICE="service",e.FINANCIAL="financial",e.CUSTOM="custom",e))(Ds||{});const Y4=A.createContext(void 0);function _m(){const e=A.useContext(Y4);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e}function IT({children:e}){const[r,n]=A.useState(null),[s,a]=A.useState(!0);A.useEffect(()=>{vn("auth_token",null)&&n({id:"1",email:"admin@renterinsight.com",name:"Admin User",role:Wu.ADMIN,tenantId:"tenant-1",permissions:[{id:"1",name:"All Access",resource:"*",action:"*"}],createdAt:new Date,updatedAt:new Date}),a(!1)},[]);const d={user:r,login:async(m,u)=>{a(!0);try{const h={id:"1",email:m,name:"Admin User",role:Wu.ADMIN,tenantId:"tenant-1",permissions:[{id:"1",name:"All Access",resource:"*",action:"*"}],createdAt:new Date,updatedAt:new Date};n(h),Hr("auth_token","mock-token"),a(!1)}catch{throw new Error("Login failed")}finally{}},logout:()=>{n(null),vT("auth_token")},isLoading:s,hasPermission:(m,u)=>r?r.permissions.some(h=>(h.resource==="*"||h.resource===m)&&(h.action==="*"||h.action===u)):!1,hasRole:m=>r?r.role===m||r.role===Wu.ADMIN:!1};return t.jsx(Y4.Provider,{value:d,children:e})}const K4=A.createContext(void 0);function J4(){const e=A.useContext(K4);if(e===void 0)throw new Error("useTenant must be used within a TenantProvider");return e}function PT({children:e}){const[r,n]=A.useState(null),[s,a]=A.useState([]);A.useEffect(()=>{const u={id:"tenant-1",name:"Demo RV Dealership",domain:"demo.renterinsight.com",settings:{timezone:"America/New_York",currency:"USD",dateFormat:"MM/dd/yyyy",businessHours:{monday:{open:"09:00",close:"18:00",closed:!1},tuesday:{open:"09:00",close:"18:00",closed:!1},wednesday:{open:"09:00",close:"18:00",closed:!1},thursday:{open:"09:00",close:"18:00",closed:!1},friday:{open:"09:00",close:"18:00",closed:!1},saturday:{open:"09:00",close:"17:00",closed:!1},sunday:{open:"12:00",close:"17:00",closed:!1}},features:{crm:!0,inventory:!0,quotes:!0,agreements:!0,service:!0,delivery:!0,commissions:!0,portal:!0,invoices:!0,reports:!0}},customFields:[],branding:{primaryColor:"#3b82f6",secondaryColor:"#64748b",fontFamily:"Inter"},createdAt:new Date,updatedAt:new Date};n(u),a(u.customFields)},[]);const m={tenant:r,customFields:s,getCustomFields:(u,h)=>s.filter(p=>p.module===u&&(h?p.section===h:!0)),updateTenantSettings:async u=>{if(!r)return;const h={...r,settings:{...r.settings,...u},updatedAt:new Date};n(h)},addCustomField:async u=>{const h={...u,id:Math.random().toString(36).substr(2,9)};a(p=>[...p,h])},updateCustomField:async(u,h)=>{a(p=>p.map(g=>g.id===u?{...g,...h}:g))},deleteCustomField:async u=>{a(h=>h.filter(p=>p.id!==u))}};return t.jsx(K4.Provider,{value:m,children:e})}const DT={theme:"system",setTheme:()=>null},kT=A.createContext(DT);function TT({children:e,defaultTheme:r="system",storageKey:n="vite-ui-theme",...s}){const[a,i]=A.useState(()=>localStorage.getItem(n)||r);A.useEffect(()=>{const l=window.document.documentElement;if(l.classList.remove("light","dark"),a==="system"){const c=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light";l.classList.add(c);return}l.classList.add(a)},[a]);const o={theme:a,setTheme:l=>{localStorage.setItem(n,l),i(l)}};return t.jsx(kT.Provider,{...s,value:o,children:e})}const LT=ix("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),ne=A.forwardRef(({className:e,variant:r,size:n,asChild:s=!1,...a},i)=>{const o=s?_D:"button";return t.jsx(o,{className:ze(LT({variant:r,size:n,className:e})),ref:i,...a})});ne.displayName="Button";const RT=[{name:"Dashboard",href:"/",icon:Tk},{name:"CRM & Prospecting",href:"/crm",icon:pn},{name:"Inventory Management",href:"/inventory",icon:Qn},{name:"Sales Deals",href:"/deals",icon:ys},{name:"Finance",href:"/finance",icon:Bt},{name:"Quote Builder",href:"/quotes",icon:Gn},{name:"Agreement Vault",href:"/agreements",icon:Fh},{name:"PDI Checklist",href:"/pdi",icon:Wl},{name:"Service Operations",href:"/service",icon:Cl},{name:"Delivery Tracker",href:"/delivery",icon:si},{name:"Commission Engine",href:"/commissions",icon:Bt},{name:"Client Portal",href:"/portal",icon:ku},{name:"Invoice & Payments",href:"/invoices",icon:_h},{name:"Company Settings",href:"/settings",icon:gm},{name:"Platform Admin",href:"/admin",icon:O4},{name:"Reporting Suite",href:"/reports",icon:ka}];function FT({open:e,onClose:r}){const n=Ad();return t.jsxs("div",{className:ze("fixed inset-y-0 z-50 flex w-72 flex-col transition-transform duration-300 ease-in-out lg:w-64",e?"translate-x-0":"-translate-x-full lg:translate-x-0"),children:[t.jsx("div",{className:"absolute right-0 top-0 flex h-12 w-12 items-center justify-center lg:hidden",children:t.jsx(ne,{variant:"ghost",size:"sm",onClick:r,className:"rounded-full",children:t.jsx(qt,{className:"h-5 w-5"})})}),t.jsxs("div",{className:"flex grow flex-col gap-y-5 overflow-y-auto border-r border-border bg-card px-6 pb-4",children:[t.jsx("div",{className:"flex h-16 shrink-0 items-center",children:t.jsx("h1",{className:"text-xl font-bold text-primary",children:"Renter Insight"})}),t.jsx("nav",{className:"flex flex-1 flex-col",children:t.jsx("ul",{role:"list",className:"flex flex-1 flex-col gap-y-7",children:t.jsx("li",{children:t.jsx("ul",{role:"list",className:"-mx-2 space-y-1",children:RT.map(s=>{const a=n.pathname===s.href||s.href!=="/"&&n.pathname.startsWith(s.href);return t.jsx("li",{children:t.jsxs(LD,{to:s.href,className:ze("group flex gap-x-3 rounded-md p-2 text-sm leading-6 font-semibold transition-colors",a?"bg-primary text-primary-foreground":"text-muted-foreground hover:text-foreground hover:bg-accent"),onClick:()=>r(),children:[t.jsx(s.icon,{className:ze("h-6 w-6 shrink-0",a?"text-primary-foreground":"text-muted-foreground group-hover:text-foreground"),"aria-hidden":"true"}),s.name]})},s.name)})})})})})]})]})}function _T({onOpenSidebar:e}){const{user:r,logout:n}=_m(),{tenant:s}=J4();return t.jsxs("div",{className:"sticky top-0 z-40 flex h-16 shrink-0 items-center gap-x-4 border-b border-border bg-background px-4 shadow-sm sm:gap-x-6 sm:px-6 lg:px-8",children:[t.jsx(ne,{variant:"ghost",size:"sm",className:"lg:hidden",onClick:e,children:t.jsx(Fk,{className:"h-5 w-5"})}),t.jsxs("div",{className:"flex flex-1 gap-x-4 self-stretch lg:gap-x-6",children:[t.jsx("div",{className:"flex flex-1 items-center",children:t.jsx("h2",{className:"text-lg font-semibold text-foreground",children:(s==null?void 0:s.name)||"Renter Insight CRM/DMS"})}),t.jsxs("div",{className:"flex items-center gap-x-4 lg:gap-x-6",children:[t.jsxs("div",{className:"flex items-center gap-x-2",children:[t.jsx($s,{className:"h-5 w-5 text-muted-foreground"}),t.jsx("span",{className:"hidden sm:block text-sm font-medium text-foreground",children:r==null?void 0:r.name})]}),t.jsxs(ne,{variant:"ghost",size:"sm",onClick:n,className:"flex items-center gap-x-2",children:[t.jsx(Rk,{className:"h-4 w-4"}),t.jsx("span",{className:"hidden sm:block",children:"Logout"})]})]})]})]})}function OT({children:e}){const[r,n]=A.useState(!1);return t.jsxs("div",{className:"min-h-screen bg-background",children:[t.jsx(FT,{open:r,onClose:()=>n(!1)}),t.jsxs("div",{className:"lg:pl-64",children:[t.jsx(_T,{onOpenSidebar:()=>n(!0)}),t.jsx("main",{className:"py-6",children:t.jsx("div",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8",children:e})})]})]})}const ue=A.forwardRef(({className:e,...r},n)=>t.jsx("div",{ref:n,className:ze("rounded-lg border bg-card text-card-foreground shadow-sm",e),...r}));ue.displayName="Card";const be=A.forwardRef(({className:e,...r},n)=>t.jsx("div",{ref:n,className:ze("flex flex-col space-y-1.5 p-6",e),...r}));be.displayName="CardHeader";const je=A.forwardRef(({className:e,...r},n)=>t.jsx("h3",{ref:n,className:ze("text-2xl font-semibold leading-none tracking-tight",e),...r}));je.displayName="CardTitle";const Ge=A.forwardRef(({className:e,...r},n)=>t.jsx("p",{ref:n,className:ze("text-sm text-muted-foreground",e),...r}));Ge.displayName="CardDescription";const me=A.forwardRef(({className:e,...r},n)=>t.jsx("div",{ref:n,className:ze("p-6 pt-0",e),...r}));me.displayName="CardContent";const MT=A.forwardRef(({className:e,...r},n)=>t.jsx("div",{ref:n,className:ze("flex items-center p-6 pt-0",e),...r}));MT.displayName="CardFooter";const Te=A.forwardRef(({className:e,type:r,...n},s)=>t.jsx("input",{type:r,className:ze("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:s,...n}));Te.displayName="Input";const rr=A.forwardRef(({className:e,...r},n)=>t.jsx("textarea",{className:ze("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:n,...r}));rr.displayName="Textarea";function nt(){return nt=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},nt.apply(null,arguments)}function Pj(e,[r,n]){return Math.min(n,Math.max(r,e))}function yn(e,r,{checkForDefaultPrevented:n=!0}={}){return function(a){if(e==null||e(a),n===!1||!a.defaultPrevented)return r==null?void 0:r(a)}}function Ly(e,r=[]){let n=[];function s(i,o){const l=A.createContext(o),c=n.length;n=[...n,o];function d(u){const{scope:h,children:p,...g}=u,b=(h==null?void 0:h[e][c])||l,j=A.useMemo(()=>g,Object.values(g));return A.createElement(b.Provider,{value:j},p)}function m(u,h){const p=(h==null?void 0:h[e][c])||l,g=A.useContext(p);if(g)return g;if(o!==void 0)return o;throw new Error(`\`${u}\` must be used within \`${i}\``)}return d.displayName=i+"Provider",[d,m]}const a=()=>{const i=n.map(o=>A.createContext(o));return function(l){const c=(l==null?void 0:l[e])||i;return A.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return a.scopeName=e,[s,BT(a,...r)]}function BT(...e){const r=e[0];if(e.length===1)return r;const n=()=>{const s=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(i){const o=s.reduce((l,{useScope:c,scopeName:d})=>{const u=c(i)[`__scope${d}`];return{...l,...u}},{});return A.useMemo(()=>({[`__scope${r.scopeName}`]:o}),[o])}};return n.scopeName=r.scopeName,n}function zT(e,r){typeof e=="function"?e(r):e!=null&&(e.current=r)}function X4(...e){return r=>e.forEach(n=>zT(n,r))}function Kn(...e){return A.useCallback(X4(...e),e)}const vm=A.forwardRef((e,r)=>{const{children:n,...s}=e,a=A.Children.toArray(n),i=a.find(UT);if(i){const o=i.props.children,l=a.map(c=>c===i?A.Children.count(o)>1?A.Children.only(null):A.isValidElement(o)?o.props.children:null:c);return A.createElement(q0,nt({},s,{ref:r}),A.isValidElement(o)?A.cloneElement(o,void 0,l):null)}return A.createElement(q0,nt({},s,{ref:r}),n)});vm.displayName="Slot";const q0=A.forwardRef((e,r)=>{const{children:n,...s}=e;return A.isValidElement(n)?A.cloneElement(n,{...VT(s,n.props),ref:r?X4(r,n.ref):n.ref}):A.Children.count(n)>1?A.Children.only(null):null});q0.displayName="SlotClone";const $T=({children:e})=>A.createElement(A.Fragment,null,e);function UT(e){return A.isValidElement(e)&&e.type===$T}function VT(e,r){const n={...r};for(const s in r){const a=e[s],i=r[s];/^on[A-Z]/.test(s)?a&&i?n[s]=(...l)=>{i(...l),a(...l)}:a&&(n[s]=a):s==="style"?n[s]={...a,...i}:s==="className"&&(n[s]=[a,i].filter(Boolean).join(" "))}return{...e,...n}}function WT(e){const r=e+"CollectionProvider",[n,s]=Ly(r),[a,i]=n(r,{collectionRef:{current:null},itemMap:new Map}),o=p=>{const{scope:g,children:b}=p,j=Dt.useRef(null),x=Dt.useRef(new Map).current;return Dt.createElement(a,{scope:g,itemMap:x,collectionRef:j},b)},l=e+"CollectionSlot",c=Dt.forwardRef((p,g)=>{const{scope:b,children:j}=p,x=i(l,b),v=Kn(g,x.collectionRef);return Dt.createElement(vm,{ref:v},j)}),d=e+"CollectionItemSlot",m="data-radix-collection-item",u=Dt.forwardRef((p,g)=>{const{scope:b,children:j,...x}=p,v=Dt.useRef(null),y=Kn(g,v),E=i(d,b);return Dt.useEffect(()=>(E.itemMap.set(v,{ref:v,...x}),()=>void E.itemMap.delete(v))),Dt.createElement(vm,{[m]:"",ref:y},j)});function h(p){const g=i(e+"CollectionConsumer",p);return Dt.useCallback(()=>{const j=g.collectionRef.current;if(!j)return[];const x=Array.from(j.querySelectorAll(`[${m}]`));return Array.from(g.itemMap.values()).sort((E,O)=>x.indexOf(E.ref.current)-x.indexOf(O.ref.current))},[g.collectionRef,g.itemMap])}return[{Provider:o,Slot:c,ItemSlot:u},h,s]}const qT=A.createContext(void 0);function HT(e){const r=A.useContext(qT);return e||r||"ltr"}const GT=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],_n=GT.reduce((e,r)=>{const n=A.forwardRef((s,a)=>{const{asChild:i,...o}=s,l=i?vm:r;return A.useEffect(()=>{window[Symbol.for("radix-ui")]=!0},[]),A.createElement(l,nt({},o,{ref:a}))});return n.displayName=`Primitive.${r}`,{...e,[r]:n}},{});function QT(e,r){e&&Qi.flushSync(()=>e.dispatchEvent(r))}function Wi(e){const r=A.useRef(e);return A.useEffect(()=>{r.current=e}),A.useMemo(()=>(...n)=>{var s;return(s=r.current)===null||s===void 0?void 0:s.call(r,...n)},[])}function YT(e,r=globalThis==null?void 0:globalThis.document){const n=Wi(e);A.useEffect(()=>{const s=a=>{a.key==="Escape"&&n(a)};return r.addEventListener("keydown",s),()=>r.removeEventListener("keydown",s)},[n,r])}const H0="dismissableLayer.update",KT="dismissableLayer.pointerDownOutside",JT="dismissableLayer.focusOutside";let Dj;const XT=A.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),ZT=A.forwardRef((e,r)=>{var n;const{disableOutsidePointerEvents:s=!1,onEscapeKeyDown:a,onPointerDownOutside:i,onFocusOutside:o,onInteractOutside:l,onDismiss:c,...d}=e,m=A.useContext(XT),[u,h]=A.useState(null),p=(n=u==null?void 0:u.ownerDocument)!==null&&n!==void 0?n:globalThis==null?void 0:globalThis.document,[,g]=A.useState({}),b=Kn(r,S=>h(S)),j=Array.from(m.layers),[x]=[...m.layersWithOutsidePointerEventsDisabled].slice(-1),v=j.indexOf(x),y=u?j.indexOf(u):-1,E=m.layersWithOutsidePointerEventsDisabled.size>0,O=y>=v,M=eL(S=>{const I=S.target,k=[...m.branches].some(C=>C.contains(I));!O||k||(i==null||i(S),l==null||l(S),S.defaultPrevented||c==null||c())},p),P=tL(S=>{const I=S.target;[...m.branches].some(C=>C.contains(I))||(o==null||o(S),l==null||l(S),S.defaultPrevented||c==null||c())},p);return YT(S=>{y===m.layers.size-1&&(a==null||a(S),!S.defaultPrevented&&c&&(S.preventDefault(),c()))},p),A.useEffect(()=>{if(u)return s&&(m.layersWithOutsidePointerEventsDisabled.size===0&&(Dj=p.body.style.pointerEvents,p.body.style.pointerEvents="none"),m.layersWithOutsidePointerEventsDisabled.add(u)),m.layers.add(u),kj(),()=>{s&&m.layersWithOutsidePointerEventsDisabled.size===1&&(p.body.style.pointerEvents=Dj)}},[u,p,s,m]),A.useEffect(()=>()=>{u&&(m.layers.delete(u),m.layersWithOutsidePointerEventsDisabled.delete(u),kj())},[u,m]),A.useEffect(()=>{const S=()=>g({});return document.addEventListener(H0,S),()=>document.removeEventListener(H0,S)},[]),A.createElement(_n.div,nt({},d,{ref:b,style:{pointerEvents:E?O?"auto":"none":void 0,...e.style},onFocusCapture:yn(e.onFocusCapture,P.onFocusCapture),onBlurCapture:yn(e.onBlurCapture,P.onBlurCapture),onPointerDownCapture:yn(e.onPointerDownCapture,M.onPointerDownCapture)}))});function eL(e,r=globalThis==null?void 0:globalThis.document){const n=Wi(e),s=A.useRef(!1),a=A.useRef(()=>{});return A.useEffect(()=>{const i=l=>{if(l.target&&!s.current){let d=function(){Z4(KT,n,c,{discrete:!0})};const c={originalEvent:l};l.pointerType==="touch"?(r.removeEventListener("click",a.current),a.current=d,r.addEventListener("click",a.current,{once:!0})):d()}s.current=!1},o=window.setTimeout(()=>{r.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),r.removeEventListener("pointerdown",i),r.removeEventListener("click",a.current)}},[r,n]),{onPointerDownCapture:()=>s.current=!0}}function tL(e,r=globalThis==null?void 0:globalThis.document){const n=Wi(e),s=A.useRef(!1);return A.useEffect(()=>{const a=i=>{i.target&&!s.current&&Z4(JT,n,{originalEvent:i},{discrete:!1})};return r.addEventListener("focusin",a),()=>r.removeEventListener("focusin",a)},[r,n]),{onFocusCapture:()=>s.current=!0,onBlurCapture:()=>s.current=!1}}function kj(){const e=new CustomEvent(H0);document.dispatchEvent(e)}function Z4(e,r,n,{discrete:s}){const a=n.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});r&&a.addEventListener(e,r,{once:!0}),s?QT(a,i):a.dispatchEvent(i)}let iv=0;function rL(){A.useEffect(()=>{var e,r;const n=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",(e=n[0])!==null&&e!==void 0?e:Tj()),document.body.insertAdjacentElement("beforeend",(r=n[1])!==null&&r!==void 0?r:Tj()),iv++,()=>{iv===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(s=>s.remove()),iv--}},[])}function Tj(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.cssText="outline: none; opacity: 0; position: fixed; pointer-events: none",e}const ov="focusScope.autoFocusOnMount",lv="focusScope.autoFocusOnUnmount",Lj={bubbles:!1,cancelable:!0},nL=A.forwardRef((e,r)=>{const{loop:n=!1,trapped:s=!1,onMountAutoFocus:a,onUnmountAutoFocus:i,...o}=e,[l,c]=A.useState(null),d=Wi(a),m=Wi(i),u=A.useRef(null),h=Kn(r,b=>c(b)),p=A.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;A.useEffect(()=>{if(s){let b=function(y){if(p.paused||!l)return;const E=y.target;l.contains(E)?u.current=E:fo(u.current,{select:!0})},j=function(y){if(p.paused||!l)return;const E=y.relatedTarget;E!==null&&(l.contains(E)||fo(u.current,{select:!0}))},x=function(y){const E=document.activeElement;for(const O of y)O.removedNodes.length>0&&(l!=null&&l.contains(E)||fo(l))};document.addEventListener("focusin",b),document.addEventListener("focusout",j);const v=new MutationObserver(x);return l&&v.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",b),document.removeEventListener("focusout",j),v.disconnect()}}},[s,l,p.paused]),A.useEffect(()=>{if(l){Fj.add(p);const b=document.activeElement;if(!l.contains(b)){const x=new CustomEvent(ov,Lj);l.addEventListener(ov,d),l.dispatchEvent(x),x.defaultPrevented||(sL(cL(e3(l)),{select:!0}),document.activeElement===b&&fo(l))}return()=>{l.removeEventListener(ov,d),setTimeout(()=>{const x=new CustomEvent(lv,Lj);l.addEventListener(lv,m),l.dispatchEvent(x),x.defaultPrevented||fo(b??document.body,{select:!0}),l.removeEventListener(lv,m),Fj.remove(p)},0)}}},[l,d,m,p]);const g=A.useCallback(b=>{if(!n&&!s||p.paused)return;const j=b.key==="Tab"&&!b.altKey&&!b.ctrlKey&&!b.metaKey,x=document.activeElement;if(j&&x){const v=b.currentTarget,[y,E]=aL(v);y&&E?!b.shiftKey&&x===E?(b.preventDefault(),n&&fo(y,{select:!0})):b.shiftKey&&x===y&&(b.preventDefault(),n&&fo(E,{select:!0})):x===v&&b.preventDefault()}},[n,s,p.paused]);return A.createElement(_n.div,nt({tabIndex:-1},o,{ref:h,onKeyDown:g}))});function sL(e,{select:r=!1}={}){const n=document.activeElement;for(const s of e)if(fo(s,{select:r}),document.activeElement!==n)return}function aL(e){const r=e3(e),n=Rj(r,e),s=Rj(r.reverse(),e);return[n,s]}function e3(e){const r=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:s=>{const a=s.tagName==="INPUT"&&s.type==="hidden";return s.disabled||s.hidden||a?NodeFilter.FILTER_SKIP:s.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)r.push(n.currentNode);return r}function Rj(e,r){for(const n of e)if(!iL(n,{upTo:r}))return n}function iL(e,{upTo:r}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(r!==void 0&&e===r)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function oL(e){return e instanceof HTMLInputElement&&"select"in e}function fo(e,{select:r=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&oL(e)&&r&&e.select()}}const Fj=lL();function lL(){let e=[];return{add(r){const n=e[0];r!==n&&(n==null||n.pause()),e=_j(e,r),e.unshift(r)},remove(r){var n;e=_j(e,r),(n=e[0])===null||n===void 0||n.resume()}}}function _j(e,r){const n=[...e],s=n.indexOf(r);return s!==-1&&n.splice(s,1),n}function cL(e){return e.filter(r=>r.tagName!=="A")}const ua=globalThis!=null&&globalThis.document?A.useLayoutEffect:()=>{},dL=zf["useId".toString()]||(()=>{});let uL=0;function t3(e){const[r,n]=A.useState(dL());return ua(()=>{e||n(s=>s??String(uL++))},[e]),e||(r?`radix-${r}`:"")}const mL=["top","right","bottom","left"],qo=Math.min,Ps=Math.max,bf=Math.round,oh=Math.floor,mi=e=>({x:e,y:e}),pL={left:"right",right:"left",bottom:"top",top:"bottom"},hL={start:"end",end:"start"};function G0(e,r,n){return Ps(e,qo(r,n))}function qi(e,r){return typeof e=="function"?e(r):e}function Hi(e){return e.split("-")[0]}function Id(e){return e.split("-")[1]}function Ry(e){return e==="x"?"y":"x"}function Fy(e){return e==="y"?"height":"width"}function li(e){return["top","bottom"].includes(Hi(e))?"y":"x"}function _y(e){return Ry(li(e))}function fL(e,r,n){n===void 0&&(n=!1);const s=Id(e),a=_y(e),i=Fy(a);let o=a==="x"?s===(n?"end":"start")?"right":"left":s==="start"?"bottom":"top";return r.reference[i]>r.floating[i]&&(o=jf(o)),[o,jf(o)]}function xL(e){const r=jf(e);return[Q0(e),r,Q0(r)]}function Q0(e){return e.replace(/start|end/g,r=>hL[r])}function gL(e,r,n){const s=["left","right"],a=["right","left"],i=["top","bottom"],o=["bottom","top"];switch(e){case"top":case"bottom":return n?r?a:s:r?s:a;case"left":case"right":return r?i:o;default:return[]}}function vL(e,r,n,s){const a=Id(e);let i=gL(Hi(e),n==="start",s);return a&&(i=i.map(o=>o+"-"+a),r&&(i=i.concat(i.map(Q0)))),i}function jf(e){return e.replace(/left|right|bottom|top/g,r=>pL[r])}function yL(e){return{top:0,right:0,bottom:0,left:0,...e}}function r3(e){return typeof e!="number"?yL(e):{top:e,right:e,bottom:e,left:e}}function wf(e){const{x:r,y:n,width:s,height:a}=e;return{width:s,height:a,top:n,left:r,right:r+s,bottom:n+a,x:r,y:n}}function Oj(e,r,n){let{reference:s,floating:a}=e;const i=li(r),o=_y(r),l=Fy(o),c=Hi(r),d=i==="y",m=s.x+s.width/2-a.width/2,u=s.y+s.height/2-a.height/2,h=s[l]/2-a[l]/2;let p;switch(c){case"top":p={x:m,y:s.y-a.height};break;case"bottom":p={x:m,y:s.y+s.height};break;case"right":p={x:s.x+s.width,y:u};break;case"left":p={x:s.x-a.width,y:u};break;default:p={x:s.x,y:s.y}}switch(Id(r)){case"start":p[o]-=h*(n&&d?-1:1);break;case"end":p[o]+=h*(n&&d?-1:1);break}return p}const bL=async(e,r,n)=>{const{placement:s="bottom",strategy:a="absolute",middleware:i=[],platform:o}=n,l=i.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(r));let d=await o.getElementRects({reference:e,floating:r,strategy:a}),{x:m,y:u}=Oj(d,s,c),h=s,p={},g=0;for(let b=0;b<l.length;b++){const{name:j,fn:x}=l[b],{x:v,y,data:E,reset:O}=await x({x:m,y:u,initialPlacement:s,placement:h,strategy:a,middlewareData:p,rects:d,platform:o,elements:{reference:e,floating:r}});m=v??m,u=y??u,p={...p,[j]:{...p[j],...E}},O&&g<=50&&(g++,typeof O=="object"&&(O.placement&&(h=O.placement),O.rects&&(d=O.rects===!0?await o.getElementRects({reference:e,floating:r,strategy:a}):O.rects),{x:m,y:u}=Oj(d,h,c)),b=-1)}return{x:m,y:u,placement:h,strategy:a,middlewareData:p}};async function ym(e,r){var n;r===void 0&&(r={});const{x:s,y:a,platform:i,rects:o,elements:l,strategy:c}=e,{boundary:d="clippingAncestors",rootBoundary:m="viewport",elementContext:u="floating",altBoundary:h=!1,padding:p=0}=qi(r,e),g=r3(p),j=l[h?u==="floating"?"reference":"floating":u],x=wf(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(j)))==null||n?j:j.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(l.floating)),boundary:d,rootBoundary:m,strategy:c})),v=u==="floating"?{x:s,y:a,width:o.floating.width,height:o.floating.height}:o.reference,y=await(i.getOffsetParent==null?void 0:i.getOffsetParent(l.floating)),E=await(i.isElement==null?void 0:i.isElement(y))?await(i.getScale==null?void 0:i.getScale(y))||{x:1,y:1}:{x:1,y:1},O=wf(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:v,offsetParent:y,strategy:c}):v);return{top:(x.top-O.top+g.top)/E.y,bottom:(O.bottom-x.bottom+g.bottom)/E.y,left:(x.left-O.left+g.left)/E.x,right:(O.right-x.right+g.right)/E.x}}const jL=e=>({name:"arrow",options:e,async fn(r){const{x:n,y:s,placement:a,rects:i,platform:o,elements:l,middlewareData:c}=r,{element:d,padding:m=0}=qi(e,r)||{};if(d==null)return{};const u=r3(m),h={x:n,y:s},p=_y(a),g=Fy(p),b=await o.getDimensions(d),j=p==="y",x=j?"top":"left",v=j?"bottom":"right",y=j?"clientHeight":"clientWidth",E=i.reference[g]+i.reference[p]-h[p]-i.floating[g],O=h[p]-i.reference[p],M=await(o.getOffsetParent==null?void 0:o.getOffsetParent(d));let P=M?M[y]:0;(!P||!await(o.isElement==null?void 0:o.isElement(M)))&&(P=l.floating[y]||i.floating[g]);const S=E/2-O/2,I=P/2-b[g]/2-1,k=qo(u[x],I),C=qo(u[v],I),w=k,L=P-b[g]-C,T=P/2-b[g]/2+S,W=G0(w,T,L),V=!c.arrow&&Id(a)!=null&&T!==W&&i.reference[g]/2-(T<w?k:C)-b[g]/2<0,_=V?T<w?T-w:T-L:0;return{[p]:h[p]+_,data:{[p]:W,centerOffset:T-W-_,...V&&{alignmentOffset:_}},reset:V}}}),wL=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(r){var n,s;const{placement:a,middlewareData:i,rects:o,initialPlacement:l,platform:c,elements:d}=r,{mainAxis:m=!0,crossAxis:u=!0,fallbackPlacements:h,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:g="none",flipAlignment:b=!0,...j}=qi(e,r);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const x=Hi(a),v=li(l),y=Hi(l)===l,E=await(c.isRTL==null?void 0:c.isRTL(d.floating)),O=h||(y||!b?[jf(l)]:xL(l)),M=g!=="none";!h&&M&&O.push(...vL(l,b,g,E));const P=[l,...O],S=await ym(r,j),I=[];let k=((s=i.flip)==null?void 0:s.overflows)||[];if(m&&I.push(S[x]),u){const T=fL(a,o,E);I.push(S[T[0]],S[T[1]])}if(k=[...k,{placement:a,overflows:I}],!I.every(T=>T<=0)){var C,w;const T=(((C=i.flip)==null?void 0:C.index)||0)+1,W=P[T];if(W&&(!(u==="alignment"?v!==li(W):!1)||k.every(B=>B.overflows[0]>0&&li(B.placement)===v)))return{data:{index:T,overflows:k},reset:{placement:W}};let V=(w=k.filter(_=>_.overflows[0]<=0).sort((_,B)=>_.overflows[1]-B.overflows[1])[0])==null?void 0:w.placement;if(!V)switch(p){case"bestFit":{var L;const _=(L=k.filter(B=>{if(M){const U=li(B.placement);return U===v||U==="y"}return!0}).map(B=>[B.placement,B.overflows.filter(U=>U>0).reduce((U,H)=>U+H,0)]).sort((B,U)=>B[1]-U[1])[0])==null?void 0:L[0];_&&(V=_);break}case"initialPlacement":V=l;break}if(a!==V)return{reset:{placement:V}}}return{}}}};function Mj(e,r){return{top:e.top-r.height,right:e.right-r.width,bottom:e.bottom-r.height,left:e.left-r.width}}function Bj(e){return mL.some(r=>e[r]>=0)}const NL=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(r){const{rects:n}=r,{strategy:s="referenceHidden",...a}=qi(e,r);switch(s){case"referenceHidden":{const i=await ym(r,{...a,elementContext:"reference"}),o=Mj(i,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:Bj(o)}}}case"escaped":{const i=await ym(r,{...a,altBoundary:!0}),o=Mj(i,n.floating);return{data:{escapedOffsets:o,escaped:Bj(o)}}}default:return{}}}}};async function SL(e,r){const{placement:n,platform:s,elements:a}=e,i=await(s.isRTL==null?void 0:s.isRTL(a.floating)),o=Hi(n),l=Id(n),c=li(n)==="y",d=["left","top"].includes(o)?-1:1,m=i&&c?-1:1,u=qi(r,e);let{mainAxis:h,crossAxis:p,alignmentAxis:g}=typeof u=="number"?{mainAxis:u,crossAxis:0,alignmentAxis:null}:{mainAxis:u.mainAxis||0,crossAxis:u.crossAxis||0,alignmentAxis:u.alignmentAxis};return l&&typeof g=="number"&&(p=l==="end"?g*-1:g),c?{x:p*m,y:h*d}:{x:h*d,y:p*m}}const CL=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(r){var n,s;const{x:a,y:i,placement:o,middlewareData:l}=r,c=await SL(r,e);return o===((n=l.offset)==null?void 0:n.placement)&&(s=l.arrow)!=null&&s.alignmentOffset?{}:{x:a+c.x,y:i+c.y,data:{...c,placement:o}}}}},AL=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(r){const{x:n,y:s,placement:a}=r,{mainAxis:i=!0,crossAxis:o=!1,limiter:l={fn:j=>{let{x,y:v}=j;return{x,y:v}}},...c}=qi(e,r),d={x:n,y:s},m=await ym(r,c),u=li(Hi(a)),h=Ry(u);let p=d[h],g=d[u];if(i){const j=h==="y"?"top":"left",x=h==="y"?"bottom":"right",v=p+m[j],y=p-m[x];p=G0(v,p,y)}if(o){const j=u==="y"?"top":"left",x=u==="y"?"bottom":"right",v=g+m[j],y=g-m[x];g=G0(v,g,y)}const b=l.fn({...r,[h]:p,[u]:g});return{...b,data:{x:b.x-n,y:b.y-s,enabled:{[h]:i,[u]:o}}}}}},EL=function(e){return e===void 0&&(e={}),{options:e,fn(r){const{x:n,y:s,placement:a,rects:i,middlewareData:o}=r,{offset:l=0,mainAxis:c=!0,crossAxis:d=!0}=qi(e,r),m={x:n,y:s},u=li(a),h=Ry(u);let p=m[h],g=m[u];const b=qi(l,r),j=typeof b=="number"?{mainAxis:b,crossAxis:0}:{mainAxis:0,crossAxis:0,...b};if(c){const y=h==="y"?"height":"width",E=i.reference[h]-i.floating[y]+j.mainAxis,O=i.reference[h]+i.reference[y]-j.mainAxis;p<E?p=E:p>O&&(p=O)}if(d){var x,v;const y=h==="y"?"width":"height",E=["top","left"].includes(Hi(a)),O=i.reference[u]-i.floating[y]+(E&&((x=o.offset)==null?void 0:x[u])||0)+(E?0:j.crossAxis),M=i.reference[u]+i.reference[y]+(E?0:((v=o.offset)==null?void 0:v[u])||0)-(E?j.crossAxis:0);g<O?g=O:g>M&&(g=M)}return{[h]:p,[u]:g}}}},IL=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(r){var n,s;const{placement:a,rects:i,platform:o,elements:l}=r,{apply:c=()=>{},...d}=qi(e,r),m=await ym(r,d),u=Hi(a),h=Id(a),p=li(a)==="y",{width:g,height:b}=i.floating;let j,x;u==="top"||u==="bottom"?(j=u,x=h===(await(o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(x=u,j=h==="end"?"top":"bottom");const v=b-m.top-m.bottom,y=g-m.left-m.right,E=qo(b-m[j],v),O=qo(g-m[x],y),M=!r.middlewareData.shift;let P=E,S=O;if((n=r.middlewareData.shift)!=null&&n.enabled.x&&(S=y),(s=r.middlewareData.shift)!=null&&s.enabled.y&&(P=v),M&&!h){const k=Ps(m.left,0),C=Ps(m.right,0),w=Ps(m.top,0),L=Ps(m.bottom,0);p?S=g-2*(k!==0||C!==0?k+C:Ps(m.left,m.right)):P=b-2*(w!==0||L!==0?w+L:Ps(m.top,m.bottom))}await c({...r,availableWidth:S,availableHeight:P});const I=await o.getDimensions(l.floating);return g!==I.width||b!==I.height?{reset:{rects:!0}}:{}}}};function lx(){return typeof window<"u"}function Pd(e){return n3(e)?(e.nodeName||"").toLowerCase():"#document"}function Os(e){var r;return(e==null||(r=e.ownerDocument)==null?void 0:r.defaultView)||window}function xi(e){var r;return(r=(n3(e)?e.ownerDocument:e.document)||window.document)==null?void 0:r.documentElement}function n3(e){return lx()?e instanceof Node||e instanceof Os(e).Node:!1}function Ma(e){return lx()?e instanceof Element||e instanceof Os(e).Element:!1}function fi(e){return lx()?e instanceof HTMLElement||e instanceof Os(e).HTMLElement:!1}function zj(e){return!lx()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Os(e).ShadowRoot}function Om(e){const{overflow:r,overflowX:n,overflowY:s,display:a}=Ba(e);return/auto|scroll|overlay|hidden|clip/.test(r+s+n)&&!["inline","contents"].includes(a)}function PL(e){return["table","td","th"].includes(Pd(e))}function cx(e){return[":popover-open",":modal"].some(r=>{try{return e.matches(r)}catch{return!1}})}function Oy(e){const r=My(),n=Ma(e)?Ba(e):e;return["transform","translate","scale","rotate","perspective"].some(s=>n[s]?n[s]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!r&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!r&&(n.filter?n.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(s=>(n.willChange||"").includes(s))||["paint","layout","strict","content"].some(s=>(n.contain||"").includes(s))}function DL(e){let r=Ho(e);for(;fi(r)&&!fd(r);){if(Oy(r))return r;if(cx(r))return null;r=Ho(r)}return null}function My(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function fd(e){return["html","body","#document"].includes(Pd(e))}function Ba(e){return Os(e).getComputedStyle(e)}function dx(e){return Ma(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Ho(e){if(Pd(e)==="html")return e;const r=e.assignedSlot||e.parentNode||zj(e)&&e.host||xi(e);return zj(r)?r.host:r}function s3(e){const r=Ho(e);return fd(r)?e.ownerDocument?e.ownerDocument.body:e.body:fi(r)&&Om(r)?r:s3(r)}function bm(e,r,n){var s;r===void 0&&(r=[]),n===void 0&&(n=!0);const a=s3(e),i=a===((s=e.ownerDocument)==null?void 0:s.body),o=Os(a);if(i){const l=Y0(o);return r.concat(o,o.visualViewport||[],Om(a)?a:[],l&&n?bm(l):[])}return r.concat(a,bm(a,[],n))}function Y0(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function a3(e){const r=Ba(e);let n=parseFloat(r.width)||0,s=parseFloat(r.height)||0;const a=fi(e),i=a?e.offsetWidth:n,o=a?e.offsetHeight:s,l=bf(n)!==i||bf(s)!==o;return l&&(n=i,s=o),{width:n,height:s,$:l}}function By(e){return Ma(e)?e:e.contextElement}function nd(e){const r=By(e);if(!fi(r))return mi(1);const n=r.getBoundingClientRect(),{width:s,height:a,$:i}=a3(r);let o=(i?bf(n.width):n.width)/s,l=(i?bf(n.height):n.height)/a;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const kL=mi(0);function i3(e){const r=Os(e);return!My()||!r.visualViewport?kL:{x:r.visualViewport.offsetLeft,y:r.visualViewport.offsetTop}}function TL(e,r,n){return r===void 0&&(r=!1),!n||r&&n!==Os(e)?!1:r}function ql(e,r,n,s){r===void 0&&(r=!1),n===void 0&&(n=!1);const a=e.getBoundingClientRect(),i=By(e);let o=mi(1);r&&(s?Ma(s)&&(o=nd(s)):o=nd(e));const l=TL(i,n,s)?i3(i):mi(0);let c=(a.left+l.x)/o.x,d=(a.top+l.y)/o.y,m=a.width/o.x,u=a.height/o.y;if(i){const h=Os(i),p=s&&Ma(s)?Os(s):s;let g=h,b=Y0(g);for(;b&&s&&p!==g;){const j=nd(b),x=b.getBoundingClientRect(),v=Ba(b),y=x.left+(b.clientLeft+parseFloat(v.paddingLeft))*j.x,E=x.top+(b.clientTop+parseFloat(v.paddingTop))*j.y;c*=j.x,d*=j.y,m*=j.x,u*=j.y,c+=y,d+=E,g=Os(b),b=Y0(g)}}return wf({width:m,height:u,x:c,y:d})}function zy(e,r){const n=dx(e).scrollLeft;return r?r.left+n:ql(xi(e)).left+n}function o3(e,r,n){n===void 0&&(n=!1);const s=e.getBoundingClientRect(),a=s.left+r.scrollLeft-(n?0:zy(e,s)),i=s.top+r.scrollTop;return{x:a,y:i}}function LL(e){let{elements:r,rect:n,offsetParent:s,strategy:a}=e;const i=a==="fixed",o=xi(s),l=r?cx(r.floating):!1;if(s===o||l&&i)return n;let c={scrollLeft:0,scrollTop:0},d=mi(1);const m=mi(0),u=fi(s);if((u||!u&&!i)&&((Pd(s)!=="body"||Om(o))&&(c=dx(s)),fi(s))){const p=ql(s);d=nd(s),m.x=p.x+s.clientLeft,m.y=p.y+s.clientTop}const h=o&&!u&&!i?o3(o,c,!0):mi(0);return{width:n.width*d.x,height:n.height*d.y,x:n.x*d.x-c.scrollLeft*d.x+m.x+h.x,y:n.y*d.y-c.scrollTop*d.y+m.y+h.y}}function RL(e){return Array.from(e.getClientRects())}function FL(e){const r=xi(e),n=dx(e),s=e.ownerDocument.body,a=Ps(r.scrollWidth,r.clientWidth,s.scrollWidth,s.clientWidth),i=Ps(r.scrollHeight,r.clientHeight,s.scrollHeight,s.clientHeight);let o=-n.scrollLeft+zy(e);const l=-n.scrollTop;return Ba(s).direction==="rtl"&&(o+=Ps(r.clientWidth,s.clientWidth)-a),{width:a,height:i,x:o,y:l}}function _L(e,r){const n=Os(e),s=xi(e),a=n.visualViewport;let i=s.clientWidth,o=s.clientHeight,l=0,c=0;if(a){i=a.width,o=a.height;const d=My();(!d||d&&r==="fixed")&&(l=a.offsetLeft,c=a.offsetTop)}return{width:i,height:o,x:l,y:c}}function OL(e,r){const n=ql(e,!0,r==="fixed"),s=n.top+e.clientTop,a=n.left+e.clientLeft,i=fi(e)?nd(e):mi(1),o=e.clientWidth*i.x,l=e.clientHeight*i.y,c=a*i.x,d=s*i.y;return{width:o,height:l,x:c,y:d}}function $j(e,r,n){let s;if(r==="viewport")s=_L(e,n);else if(r==="document")s=FL(xi(e));else if(Ma(r))s=OL(r,n);else{const a=i3(e);s={x:r.x-a.x,y:r.y-a.y,width:r.width,height:r.height}}return wf(s)}function l3(e,r){const n=Ho(e);return n===r||!Ma(n)||fd(n)?!1:Ba(n).position==="fixed"||l3(n,r)}function ML(e,r){const n=r.get(e);if(n)return n;let s=bm(e,[],!1).filter(l=>Ma(l)&&Pd(l)!=="body"),a=null;const i=Ba(e).position==="fixed";let o=i?Ho(e):e;for(;Ma(o)&&!fd(o);){const l=Ba(o),c=Oy(o);!c&&l.position==="fixed"&&(a=null),(i?!c&&!a:!c&&l.position==="static"&&!!a&&["absolute","fixed"].includes(a.position)||Om(o)&&!c&&l3(e,o))?s=s.filter(m=>m!==o):a=l,o=Ho(o)}return r.set(e,s),s}function BL(e){let{element:r,boundary:n,rootBoundary:s,strategy:a}=e;const o=[...n==="clippingAncestors"?cx(r)?[]:ML(r,this._c):[].concat(n),s],l=o[0],c=o.reduce((d,m)=>{const u=$j(r,m,a);return d.top=Ps(u.top,d.top),d.right=qo(u.right,d.right),d.bottom=qo(u.bottom,d.bottom),d.left=Ps(u.left,d.left),d},$j(r,l,a));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function zL(e){const{width:r,height:n}=a3(e);return{width:r,height:n}}function $L(e,r,n){const s=fi(r),a=xi(r),i=n==="fixed",o=ql(e,!0,i,r);let l={scrollLeft:0,scrollTop:0};const c=mi(0);function d(){c.x=zy(a)}if(s||!s&&!i)if((Pd(r)!=="body"||Om(a))&&(l=dx(r)),s){const p=ql(r,!0,i,r);c.x=p.x+r.clientLeft,c.y=p.y+r.clientTop}else a&&d();i&&!s&&a&&d();const m=a&&!s&&!i?o3(a,l):mi(0),u=o.left+l.scrollLeft-c.x-m.x,h=o.top+l.scrollTop-c.y-m.y;return{x:u,y:h,width:o.width,height:o.height}}function cv(e){return Ba(e).position==="static"}function Uj(e,r){if(!fi(e)||Ba(e).position==="fixed")return null;if(r)return r(e);let n=e.offsetParent;return xi(e)===n&&(n=n.ownerDocument.body),n}function c3(e,r){const n=Os(e);if(cx(e))return n;if(!fi(e)){let a=Ho(e);for(;a&&!fd(a);){if(Ma(a)&&!cv(a))return a;a=Ho(a)}return n}let s=Uj(e,r);for(;s&&PL(s)&&cv(s);)s=Uj(s,r);return s&&fd(s)&&cv(s)&&!Oy(s)?n:s||DL(e)||n}const UL=async function(e){const r=this.getOffsetParent||c3,n=this.getDimensions,s=await n(e.floating);return{reference:$L(e.reference,await r(e.floating),e.strategy),floating:{x:0,y:0,width:s.width,height:s.height}}};function VL(e){return Ba(e).direction==="rtl"}const WL={convertOffsetParentRelativeRectToViewportRelativeRect:LL,getDocumentElement:xi,getClippingRect:BL,getOffsetParent:c3,getElementRects:UL,getClientRects:RL,getDimensions:zL,getScale:nd,isElement:Ma,isRTL:VL};function d3(e,r){return e.x===r.x&&e.y===r.y&&e.width===r.width&&e.height===r.height}function qL(e,r){let n=null,s;const a=xi(e);function i(){var l;clearTimeout(s),(l=n)==null||l.disconnect(),n=null}function o(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),i();const d=e.getBoundingClientRect(),{left:m,top:u,width:h,height:p}=d;if(l||r(),!h||!p)return;const g=oh(u),b=oh(a.clientWidth-(m+h)),j=oh(a.clientHeight-(u+p)),x=oh(m),y={rootMargin:-g+"px "+-b+"px "+-j+"px "+-x+"px",threshold:Ps(0,qo(1,c))||1};let E=!0;function O(M){const P=M[0].intersectionRatio;if(P!==c){if(!E)return o();P?o(!1,P):s=setTimeout(()=>{o(!1,1e-7)},1e3)}P===1&&!d3(d,e.getBoundingClientRect())&&o(),E=!1}try{n=new IntersectionObserver(O,{...y,root:a.ownerDocument})}catch{n=new IntersectionObserver(O,y)}n.observe(e)}return o(!0),i}function HL(e,r,n,s){s===void 0&&(s={});const{ancestorScroll:a=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=s,d=By(e),m=a||i?[...d?bm(d):[],...bm(r)]:[];m.forEach(x=>{a&&x.addEventListener("scroll",n,{passive:!0}),i&&x.addEventListener("resize",n)});const u=d&&l?qL(d,n):null;let h=-1,p=null;o&&(p=new ResizeObserver(x=>{let[v]=x;v&&v.target===d&&p&&(p.unobserve(r),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var y;(y=p)==null||y.observe(r)})),n()}),d&&!c&&p.observe(d),p.observe(r));let g,b=c?ql(e):null;c&&j();function j(){const x=ql(e);b&&!d3(b,x)&&n(),b=x,g=requestAnimationFrame(j)}return n(),()=>{var x;m.forEach(v=>{a&&v.removeEventListener("scroll",n),i&&v.removeEventListener("resize",n)}),u==null||u(),(x=p)==null||x.disconnect(),p=null,c&&cancelAnimationFrame(g)}}const GL=CL,QL=AL,YL=wL,KL=IL,JL=NL,Vj=jL,XL=EL,ZL=(e,r,n)=>{const s=new Map,a={platform:WL,...n},i={...a.platform,_c:s};return bL(e,r,{...a,platform:i})};var e7=typeof document<"u",t7=function(){},Bh=e7?A.useLayoutEffect:t7;function Nf(e,r){if(e===r)return!0;if(typeof e!=typeof r)return!1;if(typeof e=="function"&&e.toString()===r.toString())return!0;let n,s,a;if(e&&r&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==r.length)return!1;for(s=n;s--!==0;)if(!Nf(e[s],r[s]))return!1;return!0}if(a=Object.keys(e),n=a.length,n!==Object.keys(r).length)return!1;for(s=n;s--!==0;)if(!{}.hasOwnProperty.call(r,a[s]))return!1;for(s=n;s--!==0;){const i=a[s];if(!(i==="_owner"&&e.$$typeof)&&!Nf(e[i],r[i]))return!1}return!0}return e!==e&&r!==r}function u3(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function Wj(e,r){const n=u3(e);return Math.round(r*n)/n}function dv(e){const r=A.useRef(e);return Bh(()=>{r.current=e}),r}function r7(e){e===void 0&&(e={});const{placement:r="bottom",strategy:n="absolute",middleware:s=[],platform:a,elements:{reference:i,floating:o}={},transform:l=!0,whileElementsMounted:c,open:d}=e,[m,u]=A.useState({x:0,y:0,strategy:n,placement:r,middlewareData:{},isPositioned:!1}),[h,p]=A.useState(s);Nf(h,s)||p(s);const[g,b]=A.useState(null),[j,x]=A.useState(null),v=A.useCallback(B=>{B!==M.current&&(M.current=B,b(B))},[]),y=A.useCallback(B=>{B!==P.current&&(P.current=B,x(B))},[]),E=i||g,O=o||j,M=A.useRef(null),P=A.useRef(null),S=A.useRef(m),I=c!=null,k=dv(c),C=dv(a),w=dv(d),L=A.useCallback(()=>{if(!M.current||!P.current)return;const B={placement:r,strategy:n,middleware:h};C.current&&(B.platform=C.current),ZL(M.current,P.current,B).then(U=>{const H={...U,isPositioned:w.current!==!1};T.current&&!Nf(S.current,H)&&(S.current=H,Qi.flushSync(()=>{u(H)}))})},[h,r,n,C,w]);Bh(()=>{d===!1&&S.current.isPositioned&&(S.current.isPositioned=!1,u(B=>({...B,isPositioned:!1})))},[d]);const T=A.useRef(!1);Bh(()=>(T.current=!0,()=>{T.current=!1}),[]),Bh(()=>{if(E&&(M.current=E),O&&(P.current=O),E&&O){if(k.current)return k.current(E,O,L);L()}},[E,O,L,k,I]);const W=A.useMemo(()=>({reference:M,floating:P,setReference:v,setFloating:y}),[v,y]),V=A.useMemo(()=>({reference:E,floating:O}),[E,O]),_=A.useMemo(()=>{const B={position:n,left:0,top:0};if(!V.floating)return B;const U=Wj(V.floating,m.x),H=Wj(V.floating,m.y);return l?{...B,transform:"translate("+U+"px, "+H+"px)",...u3(V.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:U,top:H}},[n,l,V.floating,m.x,m.y]);return A.useMemo(()=>({...m,update:L,refs:W,elements:V,floatingStyles:_}),[m,L,W,V,_])}const n7=e=>{function r(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:s,padding:a}=typeof e=="function"?e(n):e;return s&&r(s)?s.current!=null?Vj({element:s.current,padding:a}).fn(n):{}:s?Vj({element:s,padding:a}).fn(n):{}}}},s7=(e,r)=>({...GL(e),options:[e,r]}),a7=(e,r)=>({...QL(e),options:[e,r]}),i7=(e,r)=>({...XL(e),options:[e,r]}),o7=(e,r)=>({...YL(e),options:[e,r]}),l7=(e,r)=>({...KL(e),options:[e,r]}),c7=(e,r)=>({...JL(e),options:[e,r]}),d7=(e,r)=>({...n7(e),options:[e,r]});function u7(e){const[r,n]=A.useState(void 0);return ua(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const s=new ResizeObserver(a=>{if(!Array.isArray(a)||!a.length)return;const i=a[0];let o,l;if("borderBoxSize"in i){const c=i.borderBoxSize,d=Array.isArray(c)?c[0]:c;o=d.inlineSize,l=d.blockSize}else o=e.offsetWidth,l=e.offsetHeight;n({width:o,height:l})});return s.observe(e,{box:"border-box"}),()=>s.unobserve(e)}else n(void 0)},[e]),r}const m3="Popper",[p3,h3]=Ly(m3),[m7,f3]=p3(m3),p7=e=>{const{__scopePopper:r,children:n}=e,[s,a]=A.useState(null);return A.createElement(m7,{scope:r,anchor:s,onAnchorChange:a},n)},h7="PopperAnchor",f7=A.forwardRef((e,r)=>{const{__scopePopper:n,virtualRef:s,...a}=e,i=f3(h7,n),o=A.useRef(null),l=Kn(r,o);return A.useEffect(()=>{i.onAnchorChange((s==null?void 0:s.current)||o.current)}),s?null:A.createElement(_n.div,nt({},a,{ref:l}))}),x3="PopperContent",[x7,HU]=p3(x3),g7=A.forwardRef((e,r)=>{var n,s,a,i,o,l,c,d;const{__scopePopper:m,side:u="bottom",sideOffset:h=0,align:p="center",alignOffset:g=0,arrowPadding:b=0,collisionBoundary:j=[],collisionPadding:x=0,sticky:v="partial",hideWhenDetached:y=!1,avoidCollisions:E=!0,onPlaced:O,...M}=e,P=f3(x3,m),[S,I]=A.useState(null),k=Kn(r,he=>I(he)),[C,w]=A.useState(null),L=u7(C),T=(n=L==null?void 0:L.width)!==null&&n!==void 0?n:0,W=(s=L==null?void 0:L.height)!==null&&s!==void 0?s:0,V=u+(p!=="center"?"-"+p:""),_=typeof x=="number"?x:{top:0,right:0,bottom:0,left:0,...x},B=Array.isArray(j)?j:[j],U=B.length>0,H={padding:_,boundary:B.filter(v7),altBoundary:U},{refs:q,floatingStyles:R,placement:$,isPositioned:G,middlewareData:X}=r7({strategy:"fixed",placement:V,whileElementsMounted:HL,elements:{reference:P.anchor},middleware:[s7({mainAxis:h+W,alignmentAxis:g}),E&&a7({mainAxis:!0,crossAxis:!1,limiter:v==="partial"?i7():void 0,...H}),E&&o7({...H}),l7({...H,apply:({elements:he,rects:ie,availableWidth:te,availableHeight:Ue})=>{const{width:_e,height:ke}=ie.reference,Ve=he.floating.style;Ve.setProperty("--radix-popper-available-width",`${te}px`),Ve.setProperty("--radix-popper-available-height",`${Ue}px`),Ve.setProperty("--radix-popper-anchor-width",`${_e}px`),Ve.setProperty("--radix-popper-anchor-height",`${ke}px`)}}),C&&d7({element:C,padding:b}),y7({arrowWidth:T,arrowHeight:W}),y&&c7({strategy:"referenceHidden"})]}),[Z,le]=g3($),ce=Wi(O);ua(()=>{G&&(ce==null||ce())},[G,ce]);const de=(a=X.arrow)===null||a===void 0?void 0:a.x,Se=(i=X.arrow)===null||i===void 0?void 0:i.y,ye=((o=X.arrow)===null||o===void 0?void 0:o.centerOffset)!==0,[Ee,Fe]=A.useState();return ua(()=>{S&&Fe(window.getComputedStyle(S).zIndex)},[S]),A.createElement("div",{ref:q.setFloating,"data-radix-popper-content-wrapper":"",style:{...R,transform:G?R.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Ee,"--radix-popper-transform-origin":[(l=X.transformOrigin)===null||l===void 0?void 0:l.x,(c=X.transformOrigin)===null||c===void 0?void 0:c.y].join(" ")},dir:e.dir},A.createElement(x7,{scope:m,placedSide:Z,onArrowChange:w,arrowX:de,arrowY:Se,shouldHideArrow:ye},A.createElement(_n.div,nt({"data-side":Z,"data-align":le},M,{ref:k,style:{...M.style,animation:G?void 0:"none",opacity:(d=X.hide)!==null&&d!==void 0&&d.referenceHidden?0:void 0}}))))});function v7(e){return e!==null}const y7=e=>({name:"transformOrigin",options:e,fn(r){var n,s,a,i,o;const{placement:l,rects:c,middlewareData:d}=r,u=((n=d.arrow)===null||n===void 0?void 0:n.centerOffset)!==0,h=u?0:e.arrowWidth,p=u?0:e.arrowHeight,[g,b]=g3(l),j={start:"0%",center:"50%",end:"100%"}[b],x=((s=(a=d.arrow)===null||a===void 0?void 0:a.x)!==null&&s!==void 0?s:0)+h/2,v=((i=(o=d.arrow)===null||o===void 0?void 0:o.y)!==null&&i!==void 0?i:0)+p/2;let y="",E="";return g==="bottom"?(y=u?j:`${x}px`,E=`${-p}px`):g==="top"?(y=u?j:`${x}px`,E=`${c.floating.height+p}px`):g==="right"?(y=`${-p}px`,E=u?j:`${v}px`):g==="left"&&(y=`${c.floating.width+p}px`,E=u?j:`${v}px`),{data:{x:y,y:E}}}});function g3(e){const[r,n="center"]=e.split("-");return[r,n]}const b7=p7,j7=f7,w7=g7,N7=A.forwardRef((e,r)=>{var n;const{container:s=globalThis==null||(n=globalThis.document)===null||n===void 0?void 0:n.body,...a}=e;return s?gy.createPortal(A.createElement(_n.div,nt({},a,{ref:r})),s):null});function qj({prop:e,defaultProp:r,onChange:n=()=>{}}){const[s,a]=S7({defaultProp:r,onChange:n}),i=e!==void 0,o=i?e:s,l=Wi(n),c=A.useCallback(d=>{if(i){const u=typeof d=="function"?d(e):d;u!==e&&l(u)}else a(d)},[i,e,a,l]);return[o,c]}function S7({defaultProp:e,onChange:r}){const n=A.useState(e),[s]=n,a=A.useRef(s),i=Wi(r);return A.useEffect(()=>{a.current!==s&&(i(s),a.current=s)},[s,a,i]),n}function C7(e){const r=A.useRef({value:e,previous:e});return A.useMemo(()=>(r.current.value!==e&&(r.current.previous=r.current.value,r.current.value=e),r.current.previous),[e])}const A7=A.forwardRef((e,r)=>A.createElement(_n.span,nt({},e,{ref:r,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...e.style}})));var E7=function(e){if(typeof document>"u")return null;var r=Array.isArray(e)?e[0]:e;return r.ownerDocument.body},Dc=new WeakMap,lh=new WeakMap,ch={},uv=0,v3=function(e){return e&&(e.host||v3(e.parentNode))},I7=function(e,r){return r.map(function(n){if(e.contains(n))return n;var s=v3(n);return s&&e.contains(s)?s:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},P7=function(e,r,n,s){var a=I7(r,Array.isArray(e)?e:[e]);ch[n]||(ch[n]=new WeakMap);var i=ch[n],o=[],l=new Set,c=new Set(a),d=function(u){!u||l.has(u)||(l.add(u),d(u.parentNode))};a.forEach(d);var m=function(u){!u||c.has(u)||Array.prototype.forEach.call(u.children,function(h){if(l.has(h))m(h);else try{var p=h.getAttribute(s),g=p!==null&&p!=="false",b=(Dc.get(h)||0)+1,j=(i.get(h)||0)+1;Dc.set(h,b),i.set(h,j),o.push(h),b===1&&g&&lh.set(h,!0),j===1&&h.setAttribute(n,"true"),g||h.setAttribute(s,"true")}catch(x){console.error("aria-hidden: cannot operate on ",h,x)}})};return m(r),l.clear(),uv++,function(){o.forEach(function(u){var h=Dc.get(u)-1,p=i.get(u)-1;Dc.set(u,h),i.set(u,p),h||(lh.has(u)||u.removeAttribute(s),lh.delete(u)),p||u.removeAttribute(n)}),uv--,uv||(Dc=new WeakMap,Dc=new WeakMap,lh=new WeakMap,ch={})}},D7=function(e,r,n){n===void 0&&(n="data-aria-hidden");var s=Array.from(Array.isArray(e)?e:[e]),a=r||E7(e);return a?(s.push.apply(s,Array.from(a.querySelectorAll("[aria-live], script"))),P7(s,a,n,"aria-hidden")):function(){return null}},ii=function(){return ii=Object.assign||function(r){for(var n,s=1,a=arguments.length;s<a;s++){n=arguments[s];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])}return r},ii.apply(this,arguments)};function y3(e,r){var n={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&r.indexOf(s)<0&&(n[s]=e[s]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,s=Object.getOwnPropertySymbols(e);a<s.length;a++)r.indexOf(s[a])<0&&Object.prototype.propertyIsEnumerable.call(e,s[a])&&(n[s[a]]=e[s[a]]);return n}function Kl(e,r,n,s){function a(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(m){try{d(s.next(m))}catch(u){o(u)}}function c(m){try{d(s.throw(m))}catch(u){o(u)}}function d(m){m.done?i(m.value):a(m.value).then(l,c)}d((s=s.apply(e,r||[])).next())})}function k7(e,r,n){if(n||arguments.length===2)for(var s=0,a=r.length,i;s<a;s++)(i||!(s in r))&&(i||(i=Array.prototype.slice.call(r,0,s)),i[s]=r[s]);return e.concat(i||Array.prototype.slice.call(r))}var zh="right-scroll-bar-position",$h="width-before-scroll-bar",T7="with-scroll-bars-hidden",L7="--removed-body-scroll-bar-size";function mv(e,r){return typeof e=="function"?e(r):e&&(e.current=r),e}function R7(e,r){var n=A.useState(function(){return{value:e,callback:r,facade:{get current(){return n.value},set current(s){var a=n.value;a!==s&&(n.value=s,n.callback(s,a))}}}})[0];return n.callback=r,n.facade}var F7=typeof window<"u"?A.useLayoutEffect:A.useEffect,Hj=new WeakMap;function _7(e,r){var n=R7(r||null,function(s){return e.forEach(function(a){return mv(a,s)})});return F7(function(){var s=Hj.get(n);if(s){var a=new Set(s),i=new Set(e),o=n.current;a.forEach(function(l){i.has(l)||mv(l,null)}),i.forEach(function(l){a.has(l)||mv(l,o)})}Hj.set(n,e)},[e]),n}function O7(e){return e}function M7(e,r){r===void 0&&(r=O7);var n=[],s=!1,a={read:function(){if(s)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(i){var o=r(i,s);return n.push(o),function(){n=n.filter(function(l){return l!==o})}},assignSyncMedium:function(i){for(s=!0;n.length;){var o=n;n=[],o.forEach(i)}n={push:function(l){return i(l)},filter:function(){return n}}},assignMedium:function(i){s=!0;var o=[];if(n.length){var l=n;n=[],l.forEach(i),o=n}var c=function(){var m=o;o=[],m.forEach(i)},d=function(){return Promise.resolve().then(c)};d(),n={push:function(m){o.push(m),d()},filter:function(m){return o=o.filter(m),n}}}};return a}function B7(e){e===void 0&&(e={});var r=M7(null);return r.options=ii({async:!0,ssr:!1},e),r}var b3=function(e){var r=e.sideCar,n=y3(e,["sideCar"]);if(!r)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var s=r.read();if(!s)throw new Error("Sidecar medium not found");return A.createElement(s,ii({},n))};b3.isSideCarExport=!0;function z7(e,r){return e.useMedium(r),b3}var j3=B7(),pv=function(){},ux=A.forwardRef(function(e,r){var n=A.useRef(null),s=A.useState({onScrollCapture:pv,onWheelCapture:pv,onTouchMoveCapture:pv}),a=s[0],i=s[1],o=e.forwardProps,l=e.children,c=e.className,d=e.removeScrollBar,m=e.enabled,u=e.shards,h=e.sideCar,p=e.noIsolation,g=e.inert,b=e.allowPinchZoom,j=e.as,x=j===void 0?"div":j,v=y3(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as"]),y=h,E=_7([n,r]),O=ii(ii({},v),a);return A.createElement(A.Fragment,null,m&&A.createElement(y,{sideCar:j3,removeScrollBar:d,shards:u,noIsolation:p,inert:g,setCallbacks:i,allowPinchZoom:!!b,lockRef:n}),o?A.cloneElement(A.Children.only(l),ii(ii({},O),{ref:E})):A.createElement(x,ii({},O,{className:c,ref:E}),l))});ux.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};ux.classNames={fullWidth:$h,zeroRight:zh};var Gj,$7=function(){if(Gj)return Gj;if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function U7(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var r=$7();return r&&e.setAttribute("nonce",r),e}function V7(e,r){e.styleSheet?e.styleSheet.cssText=r:e.appendChild(document.createTextNode(r))}function W7(e){var r=document.head||document.getElementsByTagName("head")[0];r.appendChild(e)}var q7=function(){var e=0,r=null;return{add:function(n){e==0&&(r=U7())&&(V7(r,n),W7(r)),e++},remove:function(){e--,!e&&r&&(r.parentNode&&r.parentNode.removeChild(r),r=null)}}},H7=function(){var e=q7();return function(r,n){A.useEffect(function(){return e.add(r),function(){e.remove()}},[r&&n])}},w3=function(){var e=H7(),r=function(n){var s=n.styles,a=n.dynamic;return e(s,a),null};return r},G7={left:0,top:0,right:0,gap:0},hv=function(e){return parseInt(e||"",10)||0},Q7=function(e){var r=window.getComputedStyle(document.body),n=r[e==="padding"?"paddingLeft":"marginLeft"],s=r[e==="padding"?"paddingTop":"marginTop"],a=r[e==="padding"?"paddingRight":"marginRight"];return[hv(n),hv(s),hv(a)]},Y7=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return G7;var r=Q7(e),n=document.documentElement.clientWidth,s=window.innerWidth;return{left:r[0],top:r[1],right:r[2],gap:Math.max(0,s-n+r[2]-r[0])}},K7=w3(),sd="data-scroll-locked",J7=function(e,r,n,s){var a=e.left,i=e.top,o=e.right,l=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(T7,` {
   overflow: hidden `).concat(s,`;
   padding-right: `).concat(l,"px ").concat(s,`;
  }
  body[`).concat(sd,`] {
    overflow: hidden `).concat(s,`;
    overscroll-behavior: contain;
    `).concat([r&&"position: relative ".concat(s,";"),n==="margin"&&`
    padding-left: `.concat(a,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(s,`;
    `),n==="padding"&&"padding-right: ".concat(l,"px ").concat(s,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(zh,` {
    right: `).concat(l,"px ").concat(s,`;
  }
  
  .`).concat($h,` {
    margin-right: `).concat(l,"px ").concat(s,`;
  }
  
  .`).concat(zh," .").concat(zh,` {
    right: 0 `).concat(s,`;
  }
  
  .`).concat($h," .").concat($h,` {
    margin-right: 0 `).concat(s,`;
  }
  
  body[`).concat(sd,`] {
    `).concat(L7,": ").concat(l,`px;
  }
`)},Qj=function(){var e=parseInt(document.body.getAttribute(sd)||"0",10);return isFinite(e)?e:0},X7=function(){A.useEffect(function(){return document.body.setAttribute(sd,(Qj()+1).toString()),function(){var e=Qj()-1;e<=0?document.body.removeAttribute(sd):document.body.setAttribute(sd,e.toString())}},[])},Z7=function(e){var r=e.noRelative,n=e.noImportant,s=e.gapMode,a=s===void 0?"margin":s;X7();var i=A.useMemo(function(){return Y7(a)},[a]);return A.createElement(K7,{styles:J7(i,!r,a,n?"":"!important")})},K0=!1;if(typeof window<"u")try{var dh=Object.defineProperty({},"passive",{get:function(){return K0=!0,!0}});window.addEventListener("test",dh,dh),window.removeEventListener("test",dh,dh)}catch{K0=!1}var kc=K0?{passive:!1}:!1,eR=function(e){return e.tagName==="TEXTAREA"},N3=function(e,r){var n=window.getComputedStyle(e);return n[r]!=="hidden"&&!(n.overflowY===n.overflowX&&!eR(e)&&n[r]==="visible")},tR=function(e){return N3(e,"overflowY")},rR=function(e){return N3(e,"overflowX")},Yj=function(e,r){var n=r;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var s=S3(e,n);if(s){var a=C3(e,n),i=a[1],o=a[2];if(i>o)return!0}n=n.parentNode}while(n&&n!==document.body);return!1},nR=function(e){var r=e.scrollTop,n=e.scrollHeight,s=e.clientHeight;return[r,n,s]},sR=function(e){var r=e.scrollLeft,n=e.scrollWidth,s=e.clientWidth;return[r,n,s]},S3=function(e,r){return e==="v"?tR(r):rR(r)},C3=function(e,r){return e==="v"?nR(r):sR(r)},aR=function(e,r){return e==="h"&&r==="rtl"?-1:1},iR=function(e,r,n,s,a){var i=aR(e,window.getComputedStyle(r).direction),o=i*s,l=n.target,c=r.contains(l),d=!1,m=o>0,u=0,h=0;do{var p=C3(e,l),g=p[0],b=p[1],j=p[2],x=b-j-i*g;(g||x)&&S3(e,l)&&(u+=x,h+=g),l=l.parentNode}while(!c&&l!==document.body||c&&(r.contains(l)||r===l));return(m&&(a&&u===0||!a&&o>u)||!m&&(a&&h===0||!a&&-o>h))&&(d=!0),d},uh=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},Kj=function(e){return[e.deltaX,e.deltaY]},Jj=function(e){return e&&"current"in e?e.current:e},oR=function(e,r){return e[0]===r[0]&&e[1]===r[1]},lR=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},cR=0,Tc=[];function dR(e){var r=A.useRef([]),n=A.useRef([0,0]),s=A.useRef(),a=A.useState(cR++)[0],i=A.useState(function(){return w3()})[0],o=A.useRef(e);A.useEffect(function(){o.current=e},[e]),A.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(a));var b=k7([e.lockRef.current],(e.shards||[]).map(Jj),!0).filter(Boolean);return b.forEach(function(j){return j.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),b.forEach(function(j){return j.classList.remove("allow-interactivity-".concat(a))})}}},[e.inert,e.lockRef.current,e.shards]);var l=A.useCallback(function(b,j){if("touches"in b&&b.touches.length===2)return!o.current.allowPinchZoom;var x=uh(b),v=n.current,y="deltaX"in b?b.deltaX:v[0]-x[0],E="deltaY"in b?b.deltaY:v[1]-x[1],O,M=b.target,P=Math.abs(y)>Math.abs(E)?"h":"v";if("touches"in b&&P==="h"&&M.type==="range")return!1;var S=Yj(P,M);if(!S)return!0;if(S?O=P:(O=P==="v"?"h":"v",S=Yj(P,M)),!S)return!1;if(!s.current&&"changedTouches"in b&&(y||E)&&(s.current=O),!O)return!0;var I=s.current||O;return iR(I,j,b,I==="h"?y:E,!0)},[]),c=A.useCallback(function(b){var j=b;if(!(!Tc.length||Tc[Tc.length-1]!==i)){var x="deltaY"in j?Kj(j):uh(j),v=r.current.filter(function(O){return O.name===j.type&&O.target===j.target&&oR(O.delta,x)})[0];if(v&&v.should){j.cancelable&&j.preventDefault();return}if(!v){var y=(o.current.shards||[]).map(Jj).filter(Boolean).filter(function(O){return O.contains(j.target)}),E=y.length>0?l(j,y[0]):!o.current.noIsolation;E&&j.cancelable&&j.preventDefault()}}},[]),d=A.useCallback(function(b,j,x,v){var y={name:b,delta:j,target:x,should:v};r.current.push(y),setTimeout(function(){r.current=r.current.filter(function(E){return E!==y})},1)},[]),m=A.useCallback(function(b){n.current=uh(b),s.current=void 0},[]),u=A.useCallback(function(b){d(b.type,Kj(b),b.target,l(b,e.lockRef.current))},[]),h=A.useCallback(function(b){d(b.type,uh(b),b.target,l(b,e.lockRef.current))},[]);A.useEffect(function(){return Tc.push(i),e.setCallbacks({onScrollCapture:u,onWheelCapture:u,onTouchMoveCapture:h}),document.addEventListener("wheel",c,kc),document.addEventListener("touchmove",c,kc),document.addEventListener("touchstart",m,kc),function(){Tc=Tc.filter(function(b){return b!==i}),document.removeEventListener("wheel",c,kc),document.removeEventListener("touchmove",c,kc),document.removeEventListener("touchstart",m,kc)}},[]);var p=e.removeScrollBar,g=e.inert;return A.createElement(A.Fragment,null,g?A.createElement(i,{styles:lR(a)}):null,p?A.createElement(Z7,{gapMode:"margin"}):null)}const uR=z7(j3,dR);var A3=A.forwardRef(function(e,r){return A.createElement(ux,ii({},e,{ref:r,sideCar:uR}))});A3.classNames=ux.classNames;const mR=A3,pR=[" ","Enter","ArrowUp","ArrowDown"],hR=[" ","Enter"],mx="Select",[px,hx,fR]=WT(mx),[Dd,GU]=Ly(mx,[fR,h3]),$y=h3(),[xR,Jl]=Dd(mx),[gR,vR]=Dd(mx),yR=e=>{const{__scopeSelect:r,children:n,open:s,defaultOpen:a,onOpenChange:i,value:o,defaultValue:l,onValueChange:c,dir:d,name:m,autoComplete:u,disabled:h,required:p}=e,g=$y(r),[b,j]=A.useState(null),[x,v]=A.useState(null),[y,E]=A.useState(!1),O=HT(d),[M=!1,P]=qj({prop:s,defaultProp:a,onChange:i}),[S,I]=qj({prop:o,defaultProp:l,onChange:c}),k=A.useRef(null),C=b?!!b.closest("form"):!0,[w,L]=A.useState(new Set),T=Array.from(w).map(W=>W.props.value).join(";");return A.createElement(b7,g,A.createElement(xR,{required:p,scope:r,trigger:b,onTriggerChange:j,valueNode:x,onValueNodeChange:v,valueNodeHasChildren:y,onValueNodeHasChildrenChange:E,contentId:t3(),value:S,onValueChange:I,open:M,onOpenChange:P,dir:O,triggerPointerDownPosRef:k,disabled:h},A.createElement(px.Provider,{scope:r},A.createElement(gR,{scope:e.__scopeSelect,onNativeOptionAdd:A.useCallback(W=>{L(V=>new Set(V).add(W))},[]),onNativeOptionRemove:A.useCallback(W=>{L(V=>{const _=new Set(V);return _.delete(W),_})},[])},n)),C?A.createElement(D3,{key:T,"aria-hidden":!0,required:p,tabIndex:-1,name:m,autoComplete:u,value:S,onChange:W=>I(W.target.value),disabled:h},S===void 0?A.createElement("option",{value:""}):null,Array.from(w)):null))},bR="SelectTrigger",jR=A.forwardRef((e,r)=>{const{__scopeSelect:n,disabled:s=!1,...a}=e,i=$y(n),o=Jl(bR,n),l=o.disabled||s,c=Kn(r,o.onTriggerChange),d=hx(n),[m,u,h]=k3(g=>{const b=d().filter(v=>!v.disabled),j=b.find(v=>v.value===o.value),x=T3(b,g,j);x!==void 0&&o.onValueChange(x.value)}),p=()=>{l||(o.onOpenChange(!0),h())};return A.createElement(j7,nt({asChild:!0},i),A.createElement(_n.button,nt({type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":o.value===void 0?"":void 0},a,{ref:c,onClick:yn(a.onClick,g=>{g.currentTarget.focus()}),onPointerDown:yn(a.onPointerDown,g=>{const b=g.target;b.hasPointerCapture(g.pointerId)&&b.releasePointerCapture(g.pointerId),g.button===0&&g.ctrlKey===!1&&(p(),o.triggerPointerDownPosRef.current={x:Math.round(g.pageX),y:Math.round(g.pageY)},g.preventDefault())}),onKeyDown:yn(a.onKeyDown,g=>{const b=m.current!=="";!(g.ctrlKey||g.altKey||g.metaKey)&&g.key.length===1&&u(g.key),!(b&&g.key===" ")&&pR.includes(g.key)&&(p(),g.preventDefault())})})))}),wR="SelectValue",NR=A.forwardRef((e,r)=>{const{__scopeSelect:n,className:s,style:a,children:i,placeholder:o,...l}=e,c=Jl(wR,n),{onValueNodeHasChildrenChange:d}=c,m=i!==void 0,u=Kn(r,c.onValueNodeChange);return ua(()=>{d(m)},[d,m]),A.createElement(_n.span,nt({},l,{ref:u,style:{pointerEvents:"none"}}),c.value===void 0&&o!==void 0?o:i)}),SR=A.forwardRef((e,r)=>{const{__scopeSelect:n,children:s,...a}=e;return A.createElement(_n.span,nt({"aria-hidden":!0},a,{ref:r}),s||"")}),CR=e=>A.createElement(N7,nt({asChild:!0},e)),xd="SelectContent",AR=A.forwardRef((e,r)=>{const n=Jl(xd,e.__scopeSelect),[s,a]=A.useState();if(ua(()=>{a(new DocumentFragment)},[]),!n.open){const i=s;return i?Qi.createPortal(A.createElement(E3,{scope:e.__scopeSelect},A.createElement(px.Slot,{scope:e.__scopeSelect},A.createElement("div",null,e.children))),i):null}return A.createElement(ER,nt({},e,{ref:r}))}),Li=10,[E3,Xl]=Dd(xd),ER=A.forwardRef((e,r)=>{const{__scopeSelect:n,position:s="item-aligned",onCloseAutoFocus:a,onEscapeKeyDown:i,onPointerDownOutside:o,side:l,sideOffset:c,align:d,alignOffset:m,arrowPadding:u,collisionBoundary:h,collisionPadding:p,sticky:g,hideWhenDetached:b,avoidCollisions:j,...x}=e,v=Jl(xd,n),[y,E]=A.useState(null),[O,M]=A.useState(null),P=Kn(r,le=>E(le)),[S,I]=A.useState(null),[k,C]=A.useState(null),w=hx(n),[L,T]=A.useState(!1),W=A.useRef(!1);A.useEffect(()=>{if(y)return D7(y)},[y]),rL();const V=A.useCallback(le=>{const[ce,...de]=w().map(Ee=>Ee.ref.current),[Se]=de.slice(-1),ye=document.activeElement;for(const Ee of le)if(Ee===ye||(Ee==null||Ee.scrollIntoView({block:"nearest"}),Ee===ce&&O&&(O.scrollTop=0),Ee===Se&&O&&(O.scrollTop=O.scrollHeight),Ee==null||Ee.focus(),document.activeElement!==ye))return},[w,O]),_=A.useCallback(()=>V([S,y]),[V,S,y]);A.useEffect(()=>{L&&_()},[L,_]);const{onOpenChange:B,triggerPointerDownPosRef:U}=v;A.useEffect(()=>{if(y){let le={x:0,y:0};const ce=Se=>{var ye,Ee,Fe,he;le={x:Math.abs(Math.round(Se.pageX)-((ye=(Ee=U.current)===null||Ee===void 0?void 0:Ee.x)!==null&&ye!==void 0?ye:0)),y:Math.abs(Math.round(Se.pageY)-((Fe=(he=U.current)===null||he===void 0?void 0:he.y)!==null&&Fe!==void 0?Fe:0))}},de=Se=>{le.x<=10&&le.y<=10?Se.preventDefault():y.contains(Se.target)||B(!1),document.removeEventListener("pointermove",ce),U.current=null};return U.current!==null&&(document.addEventListener("pointermove",ce),document.addEventListener("pointerup",de,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",ce),document.removeEventListener("pointerup",de,{capture:!0})}}},[y,B,U]),A.useEffect(()=>{const le=()=>B(!1);return window.addEventListener("blur",le),window.addEventListener("resize",le),()=>{window.removeEventListener("blur",le),window.removeEventListener("resize",le)}},[B]);const[H,q]=k3(le=>{const ce=w().filter(ye=>!ye.disabled),de=ce.find(ye=>ye.ref.current===document.activeElement),Se=T3(ce,le,de);Se&&setTimeout(()=>Se.ref.current.focus())}),R=A.useCallback((le,ce,de)=>{const Se=!W.current&&!de;(v.value!==void 0&&v.value===ce||Se)&&(I(le),Se&&(W.current=!0))},[v.value]),$=A.useCallback(()=>y==null?void 0:y.focus(),[y]),G=A.useCallback((le,ce,de)=>{const Se=!W.current&&!de;(v.value!==void 0&&v.value===ce||Se)&&C(le)},[v.value]),X=s==="popper"?Xj:IR,Z=X===Xj?{side:l,sideOffset:c,align:d,alignOffset:m,arrowPadding:u,collisionBoundary:h,collisionPadding:p,sticky:g,hideWhenDetached:b,avoidCollisions:j}:{};return A.createElement(E3,{scope:n,content:y,viewport:O,onViewportChange:M,itemRefCallback:R,selectedItem:S,onItemLeave:$,itemTextRefCallback:G,focusSelectedItem:_,selectedItemText:k,position:s,isPositioned:L,searchRef:H},A.createElement(mR,{as:vm,allowPinchZoom:!0},A.createElement(nL,{asChild:!0,trapped:v.open,onMountAutoFocus:le=>{le.preventDefault()},onUnmountAutoFocus:yn(a,le=>{var ce;(ce=v.trigger)===null||ce===void 0||ce.focus({preventScroll:!0}),le.preventDefault()})},A.createElement(ZT,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:le=>le.preventDefault(),onDismiss:()=>v.onOpenChange(!1)},A.createElement(X,nt({role:"listbox",id:v.contentId,"data-state":v.open?"open":"closed",dir:v.dir,onContextMenu:le=>le.preventDefault()},x,Z,{onPlaced:()=>T(!0),ref:P,style:{display:"flex",flexDirection:"column",outline:"none",...x.style},onKeyDown:yn(x.onKeyDown,le=>{const ce=le.ctrlKey||le.altKey||le.metaKey;if(le.key==="Tab"&&le.preventDefault(),!ce&&le.key.length===1&&q(le.key),["ArrowUp","ArrowDown","Home","End"].includes(le.key)){let Se=w().filter(ye=>!ye.disabled).map(ye=>ye.ref.current);if(["ArrowUp","End"].includes(le.key)&&(Se=Se.slice().reverse()),["ArrowUp","ArrowDown"].includes(le.key)){const ye=le.target,Ee=Se.indexOf(ye);Se=Se.slice(Ee+1)}setTimeout(()=>V(Se)),le.preventDefault()}})}))))))}),IR=A.forwardRef((e,r)=>{const{__scopeSelect:n,onPlaced:s,...a}=e,i=Jl(xd,n),o=Xl(xd,n),[l,c]=A.useState(null),[d,m]=A.useState(null),u=Kn(r,P=>m(P)),h=hx(n),p=A.useRef(!1),g=A.useRef(!0),{viewport:b,selectedItem:j,selectedItemText:x,focusSelectedItem:v}=o,y=A.useCallback(()=>{if(i.trigger&&i.valueNode&&l&&d&&b&&j&&x){const P=i.trigger.getBoundingClientRect(),S=d.getBoundingClientRect(),I=i.valueNode.getBoundingClientRect(),k=x.getBoundingClientRect();if(i.dir!=="rtl"){const ye=k.left-S.left,Ee=I.left-ye,Fe=P.left-Ee,he=P.width+Fe,ie=Math.max(he,S.width),te=window.innerWidth-Li,Ue=Pj(Ee,[Li,te-ie]);l.style.minWidth=he+"px",l.style.left=Ue+"px"}else{const ye=S.right-k.right,Ee=window.innerWidth-I.right-ye,Fe=window.innerWidth-P.right-Ee,he=P.width+Fe,ie=Math.max(he,S.width),te=window.innerWidth-Li,Ue=Pj(Ee,[Li,te-ie]);l.style.minWidth=he+"px",l.style.right=Ue+"px"}const C=h(),w=window.innerHeight-Li*2,L=b.scrollHeight,T=window.getComputedStyle(d),W=parseInt(T.borderTopWidth,10),V=parseInt(T.paddingTop,10),_=parseInt(T.borderBottomWidth,10),B=parseInt(T.paddingBottom,10),U=W+V+L+B+_,H=Math.min(j.offsetHeight*5,U),q=window.getComputedStyle(b),R=parseInt(q.paddingTop,10),$=parseInt(q.paddingBottom,10),G=P.top+P.height/2-Li,X=w-G,Z=j.offsetHeight/2,le=j.offsetTop+Z,ce=W+V+le,de=U-ce;if(ce<=G){const ye=j===C[C.length-1].ref.current;l.style.bottom="0px";const Ee=d.clientHeight-b.offsetTop-b.offsetHeight,Fe=Math.max(X,Z+(ye?$:0)+Ee+_),he=ce+Fe;l.style.height=he+"px"}else{const ye=j===C[0].ref.current;l.style.top="0px";const Fe=Math.max(G,W+b.offsetTop+(ye?R:0)+Z)+de;l.style.height=Fe+"px",b.scrollTop=ce-G+b.offsetTop}l.style.margin=`${Li}px 0`,l.style.minHeight=H+"px",l.style.maxHeight=w+"px",s==null||s(),requestAnimationFrame(()=>p.current=!0)}},[h,i.trigger,i.valueNode,l,d,b,j,x,i.dir,s]);ua(()=>y(),[y]);const[E,O]=A.useState();ua(()=>{d&&O(window.getComputedStyle(d).zIndex)},[d]);const M=A.useCallback(P=>{P&&g.current===!0&&(y(),v==null||v(),g.current=!1)},[y,v]);return A.createElement(PR,{scope:n,contentWrapper:l,shouldExpandOnScrollRef:p,onScrollButtonChange:M},A.createElement("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:E}},A.createElement(_n.div,nt({},a,{ref:u,style:{boxSizing:"border-box",maxHeight:"100%",...a.style}}))))}),Xj=A.forwardRef((e,r)=>{const{__scopeSelect:n,align:s="start",collisionPadding:a=Li,...i}=e,o=$y(n);return A.createElement(w7,nt({},o,i,{ref:r,align:s,collisionPadding:a,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}}))}),[PR,Uy]=Dd(xd,{}),Zj="SelectViewport",DR=A.forwardRef((e,r)=>{const{__scopeSelect:n,...s}=e,a=Xl(Zj,n),i=Uy(Zj,n),o=Kn(r,a.onViewportChange),l=A.useRef(0);return A.createElement(A.Fragment,null,A.createElement("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"}}),A.createElement(px.Slot,{scope:n},A.createElement(_n.div,nt({"data-radix-select-viewport":"",role:"presentation"},s,{ref:o,style:{position:"relative",flex:1,overflow:"auto",...s.style},onScroll:yn(s.onScroll,c=>{const d=c.currentTarget,{contentWrapper:m,shouldExpandOnScrollRef:u}=i;if(u!=null&&u.current&&m){const h=Math.abs(l.current-d.scrollTop);if(h>0){const p=window.innerHeight-Li*2,g=parseFloat(m.style.minHeight),b=parseFloat(m.style.height),j=Math.max(g,b);if(j<p){const x=j+h,v=Math.min(p,x),y=x-v;m.style.height=v+"px",m.style.bottom==="0px"&&(d.scrollTop=y>0?y:0,m.style.justifyContent="flex-end")}}}l.current=d.scrollTop})}))))}),kR="SelectGroup",[QU,TR]=Dd(kR),LR="SelectLabel",RR=A.forwardRef((e,r)=>{const{__scopeSelect:n,...s}=e,a=TR(LR,n);return A.createElement(_n.div,nt({id:a.id},s,{ref:r}))}),J0="SelectItem",[FR,I3]=Dd(J0),_R=A.forwardRef((e,r)=>{const{__scopeSelect:n,value:s,disabled:a=!1,textValue:i,...o}=e,l=Jl(J0,n),c=Xl(J0,n),d=l.value===s,[m,u]=A.useState(i??""),[h,p]=A.useState(!1),g=Kn(r,x=>{var v;return(v=c.itemRefCallback)===null||v===void 0?void 0:v.call(c,x,s,a)}),b=t3(),j=()=>{a||(l.onValueChange(s),l.onOpenChange(!1))};return A.createElement(FR,{scope:n,value:s,disabled:a,textId:b,isSelected:d,onItemTextChange:A.useCallback(x=>{u(v=>{var y;return v||((y=x==null?void 0:x.textContent)!==null&&y!==void 0?y:"").trim()})},[])},A.createElement(px.ItemSlot,{scope:n,value:s,disabled:a,textValue:m},A.createElement(_n.div,nt({role:"option","aria-labelledby":b,"data-highlighted":h?"":void 0,"aria-selected":d&&h,"data-state":d?"checked":"unchecked","aria-disabled":a||void 0,"data-disabled":a?"":void 0,tabIndex:a?void 0:-1},o,{ref:g,onFocus:yn(o.onFocus,()=>p(!0)),onBlur:yn(o.onBlur,()=>p(!1)),onPointerUp:yn(o.onPointerUp,j),onPointerMove:yn(o.onPointerMove,x=>{if(a){var v;(v=c.onItemLeave)===null||v===void 0||v.call(c)}else x.currentTarget.focus({preventScroll:!0})}),onPointerLeave:yn(o.onPointerLeave,x=>{if(x.currentTarget===document.activeElement){var v;(v=c.onItemLeave)===null||v===void 0||v.call(c)}}),onKeyDown:yn(o.onKeyDown,x=>{var v;((v=c.searchRef)===null||v===void 0?void 0:v.current)!==""&&x.key===" "||(hR.includes(x.key)&&j(),x.key===" "&&x.preventDefault())})}))))}),mh="SelectItemText",OR=A.forwardRef((e,r)=>{const{__scopeSelect:n,className:s,style:a,...i}=e,o=Jl(mh,n),l=Xl(mh,n),c=I3(mh,n),d=vR(mh,n),[m,u]=A.useState(null),h=Kn(r,x=>u(x),c.onItemTextChange,x=>{var v;return(v=l.itemTextRefCallback)===null||v===void 0?void 0:v.call(l,x,c.value,c.disabled)}),p=m==null?void 0:m.textContent,g=A.useMemo(()=>A.createElement("option",{key:c.value,value:c.value,disabled:c.disabled},p),[c.disabled,c.value,p]),{onNativeOptionAdd:b,onNativeOptionRemove:j}=d;return ua(()=>(b(g),()=>j(g)),[b,j,g]),A.createElement(A.Fragment,null,A.createElement(_n.span,nt({id:c.textId},i,{ref:h})),c.isSelected&&o.valueNode&&!o.valueNodeHasChildren?Qi.createPortal(i.children,o.valueNode):null)}),MR="SelectItemIndicator",BR=A.forwardRef((e,r)=>{const{__scopeSelect:n,...s}=e;return I3(MR,n).isSelected?A.createElement(_n.span,nt({"aria-hidden":!0},s,{ref:r})):null}),ew="SelectScrollUpButton",zR=A.forwardRef((e,r)=>{const n=Xl(ew,e.__scopeSelect),s=Uy(ew,e.__scopeSelect),[a,i]=A.useState(!1),o=Kn(r,s.onScrollButtonChange);return ua(()=>{if(n.viewport&&n.isPositioned){let c=function(){const d=l.scrollTop>0;i(d)};const l=n.viewport;return c(),l.addEventListener("scroll",c),()=>l.removeEventListener("scroll",c)}},[n.viewport,n.isPositioned]),a?A.createElement(P3,nt({},e,{ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}})):null}),tw="SelectScrollDownButton",$R=A.forwardRef((e,r)=>{const n=Xl(tw,e.__scopeSelect),s=Uy(tw,e.__scopeSelect),[a,i]=A.useState(!1),o=Kn(r,s.onScrollButtonChange);return ua(()=>{if(n.viewport&&n.isPositioned){let c=function(){const d=l.scrollHeight-l.clientHeight,m=Math.ceil(l.scrollTop)<d;i(m)};const l=n.viewport;return c(),l.addEventListener("scroll",c),()=>l.removeEventListener("scroll",c)}},[n.viewport,n.isPositioned]),a?A.createElement(P3,nt({},e,{ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}})):null}),P3=A.forwardRef((e,r)=>{const{__scopeSelect:n,onAutoScroll:s,...a}=e,i=Xl("SelectScrollButton",n),o=A.useRef(null),l=hx(n),c=A.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return A.useEffect(()=>()=>c(),[c]),ua(()=>{var d;const m=l().find(u=>u.ref.current===document.activeElement);m==null||(d=m.ref.current)===null||d===void 0||d.scrollIntoView({block:"nearest"})},[l]),A.createElement(_n.div,nt({"aria-hidden":!0},a,{ref:r,style:{flexShrink:0,...a.style},onPointerDown:yn(a.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(s,50))}),onPointerMove:yn(a.onPointerMove,()=>{var d;(d=i.onItemLeave)===null||d===void 0||d.call(i),o.current===null&&(o.current=window.setInterval(s,50))}),onPointerLeave:yn(a.onPointerLeave,()=>{c()})}))}),UR=A.forwardRef((e,r)=>{const{__scopeSelect:n,...s}=e;return A.createElement(_n.div,nt({"aria-hidden":!0},s,{ref:r}))}),D3=A.forwardRef((e,r)=>{const{value:n,...s}=e,a=A.useRef(null),i=Kn(r,a),o=C7(n);return A.useEffect(()=>{const l=a.current,c=window.HTMLSelectElement.prototype,m=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==n&&m){const u=new Event("change",{bubbles:!0});m.call(l,n),l.dispatchEvent(u)}},[o,n]),A.createElement(A7,{asChild:!0},A.createElement("select",nt({},s,{ref:i,defaultValue:n})))});D3.displayName="BubbleSelect";function k3(e){const r=Wi(e),n=A.useRef(""),s=A.useRef(0),a=A.useCallback(o=>{const l=n.current+o;r(l),function c(d){n.current=d,window.clearTimeout(s.current),d!==""&&(s.current=window.setTimeout(()=>c(""),1e3))}(l)},[r]),i=A.useCallback(()=>{n.current="",window.clearTimeout(s.current)},[]);return A.useEffect(()=>()=>window.clearTimeout(s.current),[]),[n,a,i]}function T3(e,r,n){const a=r.length>1&&Array.from(r).every(d=>d===r[0])?r[0]:r,i=n?e.indexOf(n):-1;let o=VR(e,Math.max(i,0));a.length===1&&(o=o.filter(d=>d!==n));const c=o.find(d=>d.textValue.toLowerCase().startsWith(a.toLowerCase()));return c!==n?c:void 0}function VR(e,r){return e.map((n,s)=>e[(r+s)%e.length])}const WR=yR,L3=jR,qR=NR,HR=SR,GR=CR,R3=AR,QR=DR,F3=RR,_3=_R,YR=OR,KR=BR,O3=zR,M3=$R,B3=UR,tt=WR,rt=qR,Xe=A.forwardRef(({className:e,children:r,...n},s)=>t.jsxs(L3,{ref:s,className:ze("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...n,children:[r,t.jsx(HR,{asChild:!0,children:t.jsx(F4,{className:"h-4 w-4 opacity-50"})})]}));Xe.displayName=L3.displayName;const z3=A.forwardRef(({className:e,...r},n)=>t.jsx(O3,{ref:n,className:ze("flex cursor-default items-center justify-center py-1",e),...r,children:t.jsx(Dk,{className:"h-4 w-4"})}));z3.displayName=O3.displayName;const $3=A.forwardRef(({className:e,...r},n)=>t.jsx(M3,{ref:n,className:ze("flex cursor-default items-center justify-center py-1",e),...r,children:t.jsx(F4,{className:"h-4 w-4"})}));$3.displayName=M3.displayName;const Ze=A.forwardRef(({className:e,children:r,position:n="popper",...s},a)=>t.jsx(GR,{children:t.jsxs(R3,{ref:a,className:ze("relative z-50 max-h-96 min-w-[8rem] overflow-auto rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:n,...s,children:[t.jsx(z3,{}),t.jsx(QR,{className:ze("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:r}),t.jsx($3,{})]})}));Ze.displayName=R3.displayName;const JR=A.forwardRef(({className:e,...r},n)=>t.jsx(F3,{ref:n,className:ze("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...r}));JR.displayName=F3.displayName;const se=A.forwardRef(({className:e,children:r,...n},s)=>t.jsxs(_3,{ref:s,className:ze("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[t.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:t.jsx(KR,{children:t.jsx(Iy,{className:"h-4 w-4"})})}),t.jsx(YR,{children:r})]}));se.displayName=_3.displayName;const XR=A.forwardRef(({className:e,...r},n)=>t.jsx(B3,{ref:n,className:ze("-mx-1 my-1 h-px bg-muted",e),...r}));XR.displayName=B3.displayName;var ZR="Label",U3=A.forwardRef((e,r)=>t.jsx(Ur.label,{...e,ref:r,onMouseDown:n=>{var a;n.target.closest("button, input, select, textarea")||((a=e.onMouseDown)==null||a.call(e,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));U3.displayName=ZR;var V3=U3;const e8=ix("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),ve=A.forwardRef(({className:e,...r},n)=>t.jsx(V3,{ref:n,className:ze(e8(),e),...r}));ve.displayName=V3.displayName;var cn=(e=>(e.NEW="new",e.CONTACTED="contacted",e.QUALIFIED="qualified",e.PROPOSAL="proposal",e.NEGOTIATION="negotiation",e.CLOSED_WON="closed_won",e.CLOSED_LOST="closed_lost",e))(cn||{});function Yi(){const[e,r]=A.useState([]),[n,s]=A.useState([]),[a,i]=A.useState([]),[o,l]=A.useState([]),[c,d]=A.useState([]),[m,u]=A.useState([]),[h,p]=A.useState(!1);A.useEffect(()=>{g()},[]);const g=()=>{const w=[{id:"1",name:"Website Contact Form",type:"website",isActive:!0,trackingCode:"WEB_CONTACT",conversionRate:15.5,createdAt:new Date("2024-01-01")},{id:"2",name:"Facebook Ads",type:"advertising",isActive:!0,trackingCode:"FB_ADS",conversionRate:8.2,createdAt:new Date("2024-01-01")},{id:"3",name:"Customer Referral",type:"referral",isActive:!0,conversionRate:35.8,createdAt:new Date("2024-01-01")},{id:"4",name:"RV Show",type:"event",isActive:!0,trackingCode:"RV_SHOW_2024",conversionRate:22.1,createdAt:new Date("2024-01-01")},{id:"5",name:"Google Ads",type:"advertising",isActive:!0,trackingCode:"GOOGLE_ADS",conversionRate:12.3,createdAt:new Date("2024-01-01")},{id:"6",name:"Walk-in",type:"other",isActive:!0,conversionRate:45.2,createdAt:new Date("2024-01-01")}],L=[{id:"rep-001",name:"John Smith",email:"john.smith@dealership.com",phone:"(555) 123-4567",territory:"North Region",isActive:!0,targets:{monthly:10,quarterly:30,annual:120}},{id:"rep-002",name:"Sarah Johnson",email:"sarah.johnson@dealership.com",phone:"(555) 987-6543",territory:"South Region",isActive:!0,targets:{monthly:12,quarterly:36,annual:144}},{id:"rep-003",name:"Mike Davis",email:"mike.davis@dealership.com",phone:"(555) 456-7890",territory:"East Region",isActive:!0,targets:{monthly:8,quarterly:24,annual:96}}],T=vn("renter-insight-leads",[{id:"1",firstName:"John",lastName:"Smith",email:"john.smith@email.com",phone:"(555) 123-4567",source:"Website Contact Form",sourceId:"1",status:cn.NEW,assignedTo:"rep-001",notes:"Interested in Class A Motorhome, budget $150k-200k",score:85,lastActivity:new Date("2024-01-20"),customFields:{budget:"$150k-200k",timeframe:"3-6 months",experience:"First-time buyer"},createdAt:new Date("2024-01-15"),updatedAt:new Date("2024-01-20")},{id:"2",firstName:"Sarah",lastName:"Johnson",email:"sarah.j@email.com",phone:"(555) 987-6543",source:"Customer Referral",sourceId:"3",status:cn.QUALIFIED,assignedTo:"rep-002",notes:"Looking for travel trailer under $50k, referred by Mike Davis",score:92,lastActivity:new Date("2024-01-18"),customFields:{budget:"Under $50k",timeframe:"1-3 months",experience:"Experienced RVer"},createdAt:new Date("2024-01-14"),updatedAt:new Date("2024-01-18")}]),W=vn("renter-insight-activities",[{id:"1",leadId:"1",type:"call",description:"Initial qualification call",outcome:"positive",duration:25,completedDate:new Date("2024-01-20"),userId:"rep-001",createdAt:new Date("2024-01-20")},{id:"2",leadId:"2",type:"email",description:"Sent product brochures",outcome:"positive",completedDate:new Date("2024-01-18"),userId:"rep-002",createdAt:new Date("2024-01-18")}]),V=[{leadId:"1",totalScore:85,demographicScore:30,behaviorScore:25,engagementScore:30,lastCalculated:new Date("2024-01-20"),factors:[{factor:"Budget Match",points:25,reason:"Budget aligns with inventory"},{factor:"Response Time",points:20,reason:"Quick response to outreach"},{factor:"Engagement Level",points:15,reason:"High email open rates"}]}],_=[{id:"1",leadId:"1",userId:"rep-001",type:"follow_up",title:"Follow up on motorhome interest",description:"Schedule showroom visit",dueDate:new Date("2024-01-25"),isCompleted:!1,priority:"high",createdAt:new Date("2024-01-20")}];s(w),u(L),r(T),i(W),l(V),d(_)},b=w=>{Hr("renter-insight-leads",w)},j=w=>{Hr("renter-insight-activities",w)},x=async w=>{p(!0);try{const L={id:Math.random().toString(36).substr(2,9),firstName:w.firstName||"",lastName:w.lastName||"",email:w.email||"",phone:w.phone||"",source:w.source||"",sourceId:w.sourceId||"",status:cn.NEW,assignedTo:w.assignedTo,notes:w.notes||"",score:0,lastActivity:new Date,customFields:w.customFields||{},createdAt:new Date,updatedAt:new Date},T=[...e,L];return r(T),b(T),await E({leadId:L.id,type:"note",description:`Lead created from ${L.source}`,userId:"current-user"}),await O(L.id),L}finally{p(!1)}},v=async(w,L)=>{const T=e.map(W=>W.id===w?{...W,status:L,updatedAt:new Date}:W);r(T),b(T),await E({leadId:w,type:"status_change",description:`Status changed to ${L}`,userId:"current-user"})},y=async(w,L)=>{var W;const T=e.map(V=>V.id===w?{...V,assignedTo:L,updatedAt:new Date}:V);r(T),b(T),await E({leadId:w,type:"note",description:`Lead assigned to ${(W=m.find(V=>V.id===L))==null?void 0:W.name}`,userId:"current-user"})},E=async w=>{const L={id:Math.random().toString(36).substr(2,9),leadId:w.leadId||"",type:w.type||"note",description:w.description||"",outcome:w.outcome,duration:w.duration,scheduledDate:w.scheduledDate,completedDate:w.completedDate||new Date,userId:w.userId||"current-user",metadata:w.metadata,createdAt:new Date},T=[...a,L];i(T),j(T);const W=e.map(V=>V.id===L.leadId?{...V,lastActivity:new Date,updatedAt:new Date}:V);r(W),b(W),await O(L.leadId)},O=async w=>{var Z,le,ce;const L=e.find(de=>de.id===w);if(!L)return;const T=a.filter(de=>de.leadId===w);let W=0,V=0,_=0;const B=[];(Z=L.customFields)!=null&&Z.budget&&(W+=20,B.push({factor:"Budget Provided",points:20,reason:"Customer provided budget information"})),((le=L.customFields)==null?void 0:le.timeframe)==="1-3 months"?(W+=25,B.push({factor:"Short Timeframe",points:25,reason:"Ready to purchase soon"})):((ce=L.customFields)==null?void 0:ce.timeframe)==="3-6 months"&&(W+=15,B.push({factor:"Medium Timeframe",points:15,reason:"Moderate purchase timeline"})),T.filter(de=>de.type==="call").length>0&&(V+=30,B.push({factor:"Phone Engagement",points:30,reason:"Participated in phone calls"})),T.filter(de=>de.type==="email").length>2&&(V+=20,B.push({factor:"Email Engagement",points:20,reason:"Active email communication"})),T.filter(de=>new Date(de.createdAt).getTime()>Date.now()-7*24*60*60*1e3).length>0&&(_+=25,B.push({factor:"Recent Activity",points:25,reason:"Active in the last 7 days"}));const R=T.filter(de=>de.outcome==="positive").length;R>0&&(_+=R*10,B.push({factor:"Positive Interactions",points:R*10,reason:`${R} positive interactions`}));const $=W+V+_,G={leadId:w,totalScore:$,demographicScore:W,behaviorScore:V,engagementScore:_,lastCalculated:new Date,factors:B};l(de=>de.filter(Se=>Se.leadId!==w).concat(G));const X=e.map(de=>de.id===w?{...de,score:$,updatedAt:new Date}:de);r(X),b(X)};return{leads:e,sources:n,activities:a,scores:o,reminders:c,salesReps:m,loading:h,createLead:x,updateLeadStatus:v,assignLead:y,logActivity:E,calculateLeadScore:O,createReminder:async w=>{const L={id:Math.random().toString(36).substr(2,9),leadId:w.leadId||"",userId:w.userId||"current-user",type:w.type||"follow_up",title:w.title||"",description:w.description||"",dueDate:w.dueDate||new Date,isCompleted:!1,priority:w.priority||"medium",createdAt:new Date};return d(T=>[...T,L]),L},completeReminder:async w=>{d(L=>L.map(T=>T.id===w?{...T,isCompleted:!0}:T))},getLeadsByRep:w=>e.filter(L=>L.assignedTo===w),getActivitiesByLead:w=>a.filter(L=>L.leadId===w),getRemindersByUser:w=>c.filter(L=>L.userId===w&&!L.isCompleted),getLeadScore:w=>o.find(L=>L.leadId===w)}}function kd({onClose:e,onSuccess:r}){const{sources:n,salesReps:s,createLead:a}=Yi(),{toast:i}=nr(),[o,l]=A.useState(!1),[c,d]=A.useState({firstName:"",lastName:"",email:"",phone:"",source:"",sourceId:"",assignedTo:"",notes:"",customFields:{budget:"",timeframe:"",experience:"",interests:"",preferredContact:"email"}}),[m,u]=A.useState({}),h=()=>{const j={};return c.firstName.trim()||(j.firstName="First name is required"),c.lastName.trim()||(j.lastName="Last name is required"),c.email.trim()?/\S+@\S+\.\S+/.test(c.email)||(j.email="Please enter a valid email address"):j.email="Email is required",c.phone.trim()||(j.phone="Phone number is required"),c.sourceId||(j.sourceId="Lead source is required"),u(j),Object.keys(j).length===0},p=async j=>{if(j.preventDefault(),!h()){i({title:"Validation Error",description:"Please fill in all required fields correctly.",variant:"destructive"});return}l(!0);try{const x=n.find(E=>E.id===c.sourceId),v={firstName:c.firstName.trim(),lastName:c.lastName.trim(),email:c.email.trim().toLowerCase(),phone:c.phone.trim(),source:(x==null?void 0:x.name)||"",sourceId:c.sourceId,assignedTo:c.assignedTo||void 0,notes:c.notes.trim(),customFields:{...c.customFields,interests:c.customFields.interests.trim()}},y=await a(v);i({title:"Lead Created Successfully!",description:`${y.firstName} ${y.lastName} has been added to your CRM.`,variant:"default"}),r(y),e()}catch(x){console.error("Error creating lead:",x),i({title:"Error Creating Lead",description:"There was a problem creating the lead. Please try again.",variant:"destructive"})}finally{l(!1)}},g=(j,x)=>{d(v=>({...v,[j]:x})),m[j]&&u(v=>({...v,[j]:""}))},b=(j,x)=>{d(v=>({...v,customFields:{...v.customFields,[j]:x}}))};return t.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:t.jsxs(ue,{className:"w-full max-w-2xl max-h-[90vh] overflow-y-auto mx-2 sm:mx-4",children:[t.jsx(be,{children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsxs(je,{className:"text-xl flex items-center",children:[t.jsx($s,{className:"h-5 w-5 mr-2 text-blue-500"}),"Add New Lead"]}),t.jsx(Ge,{children:"Create a new lead and start the sales process"})]}),t.jsx(ne,{variant:"ghost",size:"sm",onClick:e,children:t.jsx(qt,{className:"h-4 w-4"})})]})}),t.jsx(me,{children:t.jsxs("form",{onSubmit:p,className:"space-y-6",children:[t.jsxs("div",{className:"space-y-4",children:[t.jsxs("h3",{className:"text-lg font-semibold flex items-center",children:[t.jsx($s,{className:"h-4 w-4 mr-2 flex-shrink-0"}),"Contact Information"]}),t.jsxs("div",{className:"grid gap-4 grid-cols-1 md:grid-cols-2",children:[t.jsxs("div",{children:[t.jsx(ve,{htmlFor:"firstName",children:"First Name *"}),t.jsx(Te,{id:"firstName",value:c.firstName,onChange:j=>g("firstName",j.target.value),placeholder:"Enter first name",className:m.firstName?"border-red-500":""}),m.firstName&&t.jsx("p",{className:"text-sm text-red-500 mt-1",children:m.firstName})]}),t.jsxs("div",{children:[t.jsx(ve,{htmlFor:"lastName",children:"Last Name *"}),t.jsx(Te,{id:"lastName",value:c.lastName,onChange:j=>g("lastName",j.target.value),placeholder:"Enter last name",className:m.lastName?"border-red-500":""}),m.lastName&&t.jsx("p",{className:"text-sm text-red-500 mt-1",children:m.lastName})]})]}),t.jsxs("div",{className:"grid gap-4 grid-cols-1 md:grid-cols-2",children:[t.jsxs("div",{children:[t.jsx(ve,{htmlFor:"email",children:"Email Address *"}),t.jsxs("div",{className:"relative",children:[t.jsx(_s,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),t.jsx(Te,{id:"email",type:"email",value:c.email,onChange:j=>g("email",j.target.value),placeholder:"Enter email address",className:`pl-10 ${m.email?"border-red-500":""}`})]}),m.email&&t.jsx("p",{className:"text-sm text-red-500 mt-1",children:m.email})]}),t.jsxs("div",{children:[t.jsx(ve,{htmlFor:"phone",children:"Phone Number *"}),t.jsxs("div",{className:"relative",children:[t.jsx(Dy,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),t.jsx(Te,{id:"phone",type:"tel",value:c.phone,onChange:j=>g("phone",j.target.value),placeholder:"Enter phone number",className:`pl-10 ${m.phone?"border-red-500":""}`})]}),m.phone&&t.jsx("p",{className:"text-sm text-red-500 mt-1",children:m.phone})]})]})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("h3",{className:"text-lg font-semibold flex items-center",children:[t.jsx(Bk,{className:"h-4 w-4 mr-2 flex-shrink-0"}),"Lead Details"]}),t.jsxs("div",{className:"grid gap-4 grid-cols-1 md:grid-cols-2",children:[t.jsxs("div",{children:[t.jsx(ve,{htmlFor:"source",children:"Lead Source *"}),t.jsxs(tt,{value:c.sourceId,onValueChange:j=>g("sourceId",j),children:[t.jsx(Xe,{className:m.sourceId?"border-red-500":"",children:t.jsx(rt,{placeholder:"Select lead source"})}),t.jsx(Ze,{children:n.map(j=>t.jsx(se,{value:j.id,children:j.name},j.id))})]}),m.sourceId&&t.jsx("p",{className:"text-sm text-red-500 mt-1",children:m.sourceId})]}),t.jsxs("div",{children:[t.jsx(ve,{htmlFor:"assignedTo",children:"Assign to Sales Rep"}),t.jsxs(tt,{value:c.assignedTo,onValueChange:j=>g("assignedTo",j),children:[t.jsx(Xe,{children:t.jsx(rt,{placeholder:"Select sales rep (optional)"})}),t.jsxs(Ze,{children:[t.jsx(se,{value:"",children:"Unassigned"}),s.map(j=>t.jsx(se,{value:j.id,children:j.name},j.id))]})]})]})]})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("h3",{className:"text-lg font-semibold flex items-center",children:[t.jsx(Bt,{className:"h-4 w-4 mr-2 flex-shrink-0"}),"Additional Information"]}),t.jsxs("div",{className:"grid gap-4 grid-cols-1 md:grid-cols-2",children:[t.jsxs("div",{children:[t.jsx(ve,{htmlFor:"budget",children:"Budget Range"}),t.jsxs(tt,{value:c.customFields.budget,onValueChange:j=>b("budget",j),children:[t.jsx(Xe,{children:t.jsx(rt,{placeholder:"Select budget range"})}),t.jsxs(Ze,{children:[t.jsx(se,{value:"Under $50k",children:"Under $50k"}),t.jsx(se,{value:"$50k-$100k",children:"$50k-$100k"}),t.jsx(se,{value:"$100k-$150k",children:"$100k-$150k"}),t.jsx(se,{value:"$150k-$200k",children:"$150k-$200k"}),t.jsx(se,{value:"$200k+",children:"$200k+"})]})]})]}),t.jsxs("div",{children:[t.jsx(ve,{htmlFor:"timeframe",children:"Purchase Timeframe"}),t.jsxs(tt,{value:c.customFields.timeframe,onValueChange:j=>b("timeframe",j),children:[t.jsx(Xe,{children:t.jsx(rt,{placeholder:"Select timeframe"})}),t.jsxs(Ze,{children:[t.jsx(se,{value:"Immediate",children:"Immediate (within 1 month)"}),t.jsx(se,{value:"1-3 months",children:"1-3 months"}),t.jsx(se,{value:"3-6 months",children:"3-6 months"}),t.jsx(se,{value:"6-12 months",children:"6-12 months"}),t.jsx(se,{value:"12+ months",children:"12+ months"})]})]})]})]}),t.jsxs("div",{className:"grid gap-4 grid-cols-1 md:grid-cols-2",children:[t.jsxs("div",{children:[t.jsx(ve,{htmlFor:"experience",children:"RV Experience"}),t.jsxs(tt,{value:c.customFields.experience,onValueChange:j=>b("experience",j),children:[t.jsx(Xe,{children:t.jsx(rt,{placeholder:"Select experience level"})}),t.jsxs(Ze,{children:[t.jsx(se,{value:"First-time buyer",children:"First-time buyer"}),t.jsx(se,{value:"Some experience",children:"Some experience"}),t.jsx(se,{value:"Experienced RVer",children:"Experienced RVer"}),t.jsx(se,{value:"Expert/Full-timer",children:"Expert/Full-timer"})]})]})]}),t.jsxs("div",{children:[t.jsx(ve,{htmlFor:"preferredContact",children:"Preferred Contact Method"}),t.jsxs(tt,{value:c.customFields.preferredContact,onValueChange:j=>b("preferredContact",j),children:[t.jsx(Xe,{children:t.jsx(rt,{placeholder:"Select contact method"})}),t.jsxs(Ze,{children:[t.jsx(se,{value:"email",children:"Email"}),t.jsx(se,{value:"phone",children:"Phone"}),t.jsx(se,{value:"text",children:"Text/SMS"}),t.jsx(se,{value:"any",children:"Any method"})]})]})]})]}),t.jsxs("div",{children:[t.jsx(ve,{htmlFor:"interests",children:"Interests/Requirements"}),t.jsx(Te,{id:"interests",value:c.customFields.interests,onChange:j=>b("interests",j.target.value),placeholder:"e.g., Class A Motorhome, Solar panels, Pet-friendly"})]})]}),t.jsx("div",{className:"space-y-4",children:t.jsxs("div",{children:[t.jsx(ve,{htmlFor:"notes",children:"Notes"}),t.jsx(rr,{id:"notes",value:c.notes,onChange:j=>g("notes",j.target.value),placeholder:"Add any additional notes about this lead...",rows:3})]})}),t.jsxs("div",{className:"flex flex-col sm:flex-row justify-end space-y-2 sm:space-y-0 sm:space-x-3 pt-6 border-t",children:[t.jsx(ne,{type:"button",variant:"outline",onClick:e,disabled:o,children:"Cancel"}),t.jsx(ne,{type:"submit",disabled:o,children:o?t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Creating Lead..."]}):t.jsxs(t.Fragment,{children:[t.jsx(js,{className:"h-4 w-4 mr-2"}),"Create Lead"]})})]})]})})]})})}const t8=[{name:"Total Leads",value:"2,651",change:"+4.75%",changeType:"positive",icon:pn},{name:"Inventory Units",value:"847",change:"+54.02%",changeType:"positive",icon:Qn},{name:"Active Quotes",value:"124",change:"-1.39%",changeType:"negative",icon:Gn},{name:"Monthly Revenue",value:"$405,091",change:"+10.18%",changeType:"positive",icon:Bt}],r8=[{id:1,type:"lead",title:"New lead from website",description:"John Smith interested in Class A Motorhome",time:"2 minutes ago"},{id:2,type:"quote",title:"Quote sent to customer",description:"Quote #Q-2024-001 sent to Sarah Johnson",time:"15 minutes ago"},{id:3,type:"service",title:"Service appointment scheduled",description:"Annual maintenance for RV #VIN123456",time:"1 hour ago"},{id:4,type:"delivery",title:"Delivery completed",description:"Travel Trailer delivered to Mike Davis",time:"2 hours ago"}];function n8(){const[e,r]=A.useState(!1),n=a=>{console.log("New lead created from dashboard:",a)},s=a=>{switch(a){case"add-lead":r(!0);break;case"add-inventory":window.location.href="/inventory";break;case"create-quote":window.location.href="/quotes";break;case"schedule-service":window.location.href="/service";break}};return t.jsxs("div",{className:"space-y-6",children:[e&&t.jsx(kd,{onClose:()=>r(!1),onSuccess:n}),t.jsxs("div",{children:[t.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Dashboard"}),t.jsx("p",{className:"text-muted-foreground",children:"Welcome to your Renter Insight CRM/DMS dashboard"})]}),t.jsx("div",{className:"grid gap-4 grid-cols-1 sm:grid-cols-2 lg:grid-cols-4",children:t8.map(a=>t.jsxs(ue,{children:[t.jsxs(be,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[t.jsx(je,{className:"text-sm font-medium",children:a.name}),t.jsx(a.icon,{className:"h-4 w-4 text-muted-foreground"})]}),t.jsxs(me,{children:[t.jsx("div",{className:"text-2xl font-bold",children:a.value}),t.jsxs("p",{className:`text-xs ${a.changeType==="positive"?"text-green-600":"text-red-600"}`,children:[a.change," from last month"]})]})]},a.name))}),t.jsxs("div",{className:"grid gap-6 grid-cols-1 md:grid-cols-2",children:[t.jsxs(ue,{children:[t.jsxs(be,{children:[t.jsx(je,{children:"Recent Activity"}),t.jsx(Ge,{children:"Latest updates from your dealership"})]}),t.jsx(me,{children:t.jsx("div",{className:"space-y-4",children:r8.map(a=>t.jsxs("div",{className:"flex items-start space-x-3",children:[t.jsx("div",{className:"flex-shrink-0",children:t.jsx("div",{className:"h-2 w-2 bg-primary rounded-full mt-2"})}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsx("p",{className:"text-sm font-medium text-foreground",children:a.title}),t.jsx("p",{className:"text-sm text-muted-foreground",children:a.description}),t.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:a.time})]})]},a.id))})})]}),t.jsxs(ue,{children:[t.jsxs(be,{children:[t.jsx(je,{children:"Quick Actions"}),t.jsx(Ge,{children:"Common tasks and shortcuts"})]}),t.jsx(me,{children:t.jsxs("div",{className:"grid gap-3",children:[t.jsxs("button",{onClick:()=>s("add-lead"),className:"flex items-center justify-between p-3 text-left border rounded-lg hover:bg-accent transition-colors",children:[t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx(pn,{className:"h-5 w-5 text-primary"}),t.jsx("span",{className:"font-medium",children:"Add New Lead"})]}),t.jsx(Et,{className:"h-4 w-4 text-muted-foreground"})]}),t.jsxs("button",{onClick:()=>s("add-inventory"),className:"flex items-center justify-between p-3 text-left border rounded-lg hover:bg-accent transition-colors",children:[t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx(Qn,{className:"h-5 w-5 text-primary"}),t.jsx("span",{className:"font-medium",children:"Add Inventory"})]}),t.jsx("span",{className:"text-muted-foreground",children:""})]}),t.jsxs("button",{onClick:()=>s("create-quote"),className:"flex items-center justify-between p-3 text-left border rounded-lg hover:bg-accent transition-colors",children:[t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx(Gn,{className:"h-5 w-5 text-primary"}),t.jsx("span",{className:"font-medium",children:"Create Quote"})]}),t.jsx("span",{className:"text-muted-foreground",children:""})]}),t.jsxs("button",{onClick:()=>s("schedule-service"),className:"flex items-center justify-between p-3 text-left border rounded-lg hover:bg-accent transition-colors",children:[t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx(zr,{className:"h-5 w-5 text-primary"}),t.jsx("span",{className:"font-medium",children:"Schedule Service"})]}),t.jsx("span",{className:"text-muted-foreground",children:""})]})]})})]})]})]})}function s8(){const[e,r]=A.useState("admin@renterinsight.com"),[n,s]=A.useState("password"),{login:a,isLoading:i}=_m(),{toast:o}=nr(),l=wy(),c=async d=>{d.preventDefault();try{await a(e,n),l("/")}catch{o({title:"Login Failed",description:"Invalid email or password",variant:"destructive"})}};return t.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background px-4",children:t.jsxs(ue,{className:"w-full max-w-md mx-2 sm:mx-0",children:[t.jsxs(be,{className:"text-center",children:[t.jsx(je,{className:"text-2xl font-bold text-primary",children:"Renter Insight CRM/DMS"}),t.jsx(Ge,{children:"Sign in to your account to continue"})]}),t.jsxs(me,{children:[t.jsxs("form",{onSubmit:c,className:"space-y-6",children:[t.jsx("div",{children:t.jsx(Te,{type:"email",placeholder:"Email",value:e,onChange:d=>r(d.target.value),required:!0,autoComplete:"username"})}),t.jsx("div",{children:t.jsx(Te,{type:"password",placeholder:"Password",value:n,onChange:d=>s(d.target.value),required:!0,autoComplete:"current-password"})}),t.jsx(ne,{type:"submit",className:"w-full",disabled:i,size:"lg",children:i?"Signing in...":"Sign In"})]}),t.jsx("div",{className:"mt-4 text-center text-sm text-muted-foreground",children:"Demo credentials: admin@renterinsight.com / password"})]})]})})}function a8({children:e}){const{user:r,isLoading:n}=_m();return n?t.jsx("div",{className:"min-h-screen flex items-center justify-center",children:t.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-primary"})}):r?t.jsx(t.Fragment,{children:e}):t.jsx(wD,{to:"/login",replace:!0})}const i8=ix("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Re({className:e,variant:r,...n}){return t.jsx("div",{className:ze(i8({variant:r}),e),...n})}var o8=zf[" useId ".trim().toString()]||(()=>{}),l8=0;function W3(e){const[r,n]=A.useState(o8());return Vl(()=>{e||n(s=>s??String(l8++))},[e]),e||(r?`radix-${r}`:"")}var c8=A.createContext(void 0);function q3(e){const r=A.useContext(c8);return e||r||"ltr"}var fv="rovingFocusGroup.onEntryFocus",d8={bubbles:!1,cancelable:!0},Mm="RovingFocusGroup",[X0,H3,u8]=l4(Mm),[m8,G3]=Ed(Mm,[u8]),[p8,h8]=m8(Mm),Q3=A.forwardRef((e,r)=>t.jsx(X0.Provider,{scope:e.__scopeRovingFocusGroup,children:t.jsx(X0.Slot,{scope:e.__scopeRovingFocusGroup,children:t.jsx(f8,{...e,ref:r})})}));Q3.displayName=Mm;var f8=A.forwardRef((e,r)=>{const{__scopeRovingFocusGroup:n,orientation:s,loop:a=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:d,preventScrollOnEntryFocus:m=!1,...u}=e,h=A.useRef(null),p=hi(r,h),g=q3(i),[b,j]=sx({prop:o,defaultProp:l??null,onChange:c,caller:Mm}),[x,v]=A.useState(!1),y=Vo(d),E=H3(n),O=A.useRef(!1),[M,P]=A.useState(0);return A.useEffect(()=>{const S=h.current;if(S)return S.addEventListener(fv,y),()=>S.removeEventListener(fv,y)},[y]),t.jsx(p8,{scope:n,orientation:s,dir:g,loop:a,currentTabStopId:b,onItemFocus:A.useCallback(S=>j(S),[j]),onItemShiftTab:A.useCallback(()=>v(!0),[]),onFocusableItemAdd:A.useCallback(()=>P(S=>S+1),[]),onFocusableItemRemove:A.useCallback(()=>P(S=>S-1),[]),children:t.jsx(Ur.div,{tabIndex:x||M===0?-1:0,"data-orientation":s,...u,ref:p,style:{outline:"none",...e.style},onMouseDown:Ar(e.onMouseDown,()=>{O.current=!0}),onFocus:Ar(e.onFocus,S=>{const I=!O.current;if(S.target===S.currentTarget&&I&&!x){const k=new CustomEvent(fv,d8);if(S.currentTarget.dispatchEvent(k),!k.defaultPrevented){const C=E().filter(V=>V.focusable),w=C.find(V=>V.active),L=C.find(V=>V.id===b),W=[w,L,...C].filter(Boolean).map(V=>V.ref.current);J3(W,m)}}O.current=!1}),onBlur:Ar(e.onBlur,()=>v(!1))})})}),Y3="RovingFocusGroupItem",K3=A.forwardRef((e,r)=>{const{__scopeRovingFocusGroup:n,focusable:s=!0,active:a=!1,tabStopId:i,children:o,...l}=e,c=W3(),d=i||c,m=h8(Y3,n),u=m.currentTabStopId===d,h=H3(n),{onFocusableItemAdd:p,onFocusableItemRemove:g,currentTabStopId:b}=m;return A.useEffect(()=>{if(s)return p(),()=>g()},[s,p,g]),t.jsx(X0.ItemSlot,{scope:n,id:d,focusable:s,active:a,children:t.jsx(Ur.span,{tabIndex:u?0:-1,"data-orientation":m.orientation,...l,ref:r,onMouseDown:Ar(e.onMouseDown,j=>{s?m.onItemFocus(d):j.preventDefault()}),onFocus:Ar(e.onFocus,()=>m.onItemFocus(d)),onKeyDown:Ar(e.onKeyDown,j=>{if(j.key==="Tab"&&j.shiftKey){m.onItemShiftTab();return}if(j.target!==j.currentTarget)return;const x=v8(j,m.orientation,m.dir);if(x!==void 0){if(j.metaKey||j.ctrlKey||j.altKey||j.shiftKey)return;j.preventDefault();let y=h().filter(E=>E.focusable).map(E=>E.ref.current);if(x==="last")y.reverse();else if(x==="prev"||x==="next"){x==="prev"&&y.reverse();const E=y.indexOf(j.currentTarget);y=m.loop?y8(y,E+1):y.slice(E+1)}setTimeout(()=>J3(y))}}),children:typeof o=="function"?o({isCurrentTabStop:u,hasTabStop:b!=null}):o})})});K3.displayName=Y3;var x8={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function g8(e,r){return r!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function v8(e,r,n){const s=g8(e.key,n);if(!(r==="vertical"&&["ArrowLeft","ArrowRight"].includes(s))&&!(r==="horizontal"&&["ArrowUp","ArrowDown"].includes(s)))return x8[s]}function J3(e,r=!1){const n=document.activeElement;for(const s of e)if(s===n||(s.focus({preventScroll:r}),document.activeElement!==n))return}function y8(e,r){return e.map((n,s)=>e[(r+s)%e.length])}var b8=Q3,j8=K3,fx="Tabs",[w8,YU]=Ed(fx,[G3]),X3=G3(),[N8,Vy]=w8(fx),Z3=A.forwardRef((e,r)=>{const{__scopeTabs:n,value:s,onValueChange:a,defaultValue:i,orientation:o="horizontal",dir:l,activationMode:c="automatic",...d}=e,m=q3(l),[u,h]=sx({prop:s,onChange:a,defaultProp:i??"",caller:fx});return t.jsx(N8,{scope:n,baseId:W3(),value:u,onValueChange:h,orientation:o,dir:m,activationMode:c,children:t.jsx(Ur.div,{dir:m,"data-orientation":o,...d,ref:r})})});Z3.displayName=fx;var eC="TabsList",tC=A.forwardRef((e,r)=>{const{__scopeTabs:n,loop:s=!0,...a}=e,i=Vy(eC,n),o=X3(n);return t.jsx(b8,{asChild:!0,...o,orientation:i.orientation,dir:i.dir,loop:s,children:t.jsx(Ur.div,{role:"tablist","aria-orientation":i.orientation,...a,ref:r})})});tC.displayName=eC;var rC="TabsTrigger",nC=A.forwardRef((e,r)=>{const{__scopeTabs:n,value:s,disabled:a=!1,...i}=e,o=Vy(rC,n),l=X3(n),c=iC(o.baseId,s),d=oC(o.baseId,s),m=s===o.value;return t.jsx(j8,{asChild:!0,...l,focusable:!a,active:m,children:t.jsx(Ur.button,{type:"button",role:"tab","aria-selected":m,"aria-controls":d,"data-state":m?"active":"inactive","data-disabled":a?"":void 0,disabled:a,id:c,...i,ref:r,onMouseDown:Ar(e.onMouseDown,u=>{!a&&u.button===0&&u.ctrlKey===!1?o.onValueChange(s):u.preventDefault()}),onKeyDown:Ar(e.onKeyDown,u=>{[" ","Enter"].includes(u.key)&&o.onValueChange(s)}),onFocus:Ar(e.onFocus,()=>{const u=o.activationMode!=="manual";!m&&!a&&u&&o.onValueChange(s)})})})});nC.displayName=rC;var sC="TabsContent",aC=A.forwardRef((e,r)=>{const{__scopeTabs:n,value:s,forceMount:a,children:i,...o}=e,l=Vy(sC,n),c=iC(l.baseId,s),d=oC(l.baseId,s),m=s===l.value,u=A.useRef(m);return A.useEffect(()=>{const h=requestAnimationFrame(()=>u.current=!1);return()=>cancelAnimationFrame(h)},[]),t.jsx(nx,{present:a||m,children:({present:h})=>t.jsx(Ur.div,{"data-state":m?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!h,id:d,tabIndex:0,...o,ref:r,style:{...e.style,animationDuration:u.current?"0s":void 0},children:h&&i})})});aC.displayName=sC;function iC(e,r){return`${e}-trigger-${r}`}function oC(e,r){return`${e}-content-${r}`}var S8=Z3,lC=tC,cC=nC,dC=aC;const Zr=S8,$r=A.forwardRef(({className:e,...r},n)=>t.jsx(lC,{ref:n,className:ze("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...r}));$r.displayName=lC.displayName;const it=A.forwardRef(({className:e,...r},n)=>t.jsx(cC,{ref:n,className:ze("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...r}));it.displayName=cC.displayName;const ct=A.forwardRef(({className:e,...r},n)=>t.jsx(dC,{ref:n,className:ze("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...r}));ct.displayName=dC.displayName;const xv=[{id:"1",name:"New",order:1,probability:10,isActive:!0,color:"bg-blue-500"},{id:"2",name:"Contacted",order:2,probability:25,isActive:!0,color:"bg-yellow-500"},{id:"3",name:"Qualified",order:3,probability:50,isActive:!0,color:"bg-orange-500"},{id:"4",name:"Proposal",order:4,probability:75,isActive:!0,color:"bg-purple-500"},{id:"5",name:"Negotiation",order:5,probability:90,isActive:!0,color:"bg-indigo-500"},{id:"6",name:"Closed Won",order:6,probability:100,isActive:!0,color:"bg-green-500"},{id:"7",name:"Closed Lost",order:7,probability:0,isActive:!0,color:"bg-red-500"}];function C8(){var u,h,p;const{leads:e,salesReps:r,activities:n}=Yi(),[s,a]=A.useState("all"),[i,o]=A.useState("30"),l=A.useMemo(()=>{const g=s==="all"?e:e.filter(j=>j.assignedTo===s);return xv.map(j=>{const x=g.filter(y=>{switch(j.name.toLowerCase()){case"new":return y.status===cn.NEW;case"contacted":return y.status===cn.CONTACTED;case"qualified":return y.status===cn.QUALIFIED;case"proposal":return y.status===cn.PROPOSAL;case"negotiation":return y.status===cn.NEGOTIATION;case"closed won":return y.status===cn.CLOSED_WON;case"closed lost":return y.status===cn.CLOSED_LOST;default:return!1}}),v=x.reduce((y,E)=>{var M,P;const O=parseFloat(((P=(M=E.customFields)==null?void 0:M.budget)==null?void 0:P.replace(/[^0-9]/g,""))||"0");return y+O*j.probability/100},0);return{stage:j.name,count:x.length,value:v,averageTime:7,conversionRate:j.probability}})},[e,s]),c=A.useMemo(()=>r.map(b=>{const j=e.filter(k=>k.assignedTo===b.id),v=n.filter(k=>k.userId===b.id).filter(k=>{const C=new Date(k.createdAt),w=new Date;return w.setDate(w.getDate()-7),C>=w}),y=j.filter(k=>[cn.QUALIFIED,cn.PROPOSAL,cn.NEGOTIATION,cn.CLOSED_WON].includes(k.status)),E=j.filter(k=>k.status===cn.CLOSED_WON),O=j.filter(k=>k.status===cn.CLOSED_LOST),M=j.reduce((k,C)=>{var T,W;if(C.status===cn.CLOSED_WON||C.status===cn.CLOSED_LOST)return k;const w=parseFloat(((W=(T=C.customFields)==null?void 0:T.budget)==null?void 0:W.replace(/[^0-9]/g,""))||"0"),L=xv.find(V=>V.name.toLowerCase()===C.status.replace("_"," "));return k+w*((L==null?void 0:L.probability)||0)/100},0),P=E.length+O.length,S=P>0?E.length/P*100:0,I=E.length>0?E.reduce((k,C)=>{var L,T;const w=parseFloat(((T=(L=C.customFields)==null?void 0:L.budget)==null?void 0:T.replace(/[^0-9]/g,""))||"0");return k+w},0)/E.length:0;return{repId:b.id,repName:b.name,totalLeads:j.length,qualifiedLeads:y.length,closedWon:E.length,closedLost:O.length,pipelineValue:M,conversionRate:S,averageDealSize:I,activitiesThisWeek:v.length}}),[e,r,n]),d=l.reduce((g,b)=>g+b.value,0),m=l.reduce((g,b)=>g+b.count,0);return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex gap-4",children:[t.jsxs(tt,{value:s,onValueChange:a,children:[t.jsx(Xe,{className:"w-48",children:t.jsx(rt,{placeholder:"Select sales rep"})}),t.jsxs(Ze,{children:[t.jsx(se,{value:"all",children:"All Sales Reps"}),r.map(g=>t.jsx(se,{value:g.id,children:g.name},g.id))]})]}),t.jsxs(tt,{value:i,onValueChange:o,children:[t.jsx(Xe,{className:"w-32",children:t.jsx(rt,{})}),t.jsxs(Ze,{children:[t.jsx(se,{value:"7",children:"7 days"}),t.jsx(se,{value:"30",children:"30 days"}),t.jsx(se,{value:"90",children:"90 days"}),t.jsx(se,{value:"365",children:"1 year"})]})]})]}),t.jsxs("div",{className:"grid gap-4 md:grid-cols-4",children:[t.jsxs(ue,{className:"shadow-sm border-0 bg-gradient-to-br from-blue-50 to-blue-100/50",children:[t.jsxs(be,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[t.jsx(je,{className:"text-sm font-medium text-blue-900",children:"Total Pipeline"}),t.jsx(Bt,{className:"h-4 w-4 text-blue-600"})]}),t.jsxs(me,{children:[t.jsx("div",{className:"text-2xl font-bold text-blue-900",children:Ie(d)}),t.jsxs("p",{className:"text-xs text-blue-600 flex items-center mt-1",children:[t.jsx(vt,{className:"h-3 w-3 mr-1"}),m," active leads"]})]})]}),t.jsxs(ue,{className:"shadow-sm border-0 bg-gradient-to-br from-green-50 to-green-100/50",children:[t.jsxs(be,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[t.jsx(je,{className:"text-sm font-medium text-green-900",children:"Qualified Leads"}),t.jsx(ys,{className:"h-4 w-4 text-green-600"})]}),t.jsxs(me,{children:[t.jsx("div",{className:"text-2xl font-bold text-green-900",children:((u=l.find(g=>g.stage==="Qualified"))==null?void 0:u.count)||0}),t.jsxs("p",{className:"text-xs text-green-600 flex items-center mt-1",children:[t.jsx(vt,{className:"h-3 w-3 mr-1"}),"Ready for proposal"]})]})]}),t.jsxs(ue,{className:"shadow-sm border-0 bg-gradient-to-br from-purple-50 to-purple-100/50",children:[t.jsxs(be,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[t.jsx(je,{className:"text-sm font-medium text-purple-900",children:"Conversion Rate"}),t.jsx(ys,{className:"h-4 w-4 text-purple-600"})]}),t.jsxs(me,{children:[t.jsxs("div",{className:"text-2xl font-bold text-purple-900",children:[Math.round(s==="all"?c.reduce((g,b)=>g+b.conversionRate,0)/c.length||0:((h=c.find(g=>g.repId===s))==null?void 0:h.conversionRate)||0),"%"]}),t.jsxs("p",{className:"text-xs text-purple-600 flex items-center mt-1",children:[t.jsx(vt,{className:"h-3 w-3 mr-1"}),"Win rate"]})]})]}),t.jsxs(ue,{className:"shadow-sm border-0 bg-gradient-to-br from-orange-50 to-orange-100/50",children:[t.jsxs(be,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[t.jsx(je,{className:"text-sm font-medium text-orange-900",children:"Avg Deal Size"}),t.jsx(Bt,{className:"h-4 w-4 text-orange-600"})]}),t.jsxs(me,{children:[t.jsx("div",{className:"text-2xl font-bold text-orange-900",children:Ie(s==="all"?c.reduce((g,b)=>g+b.averageDealSize,0)/c.length||0:((p=c.find(g=>g.repId===s))==null?void 0:p.averageDealSize)||0)}),t.jsxs("p",{className:"text-xs text-orange-600 flex items-center mt-1",children:[t.jsx(Bt,{className:"h-3 w-3 mr-1"}),"Per closed deal"]})]})]})]}),t.jsxs(ue,{children:[t.jsxs(be,{children:[t.jsx(je,{children:"Sales Pipeline"}),t.jsx(Ge,{children:"Lead distribution across pipeline stages"})]}),t.jsx(me,{children:t.jsx("div",{className:"grid gap-4 md:grid-cols-7",children:l.map((g,b)=>{const j=xv[b];return t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:ze("w-full h-24 rounded-lg flex items-center justify-center text-white font-bold text-lg mb-2",j.color),children:g.count}),t.jsx("h3",{className:"font-semibold text-sm",children:j.name}),t.jsx("p",{className:"text-xs text-muted-foreground",children:Ie(g.value)}),t.jsxs("p",{className:"text-xs text-muted-foreground",children:[j.probability,"% probability"]})]},j.id)})})})]}),t.jsxs(ue,{children:[t.jsxs(be,{children:[t.jsx(je,{children:"Sales Rep Performance"}),t.jsx(Ge,{children:"Individual performance metrics and activity levels"})]}),t.jsx(me,{children:t.jsx("div",{className:"space-y-4",children:c.map(g=>t.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg hover:bg-accent/50 transition-colors",children:[t.jsxs("div",{className:"flex-1",children:[t.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[t.jsx("h3",{className:"font-semibold",children:g.repName}),t.jsxs(Re,{variant:"secondary",children:[g.totalLeads," leads"]}),t.jsxs(Re,{className:"bg-green-50 text-green-700 border-green-200",children:[g.conversionRate.toFixed(1),"% conversion"]})]}),t.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm text-muted-foreground",children:[t.jsxs("div",{children:[t.jsx("span",{className:"font-medium",children:"Pipeline Value:"}),t.jsx("div",{className:"font-bold text-primary",children:Ie(g.pipelineValue)})]}),t.jsxs("div",{children:[t.jsx("span",{className:"font-medium",children:"Qualified:"}),t.jsx("div",{className:"font-bold text-green-600",children:g.qualifiedLeads})]}),t.jsxs("div",{children:[t.jsx("span",{className:"font-medium",children:"Closed Won:"}),t.jsx("div",{className:"font-bold text-blue-600",children:g.closedWon})]}),t.jsxs("div",{children:[t.jsx("span",{className:"font-medium",children:"Activities (7d):"}),t.jsx("div",{className:"font-bold text-purple-600",children:g.activitiesThisWeek})]})]})]}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsxs(ne,{variant:"outline",size:"sm",children:[t.jsx(pn,{className:"h-3 w-3 mr-1"}),"View Leads"]}),t.jsxs(ne,{variant:"outline",size:"sm",children:[t.jsx(zr,{className:"h-3 w-3 mr-1"}),"Activities"]})]})]},g.repId))})})]})]})}var Wy="Progress",qy=100,[A8,KU]=Ed(Wy),[E8,I8]=A8(Wy),uC=A.forwardRef((e,r)=>{const{__scopeProgress:n,value:s=null,max:a,getValueLabel:i=P8,...o}=e;(a||a===0)&&!rw(a)&&console.error(D8(`${a}`,"Progress"));const l=rw(a)?a:qy;s!==null&&!nw(s,l)&&console.error(k8(`${s}`,"Progress"));const c=nw(s,l)?s:null,d=Sf(c)?i(c,l):void 0;return t.jsx(E8,{scope:n,value:c,max:l,children:t.jsx(Ur.div,{"aria-valuemax":l,"aria-valuemin":0,"aria-valuenow":Sf(c)?c:void 0,"aria-valuetext":d,role:"progressbar","data-state":hC(c,l),"data-value":c??void 0,"data-max":l,...o,ref:r})})});uC.displayName=Wy;var mC="ProgressIndicator",pC=A.forwardRef((e,r)=>{const{__scopeProgress:n,...s}=e,a=I8(mC,n);return t.jsx(Ur.div,{"data-state":hC(a.value,a.max),"data-value":a.value??void 0,"data-max":a.max,...s,ref:r})});pC.displayName=mC;function P8(e,r){return`${Math.round(e/r*100)}%`}function hC(e,r){return e==null?"indeterminate":e===r?"complete":"loading"}function Sf(e){return typeof e=="number"}function rw(e){return Sf(e)&&!isNaN(e)&&e>0}function nw(e,r){return Sf(e)&&!isNaN(e)&&e<=r&&e>=0}function D8(e,r){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${r}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${qy}\`.`}function k8(e,r){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${r}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${qy} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var fC=uC,T8=pC;const Ll=A.forwardRef(({className:e,value:r,...n},s)=>t.jsx(fC,{ref:s,className:ze("relative h-4 w-full overflow-hidden rounded-full bg-secondary",e),...n,children:t.jsx(T8,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(r||0)}%)`}})}));Ll.displayName=fC.displayName;function L8({score:e,className:r}){const n=i=>i>=80?"text-green-600":i>=60?"text-yellow-600":i>=40?"text-orange-600":"text-red-600",s=i=>i>=80?"bg-green-50 text-green-700 border-green-200":i>=60?"bg-yellow-50 text-yellow-700 border-yellow-200":i>=40?"bg-orange-50 text-orange-700 border-orange-200":"bg-red-50 text-red-700 border-red-200",a=i=>i>=80?"Hot Lead":i>=60?"Warm Lead":i>=40?"Cool Lead":"Cold Lead";return t.jsxs(ue,{className:ze("shadow-sm",r),children:[t.jsx(be,{children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx(je,{className:"text-lg",children:"Lead Score"}),t.jsxs(Ge,{children:["Last calculated: ",e.lastCalculated.toLocaleDateString()]})]}),t.jsxs("div",{className:"text-right",children:[t.jsx("div",{className:ze("text-3xl font-bold",n(e.totalScore)),children:e.totalScore}),t.jsx(Re,{className:ze("ri-badge-status",s(e.totalScore)),children:a(e.totalScore)})]})]})}),t.jsxs(me,{className:"space-y-6",children:[t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx($s,{className:"h-4 w-4 text-blue-500"}),t.jsx("span",{className:"text-sm font-medium",children:"Demographics"})]}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(Ll,{value:e.demographicScore/50*100,className:"w-20"}),t.jsx("span",{className:"text-sm font-bold w-8",children:e.demographicScore})]})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(Ti,{className:"h-4 w-4 text-green-500"}),t.jsx("span",{className:"text-sm font-medium",children:"Behavior"})]}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(Ll,{value:e.behaviorScore/50*100,className:"w-20"}),t.jsx("span",{className:"text-sm font-bold w-8",children:e.behaviorScore})]})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(kk,{className:"h-4 w-4 text-purple-500"}),t.jsx("span",{className:"text-sm font-medium",children:"Engagement"})]}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(Ll,{value:e.engagementScore/50*100,className:"w-20"}),t.jsx("span",{className:"text-sm font-bold w-8",children:e.engagementScore})]})]})]}),t.jsxs("div",{children:[t.jsxs("h4",{className:"font-semibold text-sm mb-3 flex items-center",children:[t.jsx(vt,{className:"h-4 w-4 mr-2"}),"Score Factors"]}),t.jsx("div",{className:"space-y-2",children:e.factors.map((i,o)=>t.jsxs("div",{className:"flex items-center justify-between p-2 bg-muted/30 rounded-md",children:[t.jsxs("div",{children:[t.jsx("span",{className:"text-sm font-medium",children:i.factor}),t.jsx("p",{className:"text-xs text-muted-foreground",children:i.reason})]}),t.jsxs(Re,{variant:"secondary",className:"text-xs",children:["+",i.points]})]},o))})]}),t.jsxs("div",{className:"bg-blue-50 p-3 rounded-lg",children:[t.jsx("h4",{className:"font-semibold text-sm text-blue-900 mb-2",children:"Recommendations"}),t.jsxs("div",{className:"space-y-1 text-xs text-blue-700",children:[e.totalScore>=80&&t.jsx("p",{children:" High priority lead - schedule immediate follow-up"}),e.totalScore>=60&&e.totalScore<80&&t.jsx("p",{children:" Good potential - maintain regular contact"}),e.totalScore>=40&&e.totalScore<60&&t.jsx("p",{children:" Nurture with educational content"}),e.totalScore<40&&t.jsx("p",{children:" Low priority - add to drip campaign"}),e.behaviorScore<20&&t.jsx("p",{children:" Increase engagement with personalized outreach"}),e.engagementScore<20&&t.jsx("p",{children:" Try different communication channels"})]})]})]})]})}function R8({leadId:e,activities:r}){const{logActivity:n}=Yi(),[s,a]=A.useState(!1),[i,o]=A.useState({type:"note",description:"",outcome:void 0,duration:void 0,scheduledDate:void 0}),l=h=>{switch(h){case"call":return Dy;case"email":return _s;case"meeting":return zr;case"note":return kn;case"status_change":return $s;default:return kn}},c=h=>{switch(h){case"call":return"text-green-500";case"email":return"text-blue-500";case"meeting":return"text-purple-500";case"note":return"text-gray-500";case"status_change":return"text-orange-500";default:return"text-gray-500"}},d=h=>{switch(h){case"positive":return"bg-green-50 text-green-700 border-green-200";case"neutral":return"bg-yellow-50 text-yellow-700 border-yellow-200";case"negative":return"bg-red-50 text-red-700 border-red-200";default:return"bg-gray-50 text-gray-700 border-gray-200"}},m=async()=>{i.description.trim()&&(await n({leadId:e,type:i.type,description:i.description,outcome:i.outcome,duration:i.duration,scheduledDate:i.scheduledDate,userId:"current-user"}),o({type:"note",description:"",outcome:void 0,duration:void 0,scheduledDate:void 0}),a(!1))},u=[...r].sort((h,p)=>new Date(p.createdAt).getTime()-new Date(h.createdAt).getTime());return t.jsxs(ue,{className:"shadow-sm",children:[t.jsx(be,{children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx(je,{className:"text-lg",children:"Activity Timeline"}),t.jsx(Ge,{children:"Track all interactions and activities for this lead"})]}),t.jsxs(ne,{onClick:()=>a(!0),size:"sm",children:[t.jsx(Et,{className:"h-4 w-4 mr-2"}),"Add Activity"]})]})}),t.jsxs(me,{children:[s&&t.jsx(ue,{className:"mb-6 border-dashed",children:t.jsx(me,{className:"pt-6",children:t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[t.jsxs("div",{children:[t.jsx("label",{className:"text-sm font-medium",children:"Activity Type"}),t.jsxs(tt,{value:i.type,onValueChange:h=>o(p=>({...p,type:h})),children:[t.jsx(Xe,{children:t.jsx(rt,{})}),t.jsxs(Ze,{children:[t.jsx(se,{value:"call",children:"Phone Call"}),t.jsx(se,{value:"email",children:"Email"}),t.jsx(se,{value:"meeting",children:"Meeting"}),t.jsx(se,{value:"note",children:"Note"})]})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-sm font-medium",children:"Outcome"}),t.jsxs(tt,{value:i.outcome||"",onValueChange:h=>o(p=>({...p,outcome:h||void 0})),children:[t.jsx(Xe,{children:t.jsx(rt,{placeholder:"Select outcome"})}),t.jsxs(Ze,{children:[t.jsx(se,{value:"positive",children:"Positive"}),t.jsx(se,{value:"neutral",children:"Neutral"}),t.jsx(se,{value:"negative",children:"Negative"})]})]})]})]}),i.type==="call"&&t.jsxs("div",{children:[t.jsx("label",{className:"text-sm font-medium",children:"Duration (minutes)"}),t.jsx(Te,{type:"number",value:i.duration||"",onChange:h=>o(p=>({...p,duration:h.target.value?parseInt(h.target.value):void 0})),placeholder:"e.g., 15"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-sm font-medium",children:"Description"}),t.jsx(rr,{value:i.description,onChange:h=>o(p=>({...p,description:h.target.value})),placeholder:"Describe the activity...",rows:3})]}),t.jsxs("div",{className:"flex justify-end space-x-2",children:[t.jsx(ne,{variant:"outline",onClick:()=>a(!1),children:"Cancel"}),t.jsx(ne,{onClick:m,children:"Add Activity"})]})]})})}),t.jsx("div",{className:"space-y-4",children:u.length===0?t.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No activities recorded yet"}):u.map((h,p)=>{const g=l(h.type),b=p===u.length-1;return t.jsxs("div",{className:"relative",children:[!b&&t.jsx("div",{className:"absolute left-4 top-8 bottom-0 w-px bg-border"}),t.jsxs("div",{className:"flex items-start space-x-3",children:[t.jsx("div",{className:ze("flex-shrink-0 w-8 h-8 rounded-full bg-background border-2 flex items-center justify-center",c(h.type)),children:t.jsx(g,{className:"h-4 w-4"})}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsxs("div",{className:"flex items-center justify-between mb-1",children:[t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("span",{className:"font-medium text-sm capitalize",children:h.type.replace("_"," ")}),h.outcome&&t.jsx(Re,{className:ze("ri-badge-status text-xs",d(h.outcome)),children:h.outcome}),h.duration&&t.jsxs(Re,{variant:"secondary",className:"text-xs",children:[t.jsx(cr,{className:"h-3 w-3 mr-1"}),h.duration,"m"]})]}),t.jsx("span",{className:"text-xs text-muted-foreground",children:gt(h.createdAt)})]}),t.jsx("p",{className:"text-sm text-muted-foreground",children:h.description}),h.scheduledDate&&t.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["Scheduled for: ",gt(h.scheduledDate)]})]})]})]},h.id)})})]})]})}function F8(e){const r=A.useRef({value:e,previous:e});return A.useMemo(()=>(r.current.value!==e&&(r.current.previous=r.current.value,r.current.value=e),r.current.previous),[e])}function _8(e){const[r,n]=A.useState(void 0);return Vl(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const s=new ResizeObserver(a=>{if(!Array.isArray(a)||!a.length)return;const i=a[0];let o,l;if("borderBoxSize"in i){const c=i.borderBoxSize,d=Array.isArray(c)?c[0]:c;o=d.inlineSize,l=d.blockSize}else o=e.offsetWidth,l=e.offsetHeight;n({width:o,height:l})});return s.observe(e,{box:"border-box"}),()=>s.unobserve(e)}else n(void 0)},[e]),r}var xx="Checkbox",[O8,JU]=Ed(xx),[M8,Hy]=O8(xx);function B8(e){const{__scopeCheckbox:r,checked:n,children:s,defaultChecked:a,disabled:i,form:o,name:l,onCheckedChange:c,required:d,value:m="on",internal_do_not_use_render:u}=e,[h,p]=sx({prop:n,defaultProp:a??!1,onChange:c,caller:xx}),[g,b]=A.useState(null),[j,x]=A.useState(null),v=A.useRef(!1),y=g?!!o||!!g.closest("form"):!0,E={checked:h,disabled:i,setChecked:p,control:g,setControl:b,name:l,form:o,value:m,hasConsumerStoppedPropagationRef:v,required:d,defaultChecked:_o(a)?!1:a,isFormControl:y,bubbleInput:j,setBubbleInput:x};return t.jsx(M8,{scope:r,...E,children:z8(u)?u(E):s})}var xC="CheckboxTrigger",gC=A.forwardRef(({__scopeCheckbox:e,onKeyDown:r,onClick:n,...s},a)=>{const{control:i,value:o,disabled:l,checked:c,required:d,setControl:m,setChecked:u,hasConsumerStoppedPropagationRef:h,isFormControl:p,bubbleInput:g}=Hy(xC,e),b=hi(a,m),j=A.useRef(c);return A.useEffect(()=>{const x=i==null?void 0:i.form;if(x){const v=()=>u(j.current);return x.addEventListener("reset",v),()=>x.removeEventListener("reset",v)}},[i,u]),t.jsx(Ur.button,{type:"button",role:"checkbox","aria-checked":_o(c)?"mixed":c,"aria-required":d,"data-state":wC(c),"data-disabled":l?"":void 0,disabled:l,value:o,...s,ref:b,onKeyDown:Ar(r,x=>{x.key==="Enter"&&x.preventDefault()}),onClick:Ar(n,x=>{u(v=>_o(v)?!0:!v),g&&p&&(h.current=x.isPropagationStopped(),h.current||x.stopPropagation())})})});gC.displayName=xC;var Gy=A.forwardRef((e,r)=>{const{__scopeCheckbox:n,name:s,checked:a,defaultChecked:i,required:o,disabled:l,value:c,onCheckedChange:d,form:m,...u}=e;return t.jsx(B8,{__scopeCheckbox:n,checked:a,defaultChecked:i,disabled:l,required:o,onCheckedChange:d,name:s,form:m,value:c,internal_do_not_use_render:({isFormControl:h})=>t.jsxs(t.Fragment,{children:[t.jsx(gC,{...u,ref:r,__scopeCheckbox:n}),h&&t.jsx(jC,{__scopeCheckbox:n})]})})});Gy.displayName=xx;var vC="CheckboxIndicator",yC=A.forwardRef((e,r)=>{const{__scopeCheckbox:n,forceMount:s,...a}=e,i=Hy(vC,n);return t.jsx(nx,{present:s||_o(i.checked)||i.checked===!0,children:t.jsx(Ur.span,{"data-state":wC(i.checked),"data-disabled":i.disabled?"":void 0,...a,ref:r,style:{pointerEvents:"none",...e.style}})})});yC.displayName=vC;var bC="CheckboxBubbleInput",jC=A.forwardRef(({__scopeCheckbox:e,...r},n)=>{const{control:s,hasConsumerStoppedPropagationRef:a,checked:i,defaultChecked:o,required:l,disabled:c,name:d,value:m,form:u,bubbleInput:h,setBubbleInput:p}=Hy(bC,e),g=hi(n,p),b=F8(i),j=_8(s);A.useEffect(()=>{const v=h;if(!v)return;const y=window.HTMLInputElement.prototype,O=Object.getOwnPropertyDescriptor(y,"checked").set,M=!a.current;if(b!==i&&O){const P=new Event("click",{bubbles:M});v.indeterminate=_o(i),O.call(v,_o(i)?!1:i),v.dispatchEvent(P)}},[h,b,i,a]);const x=A.useRef(_o(i)?!1:i);return t.jsx(Ur.input,{type:"checkbox","aria-hidden":!0,defaultChecked:o??x.current,required:l,disabled:c,name:d,value:m,form:u,...r,tabIndex:-1,ref:g,style:{...r.style,...j,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});jC.displayName=bC;function z8(e){return typeof e=="function"}function _o(e){return e==="indeterminate"}function wC(e){return _o(e)?"indeterminate":e?"checked":"unchecked"}const Tr=A.forwardRef(({className:e,...r},n)=>t.jsx(Gy,{ref:n,className:ze("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...r,children:t.jsx(yC,{className:ze("flex items-center justify-center text-current"),children:t.jsx(Iy,{className:"h-4 w-4"})})}));Tr.displayName=Gy.displayName;function $8({leadId:e,reminders:r}){const{createReminder:n,completeReminder:s}=Yi(),[a,i]=A.useState(!1),[o,l]=A.useState({type:"follow_up",title:"",description:"",dueDate:"",priority:"medium"}),c=b=>{switch(b){case"urgent":return"bg-red-50 text-red-700 border-red-200";case"high":return"bg-orange-50 text-orange-700 border-orange-200";case"medium":return"bg-yellow-50 text-yellow-700 border-yellow-200";case"low":return"bg-green-50 text-green-700 border-green-200";default:return"bg-gray-50 text-gray-700 border-gray-200"}},d=b=>{switch(b){case"call":return"";case"email":return"";case"meeting":return"";case"deadline":return"";default:return""}},m=b=>new Date(b)<new Date,u=async()=>{!o.title.trim()||!o.dueDate||(await n({leadId:e,type:o.type,title:o.title,description:o.description,dueDate:new Date(o.dueDate),priority:o.priority,userId:"current-user"}),l({type:"follow_up",title:"",description:"",dueDate:"",priority:"medium"}),i(!1))},h=async b=>{await s(b)},p=r.filter(b=>!b.isCompleted),g=r.filter(b=>b.isCompleted);return t.jsxs(ue,{className:"shadow-sm",children:[t.jsx(be,{children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsxs(je,{className:"text-lg flex items-center",children:[t.jsx(Pk,{className:"h-5 w-5 mr-2"}),"Reminders"]}),t.jsx(Ge,{children:"Set follow-up reminders and track completion"})]}),t.jsxs(ne,{onClick:()=>i(!0),size:"sm",children:[t.jsx(Et,{className:"h-4 w-4 mr-2"}),"Add Reminder"]})]})}),t.jsxs(me,{children:[a&&t.jsx(ue,{className:"mb-6 border-dashed",children:t.jsx(me,{className:"pt-6",children:t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[t.jsxs("div",{children:[t.jsx("label",{className:"text-sm font-medium",children:"Reminder Type"}),t.jsxs(tt,{value:o.type,onValueChange:b=>l(j=>({...j,type:b})),children:[t.jsx(Xe,{children:t.jsx(rt,{})}),t.jsxs(Ze,{children:[t.jsx(se,{value:"follow_up",children:"Follow Up"}),t.jsx(se,{value:"call",children:"Call"}),t.jsx(se,{value:"email",children:"Email"}),t.jsx(se,{value:"meeting",children:"Meeting"}),t.jsx(se,{value:"deadline",children:"Deadline"})]})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-sm font-medium",children:"Priority"}),t.jsxs(tt,{value:o.priority,onValueChange:b=>l(j=>({...j,priority:b})),children:[t.jsx(Xe,{children:t.jsx(rt,{})}),t.jsxs(Ze,{children:[t.jsx(se,{value:"low",children:"Low"}),t.jsx(se,{value:"medium",children:"Medium"}),t.jsx(se,{value:"high",children:"High"}),t.jsx(se,{value:"urgent",children:"Urgent"})]})]})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-sm font-medium",children:"Title"}),t.jsx(Te,{value:o.title,onChange:b=>l(j=>({...j,title:b.target.value})),placeholder:"e.g., Follow up on pricing questions"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-sm font-medium",children:"Due Date"}),t.jsx(Te,{type:"datetime-local",value:o.dueDate,onChange:b=>l(j=>({...j,dueDate:b.target.value}))})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-sm font-medium",children:"Description"}),t.jsx(rr,{value:o.description,onChange:b=>l(j=>({...j,description:b.target.value})),placeholder:"Additional details...",rows:2})]}),t.jsxs("div",{className:"flex justify-end space-x-2",children:[t.jsx(ne,{variant:"outline",onClick:()=>i(!1),children:"Cancel"}),t.jsx(ne,{onClick:u,children:"Add Reminder"})]})]})})}),t.jsxs("div",{className:"space-y-6",children:[p.length>0&&t.jsxs("div",{children:[t.jsxs("h4",{className:"font-semibold text-sm mb-3 flex items-center",children:[t.jsx(cr,{className:"h-4 w-4 mr-2"}),"Active Reminders (",p.length,")"]}),t.jsx("div",{className:"space-y-3",children:p.sort((b,j)=>new Date(b.dueDate).getTime()-new Date(j.dueDate).getTime()).map(b=>t.jsxs("div",{className:ze("flex items-start space-x-3 p-3 border rounded-lg",m(b.dueDate)?"border-red-200 bg-red-50":"hover:bg-accent/50"),children:[t.jsx(Tr,{checked:!1,onCheckedChange:()=>h(b.id),className:"mt-1"}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[t.jsx("span",{className:"text-lg",children:d(b.type)}),t.jsx("span",{className:"font-medium text-sm",children:b.title}),t.jsx(Re,{className:ze("ri-badge-status text-xs",c(b.priority)),children:b.priority}),m(b.dueDate)&&t.jsxs(Re,{className:"bg-red-50 text-red-700 border-red-200 text-xs",children:[t.jsx(Ta,{className:"h-3 w-3 mr-1"}),"Overdue"]})]}),t.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:b.description}),t.jsxs("div",{className:"flex items-center space-x-2 text-xs text-muted-foreground",children:[t.jsx(zr,{className:"h-3 w-3"}),t.jsxs("span",{children:["Due: ",gt(b.dueDate)]})]})]})]},b.id))})]}),g.length>0&&t.jsxs("div",{children:[t.jsxs("h4",{className:"font-semibold text-sm mb-3 text-muted-foreground",children:["Completed (",g.length,")"]}),t.jsx("div",{className:"space-y-2",children:g.sort((b,j)=>new Date(j.dueDate).getTime()-new Date(b.dueDate).getTime()).slice(0,5).map(b=>t.jsxs("div",{className:"flex items-center space-x-3 p-2 text-sm text-muted-foreground",children:[t.jsx(Tr,{checked:!0,disabled:!0}),t.jsx("span",{className:"line-through",children:b.title}),t.jsx("span",{className:"text-xs",children:gt(b.dueDate)})]},b.id))})]}),p.length===0&&g.length===0&&t.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No reminders set for this lead"})]})]})]})}function U8({template:e,type:r,onSave:n,onCancel:s}){const{toast:a}=nr(),[i,o]=A.useState(!1),[l,c]=A.useState({name:(e==null?void 0:e.name)||"",subject:(e==null?void 0:e.subject)||"",body:(e==null?void 0:e.body)||(e==null?void 0:e.message)||"",type:(e==null?void 0:e.type)||"custom",variables:(e==null?void 0:e.variables)||[],isActive:(e==null?void 0:e.isActive)??!0}),[d,m]=A.useState(""),u=[{value:"welcome",label:"Welcome"},{value:"follow_up",label:"Follow Up"},{value:"nurture",label:"Nurture"},{value:"proposal",label:"Proposal"},{value:"reminder",label:"Reminder"},{value:"custom",label:"Custom"}],h=["first_name","last_name","company_name","rep_name","rep_phone","rep_email","website_url","budget","timeframe"],p=async()=>{if(!l.name.trim()){a({title:"Validation Error",description:"Template name is required",variant:"destructive"});return}if(!l.body.trim()){a({title:"Validation Error",description:`${r==="email"?"Email body":"SMS message"} is required`,variant:"destructive"});return}if(r==="email"&&!l.subject.trim()){a({title:"Validation Error",description:"Email subject is required",variant:"destructive"});return}if(r==="sms"&&l.body.length>160){a({title:"Validation Error",description:"SMS message must be 160 characters or less",variant:"destructive"});return}o(!0);try{const x=r==="email"?{name:l.name,subject:l.subject,body:l.body,type:l.type,variables:l.variables,isActive:l.isActive}:{name:l.name,message:l.body,type:l.type,variables:l.variables,isActive:l.isActive};await n(x),a({title:"Success",description:`${r==="email"?"Email":"SMS"} template ${e?"updated":"created"} successfully`})}catch{a({title:"Error",description:`Failed to ${e?"update":"create"} template`,variant:"destructive"})}finally{o(!1)}},g=()=>{d.trim()&&!l.variables.includes(d.trim())&&(c(x=>({...x,variables:[...x.variables,d.trim()]})),m(""))},b=x=>{c(v=>({...v,variables:v.variables.filter(y=>y!==x)}))},j=x=>{const v=`{{${x}}}`;c(y=>({...y,body:y.body+v}))};return t.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:t.jsxs(ue,{className:"w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[t.jsx(be,{children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsxs(je,{className:"text-xl flex items-center",children:[r==="email"?t.jsx(_s,{className:"h-5 w-5 mr-2 text-blue-500"}):t.jsx(kn,{className:"h-5 w-5 mr-2 text-green-500"}),e?"Edit":"Create"," ",r==="email"?"Email":"SMS"," Template"]}),t.jsx(Ge,{children:e?"Update the template details":"Create a new template for automated communications"})]}),t.jsx(ne,{variant:"ghost",size:"sm",onClick:s,children:t.jsx(qt,{className:"h-4 w-4"})})]})}),t.jsxs(me,{className:"space-y-6",children:[t.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[t.jsxs("div",{children:[t.jsx(ve,{htmlFor:"name",children:"Template Name *"}),t.jsx(Te,{id:"name",value:l.name,onChange:x=>c(v=>({...v,name:x.target.value})),placeholder:"e.g., Welcome New Lead"})]}),t.jsxs("div",{children:[t.jsx(ve,{htmlFor:"type",children:"Template Type"}),t.jsxs(tt,{value:l.type,onValueChange:x=>c(v=>({...v,type:x})),children:[t.jsx(Xe,{children:t.jsx(rt,{})}),t.jsx(Ze,{children:u.map(x=>t.jsx(se,{value:x.value,children:x.label},x.value))})]})]})]}),r==="email"&&t.jsxs("div",{children:[t.jsx(ve,{htmlFor:"subject",children:"Subject Line *"}),t.jsx(Te,{id:"subject",value:l.subject,onChange:x=>c(v=>({...v,subject:x.target.value})),placeholder:"e.g., Welcome to {{company_name}}, {{first_name}}!"})]}),t.jsxs("div",{className:"grid gap-6 md:grid-cols-3",children:[t.jsxs("div",{className:"md:col-span-2",children:[t.jsxs(ve,{htmlFor:"body",children:[r==="email"?"Email Body":"SMS Message"," *"]}),t.jsx(rr,{id:"body",value:l.body,onChange:x=>c(v=>({...v,body:x.target.value})),placeholder:r==="email"?`Hi {{first_name}},

Thank you for your interest in our RV inventory!

Best regards,
{{rep_name}}`:"Hi {{first_name}}! Thanks for your interest. Call us at {{rep_phone}} - {{rep_name}}",rows:r==="email"?12:4,maxLength:r==="sms"?160:void 0}),r==="sms"&&t.jsxs("div",{className:"flex justify-between items-center mt-1",children:[t.jsxs("div",{className:"text-xs text-muted-foreground",children:[l.body.length,"/160 characters"]}),t.jsx("div",{className:`text-xs ${l.body.length>160?"text-red-500":"text-muted-foreground"}`,children:l.body.length>160&&"Message too long"})]})]}),t.jsxs("div",{children:[t.jsx(ve,{children:"Variables"}),t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"Common Variables:"}),t.jsx("div",{className:"space-y-1",children:h.map(x=>t.jsxs(ne,{variant:"outline",size:"sm",className:"w-full justify-start text-xs",onClick:()=>j(x),children:[t.jsx(Et,{className:"h-3 w-3 mr-1"}),x]},x))})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"Custom Variables:"}),t.jsxs("div",{className:"flex space-x-1 mb-2",children:[t.jsx(Te,{value:d,onChange:x=>m(x.target.value),placeholder:"variable_name",className:"text-xs",onKeyPress:x=>x.key==="Enter"&&g()}),t.jsx(ne,{size:"sm",onClick:g,children:t.jsx(Et,{className:"h-3 w-3"})})]}),t.jsx("div",{className:"space-y-1",children:l.variables.map(x=>t.jsxs("div",{className:"flex items-center justify-between p-1 bg-muted rounded text-xs",children:[t.jsx("span",{children:x}),t.jsx(ne,{variant:"ghost",size:"sm",onClick:()=>b(x),className:"h-4 w-4 p-0",children:t.jsx(bs,{className:"h-3 w-3"})})]},x))})]})]})]})]}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(Tr,{id:"isActive",checked:l.isActive,onCheckedChange:x=>c(v=>({...v,isActive:!!x}))}),t.jsx(ve,{htmlFor:"isActive",children:"Active template"})]}),t.jsxs("div",{children:[t.jsx(ve,{children:"Preview"}),t.jsxs("div",{className:"mt-2 p-4 bg-muted/30 rounded-lg",children:[r==="email"&&t.jsxs("div",{className:"mb-2",children:[t.jsx("strong",{children:"Subject:"})," ",l.subject||"No subject"]}),t.jsx("div",{className:"whitespace-pre-wrap text-sm",children:l.body||`No ${r==="email"?"content":"message"}`})]})]}),t.jsxs("div",{className:"flex justify-end space-x-3 pt-6 border-t",children:[t.jsx(ne,{variant:"outline",onClick:s,disabled:i,children:"Cancel"}),t.jsx(ne,{onClick:p,disabled:i,children:i?t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Saving..."]}):t.jsxs(t.Fragment,{children:[t.jsx(js,{className:"h-4 w-4 mr-2"}),e?"Update":"Create"," Template"]})})]})]})]})})}function V8({sequence:e,emailTemplates:r,smsTemplates:n,onSave:s,onCancel:a}){var M,P,S,I,k;const{toast:i}=nr(),[o,l]=A.useState(!1),[c,d]=A.useState({name:(e==null?void 0:e.name)||"",description:(e==null?void 0:e.description)||"",targetAudience:(e==null?void 0:e.targetAudience)||"",steps:(e==null?void 0:e.steps)||[],isActive:(e==null?void 0:e.isActive)??!0}),[m,u]=A.useState(!1),[h,p]=A.useState({type:"email",delay:0,content:{body:""},isActive:!0}),g=[{value:"email",label:"Email",icon:_s,color:"text-blue-500"},{value:"sms",label:"SMS",icon:kn,color:"text-green-500"},{value:"wait",label:"Wait",icon:cr,color:"text-orange-500"},{value:"task",label:"Task",icon:pn,color:"text-purple-500"}],b=C=>{const w=g.find(L=>L.value===C);return(w==null?void 0:w.icon)||_s},j=C=>{const w=g.find(L=>L.value===C);return(w==null?void 0:w.color)||"text-gray-500"},x=async()=>{if(!c.name.trim()){i({title:"Validation Error",description:"Sequence name is required",variant:"destructive"});return}if(c.steps.length===0){i({title:"Validation Error",description:"At least one step is required",variant:"destructive"});return}l(!0);try{const C={...c,steps:c.steps.map((w,L)=>({...w,order:L+1}))};await s(C),i({title:"Success",description:`Sequence ${e?"updated":"created"} successfully`})}catch{i({title:"Error",description:`Failed to ${e?"update":"create"} sequence`,variant:"destructive"})}finally{l(!1)}},v=()=>{var w,L;if(!((L=(w=h.content)==null?void 0:w.body)!=null&&L.trim())&&h.type!=="wait"){i({title:"Validation Error",description:"Step content is required",variant:"destructive"});return}const C={id:Math.random().toString(36).substr(2,9),type:h.type||"email",delay:h.delay||0,content:h.content||{body:""},isActive:!0};d(T=>({...T,steps:[...T.steps,C]})),p({type:"email",delay:0,content:{body:""},isActive:!0}),u(!1)},y=C=>{d(w=>({...w,steps:w.steps.filter(L=>L.id!==C)}))},E=(C,w)=>{const L=[...c.steps],T=L.findIndex(W=>W.id===C);w==="up"&&T>0?[L[T],L[T-1]]=[L[T-1],L[T]]:w==="down"&&T<L.length-1&&([L[T],L[T+1]]=[L[T+1],L[T]]),d(W=>({...W,steps:L}))},O=C=>{if(C<24)return`${C} hours`;const w=Math.floor(C/24),L=C%24;return L===0?`${w} days`:`${w} days ${L} hours`};return t.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:t.jsxs(ue,{className:"w-full max-w-6xl max-h-[90vh] overflow-y-auto",children:[t.jsx(be,{children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsxs(je,{className:"text-xl",children:[e?"Edit":"Create"," Nurture Sequence"]}),t.jsx(Ge,{children:e?"Update the sequence details and steps":"Create an automated sequence for lead nurturing"})]}),t.jsx(ne,{variant:"ghost",size:"sm",onClick:a,children:t.jsx(qt,{className:"h-4 w-4"})})]})}),t.jsxs(me,{className:"space-y-6",children:[t.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[t.jsxs("div",{children:[t.jsx(ve,{htmlFor:"name",children:"Sequence Name *"}),t.jsx(Te,{id:"name",value:c.name,onChange:C=>d(w=>({...w,name:C.target.value})),placeholder:"e.g., New Lead Welcome Series"})]}),t.jsxs("div",{children:[t.jsx(ve,{htmlFor:"targetAudience",children:"Target Audience"}),t.jsx(Te,{id:"targetAudience",value:c.targetAudience,onChange:C=>d(w=>({...w,targetAudience:C.target.value})),placeholder:"e.g., New website leads"})]})]}),t.jsxs("div",{children:[t.jsx(ve,{htmlFor:"description",children:"Description"}),t.jsx(rr,{id:"description",value:c.description,onChange:C=>d(w=>({...w,description:C.target.value})),placeholder:"Describe the purpose and goals of this sequence",rows:3})]}),t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsxs(ve,{children:["Sequence Steps (",c.steps.length,")"]}),t.jsxs(ne,{onClick:()=>u(!0),size:"sm",children:[t.jsx(Et,{className:"h-4 w-4 mr-2"}),"Add Step"]})]}),m&&t.jsx(ue,{className:"mb-4 border-dashed",children:t.jsx(me,{className:"pt-6",children:t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[t.jsxs("div",{children:[t.jsx(ve,{children:"Step Type"}),t.jsxs(tt,{value:h.type,onValueChange:C=>p(w=>({...w,type:C})),children:[t.jsx(Xe,{children:t.jsx(rt,{})}),t.jsx(Ze,{children:g.map(C=>t.jsx(se,{value:C.value,children:t.jsxs("div",{className:"flex items-center",children:[t.jsx(C.icon,{className:ze("h-4 w-4 mr-2",C.color)}),t.jsx("span",{children:C.label})]})},C.value))})]})]}),t.jsxs("div",{children:[t.jsx(ve,{children:"Delay (hours)"}),t.jsx(Te,{type:"number",value:h.delay||0,onChange:C=>p(w=>({...w,delay:parseInt(C.target.value)||0})),placeholder:"0",min:"0"})]}),h.type==="email"&&t.jsxs("div",{children:[t.jsx(ve,{children:"Email Template"}),t.jsxs(tt,{value:((M=h.content)==null?void 0:M.template)||"",onValueChange:C=>{const w=r.find(L=>L.id===C);p(L=>({...L,content:{...L.content,template:C,subject:(w==null?void 0:w.subject)||"",body:(w==null?void 0:w.body)||""}}))},children:[t.jsx(Xe,{children:t.jsx(rt,{placeholder:"Select template"})}),t.jsxs(Ze,{children:[t.jsx(se,{value:"",children:"Custom Content"}),r.filter(C=>C.isActive).map(C=>t.jsx(se,{value:C.id,children:C.name},C.id))]})]})]}),h.type==="sms"&&t.jsxs("div",{children:[t.jsx(ve,{children:"SMS Template"}),t.jsxs(tt,{value:((P=h.content)==null?void 0:P.template)||"",onValueChange:C=>{const w=n.find(L=>L.id===C);p(L=>({...L,content:{...L.content,template:C,body:(w==null?void 0:w.message)||""}}))},children:[t.jsx(Xe,{children:t.jsx(rt,{placeholder:"Select template"})}),t.jsxs(Ze,{children:[t.jsx(se,{value:"",children:"Custom Content"}),n.filter(C=>C.isActive).map(C=>t.jsx(se,{value:C.id,children:C.name},C.id))]})]})]})]}),h.type==="email"&&t.jsxs("div",{children:[t.jsx(ve,{children:"Subject"}),t.jsx(Te,{value:((S=h.content)==null?void 0:S.subject)||"",onChange:C=>p(w=>({...w,content:{...w.content,subject:C.target.value}})),placeholder:"Email subject line"})]}),(h.type==="email"||h.type==="sms"||h.type==="task")&&t.jsxs("div",{children:[t.jsx(ve,{children:h.type==="email"?"Email Body":h.type==="sms"?"SMS Message":"Task Description"}),t.jsx(rr,{value:((I=h.content)==null?void 0:I.body)||"",onChange:C=>p(w=>({...w,content:{...w.content,body:C.target.value}})),placeholder:h.type==="email"?"Email content...":h.type==="sms"?"SMS message...":"Task description...",rows:h.type==="email"?6:3,maxLength:h.type==="sms"?160:void 0}),h.type==="sms"&&t.jsxs("div",{className:"text-xs text-muted-foreground mt-1",children:[(((k=h.content)==null?void 0:k.body)||"").length,"/160 characters"]})]}),t.jsxs("div",{className:"flex justify-end space-x-2",children:[t.jsx(ne,{variant:"outline",onClick:()=>u(!1),children:"Cancel"}),t.jsx(ne,{onClick:v,children:"Add Step"})]})]})})}),t.jsxs("div",{className:"space-y-4",children:[c.steps.map((C,w)=>{const L=b(C.type),T=w===c.steps.length-1;return t.jsxs("div",{className:"relative",children:[!T&&t.jsx("div",{className:"absolute left-6 top-12 bottom-0 w-px bg-border"}),t.jsxs("div",{className:"flex items-start space-x-4 p-4 border rounded-lg hover:bg-accent/50 transition-colors",children:[t.jsx("div",{className:ze("flex-shrink-0 w-12 h-12 rounded-full bg-background border-2 flex items-center justify-center",j(C.type)),children:t.jsx(L,{className:"h-5 w-5"})}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[t.jsx("span",{className:"font-medium capitalize",children:C.type}),C.delay>0&&t.jsxs(Re,{variant:"secondary",className:"text-xs",children:[t.jsx(cr,{className:"h-3 w-3 mr-1"}),O(C.delay)]})]}),C.type==="email"&&t.jsxs("div",{className:"bg-blue-50 p-3 rounded-md",children:[t.jsx("p",{className:"font-medium text-sm text-blue-900",children:C.content.subject||"No subject"}),t.jsx("p",{className:"text-sm text-blue-700 mt-1 line-clamp-2",children:C.content.body||"No content"})]}),C.type==="sms"&&t.jsx("div",{className:"bg-green-50 p-3 rounded-md",children:t.jsx("p",{className:"text-sm text-green-700",children:C.content.body||"No message"})}),C.type==="wait"&&t.jsx("div",{className:"bg-orange-50 p-3 rounded-md",children:t.jsxs("p",{className:"text-sm text-orange-700",children:["Wait ",O(C.delay)," before next step"]})}),C.type==="task"&&t.jsx("div",{className:"bg-purple-50 p-3 rounded-md",children:t.jsx("p",{className:"text-sm text-purple-700",children:C.content.body||"No task description"})})]}),t.jsxs("div",{className:"flex items-center space-x-1",children:[t.jsx(ne,{variant:"outline",size:"sm",onClick:()=>E(C.id,"up"),disabled:w===0,children:t.jsx(_i,{className:"h-3 w-3"})}),t.jsx(ne,{variant:"outline",size:"sm",onClick:()=>E(C.id,"down"),disabled:w===c.steps.length-1,children:t.jsx(Fi,{className:"h-3 w-3"})}),t.jsx(ne,{variant:"outline",size:"sm",onClick:()=>y(C.id),children:t.jsx(bs,{className:"h-3 w-3"})})]})]})]},C.id)}),c.steps.length===0&&t.jsx("div",{className:"text-center py-8 text-muted-foreground border-2 border-dashed rounded-lg",children:'No steps added yet. Click "Add Step" to get started.'})]})]}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(Tr,{id:"isActive",checked:c.isActive,onCheckedChange:C=>d(w=>({...w,isActive:!!C}))}),t.jsx(ve,{htmlFor:"isActive",children:"Active sequence"})]}),t.jsxs("div",{className:"flex justify-end space-x-3 pt-6 border-t",children:[t.jsx(ne,{variant:"outline",onClick:a,disabled:o,children:"Cancel"}),t.jsx(ne,{onClick:x,disabled:o,children:o?t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Saving..."]}):t.jsxs(t.Fragment,{children:[t.jsx(js,{className:"h-4 w-4 mr-2"}),e?"Update":"Create"," Sequence"]})})]})]})]})})}const W8=[{id:"1",name:"New Lead Welcome Series",description:"Automated welcome sequence for new leads",isActive:!0,targetAudience:"New website leads",steps:[{id:"1",type:"email",delay:0},{id:"2",type:"wait",delay:72},{id:"3",type:"email",delay:0},{id:"4",type:"sms",delay:48}]}],q8=[{id:"1",name:"Welcome New Lead",subject:"Welcome to our RV dealership!",body:"Thank you for your interest...",type:"welcome",isActive:!0}],H8=[{id:"1",name:"Quick Follow-up",message:"Hi! Just wanted to check if you have any questions.",type:"follow_up",isActive:!0}];function sw(){const[e,r]=A.useState(W8),[n,s]=A.useState(q8),[a,i]=A.useState(H8),[o]=A.useState([]),[l,c]=A.useState(null),[d,m]=A.useState(!1),[u,h]=A.useState(!1),[p,g]=A.useState(null),[b,j]=A.useState(null),[x,v]=A.useState("email"),y=w=>{switch(w){case"email":return _s;case"sms":return kn;case"wait":return cr;case"task":return pn;default:return Uk}},E=w=>{switch(w){case"email":return"text-blue-500 bg-blue-50";case"sms":return"text-green-500 bg-green-50";case"wait":return"text-orange-500 bg-orange-50";case"task":return"text-purple-500 bg-purple-50";default:return"text-gray-500 bg-gray-50"}},O=w=>{if(w<24)return`${w} hours`;const L=Math.floor(w/24),T=w%24;return T===0?`${L} days`:`${L} days ${T} hours`},M=w=>{const L=o.filter(T=>T.sequenceId===w);return{total:L.length,active:L.filter(T=>T.status==="active").length,completed:L.filter(T=>T.status==="completed").length,paused:L.filter(T=>T.status==="paused").length}},P=(w,L)=>{j({template:w,type:L}),h(!0)},S=async w=>{if(b)b.type==="email"?s(L=>L.map(T=>T.id===b.template.id?{...T,...w}:T)):i(L=>L.map(T=>T.id===b.template.id?{...T,...w}:T));else{const L={id:Math.random().toString(36).substr(2,9),...w,isActive:!0};x==="email"?s(T=>[...T,L]):i(T=>[...T,L])}h(!1),j(null)},I=()=>{m(!0),g(null)},k=w=>{g(w),m(!0)},C=async w=>{if(p)r(L=>L.map(T=>T.id===p.id?{...T,...w}:T));else{const L={id:Math.random().toString(36).substr(2,9),...w,steps:w.steps||[]};r(T=>[...T,L])}m(!1),g(null)};return t.jsxs("div",{className:"space-y-6",children:[u&&t.jsx(U8,{template:b==null?void 0:b.template,type:(b==null?void 0:b.type)||x,onSave:S,onCancel:()=>{h(!1),j(null)}}),d&&t.jsx(V8,{sequence:p,emailTemplates:n,smsTemplates:a,onSave:C,onCancel:()=>{m(!1),g(null)}}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("h2",{className:"text-2xl font-bold",children:"Nurture Sequences"}),t.jsx("p",{className:"text-muted-foreground",children:"Automate lead nurturing with email and SMS sequences"})]}),t.jsxs("div",{className:"flex space-x-2",children:[t.jsxs(ne,{variant:"outline",onClick:()=>h(!0),children:[t.jsx(Et,{className:"h-4 w-4 mr-2"}),"Template"]}),t.jsxs(ne,{onClick:I,children:[t.jsx(Et,{className:"h-4 w-4 mr-2"}),"Sequence"]})]})]}),t.jsxs(Zr,{defaultValue:"sequences",className:"space-y-6",children:[t.jsxs($r,{children:[t.jsx(it,{value:"sequences",children:"Sequences"}),t.jsx(it,{value:"templates",children:"Templates"}),t.jsx(it,{value:"analytics",children:"Analytics"})]}),t.jsxs(ct,{value:"sequences",className:"space-y-6",children:[t.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:e.map(w=>{const L=M(w.id);return t.jsxs(ue,{className:"shadow-sm hover:shadow-md transition-shadow cursor-pointer",onClick:()=>c(w),children:[t.jsx(be,{children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx(je,{className:"text-lg",children:w.name}),t.jsx(Ge,{className:"mt-1",children:w.description})]}),t.jsx(Re,{className:w.isActive?"bg-green-50 text-green-700 border-green-200":"bg-gray-50 text-gray-700 border-gray-200",children:w.isActive?"Active":"Inactive"})]})}),t.jsx(me,{children:t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"flex items-center space-x-4 text-sm",children:[t.jsxs("div",{className:"flex items-center space-x-1",children:[t.jsx(pn,{className:"h-4 w-4 text-blue-500"}),t.jsxs("span",{children:[L.total," enrolled"]})]}),t.jsxs("div",{className:"flex items-center space-x-1",children:[t.jsx(rv,{className:"h-4 w-4 text-green-500"}),t.jsxs("span",{children:[L.active," active"]})]})]}),t.jsxs("div",{className:"flex flex-wrap gap-1",children:[w.steps.slice(0,4).map((T,W)=>{const V=y(T.type);return t.jsx("div",{className:ze("flex items-center justify-center w-8 h-8 rounded-full",E(T.type)),children:t.jsx(V,{className:"h-4 w-4"})},T.id)}),w.steps.length>4&&t.jsxs("div",{className:"flex items-center justify-center w-8 h-8 rounded-full bg-gray-100 text-gray-500 text-xs",children:["+",w.steps.length-4]})]}),t.jsxs("div",{className:"text-xs text-muted-foreground",children:["Target: ",w.targetAudience]})]})})]},w.id)})}),l&&t.jsxs(ue,{className:"shadow-sm",children:[t.jsx(be,{children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx(je,{className:"text-xl",children:l.name}),t.jsx(Ge,{children:l.description})]}),t.jsxs("div",{className:"flex space-x-2",children:[t.jsxs(ne,{variant:"outline",size:"sm",onClick:()=>k(l),children:[t.jsx(Xr,{className:"h-4 w-4 mr-2"}),"Edit"]}),t.jsxs(ne,{variant:"outline",size:"sm",children:[l.isActive?t.jsx(Ok,{className:"h-4 w-4 mr-2"}):t.jsx(rv,{className:"h-4 w-4 mr-2"}),l.isActive?"Pause":"Activate"]})]})]})}),t.jsx(me,{children:t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx("h4",{className:"font-semibold mb-3",children:"Sequence Steps"}),t.jsx("div",{className:"space-y-4",children:l.steps.map((w,L)=>{const T=y(w.type),W=L===l.steps.length-1;return t.jsxs("div",{className:"relative",children:[!W&&t.jsx("div",{className:"absolute left-6 top-12 bottom-0 w-px bg-border"}),t.jsxs("div",{className:"flex items-start space-x-4",children:[t.jsx("div",{className:ze("flex-shrink-0 w-12 h-12 rounded-full flex items-center justify-center",E(w.type)),children:t.jsx(T,{className:"h-5 w-5"})}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[t.jsx("span",{className:"font-medium capitalize",children:w.type}),w.delay>0&&t.jsxs(Re,{variant:"outline",className:"flex items-center space-x-1",children:[t.jsx(cr,{className:"h-3 w-3"}),t.jsxs("span",{children:["Wait ",O(w.delay)]})]})]}),w.type==="email"&&t.jsx("div",{className:"bg-muted/30 p-3 rounded-md",children:t.jsx("p",{className:"text-sm text-muted-foreground",children:w.type==="email"?"Email step":w.type==="sms"?"SMS step":w.type==="wait"?"Wait step":"Step"})})]})]})]},w.id)})})]}),t.jsxs("div",{children:[t.jsx("h4",{className:"font-semibold mb-3",children:"Performance"}),t.jsx("div",{className:"grid gap-4 md:grid-cols-4",children:Object.entries(M(l.id)).map(([w,L])=>t.jsxs("div",{className:"text-center p-3 bg-muted/30 rounded-lg",children:[t.jsx("div",{className:"text-2xl font-bold",children:L}),t.jsx("div",{className:"text-sm text-muted-foreground capitalize",children:w})]},w))})]})]})})]})]}),t.jsx(ct,{value:"templates",className:"space-y-6",children:t.jsxs(Zr,{defaultValue:"email",className:"space-y-4",children:[t.jsxs($r,{children:[t.jsx(it,{value:"email",children:"Email Templates"}),t.jsx(it,{value:"sms",children:"SMS Templates"})]}),u&&!b&&t.jsx("div",{className:"mb-4",children:t.jsx(Zr,{value:x,onValueChange:w=>v(w),children:t.jsxs($r,{children:[t.jsx(it,{value:"email",children:"Email Template"}),t.jsx(it,{value:"sms",children:"SMS Template"})]})})}),t.jsx(ct,{value:"email",children:t.jsx("div",{className:"grid gap-4 md:grid-cols-2",children:n.map(w=>t.jsxs(ue,{className:"shadow-sm",children:[t.jsx(be,{children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx(je,{className:"text-lg",children:w.name}),t.jsx(Re,{variant:"secondary",className:"mt-1",children:w.type})]}),t.jsx(ne,{variant:"outline",size:"sm",onClick:()=>P(w,"email"),children:t.jsx(Xr,{className:"h-4 w-4"})})]})}),t.jsx(me,{children:t.jsxs("div",{className:"space-y-2",children:[t.jsx("p",{className:"text-sm text-muted-foreground",children:w.subject||w.body}),t.jsxs("div",{children:[t.jsx("span",{className:"text-sm font-medium",children:"Variables:"}),t.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:(w.variables||["first_name","company_name"]).map(L=>t.jsx(Re,{variant:"outline",className:"text-xs",children:L},L))})]})]})})]},w.id))})}),t.jsx(ct,{value:"sms",children:t.jsx("div",{className:"grid gap-4 md:grid-cols-2",children:a.map(w=>t.jsxs(ue,{className:"shadow-sm",children:[t.jsx(be,{children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx(je,{className:"text-lg",children:w.name}),t.jsx(Re,{variant:"secondary",className:"mt-1",children:w.type})]}),t.jsx(ne,{variant:"outline",size:"sm",onClick:()=>P(w,"sms"),children:t.jsx(Xr,{className:"h-4 w-4"})})]})}),t.jsx(me,{children:t.jsxs("div",{className:"space-y-2",children:[t.jsx("p",{className:"text-sm text-muted-foreground",children:w.message}),t.jsxs("div",{children:[t.jsx("span",{className:"text-sm font-medium",children:"Variables:"}),t.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:(w.variables||["first_name"]).map(L=>t.jsx(Re,{variant:"outline",className:"text-xs",children:L},L))})]})]})})]},w.id))})})]})}),t.jsxs(ct,{value:"analytics",className:"space-y-6",children:[t.jsxs("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-4",children:[t.jsxs(ue,{className:"shadow-sm border-0 bg-gradient-to-br from-blue-50 to-blue-100/50",children:[t.jsxs(be,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[t.jsx(je,{className:"text-sm font-medium text-blue-900",children:"Total Enrollments"}),t.jsx(pn,{className:"h-4 w-4 text-blue-600"})]}),t.jsxs(me,{children:[t.jsx("div",{className:"text-2xl font-bold text-blue-900",children:"0"}),t.jsxs("p",{className:"text-xs text-blue-600 flex items-center mt-1",children:[t.jsx(vt,{className:"h-3 w-3 mr-1"}),"Across all sequences"]})]})]}),t.jsxs(ue,{className:"shadow-sm border-0 bg-gradient-to-br from-green-50 to-green-100/50",children:[t.jsxs(be,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[t.jsx(je,{className:"text-sm font-medium text-green-900",children:"Active Sequences"}),t.jsx(rv,{className:"h-4 w-4 text-green-600"})]}),t.jsxs(me,{children:[t.jsx("div",{className:"text-2xl font-bold text-green-900",children:e.filter(w=>w.isActive).length}),t.jsxs("p",{className:"text-xs text-green-600 flex items-center mt-1",children:[t.jsx(vt,{className:"h-3 w-3 mr-1"}),"Currently running"]})]})]}),t.jsxs(ue,{className:"shadow-sm border-0 bg-gradient-to-br from-purple-50 to-purple-100/50",children:[t.jsxs(be,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[t.jsx(je,{className:"text-sm font-medium text-purple-900",children:"Completion Rate"}),t.jsx(vt,{className:"h-4 w-4 text-purple-600"})]}),t.jsxs(me,{children:[t.jsx("div",{className:"text-2xl font-bold text-purple-900",children:"0%"}),t.jsxs("p",{className:"text-xs text-purple-600 flex items-center mt-1",children:[t.jsx(vt,{className:"h-3 w-3 mr-1"}),"Average completion"]})]})]}),t.jsxs(ue,{className:"shadow-sm border-0 bg-gradient-to-br from-orange-50 to-orange-100/50",children:[t.jsxs(be,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[t.jsx(je,{className:"text-sm font-medium text-orange-900",children:"Templates"}),t.jsx(_s,{className:"h-4 w-4 text-orange-600"})]}),t.jsxs(me,{children:[t.jsx("div",{className:"text-2xl font-bold text-orange-900",children:n.length+a.length}),t.jsxs("p",{className:"text-xs text-orange-600 flex items-center mt-1",children:[t.jsx(_s,{className:"h-3 w-3 mr-1"}),"Email & SMS templates"]})]})]})]}),t.jsxs(ue,{className:"shadow-sm",children:[t.jsxs(be,{children:[t.jsx(je,{children:"Sequence Performance"}),t.jsx(Ge,{children:"Detailed analytics for each nurture sequence"})]}),t.jsx(me,{children:t.jsx("div",{className:"space-y-4",children:e.map(w=>{M(w.id);const L=0;return t.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[t.jsxs("div",{className:"flex-1",children:[t.jsx("h4",{className:"font-semibold",children:w.name}),t.jsx("p",{className:"text-sm text-muted-foreground",children:w.description})]}),t.jsxs("div",{className:"grid grid-cols-4 gap-4 text-center",children:[t.jsxs("div",{children:[t.jsx("div",{className:"text-lg font-bold",children:"0"}),t.jsx("div",{className:"text-xs text-muted-foreground",children:"Enrolled"})]}),t.jsxs("div",{children:[t.jsx("div",{className:"text-lg font-bold text-green-600",children:"0"}),t.jsx("div",{className:"text-xs text-muted-foreground",children:"Active"})]}),t.jsxs("div",{children:[t.jsx("div",{className:"text-lg font-bold text-blue-600",children:"0"}),t.jsx("div",{className:"text-xs text-muted-foreground",children:"Completed"})]}),t.jsxs("div",{children:[t.jsxs("div",{className:"text-lg font-bold text-purple-600",children:[L.toFixed(1),"%"]}),t.jsx("div",{className:"text-xs text-muted-foreground",children:"Rate"})]})]})]},w.id)})})})]})]})]})]})}function NC(){const[e,r]=A.useState([]),[n,s]=A.useState([]),[a,i]=A.useState([]),[o,l]=A.useState([]),[c,d]=A.useState([]),[m,u]=A.useState([]),[h,p]=A.useState([]),[g,b]=A.useState([]),[j,x]=A.useState(!1);A.useEffect(()=>{v()},[]);const v=()=>{const H=vn("renter-insight-email-templates",[]),q=vn("renter-insight-sms-templates",[]),R=vn("renter-insight-sequences",[]),$=vn("renter-insight-enrollments",[]),G=vn("renter-insight-communication-logs",[]),X=vn("renter-insight-ai-insights",[]);if(H.length===0){const Z=[{id:"1",name:"Welcome New Lead",subject:"Welcome to {{company_name}}, {{first_name}}!",body:`Hi {{first_name}},

Thank you for your interest in our RV inventory! We're excited to help you find the perfect recreational vehicle for your adventures.

Here's what happens next:
- One of our RV specialists will contact you within 24 hours
- We'll schedule a personalized tour of our showroom
- You'll receive our latest inventory updates and special offers

In the meantime, feel free to browse our current inventory at {{website_url}}.

Best regards,
{{rep_name}}
{{company_name}}`,type:"welcome",variables:["first_name","company_name","website_url","rep_name"],isActive:!0,createdAt:new Date("2024-01-01")},{id:"2",name:"Follow-up After 3 Days",subject:"Still looking for the perfect RV, {{first_name}}?",body:`Hi {{first_name}},

I wanted to follow up on your recent inquiry about our RV inventory. Have you had a chance to think about what type of RV would best suit your needs?

Based on your interests, I'd love to show you:
- {{suggested_models}}

We also have some exciting financing options that might interest you. Would you like to schedule a call this week to discuss your options?

You can reply to this email or call me directly at {{rep_phone}}.

Best regards,
{{rep_name}}`,type:"follow_up",variables:["first_name","suggested_models","rep_phone","rep_name"],isActive:!0,createdAt:new Date("2024-01-01")}];i(Z),Hr("renter-insight-email-templates",Z)}else i(H);if(q.length===0){const Z=[{id:"1",name:"Quick Follow-up",message:"Hi {{first_name}}! This is {{rep_name}} from {{company_name}}. Just wanted to check if you have any questions about the RVs you viewed. Reply STOP to opt out.",type:"follow_up",variables:["first_name","rep_name","company_name"],isActive:!0,createdAt:new Date("2024-01-01")},{id:"2",name:"Appointment Reminder",message:"Hi {{first_name}}! Reminder: Your RV showroom appointment is tomorrow at {{appointment_time}}. See you then! - {{rep_name}}",type:"reminder",variables:["first_name","appointment_time","rep_name"],isActive:!0,createdAt:new Date("2024-01-01")}];l(Z),Hr("renter-insight-sms-templates",Z)}else l(q);if(R.length===0){const Z=[{id:"1",name:"New Lead Welcome Series",description:"Automated welcome sequence for new leads",triggerConditions:[{type:"lead_status",operator:"equals",value:"new"}],steps:[{id:"1",sequenceId:"1",order:1,type:"email",delay:0,content:{subject:"Welcome to {{company_name}}, {{first_name}}!",body:mockEmailTemplates[0].body,template:"1"},isActive:!0},{id:"2",sequenceId:"1",order:2,type:"wait",delay:72,content:{body:"Wait 3 days"},isActive:!0},{id:"3",sequenceId:"1",order:3,type:"email",delay:0,content:{subject:"Still looking for the perfect RV, {{first_name}}?",body:mockEmailTemplates[1].body,template:"2"},isActive:!0},{id:"4",sequenceId:"1",order:4,type:"sms",delay:48,content:{body:mockSmsTemplates[0].message},isActive:!0}],isActive:!0,targetAudience:"New website leads",createdBy:"admin",createdAt:new Date("2024-01-01"),updatedAt:new Date("2024-01-01")}];r(Z),Hr("renter-insight-sequences",Z)}else r(R);if(X.length===0){const Z=[{id:"1",leadId:"1",type:"next_action",title:"Optimal Contact Time Identified",description:"Based on lead behavior patterns, the best time to contact this lead is Tuesday-Thursday between 2-4 PM.",confidence:85,actionable:!0,suggestedActions:["Schedule call for Tuesday 2-4 PM","Send follow-up email on Wednesday morning","Avoid Friday afternoon contact"],metadata:{timeZone:"EST",preferredDays:["Tuesday","Wednesday","Thursday"],preferredHours:[14,15,16]},generatedAt:new Date("2024-01-20"),isRead:!1},{id:"2",leadId:"1",type:"communication_style",title:"Communication Preference Analysis",description:"This lead responds better to detailed, educational content rather than high-pressure sales tactics.",confidence:78,actionable:!0,suggestedActions:["Share educational RV buying guides","Focus on features and benefits","Provide comparison charts","Avoid aggressive closing techniques"],metadata:{preferredStyle:"educational",responseRate:.65,engagementType:"content-focused"},generatedAt:new Date("2024-01-20"),isRead:!1}];u(Z),Hr("renter-insight-ai-insights",Z)}else u(X);s($),d(G)},y=async(H,q)=>{var R,$;x(!0);try{const G={id:Math.random().toString(36).substr(2,9),leadId:H,sequenceId:q,currentStepId:(($=(R=e.find(X=>X.id===q))==null?void 0:R.steps[0])==null?void 0:$.id)||"",status:"active",enrolledAt:new Date,nextActionAt:new Date};return s(X=>[...X,G]),await E(G),G}finally{x(!1)}},E=async H=>{const q=e.find(G=>G.id===H.sequenceId);if(!q)return;const R=q.steps.find(G=>G.id===H.currentStepId);if(!R)return;switch(R.type){case"email":await O(H.leadId,R);break;case"sms":await M(H.leadId,R);break;case"wait":const G=new Date;G.setHours(G.getHours()+R.delay),s(X=>X.map(Z=>Z.id===H.id?{...Z,nextActionAt:G}:Z));break}const $=q.steps.findIndex(G=>G.id===R.id)+1;if($<q.steps.length){const G=q.steps[$];s(X=>X.map(Z=>Z.id===H.id?{...Z,currentStepId:G.id}:Z))}else s(G=>G.map(X=>X.id===H.id?{...X,status:"completed",completedAt:new Date}:X))},O=async(H,q)=>{const R={id:Math.random().toString(36).substr(2,9),leadId:H,type:"email",direction:"outbound",subject:q.content.subject,content:q.content.body,status:"sent",sentAt:new Date,metadata:{sequenceStep:q.id,template:q.content.template}};d($=>[...$,R]),setTimeout(()=>{d($=>$.map(G=>G.id===R.id?{...G,status:"delivered",deliveredAt:new Date}:G))},2e3),setTimeout(()=>{d($=>$.map(G=>G.id===R.id?{...G,status:"opened",openedAt:new Date}:G))},5e3)},M=async(H,q)=>{const R={id:Math.random().toString(36).substr(2,9),leadId:H,type:"sms",direction:"outbound",content:q.content.body,status:"sent",sentAt:new Date,metadata:{sequenceStep:q.id}};d($=>[...$,R]),setTimeout(()=>{d($=>$.map(G=>G.id===R.id?{...G,status:"delivered",deliveredAt:new Date}:G))},1e3)};return{sequences:e,enrollments:n,emailTemplates:a,smsTemplates:o,communicationLogs:c,aiInsights:m,automationRules:h,analytics:g,loading:j,enrollLeadInSequence:y,processNextStep:E,generateAIInsights:async(H,q)=>{var R;x(!0);try{const $=[];q.score>70&&$.push({id:Math.random().toString(36).substr(2,9),leadId:H,type:"next_action",title:"High-Priority Lead - Immediate Action Recommended",description:"This lead has a high score and recent activity. Schedule a personal call within 24 hours.",confidence:92,actionable:!0,suggestedActions:["Schedule personal phone call","Send personalized video message","Invite to exclusive showroom tour"],generatedAt:new Date,isRead:!1});const G=new Date(q.lastActivity),X=Math.floor((Date.now()-G.getTime())/(1e3*60*60*24));return X>7&&$.push({id:Math.random().toString(36).substr(2,9),leadId:H,type:"timing",title:"Re-engagement Opportunity",description:`No activity for ${X} days. Consider a re-engagement campaign.`,confidence:75,actionable:!0,suggestedActions:['Send "We miss you" email',"Offer special incentive","Share new inventory updates"],generatedAt:new Date,isRead:!1}),(R=q.customFields)!=null&&R.budget&&$.push({id:Math.random().toString(36).substr(2,9),leadId:H,type:"content_suggestion",title:"Personalized Content Recommendation",description:`Based on budget range ${q.customFields.budget}, suggest specific RV models and financing options.`,confidence:88,actionable:!0,suggestedActions:["Send budget-specific inventory","Share financing calculator","Provide trade-in valuation"],generatedAt:new Date,isRead:!1}),u(Z=>[...Z.filter(le=>le.leadId!==H),...$]),$}finally{x(!1)}},createEmailTemplate:async H=>{const q={id:Math.random().toString(36).substr(2,9),name:H.name||"",subject:H.subject||"",body:H.body||"",type:H.type||"custom",variables:H.variables||[],isActive:!0,createdAt:new Date},R=[...a,q];return i(R),Hr("renter-insight-email-templates",R),q},createSMSTemplate:async H=>{const q={id:Math.random().toString(36).substr(2,9),name:H.name||"",message:H.message||"",type:H.type||"custom",variables:H.variables||[],isActive:!0,createdAt:new Date},R=[...o,q];return l(R),Hr("renter-insight-sms-templates",R),q},createNurtureSequence:async H=>{const q={id:Math.random().toString(36).substr(2,9),name:H.name||"",description:H.description||"",triggerConditions:H.triggerConditions||[],steps:H.steps||[],isActive:!0,targetAudience:H.targetAudience||"",createdBy:"current-user",createdAt:new Date,updatedAt:new Date},R=[...e,q];return r(R),Hr("renter-insight-sequences",R),q},updateNurtureSequence:async(H,q)=>{const R=e.map($=>$.id===H?{...$,...q,updatedAt:new Date}:$);r(R),Hr("renter-insight-sequences",R)},updateEmailTemplate:async(H,q)=>{const R=a.map($=>$.id===H?{...$,...q}:$);i(R),Hr("renter-insight-email-templates",R)},updateSMSTemplate:async(H,q)=>{const R=o.map($=>$.id===H?{...$,...q}:$);l(R),Hr("renter-insight-sms-templates",R)},getEnrollmentsByLead:H=>n.filter(q=>q.leadId===H),getCommunicationHistory:H=>c.filter(q=>q.leadId===H).sort((q,R)=>new Date(R.sentAt).getTime()-new Date(q.sentAt).getTime()),getAIInsightsByLead:H=>m.filter(q=>q.leadId===H&&!q.isRead),markInsightAsRead:async H=>{u(q=>q.map(R=>R.id===H?{...R,isRead:!0}:R))},pauseEnrollment:async H=>{s(q=>q.map(R=>R.id===H?{...R,status:"paused"}:R))},resumeEnrollment:async H=>{s(q=>q.map(R=>R.id===H?{...R,status:"active"}:R))}}}function G8({leadId:e,leadData:r}){var O,M,P;const{aiInsights:n,generateAIInsights:s,markInsightAsRead:a,enrollLeadInSequence:i,sequences:o}=NC(),[l,c]=A.useState(!1),[d,m]=A.useState("insights"),u=n.filter(S=>S.leadId===e),h=u.filter(S=>!S.isRead),p=S=>{switch(S){case"next_action":return ys;case"communication_style":return kn;case"timing":return cr;case"content_suggestion":return Lk;case"risk_assessment":return vt;default:return ni}},g=S=>{switch(S){case"next_action":return"from-blue-50 to-blue-100/50";case"communication_style":return"from-green-50 to-green-100/50";case"timing":return"from-orange-50 to-orange-100/50";case"content_suggestion":return"from-purple-50 to-purple-100/50";case"risk_assessment":return"from-red-50 to-red-100/50";default:return"from-gray-50 to-gray-100/50"}},b=S=>S>=80?"text-green-600 bg-green-50":S>=60?"text-yellow-600 bg-yellow-50":"text-orange-600 bg-orange-50",j=async()=>{c(!0);try{await s(e,r)}finally{c(!1)}},x=async S=>{await a(S)},v=async S=>{await i(e,S)},E=(S=>{var C;const I=[];if(S.score>80?I.push({type:"High Priority Action",suggestion:"This lead has excellent potential. Schedule a personal call within 24 hours and prepare a customized presentation.",confidence:95,actions:["Schedule immediate call","Prepare custom presentation","Send calendar invite"]}):S.score>60?I.push({type:"Warm Lead Nurturing",suggestion:"Good engagement level. Send educational content about RV ownership and schedule a follow-up in 3-5 days.",confidence:85,actions:["Send RV buying guide","Share customer testimonials","Schedule follow-up"]}):I.push({type:"Lead Warming",suggestion:"Lower engagement detected. Enroll in nurture sequence and focus on value-driven content.",confidence:75,actions:["Enroll in email sequence","Send value content","Monitor engagement"]}),(C=S.customFields)!=null&&C.budget){const w=S.customFields.budget;I.push({type:"Budget-Matched Recommendations",suggestion:`Based on ${w} budget, focus on specific inventory that matches their price range and financing options.`,confidence:90,actions:["Send matching inventory","Discuss financing","Offer trade-in evaluation"]})}const k=Math.floor((Date.now()-new Date(S.createdAt).getTime())/(1e3*60*60*24));return k>7&&I.push({type:"Re-engagement Strategy",suggestion:`Lead is ${k} days old. Implement re-engagement tactics with special offers or new inventory alerts.`,confidence:80,actions:["Send special offer","Share new arrivals","Offer exclusive preview"]}),S.source.toLowerCase().includes("website")&&I.push({type:"Digital-First Approach",suggestion:"Lead came from website - they prefer digital communication. Use email and video messages before phone calls.",confidence:85,actions:["Send welcome email","Create video message","Share virtual tour"]}),I})(r);return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsxs("h3",{className:"text-lg font-semibold flex items-center",children:[t.jsx(ni,{className:"h-5 w-5 mr-2 text-purple-500"}),"AI Insights & Suggestions"]}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"AI-powered recommendations for lead engagement"})]}),t.jsxs(ne,{onClick:j,disabled:l,size:"sm",children:[t.jsx(ni,{className:"h-4 w-4 mr-2"}),l?"Analyzing...":"Generate Insights"]})]}),t.jsxs(Zr,{value:d,onValueChange:m,className:"space-y-4",children:[t.jsxs($r,{className:"grid w-full grid-cols-3",children:[t.jsxs(it,{value:"insights",className:"relative",children:["AI Insights",h.length>0&&t.jsx(Re,{className:"ml-2 h-5 w-5 rounded-full p-0 text-xs bg-red-500",children:h.length})]}),t.jsx(it,{value:"chatgpt",children:"ChatGPT Suggestions"}),t.jsx(it,{value:"automation",children:"Automation"})]}),t.jsx(ct,{value:"insights",className:"space-y-4",children:u.length===0?t.jsx(ue,{className:"shadow-sm",children:t.jsxs(me,{className:"flex flex-col items-center justify-center py-12",children:[t.jsx(ni,{className:"h-12 w-12 text-muted-foreground mb-4"}),t.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No AI Insights Yet"}),t.jsx("p",{className:"text-muted-foreground text-center mb-4",children:"Generate AI-powered insights to get personalized recommendations for this lead."}),t.jsxs(ne,{onClick:j,disabled:l,children:[t.jsx(ni,{className:"h-4 w-4 mr-2"}),"Generate First Insights"]})]})}):t.jsx("div",{className:"space-y-4",children:u.sort((S,I)=>new Date(I.generatedAt).getTime()-new Date(S.generatedAt).getTime()).map(S=>{const I=p(S.type);return t.jsxs(ue,{className:ze("shadow-sm border-0 bg-gradient-to-br",g(S.type),!S.isRead&&"ring-2 ring-blue-200"),children:[t.jsx(be,{children:t.jsxs("div",{className:"flex items-start justify-between",children:[t.jsxs("div",{className:"flex items-start space-x-3",children:[t.jsx(I,{className:"h-6 w-6 text-primary mt-1"}),t.jsxs("div",{children:[t.jsx(je,{className:"text-lg",children:S.title}),t.jsx(Ge,{className:"mt-1",children:S.description})]})]}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsxs(Re,{className:ze("ri-badge-status",b(S.confidence)),children:[S.confidence,"% confidence"]}),!S.isRead&&t.jsxs(ne,{variant:"outline",size:"sm",onClick:()=>x(S.id),children:[t.jsx(Fs,{className:"h-3 w-3 mr-1"}),"Mark Read"]})]})]})}),S.actionable&&S.suggestedActions&&t.jsx(me,{children:t.jsxs("div",{children:[t.jsx("h4",{className:"font-semibold text-sm mb-2",children:"Suggested Actions:"}),t.jsx("div",{className:"space-y-2",children:S.suggestedActions.map((k,C)=>t.jsxs("div",{className:"flex items-center justify-between p-2 bg-white/50 rounded-md",children:[t.jsx("span",{className:"text-sm",children:k}),t.jsx(ne,{variant:"outline",size:"sm",children:"Execute"})]},C))})]})})]},S.id)})})}),t.jsxs(ct,{value:"chatgpt",className:"space-y-4",children:[t.jsxs(ue,{className:"shadow-sm border-0 bg-gradient-to-br from-green-50 to-green-100/50",children:[t.jsx(be,{children:t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("div",{className:"w-8 h-8 bg-green-500 rounded-full flex items-center justify-center",children:t.jsx(ni,{className:"h-4 w-4 text-white"})}),t.jsxs("div",{children:[t.jsx(je,{className:"text-green-900",children:"ChatGPT Analysis"}),t.jsx(Ge,{className:"text-green-700",children:"AI-powered lead analysis and action recommendations"})]})]})}),t.jsx(me,{children:t.jsx("div",{className:"space-y-4",children:E.map((S,I)=>t.jsxs("div",{className:"bg-white/70 p-4 rounded-lg",children:[t.jsxs("div",{className:"flex items-start justify-between mb-2",children:[t.jsx("h4",{className:"font-semibold text-green-900",children:S.type}),t.jsxs(Re,{className:"bg-green-100 text-green-700 border-green-200",children:[S.confidence,"% confidence"]})]}),t.jsx("p",{className:"text-sm text-green-800 mb-3",children:S.suggestion}),t.jsxs("div",{className:"space-y-2",children:[t.jsx("h5",{className:"text-xs font-semibold text-green-900 uppercase tracking-wide",children:"Recommended Actions:"}),t.jsx("div",{className:"grid gap-2 md:grid-cols-3",children:S.actions.map((k,C)=>t.jsx(ne,{variant:"outline",size:"sm",className:"justify-start text-xs bg-white/50 hover:bg-white/80",children:k},C))})]})]},I))})})]}),t.jsxs(ue,{className:"shadow-sm",children:[t.jsx(be,{children:t.jsxs(je,{className:"flex items-center",children:[t.jsx(ys,{className:"h-5 w-5 mr-2 text-blue-500"}),"Lead Scoring Analysis"]})}),t.jsx(me,{children:t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"flex items-center justify-between p-3 bg-blue-50 rounded-lg",children:[t.jsxs("div",{children:[t.jsxs("h4",{className:"font-semibold text-blue-900",children:["Current Score: ",r.score]}),t.jsx("p",{className:"text-sm text-blue-700",children:r.score>=80?"Hot Lead - High Priority":r.score>=60?"Warm Lead - Good Potential":r.score>=40?"Cool Lead - Needs Nurturing":"Cold Lead - Long-term Nurturing"})]}),t.jsxs("div",{className:"text-right",children:[t.jsx("div",{className:"text-2xl font-bold text-blue-600",children:r.score}),t.jsx("div",{className:"text-xs text-blue-500",children:"/ 100"})]})]}),t.jsxs("div",{className:"grid gap-3 md:grid-cols-2",children:[t.jsxs("div",{className:"p-3 bg-green-50 rounded-lg",children:[t.jsx("h5",{className:"font-semibold text-green-900 mb-1",children:"Strengths"}),t.jsxs("ul",{className:"text-sm text-green-700 space-y-1",children:[((O=r.customFields)==null?void 0:O.budget)&&t.jsx("li",{children:" Budget information provided"}),((M=r.customFields)==null?void 0:M.timeframe)&&t.jsx("li",{children:" Clear purchase timeline"}),r.score>60&&t.jsx("li",{children:" Good engagement level"}),r.source==="Customer Referral"&&t.jsx("li",{children:" High-quality referral source"})]})]}),t.jsxs("div",{className:"p-3 bg-orange-50 rounded-lg",children:[t.jsx("h5",{className:"font-semibold text-orange-900 mb-1",children:"Improvement Areas"}),t.jsxs("ul",{className:"text-sm text-orange-700 space-y-1",children:[!((P=r.customFields)!=null&&P.budget)&&t.jsx("li",{children:" No budget information"}),r.score<60&&t.jsx("li",{children:" Low engagement level"}),!r.assignedTo&&t.jsx("li",{children:" No sales rep assigned"}),t.jsx("li",{children:" Limited activity history"})]})]})]})]})})]})]}),t.jsxs(ct,{value:"automation",className:"space-y-4",children:[t.jsxs(ue,{className:"shadow-sm",children:[t.jsxs(be,{children:[t.jsxs(je,{className:"flex items-center",children:[t.jsx(kn,{className:"h-5 w-5 mr-2 text-purple-500"}),"Nurture Sequences"]}),t.jsx(Ge,{children:"Enroll this lead in automated nurturing sequences"})]}),t.jsx(me,{children:t.jsx("div",{className:"space-y-4",children:o.filter(S=>S.isActive).map(S=>t.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg hover:bg-accent/50 transition-colors",children:[t.jsxs("div",{className:"flex-1",children:[t.jsx("h4",{className:"font-semibold",children:S.name}),t.jsx("p",{className:"text-sm text-muted-foreground",children:S.description}),t.jsxs("div",{className:"flex items-center space-x-2 mt-2",children:[t.jsxs(Re,{variant:"secondary",className:"text-xs",children:[S.steps.length," steps"]}),t.jsx(Re,{variant:"outline",className:"text-xs",children:S.targetAudience})]})]}),t.jsx(ne,{onClick:()=>v(S.id),size:"sm",children:"Enroll Lead"})]},S.id))})})]}),t.jsxs(ue,{className:"shadow-sm",children:[t.jsx(be,{children:t.jsxs(je,{className:"flex items-center",children:[t.jsx(cr,{className:"h-5 w-5 mr-2 text-orange-500"}),"Smart Timing Recommendations"]})}),t.jsx(me,{children:t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"p-3 bg-blue-50 rounded-lg",children:[t.jsx("h4",{className:"font-semibold text-blue-900",children:"Best Contact Times"}),t.jsx("p",{className:"text-sm text-blue-700",children:"Based on lead behavior: Tuesday-Thursday, 2-4 PM"})]}),t.jsxs("div",{className:"p-3 bg-green-50 rounded-lg",children:[t.jsx("h4",{className:"font-semibold text-green-900",children:"Email Timing"}),t.jsx("p",{className:"text-sm text-green-700",children:"Send emails Tuesday/Wednesday mornings for best open rates"})]}),t.jsxs("div",{className:"p-3 bg-purple-50 rounded-lg",children:[t.jsx("h4",{className:"font-semibold text-purple-900",children:"Follow-up Schedule"}),t.jsx("p",{className:"text-sm text-purple-700",children:"Next follow-up recommended in 2-3 days based on engagement"})]})]})})]})]})]})]})}function Q8({leadId:e,leadData:r}){const{emailTemplates:n,smsTemplates:s,communicationLogs:a,getCommunicationHistory:i}=NC(),[o,l]=A.useState("history"),[c,d]=A.useState(""),[m,u]=A.useState(""),[h,p]=A.useState(""),[g,b]=A.useState(""),[j,x]=A.useState(""),[v,y]=A.useState(!1),E=i(e),O=C=>{switch(C){case"sent":return t.jsx(Fo,{className:"h-3 w-3 text-blue-500"});case"delivered":return t.jsx(Fs,{className:"h-3 w-3 text-green-500"});case"opened":return t.jsx(_s,{className:"h-3 w-3 text-purple-500"});case"clicked":return t.jsx(Fs,{className:"h-3 w-3 text-green-600"});case"replied":return t.jsx(kn,{className:"h-3 w-3 text-blue-600"});case"failed":return t.jsx($u,{className:"h-3 w-3 text-red-500"});default:return t.jsx(cr,{className:"h-3 w-3 text-gray-500"})}},M=C=>{switch(C){case"sent":return"bg-blue-50 text-blue-700 border-blue-200";case"delivered":return"bg-green-50 text-green-700 border-green-200";case"opened":return"bg-purple-50 text-purple-700 border-purple-200";case"clicked":return"bg-green-50 text-green-700 border-green-200";case"replied":return"bg-blue-50 text-blue-700 border-blue-200";case"failed":return"bg-red-50 text-red-700 border-red-200";default:return"bg-gray-50 text-gray-700 border-gray-200"}},P=(C,w)=>{var L;return C.replace(/\{\{first_name\}\}/g,w.firstName).replace(/\{\{last_name\}\}/g,w.lastName).replace(/\{\{company_name\}\}/g,"Renter Insight RV").replace(/\{\{rep_name\}\}/g,"Your Sales Representative").replace(/\{\{rep_phone\}\}/g,"(555) 123-4567").replace(/\{\{website_url\}\}/g,"https://renterinsight.com").replace(/\{\{budget\}\}/g,((L=w.customFields)==null?void 0:L.budget)||"your budget")},S=async()=>{y(!0);try{let C=h,w=g;if(c){const L=n.find(T=>T.id===c);L&&(C=P(L.subject,r),w=P(L.body,r))}await new Promise(L=>setTimeout(L,2e3)),p(""),b(""),d(""),console.log("Email sent:",{subject:C,body:w,to:r.email})}finally{y(!1)}},I=async()=>{y(!0);try{let C=j;if(m){const w=s.find(L=>L.id===m);w&&(C=P(w.message,r))}await new Promise(w=>setTimeout(w,1500)),x(""),u(""),console.log("SMS sent:",{message:C,to:r.phone})}finally{y(!1)}},k=(C,w)=>{if(w==="email"){d(C);const L=n.find(T=>T.id===C);L&&(p(P(L.subject,r)),b(P(L.body,r)))}else{u(C);const L=s.find(T=>T.id===C);L&&x(P(L.message,r))}};return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{children:[t.jsxs("h3",{className:"text-lg font-semibold flex items-center",children:[t.jsx(kn,{className:"h-5 w-5 mr-2 text-blue-500"}),"Communication Center"]}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"Send emails, SMS, and track communication history"})]}),t.jsxs(Zr,{value:o,onValueChange:l,className:"space-y-4",children:[t.jsxs($r,{className:"grid w-full grid-cols-3",children:[t.jsx(it,{value:"history",children:"History"}),t.jsx(it,{value:"email",children:"Send Email"}),t.jsx(it,{value:"sms",children:"Send SMS"})]}),t.jsx(ct,{value:"history",className:"space-y-4",children:t.jsxs(ue,{className:"shadow-sm",children:[t.jsxs(be,{children:[t.jsxs(je,{className:"flex items-center",children:[t.jsx(cr,{className:"h-5 w-5 mr-2"}),"Communication History"]}),t.jsx(Ge,{children:"All email and SMS communications with this lead"})]}),t.jsx(me,{children:E.length===0?t.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[t.jsx(kn,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground/50"}),t.jsx("p",{children:"No communication history yet"}),t.jsx("p",{className:"text-sm",children:"Start by sending an email or SMS"})]}):t.jsx("div",{className:"space-y-4",children:E.map((C,w)=>t.jsxs("div",{className:"relative",children:[w<E.length-1&&t.jsx("div",{className:"absolute left-4 top-12 bottom-0 w-px bg-border"}),t.jsxs("div",{className:"flex items-start space-x-4",children:[t.jsx("div",{className:ze("flex-shrink-0 w-8 h-8 rounded-full border-2 bg-background flex items-center justify-center",C.type==="email"?"border-blue-200":"border-green-200"),children:C.type==="email"?t.jsx(_s,{className:"h-4 w-4 text-blue-500"}):t.jsx(kn,{className:"h-4 w-4 text-green-500"})}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsxs("span",{className:"font-medium text-sm capitalize",children:[C.type," ",C.direction]}),t.jsxs(Re,{className:ze("ri-badge-status text-xs",M(C.status)),children:[O(C.status),t.jsx("span",{className:"ml-1",children:C.status})]})]}),t.jsx("span",{className:"text-xs text-muted-foreground",children:gt(C.sentAt)})]}),C.subject&&t.jsx("p",{className:"font-medium text-sm mb-1",children:C.subject}),t.jsx("div",{className:"bg-muted/30 p-3 rounded-md",children:t.jsx("p",{className:"text-sm text-muted-foreground whitespace-pre-wrap",children:C.content})}),t.jsxs("div",{className:"flex items-center space-x-4 mt-2 text-xs text-muted-foreground",children:[t.jsxs("span",{children:["Sent: ",gt(C.sentAt)]}),C.deliveredAt&&t.jsxs("span",{children:["Delivered: ",gt(C.deliveredAt)]}),C.openedAt&&t.jsxs("span",{children:["Opened: ",gt(C.openedAt)]}),C.clickedAt&&t.jsxs("span",{children:["Clicked: ",gt(C.clickedAt)]})]})]})]})]},C.id))})})]})}),t.jsx(ct,{value:"email",className:"space-y-4",children:t.jsxs(ue,{className:"shadow-sm",children:[t.jsxs(be,{children:[t.jsxs(je,{className:"flex items-center",children:[t.jsx(_s,{className:"h-5 w-5 mr-2 text-blue-500"}),"Send Email"]}),t.jsx(Ge,{children:"Send personalized emails using templates or custom content"})]}),t.jsxs(me,{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"text-sm font-medium",children:"Email Template (Optional)"}),t.jsxs(tt,{value:c,onValueChange:C=>k(C,"email"),children:[t.jsx(Xe,{children:t.jsx(rt,{placeholder:"Choose a template or write custom email"})}),t.jsxs(Ze,{children:[t.jsx(se,{value:"",children:"Custom Email"}),n.filter(C=>C.isActive).map(C=>t.jsxs(se,{value:C.id,children:[C.name," (",C.type,")"]},C.id))]})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-sm font-medium",children:"To"}),t.jsx(Te,{value:r.email,disabled:!0,className:"bg-muted/50"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-sm font-medium",children:"Subject"}),t.jsx(Te,{value:h,onChange:C=>p(C.target.value),placeholder:"Enter email subject"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-sm font-medium",children:"Message"}),t.jsx(rr,{value:g,onChange:C=>b(C.target.value),placeholder:"Enter your email message",rows:8})]}),t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsxs("div",{className:"text-xs text-muted-foreground",children:["Available variables: ",{first_name},", ",{last_name},", ",{company_name},", ",{rep_name}]}),t.jsxs(ne,{onClick:S,disabled:v||!h||!g,children:[t.jsx(Fo,{className:"h-4 w-4 mr-2"}),v?"Sending...":"Send Email"]})]})]})]})}),t.jsx(ct,{value:"sms",className:"space-y-4",children:t.jsxs(ue,{className:"shadow-sm",children:[t.jsxs(be,{children:[t.jsxs(je,{className:"flex items-center",children:[t.jsx(kn,{className:"h-5 w-5 mr-2 text-green-500"}),"Send SMS"]}),t.jsx(Ge,{children:"Send text messages using templates or custom content"})]}),t.jsxs(me,{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"text-sm font-medium",children:"SMS Template (Optional)"}),t.jsxs(tt,{value:m,onValueChange:C=>k(C,"sms"),children:[t.jsx(Xe,{children:t.jsx(rt,{placeholder:"Choose a template or write custom SMS"})}),t.jsxs(Ze,{children:[t.jsx(se,{value:"",children:"Custom SMS"}),s.filter(C=>C.isActive).map(C=>t.jsxs(se,{value:C.id,children:[C.name," (",C.type,")"]},C.id))]})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-sm font-medium",children:"To"}),t.jsx(Te,{value:r.phone,disabled:!0,className:"bg-muted/50"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-sm font-medium",children:"Message"}),t.jsx(rr,{value:j,onChange:C=>x(C.target.value),placeholder:"Enter your SMS message",rows:4,maxLength:160}),t.jsxs("div",{className:"flex justify-between items-center mt-1",children:[t.jsxs("div",{className:"text-xs text-muted-foreground",children:[j.length,"/160 characters"]}),t.jsx("div",{className:ze("text-xs",j.length>160?"text-red-500":"text-muted-foreground"),children:j.length>160&&"Message too long"})]})]}),t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsxs("div",{className:"text-xs text-muted-foreground",children:["Available variables: ",{first_name},", ",{company_name},", ",{rep_name}]}),t.jsxs(ne,{onClick:I,disabled:v||!j||j.length>160,children:[t.jsx(Fo,{className:"h-4 w-4 mr-2"}),v?"Sending...":"Send SMS"]})]})]})]})})]})]})}var SC={exports:{}};/* @license
Papa Parse
v5.5.3
https://github.com/mholt/PapaParse
License: MIT
*/(function(e,r){((n,s)=>{e.exports=s()})(wh,function n(){var s=typeof self<"u"?self:typeof window<"u"?window:s!==void 0?s:{},a,i=!s.document&&!!s.postMessage,o=s.IS_PAPA_WORKER||!1,l={},c=0,d={};function m(S){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},(function(I){var k=O(I);k.chunkSize=parseInt(k.chunkSize),I.step||I.chunk||(k.chunkSize=null),this._handle=new b(k),(this._handle.streamer=this)._config=k}).call(this,S),this.parseChunk=function(I,k){var C=parseInt(this._config.skipFirstNLines)||0;if(this.isFirstChunk&&0<C){let L=this._config.newline;L||(w=this._config.quoteChar||'"',L=this._handle.guessLineEndings(I,w)),I=[...I.split(L).slice(C)].join(L)}this.isFirstChunk&&P(this._config.beforeFirstChunk)&&(w=this._config.beforeFirstChunk(I))!==void 0&&(I=w),this.isFirstChunk=!1,this._halted=!1;var C=this._partialLine+I,w=(this._partialLine="",this._handle.parse(C,this._baseIndex,!this._finished));if(!this._handle.paused()&&!this._handle.aborted()){if(I=w.meta.cursor,C=(this._finished||(this._partialLine=C.substring(I-this._baseIndex),this._baseIndex=I),w&&w.data&&(this._rowCount+=w.data.length),this._finished||this._config.preview&&this._rowCount>=this._config.preview),o)s.postMessage({results:w,workerId:d.WORKER_ID,finished:C});else if(P(this._config.chunk)&&!k){if(this._config.chunk(w,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);this._completeResults=w=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(w.data),this._completeResults.errors=this._completeResults.errors.concat(w.errors),this._completeResults.meta=w.meta),this._completed||!C||!P(this._config.complete)||w&&w.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),C||w&&w.meta.paused||this._nextChunk(),w}this._halted=!0},this._sendError=function(I){P(this._config.error)?this._config.error(I):o&&this._config.error&&s.postMessage({workerId:d.WORKER_ID,error:I,finished:!1})}}function u(S){var I;(S=S||{}).chunkSize||(S.chunkSize=d.RemoteChunkSize),m.call(this,S),this._nextChunk=i?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(k){this._input=k,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(I=new XMLHttpRequest,this._config.withCredentials&&(I.withCredentials=this._config.withCredentials),i||(I.onload=M(this._chunkLoaded,this),I.onerror=M(this._chunkError,this)),I.open(this._config.downloadRequestBody?"POST":"GET",this._input,!i),this._config.downloadRequestHeaders){var k,C=this._config.downloadRequestHeaders;for(k in C)I.setRequestHeader(k,C[k])}var w;this._config.chunkSize&&(w=this._start+this._config.chunkSize-1,I.setRequestHeader("Range","bytes="+this._start+"-"+w));try{I.send(this._config.downloadRequestBody)}catch(L){this._chunkError(L.message)}i&&I.status===0&&this._chunkError()}},this._chunkLoaded=function(){I.readyState===4&&(I.status<200||400<=I.status?this._chunkError():(this._start+=this._config.chunkSize||I.responseText.length,this._finished=!this._config.chunkSize||this._start>=(k=>(k=k.getResponseHeader("Content-Range"))!==null?parseInt(k.substring(k.lastIndexOf("/")+1)):-1)(I),this.parseChunk(I.responseText)))},this._chunkError=function(k){k=I.statusText||k,this._sendError(new Error(k))}}function h(S){(S=S||{}).chunkSize||(S.chunkSize=d.LocalChunkSize),m.call(this,S);var I,k,C=typeof FileReader<"u";this.stream=function(w){this._input=w,k=w.slice||w.webkitSlice||w.mozSlice,C?((I=new FileReader).onload=M(this._chunkLoaded,this),I.onerror=M(this._chunkError,this)):I=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var w=this._input,L=(this._config.chunkSize&&(L=Math.min(this._start+this._config.chunkSize,this._input.size),w=k.call(w,this._start,L)),I.readAsText(w,this._config.encoding));C||this._chunkLoaded({target:{result:L}})},this._chunkLoaded=function(w){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(w.target.result)},this._chunkError=function(){this._sendError(I.error)}}function p(S){var I;m.call(this,S=S||{}),this.stream=function(k){return I=k,this._nextChunk()},this._nextChunk=function(){var k,C;if(!this._finished)return k=this._config.chunkSize,I=k?(C=I.substring(0,k),I.substring(k)):(C=I,""),this._finished=!I,this.parseChunk(C)}}function g(S){m.call(this,S=S||{});var I=[],k=!0,C=!1;this.pause=function(){m.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){m.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(w){this._input=w,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){C&&I.length===1&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),I.length?this.parseChunk(I.shift()):k=!0},this._streamData=M(function(w){try{I.push(typeof w=="string"?w:w.toString(this._config.encoding)),k&&(k=!1,this._checkIsFinished(),this.parseChunk(I.shift()))}catch(L){this._streamError(L)}},this),this._streamError=M(function(w){this._streamCleanUp(),this._sendError(w)},this),this._streamEnd=M(function(){this._streamCleanUp(),C=!0,this._streamData("")},this),this._streamCleanUp=M(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function b(S){var I,k,C,w,L=Math.pow(2,53),T=-L,W=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,V=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,_=this,B=0,U=0,H=!1,q=!1,R=[],$={data:[],errors:[],meta:{}};function G(ce){return S.skipEmptyLines==="greedy"?ce.join("").trim()==="":ce.length===1&&ce[0].length===0}function X(){if($&&C&&(le("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+d.DefaultDelimiter+"'"),C=!1),S.skipEmptyLines&&($.data=$.data.filter(function(ye){return!G(ye)})),Z()){let ye=function(Ee,Fe){P(S.transformHeader)&&(Ee=S.transformHeader(Ee,Fe)),R.push(Ee)};if($)if(Array.isArray($.data[0])){for(var ce=0;Z()&&ce<$.data.length;ce++)$.data[ce].forEach(ye);$.data.splice(0,1)}else $.data.forEach(ye)}function de(ye,Ee){for(var Fe=S.header?{}:[],he=0;he<ye.length;he++){var ie=he,te=ye[he],te=((Ue,_e)=>(ke=>(S.dynamicTypingFunction&&S.dynamicTyping[ke]===void 0&&(S.dynamicTyping[ke]=S.dynamicTypingFunction(ke)),(S.dynamicTyping[ke]||S.dynamicTyping)===!0))(Ue)?_e==="true"||_e==="TRUE"||_e!=="false"&&_e!=="FALSE"&&((ke=>{if(W.test(ke)&&(ke=parseFloat(ke),T<ke&&ke<L))return 1})(_e)?parseFloat(_e):V.test(_e)?new Date(_e):_e===""?null:_e):_e)(ie=S.header?he>=R.length?"__parsed_extra":R[he]:ie,te=S.transform?S.transform(te,ie):te);ie==="__parsed_extra"?(Fe[ie]=Fe[ie]||[],Fe[ie].push(te)):Fe[ie]=te}return S.header&&(he>R.length?le("FieldMismatch","TooManyFields","Too many fields: expected "+R.length+" fields but parsed "+he,U+Ee):he<R.length&&le("FieldMismatch","TooFewFields","Too few fields: expected "+R.length+" fields but parsed "+he,U+Ee)),Fe}var Se;$&&(S.header||S.dynamicTyping||S.transform)&&(Se=1,!$.data.length||Array.isArray($.data[0])?($.data=$.data.map(de),Se=$.data.length):$.data=de($.data,0),S.header&&$.meta&&($.meta.fields=R),U+=Se)}function Z(){return S.header&&R.length===0}function le(ce,de,Se,ye){ce={type:ce,code:de,message:Se},ye!==void 0&&(ce.row=ye),$.errors.push(ce)}P(S.step)&&(w=S.step,S.step=function(ce){$=ce,Z()?X():(X(),$.data.length!==0&&(B+=ce.data.length,S.preview&&B>S.preview?k.abort():($.data=$.data[0],w($,_))))}),this.parse=function(ce,de,Se){var ye=S.quoteChar||'"',ye=(S.newline||(S.newline=this.guessLineEndings(ce,ye)),C=!1,S.delimiter?P(S.delimiter)&&(S.delimiter=S.delimiter(ce),$.meta.delimiter=S.delimiter):((ye=((Ee,Fe,he,ie,te)=>{var Ue,_e,ke,Ve;te=te||[",","	","|",";",d.RECORD_SEP,d.UNIT_SEP];for(var Je=0;Je<te.length;Je++){for(var Qe,xt=te[Je],De=0,We=0,st=0,mt=(ke=void 0,new x({comments:ie,delimiter:xt,newline:Fe,preview:10}).parse(Ee)),Nt=0;Nt<mt.data.length;Nt++)he&&G(mt.data[Nt])?st++:(Qe=mt.data[Nt].length,We+=Qe,ke===void 0?ke=Qe:0<Qe&&(De+=Math.abs(Qe-ke),ke=Qe));0<mt.data.length&&(We/=mt.data.length-st),(_e===void 0||De<=_e)&&(Ve===void 0||Ve<We)&&1.99<We&&(_e=De,Ue=xt,Ve=We)}return{successful:!!(S.delimiter=Ue),bestDelimiter:Ue}})(ce,S.newline,S.skipEmptyLines,S.comments,S.delimitersToGuess)).successful?S.delimiter=ye.bestDelimiter:(C=!0,S.delimiter=d.DefaultDelimiter),$.meta.delimiter=S.delimiter),O(S));return S.preview&&S.header&&ye.preview++,I=ce,k=new x(ye),$=k.parse(I,de,Se),X(),H?{meta:{paused:!0}}:$||{meta:{paused:!1}}},this.paused=function(){return H},this.pause=function(){H=!0,k.abort(),I=P(S.chunk)?"":I.substring(k.getCharIndex())},this.resume=function(){_.streamer._halted?(H=!1,_.streamer.parseChunk(I,!0)):setTimeout(_.resume,3)},this.aborted=function(){return q},this.abort=function(){q=!0,k.abort(),$.meta.aborted=!0,P(S.complete)&&S.complete($),I=""},this.guessLineEndings=function(Ee,ye){Ee=Ee.substring(0,1048576);var ye=new RegExp(j(ye)+"([^]*?)"+j(ye),"gm"),Se=(Ee=Ee.replace(ye,"")).split("\r"),ye=Ee.split(`
`),Ee=1<ye.length&&ye[0].length<Se[0].length;if(Se.length===1||Ee)return`
`;for(var Fe=0,he=0;he<Se.length;he++)Se[he][0]===`
`&&Fe++;return Fe>=Se.length/2?`\r
`:"\r"}}function j(S){return S.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function x(S){var I=(S=S||{}).delimiter,k=S.newline,C=S.comments,w=S.step,L=S.preview,T=S.fastMode,W=null,V=!1,_=S.quoteChar==null?'"':S.quoteChar,B=_;if(S.escapeChar!==void 0&&(B=S.escapeChar),(typeof I!="string"||-1<d.BAD_DELIMITERS.indexOf(I))&&(I=","),C===I)throw new Error("Comment character same as delimiter");C===!0?C="#":(typeof C!="string"||-1<d.BAD_DELIMITERS.indexOf(C))&&(C=!1),k!==`
`&&k!=="\r"&&k!==`\r
`&&(k=`
`);var U=0,H=!1;this.parse=function(q,R,$){if(typeof q!="string")throw new Error("Input must be a string");var G=q.length,X=I.length,Z=k.length,le=C.length,ce=P(w),de=[],Se=[],ye=[],Ee=U=0;if(!q)return De();if(T||T!==!1&&q.indexOf(_)===-1){for(var Fe=q.split(k),he=0;he<Fe.length;he++){if(ye=Fe[he],U+=ye.length,he!==Fe.length-1)U+=k.length;else if($)return De();if(!C||ye.substring(0,le)!==C){if(ce){if(de=[],Ve(ye.split(I)),We(),H)return De()}else Ve(ye.split(I));if(L&&L<=he)return de=de.slice(0,L),De(!0)}}return De()}for(var ie=q.indexOf(I,U),te=q.indexOf(k,U),Ue=new RegExp(j(B)+j(_),"g"),_e=q.indexOf(_,U);;)if(q[U]===_)for(_e=U,U++;;){if((_e=q.indexOf(_,_e+1))===-1)return $||Se.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:de.length,index:U}),Qe();if(_e===G-1)return Qe(q.substring(U,_e).replace(Ue,_));if(_===B&&q[_e+1]===B)_e++;else if(_===B||_e===0||q[_e-1]!==B){ie!==-1&&ie<_e+1&&(ie=q.indexOf(I,_e+1));var ke=Je((te=te!==-1&&te<_e+1?q.indexOf(k,_e+1):te)===-1?ie:Math.min(ie,te));if(q.substr(_e+1+ke,X)===I){ye.push(q.substring(U,_e).replace(Ue,_)),q[U=_e+1+ke+X]!==_&&(_e=q.indexOf(_,U)),ie=q.indexOf(I,U),te=q.indexOf(k,U);break}if(ke=Je(te),q.substring(_e+1+ke,_e+1+ke+Z)===k){if(ye.push(q.substring(U,_e).replace(Ue,_)),xt(_e+1+ke+Z),ie=q.indexOf(I,U),_e=q.indexOf(_,U),ce&&(We(),H))return De();if(L&&de.length>=L)return De(!0);break}Se.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:de.length,index:U}),_e++}}else if(C&&ye.length===0&&q.substring(U,U+le)===C){if(te===-1)return De();U=te+Z,te=q.indexOf(k,U),ie=q.indexOf(I,U)}else if(ie!==-1&&(ie<te||te===-1))ye.push(q.substring(U,ie)),U=ie+X,ie=q.indexOf(I,U);else{if(te===-1)break;if(ye.push(q.substring(U,te)),xt(te+Z),ce&&(We(),H))return De();if(L&&de.length>=L)return De(!0)}return Qe();function Ve(st){de.push(st),Ee=U}function Je(st){var mt=0;return mt=st!==-1&&(st=q.substring(_e+1,st))&&st.trim()===""?st.length:mt}function Qe(st){return $||(st===void 0&&(st=q.substring(U)),ye.push(st),U=G,Ve(ye),ce&&We()),De()}function xt(st){U=st,Ve(ye),ye=[],te=q.indexOf(k,U)}function De(st){if(S.header&&!R&&de.length&&!V){var mt=de[0],Nt=Object.create(null),yt=new Set(mt);let It=!1;for(let Ke=0;Ke<mt.length;Ke++){let Zt=mt[Ke];if(Nt[Zt=P(S.transformHeader)?S.transformHeader(Zt,Ke):Zt]){let Ot,an=Nt[Zt];for(;Ot=Zt+"_"+an,an++,yt.has(Ot););yt.add(Ot),mt[Ke]=Ot,Nt[Zt]++,It=!0,(W=W===null?{}:W)[Ot]=Zt}else Nt[Zt]=1,mt[Ke]=Zt;yt.add(Zt)}It&&console.warn("Duplicate headers found and renamed."),V=!0}return{data:de,errors:Se,meta:{delimiter:I,linebreak:k,aborted:H,truncated:!!st,cursor:Ee+(R||0),renamedHeaders:W}}}function We(){w(De()),de=[],Se=[]}},this.abort=function(){H=!0},this.getCharIndex=function(){return U}}function v(S){var I=S.data,k=l[I.workerId],C=!1;if(I.error)k.userError(I.error,I.file);else if(I.results&&I.results.data){var w={abort:function(){C=!0,y(I.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:E,resume:E};if(P(k.userStep)){for(var L=0;L<I.results.data.length&&(k.userStep({data:I.results.data[L],errors:I.results.errors,meta:I.results.meta},w),!C);L++);delete I.results}else P(k.userChunk)&&(k.userChunk(I.results,w,I.file),delete I.results)}I.finished&&!C&&y(I.workerId,I.results)}function y(S,I){var k=l[S];P(k.userComplete)&&k.userComplete(I),k.terminate(),delete l[S]}function E(){throw new Error("Not implemented.")}function O(S){if(typeof S!="object"||S===null)return S;var I,k=Array.isArray(S)?[]:{};for(I in S)k[I]=O(S[I]);return k}function M(S,I){return function(){S.apply(I,arguments)}}function P(S){return typeof S=="function"}return d.parse=function(S,I){var k=(I=I||{}).dynamicTyping||!1;if(P(k)&&(I.dynamicTypingFunction=k,k={}),I.dynamicTyping=k,I.transform=!!P(I.transform)&&I.transform,!I.worker||!d.WORKERS_SUPPORTED)return k=null,d.NODE_STREAM_INPUT,typeof S=="string"?(S=(C=>C.charCodeAt(0)!==65279?C:C.slice(1))(S),k=new(I.download?u:p)(I)):S.readable===!0&&P(S.read)&&P(S.on)?k=new g(I):(s.File&&S instanceof File||S instanceof Object)&&(k=new h(I)),k.stream(S);(k=(()=>{var C;return!!d.WORKERS_SUPPORTED&&(C=(()=>{var w=s.URL||s.webkitURL||null,L=n.toString();return d.BLOB_URL||(d.BLOB_URL=w.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",L,")();"],{type:"text/javascript"})))})(),(C=new s.Worker(C)).onmessage=v,C.id=c++,l[C.id]=C)})()).userStep=I.step,k.userChunk=I.chunk,k.userComplete=I.complete,k.userError=I.error,I.step=P(I.step),I.chunk=P(I.chunk),I.complete=P(I.complete),I.error=P(I.error),delete I.worker,k.postMessage({input:S,config:I,workerId:k.id})},d.unparse=function(S,I){var k=!1,C=!0,w=",",L=`\r
`,T='"',W=T+T,V=!1,_=null,B=!1,U=((()=>{if(typeof I=="object"){if(typeof I.delimiter!="string"||d.BAD_DELIMITERS.filter(function(R){return I.delimiter.indexOf(R)!==-1}).length||(w=I.delimiter),typeof I.quotes!="boolean"&&typeof I.quotes!="function"&&!Array.isArray(I.quotes)||(k=I.quotes),typeof I.skipEmptyLines!="boolean"&&typeof I.skipEmptyLines!="string"||(V=I.skipEmptyLines),typeof I.newline=="string"&&(L=I.newline),typeof I.quoteChar=="string"&&(T=I.quoteChar),typeof I.header=="boolean"&&(C=I.header),Array.isArray(I.columns)){if(I.columns.length===0)throw new Error("Option columns is empty");_=I.columns}I.escapeChar!==void 0&&(W=I.escapeChar+T),I.escapeFormulae instanceof RegExp?B=I.escapeFormulae:typeof I.escapeFormulae=="boolean"&&I.escapeFormulae&&(B=/^[=+\-@\t\r].*$/)}})(),new RegExp(j(T),"g"));if(typeof S=="string"&&(S=JSON.parse(S)),Array.isArray(S)){if(!S.length||Array.isArray(S[0]))return H(null,S,V);if(typeof S[0]=="object")return H(_||Object.keys(S[0]),S,V)}else if(typeof S=="object")return typeof S.data=="string"&&(S.data=JSON.parse(S.data)),Array.isArray(S.data)&&(S.fields||(S.fields=S.meta&&S.meta.fields||_),S.fields||(S.fields=Array.isArray(S.data[0])?S.fields:typeof S.data[0]=="object"?Object.keys(S.data[0]):[]),Array.isArray(S.data[0])||typeof S.data[0]=="object"||(S.data=[S.data])),H(S.fields||[],S.data||[],V);throw new Error("Unable to serialize unrecognized input");function H(R,$,G){var X="",Z=(typeof R=="string"&&(R=JSON.parse(R)),typeof $=="string"&&($=JSON.parse($)),Array.isArray(R)&&0<R.length),le=!Array.isArray($[0]);if(Z&&C){for(var ce=0;ce<R.length;ce++)0<ce&&(X+=w),X+=q(R[ce],ce);0<$.length&&(X+=L)}for(var de=0;de<$.length;de++){var Se=(Z?R:$[de]).length,ye=!1,Ee=Z?Object.keys($[de]).length===0:$[de].length===0;if(G&&!Z&&(ye=G==="greedy"?$[de].join("").trim()==="":$[de].length===1&&$[de][0].length===0),G==="greedy"&&Z){for(var Fe=[],he=0;he<Se;he++){var ie=le?R[he]:he;Fe.push($[de][ie])}ye=Fe.join("").trim()===""}if(!ye){for(var te=0;te<Se;te++){0<te&&!Ee&&(X+=w);var Ue=Z&&le?R[te]:te;X+=q($[de][Ue],te)}de<$.length-1&&(!G||0<Se&&!Ee)&&(X+=L)}}return X}function q(R,$){var G,X;return R==null?"":R.constructor===Date?JSON.stringify(R).slice(1,25):(X=!1,B&&typeof R=="string"&&B.test(R)&&(R="'"+R,X=!0),G=R.toString().replace(U,W),(X=X||k===!0||typeof k=="function"&&k(R,$)||Array.isArray(k)&&k[$]||((Z,le)=>{for(var ce=0;ce<le.length;ce++)if(-1<Z.indexOf(le[ce]))return!0;return!1})(G,d.BAD_DELIMITERS)||-1<G.indexOf(w)||G.charAt(0)===" "||G.charAt(G.length-1)===" ")?T+G+T:G)}},d.RECORD_SEP=String.fromCharCode(30),d.UNIT_SEP=String.fromCharCode(31),d.BYTE_ORDER_MARK="\uFEFF",d.BAD_DELIMITERS=["\r",`
`,'"',d.BYTE_ORDER_MARK],d.WORKERS_SUPPORTED=!i&&!!s.Worker,d.NODE_STREAM_INPUT=1,d.LocalChunkSize=10485760,d.RemoteChunkSize=5242880,d.DefaultDelimiter=",",d.Parser=x,d.ParserHandle=b,d.NetworkStreamer=u,d.FileStreamer=h,d.StringStreamer=p,d.ReadableStreamStreamer=g,s.jQuery&&((a=s.jQuery).fn.parse=function(S){var I=S.config||{},k=[];return this.each(function(L){if(!(a(this).prop("tagName").toUpperCase()==="INPUT"&&a(this).attr("type").toLowerCase()==="file"&&s.FileReader)||!this.files||this.files.length===0)return!0;for(var T=0;T<this.files.length;T++)k.push({file:this.files[T],inputElem:this,instanceConfig:a.extend({},I)})}),C(),this;function C(){if(k.length===0)P(S.complete)&&S.complete();else{var L,T,W,V,_=k[0];if(P(S.before)){var B=S.before(_.file,_.inputElem);if(typeof B=="object"){if(B.action==="abort")return L="AbortError",T=_.file,W=_.inputElem,V=B.reason,void(P(S.error)&&S.error({name:L},T,W,V));if(B.action==="skip")return void w();typeof B.config=="object"&&(_.instanceConfig=a.extend(_.instanceConfig,B.config))}else if(B==="skip")return void w()}var U=_.instanceConfig.complete;_.instanceConfig.complete=function(H){P(U)&&U(H,_.file,_.inputElem),w()},d.parse(_.file,_.instanceConfig)}}function w(){k.splice(0,1),C()}}),o&&(s.onmessage=function(S){S=S.data,d.WORKER_ID===void 0&&S&&(d.WORKER_ID=S.workerId),typeof S.input=="string"?s.postMessage({workerId:d.WORKER_ID,results:d.parse(S.input,S.config),finished:!0}):(s.File&&S.input instanceof File||S.input instanceof Object)&&(S=d.parse(S.input,S.config))&&s.postMessage({workerId:d.WORKER_ID,results:S,finished:!0})}),(u.prototype=Object.create(m.prototype)).constructor=u,(h.prototype=Object.create(m.prototype)).constructor=h,(p.prototype=Object.create(p.prototype)).constructor=p,(g.prototype=Object.create(m.prototype)).constructor=g,d})})(SC);var Y8=SC.exports;const Cf=Pm(Y8);function rl(){const[e,r]=A.useState([]),[n,s]=A.useState(!1);A.useEffect(()=>{a()},[]);const a=()=>{const p=vn("renter-insight-vehicles",[{id:"1",vin:"1FDXE4FS8KDC12345",make:"Forest River",model:"Georgetown",year:2024,type:ut.MOTORHOME,status:_t.AVAILABLE,price:125e3,cost:95e3,location:"Lot A-15",features:["Slide-out","Generator","Solar Panel"],images:["https://images.pexels.com/photos/1319515/pexels-photo-1319515.jpeg"],customFields:{},createdAt:new Date("2024-01-10"),updatedAt:new Date("2024-01-15")},{id:"2",vin:"1FDXE4FS8KDC67890",make:"Winnebago",model:"View",year:2023,type:ut.RV,status:_t.AVAILABLE,price:89e3,cost:72e3,location:"Lot B-08",features:["Compact Design","Fuel Efficient"],images:["https://images.pexels.com/photos/2506923/pexels-photo-2506923.jpeg"],customFields:{},createdAt:new Date("2024-01-08"),updatedAt:new Date("2024-01-12")},{id:"3",vin:"1FDXE4FS8KDC11111",make:"Jayco",model:"Eagle",year:2024,type:ut.FIFTH_WHEEL,status:_t.AVAILABLE,price:75e3,cost:58e3,location:"Lot C-12",features:["Bunk Beds","Outdoor Kitchen","Fireplace"],images:["https://images.pexels.com/photos/1319515/pexels-photo-1319515.jpeg"],customFields:{},createdAt:new Date("2024-01-05"),updatedAt:new Date("2024-01-10")},{id:"4",vin:"1FDXE4FS8KDC22222",make:"Airstream",model:"Flying Cloud",year:2024,type:ut.TRAVEL_TRAILER,status:_t.AVAILABLE,price:95e3,cost:78e3,location:"Lot D-05",features:["Aluminum Construction","Premium Interior","Smart Technology"],images:["https://images.pexels.com/photos/2506923/pexels-photo-2506923.jpeg"],customFields:{},createdAt:new Date("2024-01-03"),updatedAt:new Date("2024-01-08")},{id:"5",vin:"1FDXE4FS8KDC33333",make:"Grand Design",model:"Momentum",year:2023,type:ut.TOY_HAULER,status:_t.AVAILABLE,price:11e4,cost:88e3,location:"Lot E-18",features:["Garage Space","Fuel Station","Generator"],images:["https://images.pexels.com/photos/1319515/pexels-photo-1319515.jpeg"],customFields:{},createdAt:new Date("2024-01-01"),updatedAt:new Date("2024-01-05")},{id:"6",vin:"MH12345678901234",make:"Clayton Homes",model:"Inspiration",year:2024,type:ut.DOUBLE_WIDE,status:_t.AVAILABLE,price:125e3,cost:95e3,location:"MH Section A-10",features:["3 Bedroom","2 Bathroom","Open Floor Plan","Energy Efficient"],images:["https://images.pexels.com/photos/2506923/pexels-photo-2506923.jpeg"],customFields:{length:"76",width:"28",squareFootage:"2128",constructionType:"Manufactured",roofType:"Shingle",exteriorSiding:"Vinyl",insulationRating:"R-21"},createdAt:new Date("2024-01-15"),updatedAt:new Date("2024-01-15")}]);r(p)},i=p=>{Hr("renter-insight-vehicles",p)};return{vehicles:e,loading:n,getAvailableVehicles:()=>e.filter(p=>p.status===_t.AVAILABLE),getVehicleById:p=>e.find(g=>g.id===p),updateVehicleStatus:async(p,g)=>{const b=e.map(j=>j.id===p?{...j,status:g,updatedAt:new Date}:j);r(b),i(b)},createVehicle:async p=>{s(!0);try{const g={id:Math.random().toString(36).substr(2,9),vin:p.vin||"",make:p.make||"",model:p.model||"",year:p.year||new Date().getFullYear(),type:p.type||ut.RV,status:_t.AVAILABLE,price:p.price||0,cost:p.cost||0,location:p.location||"",features:p.features||[],images:p.images||[],customFields:p.customFields||{},createdAt:new Date,updatedAt:new Date},b=[...e,g];return r(b),i(b),g}finally{s(!1)}},deleteVehicle:async p=>{const g=e.filter(b=>b.id!==p);r(g),i(g)},importVehiclesFromCSV:async p=>new Promise((g,b)=>{Cf.parse(p,{header:!0,skipEmptyLines:!0,complete:j=>{const x=j.data.map(v=>({vin:v.vin||"",make:v.make||"",model:v.model||"",year:parseInt(v.year)||new Date().getFullYear(),type:v.type||ut.RV,status:v.status||_t.AVAILABLE,price:parseFloat(v.price)||0,cost:parseFloat(v.cost)||0,location:v.location||"",features:v.features?v.features.split(",").map(y=>y.trim()):[],images:[],customFields:{exteriorColor:v.exteriorColor||"",interiorColor:v.interiorColor||"",length:v.length||"",weight:v.weight||"",sleeps:v.sleeps||"",slideouts:v.slideouts||"",fuelType:v.fuelType||"",mileage:v.mileage||"",condition:v.condition||"New"}}));g(x)},error:j=>{b(j)}})}),exportVehiclesToCSV:()=>{const p=e.map(b=>{var j,x,v,y,E,O,M,P,S;return{id:b.id,vin:b.vin,make:b.make,model:b.model,year:b.year,type:b.type,status:b.status,price:b.price,cost:b.cost,location:b.location,features:b.features.join(", "),exteriorColor:((j=b.customFields)==null?void 0:j.exteriorColor)||"",interiorColor:((x=b.customFields)==null?void 0:x.interiorColor)||"",length:((v=b.customFields)==null?void 0:v.length)||"",weight:((y=b.customFields)==null?void 0:y.weight)||"",sleeps:((E=b.customFields)==null?void 0:E.sleeps)||"",slideouts:((O=b.customFields)==null?void 0:O.slideouts)||"",fuelType:((M=b.customFields)==null?void 0:M.fuelType)||"",mileage:((P=b.customFields)==null?void 0:P.mileage)||"",condition:((S=b.customFields)==null?void 0:S.condition)||""}});return Cf.unparse(p)}}}const ju=[{id:"1",name:"2024 Forest River Georgetown",description:"Class A Motorhome with premium features",price:125e3,category:"motorhome"},{id:"2",name:"Extended Warranty",description:"3-year comprehensive warranty coverage",price:2500,category:"warranty"},{id:"3",name:"Solar Panel Package",description:"400W solar panel system with inverter",price:3500,category:"accessory"},{id:"4",name:"Premium Package",description:"Includes extended warranty, solar panels, and premium interior",price:8e3,category:"bundle",isBundle:!0,bundleItems:[{productId:"2",quantity:1},{productId:"3",quantity:1},{productId:"5",quantity:1}]},{id:"5",name:"Premium Interior Upgrade",description:"Leather seating and premium finishes",price:2200,category:"upgrade"}],K8=[{id:"1",name:"Bulk Accessory Discount",type:"quantity_discount",conditions:{minQuantity:3},discount:{type:"percentage",value:10},isActive:!0},{id:"2",name:"Premium Bundle Discount",type:"bundle_discount",conditions:{productIds:["4"]},discount:{type:"fixed",value:500},isActive:!0}];function CC({quote:e,customerId:r,onSave:n,onCancel:s}){const{toast:a}=nr(),{getAvailableVehicles:i,getVehicleById:o}=rl(),[l,c]=A.useState(!1),[d,m]=A.useState("items"),[u,h]=A.useState({customerId:r,validUntil:new Date(Date.now()+30*24*60*60*1e3),notes:"",terms:"Payment due within 30 days. All sales final.",items:[],subtotal:0,totalDiscount:0,tax:0,taxRate:.08,total:0}),[p,g]=A.useState(""),[b,j]=A.useState(!1),[x,v]=A.useState(""),[y,E]=A.useState({description:"",quantity:1,unitPrice:0,discount:0,discountType:"percentage"}),O=i();A.useEffect(()=>{e&&h(_=>({..._,...e}))},[e]),A.useEffect(()=>{M()},[u.items,u.taxRate]);const M=()=>{const _=u.items.reduce((R,$)=>R+$.total,0),B=u.items.reduce((R,$)=>{const G=$.discountType==="percentage"?$.quantity*$.unitPrice*$.discount/100:$.discount*$.quantity;return R+G},0),U=_-B,H=U*u.taxRate,q=U+H;h(R=>({...R,subtotal:_,totalDiscount:B,tax:H,total:q}))},P=()=>{if(!y.description||!y.unitPrice){a({title:"Validation Error",description:"Description and unit price are required",variant:"destructive"});return}const _={id:Math.random().toString(36).substr(2,9),description:y.description,quantity:y.quantity||1,unitPrice:y.unitPrice||0,discount:y.discount||0,discountType:y.discountType||"percentage",total:k(y)};h(B=>({...B,items:[...B.items,_]})),E({description:"",quantity:1,unitPrice:0,discount:0,discountType:"percentage"}),g(""),j(!1)},S=_=>{const B=o(_);if(!B)return;const U={id:Math.random().toString(36).substr(2,9),productId:B.id,description:`${B.year} ${B.make} ${B.model}`,quantity:1,unitPrice:B.price,discount:0,discountType:"percentage",total:B.price};h(H=>({...H,items:[...H.items,U]})),v(""),a({title:"Vehicle Added",description:`${B.year} ${B.make} ${B.model} added to quote`})},I=_=>{const B=ju.find(U=>U.id===_);if(B){if(B.isBundle&&B.bundleItems){const U={id:Math.random().toString(36).substr(2,9),productId:B.id,description:B.description,quantity:1,unitPrice:B.price,discount:0,discountType:"percentage",total:B.price,isBundle:!0,bundleItems:B.bundleItems.map(H=>{const q=ju.find(R=>R.id===H.productId);return{id:Math.random().toString(36).substr(2,9),productId:H.productId,description:(q==null?void 0:q.name)||"",quantity:H.quantity,unitPrice:(q==null?void 0:q.price)||0,discount:0,discountType:"percentage",total:((q==null?void 0:q.price)||0)*H.quantity}})};h(H=>({...H,items:[...H.items,U]}))}else{const U={id:Math.random().toString(36).substr(2,9),productId:B.id,description:B.name,quantity:1,unitPrice:B.price,discount:0,discountType:"percentage",total:B.price};h(H=>({...H,items:[...H.items,U]}))}L()}},k=_=>{const B=_.quantity*_.unitPrice,U=_.discountType==="percentage"?B*(_.discount/100):_.discount*_.quantity;return B-U},C=(_,B)=>{h(U=>({...U,items:U.items.map(H=>{if(H.id===_){const q={...H,...B};return q.total=k(q),q}return H})}))},w=_=>{h(B=>({...B,items:B.items.filter(U=>U.id!==_)}))},L=()=>{const _=u.items.filter(U=>{var H;return((H=ju.find(q=>q.id===U.productId))==null?void 0:H.category)==="accessory"});_.length>=3&&_.forEach(U=>{C(U.id,{discount:10,discountType:"percentage"})}),u.items.filter(U=>U.isBundle).forEach(U=>{C(U.id,{discount:500,discountType:"fixed"})})},T=async()=>{c(!0);try{await new Promise(q=>setTimeout(q,2e3));const _=W(),B=new Blob([_],{type:"text/plain"}),U=URL.createObjectURL(B),H=document.createElement("a");H.href=U,H.download=`quote-${Date.now()}.txt`,document.body.appendChild(H),H.click(),document.body.removeChild(H),URL.revokeObjectURL(U),a({title:"PDF Generated",description:"Quote PDF has been downloaded successfully"})}catch{a({title:"Error",description:"Failed to generate PDF",variant:"destructive"})}finally{c(!1)}},W=()=>`
QUOTE DOCUMENT
==============

Customer ID: ${u.customerId}
Valid Until: ${u.validUntil.toLocaleDateString()}

LINE ITEMS:
-----------
${u.items.map(_=>{var B;return`
${_.description}
Quantity: ${_.quantity} x ${Ie(_.unitPrice)}
${_.discount>0?`Discount: ${_.discount}${_.discountType==="percentage"?"%":" fixed"}`:""}
Total: ${Ie(_.total)}
${_.isBundle?`
  Bundle Items:
  ${((B=_.bundleItems)==null?void 0:B.map(U=>`  - ${U.description} (${U.quantity}x)`).join(`
  `))||""}
`:""}
`}).join(`
`)}

TOTALS:
-------
Subtotal: ${Ie(u.subtotal)}
Total Discount: ${Ie(u.totalDiscount)}
Tax (${(u.taxRate*100).toFixed(1)}%): ${Ie(u.tax)}
TOTAL: ${Ie(u.total)}

Notes: ${u.notes}
Terms: ${u.terms}
    `,V=async()=>{if(u.items.length===0){a({title:"Validation Error",description:"At least one line item is required",variant:"destructive"});return}c(!0);try{const _={...u,customerId:u.customerId||r};await n(_),a({title:"Success",description:"Quote saved successfully"})}catch{a({title:"Error",description:"Failed to save quote",variant:"destructive"})}finally{c(!1)}};return t.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:t.jsxs(ue,{className:"w-full max-w-6xl max-h-[90vh] overflow-y-auto mx-2 sm:mx-4",children:[t.jsx(be,{children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"space-y-6",children:[t.jsxs(je,{className:"text-xl flex items-center",children:[t.jsx(Gn,{className:"h-5 w-5 mr-2 text-blue-500"}),e?"Edit Quote":"Create Quote"]}),t.jsx(Ge,{children:"Build a detailed quote with line items, pricing rules, and bundled products"})]}),t.jsx(ne,{variant:"ghost",size:"sm",onClick:s,children:t.jsx(qt,{className:"h-4 w-4"})})]})}),t.jsxs(me,{children:[t.jsxs(Zr,{value:d,onValueChange:m,className:"space-y-6",children:[t.jsxs($r,{className:"grid w-full grid-cols-4",children:[t.jsx(it,{value:"items",className:"text-xs sm:text-sm",children:"Line Items"}),t.jsx(it,{value:"products",className:"text-xs sm:text-sm",children:"Products"}),t.jsx(it,{value:"pricing",className:"text-xs sm:text-sm",children:"Pricing Rules"}),t.jsx(it,{value:"details",className:"text-xs sm:text-sm",children:"Quote Details"})]}),t.jsxs(ct,{value:"items",className:"space-y-6",children:[t.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-2",children:[t.jsx("h3",{className:"text-lg font-semibold",children:"Quote Line Items"}),t.jsxs("div",{className:"flex flex-col sm:flex-row space-y-2 sm:space-y-0 sm:space-x-2 w-full sm:w-auto",children:[t.jsxs(tt,{value:x,onValueChange:v,children:[t.jsx(Xe,{className:"w-full sm:w-64",children:t.jsx(rt,{placeholder:"Add vehicle from inventory"})}),t.jsx(Ze,{children:O.map(_=>t.jsxs(se,{value:_.id,children:[_.year," ",_.make," ",_.model," - ",Ie(_.price)]},_.id))})]}),x&&t.jsxs(ne,{onClick:()=>S(x),size:"sm",className:"w-full sm:w-auto",children:[t.jsx(Et,{className:"h-4 w-4 mr-2"}),"Add Vehicle"]}),t.jsxs(ne,{onClick:()=>j(!0),size:"sm",variant:"outline",className:"w-full sm:w-auto",children:[t.jsx(Et,{className:"h-4 w-4 mr-2"}),"Custom Item"]})]})]}),b&&t.jsx(ue,{className:"border-dashed",children:t.jsxs(me,{className:"pt-6",children:[t.jsxs("div",{className:"grid gap-4 grid-cols-1 md:grid-cols-2",children:[t.jsxs("div",{children:[t.jsx(ve,{children:"Description"}),t.jsx(Te,{value:y.description||"",onChange:_=>E(B=>({...B,description:_.target.value})),placeholder:"Item description"})]}),t.jsxs("div",{children:[t.jsx(ve,{children:"Unit Price"}),t.jsx(Te,{type:"number",value:y.unitPrice||"",onChange:_=>E(B=>({...B,unitPrice:parseFloat(_.target.value)||0})),placeholder:"0.00"})]}),t.jsxs("div",{children:[t.jsx(ve,{children:"Quantity"}),t.jsx(Te,{type:"number",value:y.quantity||1,onChange:_=>E(B=>({...B,quantity:parseInt(_.target.value)||1})),min:"1"})]}),t.jsxs("div",{children:[t.jsx(ve,{children:"Discount"}),t.jsxs("div",{className:"flex flex-col sm:flex-row space-y-2 sm:space-y-0 sm:space-x-2",children:[t.jsx(Te,{type:"number",value:y.discount||0,onChange:_=>E(B=>({...B,discount:parseFloat(_.target.value)||0})),placeholder:"0"}),t.jsxs(tt,{value:y.discountType,onValueChange:_=>E(B=>({...B,discountType:_})),children:[t.jsx(Xe,{className:"w-32",children:t.jsx(rt,{})}),t.jsxs(Ze,{children:[t.jsx(se,{value:"percentage",children:"%"}),t.jsx(se,{value:"fixed",children:"$"})]})]})]})]})]}),t.jsxs("div",{className:"flex flex-col sm:flex-row justify-end space-y-2 sm:space-y-0 sm:space-x-2 mt-4",children:[t.jsx(ne,{variant:"outline",onClick:()=>j(!1),children:"Cancel"}),t.jsx(ne,{onClick:P,children:"Add Item"})]})]})}),t.jsxs("div",{className:"space-y-4",children:[u.items.map((_,B)=>t.jsx(ue,{className:"shadow-sm",children:t.jsxs(me,{className:"pt-6",children:[t.jsxs("div",{className:"flex flex-col md:flex-row items-start justify-between gap-4",children:[t.jsxs("div",{className:"flex-1 grid gap-4 grid-cols-1 sm:grid-cols-2 md:grid-cols-4",children:[t.jsxs("div",{children:[t.jsx(ve,{children:"Description"}),t.jsx(Te,{value:_.description,onChange:U=>C(_.id,{description:U.target.value})}),_.isBundle&&t.jsxs(Re,{className:"mt-1 bg-purple-50 text-purple-700 border-purple-200",children:[t.jsx(Qn,{className:"h-3 w-3 mr-1"}),"Bundle"]})]}),t.jsxs("div",{children:[t.jsx(ve,{children:"Quantity"}),t.jsx(Te,{type:"number",value:_.quantity,onChange:U=>C(_.id,{quantity:parseInt(U.target.value)||1}),min:"1"})]}),t.jsxs("div",{children:[t.jsx(ve,{children:"Unit Price"}),t.jsx(Te,{type:"number",value:_.unitPrice,onChange:U=>C(_.id,{unitPrice:parseFloat(U.target.value)||0}),step:"0.01"})]}),t.jsxs("div",{children:[t.jsx(ve,{children:"Discount"}),t.jsxs("div",{className:"flex flex-col sm:flex-row space-y-2 sm:space-y-0 sm:space-x-2",children:[t.jsx(Te,{type:"number",value:_.discount,onChange:U=>C(_.id,{discount:parseFloat(U.target.value)||0}),step:"0.01"}),t.jsxs(tt,{value:_.discountType,onValueChange:U=>C(_.id,{discountType:U}),children:[t.jsx(Xe,{className:"w-16",children:t.jsx(rt,{})}),t.jsxs(Ze,{children:[t.jsx(se,{value:"percentage",children:"%"}),t.jsx(se,{value:"fixed",children:"$"})]})]})]})]})]}),t.jsxs("div",{className:"flex items-center space-x-3 w-full md:w-auto md:ml-4",children:[t.jsxs("div",{className:"text-right",children:[t.jsx("div",{className:"text-sm text-muted-foreground",children:"Total"}),t.jsx("div",{className:"font-bold text-lg",children:Ie(_.total)})]}),t.jsx(ne,{variant:"outline",size:"sm",onClick:()=>w(_.id),children:t.jsx(bs,{className:"h-4 w-4"})})]})]}),_.isBundle&&_.bundleItems&&t.jsxs("div",{className:"mt-4 pl-2 sm:pl-4 border-l-2 border-purple-200",children:[t.jsx("h4",{className:"text-sm font-semibold text-purple-700 mb-2",children:"Bundle Contents:"}),t.jsx("div",{className:"space-y-2",children:_.bundleItems.map(U=>t.jsxs("div",{className:"flex items-center justify-between text-sm bg-purple-50 p-2 rounded",children:[t.jsx("span",{children:U.description}),t.jsxs("span",{children:[U.quantity,"x ",Ie(U.unitPrice)]})]},U.id))})]})]})},_.id)),u.items.length===0&&t.jsxs("div",{className:"text-center py-12 text-muted-foreground border-2 border-dashed rounded-lg",children:[t.jsx(Gn,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground/50"}),t.jsx("p",{children:"No line items added yet"}),t.jsx("p",{className:"text-sm",children:"Add products or custom items to build your quote"})]})]}),u.items.length>0&&t.jsx(ue,{className:"bg-muted/30",children:t.jsx(me,{className:"pt-6",children:t.jsxs("div",{className:"space-y-2",children:[t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{children:"Subtotal:"}),t.jsx("span",{children:Ie(u.subtotal)})]}),t.jsxs("div",{className:"flex justify-between text-red-600",children:[t.jsx("span",{children:"Total Discount:"}),t.jsxs("span",{children:["-",Ie(u.totalDiscount)]})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsxs("span",{children:["Tax (",(u.taxRate*100).toFixed(1),"%):"]}),t.jsx("span",{children:Ie(u.tax)})]}),t.jsxs("div",{className:"flex justify-between text-lg font-bold border-t pt-2",children:[t.jsx("span",{children:"Total:"}),t.jsx("span",{children:Ie(u.total)})]})]})})})]}),t.jsx(ct,{value:"products",className:"space-y-6",children:t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Available Inventory & Products"}),t.jsxs("div",{className:"mb-8",children:[t.jsx("h4",{className:"text-md font-semibold mb-3 text-blue-600",children:"Available Vehicles"}),t.jsx("div",{className:"grid gap-4 md:grid-cols-2",children:O.map(_=>t.jsx(ue,{className:"shadow-sm hover:shadow-md transition-shadow cursor-pointer",children:t.jsx(me,{className:"pt-6",children:t.jsxs("div",{className:"flex items-start justify-between",children:[t.jsxs("div",{className:"flex-1",children:[t.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[t.jsxs("h4",{className:"font-semibold",children:[_.year," ",_.make," ",_.model]}),t.jsx(Re,{className:"bg-blue-50 text-blue-700 border-blue-200",children:_.type.replace("_"," ").toUpperCase()})]}),t.jsxs("p",{className:"text-sm text-muted-foreground mb-2",children:["VIN: ",_.vin]}),t.jsxs("p",{className:"text-sm text-muted-foreground mb-2",children:["Location: ",_.location]}),t.jsx("div",{className:"text-lg font-bold text-primary",children:Ie(_.price)}),_.features.length>0&&t.jsx("div",{className:"mt-3",children:t.jsxs("div",{className:"flex flex-wrap gap-1",children:[_.features.slice(0,3).map((B,U)=>t.jsx(Re,{variant:"outline",className:"text-xs",children:B},U)),_.features.length>3&&t.jsxs(Re,{variant:"outline",className:"text-xs",children:["+",_.features.length-3," more"]})]})})]}),t.jsxs(ne,{onClick:()=>S(_.id),size:"sm",className:"ml-4",children:[t.jsx(Et,{className:"h-4 w-4 mr-1"}),"Add"]})]})})},_.id))})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsx("h4",{className:"text-md font-semibold mb-3 text-green-600",children:"Available Products & Services"}),t.jsx("div",{className:"grid gap-4 grid-cols-1 md:grid-cols-2",children:ju.map(_=>t.jsx(ue,{className:"shadow-sm hover:shadow-md transition-shadow cursor-pointer",children:t.jsx(me,{className:"pt-6",children:t.jsxs("div",{className:"flex flex-col sm:flex-row items-start justify-between gap-4",children:[t.jsxs("div",{className:"flex-1",children:[t.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[t.jsx("h4",{className:"font-semibold",children:_.name}),_.isBundle&&t.jsxs(Re,{className:"bg-purple-50 text-purple-700 border-purple-200",children:[t.jsx(Qn,{className:"h-3 w-3 mr-1"}),"Bundle"]})]}),t.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:_.description}),t.jsx("div",{className:"text-lg font-bold text-primary",children:Ie(_.price)}),_.isBundle&&_.bundleItems&&t.jsxs("div",{className:"mt-3 p-2 bg-purple-50 rounded",children:[t.jsx("div",{className:"text-xs font-semibold text-purple-700 mb-1",children:"Includes:"}),_.bundleItems.map(B=>{const U=ju.find(H=>H.id===B.productId);return t.jsxs("div",{className:"text-xs text-purple-600",children:[" ",U==null?void 0:U.name," (",B.quantity,"x)"]},B.productId)})]})]}),t.jsxs(ne,{onClick:()=>I(_.id),size:"sm",className:"w-full sm:w-auto",children:[t.jsx(Et,{className:"h-4 w-4 mr-1"}),"Add"]})]})})},_.id))})]})]})}),t.jsx(ct,{value:"pricing",className:"space-y-6",children:t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Active Pricing Rules"}),t.jsx("div",{className:"space-y-4",children:K8.filter(_=>_.isActive).map(_=>t.jsx(ue,{className:"shadow-sm",children:t.jsx(me,{className:"pt-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("h4",{className:"font-semibold",children:_.name}),t.jsxs("p",{className:"text-sm text-muted-foreground",children:[_.type==="quantity_discount"&&`Min quantity: ${_.conditions.minQuantity}`,_.type==="bundle_discount"&&"Applied to bundle products",_.type==="customer_discount"&&`Customer type: ${_.conditions.customerType}`]}),t.jsx("div",{className:"flex items-center space-x-2 mt-2",children:t.jsxs(Re,{className:"bg-green-50 text-green-700 border-green-200",children:[t.jsx(Mk,{className:"h-3 w-3 mr-1"}),_.discount.type==="percentage"?`${_.discount.value}%`:Ie(_.discount.value)," off"]})})]}),t.jsxs(ne,{variant:"outline",size:"sm",onClick:()=>L(),children:[t.jsx(md,{className:"h-4 w-4 mr-1"}),"Apply"]})]})})},_.id))})]})}),t.jsxs(ct,{value:"details",className:"space-y-6",children:[t.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[t.jsxs("div",{children:[t.jsx(ve,{htmlFor:"validUntil",children:"Valid Until"}),t.jsx(Te,{id:"validUntil",type:"date",value:u.validUntil.toISOString().split("T")[0],onChange:_=>h(B=>({...B,validUntil:new Date(_.target.value)}))})]}),t.jsxs("div",{children:[t.jsx(ve,{htmlFor:"taxRate",children:"Tax Rate (%)"}),t.jsx(Te,{id:"taxRate",type:"number",value:(u.taxRate*100).toFixed(2),onChange:_=>h(B=>({...B,taxRate:parseFloat(_.target.value)/100||0})),step:"0.01",min:"0",max:"100"})]})]}),t.jsxs("div",{children:[t.jsx(ve,{htmlFor:"notes",children:"Notes"}),t.jsx(rr,{id:"notes",value:u.notes,onChange:_=>h(B=>({...B,notes:_.target.value})),placeholder:"Additional notes for the customer...",rows:3})]}),t.jsxs("div",{children:[t.jsx(ve,{htmlFor:"terms",children:"Terms & Conditions"}),t.jsx(rr,{id:"terms",value:u.terms,onChange:_=>h(B=>({...B,terms:_.target.value})),placeholder:"Terms and conditions...",rows:4})]})]})]}),t.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center pt-6 border-t gap-4",children:[t.jsx("div",{className:"flex flex-col sm:flex-row space-y-2 sm:space-y-0 sm:space-x-2 w-full sm:w-auto",children:t.jsxs(ne,{variant:"outline",onClick:T,disabled:l||u.items.length===0,className:"w-full sm:w-auto",children:[t.jsx(Wo,{className:"h-4 w-4 mr-2"}),l?"Generating...":"Export PDF"]})}),t.jsxs("div",{className:"flex flex-col sm:flex-row space-y-2 sm:space-y-0 sm:space-x-3 w-full sm:w-auto",children:[t.jsx(ne,{variant:"outline",onClick:s,disabled:l,className:"w-full sm:w-auto",children:"Cancel"}),t.jsx(ne,{onClick:V,disabled:l,className:"w-full sm:w-auto",children:l?t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Saving..."]}):t.jsxs(t.Fragment,{children:[t.jsx(js,{className:"h-4 w-4 mr-2"}),"Save Quote"]})})]})]})]})]})})}function J8(){const[e,r]=A.useState([]),[n,s]=A.useState([]),[a,i]=A.useState([]),[o,l]=A.useState(!1);A.useEffect(()=>{c()},[]);const c=()=>{const M=vn("renter-insight-quotes",[]);r(M);const P=[{id:"1",name:"2024 Forest River Georgetown",description:"Class A Motorhome with premium features",price:125e3,category:"motorhome"},{id:"2",name:"Extended Warranty",description:"3-year comprehensive warranty coverage",price:2500,category:"warranty"},{id:"3",name:"Solar Panel Package",description:"400W solar panel system with inverter",price:3500,category:"accessory"},{id:"4",name:"Premium Package",description:"Includes extended warranty, solar panels, and premium interior",price:8e3,category:"bundle",isBundle:!0,bundleItems:[{productId:"2",quantity:1},{productId:"3",quantity:1},{productId:"5",quantity:1}]},{id:"5",name:"Premium Interior Upgrade",description:"Leather seating and premium finishes",price:2200,category:"upgrade"},{id:"6",name:"Backup Camera System",description:"Wireless backup camera with monitor",price:450,category:"accessory"},{id:"7",name:"Awning Package",description:"Electric awning with LED lighting",price:1200,category:"accessory"}],S=[{id:"1",name:"Bulk Accessory Discount",type:"quantity_discount",conditions:{minQuantity:3},discount:{type:"percentage",value:10},isActive:!0},{id:"2",name:"Premium Bundle Discount",type:"bundle_discount",conditions:{productIds:["4"]},discount:{type:"fixed",value:500},isActive:!0},{id:"3",name:"First-Time Buyer Discount",type:"customer_discount",conditions:{customerType:"first_time"},discount:{type:"percentage",value:5},isActive:!0}];s(P),i(S)},d=M=>{Hr("renter-insight-quotes",M)},m=async M=>{l(!0);try{const P={id:Math.random().toString(36).substr(2,9),customerId:M.customerId||"",items:M.items||[],subtotal:M.subtotal||0,totalDiscount:M.totalDiscount||0,tax:M.tax||0,taxRate:M.taxRate||.08,total:M.total||0,status:"draft",validUntil:M.validUntil||new Date(Date.now()+2592e6),notes:M.notes||"",terms:M.terms||"",createdAt:new Date,updatedAt:new Date},S=[...e,P];return r(S),d(S),P}finally{l(!1)}},u=async(M,P)=>{l(!0);try{const S=e.map(I=>I.id===M?{...I,...P,updatedAt:new Date}:I);return r(S),d(S),S.find(I=>I.id===M)}finally{l(!1)}};return{quotes:e,products:n,pricingRules:a,loading:o,createQuote:m,updateQuote:u,deleteQuote:async M=>{const P=e.filter(S=>S.id!==M);r(P),d(P)},duplicateQuote:async M=>{const P=e.find(k=>k.id===M);if(!P)return;const S={...P,id:Math.random().toString(36).substr(2,9),status:"draft",createdAt:new Date,updatedAt:new Date},I=[...e,S];return r(I),d(I),S},sendQuote:async M=>u(M,{status:"sent"}),acceptQuote:async M=>u(M,{status:"accepted"}),rejectQuote:async M=>u(M,{status:"rejected"}),calculateQuoteTotals:(M,P=.08)=>{const S=M.reduce((L,T)=>L+T.total,0),I=M.reduce((L,T)=>{const W=T.discountType==="percentage"?T.quantity*T.unitPrice*T.discount/100:T.discount*T.quantity;return L+W},0),k=S-I,C=k*P,w=k+C;return{subtotal:S,totalDiscount:I,tax:C,total:w}},applyPricingRules:(M,P)=>{let S=[...M];return a.forEach(I=>{if(I.isActive)switch(I.type){case"quantity_discount":if(I.conditions.minQuantity){const k=S.filter(C=>{var w;return((w=n.find(L=>L.id===C.productId))==null?void 0:w.category)==="accessory"});k.length>=I.conditions.minQuantity&&(S=S.map(C=>k.includes(C)?{...C,discount:I.discount.value,discountType:I.discount.type}:C))}break;case"bundle_discount":I.conditions.productIds&&(S=S.map(k=>{var C;return k.isBundle&&((C=I.conditions.productIds)!=null&&C.includes(k.productId||""))?{...k,discount:I.discount.value,discountType:I.discount.type}:k}));break}}),S},getQuotesByCustomer:M=>e.filter(P=>P.customerId===M),getQuotesByStatus:M=>e.filter(P=>P.status===M),getExpiredQuotes:()=>{const M=new Date;return e.filter(P=>new Date(P.validUntil)<M&&P.status!=="accepted")}}}function X8({quote:e,onClose:r,onEdit:n}){const s=a=>{switch(a){case"draft":return"bg-gray-50 text-gray-700 border-gray-200";case"sent":return"bg-blue-50 text-blue-700 border-blue-200";case"viewed":return"bg-yellow-50 text-yellow-700 border-yellow-200";case"accepted":return"bg-green-50 text-green-700 border-green-200";case"rejected":return"bg-red-50 text-red-700 border-red-200";case"expired":return"bg-orange-50 text-orange-700 border-orange-200";default:return"bg-gray-50 text-gray-700 border-gray-200"}};return t.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:t.jsxs(ue,{className:"w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[t.jsx(be,{children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsxs(je,{className:"text-xl",children:["Quote #",e.id]}),t.jsx(Ge,{children:"Quote details and line items"})]}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsxs(ne,{onClick:()=>n(e),size:"sm",children:[t.jsx(Xr,{className:"h-4 w-4 mr-2"}),"Edit Quote"]}),t.jsx(ne,{variant:"ghost",size:"sm",onClick:r,children:t.jsx(qt,{className:"h-4 w-4"})})]})]})}),t.jsxs(me,{className:"space-y-6",children:[t.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[t.jsxs("div",{children:[t.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Customer ID"}),t.jsx("p",{className:"font-medium",children:e.customerId})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Status"}),t.jsx("div",{className:"mt-1",children:t.jsx(Re,{className:ze("ri-badge-status",s(e.status)),children:e.status.toUpperCase()})})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Created Date"}),t.jsx("p",{className:"font-medium",children:gt(e.createdAt)})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Valid Until"}),t.jsx("p",{className:"font-medium",children:gt(e.validUntil)})]})]}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Line Items"}),t.jsx("div",{className:"space-y-3",children:e.items.map((a,i)=>t.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[t.jsxs("div",{className:"flex-1",children:[t.jsx("h4",{className:"font-medium",children:a.description}),t.jsxs("p",{className:"text-sm text-muted-foreground",children:["Quantity: ",a.quantity,"  ",Ie(a.unitPrice)]}),a.isBundle&&t.jsx(Re,{className:"mt-1 bg-purple-50 text-purple-700 border-purple-200",children:"Bundle"})]}),t.jsxs("div",{className:"text-right",children:[t.jsx("div",{className:"font-bold text-lg",children:Ie(a.total)}),a.discount>0&&t.jsxs("div",{className:"text-sm text-green-600",children:["-",a.discountType==="percentage"?`${a.discount}%`:Ie(a.discount)," discount"]})]})]},a.id))})]}),t.jsx("div",{className:"bg-muted/30 p-4 rounded-lg",children:t.jsxs("div",{className:"space-y-2",children:[t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{children:"Subtotal:"}),t.jsx("span",{children:Ie(e.subtotal)})]}),e.totalDiscount>0&&t.jsxs("div",{className:"flex justify-between text-green-600",children:[t.jsx("span",{children:"Total Discount:"}),t.jsxs("span",{children:["-",Ie(e.totalDiscount)]})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{children:"Tax:"}),t.jsx("span",{children:Ie(e.tax)})]}),t.jsxs("div",{className:"flex justify-between text-lg font-bold border-t pt-2",children:[t.jsx("span",{children:"Total:"}),t.jsx("span",{children:Ie(e.total)})]})]})}),e.notes&&t.jsxs("div",{children:[t.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Notes"}),t.jsx("div",{className:"mt-1 p-3 bg-muted/30 rounded-md",children:t.jsx("p",{className:"text-sm",children:e.notes})})]}),e.terms&&t.jsxs("div",{children:[t.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Terms & Conditions"}),t.jsx("div",{className:"mt-1 p-3 bg-muted/30 rounded-md",children:t.jsx("p",{className:"text-sm whitespace-pre-wrap",children:e.terms})})]})]})]})})}function Z8(){const{quotes:e,loading:r,createQuote:n,updateQuote:s,deleteQuote:a,duplicateQuote:i,sendQuote:o,acceptQuote:l,rejectQuote:c}=J8(),{toast:d}=nr(),[m,u]=A.useState(""),[h,p]=A.useState("all"),[g,b]=A.useState(!1),[j,x]=A.useState(null),[v,y]=A.useState(null),[E,O]=A.useState(""),M=_=>{switch(_){case"draft":return"bg-gray-50 text-gray-700 border-gray-200";case"sent":return"bg-blue-50 text-blue-700 border-blue-200";case"viewed":return"bg-yellow-50 text-yellow-700 border-yellow-200";case"accepted":return"bg-green-50 text-green-700 border-green-200";case"rejected":return"bg-red-50 text-red-700 border-red-200";case"expired":return"bg-orange-50 text-orange-700 border-orange-200";default:return"bg-gray-50 text-gray-700 border-gray-200"}},P=e.filter(_=>{const B=_.id.toLowerCase().includes(m.toLowerCase())||_.customerId.toLowerCase().includes(m.toLowerCase()),U=h==="all"||_.status===h;return B&&U}),S=()=>{x(null),O(""),b(!0)},I=_=>{x(_),O(_.customerId),b(!0)},k=_=>{y(_)},C=()=>y(null),w=async _=>{try{j?(await s(j.id,_),d({title:"Success",description:"Quote updated successfully"})):(await n(_),d({title:"Success",description:"Quote created successfully"})),b(!1),x(null)}catch{d({title:"Error",description:"Failed to save quote",variant:"destructive"})}},L=async _=>{try{await o(_),d({title:"Success",description:"Quote sent to customer"})}catch{d({title:"Error",description:"Failed to send quote",variant:"destructive"})}},T=async _=>{try{await i(_),d({title:"Success",description:"Quote duplicated successfully"})}catch{d({title:"Error",description:"Failed to duplicate quote",variant:"destructive"})}},W=async _=>{if(window.confirm("Are you sure you want to delete this quote?"))try{await a(_),d({title:"Success",description:"Quote deleted successfully"})}catch{d({title:"Error",description:"Failed to delete quote",variant:"destructive"})}},V={total:e.length,draft:e.filter(_=>_.status==="draft").length,sent:e.filter(_=>_.status==="sent").length,accepted:e.filter(_=>_.status==="accepted").length,totalValue:e.reduce((_,B)=>_+B.total,0),acceptedValue:e.filter(_=>_.status==="accepted").reduce((_,B)=>_+B.total,0)};return t.jsxs("div",{className:"space-y-8",children:[g&&t.jsx(CC,{quote:j,customerId:E,onSave:w,onCancel:()=>{b(!1),x(null)}}),v&&t.jsx(X8,{quote:v,onClose:C,onEdit:I}),t.jsx("div",{className:"ri-page-header",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"ri-page-title",children:"Quote Builder"}),t.jsx("p",{className:"ri-page-description",children:"Create and manage customer quotes with advanced pricing rules"})]}),t.jsxs(ne,{className:"shadow-sm",onClick:S,children:[t.jsx(Et,{className:"h-4 w-4 mr-2"}),"New Quote"]})]})}),t.jsxs("div",{className:"ri-stats-grid",children:[t.jsxs(ue,{className:"shadow-sm border-0 bg-gradient-to-br from-blue-50 to-blue-100/50",children:[t.jsxs(be,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[t.jsx(je,{className:"text-sm font-medium text-blue-900",children:"Total Quotes"}),t.jsx(Gn,{className:"h-4 w-4 text-blue-600"})]}),t.jsxs(me,{children:[t.jsx("div",{className:"text-2xl font-bold text-blue-900",children:V.total}),t.jsxs("p",{className:"text-xs text-blue-600 flex items-center mt-1",children:[t.jsx(vt,{className:"h-3 w-3 mr-1"}),"All quotes"]})]})]}),t.jsxs(ue,{className:"shadow-sm border-0 bg-gradient-to-br from-yellow-50 to-yellow-100/50",children:[t.jsxs(be,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[t.jsx(je,{className:"text-sm font-medium text-yellow-900",children:"Pending"}),t.jsx(Gn,{className:"h-4 w-4 text-yellow-600"})]}),t.jsxs(me,{children:[t.jsx("div",{className:"text-2xl font-bold text-yellow-900",children:V.sent}),t.jsxs("p",{className:"text-xs text-yellow-600 flex items-center mt-1",children:[t.jsx(zr,{className:"h-3 w-3 mr-1"}),"Awaiting response"]})]})]}),t.jsxs(ue,{className:"shadow-sm border-0 bg-gradient-to-br from-green-50 to-green-100/50",children:[t.jsxs(be,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[t.jsx(je,{className:"text-sm font-medium text-green-900",children:"Accepted"}),t.jsx(Gn,{className:"h-4 w-4 text-green-600"})]}),t.jsxs(me,{children:[t.jsx("div",{className:"text-2xl font-bold text-green-900",children:V.accepted}),t.jsxs("p",{className:"text-xs text-green-600 flex items-center mt-1",children:[t.jsx(vt,{className:"h-3 w-3 mr-1"}),V.total>0?Math.round(V.accepted/V.total*100):0,"% acceptance rate"]})]})]}),t.jsxs(ue,{className:"shadow-sm border-0 bg-gradient-to-br from-purple-50 to-purple-100/50",children:[t.jsxs(be,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[t.jsx(je,{className:"text-sm font-medium text-purple-900",children:"Quote Value"}),t.jsx(Bt,{className:"h-4 w-4 text-purple-600"})]}),t.jsxs(me,{children:[t.jsx("div",{className:"text-2xl font-bold text-purple-900",children:Ie(V.totalValue)}),t.jsxs("p",{className:"text-xs text-purple-600 flex items-center mt-1",children:[t.jsx(Bt,{className:"h-3 w-3 mr-1"}),Ie(V.acceptedValue)," accepted"]})]})]})]}),t.jsxs("div",{className:"flex gap-4",children:[t.jsxs("div",{className:"ri-search-bar",children:[t.jsx(Jn,{className:"ri-search-icon"}),t.jsx(Te,{placeholder:"Search quotes...",value:m,onChange:_=>u(_.target.value),className:"ri-search-input shadow-sm"})]}),t.jsxs(tt,{value:h,onValueChange:p,children:[t.jsx(Xe,{className:"w-40",children:t.jsx(rt,{placeholder:"Status"})}),t.jsxs(Ze,{children:[t.jsx(se,{value:"all",children:"All Status"}),t.jsx(se,{value:"draft",children:"Draft"}),t.jsx(se,{value:"sent",children:"Sent"}),t.jsx(se,{value:"viewed",children:"Viewed"}),t.jsx(se,{value:"accepted",children:"Accepted"}),t.jsx(se,{value:"rejected",children:"Rejected"}),t.jsx(se,{value:"expired",children:"Expired"})]})]}),t.jsxs(ne,{variant:"outline",className:"shadow-sm",children:[t.jsx(Ws,{className:"h-4 w-4 mr-2"}),"Filter"]})]}),t.jsxs(ue,{className:"shadow-sm",children:[t.jsxs(be,{children:[t.jsxs(je,{className:"text-xl",children:["Quotes (",P.length,")"]}),t.jsx(Ge,{children:"Manage customer quotes with advanced pricing and bundling"})]}),t.jsx(me,{children:t.jsxs("div",{className:"space-y-4",children:[P.map(_=>t.jsxs("div",{className:"ri-table-row",children:[t.jsx("div",{className:"flex items-center space-x-4 flex-1",children:t.jsxs("div",{className:"flex-1",children:[t.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[t.jsxs("h3",{className:"font-semibold text-foreground",children:["Quote #",_.id]}),t.jsx(Re,{className:ze("ri-badge-status",M(_.status)),children:_.status.toUpperCase()}),_.items.some(B=>B.isBundle)&&t.jsx(Re,{className:"bg-purple-50 text-purple-700 border-purple-200",children:"Bundle"})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm text-muted-foreground",children:[t.jsxs("div",{children:[t.jsx("span",{className:"font-medium",children:"Customer:"})," ",_.customerId]}),t.jsxs("div",{children:[t.jsx("span",{className:"font-medium",children:"Total:"}),t.jsx("span",{className:"font-bold text-primary ml-1",children:Ie(_.total)})]}),t.jsxs("div",{children:[t.jsx("span",{className:"font-medium",children:"Created:"})," ",gt(_.createdAt)]}),t.jsxs("div",{children:[t.jsx("span",{className:"font-medium",children:"Valid Until:"})," ",gt(_.validUntil)]})]}),t.jsxs("div",{className:"mt-2 bg-muted/30 p-2 rounded-md",children:[t.jsxs("p",{className:"text-sm text-muted-foreground",children:[_.items.length," item(s)",_.totalDiscount>0&&t.jsxs("span",{className:"text-green-600 ml-2",children:[" ",Ie(_.totalDiscount)," discount applied"]})]}),_.notes&&t.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:[t.jsx("span",{className:"font-medium",children:"Notes:"})," ",_.notes]})]})]})}),t.jsxs("div",{className:"ri-action-buttons",children:[t.jsxs(ne,{variant:"outline",size:"sm",className:"shadow-sm",onClick:()=>k(_),children:[t.jsx(tl,{className:"h-3 w-3 mr-1"}),"View"]}),t.jsxs(ne,{variant:"outline",size:"sm",className:"shadow-sm",onClick:()=>I(_),children:[t.jsx(Xr,{className:"h-3 w-3 mr-1"}),"Edit"]}),_.status==="draft"&&t.jsxs(ne,{variant:"outline",size:"sm",className:"shadow-sm",onClick:()=>L(_.id),children:[t.jsx(Fo,{className:"h-3 w-3 mr-1"}),"Send"]}),t.jsxs(ne,{variant:"outline",size:"sm",className:"shadow-sm",onClick:()=>T(_.id),children:[t.jsx(Py,{className:"h-3 w-3 mr-1"}),"Copy"]}),t.jsx(ne,{variant:"outline",size:"sm",className:"shadow-sm text-red-600 hover:text-red-700",onClick:()=>W(_.id),children:t.jsx(bs,{className:"h-3 w-3"})})]})]},_.id)),P.length===0&&t.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[t.jsx(Gn,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground/50"}),t.jsx("p",{children:"No quotes found"}),t.jsx("p",{className:"text-sm",children:"Create your first quote to get started"})]})]})})]})]})}function aw(){var I;const{leads:e,sources:r,activities:n,salesReps:s,updateLeadStatus:a,assignLead:i,getActivitiesByLead:o,getRemindersByUser:l,getLeadScore:c}=Yi(),[d,m]=A.useState(""),[u,h]=A.useState("all"),[p,g]=A.useState("all"),[b,j]=A.useState("all"),[x,v]=A.useState(null),[y,E]=A.useState(!1),O=k=>{switch(k){case In.NEW:return"bg-blue-50 text-blue-700 border-blue-200";case In.CONTACTED:return"bg-yellow-50 text-yellow-700 border-yellow-200";case In.QUALIFIED:return"bg-green-50 text-green-700 border-green-200";case In.PROPOSAL:return"bg-purple-50 text-purple-700 border-purple-200";case In.NEGOTIATION:return"bg-orange-50 text-orange-700 border-orange-200";case In.CLOSED_WON:return"bg-emerald-50 text-emerald-700 border-emerald-200";case In.CLOSED_LOST:return"bg-red-50 text-red-700 border-red-200";default:return"bg-gray-50 text-gray-700 border-gray-200"}},M=k=>k>=80?"text-green-600 bg-green-50":k>=60?"text-yellow-600 bg-yellow-50":k>=40?"text-orange-600 bg-orange-50":"text-red-600 bg-red-50",P=e.filter(k=>{const C=`${k.firstName} ${k.lastName}`.toLowerCase().includes(d.toLowerCase())||k.email.toLowerCase().includes(d.toLowerCase())||k.phone.includes(d),w=u==="all"||k.status===u,L=p==="all"||k.sourceId===p,T=b==="all"||k.assignedTo===b;return C&&w&&L&&T}),S=k=>{console.log("New lead created:",k)};if(x){const k=o(x.id),C=l("current-user").filter(L=>L.leadId===x.id),w=c(x.id);return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx(ne,{variant:"outline",onClick:()=>v(null),className:"mb-4",children:" Back to Leads"}),t.jsxs("h1",{className:"ri-page-title",children:[x.firstName," ",x.lastName]}),t.jsx("p",{className:"ri-page-description",children:"Lead details and activity management"})]}),t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx(Re,{className:ze("ri-badge-status",O(x.status)),children:x.status.replace("_"," ").toUpperCase()}),x.score&&t.jsxs(Re,{className:ze("ri-badge-status",M(x.score)),children:["Score: ",x.score]})]})]}),t.jsxs(Zr,{defaultValue:"overview",className:"space-y-6",children:[t.jsxs($r,{className:"grid w-full grid-cols-6",children:[t.jsx(it,{value:"overview",children:"Overview"}),t.jsx(it,{value:"activity",children:"Activity"}),t.jsx(it,{value:"communication",children:"Communication"}),t.jsx(it,{value:"ai-insights",children:"AI Insights"}),t.jsx(it,{value:"nurturing",children:"Nurturing"}),t.jsx(it,{value:"reminders",children:"Reminders"})]}),t.jsx(ct,{value:"overview",className:"space-y-6",children:t.jsxs("div",{className:"grid gap-6 md:grid-cols-3",children:[t.jsx("div",{className:"md:col-span-2",children:t.jsxs(ue,{className:"shadow-sm",children:[t.jsx(be,{children:t.jsx(je,{children:"Lead Information"})}),t.jsxs(me,{children:[t.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[t.jsxs("div",{children:[t.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Email"}),t.jsx("p",{className:"font-medium",children:x.email})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Phone"}),t.jsx("p",{className:"font-medium",children:x.phone})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Source"}),t.jsx("p",{className:"font-medium",children:x.source})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Assigned To"}),t.jsx("p",{className:"font-medium",children:((I=s.find(L=>L.id===x.assignedTo))==null?void 0:I.name)||"Unassigned"})]}),Object.entries(x.customFields||{}).map(([L,T])=>t.jsxs("div",{children:[t.jsx("label",{className:"text-sm font-medium text-muted-foreground capitalize",children:L.replace(/([A-Z])/g," $1").trim()}),t.jsx("p",{className:"font-medium",children:T})]},L))]}),x.notes&&t.jsxs("div",{className:"mt-4",children:[t.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Notes"}),t.jsx("p",{className:"mt-1 p-3 bg-muted/30 rounded-md",children:x.notes})]})]})]})}),t.jsx("div",{className:"space-y-6",children:w&&t.jsx(L8,{score:w})})]})}),t.jsx(ct,{value:"activity",children:t.jsx(R8,{leadId:x.id,activities:k})}),t.jsx(ct,{value:"communication",children:t.jsx(Q8,{leadId:x.id,leadData:x})}),t.jsx(ct,{value:"ai-insights",children:t.jsx(G8,{leadId:x.id,leadData:x})}),t.jsx(ct,{value:"nurturing",children:t.jsx("div",{className:"space-y-6",children:t.jsx(sw,{})})}),t.jsx(ct,{value:"reminders",children:t.jsx($8,{leadId:x.id,reminders:C})})]})]})}return t.jsxs("div",{className:"space-y-8",children:[y&&t.jsx(kd,{onClose:()=>E(!1),onSuccess:S}),t.jsx("div",{className:"ri-page-header",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"ri-page-title",children:"CRM & Prospecting"}),t.jsx("p",{className:"ri-page-description",children:"Manage leads, track activities, and monitor sales pipeline with AI-powered insights"})]}),t.jsxs(ne,{className:"shadow-sm",onClick:()=>E(!0),children:[t.jsx(Et,{className:"h-4 w-4 mr-2"}),"Add Lead"]})]})}),t.jsxs("div",{className:"grid gap-4 grid-cols-1 sm:grid-cols-2 lg:grid-cols-4",children:[t.jsxs(ue,{className:"shadow-sm border-0 bg-gradient-to-br from-blue-50 to-blue-100/50",children:[t.jsxs(be,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[t.jsx(je,{className:"text-sm font-medium text-blue-900",children:"Total Leads"}),t.jsx(pn,{className:"h-4 w-4 text-blue-600"})]}),t.jsxs(me,{children:[t.jsx("div",{className:"text-2xl font-bold text-blue-900",children:e.length}),t.jsxs("p",{className:"text-xs text-blue-600 flex items-center mt-1",children:[t.jsx(vt,{className:"h-3 w-3 mr-1"}),"+12% from last month"]})]})]}),t.jsxs(ue,{className:"shadow-sm border-0 bg-gradient-to-br from-yellow-50 to-yellow-100/50",children:[t.jsxs(be,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[t.jsx(je,{className:"text-sm font-medium text-yellow-900",children:"New Leads"}),t.jsx(pn,{className:"h-4 w-4 text-yellow-600"})]}),t.jsxs(me,{children:[t.jsx("div",{className:"text-2xl font-bold text-yellow-900",children:e.filter(k=>k.status===In.NEW).length}),t.jsxs("p",{className:"text-xs text-yellow-600 flex items-center mt-1",children:[t.jsx(vt,{className:"h-3 w-3 mr-1"}),"+8% from last week"]})]})]}),t.jsxs(ue,{className:"shadow-sm border-0 bg-gradient-to-br from-green-50 to-green-100/50",children:[t.jsxs(be,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[t.jsx(je,{className:"text-sm font-medium text-green-900",children:"Qualified"}),t.jsx(ys,{className:"h-4 w-4 text-green-600"})]}),t.jsxs(me,{children:[t.jsx("div",{className:"text-2xl font-bold text-green-900",children:e.filter(k=>k.status===In.QUALIFIED).length}),t.jsxs("p",{className:"text-xs text-green-600 flex items-center mt-1",children:[t.jsx(vt,{className:"h-3 w-3 mr-1"}),"+15% from last month"]})]})]}),t.jsxs(ue,{className:"shadow-sm border-0 bg-gradient-to-br from-purple-50 to-purple-100/50",children:[t.jsxs(be,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[t.jsx(je,{className:"text-sm font-medium text-purple-900",children:"AI Insights"}),t.jsx(ni,{className:"h-4 w-4 text-purple-600"})]}),t.jsxs(me,{children:[t.jsx("div",{className:"text-2xl font-bold text-purple-900",children:"47"}),t.jsxs("p",{className:"text-xs text-purple-600 flex items-center mt-1",children:[t.jsx(ni,{className:"h-3 w-3 mr-1"}),"Active recommendations"]})]})]})]}),t.jsxs(Zr,{defaultValue:"leads",className:"space-y-6 w-full",children:[t.jsxs($r,{className:"grid w-full grid-cols-3 sm:grid-cols-6",children:[t.jsx(it,{value:"leads",className:"text-xs sm:text-sm",children:"Leads"}),t.jsx(it,{value:"pipeline",className:"text-xs sm:text-sm",children:"Pipeline"}),t.jsx(it,{value:"quotes",className:"text-xs sm:text-sm",children:"Quotes"}),t.jsx(it,{value:"nurturing",className:"text-xs sm:text-sm",children:"Nurturing"}),t.jsx(it,{value:"forms",className:"text-xs sm:text-sm",children:"Forms"}),t.jsx(it,{value:"sources",className:"text-xs sm:text-sm",children:"Sources"})]}),t.jsxs(ct,{value:"leads",className:"space-y-6",children:[t.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[t.jsxs("div",{className:"ri-search-bar w-full",children:[t.jsx(Jn,{className:"ri-search-icon"}),t.jsx(Te,{placeholder:"Search leads...",value:d,onChange:k=>m(k.target.value),className:"ri-search-input shadow-sm"})]}),t.jsxs("div",{className:"flex flex-wrap gap-2",children:[t.jsxs(tt,{value:u,onValueChange:h,children:[t.jsx(Xe,{className:"w-full sm:w-40",children:t.jsx(rt,{placeholder:"Status"})}),t.jsxs(Ze,{children:[t.jsx(se,{value:"all",children:"All Status"}),t.jsx(se,{value:In.NEW,children:"New"}),t.jsx(se,{value:In.CONTACTED,children:"Contacted"}),t.jsx(se,{value:In.QUALIFIED,children:"Qualified"}),t.jsx(se,{value:In.PROPOSAL,children:"Proposal"}),t.jsx(se,{value:In.NEGOTIATION,children:"Negotiation"}),t.jsx(se,{value:In.CLOSED_WON,children:"Closed Won"}),t.jsx(se,{value:In.CLOSED_LOST,children:"Closed Lost"})]})]}),t.jsxs(tt,{value:repFilter,onValueChange:setRepFilter,children:[t.jsx(Xe,{className:"w-full sm:w-40",children:t.jsx(rt,{placeholder:"Source"})}),t.jsxs(Ze,{children:[t.jsx(se,{value:"all",children:"All Sources"}),r.map(k=>t.jsx(se,{value:k.id,children:k.name},k.id))]})]}),t.jsxs(tt,{value:b,onValueChange:j,children:[t.jsx(Xe,{className:"w-40",children:t.jsx(rt,{placeholder:"Assignee"})}),t.jsxs(Ze,{children:[t.jsx(se,{value:"all",children:"All Reps"}),s.map(k=>t.jsx(se,{value:k.id,children:k.name},k.id))]})]}),t.jsxs(ne,{onClick:()=>E(!0),className:"shadow-sm w-full sm:w-auto",children:[t.jsx(Et,{className:"h-4 w-4 mr-2"}),"Add Lead"]})]})]}),t.jsxs(ue,{className:"shadow-sm",children:[t.jsx(be,{children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsxs(je,{className:"text-xl",children:["Leads (",P.length,")"]}),t.jsx(Ge,{children:"Manage your sales prospects with AI-powered insights and automated nurturing"})]}),t.jsxs(ne,{onClick:()=>E(!0),variant:"outline",className:"shadow-sm",children:[t.jsx(Et,{className:"h-4 w-4 mr-2"}),"Add Lead"]})]})}),t.jsx(me,{children:t.jsx("div",{className:"space-y-4",children:P.map(k=>{var C;return t.jsxs("div",{className:"ri-table-row cursor-pointer",onClick:()=>v(k),children:[t.jsx("div",{className:"flex items-center space-x-4 flex-1",children:t.jsxs("div",{className:"flex-1",children:[t.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[t.jsxs("h3",{className:"font-semibold text-foreground",children:[k.firstName," ",k.lastName]}),t.jsx(Re,{className:ze("ri-badge-status",O(k.status)),children:k.status.replace("_"," ").toUpperCase()}),k.score&&t.jsx(Re,{className:ze("ri-badge-status",M(k.score)),children:k.score}),t.jsxs(Re,{variant:"outline",className:"text-xs",children:[t.jsx(ni,{className:"h-3 w-3 mr-1"}),"AI Ready"]})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-2 text-sm text-muted-foreground",children:[t.jsxs("span",{className:"flex items-center",children:[t.jsx(_s,{className:"h-3 w-3 mr-2 text-blue-500"}),k.email]}),t.jsxs("span",{className:"flex items-center",children:[t.jsx(Dy,{className:"h-3 w-3 mr-2 text-green-500"}),k.phone]}),t.jsxs("span",{className:"flex items-center",children:[t.jsx(pn,{className:"h-3 w-3 mr-2 text-purple-500"}),((C=s.find(w=>w.id===k.assignedTo))==null?void 0:C.name)||"Unassigned"]}),t.jsxs("span",{className:"flex items-center",children:[t.jsx(zr,{className:"h-3 w-3 mr-2 text-orange-500"}),gt(k.createdAt)]})]}),k.notes&&t.jsx("p",{className:"text-sm text-muted-foreground mt-2 bg-muted/30 p-2 rounded-md",children:k.notes})]})}),t.jsxs("div",{className:"ri-action-buttons flex-wrap gap-2",children:[t.jsxs(ne,{variant:"outline",size:"sm",className:"shadow-sm text-xs",onClick:w=>{w.stopPropagation()},children:[t.jsx(kn,{className:"h-3 w-3 mr-1"}),"Contact"]}),t.jsxs(ne,{variant:"outline",size:"sm",className:"shadow-sm text-xs",onClick:w=>{w.stopPropagation(),v(k)},children:[t.jsx(ni,{className:"h-3 w-3 mr-1"}),"AI Insights"]})]})]},k.id)})})})]})]}),t.jsx(ct,{value:"pipeline",children:t.jsx(C8,{})}),t.jsx(ct,{value:"quotes",children:t.jsx(Z8,{})}),t.jsx(ct,{value:"nurturing",children:t.jsx(sw,{})}),t.jsx(ct,{value:"forms",children:t.jsxs(ue,{className:"shadow-sm",children:[t.jsxs(be,{children:[t.jsx(je,{children:"Lead Intake Forms"}),t.jsx(Ge,{children:"Create and manage dynamic lead capture forms"})]}),t.jsx(me,{children:t.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"Form builder coming soon..."})})]})}),t.jsx(ct,{value:"sources",children:t.jsxs(ue,{className:"shadow-sm",children:[t.jsxs(be,{children:[t.jsx(je,{children:"Lead Sources"}),t.jsx(Ge,{children:"Manage and track lead source performance"})]}),t.jsx(me,{children:t.jsx("div",{className:"space-y-4",children:r.map(k=>t.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg hover:bg-accent/50 transition-colors",children:[t.jsxs("div",{children:[t.jsx("h3",{className:"font-semibold",children:k.name}),t.jsxs("p",{className:"text-sm text-muted-foreground",children:["Type: ",k.type,"  Conversion: ",k.conversionRate,"%",k.trackingCode&&`  Code: ${k.trackingCode}`]})]}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(Re,{className:k.isActive?"bg-green-50 text-green-700 border-green-200":"bg-gray-50 text-gray-700 border-gray-200",children:k.isActive?"Active":"Inactive"}),t.jsx(ne,{variant:"outline",size:"sm",children:t.jsx(gm,{className:"h-3 w-3"})})]})]},k.id))})})]})})]})]})}function eF(){return t.jsxs(Fn,{children:[t.jsx(Pt,{path:"/",element:t.jsx(aw,{})}),t.jsx(Pt,{path:"/*",element:t.jsx(aw,{})})]})}function tF({vehicles:e,onEdit:r,onDelete:n,onView:s,onStatusChange:a}){const{toast:i}=nr(),[o,l]=A.useState(""),[c,d]=A.useState("all"),[m,u]=A.useState("all"),[h,p]=A.useState("all"),[g,b]=A.useState([]),[j,x]=A.useState("updatedAt"),[v,y]=A.useState("desc"),E=Array.from(new Set(e.map(L=>L.location))),O=L=>{switch(L){case _t.AVAILABLE:return"bg-green-50 text-green-700 border-green-200";case _t.RESERVED:return"bg-yellow-50 text-yellow-700 border-yellow-200";case _t.SOLD:return"bg-blue-50 text-blue-700 border-blue-200";case _t.SERVICE:return"bg-orange-50 text-orange-700 border-orange-200";case _t.DELIVERED:return"bg-purple-50 text-purple-700 border-purple-200";default:return"bg-gray-50 text-gray-700 border-gray-200"}},M=L=>L.replace("_"," ").toUpperCase(),P=e.filter(L=>{const T=`${L.make} ${L.model}`.toLowerCase().includes(o.toLowerCase())||L.vin.toLowerCase().includes(o.toLowerCase())||L.year.toString().includes(o),W=c==="all"||L.status===c,V=m==="all"||L.type===m,_=h==="all"||L.location===h;return T&&W&&V&&_}).sort((L,T)=>{let W=L[j],V=T[j];return W instanceof Date&&V instanceof Date&&(W=W.getTime(),V=V.getTime()),typeof W=="string"&&typeof V=="string"&&(W=W.toLowerCase(),V=V.toLowerCase()),W<V?v==="asc"?-1:1:W>V?v==="asc"?1:-1:0}),S=L=>{j===L?y(v==="asc"?"desc":"asc"):(x(L),y("asc"))},I=L=>{b(L?P.map(T=>T.id):[])},k=L=>{g.includes(L)?b(g.filter(T=>T!==L)):b([...g,L])},C=()=>{const T=(g.length>0?e.filter(U=>g.includes(U.id)):P).map(U=>({id:U.id,vin:U.vin,make:U.make,model:U.model,year:U.year,type:U.type,status:U.status,price:U.price,cost:U.cost,location:U.location,features:U.features.join(", "),createdAt:U.createdAt.toISOString(),updatedAt:U.updatedAt.toISOString()})),W=Cf.unparse(T),V=new Blob([W],{type:"text/csv;charset=utf-8;"}),_=URL.createObjectURL(V),B=document.createElement("a");B.href=_,B.setAttribute("download",`inventory_export_${new Date().toISOString().split("T")[0]}.csv`),document.body.appendChild(B),B.click(),document.body.removeChild(B),i({title:"Export Successful",description:`Exported ${T.length} vehicles to CSV`})},w=L=>{if(g.length===0){i({title:"No Vehicles Selected",description:"Please select vehicles to update",variant:"destructive"});return}g.forEach(T=>{a(T,L)}),i({title:"Status Updated",description:`Updated ${g.length} vehicles to ${L}`})};return t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"flex flex-col lg:flex-row gap-4",children:[t.jsxs("div",{className:"ri-search-bar w-full lg:flex-1",children:[t.jsx(Jn,{className:"ri-search-icon"}),t.jsx(Te,{placeholder:"Search by make, model, VIN...",value:o,onChange:L=>l(L.target.value),className:"ri-search-input shadow-sm"})]}),t.jsxs("div",{className:"flex flex-wrap gap-2",children:[t.jsxs(tt,{value:c,onValueChange:d,className:"w-full sm:w-auto",children:[t.jsx(Xe,{className:"w-full sm:w-[130px]",children:t.jsx(rt,{placeholder:"Status"})}),t.jsxs(Ze,{children:[t.jsx(se,{value:"all",children:"All Status"}),t.jsx(se,{value:_t.AVAILABLE,children:"Available"}),t.jsx(se,{value:_t.RESERVED,children:"Reserved"}),t.jsx(se,{value:_t.SOLD,children:"Sold"}),t.jsx(se,{value:_t.SERVICE,children:"Service"}),t.jsx(se,{value:_t.DELIVERED,children:"Delivered"})]})]}),t.jsxs(tt,{value:m,onValueChange:u,className:"w-full sm:w-auto",children:[t.jsx(Xe,{className:"w-full sm:w-[130px]",children:t.jsx(rt,{placeholder:"Type"})}),t.jsxs(Ze,{children:[t.jsx(se,{value:"all",children:"All Types"}),t.jsx(se,{value:ut.RV,children:"RV"}),t.jsx(se,{value:ut.MOTORHOME,children:"Motorhome"}),t.jsx(se,{value:ut.TRAVEL_TRAILER,children:"Travel Trailer"}),t.jsx(se,{value:ut.FIFTH_WHEEL,children:"Fifth Wheel"}),t.jsx(se,{value:ut.TOY_HAULER,children:"Toy Hauler"})]})]}),t.jsxs(tt,{value:h,onValueChange:p,className:"w-full sm:w-auto",children:[t.jsx(Xe,{className:"w-full sm:w-[130px]",children:t.jsx(rt,{placeholder:"Location"})}),t.jsxs(Ze,{children:[t.jsx(se,{value:"all",children:"All Locations"}),E.map(L=>t.jsx(se,{value:L,children:L},L))]})]})]})]}),g.length>0&&t.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between bg-muted/30 p-2 rounded-lg gap-2",children:[t.jsxs("div",{className:"text-sm font-medium mb-2 sm:mb-0",children:[g.length," vehicles selected"]}),t.jsxs("div",{className:"flex flex-wrap gap-2 w-full sm:w-auto",children:[t.jsxs(tt,{onValueChange:L=>w(L),className:"w-full sm:w-auto",children:[t.jsx(Xe,{className:"w-full sm:w-[150px]",children:t.jsx(rt,{placeholder:"Change Status"})}),t.jsxs(Ze,{children:[t.jsx(se,{value:_t.AVAILABLE,children:"Available"}),t.jsx(se,{value:_t.RESERVED,children:"Reserved"}),t.jsx(se,{value:_t.SOLD,children:"Sold"}),t.jsx(se,{value:_t.SERVICE,children:"Service"}),t.jsx(se,{value:_t.DELIVERED,children:"Delivered"}),t.jsx(se,{value:ut.SINGLE_WIDE,children:"Single Wide MH"}),t.jsx(se,{value:ut.DOUBLE_WIDE,children:"Double Wide MH"}),t.jsx(se,{value:ut.TRIPLE_WIDE,children:"Triple Wide MH"}),t.jsx(se,{value:ut.PARK_MODEL,children:"Park Model"}),t.jsx(se,{value:ut.MODULAR_HOME,children:"Modular Home"})]})]}),t.jsxs(ne,{variant:"outline",size:"sm",onClick:C,className:"w-full sm:w-auto",children:[t.jsx(Wo,{className:"h-4 w-4 mr-2"}),"Export Selected"]}),t.jsxs(ne,{variant:"outline",size:"sm",onClick:()=>b([]),className:"w-full sm:w-auto",children:[t.jsx(qt,{className:"h-4 w-4 mr-2"}),"Clear Selection"]})]})]}),t.jsxs(ue,{className:"shadow-sm",children:[t.jsx(be,{className:"pb-3",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsxs(je,{className:"text-xl",children:["Inventory (",P.length,")"]}),t.jsx(Ge,{className:"hidden sm:block",children:"Manage your RV and motorhome inventory"})]}),t.jsx("div",{className:"flex gap-2 mt-2 sm:mt-0",children:t.jsxs(ne,{variant:"outline",size:"sm",onClick:C,className:"text-xs",children:[t.jsx(Wo,{className:"h-4 w-4 mr-2"}),"Export CSV"]})})]})}),t.jsx(me,{children:t.jsx("div",{className:"overflow-x-auto -mx-4 sm:mx-0",children:t.jsxs("table",{className:"w-full border-collapse",children:[t.jsx("thead",{children:t.jsxs("tr",{className:"border-b",children:[t.jsx("th",{className:"p-2 text-left",children:t.jsx(Tr,{checked:g.length===P.length&&P.length>0,onCheckedChange:I})}),t.jsx("th",{className:"p-2 text-left cursor-pointer hover:bg-muted/30",onClick:()=>S("make"),children:t.jsxs("div",{className:"flex items-center",children:[t.jsx("span",{children:"Make/Model"}),j==="make"&&t.jsx("span",{className:"ml-1",children:v==="asc"?"":""})]})}),t.jsx("th",{className:"p-2 text-left cursor-pointer hover:bg-muted/30",onClick:()=>S("year"),children:t.jsxs("div",{className:"flex items-center",children:[t.jsx("span",{children:"Year"}),j==="year"&&t.jsx("span",{className:"ml-1",children:v==="asc"?"":""})]})}),t.jsx("th",{className:"p-2 text-left cursor-pointer hover:bg-muted/30",onClick:()=>S("vin"),children:t.jsxs("div",{className:"flex items-center",children:[t.jsx("span",{children:"VIN"}),j==="vin"&&t.jsx("span",{className:"ml-1",children:v==="asc"?"":""})]})}),t.jsx("th",{className:"p-2 text-left cursor-pointer hover:bg-muted/30",onClick:()=>S("type"),children:t.jsxs("div",{className:"flex items-center",children:[t.jsx("span",{children:"Type"}),j==="type"&&t.jsx("span",{className:"ml-1",children:v==="asc"?"":""})]})}),t.jsx("th",{className:"p-2 text-left cursor-pointer hover:bg-muted/30",onClick:()=>S("status"),children:t.jsxs("div",{className:"flex items-center",children:[t.jsx("span",{children:"Status"}),j==="status"&&t.jsx("span",{className:"ml-1",children:v==="asc"?"":""})]})}),t.jsx("th",{className:"p-2 text-left cursor-pointer hover:bg-muted/30",onClick:()=>S("location"),children:t.jsxs("div",{className:"flex items-center",children:[t.jsx("span",{children:"Location"}),j==="location"&&t.jsx("span",{className:"ml-1",children:v==="asc"?"":""})]})}),t.jsx("th",{className:"p-2 text-left cursor-pointer hover:bg-muted/30",onClick:()=>S("price"),children:t.jsxs("div",{className:"flex items-center",children:[t.jsx("span",{children:"Price"}),j==="price"&&t.jsx("span",{className:"ml-1",children:v==="asc"?"":""})]})}),t.jsx("th",{className:"p-2 text-left hidden sm:table-cell",children:"Media"}),t.jsx("th",{className:"p-2 text-left",children:"Actions"})]})}),t.jsxs("tbody",{children:[P.map(L=>t.jsxs("tr",{className:"border-b hover:bg-muted/10",children:[t.jsx("td",{className:"p-2",children:t.jsx(Tr,{checked:g.includes(L.id),onCheckedChange:()=>k(L.id)})}),t.jsx("td",{className:"p-2",children:t.jsxs("div",{className:"font-medium",children:[L.make," ",L.model]})}),t.jsx("td",{className:"p-2",children:L.year}),t.jsx("td",{className:"p-2",children:t.jsx("span",{className:"font-mono text-xs",children:L.vin})}),t.jsx("td",{className:"p-2",children:t.jsx("span",{className:"text-sm",children:M(L.type)})}),t.jsx("td",{className:"p-2",children:t.jsx(Re,{className:ze("ri-badge-status",O(L.status)),children:L.status.toUpperCase()})}),t.jsx("td",{className:"p-2",children:L.location}),t.jsx("td",{className:"p-2 font-medium text-primary",children:Ie(L.price)}),t.jsx("td",{className:"p-2 hidden sm:table-cell",children:t.jsxs("div",{className:"flex items-center space-x-1",children:[t.jsxs(Re,{variant:"outline",className:"text-xs",children:[t.jsx(pd,{className:"h-3 w-3 mr-1"}),L.images.length]}),L.customFields.videos&&t.jsxs(Re,{variant:"outline",className:"text-xs",children:[t.jsx(yf,{className:"h-3 w-3 mr-1"}),L.customFields.videos.length||0]})]})}),t.jsx("td",{className:"p-2",children:t.jsxs("div",{className:"flex items-center flex-wrap gap-1",children:[t.jsx(ne,{variant:"ghost",size:"sm",onClick:()=>s(L),className:"p-1",children:t.jsx(tl,{className:"h-4 w-4"})}),t.jsx(ne,{variant:"ghost",size:"sm",onClick:()=>r(L),className:"p-1",children:t.jsx(Xr,{className:"h-4 w-4"})}),t.jsx(ne,{variant:"ghost",size:"sm",onClick:()=>n(L.id),className:"p-1",children:t.jsx(bs,{className:"h-4 w-4"})})]})})]},L.id)),P.length===0&&t.jsx("tr",{children:t.jsxs("td",{colSpan:10,className:"p-8 text-center text-muted-foreground",children:[t.jsx(Qn,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground/50"}),t.jsx("p",{children:"No vehicles found"}),t.jsx("p",{className:"text-sm",children:"Try adjusting your search or filters"})]})})]})]})})})]})]})}var AC={exports:{}},rF="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",nF=rF,sF=nF;function EC(){}function IC(){}IC.resetWarningCache=EC;var aF=function(){function e(s,a,i,o,l,c){if(c!==sF){var d=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw d.name="Invariant Violation",d}}e.isRequired=e;function r(){return e}var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:r,element:e,elementType:e,instanceOf:r,node:e,objectOf:r,oneOf:r,oneOfType:r,shape:r,exact:r,checkPropTypes:IC,resetWarningCache:EC};return n.PropTypes=n,n};AC.exports=aF();var iF=AC.exports;const hr=Pm(iF),oF=new Map([["1km","application/vnd.1000minds.decision-model+xml"],["3dml","text/vnd.in3d.3dml"],["3ds","image/x-3ds"],["3g2","video/3gpp2"],["3gp","video/3gp"],["3gpp","video/3gpp"],["3mf","model/3mf"],["7z","application/x-7z-compressed"],["7zip","application/x-7z-compressed"],["123","application/vnd.lotus-1-2-3"],["aab","application/x-authorware-bin"],["aac","audio/x-acc"],["aam","application/x-authorware-map"],["aas","application/x-authorware-seg"],["abw","application/x-abiword"],["ac","application/vnd.nokia.n-gage.ac+xml"],["ac3","audio/ac3"],["acc","application/vnd.americandynamics.acc"],["ace","application/x-ace-compressed"],["acu","application/vnd.acucobol"],["acutc","application/vnd.acucorp"],["adp","audio/adpcm"],["aep","application/vnd.audiograph"],["afm","application/x-font-type1"],["afp","application/vnd.ibm.modcap"],["ahead","application/vnd.ahead.space"],["ai","application/pdf"],["aif","audio/x-aiff"],["aifc","audio/x-aiff"],["aiff","audio/x-aiff"],["air","application/vnd.adobe.air-application-installer-package+zip"],["ait","application/vnd.dvb.ait"],["ami","application/vnd.amiga.ami"],["amr","audio/amr"],["apk","application/vnd.android.package-archive"],["apng","image/apng"],["appcache","text/cache-manifest"],["application","application/x-ms-application"],["apr","application/vnd.lotus-approach"],["arc","application/x-freearc"],["arj","application/x-arj"],["asc","application/pgp-signature"],["asf","video/x-ms-asf"],["asm","text/x-asm"],["aso","application/vnd.accpac.simply.aso"],["asx","video/x-ms-asf"],["atc","application/vnd.acucorp"],["atom","application/atom+xml"],["atomcat","application/atomcat+xml"],["atomdeleted","application/atomdeleted+xml"],["atomsvc","application/atomsvc+xml"],["atx","application/vnd.antix.game-component"],["au","audio/x-au"],["avi","video/x-msvideo"],["avif","image/avif"],["aw","application/applixware"],["azf","application/vnd.airzip.filesecure.azf"],["azs","application/vnd.airzip.filesecure.azs"],["azv","image/vnd.airzip.accelerator.azv"],["azw","application/vnd.amazon.ebook"],["b16","image/vnd.pco.b16"],["bat","application/x-msdownload"],["bcpio","application/x-bcpio"],["bdf","application/x-font-bdf"],["bdm","application/vnd.syncml.dm+wbxml"],["bdoc","application/x-bdoc"],["bed","application/vnd.realvnc.bed"],["bh2","application/vnd.fujitsu.oasysprs"],["bin","application/octet-stream"],["blb","application/x-blorb"],["blorb","application/x-blorb"],["bmi","application/vnd.bmi"],["bmml","application/vnd.balsamiq.bmml+xml"],["bmp","image/bmp"],["book","application/vnd.framemaker"],["box","application/vnd.previewsystems.box"],["boz","application/x-bzip2"],["bpk","application/octet-stream"],["bpmn","application/octet-stream"],["bsp","model/vnd.valve.source.compiled-map"],["btif","image/prs.btif"],["buffer","application/octet-stream"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["c","text/x-c"],["c4d","application/vnd.clonk.c4group"],["c4f","application/vnd.clonk.c4group"],["c4g","application/vnd.clonk.c4group"],["c4p","application/vnd.clonk.c4group"],["c4u","application/vnd.clonk.c4group"],["c11amc","application/vnd.cluetrust.cartomobile-config"],["c11amz","application/vnd.cluetrust.cartomobile-config-pkg"],["cab","application/vnd.ms-cab-compressed"],["caf","audio/x-caf"],["cap","application/vnd.tcpdump.pcap"],["car","application/vnd.curl.car"],["cat","application/vnd.ms-pki.seccat"],["cb7","application/x-cbr"],["cba","application/x-cbr"],["cbr","application/x-cbr"],["cbt","application/x-cbr"],["cbz","application/x-cbr"],["cc","text/x-c"],["cco","application/x-cocoa"],["cct","application/x-director"],["ccxml","application/ccxml+xml"],["cdbcmsg","application/vnd.contact.cmsg"],["cda","application/x-cdf"],["cdf","application/x-netcdf"],["cdfx","application/cdfx+xml"],["cdkey","application/vnd.mediastation.cdkey"],["cdmia","application/cdmi-capability"],["cdmic","application/cdmi-container"],["cdmid","application/cdmi-domain"],["cdmio","application/cdmi-object"],["cdmiq","application/cdmi-queue"],["cdr","application/cdr"],["cdx","chemical/x-cdx"],["cdxml","application/vnd.chemdraw+xml"],["cdy","application/vnd.cinderella"],["cer","application/pkix-cert"],["cfs","application/x-cfs-compressed"],["cgm","image/cgm"],["chat","application/x-chat"],["chm","application/vnd.ms-htmlhelp"],["chrt","application/vnd.kde.kchart"],["cif","chemical/x-cif"],["cii","application/vnd.anser-web-certificate-issue-initiation"],["cil","application/vnd.ms-artgalry"],["cjs","application/node"],["cla","application/vnd.claymore"],["class","application/octet-stream"],["clkk","application/vnd.crick.clicker.keyboard"],["clkp","application/vnd.crick.clicker.palette"],["clkt","application/vnd.crick.clicker.template"],["clkw","application/vnd.crick.clicker.wordbank"],["clkx","application/vnd.crick.clicker"],["clp","application/x-msclip"],["cmc","application/vnd.cosmocaller"],["cmdf","chemical/x-cmdf"],["cml","chemical/x-cml"],["cmp","application/vnd.yellowriver-custom-menu"],["cmx","image/x-cmx"],["cod","application/vnd.rim.cod"],["coffee","text/coffeescript"],["com","application/x-msdownload"],["conf","text/plain"],["cpio","application/x-cpio"],["cpp","text/x-c"],["cpt","application/mac-compactpro"],["crd","application/x-mscardfile"],["crl","application/pkix-crl"],["crt","application/x-x509-ca-cert"],["crx","application/x-chrome-extension"],["cryptonote","application/vnd.rig.cryptonote"],["csh","application/x-csh"],["csl","application/vnd.citationstyles.style+xml"],["csml","chemical/x-csml"],["csp","application/vnd.commonspace"],["csr","application/octet-stream"],["css","text/css"],["cst","application/x-director"],["csv","text/csv"],["cu","application/cu-seeme"],["curl","text/vnd.curl"],["cww","application/prs.cww"],["cxt","application/x-director"],["cxx","text/x-c"],["dae","model/vnd.collada+xml"],["daf","application/vnd.mobius.daf"],["dart","application/vnd.dart"],["dataless","application/vnd.fdsn.seed"],["davmount","application/davmount+xml"],["dbf","application/vnd.dbf"],["dbk","application/docbook+xml"],["dcr","application/x-director"],["dcurl","text/vnd.curl.dcurl"],["dd2","application/vnd.oma.dd2+xml"],["ddd","application/vnd.fujixerox.ddd"],["ddf","application/vnd.syncml.dmddf+xml"],["dds","image/vnd.ms-dds"],["deb","application/x-debian-package"],["def","text/plain"],["deploy","application/octet-stream"],["der","application/x-x509-ca-cert"],["dfac","application/vnd.dreamfactory"],["dgc","application/x-dgc-compressed"],["dic","text/x-c"],["dir","application/x-director"],["dis","application/vnd.mobius.dis"],["disposition-notification","message/disposition-notification"],["dist","application/octet-stream"],["distz","application/octet-stream"],["djv","image/vnd.djvu"],["djvu","image/vnd.djvu"],["dll","application/octet-stream"],["dmg","application/x-apple-diskimage"],["dmn","application/octet-stream"],["dmp","application/vnd.tcpdump.pcap"],["dms","application/octet-stream"],["dna","application/vnd.dna"],["doc","application/msword"],["docm","application/vnd.ms-word.template.macroEnabled.12"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["dot","application/msword"],["dotm","application/vnd.ms-word.template.macroEnabled.12"],["dotx","application/vnd.openxmlformats-officedocument.wordprocessingml.template"],["dp","application/vnd.osgi.dp"],["dpg","application/vnd.dpgraph"],["dra","audio/vnd.dra"],["drle","image/dicom-rle"],["dsc","text/prs.lines.tag"],["dssc","application/dssc+der"],["dtb","application/x-dtbook+xml"],["dtd","application/xml-dtd"],["dts","audio/vnd.dts"],["dtshd","audio/vnd.dts.hd"],["dump","application/octet-stream"],["dvb","video/vnd.dvb.file"],["dvi","application/x-dvi"],["dwd","application/atsc-dwd+xml"],["dwf","model/vnd.dwf"],["dwg","image/vnd.dwg"],["dxf","image/vnd.dxf"],["dxp","application/vnd.spotfire.dxp"],["dxr","application/x-director"],["ear","application/java-archive"],["ecelp4800","audio/vnd.nuera.ecelp4800"],["ecelp7470","audio/vnd.nuera.ecelp7470"],["ecelp9600","audio/vnd.nuera.ecelp9600"],["ecma","application/ecmascript"],["edm","application/vnd.novadigm.edm"],["edx","application/vnd.novadigm.edx"],["efif","application/vnd.picsel"],["ei6","application/vnd.pg.osasli"],["elc","application/octet-stream"],["emf","image/emf"],["eml","message/rfc822"],["emma","application/emma+xml"],["emotionml","application/emotionml+xml"],["emz","application/x-msmetafile"],["eol","audio/vnd.digital-winds"],["eot","application/vnd.ms-fontobject"],["eps","application/postscript"],["epub","application/epub+zip"],["es","application/ecmascript"],["es3","application/vnd.eszigno3+xml"],["esa","application/vnd.osgi.subsystem"],["esf","application/vnd.epson.esf"],["et3","application/vnd.eszigno3+xml"],["etx","text/x-setext"],["eva","application/x-eva"],["evy","application/x-envoy"],["exe","application/octet-stream"],["exi","application/exi"],["exp","application/express"],["exr","image/aces"],["ext","application/vnd.novadigm.ext"],["ez","application/andrew-inset"],["ez2","application/vnd.ezpix-album"],["ez3","application/vnd.ezpix-package"],["f","text/x-fortran"],["f4v","video/mp4"],["f77","text/x-fortran"],["f90","text/x-fortran"],["fbs","image/vnd.fastbidsheet"],["fcdt","application/vnd.adobe.formscentral.fcdt"],["fcs","application/vnd.isac.fcs"],["fdf","application/vnd.fdf"],["fdt","application/fdt+xml"],["fe_launch","application/vnd.denovo.fcselayout-link"],["fg5","application/vnd.fujitsu.oasysgp"],["fgd","application/x-director"],["fh","image/x-freehand"],["fh4","image/x-freehand"],["fh5","image/x-freehand"],["fh7","image/x-freehand"],["fhc","image/x-freehand"],["fig","application/x-xfig"],["fits","image/fits"],["flac","audio/x-flac"],["fli","video/x-fli"],["flo","application/vnd.micrografx.flo"],["flv","video/x-flv"],["flw","application/vnd.kde.kivio"],["flx","text/vnd.fmi.flexstor"],["fly","text/vnd.fly"],["fm","application/vnd.framemaker"],["fnc","application/vnd.frogans.fnc"],["fo","application/vnd.software602.filler.form+xml"],["for","text/x-fortran"],["fpx","image/vnd.fpx"],["frame","application/vnd.framemaker"],["fsc","application/vnd.fsc.weblaunch"],["fst","image/vnd.fst"],["ftc","application/vnd.fluxtime.clip"],["fti","application/vnd.anser-web-funds-transfer-initiation"],["fvt","video/vnd.fvt"],["fxp","application/vnd.adobe.fxp"],["fxpl","application/vnd.adobe.fxp"],["fzs","application/vnd.fuzzysheet"],["g2w","application/vnd.geoplan"],["g3","image/g3fax"],["g3w","application/vnd.geospace"],["gac","application/vnd.groove-account"],["gam","application/x-tads"],["gbr","application/rpki-ghostbusters"],["gca","application/x-gca-compressed"],["gdl","model/vnd.gdl"],["gdoc","application/vnd.google-apps.document"],["geo","application/vnd.dynageo"],["geojson","application/geo+json"],["gex","application/vnd.geometry-explorer"],["ggb","application/vnd.geogebra.file"],["ggt","application/vnd.geogebra.tool"],["ghf","application/vnd.groove-help"],["gif","image/gif"],["gim","application/vnd.groove-identity-message"],["glb","model/gltf-binary"],["gltf","model/gltf+json"],["gml","application/gml+xml"],["gmx","application/vnd.gmx"],["gnumeric","application/x-gnumeric"],["gpg","application/gpg-keys"],["gph","application/vnd.flographit"],["gpx","application/gpx+xml"],["gqf","application/vnd.grafeq"],["gqs","application/vnd.grafeq"],["gram","application/srgs"],["gramps","application/x-gramps-xml"],["gre","application/vnd.geometry-explorer"],["grv","application/vnd.groove-injector"],["grxml","application/srgs+xml"],["gsf","application/x-font-ghostscript"],["gsheet","application/vnd.google-apps.spreadsheet"],["gslides","application/vnd.google-apps.presentation"],["gtar","application/x-gtar"],["gtm","application/vnd.groove-tool-message"],["gtw","model/vnd.gtw"],["gv","text/vnd.graphviz"],["gxf","application/gxf"],["gxt","application/vnd.geonext"],["gz","application/gzip"],["gzip","application/gzip"],["h","text/x-c"],["h261","video/h261"],["h263","video/h263"],["h264","video/h264"],["hal","application/vnd.hal+xml"],["hbci","application/vnd.hbci"],["hbs","text/x-handlebars-template"],["hdd","application/x-virtualbox-hdd"],["hdf","application/x-hdf"],["heic","image/heic"],["heics","image/heic-sequence"],["heif","image/heif"],["heifs","image/heif-sequence"],["hej2","image/hej2k"],["held","application/atsc-held+xml"],["hh","text/x-c"],["hjson","application/hjson"],["hlp","application/winhlp"],["hpgl","application/vnd.hp-hpgl"],["hpid","application/vnd.hp-hpid"],["hps","application/vnd.hp-hps"],["hqx","application/mac-binhex40"],["hsj2","image/hsj2"],["htc","text/x-component"],["htke","application/vnd.kenameaapp"],["htm","text/html"],["html","text/html"],["hvd","application/vnd.yamaha.hv-dic"],["hvp","application/vnd.yamaha.hv-voice"],["hvs","application/vnd.yamaha.hv-script"],["i2g","application/vnd.intergeo"],["icc","application/vnd.iccprofile"],["ice","x-conference/x-cooltalk"],["icm","application/vnd.iccprofile"],["ico","image/x-icon"],["ics","text/calendar"],["ief","image/ief"],["ifb","text/calendar"],["ifm","application/vnd.shana.informed.formdata"],["iges","model/iges"],["igl","application/vnd.igloader"],["igm","application/vnd.insors.igm"],["igs","model/iges"],["igx","application/vnd.micrografx.igx"],["iif","application/vnd.shana.informed.interchange"],["img","application/octet-stream"],["imp","application/vnd.accpac.simply.imp"],["ims","application/vnd.ms-ims"],["in","text/plain"],["ini","text/plain"],["ink","application/inkml+xml"],["inkml","application/inkml+xml"],["install","application/x-install-instructions"],["iota","application/vnd.astraea-software.iota"],["ipfix","application/ipfix"],["ipk","application/vnd.shana.informed.package"],["irm","application/vnd.ibm.rights-management"],["irp","application/vnd.irepository.package+xml"],["iso","application/x-iso9660-image"],["itp","application/vnd.shana.informed.formtemplate"],["its","application/its+xml"],["ivp","application/vnd.immervision-ivp"],["ivu","application/vnd.immervision-ivu"],["jad","text/vnd.sun.j2me.app-descriptor"],["jade","text/jade"],["jam","application/vnd.jam"],["jar","application/java-archive"],["jardiff","application/x-java-archive-diff"],["java","text/x-java-source"],["jhc","image/jphc"],["jisp","application/vnd.jisp"],["jls","image/jls"],["jlt","application/vnd.hp-jlyt"],["jng","image/x-jng"],["jnlp","application/x-java-jnlp-file"],["joda","application/vnd.joost.joda-archive"],["jp2","image/jp2"],["jpe","image/jpeg"],["jpeg","image/jpeg"],["jpf","image/jpx"],["jpg","image/jpeg"],["jpg2","image/jp2"],["jpgm","video/jpm"],["jpgv","video/jpeg"],["jph","image/jph"],["jpm","video/jpm"],["jpx","image/jpx"],["js","application/javascript"],["json","application/json"],["json5","application/json5"],["jsonld","application/ld+json"],["jsonl","application/jsonl"],["jsonml","application/jsonml+json"],["jsx","text/jsx"],["jxr","image/jxr"],["jxra","image/jxra"],["jxrs","image/jxrs"],["jxs","image/jxs"],["jxsc","image/jxsc"],["jxsi","image/jxsi"],["jxss","image/jxss"],["kar","audio/midi"],["karbon","application/vnd.kde.karbon"],["kdb","application/octet-stream"],["kdbx","application/x-keepass2"],["key","application/x-iwork-keynote-sffkey"],["kfo","application/vnd.kde.kformula"],["kia","application/vnd.kidspiration"],["kml","application/vnd.google-earth.kml+xml"],["kmz","application/vnd.google-earth.kmz"],["kne","application/vnd.kinar"],["knp","application/vnd.kinar"],["kon","application/vnd.kde.kontour"],["kpr","application/vnd.kde.kpresenter"],["kpt","application/vnd.kde.kpresenter"],["kpxx","application/vnd.ds-keypoint"],["ksp","application/vnd.kde.kspread"],["ktr","application/vnd.kahootz"],["ktx","image/ktx"],["ktx2","image/ktx2"],["ktz","application/vnd.kahootz"],["kwd","application/vnd.kde.kword"],["kwt","application/vnd.kde.kword"],["lasxml","application/vnd.las.las+xml"],["latex","application/x-latex"],["lbd","application/vnd.llamagraphics.life-balance.desktop"],["lbe","application/vnd.llamagraphics.life-balance.exchange+xml"],["les","application/vnd.hhe.lesson-player"],["less","text/less"],["lgr","application/lgr+xml"],["lha","application/octet-stream"],["link66","application/vnd.route66.link66+xml"],["list","text/plain"],["list3820","application/vnd.ibm.modcap"],["listafp","application/vnd.ibm.modcap"],["litcoffee","text/coffeescript"],["lnk","application/x-ms-shortcut"],["log","text/plain"],["lostxml","application/lost+xml"],["lrf","application/octet-stream"],["lrm","application/vnd.ms-lrm"],["ltf","application/vnd.frogans.ltf"],["lua","text/x-lua"],["luac","application/x-lua-bytecode"],["lvp","audio/vnd.lucent.voice"],["lwp","application/vnd.lotus-wordpro"],["lzh","application/octet-stream"],["m1v","video/mpeg"],["m2a","audio/mpeg"],["m2v","video/mpeg"],["m3a","audio/mpeg"],["m3u","text/plain"],["m3u8","application/vnd.apple.mpegurl"],["m4a","audio/x-m4a"],["m4p","application/mp4"],["m4s","video/iso.segment"],["m4u","application/vnd.mpegurl"],["m4v","video/x-m4v"],["m13","application/x-msmediaview"],["m14","application/x-msmediaview"],["m21","application/mp21"],["ma","application/mathematica"],["mads","application/mads+xml"],["maei","application/mmt-aei+xml"],["mag","application/vnd.ecowin.chart"],["maker","application/vnd.framemaker"],["man","text/troff"],["manifest","text/cache-manifest"],["map","application/json"],["mar","application/octet-stream"],["markdown","text/markdown"],["mathml","application/mathml+xml"],["mb","application/mathematica"],["mbk","application/vnd.mobius.mbk"],["mbox","application/mbox"],["mc1","application/vnd.medcalcdata"],["mcd","application/vnd.mcd"],["mcurl","text/vnd.curl.mcurl"],["md","text/markdown"],["mdb","application/x-msaccess"],["mdi","image/vnd.ms-modi"],["mdx","text/mdx"],["me","text/troff"],["mesh","model/mesh"],["meta4","application/metalink4+xml"],["metalink","application/metalink+xml"],["mets","application/mets+xml"],["mfm","application/vnd.mfmp"],["mft","application/rpki-manifest"],["mgp","application/vnd.osgeo.mapguide.package"],["mgz","application/vnd.proteus.magazine"],["mid","audio/midi"],["midi","audio/midi"],["mie","application/x-mie"],["mif","application/vnd.mif"],["mime","message/rfc822"],["mj2","video/mj2"],["mjp2","video/mj2"],["mjs","application/javascript"],["mk3d","video/x-matroska"],["mka","audio/x-matroska"],["mkd","text/x-markdown"],["mks","video/x-matroska"],["mkv","video/x-matroska"],["mlp","application/vnd.dolby.mlp"],["mmd","application/vnd.chipnuts.karaoke-mmd"],["mmf","application/vnd.smaf"],["mml","text/mathml"],["mmr","image/vnd.fujixerox.edmics-mmr"],["mng","video/x-mng"],["mny","application/x-msmoney"],["mobi","application/x-mobipocket-ebook"],["mods","application/mods+xml"],["mov","video/quicktime"],["movie","video/x-sgi-movie"],["mp2","audio/mpeg"],["mp2a","audio/mpeg"],["mp3","audio/mpeg"],["mp4","video/mp4"],["mp4a","audio/mp4"],["mp4s","application/mp4"],["mp4v","video/mp4"],["mp21","application/mp21"],["mpc","application/vnd.mophun.certificate"],["mpd","application/dash+xml"],["mpe","video/mpeg"],["mpeg","video/mpeg"],["mpg","video/mpeg"],["mpg4","video/mp4"],["mpga","audio/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["mpm","application/vnd.blueice.multipass"],["mpn","application/vnd.mophun.application"],["mpp","application/vnd.ms-project"],["mpt","application/vnd.ms-project"],["mpy","application/vnd.ibm.minipay"],["mqy","application/vnd.mobius.mqy"],["mrc","application/marc"],["mrcx","application/marcxml+xml"],["ms","text/troff"],["mscml","application/mediaservercontrol+xml"],["mseed","application/vnd.fdsn.mseed"],["mseq","application/vnd.mseq"],["msf","application/vnd.epson.msf"],["msg","application/vnd.ms-outlook"],["msh","model/mesh"],["msi","application/x-msdownload"],["msl","application/vnd.mobius.msl"],["msm","application/octet-stream"],["msp","application/octet-stream"],["msty","application/vnd.muvee.style"],["mtl","model/mtl"],["mts","model/vnd.mts"],["mus","application/vnd.musician"],["musd","application/mmt-usd+xml"],["musicxml","application/vnd.recordare.musicxml+xml"],["mvb","application/x-msmediaview"],["mvt","application/vnd.mapbox-vector-tile"],["mwf","application/vnd.mfer"],["mxf","application/mxf"],["mxl","application/vnd.recordare.musicxml"],["mxmf","audio/mobile-xmf"],["mxml","application/xv+xml"],["mxs","application/vnd.triscape.mxs"],["mxu","video/vnd.mpegurl"],["n-gage","application/vnd.nokia.n-gage.symbian.install"],["n3","text/n3"],["nb","application/mathematica"],["nbp","application/vnd.wolfram.player"],["nc","application/x-netcdf"],["ncx","application/x-dtbncx+xml"],["nfo","text/x-nfo"],["ngdat","application/vnd.nokia.n-gage.data"],["nitf","application/vnd.nitf"],["nlu","application/vnd.neurolanguage.nlu"],["nml","application/vnd.enliven"],["nnd","application/vnd.noblenet-directory"],["nns","application/vnd.noblenet-sealer"],["nnw","application/vnd.noblenet-web"],["npx","image/vnd.net-fpx"],["nq","application/n-quads"],["nsc","application/x-conference"],["nsf","application/vnd.lotus-notes"],["nt","application/n-triples"],["ntf","application/vnd.nitf"],["numbers","application/x-iwork-numbers-sffnumbers"],["nzb","application/x-nzb"],["oa2","application/vnd.fujitsu.oasys2"],["oa3","application/vnd.fujitsu.oasys3"],["oas","application/vnd.fujitsu.oasys"],["obd","application/x-msbinder"],["obgx","application/vnd.openblox.game+xml"],["obj","model/obj"],["oda","application/oda"],["odb","application/vnd.oasis.opendocument.database"],["odc","application/vnd.oasis.opendocument.chart"],["odf","application/vnd.oasis.opendocument.formula"],["odft","application/vnd.oasis.opendocument.formula-template"],["odg","application/vnd.oasis.opendocument.graphics"],["odi","application/vnd.oasis.opendocument.image"],["odm","application/vnd.oasis.opendocument.text-master"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogex","model/vnd.opengex"],["ogg","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["omdoc","application/omdoc+xml"],["onepkg","application/onenote"],["onetmp","application/onenote"],["onetoc","application/onenote"],["onetoc2","application/onenote"],["opf","application/oebps-package+xml"],["opml","text/x-opml"],["oprc","application/vnd.palm"],["opus","audio/ogg"],["org","text/x-org"],["osf","application/vnd.yamaha.openscoreformat"],["osfpvg","application/vnd.yamaha.openscoreformat.osfpvg+xml"],["osm","application/vnd.openstreetmap.data+xml"],["otc","application/vnd.oasis.opendocument.chart-template"],["otf","font/otf"],["otg","application/vnd.oasis.opendocument.graphics-template"],["oth","application/vnd.oasis.opendocument.text-web"],["oti","application/vnd.oasis.opendocument.image-template"],["otp","application/vnd.oasis.opendocument.presentation-template"],["ots","application/vnd.oasis.opendocument.spreadsheet-template"],["ott","application/vnd.oasis.opendocument.text-template"],["ova","application/x-virtualbox-ova"],["ovf","application/x-virtualbox-ovf"],["owl","application/rdf+xml"],["oxps","application/oxps"],["oxt","application/vnd.openofficeorg.extension"],["p","text/x-pascal"],["p7a","application/x-pkcs7-signature"],["p7b","application/x-pkcs7-certificates"],["p7c","application/pkcs7-mime"],["p7m","application/pkcs7-mime"],["p7r","application/x-pkcs7-certreqresp"],["p7s","application/pkcs7-signature"],["p8","application/pkcs8"],["p10","application/x-pkcs10"],["p12","application/x-pkcs12"],["pac","application/x-ns-proxy-autoconfig"],["pages","application/x-iwork-pages-sffpages"],["pas","text/x-pascal"],["paw","application/vnd.pawaafile"],["pbd","application/vnd.powerbuilder6"],["pbm","image/x-portable-bitmap"],["pcap","application/vnd.tcpdump.pcap"],["pcf","application/x-font-pcf"],["pcl","application/vnd.hp-pcl"],["pclxl","application/vnd.hp-pclxl"],["pct","image/x-pict"],["pcurl","application/vnd.curl.pcurl"],["pcx","image/x-pcx"],["pdb","application/x-pilot"],["pde","text/x-processing"],["pdf","application/pdf"],["pem","application/x-x509-user-cert"],["pfa","application/x-font-type1"],["pfb","application/x-font-type1"],["pfm","application/x-font-type1"],["pfr","application/font-tdpfr"],["pfx","application/x-pkcs12"],["pgm","image/x-portable-graymap"],["pgn","application/x-chess-pgn"],["pgp","application/pgp"],["php","application/x-httpd-php"],["php3","application/x-httpd-php"],["php4","application/x-httpd-php"],["phps","application/x-httpd-php-source"],["phtml","application/x-httpd-php"],["pic","image/x-pict"],["pkg","application/octet-stream"],["pki","application/pkixcmp"],["pkipath","application/pkix-pkipath"],["pkpass","application/vnd.apple.pkpass"],["pl","application/x-perl"],["plb","application/vnd.3gpp.pic-bw-large"],["plc","application/vnd.mobius.plc"],["plf","application/vnd.pocketlearn"],["pls","application/pls+xml"],["pm","application/x-perl"],["pml","application/vnd.ctc-posml"],["png","image/png"],["pnm","image/x-portable-anymap"],["portpkg","application/vnd.macports.portpkg"],["pot","application/vnd.ms-powerpoint"],["potm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["potx","application/vnd.openxmlformats-officedocument.presentationml.template"],["ppa","application/vnd.ms-powerpoint"],["ppam","application/vnd.ms-powerpoint.addin.macroEnabled.12"],["ppd","application/vnd.cups-ppd"],["ppm","image/x-portable-pixmap"],["pps","application/vnd.ms-powerpoint"],["ppsm","application/vnd.ms-powerpoint.slideshow.macroEnabled.12"],["ppsx","application/vnd.openxmlformats-officedocument.presentationml.slideshow"],["ppt","application/powerpoint"],["pptm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["pqa","application/vnd.palm"],["prc","application/x-pilot"],["pre","application/vnd.lotus-freelance"],["prf","application/pics-rules"],["provx","application/provenance+xml"],["ps","application/postscript"],["psb","application/vnd.3gpp.pic-bw-small"],["psd","application/x-photoshop"],["psf","application/x-font-linux-psf"],["pskcxml","application/pskc+xml"],["pti","image/prs.pti"],["ptid","application/vnd.pvi.ptid1"],["pub","application/x-mspublisher"],["pvb","application/vnd.3gpp.pic-bw-var"],["pwn","application/vnd.3m.post-it-notes"],["pya","audio/vnd.ms-playready.media.pya"],["pyv","video/vnd.ms-playready.media.pyv"],["qam","application/vnd.epson.quickanime"],["qbo","application/vnd.intu.qbo"],["qfx","application/vnd.intu.qfx"],["qps","application/vnd.publishare-delta-tree"],["qt","video/quicktime"],["qwd","application/vnd.quark.quarkxpress"],["qwt","application/vnd.quark.quarkxpress"],["qxb","application/vnd.quark.quarkxpress"],["qxd","application/vnd.quark.quarkxpress"],["qxl","application/vnd.quark.quarkxpress"],["qxt","application/vnd.quark.quarkxpress"],["ra","audio/x-realaudio"],["ram","audio/x-pn-realaudio"],["raml","application/raml+yaml"],["rapd","application/route-apd+xml"],["rar","application/x-rar"],["ras","image/x-cmu-raster"],["rcprofile","application/vnd.ipunplugged.rcprofile"],["rdf","application/rdf+xml"],["rdz","application/vnd.data-vision.rdz"],["relo","application/p2p-overlay+xml"],["rep","application/vnd.businessobjects"],["res","application/x-dtbresource+xml"],["rgb","image/x-rgb"],["rif","application/reginfo+xml"],["rip","audio/vnd.rip"],["ris","application/x-research-info-systems"],["rl","application/resource-lists+xml"],["rlc","image/vnd.fujixerox.edmics-rlc"],["rld","application/resource-lists-diff+xml"],["rm","audio/x-pn-realaudio"],["rmi","audio/midi"],["rmp","audio/x-pn-realaudio-plugin"],["rms","application/vnd.jcp.javame.midlet-rms"],["rmvb","application/vnd.rn-realmedia-vbr"],["rnc","application/relax-ng-compact-syntax"],["rng","application/xml"],["roa","application/rpki-roa"],["roff","text/troff"],["rp9","application/vnd.cloanto.rp9"],["rpm","audio/x-pn-realaudio-plugin"],["rpss","application/vnd.nokia.radio-presets"],["rpst","application/vnd.nokia.radio-preset"],["rq","application/sparql-query"],["rs","application/rls-services+xml"],["rsa","application/x-pkcs7"],["rsat","application/atsc-rsat+xml"],["rsd","application/rsd+xml"],["rsheet","application/urc-ressheet+xml"],["rss","application/rss+xml"],["rtf","text/rtf"],["rtx","text/richtext"],["run","application/x-makeself"],["rusd","application/route-usd+xml"],["rv","video/vnd.rn-realvideo"],["s","text/x-asm"],["s3m","audio/s3m"],["saf","application/vnd.yamaha.smaf-audio"],["sass","text/x-sass"],["sbml","application/sbml+xml"],["sc","application/vnd.ibm.secure-container"],["scd","application/x-msschedule"],["scm","application/vnd.lotus-screencam"],["scq","application/scvp-cv-request"],["scs","application/scvp-cv-response"],["scss","text/x-scss"],["scurl","text/vnd.curl.scurl"],["sda","application/vnd.stardivision.draw"],["sdc","application/vnd.stardivision.calc"],["sdd","application/vnd.stardivision.impress"],["sdkd","application/vnd.solent.sdkm+xml"],["sdkm","application/vnd.solent.sdkm+xml"],["sdp","application/sdp"],["sdw","application/vnd.stardivision.writer"],["sea","application/octet-stream"],["see","application/vnd.seemail"],["seed","application/vnd.fdsn.seed"],["sema","application/vnd.sema"],["semd","application/vnd.semd"],["semf","application/vnd.semf"],["senmlx","application/senml+xml"],["sensmlx","application/sensml+xml"],["ser","application/java-serialized-object"],["setpay","application/set-payment-initiation"],["setreg","application/set-registration-initiation"],["sfd-hdstx","application/vnd.hydrostatix.sof-data"],["sfs","application/vnd.spotfire.sfs"],["sfv","text/x-sfv"],["sgi","image/sgi"],["sgl","application/vnd.stardivision.writer-global"],["sgm","text/sgml"],["sgml","text/sgml"],["sh","application/x-sh"],["shar","application/x-shar"],["shex","text/shex"],["shf","application/shf+xml"],["shtml","text/html"],["sid","image/x-mrsid-image"],["sieve","application/sieve"],["sig","application/pgp-signature"],["sil","audio/silk"],["silo","model/mesh"],["sis","application/vnd.symbian.install"],["sisx","application/vnd.symbian.install"],["sit","application/x-stuffit"],["sitx","application/x-stuffitx"],["siv","application/sieve"],["skd","application/vnd.koan"],["skm","application/vnd.koan"],["skp","application/vnd.koan"],["skt","application/vnd.koan"],["sldm","application/vnd.ms-powerpoint.slide.macroenabled.12"],["sldx","application/vnd.openxmlformats-officedocument.presentationml.slide"],["slim","text/slim"],["slm","text/slim"],["sls","application/route-s-tsid+xml"],["slt","application/vnd.epson.salt"],["sm","application/vnd.stepmania.stepchart"],["smf","application/vnd.stardivision.math"],["smi","application/smil"],["smil","application/smil"],["smv","video/x-smv"],["smzip","application/vnd.stepmania.package"],["snd","audio/basic"],["snf","application/x-font-snf"],["so","application/octet-stream"],["spc","application/x-pkcs7-certificates"],["spdx","text/spdx"],["spf","application/vnd.yamaha.smaf-phrase"],["spl","application/x-futuresplash"],["spot","text/vnd.in3d.spot"],["spp","application/scvp-vp-response"],["spq","application/scvp-vp-request"],["spx","audio/ogg"],["sql","application/x-sql"],["src","application/x-wais-source"],["srt","application/x-subrip"],["sru","application/sru+xml"],["srx","application/sparql-results+xml"],["ssdl","application/ssdl+xml"],["sse","application/vnd.kodak-descriptor"],["ssf","application/vnd.epson.ssf"],["ssml","application/ssml+xml"],["sst","application/octet-stream"],["st","application/vnd.sailingtracker.track"],["stc","application/vnd.sun.xml.calc.template"],["std","application/vnd.sun.xml.draw.template"],["stf","application/vnd.wt.stf"],["sti","application/vnd.sun.xml.impress.template"],["stk","application/hyperstudio"],["stl","model/stl"],["stpx","model/step+xml"],["stpxz","model/step-xml+zip"],["stpz","model/step+zip"],["str","application/vnd.pg.format"],["stw","application/vnd.sun.xml.writer.template"],["styl","text/stylus"],["stylus","text/stylus"],["sub","text/vnd.dvb.subtitle"],["sus","application/vnd.sus-calendar"],["susp","application/vnd.sus-calendar"],["sv4cpio","application/x-sv4cpio"],["sv4crc","application/x-sv4crc"],["svc","application/vnd.dvb.service"],["svd","application/vnd.svd"],["svg","image/svg+xml"],["svgz","image/svg+xml"],["swa","application/x-director"],["swf","application/x-shockwave-flash"],["swi","application/vnd.aristanetworks.swi"],["swidtag","application/swid+xml"],["sxc","application/vnd.sun.xml.calc"],["sxd","application/vnd.sun.xml.draw"],["sxg","application/vnd.sun.xml.writer.global"],["sxi","application/vnd.sun.xml.impress"],["sxm","application/vnd.sun.xml.math"],["sxw","application/vnd.sun.xml.writer"],["t","text/troff"],["t3","application/x-t3vm-image"],["t38","image/t38"],["taglet","application/vnd.mynfc"],["tao","application/vnd.tao.intent-module-archive"],["tap","image/vnd.tencent.tap"],["tar","application/x-tar"],["tcap","application/vnd.3gpp2.tcap"],["tcl","application/x-tcl"],["td","application/urc-targetdesc+xml"],["teacher","application/vnd.smart.teacher"],["tei","application/tei+xml"],["teicorpus","application/tei+xml"],["tex","application/x-tex"],["texi","application/x-texinfo"],["texinfo","application/x-texinfo"],["text","text/plain"],["tfi","application/thraud+xml"],["tfm","application/x-tex-tfm"],["tfx","image/tiff-fx"],["tga","image/x-tga"],["tgz","application/x-tar"],["thmx","application/vnd.ms-officetheme"],["tif","image/tiff"],["tiff","image/tiff"],["tk","application/x-tcl"],["tmo","application/vnd.tmobile-livetv"],["toml","application/toml"],["torrent","application/x-bittorrent"],["tpl","application/vnd.groove-tool-template"],["tpt","application/vnd.trid.tpt"],["tr","text/troff"],["tra","application/vnd.trueapp"],["trig","application/trig"],["trm","application/x-msterminal"],["ts","video/mp2t"],["tsd","application/timestamped-data"],["tsv","text/tab-separated-values"],["ttc","font/collection"],["ttf","font/ttf"],["ttl","text/turtle"],["ttml","application/ttml+xml"],["twd","application/vnd.simtech-mindmapper"],["twds","application/vnd.simtech-mindmapper"],["txd","application/vnd.genomatix.tuxedo"],["txf","application/vnd.mobius.txf"],["txt","text/plain"],["u8dsn","message/global-delivery-status"],["u8hdr","message/global-headers"],["u8mdn","message/global-disposition-notification"],["u8msg","message/global"],["u32","application/x-authorware-bin"],["ubj","application/ubjson"],["udeb","application/x-debian-package"],["ufd","application/vnd.ufdl"],["ufdl","application/vnd.ufdl"],["ulx","application/x-glulx"],["umj","application/vnd.umajin"],["unityweb","application/vnd.unity"],["uoml","application/vnd.uoml+xml"],["uri","text/uri-list"],["uris","text/uri-list"],["urls","text/uri-list"],["usdz","model/vnd.usdz+zip"],["ustar","application/x-ustar"],["utz","application/vnd.uiq.theme"],["uu","text/x-uuencode"],["uva","audio/vnd.dece.audio"],["uvd","application/vnd.dece.data"],["uvf","application/vnd.dece.data"],["uvg","image/vnd.dece.graphic"],["uvh","video/vnd.dece.hd"],["uvi","image/vnd.dece.graphic"],["uvm","video/vnd.dece.mobile"],["uvp","video/vnd.dece.pd"],["uvs","video/vnd.dece.sd"],["uvt","application/vnd.dece.ttml+xml"],["uvu","video/vnd.uvvu.mp4"],["uvv","video/vnd.dece.video"],["uvva","audio/vnd.dece.audio"],["uvvd","application/vnd.dece.data"],["uvvf","application/vnd.dece.data"],["uvvg","image/vnd.dece.graphic"],["uvvh","video/vnd.dece.hd"],["uvvi","image/vnd.dece.graphic"],["uvvm","video/vnd.dece.mobile"],["uvvp","video/vnd.dece.pd"],["uvvs","video/vnd.dece.sd"],["uvvt","application/vnd.dece.ttml+xml"],["uvvu","video/vnd.uvvu.mp4"],["uvvv","video/vnd.dece.video"],["uvvx","application/vnd.dece.unspecified"],["uvvz","application/vnd.dece.zip"],["uvx","application/vnd.dece.unspecified"],["uvz","application/vnd.dece.zip"],["vbox","application/x-virtualbox-vbox"],["vbox-extpack","application/x-virtualbox-vbox-extpack"],["vcard","text/vcard"],["vcd","application/x-cdlink"],["vcf","text/x-vcard"],["vcg","application/vnd.groove-vcard"],["vcs","text/x-vcalendar"],["vcx","application/vnd.vcx"],["vdi","application/x-virtualbox-vdi"],["vds","model/vnd.sap.vds"],["vhd","application/x-virtualbox-vhd"],["vis","application/vnd.visionary"],["viv","video/vnd.vivo"],["vlc","application/videolan"],["vmdk","application/x-virtualbox-vmdk"],["vob","video/x-ms-vob"],["vor","application/vnd.stardivision.writer"],["vox","application/x-authorware-bin"],["vrml","model/vrml"],["vsd","application/vnd.visio"],["vsf","application/vnd.vsf"],["vss","application/vnd.visio"],["vst","application/vnd.visio"],["vsw","application/vnd.visio"],["vtf","image/vnd.valve.source.texture"],["vtt","text/vtt"],["vtu","model/vnd.vtu"],["vxml","application/voicexml+xml"],["w3d","application/x-director"],["wad","application/x-doom"],["wadl","application/vnd.sun.wadl+xml"],["war","application/java-archive"],["wasm","application/wasm"],["wav","audio/x-wav"],["wax","audio/x-ms-wax"],["wbmp","image/vnd.wap.wbmp"],["wbs","application/vnd.criticaltools.wbs+xml"],["wbxml","application/wbxml"],["wcm","application/vnd.ms-works"],["wdb","application/vnd.ms-works"],["wdp","image/vnd.ms-photo"],["weba","audio/webm"],["webapp","application/x-web-app-manifest+json"],["webm","video/webm"],["webmanifest","application/manifest+json"],["webp","image/webp"],["wg","application/vnd.pmi.widget"],["wgt","application/widget"],["wks","application/vnd.ms-works"],["wm","video/x-ms-wm"],["wma","audio/x-ms-wma"],["wmd","application/x-ms-wmd"],["wmf","image/wmf"],["wml","text/vnd.wap.wml"],["wmlc","application/wmlc"],["wmls","text/vnd.wap.wmlscript"],["wmlsc","application/vnd.wap.wmlscriptc"],["wmv","video/x-ms-wmv"],["wmx","video/x-ms-wmx"],["wmz","application/x-msmetafile"],["woff","font/woff"],["woff2","font/woff2"],["word","application/msword"],["wpd","application/vnd.wordperfect"],["wpl","application/vnd.ms-wpl"],["wps","application/vnd.ms-works"],["wqd","application/vnd.wqd"],["wri","application/x-mswrite"],["wrl","model/vrml"],["wsc","message/vnd.wfa.wsc"],["wsdl","application/wsdl+xml"],["wspolicy","application/wspolicy+xml"],["wtb","application/vnd.webturbo"],["wvx","video/x-ms-wvx"],["x3d","model/x3d+xml"],["x3db","model/x3d+fastinfoset"],["x3dbz","model/x3d+binary"],["x3dv","model/x3d-vrml"],["x3dvz","model/x3d+vrml"],["x3dz","model/x3d+xml"],["x32","application/x-authorware-bin"],["x_b","model/vnd.parasolid.transmit.binary"],["x_t","model/vnd.parasolid.transmit.text"],["xaml","application/xaml+xml"],["xap","application/x-silverlight-app"],["xar","application/vnd.xara"],["xav","application/xcap-att+xml"],["xbap","application/x-ms-xbap"],["xbd","application/vnd.fujixerox.docuworks.binder"],["xbm","image/x-xbitmap"],["xca","application/xcap-caps+xml"],["xcs","application/calendar+xml"],["xdf","application/xcap-diff+xml"],["xdm","application/vnd.syncml.dm+xml"],["xdp","application/vnd.adobe.xdp+xml"],["xdssc","application/dssc+xml"],["xdw","application/vnd.fujixerox.docuworks"],["xel","application/xcap-el+xml"],["xenc","application/xenc+xml"],["xer","application/patch-ops-error+xml"],["xfdf","application/vnd.adobe.xfdf"],["xfdl","application/vnd.xfdl"],["xht","application/xhtml+xml"],["xhtml","application/xhtml+xml"],["xhvml","application/xv+xml"],["xif","image/vnd.xiff"],["xl","application/excel"],["xla","application/vnd.ms-excel"],["xlam","application/vnd.ms-excel.addin.macroEnabled.12"],["xlc","application/vnd.ms-excel"],["xlf","application/xliff+xml"],["xlm","application/vnd.ms-excel"],["xls","application/vnd.ms-excel"],["xlsb","application/vnd.ms-excel.sheet.binary.macroEnabled.12"],["xlsm","application/vnd.ms-excel.sheet.macroEnabled.12"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xlt","application/vnd.ms-excel"],["xltm","application/vnd.ms-excel.template.macroEnabled.12"],["xltx","application/vnd.openxmlformats-officedocument.spreadsheetml.template"],["xlw","application/vnd.ms-excel"],["xm","audio/xm"],["xml","application/xml"],["xns","application/xcap-ns+xml"],["xo","application/vnd.olpc-sugar"],["xop","application/xop+xml"],["xpi","application/x-xpinstall"],["xpl","application/xproc+xml"],["xpm","image/x-xpixmap"],["xpr","application/vnd.is-xpr"],["xps","application/vnd.ms-xpsdocument"],["xpw","application/vnd.intercon.formnet"],["xpx","application/vnd.intercon.formnet"],["xsd","application/xml"],["xsl","application/xml"],["xslt","application/xslt+xml"],["xsm","application/vnd.syncml+xml"],["xspf","application/xspf+xml"],["xul","application/vnd.mozilla.xul+xml"],["xvm","application/xv+xml"],["xvml","application/xv+xml"],["xwd","image/x-xwindowdump"],["xyz","chemical/x-xyz"],["xz","application/x-xz"],["yaml","text/yaml"],["yang","application/yang"],["yin","application/yin+xml"],["yml","text/yaml"],["ymp","text/x-suse-ymp"],["z","application/x-compress"],["z1","application/x-zmachine"],["z2","application/x-zmachine"],["z3","application/x-zmachine"],["z4","application/x-zmachine"],["z5","application/x-zmachine"],["z6","application/x-zmachine"],["z7","application/x-zmachine"],["z8","application/x-zmachine"],["zaz","application/vnd.zzazz.deck+xml"],["zip","application/zip"],["zir","application/vnd.zul"],["zirz","application/vnd.zul"],["zmm","application/vnd.handheld-entertainment+xml"],["zsh","text/x-scriptzsh"]]);function gd(e,r,n){const s=lF(e),{webkitRelativePath:a}=e,i=typeof r=="string"?r:typeof a=="string"&&a.length>0?a:`./${e.name}`;return typeof s.path!="string"&&iw(s,"path",i),n!==void 0&&Object.defineProperty(s,"handle",{value:n,writable:!1,configurable:!1,enumerable:!0}),iw(s,"relativePath",i),s}function lF(e){const{name:r}=e;if(r&&r.lastIndexOf(".")!==-1&&!e.type){const s=r.split(".").pop().toLowerCase(),a=oF.get(s);a&&Object.defineProperty(e,"type",{value:a,writable:!1,configurable:!1,enumerable:!0})}return e}function iw(e,r,n){Object.defineProperty(e,r,{value:n,writable:!1,configurable:!1,enumerable:!0})}const cF=[".DS_Store","Thumbs.db"];function dF(e){return Kl(this,void 0,void 0,function*(){return Af(e)&&uF(e.dataTransfer)?fF(e.dataTransfer,e.type):mF(e)?pF(e):Array.isArray(e)&&e.every(r=>"getFile"in r&&typeof r.getFile=="function")?hF(e):[]})}function uF(e){return Af(e)}function mF(e){return Af(e)&&Af(e.target)}function Af(e){return typeof e=="object"&&e!==null}function pF(e){return Z0(e.target.files).map(r=>gd(r))}function hF(e){return Kl(this,void 0,void 0,function*(){return(yield Promise.all(e.map(n=>n.getFile()))).map(n=>gd(n))})}function fF(e,r){return Kl(this,void 0,void 0,function*(){if(e.items){const n=Z0(e.items).filter(a=>a.kind==="file");if(r!=="drop")return n;const s=yield Promise.all(n.map(xF));return ow(PC(s))}return ow(Z0(e.files).map(n=>gd(n)))})}function ow(e){return e.filter(r=>cF.indexOf(r.name)===-1)}function Z0(e){if(e===null)return[];const r=[];for(let n=0;n<e.length;n++){const s=e[n];r.push(s)}return r}function xF(e){if(typeof e.webkitGetAsEntry!="function")return lw(e);const r=e.webkitGetAsEntry();return r&&r.isDirectory?DC(r):lw(e,r)}function PC(e){return e.reduce((r,n)=>[...r,...Array.isArray(n)?PC(n):[n]],[])}function lw(e,r){return Kl(this,void 0,void 0,function*(){var n;if(globalThis.isSecureContext&&typeof e.getAsFileSystemHandle=="function"){const i=yield e.getAsFileSystemHandle();if(i===null)throw new Error(`${e} is not a File`);if(i!==void 0){const o=yield i.getFile();return o.handle=i,gd(o)}}const s=e.getAsFile();if(!s)throw new Error(`${e} is not a File`);return gd(s,(n=r==null?void 0:r.fullPath)!==null&&n!==void 0?n:void 0)})}function gF(e){return Kl(this,void 0,void 0,function*(){return e.isDirectory?DC(e):vF(e)})}function DC(e){const r=e.createReader();return new Promise((n,s)=>{const a=[];function i(){r.readEntries(o=>Kl(this,void 0,void 0,function*(){if(o.length){const l=Promise.all(o.map(gF));a.push(l),i()}else try{const l=yield Promise.all(a);n(l)}catch(l){s(l)}}),o=>{s(o)})}i()})}function vF(e){return Kl(this,void 0,void 0,function*(){return new Promise((r,n)=>{e.file(s=>{const a=gd(s,e.fullPath);r(a)},s=>{n(s)})})})}var gv=function(e,r){if(e&&r){var n=Array.isArray(r)?r:r.split(",");if(n.length===0)return!0;var s=e.name||"",a=(e.type||"").toLowerCase(),i=a.replace(/\/.*$/,"");return n.some(function(o){var l=o.trim().toLowerCase();return l.charAt(0)==="."?s.toLowerCase().endsWith(l):l.endsWith("/*")?i===l.replace(/\/.*$/,""):a===l})}return!0};function cw(e){return jF(e)||bF(e)||TC(e)||yF()}function yF(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bF(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function jF(e){if(Array.isArray(e))return e1(e)}function dw(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);r&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,s)}return n}function uw(e){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?dw(Object(n),!0).forEach(function(s){kC(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dw(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function kC(e,r,n){return r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function jm(e,r){return SF(e)||NF(e,r)||TC(e,r)||wF()}function wF(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function TC(e,r){if(e){if(typeof e=="string")return e1(e,r);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return e1(e,r)}}function e1(e,r){(r==null||r>e.length)&&(r=e.length);for(var n=0,s=new Array(r);n<r;n++)s[n]=e[n];return s}function NF(e,r){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var s=[],a=!0,i=!1,o,l;try{for(n=n.call(e);!(a=(o=n.next()).done)&&(s.push(o.value),!(r&&s.length===r));a=!0);}catch(c){i=!0,l=c}finally{try{!a&&n.return!=null&&n.return()}finally{if(i)throw l}}return s}}function SF(e){if(Array.isArray(e))return e}var CF=typeof gv=="function"?gv:gv.default,AF="file-invalid-type",EF="file-too-large",IF="file-too-small",PF="too-many-files",DF=function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",n=r.split(","),s=n.length>1?"one of ".concat(n.join(", ")):n[0];return{code:AF,message:"File type must be ".concat(s)}},mw=function(r){return{code:EF,message:"File is larger than ".concat(r," ").concat(r===1?"byte":"bytes")}},pw=function(r){return{code:IF,message:"File is smaller than ".concat(r," ").concat(r===1?"byte":"bytes")}},kF={code:PF,message:"Too many files"};function LC(e,r){var n=e.type==="application/x-moz-file"||CF(e,r);return[n,n?null:DF(r)]}function RC(e,r,n){if(jl(e.size))if(jl(r)&&jl(n)){if(e.size>n)return[!1,mw(n)];if(e.size<r)return[!1,pw(r)]}else{if(jl(r)&&e.size<r)return[!1,pw(r)];if(jl(n)&&e.size>n)return[!1,mw(n)]}return[!0,null]}function jl(e){return e!=null}function TF(e){var r=e.files,n=e.accept,s=e.minSize,a=e.maxSize,i=e.multiple,o=e.maxFiles,l=e.validator;return!i&&r.length>1||i&&o>=1&&r.length>o?!1:r.every(function(c){var d=LC(c,n),m=jm(d,1),u=m[0],h=RC(c,s,a),p=jm(h,1),g=p[0],b=l?l(c):null;return u&&g&&!b})}function Ef(e){return typeof e.isPropagationStopped=="function"?e.isPropagationStopped():typeof e.cancelBubble<"u"?e.cancelBubble:!1}function ph(e){return e.dataTransfer?Array.prototype.some.call(e.dataTransfer.types,function(r){return r==="Files"||r==="application/x-moz-file"}):!!e.target&&!!e.target.files}function hw(e){e.preventDefault()}function LF(e){return e.indexOf("MSIE")!==-1||e.indexOf("Trident/")!==-1}function RF(e){return e.indexOf("Edge/")!==-1}function FF(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window.navigator.userAgent;return LF(e)||RF(e)}function Za(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return function(s){for(var a=arguments.length,i=new Array(a>1?a-1:0),o=1;o<a;o++)i[o-1]=arguments[o];return r.some(function(l){return!Ef(s)&&l&&l.apply(void 0,[s].concat(i)),Ef(s)})}}function _F(){return"showOpenFilePicker"in window}function OF(e){if(jl(e)){var r=Object.entries(e).filter(function(n){var s=jm(n,2),a=s[0],i=s[1],o=!0;return FC(a)||(console.warn('Skipped "'.concat(a,'" because it is not a valid MIME type. Check https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_types/Common_types for a list of valid MIME types.')),o=!1),(!Array.isArray(i)||!i.every(_C))&&(console.warn('Skipped "'.concat(a,'" because an invalid file extension was provided.')),o=!1),o}).reduce(function(n,s){var a=jm(s,2),i=a[0],o=a[1];return uw(uw({},n),{},kC({},i,o))},{});return[{description:"Files",accept:r}]}return e}function MF(e){if(jl(e))return Object.entries(e).reduce(function(r,n){var s=jm(n,2),a=s[0],i=s[1];return[].concat(cw(r),[a],cw(i))},[]).filter(function(r){return FC(r)||_C(r)}).join(",")}function BF(e){return e instanceof DOMException&&(e.name==="AbortError"||e.code===e.ABORT_ERR)}function zF(e){return e instanceof DOMException&&(e.name==="SecurityError"||e.code===e.SECURITY_ERR)}function FC(e){return e==="audio/*"||e==="video/*"||e==="image/*"||e==="text/*"||e==="application/*"||/\w+\/[-+.\w]+/g.test(e)}function _C(e){return/^.*\.[\w]+$/.test(e)}var $F=["children"],UF=["open"],VF=["refKey","role","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"],WF=["refKey","onChange","onClick"];function qF(e){return QF(e)||GF(e)||OC(e)||HF()}function HF(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function GF(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function QF(e){if(Array.isArray(e))return t1(e)}function vv(e,r){return JF(e)||KF(e,r)||OC(e,r)||YF()}function YF(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function OC(e,r){if(e){if(typeof e=="string")return t1(e,r);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return t1(e,r)}}function t1(e,r){(r==null||r>e.length)&&(r=e.length);for(var n=0,s=new Array(r);n<r;n++)s[n]=e[n];return s}function KF(e,r){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var s=[],a=!0,i=!1,o,l;try{for(n=n.call(e);!(a=(o=n.next()).done)&&(s.push(o.value),!(r&&s.length===r));a=!0);}catch(c){i=!0,l=c}finally{try{!a&&n.return!=null&&n.return()}finally{if(i)throw l}}return s}}function JF(e){if(Array.isArray(e))return e}function fw(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);r&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,s)}return n}function Ir(e){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?fw(Object(n),!0).forEach(function(s){r1(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fw(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function r1(e,r,n){return r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function If(e,r){if(e==null)return{};var n=XF(e,r),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],!(r.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function XF(e,r){if(e==null)return{};var n={},s=Object.keys(e),a,i;for(i=0;i<s.length;i++)a=s[i],!(r.indexOf(a)>=0)&&(n[a]=e[a]);return n}var Qy=A.forwardRef(function(e,r){var n=e.children,s=If(e,$F),a=gx(s),i=a.open,o=If(a,UF);return A.useImperativeHandle(r,function(){return{open:i}},[i]),Dt.createElement(A.Fragment,null,n(Ir(Ir({},o),{},{open:i})))});Qy.displayName="Dropzone";var MC={disabled:!1,getFilesFromEvent:dF,maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1,validator:null,useFsAccessApi:!1,autoFocus:!1};Qy.defaultProps=MC;Qy.propTypes={children:hr.func,accept:hr.objectOf(hr.arrayOf(hr.string)),multiple:hr.bool,preventDropOnDocument:hr.bool,noClick:hr.bool,noKeyboard:hr.bool,noDrag:hr.bool,noDragEventsBubbling:hr.bool,minSize:hr.number,maxSize:hr.number,maxFiles:hr.number,disabled:hr.bool,getFilesFromEvent:hr.func,onFileDialogCancel:hr.func,onFileDialogOpen:hr.func,useFsAccessApi:hr.bool,autoFocus:hr.bool,onDragEnter:hr.func,onDragLeave:hr.func,onDragOver:hr.func,onDrop:hr.func,onDropAccepted:hr.func,onDropRejected:hr.func,onError:hr.func,validator:hr.func};var n1={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,acceptedFiles:[],fileRejections:[]};function gx(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=Ir(Ir({},MC),e),n=r.accept,s=r.disabled,a=r.getFilesFromEvent,i=r.maxSize,o=r.minSize,l=r.multiple,c=r.maxFiles,d=r.onDragEnter,m=r.onDragLeave,u=r.onDragOver,h=r.onDrop,p=r.onDropAccepted,g=r.onDropRejected,b=r.onFileDialogCancel,j=r.onFileDialogOpen,x=r.useFsAccessApi,v=r.autoFocus,y=r.preventDropOnDocument,E=r.noClick,O=r.noKeyboard,M=r.noDrag,P=r.noDragEventsBubbling,S=r.onError,I=r.validator,k=A.useMemo(function(){return MF(n)},[n]),C=A.useMemo(function(){return OF(n)},[n]),w=A.useMemo(function(){return typeof j=="function"?j:xw},[j]),L=A.useMemo(function(){return typeof b=="function"?b:xw},[b]),T=A.useRef(null),W=A.useRef(null),V=A.useReducer(ZF,n1),_=vv(V,2),B=_[0],U=_[1],H=B.isFocused,q=B.isFileDialogActive,R=A.useRef(typeof window<"u"&&window.isSecureContext&&x&&_F()),$=function(){!R.current&&q&&setTimeout(function(){if(W.current){var We=W.current.files;We.length||(U({type:"closeDialog"}),L())}},300)};A.useEffect(function(){return window.addEventListener("focus",$,!1),function(){window.removeEventListener("focus",$,!1)}},[W,q,L,R]);var G=A.useRef([]),X=function(We){T.current&&T.current.contains(We.target)||(We.preventDefault(),G.current=[])};A.useEffect(function(){return y&&(document.addEventListener("dragover",hw,!1),document.addEventListener("drop",X,!1)),function(){y&&(document.removeEventListener("dragover",hw),document.removeEventListener("drop",X))}},[T,y]),A.useEffect(function(){return!s&&v&&T.current&&T.current.focus(),function(){}},[T,v,s]);var Z=A.useCallback(function(De){S?S(De):console.error(De)},[S]),le=A.useCallback(function(De){De.preventDefault(),De.persist(),Ve(De),G.current=[].concat(qF(G.current),[De.target]),ph(De)&&Promise.resolve(a(De)).then(function(We){if(!(Ef(De)&&!P)){var st=We.length,mt=st>0&&TF({files:We,accept:k,minSize:o,maxSize:i,multiple:l,maxFiles:c,validator:I}),Nt=st>0&&!mt;U({isDragAccept:mt,isDragReject:Nt,isDragActive:!0,type:"setDraggedFiles"}),d&&d(De)}}).catch(function(We){return Z(We)})},[a,d,Z,P,k,o,i,l,c,I]),ce=A.useCallback(function(De){De.preventDefault(),De.persist(),Ve(De);var We=ph(De);if(We&&De.dataTransfer)try{De.dataTransfer.dropEffect="copy"}catch{}return We&&u&&u(De),!1},[u,P]),de=A.useCallback(function(De){De.preventDefault(),De.persist(),Ve(De);var We=G.current.filter(function(mt){return T.current&&T.current.contains(mt)}),st=We.indexOf(De.target);st!==-1&&We.splice(st,1),G.current=We,!(We.length>0)&&(U({type:"setDraggedFiles",isDragActive:!1,isDragAccept:!1,isDragReject:!1}),ph(De)&&m&&m(De))},[T,m,P]),Se=A.useCallback(function(De,We){var st=[],mt=[];De.forEach(function(Nt){var yt=LC(Nt,k),It=vv(yt,2),Ke=It[0],Zt=It[1],Ot=RC(Nt,o,i),an=vv(Ot,2),er=an[0],ur=an[1],is=I?I(Nt):null;if(Ke&&er&&!is)st.push(Nt);else{var Ht=[Zt,ur];is&&(Ht=Ht.concat(is)),mt.push({file:Nt,errors:Ht.filter(function(vi){return vi})})}}),(!l&&st.length>1||l&&c>=1&&st.length>c)&&(st.forEach(function(Nt){mt.push({file:Nt,errors:[kF]})}),st.splice(0)),U({acceptedFiles:st,fileRejections:mt,isDragReject:mt.length>0,type:"setFiles"}),h&&h(st,mt,We),mt.length>0&&g&&g(mt,We),st.length>0&&p&&p(st,We)},[U,l,k,o,i,c,h,p,g,I]),ye=A.useCallback(function(De){De.preventDefault(),De.persist(),Ve(De),G.current=[],ph(De)&&Promise.resolve(a(De)).then(function(We){Ef(De)&&!P||Se(We,De)}).catch(function(We){return Z(We)}),U({type:"reset"})},[a,Se,Z,P]),Ee=A.useCallback(function(){if(R.current){U({type:"openDialog"}),w();var De={multiple:l,types:C};window.showOpenFilePicker(De).then(function(We){return a(We)}).then(function(We){Se(We,null),U({type:"closeDialog"})}).catch(function(We){BF(We)?(L(We),U({type:"closeDialog"})):zF(We)?(R.current=!1,W.current?(W.current.value=null,W.current.click()):Z(new Error("Cannot open the file picker because the https://developer.mozilla.org/en-US/docs/Web/API/File_System_Access_API is not supported and no <input> was provided."))):Z(We)});return}W.current&&(U({type:"openDialog"}),w(),W.current.value=null,W.current.click())},[U,w,L,x,Se,Z,C,l]),Fe=A.useCallback(function(De){!T.current||!T.current.isEqualNode(De.target)||(De.key===" "||De.key==="Enter"||De.keyCode===32||De.keyCode===13)&&(De.preventDefault(),Ee())},[T,Ee]),he=A.useCallback(function(){U({type:"focus"})},[]),ie=A.useCallback(function(){U({type:"blur"})},[]),te=A.useCallback(function(){E||(FF()?setTimeout(Ee,0):Ee())},[E,Ee]),Ue=function(We){return s?null:We},_e=function(We){return O?null:Ue(We)},ke=function(We){return M?null:Ue(We)},Ve=function(We){P&&We.stopPropagation()},Je=A.useMemo(function(){return function(){var De=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},We=De.refKey,st=We===void 0?"ref":We,mt=De.role,Nt=De.onKeyDown,yt=De.onFocus,It=De.onBlur,Ke=De.onClick,Zt=De.onDragEnter,Ot=De.onDragOver,an=De.onDragLeave,er=De.onDrop,ur=If(De,VF);return Ir(Ir(r1({onKeyDown:_e(Za(Nt,Fe)),onFocus:_e(Za(yt,he)),onBlur:_e(Za(It,ie)),onClick:Ue(Za(Ke,te)),onDragEnter:ke(Za(Zt,le)),onDragOver:ke(Za(Ot,ce)),onDragLeave:ke(Za(an,de)),onDrop:ke(Za(er,ye)),role:typeof mt=="string"&&mt!==""?mt:"presentation"},st,T),!s&&!O?{tabIndex:0}:{}),ur)}},[T,Fe,he,ie,te,le,ce,de,ye,O,M,s]),Qe=A.useCallback(function(De){De.stopPropagation()},[]),xt=A.useMemo(function(){return function(){var De=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},We=De.refKey,st=We===void 0?"ref":We,mt=De.onChange,Nt=De.onClick,yt=If(De,WF),It=r1({accept:k,multiple:l,type:"file",style:{border:0,clip:"rect(0, 0, 0, 0)",clipPath:"inset(50%)",height:"1px",margin:"0 -1px -1px 0",overflow:"hidden",padding:0,position:"absolute",width:"1px",whiteSpace:"nowrap"},onChange:Ue(Za(mt,ye)),onClick:Ue(Za(Nt,Qe)),tabIndex:-1},st,W);return Ir(Ir({},It),yt)}},[W,n,l,ye,s]);return Ir(Ir({},B),{},{isFocused:H&&!s,getRootProps:Je,getInputProps:xt,rootRef:T,inputRef:W,open:Ue(Ee)})}function ZF(e,r){switch(r.type){case"focus":return Ir(Ir({},e),{},{isFocused:!0});case"blur":return Ir(Ir({},e),{},{isFocused:!1});case"openDialog":return Ir(Ir({},n1),{},{isFileDialogActive:!0});case"closeDialog":return Ir(Ir({},e),{},{isFileDialogActive:!1});case"setDraggedFiles":return Ir(Ir({},e),{},{isDragActive:r.isDragActive,isDragAccept:r.isDragAccept,isDragReject:r.isDragReject});case"setFiles":return Ir(Ir({},e),{},{acceptedFiles:r.acceptedFiles,fileRejections:r.fileRejections,isDragReject:r.isDragReject});case"reset":return Ir({},n1);default:return e}}function xw(){}function e_({vehicle:e,onSave:r,onCancel:n,onScanBarcode:s}){var S,I,k,C,w,L,T,W,V,_,B,U,H,q,R,$,G,X,Z,le,ce,de,Se,ye,Ee,Fe;const{toast:a}=nr(),[i,o]=A.useState(!1),[l,c]=A.useState({vin:"",make:"",model:"",year:new Date().getFullYear(),type:ut.RV,status:_t.AVAILABLE,price:0,cost:0,location:"",features:[],images:[],customFields:{videos:[],exteriorColor:"",interiorColor:"",length:"",weight:"",sleeps:"",slideouts:"",fuelType:"",mileage:"",condition:"New"}}),[d,m]=A.useState(""),[u,h]=A.useState(""),[p,g]=A.useState(!1);A.useEffect(()=>{e&&c({...e,customFields:{...e.customFields,videos:e.customFields.videos||[]}})},[e]);const{getRootProps:b,getInputProps:j}=gx({accept:{"image/*":[]},onDrop:he=>{const ie=he.map(te=>URL.createObjectURL(te));c(te=>({...te,images:[...te.images||[],...ie]})),a({title:"Images Added",description:`Added ${he.length} images`})}}),x=async he=>{if(he.preventDefault(),!l.vin||!l.make||!l.model||!l.year){a({title:"Validation Error",description:"Please fill in all required fields",variant:"destructive"});return}o(!0);try{await r(l),a({title:"Success",description:`Vehicle ${e?"updated":"created"} successfully`})}catch{a({title:"Error",description:`Failed to ${e?"update":"create"} vehicle`,variant:"destructive"})}finally{o(!1)}},v=()=>{var he;d.trim()&&!((he=l.features)!=null&&he.includes(d.trim()))&&(c(ie=>({...ie,features:[...ie.features||[],d.trim()]})),m(""))},y=he=>{c(ie=>{var te;return{...ie,features:((te=ie.features)==null?void 0:te.filter(Ue=>Ue!==he))||[]}})},E=()=>{u.trim()&&(c(he=>{var ie;return{...he,customFields:{...he.customFields,videos:[...((ie=he.customFields)==null?void 0:ie.videos)||[],u.trim()]}}}),h(""))},O=he=>{c(ie=>{var te,Ue;return{...ie,customFields:{...ie.customFields,videos:((Ue=(te=ie.customFields)==null?void 0:te.videos)==null?void 0:Ue.filter(_e=>_e!==he))||[]}}})},M=he=>{c(ie=>{var te;return{...ie,images:((te=ie.images)==null?void 0:te.filter(Ue=>Ue!==he))||[]}})},P=he=>{he.length===17?(c(ie=>({...ie,vin:he})),a({title:"Barcode Scanned",description:`VIN: ${he}`}),g(!1)):a({title:"Invalid Barcode",description:"The scanned barcode does not appear to be a valid VIN",variant:"destructive"})};return t.jsxs("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:[t.jsxs(ue,{className:"w-full max-w-4xl max-h-[90vh] overflow-y-auto mx-2 sm:mx-4",children:[t.jsx(be,{children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx(je,{children:e?"Edit Vehicle":"Add New Home"}),t.jsx(Ge,{children:e?"Update vehicle details":"Add a new home to inventory"})]}),t.jsx(ne,{variant:"ghost",size:"sm",onClick:n,children:t.jsx(qt,{className:"h-4 w-4"})})]})}),t.jsx(me,{children:t.jsxs("form",{onSubmit:x,className:"space-y-6",children:[t.jsxs("div",{className:"space-y-4",children:[t.jsx("h3",{className:"text-lg font-semibold",children:"Basic Information"}),t.jsxs("div",{className:"grid gap-4 grid-cols-1 md:grid-cols-2",children:[t.jsxs("div",{children:[t.jsx(ve,{htmlFor:"vin",children:"VIN *"}),t.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 sm:gap-0",children:[t.jsx(Te,{id:"vin",value:l.vin,onChange:he=>c(ie=>({...ie,vin:he.target.value})),placeholder:"Vehicle Identification Number",className:"flex-1 w-full"}),t.jsx(ne,{type:"button",variant:"outline",className:"sm:ml-2 w-full sm:w-auto",onClick:()=>g(!0),children:t.jsx(_4,{className:"h-4 w-4"})})]})]}),t.jsxs("div",{children:[t.jsx(ve,{htmlFor:"year",children:"Year *"}),t.jsx(Te,{id:"year",type:"number",value:l.year,onChange:he=>c(ie=>({...ie,year:parseInt(he.target.value)||new Date().getFullYear()})),min:"1900",max:new Date().getFullYear()+1})]})]}),t.jsxs("div",{className:"grid gap-4 grid-cols-1 md:grid-cols-2",children:[t.jsxs("div",{children:[t.jsx(ve,{htmlFor:"make",children:"Make *"}),t.jsx(Te,{id:"make",value:l.make,onChange:he=>c(ie=>({...ie,make:he.target.value})),placeholder:"e.g., Forest River, Winnebago"})]}),t.jsxs("div",{children:[t.jsx(ve,{htmlFor:"model",children:"Model *"}),t.jsx(Te,{id:"model",value:l.model,onChange:he=>c(ie=>({...ie,model:he.target.value})),placeholder:"e.g., Georgetown, View"})]})]}),t.jsxs("div",{className:"grid gap-4 grid-cols-1 sm:grid-cols-2 md:grid-cols-3",children:[t.jsxs("div",{children:[t.jsx(ve,{htmlFor:"type",children:"Type"}),t.jsxs(tt,{value:l.type,onValueChange:he=>c(ie=>({...ie,type:he})),children:[t.jsx(Xe,{children:t.jsx(rt,{})}),t.jsxs(Ze,{children:[t.jsx(se,{value:ut.RV,children:"RV"}),t.jsx(se,{value:ut.MOTORHOME,children:"Motorhome"}),t.jsx(se,{value:ut.TRAVEL_TRAILER,children:"Travel Trailer"}),t.jsx(se,{value:ut.FIFTH_WHEEL,children:"Fifth Wheel"}),t.jsx(se,{value:ut.TOY_HAULER,children:"Toy Hauler"}),t.jsx(se,{value:ut.SINGLE_WIDE,children:"Single Wide MH"}),t.jsx(se,{value:ut.DOUBLE_WIDE,children:"Double Wide MH"}),t.jsx(se,{value:ut.TRIPLE_WIDE,children:"Triple Wide MH"}),t.jsx(se,{value:ut.PARK_MODEL,children:"Park Model"}),t.jsx(se,{value:ut.MODULAR_HOME,children:"Modular Home"})]})]})]}),t.jsxs("div",{children:[t.jsx(ve,{htmlFor:"status",children:"Status"}),t.jsxs(tt,{value:l.status,onValueChange:he=>c(ie=>({...ie,status:he})),children:[t.jsx(Xe,{children:t.jsx(rt,{})}),t.jsxs(Ze,{children:[t.jsx(se,{value:_t.AVAILABLE,children:"Available"}),t.jsx(se,{value:_t.RESERVED,children:"Reserved"}),t.jsx(se,{value:_t.SOLD,children:"Sold"}),t.jsx(se,{value:_t.SERVICE,children:"Service"}),t.jsx(se,{value:_t.DELIVERED,children:"Delivered"})]})]})]}),t.jsxs("div",{children:[t.jsx(ve,{htmlFor:"location",children:"Location"}),t.jsx(Te,{id:"location",value:l.location,onChange:he=>c(ie=>({...ie,location:he.target.value})),placeholder:"e.g., Lot A-15"})]})]}),t.jsxs("div",{className:"grid gap-4 grid-cols-1 md:grid-cols-2",children:[t.jsxs("div",{children:[t.jsx(ve,{htmlFor:"price",children:"Price *"}),t.jsx(Te,{id:"price",type:"number",value:l.price,onChange:he=>c(ie=>({...ie,price:parseFloat(he.target.value)||0})),min:"0",step:"0.01"})]}),t.jsxs("div",{children:[t.jsx(ve,{htmlFor:"cost",children:"Cost *"}),t.jsx(Te,{id:"cost",type:"number",value:l.cost,onChange:he=>c(ie=>({...ie,cost:parseFloat(he.target.value)||0})),min:"0",step:"0.01"})]})]})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsx("h3",{className:"text-lg font-semibold",children:"Features"}),t.jsxs("div",{className:"flex space-x-2",children:[t.jsx(Te,{value:d,onChange:he=>m(he.target.value),placeholder:"Add a feature",onKeyDown:he=>{he.key==="Enter"&&(he.preventDefault(),v())}}),t.jsx(ne,{type:"button",onClick:v,children:t.jsx(Et,{className:"h-4 w-4"})})]}),t.jsxs("div",{className:"flex flex-wrap gap-2",children:[(S=l.features)==null?void 0:S.map((he,ie)=>t.jsxs(Re,{variant:"secondary",className:"flex items-center gap-1",children:[he,t.jsx(qt,{className:"h-3 w-3 cursor-pointer",onClick:()=>y(he)})]},ie)),(!l.features||l.features.length===0)&&t.jsx("div",{className:"text-sm text-muted-foreground",children:"No features added yet"})]})]}),(l.type===ut.SINGLE_WIDE||l.type===ut.DOUBLE_WIDE||l.type===ut.TRIPLE_WIDE||l.type===ut.PARK_MODEL||l.type===ut.MODULAR_HOME)&&t.jsxs("div",{className:"space-y-4",children:[t.jsx("h3",{className:"text-lg font-semibold",children:"Manufactured Housing Details"}),t.jsxs("div",{className:"grid gap-4 grid-cols-1 sm:grid-cols-2 md:grid-cols-3",children:[t.jsxs("div",{children:[t.jsx(ve,{htmlFor:"squareFootage",children:"Square Footage"}),t.jsx(Te,{id:"squareFootage",value:((I=l.customFields)==null?void 0:I.squareFootage)||"",onChange:he=>c(ie=>({...ie,customFields:{...ie.customFields,squareFootage:he.target.value}})),placeholder:"e.g., 1200"})]}),t.jsxs("div",{children:[t.jsx(ve,{htmlFor:"bedrooms",children:"Bedrooms"}),t.jsxs(tt,{value:((k=l.customFields)==null?void 0:k.bedrooms)||"",onValueChange:he=>c(ie=>({...ie,customFields:{...ie.customFields,bedrooms:he}})),children:[t.jsx(Xe,{children:t.jsx(rt,{placeholder:"Select number"})}),t.jsxs(Ze,{children:[t.jsx(se,{value:"1",children:"1"}),t.jsx(se,{value:"2",children:"2"}),t.jsx(se,{value:"3",children:"3"}),t.jsx(se,{value:"4",children:"4"}),t.jsx(se,{value:"5+",children:"5+"})]})]})]}),t.jsxs("div",{children:[t.jsx(ve,{htmlFor:"bathrooms",children:"Bathrooms"}),t.jsxs(tt,{value:((C=l.customFields)==null?void 0:C.bathrooms)||"",onValueChange:he=>c(ie=>({...ie,customFields:{...ie.customFields,bathrooms:he}})),children:[t.jsx(Xe,{children:t.jsx(rt,{placeholder:"Select number"})}),t.jsxs(Ze,{children:[t.jsx(se,{value:"1",children:"1"}),t.jsx(se,{value:"1.5",children:"1.5"}),t.jsx(se,{value:"2",children:"2"}),t.jsx(se,{value:"2.5",children:"2.5"}),t.jsx(se,{value:"3",children:"3"}),t.jsx(se,{value:"3+",children:"3+"})]})]})]}),t.jsxs("div",{children:[t.jsx(ve,{htmlFor:"constructionType",children:"Construction Type"}),t.jsxs(tt,{value:((w=l.customFields)==null?void 0:w.constructionType)||"",onValueChange:he=>c(ie=>({...ie,customFields:{...ie.customFields,constructionType:he}})),children:[t.jsx(Xe,{children:t.jsx(rt,{placeholder:"Select type"})}),t.jsxs(Ze,{children:[t.jsx(se,{value:"Manufactured",children:"Manufactured"}),t.jsx(se,{value:"Modular",children:"Modular"}),t.jsx(se,{value:"Park Model",children:"Park Model"})]})]})]}),t.jsxs("div",{children:[t.jsx(ve,{htmlFor:"exteriorSiding",children:"Exterior Siding"}),t.jsx(Te,{id:"exteriorSiding",value:((L=l.customFields)==null?void 0:L.exteriorSiding)||"",onChange:he=>c(ie=>({...ie,customFields:{...ie.customFields,exteriorSiding:he.target.value}})),placeholder:"e.g., Vinyl, Hardiplank"})]}),t.jsxs("div",{children:[t.jsx(ve,{htmlFor:"roofType",children:"Roof Type"}),t.jsx(Te,{id:"roofType",value:((T=l.customFields)==null?void 0:T.roofType)||"",onChange:he=>c(ie=>({...ie,customFields:{...ie.customFields,roofType:he.target.value}})),placeholder:"e.g., Shingle, Metal"})]})]})]}),(l.type===ut.SINGLE_WIDE||l.type===ut.DOUBLE_WIDE||l.type===ut.TRIPLE_WIDE||l.type===ut.PARK_MODEL||l.type===ut.MODULAR_HOME)&&t.jsxs("div",{className:"grid gap-4 grid-cols-1 sm:grid-cols-2 md:grid-cols-3",children:[t.jsxs("div",{children:[t.jsx(ve,{htmlFor:"squareFootage",children:"Square Footage"}),t.jsx(Te,{id:"squareFootage",value:((W=l.customFields)==null?void 0:W.squareFootage)||"",onChange:he=>c(ie=>({...ie,customFields:{...ie.customFields,squareFootage:he.target.value}}))})]}),t.jsxs("div",{children:[t.jsx(ve,{htmlFor:"constructionType",children:"Construction Type"}),t.jsxs(tt,{value:((V=l.customFields)==null?void 0:V.constructionType)||"",onValueChange:he=>c(ie=>({...ie,customFields:{...ie.customFields,constructionType:he}})),children:[t.jsx(Xe,{children:t.jsx(rt,{placeholder:"Select type"})}),t.jsxs(Ze,{children:[t.jsx(se,{value:"Manufactured",children:"Manufactured"}),t.jsx(se,{value:"Modular",children:"Modular"}),t.jsx(se,{value:"Park Model",children:"Park Model"})]})]})]}),t.jsxs("div",{children:[t.jsx(ve,{htmlFor:"bedrooms",children:"Bedrooms"}),t.jsxs(tt,{value:((_=l.customFields)==null?void 0:_.bedrooms)||"",onValueChange:he=>c(ie=>({...ie,customFields:{...ie.customFields,bedrooms:he}})),children:[t.jsx(Xe,{children:t.jsx(rt,{placeholder:"Select number"})}),t.jsxs(Ze,{children:[t.jsx(se,{value:"1",children:"1"}),t.jsx(se,{value:"2",children:"2"}),t.jsx(se,{value:"3",children:"3"}),t.jsx(se,{value:"4",children:"4"}),t.jsx(se,{value:"5+",children:"5+"})]})]})]}),t.jsxs("div",{children:[t.jsx(ve,{htmlFor:"bathrooms",children:"Bathrooms"}),t.jsxs(tt,{value:((B=l.customFields)==null?void 0:B.bathrooms)||"",onValueChange:he=>c(ie=>({...ie,customFields:{...ie.customFields,bathrooms:he}})),children:[t.jsx(Xe,{children:t.jsx(rt,{placeholder:"Select number"})}),t.jsxs(Ze,{children:[t.jsx(se,{value:"1",children:"1"}),t.jsx(se,{value:"1.5",children:"1.5"}),t.jsx(se,{value:"2",children:"2"}),t.jsx(se,{value:"2.5",children:"2.5"}),t.jsx(se,{value:"3",children:"3"}),t.jsx(se,{value:"3+",children:"3+"})]})]})]}),t.jsxs("div",{children:[t.jsx(ve,{htmlFor:"exteriorSiding",children:"Exterior Siding"}),t.jsx(Te,{id:"exteriorSiding",value:((U=l.customFields)==null?void 0:U.exteriorSiding)||"",onChange:he=>c(ie=>({...ie,customFields:{...ie.customFields,exteriorSiding:he.target.value}}))})]}),t.jsxs("div",{children:[t.jsx(ve,{htmlFor:"roofType",children:"Roof Type"}),t.jsx(Te,{id:"roofType",value:((H=l.customFields)==null?void 0:H.roofType)||"",onChange:he=>c(ie=>({...ie,customFields:{...ie.customFields,roofType:he.target.value}}))})]})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsx("h3",{className:"text-lg font-semibold",children:"Specifications"}),t.jsxs("div",{className:"grid gap-4 grid-cols-1 sm:grid-cols-2 md:grid-cols-3",children:[t.jsxs("div",{children:[t.jsx(ve,{htmlFor:"exteriorColor",children:"Exterior Color"}),t.jsx(Te,{id:"exteriorColor",value:((q=l.customFields)==null?void 0:q.exteriorColor)||"",onChange:he=>c(ie=>({...ie,customFields:{...ie.customFields,exteriorColor:he.target.value}}))})]}),t.jsxs("div",{children:[t.jsx(ve,{htmlFor:"interiorColor",children:"Interior Color"}),t.jsx(Te,{id:"interiorColor",value:((R=l.customFields)==null?void 0:R.interiorColor)||"",onChange:he=>c(ie=>({...ie,customFields:{...ie.customFields,interiorColor:he.target.value}}))})]}),t.jsxs("div",{children:[t.jsx(ve,{htmlFor:"length",children:"Length (ft)"}),t.jsx(Te,{id:"length",value:(($=l.customFields)==null?void 0:$.length)||"",onChange:he=>c(ie=>({...ie,customFields:{...ie.customFields,length:he.target.value}}))})]}),t.jsxs("div",{children:[t.jsx(ve,{htmlFor:"weight",children:"Weight (lbs)"}),t.jsx(Te,{id:"weight",value:((G=l.customFields)==null?void 0:G.weight)||"",onChange:he=>c(ie=>({...ie,customFields:{...ie.customFields,weight:he.target.value}}))})]}),t.jsxs("div",{children:[t.jsx(ve,{htmlFor:"sleeps",children:"Sleeps"}),t.jsx(Te,{id:"sleeps",value:((X=l.customFields)==null?void 0:X.sleeps)||"",onChange:he=>c(ie=>({...ie,customFields:{...ie.customFields,sleeps:he.target.value}}))})]}),t.jsxs("div",{children:[t.jsx(ve,{htmlFor:"slideouts",children:"Slideouts"}),t.jsx(Te,{id:"slideouts",value:((Z=l.customFields)==null?void 0:Z.slideouts)||"",onChange:he=>c(ie=>({...ie,customFields:{...ie.customFields,slideouts:he.target.value}}))})]}),t.jsxs("div",{children:[t.jsx(ve,{htmlFor:"fuelType",children:"Fuel Type"}),t.jsxs(tt,{value:((le=l.customFields)==null?void 0:le.fuelType)||"",onValueChange:he=>c(ie=>({...ie,customFields:{...ie.customFields,fuelType:he}})),children:[t.jsx(Xe,{children:t.jsx(rt,{placeholder:"Select fuel type"})}),t.jsxs(Ze,{children:[t.jsx(se,{value:"",children:"Not Applicable"}),t.jsx(se,{value:"gasoline",children:"Gasoline"}),t.jsx(se,{value:"diesel",children:"Diesel"}),t.jsx(se,{value:"propane",children:"Propane"})]})]})]}),t.jsxs("div",{children:[t.jsx(ve,{htmlFor:"mileage",children:"Mileage"}),t.jsx(Te,{id:"mileage",value:((ce=l.customFields)==null?void 0:ce.mileage)||"",onChange:he=>c(ie=>({...ie,customFields:{...ie.customFields,mileage:he.target.value}}))})]}),t.jsxs("div",{children:[t.jsx(ve,{htmlFor:"condition",children:"Condition"}),t.jsxs(tt,{value:((de=l.customFields)==null?void 0:de.condition)||"New",onValueChange:he=>c(ie=>({...ie,customFields:{...ie.customFields,condition:he}})),children:[t.jsx(Xe,{children:t.jsx(rt,{})}),t.jsxs(Ze,{children:[t.jsx(se,{value:"New",children:"New"}),t.jsx(se,{value:"Used",children:"Used"}),t.jsx(se,{value:"Certified Pre-Owned",children:"Certified Pre-Owned"})]})]})]})]})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsx("h3",{className:"text-lg font-semibold",children:"Images"}),t.jsxs("div",{...b(),className:"border-2 border-dashed rounded-lg p-6 text-center cursor-pointer hover:bg-muted/10",children:[t.jsx("input",{...j()}),t.jsx(pd,{className:"h-8 w-8 mx-auto mb-2 text-muted-foreground"}),t.jsx("p",{className:"text-sm text-muted-foreground px-2",children:"Drag & drop images here, or click to select files"})]}),l.images&&l.images.length>0&&t.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-4 mt-4",children:l.images.map((he,ie)=>t.jsxs("div",{className:"relative group",children:[t.jsx("img",{src:he,alt:`Vehicle ${ie+1}`,className:"h-24 w-full object-cover rounded-md"}),t.jsx(ne,{type:"button",variant:"destructive",size:"sm",className:"absolute top-1 right-1 opacity-0 group-hover:opacity-100 transition-opacity",onClick:()=>M(he),children:t.jsx(qt,{className:"h-3 w-3"})})]},ie))})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsx("h3",{className:"text-lg font-semibold",children:"Videos"}),t.jsxs("div",{className:"flex space-x-2",children:[t.jsx(Te,{value:u,onChange:he=>h(he.target.value),placeholder:"Add a video URL (YouTube, Vimeo, etc.)",onKeyDown:he=>{he.key==="Enter"&&(he.preventDefault(),E())}}),t.jsx(ne,{type:"button",onClick:E,children:t.jsx(Et,{className:"h-4 w-4"})})]}),t.jsxs("div",{className:"space-y-2",children:[(ye=(Se=l.customFields)==null?void 0:Se.videos)==null?void 0:ye.map((he,ie)=>t.jsxs("div",{className:"flex items-center justify-between p-2 bg-muted/30 rounded-md",children:[t.jsxs("div",{className:"flex items-center",children:[t.jsx(yf,{className:"h-4 w-4 mr-2 text-blue-500"}),t.jsx("a",{href:he,target:"_blank",rel:"noopener noreferrer",className:"text-sm text-blue-600 hover:underline truncate max-w-md",children:he})]}),t.jsx(ne,{type:"button",variant:"ghost",size:"sm",onClick:()=>O(he),children:t.jsx(qt,{className:"h-4 w-4"})})]},ie)),(!((Ee=l.customFields)!=null&&Ee.videos)||l.customFields.videos.length===0)&&t.jsx("div",{className:"text-sm text-muted-foreground",children:"No videos added yet"})]})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsx("h3",{className:"text-lg font-semibold",children:"Notes"}),t.jsx(rr,{value:((Fe=l.customFields)==null?void 0:Fe.notes)||"",onChange:he=>c(ie=>({...ie,customFields:{...ie.customFields,notes:he.target.value}})),placeholder:"Add any additional notes about this vehicle...",rows:3})]}),t.jsxs("div",{className:"flex flex-col sm:flex-row justify-end space-y-2 sm:space-y-0 sm:space-x-3 pt-6 border-t",children:[t.jsx(ne,{type:"button",variant:"outline",onClick:n,disabled:i,className:"w-full sm:w-auto",children:"Cancel"}),t.jsx(ne,{type:"submit",disabled:i,className:"w-full sm:w-auto",children:i?t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),e?"Updating...":"Creating..."]}):t.jsxs(t.Fragment,{children:[t.jsx(js,{className:"h-4 w-4 mr-2"}),e?"Update":"Create"," Home"]})})]})]})})]}),p&&t.jsx("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center z-[60]",children:t.jsxs(ue,{className:"w-full max-w-md mx-4",children:[t.jsxs(be,{children:[t.jsx(je,{children:"Scan VIN Barcode"}),t.jsx(Ge,{children:"Position the barcode in front of your camera"})]}),t.jsxs(me,{className:"space-y-4",children:[t.jsx("div",{className:"bg-black h-64 flex items-center justify-center rounded-md",children:t.jsx(La,{className:"h-12 w-12 text-white/50"})}),t.jsxs("div",{className:"flex flex-col sm:flex-row justify-end space-y-2 sm:space-y-0 sm:space-x-2",children:[t.jsx(ne,{variant:"outline",onClick:()=>g(!1),className:"w-full sm:w-auto",children:"Cancel"}),t.jsx(ne,{onClick:()=>{P("1FDXE4FS8KDC"+Math.floor(Math.random()*1e5).toString().padStart(5,"0"))},className:"w-full sm:w-auto",children:"Simulate Scan"})]})]})]})})]})}function t_({vehicle:e,onClose:r,onEdit:n}){var i,o,l,c,d,m,u,h,p,g,b,j,x,v,y,E,O,M,P,S,I,k,C;const s=w=>{switch(w){case _t.AVAILABLE:return"bg-green-50 text-green-700 border-green-200";case _t.RESERVED:return"bg-yellow-50 text-yellow-700 border-yellow-200";case _t.SOLD:return"bg-blue-50 text-blue-700 border-blue-200";case _t.SERVICE:return"bg-orange-50 text-orange-700 border-orange-200";case _t.DELIVERED:return"bg-purple-50 text-purple-700 border-purple-200";default:return"bg-gray-50 text-gray-700 border-gray-200"}},a=w=>w.replace("_"," ").toUpperCase();return t.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:t.jsxs(ue,{className:"w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[t.jsx(be,{children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsxs(je,{className:"text-xl",children:[e.year," ",e.make," ",e.model]}),t.jsxs(Ge,{children:["VIN: ",e.vin]})]}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsxs(ne,{onClick:()=>{r(),n(e)},size:"sm",children:[t.jsx(Xr,{className:"h-4 w-4 mr-2"}),"Edit Home/RV"]}),t.jsx(ne,{variant:"ghost",size:"sm",onClick:r,children:t.jsx(qt,{className:"h-4 w-4"})})]})]})}),t.jsxs(me,{className:"space-y-6",children:[t.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[t.jsx(Re,{className:ze("ri-badge-status",s(e.status)),children:e.status.toUpperCase()}),t.jsx(Re,{variant:"outline",children:a(e.type)}),t.jsx("div",{className:"ml-auto font-bold text-lg text-primary",children:Ie(e.price)})]}),t.jsxs(Zr,{defaultValue:"details",className:"space-y-4",children:[t.jsxs($r,{children:[t.jsx(it,{value:"details",children:"Details"}),t.jsx(it,{value:"images",children:"Images"}),t.jsx(it,{value:"features",children:"Features"}),t.jsx(it,{value:"videos",children:"Videos"}),t.jsx(it,{value:"notes",children:"Notes"})]}),t.jsxs(ct,{value:"details",className:"space-y-4",children:[t.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[t.jsxs("div",{children:[t.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Make"}),t.jsx("p",{className:"font-medium",children:e.make})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Model"}),t.jsx("p",{className:"font-medium",children:e.model})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Year"}),t.jsx("p",{className:"font-medium",children:e.year})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"VIN"}),t.jsx("p",{className:"font-medium font-mono",children:e.vin})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Type"}),t.jsx("p",{className:"font-medium",children:a(e.type)})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Location"}),t.jsx("p",{className:"font-medium",children:e.location})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Price"}),t.jsx("p",{className:"font-medium text-primary",children:Ie(e.price)})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Cost"}),t.jsx("p",{className:"font-medium",children:Ie(e.cost)})]})]}),t.jsxs("div",{className:"mt-6",children:[t.jsx("h3",{className:"text-lg font-semibold mb-3",children:"Specifications"}),t.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[((i=e.customFields)==null?void 0:i.exteriorColor)&&t.jsxs("div",{children:[t.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Exterior Color"}),t.jsx("p",{className:"font-medium",children:e.customFields.exteriorColor})]}),((o=e.customFields)==null?void 0:o.interiorColor)&&t.jsxs("div",{children:[t.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Interior Color"}),t.jsx("p",{className:"font-medium",children:e.customFields.interiorColor})]}),((l=e.customFields)==null?void 0:l.length)&&t.jsxs("div",{children:[t.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Length"}),t.jsxs("p",{className:"font-medium",children:[e.customFields.length," ft"]})]}),((c=e.customFields)==null?void 0:c.weight)&&t.jsxs("div",{children:[t.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Weight"}),t.jsxs("p",{className:"font-medium",children:[e.customFields.weight," lbs"]})]}),((d=e.customFields)==null?void 0:d.sleeps)&&t.jsxs("div",{children:[t.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Sleeps"}),t.jsx("p",{className:"font-medium",children:e.customFields.sleeps})]}),((m=e.customFields)==null?void 0:m.slideouts)&&t.jsxs("div",{children:[t.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Slideouts"}),t.jsx("p",{className:"font-medium",children:e.customFields.slideouts})]}),((u=e.customFields)==null?void 0:u.fuelType)&&t.jsxs("div",{children:[t.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Fuel Type"}),t.jsx("p",{className:"font-medium",children:e.customFields.fuelType})]}),((h=e.customFields)==null?void 0:h.mileage)&&t.jsxs("div",{children:[t.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Mileage"}),t.jsx("p",{className:"font-medium",children:e.customFields.mileage})]}),((p=e.customFields)==null?void 0:p.condition)&&t.jsxs("div",{children:[t.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Condition"}),t.jsx("p",{className:"font-medium",children:e.customFields.condition})]}),(e.type===ut.SINGLE_WIDE||e.type===ut.DOUBLE_WIDE||e.type===ut.TRIPLE_WIDE||e.type===ut.PARK_MODEL||e.type===ut.MODULAR_HOME)&&t.jsxs(t.Fragment,{children:[((g=e.customFields)==null?void 0:g.squareFootage)&&t.jsxs("div",{children:[t.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Square Footage"}),t.jsxs("p",{className:"font-medium",children:[e.customFields.squareFootage," sq ft"]})]}),((b=e.customFields)==null?void 0:b.bedrooms)&&t.jsxs("div",{children:[t.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Bedrooms"}),t.jsx("p",{className:"font-medium",children:e.customFields.bedrooms})]}),((j=e.customFields)==null?void 0:j.bathrooms)&&t.jsxs("div",{children:[t.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Bathrooms"}),t.jsx("p",{className:"font-medium",children:e.customFields.bathrooms})]}),((x=e.customFields)==null?void 0:x.constructionType)&&t.jsxs("div",{children:[t.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Construction Type"}),t.jsx("p",{className:"font-medium",children:e.customFields.constructionType})]}),((v=e.customFields)==null?void 0:v.exteriorSiding)&&t.jsxs("div",{children:[t.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Exterior Siding"}),t.jsx("p",{className:"font-medium",children:e.customFields.exteriorSiding})]}),((y=e.customFields)==null?void 0:y.roofType)&&t.jsxs("div",{children:[t.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Roof Type"}),t.jsx("p",{className:"font-medium",children:e.customFields.roofType})]})]}),(e.type===ut.SINGLE_WIDE||e.type===ut.DOUBLE_WIDE||e.type===ut.TRIPLE_WIDE||e.type===ut.PARK_MODEL||e.type===ut.MODULAR_HOME)&&t.jsxs(t.Fragment,{children:[((E=e.customFields)==null?void 0:E.squareFootage)&&t.jsxs("div",{children:[t.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Square Footage"}),t.jsxs("p",{className:"font-medium",children:[e.customFields.squareFootage," sq ft"]})]}),((O=e.customFields)==null?void 0:O.bedrooms)&&t.jsxs("div",{children:[t.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Bedrooms"}),t.jsx("p",{className:"font-medium",children:e.customFields.bedrooms})]}),((M=e.customFields)==null?void 0:M.bathrooms)&&t.jsxs("div",{children:[t.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Bathrooms"}),t.jsx("p",{className:"font-medium",children:e.customFields.bathrooms})]}),((P=e.customFields)==null?void 0:P.constructionType)&&t.jsxs("div",{children:[t.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Construction Type"}),t.jsx("p",{className:"font-medium",children:e.customFields.constructionType})]}),((S=e.customFields)==null?void 0:S.exteriorSiding)&&t.jsxs("div",{children:[t.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Exterior Siding"}),t.jsx("p",{className:"font-medium",children:e.customFields.exteriorSiding})]}),((I=e.customFields)==null?void 0:I.roofType)&&t.jsxs("div",{children:[t.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Roof Type"}),t.jsx("p",{className:"font-medium",children:e.customFields.roofType})]})]})]})]})]}),t.jsx(ct,{value:"images",children:e.images&&e.images.length>0?t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:e.images.map((w,L)=>t.jsx("div",{className:"overflow-hidden rounded-md",children:t.jsx("img",{src:w,alt:`${e.make} ${e.model} ${L+1}`,className:"w-full h-auto object-cover hover:scale-105 transition-transform duration-300"})},L))}):t.jsxs("div",{className:"text-center py-12 text-muted-foreground border-2 border-dashed rounded-lg",children:[t.jsx(pd,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground/50"}),t.jsx("p",{children:"No images available"})]})}),t.jsx(ct,{value:"features",children:e.features&&e.features.length>0?t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:e.features.map((w,L)=>t.jsxs("div",{className:"flex items-center p-2 bg-muted/30 rounded-md",children:[t.jsx(Qn,{className:"h-4 w-4 mr-2 text-primary"}),t.jsx("span",{children:w})]},L))}):t.jsxs("div",{className:"text-center py-12 text-muted-foreground border-2 border-dashed rounded-lg",children:[t.jsx(Qn,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground/50"}),t.jsx("p",{children:"No features listed"})]})}),t.jsx(ct,{value:"videos",children:(k=e.customFields)!=null&&k.videos&&e.customFields.videos.length>0?t.jsx("div",{className:"space-y-4",children:e.customFields.videos.map((w,L)=>t.jsx("div",{className:"p-3 bg-muted/30 rounded-md",children:t.jsxs("div",{className:"flex items-center mb-2",children:[t.jsx(yf,{className:"h-4 w-4 mr-2 text-primary"}),t.jsxs("a",{href:w,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline",children:["Video ",L+1]})]})},L))}):t.jsxs("div",{className:"text-center py-12 text-muted-foreground border-2 border-dashed rounded-lg",children:[t.jsx(yf,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground/50"}),t.jsx("p",{children:"No videos available"})]})}),t.jsx(ct,{value:"notes",children:(C=e.customFields)!=null&&C.notes?t.jsx("div",{className:"p-4 bg-muted/30 rounded-md whitespace-pre-wrap",children:e.customFields.notes}):t.jsxs("div",{className:"text-center py-12 text-muted-foreground border-2 border-dashed rounded-lg",children:[t.jsx(Gn,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground/50"}),t.jsx("p",{children:"No notes available"})]})})]}),t.jsxs("div",{className:"flex justify-end space-x-3 pt-6 border-t",children:[t.jsx(ne,{variant:"outline",onClick:r,children:"Close"}),t.jsxs(ne,{onClick:()=>n(e),children:[t.jsx(Xr,{className:"h-4 w-4 mr-2"}),"Edit Home/RV"]})]})]})]})})}function r_({onImport:e,onCancel:r}){const{toast:n}=nr(),[s,a]=A.useState(null),[i,o]=A.useState([]),[l,c]=A.useState({}),[d,m]=A.useState(!1),[u,h]=A.useState("upload"),[p,g]=A.useState([]),b=["vin","make","model","year","price","cost"],j=[{key:"vin",label:"VIN"},{key:"make",label:"Make"},{key:"model",label:"Model"},{key:"year",label:"Year"},{key:"type",label:"Type"},{key:"status",label:"Status"},{key:"price",label:"Price"},{key:"cost",label:"Cost"},{key:"location",label:"Location"},{key:"features",label:"Features"},{key:"exteriorColor",label:"Exterior Color"},{key:"interiorColor",label:"Interior Color"},{key:"length",label:"Length"},{key:"weight",label:"Weight"},{key:"sleeps",label:"Sleeps"},{key:"slideouts",label:"Slideouts"},{key:"fuelType",label:"Fuel Type"},{key:"mileage",label:"Mileage"},{key:"condition",label:"Condition"}],x=I=>{var C;const k=(C=I.target.files)==null?void 0:C[0];k&&(a(k),Cf.parse(k,{header:!0,skipEmptyLines:!0,complete:w=>{if(o(w.data),w.meta.fields){const L={};w.meta.fields.forEach(T=>{const W=T.toLowerCase().replace(/[^a-z0-9]/g,"");j.forEach(V=>{const _=V.key.toLowerCase();(W===_||W===V.label.toLowerCase().replace(/[^a-z0-9]/g,""))&&(L[T]=V.key)})}),c(L)}h("map")},error:w=>{n({title:"Error Parsing CSV",description:w.message,variant:"destructive"})}}))},v=(I,k)=>{c(C=>({...C,[I]:k}))},y=()=>{if(b.filter(k=>Object.values(l).includes(k)).length<b.length){n({title:"Missing Required Fields",description:`Please map all required fields: ${b.join(", ")}`,variant:"destructive"});return}h("preview"),g(i.map((k,C)=>C))},E=I=>{g(I?i.map((k,C)=>C):[])},O=I=>{p.includes(I)?g(p.filter(k=>k!==I)):g([...p,I])},M=async()=>{if(p.length===0){n({title:"No Rows Selected",description:"Please select at least one row to import",variant:"destructive"});return}m(!0);try{const I=p.map(k=>{const C=i[k],w={images:[],features:[],customFields:{}};return Object.entries(l).forEach(([L,T])=>{const W=C[L];T==="features"?w.features=W?W.split(",").map(V=>V.trim()):[]:T==="year"||T==="price"||T==="cost"?w[T]=parseFloat(W)||0:T==="type"?w.type=P(W):T==="status"?w.status=S(W):["exteriorColor","interiorColor","length","weight","sleeps","slideouts","fuelType","mileage","condition"].includes(T)?w.customFields={...w.customFields,[T]:W}:w[T]=W}),w});await e(I),n({title:"Import Successful",description:`Imported ${I.length} vehicles`})}catch{n({title:"Import Failed",description:"There was an error importing the vehicles",variant:"destructive"})}finally{m(!1)}},P=I=>{const k=I.toLowerCase().replace(/[^a-z0-9]/g,"");return k.includes("motorhome")?ut.MOTORHOME:k.includes("travel")&&k.includes("trailer")?ut.TRAVEL_TRAILER:k.includes("fifth")&&k.includes("wheel")?ut.FIFTH_WHEEL:k.includes("toy")&&k.includes("hauler")?ut.TOY_HAULER:ut.RV},S=I=>{const k=I.toLowerCase().replace(/[^a-z0-9]/g,"");return k.includes("reserved")?_t.RESERVED:k.includes("sold")?_t.SOLD:k.includes("service")?_t.SERVICE:k.includes("delivered")?_t.DELIVERED:_t.AVAILABLE};return t.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:t.jsxs(ue,{className:"w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[t.jsx(be,{children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx(je,{children:"Import Inventory from CSV"}),t.jsxs(Ge,{children:[u==="upload"&&"Upload a CSV file with your inventory data",u==="map"&&"Map CSV columns to vehicle fields",u==="preview"&&"Preview and select vehicles to import"]})]}),t.jsx(ne,{variant:"ghost",size:"sm",onClick:r,children:t.jsx(qt,{className:"h-4 w-4"})})]})}),t.jsxs(me,{children:[u==="upload"&&t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"border-2 border-dashed rounded-lg p-6 text-center",children:[t.jsx(Gn,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground"}),t.jsx("p",{className:"text-muted-foreground mb-4",children:"Upload a CSV file with your inventory data"}),t.jsx(Te,{type:"file",accept:".csv",onChange:x,className:"max-w-sm mx-auto"})]}),t.jsxs("div",{className:"bg-muted/30 p-4 rounded-lg",children:[t.jsx("h3",{className:"font-medium mb-2",children:"CSV Format Guidelines"}),t.jsxs("ul",{className:"text-sm space-y-1 text-muted-foreground",children:[t.jsx("li",{children:" File should be in CSV format"}),t.jsx("li",{children:" First row should contain column headers"}),t.jsx("li",{children:" Required fields: VIN, Make, Model, Year, Price, Cost"}),t.jsx("li",{children:" Features should be comma-separated within quotes"})]})]}),t.jsx("div",{className:"flex justify-end",children:t.jsx(ne,{variant:"outline",onClick:r,children:"Cancel"})})]}),u==="map"&&t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"bg-muted/30 p-4 rounded-lg",children:[t.jsxs("h3",{className:"font-medium mb-2 flex items-center",children:[t.jsx(Gn,{className:"h-4 w-4 mr-2"}),s==null?void 0:s.name]}),t.jsxs("p",{className:"text-sm text-muted-foreground",children:[i.length," rows found"]})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsx("h3",{className:"font-medium",children:"Map CSV Columns to Vehicle Fields"}),t.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Required fields are marked with *"}),t.jsx("div",{className:"space-y-3 max-h-96 overflow-y-auto p-2",children:s&&i.length>0&&Object.keys(i[0]).map(I=>t.jsxs("div",{className:"flex items-center space-x-4",children:[t.jsx("div",{className:"w-1/3 font-medium truncate",children:I}),t.jsx("div",{className:"w-2/3",children:t.jsxs("select",{value:l[I]||"",onChange:k=>v(I,k.target.value),className:"w-full p-2 border rounded-md",children:[t.jsx("option",{value:"",children:"-- Skip this field --"}),j.map(k=>t.jsxs("option",{value:k.key,children:[k.label," ",b.includes(k.key)?"*":""]},k.key))]})})]},I))})]}),t.jsxs("div",{className:"flex justify-end space-x-3",children:[t.jsx(ne,{variant:"outline",onClick:r,children:"Cancel"}),t.jsx(ne,{onClick:y,children:"Preview Data"})]})]}),u==="preview"&&t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(Tr,{checked:p.length===i.length,onCheckedChange:E}),t.jsxs(ve,{children:["Select All (",i.length," vehicles)"]})]}),t.jsxs(Re,{children:[p.length," selected"]})]}),t.jsx("div",{className:"border rounded-md overflow-hidden",children:t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"w-full",children:[t.jsx("thead",{className:"bg-muted/50",children:t.jsxs("tr",{children:[t.jsx("th",{className:"p-2 text-left"}),Object.entries(l).filter(([I,k])=>k).map(([I,k])=>t.jsxs("th",{className:"p-2 text-left text-sm",children:[k,b.includes(k)&&t.jsx("span",{className:"text-red-500",children:"*"})]},I))]})}),t.jsx("tbody",{children:i.map((I,k)=>t.jsxs("tr",{className:"border-t hover:bg-muted/10",children:[t.jsx("td",{className:"p-2",children:t.jsx(Tr,{checked:p.includes(k),onCheckedChange:()=>O(k)})}),Object.entries(l).filter(([C,w])=>w).map(([C,w])=>t.jsx("td",{className:"p-2 text-sm",children:I[C]||t.jsx("span",{className:"text-muted-foreground italic",children:"Empty"})},C))]},k))})]})})}),t.jsxs("div",{className:"flex justify-end space-x-3",children:[t.jsx(ne,{variant:"outline",onClick:()=>h("map"),children:"Back to Mapping"}),t.jsx(ne,{onClick:M,disabled:d,children:d?t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Importing..."]}):t.jsxs(t.Fragment,{children:[t.jsx(ky,{className:"h-4 w-4 mr-2"}),"Import ",p.length," Vehicles"]})})]})]})]})]})})}function n_({onScan:e,onClose:r}){const{toast:n}=nr(),[s,a]=A.useState(!1),[i,o]=A.useState(null);A.useEffect(()=>{const d=setTimeout(()=>{a(!0)},1e3);return()=>clearTimeout(d)},[]);const l=()=>{const d="ABCDEFGHJKLMNPRSTUVWXYZ0123456789";let m="";for(let u=0;u<17;u++)m+=d.charAt(Math.floor(Math.random()*d.length));o(m),n({title:"Barcode Scanned",description:`VIN: ${m}`})},c=()=>{i&&e(i)};return t.jsx("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center z-[60]",children:t.jsxs(ue,{className:"w-full max-w-md",children:[t.jsx(be,{children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx(je,{children:"Scan VIN Barcode"}),t.jsx(Ge,{children:"Position the barcode in front of your camera"})]}),t.jsx(ne,{variant:"ghost",size:"sm",onClick:r,children:t.jsx(qt,{className:"h-4 w-4"})})]})}),t.jsxs(me,{className:"space-y-4",children:[t.jsx("div",{className:"bg-black h-64 flex items-center justify-center rounded-md relative",children:s?t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:t.jsx("div",{className:"w-3/4 h-1 bg-red-500 animate-pulse"})}),t.jsx("div",{className:"text-white text-sm absolute bottom-2 left-2",children:i?`Scanned: ${i}`:"Scanning..."})]}):t.jsx(La,{className:"h-12 w-12 text-white/50"})}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx(ne,{variant:"outline",onClick:r,children:"Cancel"}),i?t.jsxs(ne,{onClick:c,children:[t.jsx(Iy,{className:"h-4 w-4 mr-2"}),"Confirm"]}):t.jsx(ne,{onClick:l,children:"Simulate Scan"})]})]})]})})}function gw(){const{vehicles:e,createVehicle:r,updateVehicleStatus:n,deleteVehicle:s}=rl(),{toast:a}=nr(),[i,o]=A.useState(!1),[l,c]=A.useState(!1),[d,m]=A.useState(!1),[u,h]=A.useState(!1),[p,g]=A.useState(null),b=()=>{g(null),o(!0)},j=P=>{g(P),o(!0)},x=P=>{g(P),c(!0)},v=async P=>{if(window.confirm("Are you sure you want to delete this vehicle?"))try{await s(P),a({title:"Vehicle Deleted",description:"The vehicle has been removed from inventory"})}catch{a({title:"Error",description:"Failed to delete vehicle",variant:"destructive"})}},y=async(P,S)=>{try{await n(P,S),a({title:"Status Updated",description:`Vehicle status changed to ${S}`})}catch{a({title:"Error",description:"Failed to update vehicle status",variant:"destructive"})}},E=async P=>{try{p?(await n(p.id,P.status||p.status),a({title:"Vehicle Updated",description:"Vehicle information has been updated"})):(await r(P),a({title:"Vehicle Added",description:"New vehicle has been added to inventory"})),o(!1),g(null)}catch{a({title:"Error",description:`Failed to ${p?"update":"create"} vehicle`,variant:"destructive"})}},O=async P=>{try{for(const S of P)await r(S);m(!1),a({title:"Import Successful",description:`Imported ${P.length} vehicles`})}catch{a({title:"Import Failed",description:"There was an error importing the vehicles",variant:"destructive"})}},M=P=>{const S=e.find(I=>I.vin===P);S?(g(S),c(!0),a({title:"Vehicle Found",description:`Found existing vehicle with VIN: ${P}`})):(g(null),o(!0),setTimeout(()=>{const I=document.getElementById("vin");if(I){I.value=P;const k=new Event("input",{bubbles:!0});I.dispatchEvent(k)}},100),a({title:"New VIN Scanned",description:`Creating new vehicle with VIN: ${P}`})),h(!1)};return t.jsxs("div",{className:"space-y-8",children:[i&&t.jsx(e_,{vehicle:p||void 0,onSave:E,onCancel:()=>{o(!1),g(null)}}),l&&p&&t.jsx(t_,{vehicle:p,onClose:()=>c(!1),onEdit:j}),d&&t.jsx(r_,{onImport:O,onCancel:()=>m(!1)}),u&&t.jsx(n_,{onScan:M,onClose:()=>h(!1)}),t.jsx("div",{className:"ri-page-header",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"ri-page-title",children:"Inventory Management"}),t.jsx("p",{className:"ri-page-description",children:"Manage your RV and motorhome inventory"})]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsxs(ne,{variant:"outline",onClick:()=>h(!0),children:[t.jsx(_4,{className:"h-4 w-4 mr-2"}),"Scan Barcode"]}),t.jsxs(ne,{variant:"outline",onClick:()=>m(!0),children:[t.jsx(ky,{className:"h-4 w-4 mr-2"}),"Import CSV"]}),t.jsxs(ne,{onClick:b,children:[t.jsx(Et,{className:"h-4 w-4 mr-2"}),"Add Home"]})]})]})}),t.jsxs("div",{className:"grid gap-4 grid-cols-1 sm:grid-cols-2 lg:grid-cols-4",children:[t.jsxs(ue,{className:"shadow-sm border-0 bg-gradient-to-br from-blue-50 to-blue-100/50",children:[t.jsxs(be,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[t.jsx(je,{className:"text-sm font-medium text-blue-900",children:"Total Units"}),t.jsx(Qn,{className:"h-4 w-4 text-blue-600"})]}),t.jsxs(me,{children:[t.jsx("div",{className:"text-2xl font-bold text-blue-900",children:e.length}),t.jsxs("p",{className:"text-xs text-blue-600 flex items-center mt-1",children:[t.jsx(vt,{className:"h-3 w-3 mr-1"}),"+5 units this month"]})]})]}),t.jsxs(ue,{className:"shadow-sm border-0 bg-gradient-to-br from-green-50 to-green-100/50",children:[t.jsxs(be,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[t.jsx(je,{className:"text-sm font-medium text-green-900",children:"Available"}),t.jsx(Qn,{className:"h-4 w-4 text-green-600"})]}),t.jsxs(me,{children:[t.jsx("div",{className:"text-2xl font-bold text-green-900",children:e.filter(P=>P.status===_t.AVAILABLE).length}),t.jsxs("p",{className:"text-xs text-green-600 flex items-center mt-1",children:[t.jsx(vt,{className:"h-3 w-3 mr-1"}),"Ready for sale"]})]})]}),t.jsxs(ue,{className:"shadow-sm border-0 bg-gradient-to-br from-yellow-50 to-yellow-100/50",children:[t.jsxs(be,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[t.jsx(je,{className:"text-sm font-medium text-yellow-900",children:"Reserved"}),t.jsx(Qn,{className:"h-4 w-4 text-yellow-600"})]}),t.jsxs(me,{children:[t.jsx("div",{className:"text-2xl font-bold text-yellow-900",children:e.filter(P=>P.status===_t.RESERVED).length}),t.jsxs("p",{className:"text-xs text-yellow-600 flex items-center mt-1",children:[t.jsx(vt,{className:"h-3 w-3 mr-1"}),"Pending sale"]})]})]}),t.jsxs(ue,{className:"shadow-sm border-0 bg-gradient-to-br from-purple-50 to-purple-100/50",children:[t.jsxs(be,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[t.jsx(je,{className:"text-sm font-medium text-purple-900",children:"Total Value"}),t.jsx(Bt,{className:"h-4 w-4 text-purple-600"})]}),t.jsxs(me,{children:[t.jsx("div",{className:"text-2xl font-bold text-purple-900",children:Ie(e.reduce((P,S)=>P+S.price,0))}),t.jsxs("p",{className:"text-xs text-purple-600 flex items-center mt-1",children:[t.jsx(vt,{className:"h-3 w-3 mr-1"}),"Inventory value"]})]})]})]}),t.jsx(tF,{vehicles:e,onEdit:j,onDelete:v,onView:x,onStatusChange:y})]})}function s_(){return t.jsxs(Fn,{children:[t.jsx(Pt,{path:"/",element:t.jsx(gw,{})}),t.jsx(Pt,{path:"/*",element:t.jsx(gw,{})})]})}const a_=[{id:"1",customerId:"cust-1",vehicleId:"veh-1",items:[{id:"1",description:"2024 Forest River Georgetown",quantity:1,unitPrice:125e3,total:125e3},{id:"2",description:"Extended Warranty",quantity:1,unitPrice:2500,total:2500}],subtotal:127500,tax:10200,total:137700,status:ta.SENT,validUntil:new Date("2024-02-15"),notes:"Customer interested in financing options",customFields:{},createdAt:new Date("2024-01-15"),updatedAt:new Date("2024-01-16")},{id:"2",customerId:"cust-2",vehicleId:"veh-2",items:[{id:"3",description:"2023 Winnebago View",quantity:1,unitPrice:89e3,total:89e3}],subtotal:89e3,tax:7120,total:96120,status:ta.ACCEPTED,validUntil:new Date("2024-02-20"),notes:"Ready to proceed with purchase",customFields:{},createdAt:new Date("2024-01-12"),updatedAt:new Date("2024-01-18")}];function i_({quote:e,onClose:r,onEdit:n}){const s=a=>{switch(a){case"draft":return"bg-gray-50 text-gray-700 border-gray-200";case"sent":return"bg-blue-50 text-blue-700 border-blue-200";case"viewed":return"bg-yellow-50 text-yellow-700 border-yellow-200";case"accepted":return"bg-green-50 text-green-700 border-green-200";case"rejected":return"bg-red-50 text-red-700 border-red-200";case"expired":return"bg-orange-50 text-orange-700 border-orange-200";default:return"bg-gray-50 text-gray-700 border-gray-200"}};return t.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:t.jsxs(ue,{className:"w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[t.jsx(be,{children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsxs(je,{className:"text-xl",children:["Quote #",e.id]}),t.jsx(Ge,{children:"Quote details and line items"})]}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsxs(ne,{onClick:()=>n(e),size:"sm",children:[t.jsx(Xr,{className:"h-4 w-4 mr-2"}),"Edit Quote"]}),t.jsx(ne,{variant:"ghost",size:"sm",onClick:r,children:t.jsx(qt,{className:"h-4 w-4"})})]})]})}),t.jsxs(me,{className:"space-y-6",children:[t.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[t.jsxs("div",{children:[t.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Customer ID"}),t.jsx("p",{className:"font-medium",children:e.customerId})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Status"}),t.jsx("div",{className:"mt-1",children:t.jsx(Re,{className:ze("ri-badge-status",s(e.status)),children:e.status.toUpperCase()})})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Created Date"}),t.jsx("p",{className:"font-medium",children:gt(e.createdAt)})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Valid Until"}),t.jsx("p",{className:"font-medium",children:gt(e.validUntil)})]})]}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Line Items"}),t.jsx("div",{className:"space-y-3",children:e.items.map((a,i)=>t.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[t.jsxs("div",{className:"flex-1",children:[t.jsx("h4",{className:"font-medium",children:a.description}),t.jsxs("p",{className:"text-sm text-muted-foreground",children:["Quantity: ",a.quantity,"  ",Ie(a.unitPrice)]})]}),t.jsx("div",{className:"text-right",children:t.jsx("div",{className:"font-bold text-lg",children:Ie(a.total)})})]},a.id))})]}),t.jsx("div",{className:"bg-muted/30 p-4 rounded-lg",children:t.jsxs("div",{className:"space-y-2",children:[t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{children:"Subtotal:"}),t.jsx("span",{children:Ie(e.subtotal)})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{children:"Tax:"}),t.jsx("span",{children:Ie(e.tax)})]}),t.jsxs("div",{className:"flex justify-between text-lg font-bold border-t pt-2",children:[t.jsx("span",{children:"Total:"}),t.jsx("span",{children:Ie(e.total)})]})]})}),e.notes&&t.jsxs("div",{children:[t.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Notes"}),t.jsx("div",{className:"mt-1 p-3 bg-muted/30 rounded-md",children:t.jsx("p",{className:"text-sm",children:e.notes})})]})]})]})})}function vw(){const{toast:e}=nr(),[r,n]=A.useState(a_),[s,a]=A.useState(""),[i,o]=A.useState("all"),[l,c]=A.useState(!1),[d,m]=A.useState(null),[u,h]=A.useState(null),[p,g]=A.useState(""),b=k=>{switch(k){case ta.DRAFT:return"bg-gray-50 text-gray-700 border-gray-200";case ta.SENT:return"bg-blue-50 text-blue-700 border-blue-200";case ta.VIEWED:return"bg-yellow-50 text-yellow-700 border-yellow-200";case ta.ACCEPTED:return"bg-green-50 text-green-700 border-green-200";case ta.REJECTED:return"bg-red-50 text-red-700 border-red-200";case ta.EXPIRED:return"bg-orange-50 text-orange-700 border-orange-200";default:return"bg-gray-50 text-gray-700 border-gray-200"}},j=r.filter(k=>{const C=k.id.toLowerCase().includes(s.toLowerCase())||k.customerId.toLowerCase().includes(s.toLowerCase()),w=i==="all"||k.status===i;return C&&w}),x=()=>{m(null),g(""),c(!0)},v=k=>{m(k),g(k.customerId),c(!0)},y=k=>{h(k)},E=()=>h(null),O=async k=>{try{if(d)n(C=>C.map(w=>w.id===d.id?{...w,...k,updatedAt:new Date}:w)),e({title:"Success",description:"Quote updated successfully"});else{const C={id:Math.random().toString(36).substr(2,9),...k,status:ta.DRAFT,createdAt:new Date,updatedAt:new Date};n(w=>[...w,C]),e({title:"Success",description:"Quote created successfully"})}c(!1),m(null)}catch{e({title:"Error",description:"Failed to save quote",variant:"destructive"})}},M=async k=>{try{n(C=>C.map(w=>w.id===k?{...w,status:ta.SENT,updatedAt:new Date}:w)),e({title:"Success",description:"Quote sent to customer"})}catch{e({title:"Error",description:"Failed to send quote",variant:"destructive"})}},P=async k=>{try{const C=r.find(w=>w.id===k);if(C){const w={...C,id:Math.random().toString(36).substr(2,9),status:ta.DRAFT,createdAt:new Date,updatedAt:new Date};n(L=>[...L,w]),e({title:"Success",description:"Quote duplicated successfully"})}}catch{e({title:"Error",description:"Failed to duplicate quote",variant:"destructive"})}},S=async k=>{if(window.confirm("Are you sure you want to delete this quote?"))try{n(C=>C.filter(w=>w.id!==k)),e({title:"Success",description:"Quote deleted successfully"})}catch{e({title:"Error",description:"Failed to delete quote",variant:"destructive"})}},I={total:r.length,draft:r.filter(k=>k.status==="draft").length,sent:r.filter(k=>k.status==="sent").length,accepted:r.filter(k=>k.status==="accepted").length,totalValue:r.reduce((k,C)=>k+C.total,0),acceptedValue:r.filter(k=>k.status==="accepted").reduce((k,C)=>k+C.total,0)};return t.jsxs("div",{className:"space-y-8",children:[l&&t.jsx(CC,{quote:d,customerId:p,onSave:O,onCancel:()=>{c(!1),m(null)}}),u&&t.jsx(i_,{quote:u,onClose:E,onEdit:v}),t.jsx("div",{className:"ri-page-header",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"ri-page-title",children:"Quote Builder"}),t.jsx("p",{className:"ri-page-description",children:"Create and manage customer quotes with advanced pricing rules"})]}),t.jsxs(ne,{className:"shadow-sm",onClick:x,children:[t.jsx(Et,{className:"h-4 w-4 mr-2"}),"New Quote"]})]})}),t.jsxs("div",{className:"ri-stats-grid",children:[t.jsxs(ue,{className:"shadow-sm border-0 bg-gradient-to-br from-blue-50 to-blue-100/50",children:[t.jsxs(be,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[t.jsx(je,{className:"text-sm font-medium text-blue-900",children:"Total Quotes"}),t.jsx(Gn,{className:"h-4 w-4 text-blue-600"})]}),t.jsxs(me,{children:[t.jsx("div",{className:"text-2xl font-bold text-blue-900",children:I.total}),t.jsxs("p",{className:"text-xs text-blue-600 flex items-center mt-1",children:[t.jsx(vt,{className:"h-3 w-3 mr-1"}),"All quotes"]})]})]}),t.jsxs(ue,{className:"shadow-sm border-0 bg-gradient-to-br from-yellow-50 to-yellow-100/50",children:[t.jsxs(be,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[t.jsx(je,{className:"text-sm font-medium text-yellow-900",children:"Pending"}),t.jsx(Gn,{className:"h-4 w-4 text-yellow-600"})]}),t.jsxs(me,{children:[t.jsx("div",{className:"text-2xl font-bold text-yellow-900",children:I.sent}),t.jsxs("p",{className:"text-xs text-yellow-600 flex items-center mt-1",children:[t.jsx(vt,{className:"h-3 w-3 mr-1"}),"Awaiting response"]})]})]}),t.jsxs(ue,{className:"shadow-sm border-0 bg-gradient-to-br from-green-50 to-green-100/50",children:[t.jsxs(be,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[t.jsx(je,{className:"text-sm font-medium text-green-900",children:"Accepted"}),t.jsx(Gn,{className:"h-4 w-4 text-green-600"})]}),t.jsxs(me,{children:[t.jsx("div",{className:"text-2xl font-bold text-green-900",children:I.accepted}),t.jsxs("p",{className:"text-xs text-green-600 flex items-center mt-1",children:[t.jsx(vt,{className:"h-3 w-3 mr-1"}),I.total>0?Math.round(I.accepted/I.total*100):0,"% acceptance rate"]})]})]}),t.jsxs(ue,{className:"shadow-sm border-0 bg-gradient-to-br from-purple-50 to-purple-100/50",children:[t.jsxs(be,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[t.jsx(je,{className:"text-sm font-medium text-purple-900",children:"Quote Value"}),t.jsx(Bt,{className:"h-4 w-4 text-purple-600"})]}),t.jsxs(me,{children:[t.jsx("div",{className:"text-2xl font-bold text-purple-900",children:Ie(I.totalValue)}),t.jsxs("p",{className:"text-xs text-purple-600 flex items-center mt-1",children:[t.jsx(Bt,{className:"h-3 w-3 mr-1"}),Ie(I.acceptedValue)," accepted"]})]})]})]}),t.jsxs("div",{className:"flex gap-4",children:[t.jsxs("div",{className:"ri-search-bar",children:[t.jsx(Jn,{className:"ri-search-icon"}),t.jsx(Te,{placeholder:"Search quotes...",value:s,onChange:k=>a(k.target.value),className:"ri-search-input shadow-sm"})]}),t.jsxs(tt,{value:i,onValueChange:o,children:[t.jsx(Xe,{className:"w-40",children:t.jsx(rt,{placeholder:"Status"})}),t.jsxs(Ze,{children:[t.jsx(se,{value:"all",children:"All Status"}),t.jsx(se,{value:"draft",children:"Draft"}),t.jsx(se,{value:"sent",children:"Sent"}),t.jsx(se,{value:"viewed",children:"Viewed"}),t.jsx(se,{value:"accepted",children:"Accepted"}),t.jsx(se,{value:"rejected",children:"Rejected"}),t.jsx(se,{value:"expired",children:"Expired"})]})]}),t.jsxs(ne,{variant:"outline",className:"shadow-sm",children:[t.jsx(Ws,{className:"h-4 w-4 mr-2"}),"Filter"]})]}),t.jsxs(ue,{className:"shadow-sm",children:[t.jsxs(be,{children:[t.jsxs(je,{className:"text-xl",children:["Quotes (",j.length,")"]}),t.jsx(Ge,{children:"Manage customer quotes with advanced pricing and bundling"})]}),t.jsx(me,{children:t.jsxs("div",{className:"space-y-4",children:[j.map(k=>t.jsxs("div",{className:"ri-table-row",children:[t.jsx("div",{className:"flex items-center space-x-4 flex-1",children:t.jsxs("div",{className:"flex-1",children:[t.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[t.jsxs("h3",{className:"font-semibold text-foreground",children:["Quote #",k.id]}),t.jsx(Re,{className:ze("ri-badge-status",b(k.status)),children:k.status.toUpperCase()})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm text-muted-foreground",children:[t.jsxs("div",{children:[t.jsx("span",{className:"font-medium",children:"Customer:"})," ",k.customerId]}),t.jsxs("div",{children:[t.jsx("span",{className:"font-medium",children:"Total:"}),t.jsx("span",{className:"font-bold text-primary ml-1",children:Ie(k.total)})]}),t.jsxs("div",{children:[t.jsx("span",{className:"font-medium",children:"Created:"})," ",gt(k.createdAt)]}),t.jsxs("div",{children:[t.jsx("span",{className:"font-medium",children:"Valid Until:"})," ",gt(k.validUntil)]})]}),t.jsxs("div",{className:"mt-2 bg-muted/30 p-2 rounded-md",children:[t.jsxs("p",{className:"text-sm text-muted-foreground",children:[k.items.length," item(s)"]}),k.notes&&t.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:[t.jsx("span",{className:"font-medium",children:"Notes:"})," ",k.notes]})]})]})}),t.jsxs("div",{className:"ri-action-buttons",children:[t.jsxs(ne,{variant:"outline",size:"sm",className:"shadow-sm",onClick:()=>y(k),children:[t.jsx(tl,{className:"h-3 w-3 mr-1"}),"View"]}),t.jsxs(ne,{variant:"outline",size:"sm",className:"shadow-sm",onClick:()=>v(k),children:[t.jsx(Xr,{className:"h-3 w-3 mr-1"}),"Edit"]}),k.status==="draft"&&t.jsxs(ne,{variant:"outline",size:"sm",className:"shadow-sm",onClick:()=>M(k.id),children:[t.jsx(Fo,{className:"h-3 w-3 mr-1"}),"Send"]}),t.jsxs(ne,{variant:"outline",size:"sm",className:"shadow-sm",onClick:()=>P(k.id),children:[t.jsx(Py,{className:"h-3 w-3 mr-1"}),"Copy"]}),t.jsx(ne,{variant:"outline",size:"sm",className:"shadow-sm text-red-600 hover:text-red-700",onClick:()=>S(k.id),children:t.jsx(bs,{className:"h-3 w-3"})})]})]},k.id)),j.length===0&&t.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[t.jsx(Gn,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground/50"}),t.jsx("p",{children:"No quotes found"}),t.jsx("p",{className:"text-sm",children:"Create your first quote to get started"})]})]})})]})]})}function o_(){return t.jsxs(Fn,{children:[t.jsx(Pt,{path:"/",element:t.jsx(vw,{})}),t.jsx(Pt,{path:"/*",element:t.jsx(vw,{})})]})}function l_({schedule:e}){const[r,n]=A.useState(""),[s,a]=A.useState(1),[i,o]=A.useState("month"),[l,c]=A.useState("asc"),d=12,u=[...e.filter(x=>x.month.toString().includes(r))].sort((x,v)=>{const y=x[i],E=v[i];return l==="asc"?y>E?1:-1:y<E?1:-1}),h=Math.ceil(u.length/d),p=(s-1)*d,g=u.slice(p,p+d),b=x=>{i===x?c(l==="asc"?"desc":"asc"):(o(x),c("asc"))},j=x=>{a(x)};return e.length===0?t.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No amortization schedule available. Please calculate a loan first."}):t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsxs("div",{className:"relative w-64",children:[t.jsx(Jn,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),t.jsx(Te,{placeholder:"Search by month...",value:r,onChange:x=>{n(x.target.value),a(1)},className:"pl-10"})]}),t.jsxs("div",{className:"text-sm text-muted-foreground",children:["Showing ",p+1,"-",Math.min(p+d,u.length)," of ",u.length," payments"]})]}),t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"w-full border-collapse",children:[t.jsx("thead",{children:t.jsxs("tr",{className:"bg-muted/50",children:[t.jsx("th",{className:"p-3 text-left font-medium text-muted-foreground cursor-pointer hover:bg-muted/80",onClick:()=>b("month"),children:t.jsxs("div",{className:"flex items-center",children:[t.jsx("span",{children:"Month"}),i==="month"&&(l==="asc"?t.jsx(_i,{className:"ml-1 h-3 w-3"}):t.jsx(Fi,{className:"ml-1 h-3 w-3"}))]})}),t.jsx("th",{className:"p-3 text-left font-medium text-muted-foreground cursor-pointer hover:bg-muted/80",onClick:()=>b("payment"),children:t.jsxs("div",{className:"flex items-center",children:[t.jsx("span",{children:"Payment"}),i==="payment"&&(l==="asc"?t.jsx(_i,{className:"ml-1 h-3 w-3"}):t.jsx(Fi,{className:"ml-1 h-3 w-3"}))]})}),t.jsx("th",{className:"p-3 text-left font-medium text-muted-foreground cursor-pointer hover:bg-muted/80",onClick:()=>b("principal"),children:t.jsxs("div",{className:"flex items-center",children:[t.jsx("span",{children:"Principal"}),i==="principal"&&(l==="asc"?t.jsx(_i,{className:"ml-1 h-3 w-3"}):t.jsx(Fi,{className:"ml-1 h-3 w-3"}))]})}),t.jsx("th",{className:"p-3 text-left font-medium text-muted-foreground cursor-pointer hover:bg-muted/80",onClick:()=>b("interest"),children:t.jsxs("div",{className:"flex items-center",children:[t.jsx("span",{children:"Interest"}),i==="interest"&&(l==="asc"?t.jsx(_i,{className:"ml-1 h-3 w-3"}):t.jsx(Fi,{className:"ml-1 h-3 w-3"}))]})}),t.jsx("th",{className:"p-3 text-left font-medium text-muted-foreground",children:"Additional"}),t.jsx("th",{className:"p-3 text-left font-medium text-muted-foreground cursor-pointer hover:bg-muted/80",onClick:()=>b("balance"),children:t.jsxs("div",{className:"flex items-center",children:[t.jsx("span",{children:"Balance"}),i==="balance"&&(l==="asc"?t.jsx(_i,{className:"ml-1 h-3 w-3"}):t.jsx(Fi,{className:"ml-1 h-3 w-3"}))]})}),t.jsx("th",{className:"p-3 text-left font-medium text-muted-foreground cursor-pointer hover:bg-muted/80",onClick:()=>b("totalInterestPaid"),children:t.jsxs("div",{className:"flex items-center",children:[t.jsx("span",{children:"Total Interest"}),i==="totalInterestPaid"&&(l==="asc"?t.jsx(_i,{className:"ml-1 h-3 w-3"}):t.jsx(Fi,{className:"ml-1 h-3 w-3"}))]})})]})}),t.jsx("tbody",{children:g.map((x,v)=>t.jsxs("tr",{className:v%2===0?"bg-muted/20":"",children:[t.jsx("td",{className:"p-3",children:x.month}),t.jsx("td",{className:"p-3",children:Ie(x.payment)}),t.jsx("td",{className:"p-3",children:Ie(x.principal)}),t.jsx("td",{className:"p-3",children:Ie(x.interest)}),t.jsx("td",{className:"p-3",children:Ie(x.additionalCosts)}),t.jsx("td",{className:"p-3",children:Ie(x.balance)}),t.jsx("td",{className:"p-3",children:Ie(x.totalInterestPaid)})]},x.month))})]})}),h>1&&t.jsxs("div",{className:"flex justify-center space-x-2 mt-4",children:[t.jsx(ne,{variant:"outline",size:"sm",onClick:()=>j(1),disabled:s===1,children:"First"}),t.jsx(ne,{variant:"outline",size:"sm",onClick:()=>j(s-1),disabled:s===1,children:"Previous"}),t.jsx("div",{className:"flex items-center space-x-1",children:Array.from({length:Math.min(5,h)},(x,v)=>{let y;return h<=5||s<=3?y=v+1:s>=h-2?y=h-4+v:y=s-2+v,t.jsx(ne,{variant:s===y?"default":"outline",size:"sm",onClick:()=>j(y),children:y},y)})}),t.jsx(ne,{variant:"outline",size:"sm",onClick:()=>j(s+1),disabled:s===h,children:"Next"}),t.jsx(ne,{variant:"outline",size:"sm",onClick:()=>j(h),disabled:s===h,children:"Last"})]})]})}function c_({initialValues:e,onSave:r,onClose:n}){const{toast:s}=nr(),[a,i]=A.useState((e==null?void 0:e.loanAmount)||1e5),[o,l]=A.useState((e==null?void 0:e.downPayment)||2e4),[c,d]=A.useState((e==null?void 0:e.interestRate)||6.99),[m,u]=A.useState((e==null?void 0:e.loanTerm)||60),[h,p]=A.useState("monthly"),[g,b]=A.useState(!1),[j,x]=A.useState(0),[v,y]=A.useState(!1),[E,O]=A.useState(0),[M,P]=A.useState("calculator"),[S,I]=A.useState(0),[k,C]=A.useState(0),[w,L]=A.useState(0),[T,W]=A.useState([]);A.useEffect(()=>{V()},[a,o,c,m,h,g,j,v,E]);const V=()=>{const q=a-o;if(q<=0){I(0),C(0),L(0),W([]);return}const R=c/100/12,$=q*R/(1-Math.pow(1+R,-m));let G=0;g&&(G+=j),v&&(G+=$*(E/100));let X=1;switch(h){case"biweekly":X=12/26;break;case"weekly":X=12/52;break;default:X=1;break}const Z=$*X+G*X,le=m,ce=$*le-q,de=q+ce+G*le,Se=_(q,R,m,$,G);I(Z),C(ce),L(de),W(Se)},_=(q,R,$,G,X)=>{let Z=q,le=0;const ce=[];for(let de=1;de<=$;de++){const Se=Z*R;let ye=G-Se;if(Z<ye&&(ye=Z),Z-=ye,le+=Se,ce.push({month:de,payment:G+X,principal:ye,interest:Se,additionalCosts:X,balance:Z,totalInterestPaid:le}),Z<=0)break}return ce},B=()=>{r&&r({loanAmount:a,downPayment:o,interestRate:c,loanTerm:m,paymentFrequency:h,includeInsurance:g,insuranceAmount:j,includeTax:v,taxRate:E,monthlyPayment:S,totalInterest:k,totalCost:w,amortizationSchedule:T}),s({title:"Loan Calculation Saved",description:"Your loan calculation has been saved successfully."})},U=()=>{window.print()},H=()=>{const R=[["Month","Payment","Principal","Interest","Additional Costs","Balance","Total Interest Paid"].join(","),...T.map(Z=>[Z.month,Z.payment.toFixed(2),Z.principal.toFixed(2),Z.interest.toFixed(2),Z.additionalCosts.toFixed(2),Z.balance.toFixed(2),Z.totalInterestPaid.toFixed(2)].join(","))].join(`
`),$=new Blob([R],{type:"text/csv;charset=utf-8;"}),G=URL.createObjectURL($),X=document.createElement("a");X.href=G,X.setAttribute("download","amortization_schedule.csv"),document.body.appendChild(X),X.click(),document.body.removeChild(X),s({title:"Export Successful",description:"Amortization schedule exported to CSV."})};return t.jsx("div",{className:"space-y-6",children:t.jsxs(Zr,{value:M,onValueChange:P,className:"space-y-4",children:[t.jsxs($r,{className:"grid w-full grid-cols-2",children:[t.jsx(it,{value:"calculator",children:"Calculator"}),t.jsx(it,{value:"amortization",children:"Amortization Schedule"})]}),t.jsxs(ct,{value:"calculator",className:"space-y-6",children:[t.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[t.jsxs(ue,{className:"shadow-sm",children:[t.jsxs(be,{children:[t.jsxs(je,{className:"flex items-center",children:[t.jsx(md,{className:"h-5 w-5 mr-2 text-primary"}),"Loan Details"]}),t.jsx(Ge,{children:"Enter the details of your loan"})]}),t.jsxs(me,{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx(ve,{htmlFor:"loanAmount",children:"Vehicle Price"}),t.jsxs("div",{className:"relative",children:[t.jsx(Bt,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),t.jsx(Te,{id:"loanAmount",type:"number",value:a,onChange:q=>i(parseFloat(q.target.value)||0),className:"pl-10"})]})]}),t.jsxs("div",{children:[t.jsx(ve,{htmlFor:"downPayment",children:"Down Payment"}),t.jsxs("div",{className:"relative",children:[t.jsx(Bt,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),t.jsx(Te,{id:"downPayment",type:"number",value:o,onChange:q=>l(parseFloat(q.target.value)||0),className:"pl-10"})]})]}),t.jsxs("div",{children:[t.jsx(ve,{htmlFor:"interestRate",children:"Interest Rate (%)"}),t.jsx(Te,{id:"interestRate",type:"number",step:"0.01",value:c,onChange:q=>d(parseFloat(q.target.value)||0)})]}),t.jsxs("div",{children:[t.jsx(ve,{htmlFor:"loanTerm",children:"Loan Term (months)"}),t.jsxs(tt,{value:m.toString(),onValueChange:q=>u(parseInt(q)),children:[t.jsx(Xe,{children:t.jsx(rt,{})}),t.jsxs(Ze,{children:[t.jsx(se,{value:"12",children:"12 months (1 year)"}),t.jsx(se,{value:"24",children:"24 months (2 years)"}),t.jsx(se,{value:"36",children:"36 months (3 years)"}),t.jsx(se,{value:"48",children:"48 months (4 years)"}),t.jsx(se,{value:"60",children:"60 months (5 years)"}),t.jsx(se,{value:"72",children:"72 months (6 years)"}),t.jsx(se,{value:"84",children:"84 months (7 years)"}),t.jsx(se,{value:"96",children:"96 months (8 years)"}),t.jsx(se,{value:"120",children:"120 months (10 years)"}),t.jsx(se,{value:"180",children:"180 months (15 years)"}),t.jsx(se,{value:"240",children:"240 months (20 years)"})]})]})]}),t.jsxs("div",{children:[t.jsx(ve,{htmlFor:"paymentFrequency",children:"Payment Frequency"}),t.jsxs(tt,{value:h,onValueChange:p,children:[t.jsx(Xe,{children:t.jsx(rt,{})}),t.jsxs(Ze,{children:[t.jsx(se,{value:"monthly",children:"Monthly"}),t.jsx(se,{value:"biweekly",children:"Bi-weekly"}),t.jsx(se,{value:"weekly",children:"Weekly"})]})]})]})]})]}),t.jsxs(ue,{className:"shadow-sm",children:[t.jsxs(be,{children:[t.jsxs(je,{className:"flex items-center",children:[t.jsx(Bt,{className:"h-5 w-5 mr-2 text-primary"}),"Additional Costs"]}),t.jsx(Ge,{children:"Include additional costs in your calculation"})]}),t.jsxs(me,{className:"space-y-4",children:[t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(Tr,{id:"includeInsurance",checked:g,onCheckedChange:q=>b(!!q)}),t.jsx(ve,{htmlFor:"includeInsurance",children:"Include Insurance"})]}),g&&t.jsxs("div",{children:[t.jsx(ve,{htmlFor:"insuranceAmount",children:"Monthly Insurance Amount"}),t.jsxs("div",{className:"relative",children:[t.jsx(Bt,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),t.jsx(Te,{id:"insuranceAmount",type:"number",value:j,onChange:q=>x(parseFloat(q.target.value)||0),className:"pl-10"})]})]}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(Tr,{id:"includeTax",checked:v,onCheckedChange:q=>y(!!q)}),t.jsx(ve,{htmlFor:"includeTax",children:"Include Tax"})]}),v&&t.jsxs("div",{children:[t.jsx(ve,{htmlFor:"taxRate",children:"Tax Rate (%)"}),t.jsx(Te,{id:"taxRate",type:"number",step:"0.01",value:E,onChange:q=>O(parseFloat(q.target.value)||0)})]}),t.jsxs("div",{className:"mt-6 pt-6 border-t",children:[t.jsx("h3",{className:"font-semibold mb-4",children:"Loan Summary"}),t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-muted-foreground",children:"Principal Amount:"}),t.jsx("span",{className:"font-medium",children:Ie(a-o)})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsxs("span",{className:"text-muted-foreground",children:[h==="monthly"?"Monthly":h==="biweekly"?"Bi-weekly":"Weekly"," Payment:"]}),t.jsx("span",{className:"font-bold text-primary",children:Ie(S)})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-muted-foreground",children:"Total Interest:"}),t.jsx("span",{className:"font-medium",children:Ie(k)})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-muted-foreground",children:"Total Cost:"}),t.jsx("span",{className:"font-medium",children:Ie(w)})]})]})]})]})]})]}),t.jsxs("div",{className:"flex justify-end space-x-3",children:[n&&t.jsx(ne,{variant:"outline",onClick:n,children:"Close"}),t.jsxs(ne,{variant:"outline",onClick:()=>P("amortization"),children:[t.jsx(zr,{className:"h-4 w-4 mr-2"}),"View Amortization"]}),r&&t.jsx(ne,{onClick:B,children:"Save Calculation"})]})]}),t.jsxs(ct,{value:"amortization",children:[t.jsxs(ue,{className:"shadow-sm",children:[t.jsx(be,{children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsxs(je,{className:"flex items-center",children:[t.jsx(zr,{className:"h-5 w-5 mr-2 text-primary"}),"Amortization Schedule"]}),t.jsx(Ge,{children:"Detailed payment schedule over the life of the loan"})]}),t.jsxs("div",{className:"flex space-x-2",children:[t.jsxs(ne,{variant:"outline",size:"sm",onClick:H,children:[t.jsx(Wo,{className:"h-4 w-4 mr-2"}),"Export CSV"]}),t.jsxs(ne,{variant:"outline",size:"sm",onClick:U,children:[t.jsx(ox,{className:"h-4 w-4 mr-2"}),"Print"]})]})]})}),t.jsx(me,{children:t.jsx(l_,{schedule:T})})]}),t.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[t.jsxs(ne,{variant:"outline",onClick:()=>P("calculator"),children:[t.jsx(md,{className:"h-4 w-4 mr-2"}),"Back to Calculator"]}),r&&t.jsx(ne,{onClick:B,children:"Save Calculation"})]})]})]})})}function d_({onSave:e,onCancel:r,onAddNewCustomer:n,preselectedCustomerId:s}){const{toast:a}=nr(),{leads:i}=Yi(),{vehicles:o,getAvailableVehicles:l}=rl(),[c,d]=A.useState(!1),[m,u]=A.useState(!1),[h,p]=A.useState(null),[g,b]=A.useState({customerId:s||"",customerName:"",vehicleId:"",vehicleInfo:"",amount:0,downPayment:0,term:60,rate:6.99,paymentAmount:0,startDate:new Date().toISOString().split("T")[0],status:"active",notes:"",loanType:"standard",paymentFrequency:"monthly",includeInsurance:!1,insuranceAmount:0,includeTax:!1,taxRate:0});A.useEffect(()=>{s&&b(E=>({...E,customerId:s}))},[s]),A.useEffect(()=>{if(g.customerId){const E=i.find(O=>O.id===g.customerId);E&&b(O=>({...O,customerName:`${E.firstName} ${E.lastName}`}))}},[g.customerId,i]);const j=E=>{E==="add-new"?n==null||n():b(O=>({...O,customerId:E}))},x=E=>{const O=o.find(M=>M.id===E);O&&b(M=>({...M,vehicleId:E,vehicleInfo:`${O.year} ${O.make} ${O.model}`,amount:O.price}))},v=E=>{p(E),b(O=>({...O,amount:E.loanAmount,downPayment:E.downPayment,term:E.loanTerm,rate:E.interestRate,paymentAmount:E.monthlyPayment,paymentFrequency:E.paymentFrequency,includeInsurance:E.includeInsurance,insuranceAmount:E.insuranceAmount,includeTax:E.includeTax,taxRate:E.taxRate}))},y=async E=>{if(E.preventDefault(),!g.customerId||!g.vehicleId){a({title:"Validation Error",description:"Customer and vehicle are required.",variant:"destructive"});return}d(!0);try{await e(g)}catch{a({title:"Error",description:"Failed to create loan",variant:"destructive"})}finally{d(!1)}};return t.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:m?t.jsx("div",{className:"w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:t.jsx(c_,{initialValues:{loanAmount:g.amount,downPayment:g.downPayment,interestRate:g.rate,loanTerm:g.term},onSave:v,onClose:()=>u(!1)})}):t.jsxs(ue,{className:"w-full max-w-2xl max-h-[90vh] overflow-y-auto mx-2 sm:mx-4",children:[t.jsx(be,{children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx(je,{children:"Create New Loan"}),t.jsx(Ge,{children:"Set up a new loan for a customer"})]}),t.jsx(ne,{variant:"ghost",size:"sm",onClick:r,children:t.jsx(qt,{className:"h-4 w-4"})})]})}),t.jsx(me,{children:t.jsxs("form",{onSubmit:y,className:"space-y-6",children:[t.jsxs("div",{className:"space-y-4",children:[t.jsx("h3",{className:"text-lg font-semibold",children:"Customer & Vehicle"}),t.jsxs("div",{className:"grid gap-4 grid-cols-1 md:grid-cols-2",children:[t.jsxs("div",{children:[t.jsx(ve,{htmlFor:"customerId",children:"Customer *"}),t.jsxs(tt,{value:g.customerId,onValueChange:j,children:[t.jsx(Xe,{children:t.jsx(rt,{placeholder:"Select customer"})}),t.jsxs(Ze,{children:[t.jsx("div",{className:"px-2 py-1.5",children:t.jsxs(ne,{variant:"outline",size:"sm",className:"w-full justify-start",onClick:()=>j("add-new"),children:[t.jsx(qt,{className:"h-3.5 w-3.5 mr-2"}),"Add New Customer"]})}),t.jsx("div",{className:"px-2 py-1 border-t"}),i.map(E=>t.jsxs(se,{value:E.id,children:[E.firstName," ",E.lastName]},E.id))]})]})]}),t.jsxs("div",{children:[t.jsx(ve,{htmlFor:"vehicleId",children:"Vehicle *"}),t.jsxs(tt,{value:g.vehicleId,onValueChange:x,children:[t.jsx(Xe,{children:t.jsx(rt,{placeholder:"Select vehicle"})}),t.jsx(Ze,{children:o.map(E=>t.jsxs(se,{value:E.id,children:[E.year," ",E.make," ",E.model]},E.id))})]})]})]})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("h3",{className:"text-lg font-semibold mb-2 sm:mb-0",children:"Loan Details"}),t.jsxs(ne,{type:"button",variant:"outline",onClick:()=>u(!0),className:"w-full sm:w-auto",children:[t.jsx(md,{className:"h-4 w-4 mr-2"}),"Loan Calculator"]})]}),t.jsxs("div",{className:"grid gap-4 grid-cols-1 md:grid-cols-2",children:[t.jsxs("div",{children:[t.jsx(ve,{htmlFor:"amount",children:"Loan Amount *"}),t.jsxs("div",{className:"relative",children:[t.jsx(Bt,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),t.jsx(Te,{id:"amount",type:"number",value:g.amount,onChange:E=>b(O=>({...O,amount:parseFloat(E.target.value)||0})),className:"pl-10"})]})]}),t.jsxs("div",{children:[t.jsx(ve,{htmlFor:"downPayment",children:"Down Payment"}),t.jsxs("div",{className:"relative",children:[t.jsx(Bt,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),t.jsx(Te,{id:"downPayment",type:"number",value:g.downPayment,onChange:E=>b(O=>({...O,downPayment:parseFloat(E.target.value)||0})),className:"pl-10"})]})]})]}),t.jsxs("div",{className:"grid gap-4 grid-cols-1 sm:grid-cols-2 md:grid-cols-3",children:[t.jsxs("div",{children:[t.jsx(ve,{htmlFor:"term",children:"Term (months) *"}),t.jsxs(tt,{value:g.term.toString(),onValueChange:E=>b(O=>({...O,term:parseInt(E)})),children:[t.jsx(Xe,{children:t.jsx(rt,{})}),t.jsxs(Ze,{children:[t.jsx(se,{value:"12",children:"12 months (1 year)"}),t.jsx(se,{value:"24",children:"24 months (2 years)"}),t.jsx(se,{value:"36",children:"36 months (3 years)"}),t.jsx(se,{value:"48",children:"48 months (4 years)"}),t.jsx(se,{value:"60",children:"60 months (5 years)"}),t.jsx(se,{value:"72",children:"72 months (6 years)"}),t.jsx(se,{value:"84",children:"84 months (7 years)"}),t.jsx(se,{value:"96",children:"96 months (8 years)"}),t.jsx(se,{value:"120",children:"120 months (10 years)"})]})]})]}),t.jsxs("div",{children:[t.jsx(ve,{htmlFor:"rate",children:"Interest Rate (%) *"}),t.jsx(Te,{id:"rate",type:"number",step:"0.01",value:g.rate,onChange:E=>b(O=>({...O,rate:parseFloat(E.target.value)||0}))})]}),t.jsxs("div",{children:[t.jsx(ve,{htmlFor:"paymentAmount",children:"Monthly Payment *"}),t.jsxs("div",{className:"relative",children:[t.jsx(Bt,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),t.jsx(Te,{id:"paymentAmount",type:"number",step:"0.01",value:g.paymentAmount,onChange:E=>b(O=>({...O,paymentAmount:parseFloat(E.target.value)||0})),className:"pl-10"})]})]})]}),t.jsxs("div",{className:"grid gap-4 grid-cols-1 md:grid-cols-2",children:[t.jsxs("div",{children:[t.jsx(ve,{htmlFor:"startDate",children:"Start Date *"}),t.jsx(Te,{id:"startDate",type:"date",value:g.startDate,onChange:E=>b(O=>({...O,startDate:E.target.value}))})]}),t.jsxs("div",{children:[t.jsx(ve,{htmlFor:"loanType",children:"Loan Type"}),t.jsxs(tt,{value:g.loanType,onValueChange:E=>b(O=>({...O,loanType:E})),children:[t.jsx(Xe,{children:t.jsx(rt,{})}),t.jsxs(Ze,{children:[t.jsx(se,{value:"standard",children:"Standard"}),t.jsx(se,{value:"bhph",children:"Buy Here Pay Here"}),t.jsx(se,{value:"balloon",children:"Balloon"}),t.jsx(se,{value:"lease",children:"Lease"})]})]})]})]})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsx("h3",{className:"text-lg font-semibold",children:"Additional Options"}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(Tr,{id:"includeInsurance",checked:g.includeInsurance,onCheckedChange:E=>b(O=>({...O,includeInsurance:!!E}))}),t.jsx(ve,{htmlFor:"includeInsurance",children:"Include Insurance"})]}),g.includeInsurance&&t.jsxs("div",{children:[t.jsx(ve,{htmlFor:"insuranceAmount",children:"Monthly Insurance Amount"}),t.jsxs("div",{className:"relative",children:[t.jsx(Bt,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),t.jsx(Te,{id:"insuranceAmount",type:"number",step:"0.01",value:g.insuranceAmount,onChange:E=>b(O=>({...O,insuranceAmount:parseFloat(E.target.value)||0})),className:"pl-10"})]})]}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(Tr,{id:"includeTax",checked:g.includeTax,onCheckedChange:E=>b(O=>({...O,includeTax:!!E}))}),t.jsx(ve,{htmlFor:"includeTax",children:"Include Tax"})]}),g.includeTax&&t.jsxs("div",{children:[t.jsx(ve,{htmlFor:"taxRate",children:"Tax Rate (%)"}),t.jsx(Te,{id:"taxRate",type:"number",step:"0.01",value:g.taxRate,onChange:E=>b(O=>({...O,taxRate:parseFloat(E.target.value)||0}))})]})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsx("h3",{className:"text-lg font-semibold",children:"Notes"}),t.jsx(rr,{value:g.notes,onChange:E=>b(O=>({...O,notes:E.target.value})),placeholder:"Add any additional notes about this loan...",rows:3})]}),t.jsxs("div",{className:"flex flex-col sm:flex-row justify-end space-y-2 sm:space-y-0 sm:space-x-3 pt-6 border-t",children:[t.jsx(ne,{type:"button",variant:"outline",onClick:r,disabled:c,className:"w-full sm:w-auto",children:"Cancel"}),t.jsx(ne,{type:"submit",disabled:c,className:"w-full sm:w-auto",children:c?t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Creating Loan..."]}):t.jsxs(t.Fragment,{children:[t.jsx(js,{className:"h-4 w-4 mr-2"}),"Create Loan"]})})]})]})})]})})}const u_=[{id:"1",customerId:"cust-1",customerName:"John Smith",vehicleId:"veh-1",vehicleInfo:"2024 Forest River Georgetown",amount:125e3,downPayment:2e4,term:60,rate:6.99,paymentAmount:2100.42,startDate:new Date("2024-01-15"),status:"active",remainingBalance:105e3,nextPaymentDate:new Date("2024-02-15"),createdAt:new Date("2024-01-15")},{id:"2",customerId:"cust-2",customerName:"Sarah Johnson",vehicleId:"veh-2",vehicleInfo:"2023 Winnebago View",amount:89e3,downPayment:15e3,term:72,rate:7.49,paymentAmount:1250.33,startDate:new Date("2024-01-10"),status:"active",remainingBalance:74e3,nextPaymentDate:new Date("2024-02-10"),createdAt:new Date("2024-01-10")}];function yw(){const[e,r]=A.useState(u_),[n,s]=A.useState(!1),[a,i]=A.useState(!1),[o,l]=A.useState(null),[c,d]=A.useState(!1);A.useState("dashboard"),A.useState("");const{toast:m}=nr(),u=()=>{l(null),i(!0)},h=g=>{m({title:"Customer Added",description:`${g.firstName} ${g.lastName} has been added.`}),l(g.id),d(!1),i(!0)},p=async g=>{const b={id:Math.random().toString(36).substr(2,9),customerId:g.customerId,customerName:g.customerName,vehicleId:g.vehicleId,vehicleInfo:g.vehicleInfo,amount:g.amount,downPayment:g.downPayment,term:g.term,rate:g.rate,paymentAmount:g.paymentAmount,startDate:new Date(g.startDate),status:g.status,remainingBalance:g.amount-g.downPayment,nextPaymentDate:new Date(new Date(g.startDate).setMonth(new Date(g.startDate).getMonth()+1)),createdAt:new Date};r([...e,b]),i(!1),m({title:"Success",description:"Loan created successfully"})};return t.jsxs("div",{className:"space-y-8",children:[c&&t.jsx(kd,{onClose:()=>d(!1),onSuccess:h}),a&&t.jsx(d_,{preselectedCustomerId:o,onSave:p,onCancel:()=>i(!1),onAddNewCustomer:()=>{i(!1),d(!0)}}),t.jsx("div",{className:"ri-page-header",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"ri-page-title",children:"Finance & Loans"}),t.jsx("p",{className:"ri-page-description",children:"Manage loans, payments, and financial calculations"})]}),t.jsxs(ne,{className:"shadow-sm",onClick:u,children:[t.jsx(Et,{className:"h-4 w-4 mr-2"}),"New Loan"]})]})}),t.jsxs("div",{className:"ri-stats-grid",children:[t.jsxs(ue,{className:"shadow-sm border-0 bg-gradient-to-br from-blue-50 to-blue-100/50",children:[t.jsxs(be,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[t.jsx(je,{className:"text-sm font-medium text-blue-900",children:"Active Loans"}),t.jsx(Bt,{className:"h-4 w-4 text-blue-600"})]}),t.jsxs(me,{children:[t.jsx("div",{className:"text-2xl font-bold text-blue-900",children:e.length}),t.jsxs("p",{className:"text-xs text-blue-600 flex items-center mt-1",children:[t.jsx(vt,{className:"h-3 w-3 mr-1"}),"Current loans"]})]})]}),t.jsxs(ue,{className:"shadow-sm border-0 bg-gradient-to-br from-green-50 to-green-100/50",children:[t.jsxs(be,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[t.jsx(je,{className:"text-sm font-medium text-green-900",children:"Total Financed"}),t.jsx(Bt,{className:"h-4 w-4 text-green-600"})]}),t.jsxs(me,{children:[t.jsx("div",{className:"text-2xl font-bold text-green-900",children:Ie(e.reduce((g,b)=>g+b.amount,0))}),t.jsxs("p",{className:"text-xs text-green-600 flex items-center mt-1",children:[t.jsx(vt,{className:"h-3 w-3 mr-1"}),"Loan volume"]})]})]}),t.jsxs(ue,{className:"shadow-sm border-0 bg-gradient-to-br from-purple-50 to-purple-100/50",children:[t.jsxs(be,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[t.jsx(je,{className:"text-sm font-medium text-purple-900",children:"Avg Rate"}),t.jsx(md,{className:"h-4 w-4 text-purple-600"})]}),t.jsxs(me,{children:[t.jsxs("div",{className:"text-2xl font-bold text-purple-900",children:[(e.reduce((g,b)=>g+b.rate,0)/e.length).toFixed(2),"%"]}),t.jsxs("p",{className:"text-xs text-purple-600 flex items-center mt-1",children:[t.jsx(vt,{className:"h-3 w-3 mr-1"}),"Average interest rate"]})]})]}),t.jsxs(ue,{className:"shadow-sm border-0 bg-gradient-to-br from-orange-50 to-orange-100/50",children:[t.jsxs(be,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[t.jsx(je,{className:"text-sm font-medium text-orange-900",children:"Monthly Payments"}),t.jsx(vf,{className:"h-4 w-4 text-orange-600"})]}),t.jsxs(me,{children:[t.jsx("div",{className:"text-2xl font-bold text-orange-900",children:Ie(e.reduce((g,b)=>g+b.paymentAmount,0))}),t.jsxs("p",{className:"text-xs text-orange-600 flex items-center mt-1",children:[t.jsx(zr,{className:"h-3 w-3 mr-1"}),"Total monthly"]})]})]})]}),t.jsxs(ue,{className:"shadow-sm",children:[t.jsxs(be,{children:[t.jsx(je,{className:"text-xl",children:"Loans"}),t.jsx(Ge,{children:"Manage customer loans and financing"})]}),t.jsx(me,{children:t.jsxs("div",{className:"space-y-4",children:[e.map(g=>t.jsxs("div",{className:"ri-table-row",children:[t.jsx("div",{className:"flex items-center space-x-4 flex-1",children:t.jsxs("div",{className:"flex-1",children:[t.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[t.jsx("h3",{className:"font-semibold text-foreground",children:g.customerName}),t.jsx(Re,{className:"bg-blue-50 text-blue-700 border-blue-200",children:g.status.toUpperCase()})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm text-muted-foreground",children:[t.jsxs("div",{children:[t.jsx("span",{className:"font-medium",children:"Vehicle:"}),t.jsx("span",{className:"ml-1",children:g.vehicleInfo})]}),t.jsxs("div",{children:[t.jsx("span",{className:"font-medium",children:"Amount:"}),t.jsx("span",{className:"ml-1 font-bold text-primary",children:Ie(g.amount)})]}),t.jsxs("div",{children:[t.jsx("span",{className:"font-medium",children:"Term:"}),t.jsxs("span",{className:"ml-1",children:[g.term," months @ ",g.rate,"%"]})]}),t.jsxs("div",{children:[t.jsx("span",{className:"font-medium",children:"Payment:"}),t.jsxs("span",{className:"ml-1",children:[Ie(g.paymentAmount),"/month"]})]})]}),t.jsx("div",{className:"mt-2 bg-muted/30 p-2 rounded-md",children:t.jsxs("p",{className:"text-sm text-muted-foreground",children:[t.jsx("span",{className:"font-medium",children:"Next Payment:"})," ",g.nextPaymentDate.toLocaleDateString(),t.jsx("span",{className:"ml-4 font-medium",children:"Balance:"})," ",Ie(g.remainingBalance)]})})]})}),t.jsxs("div",{className:"ri-action-buttons",children:[t.jsxs(ne,{variant:"outline",size:"sm",className:"shadow-sm",onClick:()=>s(!0),children:[t.jsx(md,{className:"h-3 w-3 mr-1"}),"Calculator"]}),t.jsxs(ne,{variant:"outline",size:"sm",className:"shadow-sm",children:[t.jsx(vf,{className:"h-3 w-3 mr-1"}),"Payments"]})]})]},g.id)),e.length===0&&t.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[t.jsx(Bt,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground/50"}),t.jsx("p",{children:"No loans found"}),t.jsx("p",{className:"text-sm",children:"Create your first loan to get started"})]})]})})]})]})}function m_(){return t.jsxs(Fn,{children:[t.jsx(Pt,{path:"/",element:t.jsx(yw,{})}),t.jsx(Pt,{path:"/*",element:t.jsx(yw,{})})]})}var pt=(e=>(e.PROSPECTING="prospecting",e.QUALIFICATION="qualification",e.NEEDS_ANALYSIS="needs_analysis",e.PROPOSAL="proposal",e.NEGOTIATION="negotiation",e.CLOSED_WON="closed_won",e.CLOSED_LOST="closed_lost",e))(pt||{}),or=(e=>(e.ACTIVE="active",e.WON="won",e.LOST="lost",e.ON_HOLD="on_hold",e.CANCELLED="cancelled",e))(or||{}),oi=(e=>(e.LOW="low",e.MEDIUM="medium",e.HIGH="high",e.CRITICAL="critical",e))(oi||{}),xo=(e=>(e.GEOGRAPHIC="geographic",e.INDUSTRY="industry",e.ACCOUNT_SIZE="account_size",e.PRODUCT_LINE="product_line",e))(xo||{});function p_(){const[e,r]=A.useState([]),[n,s]=A.useState([]),[a,i]=A.useState([]),[o,l]=A.useState([]),[c,d]=A.useState([]),[m,u]=A.useState(!1);A.useEffect(()=>{h()},[]);const h=()=>{const T=vn("renter-insight-deals",[{id:"1",name:"Georgetown Class A Sale - Smith Family",customerId:"cust-001",customerName:"John & Mary Smith",stage:pt.PROPOSAL,status:or.ACTIVE,priority:"high",value:145e3,probability:75,expectedCloseDate:new Date("2024-02-15"),assignedTo:"rep-001",territoryId:"territory-001",sourceId:"source-001",competitorIds:["comp-001"],products:[{id:"1",productId:"prod-001",productName:"2024 Forest River Georgetown",quantity:1,unitPrice:125e3,discount:5e3,total:12e4},{id:"2",productId:"prod-002",productName:"Extended Warranty Package",quantity:1,unitPrice:3500,discount:0,total:3500}],stageHistory:[],notes:"Customer very interested, financing pre-approved",requiresApproval:!0,approvalStatus:"pending",customFields:{tradeInValue:25e3,financingType:"bank_loan"},createdAt:new Date("2024-01-10"),updatedAt:new Date("2024-01-20")},{id:"2",name:"Travel Trailer - Johnson Family",customerId:"cust-002",customerName:"Sarah Johnson",stage:pt.NEGOTIATION,status:or.ACTIVE,priority:"medium",value:75e3,probability:85,expectedCloseDate:new Date("2024-02-10"),assignedTo:"rep-002",territoryId:"territory-002",competitorIds:[],products:[{id:"3",productId:"prod-003",productName:"2024 Airstream Flying Cloud",quantity:1,unitPrice:75e3,discount:2e3,total:73e3}],stageHistory:[],notes:"Ready to close, just finalizing delivery details",requiresApproval:!1,customFields:{},createdAt:new Date("2024-01-05"),updatedAt:new Date("2024-01-18")}]),W=vn("renter-insight-territories",[{id:"territory-001",name:"North Region",type:"geographic",description:"Northern states territory",assignedTo:["rep-001","rep-003"],rules:[{id:"1",field:"state",operator:"in_range",value:["IL","WI","MN","IA"],priority:1}],isActive:!0,createdAt:new Date("2024-01-01"),updatedAt:new Date("2024-01-01")},{id:"territory-002",name:"South Region",type:"geographic",description:"Southern states territory",assignedTo:["rep-002"],rules:[{id:"2",field:"state",operator:"in_range",value:["TX","FL","GA","NC"],priority:1}],isActive:!0,createdAt:new Date("2024-01-01"),updatedAt:new Date("2024-01-01")}]),V=vn("renter-insight-stage-history",[{id:"1",dealId:"1",fromStage:pt.QUALIFICATION,toStage:pt.NEEDS_ANALYSIS,changedBy:"rep-001",changedAt:new Date("2024-01-12"),duration:48,notes:"Customer qualified, moving to needs analysis"},{id:"2",dealId:"1",fromStage:pt.NEEDS_ANALYSIS,toStage:pt.PROPOSAL,changedBy:"rep-001",changedAt:new Date("2024-01-18"),duration:144,notes:"Proposal prepared and presented"}]);r(T),s(W),d(V)},p=T=>{Hr("renter-insight-deals",T)},g=T=>{Hr("renter-insight-stage-history",T)},b=async T=>{u(!0);try{const W={id:Math.random().toString(36).substr(2,9),name:T.name||"",customerId:T.customerId||"",customerName:T.customerName||"",stage:pt.PROSPECTING,status:or.ACTIVE,priority:T.priority||"medium",value:T.value||0,probability:10,expectedCloseDate:T.expectedCloseDate||new Date,assignedTo:T.assignedTo||"",territoryId:T.territoryId||"",sourceId:T.sourceId,competitorIds:T.competitorIds||[],products:T.products||[],stageHistory:[],notes:T.notes||"",requiresApproval:(T.value||0)>1e5,customFields:T.customFields||{},createdAt:new Date,updatedAt:new Date},V=[...e,W];return r(V),p(V),await x(W.id,void 0,pt.PROSPECTING,"system"),W}finally{u(!1)}},j=async(T,W,V)=>{const _=e.find($=>$.id===T);if(!_)return;const B=_.stage,U=y(W),H=W===pt.CLOSED_WON?or.WON:W===pt.CLOSED_LOST?or.LOST:or.ACTIVE,q=W===pt.CLOSED_WON||W===pt.CLOSED_LOST?new Date:void 0,R=e.map($=>$.id===T?{...$,stage:W,probability:U,status:H,actualCloseDate:q,updatedAt:new Date}:$);return r(R),p(R),await x(T,B,W,"current-user",V||`Stage changed from ${(B==null?void 0:B.replace("_"," "))||"none"} to ${W.replace("_"," ")}`),R.find($=>$.id===T)},x=async(T,W,V,_,B)=>{const U=W?v(T,W):void 0,H={id:Math.random().toString(36).substr(2,9),dealId:T,fromStage:W,toStage:V,changedBy:_,changedAt:new Date,duration:U,notes:B},q=[...c,H];d(q),g(q)},v=(T,W)=>{const _=c.filter(B=>B.dealId===T).find(B=>B.toStage===W);return _?Math.floor((Date.now()-_.changedAt.getTime())/36e5):0},y=T=>{switch(T){case pt.PROSPECTING:return 10;case pt.QUALIFICATION:return 25;case pt.NEEDS_ANALYSIS:return 40;case pt.PROPOSAL:return 60;case pt.NEGOTIATION:return 80;case pt.CLOSED_WON:return 100;case pt.CLOSED_LOST:return 0;default:return 10}},E=async(T,W)=>{const V=n.find(_=>_.isActive);if(V){const _=e.map(B=>B.id===T?{...B,territoryId:V.id,updatedAt:new Date}:B);r(_),p(_)}},O=async(T,W)=>{const V={id:Math.random().toString(36).substr(2,9),dealId:T,workflowType:W,currentStep:1,totalSteps:2,steps:[{id:"1",stepNumber:1,approverRole:"sales_manager",approverIds:["manager-001"],requiredApprovals:1,currentApprovals:[],status:"pending"},{id:"2",stepNumber:2,approverRole:"sales_director",approverIds:["director-001"],requiredApprovals:1,currentApprovals:[],status:"pending"}],status:"pending",requestedBy:"current-user",requestedAt:new Date};return i(_=>[..._,V]),V},M=async(T,W,V)=>{const _={id:Math.random().toString(36).substr(2,9),dealId:T,outcome:W,primaryReason:V.primaryReason||"",secondaryReasons:V.secondaryReasons||[],competitorWon:V.competitorWon,feedback:V.feedback||"",lessonsLearned:V.lessonsLearned||[],actionItems:V.actionItems||[],reportedBy:"current-user",reportedAt:new Date};return l(B=>[...B,_]),_},P=()=>{const T=e.length,W=e.reduce(($,G)=>$+G.value,0),V=e.filter($=>$.status===or.WON).length,_=e.filter($=>$.status===or.WON).reduce(($,G)=>$+G.value,0),B=e.filter($=>$.status===or.LOST).length,U=e.filter($=>$.status===or.LOST).reduce(($,G)=>$+G.value,0),H=T>0?V/T*100:0,q=T>0?W/T:0,R=S();return{totalDeals:T,totalValue:W,wonDeals:V,wonValue:_,lostDeals:B,lostValue:U,winRate:H,averageDealSize:q,averageSalesCycle:R,conversionRates:I()}},S=()=>{const T=e.filter(V=>V.actualCloseDate);return T.length===0?0:T.reduce((V,_)=>{const B=new Date(_.actualCloseDate),U=new Date(_.createdAt),H=isNaN(B.getTime())?0:B.getTime(),q=isNaN(U.getTime())?0:U.getTime(),R=H&&q?Math.floor((H-q)/(1e3*60*60*24)):0;return V+R},0)/T.length},I=()=>[{fromStage:pt.PROSPECTING,toStage:pt.QUALIFICATION,rate:65,averageDuration:72},{fromStage:pt.QUALIFICATION,toStage:pt.NEEDS_ANALYSIS,rate:75,averageDuration:48},{fromStage:pt.NEEDS_ANALYSIS,toStage:pt.PROPOSAL,rate:80,averageDuration:96},{fromStage:pt.PROPOSAL,toStage:pt.NEGOTIATION,rate:70,averageDuration:120},{fromStage:pt.NEGOTIATION,toStage:pt.CLOSED_WON,rate:85,averageDuration:168}];return{deals:e,territories:n,approvalWorkflows:a,winLossReports:o,stageHistory:c,loading:m,createDeal:b,updateDealStage:j,assignTerritory:E,createApprovalWorkflow:O,createWinLossReport:M,getDealMetrics:P,getDealsByStage:T=>e.filter(W=>W.stage===T),getDealsByTerritory:T=>e.filter(W=>W.territoryId===T),getDealsByRep:T=>e.filter(W=>W.assignedTo===T),getStageHistory:T=>c.filter(W=>W.dealId===T).sort((W,V)=>new Date(W.changedAt).getTime()-new Date(V.changedAt).getTime())}}function s1(e,r){return s1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},s1(e,r)}function BC(e,r){e.prototype=Object.create(r.prototype),e.prototype.constructor=e,s1(e,r)}function Xt(e){"@babel/helpers - typeof";return Xt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Xt(e)}function h_(e,r){if(Xt(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,r||"default");if(Xt(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function f_(e){var r=h_(e,"string");return Xt(r)=="symbol"?r:r+""}function x_(e,r,n){return(r=f_(r))in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function bw(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);r&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,s)}return n}function jw(e){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?bw(Object(n),!0).forEach(function(s){x_(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bw(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function ps(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var ww=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),yv=function(){return Math.random().toString(36).substring(7).split("").join(".")},Nw={INIT:"@@redux/INIT"+yv(),REPLACE:"@@redux/REPLACE"+yv(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+yv()}};function g_(e){if(typeof e!="object"||e===null)return!1;for(var r=e;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(e)===r}function zC(e,r,n){var s;if(typeof r=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(ps(0));if(typeof r=="function"&&typeof n>"u"&&(n=r,r=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(ps(1));return n(zC)(e,r)}if(typeof e!="function")throw new Error(ps(2));var a=e,i=r,o=[],l=o,c=!1;function d(){l===o&&(l=o.slice())}function m(){if(c)throw new Error(ps(3));return i}function u(b){if(typeof b!="function")throw new Error(ps(4));if(c)throw new Error(ps(5));var j=!0;return d(),l.push(b),function(){if(j){if(c)throw new Error(ps(6));j=!1,d();var v=l.indexOf(b);l.splice(v,1),o=null}}}function h(b){if(!g_(b))throw new Error(ps(7));if(typeof b.type>"u")throw new Error(ps(8));if(c)throw new Error(ps(9));try{c=!0,i=a(i,b)}finally{c=!1}for(var j=o=l,x=0;x<j.length;x++){var v=j[x];v()}return b}function p(b){if(typeof b!="function")throw new Error(ps(10));a=b,h({type:Nw.REPLACE})}function g(){var b,j=u;return b={subscribe:function(v){if(typeof v!="object"||v===null)throw new Error(ps(11));function y(){v.next&&v.next(m())}y();var E=j(y);return{unsubscribe:E}}},b[ww]=function(){return this},b}return h({type:Nw.INIT}),s={dispatch:h,subscribe:u,getState:m,replaceReducer:p},s[ww]=g,s}function Sw(e,r){return function(){return r(e.apply(this,arguments))}}function Cw(e,r){if(typeof e=="function")return Sw(e,r);if(typeof e!="object"||e===null)throw new Error(ps(16));var n={};for(var s in e){var a=e[s];typeof a=="function"&&(n[s]=Sw(a,r))}return n}function $C(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return r.length===0?function(s){return s}:r.length===1?r[0]:r.reduce(function(s,a){return function(){return s(a.apply(void 0,arguments))}})}function v_(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return function(s){return function(){var a=s.apply(void 0,arguments),i=function(){throw new Error(ps(15))},o={getState:a.getState,dispatch:function(){return i.apply(void 0,arguments)}},l=r.map(function(c){return c(o)});return i=$C.apply(void 0,l)(a.dispatch),jw(jw({},a),{},{dispatch:i})}}}var UC=Dt.createContext(null);function y_(e){e()}var VC=y_,b_=function(r){return VC=r},j_=function(){return VC};function w_(){var e=j_(),r=null,n=null;return{clear:function(){r=null,n=null},notify:function(){e(function(){for(var a=r;a;)a.callback(),a=a.next})},get:function(){for(var a=[],i=r;i;)a.push(i),i=i.next;return a},subscribe:function(a){var i=!0,o=n={callback:a,next:null,prev:n};return o.prev?o.prev.next=o:r=o,function(){!i||r===null||(i=!1,o.next?o.next.prev=o.prev:n=o.prev,o.prev?o.prev.next=o.next:r=o.next)}}}}var Aw={notify:function(){},get:function(){return[]}};function WC(e,r){var n,s=Aw;function a(u){return c(),s.subscribe(u)}function i(){s.notify()}function o(){m.onStateChange&&m.onStateChange()}function l(){return!!n}function c(){n||(n=r?r.addNestedSub(o):e.subscribe(o),s=w_())}function d(){n&&(n(),n=void 0,s.clear(),s=Aw)}var m={addNestedSub:a,notifyNestedSubs:i,handleChangeWrapper:o,isSubscribed:l,trySubscribe:c,tryUnsubscribe:d,getListeners:function(){return s}};return m}var qC=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?A.useLayoutEffect:A.useEffect;function N_(e){var r=e.store,n=e.context,s=e.children,a=A.useMemo(function(){var l=WC(r);return{store:r,subscription:l}},[r]),i=A.useMemo(function(){return r.getState()},[r]);qC(function(){var l=a.subscription;return l.onStateChange=l.notifyNestedSubs,l.trySubscribe(),i!==r.getState()&&l.notifyNestedSubs(),function(){l.tryUnsubscribe(),l.onStateChange=null}},[a,i]);var o=n||UC;return Dt.createElement(o.Provider,{value:a},s)}function Pf(e,r){if(e==null)return{};var n={};for(var s in e)if({}.hasOwnProperty.call(e,s)){if(r.indexOf(s)!==-1)continue;n[s]=e[s]}return n}var HC={exports:{}},dr={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Nn=typeof Symbol=="function"&&Symbol.for,Yy=Nn?Symbol.for("react.element"):60103,Ky=Nn?Symbol.for("react.portal"):60106,vx=Nn?Symbol.for("react.fragment"):60107,yx=Nn?Symbol.for("react.strict_mode"):60108,bx=Nn?Symbol.for("react.profiler"):60114,jx=Nn?Symbol.for("react.provider"):60109,wx=Nn?Symbol.for("react.context"):60110,Jy=Nn?Symbol.for("react.async_mode"):60111,Nx=Nn?Symbol.for("react.concurrent_mode"):60111,Sx=Nn?Symbol.for("react.forward_ref"):60112,Cx=Nn?Symbol.for("react.suspense"):60113,S_=Nn?Symbol.for("react.suspense_list"):60120,Ax=Nn?Symbol.for("react.memo"):60115,Ex=Nn?Symbol.for("react.lazy"):60116,C_=Nn?Symbol.for("react.block"):60121,A_=Nn?Symbol.for("react.fundamental"):60117,E_=Nn?Symbol.for("react.responder"):60118,I_=Nn?Symbol.for("react.scope"):60119;function qs(e){if(typeof e=="object"&&e!==null){var r=e.$$typeof;switch(r){case Yy:switch(e=e.type,e){case Jy:case Nx:case vx:case bx:case yx:case Cx:return e;default:switch(e=e&&e.$$typeof,e){case wx:case Sx:case Ex:case Ax:case jx:return e;default:return r}}case Ky:return r}}}function GC(e){return qs(e)===Nx}dr.AsyncMode=Jy;dr.ConcurrentMode=Nx;dr.ContextConsumer=wx;dr.ContextProvider=jx;dr.Element=Yy;dr.ForwardRef=Sx;dr.Fragment=vx;dr.Lazy=Ex;dr.Memo=Ax;dr.Portal=Ky;dr.Profiler=bx;dr.StrictMode=yx;dr.Suspense=Cx;dr.isAsyncMode=function(e){return GC(e)||qs(e)===Jy};dr.isConcurrentMode=GC;dr.isContextConsumer=function(e){return qs(e)===wx};dr.isContextProvider=function(e){return qs(e)===jx};dr.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===Yy};dr.isForwardRef=function(e){return qs(e)===Sx};dr.isFragment=function(e){return qs(e)===vx};dr.isLazy=function(e){return qs(e)===Ex};dr.isMemo=function(e){return qs(e)===Ax};dr.isPortal=function(e){return qs(e)===Ky};dr.isProfiler=function(e){return qs(e)===bx};dr.isStrictMode=function(e){return qs(e)===yx};dr.isSuspense=function(e){return qs(e)===Cx};dr.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===vx||e===Nx||e===bx||e===yx||e===Cx||e===S_||typeof e=="object"&&e!==null&&(e.$$typeof===Ex||e.$$typeof===Ax||e.$$typeof===jx||e.$$typeof===wx||e.$$typeof===Sx||e.$$typeof===A_||e.$$typeof===E_||e.$$typeof===I_||e.$$typeof===C_)};dr.typeOf=qs;HC.exports=dr;var P_=HC.exports,Xy=P_,D_={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},k_={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},T_={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},QC={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},Zy={};Zy[Xy.ForwardRef]=T_;Zy[Xy.Memo]=QC;function Ew(e){return Xy.isMemo(e)?QC:Zy[e.$$typeof]||D_}var L_=Object.defineProperty,R_=Object.getOwnPropertyNames,Iw=Object.getOwnPropertySymbols,F_=Object.getOwnPropertyDescriptor,__=Object.getPrototypeOf,Pw=Object.prototype;function YC(e,r,n){if(typeof r!="string"){if(Pw){var s=__(r);s&&s!==Pw&&YC(e,s,n)}var a=R_(r);Iw&&(a=a.concat(Iw(r)));for(var i=Ew(e),o=Ew(r),l=0;l<a.length;++l){var c=a[l];if(!k_[c]&&!(n&&n[c])&&!(o&&o[c])&&!(i&&i[c])){var d=F_(r,c);try{L_(e,c,d)}catch{}}}}return e}var O_=YC;const Dw=Pm(O_);var KC={exports:{}},xr={};/** @license React v17.0.2
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ix=60103,Px=60106,Bm=60107,zm=60108,$m=60114,Um=60109,Vm=60110,Wm=60112,qm=60113,e2=60120,Hm=60115,Gm=60116,JC=60121,XC=60122,ZC=60117,eA=60129,tA=60131;if(typeof Symbol=="function"&&Symbol.for){var En=Symbol.for;Ix=En("react.element"),Px=En("react.portal"),Bm=En("react.fragment"),zm=En("react.strict_mode"),$m=En("react.profiler"),Um=En("react.provider"),Vm=En("react.context"),Wm=En("react.forward_ref"),qm=En("react.suspense"),e2=En("react.suspense_list"),Hm=En("react.memo"),Gm=En("react.lazy"),JC=En("react.block"),XC=En("react.server.block"),ZC=En("react.fundamental"),eA=En("react.debug_trace_mode"),tA=En("react.legacy_hidden")}function za(e){if(typeof e=="object"&&e!==null){var r=e.$$typeof;switch(r){case Ix:switch(e=e.type,e){case Bm:case $m:case zm:case qm:case e2:return e;default:switch(e=e&&e.$$typeof,e){case Vm:case Wm:case Gm:case Hm:case Um:return e;default:return r}}case Px:return r}}}var M_=Um,B_=Ix,z_=Wm,$_=Bm,U_=Gm,V_=Hm,W_=Px,q_=$m,H_=zm,G_=qm;xr.ContextConsumer=Vm;xr.ContextProvider=M_;xr.Element=B_;xr.ForwardRef=z_;xr.Fragment=$_;xr.Lazy=U_;xr.Memo=V_;xr.Portal=W_;xr.Profiler=q_;xr.StrictMode=H_;xr.Suspense=G_;xr.isAsyncMode=function(){return!1};xr.isConcurrentMode=function(){return!1};xr.isContextConsumer=function(e){return za(e)===Vm};xr.isContextProvider=function(e){return za(e)===Um};xr.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===Ix};xr.isForwardRef=function(e){return za(e)===Wm};xr.isFragment=function(e){return za(e)===Bm};xr.isLazy=function(e){return za(e)===Gm};xr.isMemo=function(e){return za(e)===Hm};xr.isPortal=function(e){return za(e)===Px};xr.isProfiler=function(e){return za(e)===$m};xr.isStrictMode=function(e){return za(e)===zm};xr.isSuspense=function(e){return za(e)===qm};xr.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===Bm||e===$m||e===eA||e===zm||e===qm||e===e2||e===tA||typeof e=="object"&&e!==null&&(e.$$typeof===Gm||e.$$typeof===Hm||e.$$typeof===Um||e.$$typeof===Vm||e.$$typeof===Wm||e.$$typeof===ZC||e.$$typeof===JC||e[0]===XC)};xr.typeOf=za;KC.exports=xr;var Q_=KC.exports,Y_=["getDisplayName","methodName","renderCountProp","shouldHandleStateChanges","storeKey","withRef","forwardRef","context"],K_=["reactReduxForwardedRef"],J_=[],X_=[null,null];function Z_(e,r){var n=e[1];return[r.payload,n+1]}function kw(e,r,n){qC(function(){return e.apply(void 0,r)},n)}function eO(e,r,n,s,a,i,o){e.current=s,r.current=a,n.current=!1,i.current&&(i.current=null,o())}function tO(e,r,n,s,a,i,o,l,c,d){if(e){var m=!1,u=null,h=function(){if(!m){var b=r.getState(),j,x;try{j=s(b,a.current)}catch(v){x=v,u=v}x||(u=null),j===i.current?o.current||c():(i.current=j,l.current=j,o.current=!0,d({type:"STORE_UPDATED",payload:{error:x}}))}};n.onStateChange=h,n.trySubscribe(),h();var p=function(){if(m=!0,n.tryUnsubscribe(),n.onStateChange=null,u)throw u};return p}}var rO=function(){return[null,0]};function nO(e,r){r===void 0&&(r={});var n=r,s=n.getDisplayName,a=s===void 0?function(y){return"ConnectAdvanced("+y+")"}:s,i=n.methodName,o=i===void 0?"connectAdvanced":i,l=n.renderCountProp,c=l===void 0?void 0:l,d=n.shouldHandleStateChanges,m=d===void 0?!0:d,u=n.storeKey,h=u===void 0?"store":u;n.withRef;var p=n.forwardRef,g=p===void 0?!1:p,b=n.context,j=b===void 0?UC:b,x=Pf(n,Y_),v=j;return function(E){var O=E.displayName||E.name||"Component",M=a(O),P=nt({},x,{getDisplayName:a,methodName:o,renderCountProp:c,shouldHandleStateChanges:m,storeKey:h,displayName:M,wrappedComponentName:O,WrappedComponent:E}),S=x.pure;function I(T){return e(T.dispatch,P)}var k=S?A.useMemo:function(T){return T()};function C(T){var W=A.useMemo(function(){var ke=T.reactReduxForwardedRef,Ve=Pf(T,K_);return[T.context,ke,Ve]},[T]),V=W[0],_=W[1],B=W[2],U=A.useMemo(function(){return V&&V.Consumer&&Q_.isContextConsumer(Dt.createElement(V.Consumer,null))?V:v},[V,v]),H=A.useContext(U),q=!!T.store&&!!T.store.getState&&!!T.store.dispatch;H&&H.store;var R=q?T.store:H.store,$=A.useMemo(function(){return I(R)},[R]),G=A.useMemo(function(){if(!m)return X_;var ke=WC(R,q?null:H.subscription),Ve=ke.notifyNestedSubs.bind(ke);return[ke,Ve]},[R,q,H]),X=G[0],Z=G[1],le=A.useMemo(function(){return q?H:nt({},H,{subscription:X})},[q,H,X]),ce=A.useReducer(Z_,J_,rO),de=ce[0],Se=de[0],ye=ce[1];if(Se&&Se.error)throw Se.error;var Ee=A.useRef(),Fe=A.useRef(B),he=A.useRef(),ie=A.useRef(!1),te=k(function(){return he.current&&B===Fe.current?he.current:$(R.getState(),B)},[R,Se,B]);kw(eO,[Fe,Ee,ie,B,te,he,Z]),kw(tO,[m,R,X,$,Fe,Ee,ie,he,Z,ye],[R,X,$]);var Ue=A.useMemo(function(){return Dt.createElement(E,nt({},te,{ref:_}))},[_,E,te]),_e=A.useMemo(function(){return m?Dt.createElement(U.Provider,{value:le},Ue):Ue},[U,Ue,le]);return _e}var w=S?Dt.memo(C):C;if(w.WrappedComponent=E,w.displayName=C.displayName=M,g){var L=Dt.forwardRef(function(W,V){return Dt.createElement(w,nt({},W,{reactReduxForwardedRef:V}))});return L.displayName=M,L.WrappedComponent=E,Dw(L,E)}return Dw(w,E)}}function Tw(e,r){return e===r?e!==0||r!==0||1/e===1/r:e!==e&&r!==r}function bv(e,r){if(Tw(e,r))return!0;if(typeof e!="object"||e===null||typeof r!="object"||r===null)return!1;var n=Object.keys(e),s=Object.keys(r);if(n.length!==s.length)return!1;for(var a=0;a<n.length;a++)if(!Object.prototype.hasOwnProperty.call(r,n[a])||!Tw(e[n[a]],r[n[a]]))return!1;return!0}function sO(e,r){var n={},s=function(o){var l=e[o];typeof l=="function"&&(n[o]=function(){return r(l.apply(void 0,arguments))})};for(var a in e)s(a);return n}function t2(e){return function(n,s){var a=e(n,s);function i(){return a}return i.dependsOnOwnProps=!1,i}}function Lw(e){return e.dependsOnOwnProps!==null&&e.dependsOnOwnProps!==void 0?!!e.dependsOnOwnProps:e.length!==1}function rA(e,r){return function(s,a){a.displayName;var i=function(l,c){return i.dependsOnOwnProps?i.mapToProps(l,c):i.mapToProps(l)};return i.dependsOnOwnProps=!0,i.mapToProps=function(l,c){i.mapToProps=e,i.dependsOnOwnProps=Lw(e);var d=i(l,c);return typeof d=="function"&&(i.mapToProps=d,i.dependsOnOwnProps=Lw(d),d=i(l,c)),d},i}}function aO(e){return typeof e=="function"?rA(e):void 0}function iO(e){return e?void 0:t2(function(r){return{dispatch:r}})}function oO(e){return e&&typeof e=="object"?t2(function(r){return sO(e,r)}):void 0}const lO=[aO,iO,oO];function cO(e){return typeof e=="function"?rA(e):void 0}function dO(e){return e?void 0:t2(function(){return{}})}const uO=[cO,dO];function mO(e,r,n){return nt({},n,e,r)}function pO(e){return function(n,s){s.displayName;var a=s.pure,i=s.areMergedPropsEqual,o=!1,l;return function(d,m,u){var h=e(d,m,u);return o?(!a||!i(h,l))&&(l=h):(o=!0,l=h),l}}}function hO(e){return typeof e=="function"?pO(e):void 0}function fO(e){return e?void 0:function(){return mO}}const xO=[hO,fO];var gO=["initMapStateToProps","initMapDispatchToProps","initMergeProps"];function vO(e,r,n,s){return function(i,o){return n(e(i,o),r(s,o),o)}}function yO(e,r,n,s,a){var i=a.areStatesEqual,o=a.areOwnPropsEqual,l=a.areStatePropsEqual,c=!1,d,m,u,h,p;function g(y,E){return d=y,m=E,u=e(d,m),h=r(s,m),p=n(u,h,m),c=!0,p}function b(){return u=e(d,m),r.dependsOnOwnProps&&(h=r(s,m)),p=n(u,h,m),p}function j(){return e.dependsOnOwnProps&&(u=e(d,m)),r.dependsOnOwnProps&&(h=r(s,m)),p=n(u,h,m),p}function x(){var y=e(d,m),E=!l(y,u);return u=y,E&&(p=n(u,h,m)),p}function v(y,E){var O=!o(E,m),M=!i(y,d,E,m);return d=y,m=E,O&&M?b():O?j():M?x():p}return function(E,O){return c?v(E,O):g(E,O)}}function bO(e,r){var n=r.initMapStateToProps,s=r.initMapDispatchToProps,a=r.initMergeProps,i=Pf(r,gO),o=n(e,i),l=s(e,i),c=a(e,i),d=i.pure?yO:vO;return d(o,l,c,e,i)}var jO=["pure","areStatesEqual","areOwnPropsEqual","areStatePropsEqual","areMergedPropsEqual"];function jv(e,r,n){for(var s=r.length-1;s>=0;s--){var a=r[s](e);if(a)return a}return function(i,o){throw new Error("Invalid value of type "+typeof e+" for "+n+" argument when connecting component "+o.wrappedComponentName+".")}}function wO(e,r){return e===r}function NO(e){var r=e===void 0?{}:e,n=r.connectHOC,s=n===void 0?nO:n,a=r.mapStateToPropsFactories,i=a===void 0?uO:a,o=r.mapDispatchToPropsFactories,l=o===void 0?lO:o,c=r.mergePropsFactories,d=c===void 0?xO:c,m=r.selectorFactory,u=m===void 0?bO:m;return function(p,g,b,j){j===void 0&&(j={});var x=j,v=x.pure,y=v===void 0?!0:v,E=x.areStatesEqual,O=E===void 0?wO:E,M=x.areOwnPropsEqual,P=M===void 0?bv:M,S=x.areStatePropsEqual,I=S===void 0?bv:S,k=x.areMergedPropsEqual,C=k===void 0?bv:k,w=Pf(x,jO),L=jv(p,i,"mapStateToProps"),T=jv(g,l,"mapDispatchToProps"),W=jv(b,d,"mergeProps");return s(u,nt({methodName:"connect",getDisplayName:function(_){return"Connect("+_+")"},shouldHandleStateChanges:!!p,initMapStateToProps:L,initMapDispatchToProps:T,initMergeProps:W,pure:y,areStatesEqual:O,areOwnPropsEqual:P,areStatePropsEqual:I,areMergedPropsEqual:C},w))}}const nA=NO();b_(Qi.unstable_batchedUpdates);function SO(e,r){if(e.length!==r.length)return!1;for(var n=0;n<e.length;n++)if(e[n]!==r[n])return!1;return!0}function sA(e,r){var n=A.useState(function(){return{inputs:r,result:e()}})[0],s=A.useRef(!0),a=A.useRef(n),i=s.current||!!(r&&a.current.inputs&&SO(r,a.current.inputs)),o=i?a.current:{inputs:r,result:e()};return A.useEffect(function(){s.current=!1,a.current=o},[o]),o.result}function CO(e,r){return sA(function(){return e},r)}var Kt=sA,bt=CO,AO=!0,wv="Invariant failed";function EO(e,r){if(!e){if(AO)throw new Error(wv);var n=typeof r=="function"?r():r,s=n?"".concat(wv,": ").concat(n):wv;throw new Error(s)}}var Ra=function(r){var n=r.top,s=r.right,a=r.bottom,i=r.left,o=s-i,l=a-n,c={top:n,right:s,bottom:a,left:i,width:o,height:l,x:i,y:n,center:{x:(s+i)/2,y:(a+n)/2}};return c},r2=function(r,n){return{top:r.top-n.top,left:r.left-n.left,bottom:r.bottom+n.bottom,right:r.right+n.right}},Rw=function(r,n){return{top:r.top+n.top,left:r.left+n.left,bottom:r.bottom-n.bottom,right:r.right-n.right}},IO=function(r,n){return{top:r.top+n.y,left:r.left+n.x,bottom:r.bottom+n.y,right:r.right+n.x}},Nv={top:0,right:0,bottom:0,left:0},n2=function(r){var n=r.borderBox,s=r.margin,a=s===void 0?Nv:s,i=r.border,o=i===void 0?Nv:i,l=r.padding,c=l===void 0?Nv:l,d=Ra(r2(n,a)),m=Ra(Rw(n,o)),u=Ra(Rw(m,c));return{marginBox:d,borderBox:Ra(n),paddingBox:m,contentBox:u,margin:a,border:o,padding:c}},ea=function(r){var n=r.slice(0,-2),s=r.slice(-2);if(s!=="px")return 0;var a=Number(n);return isNaN(a)&&EO(!1),a},PO=function(){return{x:window.pageXOffset,y:window.pageYOffset}},Df=function(r,n){var s=r.borderBox,a=r.border,i=r.margin,o=r.padding,l=IO(s,n);return n2({borderBox:l,border:a,margin:i,padding:o})},kf=function(r,n){return n===void 0&&(n=PO()),Df(r,n)},aA=function(r,n){var s={top:ea(n.marginTop),right:ea(n.marginRight),bottom:ea(n.marginBottom),left:ea(n.marginLeft)},a={top:ea(n.paddingTop),right:ea(n.paddingRight),bottom:ea(n.paddingBottom),left:ea(n.paddingLeft)},i={top:ea(n.borderTopWidth),right:ea(n.borderRightWidth),bottom:ea(n.borderBottomWidth),left:ea(n.borderLeftWidth)};return n2({borderBox:r,margin:s,padding:a,border:i})},iA=function(r){var n=r.getBoundingClientRect(),s=window.getComputedStyle(r);return aA(n,s)},Fw=Number.isNaN||function(r){return typeof r=="number"&&r!==r};function DO(e,r){return!!(e===r||Fw(e)&&Fw(r))}function kO(e,r){if(e.length!==r.length)return!1;for(var n=0;n<e.length;n++)if(!DO(e[n],r[n]))return!1;return!0}function jn(e,r){r===void 0&&(r=kO);var n,s=[],a,i=!1;function o(){for(var l=[],c=0;c<arguments.length;c++)l[c]=arguments[c];return i&&n===this&&r(l,s)||(a=e.apply(this,l),i=!0,n=this,s=l),a}return o}var TO=function(r){var n=[],s=null,a=function(){for(var o=arguments.length,l=new Array(o),c=0;c<o;c++)l[c]=arguments[c];n=l,!s&&(s=requestAnimationFrame(function(){s=null,r.apply(void 0,n)}))};return a.cancel=function(){s&&(cancelAnimationFrame(s),s=null)},a};const wm=TO;function oA(e,r){}oA.bind(null,"warn");oA.bind(null,"error");function Oo(){}function LO(e,r){return nt({},e,{},r)}function ia(e,r,n){var s=r.map(function(a){var i=LO(n,a.options);return e.addEventListener(a.eventName,a.fn,i),function(){e.removeEventListener(a.eventName,a.fn,i)}});return function(){s.forEach(function(i){i()})}}var RO="Invariant failed";function Tf(e){this.message=e}Tf.prototype.toString=function(){return this.message};function Ye(e,r){if(!e)throw new Tf(RO)}var FO=function(e){BC(r,e);function r(){for(var s,a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return s=e.call.apply(e,[this].concat(i))||this,s.callbacks=null,s.unbind=Oo,s.onWindowError=function(l){var c=s.getCallbacks();c.isDragging()&&c.tryAbort();var d=l.error;d instanceof Tf&&l.preventDefault()},s.getCallbacks=function(){if(!s.callbacks)throw new Error("Unable to find AppCallbacks in <ErrorBoundary/>");return s.callbacks},s.setCallbacks=function(l){s.callbacks=l},s}var n=r.prototype;return n.componentDidMount=function(){this.unbind=ia(window,[{eventName:"error",fn:this.onWindowError}])},n.componentDidCatch=function(a){if(a instanceof Tf){this.setState({});return}throw a},n.componentWillUnmount=function(){this.unbind()},n.render=function(){return this.props.children(this.setCallbacks)},r}(Dt.Component),_O=`
  Press space bar to start a drag.
  When dragging you can use the arrow keys to move the item around and escape to cancel.
  Some screen readers may require you to be in focus mode or to use your pass through key
`,Lf=function(r){return r+1},OO=function(r){return`
  You have lifted an item in position `+Lf(r.source.index)+`
`},lA=function(r,n){var s=r.droppableId===n.droppableId,a=Lf(r.index),i=Lf(n.index);return s?`
      You have moved the item from position `+a+`
      to position `+i+`
    `:`
    You have moved the item from position `+a+`
    in list `+r.droppableId+`
    to list `+n.droppableId+`
    in position `+i+`
  `},cA=function(r,n,s){var a=n.droppableId===s.droppableId;return a?`
      The item `+r+`
      has been combined with `+s.draggableId:`
      The item `+r+`
      in list `+n.droppableId+`
      has been combined with `+s.draggableId+`
      in list `+s.droppableId+`
    `},MO=function(r){var n=r.destination;if(n)return lA(r.source,n);var s=r.combine;return s?cA(r.draggableId,r.source,s):"You are over an area that cannot be dropped on"},_w=function(r){return`
  The item has returned to its starting position
  of `+Lf(r.index)+`
`},BO=function(r){if(r.reason==="CANCEL")return`
      Movement cancelled.
      `+_w(r.source)+`
    `;var n=r.destination,s=r.combine;return n?`
      You have dropped the item.
      `+lA(r.source,n)+`
    `:s?`
      You have dropped the item.
      `+cA(r.draggableId,r.source,s)+`
    `:`
    The item has been dropped while not over a drop area.
    `+_w(r.source)+`
  `},Uh={dragHandleUsageInstructions:_O,onDragStart:OO,onDragUpdate:MO,onDragEnd:BO},wn={x:0,y:0},Tn=function(r,n){return{x:r.x+n.x,y:r.y+n.y}},Ts=function(r,n){return{x:r.x-n.x,y:r.y-n.y}},Mo=function(r,n){return r.x===n.x&&r.y===n.y},Td=function(r){return{x:r.x!==0?-r.x:0,y:r.y!==0?-r.y:0}},Hl=function(r,n,s){var a;return s===void 0&&(s=0),a={},a[r]=n,a[r==="x"?"y":"x"]=s,a},Nm=function(r,n){return Math.sqrt(Math.pow(n.x-r.x,2)+Math.pow(n.y-r.y,2))},Ow=function(r,n){return Math.min.apply(Math,n.map(function(s){return Nm(r,s)}))},dA=function(r){return function(n){return{x:r(n.x),y:r(n.y)}}},zO=function(e,r){var n=Ra({top:Math.max(r.top,e.top),right:Math.min(r.right,e.right),bottom:Math.min(r.bottom,e.bottom),left:Math.max(r.left,e.left)});return n.width<=0||n.height<=0?null:n},Qm=function(r,n){return{top:r.top+n.y,left:r.left+n.x,bottom:r.bottom+n.y,right:r.right+n.x}},Mw=function(r){return[{x:r.left,y:r.top},{x:r.right,y:r.top},{x:r.left,y:r.bottom},{x:r.right,y:r.bottom}]},$O={top:0,right:0,bottom:0,left:0},UO=function(r,n){return n?Qm(r,n.scroll.diff.displacement):r},VO=function(r,n,s){if(s&&s.increasedBy){var a;return nt({},r,(a={},a[n.end]=r[n.end]+s.increasedBy[n.line],a))}return r},WO=function(r,n){return n&&n.shouldClipSubject?zO(n.pageMarginBox,r):Ra(r)},vd=function(e){var r=e.page,n=e.withPlaceholder,s=e.axis,a=e.frame,i=UO(r.marginBox,a),o=VO(i,s,n),l=WO(o,a);return{page:r,withPlaceholder:n,active:l}},s2=function(e,r){e.frame||Ye(!1);var n=e.frame,s=Ts(r,n.scroll.initial),a=Td(s),i=nt({},n,{scroll:{initial:n.scroll.initial,current:r,diff:{value:s,displacement:a},max:n.scroll.max}}),o=vd({page:e.subject.page,withPlaceholder:e.subject.withPlaceholder,axis:e.axis,frame:i}),l=nt({},e,{frame:i,subject:o});return l};function Rf(e){return Object.values?Object.values(e):Object.keys(e).map(function(r){return e[r]})}function a2(e,r){if(e.findIndex)return e.findIndex(r);for(var n=0;n<e.length;n++)if(r(e[n]))return n;return-1}function nl(e,r){if(e.find)return e.find(r);var n=a2(e,r);if(n!==-1)return e[n]}function uA(e){return Array.prototype.slice.call(e)}var mA=jn(function(e){return e.reduce(function(r,n){return r[n.descriptor.id]=n,r},{})}),pA=jn(function(e){return e.reduce(function(r,n){return r[n.descriptor.id]=n,r},{})}),Dx=jn(function(e){return Rf(e)}),qO=jn(function(e){return Rf(e)}),Ld=jn(function(e,r){var n=qO(r).filter(function(s){return e===s.descriptor.droppableId}).sort(function(s,a){return s.descriptor.index-a.descriptor.index});return n});function i2(e){return e.at&&e.at.type==="REORDER"?e.at.destination:null}function kx(e){return e.at&&e.at.type==="COMBINE"?e.at.combine:null}var Tx=jn(function(e,r){return r.filter(function(n){return n.descriptor.id!==e.descriptor.id})}),HO=function(e){var r=e.isMovingForward,n=e.draggable,s=e.destination,a=e.insideDestination,i=e.previousImpact;if(!s.isCombineEnabled)return null;var o=i2(i);if(!o)return null;function l(b){var j={type:"COMBINE",combine:{draggableId:b,droppableId:s.descriptor.id}};return nt({},i,{at:j})}var c=i.displaced.all,d=c.length?c[0]:null;if(r)return d?l(d):null;var m=Tx(n,a);if(!d){if(!m.length)return null;var u=m[m.length-1];return l(u.descriptor.id)}var h=a2(m,function(b){return b.descriptor.id===d});h===-1&&Ye(!1);var p=h-1;if(p<0)return null;var g=m[p];return l(g.descriptor.id)},Rd=function(e,r){return e.descriptor.droppableId===r.descriptor.id},hA={point:wn,value:0},Sm={invisible:{},visible:{},all:[]},GO={displaced:Sm,displacedBy:hA,at:null},la=function(e,r){return function(n){return e<=n&&n<=r}},fA=function(e){var r=la(e.top,e.bottom),n=la(e.left,e.right);return function(s){var a=r(s.top)&&r(s.bottom)&&n(s.left)&&n(s.right);if(a)return!0;var i=r(s.top)||r(s.bottom),o=n(s.left)||n(s.right),l=i&&o;if(l)return!0;var c=s.top<e.top&&s.bottom>e.bottom,d=s.left<e.left&&s.right>e.right,m=c&&d;if(m)return!0;var u=c&&o||d&&i;return u}},QO=function(e){var r=la(e.top,e.bottom),n=la(e.left,e.right);return function(s){var a=r(s.top)&&r(s.bottom)&&n(s.left)&&n(s.right);return a}},o2={direction:"vertical",line:"y",crossAxisLine:"x",start:"top",end:"bottom",size:"height",crossAxisStart:"left",crossAxisEnd:"right",crossAxisSize:"width"},xA={direction:"horizontal",line:"x",crossAxisLine:"y",start:"left",end:"right",size:"width",crossAxisStart:"top",crossAxisEnd:"bottom",crossAxisSize:"height"},YO=function(e){return function(r){var n=la(r.top,r.bottom),s=la(r.left,r.right);return function(a){return e===o2?n(a.top)&&n(a.bottom):s(a.left)&&s(a.right)}}},KO=function(r,n){var s=n.frame?n.frame.scroll.diff.displacement:wn;return Qm(r,s)},JO=function(r,n,s){return n.subject.active?s(n.subject.active)(r):!1},XO=function(r,n,s){return s(n)(r)},l2=function(r){var n=r.target,s=r.destination,a=r.viewport,i=r.withDroppableDisplacement,o=r.isVisibleThroughFrameFn,l=i?KO(n,s):n;return JO(l,s,o)&&XO(l,a,o)},ZO=function(r){return l2(nt({},r,{isVisibleThroughFrameFn:fA}))},gA=function(r){return l2(nt({},r,{isVisibleThroughFrameFn:QO}))},eM=function(r){return l2(nt({},r,{isVisibleThroughFrameFn:YO(r.destination.axis)}))},tM=function(r,n,s){if(typeof s=="boolean")return s;if(!n)return!0;var a=n.invisible,i=n.visible;if(a[r])return!1;var o=i[r];return o?o.shouldAnimate:!0};function rM(e,r){var n=e.page.marginBox,s={top:r.point.y,right:0,bottom:0,left:r.point.x};return Ra(r2(n,s))}function Cm(e){var r=e.afterDragging,n=e.destination,s=e.displacedBy,a=e.viewport,i=e.forceShouldAnimate,o=e.last;return r.reduce(function(c,d){var m=rM(d,s),u=d.descriptor.id;c.all.push(u);var h=ZO({target:m,destination:n,viewport:a,withDroppableDisplacement:!0});if(!h)return c.invisible[d.descriptor.id]=!0,c;var p=tM(u,o,i),g={draggableId:u,shouldAnimate:p};return c.visible[u]=g,c},{all:[],visible:{},invisible:{}})}function nM(e,r){if(!e.length)return 0;var n=e[e.length-1].descriptor.index;return r.inHomeList?n:n+1}function Bw(e){var r=e.insideDestination,n=e.inHomeList,s=e.displacedBy,a=e.destination,i=nM(r,{inHomeList:n});return{displaced:Sm,displacedBy:s,at:{type:"REORDER",destination:{droppableId:a.descriptor.id,index:i}}}}function Ff(e){var r=e.draggable,n=e.insideDestination,s=e.destination,a=e.viewport,i=e.displacedBy,o=e.last,l=e.index,c=e.forceShouldAnimate,d=Rd(r,s);if(l==null)return Bw({insideDestination:n,inHomeList:d,displacedBy:i,destination:s});var m=nl(n,function(b){return b.descriptor.index===l});if(!m)return Bw({insideDestination:n,inHomeList:d,displacedBy:i,destination:s});var u=Tx(r,n),h=n.indexOf(m),p=u.slice(h),g=Cm({afterDragging:p,destination:s,displacedBy:i,last:o,viewport:a.frame,forceShouldAnimate:c});return{displaced:g,displacedBy:i,at:{type:"REORDER",destination:{droppableId:s.descriptor.id,index:l}}}}function Go(e,r){return!!r.effected[e]}var sM=function(e){var r=e.isMovingForward,n=e.destination,s=e.draggables,a=e.combine,i=e.afterCritical;if(!n.isCombineEnabled)return null;var o=a.draggableId,l=s[o],c=l.descriptor.index,d=Go(o,i);return d?r?c:c-1:r?c+1:c},aM=function(e){var r=e.isMovingForward,n=e.isInHomeList,s=e.insideDestination,a=e.location;if(!s.length)return null;var i=a.index,o=r?i+1:i-1,l=s[0].descriptor.index,c=s[s.length-1].descriptor.index,d=n?c:c+1;return o<l||o>d?null:o},iM=function(e){var r=e.isMovingForward,n=e.isInHomeList,s=e.draggable,a=e.draggables,i=e.destination,o=e.insideDestination,l=e.previousImpact,c=e.viewport,d=e.afterCritical,m=l.at;if(m||Ye(!1),m.type==="REORDER"){var u=aM({isMovingForward:r,isInHomeList:n,location:m.destination,insideDestination:o});return u==null?null:Ff({draggable:s,insideDestination:o,destination:i,viewport:c,last:l.displaced,displacedBy:l.displacedBy,index:u})}var h=sM({isMovingForward:r,destination:i,displaced:l.displaced,draggables:a,combine:m.combine,afterCritical:d});return h==null?null:Ff({draggable:s,insideDestination:o,destination:i,viewport:c,last:l.displaced,displacedBy:l.displacedBy,index:h})},oM=function(e){var r=e.displaced,n=e.afterCritical,s=e.combineWith,a=e.displacedBy,i=!!(r.visible[s]||r.invisible[s]);return Go(s,n)?i?wn:Td(a.point):i?a.point:wn},lM=function(e){var r=e.afterCritical,n=e.impact,s=e.draggables,a=kx(n);a||Ye(!1);var i=a.draggableId,o=s[i].page.borderBox.center,l=oM({displaced:n.displaced,afterCritical:r,combineWith:i,displacedBy:n.displacedBy});return Tn(o,l)},vA=function(r,n){return n.margin[r.start]+n.borderBox[r.size]/2},cM=function(r,n){return n.margin[r.end]+n.borderBox[r.size]/2},c2=function(r,n,s){return n[r.crossAxisStart]+s.margin[r.crossAxisStart]+s.borderBox[r.crossAxisSize]/2},zw=function(r){var n=r.axis,s=r.moveRelativeTo,a=r.isMoving;return Hl(n.line,s.marginBox[n.end]+vA(n,a),c2(n,s.marginBox,a))},$w=function(r){var n=r.axis,s=r.moveRelativeTo,a=r.isMoving;return Hl(n.line,s.marginBox[n.start]-cM(n,a),c2(n,s.marginBox,a))},dM=function(r){var n=r.axis,s=r.moveInto,a=r.isMoving;return Hl(n.line,s.contentBox[n.start]+vA(n,a),c2(n,s.contentBox,a))},uM=function(e){var r=e.impact,n=e.draggable,s=e.draggables,a=e.droppable,i=e.afterCritical,o=Ld(a.descriptor.id,s),l=n.page,c=a.axis;if(!o.length)return dM({axis:c,moveInto:a.page,isMoving:l});var d=r.displaced,m=r.displacedBy,u=d.all[0];if(u){var h=s[u];if(Go(u,i))return $w({axis:c,moveRelativeTo:h.page,isMoving:l});var p=Df(h.page,m.point);return $w({axis:c,moveRelativeTo:p,isMoving:l})}var g=o[o.length-1];if(g.descriptor.id===n.descriptor.id)return l.borderBox.center;if(Go(g.descriptor.id,i)){var b=Df(g.page,Td(i.displacedBy.point));return zw({axis:c,moveRelativeTo:b,isMoving:l})}return zw({axis:c,moveRelativeTo:g.page,isMoving:l})},a1=function(e,r){var n=e.frame;return n?Tn(r,n.scroll.diff.displacement):r},mM=function(r){var n=r.impact,s=r.draggable,a=r.droppable,i=r.draggables,o=r.afterCritical,l=s.page.borderBox.center,c=n.at;return!a||!c?l:c.type==="REORDER"?uM({impact:n,draggable:s,draggables:i,droppable:a,afterCritical:o}):lM({impact:n,draggables:i,afterCritical:o})},Lx=function(e){var r=mM(e),n=e.droppable,s=n?a1(n,r):r;return s},yA=function(e,r){var n=Ts(r,e.scroll.initial),s=Td(n),a=Ra({top:r.y,bottom:r.y+e.frame.height,left:r.x,right:r.x+e.frame.width}),i={frame:a,scroll:{initial:e.scroll.initial,max:e.scroll.max,current:r,diff:{value:n,displacement:s}}};return i};function Uw(e,r){return e.map(function(n){return r[n]})}function pM(e,r){for(var n=0;n<r.length;n++){var s=r[n].visible[e];if(s)return s}return null}var hM=function(e){var r=e.impact,n=e.viewport,s=e.destination,a=e.draggables,i=e.maxScrollChange,o=yA(n,Tn(n.scroll.current,i)),l=s.frame?s2(s,Tn(s.frame.scroll.current,i)):s,c=r.displaced,d=Cm({afterDragging:Uw(c.all,a),destination:s,displacedBy:r.displacedBy,viewport:o.frame,last:c,forceShouldAnimate:!1}),m=Cm({afterDragging:Uw(c.all,a),destination:l,displacedBy:r.displacedBy,viewport:n.frame,last:c,forceShouldAnimate:!1}),u={},h={},p=[c,d,m];c.all.forEach(function(b){var j=pM(b,p);if(j){h[b]=j;return}u[b]=!0});var g=nt({},r,{displaced:{all:c.all,invisible:u,visible:h}});return g},fM=function(e,r){return Tn(e.scroll.diff.displacement,r)},d2=function(e){var r=e.pageBorderBoxCenter,n=e.draggable,s=e.viewport,a=fM(s,r),i=Ts(a,n.page.borderBox.center);return Tn(n.client.borderBox.center,i)},bA=function(e){var r=e.draggable,n=e.destination,s=e.newPageBorderBoxCenter,a=e.viewport,i=e.withDroppableDisplacement,o=e.onlyOnMainAxis,l=o===void 0?!1:o,c=Ts(s,r.page.borderBox.center),d=Qm(r.page.borderBox,c),m={target:d,destination:n,withDroppableDisplacement:i,viewport:a};return l?eM(m):gA(m)},xM=function(e){var r=e.isMovingForward,n=e.draggable,s=e.destination,a=e.draggables,i=e.previousImpact,o=e.viewport,l=e.previousPageBorderBoxCenter,c=e.previousClientSelection,d=e.afterCritical;if(!s.isEnabled)return null;var m=Ld(s.descriptor.id,a),u=Rd(n,s),h=HO({isMovingForward:r,draggable:n,destination:s,insideDestination:m,previousImpact:i})||iM({isMovingForward:r,isInHomeList:u,draggable:n,draggables:a,destination:s,insideDestination:m,previousImpact:i,viewport:o,afterCritical:d});if(!h)return null;var p=Lx({impact:h,draggable:n,droppable:s,draggables:a,afterCritical:d}),g=bA({draggable:n,destination:s,newPageBorderBoxCenter:p,viewport:o.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0});if(g){var b=d2({pageBorderBoxCenter:p,draggable:n,viewport:o});return{clientSelection:b,impact:h,scrollJumpRequest:null}}var j=Ts(p,l),x=hM({impact:h,viewport:o,destination:s,draggables:a,maxScrollChange:j});return{clientSelection:c,impact:x,scrollJumpRequest:j}},ts=function(r){var n=r.subject.active;return n||Ye(!1),n},gM=function(e){var r=e.isMovingForward,n=e.pageBorderBoxCenter,s=e.source,a=e.droppables,i=e.viewport,o=s.subject.active;if(!o)return null;var l=s.axis,c=la(o[l.start],o[l.end]),d=Dx(a).filter(function(u){return u!==s}).filter(function(u){return u.isEnabled}).filter(function(u){return!!u.subject.active}).filter(function(u){return fA(i.frame)(ts(u))}).filter(function(u){var h=ts(u);return r?o[l.crossAxisEnd]<h[l.crossAxisEnd]:h[l.crossAxisStart]<o[l.crossAxisStart]}).filter(function(u){var h=ts(u),p=la(h[l.start],h[l.end]);return c(h[l.start])||c(h[l.end])||p(o[l.start])||p(o[l.end])}).sort(function(u,h){var p=ts(u)[l.crossAxisStart],g=ts(h)[l.crossAxisStart];return r?p-g:g-p}).filter(function(u,h,p){return ts(u)[l.crossAxisStart]===ts(p[0])[l.crossAxisStart]});if(!d.length)return null;if(d.length===1)return d[0];var m=d.filter(function(u){var h=la(ts(u)[l.start],ts(u)[l.end]);return h(n[l.line])});return m.length===1?m[0]:m.length>1?m.sort(function(u,h){return ts(u)[l.start]-ts(h)[l.start]})[0]:d.sort(function(u,h){var p=Ow(n,Mw(ts(u))),g=Ow(n,Mw(ts(h)));return p!==g?p-g:ts(u)[l.start]-ts(h)[l.start]})[0]},Vw=function(r,n){var s=r.page.borderBox.center;return Go(r.descriptor.id,n)?Ts(s,n.displacedBy.point):s},vM=function(r,n){var s=r.page.borderBox;return Go(r.descriptor.id,n)?Qm(s,Td(n.displacedBy.point)):s},yM=function(e){var r=e.pageBorderBoxCenter,n=e.viewport,s=e.destination,a=e.insideDestination,i=e.afterCritical,o=a.filter(function(l){return gA({target:vM(l,i),destination:s,viewport:n.frame,withDroppableDisplacement:!0})}).sort(function(l,c){var d=Nm(r,a1(s,Vw(l,i))),m=Nm(r,a1(s,Vw(c,i)));return d<m?-1:m<d?1:l.descriptor.index-c.descriptor.index});return o[0]||null},Ym=jn(function(r,n){var s=n[r.line];return{value:s,point:Hl(r.line,s)}}),bM=function(r,n,s){var a=r.axis;if(r.descriptor.mode==="virtual")return Hl(a.line,n[a.line]);var i=r.subject.page.contentBox[a.size],o=Ld(r.descriptor.id,s),l=o.reduce(function(m,u){return m+u.client.marginBox[a.size]},0),c=l+n[a.line],d=c-i;return d<=0?null:Hl(a.line,d)},jA=function(r,n){return nt({},r,{scroll:nt({},r.scroll,{max:n})})},wA=function(r,n,s){var a=r.frame;Rd(n,r)&&Ye(!1),r.subject.withPlaceholder&&Ye(!1);var i=Ym(r.axis,n.displaceBy).point,o=bM(r,i,s),l={placeholderSize:i,increasedBy:o,oldFrameMaxScroll:r.frame?r.frame.scroll.max:null};if(!a){var c=vd({page:r.subject.page,withPlaceholder:l,axis:r.axis,frame:r.frame});return nt({},r,{subject:c})}var d=o?Tn(a.scroll.max,o):a.scroll.max,m=jA(a,d),u=vd({page:r.subject.page,withPlaceholder:l,axis:r.axis,frame:m});return nt({},r,{subject:u,frame:m})},jM=function(r){var n=r.subject.withPlaceholder;n||Ye(!1);var s=r.frame;if(!s){var a=vd({page:r.subject.page,axis:r.axis,frame:null,withPlaceholder:null});return nt({},r,{subject:a})}var i=n.oldFrameMaxScroll;i||Ye(!1);var o=jA(s,i),l=vd({page:r.subject.page,axis:r.axis,frame:o,withPlaceholder:null});return nt({},r,{subject:l,frame:o})},wM=function(e){var r=e.previousPageBorderBoxCenter,n=e.moveRelativeTo,s=e.insideDestination,a=e.draggable,i=e.draggables,o=e.destination,l=e.viewport,c=e.afterCritical;if(!n){if(s.length)return null;var d={displaced:Sm,displacedBy:hA,at:{type:"REORDER",destination:{droppableId:o.descriptor.id,index:0}}},m=Lx({impact:d,draggable:a,droppable:o,draggables:i,afterCritical:c}),u=Rd(a,o)?o:wA(o,a,i),h=bA({draggable:a,destination:u,newPageBorderBoxCenter:m,viewport:l.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0});return h?d:null}var p=r[o.axis.line]<=n.page.borderBox.center[o.axis.line],g=function(){var j=n.descriptor.index;return n.descriptor.id===a.descriptor.id||p?j:j+1}(),b=Ym(o.axis,a.displaceBy);return Ff({draggable:a,insideDestination:s,destination:o,viewport:l,displacedBy:b,last:Sm,index:g})},NM=function(e){var r=e.isMovingForward,n=e.previousPageBorderBoxCenter,s=e.draggable,a=e.isOver,i=e.draggables,o=e.droppables,l=e.viewport,c=e.afterCritical,d=gM({isMovingForward:r,pageBorderBoxCenter:n,source:a,droppables:o,viewport:l});if(!d)return null;var m=Ld(d.descriptor.id,i),u=yM({pageBorderBoxCenter:n,viewport:l,destination:d,insideDestination:m,afterCritical:c}),h=wM({previousPageBorderBoxCenter:n,destination:d,draggable:s,draggables:i,moveRelativeTo:u,insideDestination:m,viewport:l,afterCritical:c});if(!h)return null;var p=Lx({impact:h,draggable:s,droppable:d,draggables:i,afterCritical:c}),g=d2({pageBorderBoxCenter:p,draggable:s,viewport:l});return{clientSelection:g,impact:h,scrollJumpRequest:null}},Ms=function(e){var r=e.at;return r?r.type==="REORDER"?r.destination.droppableId:r.combine.droppableId:null},SM=function(r,n){var s=Ms(r);return s?n[s]:null},CM=function(e){var r=e.state,n=e.type,s=SM(r.impact,r.dimensions.droppables),a=!!s,i=r.dimensions.droppables[r.critical.droppable.id],o=s||i,l=o.axis.direction,c=l==="vertical"&&(n==="MOVE_UP"||n==="MOVE_DOWN")||l==="horizontal"&&(n==="MOVE_LEFT"||n==="MOVE_RIGHT");if(c&&!a)return null;var d=n==="MOVE_DOWN"||n==="MOVE_RIGHT",m=r.dimensions.draggables[r.critical.draggable.id],u=r.current.page.borderBoxCenter,h=r.dimensions,p=h.draggables,g=h.droppables;return c?xM({isMovingForward:d,previousPageBorderBoxCenter:u,draggable:m,destination:o,draggables:p,viewport:r.viewport,previousClientSelection:r.current.client.selection,previousImpact:r.impact,afterCritical:r.afterCritical}):NM({isMovingForward:d,previousPageBorderBoxCenter:u,draggable:m,isOver:o,draggables:p,droppables:g,viewport:r.viewport,afterCritical:r.afterCritical})};function yl(e){return e.phase==="DRAGGING"||e.phase==="COLLECTING"}function NA(e){var r=la(e.top,e.bottom),n=la(e.left,e.right);return function(a){return r(a.y)&&n(a.x)}}function AM(e,r){return e.left<r.right&&e.right>r.left&&e.top<r.bottom&&e.bottom>r.top}function EM(e){var r=e.pageBorderBox,n=e.draggable,s=e.candidates,a=n.page.borderBox.center,i=s.map(function(o){var l=o.axis,c=Hl(o.axis.line,r.center[l.line],o.page.borderBox.center[l.crossAxisLine]);return{id:o.descriptor.id,distance:Nm(a,c)}}).sort(function(o,l){return l.distance-o.distance});return i[0]?i[0].id:null}function IM(e){var r=e.pageBorderBox,n=e.draggable,s=e.droppables,a=Dx(s).filter(function(i){if(!i.isEnabled)return!1;var o=i.subject.active;if(!o||!AM(r,o))return!1;if(NA(o)(r.center))return!0;var l=i.axis,c=o.center[l.crossAxisLine],d=r[l.crossAxisStart],m=r[l.crossAxisEnd],u=la(o[l.crossAxisStart],o[l.crossAxisEnd]),h=u(d),p=u(m);return!h&&!p?!0:h?d<c:m>c});return a.length?a.length===1?a[0].descriptor.id:EM({pageBorderBox:r,draggable:n,candidates:a}):null}var SA=function(r,n){return Ra(Qm(r,n))},PM=function(e,r){var n=e.frame;return n?SA(r,n.scroll.diff.value):r};function CA(e){var r=e.displaced,n=e.id;return!!(r.visible[n]||r.invisible[n])}function DM(e){var r=e.draggable,n=e.closest,s=e.inHomeList;return n?s&&n.descriptor.index>r.descriptor.index?n.descriptor.index-1:n.descriptor.index:null}var kM=function(e){var r=e.pageBorderBoxWithDroppableScroll,n=e.draggable,s=e.destination,a=e.insideDestination,i=e.last,o=e.viewport,l=e.afterCritical,c=s.axis,d=Ym(s.axis,n.displaceBy),m=d.value,u=r[c.start],h=r[c.end],p=Tx(n,a),g=nl(p,function(j){var x=j.descriptor.id,v=j.page.borderBox.center[c.line],y=Go(x,l),E=CA({displaced:i,id:x});return y?E?h<=v:u<v-m:E?h<=v+m:u<v}),b=DM({draggable:n,closest:g,inHomeList:Rd(n,s)});return Ff({draggable:n,insideDestination:a,destination:s,viewport:o,last:i,displacedBy:d,index:b})},TM=4,LM=function(e){var r=e.draggable,n=e.pageBorderBoxWithDroppableScroll,s=e.previousImpact,a=e.destination,i=e.insideDestination,o=e.afterCritical;if(!a.isCombineEnabled)return null;var l=a.axis,c=Ym(a.axis,r.displaceBy),d=c.value,m=n[l.start],u=n[l.end],h=Tx(r,i),p=nl(h,function(b){var j=b.descriptor.id,x=b.page.borderBox,v=x[l.size],y=v/TM,E=Go(j,o),O=CA({displaced:s.displaced,id:j});return E?O?u>x[l.start]+y&&u<x[l.end]-y:m>x[l.start]-d+y&&m<x[l.end]-d-y:O?u>x[l.start]+d+y&&u<x[l.end]+d-y:m>x[l.start]+y&&m<x[l.end]-y});if(!p)return null;var g={displacedBy:c,displaced:s.displaced,at:{type:"COMBINE",combine:{draggableId:p.descriptor.id,droppableId:a.descriptor.id}}};return g},AA=function(e){var r=e.pageOffset,n=e.draggable,s=e.draggables,a=e.droppables,i=e.previousImpact,o=e.viewport,l=e.afterCritical,c=SA(n.page.borderBox,r),d=IM({pageBorderBox:c,draggable:n,droppables:a});if(!d)return GO;var m=a[d],u=Ld(m.descriptor.id,s),h=PM(m,c);return LM({pageBorderBoxWithDroppableScroll:h,draggable:n,previousImpact:i,destination:m,insideDestination:u,afterCritical:l})||kM({pageBorderBoxWithDroppableScroll:h,draggable:n,destination:m,insideDestination:u,last:i.displaced,viewport:o,afterCritical:l})},u2=function(e,r){var n;return nt({},e,(n={},n[r.descriptor.id]=r,n))},RM=function(r){var n=r.previousImpact,s=r.impact,a=r.droppables,i=Ms(n),o=Ms(s);if(!i||i===o)return a;var l=a[i];if(!l.subject.withPlaceholder)return a;var c=jM(l);return u2(a,c)},FM=function(e){var r=e.draggable,n=e.draggables,s=e.droppables,a=e.previousImpact,i=e.impact,o=RM({previousImpact:a,impact:i,droppables:s}),l=Ms(i);if(!l)return o;var c=s[l];if(Rd(r,c)||c.subject.withPlaceholder)return o;var d=wA(c,r,n);return u2(o,d)},qu=function(e){var r=e.state,n=e.clientSelection,s=e.dimensions,a=e.viewport,i=e.impact,o=e.scrollJumpRequest,l=a||r.viewport,c=s||r.dimensions,d=n||r.current.client.selection,m=Ts(d,r.initial.client.selection),u={offset:m,selection:d,borderBoxCenter:Tn(r.initial.client.borderBoxCenter,m)},h={selection:Tn(u.selection,l.scroll.current),borderBoxCenter:Tn(u.borderBoxCenter,l.scroll.current),offset:Tn(u.offset,l.scroll.diff.value)},p={client:u,page:h};if(r.phase==="COLLECTING")return nt({phase:"COLLECTING"},r,{dimensions:c,viewport:l,current:p});var g=c.draggables[r.critical.draggable.id],b=i||AA({pageOffset:h.offset,draggable:g,draggables:c.draggables,droppables:c.droppables,previousImpact:r.impact,viewport:l,afterCritical:r.afterCritical}),j=FM({draggable:g,impact:b,previousImpact:r.impact,draggables:c.draggables,droppables:c.droppables}),x=nt({},r,{current:p,dimensions:{draggables:c.draggables,droppables:j},impact:b,viewport:l,scrollJumpRequest:o||null,forceShouldAnimate:o?!1:null});return x};function _M(e,r){return e.map(function(n){return r[n]})}var EA=function(e){var r=e.impact,n=e.viewport,s=e.draggables,a=e.destination,i=e.forceShouldAnimate,o=r.displaced,l=_M(o.all,s),c=Cm({afterDragging:l,destination:a,displacedBy:r.displacedBy,viewport:n.frame,forceShouldAnimate:i,last:o});return nt({},r,{displaced:c})},IA=function(e){var r=e.impact,n=e.draggable,s=e.droppable,a=e.draggables,i=e.viewport,o=e.afterCritical,l=Lx({impact:r,draggable:n,draggables:a,droppable:s,afterCritical:o});return d2({pageBorderBoxCenter:l,draggable:n,viewport:i})},PA=function(e){var r=e.state,n=e.dimensions,s=e.viewport;r.movementMode!=="SNAP"&&Ye(!1);var a=r.impact,i=s||r.viewport,o=n||r.dimensions,l=o.draggables,c=o.droppables,d=l[r.critical.draggable.id],m=Ms(a);m||Ye(!1);var u=c[m],h=EA({impact:a,viewport:i,destination:u,draggables:l}),p=IA({impact:h,draggable:d,droppable:u,draggables:l,viewport:i,afterCritical:r.afterCritical});return qu({impact:h,clientSelection:p,state:r,dimensions:o,viewport:i})},OM=function(e){return{index:e.index,droppableId:e.droppableId}},DA=function(e){var r=e.draggable,n=e.home,s=e.draggables,a=e.viewport,i=Ym(n.axis,r.displaceBy),o=Ld(n.descriptor.id,s),l=o.indexOf(r);l===-1&&Ye(!1);var c=o.slice(l+1),d=c.reduce(function(p,g){return p[g.descriptor.id]=!0,p},{}),m={inVirtualList:n.descriptor.mode==="virtual",displacedBy:i,effected:d},u=Cm({afterDragging:c,destination:n,displacedBy:i,last:null,viewport:a.frame,forceShouldAnimate:!1}),h={displaced:u,displacedBy:i,at:{type:"REORDER",destination:OM(r.descriptor)}};return{impact:h,afterCritical:m}},MM=function(e,r){return{draggables:e.draggables,droppables:u2(e.droppables,r)}},BM=function(e){var r=e.draggable,n=e.offset,s=e.initialWindowScroll,a=Df(r.client,n),i=kf(a,s),o=nt({},r,{placeholder:nt({},r.placeholder,{client:a}),client:a,page:i});return o},zM=function(e){var r=e.frame;return r||Ye(!1),r},$M=function(e){var r=e.additions,n=e.updatedDroppables,s=e.viewport,a=s.scroll.diff.value;return r.map(function(i){var o=i.descriptor.droppableId,l=n[o],c=zM(l),d=c.scroll.diff.value,m=Tn(a,d),u=BM({draggable:i,offset:m,initialWindowScroll:s.scroll.initial});return u})},UM=function(e){var r=e.state,n=e.published,s=n.modified.map(function(y){var E=r.dimensions.droppables[y.droppableId],O=s2(E,y.scroll);return O}),a=nt({},r.dimensions.droppables,{},mA(s)),i=pA($M({additions:n.additions,updatedDroppables:a,viewport:r.viewport})),o=nt({},r.dimensions.draggables,{},i);n.removals.forEach(function(y){delete o[y]});var l={droppables:a,draggables:o},c=Ms(r.impact),d=c?l.droppables[c]:null,m=l.draggables[r.critical.draggable.id],u=l.droppables[r.critical.droppable.id],h=DA({draggable:m,home:u,draggables:o,viewport:r.viewport}),p=h.impact,g=h.afterCritical,b=d&&d.isCombineEnabled?r.impact:p,j=AA({pageOffset:r.current.page.offset,draggable:l.draggables[r.critical.draggable.id],draggables:l.draggables,droppables:l.droppables,previousImpact:b,viewport:r.viewport,afterCritical:g}),x=nt({phase:"DRAGGING"},r,{phase:"DRAGGING",impact:j,onLiftImpact:p,dimensions:l,afterCritical:g,forceShouldAnimate:!1});if(r.phase==="COLLECTING")return x;var v=nt({phase:"DROP_PENDING"},x,{phase:"DROP_PENDING",reason:r.reason,isWaiting:!1});return v},i1=function(r){return r.movementMode==="SNAP"},Sv=function(r,n,s){var a=MM(r.dimensions,n);return!i1(r)||s?qu({state:r,dimensions:a}):PA({state:r,dimensions:a})};function Cv(e){return e.isDragging&&e.movementMode==="SNAP"?nt({phase:"DRAGGING"},e,{scrollJumpRequest:null}):e}var Ww={phase:"IDLE",completed:null,shouldFlush:!1},VM=function(e,r){if(e===void 0&&(e=Ww),r.type==="FLUSH")return nt({},Ww,{shouldFlush:!0});if(r.type==="INITIAL_PUBLISH"){e.phase!=="IDLE"&&Ye(!1);var n=r.payload,s=n.critical,a=n.clientSelection,i=n.viewport,o=n.dimensions,l=n.movementMode,c=o.draggables[s.draggable.id],d=o.droppables[s.droppable.id],m={selection:a,borderBoxCenter:c.client.borderBox.center,offset:wn},u={client:m,page:{selection:Tn(m.selection,i.scroll.initial),borderBoxCenter:Tn(m.selection,i.scroll.initial),offset:Tn(m.selection,i.scroll.diff.value)}},h=Dx(o.droppables).every(function(ye){return!ye.isFixedOnPage}),p=DA({draggable:c,home:d,draggables:o.draggables,viewport:i}),g=p.impact,b=p.afterCritical,j={phase:"DRAGGING",isDragging:!0,critical:s,movementMode:l,dimensions:o,initial:u,current:u,isWindowScrollAllowed:h,impact:g,afterCritical:b,onLiftImpact:g,viewport:i,scrollJumpRequest:null,forceShouldAnimate:null};return j}if(r.type==="COLLECTION_STARTING"){if(e.phase==="COLLECTING"||e.phase==="DROP_PENDING")return e;e.phase!=="DRAGGING"&&Ye(!1);var x=nt({phase:"COLLECTING"},e,{phase:"COLLECTING"});return x}if(r.type==="PUBLISH_WHILE_DRAGGING")return e.phase==="COLLECTING"||e.phase==="DROP_PENDING"||Ye(!1),UM({state:e,published:r.payload});if(r.type==="MOVE"){if(e.phase==="DROP_PENDING")return e;yl(e)||Ye(!1);var v=r.payload.client;return Mo(v,e.current.client.selection)?e:qu({state:e,clientSelection:v,impact:i1(e)?e.impact:null})}if(r.type==="UPDATE_DROPPABLE_SCROLL"){if(e.phase==="DROP_PENDING"||e.phase==="COLLECTING")return Cv(e);yl(e)||Ye(!1);var y=r.payload,E=y.id,O=y.newScroll,M=e.dimensions.droppables[E];if(!M)return e;var P=s2(M,O);return Sv(e,P,!1)}if(r.type==="UPDATE_DROPPABLE_IS_ENABLED"){if(e.phase==="DROP_PENDING")return e;yl(e)||Ye(!1);var S=r.payload,I=S.id,k=S.isEnabled,C=e.dimensions.droppables[I];C||Ye(!1),C.isEnabled===k&&Ye(!1);var w=nt({},C,{isEnabled:k});return Sv(e,w,!0)}if(r.type==="UPDATE_DROPPABLE_IS_COMBINE_ENABLED"){if(e.phase==="DROP_PENDING")return e;yl(e)||Ye(!1);var L=r.payload,T=L.id,W=L.isCombineEnabled,V=e.dimensions.droppables[T];V||Ye(!1),V.isCombineEnabled===W&&Ye(!1);var _=nt({},V,{isCombineEnabled:W});return Sv(e,_,!0)}if(r.type==="MOVE_BY_WINDOW_SCROLL"){if(e.phase==="DROP_PENDING"||e.phase==="DROP_ANIMATING")return e;yl(e)||Ye(!1),e.isWindowScrollAllowed||Ye(!1);var B=r.payload.newScroll;if(Mo(e.viewport.scroll.current,B))return Cv(e);var U=yA(e.viewport,B);return i1(e)?PA({state:e,viewport:U}):qu({state:e,viewport:U})}if(r.type==="UPDATE_VIEWPORT_MAX_SCROLL"){if(!yl(e))return e;var H=r.payload.maxScroll;if(Mo(H,e.viewport.scroll.max))return e;var q=nt({},e.viewport,{scroll:nt({},e.viewport.scroll,{max:H})});return nt({phase:"DRAGGING"},e,{viewport:q})}if(r.type==="MOVE_UP"||r.type==="MOVE_DOWN"||r.type==="MOVE_LEFT"||r.type==="MOVE_RIGHT"){if(e.phase==="COLLECTING"||e.phase==="DROP_PENDING")return e;e.phase!=="DRAGGING"&&Ye(!1);var R=CM({state:e,type:r.type});return R?qu({state:e,impact:R.impact,clientSelection:R.clientSelection,scrollJumpRequest:R.scrollJumpRequest}):e}if(r.type==="DROP_PENDING"){var $=r.payload.reason;e.phase!=="COLLECTING"&&Ye(!1);var G=nt({phase:"DROP_PENDING"},e,{phase:"DROP_PENDING",isWaiting:!0,reason:$});return G}if(r.type==="DROP_ANIMATE"){var X=r.payload,Z=X.completed,le=X.dropDuration,ce=X.newHomeClientOffset;e.phase==="DRAGGING"||e.phase==="DROP_PENDING"||Ye(!1);var de={phase:"DROP_ANIMATING",completed:Z,dropDuration:le,newHomeClientOffset:ce,dimensions:e.dimensions};return de}if(r.type==="DROP_COMPLETE"){var Se=r.payload.completed;return{phase:"IDLE",completed:Se,shouldFlush:!1}}return e},WM=function(r){return{type:"BEFORE_INITIAL_CAPTURE",payload:r}},qM=function(r){return{type:"LIFT",payload:r}},HM=function(r){return{type:"INITIAL_PUBLISH",payload:r}},GM=function(r){return{type:"PUBLISH_WHILE_DRAGGING",payload:r}},QM=function(){return{type:"COLLECTION_STARTING",payload:null}},YM=function(r){return{type:"UPDATE_DROPPABLE_SCROLL",payload:r}},KM=function(r){return{type:"UPDATE_DROPPABLE_IS_ENABLED",payload:r}},JM=function(r){return{type:"UPDATE_DROPPABLE_IS_COMBINE_ENABLED",payload:r}},kA=function(r){return{type:"MOVE",payload:r}},XM=function(r){return{type:"MOVE_BY_WINDOW_SCROLL",payload:r}},ZM=function(r){return{type:"UPDATE_VIEWPORT_MAX_SCROLL",payload:r}},e9=function(){return{type:"MOVE_UP",payload:null}},t9=function(){return{type:"MOVE_DOWN",payload:null}},r9=function(){return{type:"MOVE_RIGHT",payload:null}},n9=function(){return{type:"MOVE_LEFT",payload:null}},m2=function(){return{type:"FLUSH",payload:null}},s9=function(r){return{type:"DROP_ANIMATE",payload:r}},p2=function(r){return{type:"DROP_COMPLETE",payload:r}},TA=function(r){return{type:"DROP",payload:r}},a9=function(r){return{type:"DROP_PENDING",payload:r}},LA=function(){return{type:"DROP_ANIMATION_FINISHED",payload:null}},i9=function(e){return function(r){var n=r.getState,s=r.dispatch;return function(a){return function(i){if(i.type!=="LIFT"){a(i);return}var o=i.payload,l=o.id,c=o.clientSelection,d=o.movementMode,m=n();m.phase==="DROP_ANIMATING"&&s(p2({completed:m.completed})),n().phase!=="IDLE"&&Ye(!1),s(m2()),s(WM({draggableId:l,movementMode:d}));var u={shouldPublishImmediately:d==="SNAP"},h={draggableId:l,scrollOptions:u},p=e.startPublishing(h),g=p.critical,b=p.dimensions,j=p.viewport;s(HM({critical:g,dimensions:b,clientSelection:c,movementMode:d,viewport:j}))}}}},o9=function(e){return function(){return function(r){return function(n){n.type==="INITIAL_PUBLISH"&&e.dragging(),n.type==="DROP_ANIMATE"&&e.dropping(n.payload.completed.result.reason),(n.type==="FLUSH"||n.type==="DROP_COMPLETE")&&e.resting(),r(n)}}}},h2={outOfTheWay:"cubic-bezier(0.2, 0, 0, 1)",drop:"cubic-bezier(.2,1,.1,1)"},Am={opacity:{drop:0,combining:.7},scale:{drop:.75}},f2={outOfTheWay:.2,minDropTime:.33,maxDropTime:.55},xl=f2.outOfTheWay+"s "+h2.outOfTheWay,Hu={fluid:"opacity "+xl,snap:"transform "+xl+", opacity "+xl,drop:function(r){var n=r+"s "+h2.drop;return"transform "+n+", opacity "+n},outOfTheWay:"transform "+xl,placeholder:"height "+xl+", width "+xl+", margin "+xl},qw=function(r){return Mo(r,wn)?null:"translate("+r.x+"px, "+r.y+"px)"},o1={moveTo:qw,drop:function(r,n){var s=qw(r);return s?n?s+" scale("+Am.scale.drop+")":s:null}},l1=f2.minDropTime,RA=f2.maxDropTime,l9=RA-l1,Hw=1500,c9=.6,d9=function(e){var r=e.current,n=e.destination,s=e.reason,a=Nm(r,n);if(a<=0)return l1;if(a>=Hw)return RA;var i=a/Hw,o=l1+l9*i,l=s==="CANCEL"?o*c9:o;return Number(l.toFixed(2))},u9=function(e){var r=e.impact,n=e.draggable,s=e.dimensions,a=e.viewport,i=e.afterCritical,o=s.draggables,l=s.droppables,c=Ms(r),d=c?l[c]:null,m=l[n.descriptor.droppableId],u=IA({impact:r,draggable:n,draggables:o,afterCritical:i,droppable:d||m,viewport:a}),h=Ts(u,n.client.borderBox.center);return h},m9=function(e){var r=e.draggables,n=e.reason,s=e.lastImpact,a=e.home,i=e.viewport,o=e.onLiftImpact;if(!s.at||n!=="DROP"){var l=EA({draggables:r,impact:o,destination:a,viewport:i,forceShouldAnimate:!0});return{impact:l,didDropInsideDroppable:!1}}if(s.at.type==="REORDER")return{impact:s,didDropInsideDroppable:!0};var c=nt({},s,{displaced:Sm});return{impact:c,didDropInsideDroppable:!0}},p9=function(e){var r=e.getState,n=e.dispatch;return function(s){return function(a){if(a.type!=="DROP"){s(a);return}var i=r(),o=a.payload.reason;if(i.phase==="COLLECTING"){n(a9({reason:o}));return}if(i.phase!=="IDLE"){var l=i.phase==="DROP_PENDING"&&i.isWaiting;l&&Ye(!1),i.phase==="DRAGGING"||i.phase==="DROP_PENDING"||Ye(!1);var c=i.critical,d=i.dimensions,m=d.draggables[i.critical.draggable.id],u=m9({reason:o,lastImpact:i.impact,afterCritical:i.afterCritical,onLiftImpact:i.onLiftImpact,home:i.dimensions.droppables[i.critical.droppable.id],viewport:i.viewport,draggables:i.dimensions.draggables}),h=u.impact,p=u.didDropInsideDroppable,g=p?i2(h):null,b=p?kx(h):null,j={index:c.draggable.index,droppableId:c.droppable.id},x={draggableId:m.descriptor.id,type:m.descriptor.type,source:j,reason:o,mode:i.movementMode,destination:g,combine:b},v=u9({impact:h,draggable:m,dimensions:d,viewport:i.viewport,afterCritical:i.afterCritical}),y={critical:i.critical,afterCritical:i.afterCritical,result:x,impact:h},E=!Mo(i.current.client.offset,v)||!!x.combine;if(!E){n(p2({completed:y}));return}var O=d9({current:i.current.client.offset,destination:v,reason:o}),M={newHomeClientOffset:v,dropDuration:O,completed:y};n(s9(M))}}}},FA=function(){return{x:window.pageXOffset,y:window.pageYOffset}};function h9(e){return{eventName:"scroll",options:{passive:!0,capture:!1},fn:function(n){n.target!==window&&n.target!==window.document||e()}}}function f9(e){var r=e.onWindowScroll;function n(){r(FA())}var s=wm(n),a=h9(s),i=Oo;function o(){return i!==Oo}function l(){o()&&Ye(!1),i=ia(window,[a])}function c(){o()||Ye(!1),s.cancel(),i(),i=Oo}return{start:l,stop:c,isActive:o}}var x9=function(r){return r.type==="DROP_COMPLETE"||r.type==="DROP_ANIMATE"||r.type==="FLUSH"},g9=function(e){var r=f9({onWindowScroll:function(s){e.dispatch(XM({newScroll:s}))}});return function(n){return function(s){!r.isActive()&&s.type==="INITIAL_PUBLISH"&&r.start(),r.isActive()&&x9(s)&&r.stop(),n(s)}}},v9=function(e){var r=!1,n=!1,s=setTimeout(function(){n=!0}),a=function(o){r||n||(r=!0,e(o),clearTimeout(s))};return a.wasCalled=function(){return r},a},y9=function(){var e=[],r=function(i){var o=a2(e,function(d){return d.timerId===i});o===-1&&Ye(!1);var l=e.splice(o,1),c=l[0];c.callback()},n=function(i){var o=setTimeout(function(){return r(o)}),l={timerId:o,callback:i};e.push(l)},s=function(){if(e.length){var i=[].concat(e);e.length=0,i.forEach(function(o){clearTimeout(o.timerId),o.callback()})}};return{add:n,flush:s}},b9=function(r,n){return r==null&&n==null?!0:r==null||n==null?!1:r.droppableId===n.droppableId&&r.index===n.index},j9=function(r,n){return r==null&&n==null?!0:r==null||n==null?!1:r.draggableId===n.draggableId&&r.droppableId===n.droppableId},w9=function(r,n){if(r===n)return!0;var s=r.draggable.id===n.draggable.id&&r.draggable.droppableId===n.draggable.droppableId&&r.draggable.type===n.draggable.type&&r.draggable.index===n.draggable.index,a=r.droppable.id===n.droppable.id&&r.droppable.type===n.droppable.type;return s&&a},wu=function(r,n){n()},hh=function(r,n){return{draggableId:r.draggable.id,type:r.droppable.type,source:{droppableId:r.droppable.id,index:r.draggable.index},mode:n}},Av=function(r,n,s,a){if(!r){s(a(n));return}var i=v9(s),o={announce:i};r(n,o),i.wasCalled()||s(a(n))},N9=function(e,r){var n=y9(),s=null,a=function(h,p){s&&Ye(!1),wu("onBeforeCapture",function(){var g=e().onBeforeCapture;if(g){var b={draggableId:h,mode:p};g(b)}})},i=function(h,p){s&&Ye(!1),wu("onBeforeDragStart",function(){var g=e().onBeforeDragStart;g&&g(hh(h,p))})},o=function(h,p){s&&Ye(!1);var g=hh(h,p);s={mode:p,lastCritical:h,lastLocation:g.source,lastCombine:null},n.add(function(){wu("onDragStart",function(){return Av(e().onDragStart,g,r,Uh.onDragStart)})})},l=function(h,p){var g=i2(p),b=kx(p);s||Ye(!1);var j=!w9(h,s.lastCritical);j&&(s.lastCritical=h);var x=!b9(s.lastLocation,g);x&&(s.lastLocation=g);var v=!j9(s.lastCombine,b);if(v&&(s.lastCombine=b),!(!j&&!x&&!v)){var y=nt({},hh(h,s.mode),{combine:b,destination:g});n.add(function(){wu("onDragUpdate",function(){return Av(e().onDragUpdate,y,r,Uh.onDragUpdate)})})}},c=function(){s||Ye(!1),n.flush()},d=function(h){s||Ye(!1),s=null,wu("onDragEnd",function(){return Av(e().onDragEnd,h,r,Uh.onDragEnd)})},m=function(){if(s){var h=nt({},hh(s.lastCritical,s.mode),{combine:null,destination:null,reason:"CANCEL"});d(h)}};return{beforeCapture:a,beforeStart:i,start:o,update:l,flush:c,drop:d,abort:m}},S9=function(e,r){var n=N9(e,r);return function(s){return function(a){return function(i){if(i.type==="BEFORE_INITIAL_CAPTURE"){n.beforeCapture(i.payload.draggableId,i.payload.movementMode);return}if(i.type==="INITIAL_PUBLISH"){var o=i.payload.critical;n.beforeStart(o,i.payload.movementMode),a(i),n.start(o,i.payload.movementMode);return}if(i.type==="DROP_COMPLETE"){var l=i.payload.completed.result;n.flush(),a(i),n.drop(l);return}if(a(i),i.type==="FLUSH"){n.abort();return}var c=s.getState();c.phase==="DRAGGING"&&n.update(c.critical,c.impact)}}}},C9=function(e){return function(r){return function(n){if(n.type!=="DROP_ANIMATION_FINISHED"){r(n);return}var s=e.getState();s.phase!=="DROP_ANIMATING"&&Ye(!1),e.dispatch(p2({completed:s.completed}))}}},A9=function(e){var r=null,n=null;function s(){n&&(cancelAnimationFrame(n),n=null),r&&(r(),r=null)}return function(a){return function(i){if((i.type==="FLUSH"||i.type==="DROP_COMPLETE"||i.type==="DROP_ANIMATION_FINISHED")&&s(),a(i),i.type==="DROP_ANIMATE"){var o={eventName:"scroll",options:{capture:!0,passive:!1,once:!0},fn:function(){var c=e.getState();c.phase==="DROP_ANIMATING"&&e.dispatch(LA())}};n=requestAnimationFrame(function(){n=null,r=ia(window,[o])})}}}},E9=function(e){return function(){return function(r){return function(n){(n.type==="DROP_COMPLETE"||n.type==="FLUSH"||n.type==="DROP_ANIMATE")&&e.stopPublishing(),r(n)}}}},I9=function(e){var r=!1;return function(){return function(n){return function(s){if(s.type==="INITIAL_PUBLISH"){r=!0,e.tryRecordFocus(s.payload.critical.draggable.id),n(s),e.tryRestoreFocusRecorded();return}if(n(s),!!r){if(s.type==="FLUSH"){r=!1,e.tryRestoreFocusRecorded();return}if(s.type==="DROP_COMPLETE"){r=!1;var a=s.payload.completed.result;a.combine&&e.tryShiftRecord(a.draggableId,a.combine.draggableId),e.tryRestoreFocusRecorded()}}}}}},P9=function(r){return r.type==="DROP_COMPLETE"||r.type==="DROP_ANIMATE"||r.type==="FLUSH"},D9=function(e){return function(r){return function(n){return function(s){if(P9(s)){e.stop(),n(s);return}if(s.type==="INITIAL_PUBLISH"){n(s);var a=r.getState();a.phase!=="DRAGGING"&&Ye(!1),e.start(a);return}n(s),e.scroll(r.getState())}}}},k9=function(e){return function(r){return function(n){if(r(n),n.type==="PUBLISH_WHILE_DRAGGING"){var s=e.getState();s.phase==="DROP_PENDING"&&(s.isWaiting||e.dispatch(TA({reason:s.reason})))}}}},T9=$C,L9=function(e){var r=e.dimensionMarshal,n=e.focusMarshal,s=e.styleMarshal,a=e.getResponders,i=e.announce,o=e.autoScroller;return zC(VM,T9(v_(o9(s),E9(r),i9(r),p9,C9,A9,k9,D9(o),g9,I9(n),S9(a,i))))},Ev=function(){return{additions:{},removals:{},modified:{}}};function R9(e){var r=e.registry,n=e.callbacks,s=Ev(),a=null,i=function(){a||(n.collectionStarting(),a=requestAnimationFrame(function(){a=null;var m=s,u=m.additions,h=m.removals,p=m.modified,g=Object.keys(u).map(function(x){return r.draggable.getById(x).getDimension(wn)}).sort(function(x,v){return x.descriptor.index-v.descriptor.index}),b=Object.keys(p).map(function(x){var v=r.droppable.getById(x),y=v.callbacks.getScrollWhileDragging();return{droppableId:x,scroll:y}}),j={additions:g,removals:Object.keys(h),modified:b};s=Ev(),n.publish(j)}))},o=function(m){var u=m.descriptor.id;s.additions[u]=m,s.modified[m.descriptor.droppableId]=!0,s.removals[u]&&delete s.removals[u],i()},l=function(m){var u=m.descriptor;s.removals[u.id]=!0,s.modified[u.droppableId]=!0,s.additions[u.id]&&delete s.additions[u.id],i()},c=function(){a&&(cancelAnimationFrame(a),a=null,s=Ev())};return{add:o,remove:l,stop:c}}var _A=function(e){var r=e.scrollHeight,n=e.scrollWidth,s=e.height,a=e.width,i=Ts({x:n,y:r},{x:a,y:s}),o={x:Math.max(0,i.x),y:Math.max(0,i.y)};return o},OA=function(){var e=document.documentElement;return e||Ye(!1),e},MA=function(){var e=OA(),r=_A({scrollHeight:e.scrollHeight,scrollWidth:e.scrollWidth,width:e.clientWidth,height:e.clientHeight});return r},F9=function(){var e=FA(),r=MA(),n=e.y,s=e.x,a=OA(),i=a.clientWidth,o=a.clientHeight,l=s+i,c=n+o,d=Ra({top:n,left:s,right:l,bottom:c}),m={frame:d,scroll:{initial:e,current:e,max:r,diff:{value:wn,displacement:wn}}};return m},_9=function(e){var r=e.critical,n=e.scrollOptions,s=e.registry,a=F9(),i=a.scroll.current,o=r.droppable,l=s.droppable.getAllByType(o.type).map(function(u){return u.callbacks.getDimensionAndWatchScroll(i,n)}),c=s.draggable.getAllByType(r.draggable.type).map(function(u){return u.getDimension(i)}),d={draggables:pA(c),droppables:mA(l)},m={dimensions:d,critical:r,viewport:a};return m};function Gw(e,r,n){if(n.descriptor.id===r.id||n.descriptor.type!==r.type)return!1;var s=e.droppable.getById(n.descriptor.droppableId);return s.descriptor.mode==="virtual"}var O9=function(e,r){var n=null,s=R9({callbacks:{publish:r.publishWhileDragging,collectionStarting:r.collectionStarting},registry:e}),a=function(p,g){e.droppable.exists(p)||Ye(!1),n&&r.updateDroppableIsEnabled({id:p,isEnabled:g})},i=function(p,g){n&&(e.droppable.exists(p)||Ye(!1),r.updateDroppableIsCombineEnabled({id:p,isCombineEnabled:g}))},o=function(p,g){n&&(e.droppable.exists(p)||Ye(!1),r.updateDroppableScroll({id:p,newScroll:g}))},l=function(p,g){n&&e.droppable.getById(p).callbacks.scroll(g)},c=function(){if(n){s.stop();var p=n.critical.droppable;e.droppable.getAllByType(p.type).forEach(function(g){return g.callbacks.dragStopped()}),n.unsubscribe(),n=null}},d=function(p){n||Ye(!1);var g=n.critical.draggable;p.type==="ADDITION"&&Gw(e,g,p.value)&&s.add(p.value),p.type==="REMOVAL"&&Gw(e,g,p.value)&&s.remove(p.value)},m=function(p){n&&Ye(!1);var g=e.draggable.getById(p.draggableId),b=e.droppable.getById(g.descriptor.droppableId),j={draggable:g.descriptor,droppable:b.descriptor},x=e.subscribe(d);return n={critical:j,unsubscribe:x},_9({critical:j,registry:e,scrollOptions:p.scrollOptions})},u={updateDroppableIsEnabled:a,updateDroppableIsCombineEnabled:i,scrollDroppable:l,updateDroppableScroll:o,startPublishing:m,stopPublishing:c};return u},BA=function(e,r){return e.phase==="IDLE"?!0:e.phase!=="DROP_ANIMATING"||e.completed.result.draggableId===r?!1:e.completed.result.reason==="DROP"},M9=function(e){window.scrollBy(e.x,e.y)},B9=jn(function(e){return Dx(e).filter(function(r){return!(!r.isEnabled||!r.frame)})}),z9=function(r,n){var s=nl(B9(n),function(a){return a.frame||Ye(!1),NA(a.frame.pageMarginBox)(r)});return s},$9=function(e){var r=e.center,n=e.destination,s=e.droppables;if(n){var a=s[n];return a.frame?a:null}var i=z9(r,s);return i},Bo={startFromPercentage:.25,maxScrollAtPercentage:.05,maxPixelScroll:28,ease:function(r){return Math.pow(r,2)},durationDampening:{stopDampeningAt:1200,accelerateAt:360}},U9=function(e,r){var n=e[r.size]*Bo.startFromPercentage,s=e[r.size]*Bo.maxScrollAtPercentage,a={startScrollingFrom:n,maxScrollValueAt:s};return a},zA=function(e){var r=e.startOfRange,n=e.endOfRange,s=e.current,a=n-r;if(a===0)return 0;var i=s-r,o=i/a;return o},x2=1,V9=function(e,r){if(e>r.startScrollingFrom)return 0;if(e<=r.maxScrollValueAt)return Bo.maxPixelScroll;if(e===r.startScrollingFrom)return x2;var n=zA({startOfRange:r.maxScrollValueAt,endOfRange:r.startScrollingFrom,current:e}),s=1-n,a=Bo.maxPixelScroll*Bo.ease(s);return Math.ceil(a)},Qw=Bo.durationDampening.accelerateAt,Yw=Bo.durationDampening.stopDampeningAt,W9=function(e,r){var n=r,s=Yw,a=Date.now(),i=a-n;if(i>=Yw)return e;if(i<Qw)return x2;var o=zA({startOfRange:Qw,endOfRange:s,current:i}),l=e*Bo.ease(o);return Math.ceil(l)},Kw=function(e){var r=e.distanceToEdge,n=e.thresholds,s=e.dragStartTime,a=e.shouldUseTimeDampening,i=V9(r,n);return i===0?0:a?Math.max(W9(i,s),x2):i},Jw=function(e){var r=e.container,n=e.distanceToEdges,s=e.dragStartTime,a=e.axis,i=e.shouldUseTimeDampening,o=U9(r,a),l=n[a.end]<n[a.start];return l?Kw({distanceToEdge:n[a.end],thresholds:o,dragStartTime:s,shouldUseTimeDampening:i}):-1*Kw({distanceToEdge:n[a.start],thresholds:o,dragStartTime:s,shouldUseTimeDampening:i})},q9=function(e){var r=e.container,n=e.subject,s=e.proposedScroll,a=n.height>r.height,i=n.width>r.width;return!i&&!a?s:i&&a?null:{x:i?0:s.x,y:a?0:s.y}},H9=dA(function(e){return e===0?0:e}),$A=function(e){var r=e.dragStartTime,n=e.container,s=e.subject,a=e.center,i=e.shouldUseTimeDampening,o={top:a.y-n.top,right:n.right-a.x,bottom:n.bottom-a.y,left:a.x-n.left},l=Jw({container:n,distanceToEdges:o,dragStartTime:r,axis:o2,shouldUseTimeDampening:i}),c=Jw({container:n,distanceToEdges:o,dragStartTime:r,axis:xA,shouldUseTimeDampening:i}),d=H9({x:c,y:l});if(Mo(d,wn))return null;var m=q9({container:n,subject:s,proposedScroll:d});return m?Mo(m,wn)?null:m:null},G9=dA(function(e){return e===0?0:e>0?1:-1}),g2=function(){var e=function(n,s){return n<0?n:n>s?n-s:0};return function(r){var n=r.current,s=r.max,a=r.change,i=Tn(n,a),o={x:e(i.x,s.x),y:e(i.y,s.y)};return Mo(o,wn)?null:o}}(),UA=function(r){var n=r.max,s=r.current,a=r.change,i={x:Math.max(s.x,n.x),y:Math.max(s.y,n.y)},o=G9(a),l=g2({max:i,current:s,change:o});return!l||o.x!==0&&l.x===0||o.y!==0&&l.y===0},v2=function(r,n){return UA({current:r.scroll.current,max:r.scroll.max,change:n})},Q9=function(r,n){if(!v2(r,n))return null;var s=r.scroll.max,a=r.scroll.current;return g2({current:a,max:s,change:n})},y2=function(r,n){var s=r.frame;return s?UA({current:s.scroll.current,max:s.scroll.max,change:n}):!1},Y9=function(r,n){var s=r.frame;return!s||!y2(r,n)?null:g2({current:s.scroll.current,max:s.scroll.max,change:n})},K9=function(e){var r=e.viewport,n=e.subject,s=e.center,a=e.dragStartTime,i=e.shouldUseTimeDampening,o=$A({dragStartTime:a,container:r.frame,subject:n,center:s,shouldUseTimeDampening:i});return o&&v2(r,o)?o:null},J9=function(e){var r=e.droppable,n=e.subject,s=e.center,a=e.dragStartTime,i=e.shouldUseTimeDampening,o=r.frame;if(!o)return null;var l=$A({dragStartTime:a,container:o.pageMarginBox,subject:n,center:s,shouldUseTimeDampening:i});return l&&y2(r,l)?l:null},Xw=function(e){var r=e.state,n=e.dragStartTime,s=e.shouldUseTimeDampening,a=e.scrollWindow,i=e.scrollDroppable,o=r.current.page.borderBoxCenter,l=r.dimensions.draggables[r.critical.draggable.id],c=l.page.marginBox;if(r.isWindowScrollAllowed){var d=r.viewport,m=K9({dragStartTime:n,viewport:d,subject:c,center:o,shouldUseTimeDampening:s});if(m){a(m);return}}var u=$9({center:o,destination:Ms(r.impact),droppables:r.dimensions.droppables});if(u){var h=J9({dragStartTime:n,droppable:u,subject:c,center:o,shouldUseTimeDampening:s});h&&i(u.descriptor.id,h)}},X9=function(e){var r=e.scrollWindow,n=e.scrollDroppable,s=wm(r),a=wm(n),i=null,o=function(m){i||Ye(!1);var u=i,h=u.shouldUseTimeDampening,p=u.dragStartTime;Xw({state:m,scrollWindow:s,scrollDroppable:a,dragStartTime:p,shouldUseTimeDampening:h})},l=function(m){i&&Ye(!1);var u=Date.now(),h=!1,p=function(){h=!0};Xw({state:m,dragStartTime:0,shouldUseTimeDampening:!1,scrollWindow:p,scrollDroppable:p}),i={dragStartTime:u,shouldUseTimeDampening:h},h&&o(m)},c=function(){i&&(s.cancel(),a.cancel(),i=null)};return{start:l,stop:c,scroll:o}},Z9=function(e){var r=e.move,n=e.scrollDroppable,s=e.scrollWindow,a=function(d,m){var u=Tn(d.current.client.selection,m);r({client:u})},i=function(d,m){if(!y2(d,m))return m;var u=Y9(d,m);if(!u)return n(d.descriptor.id,m),null;var h=Ts(m,u);n(d.descriptor.id,h);var p=Ts(m,h);return p},o=function(d,m,u){if(!d||!v2(m,u))return u;var h=Q9(m,u);if(!h)return s(u),null;var p=Ts(u,h);s(p);var g=Ts(u,p);return g},l=function(d){var m=d.scrollJumpRequest;if(m){var u=Ms(d.impact);u||Ye(!1);var h=i(d.dimensions.droppables[u],m);if(h){var p=d.viewport,g=o(d.isWindowScrollAllowed,p,h);g&&a(d,g)}}};return l},eB=function(e){var r=e.scrollDroppable,n=e.scrollWindow,s=e.move,a=X9({scrollWindow:n,scrollDroppable:r}),i=Z9({move:s,scrollWindow:n,scrollDroppable:r}),o=function(d){if(d.phase==="DRAGGING"){if(d.movementMode==="FLUID"){a.scroll(d);return}d.scrollJumpRequest&&i(d)}},l={scroll:o,start:a.start,stop:a.stop};return l},yd="data-rbd",bd=function(){var e=yd+"-drag-handle";return{base:e,draggableId:e+"-draggable-id",contextId:e+"-context-id"}}(),c1=function(){var e=yd+"-draggable";return{base:e,contextId:e+"-context-id",id:e+"-id"}}(),tB=function(){var e=yd+"-droppable";return{base:e,contextId:e+"-context-id",id:e+"-id"}}(),Zw={contextId:yd+"-scroll-container-context-id"},rB=function(r){return function(n){return"["+n+'="'+r+'"]'}},Nu=function(r,n){return r.map(function(s){var a=s.styles[n];return a?s.selector+" { "+a+" }":""}).join(" ")},nB="pointer-events: none;",sB=function(e){var r=rB(e),n=function(){var l=`
      cursor: -webkit-grab;
      cursor: grab;
    `;return{selector:r(bd.contextId),styles:{always:`
          -webkit-touch-callout: none;
          -webkit-tap-highlight-color: rgba(0,0,0,0);
          touch-action: manipulation;
        `,resting:l,dragging:nB,dropAnimating:l}}}(),s=function(){var l=`
      transition: `+Hu.outOfTheWay+`;
    `;return{selector:r(c1.contextId),styles:{dragging:l,dropAnimating:l,userCancel:l}}}(),a={selector:r(tB.contextId),styles:{always:"overflow-anchor: none;"}},i={selector:"body",styles:{dragging:`
        cursor: grabbing;
        cursor: -webkit-grabbing;
        user-select: none;
        -webkit-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        overflow-anchor: none;
      `}},o=[s,n,a,i];return{always:Nu(o,"always"),resting:Nu(o,"resting"),dragging:Nu(o,"dragging"),dropAnimating:Nu(o,"dropAnimating"),userCancel:Nu(o,"userCancel")}},Bs=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?A.useLayoutEffect:A.useEffect,Iv=function(){var r=document.querySelector("head");return r||Ye(!1),r},e5=function(r){var n=document.createElement("style");return r&&n.setAttribute("nonce",r),n.type="text/css",n};function aB(e,r){var n=Kt(function(){return sB(e)},[e]),s=A.useRef(null),a=A.useRef(null),i=bt(jn(function(u){var h=a.current;h||Ye(!1),h.textContent=u}),[]),o=bt(function(u){var h=s.current;h||Ye(!1),h.textContent=u},[]);Bs(function(){!s.current&&!a.current||Ye(!1);var u=e5(r),h=e5(r);return s.current=u,a.current=h,u.setAttribute(yd+"-always",e),h.setAttribute(yd+"-dynamic",e),Iv().appendChild(u),Iv().appendChild(h),o(n.always),i(n.resting),function(){var p=function(b){var j=b.current;j||Ye(!1),Iv().removeChild(j),b.current=null};p(s),p(a)}},[r,o,i,n.always,n.resting,e]);var l=bt(function(){return i(n.dragging)},[i,n.dragging]),c=bt(function(u){if(u==="DROP"){i(n.dropAnimating);return}i(n.userCancel)},[i,n.dropAnimating,n.userCancel]),d=bt(function(){a.current&&i(n.resting)},[i,n.resting]),m=Kt(function(){return{dragging:l,dropping:c,resting:d}},[l,c,d]);return m}var VA=function(e){return e&&e.ownerDocument?e.ownerDocument.defaultView:window};function Rx(e){return e instanceof VA(e).HTMLElement}function iB(e,r){var n="["+bd.contextId+'="'+e+'"]',s=uA(document.querySelectorAll(n));if(!s.length)return null;var a=nl(s,function(i){return i.getAttribute(bd.draggableId)===r});return!a||!Rx(a)?null:a}function oB(e){var r=A.useRef({}),n=A.useRef(null),s=A.useRef(null),a=A.useRef(!1),i=bt(function(h,p){var g={id:h,focus:p};return r.current[h]=g,function(){var j=r.current,x=j[h];x!==g&&delete j[h]}},[]),o=bt(function(h){var p=iB(e,h);p&&p!==document.activeElement&&p.focus()},[e]),l=bt(function(h,p){n.current===h&&(n.current=p)},[]),c=bt(function(){s.current||a.current&&(s.current=requestAnimationFrame(function(){s.current=null;var h=n.current;h&&o(h)}))},[o]),d=bt(function(h){n.current=null;var p=document.activeElement;p&&p.getAttribute(bd.draggableId)===h&&(n.current=h)},[]);Bs(function(){return a.current=!0,function(){a.current=!1;var h=s.current;h&&cancelAnimationFrame(h)}},[]);var m=Kt(function(){return{register:i,tryRecordFocus:d,tryRestoreFocusRecorded:c,tryShiftRecord:l}},[i,d,c,l]);return m}function lB(){var e={draggables:{},droppables:{}},r=[];function n(u){return r.push(u),function(){var p=r.indexOf(u);p!==-1&&r.splice(p,1)}}function s(u){r.length&&r.forEach(function(h){return h(u)})}function a(u){return e.draggables[u]||null}function i(u){var h=a(u);return h||Ye(!1),h}var o={register:function(h){e.draggables[h.descriptor.id]=h,s({type:"ADDITION",value:h})},update:function(h,p){var g=e.draggables[p.descriptor.id];g&&g.uniqueId===h.uniqueId&&(delete e.draggables[p.descriptor.id],e.draggables[h.descriptor.id]=h)},unregister:function(h){var p=h.descriptor.id,g=a(p);g&&h.uniqueId===g.uniqueId&&(delete e.draggables[p],s({type:"REMOVAL",value:h}))},getById:i,findById:a,exists:function(h){return!!a(h)},getAllByType:function(h){return Rf(e.draggables).filter(function(p){return p.descriptor.type===h})}};function l(u){return e.droppables[u]||null}function c(u){var h=l(u);return h||Ye(!1),h}var d={register:function(h){e.droppables[h.descriptor.id]=h},unregister:function(h){var p=l(h.descriptor.id);p&&h.uniqueId===p.uniqueId&&delete e.droppables[h.descriptor.id]},getById:c,findById:l,exists:function(h){return!!l(h)},getAllByType:function(h){return Rf(e.droppables).filter(function(p){return p.descriptor.type===h})}};function m(){e.draggables={},e.droppables={},r.length=0}return{draggable:o,droppable:d,subscribe:n,clean:m}}function cB(){var e=Kt(lB,[]);return A.useEffect(function(){return function(){requestAnimationFrame(e.clean)}},[e]),e}var b2=Dt.createContext(null),_f=function(){var e=document.body;return e||Ye(!1),e},dB={position:"absolute",width:"1px",height:"1px",margin:"-1px",border:"0",padding:"0",overflow:"hidden",clip:"rect(0 0 0 0)","clip-path":"inset(100%)"},uB=function(r){return"rbd-announcement-"+r};function mB(e){var r=Kt(function(){return uB(e)},[e]),n=A.useRef(null);A.useEffect(function(){var i=document.createElement("div");return n.current=i,i.id=r,i.setAttribute("aria-live","assertive"),i.setAttribute("aria-atomic","true"),nt(i.style,dB),_f().appendChild(i),function(){setTimeout(function(){var c=_f();c.contains(i)&&c.removeChild(i),i===n.current&&(n.current=null)})}},[r]);var s=bt(function(a){var i=n.current;if(i){i.textContent=a;return}},[]);return s}var pB=0,hB={separator:"::"};function j2(e,r){return r===void 0&&(r=hB),Kt(function(){return""+e+r.separator+pB++},[r.separator,e])}function fB(e){var r=e.contextId,n=e.uniqueId;return"rbd-hidden-text-"+r+"-"+n}function xB(e){var r=e.contextId,n=e.text,s=j2("hidden-text",{separator:"-"}),a=Kt(function(){return fB({contextId:r,uniqueId:s})},[s,r]);return A.useEffect(function(){var o=document.createElement("div");return o.id=a,o.textContent=n,o.style.display="none",_f().appendChild(o),function(){var c=_f();c.contains(o)&&c.removeChild(o)}},[a,n]),a}var Fx=Dt.createContext(null);function WA(e){var r=A.useRef(e);return A.useEffect(function(){r.current=e}),r}function gB(){var e=null;function r(){return!!e}function n(o){return o===e}function s(o){e&&Ye(!1);var l={abandon:o};return e=l,l}function a(){e||Ye(!1),e=null}function i(){e&&(e.abandon(),a())}return{isClaimed:r,isActive:n,claim:s,release:a,tryAbandon:i}}var vB=9,yB=13,w2=27,qA=32,bB=33,jB=34,wB=35,NB=36,SB=37,CB=38,AB=39,EB=40,fh,IB=(fh={},fh[yB]=!0,fh[vB]=!0,fh),HA=function(e){IB[e.keyCode]&&e.preventDefault()},_x=function(){var e="visibilitychange";if(typeof document>"u")return e;var r=[e,"ms"+e,"webkit"+e,"moz"+e,"o"+e],n=nl(r,function(s){return"on"+s in document});return n||e}(),GA=0,t5=5;function PB(e,r){return Math.abs(r.x-e.x)>=t5||Math.abs(r.y-e.y)>=t5}var r5={type:"IDLE"};function DB(e){var r=e.cancel,n=e.completed,s=e.getPhase,a=e.setPhase;return[{eventName:"mousemove",fn:function(o){var l=o.button,c=o.clientX,d=o.clientY;if(l===GA){var m={x:c,y:d},u=s();if(u.type==="DRAGGING"){o.preventDefault(),u.actions.move(m);return}u.type!=="PENDING"&&Ye(!1);var h=u.point;if(PB(h,m)){o.preventDefault();var p=u.actions.fluidLift(m);a({type:"DRAGGING",actions:p})}}}},{eventName:"mouseup",fn:function(o){var l=s();if(l.type!=="DRAGGING"){r();return}o.preventDefault(),l.actions.drop({shouldBlockNextClick:!0}),n()}},{eventName:"mousedown",fn:function(o){s().type==="DRAGGING"&&o.preventDefault(),r()}},{eventName:"keydown",fn:function(o){var l=s();if(l.type==="PENDING"){r();return}if(o.keyCode===w2){o.preventDefault(),r();return}HA(o)}},{eventName:"resize",fn:r},{eventName:"scroll",options:{passive:!0,capture:!1},fn:function(){s().type==="PENDING"&&r()}},{eventName:"webkitmouseforcedown",fn:function(o){var l=s();if(l.type==="IDLE"&&Ye(!1),l.actions.shouldRespectForcePress()){r();return}o.preventDefault()}},{eventName:_x,fn:r}]}function kB(e){var r=A.useRef(r5),n=A.useRef(Oo),s=Kt(function(){return{eventName:"mousedown",fn:function(u){if(!u.defaultPrevented&&u.button===GA&&!(u.ctrlKey||u.metaKey||u.shiftKey||u.altKey)){var h=e.findClosestDraggableId(u);if(h){var p=e.tryGetLock(h,o,{sourceEvent:u});if(p){u.preventDefault();var g={x:u.clientX,y:u.clientY};n.current(),d(p,g)}}}}}},[e]),a=Kt(function(){return{eventName:"webkitmouseforcewillbegin",fn:function(u){if(!u.defaultPrevented){var h=e.findClosestDraggableId(u);if(h){var p=e.findOptionsForDraggable(h);p&&(p.shouldRespectForcePress||e.canGetLock(h)&&u.preventDefault())}}}}},[e]),i=bt(function(){var u={passive:!1,capture:!0};n.current=ia(window,[a,s],u)},[a,s]),o=bt(function(){var m=r.current;m.type!=="IDLE"&&(r.current=r5,n.current(),i())},[i]),l=bt(function(){var m=r.current;o(),m.type==="DRAGGING"&&m.actions.cancel({shouldBlockNextClick:!0}),m.type==="PENDING"&&m.actions.abort()},[o]),c=bt(function(){var u={capture:!0,passive:!1},h=DB({cancel:l,completed:o,getPhase:function(){return r.current},setPhase:function(g){r.current=g}});n.current=ia(window,h,u)},[l,o]),d=bt(function(u,h){r.current.type!=="IDLE"&&Ye(!1),r.current={type:"PENDING",point:h,actions:u},c()},[c]);Bs(function(){return i(),function(){n.current()}},[i])}var Lc;function TB(){}var LB=(Lc={},Lc[jB]=!0,Lc[bB]=!0,Lc[NB]=!0,Lc[wB]=!0,Lc);function RB(e,r){function n(){r(),e.cancel()}function s(){r(),e.drop()}return[{eventName:"keydown",fn:function(i){if(i.keyCode===w2){i.preventDefault(),n();return}if(i.keyCode===qA){i.preventDefault(),s();return}if(i.keyCode===EB){i.preventDefault(),e.moveDown();return}if(i.keyCode===CB){i.preventDefault(),e.moveUp();return}if(i.keyCode===AB){i.preventDefault(),e.moveRight();return}if(i.keyCode===SB){i.preventDefault(),e.moveLeft();return}if(LB[i.keyCode]){i.preventDefault();return}HA(i)}},{eventName:"mousedown",fn:n},{eventName:"mouseup",fn:n},{eventName:"click",fn:n},{eventName:"touchstart",fn:n},{eventName:"resize",fn:n},{eventName:"wheel",fn:n,options:{passive:!0}},{eventName:_x,fn:n}]}function FB(e){var r=A.useRef(TB),n=Kt(function(){return{eventName:"keydown",fn:function(i){if(i.defaultPrevented||i.keyCode!==qA)return;var o=e.findClosestDraggableId(i);if(!o)return;var l=e.tryGetLock(o,m,{sourceEvent:i});if(!l)return;i.preventDefault();var c=!0,d=l.snapLift();r.current();function m(){c||Ye(!1),c=!1,r.current(),s()}r.current=ia(window,RB(d,m),{capture:!0,passive:!1})}}},[e]),s=bt(function(){var i={passive:!1,capture:!0};r.current=ia(window,[n],i)},[n]);Bs(function(){return s(),function(){r.current()}},[s])}var Pv={type:"IDLE"},_B=120,OB=.15;function MB(e){var r=e.cancel,n=e.getPhase;return[{eventName:"orientationchange",fn:r},{eventName:"resize",fn:r},{eventName:"contextmenu",fn:function(a){a.preventDefault()}},{eventName:"keydown",fn:function(a){if(n().type!=="DRAGGING"){r();return}a.keyCode===w2&&a.preventDefault(),r()}},{eventName:_x,fn:r}]}function BB(e){var r=e.cancel,n=e.completed,s=e.getPhase;return[{eventName:"touchmove",options:{capture:!1},fn:function(i){var o=s();if(o.type!=="DRAGGING"){r();return}o.hasMoved=!0;var l=i.touches[0],c=l.clientX,d=l.clientY,m={x:c,y:d};i.preventDefault(),o.actions.move(m)}},{eventName:"touchend",fn:function(i){var o=s();if(o.type!=="DRAGGING"){r();return}i.preventDefault(),o.actions.drop({shouldBlockNextClick:!0}),n()}},{eventName:"touchcancel",fn:function(i){if(s().type!=="DRAGGING"){r();return}i.preventDefault(),r()}},{eventName:"touchforcechange",fn:function(i){var o=s();o.type==="IDLE"&&Ye(!1);var l=i.touches[0];if(l){var c=l.force>=OB;if(c){var d=o.actions.shouldRespectForcePress();if(o.type==="PENDING"){d&&r();return}if(d){if(o.hasMoved){i.preventDefault();return}r();return}i.preventDefault()}}}},{eventName:_x,fn:r}]}function zB(e){var r=A.useRef(Pv),n=A.useRef(Oo),s=bt(function(){return r.current},[]),a=bt(function(p){r.current=p},[]),i=Kt(function(){return{eventName:"touchstart",fn:function(p){if(!p.defaultPrevented){var g=e.findClosestDraggableId(p);if(g){var b=e.tryGetLock(g,l,{sourceEvent:p});if(b){var j=p.touches[0],x=j.clientX,v=j.clientY,y={x,y:v};n.current(),u(b,y)}}}}}},[e]),o=bt(function(){var p={capture:!0,passive:!1};n.current=ia(window,[i],p)},[i]),l=bt(function(){var h=r.current;h.type!=="IDLE"&&(h.type==="PENDING"&&clearTimeout(h.longPressTimerId),a(Pv),n.current(),o())},[o,a]),c=bt(function(){var h=r.current;l(),h.type==="DRAGGING"&&h.actions.cancel({shouldBlockNextClick:!0}),h.type==="PENDING"&&h.actions.abort()},[l]),d=bt(function(){var p={capture:!0,passive:!1},g={cancel:c,completed:l,getPhase:s},b=ia(window,BB(g),p),j=ia(window,MB(g),p);n.current=function(){b(),j()}},[c,s,l]),m=bt(function(){var p=s();p.type!=="PENDING"&&Ye(!1);var g=p.actions.fluidLift(p.point);a({type:"DRAGGING",actions:g,hasMoved:!1})},[s,a]),u=bt(function(p,g){s().type!=="IDLE"&&Ye(!1);var b=setTimeout(m,_B);a({type:"PENDING",point:g,actions:p,longPressTimerId:b}),d()},[d,s,a,m]);Bs(function(){return o(),function(){n.current();var g=s();g.type==="PENDING"&&(clearTimeout(g.longPressTimerId),a(Pv))}},[s,o,a]),Bs(function(){var p=ia(window,[{eventName:"touchmove",fn:function(){},options:{capture:!1,passive:!1}}]);return p},[])}var $B={input:!0,button:!0,textarea:!0,select:!0,option:!0,optgroup:!0,video:!0,audio:!0};function QA(e,r){if(r==null)return!1;var n=!!$B[r.tagName.toLowerCase()];if(n)return!0;var s=r.getAttribute("contenteditable");return s==="true"||s===""?!0:r===e?!1:QA(e,r.parentElement)}function UB(e,r){var n=r.target;return Rx(n)?QA(e,n):!1}var VB=function(e){return Ra(e.getBoundingClientRect()).center};function WB(e){return e instanceof VA(e).Element}var qB=function(){var e="matches";if(typeof document>"u")return e;var r=[e,"msMatchesSelector","webkitMatchesSelector"],n=nl(r,function(s){return s in Element.prototype});return n||e}();function YA(e,r){return e==null?null:e[qB](r)?e:YA(e.parentElement,r)}function HB(e,r){return e.closest?e.closest(r):YA(e,r)}function GB(e){return"["+bd.contextId+'="'+e+'"]'}function QB(e,r){var n=r.target;if(!WB(n))return null;var s=GB(e),a=HB(n,s);return!a||!Rx(a)?null:a}function YB(e,r){var n=QB(e,r);return n?n.getAttribute(bd.draggableId):null}function KB(e,r){var n="["+c1.contextId+'="'+e+'"]',s=uA(document.querySelectorAll(n)),a=nl(s,function(i){return i.getAttribute(c1.id)===r});return!a||!Rx(a)?null:a}function JB(e){e.preventDefault()}function xh(e){var r=e.expected,n=e.phase,s=e.isLockActive;return e.shouldWarn,!(!s()||r!==n)}function KA(e){var r=e.lockAPI,n=e.store,s=e.registry,a=e.draggableId;if(r.isClaimed())return!1;var i=s.draggable.findById(a);return!(!i||!i.options.isEnabled||!BA(n.getState(),a))}function XB(e){var r=e.lockAPI,n=e.contextId,s=e.store,a=e.registry,i=e.draggableId,o=e.forceSensorStop,l=e.sourceEvent,c=KA({lockAPI:r,store:s,registry:a,draggableId:i});if(!c)return null;var d=a.draggable.getById(i),m=KB(n,d.descriptor.id);if(!m||l&&!d.options.canDragInteractiveElements&&UB(m,l))return null;var u=r.claim(o||Oo),h="PRE_DRAG";function p(){return d.options.shouldRespectForcePress}function g(){return r.isActive(u)}function b(M,P){xh({expected:M,phase:h,isLockActive:g,shouldWarn:!0})&&s.dispatch(P())}var j=b.bind(null,"DRAGGING");function x(M){function P(){r.release(),h="COMPLETED"}h!=="PRE_DRAG"&&(P(),h!=="PRE_DRAG"&&Ye(!1)),s.dispatch(qM(M.liftActionArgs)),h="DRAGGING";function S(I,k){if(k===void 0&&(k={shouldBlockNextClick:!1}),M.cleanup(),k.shouldBlockNextClick){var C=ia(window,[{eventName:"click",fn:JB,options:{once:!0,passive:!1,capture:!0}}]);setTimeout(C)}P(),s.dispatch(TA({reason:I}))}return nt({isActive:function(){return xh({expected:"DRAGGING",phase:h,isLockActive:g,shouldWarn:!1})},shouldRespectForcePress:p,drop:function(k){return S("DROP",k)},cancel:function(k){return S("CANCEL",k)}},M.actions)}function v(M){var P=wm(function(I){j(function(){return kA({client:I})})}),S=x({liftActionArgs:{id:i,clientSelection:M,movementMode:"FLUID"},cleanup:function(){return P.cancel()},actions:{move:P}});return nt({},S,{move:P})}function y(){var M={moveUp:function(){return j(e9)},moveRight:function(){return j(r9)},moveDown:function(){return j(t9)},moveLeft:function(){return j(n9)}};return x({liftActionArgs:{id:i,clientSelection:VB(m),movementMode:"SNAP"},cleanup:Oo,actions:M})}function E(){var M=xh({expected:"PRE_DRAG",phase:h,isLockActive:g,shouldWarn:!0});M&&r.release()}var O={isActive:function(){return xh({expected:"PRE_DRAG",phase:h,isLockActive:g,shouldWarn:!1})},shouldRespectForcePress:p,fluidLift:v,snapLift:y,abort:E};return O}var ZB=[kB,FB,zB];function ez(e){var r=e.contextId,n=e.store,s=e.registry,a=e.customSensors,i=e.enableDefaultSensors,o=[].concat(i?ZB:[],a||[]),l=A.useState(function(){return gB()})[0],c=bt(function(v,y){v.isDragging&&!y.isDragging&&l.tryAbandon()},[l]);Bs(function(){var v=n.getState(),y=n.subscribe(function(){var E=n.getState();c(v,E),v=E});return y},[l,n,c]),Bs(function(){return l.tryAbandon},[l.tryAbandon]);for(var d=bt(function(x){return KA({lockAPI:l,registry:s,store:n,draggableId:x})},[l,s,n]),m=bt(function(x,v,y){return XB({lockAPI:l,registry:s,contextId:r,store:n,draggableId:x,forceSensorStop:v,sourceEvent:y&&y.sourceEvent?y.sourceEvent:null})},[r,l,s,n]),u=bt(function(x){return YB(r,x)},[r]),h=bt(function(x){var v=s.draggable.findById(x);return v?v.options:null},[s.draggable]),p=bt(function(){l.isClaimed()&&(l.tryAbandon(),n.getState().phase!=="IDLE"&&n.dispatch(m2()))},[l,n]),g=bt(l.isClaimed,[l]),b=Kt(function(){return{canGetLock:d,tryGetLock:m,findClosestDraggableId:u,findOptionsForDraggable:h,tryReleaseLock:p,isLockClaimed:g}},[d,m,u,h,p,g]),j=0;j<o.length;j++)o[j](b)}var tz=function(r){return{onBeforeCapture:r.onBeforeCapture,onBeforeDragStart:r.onBeforeDragStart,onDragStart:r.onDragStart,onDragEnd:r.onDragEnd,onDragUpdate:r.onDragUpdate}};function Su(e){return e.current||Ye(!1),e.current}function rz(e){var r=e.contextId,n=e.setCallbacks,s=e.sensors,a=e.nonce,i=e.dragHandleUsageInstructions,o=A.useRef(null),l=WA(e),c=bt(function(){return tz(l.current)},[l]),d=mB(r),m=xB({contextId:r,text:i}),u=aB(r,a),h=bt(function(I){Su(o).dispatch(I)},[]),p=Kt(function(){return Cw({publishWhileDragging:GM,updateDroppableScroll:YM,updateDroppableIsEnabled:KM,updateDroppableIsCombineEnabled:JM,collectionStarting:QM},h)},[h]),g=cB(),b=Kt(function(){return O9(g,p)},[g,p]),j=Kt(function(){return eB(nt({scrollWindow:M9,scrollDroppable:b.scrollDroppable},Cw({move:kA},h)))},[b.scrollDroppable,h]),x=oB(r),v=Kt(function(){return L9({announce:d,autoScroller:j,dimensionMarshal:b,focusMarshal:x,getResponders:c,styleMarshal:u})},[d,j,b,x,c,u]);o.current=v;var y=bt(function(){var I=Su(o),k=I.getState();k.phase!=="IDLE"&&I.dispatch(m2())},[]),E=bt(function(){var I=Su(o).getState();return I.isDragging||I.phase==="DROP_ANIMATING"},[]),O=Kt(function(){return{isDragging:E,tryAbort:y}},[E,y]);n(O);var M=bt(function(I){return BA(Su(o).getState(),I)},[]),P=bt(function(){return yl(Su(o).getState())},[]),S=Kt(function(){return{marshal:b,focus:x,contextId:r,canLift:M,isMovementAllowed:P,dragHandleUsageInstructionsId:m,registry:g}},[r,b,m,x,M,P,g]);return ez({contextId:r,store:v,registry:g,customSensors:s,enableDefaultSensors:e.enableDefaultSensors!==!1}),A.useEffect(function(){return y},[y]),Dt.createElement(Fx.Provider,{value:S},Dt.createElement(N_,{context:b2,store:v},e.children))}var nz=0;function sz(){return Kt(function(){return""+nz++},[])}function az(e){var r=sz(),n=e.dragHandleUsageInstructions||Uh.dragHandleUsageInstructions;return Dt.createElement(FO,null,function(s){return Dt.createElement(rz,{nonce:e.nonce,contextId:r,setCallbacks:s,dragHandleUsageInstructions:n,enableDefaultSensors:e.enableDefaultSensors,sensors:e.sensors,onBeforeCapture:e.onBeforeCapture,onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragUpdate:e.onDragUpdate,onDragEnd:e.onDragEnd},e.children)})}var JA=function(r){return function(n){return r===n}},iz=JA("scroll"),oz=JA("auto"),n5=function(r,n){return n(r.overflowX)||n(r.overflowY)},lz=function(r){var n=window.getComputedStyle(r),s={overflowX:n.overflowX,overflowY:n.overflowY};return n5(s,iz)||n5(s,oz)},cz=function(){return!1},dz=function e(r){return r==null?null:r===document.body?cz()?r:null:r===document.documentElement?null:lz(r)?r:e(r.parentElement)},d1=function(e){return{x:e.scrollLeft,y:e.scrollTop}},uz=function e(r){if(!r)return!1;var n=window.getComputedStyle(r);return n.position==="fixed"?!0:e(r.parentElement)},mz=function(e){var r=dz(e),n=uz(e);return{closestScrollable:r,isFixedOnPage:n}},pz=function(e){var r=e.descriptor,n=e.isEnabled,s=e.isCombineEnabled,a=e.isFixedOnPage,i=e.direction,o=e.client,l=e.page,c=e.closest,d=function(){if(!c)return null;var p=c.scrollSize,g=c.client,b=_A({scrollHeight:p.scrollHeight,scrollWidth:p.scrollWidth,height:g.paddingBox.height,width:g.paddingBox.width});return{pageMarginBox:c.page.marginBox,frameClient:g,scrollSize:p,shouldClipSubject:c.shouldClipSubject,scroll:{initial:c.scroll,current:c.scroll,max:b,diff:{value:wn,displacement:wn}}}}(),m=i==="vertical"?o2:xA,u=vd({page:l,withPlaceholder:null,axis:m,frame:d}),h={descriptor:r,isCombineEnabled:s,isFixedOnPage:a,axis:m,isEnabled:n,client:o,page:l,frame:d,subject:u};return h},hz=function(r,n){var s=iA(r);if(!n||r!==n)return s;var a=s.paddingBox.top-n.scrollTop,i=s.paddingBox.left-n.scrollLeft,o=a+n.scrollHeight,l=i+n.scrollWidth,c={top:a,right:l,bottom:o,left:i},d=r2(c,s.border),m=n2({borderBox:d,margin:s.margin,border:s.border,padding:s.padding});return m},fz=function(e){var r=e.ref,n=e.descriptor,s=e.env,a=e.windowScroll,i=e.direction,o=e.isDropDisabled,l=e.isCombineEnabled,c=e.shouldClipSubject,d=s.closestScrollable,m=hz(r,d),u=kf(m,a),h=function(){if(!d)return null;var g=iA(d),b={scrollHeight:d.scrollHeight,scrollWidth:d.scrollWidth};return{client:g,page:kf(g,a),scroll:d1(d),scrollSize:b,shouldClipSubject:c}}(),p=pz({descriptor:n,isEnabled:!o,isCombineEnabled:l,isFixedOnPage:s.isFixedOnPage,direction:i,client:m,page:u,closest:h});return p},xz={passive:!1},gz={passive:!0},s5=function(e){return e.shouldPublishImmediately?xz:gz};function Of(e){var r=A.useContext(e);return r||Ye(!1),r}var gh=function(r){return r&&r.env.closestScrollable||null};function vz(e){var r=A.useRef(null),n=Of(Fx),s=j2("droppable"),a=n.registry,i=n.marshal,o=WA(e),l=Kt(function(){return{id:e.droppableId,type:e.type,mode:e.mode}},[e.droppableId,e.mode,e.type]),c=A.useRef(l),d=Kt(function(){return jn(function(E,O){r.current||Ye(!1);var M={x:E,y:O};i.updateDroppableScroll(l.id,M)})},[l.id,i]),m=bt(function(){var E=r.current;return!E||!E.env.closestScrollable?wn:d1(E.env.closestScrollable)},[]),u=bt(function(){var E=m();d(E.x,E.y)},[m,d]),h=Kt(function(){return wm(u)},[u]),p=bt(function(){var E=r.current,O=gh(E);E&&O||Ye(!1);var M=E.scrollOptions;if(M.shouldPublishImmediately){u();return}h()},[h,u]),g=bt(function(E,O){r.current&&Ye(!1);var M=o.current,P=M.getDroppableRef();P||Ye(!1);var S=mz(P),I={ref:P,descriptor:l,env:S,scrollOptions:O};r.current=I;var k=fz({ref:P,descriptor:l,env:S,windowScroll:E,direction:M.direction,isDropDisabled:M.isDropDisabled,isCombineEnabled:M.isCombineEnabled,shouldClipSubject:!M.ignoreContainerClipping}),C=S.closestScrollable;return C&&(C.setAttribute(Zw.contextId,n.contextId),C.addEventListener("scroll",p,s5(I.scrollOptions))),k},[n.contextId,l,p,o]),b=bt(function(){var E=r.current,O=gh(E);return E&&O||Ye(!1),d1(O)},[]),j=bt(function(){var E=r.current;E||Ye(!1);var O=gh(E);r.current=null,O&&(h.cancel(),O.removeAttribute(Zw.contextId),O.removeEventListener("scroll",p,s5(E.scrollOptions)))},[p,h]),x=bt(function(E){var O=r.current;O||Ye(!1);var M=gh(O);M||Ye(!1),M.scrollTop+=E.y,M.scrollLeft+=E.x},[]),v=Kt(function(){return{getDimensionAndWatchScroll:g,getScrollWhileDragging:b,dragStopped:j,scroll:x}},[j,g,b,x]),y=Kt(function(){return{uniqueId:s,descriptor:l,callbacks:v}},[v,l,s]);Bs(function(){return c.current=y.descriptor,a.droppable.register(y),function(){r.current&&j(),a.droppable.unregister(y)}},[v,l,j,y,i,a.droppable]),Bs(function(){r.current&&i.updateDroppableIsEnabled(c.current.id,!e.isDropDisabled)},[e.isDropDisabled,i]),Bs(function(){r.current&&i.updateDroppableIsCombineEnabled(c.current.id,e.isCombineEnabled)},[e.isCombineEnabled,i])}function Dv(){}var a5={width:0,height:0,margin:$O},yz=function(r){var n=r.isAnimatingOpenOnMount,s=r.placeholder,a=r.animate;return n||a==="close"?a5:{height:s.client.borderBox.height,width:s.client.borderBox.width,margin:s.client.margin}},bz=function(r){var n=r.isAnimatingOpenOnMount,s=r.placeholder,a=r.animate,i=yz({isAnimatingOpenOnMount:n,placeholder:s,animate:a});return{display:s.display,boxSizing:"border-box",width:i.width,height:i.height,marginTop:i.margin.top,marginRight:i.margin.right,marginBottom:i.margin.bottom,marginLeft:i.margin.left,flexShrink:"0",flexGrow:"0",pointerEvents:"none",transition:a!=="none"?Hu.placeholder:null}};function jz(e){var r=A.useRef(null),n=bt(function(){r.current&&(clearTimeout(r.current),r.current=null)},[]),s=e.animate,a=e.onTransitionEnd,i=e.onClose,o=e.contextId,l=A.useState(e.animate==="open"),c=l[0],d=l[1];A.useEffect(function(){return c?s!=="open"?(n(),d(!1),Dv):r.current?Dv:(r.current=setTimeout(function(){r.current=null,d(!1)}),n):Dv},[s,c,n]);var m=bt(function(h){h.propertyName==="height"&&(a(),s==="close"&&i())},[s,i,a]),u=bz({isAnimatingOpenOnMount:c,animate:e.animate,placeholder:e.placeholder});return Dt.createElement(e.placeholder.tagName,{style:u,"data-rbd-placeholder-context-id":o,onTransitionEnd:m,ref:e.innerRef})}var wz=Dt.memo(jz),N2=Dt.createContext(null),Nz=function(e){BC(r,e);function r(){for(var s,a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return s=e.call.apply(e,[this].concat(i))||this,s.state={isVisible:!!s.props.on,data:s.props.on,animate:s.props.shouldAnimate&&s.props.on?"open":"none"},s.onClose=function(){s.state.animate==="close"&&s.setState({isVisible:!1})},s}r.getDerivedStateFromProps=function(a,i){return a.shouldAnimate?a.on?{isVisible:!0,data:a.on,animate:"open"}:i.isVisible?{isVisible:!0,data:i.data,animate:"close"}:{isVisible:!1,animate:"close",data:null}:{isVisible:!!a.on,data:a.on,animate:"none"}};var n=r.prototype;return n.render=function(){if(!this.state.isVisible)return null;var a={onClose:this.onClose,data:this.state.data,animate:this.state.animate};return this.props.children(a)},r}(Dt.PureComponent),i5={dragging:5e3,dropAnimating:4500},Sz=function(r,n){return n?Hu.drop(n.duration):r?Hu.snap:Hu.fluid},Cz=function(r,n){return r?n?Am.opacity.drop:Am.opacity.combining:null},Az=function(r){return r.forceShouldAnimate!=null?r.forceShouldAnimate:r.mode==="SNAP"};function Ez(e){var r=e.dimension,n=r.client,s=e.offset,a=e.combineWith,i=e.dropping,o=!!a,l=Az(e),c=!!i,d=c?o1.drop(s,o):o1.moveTo(s),m={position:"fixed",top:n.marginBox.top,left:n.marginBox.left,boxSizing:"border-box",width:n.borderBox.width,height:n.borderBox.height,transition:Sz(l,i),transform:d,opacity:Cz(o,c),zIndex:c?i5.dropAnimating:i5.dragging,pointerEvents:"none"};return m}function Iz(e){return{transform:o1.moveTo(e.offset),transition:e.shouldAnimateDisplacement?null:"none"}}function Pz(e){return e.type==="DRAGGING"?Ez(e):Iz(e)}function Dz(e,r,n){n===void 0&&(n=wn);var s=window.getComputedStyle(r),a=r.getBoundingClientRect(),i=aA(a,s),o=kf(i,n),l={client:i,tagName:r.tagName.toLowerCase(),display:s.display},c={x:i.marginBox.width,y:i.marginBox.height},d={descriptor:e,placeholder:l,displaceBy:c,client:i,page:o};return d}function kz(e){var r=j2("draggable"),n=e.descriptor,s=e.registry,a=e.getDraggableRef,i=e.canDragInteractiveElements,o=e.shouldRespectForcePress,l=e.isEnabled,c=Kt(function(){return{canDragInteractiveElements:i,shouldRespectForcePress:o,isEnabled:l}},[i,l,o]),d=bt(function(p){var g=a();return g||Ye(!1),Dz(n,g,p)},[n,a]),m=Kt(function(){return{uniqueId:r,descriptor:n,options:c,getDimension:d}},[n,d,c,r]),u=A.useRef(m),h=A.useRef(!0);Bs(function(){return s.draggable.register(u.current),function(){return s.draggable.unregister(u.current)}},[s.draggable]),Bs(function(){if(h.current){h.current=!1;return}var p=u.current;u.current=m,s.draggable.update(m,p)},[m,s.draggable])}function Tz(e){e.preventDefault()}function Lz(e){var r=A.useRef(null),n=bt(function(I){r.current=I},[]),s=bt(function(){return r.current},[]),a=Of(Fx),i=a.contextId,o=a.dragHandleUsageInstructionsId,l=a.registry,c=Of(N2),d=c.type,m=c.droppableId,u=Kt(function(){return{id:e.draggableId,index:e.index,type:d,droppableId:m}},[e.draggableId,e.index,d,m]),h=e.children,p=e.draggableId,g=e.isEnabled,b=e.shouldRespectForcePress,j=e.canDragInteractiveElements,x=e.isClone,v=e.mapped,y=e.dropAnimationFinished;if(!x){var E=Kt(function(){return{descriptor:u,registry:l,getDraggableRef:s,canDragInteractiveElements:j,shouldRespectForcePress:b,isEnabled:g}},[u,l,s,j,b,g]);kz(E)}var O=Kt(function(){return g?{tabIndex:0,role:"button","aria-describedby":o,"data-rbd-drag-handle-draggable-id":p,"data-rbd-drag-handle-context-id":i,draggable:!1,onDragStart:Tz}:null},[i,o,p,g]),M=bt(function(I){v.type==="DRAGGING"&&v.dropping&&I.propertyName==="transform"&&y()},[y,v]),P=Kt(function(){var I=Pz(v),k=v.type==="DRAGGING"&&v.dropping?M:null,C={innerRef:n,draggableProps:{"data-rbd-draggable-context-id":i,"data-rbd-draggable-id":p,style:I,onTransitionEnd:k},dragHandleProps:O};return C},[i,O,p,v,M,n]),S=Kt(function(){return{draggableId:u.id,type:u.type,source:{index:u.index,droppableId:u.droppableId}}},[u.droppableId,u.id,u.index,u.type]);return h(P,v.snapshot,S)}var XA=function(e,r){return e===r},ZA=function(e){var r=e.combine,n=e.destination;return n?n.droppableId:r?r.droppableId:null},Rz=function(r){return r.combine?r.combine.draggableId:null},Fz=function(r){return r.at&&r.at.type==="COMBINE"?r.at.combine.draggableId:null};function _z(){var e=jn(function(a,i){return{x:a,y:i}}),r=jn(function(a,i,o,l,c){return{isDragging:!0,isClone:i,isDropAnimating:!!c,dropAnimation:c,mode:a,draggingOver:o,combineWith:l,combineTargetFor:null}}),n=jn(function(a,i,o,l,c,d,m){return{mapped:{type:"DRAGGING",dropping:null,draggingOver:c,combineWith:d,mode:i,offset:a,dimension:o,forceShouldAnimate:m,snapshot:r(i,l,c,d,null)}}}),s=function(i,o){if(i.isDragging){if(i.critical.draggable.id!==o.draggableId)return null;var l=i.current.client.offset,c=i.dimensions.draggables[o.draggableId],d=Ms(i.impact),m=Fz(i.impact),u=i.forceShouldAnimate;return n(e(l.x,l.y),i.movementMode,c,o.isClone,d,m,u)}if(i.phase==="DROP_ANIMATING"){var h=i.completed;if(h.result.draggableId!==o.draggableId)return null;var p=o.isClone,g=i.dimensions.draggables[o.draggableId],b=h.result,j=b.mode,x=ZA(b),v=Rz(b),y=i.dropDuration,E={duration:y,curve:h2.drop,moveTo:i.newHomeClientOffset,opacity:v?Am.opacity.drop:null,scale:v?Am.scale.drop:null};return{mapped:{type:"DRAGGING",offset:i.newHomeClientOffset,dimension:g,dropping:E,draggingOver:x,combineWith:v,mode:j,forceShouldAnimate:null,snapshot:r(j,p,x,v,E)}}}return null};return s}function eE(e){return{isDragging:!1,isDropAnimating:!1,isClone:!1,dropAnimation:null,mode:null,draggingOver:null,combineTargetFor:e,combineWith:null}}var Oz={mapped:{type:"SECONDARY",offset:wn,combineTargetFor:null,shouldAnimateDisplacement:!0,snapshot:eE(null)}};function Mz(){var e=jn(function(o,l){return{x:o,y:l}}),r=jn(eE),n=jn(function(o,l,c){return l===void 0&&(l=null),{mapped:{type:"SECONDARY",offset:o,combineTargetFor:l,shouldAnimateDisplacement:c,snapshot:r(l)}}}),s=function(l){return l?n(wn,l,!0):null},a=function(l,c,d,m){var u=d.displaced.visible[l],h=!!(m.inVirtualList&&m.effected[l]),p=kx(d),g=p&&p.draggableId===l?c:null;if(!u){if(!h)return s(g);if(d.displaced.invisible[l])return null;var b=Td(m.displacedBy.point),j=e(b.x,b.y);return n(j,g,!0)}if(h)return s(g);var x=d.displacedBy.point,v=e(x.x,x.y);return n(v,g,u.shouldAnimate)},i=function(l,c){if(l.isDragging)return l.critical.draggable.id===c.draggableId?null:a(c.draggableId,l.critical.draggable.id,l.impact,l.afterCritical);if(l.phase==="DROP_ANIMATING"){var d=l.completed;return d.result.draggableId===c.draggableId?null:a(c.draggableId,d.result.draggableId,d.impact,d.afterCritical)}return null};return i}var Bz=function(){var r=_z(),n=Mz(),s=function(i,o){return r(i,o)||n(i,o)||Oz};return s},zz={dropAnimationFinished:LA},$z=nA(Bz,zz,null,{context:b2,pure:!0,areStatePropsEqual:XA})(Lz);function tE(e){var r=Of(N2),n=r.isUsingCloneFor;return n===e.draggableId&&!e.isClone?null:Dt.createElement($z,e)}function Uz(e){var r=typeof e.isDragDisabled=="boolean"?!e.isDragDisabled:!0,n=!!e.disableInteractiveElementBlocking,s=!!e.shouldRespectForcePress;return Dt.createElement(tE,nt({},e,{isClone:!1,isEnabled:r,canDragInteractiveElements:n,shouldRespectForcePress:s}))}function Vz(e){var r=A.useContext(Fx);r||Ye(!1);var n=r.contextId,s=r.isMovementAllowed,a=A.useRef(null),i=A.useRef(null),o=e.children,l=e.droppableId,c=e.type,d=e.mode,m=e.direction,u=e.ignoreContainerClipping,h=e.isDropDisabled,p=e.isCombineEnabled,g=e.snapshot,b=e.useClone,j=e.updateViewportMaxScroll,x=e.getContainerForClone,v=bt(function(){return a.current},[]),y=bt(function(C){a.current=C},[]);bt(function(){return i.current},[]);var E=bt(function(C){i.current=C},[]),O=bt(function(){s()&&j({maxScroll:MA()})},[s,j]);vz({droppableId:l,type:c,mode:d,direction:m,isDropDisabled:h,isCombineEnabled:p,ignoreContainerClipping:u,getDroppableRef:v});var M=Dt.createElement(Nz,{on:e.placeholder,shouldAnimate:e.shouldAnimatePlaceholder},function(C){var w=C.onClose,L=C.data,T=C.animate;return Dt.createElement(wz,{placeholder:L,onClose:w,innerRef:E,animate:T,contextId:n,onTransitionEnd:O})}),P=Kt(function(){return{innerRef:y,placeholder:M,droppableProps:{"data-rbd-droppable-id":l,"data-rbd-droppable-context-id":n}}},[n,l,M,y]),S=b?b.dragging.draggableId:null,I=Kt(function(){return{droppableId:l,type:c,isUsingCloneFor:S}},[l,S,c]);function k(){if(!b)return null;var C=b.dragging,w=b.render,L=Dt.createElement(tE,{draggableId:C.draggableId,index:C.source.index,isClone:!0,isEnabled:!0,shouldRespectForcePress:!1,canDragInteractiveElements:!0},function(T,W){return w(T,W,C)});return gy.createPortal(L,x())}return Dt.createElement(N2.Provider,{value:I},o(P,g),k())}var kv=function(r,n){return r===n.droppable.type},o5=function(r,n){return n.draggables[r.draggable.id]},Wz=function(){var r={placeholder:null,shouldAnimatePlaceholder:!0,snapshot:{isDraggingOver:!1,draggingOverWith:null,draggingFromThisWith:null,isUsingPlaceholder:!1},useClone:null},n=nt({},r,{shouldAnimatePlaceholder:!1}),s=jn(function(o){return{draggableId:o.id,type:o.type,source:{index:o.index,droppableId:o.droppableId}}}),a=jn(function(o,l,c,d,m,u){var h=m.descriptor.id,p=m.descriptor.droppableId===o;if(p){var g=u?{render:u,dragging:s(m.descriptor)}:null,b={isDraggingOver:c,draggingOverWith:c?h:null,draggingFromThisWith:h,isUsingPlaceholder:!0};return{placeholder:m.placeholder,shouldAnimatePlaceholder:!1,snapshot:b,useClone:g}}if(!l)return n;if(!d)return r;var j={isDraggingOver:c,draggingOverWith:h,draggingFromThisWith:null,isUsingPlaceholder:!0};return{placeholder:m.placeholder,shouldAnimatePlaceholder:!0,snapshot:j,useClone:null}}),i=function(l,c){var d=c.droppableId,m=c.type,u=!c.isDropDisabled,h=c.renderClone;if(l.isDragging){var p=l.critical;if(!kv(m,p))return n;var g=o5(p,l.dimensions),b=Ms(l.impact)===d;return a(d,u,b,b,g,h)}if(l.phase==="DROP_ANIMATING"){var j=l.completed;if(!kv(m,j.critical))return n;var x=o5(j.critical,l.dimensions);return a(d,u,ZA(j.result)===d,Ms(j.impact)===d,x,h)}if(l.phase==="IDLE"&&l.completed&&!l.shouldFlush){var v=l.completed;if(!kv(m,v.critical))return n;var y=Ms(v.impact)===d,E=!!(v.impact.at&&v.impact.at.type==="COMBINE"),O=v.critical.droppable.id===d;return y?E?r:n:O?r:n}return n};return i},qz={updateViewportMaxScroll:ZM};function Hz(){return document.body||Ye(!1),document.body}var Gz={mode:"standard",type:"DEFAULT",direction:"vertical",isDropDisabled:!1,isCombineEnabled:!1,ignoreContainerClipping:!1,renderClone:null,getContainerForClone:Hz},rE=nA(Wz,qz,null,{context:b2,pure:!0,areStatePropsEqual:XA})(Vz);rE.defaultProps=Gz;const l5=[{stage:pt.PROSPECTING,name:"Prospecting",color:"bg-blue-500"},{stage:pt.QUALIFICATION,name:"Qualification",color:"bg-yellow-500"},{stage:pt.NEEDS_ANALYSIS,name:"Needs Analysis",color:"bg-orange-500"},{stage:pt.PROPOSAL,name:"Proposal",color:"bg-purple-500"},{stage:pt.NEGOTIATION,name:"Negotiation",color:"bg-indigo-500"},{stage:pt.CLOSED_WON,name:"Closed Won",color:"bg-green-500"},{stage:pt.CLOSED_LOST,name:"Closed Lost",color:"bg-red-500"}];function Qz({deals:e,onDealStageChange:r,onDealClick:n}){const[s,a]=A.useState(null),i=p=>{switch(p){case or.ACTIVE:return"bg-blue-50 text-blue-700 border-blue-200";case or.WON:return"bg-green-50 text-green-700 border-green-200";case or.LOST:return"bg-red-50 text-red-700 border-red-200";case or.ON_HOLD:return"bg-yellow-50 text-yellow-700 border-yellow-200";case or.CANCELLED:return"bg-gray-50 text-gray-700 border-gray-200";default:return"bg-gray-50 text-gray-700 border-gray-200"}},o=p=>{switch(p){case"critical":return"bg-red-50 text-red-700 border-red-200";case"high":return"bg-orange-50 text-orange-700 border-orange-200";case"medium":return"bg-yellow-50 text-yellow-700 border-yellow-200";case"low":return"bg-green-50 text-green-700 border-green-200";default:return"bg-gray-50 text-gray-700 border-gray-200"}},l=p=>new Date(p.expectedCloseDate)<new Date&&p.status===or.ACTIVE,c=p=>{if(a(null),!p.destination||p.source.droppableId===p.destination.droppableId)return;const g=p.draggableId,b=p.destination.droppableId;r(g,b)},d=p=>{a(p.draggableId)},m=p=>e.filter(g=>g.stage===p),u=p=>m(p).reduce((g,b)=>g+b.value,0),h=p=>m(p).reduce((g,b)=>g+b.value*b.probability/100,0);return t.jsxs("div",{className:"space-y-6 pb-10",children:[t.jsx("div",{className:"grid gap-4 md:grid-cols-7",children:l5.map(p=>{const g=m(p.stage),b=u(p.stage),j=h(p.stage);return t.jsxs(ue,{className:"shadow-sm",children:[t.jsxs(be,{className:"pb-3",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("div",{className:ze("w-3 h-3 rounded-full",p.color)}),t.jsx("span",{className:"text-xs text-muted-foreground",children:g.length})]}),t.jsx(je,{className:"text-sm font-medium",children:p.name})]}),t.jsx(me,{className:"pt-0",children:t.jsxs("div",{className:"space-y-1",children:[t.jsx("div",{className:"text-lg font-bold",children:Ie(b)}),t.jsxs("div",{className:"text-xs text-muted-foreground",children:["Weighted: ",Ie(j)]})]})})]},p.stage)})}),t.jsx(az,{onDragEnd:c,onDragStart:d,children:t.jsx("div",{className:"grid gap-4 grid-cols-1 md:grid-cols-7 min-h-[600px]",children:l5.map(p=>t.jsx(rE,{droppableId:p.stage,children:(g,b)=>t.jsxs("div",{ref:g.innerRef,...g.droppableProps,className:ze("space-y-3 p-3 rounded-lg border-2 border-dashed transition-colors min-h-[200px]",b.isDraggingOver?"border-primary bg-primary/5":"border-muted"),children:[t.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[t.jsx("div",{className:ze("w-3 h-3 rounded-full",p.color)}),t.jsx("h3",{className:"font-semibold text-sm",children:p.name})]}),m(p.stage).map((j,x)=>t.jsx(Uz,{draggableId:j.id,index:x,children:(v,y)=>t.jsx(ue,{ref:v.innerRef,...v.draggableProps,...v.dragHandleProps,className:ze("cursor-pointer transition-all hover:shadow-md",y.isDragging&&"rotate-3 shadow-lg",s===j.id&&"opacity-50"),onClick:()=>n(j),children:t.jsx(me,{className:"p-4",children:t.jsxs("div",{className:"space-y-2",children:[t.jsxs("div",{children:[t.jsx("h4",{className:"font-semibold text-sm line-clamp-2",children:j.name}),t.jsx("p",{className:"text-xs text-muted-foreground truncate",children:j.customerName})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"font-bold text-primary",children:Ie(j.value)}),t.jsx(Re,{className:ze("ri-badge-status text-xs",o(j.priority)),children:j.priority.toUpperCase()})]}),t.jsxs("div",{className:"flex items-center justify-between text-xs text-muted-foreground",children:[t.jsxs("div",{className:"flex items-center space-x-1",children:[t.jsx(vt,{className:"h-3 w-3"}),t.jsxs("span",{children:[j.probability,"%"]})]}),t.jsxs("div",{className:"flex items-center space-x-1",children:[t.jsx(zr,{className:"h-3 w-3 flex-shrink-0"}),t.jsx("span",{className:"truncate",children:new Date(j.expectedCloseDate).toLocaleDateString()})]})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx(Re,{className:ze("ri-badge-status text-xs",i(j.status)),children:j.status.toUpperCase()}),l(j)&&t.jsxs("div",{className:"flex items-center space-x-1 text-red-500",children:[t.jsx($u,{className:"h-3 w-3 flex-shrink-0"}),t.jsx("span",{className:"text-xs",children:"Overdue"})]})]})]})})},j.id)},j.id)),g.placeholder]})},p.stage))})})]})}function Yz({metrics:e}){const r=n=>n>=80?"text-green-600":n>=60?"text-yellow-600":"text-red-600";return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"grid gap-4 md:grid-cols-4",children:[t.jsxs(ue,{className:"shadow-sm border-0 bg-gradient-to-br from-blue-50 to-blue-100/50",children:[t.jsxs(be,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[t.jsx(je,{className:"text-sm font-medium text-blue-900",children:"Total Pipeline"}),t.jsx(Bt,{className:"h-4 w-4 text-blue-600"})]}),t.jsxs(me,{children:[t.jsx("div",{className:"text-2xl font-bold text-blue-900",children:Ie(e.totalValue)}),t.jsxs("p",{className:"text-xs text-blue-600 flex items-center mt-1",children:[t.jsx(ka,{className:"h-3 w-3 mr-1"}),e.totalDeals," active deals"]})]})]}),t.jsxs(ue,{className:"shadow-sm border-0 bg-gradient-to-br from-green-50 to-green-100/50",children:[t.jsxs(be,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[t.jsx(je,{className:"text-sm font-medium text-green-900",children:"Won Deals"}),t.jsx(vt,{className:"h-4 w-4 text-green-600"})]}),t.jsxs(me,{children:[t.jsx("div",{className:"text-2xl font-bold text-green-900",children:Ie(e.wonValue)}),t.jsxs("p",{className:"text-xs text-green-600 flex items-center mt-1",children:[t.jsx(ys,{className:"h-3 w-3 mr-1"}),e.wonDeals," deals closed"]})]})]}),t.jsxs(ue,{className:"shadow-sm border-0 bg-gradient-to-br from-purple-50 to-purple-100/50",children:[t.jsxs(be,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[t.jsx(je,{className:"text-sm font-medium text-purple-900",children:"Win Rate"}),t.jsx(ys,{className:"h-4 w-4 text-purple-600"})]}),t.jsxs(me,{children:[t.jsxs("div",{className:"text-2xl font-bold text-purple-900",children:[e.winRate.toFixed(1),"%"]}),t.jsxs("p",{className:"text-xs text-purple-600 flex items-center mt-1",children:[t.jsx(vt,{className:"h-3 w-3 mr-1"}),"Industry average: 27%"]})]})]}),t.jsxs(ue,{className:"shadow-sm border-0 bg-gradient-to-br from-orange-50 to-orange-100/50",children:[t.jsxs(be,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[t.jsx(je,{className:"text-sm font-medium text-orange-900",children:"Avg Deal Size"}),t.jsx(Bt,{className:"h-4 w-4 text-orange-600"})]}),t.jsxs(me,{children:[t.jsx("div",{className:"text-2xl font-bold text-orange-900",children:Ie(e.averageDealSize)}),t.jsxs("p",{className:"text-xs text-orange-600 flex items-center mt-1",children:[t.jsx(cr,{className:"h-3 w-3 mr-1"}),e.averageSalesCycle.toFixed(0)," day cycle"]})]})]})]}),t.jsxs(ue,{className:"shadow-sm",children:[t.jsxs(be,{children:[t.jsx(je,{children:"Stage Conversion Rates"}),t.jsx(Ge,{children:"Conversion rates and average time spent in each stage"})]}),t.jsx(me,{children:t.jsx("div",{className:"space-y-6",children:e.conversionRates.map((n,s)=>t.jsxs("div",{className:"space-y-2",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsxs("span",{className:"text-sm font-medium capitalize",children:[n.fromStage.replace("_"," "),"  ",n.toStage.replace("_"," ")]}),t.jsxs("span",{className:`text-sm font-bold ${r(n.rate)}`,children:[n.rate.toFixed(1),"%"]})]}),t.jsxs("div",{className:"flex items-center space-x-2 text-xs text-muted-foreground",children:[t.jsx(cr,{className:"h-3 w-3"}),t.jsxs("span",{children:[n.averageDuration,"h avg"]})]})]}),t.jsx(Ll,{value:n.rate,className:"h-2"})]},`${n.fromStage}-${n.toStage}`))})})]}),t.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[t.jsxs(ue,{className:"shadow-sm",children:[t.jsxs(be,{children:[t.jsx(je,{children:"Pipeline Health"}),t.jsx(Ge,{children:"Key performance indicators"})]}),t.jsx(me,{children:t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"flex items-center justify-between p-3 bg-green-50 rounded-lg",children:[t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(vt,{className:"h-4 w-4 text-green-600"}),t.jsx("span",{className:"text-sm font-medium text-green-900",children:"Win Rate"})]}),t.jsxs("span",{className:"text-lg font-bold text-green-600",children:[e.winRate.toFixed(1),"%"]})]}),t.jsxs("div",{className:"flex items-center justify-between p-3 bg-blue-50 rounded-lg",children:[t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(Bt,{className:"h-4 w-4 text-blue-600"}),t.jsx("span",{className:"text-sm font-medium text-blue-900",children:"Average Deal Size"})]}),t.jsx("span",{className:"text-lg font-bold text-blue-600",children:Ie(e.averageDealSize)})]}),t.jsxs("div",{className:"flex items-center justify-between p-3 bg-purple-50 rounded-lg",children:[t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(cr,{className:"h-4 w-4 text-purple-600"}),t.jsx("span",{className:"text-sm font-medium text-purple-900",children:"Sales Cycle"})]}),t.jsxs("span",{className:"text-lg font-bold text-purple-600",children:[e.averageSalesCycle.toFixed(0)," days"]})]})]})})]}),t.jsxs(ue,{className:"shadow-sm",children:[t.jsxs(be,{children:[t.jsx(je,{children:"Deal Breakdown"}),t.jsx(Ge,{children:"Current pipeline composition"})]}),t.jsx(me,{children:t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-sm text-muted-foreground",children:"Total Deals"}),t.jsx("span",{className:"font-bold",children:e.totalDeals})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-sm text-muted-foreground",children:"Won Deals"}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("span",{className:"font-bold text-green-600",children:e.wonDeals}),t.jsxs("span",{className:"text-xs text-green-600",children:["(",Ie(e.wonValue),")"]})]})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-sm text-muted-foreground",children:"Lost Deals"}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("span",{className:"font-bold text-red-600",children:e.lostDeals}),t.jsxs("span",{className:"text-xs text-red-600",children:["(",Ie(e.lostValue),")"]})]})]}),t.jsx("div",{className:"pt-2 border-t",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-sm font-medium",children:"Active Pipeline"}),t.jsx("span",{className:"font-bold text-primary",children:Ie(e.totalValue-e.wonValue-e.lostValue)})]})})]})})]})]})]})}const Kz=["Best Price","Superior Product Features","Excellent Service","Strong Relationship","Competitive Financing","Quick Delivery","Brand Reputation","Referral/Recommendation"],Jz=["Price Too High","Lost to Competitor","Budget Constraints","Timing Issues","Product Limitations","Service Concerns","Decision Delayed","Requirements Changed"],Xz=["Camping World","Lazydays","General RV","PPL Motor Homes","Local Dealer","Private Seller","Other"];function Zz({deals:e,winLossReports:r,onCreateReport:n}){const[s,a]=A.useState(!1),[i,o]=A.useState(null),[l,c]=A.useState({outcome:"won",primaryReason:"",secondaryReasons:[],competitorWon:"",feedback:"",lessonsLearned:[],actionItems:[]}),d=e.filter(M=>M.status==="won"||M.status==="lost"),m=e.filter(M=>M.status==="won"),u=e.filter(M=>M.status==="lost"),h=d.length>0?m.length/d.length*100:0,p=m.length>0?m.reduce((M,P)=>M+P.value,0)/m.length:0,g=u.length>0?u.reduce((M,P)=>M+P.value,0)/u.length:0,b=M=>{o(M),c({...l,outcome:M.status==="won"?"won":"lost"}),a(!0)},j=()=>{i&&(n(i.id,l.outcome,l),a(!1),o(null),c({outcome:"won",primaryReason:"",secondaryReasons:[],competitorWon:"",feedback:"",lessonsLearned:[],actionItems:[]}))},x=(M,P,S)=>{P.trim()&&!M.includes(P.trim())&&S([...M,P.trim()])},v=(M,P,S)=>{S(M.filter((I,k)=>k!==P))},y=M=>{const P=r.filter(I=>I.outcome===M),S={};return P.forEach(I=>{S[I.primaryReason]=(S[I.primaryReason]||0)+1}),Object.entries(S).sort(([,I],[,k])=>k-I).slice(0,5).map(([I,k])=>({reason:I,count:k,percentage:P.length>0?k/P.length*100:0}))},E=y("won"),O=y("lost");return t.jsxs("div",{className:"space-y-6",children:[s&&i&&t.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:t.jsxs(ue,{className:"w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[t.jsx(be,{children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx(je,{children:"Win/Loss Report"}),t.jsxs(Ge,{children:[i.name," - ",Ie(i.value)]})]}),t.jsx(ne,{variant:"ghost",size:"sm",onClick:()=>a(!1),children:t.jsx(qt,{className:"h-4 w-4"})})]})}),t.jsxs(me,{className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx(ve,{children:"Outcome"}),t.jsxs(tt,{value:l.outcome,onValueChange:M=>c(P=>({...P,outcome:M})),children:[t.jsx(Xe,{children:t.jsx(rt,{})}),t.jsxs(Ze,{children:[t.jsx(se,{value:"won",children:"Won"}),t.jsx(se,{value:"lost",children:"Lost"})]})]})]}),t.jsxs("div",{children:[t.jsx(ve,{children:"Primary Reason"}),t.jsxs(tt,{value:l.primaryReason,onValueChange:M=>c(P=>({...P,primaryReason:M})),children:[t.jsx(Xe,{children:t.jsx(rt,{placeholder:"Select primary reason"})}),t.jsx(Ze,{children:(l.outcome==="won"?Kz:Jz).map(M=>t.jsx(se,{value:M,children:M},M))})]})]}),l.outcome==="lost"&&t.jsxs("div",{children:[t.jsx(ve,{children:"Competitor Won"}),t.jsxs(tt,{value:l.competitorWon,onValueChange:M=>c(P=>({...P,competitorWon:M})),children:[t.jsx(Xe,{children:t.jsx(rt,{placeholder:"Select competitor"})}),t.jsx(Ze,{children:Xz.map(M=>t.jsx(se,{value:M,children:M},M))})]})]}),t.jsxs("div",{children:[t.jsx(ve,{children:"Customer Feedback"}),t.jsx(rr,{value:l.feedback,onChange:M=>c(P=>({...P,feedback:M.target.value})),placeholder:"What did the customer say about their decision?",rows:3})]}),t.jsxs("div",{children:[t.jsx(ve,{children:"Lessons Learned"}),t.jsxs("div",{className:"space-y-2",children:[t.jsxs("div",{className:"flex space-x-2",children:[t.jsx(Te,{placeholder:"Add a lesson learned",onKeyDown:M=>{if(M.key==="Enter"){M.preventDefault();const P=M.currentTarget;x(l.lessonsLearned,P.value,S=>c(I=>({...I,lessonsLearned:S}))),P.value=""}}}),t.jsx(ne,{type:"button",variant:"outline",onClick:M=>{const P=M.currentTarget.previousElementSibling;x(l.lessonsLearned,P.value,S=>c(I=>({...I,lessonsLearned:S}))),P.value=""},children:t.jsx(Et,{className:"h-4 w-4"})})]}),t.jsx("div",{className:"flex flex-wrap gap-2",children:l.lessonsLearned.map((M,P)=>t.jsxs(Re,{variant:"secondary",className:"flex items-center gap-1",children:[M,t.jsx(qt,{className:"h-3 w-3 cursor-pointer",onClick:()=>v(l.lessonsLearned,P,S=>c(I=>({...I,lessonsLearned:S})))})]},P))})]})]}),t.jsxs("div",{children:[t.jsx(ve,{children:"Action Items"}),t.jsxs("div",{className:"space-y-2",children:[t.jsxs("div",{className:"flex space-x-2",children:[t.jsx(Te,{placeholder:"Add an action item",onKeyDown:M=>{if(M.key==="Enter"){M.preventDefault();const P=M.currentTarget;x(l.actionItems,P.value,S=>c(I=>({...I,actionItems:S}))),P.value=""}}}),t.jsx(ne,{type:"button",variant:"outline",onClick:M=>{const P=M.currentTarget.previousElementSibling;x(l.actionItems,P.value,S=>c(I=>({...I,actionItems:S}))),P.value=""},children:t.jsx(Et,{className:"h-4 w-4"})})]}),t.jsx("div",{className:"flex flex-wrap gap-2",children:l.actionItems.map((M,P)=>t.jsxs(Re,{variant:"secondary",className:"flex items-center gap-1",children:[M,t.jsx(qt,{className:"h-3 w-3 cursor-pointer",onClick:()=>v(l.actionItems,P,S=>c(I=>({...I,actionItems:S})))})]},P))})]})]}),t.jsxs("div",{className:"flex justify-end space-x-3 pt-6 border-t",children:[t.jsx(ne,{variant:"outline",onClick:()=>a(!1),children:"Cancel"}),t.jsxs(ne,{onClick:j,children:[t.jsx(js,{className:"h-4 w-4 mr-2"}),"Save Report"]})]})]})]})}),t.jsxs("div",{className:"grid gap-4 md:grid-cols-4",children:[t.jsxs(ue,{className:"shadow-sm border-0 bg-gradient-to-br from-blue-50 to-blue-100/50",children:[t.jsxs(be,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[t.jsx(je,{className:"text-sm font-medium text-blue-900",children:"Win Rate"}),t.jsx(ys,{className:"h-4 w-4 text-blue-600"})]}),t.jsxs(me,{children:[t.jsxs("div",{className:"text-2xl font-bold text-blue-900",children:[h.toFixed(1),"%"]}),t.jsxs("p",{className:"text-xs text-blue-600 flex items-center mt-1",children:[t.jsx(ka,{className:"h-3 w-3 mr-1"}),d.length," closed deals"]})]})]}),t.jsxs(ue,{className:"shadow-sm border-0 bg-gradient-to-br from-green-50 to-green-100/50",children:[t.jsxs(be,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[t.jsx(je,{className:"text-sm font-medium text-green-900",children:"Won Deals"}),t.jsx(vt,{className:"h-4 w-4 text-green-600"})]}),t.jsxs(me,{children:[t.jsx("div",{className:"text-2xl font-bold text-green-900",children:m.length}),t.jsxs("p",{className:"text-xs text-green-600 flex items-center mt-1",children:[t.jsx(vt,{className:"h-3 w-3 mr-1"}),Ie(p)," avg"]})]})]}),t.jsxs(ue,{className:"shadow-sm border-0 bg-gradient-to-br from-red-50 to-red-100/50",children:[t.jsxs(be,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[t.jsx(je,{className:"text-sm font-medium text-red-900",children:"Lost Deals"}),t.jsx(nv,{className:"h-4 w-4 text-red-600"})]}),t.jsxs(me,{children:[t.jsx("div",{className:"text-2xl font-bold text-red-900",children:u.length}),t.jsxs("p",{className:"text-xs text-red-600 flex items-center mt-1",children:[t.jsx(nv,{className:"h-3 w-3 mr-1"}),Ie(g)," avg"]})]})]}),t.jsxs(ue,{className:"shadow-sm border-0 bg-gradient-to-br from-purple-50 to-purple-100/50",children:[t.jsxs(be,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[t.jsx(je,{className:"text-sm font-medium text-purple-900",children:"Reports"}),t.jsx(ka,{className:"h-4 w-4 text-purple-600"})]}),t.jsxs(me,{children:[t.jsx("div",{className:"text-2xl font-bold text-purple-900",children:r.length}),t.jsxs("p",{className:"text-xs text-purple-600 flex items-center mt-1",children:[t.jsx(ka,{className:"h-3 w-3 mr-1"}),"Completed reports"]})]})]})]}),t.jsxs(Zr,{defaultValue:"analysis",className:"space-y-6",children:[t.jsxs($r,{children:[t.jsx(it,{value:"analysis",children:"Analysis"}),t.jsx(it,{value:"closed-deals",children:"Closed Deals"}),t.jsx(it,{value:"reports",children:"Reports"})]}),t.jsxs(ct,{value:"analysis",className:"space-y-6",children:[t.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[t.jsxs(ue,{className:"shadow-sm",children:[t.jsxs(be,{children:[t.jsxs(je,{className:"flex items-center",children:[t.jsx(vt,{className:"h-5 w-5 mr-2 text-green-500"}),"Win Reasons"]}),t.jsx(Ge,{children:"Top reasons for winning deals"})]}),t.jsx(me,{children:t.jsx("div",{className:"space-y-4",children:E.length>0?E.map((M,P)=>t.jsxs("div",{className:"space-y-1",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-sm font-medium",children:M.reason}),t.jsxs("span",{className:"text-sm text-green-600",children:[M.percentage.toFixed(0),"%"]})]}),t.jsx(Ll,{value:M.percentage,className:"h-2"})]},P)):t.jsx("div",{className:"text-center py-6 text-muted-foreground",children:"No win reports available"})})})]}),t.jsxs(ue,{className:"shadow-sm",children:[t.jsxs(be,{children:[t.jsxs(je,{className:"flex items-center",children:[t.jsx(nv,{className:"h-5 w-5 mr-2 text-red-500"}),"Loss Reasons"]}),t.jsx(Ge,{children:"Top reasons for losing deals"})]}),t.jsx(me,{children:t.jsx("div",{className:"space-y-4",children:O.length>0?O.map((M,P)=>t.jsxs("div",{className:"space-y-1",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-sm font-medium",children:M.reason}),t.jsxs("span",{className:"text-sm text-red-600",children:[M.percentage.toFixed(0),"%"]})]}),t.jsx(Ll,{value:M.percentage,className:"h-2"})]},P)):t.jsx("div",{className:"text-center py-6 text-muted-foreground",children:"No loss reports available"})})})]})]}),t.jsxs(ue,{className:"shadow-sm",children:[t.jsxs(be,{children:[t.jsx(je,{children:"Lessons Learned"}),t.jsx(Ge,{children:"Key insights from win/loss reports"})]}),t.jsx(me,{children:r.length>0?t.jsx("div",{className:"space-y-4",children:r.slice(0,5).map((M,P)=>t.jsxs("div",{className:"p-3 rounded-lg bg-muted/30",children:[t.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[M.outcome==="won"?t.jsx(Re,{className:"bg-green-50 text-green-700 border-green-200",children:"WON"}):t.jsx(Re,{className:"bg-red-50 text-red-700 border-red-200",children:"LOST"}),t.jsx("span",{className:"text-sm font-medium",children:M.primaryReason})]}),t.jsx("div",{className:"space-y-2",children:M.lessonsLearned.map((S,I)=>t.jsxs("p",{className:"text-sm text-muted-foreground",children:[" ",S]},I))})]},P))}):t.jsx("div",{className:"text-center py-6 text-muted-foreground",children:"No lessons learned available"})})]})]}),t.jsx(ct,{value:"closed-deals",className:"space-y-6",children:t.jsxs(ue,{className:"shadow-sm",children:[t.jsxs(be,{children:[t.jsx(je,{children:"Recently Closed Deals"}),t.jsx(Ge,{children:"Deals that have been won or lost"})]}),t.jsx(me,{children:t.jsx("div",{className:"space-y-4",children:d.length>0?d.map(M=>t.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg hover:bg-accent/50 transition-colors",children:[t.jsxs("div",{className:"flex-1",children:[t.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[t.jsx("h3",{className:"font-semibold",children:M.name}),t.jsx(Re,{className:M.status==="won"?"bg-green-50 text-green-700 border-green-200":"bg-red-50 text-red-700 border-red-200",children:M.status.toUpperCase()})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm text-muted-foreground",children:[t.jsxs("div",{children:[t.jsx("span",{className:"font-medium",children:"Customer:"})," ",M.customerName]}),t.jsxs("div",{children:[t.jsx("span",{className:"font-medium",children:"Value:"})," ",Ie(M.value)]}),t.jsxs("div",{children:[t.jsx("span",{className:"font-medium",children:"Closed:"})," ",M.actualCloseDate?gt(M.actualCloseDate):"N/A"]}),t.jsxs("div",{children:[t.jsx("span",{className:"font-medium",children:"Rep:"})," ",M.assignedTo]})]})]}),t.jsxs(ne,{variant:"outline",size:"sm",onClick:()=>b(M),className:"shadow-sm",children:[t.jsx(Et,{className:"h-3 w-3 mr-1"}),"Report"]})]},M.id)):t.jsx("div",{className:"text-center py-6 text-muted-foreground",children:"No closed deals available"})})})]})}),t.jsx(ct,{value:"reports",className:"space-y-6",children:t.jsxs(ue,{className:"shadow-sm",children:[t.jsxs(be,{children:[t.jsx(je,{children:"Win/Loss Reports"}),t.jsx(Ge,{children:"Detailed reports on won and lost deals"})]}),t.jsx(me,{children:t.jsx("div",{className:"space-y-4",children:r.length>0?r.map(M=>{const P=e.find(S=>S.id===M.dealId);return t.jsxs("div",{className:"p-4 border rounded-lg hover:bg-accent/50 transition-colors",children:[t.jsxs("div",{className:"flex items-center justify-between mb-3",children:[t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx(Re,{className:M.outcome==="won"?"bg-green-50 text-green-700 border-green-200":"bg-red-50 text-red-700 border-red-200",children:M.outcome.toUpperCase()}),t.jsx("h3",{className:"font-semibold",children:(P==null?void 0:P.name)||"Unknown Deal"})]}),t.jsx("span",{className:"text-sm text-muted-foreground",children:gt(M.reportedAt)})]}),t.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[t.jsxs("div",{children:[t.jsx("h4",{className:"text-sm font-medium mb-2",children:"Reasons"}),t.jsxs("div",{className:"space-y-1",children:[t.jsxs("p",{className:"text-sm",children:[t.jsx("span",{className:"font-medium",children:"Primary:"})," ",M.primaryReason]}),M.secondaryReasons.length>0&&t.jsxs("p",{className:"text-sm",children:[t.jsx("span",{className:"font-medium",children:"Secondary:"})," ",M.secondaryReasons.join(", ")]}),M.competitorWon&&t.jsxs("p",{className:"text-sm",children:[t.jsx("span",{className:"font-medium",children:"Competitor:"})," ",M.competitorWon]})]})]}),t.jsxs("div",{children:[t.jsx("h4",{className:"text-sm font-medium mb-2",children:"Feedback"}),t.jsx("p",{className:"text-sm text-muted-foreground",children:M.feedback})]})]}),t.jsxs("div",{className:"mt-4 pt-4 border-t",children:[t.jsx("h4",{className:"text-sm font-medium mb-2",children:"Lessons & Action Items"}),t.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[t.jsxs("div",{children:[t.jsx("h5",{className:"text-xs font-medium text-muted-foreground mb-1",children:"Lessons Learned:"}),t.jsx("ul",{className:"text-sm space-y-1",children:M.lessonsLearned.map((S,I)=>t.jsxs("li",{children:[" ",S]},I))})]}),t.jsxs("div",{children:[t.jsx("h5",{className:"text-xs font-medium text-muted-foreground mb-1",children:"Action Items:"}),t.jsx("ul",{className:"text-sm space-y-1",children:M.actionItems.map((S,I)=>t.jsxs("li",{children:[" ",S]},I))})]})]})]})]},M.id)}):t.jsx("div",{className:"text-center py-6 text-muted-foreground",children:"No win/loss reports available"})})})]})})]})]})}function e$({deal:e,onClose:r,onEdit:n}){const s=l=>{switch(l){case or.ACTIVE:return"bg-blue-50 text-blue-700 border-blue-200";case or.WON:return"bg-green-50 text-green-700 border-green-200";case or.LOST:return"bg-red-50 text-red-700 border-red-200";case or.ON_HOLD:return"bg-yellow-50 text-yellow-700 border-yellow-200";case or.CANCELLED:return"bg-gray-50 text-gray-700 border-gray-200";default:return"bg-gray-50 text-gray-700 border-gray-200"}},a=l=>{switch(l){case oi.CRITICAL:return"bg-red-50 text-red-700 border-red-200";case oi.HIGH:return"bg-orange-50 text-orange-700 border-orange-200";case oi.MEDIUM:return"bg-yellow-50 text-yellow-700 border-yellow-200";case oi.LOW:return"bg-green-50 text-green-700 border-green-200";default:return"bg-gray-50 text-gray-700 border-gray-200"}},i=l=>{switch(l){case pt.PROSPECTING:return"bg-blue-50 text-blue-700 border-blue-200";case pt.QUALIFICATION:return"bg-yellow-50 text-yellow-700 border-yellow-200";case pt.NEEDS_ANALYSIS:return"bg-orange-50 text-orange-700 border-orange-200";case pt.PROPOSAL:return"bg-purple-50 text-purple-700 border-purple-200";case pt.NEGOTIATION:return"bg-indigo-50 text-indigo-700 border-indigo-200";case pt.CLOSED_WON:return"bg-green-50 text-green-700 border-green-200";case pt.CLOSED_LOST:return"bg-red-50 text-red-700 border-red-200";default:return"bg-gray-50 text-gray-700 border-gray-200"}},o=l=>new Date(l.expectedCloseDate)<new Date&&l.status===or.ACTIVE;return t.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:t.jsxs(ue,{className:"w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[t.jsx(be,{children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx(je,{className:"text-xl",children:e.name}),t.jsx(Ge,{children:"Deal details and information"})]}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsxs(ne,{onClick:()=>n(e),size:"sm",children:[t.jsx(Xr,{className:"h-4 w-4 mr-2"}),"Edit Deal"]}),t.jsx(ne,{variant:"ghost",size:"sm",onClick:r,children:t.jsx(qt,{className:"h-4 w-4"})})]})]})}),t.jsxs(me,{className:"space-y-6",children:[t.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[t.jsx(Re,{className:ze("ri-badge-status",s(e.status)),children:e.status.toUpperCase()}),t.jsx(Re,{className:ze("ri-badge-status",i(e.stage)),children:e.stage.replace("_"," ").toUpperCase()}),t.jsx(Re,{className:ze("ri-badge-status",a(e.priority)),children:e.priority.toUpperCase()}),o(e)&&t.jsxs(Re,{className:"bg-red-50 text-red-700 border-red-200",children:[t.jsx(Ta,{className:"h-3 w-3 mr-1"}),"OVERDUE"]}),e.requiresApproval&&t.jsx(Re,{className:"bg-orange-50 text-orange-700 border-orange-200",children:"REQUIRES APPROVAL"})]}),t.jsxs(Zr,{defaultValue:"overview",className:"space-y-4",children:[t.jsxs($r,{children:[t.jsx(it,{value:"overview",children:"Overview"}),t.jsx(it,{value:"products",children:"Products"}),t.jsx(it,{value:"history",children:"History"})]}),t.jsxs(ct,{value:"overview",className:"space-y-4",children:[t.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[t.jsxs("div",{children:[t.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Customer"}),t.jsx("p",{className:"font-medium",children:e.customerName})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Value"}),t.jsx("p",{className:"font-bold text-primary text-lg",children:Ie(e.value)})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Probability"}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(ys,{className:"h-4 w-4 text-blue-500"}),t.jsxs("p",{className:"font-medium",children:[e.probability,"%"]})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Expected Close"}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(zr,{className:"h-4 w-4 text-purple-500"}),t.jsx("p",{className:"font-medium",children:gt(e.expectedCloseDate)})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Assigned To"}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx($s,{className:"h-4 w-4 text-green-500"}),t.jsx("p",{className:"font-medium",children:e.assignedTo||"Unassigned"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Territory"}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(hd,{className:"h-4 w-4 text-orange-500"}),t.jsx("p",{className:"font-medium",children:e.territoryId||"No Territory"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Created"}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(cr,{className:"h-4 w-4 text-blue-500"}),t.jsx("p",{className:"font-medium",children:gt(e.createdAt)})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Last Updated"}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(cr,{className:"h-4 w-4 text-blue-500"}),t.jsx("p",{className:"font-medium",children:gt(e.updatedAt)})]})]})]}),e.notes&&t.jsxs("div",{children:[t.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Notes"}),t.jsx("div",{className:"mt-1 p-3 bg-muted/30 rounded-md",children:t.jsx("p",{className:"text-sm whitespace-pre-wrap",children:e.notes})})]}),Object.keys(e.customFields||{}).length>0&&t.jsxs("div",{children:[t.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Custom Fields"}),t.jsx("div",{className:"mt-1 grid gap-2 md:grid-cols-2",children:Object.entries(e.customFields||{}).map(([l,c])=>t.jsxs("div",{className:"p-2 bg-muted/30 rounded-md",children:[t.jsxs("span",{className:"text-sm font-medium capitalize",children:[l.replace(/([A-Z])/g," $1").trim(),": "]}),t.jsx("span",{className:"text-sm",children:c==null?void 0:c.toString()})]},l))})]})]}),t.jsxs(ct,{value:"products",className:"space-y-4",children:[t.jsx("h3",{className:"text-lg font-semibold",children:"Products & Services"}),e.products&&e.products.length>0?t.jsxs("div",{className:"space-y-3",children:[e.products.map(l=>t.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[t.jsxs("div",{className:"flex-1",children:[t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(Qn,{className:"h-4 w-4 text-blue-500"}),t.jsx("span",{className:"font-medium",children:l.productName})]}),t.jsxs("div",{className:"flex items-center space-x-4 mt-1 text-sm text-muted-foreground",children:[t.jsxs("span",{children:["Quantity: ",l.quantity]}),t.jsxs("span",{children:["Unit Price: ",Ie(l.unitPrice)]}),l.discount>0&&t.jsxs("span",{className:"text-green-600",children:["Discount: ",Ie(l.discount)]})]})]}),t.jsx("div",{className:"text-right",children:t.jsx("div",{className:"font-bold",children:Ie(l.total)})})]},l.id)),t.jsx("div",{className:"flex justify-end p-3 bg-muted/30 rounded-lg",children:t.jsxs("div",{className:"text-right",children:[t.jsx("span",{className:"text-sm font-medium",children:"Total Deal Value: "}),t.jsx("span",{className:"text-lg font-bold text-primary",children:Ie(e.value)})]})})]}):t.jsxs("div",{className:"text-center py-8 text-muted-foreground border-2 border-dashed rounded-lg",children:[t.jsx(Qn,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground/50"}),t.jsx("p",{children:"No products added to this deal"}),t.jsx("p",{className:"text-sm",children:"Edit the deal to add products"})]})]}),t.jsxs(ct,{value:"history",className:"space-y-4",children:[t.jsx("h3",{className:"text-lg font-semibold",children:"Stage History"}),e.stageHistory&&e.stageHistory.length>0?t.jsx("div",{className:"space-y-3",children:e.stageHistory.map((l,c)=>t.jsxs("div",{className:"relative",children:[c<e.stageHistory.length-1&&t.jsx("div",{className:"absolute left-4 top-8 bottom-0 w-px bg-border"}),t.jsxs("div",{className:"flex items-start space-x-3",children:[t.jsx("div",{className:"flex-shrink-0 w-8 h-8 rounded-full bg-primary flex items-center justify-center text-primary-foreground",children:c+1}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[t.jsx("span",{className:"font-medium capitalize",children:l.fromStage?`${l.fromStage.replace("_"," ")}  ${l.toStage.replace("_"," ")}`:`Started at ${l.toStage.replace("_"," ")}`}),t.jsx("span",{className:"text-xs text-muted-foreground",children:gt(l.changedAt)})]}),l.duration!==void 0&&t.jsxs("div",{className:"text-sm text-muted-foreground",children:["Duration: ",l.duration," hours"]}),l.notes&&t.jsx("div",{className:"mt-1 text-sm bg-muted/30 p-2 rounded-md",children:l.notes})]})]})]},c))}):t.jsxs("div",{className:"text-center py-8 text-muted-foreground border-2 border-dashed rounded-lg",children:[t.jsx(cr,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground/50"}),t.jsx("p",{children:"No stage history available"})]})]})]}),t.jsxs("div",{className:"flex justify-end space-x-3 pt-6 border-t",children:[t.jsx(ne,{variant:"outline",onClick:r,children:"Close"}),t.jsxs(ne,{onClick:()=>n(e),children:[t.jsx(Xr,{className:"h-4 w-4 mr-2"}),"Edit Deal"]})]})]})]})})}function t$({territories:e,salesReps:r,deals:n,onCreateTerritory:s,onUpdateTerritory:a,onDeleteTerritory:i}){var M,P,S;const[o,l]=A.useState(!1),[c,d]=A.useState(null),[m,u]=A.useState({name:"",type:xo.GEOGRAPHIC,description:"",assignedTo:[],rules:[],isActive:!0}),[h,p]=A.useState({field:"",operator:"equals",value:"",priority:1}),g=()=>{d(null),u({name:"",type:xo.GEOGRAPHIC,description:"",assignedTo:[],rules:[],isActive:!0}),l(!0)},b=I=>{d(I),u({name:I.name,type:I.type,description:I.description,assignedTo:[...I.assignedTo],rules:[...I.rules],isActive:I.isActive}),l(!0)},j=()=>{m.name&&(c?a(c.id,m):s(m),l(!1),d(null),u({name:"",type:xo.GEOGRAPHIC,description:"",assignedTo:[],rules:[],isActive:!0}))},x=()=>{if(!h.field||!h.operator)return;const I={id:Math.random().toString(36).substr(2,9),field:h.field,operator:h.operator,value:h.value,priority:h.priority||1};u(k=>({...k,rules:[...k.rules||[],I]})),p({field:"",operator:"equals",value:"",priority:1})},v=I=>{u(k=>{var C;return{...k,rules:((C=k.rules)==null?void 0:C.filter(w=>w.id!==I))||[]}})},y=(I,k)=>{u(k?C=>({...C,assignedTo:[...C.assignedTo||[],I]}):C=>{var w;return{...C,assignedTo:((w=C.assignedTo)==null?void 0:w.filter(L=>L!==I))||[]}})},E=I=>n.filter(C=>C.territoryId===I).length,O=I=>{const k=e.find(C=>C.id===I);return k?r.filter(C=>k.assignedTo.includes(C.id)):[]};return t.jsxs("div",{className:"space-y-6",children:[o&&t.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:t.jsxs(ue,{className:"w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[t.jsx(be,{children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx(je,{children:c?"Edit Territory":"Create Territory"}),t.jsx(Ge,{children:c?"Update territory details and rules":"Define a new sales territory"})]}),t.jsx(ne,{variant:"ghost",size:"sm",onClick:()=>l(!1),children:t.jsx(qt,{className:"h-4 w-4"})})]})}),t.jsxs(me,{className:"space-y-6",children:[t.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[t.jsxs("div",{children:[t.jsx(ve,{htmlFor:"name",children:"Territory Name *"}),t.jsx(Te,{id:"name",value:m.name,onChange:I=>u(k=>({...k,name:I.target.value})),placeholder:"e.g., North Region"})]}),t.jsxs("div",{children:[t.jsx(ve,{htmlFor:"type",children:"Territory Type"}),t.jsxs(tt,{value:m.type,onValueChange:I=>u(k=>({...k,type:I})),children:[t.jsx(Xe,{children:t.jsx(rt,{})}),t.jsxs(Ze,{children:[t.jsx(se,{value:xo.GEOGRAPHIC,children:"Geographic"}),t.jsx(se,{value:xo.INDUSTRY,children:"Industry"}),t.jsx(se,{value:xo.ACCOUNT_SIZE,children:"Account Size"}),t.jsx(se,{value:xo.PRODUCT_LINE,children:"Product Line"})]})]})]})]}),t.jsxs("div",{children:[t.jsx(ve,{htmlFor:"description",children:"Description"}),t.jsx(rr,{id:"description",value:m.description,onChange:I=>u(k=>({...k,description:I.target.value})),placeholder:"Describe the territory",rows:3})]}),t.jsxs("div",{children:[t.jsx("div",{className:"flex items-center justify-between mb-4",children:t.jsx(ve,{children:"Territory Rules"})}),t.jsxs("div",{className:"space-y-4",children:[(M=m.rules)==null?void 0:M.map(I=>t.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[t.jsxs("div",{className:"flex-1",children:[t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("span",{className:"font-medium",children:I.field}),t.jsx("span",{className:"text-muted-foreground",children:I.operator}),t.jsx("span",{children:I.value.toString()})]}),t.jsxs("div",{className:"text-xs text-muted-foreground mt-1",children:["Priority: ",I.priority]})]}),t.jsx(ne,{variant:"ghost",size:"sm",onClick:()=>v(I.id),children:t.jsx(bs,{className:"h-4 w-4 text-red-500"})})]},I.id)),t.jsx(ue,{className:"border-dashed",children:t.jsxs(me,{className:"pt-6",children:[t.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[t.jsxs("div",{children:[t.jsx(ve,{children:"Field"}),t.jsxs(tt,{value:h.field,onValueChange:I=>p(k=>({...k,field:I})),children:[t.jsx(Xe,{children:t.jsx(rt,{placeholder:"Select field"})}),t.jsxs(Ze,{children:[t.jsx(se,{value:"state",children:"State"}),t.jsx(se,{value:"zipCode",children:"Zip Code"}),t.jsx(se,{value:"country",children:"Country"}),t.jsx(se,{value:"industry",children:"Industry"}),t.jsx(se,{value:"dealSize",children:"Deal Size"}),t.jsx(se,{value:"productType",children:"Product Type"})]})]})]}),t.jsxs("div",{children:[t.jsx(ve,{children:"Operator"}),t.jsxs(tt,{value:h.operator,onValueChange:I=>p(k=>({...k,operator:I})),children:[t.jsx(Xe,{children:t.jsx(rt,{})}),t.jsxs(Ze,{children:[t.jsx(se,{value:"equals",children:"Equals"}),t.jsx(se,{value:"contains",children:"Contains"}),t.jsx(se,{value:"starts_with",children:"Starts With"}),t.jsx(se,{value:"in_range",children:"In Range"}),t.jsx(se,{value:"greater_than",children:"Greater Than"}),t.jsx(se,{value:"less_than",children:"Less Than"})]})]})]})]}),t.jsxs("div",{className:"mt-4",children:[t.jsx(ve,{children:"Value"}),t.jsx(Te,{value:((P=h.value)==null?void 0:P.toString())||"",onChange:I=>p(k=>({...k,value:I.target.value})),placeholder:"Rule value"}),t.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"For multiple values, separate with commas"})]}),t.jsxs("div",{className:"mt-4",children:[t.jsx(ve,{children:"Priority"}),t.jsxs(tt,{value:((S=h.priority)==null?void 0:S.toString())||"1",onValueChange:I=>p(k=>({...k,priority:parseInt(I)})),children:[t.jsx(Xe,{children:t.jsx(rt,{})}),t.jsxs(Ze,{children:[t.jsx(se,{value:"1",children:"1 - Highest"}),t.jsx(se,{value:"2",children:"2"}),t.jsx(se,{value:"3",children:"3"}),t.jsx(se,{value:"4",children:"4"}),t.jsx(se,{value:"5",children:"5 - Lowest"})]})]})]}),t.jsx("div",{className:"flex justify-end mt-4",children:t.jsxs(ne,{onClick:x,children:[t.jsx(Et,{className:"h-4 w-4 mr-2"}),"Add Rule"]})})]})})]})]}),t.jsxs("div",{children:[t.jsx(ve,{className:"mb-2 block",children:"Assign Sales Reps"}),t.jsx("div",{className:"space-y-2 max-h-40 overflow-y-auto p-2 border rounded-lg",children:r.map(I=>{var k;return t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(Tr,{id:`rep-${I.id}`,checked:(k=m.assignedTo)==null?void 0:k.includes(I.id),onCheckedChange:C=>y(I.id,!!C)}),t.jsx(ve,{htmlFor:`rep-${I.id}`,className:"text-sm cursor-pointer",children:I.name})]},I.id)})})]}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(Tr,{id:"isActive",checked:m.isActive,onCheckedChange:I=>u(k=>({...k,isActive:!!I}))}),t.jsx(ve,{htmlFor:"isActive",children:"Active territory"})]}),t.jsxs("div",{className:"flex justify-end space-x-3 pt-6 border-t",children:[t.jsx(ne,{variant:"outline",onClick:()=>l(!1),children:"Cancel"}),t.jsxs(ne,{onClick:j,children:[t.jsx(js,{className:"h-4 w-4 mr-2"}),c?"Update":"Create"," Territory"]})]})]})]})}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("h2",{className:"text-2xl font-bold",children:"Territory Management"}),t.jsx("p",{className:"text-muted-foreground",children:"Define and manage sales territories and assignment rules"})]}),t.jsxs(ne,{onClick:g,children:[t.jsx(Et,{className:"h-4 w-4 mr-2"}),"Create Territory"]})]}),t.jsxs("div",{className:"space-y-6",children:[e.map(I=>t.jsxs(ue,{className:"shadow-sm",children:[t.jsx(be,{children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx(je,{children:I.name}),t.jsx(Re,{className:I.isActive?"bg-green-50 text-green-700 border-green-200":"bg-gray-50 text-gray-700 border-gray-200",children:I.isActive?"Active":"Inactive"}),t.jsx(Re,{variant:"outline",children:I.type.replace("_"," ")})]}),t.jsx(Ge,{className:"mt-1",children:I.description})]}),t.jsx("div",{className:"flex space-x-2",children:t.jsxs(ne,{variant:"outline",size:"sm",onClick:()=>b(I),children:[t.jsx(Xr,{className:"h-4 w-4 mr-2"}),"Edit"]})})]})}),t.jsx(me,{children:t.jsxs("div",{className:"grid gap-6 md:grid-cols-3",children:[t.jsxs("div",{children:[t.jsx("h3",{className:"text-sm font-semibold mb-3",children:"Territory Rules"}),t.jsxs("div",{className:"space-y-2",children:[I.rules.map(k=>t.jsx("div",{className:"p-2 bg-muted/30 rounded-lg text-sm",children:t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("span",{className:"font-medium",children:k.field}),t.jsx("span",{className:"text-muted-foreground",children:k.operator}),t.jsx("span",{children:k.value.toString()})]})},k.id)),I.rules.length===0&&t.jsx("p",{className:"text-sm text-muted-foreground",children:"No rules defined"})]})]}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-sm font-semibold mb-3",children:"Assigned Sales Reps"}),t.jsxs("div",{className:"space-y-2",children:[O(I.id).map(k=>t.jsxs("div",{className:"flex items-center space-x-2 p-2 bg-muted/30 rounded-lg",children:[t.jsx(pn,{className:"h-4 w-4 text-blue-500"}),t.jsx("span",{className:"text-sm",children:k.name})]},k.id)),I.assignedTo.length===0&&t.jsx("p",{className:"text-sm text-muted-foreground",children:"No reps assigned"})]})]}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-sm font-semibold mb-3",children:"Territory Stats"}),t.jsxs("div",{className:"space-y-2",children:[t.jsxs("div",{className:"flex items-center justify-between p-2 bg-blue-50 rounded-lg",children:[t.jsx("span",{className:"text-sm text-blue-700",children:"Deals"}),t.jsx("span",{className:"font-bold text-blue-700",children:E(I.id)})]}),t.jsxs("div",{className:"flex items-center justify-between p-2 bg-green-50 rounded-lg",children:[t.jsx("span",{className:"text-sm text-green-700",children:"Reps"}),t.jsx("span",{className:"font-bold text-green-700",children:I.assignedTo.length})]})]})]})]})})]},I.id)),e.length===0&&t.jsx(ue,{className:"shadow-sm",children:t.jsxs(me,{className:"flex flex-col items-center justify-center py-12",children:[t.jsx(hd,{className:"h-12 w-12 text-muted-foreground mb-4"}),t.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No Territories Defined"}),t.jsx("p",{className:"text-muted-foreground text-center mb-4",children:"Create territories to organize your sales team and deals by region, industry, or other criteria."}),t.jsxs(ne,{onClick:g,children:[t.jsx(Et,{className:"h-4 w-4 mr-2"}),"Create First Territory"]})]})})]})]})}function r$({deals:e,approvalWorkflows:r,onApprove:n,onReject:s,onEscalate:a}){var v;const[i,o]=A.useState("pending"),[l,c]=A.useState(null),[d,m]=A.useState(""),u=y=>{switch(y){case"pending":return"bg-yellow-50 text-yellow-700 border-yellow-200";case"approved":return"bg-green-50 text-green-700 border-green-200";case"rejected":return"bg-red-50 text-red-700 border-red-200";case"escalated":return"bg-orange-50 text-orange-700 border-orange-200";default:return"bg-gray-50 text-gray-700 border-gray-200"}},h=y=>{switch(y){case"pending":return t.jsx(cr,{className:"h-4 w-4 text-yellow-500"});case"approved":return t.jsx(Fs,{className:"h-4 w-4 text-green-500"});case"rejected":return t.jsx(Uu,{className:"h-4 w-4 text-red-500"});case"escalated":return t.jsx(Ta,{className:"h-4 w-4 text-orange-500"});default:return t.jsx(cr,{className:"h-4 w-4 text-gray-500"})}},p=y=>r.filter(E=>E.status===y),g=y=>e.find(E=>E.id===y),b=()=>{if(!l)return;const y=l.steps.find(E=>E.stepNumber===l.currentStep);y&&(n(l.id,y.id,d),m(""),c(null))},j=()=>{if(!l)return;const y=l.steps.find(E=>E.stepNumber===l.currentStep);y&&(s(l.id,y.id,d),m(""),c(null))},x=()=>{if(!l)return;const y=l.steps.find(E=>E.stepNumber===l.currentStep);y&&(a(l.id,y.id,d),m(""),c(null))};return t.jsxs("div",{className:"space-y-6",children:[l&&t.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:t.jsxs(ue,{className:"w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[t.jsx(be,{children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx(je,{children:"Approval Request"}),t.jsx(Ge,{children:((v=g(l.dealId))==null?void 0:v.name)||"Unknown Deal"})]}),t.jsx(Re,{className:ze("ri-badge-status",u(l.status)),children:l.status.toUpperCase()})]})}),t.jsxs(me,{className:"space-y-6",children:[t.jsx("div",{className:"p-4 bg-muted/30 rounded-lg",children:t.jsx("div",{className:"grid gap-4 md:grid-cols-2",children:(()=>{const y=g(l.dealId);return y?t.jsxs(t.Fragment,{children:[t.jsxs("div",{children:[t.jsx("span",{className:"text-sm font-medium",children:"Customer:"}),t.jsx("p",{className:"text-sm",children:y.customerName})]}),t.jsxs("div",{children:[t.jsx("span",{className:"text-sm font-medium",children:"Deal Value:"}),t.jsx("p",{className:"text-sm font-bold",children:Ie(y.value)})]}),t.jsxs("div",{children:[t.jsx("span",{className:"text-sm font-medium",children:"Stage:"}),t.jsx("p",{className:"text-sm",children:y.stage.replace("_"," ")})]}),t.jsxs("div",{children:[t.jsx("span",{className:"text-sm font-medium",children:"Assigned To:"}),t.jsx("p",{className:"text-sm",children:y.assignedTo})]})]}):null})()})}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-sm font-semibold mb-2",children:"Workflow Details"}),t.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[t.jsxs("div",{children:[t.jsx("span",{className:"text-sm font-medium",children:"Type:"}),t.jsx("p",{className:"text-sm",children:l.workflowType.replace("_"," ")})]}),t.jsxs("div",{children:[t.jsx("span",{className:"text-sm font-medium",children:"Requested By:"}),t.jsx("p",{className:"text-sm",children:l.requestedBy})]}),t.jsxs("div",{children:[t.jsx("span",{className:"text-sm font-medium",children:"Requested:"}),t.jsx("p",{className:"text-sm",children:gt(l.requestedAt)})]}),t.jsxs("div",{children:[t.jsx("span",{className:"text-sm font-medium",children:"Current Step:"}),t.jsxs("p",{className:"text-sm",children:[l.currentStep," of ",l.totalSteps]})]})]})]}),t.jsxs("div",{children:[t.jsx(ve,{htmlFor:"comments",children:"Comments"}),t.jsx(rr,{id:"comments",value:d,onChange:y=>m(y.target.value),placeholder:"Add your comments here...",rows:3})]}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-sm font-semibold mb-3",children:"Approval Steps"}),t.jsx("div",{className:"space-y-4",children:l.steps.map((y,E)=>{const O=y.stepNumber===l.currentStep,M=y.stepNumber<l.currentStep;return t.jsxs("div",{className:ze("p-3 rounded-lg border-2",O?"border-primary bg-primary/5":M?"border-muted bg-muted/10":"border-dashed border-muted"),children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("span",{className:"flex items-center justify-center w-6 h-6 rounded-full bg-muted text-xs font-bold",children:y.stepNumber}),t.jsx("span",{className:"font-medium",children:y.approverRole.replace("_"," ")})]}),t.jsxs(Re,{className:ze("ri-badge-status",u(y.status)),children:[h(y.status),t.jsx("span",{className:"ml-1",children:y.status.toUpperCase()})]})]}),t.jsxs("div",{className:"text-sm text-muted-foreground mb-2",children:["Requires ",y.requiredApprovals," approval(s) from ",y.approverIds.length," approver(s)"]}),y.currentApprovals.length>0&&t.jsxs("div",{className:"mt-3 space-y-2",children:[t.jsx("h4",{className:"text-xs font-medium",children:"Approvals:"}),y.currentApprovals.map((P,S)=>t.jsxs("div",{className:"flex items-start space-x-2 text-xs p-2 bg-muted/30 rounded",children:[P.action==="approve"?t.jsx($k,{className:"h-3 w-3 text-green-500 mt-0.5"}):P.action==="reject"?t.jsx(zk,{className:"h-3 w-3 text-red-500 mt-0.5"}):t.jsx(Ta,{className:"h-3 w-3 text-orange-500 mt-0.5"}),t.jsxs("div",{children:[t.jsx("div",{className:"font-medium",children:P.approverId}),t.jsx("div",{className:"text-muted-foreground",children:gt(P.actionDate)}),P.comments&&t.jsx("div",{className:"mt-1 italic",children:P.comments})]})]},S))]})]},y.id)})})]}),l.status==="pending"&&t.jsxs(t.Fragment,{children:[t.jsxs("div",{children:[t.jsx(ve,{htmlFor:"comments",children:"Comments"}),t.jsx(rr,{id:"comments",value:d,onChange:y=>m(y.target.value),placeholder:"Add your comments here...",rows:3})]}),t.jsxs("div",{className:"flex justify-end space-x-3 pt-6 border-t",children:[t.jsx(ne,{variant:"outline",onClick:()=>c(null),children:"Cancel"}),t.jsxs(ne,{variant:"outline",onClick:x,children:[t.jsx(Ta,{className:"h-4 w-4 mr-2"}),"Escalate"]}),t.jsxs(ne,{variant:"destructive",onClick:j,children:[t.jsx(Uu,{className:"h-4 w-4 mr-2"}),"Reject"]}),t.jsxs(ne,{variant:"default",onClick:b,children:[t.jsx(Fs,{className:"h-4 w-4 mr-2"}),"Approve"]})]})]}),l.status!=="pending"&&t.jsx("div",{className:"flex justify-end pt-6 border-t",children:t.jsx(ne,{variant:"outline",onClick:()=>c(null),children:"Close"})})]})]})}),t.jsx("div",{className:"flex items-center justify-between",children:t.jsxs("div",{children:[t.jsx("h2",{className:"text-2xl font-bold",children:"Approval Workflows"}),t.jsx("p",{className:"text-muted-foreground",children:"Manage approval requests for deals above threshold"})]})}),t.jsxs(Zr,{value:i,onValueChange:o,className:"space-y-6",children:[t.jsxs($r,{children:[t.jsxs(it,{value:"pending",children:["Pending",t.jsx(Re,{className:"ml-2 bg-yellow-50 text-yellow-700 border-yellow-200",children:p("pending").length})]}),t.jsxs(it,{value:"approved",children:["Approved",t.jsx(Re,{className:"ml-2 bg-green-50 text-green-700 border-green-200",children:p("approved").length})]}),t.jsxs(it,{value:"rejected",children:["Rejected",t.jsx(Re,{className:"ml-2 bg-red-50 text-red-700 border-red-200",children:p("rejected").length})]}),t.jsxs(it,{value:"escalated",children:["Escalated",t.jsx(Re,{className:"ml-2 bg-orange-50 text-orange-700 border-orange-200",children:p("escalated").length})]})]}),t.jsx(ct,{value:"pending",className:"space-y-4",children:p("pending").length>0?p("pending").map(y=>{const E=g(y.dealId);return E?t.jsx(ue,{className:"shadow-sm hover:shadow-md transition-shadow cursor-pointer",onClick:()=>c(y),children:t.jsxs(me,{className:"p-6",children:[t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsxs("div",{children:[t.jsx("h3",{className:"font-semibold",children:E.name}),t.jsx("p",{className:"text-sm text-muted-foreground",children:E.customerName})]}),t.jsxs(Re,{className:ze("ri-badge-status",u(y.status)),children:[h(y.status),t.jsx("span",{className:"ml-1",children:y.status.toUpperCase()})]})]}),t.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[t.jsxs("div",{children:[t.jsx("span",{className:"text-sm font-medium",children:"Deal Value:"}),t.jsx("p",{className:"text-lg font-bold text-primary",children:Ie(E.value)})]}),t.jsxs("div",{children:[t.jsx("span",{className:"text-sm font-medium",children:"Requested By:"}),t.jsxs("div",{className:"flex items-center space-x-1 mt-1",children:[t.jsx($s,{className:"h-4 w-4 text-blue-500"}),t.jsx("span",{className:"text-sm",children:y.requestedBy})]})]}),t.jsxs("div",{children:[t.jsx("span",{className:"text-sm font-medium",children:"Requested:"}),t.jsx("p",{className:"text-sm",children:gt(y.requestedAt)})]})]}),t.jsxs("div",{className:"mt-4 pt-4 border-t",children:[t.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[t.jsx("span",{className:"text-sm font-medium",children:"Approval Progress:"}),t.jsxs("span",{className:"text-sm",children:[y.currentStep," of ",y.totalSteps]})]}),t.jsx("div",{className:"flex items-center space-x-2",children:y.steps.map((O,M)=>{const P=O.stepNumber<y.currentStep,S=O.stepNumber===y.currentStep;return t.jsxs(Dt.Fragment,{children:[t.jsx("div",{className:ze("flex items-center justify-center w-8 h-8 rounded-full",P?"bg-primary text-primary-foreground":S?"bg-primary/20 text-primary border-2 border-primary":"bg-muted text-muted-foreground"),children:O.stepNumber}),M<y.steps.length-1&&t.jsx(Ik,{className:"h-4 w-4 text-muted-foreground"})]},O.id)})})]})]})},y.id):null}):t.jsx(ue,{className:"shadow-sm",children:t.jsxs(me,{className:"flex flex-col items-center justify-center py-12",children:[t.jsx(cr,{className:"h-12 w-12 text-muted-foreground mb-4"}),t.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No Pending Approvals"}),t.jsx("p",{className:"text-muted-foreground text-center",children:"There are no deals currently waiting for your approval."})]})})}),t.jsx(ct,{value:"approved",className:"space-y-4",children:p("approved").length>0?p("approved").map(y=>{const E=g(y.dealId);return E?t.jsx(ue,{className:"shadow-sm hover:shadow-md transition-shadow cursor-pointer",onClick:()=>c(y),children:t.jsxs(me,{className:"p-6",children:[t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsxs("div",{children:[t.jsx("h3",{className:"font-semibold",children:E.name}),t.jsx("p",{className:"text-sm text-muted-foreground",children:E.customerName})]}),t.jsxs(Re,{className:ze("ri-badge-status",u(y.status)),children:[h(y.status),t.jsx("span",{className:"ml-1",children:y.status.toUpperCase()})]})]}),t.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[t.jsxs("div",{children:[t.jsx("span",{className:"text-sm font-medium",children:"Deal Value:"}),t.jsx("p",{className:"text-lg font-bold text-primary",children:Ie(E.value)})]}),t.jsxs("div",{children:[t.jsx("span",{className:"text-sm font-medium",children:"Completed:"}),t.jsx("p",{className:"text-sm",children:y.completedAt?gt(y.completedAt):"N/A"})]}),t.jsxs("div",{children:[t.jsx("span",{className:"text-sm font-medium",children:"Workflow Type:"}),t.jsx("p",{className:"text-sm capitalize",children:y.workflowType.replace("_"," ")})]})]})]})},y.id):null}):t.jsx(ue,{className:"shadow-sm",children:t.jsxs(me,{className:"flex flex-col items-center justify-center py-12",children:[t.jsx(Fs,{className:"h-12 w-12 text-muted-foreground mb-4"}),t.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No Approved Workflows"}),t.jsx("p",{className:"text-muted-foreground text-center",children:"There are no approved deal workflows yet."})]})})}),t.jsx(ct,{value:"rejected",className:"space-y-4",children:p("rejected").length>0?p("rejected").map(y=>{const E=g(y.dealId);return E?t.jsx(ue,{className:"shadow-sm hover:shadow-md transition-shadow cursor-pointer",onClick:()=>c(y),children:t.jsxs(me,{className:"p-6",children:[t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsxs("div",{children:[t.jsx("h3",{className:"font-semibold",children:E.name}),t.jsx("p",{className:"text-sm text-muted-foreground",children:E.customerName})]}),t.jsxs(Re,{className:ze("ri-badge-status",u(y.status)),children:[h(y.status),t.jsx("span",{className:"ml-1",children:y.status.toUpperCase()})]})]}),t.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[t.jsxs("div",{children:[t.jsx("span",{className:"text-sm font-medium",children:"Deal Value:"}),t.jsx("p",{className:"text-lg font-bold text-primary",children:Ie(E.value)})]}),t.jsxs("div",{children:[t.jsx("span",{className:"text-sm font-medium",children:"Completed:"}),t.jsx("p",{className:"text-sm",children:y.completedAt?gt(y.completedAt):"N/A"})]}),t.jsxs("div",{children:[t.jsx("span",{className:"text-sm font-medium",children:"Workflow Type:"}),t.jsx("p",{className:"text-sm capitalize",children:y.workflowType.replace("_"," ")})]})]})]})},y.id):null}):t.jsx(ue,{className:"shadow-sm",children:t.jsxs(me,{className:"flex flex-col items-center justify-center py-12",children:[t.jsx(Uu,{className:"h-12 w-12 text-muted-foreground mb-4"}),t.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No Rejected Workflows"}),t.jsx("p",{className:"text-muted-foreground text-center",children:"There are no rejected deal workflows."})]})})}),t.jsx(ct,{value:"escalated",className:"space-y-4",children:p("escalated").length>0?p("escalated").map(y=>{const E=g(y.dealId);return E?t.jsx(ue,{className:"shadow-sm hover:shadow-md transition-shadow cursor-pointer",onClick:()=>c(y),children:t.jsxs(me,{className:"p-6",children:[t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsxs("div",{children:[t.jsx("h3",{className:"font-semibold",children:E.name}),t.jsx("p",{className:"text-sm text-muted-foreground",children:E.customerName})]}),t.jsxs(Re,{className:ze("ri-badge-status",u(y.status)),children:[h(y.status),t.jsx("span",{className:"ml-1",children:y.status.toUpperCase()})]})]}),t.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[t.jsxs("div",{children:[t.jsx("span",{className:"text-sm font-medium",children:"Deal Value:"}),t.jsx("p",{className:"text-lg font-bold text-primary",children:Ie(E.value)})]}),t.jsxs("div",{children:[t.jsx("span",{className:"text-sm font-medium",children:"Requested:"}),t.jsx("p",{className:"text-sm",children:gt(y.requestedAt)})]}),t.jsxs("div",{children:[t.jsx("span",{className:"text-sm font-medium",children:"Workflow Type:"}),t.jsx("p",{className:"text-sm capitalize",children:y.workflowType.replace("_"," ")})]})]})]})},y.id):null}):t.jsx(ue,{className:"shadow-sm",children:t.jsxs(me,{className:"flex flex-col items-center justify-center py-12",children:[t.jsx(Ta,{className:"h-12 w-12 text-muted-foreground mb-4"}),t.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No Escalated Workflows"}),t.jsx("p",{className:"text-muted-foreground text-center",children:"There are no escalated deal workflows."})]})})})]})]})}function n$({deal:e,customers:r,salesReps:n,territories:s,products:a,onSave:i,onCancel:o}){const{toast:l}=nr(),[c,d]=A.useState(!1),[m,u]=A.useState({name:"",customerId:"",customerName:"",stage:pt.PROSPECTING,status:or.ACTIVE,priority:oi.MEDIUM,value:0,probability:10,expectedCloseDate:new Date(Date.now()+30*24*60*60*1e3),assignedTo:"",territoryId:"",sourceId:"",competitorIds:[],products:[],notes:"",requiresApproval:!1,customFields:{}}),[h,p]=A.useState(!1),[g,b]=A.useState(!1),[j,x]=A.useState({productId:"",productName:"",quantity:1,unitPrice:0,discount:0,total:0});A.useEffect(()=>{e&&u({...e,expectedCloseDate:new Date(e.expectedCloseDate)})},[e]),A.useEffect(()=>{if(m.customerId){const P=r.find(S=>S.id===m.customerId);P&&u(S=>({...S,customerName:`${P.firstName} ${P.lastName}`}))}},[m.customerId,r]),A.useEffect(()=>{if(m.products&&m.products.length>0){const P=m.products.reduce((S,I)=>S+I.total,0);u(S=>({...S,value:P}))}},[m.products]),A.useEffect(()=>{const P=j.quantity||1,S=j.unitPrice||0,I=j.discount||0,k=P*S-I;x(C=>({...C,total:k}))},[j.quantity,j.unitPrice,j.discount]);const v=async P=>{if(P.preventDefault(),!m.name||!m.customerId||!m.expectedCloseDate){l({title:"Validation Error",description:"Please fill in all required fields",variant:"destructive"});return}d(!0);try{await i(m),l({title:"Success",description:`Deal ${e?"updated":"created"} successfully`})}catch{l({title:"Error",description:`Failed to ${e?"update":"create"} deal`,variant:"destructive"})}finally{d(!1)}},y=()=>{if(!j.productId||!j.productName){l({title:"Validation Error",description:"Please select a product",variant:"destructive"});return}const P={id:Math.random().toString(36).substr(2,9),productId:j.productId,productName:j.productName,quantity:j.quantity||1,unitPrice:j.unitPrice||0,discount:j.discount||0,total:j.total||0};u(S=>({...S,products:[...S.products||[],P]})),x({productId:"",productName:"",quantity:1,unitPrice:0,discount:0,total:0}),p(!1)},E=P=>{u(S=>{var I;return{...S,products:((I=S.products)==null?void 0:I.filter(k=>k.id!==P))||[]}})},O=P=>{const S=a.find(I=>I.id===P);S&&x({productId:S.id,productName:S.name,quantity:1,unitPrice:S.price,discount:0,total:S.price})},M=P=>{u(S=>({...S,customerId:P.id,customerName:`${P.firstName} ${P.lastName}`})),b(!1),l({title:"Customer Added",description:`${P.firstName} ${P.lastName} has been added as a customer.`})};return t.jsxs("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:[g&&t.jsx(kd,{onClose:()=>b(!1),onSuccess:M}),t.jsxs(ue,{className:"w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[t.jsx(be,{children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx(je,{children:e?"Edit Deal":"Create Deal"}),t.jsx(Ge,{children:e?"Update deal details":"Create a new sales deal"})]}),t.jsx(ne,{variant:"ghost",size:"sm",onClick:o,children:t.jsx(qt,{className:"h-4 w-4"})})]})}),t.jsx(me,{children:t.jsxs("form",{onSubmit:v,className:"space-y-6",children:[t.jsxs("div",{className:"space-y-4",children:[t.jsxs("h3",{className:"text-lg font-semibold flex items-center",children:[t.jsx(ys,{className:"h-4 w-4 mr-2"}),"Deal Information"]}),t.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[t.jsxs("div",{children:[t.jsx(ve,{htmlFor:"name",children:"Deal Name *"}),t.jsx(Te,{id:"name",value:m.name,onChange:P=>u(S=>({...S,name:P.target.value})),placeholder:"Enter deal name"})]}),t.jsxs("div",{children:[t.jsx(ve,{htmlFor:"customerId",children:"Customer *"}),t.jsxs(tt,{value:m.customerId||"",onValueChange:P=>u(S=>({...S,customerId:P})),children:[t.jsx(Xe,{children:t.jsx(rt,{placeholder:"Select customer"})}),t.jsxs(Ze,{children:[t.jsx("div",{className:"px-2 py-1.5",children:t.jsxs(ne,{variant:"outline",size:"sm",className:"w-full justify-start",onClick:()=>b(!0),children:[t.jsx(Et,{className:"h-3.5 w-3.5 mr-2"}),"Add New Customer"]})}),t.jsx("div",{className:"px-2 py-1 border-t"}),r.map(P=>t.jsxs(se,{value:P.id,children:[P.firstName," ",P.lastName]},P.id))]})]})]})]}),t.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[t.jsxs("div",{children:[t.jsx(ve,{htmlFor:"stage",children:"Stage"}),t.jsxs(tt,{value:m.stage,onValueChange:P=>u(S=>({...S,stage:P,probability:P===pt.PROSPECTING?10:P===pt.QUALIFICATION?25:P===pt.NEEDS_ANALYSIS?40:P===pt.PROPOSAL?60:P===pt.NEGOTIATION?80:P===pt.CLOSED_WON?100:P===pt.CLOSED_LOST?0:10})),children:[t.jsx(Xe,{children:t.jsx(rt,{})}),t.jsxs(Ze,{children:[t.jsx(se,{value:pt.PROSPECTING,children:"Prospecting"}),t.jsx(se,{value:pt.QUALIFICATION,children:"Qualification"}),t.jsx(se,{value:pt.NEEDS_ANALYSIS,children:"Needs Analysis"}),t.jsx(se,{value:pt.PROPOSAL,children:"Proposal"}),t.jsx(se,{value:pt.NEGOTIATION,children:"Negotiation"}),t.jsx(se,{value:pt.CLOSED_WON,children:"Closed Won"}),t.jsx(se,{value:pt.CLOSED_LOST,children:"Closed Lost"})]})]})]}),t.jsxs("div",{children:[t.jsx(ve,{htmlFor:"priority",children:"Priority"}),t.jsxs(tt,{value:m.priority,onValueChange:P=>u(S=>({...S,priority:P})),children:[t.jsx(Xe,{children:t.jsx(rt,{})}),t.jsxs(Ze,{children:[t.jsx(se,{value:oi.LOW,children:"Low"}),t.jsx(se,{value:oi.MEDIUM,children:"Medium"}),t.jsx(se,{value:oi.HIGH,children:"High"}),t.jsx(se,{value:oi.CRITICAL,children:"Critical"})]})]})]}),t.jsxs("div",{children:[t.jsx(ve,{htmlFor:"probability",children:"Probability (%)"}),t.jsx(Te,{id:"probability",type:"number",min:"0",max:"100",value:m.probability,onChange:P=>u(S=>({...S,probability:parseInt(P.target.value)||0}))})]})]}),t.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[t.jsxs("div",{children:[t.jsx(ve,{htmlFor:"expectedCloseDate",children:"Expected Close Date *"}),t.jsx(Te,{id:"expectedCloseDate",type:"date",value:m.expectedCloseDate?new Date(m.expectedCloseDate).toISOString().split("T")[0]:"",onChange:P=>u(S=>({...S,expectedCloseDate:new Date(P.target.value)}))})]}),t.jsxs("div",{children:[t.jsx(ve,{htmlFor:"assignedTo",children:"Assigned To"}),t.jsxs(tt,{value:m.assignedTo,onValueChange:P=>u(S=>({...S,assignedTo:P})),children:[t.jsx(Xe,{children:t.jsx(rt,{placeholder:"Select sales rep"})}),t.jsx(Ze,{children:n.map(P=>t.jsx(se,{value:P.id,children:P.name},P.id))})]})]}),t.jsxs("div",{children:[t.jsx(ve,{htmlFor:"territoryId",children:"Territory"}),t.jsxs(tt,{value:m.territoryId,onValueChange:P=>u(S=>({...S,territoryId:P})),children:[t.jsx(Xe,{children:t.jsx(rt,{placeholder:"Select territory"})}),t.jsx(Ze,{children:s.map(P=>t.jsx(se,{value:P.id,children:P.name},P.id))})]})]})]})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("h3",{className:"text-lg font-semibold flex items-center",children:[t.jsx(Qn,{className:"h-4 w-4 mr-2"}),"Products"]}),t.jsxs(ne,{type:"button",onClick:()=>p(!0),size:"sm",children:[t.jsx(Et,{className:"h-4 w-4 mr-2"}),"Add Product"]})]}),h&&t.jsx(ue,{className:"border-dashed",children:t.jsxs(me,{className:"pt-6",children:[t.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[t.jsxs("div",{children:[t.jsx(ve,{children:"Product"}),t.jsxs(tt,{onValueChange:O,children:[t.jsx(Xe,{children:t.jsx(rt,{placeholder:"Select product"})}),t.jsx(Ze,{children:a.map(P=>t.jsxs(se,{value:P.id,children:[P.name," - ",Ie(P.price)]},P.id))})]})]}),t.jsxs("div",{children:[t.jsx(ve,{children:"Quantity"}),t.jsx(Te,{type:"number",min:"1",value:j.quantity,onChange:P=>x(S=>({...S,quantity:parseInt(P.target.value)||1}))})]}),t.jsxs("div",{children:[t.jsx(ve,{children:"Unit Price"}),t.jsx(Te,{type:"number",min:"0",step:"0.01",value:j.unitPrice,onChange:P=>x(S=>({...S,unitPrice:parseFloat(P.target.value)||0}))})]}),t.jsxs("div",{children:[t.jsx(ve,{children:"Discount"}),t.jsx(Te,{type:"number",min:"0",step:"0.01",value:j.discount,onChange:P=>x(S=>({...S,discount:parseFloat(P.target.value)||0}))})]})]}),t.jsxs("div",{className:"flex items-center justify-between mt-4",children:[t.jsxs("div",{children:[t.jsx("span",{className:"text-sm font-medium",children:"Total: "}),t.jsx("span",{className:"font-bold",children:Ie(j.total||0)})]}),t.jsxs("div",{className:"flex space-x-2",children:[t.jsx(ne,{type:"button",variant:"outline",onClick:()=>p(!1),children:"Cancel"}),t.jsx(ne,{type:"button",onClick:y,children:"Add Product"})]})]})]})}),t.jsx("div",{className:"space-y-3",children:m.products&&m.products.length>0?m.products.map(P=>t.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[t.jsxs("div",{className:"flex-1",children:[t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("span",{className:"font-medium",children:P.productName}),t.jsxs(Re,{variant:"outline",children:[P.quantity,"  ",Ie(P.unitPrice)]})]}),P.discount>0&&t.jsxs("div",{className:"text-sm text-green-600 mt-1",children:["Discount: ",Ie(P.discount)]})]}),t.jsxs("div",{className:"flex items-center space-x-4",children:[t.jsx("span",{className:"font-bold",children:Ie(P.total)}),t.jsx(ne,{type:"button",variant:"ghost",size:"sm",onClick:()=>E(P.id),children:t.jsx(bs,{className:"h-4 w-4 text-red-500"})})]})]},P.id)):t.jsxs("div",{className:"text-center py-6 text-muted-foreground border-2 border-dashed rounded-lg",children:[t.jsx(Qn,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground/50"}),t.jsx("p",{children:"No products added yet"}),t.jsx("p",{className:"text-sm",children:"Add products to calculate deal value"})]})}),m.products&&m.products.length>0&&t.jsx("div",{className:"flex justify-end p-3 bg-muted/30 rounded-lg",children:t.jsxs("div",{className:"text-right",children:[t.jsx("span",{className:"text-sm font-medium",children:"Total Deal Value: "}),t.jsx("span",{className:"text-lg font-bold text-primary",children:Ie(m.value||0)})]})})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsx("h3",{className:"text-lg font-semibold",children:"Notes"}),t.jsx(rr,{value:m.notes,onChange:P=>u(S=>({...S,notes:P.target.value})),placeholder:"Add any additional notes about this deal...",rows:3})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsx("h3",{className:"text-lg font-semibold",children:"Approval Settings"}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(Tr,{id:"requiresApproval",checked:m.requiresApproval,onCheckedChange:P=>u(S=>({...S,requiresApproval:!!P}))}),t.jsx(ve,{htmlFor:"requiresApproval",children:"This deal requires approval"})]}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"Deals over $100,000 automatically require approval"})]}),t.jsxs("div",{className:"flex justify-end space-x-3 pt-6 border-t",children:[t.jsx(ne,{type:"button",variant:"outline",onClick:o,disabled:c,children:"Cancel"}),t.jsx(ne,{type:"submit",disabled:c,children:c?t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),e?"Updating...":"Creating..."]}):t.jsxs(t.Fragment,{children:[t.jsx(js,{className:"h-4 w-4 mr-2"}),e?"Update":"Create"," Deal"]})})]})]})})]})]})}function c5(){const{deals:e,territories:r,approvalWorkflows:n,winLossReports:s,stageHistory:a,createDeal:i,updateDealStage:o,assignTerritory:l,createApprovalWorkflow:c,createWinLossReport:d,getDealMetrics:m}=p_(),{leads:u,salesReps:h}=Yi(),{vehicles:p}=rl(),[g,b]=A.useState(""),[j,x]=A.useState("all"),[v,y]=A.useState("all"),[E,O]=A.useState(null),[M,P]=A.useState(!1),[S,I]=A.useState("pipeline"),[k,C]=A.useState(!1),{toast:w}=nr(),L=G=>{switch(G){case or.ACTIVE:return"bg-blue-50 text-blue-700 border-blue-200";case or.WON:return"bg-green-50 text-green-700 border-green-200";case or.LOST:return"bg-red-50 text-red-700 border-red-200";case or.ON_HOLD:return"bg-yellow-50 text-yellow-700 border-yellow-200";case or.CANCELLED:return"bg-gray-50 text-gray-700 border-gray-200";default:return"bg-gray-50 text-gray-700 border-gray-200"}},T=e.filter(G=>{const X=G.name.toLowerCase().includes(g.toLowerCase())||G.customerName.toLowerCase().includes(g.toLowerCase()),Z=j==="all"||G.stage===j,le=v==="all"||G.assignedTo===v;return X&&Z&&le}),W=async(G,X)=>{try{await o(G,X);const Z=e.find(le=>le.id===G);Z&&w({title:"Deal Stage Updated",description:`${Z.name} moved to ${X.replace("_"," ").toLowerCase()}`})}catch{w({title:"Error",description:"Failed to update deal stage",variant:"destructive"})}},V=G=>{O(G),C(!0)},_=()=>{O(null),P(!0)},B=G=>{O(G),P(!0)},U=async G=>{E?await o(E.id,G.stage||E.stage):await i(G),P(!1),O(null)},H=async(G,X)=>{await c(G,X)},q=async(G,X,Z)=>{await d(G,X,Z)},R=m(),$=p.map(G=>({id:G.id,name:`${G.year} ${G.make} ${G.model}`,price:G.price,category:"vehicle"})).concat([{id:"prod-001",name:"Extended Warranty Package",price:3500,category:"warranty"},{id:"prod-002",name:"Premium Interior Upgrade",price:2200,category:"upgrade"},{id:"prod-003",name:"Solar Panel Package",price:3500,category:"accessory"}]);return t.jsxs("div",{className:"space-y-8",children:[k&&E&&t.jsx(e$,{deal:E,onClose:()=>C(!1),onEdit:B}),M&&t.jsx(n$,{deal:E||void 0,customers:u,salesReps:h,territories:r,products:$,onSave:U,onCancel:()=>{P(!1),O(null)}}),t.jsx("div",{className:"ri-page-header",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"ri-page-title",children:"Sales Deal Management"}),t.jsx("p",{className:"ri-page-description",children:"Track deals through the sales pipeline with approvals and territory management"})]}),t.jsxs(ne,{className:"shadow-sm",onClick:_,children:[t.jsx(Et,{className:"h-4 w-4 mr-2"}),"New Deal"]})]})}),t.jsxs("div",{className:"ri-stats-grid",children:[t.jsxs(ue,{className:"shadow-sm border-0 bg-gradient-to-br from-blue-50 to-blue-100/50",children:[t.jsxs(be,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[t.jsx(je,{className:"text-sm font-medium text-blue-900",children:"Total Pipeline"}),t.jsx(Bt,{className:"h-4 w-4 text-blue-600"})]}),t.jsxs(me,{children:[t.jsx("div",{className:"text-2xl font-bold text-blue-900",children:Ie(R.totalValue)}),t.jsxs("p",{className:"text-xs text-blue-600 flex items-center mt-1",children:[t.jsx(vt,{className:"h-3 w-3 mr-1"}),R.totalDeals," active deals"]})]})]}),t.jsxs(ue,{className:"shadow-sm border-0 bg-gradient-to-br from-green-50 to-green-100/50",children:[t.jsxs(be,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[t.jsx(je,{className:"text-sm font-medium text-green-900",children:"Win Rate"}),t.jsx(ys,{className:"h-4 w-4 text-green-600"})]}),t.jsxs(me,{children:[t.jsxs("div",{className:"text-2xl font-bold text-green-900",children:[R.winRate.toFixed(1),"%"]}),t.jsxs("p",{className:"text-xs text-green-600 flex items-center mt-1",children:[t.jsx(vt,{className:"h-3 w-3 mr-1"}),R.wonDeals," won deals"]})]})]}),t.jsxs(ue,{className:"shadow-sm border-0 bg-gradient-to-br from-purple-50 to-purple-100/50",children:[t.jsxs(be,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[t.jsx(je,{className:"text-sm font-medium text-purple-900",children:"Avg Deal Size"}),t.jsx(Bt,{className:"h-4 w-4 text-purple-600"})]}),t.jsxs(me,{children:[t.jsx("div",{className:"text-2xl font-bold text-purple-900",children:Ie(R.averageDealSize)}),t.jsxs("p",{className:"text-xs text-purple-600 flex items-center mt-1",children:[t.jsx(vt,{className:"h-3 w-3 mr-1"}),R.averageSalesCycle.toFixed(0)," day cycle"]})]})]}),t.jsxs(ue,{className:"shadow-sm border-0 bg-gradient-to-br from-orange-50 to-orange-100/50",children:[t.jsxs(be,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[t.jsx(je,{className:"text-sm font-medium text-orange-900",children:"Territories"}),t.jsx(hd,{className:"h-4 w-4 text-orange-600"})]}),t.jsxs(me,{children:[t.jsx("div",{className:"text-2xl font-bold text-orange-900",children:r.length}),t.jsxs("p",{className:"text-xs text-orange-600 flex items-center mt-1",children:[t.jsx(pn,{className:"h-3 w-3 mr-1"}),"Active territories"]})]})]})]}),t.jsxs(Zr,{value:S,onValueChange:I,className:"space-y-6",children:[t.jsxs($r,{className:"grid w-full grid-cols-5",children:[t.jsx(it,{value:"pipeline",children:"Pipeline"}),t.jsx(it,{value:"deals",children:"Deals"}),t.jsx(it,{value:"analytics",children:"Analytics"}),t.jsx(it,{value:"territories",children:"Territories"}),t.jsx(it,{value:"approvals",children:"Approvals"})]}),t.jsx(ct,{value:"pipeline",className:"space-y-6",children:t.jsx(Qz,{deals:e,onDealStageChange:W,onDealClick:V})}),t.jsxs(ct,{value:"deals",className:"space-y-6",children:[t.jsxs("div",{className:"flex gap-4",children:[t.jsxs("div",{className:"ri-search-bar",children:[t.jsx(Jn,{className:"ri-search-icon"}),t.jsx(Te,{placeholder:"Search deals...",value:g,onChange:G=>b(G.target.value),className:"ri-search-input shadow-sm"})]}),t.jsxs(tt,{value:j,onValueChange:x,children:[t.jsx(Xe,{className:"w-40",children:t.jsx(rt,{placeholder:"Stage"})}),t.jsxs(Ze,{children:[t.jsx(se,{value:"all",children:"All Stages"}),t.jsx(se,{value:pt.PROSPECTING,children:"Prospecting"}),t.jsx(se,{value:pt.QUALIFICATION,children:"Qualification"}),t.jsx(se,{value:pt.NEEDS_ANALYSIS,children:"Needs Analysis"}),t.jsx(se,{value:pt.PROPOSAL,children:"Proposal"}),t.jsx(se,{value:pt.NEGOTIATION,children:"Negotiation"}),t.jsx(se,{value:pt.CLOSED_WON,children:"Closed Won"}),t.jsx(se,{value:pt.CLOSED_LOST,children:"Closed Lost"})]})]}),t.jsxs(tt,{value:v,onValueChange:y,children:[t.jsx(Xe,{className:"w-40",children:t.jsx(rt,{placeholder:"Sales Rep"})}),t.jsxs(Ze,{children:[t.jsx(se,{value:"all",children:"All Reps"}),h.map(G=>t.jsx(se,{value:G.id,children:G.name},G.id))]})]}),t.jsxs(ne,{variant:"outline",className:"shadow-sm",children:[t.jsx(Ws,{className:"h-4 w-4 mr-2"}),"Filter"]})]}),t.jsxs(ue,{className:"shadow-sm",children:[t.jsxs(be,{children:[t.jsxs(je,{className:"text-xl",children:["Deals (",T.length,")"]}),t.jsx(Ge,{children:"Manage your sales pipeline and deal progression"})]}),t.jsx(me,{children:t.jsxs("div",{className:"space-y-4",children:[T.map(G=>{var X;return t.jsxs("div",{className:"ri-table-row cursor-pointer",onClick:()=>B(G),children:[t.jsx("div",{className:"flex items-center space-x-4 flex-1",children:t.jsxs("div",{className:"flex-1",children:[t.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[t.jsx("h3",{className:"font-semibold text-foreground",children:G.name}),t.jsx(Re,{className:ze("ri-badge-status",L(G.status)),children:G.status.toUpperCase()}),t.jsx(Re,{variant:"outline",children:G.stage.replace("_"," ").toUpperCase()})]}),t.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2 text-sm text-muted-foreground",children:[t.jsxs("span",{className:"flex items-center",children:[t.jsx(pn,{className:"h-3 w-3 mr-2 text-blue-500"}),G.customerName]}),t.jsxs("span",{className:"flex items-center",children:[t.jsx(Bt,{className:"h-3 w-3 mr-2 text-green-500"}),Ie(G.value)]}),t.jsxs("span",{className:"flex items-center",children:[t.jsx(ys,{className:"h-3 w-3 mr-2 text-purple-500"}),G.probability,"% probability"]}),t.jsxs("span",{className:"flex items-center",children:[t.jsx(hd,{className:"h-3 w-3 mr-2 text-orange-500"}),((X=r.find(Z=>Z.id===G.territoryId))==null?void 0:X.name)||"No Territory"]})]}),G.notes&&t.jsx("p",{className:"text-sm text-muted-foreground mt-2 bg-muted/30 p-2 rounded-md",children:G.notes})]})}),t.jsxs("div",{className:"ri-action-buttons",children:[t.jsx(ne,{variant:"outline",size:"sm",className:"shadow-sm",onClick:Z=>{Z.stopPropagation(),V(G)},children:"View"}),G.requiresApproval&&t.jsx(ne,{variant:"outline",size:"sm",className:"shadow-sm",onClick:Z=>{Z.stopPropagation(),H(G.id,"deal_value")},children:"Request Approval"})]})]},G.id)}),T.length===0&&t.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[t.jsx(ys,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground/50"}),t.jsx("p",{children:"No deals found"}),t.jsx("p",{className:"text-sm",children:"Create your first deal to get started"})]})]})})]})]}),t.jsx(ct,{value:"analytics",className:"space-y-6",children:t.jsxs(Zr,{defaultValue:"metrics",className:"space-y-6",children:[t.jsxs($r,{children:[t.jsx(it,{value:"metrics",children:"Deal Metrics"}),t.jsx(it,{value:"win-loss",children:"Win/Loss Analysis"})]}),t.jsx(ct,{value:"metrics",children:t.jsx(Yz,{metrics:R})}),t.jsx(ct,{value:"win-loss",children:t.jsx(Zz,{deals:e,winLossReports:s,onCreateReport:q})})]})}),t.jsx(ct,{value:"territories",className:"space-y-6",children:t.jsx(t$,{territories:r,salesReps:h,deals:e,onCreateTerritory:()=>{},onUpdateTerritory:()=>{},onDeleteTerritory:()=>{}})}),t.jsx(ct,{value:"approvals",className:"space-y-6",children:t.jsx(r$,{deals:e,approvalWorkflows:n,onApprove:()=>{},onReject:()=>{},onEscalate:()=>{}})})]})]})}function s$(){return t.jsxs(Fn,{children:[t.jsx(Pt,{path:"/",element:t.jsx(c5,{})}),t.jsx(Pt,{path:"/*",element:t.jsx(c5,{})})]})}const a$=[{id:"1",type:El.PURCHASE,customerId:"cust-1",vehicleId:"veh-1",quoteId:"quote-1",status:Ea.SIGNED,signedDate:new Date("2024-01-18"),effectiveDate:new Date("2024-01-18"),expirationDate:new Date("2025-01-18"),terms:"Standard purchase agreement with 90-day warranty",documents:[{id:"1",name:"Purchase Agreement.pdf",type:"application/pdf",url:"/documents/purchase-agreement-1.pdf",size:245760,uploadedAt:new Date("2024-01-18")}],customFields:{},createdAt:new Date("2024-01-15"),updatedAt:new Date("2024-01-18")},{id:"2",type:El.SERVICE,customerId:"cust-2",status:Ea.ACTIVE,effectiveDate:new Date("2024-01-10"),expirationDate:new Date("2024-07-10"),terms:"Extended service contract for 6 months",documents:[{id:"2",name:"Service Contract.pdf",type:"application/pdf",url:"/documents/service-contract-2.pdf",size:189440,uploadedAt:new Date("2024-01-10")}],customFields:{},createdAt:new Date("2024-01-08"),updatedAt:new Date("2024-01-10")}];function d5(){const[e]=A.useState(a$),[r,n]=A.useState(""),s=o=>{switch(o){case Ea.DRAFT:return"bg-gray-50 text-gray-700 border-gray-200";case Ea.PENDING:return"bg-yellow-50 text-yellow-700 border-yellow-200";case Ea.SIGNED:return"bg-blue-50 text-blue-700 border-blue-200";case Ea.ACTIVE:return"bg-green-50 text-green-700 border-green-200";case Ea.EXPIRED:return"bg-orange-50 text-orange-700 border-orange-200";case Ea.CANCELLED:return"bg-red-50 text-red-700 border-red-200";default:return"bg-gray-50 text-gray-700 border-gray-200"}},a=o=>{switch(o){case El.PURCHASE:return"bg-blue-50 text-blue-700 border-blue-200";case El.LEASE:return"bg-purple-50 text-purple-700 border-purple-200";case El.SERVICE:return"bg-green-50 text-green-700 border-green-200";case El.WARRANTY:return"bg-orange-50 text-orange-700 border-orange-200";default:return"bg-gray-50 text-gray-700 border-gray-200"}},i=e.filter(o=>o.id.toLowerCase().includes(r.toLowerCase())||o.customerId.toLowerCase().includes(r.toLowerCase())||o.type.toLowerCase().includes(r.toLowerCase()));return t.jsxs("div",{className:"space-y-8",children:[t.jsx("div",{className:"ri-page-header",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"ri-page-title",children:"Agreement Vault"}),t.jsx("p",{className:"ri-page-description",children:"Manage contracts, agreements, and legal documents"})]}),t.jsxs(ne,{className:"shadow-sm",children:[t.jsx(Et,{className:"h-4 w-4 mr-2"}),"New Agreement"]})]})}),t.jsxs("div",{className:"ri-stats-grid",children:[t.jsxs(ue,{className:"shadow-sm border-0 bg-gradient-to-br from-blue-50 to-blue-100/50",children:[t.jsxs(be,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[t.jsx(je,{className:"text-sm font-medium text-blue-900",children:"Total Agreements"}),t.jsx(Fh,{className:"h-4 w-4 text-blue-600"})]}),t.jsxs(me,{children:[t.jsx("div",{className:"text-2xl font-bold text-blue-900",children:e.length}),t.jsxs("p",{className:"text-xs text-blue-600 flex items-center mt-1",children:[t.jsx(vt,{className:"h-3 w-3 mr-1"}),"All contracts"]})]})]}),t.jsxs(ue,{className:"shadow-sm border-0 bg-gradient-to-br from-green-50 to-green-100/50",children:[t.jsxs(be,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[t.jsx(je,{className:"text-sm font-medium text-green-900",children:"Active"}),t.jsx(Fh,{className:"h-4 w-4 text-green-600"})]}),t.jsxs(me,{children:[t.jsx("div",{className:"text-2xl font-bold text-green-900",children:e.filter(o=>o.status===Ea.ACTIVE).length}),t.jsxs("p",{className:"text-xs text-green-600 flex items-center mt-1",children:[t.jsx(vt,{className:"h-3 w-3 mr-1"}),"Currently active"]})]})]}),t.jsxs(ue,{className:"shadow-sm border-0 bg-gradient-to-br from-yellow-50 to-yellow-100/50",children:[t.jsxs(be,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[t.jsx(je,{className:"text-sm font-medium text-yellow-900",children:"Pending"}),t.jsx(Fh,{className:"h-4 w-4 text-yellow-600"})]}),t.jsxs(me,{children:[t.jsx("div",{className:"text-2xl font-bold text-yellow-900",children:e.filter(o=>o.status===Ea.PENDING).length}),t.jsxs("p",{className:"text-xs text-yellow-600 flex items-center mt-1",children:[t.jsx(zr,{className:"h-3 w-3 mr-1"}),"Awaiting signature"]})]})]}),t.jsxs(ue,{className:"shadow-sm border-0 bg-gradient-to-br from-orange-50 to-orange-100/50",children:[t.jsxs(be,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[t.jsx(je,{className:"text-sm font-medium text-orange-900",children:"Expiring Soon"}),t.jsx(zr,{className:"h-4 w-4 text-orange-600"})]}),t.jsxs(me,{children:[t.jsx("div",{className:"text-2xl font-bold text-orange-900",children:"0"}),t.jsxs("p",{className:"text-xs text-orange-600 flex items-center mt-1",children:[t.jsx(zr,{className:"h-3 w-3 mr-1"}),"Next 30 days"]})]})]})]}),t.jsxs("div",{className:"flex gap-4",children:[t.jsxs("div",{className:"ri-search-bar",children:[t.jsx(Jn,{className:"ri-search-icon"}),t.jsx(Te,{placeholder:"Search agreements...",value:r,onChange:o=>n(o.target.value),className:"ri-search-input shadow-sm"})]}),t.jsxs(ne,{variant:"outline",className:"shadow-sm",children:[t.jsx(Ws,{className:"h-4 w-4 mr-2"}),"Filter"]})]}),t.jsxs(ue,{className:"shadow-sm",children:[t.jsxs(be,{children:[t.jsx(je,{className:"text-xl",children:"Agreements"}),t.jsx(Ge,{children:"Manage contracts, purchase agreements, and legal documents"})]}),t.jsx(me,{children:t.jsx("div",{className:"space-y-4",children:i.map(o=>t.jsxs("div",{className:"ri-table-row",children:[t.jsx("div",{className:"flex items-center space-x-4 flex-1",children:t.jsxs("div",{className:"flex-1",children:[t.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[t.jsxs("h3",{className:"font-semibold text-foreground",children:["Agreement #",o.id]}),t.jsx(Re,{className:ze("ri-badge-status",a(o.type)),children:o.type.toUpperCase()}),t.jsx(Re,{className:ze("ri-badge-status",s(o.status)),children:o.status.toUpperCase()})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm text-muted-foreground",children:[t.jsxs("div",{children:[t.jsx("span",{className:"font-medium",children:"Customer:"})," ",o.customerId]}),t.jsxs("div",{children:[t.jsx("span",{className:"font-medium",children:"Effective:"})," ",gt(o.effectiveDate)]}),t.jsxs("div",{children:[t.jsx("span",{className:"font-medium",children:"Documents:"})," ",o.documents.length]}),o.expirationDate&&t.jsxs("div",{children:[t.jsx("span",{className:"font-medium",children:"Expires:"})," ",gt(o.expirationDate)]})]}),t.jsx("div",{className:"mt-2 bg-muted/30 p-2 rounded-md",children:t.jsx("p",{className:"text-sm text-muted-foreground",children:o.terms})})]})}),t.jsxs("div",{className:"ri-action-buttons",children:[t.jsxs(ne,{variant:"outline",size:"sm",className:"shadow-sm",children:[t.jsx(tl,{className:"h-3 w-3 mr-1"}),"View"]}),t.jsxs(ne,{variant:"outline",size:"sm",className:"shadow-sm",children:[t.jsx(Xr,{className:"h-3 w-3 mr-1"}),"Edit"]}),t.jsxs(ne,{variant:"outline",size:"sm",className:"shadow-sm",children:[t.jsx(Wo,{className:"h-3 w-3 mr-1"}),"Download"]})]})]},o.id))})})]})]})}function i$(){return t.jsxs(Fn,{children:[t.jsx(Pt,{path:"/",element:t.jsx(d5,{})}),t.jsx(Pt,{path:"/*",element:t.jsx(d5,{})})]})}function o$(){const[e,r]=A.useState([]),[n,s]=A.useState(!1);A.useEffect(()=>{a()},[]);const a=()=>{const j=vn("renter-insight-service-tickets",[{id:"1",customerId:"cust-1",vehicleId:"veh-1",title:"Annual Maintenance Service",description:"Complete annual maintenance including oil change, filter replacement, and system checks",priority:wr.MEDIUM,status:Vt.IN_PROGRESS,assignedTo:"Tech-001",scheduledDate:new Date("2024-01-20"),parts:[{id:"1",partNumber:"OIL-001",description:"Engine Oil Filter",quantity:1,unitCost:25.99,total:25.99}],labor:[{id:"1",description:"Annual Maintenance",hours:3,rate:85,total:255}],notes:"Customer requested additional inspection of brake system",customFields:{warrantyStatus:"not_covered",estimatedCompletionDate:"2024-01-22",customerAuthorization:!0,technicianNotes:"Check brake pads and rotors during service",customerPortalAccess:!0},createdAt:new Date("2024-01-15"),updatedAt:new Date("2024-01-18")},{id:"2",customerId:"cust-2",vehicleId:"veh-2",title:"AC System Repair",description:"Air conditioning not cooling properly, needs diagnostic and repair",priority:wr.HIGH,status:Vt.WAITING_PARTS,assignedTo:"Tech-002",scheduledDate:new Date("2024-01-22"),parts:[{id:"2",partNumber:"AC-COMP-001",description:"AC Compressor",quantity:1,unitCost:450,total:450}],labor:[{id:"2",description:"AC System Diagnostic",hours:2,rate:85,total:170}],notes:"Waiting for compressor part to arrive",customFields:{warrantyStatus:"partial",estimatedCompletionDate:"2024-01-25",customerAuthorization:!0,technicianNotes:"Compressor needs replacement, on order from supplier",customerPortalAccess:!0},createdAt:new Date("2024-01-12"),updatedAt:new Date("2024-01-16")}]);r(j)},i=j=>{Hr("renter-insight-service-tickets",j)};return{tickets:e,loading:n,getTicketsByCustomerId:j=>e.filter(x=>x.customerId===j),getTicketsByVehicleId:j=>e.filter(x=>x.vehicleId===j),getTicketById:j=>e.find(x=>x.id===j),createTicket:async j=>{s(!0);try{const x={id:Math.random().toString(36).substr(2,9),customerId:j.customerId||"",vehicleId:j.vehicleId,title:j.title||"",description:j.description||"",priority:j.priority||wr.MEDIUM,status:j.status||Vt.OPEN,assignedTo:j.assignedTo,scheduledDate:j.scheduledDate,parts:j.parts||[],labor:j.labor||[],notes:j.notes||"",customFields:j.customFields||{},createdAt:new Date,updatedAt:new Date},v=[...e,x];return r(v),i(v),x}finally{s(!1)}},updateTicket:async(j,x)=>{const v=e.map(y=>y.id===j?{...y,...x,updatedAt:new Date}:y);r(v),i(v)},deleteTicket:async j=>{const x=e.filter(v=>v.id!==j);r(x),i(x)},updateTicketStatus:async(j,x)=>{const v=e.map(y=>y.id===j?{...y,status:x,completedDate:x===Vt.COMPLETED?new Date:y.completedDate,updatedAt:new Date}:y);r(v),i(v)},assignTechnician:async(j,x)=>{const v=e.map(y=>y.id===j?{...y,assignedTo:x,updatedAt:new Date}:y);r(v),i(v)},addPart:async(j,x)=>{if(!e.find(O=>O.id===j))return null;const y={id:Math.random().toString(36).substr(2,9),partNumber:x.partNumber||"",description:x.description||"",quantity:x.quantity||1,unitCost:x.unitCost||0,total:x.total||0},E=e.map(O=>O.id===j?{...O,parts:[...O.parts,y],updatedAt:new Date}:O);return r(E),i(E),y},addLabor:async(j,x)=>{if(!e.find(O=>O.id===j))return null;const y={id:Math.random().toString(36).substr(2,9),description:x.description||"",hours:x.hours||1,rate:x.rate||85,total:x.total||85},E=e.map(O=>O.id===j?{...O,labor:[...O.labor,y],updatedAt:new Date}:O);return r(E),i(E),y}}}function l$({ticket:e,onSave:r,onCancel:n}){var T,W,V,_,B,U,H;const{toast:s}=nr(),{vehicles:a}=rl(),{leads:i}=Yi(),[o,l]=A.useState(!1),[c,d]=A.useState(!1),[m,u]=A.useState({customerId:"",vehicleId:"",title:"",description:"",priority:wr.MEDIUM,status:Vt.OPEN,assignedTo:"",scheduledDate:void 0,notes:"",parts:[],labor:[],customFields:{warrantyStatus:"not_covered",estimatedCompletionDate:"",customerAuthorization:!1,technicianNotes:"",customerPortalAccess:!0}}),[h,p]=A.useState(!1),[g,b]=A.useState(!1),[j,x]=A.useState({partNumber:"",description:"",quantity:1,unitCost:0,total:0}),[v,y]=A.useState({description:"",hours:1,rate:85,total:85});A.useEffect(()=>{var q,R,$,G,X;e&&u({...e,customFields:{...e.customFields,warrantyStatus:((q=e.customFields)==null?void 0:q.warrantyStatus)||"not_covered",estimatedCompletionDate:((R=e.customFields)==null?void 0:R.estimatedCompletionDate)||"",customerAuthorization:(($=e.customFields)==null?void 0:$.customerAuthorization)||!1,technicianNotes:((G=e.customFields)==null?void 0:G.technicianNotes)||"",customerPortalAccess:((X=e.customFields)==null?void 0:X.customerPortalAccess)!==!1}})},[e]),A.useEffect(()=>{const q=j.quantity||1,R=j.unitCost||0;x($=>({...$,total:q*R}))},[j.quantity,j.unitCost]),A.useEffect(()=>{const q=v.hours||1,R=v.rate||85;y($=>({...$,total:q*R}))},[v.hours,v.rate]);const E=async q=>{if(q.preventDefault(),!m.customerId||!m.title||!m.description){s({title:"Validation Error",description:"Please fill in all required fields",variant:"destructive"});return}l(!0);try{await r(m),s({title:"Success",description:`Service ticket ${e?"updated":"created"} successfully`})}catch{s({title:"Error",description:`Failed to ${e?"update":"create"} service ticket`,variant:"destructive"})}finally{l(!1)}},O=q=>{q==="add-new"?d(!0):u(R=>({...R,customerId:q}))},M=q=>{u(R=>({...R,customerId:q.id})),d(!1),s({title:"Customer Added",description:`${q.firstName} ${q.lastName} has been added as a customer.`})},P=()=>{if(!j.partNumber||!j.description){s({title:"Validation Error",description:"Part number and description are required",variant:"destructive"});return}const q={id:Math.random().toString(36).substr(2,9),partNumber:j.partNumber||"",description:j.description||"",quantity:j.quantity||1,unitCost:j.unitCost||0,total:j.total||0};u(R=>({...R,parts:[...R.parts||[],q]})),x({partNumber:"",description:"",quantity:1,unitCost:0,total:0}),p(!1)},S=q=>{u(R=>{var $;return{...R,parts:(($=R.parts)==null?void 0:$.filter(G=>G.id!==q))||[]}})},I=()=>{if(!v.description){s({title:"Validation Error",description:"Labor description is required",variant:"destructive"});return}const q={id:Math.random().toString(36).substr(2,9),description:v.description||"",hours:v.hours||1,rate:v.rate||85,total:v.total||85};u(R=>({...R,labor:[...R.labor||[],q]})),y({description:"",hours:1,rate:85,total:85}),b(!1)},k=q=>{u(R=>{var $;return{...R,labor:(($=R.labor)==null?void 0:$.filter(G=>G.id!==q))||[]}})},w=(()=>{var $,G;const q=(($=m.parts)==null?void 0:$.reduce((X,Z)=>X+Z.total,0))||0,R=((G=m.labor)==null?void 0:G.reduce((X,Z)=>X+Z.total,0))||0;return{partsTotal:q,laborTotal:R,grandTotal:q+R}})(),L=[{id:"Tech-001",name:"John Smith"},{id:"Tech-002",name:"Sarah Johnson"},{id:"Tech-003",name:"Mike Davis"}];return t.jsxs("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:[c&&t.jsx(kd,{onClose:()=>d(!1),onSuccess:M}),t.jsxs(ue,{className:"w-full max-w-4xl max-h-[90vh] overflow-y-auto mx-2 sm:mx-4",children:[t.jsx(be,{children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx(je,{children:e?"Edit Service Ticket":"Create Service Ticket"}),t.jsx(Ge,{children:e?"Update service ticket details":"Create a new service ticket"})]}),t.jsx(ne,{variant:"ghost",size:"sm",onClick:n,children:t.jsx(qt,{className:"h-4 w-4"})})]})}),t.jsx(me,{children:t.jsxs("form",{onSubmit:E,className:"space-y-6",children:[t.jsxs("div",{className:"space-y-4",children:[t.jsx("h3",{className:"text-lg font-semibold",children:"Ticket Information"}),t.jsxs("div",{className:"grid gap-4 grid-cols-1 md:grid-cols-2",children:[t.jsxs("div",{children:[t.jsx(ve,{htmlFor:"customerId",children:"Customer *"}),t.jsxs(tt,{value:m.customerId,onValueChange:O,children:[t.jsx(Xe,{children:t.jsx(rt,{placeholder:"Select customer"})}),t.jsxs(Ze,{children:[t.jsx("div",{className:"px-2 py-1.5",children:t.jsxs(ne,{variant:"outline",size:"sm",className:"w-full justify-start",onClick:()=>O("add-new"),children:[t.jsx(Et,{className:"h-3.5 w-3.5 mr-2"}),"Add New Customer"]})}),t.jsx("div",{className:"px-2 py-1 border-t"}),i.map(q=>t.jsxs(se,{value:q.id,children:[q.firstName," ",q.lastName]},q.id))]})]})]}),t.jsxs("div",{children:[t.jsx(ve,{htmlFor:"vehicleId",children:"Vehicle"}),t.jsxs(tt,{value:m.vehicleId,onValueChange:q=>u(R=>({...R,vehicleId:q})),children:[t.jsx(Xe,{children:t.jsx(rt,{placeholder:"Select vehicle (optional)"})}),t.jsxs(Ze,{children:[t.jsx(se,{value:"",children:"No Vehicle"}),a.map(q=>t.jsxs(se,{value:q.id,children:[q.year," ",q.make," ",q.model]},q.id))]})]})]})]}),t.jsxs("div",{children:[t.jsx(ve,{htmlFor:"title",children:"Service Title *"}),t.jsx(Te,{id:"title",value:m.title,onChange:q=>u(R=>({...R,title:q.target.value})),placeholder:"e.g., Annual Maintenance Service"})]}),t.jsxs("div",{children:[t.jsx(ve,{htmlFor:"description",children:"Description *"}),t.jsx(rr,{id:"description",value:m.description,onChange:q=>u(R=>({...R,description:q.target.value})),placeholder:"Describe the service needed",rows:3})]}),t.jsxs("div",{className:"grid gap-4 grid-cols-1 sm:grid-cols-2 md:grid-cols-3",children:[t.jsxs("div",{children:[t.jsx(ve,{htmlFor:"priority",children:"Priority"}),t.jsxs(tt,{value:m.priority,onValueChange:q=>u(R=>({...R,priority:q})),children:[t.jsx(Xe,{children:t.jsx(rt,{})}),t.jsxs(Ze,{children:[t.jsx(se,{value:wr.LOW,children:"Low"}),t.jsx(se,{value:wr.MEDIUM,children:"Medium"}),t.jsx(se,{value:wr.HIGH,children:"High"}),t.jsx(se,{value:wr.URGENT,children:"Urgent"})]})]})]}),t.jsxs("div",{children:[t.jsx(ve,{htmlFor:"status",children:"Status"}),t.jsxs(tt,{value:m.status,onValueChange:q=>u(R=>({...R,status:q})),children:[t.jsx(Xe,{children:t.jsx(rt,{})}),t.jsxs(Ze,{children:[t.jsx(se,{value:Vt.OPEN,children:"Open"}),t.jsx(se,{value:Vt.IN_PROGRESS,children:"In Progress"}),t.jsx(se,{value:Vt.WAITING_PARTS,children:"Waiting for Parts"}),t.jsx(se,{value:Vt.COMPLETED,children:"Completed"}),t.jsx(se,{value:Vt.CANCELLED,children:"Cancelled"})]})]})]}),t.jsxs("div",{children:[t.jsx(ve,{htmlFor:"assignedTo",children:"Assigned Technician"}),t.jsxs(tt,{value:m.assignedTo,onValueChange:q=>u(R=>({...R,assignedTo:q})),children:[t.jsx(Xe,{children:t.jsx(rt,{placeholder:"Select technician"})}),t.jsxs(Ze,{children:[t.jsx(se,{value:"",children:"Unassigned"}),L.map(q=>t.jsx(se,{value:q.id,children:q.name},q.id))]})]})]})]}),t.jsxs("div",{className:"grid gap-4 grid-cols-1 md:grid-cols-2",children:[t.jsxs("div",{children:[t.jsx(ve,{htmlFor:"scheduledDate",children:"Scheduled Date"}),t.jsx(Te,{id:"scheduledDate",type:"date",value:m.scheduledDate?new Date(m.scheduledDate).toISOString().split("T")[0]:"",onChange:q=>u(R=>({...R,scheduledDate:q.target.value?new Date(q.target.value):void 0}))})]}),t.jsxs("div",{children:[t.jsx(ve,{htmlFor:"estimatedCompletionDate",children:"Estimated Completion"}),t.jsx(Te,{id:"estimatedCompletionDate",type:"date",value:((T=m.customFields)==null?void 0:T.estimatedCompletionDate)||"",onChange:q=>u(R=>({...R,customFields:{...R.customFields,estimatedCompletionDate:q.target.value}}))})]})]})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsx("h3",{className:"text-lg font-semibold",children:"Warranty Information"}),t.jsxs("div",{className:"grid gap-4 grid-cols-1 md:grid-cols-2",children:[t.jsxs("div",{children:[t.jsx(ve,{htmlFor:"warrantyStatus",children:"Warranty Status"}),t.jsxs(tt,{value:((W=m.customFields)==null?void 0:W.warrantyStatus)||"not_covered",onValueChange:q=>u(R=>({...R,customFields:{...R.customFields,warrantyStatus:q}})),children:[t.jsx(Xe,{children:t.jsx(rt,{})}),t.jsxs(Ze,{children:[t.jsx(se,{value:"covered",children:"Covered by Warranty"}),t.jsx(se,{value:"partial",children:"Partially Covered"}),t.jsx(se,{value:"not_covered",children:"Not Covered"}),t.jsx(se,{value:"extended",children:"Extended Warranty"}),t.jsx(se,{value:"expired",children:"Warranty Expired"})]})]})]}),t.jsxs("div",{className:"flex items-center space-x-2 pt-8",children:[t.jsx(Tr,{id:"customerAuthorization",checked:((V=m.customFields)==null?void 0:V.customerAuthorization)||!1,onCheckedChange:q=>u(R=>({...R,customFields:{...R.customFields,customerAuthorization:!!q}}))}),t.jsx(ve,{htmlFor:"customerAuthorization",children:"Customer has authorized work"})]})]})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("h3",{className:"text-lg font-semibold",children:"Parts"}),t.jsxs(ne,{type:"button",onClick:()=>p(!0),size:"sm",children:[t.jsx(Et,{className:"h-4 w-4 mr-2"}),"Add Part"]})]}),h&&t.jsx(ue,{className:"border-dashed",children:t.jsxs(me,{className:"pt-6",children:[t.jsxs("div",{className:"grid gap-4 grid-cols-1 md:grid-cols-2",children:[t.jsxs("div",{children:[t.jsx(ve,{htmlFor:"partNumber",children:"Part Number *"}),t.jsx(Te,{id:"partNumber",value:j.partNumber,onChange:q=>x(R=>({...R,partNumber:q.target.value})),placeholder:"e.g., AC-COMP-001"})]}),t.jsxs("div",{children:[t.jsx(ve,{htmlFor:"partDescription",children:"Description *"}),t.jsx(Te,{id:"partDescription",value:j.description,onChange:q=>x(R=>({...R,description:q.target.value})),placeholder:"e.g., AC Compressor"})]}),t.jsxs("div",{children:[t.jsx(ve,{htmlFor:"partQuantity",children:"Quantity"}),t.jsx(Te,{id:"partQuantity",type:"number",min:"1",value:j.quantity,onChange:q=>x(R=>({...R,quantity:parseInt(q.target.value)||1}))})]}),t.jsxs("div",{children:[t.jsx(ve,{htmlFor:"partUnitCost",children:"Unit Cost"}),t.jsx(Te,{id:"partUnitCost",type:"number",step:"0.01",min:"0",value:j.unitCost,onChange:q=>x(R=>({...R,unitCost:parseFloat(q.target.value)||0}))})]})]}),t.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mt-4 gap-2",children:[t.jsxs("div",{children:[t.jsx("span",{className:"text-sm font-medium",children:"Total: "}),t.jsx("span",{className:"font-bold",children:Ie(j.total||0)})]}),t.jsxs("div",{className:"flex flex-col sm:flex-row space-y-2 sm:space-y-0 sm:space-x-2 w-full sm:w-auto",children:[t.jsx(ne,{type:"button",variant:"outline",onClick:()=>p(!1),className:"w-full sm:w-auto",children:"Cancel"}),t.jsx(ne,{type:"button",onClick:P,className:"w-full sm:w-auto",children:"Add Part"})]})]})]})}),t.jsx("div",{className:"space-y-3",children:m.parts&&m.parts.length>0?m.parts.map(q=>t.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[t.jsxs("div",{className:"flex-1",children:[t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("span",{className:"font-medium",children:q.description}),t.jsx(Re,{variant:"outline",children:q.partNumber})]}),t.jsxs("p",{className:"text-sm text-muted-foreground",children:["Quantity: ",q.quantity,"  ",Ie(q.unitCost)]})]}),t.jsxs("div",{className:"flex items-center space-x-4",children:[t.jsx("span",{className:"font-bold",children:Ie(q.total)}),t.jsx(ne,{type:"button",variant:"ghost",size:"sm",onClick:()=>S(q.id),children:t.jsx(bs,{className:"h-4 w-4 text-red-500"})})]})]},q.id)):t.jsxs("div",{className:"text-center py-6 text-muted-foreground border-2 border-dashed rounded-lg",children:[t.jsx(Cl,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground/50"}),t.jsx("p",{children:"No parts added yet"}),t.jsx("p",{className:"text-sm",children:"Add parts needed for this service"})]})})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("h3",{className:"text-lg font-semibold",children:"Labor"}),t.jsxs(ne,{type:"button",onClick:()=>b(!0),size:"sm",children:[t.jsx(Et,{className:"h-4 w-4 mr-2"}),"Add Labor"]})]}),g&&t.jsx(ue,{className:"border-dashed",children:t.jsxs(me,{className:"pt-6",children:[t.jsxs("div",{className:"grid gap-4 grid-cols-1 md:grid-cols-3",children:[t.jsxs("div",{className:"col-span-1 md:col-span-3",children:[t.jsx(ve,{htmlFor:"laborDescription",children:"Description *"}),t.jsx(Te,{id:"laborDescription",value:v.description,onChange:q=>y(R=>({...R,description:q.target.value})),placeholder:"e.g., Diagnostic and Repair"})]}),t.jsxs("div",{children:[t.jsx(ve,{htmlFor:"laborHours",children:"Hours"}),t.jsx(Te,{id:"laborHours",type:"number",step:"0.5",min:"0.5",value:v.hours,onChange:q=>y(R=>({...R,hours:parseFloat(q.target.value)||1}))})]}),t.jsxs("div",{children:[t.jsx(ve,{htmlFor:"laborRate",children:"Hourly Rate"}),t.jsx(Te,{id:"laborRate",type:"number",step:"0.01",min:"0",value:v.rate,onChange:q=>y(R=>({...R,rate:parseFloat(q.target.value)||85}))})]}),t.jsxs("div",{children:[t.jsx(ve,{children:"Total"}),t.jsx("div",{className:"h-10 px-3 py-2 rounded-md border border-input bg-muted/50 flex items-center",children:Ie(v.total||0)})]})]}),t.jsxs("div",{className:"flex flex-col sm:flex-row justify-end space-y-2 sm:space-y-0 sm:space-x-2 mt-4",children:[t.jsx(ne,{type:"button",variant:"outline",onClick:()=>b(!1),className:"w-full sm:w-auto",children:"Cancel"}),t.jsx(ne,{type:"button",onClick:I,className:"w-full sm:w-auto",children:"Add Labor"})]})]})}),t.jsx("div",{className:"space-y-3",children:m.labor&&m.labor.length>0?m.labor.map(q=>t.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[t.jsxs("div",{className:"flex-1",children:[t.jsx("div",{className:"font-medium",children:q.description}),t.jsxs("p",{className:"text-sm text-muted-foreground",children:[q.hours," hours  ",Ie(q.rate),"/hr"]})]}),t.jsxs("div",{className:"flex items-center space-x-4",children:[t.jsx("span",{className:"font-bold",children:Ie(q.total)}),t.jsx(ne,{type:"button",variant:"ghost",size:"sm",onClick:()=>k(q.id),children:t.jsx(bs,{className:"h-4 w-4 text-red-500"})})]})]},q.id)):t.jsxs("div",{className:"text-center py-6 text-muted-foreground border-2 border-dashed rounded-lg",children:[t.jsx(cr,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground/50"}),t.jsx("p",{children:"No labor added yet"}),t.jsx("p",{className:"text-sm",children:"Add labor for this service"})]})})]}),(((_=m.parts)==null?void 0:_.length)>0||((B=m.labor)==null?void 0:B.length)>0)&&t.jsx(ue,{className:"bg-muted/30",children:t.jsx(me,{className:"pt-6",children:t.jsxs("div",{className:"space-y-2",children:[t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{children:"Parts Total:"}),t.jsx("span",{children:Ie(w.partsTotal)})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{children:"Labor Total:"}),t.jsx("span",{children:Ie(w.laborTotal)})]}),t.jsxs("div",{className:"flex justify-between text-lg font-bold border-t pt-2",children:[t.jsx("span",{children:"Grand Total:"}),t.jsx("span",{children:Ie(w.grandTotal)})]})]})})}),t.jsxs("div",{className:"space-y-4",children:[t.jsx("h3",{className:"text-lg font-semibold",children:"Additional Information"}),t.jsxs("div",{children:[t.jsx(ve,{htmlFor:"technicianNotes",children:"Technician Notes"}),t.jsx(rr,{id:"technicianNotes",value:((U=m.customFields)==null?void 0:U.technicianNotes)||"",onChange:q=>u(R=>({...R,customFields:{...R.customFields,technicianNotes:q.target.value}})),placeholder:"Notes for technicians only (not visible to customer)",rows:3})]}),t.jsxs("div",{children:[t.jsx(ve,{htmlFor:"notes",children:"Customer Notes"}),t.jsx(rr,{id:"notes",value:m.notes,onChange:q=>u(R=>({...R,notes:q.target.value})),placeholder:"Notes visible to the customer",rows:3})]}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(Tr,{id:"customerPortalAccess",checked:((H=m.customFields)==null?void 0:H.customerPortalAccess)!==!1,onCheckedChange:q=>u(R=>({...R,customFields:{...R.customFields,customerPortalAccess:!!q}}))}),t.jsx(ve,{htmlFor:"customerPortalAccess",children:"Allow customer to view this ticket in portal"})]})]}),t.jsxs("div",{className:"flex flex-col sm:flex-row justify-end space-y-2 sm:space-y-0 sm:space-x-3 pt-6 border-t",children:[t.jsx(ne,{type:"button",variant:"outline",onClick:n,disabled:o,className:"w-full sm:w-auto",children:"Cancel"}),t.jsx(ne,{type:"submit",disabled:o,className:"w-full sm:w-auto",children:o?t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),e?"Updating...":"Creating..."]}):t.jsxs(t.Fragment,{children:[t.jsx(js,{className:"h-4 w-4 mr-2"}),e?"Update":"Create"," Ticket"]})})]})]})})]})]})}const c$="modulepreload",d$=function(e){return"/"+e},u5={},u1=function(r,n,s){if(!n||n.length===0)return r();const a=document.getElementsByTagName("link");return Promise.all(n.map(i=>{if(i=d$(i),i in u5)return;u5[i]=!0;const o=i.endsWith(".css"),l=o?'[rel="stylesheet"]':"";if(!!s)for(let m=a.length-1;m>=0;m--){const u=a[m];if(u.href===i&&(!o||u.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${i}"]${l}`))return;const d=document.createElement("link");if(d.rel=o?"stylesheet":c$,o||(d.as="script",d.crossOrigin=""),d.href=i,document.head.appendChild(d),o)return new Promise((m,u)=>{d.addEventListener("load",m),d.addEventListener("error",()=>u(new Error(`Unable to preload CSS for ${i}`)))})})).then(()=>r()).catch(i=>{const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=i,window.dispatchEvent(o),!o.defaultPrevented)throw i})};var Hn=Uint8Array,Ls=Uint16Array,S2=Int32Array,Ox=new Hn([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),Mx=new Hn([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),m1=new Hn([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),nE=function(e,r){for(var n=new Ls(31),s=0;s<31;++s)n[s]=r+=1<<e[s-1];for(var a=new S2(n[30]),s=1;s<30;++s)for(var i=n[s];i<n[s+1];++i)a[i]=i-n[s]<<5|s;return{b:n,r:a}},sE=nE(Ox,2),aE=sE.b,p1=sE.r;aE[28]=258,p1[258]=28;var iE=nE(Mx,0),u$=iE.b,m5=iE.r,h1=new Ls(32768);for(var Nr=0;Nr<32768;++Nr){var po=(Nr&43690)>>1|(Nr&21845)<<1;po=(po&52428)>>2|(po&13107)<<2,po=(po&61680)>>4|(po&3855)<<4,h1[Nr]=((po&65280)>>8|(po&255)<<8)>>1}var pi=function(e,r,n){for(var s=e.length,a=0,i=new Ls(r);a<s;++a)e[a]&&++i[e[a]-1];var o=new Ls(r);for(a=1;a<r;++a)o[a]=o[a-1]+i[a-1]<<1;var l;if(n){l=new Ls(1<<r);var c=15-r;for(a=0;a<s;++a)if(e[a])for(var d=a<<4|e[a],m=r-e[a],u=o[e[a]-1]++<<m,h=u|(1<<m)-1;u<=h;++u)l[h1[u]>>c]=d}else for(l=new Ls(s),a=0;a<s;++a)e[a]&&(l[a]=h1[o[e[a]-1]++]>>15-e[a]);return l},Qo=new Hn(288);for(var Nr=0;Nr<144;++Nr)Qo[Nr]=8;for(var Nr=144;Nr<256;++Nr)Qo[Nr]=9;for(var Nr=256;Nr<280;++Nr)Qo[Nr]=7;for(var Nr=280;Nr<288;++Nr)Qo[Nr]=8;var Em=new Hn(32);for(var Nr=0;Nr<32;++Nr)Em[Nr]=5;var m$=pi(Qo,9,0),p$=pi(Qo,9,1),h$=pi(Em,5,0),f$=pi(Em,5,1),Tv=function(e){for(var r=e[0],n=1;n<e.length;++n)e[n]>r&&(r=e[n]);return r},Sa=function(e,r,n){var s=r/8|0;return(e[s]|e[s+1]<<8)>>(r&7)&n},Lv=function(e,r){var n=r/8|0;return(e[n]|e[n+1]<<8|e[n+2]<<16)>>(r&7)},C2=function(e){return(e+7)/8|0},oE=function(e,r,n){return(r==null||r<0)&&(r=0),(n==null||n>e.length)&&(n=e.length),new Hn(e.subarray(r,n))},x$=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],Ia=function(e,r,n){var s=new Error(r||x$[e]);if(s.code=e,Error.captureStackTrace&&Error.captureStackTrace(s,Ia),!n)throw s;return s},g$=function(e,r,n,s){var a=e.length,i=s?s.length:0;if(!a||r.f&&!r.l)return n||new Hn(0);var o=!n,l=o||r.i!=2,c=r.i;o&&(n=new Hn(a*3));var d=function(ye){var Ee=n.length;if(ye>Ee){var Fe=new Hn(Math.max(Ee*2,ye));Fe.set(n),n=Fe}},m=r.f||0,u=r.p||0,h=r.b||0,p=r.l,g=r.d,b=r.m,j=r.n,x=a*8;do{if(!p){m=Sa(e,u,1);var v=Sa(e,u+1,3);if(u+=3,v)if(v==1)p=p$,g=f$,b=9,j=5;else if(v==2){var M=Sa(e,u,31)+257,P=Sa(e,u+10,15)+4,S=M+Sa(e,u+5,31)+1;u+=14;for(var I=new Hn(S),k=new Hn(19),C=0;C<P;++C)k[m1[C]]=Sa(e,u+C*3,7);u+=P*3;for(var w=Tv(k),L=(1<<w)-1,T=pi(k,w,1),C=0;C<S;){var W=T[Sa(e,u,L)];u+=W&15;var y=W>>4;if(y<16)I[C++]=y;else{var V=0,_=0;for(y==16?(_=3+Sa(e,u,3),u+=2,V=I[C-1]):y==17?(_=3+Sa(e,u,7),u+=3):y==18&&(_=11+Sa(e,u,127),u+=7);_--;)I[C++]=V}}var B=I.subarray(0,M),U=I.subarray(M);b=Tv(B),j=Tv(U),p=pi(B,b,1),g=pi(U,j,1)}else Ia(1);else{var y=C2(u)+4,E=e[y-4]|e[y-3]<<8,O=y+E;if(O>a){c&&Ia(0);break}l&&d(h+E),n.set(e.subarray(y,O),h),r.b=h+=E,r.p=u=O*8,r.f=m;continue}if(u>x){c&&Ia(0);break}}l&&d(h+131072);for(var H=(1<<b)-1,q=(1<<j)-1,R=u;;R=u){var V=p[Lv(e,u)&H],$=V>>4;if(u+=V&15,u>x){c&&Ia(0);break}if(V||Ia(2),$<256)n[h++]=$;else if($==256){R=u,p=null;break}else{var G=$-254;if($>264){var C=$-257,X=Ox[C];G=Sa(e,u,(1<<X)-1)+aE[C],u+=X}var Z=g[Lv(e,u)&q],le=Z>>4;Z||Ia(3),u+=Z&15;var U=u$[le];if(le>3){var X=Mx[le];U+=Lv(e,u)&(1<<X)-1,u+=X}if(u>x){c&&Ia(0);break}l&&d(h+131072);var ce=h+G;if(h<U){var de=i-U,Se=Math.min(U,ce);for(de+h<0&&Ia(3);h<Se;++h)n[h]=s[de+h]}for(;h<ce;++h)n[h]=n[h-U]}}r.l=p,r.p=R,r.b=h,r.f=m,p&&(m=1,r.m=b,r.d=g,r.n=j)}while(!m);return h!=n.length&&o?oE(n,0,h):n.subarray(0,h)},Di=function(e,r,n){n<<=r&7;var s=r/8|0;e[s]|=n,e[s+1]|=n>>8},Cu=function(e,r,n){n<<=r&7;var s=r/8|0;e[s]|=n,e[s+1]|=n>>8,e[s+2]|=n>>16},Rv=function(e,r){for(var n=[],s=0;s<e.length;++s)e[s]&&n.push({s,f:e[s]});var a=n.length,i=n.slice();if(!a)return{t:cE,l:0};if(a==1){var o=new Hn(n[0].s+1);return o[n[0].s]=1,{t:o,l:1}}n.sort(function(O,M){return O.f-M.f}),n.push({s:-1,f:25001});var l=n[0],c=n[1],d=0,m=1,u=2;for(n[0]={s:-1,f:l.f+c.f,l,r:c};m!=a-1;)l=n[n[d].f<n[u].f?d++:u++],c=n[d!=m&&n[d].f<n[u].f?d++:u++],n[m++]={s:-1,f:l.f+c.f,l,r:c};for(var h=i[0].s,s=1;s<a;++s)i[s].s>h&&(h=i[s].s);var p=new Ls(h+1),g=f1(n[m-1],p,0);if(g>r){var s=0,b=0,j=g-r,x=1<<j;for(i.sort(function(M,P){return p[P.s]-p[M.s]||M.f-P.f});s<a;++s){var v=i[s].s;if(p[v]>r)b+=x-(1<<g-p[v]),p[v]=r;else break}for(b>>=j;b>0;){var y=i[s].s;p[y]<r?b-=1<<r-p[y]++-1:++s}for(;s>=0&&b;--s){var E=i[s].s;p[E]==r&&(--p[E],++b)}g=r}return{t:new Hn(p),l:g}},f1=function(e,r,n){return e.s==-1?Math.max(f1(e.l,r,n+1),f1(e.r,r,n+1)):r[e.s]=n},p5=function(e){for(var r=e.length;r&&!e[--r];);for(var n=new Ls(++r),s=0,a=e[0],i=1,o=function(c){n[s++]=c},l=1;l<=r;++l)if(e[l]==a&&l!=r)++i;else{if(!a&&i>2){for(;i>138;i-=138)o(32754);i>2&&(o(i>10?i-11<<5|28690:i-3<<5|12305),i=0)}else if(i>3){for(o(a),--i;i>6;i-=6)o(8304);i>2&&(o(i-3<<5|8208),i=0)}for(;i--;)o(a);i=1,a=e[l]}return{c:n.subarray(0,s),n:r}},Au=function(e,r){for(var n=0,s=0;s<r.length;++s)n+=e[s]*r[s];return n},lE=function(e,r,n){var s=n.length,a=C2(r+2);e[a]=s&255,e[a+1]=s>>8,e[a+2]=e[a]^255,e[a+3]=e[a+1]^255;for(var i=0;i<s;++i)e[a+i+4]=n[i];return(a+4+s)*8},h5=function(e,r,n,s,a,i,o,l,c,d,m){Di(r,m++,n),++a[256];for(var u=Rv(a,15),h=u.t,p=u.l,g=Rv(i,15),b=g.t,j=g.l,x=p5(h),v=x.c,y=x.n,E=p5(b),O=E.c,M=E.n,P=new Ls(19),S=0;S<v.length;++S)++P[v[S]&31];for(var S=0;S<O.length;++S)++P[O[S]&31];for(var I=Rv(P,7),k=I.t,C=I.l,w=19;w>4&&!k[m1[w-1]];--w);var L=d+5<<3,T=Au(a,Qo)+Au(i,Em)+o,W=Au(a,h)+Au(i,b)+o+14+3*w+Au(P,k)+2*P[16]+3*P[17]+7*P[18];if(c>=0&&L<=T&&L<=W)return lE(r,m,e.subarray(c,c+d));var V,_,B,U;if(Di(r,m,1+(W<T)),m+=2,W<T){V=pi(h,p,0),_=h,B=pi(b,j,0),U=b;var H=pi(k,C,0);Di(r,m,y-257),Di(r,m+5,M-1),Di(r,m+10,w-4),m+=14;for(var S=0;S<w;++S)Di(r,m+3*S,k[m1[S]]);m+=3*w;for(var q=[v,O],R=0;R<2;++R)for(var $=q[R],S=0;S<$.length;++S){var G=$[S]&31;Di(r,m,H[G]),m+=k[G],G>15&&(Di(r,m,$[S]>>5&127),m+=$[S]>>12)}}else V=m$,_=Qo,B=h$,U=Em;for(var S=0;S<l;++S){var X=s[S];if(X>255){var G=X>>18&31;Cu(r,m,V[G+257]),m+=_[G+257],G>7&&(Di(r,m,X>>23&31),m+=Ox[G]);var Z=X&31;Cu(r,m,B[Z]),m+=U[Z],Z>3&&(Cu(r,m,X>>5&8191),m+=Mx[Z])}else Cu(r,m,V[X]),m+=_[X]}return Cu(r,m,V[256]),m+_[256]},v$=new S2([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),cE=new Hn(0),y$=function(e,r,n,s,a,i){var o=i.z||e.length,l=new Hn(s+o+5*(1+Math.ceil(o/7e3))+a),c=l.subarray(s,l.length-a),d=i.l,m=(i.r||0)&7;if(r){m&&(c[0]=i.r>>3);for(var u=v$[r-1],h=u>>13,p=u&8191,g=(1<<n)-1,b=i.p||new Ls(32768),j=i.h||new Ls(g+1),x=Math.ceil(n/3),v=2*x,y=function(he){return(e[he]^e[he+1]<<x^e[he+2]<<v)&g},E=new S2(25e3),O=new Ls(288),M=new Ls(32),P=0,S=0,I=i.i||0,k=0,C=i.w||0,w=0;I+2<o;++I){var L=y(I),T=I&32767,W=j[L];if(b[T]=W,j[L]=T,C<=I){var V=o-I;if((P>7e3||k>24576)&&(V>423||!d)){m=h5(e,c,0,E,O,M,S,k,w,I-w,m),k=P=S=0,w=I;for(var _=0;_<286;++_)O[_]=0;for(var _=0;_<30;++_)M[_]=0}var B=2,U=0,H=p,q=T-W&32767;if(V>2&&L==y(I-q))for(var R=Math.min(h,V)-1,$=Math.min(32767,I),G=Math.min(258,V);q<=$&&--H&&T!=W;){if(e[I+B]==e[I+B-q]){for(var X=0;X<G&&e[I+X]==e[I+X-q];++X);if(X>B){if(B=X,U=q,X>R)break;for(var Z=Math.min(q,X-2),le=0,_=0;_<Z;++_){var ce=I-q+_&32767,de=b[ce],Se=ce-de&32767;Se>le&&(le=Se,W=ce)}}}T=W,W=b[T],q+=T-W&32767}if(U){E[k++]=268435456|p1[B]<<18|m5[U];var ye=p1[B]&31,Ee=m5[U]&31;S+=Ox[ye]+Mx[Ee],++O[257+ye],++M[Ee],C=I+B,++P}else E[k++]=e[I],++O[e[I]]}}for(I=Math.max(I,C);I<o;++I)E[k++]=e[I],++O[e[I]];m=h5(e,c,d,E,O,M,S,k,w,I-w,m),d||(i.r=m&7|c[m/8|0]<<3,m-=7,i.h=j,i.p=b,i.i=I,i.w=C)}else{for(var I=i.w||0;I<o+d;I+=65535){var Fe=I+65535;Fe>=o&&(c[m/8|0]=d,Fe=o),m=lE(c,m+1,e.subarray(I,Fe))}i.i=o}return oE(l,0,s+C2(m)+a)},dE=function(){var e=1,r=0;return{p:function(n){for(var s=e,a=r,i=n.length|0,o=0;o!=i;){for(var l=Math.min(o+2655,i);o<l;++o)a+=s+=n[o];s=(s&65535)+15*(s>>16),a=(a&65535)+15*(a>>16)}e=s,r=a},d:function(){return e%=65521,r%=65521,(e&255)<<24|(e&65280)<<8|(r&255)<<8|r>>8}}},b$=function(e,r,n,s,a){if(!a&&(a={l:1},r.dictionary)){var i=r.dictionary.subarray(-32768),o=new Hn(i.length+e.length);o.set(i),o.set(e,i.length),e=o,a.w=i.length}return y$(e,r.level==null?6:r.level,r.mem==null?a.l?Math.ceil(Math.max(8,Math.min(13,Math.log(e.length)))*1.5):20:12+r.mem,n,s,a)},uE=function(e,r,n){for(;n;++r)e[r]=n,n>>>=8},j$=function(e,r){var n=r.level,s=n==0?0:n<6?1:n==9?3:2;if(e[0]=120,e[1]=s<<6|(r.dictionary&&32),e[1]|=31-(e[0]<<8|e[1])%31,r.dictionary){var a=dE();a.p(r.dictionary),uE(e,2,a.d())}},w$=function(e,r){return((e[0]&15)!=8||e[0]>>4>7||(e[0]<<8|e[1])%31)&&Ia(6,"invalid zlib data"),(e[1]>>5&1)==+!r&&Ia(6,"invalid zlib data: "+(e[1]&32?"need":"unexpected")+" dictionary"),(e[1]>>3&4)+2};function x1(e,r){r||(r={});var n=dE();n.p(e);var s=b$(e,r,r.dictionary?6:2,4);return j$(s,r),uE(s,s.length-4,n.d()),s}function N$(e,r){return g$(e.subarray(w$(e,r&&r.dictionary),-4),{i:2},r&&r.out,r&&r.dictionary)}var S$=typeof TextDecoder<"u"&&new TextDecoder,C$=0;try{S$.decode(cE,{stream:!0}),C$=1}catch{}var At=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function Fv(){At.console&&typeof At.console.log=="function"&&At.console.log.apply(At.console,arguments)}var fr={log:Fv,warn:function(e){At.console&&(typeof At.console.warn=="function"?At.console.warn.apply(At.console,arguments):Fv.call(null,arguments))},error:function(e){At.console&&(typeof At.console.error=="function"?At.console.error.apply(At.console,arguments):Fv(e))}};function _v(e,r,n){var s=new XMLHttpRequest;s.open("GET",e),s.responseType="blob",s.onload=function(){bl(s.response,r,n)},s.onerror=function(){fr.error("could not download file")},s.send()}function f5(e){var r=new XMLHttpRequest;r.open("HEAD",e,!1);try{r.send()}catch{}return r.status>=200&&r.status<=299}function vh(e){try{e.dispatchEvent(new MouseEvent("click"))}catch{var r=document.createEvent("MouseEvents");r.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(r)}}var Gu,g1,bl=At.saveAs||((typeof window>"u"?"undefined":Xt(window))!=="object"||window!==At?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(e,r,n){var s=At.URL||At.webkitURL,a=document.createElement("a");r=r||e.name||"download",a.download=r,a.rel="noopener",typeof e=="string"?(a.href=e,a.origin!==location.origin?f5(a.href)?_v(e,r,n):vh(a,a.target="_blank"):vh(a)):(a.href=s.createObjectURL(e),setTimeout(function(){s.revokeObjectURL(a.href)},4e4),setTimeout(function(){vh(a)},0))}:"msSaveOrOpenBlob"in navigator?function(e,r,n){if(r=r||e.name||"download",typeof e=="string")if(f5(e))_v(e,r,n);else{var s=document.createElement("a");s.href=e,s.target="_blank",setTimeout(function(){vh(s)})}else navigator.msSaveOrOpenBlob(function(a,i){return i===void 0?i={autoBom:!1}:Xt(i)!=="object"&&(fr.warn("Deprecated: Expected third argument to be a object"),i={autoBom:!i}),i.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(a.type)?new Blob([String.fromCharCode(65279),a],{type:a.type}):a}(e,n),r)}:function(e,r,n,s){if((s=s||open("","_blank"))&&(s.document.title=s.document.body.innerText="downloading..."),typeof e=="string")return _v(e,r,n);var a=e.type==="application/octet-stream",i=/constructor/i.test(At.HTMLElement)||At.safari,o=/CriOS\/[\d]+/.test(navigator.userAgent);if((o||a&&i)&&(typeof FileReader>"u"?"undefined":Xt(FileReader))==="object"){var l=new FileReader;l.onloadend=function(){var m=l.result;m=o?m:m.replace(/^data:[^;]*;/,"data:attachment/file;"),s?s.location.href=m:location=m,s=null},l.readAsDataURL(e)}else{var c=At.URL||At.webkitURL,d=c.createObjectURL(e);s?s.location=d:location.href=d,s=null,setTimeout(function(){c.revokeObjectURL(d)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function mE(e){var r;e=e||"",this.ok=!1,e.charAt(0)=="#"&&(e=e.substr(1,6)),e={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[e=(e=e.replace(/ /g,"")).toLowerCase()]||e;for(var n=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(l){return[parseInt(l[1]),parseInt(l[2]),parseInt(l[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(l){return[parseInt(l[1],16),parseInt(l[2],16),parseInt(l[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(l){return[parseInt(l[1]+l[1],16),parseInt(l[2]+l[2],16),parseInt(l[3]+l[3],16)]}}],s=0;s<n.length;s++){var a=n[s].re,i=n[s].process,o=a.exec(e);o&&(r=i(o),this.r=r[0],this.g=r[1],this.b=r[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var l=this.r.toString(16),c=this.g.toString(16),d=this.b.toString(16);return l.length==1&&(l="0"+l),c.length==1&&(c="0"+c),d.length==1&&(d="0"+d),"#"+l+c+d}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function Ov(e,r){var n=e[0],s=e[1],a=e[2],i=e[3];n=$n(n,s,a,i,r[0],7,-680876936),i=$n(i,n,s,a,r[1],12,-389564586),a=$n(a,i,n,s,r[2],17,606105819),s=$n(s,a,i,n,r[3],22,-1044525330),n=$n(n,s,a,i,r[4],7,-176418897),i=$n(i,n,s,a,r[5],12,1200080426),a=$n(a,i,n,s,r[6],17,-1473231341),s=$n(s,a,i,n,r[7],22,-45705983),n=$n(n,s,a,i,r[8],7,1770035416),i=$n(i,n,s,a,r[9],12,-1958414417),a=$n(a,i,n,s,r[10],17,-42063),s=$n(s,a,i,n,r[11],22,-1990404162),n=$n(n,s,a,i,r[12],7,1804603682),i=$n(i,n,s,a,r[13],12,-40341101),a=$n(a,i,n,s,r[14],17,-1502002290),n=Un(n,s=$n(s,a,i,n,r[15],22,1236535329),a,i,r[1],5,-165796510),i=Un(i,n,s,a,r[6],9,-1069501632),a=Un(a,i,n,s,r[11],14,643717713),s=Un(s,a,i,n,r[0],20,-373897302),n=Un(n,s,a,i,r[5],5,-701558691),i=Un(i,n,s,a,r[10],9,38016083),a=Un(a,i,n,s,r[15],14,-660478335),s=Un(s,a,i,n,r[4],20,-405537848),n=Un(n,s,a,i,r[9],5,568446438),i=Un(i,n,s,a,r[14],9,-1019803690),a=Un(a,i,n,s,r[3],14,-187363961),s=Un(s,a,i,n,r[8],20,1163531501),n=Un(n,s,a,i,r[13],5,-1444681467),i=Un(i,n,s,a,r[2],9,-51403784),a=Un(a,i,n,s,r[7],14,1735328473),n=Vn(n,s=Un(s,a,i,n,r[12],20,-1926607734),a,i,r[5],4,-378558),i=Vn(i,n,s,a,r[8],11,-2022574463),a=Vn(a,i,n,s,r[11],16,1839030562),s=Vn(s,a,i,n,r[14],23,-35309556),n=Vn(n,s,a,i,r[1],4,-1530992060),i=Vn(i,n,s,a,r[4],11,1272893353),a=Vn(a,i,n,s,r[7],16,-155497632),s=Vn(s,a,i,n,r[10],23,-1094730640),n=Vn(n,s,a,i,r[13],4,681279174),i=Vn(i,n,s,a,r[0],11,-358537222),a=Vn(a,i,n,s,r[3],16,-722521979),s=Vn(s,a,i,n,r[6],23,76029189),n=Vn(n,s,a,i,r[9],4,-640364487),i=Vn(i,n,s,a,r[12],11,-421815835),a=Vn(a,i,n,s,r[15],16,530742520),n=Wn(n,s=Vn(s,a,i,n,r[2],23,-995338651),a,i,r[0],6,-198630844),i=Wn(i,n,s,a,r[7],10,1126891415),a=Wn(a,i,n,s,r[14],15,-1416354905),s=Wn(s,a,i,n,r[5],21,-57434055),n=Wn(n,s,a,i,r[12],6,1700485571),i=Wn(i,n,s,a,r[3],10,-1894986606),a=Wn(a,i,n,s,r[10],15,-1051523),s=Wn(s,a,i,n,r[1],21,-2054922799),n=Wn(n,s,a,i,r[8],6,1873313359),i=Wn(i,n,s,a,r[15],10,-30611744),a=Wn(a,i,n,s,r[6],15,-1560198380),s=Wn(s,a,i,n,r[13],21,1309151649),n=Wn(n,s,a,i,r[4],6,-145523070),i=Wn(i,n,s,a,r[11],10,-1120210379),a=Wn(a,i,n,s,r[2],15,718787259),s=Wn(s,a,i,n,r[9],21,-343485551),e[0]=Co(n,e[0]),e[1]=Co(s,e[1]),e[2]=Co(a,e[2]),e[3]=Co(i,e[3])}function Bx(e,r,n,s,a,i){return r=Co(Co(r,e),Co(s,i)),Co(r<<a|r>>>32-a,n)}function $n(e,r,n,s,a,i,o){return Bx(r&n|~r&s,e,r,a,i,o)}function Un(e,r,n,s,a,i,o){return Bx(r&s|n&~s,e,r,a,i,o)}function Vn(e,r,n,s,a,i,o){return Bx(r^n^s,e,r,a,i,o)}function Wn(e,r,n,s,a,i,o){return Bx(n^(r|~s),e,r,a,i,o)}function pE(e){var r,n=e.length,s=[1732584193,-271733879,-1732584194,271733878];for(r=64;r<=e.length;r+=64)Ov(s,A$(e.substring(r-64,r)));e=e.substring(r-64);var a=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(r=0;r<e.length;r++)a[r>>2]|=e.charCodeAt(r)<<(r%4<<3);if(a[r>>2]|=128<<(r%4<<3),r>55)for(Ov(s,a),r=0;r<16;r++)a[r]=0;return a[14]=8*n,Ov(s,a),s}function A$(e){var r,n=[];for(r=0;r<64;r+=4)n[r>>2]=e.charCodeAt(r)+(e.charCodeAt(r+1)<<8)+(e.charCodeAt(r+2)<<16)+(e.charCodeAt(r+3)<<24);return n}Gu=At.atob.bind(At),g1=At.btoa.bind(At);var x5="0123456789abcdef".split("");function E$(e){for(var r="",n=0;n<4;n++)r+=x5[e>>8*n+4&15]+x5[e>>8*n&15];return r}function I$(e){return String.fromCharCode((255&e)>>0,(65280&e)>>8,(16711680&e)>>16,(4278190080&e)>>24)}function v1(e){return pE(e).map(I$).join("")}var P$=function(e){for(var r=0;r<e.length;r++)e[r]=E$(e[r]);return e.join("")}(pE("hello"))!="5d41402abc4b2a76b9719d911017c592";function Co(e,r){if(P$){var n=(65535&e)+(65535&r);return(e>>16)+(r>>16)+(n>>16)<<16|65535&n}return e+r&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function y1(e,r){var n,s,a,i;if(e!==n){for(var o=(a=e,i=1+(256/e.length>>0),new Array(i+1).join(a)),l=[],c=0;c<256;c++)l[c]=c;var d=0;for(c=0;c<256;c++){var m=l[c];d=(d+m+o.charCodeAt(c))%256,l[c]=l[d],l[d]=m}n=e,s=l}else l=s;var u=r.length,h=0,p=0,g="";for(c=0;c<u;c++)p=(p+(m=l[h=(h+1)%256]))%256,l[h]=l[p],l[p]=m,o=l[(l[h]+l[p])%256],g+=String.fromCharCode(r.charCodeAt(c)^o);return g}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var g5={print:4,modify:8,copy:16,"annot-forms":32};function Oc(e,r,n,s){this.v=1,this.r=2;var a=192;e.forEach(function(l){if(g5.perm!==void 0)throw new Error("Invalid permission: "+l);a+=g5[l]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var i=(r+this.padding).substr(0,32),o=(n+this.padding).substr(0,32);this.O=this.processOwnerPassword(i,o),this.P=-(1+(255^a)),this.encryptionKey=v1(i+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(s)).substr(0,5),this.U=y1(this.encryptionKey,this.padding)}function Mc(e){if(/[^\u0000-\u00ff]/.test(e))throw new Error("Invalid PDF Name Object: "+e+", Only accept ASCII characters.");for(var r="",n=e.length,s=0;s<n;s++){var a=e.charCodeAt(s);a<33||a===35||a===37||a===40||a===41||a===47||a===60||a===62||a===91||a===93||a===123||a===125||a>126?r+="#"+("0"+a.toString(16)).slice(-2):r+=e[s]}return r}function v5(e){if(Xt(e)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var r={};this.subscribe=function(n,s,a){if(a=a||!1,typeof n!="string"||typeof s!="function"||typeof a!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");r.hasOwnProperty(n)||(r[n]={});var i=Math.random().toString(35);return r[n][i]=[s,!!a],i},this.unsubscribe=function(n){for(var s in r)if(r[s][n])return delete r[s][n],Object.keys(r[s]).length===0&&delete r[s],!0;return!1},this.publish=function(n){if(r.hasOwnProperty(n)){var s=Array.prototype.slice.call(arguments,1),a=[];for(var i in r[n]){var o=r[n][i];try{o[0].apply(e,s)}catch(l){At.console&&fr.error("jsPDF PubSub Error",l.message,l)}o[1]&&a.push(i)}a.length&&a.forEach(this.unsubscribe)}},this.getTopics=function(){return r}}function Im(e){if(!(this instanceof Im))return new Im(e);var r="opacity,stroke-opacity".split(",");for(var n in e)e.hasOwnProperty(n)&&r.indexOf(n)>=0&&(this[n]=e[n]);this.id="",this.objectNumber=-1}function hE(e,r){this.gState=e,this.matrix=r,this.id="",this.objectNumber=-1}function jo(e,r,n,s,a){if(!(this instanceof jo))return new jo(e,r,n,s,a);this.type=e==="axial"?2:3,this.coords=r,this.colors=n,hE.call(this,s,a)}function Pl(e,r,n,s,a){if(!(this instanceof Pl))return new Pl(e,r,n,s,a);this.boundingBox=e,this.xStep=r,this.yStep=n,this.stream="",this.cloneIndex=0,hE.call(this,s,a)}function wt(e){var r,n=typeof arguments[0]=="string"?arguments[0]:"p",s=arguments[1],a=arguments[2],i=arguments[3],o=[],l=1,c=16,d="S",m=null;Xt(e=e||{})==="object"&&(n=e.orientation,s=e.unit||s,a=e.format||a,i=e.compress||e.compressPdf||i,(m=e.encryption||null)!==null&&(m.userPassword=m.userPassword||"",m.ownerPassword=m.ownerPassword||"",m.userPermissions=m.userPermissions||[]),l=typeof e.userUnit=="number"?Math.abs(e.userUnit):1,e.precision!==void 0&&(r=e.precision),e.floatPrecision!==void 0&&(c=e.floatPrecision),d=e.defaultPathOperation||"S"),o=e.filters||(i===!0?["FlateEncode"]:o),s=s||"mm",n=(""+(n||"P")).toLowerCase();var u=e.putOnlyUsedFonts||!1,h={},p={internal:{},__private__:{}};p.__private__.PubSub=v5;var g="1.3",b=p.__private__.getPdfVersion=function(){return g};p.__private__.setPdfVersion=function(D){g=D};var j={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};p.__private__.getPageFormats=function(){return j};var x=p.__private__.getPageFormat=function(D){return j[D]};a=a||"a4";var v={COMPAT:"compat",ADVANCED:"advanced"},y=v.COMPAT;function E(){this.saveGraphicsState(),te(new Ct(Ke,0,0,-Ke,0,Xi()*Ke).toString()+" cm"),this.setFontSize(this.getFontSize()/Ke),d="n",y=v.ADVANCED}function O(){this.restoreGraphicsState(),d="S",y=v.COMPAT}var M=p.__private__.combineFontStyleAndFontWeight=function(D,Y){if(D=="bold"&&Y=="normal"||D=="bold"&&Y==400||D=="normal"&&Y=="italic"||D=="bold"&&Y=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return Y&&(D=Y==400||Y==="normal"?D==="italic"?"italic":"normal":Y!=700&&Y!=="bold"||D!=="normal"?(Y==700?"bold":Y)+""+D:"bold"),D};p.advancedAPI=function(D){var Y=y===v.COMPAT;return Y&&E.call(this),typeof D!="function"||(D(this),Y&&O.call(this)),this},p.compatAPI=function(D){var Y=y===v.ADVANCED;return Y&&O.call(this),typeof D!="function"||(D(this),Y&&E.call(this)),this},p.isAdvancedAPI=function(){return y===v.ADVANCED};var P,S=function(D){if(y!==v.ADVANCED)throw new Error(D+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},I=p.roundToPrecision=p.__private__.roundToPrecision=function(D,Y){var oe=r||Y;if(isNaN(D)||isNaN(oe))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return D.toFixed(oe).replace(/0+$/,"")};P=p.hpf=p.__private__.hpf=typeof c=="number"?function(D){if(isNaN(D))throw new Error("Invalid argument passed to jsPDF.hpf");return I(D,c)}:c==="smart"?function(D){if(isNaN(D))throw new Error("Invalid argument passed to jsPDF.hpf");return I(D,D>-1&&D<1?16:5)}:function(D){if(isNaN(D))throw new Error("Invalid argument passed to jsPDF.hpf");return I(D,16)};var k=p.f2=p.__private__.f2=function(D){if(isNaN(D))throw new Error("Invalid argument passed to jsPDF.f2");return I(D,2)},C=p.__private__.f3=function(D){if(isNaN(D))throw new Error("Invalid argument passed to jsPDF.f3");return I(D,3)},w=p.scale=p.__private__.scale=function(D){if(isNaN(D))throw new Error("Invalid argument passed to jsPDF.scale");return y===v.COMPAT?D*Ke:y===v.ADVANCED?D:void 0},L=function(D){return y===v.COMPAT?Xi()-D:y===v.ADVANCED?D:void 0},T=function(D){return w(L(D))};p.__private__.setPrecision=p.setPrecision=function(D){typeof parseInt(D,10)=="number"&&(r=parseInt(D,10))};var W,V="00000000000000000000000000000000",_=p.__private__.getFileId=function(){return V},B=p.__private__.setFileId=function(D){return V=D!==void 0&&/^[a-fA-F0-9]{32}$/.test(D)?D.toUpperCase():V.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),m!==null&&(On=new Oc(m.userPermissions,m.userPassword,m.ownerPassword,V)),V};p.setFileId=function(D){return B(D),this},p.getFileId=function(){return _()};var U=p.__private__.convertDateToPDFDate=function(D){var Y=D.getTimezoneOffset(),oe=Y<0?"+":"-",pe=Math.floor(Math.abs(Y/60)),Ne=Math.abs(Y%60),Le=[oe,G(pe),"'",G(Ne),"'"].join("");return["D:",D.getFullYear(),G(D.getMonth()+1),G(D.getDate()),G(D.getHours()),G(D.getMinutes()),G(D.getSeconds()),Le].join("")},H=p.__private__.convertPDFDateToDate=function(D){var Y=parseInt(D.substr(2,4),10),oe=parseInt(D.substr(6,2),10)-1,pe=parseInt(D.substr(8,2),10),Ne=parseInt(D.substr(10,2),10),Le=parseInt(D.substr(12,2),10),qe=parseInt(D.substr(14,2),10);return new Date(Y,oe,pe,Ne,Le,qe,0)},q=p.__private__.setCreationDate=function(D){var Y;if(D===void 0&&(D=new Date),D instanceof Date)Y=U(D);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(D))throw new Error("Invalid argument passed to jsPDF.setCreationDate");Y=D}return W=Y},R=p.__private__.getCreationDate=function(D){var Y=W;return D==="jsDate"&&(Y=H(W)),Y};p.setCreationDate=function(D){return q(D),this},p.getCreationDate=function(D){return R(D)};var $,G=p.__private__.padd2=function(D){return("0"+parseInt(D)).slice(-2)},X=p.__private__.padd2Hex=function(D){return("00"+(D=D.toString())).substr(D.length)},Z=0,le=[],ce=[],de=0,Se=[],ye=[],Ee=!1,Fe=ce,he=function(){Z=0,de=0,ce=[],le=[],Se=[],bi=en(),ha=en()};p.__private__.setCustomOutputDestination=function(D){Ee=!0,Fe=D};var ie=function(D){Ee||(Fe=D)};p.__private__.resetCustomOutputDestination=function(){Ee=!1,Fe=ce};var te=p.__private__.out=function(D){return D=D.toString(),de+=D.length+1,Fe.push(D),Fe},Ue=p.__private__.write=function(D){return te(arguments.length===1?D.toString():Array.prototype.join.call(arguments," "))},_e=p.__private__.getArrayBuffer=function(D){for(var Y=D.length,oe=new ArrayBuffer(Y),pe=new Uint8Array(oe);Y--;)pe[Y]=D.charCodeAt(Y);return oe},ke=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];p.__private__.getStandardFonts=function(){return ke};var Ve=e.fontSize||16;p.__private__.setFontSize=p.setFontSize=function(D){return Ve=y===v.ADVANCED?D/Ke:D,this};var Je,Qe=p.__private__.getFontSize=p.getFontSize=function(){return y===v.COMPAT?Ve:Ve*Ke},xt=e.R2L||!1;p.__private__.setR2L=p.setR2L=function(D){return xt=D,this},p.__private__.getR2L=p.getR2L=function(){return xt};var De,We=p.__private__.setZoomMode=function(D){var Y=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(D))Je=D;else if(isNaN(D)){if(Y.indexOf(D)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+D+'" is not recognized.');Je=D}else Je=parseInt(D,10)};p.__private__.getZoomMode=function(){return Je};var st,mt=p.__private__.setPageMode=function(D){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(D)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+D+'" is not recognized.');De=D};p.__private__.getPageMode=function(){return De};var Nt=p.__private__.setLayoutMode=function(D){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(D)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+D+'" is not recognized.');st=D};p.__private__.getLayoutMode=function(){return st},p.__private__.setDisplayMode=p.setDisplayMode=function(D,Y,oe){return We(D),Nt(Y),mt(oe),this};var yt={title:"",subject:"",author:"",keywords:"",creator:""};p.__private__.getDocumentProperty=function(D){if(Object.keys(yt).indexOf(D)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return yt[D]},p.__private__.getDocumentProperties=function(){return yt},p.__private__.setDocumentProperties=p.setProperties=p.setDocumentProperties=function(D){for(var Y in yt)yt.hasOwnProperty(Y)&&D[Y]&&(yt[Y]=D[Y]);return this},p.__private__.setDocumentProperty=function(D,Y){if(Object.keys(yt).indexOf(D)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return yt[D]=Y};var It,Ke,Zt,Ot,an,er={},ur={},is=[],Ht={},vi={},Rr={},ma={},yi=null,Fr=0,Tt=[],sr=new v5(p),sl=e.hotfixes||[],Sn={},Va={},Wa=[],Ct=function D(Y,oe,pe,Ne,Le,qe){if(!(this instanceof D))return new D(Y,oe,pe,Ne,Le,qe);isNaN(Y)&&(Y=1),isNaN(oe)&&(oe=0),isNaN(pe)&&(pe=0),isNaN(Ne)&&(Ne=1),isNaN(Le)&&(Le=0),isNaN(qe)&&(qe=0),this._matrix=[Y,oe,pe,Ne,Le,qe]};Object.defineProperty(Ct.prototype,"sx",{get:function(){return this._matrix[0]},set:function(D){this._matrix[0]=D}}),Object.defineProperty(Ct.prototype,"shy",{get:function(){return this._matrix[1]},set:function(D){this._matrix[1]=D}}),Object.defineProperty(Ct.prototype,"shx",{get:function(){return this._matrix[2]},set:function(D){this._matrix[2]=D}}),Object.defineProperty(Ct.prototype,"sy",{get:function(){return this._matrix[3]},set:function(D){this._matrix[3]=D}}),Object.defineProperty(Ct.prototype,"tx",{get:function(){return this._matrix[4]},set:function(D){this._matrix[4]=D}}),Object.defineProperty(Ct.prototype,"ty",{get:function(){return this._matrix[5]},set:function(D){this._matrix[5]=D}}),Object.defineProperty(Ct.prototype,"a",{get:function(){return this._matrix[0]},set:function(D){this._matrix[0]=D}}),Object.defineProperty(Ct.prototype,"b",{get:function(){return this._matrix[1]},set:function(D){this._matrix[1]=D}}),Object.defineProperty(Ct.prototype,"c",{get:function(){return this._matrix[2]},set:function(D){this._matrix[2]=D}}),Object.defineProperty(Ct.prototype,"d",{get:function(){return this._matrix[3]},set:function(D){this._matrix[3]=D}}),Object.defineProperty(Ct.prototype,"e",{get:function(){return this._matrix[4]},set:function(D){this._matrix[4]=D}}),Object.defineProperty(Ct.prototype,"f",{get:function(){return this._matrix[5]},set:function(D){this._matrix[5]=D}}),Object.defineProperty(Ct.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Ct.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Ct.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Ct.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),Ct.prototype.join=function(D){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(P).join(D)},Ct.prototype.multiply=function(D){var Y=D.sx*this.sx+D.shy*this.shx,oe=D.sx*this.shy+D.shy*this.sy,pe=D.shx*this.sx+D.sy*this.shx,Ne=D.shx*this.shy+D.sy*this.sy,Le=D.tx*this.sx+D.ty*this.shx+this.tx,qe=D.tx*this.shy+D.ty*this.sy+this.ty;return new Ct(Y,oe,pe,Ne,Le,qe)},Ct.prototype.decompose=function(){var D=this.sx,Y=this.shy,oe=this.shx,pe=this.sy,Ne=this.tx,Le=this.ty,qe=Math.sqrt(D*D+Y*Y),lt=(D/=qe)*oe+(Y/=qe)*pe;oe-=D*lt,pe-=Y*lt;var jt=Math.sqrt(oe*oe+pe*pe);return lt/=jt,D*(pe/=jt)<Y*(oe/=jt)&&(D=-D,Y=-Y,lt=-lt,qe=-qe),{scale:new Ct(qe,0,0,jt,0,0),translate:new Ct(1,0,0,1,Ne,Le),rotate:new Ct(D,Y,-Y,D,0,0),skew:new Ct(1,0,lt,1,0,0)}},Ct.prototype.toString=function(D){return this.join(" ")},Ct.prototype.inversed=function(){var D=this.sx,Y=this.shy,oe=this.shx,pe=this.sy,Ne=this.tx,Le=this.ty,qe=1/(D*pe-Y*oe),lt=pe*qe,jt=-Y*qe,Ft=-oe*qe,Lt=D*qe;return new Ct(lt,jt,Ft,Lt,-lt*Ne-Ft*Le,-jt*Ne-Lt*Le)},Ct.prototype.applyToPoint=function(D){var Y=D.x*this.sx+D.y*this.shx+this.tx,oe=D.x*this.shy+D.y*this.sy+this.ty;return new pc(Y,oe)},Ct.prototype.applyToRectangle=function(D){var Y=this.applyToPoint(D),oe=this.applyToPoint(new pc(D.x+D.w,D.y+D.h));return new qd(Y.x,Y.y,oe.x-Y.x,oe.y-Y.y)},Ct.prototype.clone=function(){var D=this.sx,Y=this.shy,oe=this.shx,pe=this.sy,Ne=this.tx,Le=this.ty;return new Ct(D,Y,oe,pe,Ne,Le)},p.Matrix=Ct;var pa=p.matrixMult=function(D,Y){return Y.multiply(D)},qa=new Ct(1,0,0,1,0,0);p.unitMatrix=p.identityMatrix=qa;var os=function(D,Y){if(!vi[D]){var oe=(Y instanceof jo?"Sh":"P")+(Object.keys(Ht).length+1).toString(10);Y.id=oe,vi[D]=oe,Ht[oe]=Y,sr.publish("addPattern",Y)}};p.ShadingPattern=jo,p.TilingPattern=Pl,p.addShadingPattern=function(D,Y){return S("addShadingPattern()"),os(D,Y),this},p.beginTilingPattern=function(D){S("beginTilingPattern()"),hp(D.boundingBox[0],D.boundingBox[1],D.boundingBox[2]-D.boundingBox[0],D.boundingBox[3]-D.boundingBox[1],D.matrix)},p.endTilingPattern=function(D,Y){S("endTilingPattern()"),Y.stream=ye[$].join(`
`),os(D,Y),sr.publish("endTilingPattern",Y),Wa.pop().restore()};var on=p.__private__.newObject=function(){var D=en();return Ns(D,!0),D},en=p.__private__.newObjectDeferred=function(){return Z++,le[Z]=function(){return de},Z},Ns=function(D,Y){return Y=typeof Y=="boolean"&&Y,le[D]=de,Y&&te(D+" 0 obj"),D},ec=p.__private__.newAdditionalObject=function(){var D={objId:en(),content:""};return Se.push(D),D},bi=en(),ha=en(),fa=p.__private__.decodeColorString=function(D){var Y=D.split(" ");if(Y.length!==2||Y[1]!=="g"&&Y[1]!=="G")Y.length===5&&(Y[4]==="k"||Y[4]==="K")&&(Y=[(1-Y[0])*(1-Y[3]),(1-Y[1])*(1-Y[3]),(1-Y[2])*(1-Y[3]),"r"]);else{var oe=parseFloat(Y[0]);Y=[oe,oe,oe,"r"]}for(var pe="#",Ne=0;Ne<3;Ne++)pe+=("0"+Math.floor(255*parseFloat(Y[Ne])).toString(16)).slice(-2);return pe},xa=p.__private__.encodeColorString=function(D){var Y;typeof D=="string"&&(D={ch1:D});var oe=D.ch1,pe=D.ch2,Ne=D.ch3,Le=D.ch4,qe=D.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof oe=="string"&&oe.charAt(0)!=="#"){var lt=new mE(oe);if(lt.ok)oe=lt.toHex();else if(!/^\d*\.?\d*$/.test(oe))throw new Error('Invalid color "'+oe+'" passed to jsPDF.encodeColorString.')}if(typeof oe=="string"&&/^#[0-9A-Fa-f]{3}$/.test(oe)&&(oe="#"+oe[1]+oe[1]+oe[2]+oe[2]+oe[3]+oe[3]),typeof oe=="string"&&/^#[0-9A-Fa-f]{6}$/.test(oe)){var jt=parseInt(oe.substr(1),16);oe=jt>>16&255,pe=jt>>8&255,Ne=255&jt}if(pe===void 0||Le===void 0&&oe===pe&&pe===Ne)if(typeof oe=="string")Y=oe+" "+qe[0];else switch(D.precision){case 2:Y=k(oe/255)+" "+qe[0];break;case 3:default:Y=C(oe/255)+" "+qe[0]}else if(Le===void 0||Xt(Le)==="object"){if(Le&&!isNaN(Le.a)&&Le.a===0)return Y=["1.","1.","1.",qe[1]].join(" ");if(typeof oe=="string")Y=[oe,pe,Ne,qe[1]].join(" ");else switch(D.precision){case 2:Y=[k(oe/255),k(pe/255),k(Ne/255),qe[1]].join(" ");break;default:case 3:Y=[C(oe/255),C(pe/255),C(Ne/255),qe[1]].join(" ")}}else if(typeof oe=="string")Y=[oe,pe,Ne,Le,qe[2]].join(" ");else switch(D.precision){case 2:Y=[k(oe),k(pe),k(Ne),k(Le),qe[2]].join(" ");break;case 3:default:Y=[C(oe),C(pe),C(Ne),C(Le),qe[2]].join(" ")}return Y},Ha=p.__private__.getFilters=function(){return o},Hs=p.__private__.putStream=function(D){var Y=(D=D||{}).data||"",oe=D.filters||Ha(),pe=D.alreadyAppliedFilters||[],Ne=D.addLength1||!1,Le=Y.length,qe=D.objectId,lt=function(Mn){return Mn};if(m!==null&&qe===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");m!==null&&(lt=On.encryptor(qe,0));var jt={};oe===!0&&(oe=["FlateEncode"]);var Ft=D.additionalKeyValues||[],Lt=(jt=wt.API.processDataByFilters!==void 0?wt.API.processDataByFilters(Y,oe):{data:Y,reverseChain:[]}).reverseChain+(Array.isArray(pe)?pe.join(" "):pe.toString());if(jt.data.length!==0&&(Ft.push({key:"Length",value:jt.data.length}),Ne===!0&&Ft.push({key:"Length1",value:Le})),Lt.length!=0)if(Lt.split("/").length-1==1)Ft.push({key:"Filter",value:Lt});else{Ft.push({key:"Filter",value:"["+Lt+"]"});for(var Gt=0;Gt<Ft.length;Gt+=1)if(Ft[Gt].key==="DecodeParms"){for(var Er=[],_r=0;_r<jt.reverseChain.split("/").length-1;_r+=1)Er.push("null");Er.push(Ft[Gt].value),Ft[Gt].value="["+Er.join(" ")+"]"}}te("<<");for(var tn=0;tn<Ft.length;tn++)te("/"+Ft[tn].key+" "+Ft[tn].value);te(">>"),jt.data.length!==0&&(te("stream"),te(lt(jt.data)),te("endstream"))},Ga=p.__private__.putPage=function(D){var Y=D.number,oe=D.data,pe=D.objId,Ne=D.contentsObjId;Ns(pe,!0),te("<</Type /Page"),te("/Parent "+D.rootDictionaryObjId+" 0 R"),te("/Resources "+D.resourceDictionaryObjId+" 0 R"),te("/MediaBox ["+parseFloat(P(D.mediaBox.bottomLeftX))+" "+parseFloat(P(D.mediaBox.bottomLeftY))+" "+P(D.mediaBox.topRightX)+" "+P(D.mediaBox.topRightY)+"]"),D.cropBox!==null&&te("/CropBox ["+P(D.cropBox.bottomLeftX)+" "+P(D.cropBox.bottomLeftY)+" "+P(D.cropBox.topRightX)+" "+P(D.cropBox.topRightY)+"]"),D.bleedBox!==null&&te("/BleedBox ["+P(D.bleedBox.bottomLeftX)+" "+P(D.bleedBox.bottomLeftY)+" "+P(D.bleedBox.topRightX)+" "+P(D.bleedBox.topRightY)+"]"),D.trimBox!==null&&te("/TrimBox ["+P(D.trimBox.bottomLeftX)+" "+P(D.trimBox.bottomLeftY)+" "+P(D.trimBox.topRightX)+" "+P(D.trimBox.topRightY)+"]"),D.artBox!==null&&te("/ArtBox ["+P(D.artBox.bottomLeftX)+" "+P(D.artBox.bottomLeftY)+" "+P(D.artBox.topRightX)+" "+P(D.artBox.topRightY)+"]"),typeof D.userUnit=="number"&&D.userUnit!==1&&te("/UserUnit "+D.userUnit),sr.publish("putPage",{objId:pe,pageContext:Tt[Y],pageNumber:Y,page:oe}),te("/Contents "+Ne+" 0 R"),te(">>"),te("endobj");var Le=oe.join(`
`);return y===v.ADVANCED&&(Le+=`
Q`),Ns(Ne,!0),Hs({data:Le,filters:Ha(),objectId:Ne}),te("endobj"),pe},al=p.__private__.putPages=function(){var D,Y,oe=[];for(D=1;D<=Fr;D++)Tt[D].objId=en(),Tt[D].contentsObjId=en();for(D=1;D<=Fr;D++)oe.push(Ga({number:D,data:ye[D],objId:Tt[D].objId,contentsObjId:Tt[D].contentsObjId,mediaBox:Tt[D].mediaBox,cropBox:Tt[D].cropBox,bleedBox:Tt[D].bleedBox,trimBox:Tt[D].trimBox,artBox:Tt[D].artBox,userUnit:Tt[D].userUnit,rootDictionaryObjId:bi,resourceDictionaryObjId:ha}));Ns(bi,!0),te("<</Type /Pages");var pe="/Kids [";for(Y=0;Y<Fr;Y++)pe+=oe[Y]+" 0 R ";te(pe+"]"),te("/Count "+Fr),te(">>"),te("endobj"),sr.publish("postPutPages")},tc=function(D){sr.publish("putFont",{font:D,out:te,newObject:on,putStream:Hs}),D.isAlreadyPutted!==!0&&(D.objectNumber=on(),te("<<"),te("/Type /Font"),te("/BaseFont /"+Mc(D.postScriptName)),te("/Subtype /Type1"),typeof D.encoding=="string"&&te("/Encoding /"+D.encoding),te("/FirstChar 32"),te("/LastChar 255"),te(">>"),te("endobj"))},rc=function(){for(var D in er)er.hasOwnProperty(D)&&(u===!1||u===!0&&h.hasOwnProperty(D))&&tc(er[D])},nc=function(D){D.objectNumber=on();var Y=[];Y.push({key:"Type",value:"/XObject"}),Y.push({key:"Subtype",value:"/Form"}),Y.push({key:"BBox",value:"["+[P(D.x),P(D.y),P(D.x+D.width),P(D.y+D.height)].join(" ")+"]"}),Y.push({key:"Matrix",value:"["+D.matrix.toString()+"]"});var oe=D.pages[1].join(`
`);Hs({data:oe,additionalKeyValues:Y,objectId:D.objectNumber}),te("endobj")},sc=function(){for(var D in Sn)Sn.hasOwnProperty(D)&&nc(Sn[D])},Km=function(D,Y){var oe,pe=[],Ne=1/(Y-1);for(oe=0;oe<1;oe+=Ne)pe.push(oe);if(pe.push(1),D[0].offset!=0){var Le={offset:0,color:D[0].color};D.unshift(Le)}if(D[D.length-1].offset!=1){var qe={offset:1,color:D[D.length-1].color};D.push(qe)}for(var lt="",jt=0,Ft=0;Ft<pe.length;Ft++){for(oe=pe[Ft];oe>D[jt+1].offset;)jt++;var Lt=D[jt].offset,Gt=(oe-Lt)/(D[jt+1].offset-Lt),Er=D[jt].color,_r=D[jt+1].color;lt+=X(Math.round((1-Gt)*Er[0]+Gt*_r[0]).toString(16))+X(Math.round((1-Gt)*Er[1]+Gt*_r[1]).toString(16))+X(Math.round((1-Gt)*Er[2]+Gt*_r[2]).toString(16))}return lt.trim()},zx=function(D,Y){Y||(Y=21);var oe=on(),pe=Km(D.colors,Y),Ne=[];Ne.push({key:"FunctionType",value:"0"}),Ne.push({key:"Domain",value:"[0.0 1.0]"}),Ne.push({key:"Size",value:"["+Y+"]"}),Ne.push({key:"BitsPerSample",value:"8"}),Ne.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Ne.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Hs({data:pe,additionalKeyValues:Ne,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:oe}),te("endobj"),D.objectNumber=on(),te("<< /ShadingType "+D.type),te("/ColorSpace /DeviceRGB");var Le="/Coords ["+P(parseFloat(D.coords[0]))+" "+P(parseFloat(D.coords[1]))+" ";D.type===2?Le+=P(parseFloat(D.coords[2]))+" "+P(parseFloat(D.coords[3])):Le+=P(parseFloat(D.coords[2]))+" "+P(parseFloat(D.coords[3]))+" "+P(parseFloat(D.coords[4]))+" "+P(parseFloat(D.coords[5])),te(Le+="]"),D.matrix&&te("/Matrix ["+D.matrix.toString()+"]"),te("/Function "+oe+" 0 R"),te("/Extend [true true]"),te(">>"),te("endobj")},$x=function(D,Y){var oe=en(),pe=on();Y.push({resourcesOid:oe,objectOid:pe}),D.objectNumber=pe;var Ne=[];Ne.push({key:"Type",value:"/Pattern"}),Ne.push({key:"PatternType",value:"1"}),Ne.push({key:"PaintType",value:"1"}),Ne.push({key:"TilingType",value:"1"}),Ne.push({key:"BBox",value:"["+D.boundingBox.map(P).join(" ")+"]"}),Ne.push({key:"XStep",value:P(D.xStep)}),Ne.push({key:"YStep",value:P(D.yStep)}),Ne.push({key:"Resources",value:oe+" 0 R"}),D.matrix&&Ne.push({key:"Matrix",value:"["+D.matrix.toString()+"]"}),Hs({data:D.stream,additionalKeyValues:Ne,objectId:D.objectNumber}),te("endobj")},ac=function(D){var Y;for(Y in Ht)Ht.hasOwnProperty(Y)&&(Ht[Y]instanceof jo?zx(Ht[Y]):Ht[Y]instanceof Pl&&$x(Ht[Y],D))},Jm=function(D){for(var Y in D.objectNumber=on(),te("<<"),D)switch(Y){case"opacity":te("/ca "+k(D[Y]));break;case"stroke-opacity":te("/CA "+k(D[Y]))}te(">>"),te("endobj")},Ux=function(){var D;for(D in Rr)Rr.hasOwnProperty(D)&&Jm(Rr[D])},Fd=function(){for(var D in te("/XObject <<"),Sn)Sn.hasOwnProperty(D)&&Sn[D].objectNumber>=0&&te("/"+D+" "+Sn[D].objectNumber+" 0 R");sr.publish("putXobjectDict"),te(">>")},Vx=function(){On.oid=on(),te("<<"),te("/Filter /Standard"),te("/V "+On.v),te("/R "+On.r),te("/U <"+On.toHexString(On.U)+">"),te("/O <"+On.toHexString(On.O)+">"),te("/P "+On.P),te(">>"),te("endobj")},Xm=function(){for(var D in te("/Font <<"),er)er.hasOwnProperty(D)&&(u===!1||u===!0&&h.hasOwnProperty(D))&&te("/"+D+" "+er[D].objectNumber+" 0 R");te(">>")},Wx=function(){if(Object.keys(Ht).length>0){for(var D in te("/Shading <<"),Ht)Ht.hasOwnProperty(D)&&Ht[D]instanceof jo&&Ht[D].objectNumber>=0&&te("/"+D+" "+Ht[D].objectNumber+" 0 R");sr.publish("putShadingPatternDict"),te(">>")}},ic=function(D){if(Object.keys(Ht).length>0){for(var Y in te("/Pattern <<"),Ht)Ht.hasOwnProperty(Y)&&Ht[Y]instanceof p.TilingPattern&&Ht[Y].objectNumber>=0&&Ht[Y].objectNumber<D&&te("/"+Y+" "+Ht[Y].objectNumber+" 0 R");sr.publish("putTilingPatternDict"),te(">>")}},qx=function(){if(Object.keys(Rr).length>0){var D;for(D in te("/ExtGState <<"),Rr)Rr.hasOwnProperty(D)&&Rr[D].objectNumber>=0&&te("/"+D+" "+Rr[D].objectNumber+" 0 R");sr.publish("putGStateDict"),te(">>")}},Vr=function(D){Ns(D.resourcesOid,!0),te("<<"),te("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),Xm(),Wx(),ic(D.objectOid),qx(),Fd(),te(">>"),te("endobj")},Zm=function(){var D=[];rc(),Ux(),sc(),ac(D),sr.publish("putResources"),D.forEach(Vr),Vr({resourcesOid:ha,objectOid:Number.MAX_SAFE_INTEGER}),sr.publish("postPutResources")},ep=function(){sr.publish("putAdditionalObjects");for(var D=0;D<Se.length;D++){var Y=Se[D];Ns(Y.objId,!0),te(Y.content),te("endobj")}sr.publish("postPutAdditionalObjects")},tp=function(D){ur[D.fontName]=ur[D.fontName]||{},ur[D.fontName][D.fontStyle]=D.id},_d=function(D,Y,oe,pe,Ne){var Le={id:"F"+(Object.keys(er).length+1).toString(10),postScriptName:D,fontName:Y,fontStyle:oe,encoding:pe,isStandardFont:Ne||!1,metadata:{}};return sr.publish("addFont",{font:Le,instance:this}),er[Le.id]=Le,tp(Le),Le.id},Hx=function(D){for(var Y=0,oe=ke.length;Y<oe;Y++){var pe=_d.call(this,D[Y][0],D[Y][1],D[Y][2],ke[Y][3],!0);u===!1&&(h[pe]=!0);var Ne=D[Y][0].split("-");tp({id:pe,fontName:Ne[0],fontStyle:Ne[1]||""})}sr.publish("addFonts",{fonts:er,dictionary:ur})},ga=function(D){return D.foo=function(){try{return D.apply(this,arguments)}catch(pe){var Y=pe.stack||"";~Y.indexOf(" at ")&&(Y=Y.split(" at ")[1]);var oe="Error in function "+Y.split(`
`)[0].split("<")[0]+": "+pe.message;if(!At.console)throw new Error(oe);At.console.error(oe,pe),At.alert&&alert(oe)}},D.foo.bar=D,D.foo},oc=function(D,Y){var oe,pe,Ne,Le,qe,lt,jt,Ft,Lt;if(Ne=(Y=Y||{}).sourceEncoding||"Unicode",qe=Y.outputEncoding,(Y.autoencode||qe)&&er[It].metadata&&er[It].metadata[Ne]&&er[It].metadata[Ne].encoding&&(Le=er[It].metadata[Ne].encoding,!qe&&er[It].encoding&&(qe=er[It].encoding),!qe&&Le.codePages&&(qe=Le.codePages[0]),typeof qe=="string"&&(qe=Le[qe]),qe)){for(jt=!1,lt=[],oe=0,pe=D.length;oe<pe;oe++)(Ft=qe[D.charCodeAt(oe)])?lt.push(String.fromCharCode(Ft)):lt.push(D[oe]),lt[oe].charCodeAt(0)>>8&&(jt=!0);D=lt.join("")}for(oe=D.length;jt===void 0&&oe!==0;)D.charCodeAt(oe-1)>>8&&(jt=!0),oe--;if(!jt)return D;for(lt=Y.noBOM?[]:[254,255],oe=0,pe=D.length;oe<pe;oe++){if((Lt=(Ft=D.charCodeAt(oe))>>8)>>8)throw new Error("Character at position "+oe+" of string '"+D+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");lt.push(Lt),lt.push(Ft-(Lt<<8))}return String.fromCharCode.apply(void 0,lt)},ls=p.__private__.pdfEscape=p.pdfEscape=function(D,Y){return oc(D,Y).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Od=p.__private__.beginPage=function(D){ye[++Fr]=[],Tt[Fr]={objId:0,contentsObjId:0,userUnit:Number(l),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(D[0]),topRightY:Number(D[1])}},np(Fr),ie(ye[$])},rp=function(D,Y){var oe,pe,Ne;switch(n=Y||n,typeof D=="string"&&(oe=x(D.toLowerCase()),Array.isArray(oe)&&(pe=oe[0],Ne=oe[1])),Array.isArray(D)&&(pe=D[0]*Ke,Ne=D[1]*Ke),isNaN(pe)&&(pe=a[0],Ne=a[1]),(pe>14400||Ne>14400)&&(fr.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),pe=Math.min(14400,pe),Ne=Math.min(14400,Ne)),a=[pe,Ne],n.substr(0,1)){case"l":Ne>pe&&(a=[Ne,pe]);break;case"p":pe>Ne&&(a=[Ne,pe])}Od(a),cp($d),te(va),Vd!==0&&te(Vd+" J"),Wd!==0&&te(Wd+" j"),sr.publish("addPage",{pageNumber:Fr})},Gx=function(D){D>0&&D<=Fr&&(ye.splice(D,1),Tt.splice(D,1),Fr--,$>Fr&&($=Fr),this.setPage($))},np=function(D){D>0&&D<=Fr&&($=D)},Qx=p.__private__.getNumberOfPages=p.getNumberOfPages=function(){return ye.length-1},sp=function(D,Y,oe){var pe,Ne=void 0;return oe=oe||{},D=D!==void 0?D:er[It].fontName,Y=Y!==void 0?Y:er[It].fontStyle,pe=D.toLowerCase(),ur[pe]!==void 0&&ur[pe][Y]!==void 0?Ne=ur[pe][Y]:ur[D]!==void 0&&ur[D][Y]!==void 0?Ne=ur[D][Y]:oe.disableWarning===!1&&fr.warn("Unable to look up font label for font '"+D+"', '"+Y+"'. Refer to getFontList() for available fonts."),Ne||oe.noFallback||(Ne=ur.times[Y])==null&&(Ne=ur.times.normal),Ne},Yx=p.__private__.putInfo=function(){var D=on(),Y=function(pe){return pe};for(var oe in m!==null&&(Y=On.encryptor(D,0)),te("<<"),te("/Producer ("+ls(Y("jsPDF "+wt.version))+")"),yt)yt.hasOwnProperty(oe)&&yt[oe]&&te("/"+oe.substr(0,1).toUpperCase()+oe.substr(1)+" ("+ls(Y(yt[oe]))+")");te("/CreationDate ("+ls(Y(W))+")"),te(">>"),te("endobj")},Md=p.__private__.putCatalog=function(D){var Y=(D=D||{}).rootDictionaryObjId||bi;switch(on(),te("<<"),te("/Type /Catalog"),te("/Pages "+Y+" 0 R"),Je||(Je="fullwidth"),Je){case"fullwidth":te("/OpenAction [3 0 R /FitH null]");break;case"fullheight":te("/OpenAction [3 0 R /FitV null]");break;case"fullpage":te("/OpenAction [3 0 R /Fit]");break;case"original":te("/OpenAction [3 0 R /XYZ null null 1]");break;default:var oe=""+Je;oe.substr(oe.length-1)==="%"&&(Je=parseInt(Je)/100),typeof Je=="number"&&te("/OpenAction [3 0 R /XYZ null null "+k(Je)+"]")}switch(st||(st="continuous"),st){case"continuous":te("/PageLayout /OneColumn");break;case"single":te("/PageLayout /SinglePage");break;case"two":case"twoleft":te("/PageLayout /TwoColumnLeft");break;case"tworight":te("/PageLayout /TwoColumnRight")}De&&te("/PageMode /"+De),sr.publish("putCatalog"),te(">>"),te("endobj")},Kx=p.__private__.putTrailer=function(){te("trailer"),te("<<"),te("/Size "+(Z+1)),te("/Root "+Z+" 0 R"),te("/Info "+(Z-1)+" 0 R"),m!==null&&te("/Encrypt "+On.oid+" 0 R"),te("/ID [ <"+V+"> <"+V+"> ]"),te(">>")},Jx=p.__private__.putHeader=function(){te("%PDF-"+g),te("%")},Xx=p.__private__.putXRef=function(){var D="0000000000";te("xref"),te("0 "+(Z+1)),te("0000000000 65535 f ");for(var Y=1;Y<=Z;Y++)typeof le[Y]=="function"?te((D+le[Y]()).slice(-10)+" 00000 n "):le[Y]!==void 0?te((D+le[Y]).slice(-10)+" 00000 n "):te("0000000000 00000 n ")},ji=p.__private__.buildDocument=function(){he(),ie(ce),sr.publish("buildDocument"),Jx(),al(),ep(),Zm(),m!==null&&Vx(),Yx(),Md();var D=de;return Xx(),Kx(),te("startxref"),te(""+D),te("%%EOF"),ie(ye[$]),ce.join(`
`)},lc=p.__private__.getBlob=function(D){return new Blob([_e(D)],{type:"application/pdf"})},cc=p.output=p.__private__.output=ga(function(D,Y){switch(typeof(Y=Y||{})=="string"?Y={filename:Y}:Y.filename=Y.filename||"generated.pdf",D){case void 0:return ji();case"save":p.save(Y.filename);break;case"arraybuffer":return _e(ji());case"blob":return lc(ji());case"bloburi":case"bloburl":if(At.URL!==void 0&&typeof At.URL.createObjectURL=="function")return At.URL&&At.URL.createObjectURL(lc(ji()))||void 0;fr.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var oe="",pe=ji();try{oe=g1(pe)}catch{oe=g1(unescape(encodeURIComponent(pe)))}return"data:application/pdf;filename="+Y.filename+";base64,"+oe;case"pdfobjectnewwindow":if(Object.prototype.toString.call(At)==="[object Window]"){var Ne="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Le=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';Y.pdfObjectUrl&&(Ne=Y.pdfObjectUrl,Le="");var qe='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+Ne+'"'+Le+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(Y)+");<\/script></body></html>",lt=At.open();return lt!==null&&lt.document.write(qe),lt}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(At)==="[object Window]"){var jt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(Y.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+Y.filename+'" width="500px" height="400px" /></body></html>',Ft=At.open();if(Ft!==null){Ft.document.write(jt);var Lt=this;Ft.document.documentElement.querySelector("#pdfViewer").onload=function(){Ft.document.title=Y.filename,Ft.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(Lt.output("bloburl"))}}return Ft}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(At)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var Gt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",Y)+'"></iframe></body></html>',Er=At.open();if(Er!==null&&(Er.document.write(Gt),Er.document.title=Y.filename),Er||typeof safari>"u")return Er;break;case"datauri":case"dataurl":return At.document.location.href=this.output("datauristring",Y);default:return null}}),ap=function(D){return Array.isArray(sl)===!0&&sl.indexOf(D)>-1};switch(s){case"pt":Ke=1;break;case"mm":Ke=72/25.4;break;case"cm":Ke=72/2.54;break;case"in":Ke=72;break;case"px":Ke=ap("px_scaling")==1?.75:96/72;break;case"pc":case"em":Ke=12;break;case"ex":Ke=6;break;default:if(typeof s!="number")throw new Error("Invalid unit: "+s);Ke=s}var On=null;q(),B();var Zx=function(D){return m!==null?On.encryptor(D,0):function(Y){return Y}},ip=p.__private__.getPageInfo=p.getPageInfo=function(D){if(isNaN(D)||D%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:Tt[D].objId,pageNumber:D,pageContext:Tt[D]}},kt=p.__private__.getPageInfoByObjId=function(D){if(isNaN(D)||D%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var Y in Tt)if(Tt[Y].objId===D)break;return ip(Y)},eg=p.__private__.getCurrentPageInfo=p.getCurrentPageInfo=function(){return{objId:Tt[$].objId,pageNumber:$,pageContext:Tt[$]}};p.addPage=function(){return rp.apply(this,arguments),this},p.setPage=function(){return np.apply(this,arguments),ie.call(this,ye[$]),this},p.insertPage=function(D){return this.addPage(),this.movePage($,D),this},p.movePage=function(D,Y){var oe,pe;if(D>Y){oe=ye[D],pe=Tt[D];for(var Ne=D;Ne>Y;Ne--)ye[Ne]=ye[Ne-1],Tt[Ne]=Tt[Ne-1];ye[Y]=oe,Tt[Y]=pe,this.setPage(Y)}else if(D<Y){oe=ye[D],pe=Tt[D];for(var Le=D;Le<Y;Le++)ye[Le]=ye[Le+1],Tt[Le]=Tt[Le+1];ye[Y]=oe,Tt[Y]=pe,this.setPage(Y)}return this},p.deletePage=function(){return Gx.apply(this,arguments),this},p.__private__.text=p.text=function(D,Y,oe,pe,Ne){var Le,qe,lt,jt,Ft,Lt,Gt,Er,_r,tn=(pe=pe||{}).scope||this;if(typeof D=="number"&&typeof Y=="number"&&(typeof oe=="string"||Array.isArray(oe))){var Mn=oe;oe=Y,Y=D,D=Mn}if(arguments[3]instanceof Ct?(S("The transform parameter of text() with a Matrix value"),_r=Ne):(lt=arguments[4],jt=arguments[5],Xt(Gt=arguments[3])==="object"&&Gt!==null||(typeof lt=="string"&&(jt=lt,lt=null),typeof Gt=="string"&&(jt=Gt,Gt=null),typeof Gt=="number"&&(lt=Gt,Gt=null),pe={flags:Gt,angle:lt,align:jt})),isNaN(Y)||isNaN(oe)||D==null)throw new Error("Invalid arguments passed to jsPDF.text");if(D.length===0)return tn;var hn="",ya=!1,Ss=typeof pe.lineHeightFactor=="number"?pe.lineHeightFactor:ol,Ka=tn.internal.scaleFactor;function fp(gr){return gr=gr.split("	").join(Array(pe.TabLen||9).join(" ")),ls(gr,Gt)}function Yd(gr){for(var vr,qr=gr.concat(),ln=[],Ai=qr.length;Ai--;)typeof(vr=qr.shift())=="string"?ln.push(vr):Array.isArray(gr)&&(vr.length===1||vr[1]===void 0&&vr[2]===void 0)?ln.push(vr[0]):ln.push([vr[0],vr[1],vr[2]]);return ln}function Kd(gr,vr){var qr;if(typeof gr=="string")qr=vr(gr)[0];else if(Array.isArray(gr)){for(var ln,Ai,su=gr.concat(),Sc=[],bp=su.length;bp--;)typeof(ln=su.shift())=="string"?Sc.push(vr(ln)[0]):Array.isArray(ln)&&typeof ln[0]=="string"&&(Ai=vr(ln[0],ln[1],ln[2]),Sc.push([Ai[0],Ai[1],Ai[2]]));qr=Sc}return qr}var fc=!1,Jd=!0;if(typeof D=="string")fc=!0;else if(Array.isArray(D)){var Xd=D.concat();qe=[];for(var xc,Cn=Xd.length;Cn--;)(typeof(xc=Xd.shift())!="string"||Array.isArray(xc)&&typeof xc[0]!="string")&&(Jd=!1);fc=Jd}if(fc===!1)throw new Error('Type of text must be string or Array. "'+D+'" is not recognized.');typeof D=="string"&&(D=D.match(/[\r?\n]/)?D.split(/\r\n|\r|\n/g):[D]);var gc=Ve/tn.internal.scaleFactor,vc=gc*(Ss-1);switch(pe.baseline){case"bottom":oe-=vc;break;case"top":oe+=gc-vc;break;case"hanging":oe+=gc-2*vc;break;case"middle":oe+=gc/2-vc}if((Lt=pe.maxWidth||0)>0&&(typeof D=="string"?D=tn.splitTextToSize(D,Lt):Object.prototype.toString.call(D)==="[object Array]"&&(D=D.reduce(function(gr,vr){return gr.concat(tn.splitTextToSize(vr,Lt))},[]))),Le={text:D,x:Y,y:oe,options:pe,mutex:{pdfEscape:ls,activeFontKey:It,fonts:er,activeFontSize:Ve}},sr.publish("preProcessText",Le),D=Le.text,lt=(pe=Le.options).angle,!(_r instanceof Ct)&&lt&&typeof lt=="number"){lt*=Math.PI/180,pe.rotationDirection===0&&(lt=-lt),y===v.ADVANCED&&(lt=-lt);var yc=Math.cos(lt),Zd=Math.sin(lt);_r=new Ct(yc,Zd,-Zd,yc,0,0)}else lt&&lt instanceof Ct&&(_r=lt);y!==v.ADVANCED||_r||(_r=qa),(Ft=pe.charSpace||mc)!==void 0&&(hn+=P(w(Ft))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Er=pe.horizontalScale)!==void 0&&(hn+=P(100*Er)+` Tz
`),pe.lang;var cs=-1,dg=pe.renderingMode!==void 0?pe.renderingMode:pe.stroke,eu=tn.internal.getCurrentPageInfo().pageContext;switch(dg){case 0:case!1:case"fill":cs=0;break;case 1:case!0:case"stroke":cs=1;break;case 2:case"fillThenStroke":cs=2;break;case 3:case"invisible":cs=3;break;case 4:case"fillAndAddForClipping":cs=4;break;case 5:case"strokeAndAddPathForClipping":cs=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":cs=6;break;case 7:case"addToPathForClipping":cs=7}var xp=eu.usedRenderingMode!==void 0?eu.usedRenderingMode:-1;cs!==-1?hn+=cs+` Tr
`:xp!==-1&&(hn+=`0 Tr
`),cs!==-1&&(eu.usedRenderingMode=cs),jt=pe.align||"left";var Gs,bc=Ve*Ss,gp=tn.internal.pageSize.getWidth(),vp=er[It];Ft=pe.charSpace||mc,Lt=pe.maxWidth||0,Gt=Object.assign({autoencode:!0,noBOM:!0},pe.flags);var Zi=[],dl=function(gr){return tn.getStringUnitWidth(gr,{font:vp,charSpace:Ft,fontSize:Ve,doKerning:!1})*Ve/Ka};if(Object.prototype.toString.call(D)==="[object Array]"){var ds;qe=Yd(D),jt!=="left"&&(Gs=qe.map(dl));var Xn,eo=0;if(jt==="right"){Y-=Gs[0],D=[],Cn=qe.length;for(var Ni=0;Ni<Cn;Ni++)Ni===0?(Xn=Ya(Y),ds=wi(oe)):(Xn=w(eo-Gs[Ni]),ds=-bc),D.push([qe[Ni],Xn,ds]),eo=Gs[Ni]}else if(jt==="center"){Y-=Gs[0]/2,D=[],Cn=qe.length;for(var Si=0;Si<Cn;Si++)Si===0?(Xn=Ya(Y),ds=wi(oe)):(Xn=w((eo-Gs[Si])/2),ds=-bc),D.push([qe[Si],Xn,ds]),eo=Gs[Si]}else if(jt==="left"){D=[],Cn=qe.length;for(var jc=0;jc<Cn;jc++)D.push(qe[jc])}else if(jt==="justify"&&vp.encoding==="Identity-H"){D=[],Cn=qe.length,Lt=Lt!==0?Lt:gp;for(var Ci=0,Wr=0;Wr<Cn;Wr++)if(ds=Wr===0?wi(oe):-bc,Xn=Wr===0?Ya(Y):Ci,Wr<Cn-1){var tu=w((Lt-Gs[Wr])/(qe[Wr].split(" ").length-1)),Zn=qe[Wr].split(" ");D.push([Zn[0]+" ",Xn,ds]),Ci=0;for(var Qs=1;Qs<Zn.length;Qs++){var wc=(dl(Zn[Qs-1]+" "+Zn[Qs])-dl(Zn[Qs]))*Ka+tu;Qs==Zn.length-1?D.push([Zn[Qs],wc,0]):D.push([Zn[Qs]+" ",wc,0]),Ci-=wc}}else D.push([qe[Wr],Xn,ds]);D.push(["",Ci,0])}else{if(jt!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(D=[],Cn=qe.length,Lt=Lt!==0?Lt:gp,Wr=0;Wr<Cn;Wr++)ds=Wr===0?wi(oe):-bc,Xn=Wr===0?Ya(Y):0,Wr<Cn-1?Zi.push(P(w((Lt-Gs[Wr])/(qe[Wr].split(" ").length-1)))):Zi.push(0),D.push([qe[Wr],Xn,ds])}}var yp=typeof pe.R2L=="boolean"?pe.R2L:xt;yp===!0&&(D=Kd(D,function(gr,vr,qr){return[gr.split("").reverse().join(""),vr,qr]})),Le={text:D,x:Y,y:oe,options:pe,mutex:{pdfEscape:ls,activeFontKey:It,fonts:er,activeFontSize:Ve}},sr.publish("postProcessText",Le),D=Le.text,ya=Le.mutex.isHex||!1;var ru=er[It].encoding;ru!=="WinAnsiEncoding"&&ru!=="StandardEncoding"||(D=Kd(D,function(gr,vr,qr){return[fp(gr),vr,qr]})),qe=Yd(D),D=[];for(var ul,ml,to,pl=0,Nc=1,hl=Array.isArray(qe[0])?Nc:pl,ro="",nu=function(gr,vr,qr){var ln="";return qr instanceof Ct?(qr=typeof pe.angle=="number"?pa(qr,new Ct(1,0,0,1,gr,vr)):pa(new Ct(1,0,0,1,gr,vr),qr),y===v.ADVANCED&&(qr=pa(new Ct(1,0,0,-1,0,0),qr)),ln=qr.join(" ")+` Tm
`):ln=P(gr)+" "+P(vr)+` Td
`,ln},Ys=0;Ys<qe.length;Ys++){switch(ro="",hl){case Nc:to=(ya?"<":"(")+qe[Ys][0]+(ya?">":")"),ul=parseFloat(qe[Ys][1]),ml=parseFloat(qe[Ys][2]);break;case pl:to=(ya?"<":"(")+qe[Ys]+(ya?">":")"),ul=Ya(Y),ml=wi(oe)}Zi!==void 0&&Zi[Ys]!==void 0&&(ro=Zi[Ys]+` Tw
`),Ys===0?D.push(ro+nu(ul,ml,_r)+to):hl===pl?D.push(ro+to):hl===Nc&&D.push(ro+nu(ul,ml,_r)+to)}D=hl===pl?D.join(` Tj
T* `):D.join(` Tj
`),D+=` Tj
`;var Ks=`BT
/`;return Ks+=It+" "+Ve+` Tf
`,Ks+=P(Ve*Ss)+` TL
`,Ks+=ll+`
`,Ks+=hn,Ks+=D,te(Ks+="ET"),h[It]=!0,tn};var tg=p.__private__.clip=p.clip=function(D){return te(D==="evenodd"?"W*":"W"),this};p.clipEvenOdd=function(){return tg("evenodd")},p.__private__.discardPath=p.discardPath=function(){return te("n"),this};var Qa=p.__private__.isValidStyle=function(D){var Y=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(D)!==-1&&(Y=!0),Y};p.__private__.setDefaultPathOperation=p.setDefaultPathOperation=function(D){return Qa(D)&&(d=D),this};var op=p.__private__.getStyle=p.getStyle=function(D){var Y=d;switch(D){case"D":case"S":Y="S";break;case"F":Y="f";break;case"FD":case"DF":Y="B";break;case"f":case"f*":case"B":case"B*":Y=D}return Y},lp=p.close=function(){return te("h"),this};p.stroke=function(){return te("S"),this},p.fill=function(D){return dc("f",D),this},p.fillEvenOdd=function(D){return dc("f*",D),this},p.fillStroke=function(D){return dc("B",D),this},p.fillStrokeEvenOdd=function(D){return dc("B*",D),this};var dc=function(D,Y){Xt(Y)==="object"?ng(Y,D):te(D)},Bd=function(D){D===null||y===v.ADVANCED&&D===void 0||(D=op(D),te(D))};function rg(D,Y,oe,pe,Ne){var Le=new Pl(Y||this.boundingBox,oe||this.xStep,pe||this.yStep,this.gState,Ne||this.matrix);Le.stream=this.stream;var qe=D+"$$"+this.cloneIndex+++"$$";return os(qe,Le),Le}var ng=function(D,Y){var oe=vi[D.key],pe=Ht[oe];if(pe instanceof jo)te("q"),te(sg(Y)),pe.gState&&p.setGState(pe.gState),te(D.matrix.toString()+" cm"),te("/"+oe+" sh"),te("Q");else if(pe instanceof Pl){var Ne=new Ct(1,0,0,-1,0,Xi());D.matrix&&(Ne=Ne.multiply(D.matrix||qa),oe=rg.call(pe,D.key,D.boundingBox,D.xStep,D.yStep,Ne).id),te("q"),te("/Pattern cs"),te("/"+oe+" scn"),pe.gState&&p.setGState(pe.gState),te(Y),te("Q")}},sg=function(D){switch(D){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},zd=p.moveTo=function(D,Y){return te(P(w(D))+" "+P(T(Y))+" m"),this},il=p.lineTo=function(D,Y){return te(P(w(D))+" "+P(T(Y))+" l"),this},Ki=p.curveTo=function(D,Y,oe,pe,Ne,Le){return te([P(w(D)),P(T(Y)),P(w(oe)),P(T(pe)),P(w(Ne)),P(T(Le)),"c"].join(" ")),this};p.__private__.line=p.line=function(D,Y,oe,pe,Ne){if(isNaN(D)||isNaN(Y)||isNaN(oe)||isNaN(pe)||!Qa(Ne))throw new Error("Invalid arguments passed to jsPDF.line");return y===v.COMPAT?this.lines([[oe-D,pe-Y]],D,Y,[1,1],Ne||"S"):this.lines([[oe-D,pe-Y]],D,Y,[1,1]).stroke()},p.__private__.lines=p.lines=function(D,Y,oe,pe,Ne,Le){var qe,lt,jt,Ft,Lt,Gt,Er,_r,tn,Mn,hn,ya;if(typeof D=="number"&&(ya=oe,oe=Y,Y=D,D=ya),pe=pe||[1,1],Le=Le||!1,isNaN(Y)||isNaN(oe)||!Array.isArray(D)||!Array.isArray(pe)||!Qa(Ne)||typeof Le!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(zd(Y,oe),qe=pe[0],lt=pe[1],Ft=D.length,Mn=Y,hn=oe,jt=0;jt<Ft;jt++)(Lt=D[jt]).length===2?(Mn=Lt[0]*qe+Mn,hn=Lt[1]*lt+hn,il(Mn,hn)):(Gt=Lt[0]*qe+Mn,Er=Lt[1]*lt+hn,_r=Lt[2]*qe+Mn,tn=Lt[3]*lt+hn,Mn=Lt[4]*qe+Mn,hn=Lt[5]*lt+hn,Ki(Gt,Er,_r,tn,Mn,hn));return Le&&lp(),Bd(Ne),this},p.path=function(D){for(var Y=0;Y<D.length;Y++){var oe=D[Y],pe=oe.c;switch(oe.op){case"m":zd(pe[0],pe[1]);break;case"l":il(pe[0],pe[1]);break;case"c":Ki.apply(this,pe);break;case"h":lp()}}return this},p.__private__.rect=p.rect=function(D,Y,oe,pe,Ne){if(isNaN(D)||isNaN(Y)||isNaN(oe)||isNaN(pe)||!Qa(Ne))throw new Error("Invalid arguments passed to jsPDF.rect");return y===v.COMPAT&&(pe=-pe),te([P(w(D)),P(T(Y)),P(w(oe)),P(w(pe)),"re"].join(" ")),Bd(Ne),this},p.__private__.triangle=p.triangle=function(D,Y,oe,pe,Ne,Le,qe){if(isNaN(D)||isNaN(Y)||isNaN(oe)||isNaN(pe)||isNaN(Ne)||isNaN(Le)||!Qa(qe))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[oe-D,pe-Y],[Ne-oe,Le-pe],[D-Ne,Y-Le]],D,Y,[1,1],qe,!0),this},p.__private__.roundedRect=p.roundedRect=function(D,Y,oe,pe,Ne,Le,qe){if(isNaN(D)||isNaN(Y)||isNaN(oe)||isNaN(pe)||isNaN(Ne)||isNaN(Le)||!Qa(qe))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var lt=4/3*(Math.SQRT2-1);return Ne=Math.min(Ne,.5*oe),Le=Math.min(Le,.5*pe),this.lines([[oe-2*Ne,0],[Ne*lt,0,Ne,Le-Le*lt,Ne,Le],[0,pe-2*Le],[0,Le*lt,-Ne*lt,Le,-Ne,Le],[2*Ne-oe,0],[-Ne*lt,0,-Ne,-Le*lt,-Ne,-Le],[0,2*Le-pe],[0,-Le*lt,Ne*lt,-Le,Ne,-Le]],D+Ne,Y,[1,1],qe,!0),this},p.__private__.ellipse=p.ellipse=function(D,Y,oe,pe,Ne){if(isNaN(D)||isNaN(Y)||isNaN(oe)||isNaN(pe)||!Qa(Ne))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Le=4/3*(Math.SQRT2-1)*oe,qe=4/3*(Math.SQRT2-1)*pe;return zd(D+oe,Y),Ki(D+oe,Y-qe,D+Le,Y-pe,D,Y-pe),Ki(D-Le,Y-pe,D-oe,Y-qe,D-oe,Y),Ki(D-oe,Y+qe,D-Le,Y+pe,D,Y+pe),Ki(D+Le,Y+pe,D+oe,Y+qe,D+oe,Y),Bd(Ne),this},p.__private__.circle=p.circle=function(D,Y,oe,pe){if(isNaN(D)||isNaN(Y)||isNaN(oe)||!Qa(pe))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(D,Y,oe,oe,pe)},p.setFont=function(D,Y,oe){return oe&&(Y=M(Y,oe)),It=sp(D,Y,{disableWarning:!1}),this};var ag=p.__private__.getFont=p.getFont=function(){return er[sp.apply(p,arguments)]};p.__private__.getFontList=p.getFontList=function(){var D,Y,oe={};for(D in ur)if(ur.hasOwnProperty(D))for(Y in oe[D]=[],ur[D])ur[D].hasOwnProperty(Y)&&oe[D].push(Y);return oe},p.addFont=function(D,Y,oe,pe,Ne){var Le=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Le.indexOf(arguments[3])!==-1?Ne=arguments[3]:arguments[3]&&Le.indexOf(arguments[3])==-1&&(oe=M(oe,pe)),Ne=Ne||"Identity-H",_d.call(this,D,Y,oe,Ne)};var ol,$d=e.lineWidth||.200025,uc=p.__private__.getLineWidth=p.getLineWidth=function(){return $d},cp=p.__private__.setLineWidth=p.setLineWidth=function(D){return $d=D,te(P(w(D))+" w"),this};p.__private__.setLineDash=wt.API.setLineDash=wt.API.setLineDashPattern=function(D,Y){if(D=D||[],Y=Y||0,isNaN(Y)||!Array.isArray(D))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return D=D.map(function(oe){return P(w(oe))}).join(" "),Y=P(w(Y)),te("["+D+"] "+Y+" d"),this};var dp=p.__private__.getLineHeight=p.getLineHeight=function(){return Ve*ol};p.__private__.getLineHeight=p.getLineHeight=function(){return Ve*ol};var up=p.__private__.setLineHeightFactor=p.setLineHeightFactor=function(D){return typeof(D=D||1.15)=="number"&&(ol=D),this},mp=p.__private__.getLineHeightFactor=p.getLineHeightFactor=function(){return ol};up(e.lineHeight);var Ya=p.__private__.getHorizontalCoordinate=function(D){return w(D)},wi=p.__private__.getVerticalCoordinate=function(D){return y===v.ADVANCED?D:Tt[$].mediaBox.topRightY-Tt[$].mediaBox.bottomLeftY-w(D)},ig=p.__private__.getHorizontalCoordinateString=p.getHorizontalCoordinateString=function(D){return P(Ya(D))},Ji=p.__private__.getVerticalCoordinateString=p.getVerticalCoordinateString=function(D){return P(wi(D))},va=e.strokeColor||"0 G";p.__private__.getStrokeColor=p.getDrawColor=function(){return fa(va)},p.__private__.setStrokeColor=p.setDrawColor=function(D,Y,oe,pe){return va=xa({ch1:D,ch2:Y,ch3:oe,ch4:pe,pdfColorType:"draw",precision:2}),te(va),this};var Ud=e.fillColor||"0 g";p.__private__.getFillColor=p.getFillColor=function(){return fa(Ud)},p.__private__.setFillColor=p.setFillColor=function(D,Y,oe,pe){return Ud=xa({ch1:D,ch2:Y,ch3:oe,ch4:pe,pdfColorType:"fill",precision:2}),te(Ud),this};var ll=e.textColor||"0 g",og=p.__private__.getTextColor=p.getTextColor=function(){return fa(ll)};p.__private__.setTextColor=p.setTextColor=function(D,Y,oe,pe){return ll=xa({ch1:D,ch2:Y,ch3:oe,ch4:pe,pdfColorType:"text",precision:3}),this};var mc=e.charSpace,lg=p.__private__.getCharSpace=p.getCharSpace=function(){return parseFloat(mc||0)};p.__private__.setCharSpace=p.setCharSpace=function(D){if(isNaN(D))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return mc=D,this};var Vd=0;p.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},p.__private__.setLineCap=p.setLineCap=function(D){var Y=p.CapJoinStyles[D];if(Y===void 0)throw new Error("Line cap style of '"+D+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Vd=Y,te(Y+" J"),this};var Wd=0;p.__private__.setLineJoin=p.setLineJoin=function(D){var Y=p.CapJoinStyles[D];if(Y===void 0)throw new Error("Line join style of '"+D+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Wd=Y,te(Y+" j"),this},p.__private__.setLineMiterLimit=p.__private__.setMiterLimit=p.setLineMiterLimit=p.setMiterLimit=function(D){if(D=D||0,isNaN(D))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return te(P(w(D))+" M"),this},p.GState=Im,p.setGState=function(D){(D=typeof D=="string"?Rr[ma[D]]:pp(null,D)).equals(yi)||(te("/"+D.id+" gs"),yi=D)};var pp=function(D,Y){if(!D||!ma[D]){var oe=!1;for(var pe in Rr)if(Rr.hasOwnProperty(pe)&&Rr[pe].equals(Y)){oe=!0;break}if(oe)Y=Rr[pe];else{var Ne="GS"+(Object.keys(Rr).length+1).toString(10);Rr[Ne]=Y,Y.id=Ne}return D&&(ma[D]=Y.id),sr.publish("addGState",Y),Y}};p.addGState=function(D,Y){return pp(D,Y),this},p.saveGraphicsState=function(){return te("q"),is.push({key:It,size:Ve,color:ll}),this},p.restoreGraphicsState=function(){te("Q");var D=is.pop();return It=D.key,Ve=D.size,ll=D.color,yi=null,this},p.setCurrentTransformationMatrix=function(D){return te(D.toString()+" cm"),this},p.comment=function(D){return te("#"+D),this};var pc=function(D,Y){var oe=D||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return oe},set:function(Le){isNaN(Le)||(oe=parseFloat(Le))}});var pe=Y||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return pe},set:function(Le){isNaN(Le)||(pe=parseFloat(Le))}});var Ne="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return Ne},set:function(Le){Ne=Le.toString()}}),this},qd=function(D,Y,oe,pe){pc.call(this,D,Y),this.type="rect";var Ne=oe||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return Ne},set:function(qe){isNaN(qe)||(Ne=parseFloat(qe))}});var Le=pe||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Le},set:function(qe){isNaN(qe)||(Le=parseFloat(qe))}}),this},Hd=function(){this.page=Fr,this.currentPage=$,this.pages=ye.slice(0),this.pagesContext=Tt.slice(0),this.x=Zt,this.y=Ot,this.matrix=an,this.width=cl($),this.height=Xi($),this.outputDestination=Fe,this.id="",this.objectNumber=-1};Hd.prototype.restore=function(){Fr=this.page,$=this.currentPage,Tt=this.pagesContext,ye=this.pages,Zt=this.x,Ot=this.y,an=this.matrix,Gd($,this.width),Qd($,this.height),Fe=this.outputDestination};var hp=function(D,Y,oe,pe,Ne){Wa.push(new Hd),Fr=$=0,ye=[],Zt=D,Ot=Y,an=Ne,Od([oe,pe])},cg=function(D){if(Va[D])Wa.pop().restore();else{var Y=new Hd,oe="Xo"+(Object.keys(Sn).length+1).toString(10);Y.id=oe,Va[D]=oe,Sn[oe]=Y,sr.publish("addFormObject",Y),Wa.pop().restore()}};for(var hc in p.beginFormObject=function(D,Y,oe,pe,Ne){return hp(D,Y,oe,pe,Ne),this},p.endFormObject=function(D){return cg(D),this},p.doFormObject=function(D,Y){var oe=Sn[Va[D]];return te("q"),te(Y.toString()+" cm"),te("/"+oe.id+" Do"),te("Q"),this},p.getFormObject=function(D){var Y=Sn[Va[D]];return{x:Y.x,y:Y.y,width:Y.width,height:Y.height,matrix:Y.matrix}},p.save=function(D,Y){return D=D||"generated.pdf",(Y=Y||{}).returnPromise=Y.returnPromise||!1,Y.returnPromise===!1?(bl(lc(ji()),D),typeof bl.unload=="function"&&At.setTimeout&&setTimeout(bl.unload,911),this):new Promise(function(oe,pe){try{var Ne=bl(lc(ji()),D);typeof bl.unload=="function"&&At.setTimeout&&setTimeout(bl.unload,911),oe(Ne)}catch(Le){pe(Le.message)}})},wt.API)wt.API.hasOwnProperty(hc)&&(hc==="events"&&wt.API.events.length?function(D,Y){var oe,pe,Ne;for(Ne=Y.length-1;Ne!==-1;Ne--)oe=Y[Ne][0],pe=Y[Ne][1],D.subscribe.apply(D,[oe].concat(typeof pe=="function"?[pe]:pe))}(sr,wt.API.events):p[hc]=wt.API[hc]);var cl=p.getPageWidth=function(D){return(Tt[D=D||$].mediaBox.topRightX-Tt[D].mediaBox.bottomLeftX)/Ke},Gd=p.setPageWidth=function(D,Y){Tt[D].mediaBox.topRightX=Y*Ke+Tt[D].mediaBox.bottomLeftX},Xi=p.getPageHeight=function(D){return(Tt[D=D||$].mediaBox.topRightY-Tt[D].mediaBox.bottomLeftY)/Ke},Qd=p.setPageHeight=function(D,Y){Tt[D].mediaBox.topRightY=Y*Ke+Tt[D].mediaBox.bottomLeftY};return p.internal={pdfEscape:ls,getStyle:op,getFont:ag,getFontSize:Qe,getCharSpace:lg,getTextColor:og,getLineHeight:dp,getLineHeightFactor:mp,getLineWidth:uc,write:Ue,getHorizontalCoordinate:Ya,getVerticalCoordinate:wi,getCoordinateString:ig,getVerticalCoordinateString:Ji,collections:{},newObject:on,newAdditionalObject:ec,newObjectDeferred:en,newObjectDeferredBegin:Ns,getFilters:Ha,putStream:Hs,events:sr,scaleFactor:Ke,pageSize:{getWidth:function(){return cl($)},setWidth:function(D){Gd($,D)},getHeight:function(){return Xi($)},setHeight:function(D){Qd($,D)}},encryptionOptions:m,encryption:On,getEncryptor:Zx,output:cc,getNumberOfPages:Qx,pages:ye,out:te,f2:k,f3:C,getPageInfo:ip,getPageInfoByObjId:kt,getCurrentPageInfo:eg,getPDFVersion:b,Point:pc,Rectangle:qd,Matrix:Ct,hasHotfix:ap},Object.defineProperty(p.internal.pageSize,"width",{get:function(){return cl($)},set:function(D){Gd($,D)},enumerable:!0,configurable:!0}),Object.defineProperty(p.internal.pageSize,"height",{get:function(){return Xi($)},set:function(D){Qd($,D)},enumerable:!0,configurable:!0}),Hx.call(p,ke),It="F1",rp(a,n),sr.publish("initialized"),p}Oc.prototype.lsbFirstWord=function(e){return String.fromCharCode(e>>0&255,e>>8&255,e>>16&255,e>>24&255)},Oc.prototype.toHexString=function(e){return e.split("").map(function(r){return("0"+(255&r.charCodeAt(0)).toString(16)).slice(-2)}).join("")},Oc.prototype.hexToBytes=function(e){for(var r=[],n=0;n<e.length;n+=2)r.push(String.fromCharCode(parseInt(e.substr(n,2),16)));return r.join("")},Oc.prototype.processOwnerPassword=function(e,r){return y1(v1(r).substr(0,5),e)},Oc.prototype.encryptor=function(e,r){var n=v1(this.encryptionKey+String.fromCharCode(255&e,e>>8&255,e>>16&255,255&r,r>>8&255)).substr(0,10);return function(s){return y1(n,s)}},Im.prototype.equals=function(e){var r,n="id,objectNumber,equals";if(!e||Xt(e)!==Xt(this))return!1;var s=0;for(r in this)if(!(n.indexOf(r)>=0)){if(this.hasOwnProperty(r)&&!e.hasOwnProperty(r)||this[r]!==e[r])return!1;s++}for(r in e)e.hasOwnProperty(r)&&n.indexOf(r)<0&&s--;return s===0},wt.API={events:[]},wt.version="2.5.2";var Mr=wt.API,A2=1,Zl=function(e){return e.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Rc=function(e){return e.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Rt=function(e){return e.toFixed(2)},ho=function(e){return e.toFixed(5)};Mr.__acroform__={};var ws=function(e,r){e.prototype=Object.create(r.prototype),e.prototype.constructor=e},y5=function(e){return e*A2},ei=function(e){var r=new xE,n=ft.internal.getHeight(e)||0,s=ft.internal.getWidth(e)||0;return r.BBox=[0,0,Number(Rt(s)),Number(Rt(n))],r},D$=Mr.__acroform__.setBit=function(e,r){if(e=e||0,r=r||0,isNaN(e)||isNaN(r))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return e|=1<<r},k$=Mr.__acroform__.clearBit=function(e,r){if(e=e||0,r=r||0,isNaN(e)||isNaN(r))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return e&=~(1<<r)},T$=Mr.__acroform__.getBit=function(e,r){if(isNaN(e)||isNaN(r))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return e&1<<r?1:0},Qr=Mr.__acroform__.getBitForPdf=function(e,r){if(isNaN(e)||isNaN(r))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return T$(e,r-1)},Yr=Mr.__acroform__.setBitForPdf=function(e,r){if(isNaN(e)||isNaN(r))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return D$(e,r-1)},Kr=Mr.__acroform__.clearBitForPdf=function(e,r){if(isNaN(e)||isNaN(r))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return k$(e,r-1)},L$=Mr.__acroform__.calculateCoordinates=function(e,r){var n=r.internal.getHorizontalCoordinate,s=r.internal.getVerticalCoordinate,a=e[0],i=e[1],o=e[2],l=e[3],c={};return c.lowerLeft_X=n(a)||0,c.lowerLeft_Y=s(i+l)||0,c.upperRight_X=n(a+o)||0,c.upperRight_Y=s(i)||0,[Number(Rt(c.lowerLeft_X)),Number(Rt(c.lowerLeft_Y)),Number(Rt(c.upperRight_X)),Number(Rt(c.upperRight_Y))]},R$=function(e){if(e.appearanceStreamContent)return e.appearanceStreamContent;if(e.V||e.DV){var r=[],n=e._V||e.DV,s=b1(e,n),a=e.scope.internal.getFont(e.fontName,e.fontStyle).id;r.push("/Tx BMC"),r.push("q"),r.push("BT"),r.push(e.scope.__private__.encodeColorString(e.color)),r.push("/"+a+" "+Rt(s.fontSize)+" Tf"),r.push("1 0 0 1 0 0 Tm"),r.push(s.text),r.push("ET"),r.push("Q"),r.push("EMC");var i=ei(e);return i.scope=e.scope,i.stream=r.join(`
`),i}},b1=function(e,r){var n=e.fontSize===0?e.maxFontSize:e.fontSize,s={text:"",fontSize:""},a=(r=(r=r.substr(0,1)=="("?r.substr(1):r).substr(r.length-1)==")"?r.substr(0,r.length-1):r).split(" ");a=e.multiline?a.map(function(C){return C.split(`
`)}):a.map(function(C){return[C]});var i=n,o=ft.internal.getHeight(e)||0;o=o<0?-o:o;var l=ft.internal.getWidth(e)||0;l=l<0?-l:l;var c=function(C,w,L){if(C+1<a.length){var T=w+" "+a[C+1][0];return yh(T,e,L).width<=l-4}return!1};i++;e:for(;i>0;){r="",i--;var d,m,u=yh("3",e,i).height,h=e.multiline?o-i:(o-u)/2,p=h+=2,g=0,b=0,j=0;if(i<=0){r=`(...) Tj
`,r+="% Width of Text: "+yh(r,e,i=12).width+", FieldWidth:"+l+`
`;break}for(var x="",v=0,y=0;y<a.length;y++)if(a.hasOwnProperty(y)){var E=!1;if(a[y].length!==1&&j!==a[y].length-1){if((u+2)*(v+2)+2>o)continue e;x+=a[y][j],E=!0,b=y,y--}else{x=(x+=a[y][j]+" ").substr(x.length-1)==" "?x.substr(0,x.length-1):x;var O=parseInt(y),M=c(O,x,i),P=y>=a.length-1;if(M&&!P){x+=" ",j=0;continue}if(M||P){if(P)b=O;else if(e.multiline&&(u+2)*(v+2)+2>o)continue e}else{if(!e.multiline||(u+2)*(v+2)+2>o)continue e;b=O}}for(var S="",I=g;I<=b;I++){var k=a[I];if(e.multiline){if(I===b){S+=k[j]+" ",j=(j+1)%k.length;continue}if(I===g){S+=k[k.length-1]+" ";continue}}S+=k[0]+" "}switch(S=S.substr(S.length-1)==" "?S.substr(0,S.length-1):S,m=yh(S,e,i).width,e.textAlign){case"right":d=l-m-2;break;case"center":d=(l-m)/2;break;case"left":default:d=2}r+=Rt(d)+" "+Rt(p)+` Td
`,r+="("+Zl(S)+`) Tj
`,r+=-Rt(d)+` 0 Td
`,p=-(i+2),m=0,g=E?b:b+1,v++,x=""}break}return s.text=r,s.fontSize=i,s},yh=function(e,r,n){var s=r.scope.internal.getFont(r.fontName,r.fontStyle),a=r.scope.getStringUnitWidth(e,{font:s,fontSize:parseFloat(n),charSpace:0})*parseFloat(n);return{height:r.scope.getStringUnitWidth("3",{font:s,fontSize:parseFloat(n),charSpace:0})*parseFloat(n)*1.5,width:a}},F$={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},_$=function(e,r){var n={type:"reference",object:e};r.internal.getPageInfo(e.page).pageContext.annotations.find(function(s){return s.type===n.type&&s.object===n.object})===void 0&&r.internal.getPageInfo(e.page).pageContext.annotations.push(n)},O$=function(e,r){for(var n in e)if(e.hasOwnProperty(n)){var s=n,a=e[n];r.internal.newObjectDeferredBegin(a.objId,!0),Xt(a)==="object"&&typeof a.putStream=="function"&&a.putStream(),delete e[s]}},M$=function(e,r){if(r.scope=e,e.internal!==void 0&&(e.internal.acroformPlugin===void 0||e.internal.acroformPlugin.isInitialized===!1)){if($a.FieldNum=0,e.internal.acroformPlugin=JSON.parse(JSON.stringify(F$)),e.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");A2=e.internal.scaleFactor,e.internal.acroformPlugin.acroFormDictionaryRoot=new gE,e.internal.acroformPlugin.acroFormDictionaryRoot.scope=e,e.internal.acroformPlugin.acroFormDictionaryRoot._eventID=e.internal.events.subscribe("postPutResources",function(){(function(n){n.internal.events.unsubscribe(n.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete n.internal.acroformPlugin.acroFormDictionaryRoot._eventID,n.internal.acroformPlugin.printedOut=!0})(e)}),e.internal.events.subscribe("buildDocument",function(){(function(n){n.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var s=n.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var a in s)if(s.hasOwnProperty(a)){var i=s[a];i.objId=void 0,i.hasAnnotation&&_$(i,n)}})(e)}),e.internal.events.subscribe("putCatalog",function(){(function(n){if(n.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");n.internal.write("/AcroForm "+n.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(e)}),e.internal.events.subscribe("postPutPages",function(n){(function(s,a){var i=!s;for(var o in s||(a.internal.newObjectDeferredBegin(a.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),a.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),s=s||a.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(s.hasOwnProperty(o)){var l=s[o],c=[],d=l.Rect;if(l.Rect&&(l.Rect=L$(l.Rect,a)),a.internal.newObjectDeferredBegin(l.objId,!0),l.DA=ft.createDefaultAppearanceStream(l),Xt(l)==="object"&&typeof l.getKeyValueListForStream=="function"&&(c=l.getKeyValueListForStream()),l.Rect=d,l.hasAppearanceStream&&!l.appearanceStreamContent){var m=R$(l);c.push({key:"AP",value:"<</N "+m+">>"}),a.internal.acroformPlugin.xForms.push(m)}if(l.appearanceStreamContent){var u="";for(var h in l.appearanceStreamContent)if(l.appearanceStreamContent.hasOwnProperty(h)){var p=l.appearanceStreamContent[h];if(u+="/"+h+" ",u+="<<",Object.keys(p).length>=1||Array.isArray(p)){for(var o in p)if(p.hasOwnProperty(o)){var g=p[o];typeof g=="function"&&(g=g.call(a,l)),u+="/"+o+" "+g+" ",a.internal.acroformPlugin.xForms.indexOf(g)>=0||a.internal.acroformPlugin.xForms.push(g)}}else typeof(g=p)=="function"&&(g=g.call(a,l)),u+="/"+o+" "+g,a.internal.acroformPlugin.xForms.indexOf(g)>=0||a.internal.acroformPlugin.xForms.push(g);u+=">>"}c.push({key:"AP",value:`<<
`+u+">>"})}a.internal.putStream({additionalKeyValues:c,objectId:l.objId}),a.internal.out("endobj")}i&&O$(a.internal.acroformPlugin.xForms,a)})(n,e)}),e.internal.acroformPlugin.isInitialized=!0}},fE=Mr.__acroform__.arrayToPdfArray=function(e,r,n){var s=function(o){return o};if(Array.isArray(e)){for(var a="[",i=0;i<e.length;i++)switch(i!==0&&(a+=" "),Xt(e[i])){case"boolean":case"number":case"object":a+=e[i].toString();break;case"string":e[i].substr(0,1)!=="/"?(r!==void 0&&n&&(s=n.internal.getEncryptor(r)),a+="("+Zl(s(e[i].toString()))+")"):a+=e[i].toString()}return a+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},Mv=function(e,r,n){var s=function(a){return a};return r!==void 0&&n&&(s=n.internal.getEncryptor(r)),(e=e||"").toString(),e="("+Zl(s(e))+")"},ci=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(e){this._objId=e}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};ci.prototype.toString=function(){return this.objId+" 0 R"},ci.prototype.putStream=function(){var e=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:e,objectId:this.objId}),this.scope.internal.out("endobj")},ci.prototype.getKeyValueListForStream=function(){var e=[],r=Object.getOwnPropertyNames(this).filter(function(i){return i!="content"&&i!="appearanceStreamContent"&&i!="scope"&&i!="objId"&&i.substring(0,1)!="_"});for(var n in r)if(Object.getOwnPropertyDescriptor(this,r[n]).configurable===!1){var s=r[n],a=this[s];a&&(Array.isArray(a)?e.push({key:s,value:fE(a,this.objId,this.scope)}):a instanceof ci?(a.scope=this.scope,e.push({key:s,value:a.objId+" 0 R"})):typeof a!="function"&&e.push({key:s,value:a}))}return e};var xE=function(){ci.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var e,r=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return r},set:function(n){r=n}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(n){e=n.trim()},get:function(){return e||null}})};ws(xE,ci);var gE=function(){ci.call(this);var e,r=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return r.length>0?r:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return r}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(e){var n=function(s){return s};return this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),"("+Zl(n(e))+")"}},set:function(n){e=n}})};ws(gE,ci);var $a=function e(){ci.call(this);var r=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return r},set:function(x){if(isNaN(x))throw new Error('Invalid value "'+x+'" for attribute F supplied.');r=x}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Qr(r,3)},set:function(x){x?this.F=Yr(r,3):this.F=Kr(r,3)}});var n=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return n},set:function(x){if(isNaN(x))throw new Error('Invalid value "'+x+'" for attribute Ff supplied.');n=x}});var s=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(s.length!==0)return s},set:function(x){s=x!==void 0?x:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!s||isNaN(s[0])?0:s[0]},set:function(x){s[0]=x}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!s||isNaN(s[1])?0:s[1]},set:function(x){s[1]=x}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!s||isNaN(s[2])?0:s[2]},set:function(x){s[2]=x}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!s||isNaN(s[3])?0:s[3]},set:function(x){s[3]=x}});var a="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return a},set:function(x){switch(x){case"/Btn":case"/Tx":case"/Ch":case"/Sig":a=x;break;default:throw new Error('Invalid value "'+x+'" for attribute FT supplied.')}}});var i=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!i||i.length<1){if(this instanceof Mf)return;i="FieldObject"+e.FieldNum++}var x=function(v){return v};return this.scope&&(x=this.scope.internal.getEncryptor(this.objId)),"("+Zl(x(i))+")"},set:function(x){i=x.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return i},set:function(x){i=x}});var o="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return o},set:function(x){o=x}});var l="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return l},set:function(x){l=x}});var c=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return c},set:function(x){c=x}});var d=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return d===void 0?50/A2:d},set:function(x){d=x}});var m="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return m},set:function(x){m=x}});var u="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!u||this instanceof Mf||this instanceof zo))return Mv(u,this.objId,this.scope)},set:function(x){x=x.toString(),u=x}});var h=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(h)return this instanceof un?h:Mv(h,this.objId,this.scope)},set:function(x){x=x.toString(),h=this instanceof un?x:x.substr(0,1)==="("?Rc(x.substr(1,x.length-2)):Rc(x)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof un?Rc(h.substr(1,h.length-1)):h},set:function(x){x=x.toString(),h=this instanceof un?"/"+x:x}});var p=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(p)return p},set:function(x){this.V=x}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(p)return this instanceof un?p:Mv(p,this.objId,this.scope)},set:function(x){x=x.toString(),p=this instanceof un?x:x.substr(0,1)==="("?Rc(x.substr(1,x.length-2)):Rc(x)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof un?Rc(p.substr(1,p.length-1)):p},set:function(x){x=x.toString(),p=this instanceof un?"/"+x:x}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var g,b=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return b},set:function(x){x=!!x,b=x}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(g)return g},set:function(x){g=x}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Qr(this.Ff,1)},set:function(x){x?this.Ff=Yr(this.Ff,1):this.Ff=Kr(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Qr(this.Ff,2)},set:function(x){x?this.Ff=Yr(this.Ff,2):this.Ff=Kr(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Qr(this.Ff,3)},set:function(x){x?this.Ff=Yr(this.Ff,3):this.Ff=Kr(this.Ff,3)}});var j=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(j!==null)return j},set:function(x){if([0,1,2].indexOf(x)===-1)throw new Error('Invalid value "'+x+'" for attribute Q supplied.');j=x}}),Object.defineProperty(this,"textAlign",{get:function(){var x;switch(j){case 0:default:x="left";break;case 1:x="center";break;case 2:x="right"}return x},configurable:!0,enumerable:!0,set:function(x){switch(x){case"right":case 2:j=2;break;case"center":case 1:j=1;break;case"left":case 0:default:j=0}}})};ws($a,ci);var Rl=function(){$a.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var e=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return e},set:function(n){e=n}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return e},set:function(n){e=n}});var r=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return fE(r,this.objId,this.scope)},set:function(n){var s,a;a=[],typeof(s=n)=="string"&&(a=function(i,o,l){l||(l=1);for(var c,d=[];c=o.exec(i);)d.push(c[l]);return d}(s,/\((.*?)\)/g)),r=a}}),this.getOptions=function(){return r},this.setOptions=function(n){r=n,this.sort&&r.sort()},this.addOption=function(n){n=(n=n||"").toString(),r.push(n),this.sort&&r.sort()},this.removeOption=function(n,s){for(s=s||!1,n=(n=n||"").toString();r.indexOf(n)!==-1&&(r.splice(r.indexOf(n),1),s!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Qr(this.Ff,18)},set:function(n){n?this.Ff=Yr(this.Ff,18):this.Ff=Kr(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Qr(this.Ff,19)},set:function(n){this.combo===!0&&(n?this.Ff=Yr(this.Ff,19):this.Ff=Kr(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Qr(this.Ff,20)},set:function(n){n?(this.Ff=Yr(this.Ff,20),r.sort()):this.Ff=Kr(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Qr(this.Ff,22)},set:function(n){n?this.Ff=Yr(this.Ff,22):this.Ff=Kr(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Qr(this.Ff,23)},set:function(n){n?this.Ff=Yr(this.Ff,23):this.Ff=Kr(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Qr(this.Ff,27)},set:function(n){n?this.Ff=Yr(this.Ff,27):this.Ff=Kr(this.Ff,27)}}),this.hasAppearanceStream=!1};ws(Rl,$a);var Fl=function(){Rl.call(this),this.fontName="helvetica",this.combo=!1};ws(Fl,Rl);var _l=function(){Fl.call(this),this.combo=!0};ws(_l,Fl);var Qu=function(){_l.call(this),this.edit=!0};ws(Qu,_l);var un=function(){$a.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Qr(this.Ff,15)},set:function(n){n?this.Ff=Yr(this.Ff,15):this.Ff=Kr(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Qr(this.Ff,16)},set:function(n){n?this.Ff=Yr(this.Ff,16):this.Ff=Kr(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Qr(this.Ff,17)},set:function(n){n?this.Ff=Yr(this.Ff,17):this.Ff=Kr(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Qr(this.Ff,26)},set:function(n){n?this.Ff=Yr(this.Ff,26):this.Ff=Kr(this.Ff,26)}});var e,r={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var n=function(i){return i};if(this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),Object.keys(r).length!==0){var s,a=[];for(s in a.push("<<"),r)a.push("/"+s+" ("+Zl(n(r[s]))+")");return a.push(">>"),a.join(`
`)}},set:function(n){Xt(n)==="object"&&(r=n)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return r.CA||""},set:function(n){typeof n=="string"&&(r.CA=n)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(n){e=n}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(n){e="/"+n}})};ws(un,$a);var Yu=function(){un.call(this),this.pushButton=!0};ws(Yu,un);var Ol=function(){un.call(this),this.radio=!0,this.pushButton=!1;var e=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return e},set:function(r){e=r!==void 0?r:[]}})};ws(Ol,un);var Mf=function(){var e,r;$a.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return e},set:function(a){e=a}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return r},set:function(a){r=a}});var n,s={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var a=function(l){return l};this.scope&&(a=this.scope.internal.getEncryptor(this.objId));var i,o=[];for(i in o.push("<<"),s)o.push("/"+i+" ("+Zl(a(s[i]))+")");return o.push(">>"),o.join(`
`)},set:function(a){Xt(a)==="object"&&(s=a)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return s.CA||""},set:function(a){typeof a=="string"&&(s.CA=a)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(a){n=a}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(a){n="/"+a}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=ft.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};ws(Mf,$a),Ol.prototype.setAppearance=function(e){if(!("createAppearanceStream"in e)||!("getCA"in e))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var r in this.Kids)if(this.Kids.hasOwnProperty(r)){var n=this.Kids[r];n.appearanceStreamContent=e.createAppearanceStream(n.optionName),n.caption=e.getCA()}},Ol.prototype.createOption=function(e){var r=new Mf;return r.Parent=this,r.optionName=e,this.Kids.push(r),B$.call(this.scope,r),r};var Ku=function(){un.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=ft.CheckBox.createAppearanceStream()};ws(Ku,un);var zo=function(){$a.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Qr(this.Ff,13)},set:function(r){r?this.Ff=Yr(this.Ff,13):this.Ff=Kr(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Qr(this.Ff,21)},set:function(r){r?this.Ff=Yr(this.Ff,21):this.Ff=Kr(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Qr(this.Ff,23)},set:function(r){r?this.Ff=Yr(this.Ff,23):this.Ff=Kr(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Qr(this.Ff,24)},set:function(r){r?this.Ff=Yr(this.Ff,24):this.Ff=Kr(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Qr(this.Ff,25)},set:function(r){r?this.Ff=Yr(this.Ff,25):this.Ff=Kr(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Qr(this.Ff,26)},set:function(r){r?this.Ff=Yr(this.Ff,26):this.Ff=Kr(this.Ff,26)}});var e=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return e},set:function(r){Number.isInteger(r)&&(e=r)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};ws(zo,$a);var Ju=function(){zo.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Qr(this.Ff,14)},set:function(e){e?this.Ff=Yr(this.Ff,14):this.Ff=Kr(this.Ff,14)}}),this.password=!0};ws(Ju,zo);var ft={CheckBox:{createAppearanceStream:function(){return{N:{On:ft.CheckBox.YesNormal},D:{On:ft.CheckBox.YesPushDown,Off:ft.CheckBox.OffPushDown}}},YesPushDown:function(e){var r=ei(e);r.scope=e.scope;var n=[],s=e.scope.internal.getFont(e.fontName,e.fontStyle).id,a=e.scope.__private__.encodeColorString(e.color),i=b1(e,e.caption);return n.push("0.749023 g"),n.push("0 0 "+Rt(ft.internal.getWidth(e))+" "+Rt(ft.internal.getHeight(e))+" re"),n.push("f"),n.push("BMC"),n.push("q"),n.push("0 0 1 rg"),n.push("/"+s+" "+Rt(i.fontSize)+" Tf "+a),n.push("BT"),n.push(i.text),n.push("ET"),n.push("Q"),n.push("EMC"),r.stream=n.join(`
`),r},YesNormal:function(e){var r=ei(e);r.scope=e.scope;var n=e.scope.internal.getFont(e.fontName,e.fontStyle).id,s=e.scope.__private__.encodeColorString(e.color),a=[],i=ft.internal.getHeight(e),o=ft.internal.getWidth(e),l=b1(e,e.caption);return a.push("1 g"),a.push("0 0 "+Rt(o)+" "+Rt(i)+" re"),a.push("f"),a.push("q"),a.push("0 0 1 rg"),a.push("0 0 "+Rt(o-1)+" "+Rt(i-1)+" re"),a.push("W"),a.push("n"),a.push("0 g"),a.push("BT"),a.push("/"+n+" "+Rt(l.fontSize)+" Tf "+s),a.push(l.text),a.push("ET"),a.push("Q"),r.stream=a.join(`
`),r},OffPushDown:function(e){var r=ei(e);r.scope=e.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+Rt(ft.internal.getWidth(e))+" "+Rt(ft.internal.getHeight(e))+" re"),n.push("f"),r.stream=n.join(`
`),r}},RadioButton:{Circle:{createAppearanceStream:function(e){var r={D:{Off:ft.RadioButton.Circle.OffPushDown},N:{}};return r.N[e]=ft.RadioButton.Circle.YesNormal,r.D[e]=ft.RadioButton.Circle.YesPushDown,r},getCA:function(){return"l"},YesNormal:function(e){var r=ei(e);r.scope=e.scope;var n=[],s=ft.internal.getWidth(e)<=ft.internal.getHeight(e)?ft.internal.getWidth(e)/4:ft.internal.getHeight(e)/4;s=Number((.9*s).toFixed(5));var a=ft.internal.Bezier_C,i=Number((s*a).toFixed(5));return n.push("q"),n.push("1 0 0 1 "+ho(ft.internal.getWidth(e)/2)+" "+ho(ft.internal.getHeight(e)/2)+" cm"),n.push(s+" 0 m"),n.push(s+" "+i+" "+i+" "+s+" 0 "+s+" c"),n.push("-"+i+" "+s+" -"+s+" "+i+" -"+s+" 0 c"),n.push("-"+s+" -"+i+" -"+i+" -"+s+" 0 -"+s+" c"),n.push(i+" -"+s+" "+s+" -"+i+" "+s+" 0 c"),n.push("f"),n.push("Q"),r.stream=n.join(`
`),r},YesPushDown:function(e){var r=ei(e);r.scope=e.scope;var n=[],s=ft.internal.getWidth(e)<=ft.internal.getHeight(e)?ft.internal.getWidth(e)/4:ft.internal.getHeight(e)/4;s=Number((.9*s).toFixed(5));var a=Number((2*s).toFixed(5)),i=Number((a*ft.internal.Bezier_C).toFixed(5)),o=Number((s*ft.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+ho(ft.internal.getWidth(e)/2)+" "+ho(ft.internal.getHeight(e)/2)+" cm"),n.push(a+" 0 m"),n.push(a+" "+i+" "+i+" "+a+" 0 "+a+" c"),n.push("-"+i+" "+a+" -"+a+" "+i+" -"+a+" 0 c"),n.push("-"+a+" -"+i+" -"+i+" -"+a+" 0 -"+a+" c"),n.push(i+" -"+a+" "+a+" -"+i+" "+a+" 0 c"),n.push("f"),n.push("Q"),n.push("0 g"),n.push("q"),n.push("1 0 0 1 "+ho(ft.internal.getWidth(e)/2)+" "+ho(ft.internal.getHeight(e)/2)+" cm"),n.push(s+" 0 m"),n.push(s+" "+o+" "+o+" "+s+" 0 "+s+" c"),n.push("-"+o+" "+s+" -"+s+" "+o+" -"+s+" 0 c"),n.push("-"+s+" -"+o+" -"+o+" -"+s+" 0 -"+s+" c"),n.push(o+" -"+s+" "+s+" -"+o+" "+s+" 0 c"),n.push("f"),n.push("Q"),r.stream=n.join(`
`),r},OffPushDown:function(e){var r=ei(e);r.scope=e.scope;var n=[],s=ft.internal.getWidth(e)<=ft.internal.getHeight(e)?ft.internal.getWidth(e)/4:ft.internal.getHeight(e)/4;s=Number((.9*s).toFixed(5));var a=Number((2*s).toFixed(5)),i=Number((a*ft.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+ho(ft.internal.getWidth(e)/2)+" "+ho(ft.internal.getHeight(e)/2)+" cm"),n.push(a+" 0 m"),n.push(a+" "+i+" "+i+" "+a+" 0 "+a+" c"),n.push("-"+i+" "+a+" -"+a+" "+i+" -"+a+" 0 c"),n.push("-"+a+" -"+i+" -"+i+" -"+a+" 0 -"+a+" c"),n.push(i+" -"+a+" "+a+" -"+i+" "+a+" 0 c"),n.push("f"),n.push("Q"),r.stream=n.join(`
`),r}},Cross:{createAppearanceStream:function(e){var r={D:{Off:ft.RadioButton.Cross.OffPushDown},N:{}};return r.N[e]=ft.RadioButton.Cross.YesNormal,r.D[e]=ft.RadioButton.Cross.YesPushDown,r},getCA:function(){return"8"},YesNormal:function(e){var r=ei(e);r.scope=e.scope;var n=[],s=ft.internal.calculateCross(e);return n.push("q"),n.push("1 1 "+Rt(ft.internal.getWidth(e)-2)+" "+Rt(ft.internal.getHeight(e)-2)+" re"),n.push("W"),n.push("n"),n.push(Rt(s.x1.x)+" "+Rt(s.x1.y)+" m"),n.push(Rt(s.x2.x)+" "+Rt(s.x2.y)+" l"),n.push(Rt(s.x4.x)+" "+Rt(s.x4.y)+" m"),n.push(Rt(s.x3.x)+" "+Rt(s.x3.y)+" l"),n.push("s"),n.push("Q"),r.stream=n.join(`
`),r},YesPushDown:function(e){var r=ei(e);r.scope=e.scope;var n=ft.internal.calculateCross(e),s=[];return s.push("0.749023 g"),s.push("0 0 "+Rt(ft.internal.getWidth(e))+" "+Rt(ft.internal.getHeight(e))+" re"),s.push("f"),s.push("q"),s.push("1 1 "+Rt(ft.internal.getWidth(e)-2)+" "+Rt(ft.internal.getHeight(e)-2)+" re"),s.push("W"),s.push("n"),s.push(Rt(n.x1.x)+" "+Rt(n.x1.y)+" m"),s.push(Rt(n.x2.x)+" "+Rt(n.x2.y)+" l"),s.push(Rt(n.x4.x)+" "+Rt(n.x4.y)+" m"),s.push(Rt(n.x3.x)+" "+Rt(n.x3.y)+" l"),s.push("s"),s.push("Q"),r.stream=s.join(`
`),r},OffPushDown:function(e){var r=ei(e);r.scope=e.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+Rt(ft.internal.getWidth(e))+" "+Rt(ft.internal.getHeight(e))+" re"),n.push("f"),r.stream=n.join(`
`),r}}},createDefaultAppearanceStream:function(e){var r=e.scope.internal.getFont(e.fontName,e.fontStyle).id,n=e.scope.__private__.encodeColorString(e.color);return"/"+r+" "+e.fontSize+" Tf "+n}};ft.internal={Bezier_C:.551915024494,calculateCross:function(e){var r=ft.internal.getWidth(e),n=ft.internal.getHeight(e),s=Math.min(r,n);return{x1:{x:(r-s)/2,y:(n-s)/2+s},x2:{x:(r-s)/2+s,y:(n-s)/2},x3:{x:(r-s)/2,y:(n-s)/2},x4:{x:(r-s)/2+s,y:(n-s)/2+s}}}},ft.internal.getWidth=function(e){var r=0;return Xt(e)==="object"&&(r=y5(e.Rect[2])),r},ft.internal.getHeight=function(e){var r=0;return Xt(e)==="object"&&(r=y5(e.Rect[3])),r};var B$=Mr.addField=function(e){if(M$(this,e),!(e instanceof $a))throw new Error("Invalid argument passed to jsPDF.addField.");var r;return(r=e).scope.internal.acroformPlugin.printedOut&&(r.scope.internal.acroformPlugin.printedOut=!1,r.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),r.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(r),e.page=e.scope.internal.getCurrentPageInfo().pageNumber,this};Mr.AcroFormChoiceField=Rl,Mr.AcroFormListBox=Fl,Mr.AcroFormComboBox=_l,Mr.AcroFormEditBox=Qu,Mr.AcroFormButton=un,Mr.AcroFormPushButton=Yu,Mr.AcroFormRadioButton=Ol,Mr.AcroFormCheckBox=Ku,Mr.AcroFormTextField=zo,Mr.AcroFormPasswordField=Ju,Mr.AcroFormAppearance=ft,Mr.AcroForm={ChoiceField:Rl,ListBox:Fl,ComboBox:_l,EditBox:Qu,Button:un,PushButton:Yu,RadioButton:Ol,CheckBox:Ku,TextField:zo,PasswordField:Ju,Appearance:ft},wt.AcroForm={ChoiceField:Rl,ListBox:Fl,ComboBox:_l,EditBox:Qu,Button:un,PushButton:Yu,RadioButton:Ol,CheckBox:Ku,TextField:zo,PasswordField:Ju,Appearance:ft};var z$=wt.AcroForm;function vE(e){return e.reduce(function(r,n,s){return r[n]=s,r},{})}(function(e){e.__addimage__={};var r="UNKNOWN",n={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},s=e.__addimage__.getImageFileTypeByImageData=function(C,w){var L,T,W,V,_,B=r;if((w=w||r)==="RGBA"||C.data!==void 0&&C.data instanceof Uint8ClampedArray&&"height"in C&&"width"in C)return"RGBA";if(M(C))for(_ in n)for(W=n[_],L=0;L<W.length;L+=1){for(V=!0,T=0;T<W[L].length;T+=1)if(W[L][T]!==void 0&&W[L][T]!==C[T]){V=!1;break}if(V===!0){B=_;break}}else for(_ in n)for(W=n[_],L=0;L<W.length;L+=1){for(V=!0,T=0;T<W[L].length;T+=1)if(W[L][T]!==void 0&&W[L][T]!==C.charCodeAt(T)){V=!1;break}if(V===!0){B=_;break}}return B===r&&w!==r&&(B=w),B},a=function C(w){for(var L=this.internal.write,T=this.internal.putStream,W=(0,this.internal.getFilters)();W.indexOf("FlateEncode")!==-1;)W.splice(W.indexOf("FlateEncode"),1);w.objectId=this.internal.newObject();var V=[];if(V.push({key:"Type",value:"/XObject"}),V.push({key:"Subtype",value:"/Image"}),V.push({key:"Width",value:w.width}),V.push({key:"Height",value:w.height}),w.colorSpace===j.INDEXED?V.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(w.palette.length/3-1)+" "+("sMask"in w&&w.sMask!==void 0?w.objectId+2:w.objectId+1)+" 0 R]"}):(V.push({key:"ColorSpace",value:"/"+w.colorSpace}),w.colorSpace===j.DEVICE_CMYK&&V.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),V.push({key:"BitsPerComponent",value:w.bitsPerComponent}),"decodeParameters"in w&&w.decodeParameters!==void 0&&V.push({key:"DecodeParms",value:"<<"+w.decodeParameters+">>"}),"transparency"in w&&Array.isArray(w.transparency)){for(var _="",B=0,U=w.transparency.length;B<U;B++)_+=w.transparency[B]+" "+w.transparency[B]+" ";V.push({key:"Mask",value:"["+_+"]"})}w.sMask!==void 0&&V.push({key:"SMask",value:w.objectId+1+" 0 R"});var H=w.filter!==void 0?["/"+w.filter]:void 0;if(T({data:w.data,additionalKeyValues:V,alreadyAppliedFilters:H,objectId:w.objectId}),L("endobj"),"sMask"in w&&w.sMask!==void 0){var q="/Predictor "+w.predictor+" /Colors 1 /BitsPerComponent "+w.bitsPerComponent+" /Columns "+w.width,R={width:w.width,height:w.height,colorSpace:"DeviceGray",bitsPerComponent:w.bitsPerComponent,decodeParameters:q,data:w.sMask};"filter"in w&&(R.filter=w.filter),C.call(this,R)}if(w.colorSpace===j.INDEXED){var $=this.internal.newObject();T({data:S(new Uint8Array(w.palette)),objectId:$}),L("endobj")}},i=function(){var C=this.internal.collections.addImage_images;for(var w in C)a.call(this,C[w])},o=function(){var C,w=this.internal.collections.addImage_images,L=this.internal.write;for(var T in w)L("/I"+(C=w[T]).index,C.objectId,"0","R")},l=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",i),this.internal.events.subscribe("putXobjectDict",o))},c=function(){var C=this.internal.collections.addImage_images;return l.call(this),C},d=function(){return Object.keys(this.internal.collections.addImage_images).length},m=function(C){return typeof e["process"+C.toUpperCase()]=="function"},u=function(C){return Xt(C)==="object"&&C.nodeType===1},h=function(C,w){if(C.nodeName==="IMG"&&C.hasAttribute("src")){var L=""+C.getAttribute("src");if(L.indexOf("data:image/")===0)return Gu(unescape(L).split("base64,").pop());var T=e.loadFile(L,!0);if(T!==void 0)return T}if(C.nodeName==="CANVAS"){if(C.width===0||C.height===0)throw new Error("Given canvas must have data. Canvas width: "+C.width+", height: "+C.height);var W;switch(w){case"PNG":W="image/png";break;case"WEBP":W="image/webp";break;case"JPEG":case"JPG":default:W="image/jpeg"}return Gu(C.toDataURL(W,1).split("base64,").pop())}},p=function(C){var w=this.internal.collections.addImage_images;if(w){for(var L in w)if(C===w[L].alias)return w[L]}},g=function(C,w,L){return C||w||(C=-96,w=-96),C<0&&(C=-1*L.width*72/C/this.internal.scaleFactor),w<0&&(w=-1*L.height*72/w/this.internal.scaleFactor),C===0&&(C=w*L.width/L.height),w===0&&(w=C*L.height/L.width),[C,w]},b=function(C,w,L,T,W,V){var _=g.call(this,L,T,W),B=this.internal.getCoordinateString,U=this.internal.getVerticalCoordinateString,H=c.call(this);if(L=_[0],T=_[1],H[W.index]=W,V){V*=Math.PI/180;var q=Math.cos(V),R=Math.sin(V),$=function(X){return X.toFixed(4)},G=[$(q),$(R),$(-1*R),$(q),0,0,"cm"]}this.internal.write("q"),V?(this.internal.write([1,"0","0",1,B(C),U(w+T),"cm"].join(" ")),this.internal.write(G.join(" ")),this.internal.write([B(L),"0","0",B(T),"0","0","cm"].join(" "))):this.internal.write([B(L),"0","0",B(T),B(C),U(w+T),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+W.index+" Do"),this.internal.write("Q")},j=e.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};e.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var x=e.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},v=e.__addimage__.sHashCode=function(C){var w,L,T=0;if(typeof C=="string")for(L=C.length,w=0;w<L;w++)T=(T<<5)-T+C.charCodeAt(w),T|=0;else if(M(C))for(L=C.byteLength/2,w=0;w<L;w++)T=(T<<5)-T+C[w],T|=0;return T},y=e.__addimage__.validateStringAsBase64=function(C){(C=C||"").toString().trim();var w=!0;return C.length===0&&(w=!1),C.length%4!=0&&(w=!1),/^[A-Za-z0-9+/]+$/.test(C.substr(0,C.length-2))===!1&&(w=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(C.substr(-2))===!1&&(w=!1),w},E=e.__addimage__.extractImageFromDataUrl=function(C){var w=(C=C||"").split("base64,"),L=null;if(w.length===2){var T=/^data:(\w*\/\w*);*(charset=(?!charset=)[\w=-]*)*;*$/.exec(w[0]);Array.isArray(T)&&(L={mimeType:T[1],charset:T[2],data:w[1]})}return L},O=e.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};e.__addimage__.isArrayBuffer=function(C){return O()&&C instanceof ArrayBuffer};var M=e.__addimage__.isArrayBufferView=function(C){return O()&&typeof Uint32Array<"u"&&(C instanceof Int8Array||C instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&C instanceof Uint8ClampedArray||C instanceof Int16Array||C instanceof Uint16Array||C instanceof Int32Array||C instanceof Uint32Array||C instanceof Float32Array||C instanceof Float64Array)},P=e.__addimage__.binaryStringToUint8Array=function(C){for(var w=C.length,L=new Uint8Array(w),T=0;T<w;T++)L[T]=C.charCodeAt(T);return L},S=e.__addimage__.arrayBufferToBinaryString=function(C){for(var w="",L=M(C)?C:new Uint8Array(C),T=0;T<L.length;T+=8192)w+=String.fromCharCode.apply(null,L.subarray(T,T+8192));return w};e.addImage=function(){var C,w,L,T,W,V,_,B,U;if(typeof arguments[1]=="number"?(w=r,L=arguments[1],T=arguments[2],W=arguments[3],V=arguments[4],_=arguments[5],B=arguments[6],U=arguments[7]):(w=arguments[1],L=arguments[2],T=arguments[3],W=arguments[4],V=arguments[5],_=arguments[6],B=arguments[7],U=arguments[8]),Xt(C=arguments[0])==="object"&&!u(C)&&"imageData"in C){var H=C;C=H.imageData,w=H.format||w||r,L=H.x||L||0,T=H.y||T||0,W=H.w||H.width||W,V=H.h||H.height||V,_=H.alias||_,B=H.compression||B,U=H.rotation||H.angle||U}var q=this.internal.getFilters();if(B===void 0&&q.indexOf("FlateEncode")!==-1&&(B="SLOW"),isNaN(L)||isNaN(T))throw new Error("Invalid coordinates passed to jsPDF.addImage");l.call(this);var R=I.call(this,C,w,_,B);return b.call(this,L,T,W,V,R,U),this};var I=function(C,w,L,T){var W,V,_;if(typeof C=="string"&&s(C)===r){C=unescape(C);var B=k(C,!1);(B!==""||(B=e.loadFile(C,!0))!==void 0)&&(C=B)}if(u(C)&&(C=h(C,w)),w=s(C,w),!m(w))throw new Error("addImage does not support files of type '"+w+"', please ensure that a plugin for '"+w+"' support is added.");if(((_=L)==null||_.length===0)&&(L=function(U){return typeof U=="string"||M(U)?v(U):M(U.data)?v(U.data):null}(C)),(W=p.call(this,L))||(O()&&(C instanceof Uint8Array||w==="RGBA"||(V=C,C=P(C))),W=this["process"+w.toUpperCase()](C,d.call(this),L,function(U){return U&&typeof U=="string"&&(U=U.toUpperCase()),U in e.image_compression?U:x.NONE}(T),V)),!W)throw new Error("An unknown error occurred whilst processing the image.");return W},k=e.__addimage__.convertBase64ToBinaryString=function(C,w){var L;w=typeof w!="boolean"||w;var T,W="";if(typeof C=="string"){T=(L=E(C))!==null?L.data:C;try{W=Gu(T)}catch(V){if(w)throw y(T)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+V.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return W};e.getImageProperties=function(C){var w,L,T="";if(u(C)&&(C=h(C)),typeof C=="string"&&s(C)===r&&((T=k(C,!1))===""&&(T=e.loadFile(C)||""),C=T),L=s(C),!m(L))throw new Error("addImage does not support files of type '"+L+"', please ensure that a plugin for '"+L+"' support is added.");if(!O()||C instanceof Uint8Array||(C=P(C)),!(w=this["process"+L.toUpperCase()](C)))throw new Error("An unknown error occurred whilst processing the image");return w.fileType=L,w}})(wt.API),function(e){var r=function(n){if(n!==void 0&&n!="")return!0};wt.API.events.push(["addPage",function(n){this.internal.getPageInfo(n.pageNumber).pageContext.annotations=[]}]),e.events.push(["putPage",function(n){for(var s,a,i,o=this.internal.getCoordinateString,l=this.internal.getVerticalCoordinateString,c=this.internal.getPageInfoByObjId(n.objId),d=n.pageContext.annotations,m=!1,u=0;u<d.length&&!m;u++)switch((s=d[u]).type){case"link":(r(s.options.url)||r(s.options.pageNumber))&&(m=!0);break;case"reference":case"text":case"freetext":m=!0}if(m!=0){this.internal.write("/Annots [");for(var h=0;h<d.length;h++){s=d[h];var p=this.internal.pdfEscape,g=this.internal.getEncryptor(n.objId);switch(s.type){case"reference":this.internal.write(" "+s.object.objId+" 0 R ");break;case"text":var b=this.internal.newAdditionalObject(),j=this.internal.newAdditionalObject(),x=this.internal.getEncryptor(b.objId),v=s.title||"Note";i="<</Type /Annot /Subtype /Text "+(a="/Rect ["+o(s.bounds.x)+" "+l(s.bounds.y+s.bounds.h)+" "+o(s.bounds.x+s.bounds.w)+" "+l(s.bounds.y)+"] ")+"/Contents ("+p(x(s.contents))+")",i+=" /Popup "+j.objId+" 0 R",i+=" /P "+c.objId+" 0 R",i+=" /T ("+p(x(v))+") >>",b.content=i;var y=b.objId+" 0 R";i="<</Type /Annot /Subtype /Popup "+(a="/Rect ["+o(s.bounds.x+30)+" "+l(s.bounds.y+s.bounds.h)+" "+o(s.bounds.x+s.bounds.w+30)+" "+l(s.bounds.y)+"] ")+" /Parent "+y,s.open&&(i+=" /Open true"),i+=" >>",j.content=i,this.internal.write(b.objId,"0 R",j.objId,"0 R");break;case"freetext":a="/Rect ["+o(s.bounds.x)+" "+l(s.bounds.y)+" "+o(s.bounds.x+s.bounds.w)+" "+l(s.bounds.y+s.bounds.h)+"] ";var E=s.color||"#000000";i="<</Type /Annot /Subtype /FreeText "+a+"/Contents ("+p(g(s.contents))+")",i+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+E+")",i+=" /Border [0 0 0]",i+=" >>",this.internal.write(i);break;case"link":if(s.options.name){var O=this.annotations._nameMap[s.options.name];s.options.pageNumber=O.page,s.options.top=O.y}else s.options.top||(s.options.top=0);if(a="/Rect ["+s.finalBounds.x+" "+s.finalBounds.y+" "+s.finalBounds.w+" "+s.finalBounds.h+"] ",i="",s.options.url)i="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /A <</S /URI /URI ("+p(g(s.options.url))+") >>";else if(s.options.pageNumber)switch(i="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(s.options.pageNumber).objId+" 0 R",s.options.magFactor=s.options.magFactor||"XYZ",s.options.magFactor){case"Fit":i+=" /Fit]";break;case"FitH":i+=" /FitH "+s.options.top+"]";break;case"FitV":s.options.left=s.options.left||0,i+=" /FitV "+s.options.left+"]";break;case"XYZ":default:var M=l(s.options.top);s.options.left=s.options.left||0,s.options.zoom===void 0&&(s.options.zoom=0),i+=" /XYZ "+s.options.left+" "+M+" "+s.options.zoom+"]"}i!=""&&(i+=" >>",this.internal.write(i))}}this.internal.write("]")}}]),e.createAnnotation=function(n){var s=this.internal.getCurrentPageInfo();switch(n.type){case"link":this.link(n.bounds.x,n.bounds.y,n.bounds.w,n.bounds.h,n);break;case"text":case"freetext":s.pageContext.annotations.push(n)}},e.link=function(n,s,a,i,o){var l=this.internal.getCurrentPageInfo(),c=this.internal.getCoordinateString,d=this.internal.getVerticalCoordinateString;l.pageContext.annotations.push({finalBounds:{x:c(n),y:d(s),w:c(n+a),h:d(s+i)},options:o,type:"link"})},e.textWithLink=function(n,s,a,i){var o,l,c=this.getTextWidth(n),d=this.internal.getLineHeight()/this.internal.scaleFactor;if(i.maxWidth!==void 0){l=i.maxWidth;var m=this.splitTextToSize(n,l).length;o=Math.ceil(d*m)}else l=c,o=d;return this.text(n,s,a,i),a+=.2*d,i.align==="center"&&(s-=c/2),i.align==="right"&&(s-=c),this.link(s,a-d,l,o,i),c},e.getTextWidth=function(n){var s=this.internal.getFontSize();return this.getStringUnitWidth(n)*s/this.internal.scaleFactor}}(wt.API),function(e){var r={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},n={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},s={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},a=[1570,1571,1573,1575];e.__arabicParser__={};var i=e.__arabicParser__.isInArabicSubstitutionA=function(b){return r[b.charCodeAt(0)]!==void 0},o=e.__arabicParser__.isArabicLetter=function(b){return typeof b=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(b)},l=e.__arabicParser__.isArabicEndLetter=function(b){return o(b)&&i(b)&&r[b.charCodeAt(0)].length<=2},c=e.__arabicParser__.isArabicAlfLetter=function(b){return o(b)&&a.indexOf(b.charCodeAt(0))>=0};e.__arabicParser__.arabicLetterHasIsolatedForm=function(b){return o(b)&&i(b)&&r[b.charCodeAt(0)].length>=1};var d=e.__arabicParser__.arabicLetterHasFinalForm=function(b){return o(b)&&i(b)&&r[b.charCodeAt(0)].length>=2};e.__arabicParser__.arabicLetterHasInitialForm=function(b){return o(b)&&i(b)&&r[b.charCodeAt(0)].length>=3};var m=e.__arabicParser__.arabicLetterHasMedialForm=function(b){return o(b)&&i(b)&&r[b.charCodeAt(0)].length==4},u=e.__arabicParser__.resolveLigatures=function(b){var j=0,x=n,v="",y=0;for(j=0;j<b.length;j+=1)x[b.charCodeAt(j)]!==void 0?(y++,typeof(x=x[b.charCodeAt(j)])=="number"&&(v+=String.fromCharCode(x),x=n,y=0),j===b.length-1&&(x=n,v+=b.charAt(j-(y-1)),j-=y-1,y=0)):(x=n,v+=b.charAt(j-y),j-=y,y=0);return v};e.__arabicParser__.isArabicDiacritic=function(b){return b!==void 0&&s[b.charCodeAt(0)]!==void 0};var h=e.__arabicParser__.getCorrectForm=function(b,j,x){return o(b)?i(b)===!1?-1:!d(b)||!o(j)&&!o(x)||!o(x)&&l(j)||l(b)&&!o(j)||l(b)&&c(j)||l(b)&&l(j)?0:m(b)&&o(j)&&!l(j)&&o(x)&&d(x)?3:l(b)||!o(x)?1:2:-1},p=function(b){var j=0,x=0,v=0,y="",E="",O="",M=(b=b||"").split("\\s+"),P=[];for(j=0;j<M.length;j+=1){for(P.push(""),x=0;x<M[j].length;x+=1)y=M[j][x],E=M[j][x-1],O=M[j][x+1],o(y)?(v=h(y,E,O),P[j]+=v!==-1?String.fromCharCode(r[y.charCodeAt(0)][v]):y):P[j]+=y;P[j]=u(P[j])}return P.join(" ")},g=e.__arabicParser__.processArabic=e.processArabic=function(){var b,j=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,x=[];if(Array.isArray(j)){var v=0;for(x=[],v=0;v<j.length;v+=1)Array.isArray(j[v])?x.push([p(j[v][0]),j[v][1],j[v][2]]):x.push([p(j[v])]);b=x}else b=p(j);return typeof arguments[0]=="string"?b:(arguments[0].text=b,arguments[0])};e.events.push(["preProcessText",g])}(wt.API),wt.API.autoPrint=function(e){var r;switch((e=e||{}).variant=e.variant||"non-conform",e.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){r=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+r+" 0 R")})}return this},function(e){var r=function(){var n=void 0;Object.defineProperty(this,"pdf",{get:function(){return n},set:function(l){n=l}});var s=150;Object.defineProperty(this,"width",{get:function(){return s},set:function(l){s=isNaN(l)||Number.isInteger(l)===!1||l<0?150:l,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=s+1)}});var a=300;Object.defineProperty(this,"height",{get:function(){return a},set:function(l){a=isNaN(l)||Number.isInteger(l)===!1||l<0?300:l,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=a+1)}});var i=[];Object.defineProperty(this,"childNodes",{get:function(){return i},set:function(l){i=l}});var o={};Object.defineProperty(this,"style",{get:function(){return o},set:function(l){o=l}}),Object.defineProperty(this,"parentNode",{})};r.prototype.getContext=function(n,s){var a;if((n=n||"2d")!=="2d")return null;for(a in s)this.pdf.context2d.hasOwnProperty(a)&&(this.pdf.context2d[a]=s[a]);return this.pdf.context2d._canvas=this,this.pdf.context2d},r.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},e.events.push(["initialized",function(){this.canvas=new r,this.canvas.pdf=this}])}(wt.API),function(e){var r={left:0,top:0,bottom:0,right:0},n=!1,s=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},r),this.internal.__cell__.margins.width=this.getPageWidth(),a.call(this))},a=function(){this.internal.__cell__.lastCell=new i,this.internal.__cell__.pages=1},i=function(){var c=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return c},set:function(b){c=b}});var d=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return d},set:function(b){d=b}});var m=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return m},set:function(b){m=b}});var u=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return u},set:function(b){u=b}});var h=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return h},set:function(b){h=b}});var p=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return p},set:function(b){p=b}});var g=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return g},set:function(b){g=b}}),this};i.prototype.clone=function(){return new i(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},i.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},e.setHeaderFunction=function(c){return s.call(this),this.internal.__cell__.headerFunction=typeof c=="function"?c:void 0,this},e.getTextDimensions=function(c,d){s.call(this);var m=(d=d||{}).fontSize||this.getFontSize(),u=d.font||this.getFont(),h=d.scaleFactor||this.internal.scaleFactor,p=0,g=0,b=0,j=this;if(!Array.isArray(c)&&typeof c!="string"){if(typeof c!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");c=String(c)}var x=d.maxWidth;x>0?typeof c=="string"?c=this.splitTextToSize(c,x):Object.prototype.toString.call(c)==="[object Array]"&&(c=c.reduce(function(y,E){return y.concat(j.splitTextToSize(E,x))},[])):c=Array.isArray(c)?c:[c];for(var v=0;v<c.length;v++)p<(b=this.getStringUnitWidth(c[v],{font:u})*m)&&(p=b);return p!==0&&(g=c.length),{w:p/=h,h:Math.max((g*m*this.getLineHeightFactor()-m*(this.getLineHeightFactor()-1))/h,0)}},e.cellAddPage=function(){s.call(this),this.addPage();var c=this.internal.__cell__.margins||r;return this.internal.__cell__.lastCell=new i(c.left,c.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var o=e.cell=function(){var c;c=arguments[0]instanceof i?arguments[0]:new i(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),s.call(this);var d=this.internal.__cell__.lastCell,m=this.internal.__cell__.padding,u=this.internal.__cell__.margins||r,h=this.internal.__cell__.tableHeaderRow,p=this.internal.__cell__.printHeaders;return d.lineNumber!==void 0&&(d.lineNumber===c.lineNumber?(c.x=(d.x||0)+(d.width||0),c.y=d.y||0):d.y+d.height+c.height+u.bottom>this.getPageHeight()?(this.cellAddPage(),c.y=u.top,p&&h&&(this.printHeaderRow(c.lineNumber,!0),c.y+=h[0].height)):c.y=d.y+d.height||c.y),c.text[0]!==void 0&&(this.rect(c.x,c.y,c.width,c.height,n===!0?"FD":void 0),c.align==="right"?this.text(c.text,c.x+c.width-m,c.y+m,{align:"right",baseline:"top"}):c.align==="center"?this.text(c.text,c.x+c.width/2,c.y+m,{align:"center",baseline:"top",maxWidth:c.width-m-m}):this.text(c.text,c.x+m,c.y+m,{align:"left",baseline:"top",maxWidth:c.width-m-m})),this.internal.__cell__.lastCell=c,this};e.table=function(c,d,m,u,h){if(s.call(this),!m)throw new Error("No data for PDF table.");var p,g,b,j,x=[],v=[],y=[],E={},O={},M=[],P=[],S=(h=h||{}).autoSize||!1,I=h.printHeaders!==!1,k=h.css&&h.css["font-size"]!==void 0?16*h.css["font-size"]:h.fontSize||12,C=h.margins||Object.assign({width:this.getPageWidth()},r),w=typeof h.padding=="number"?h.padding:3,L=h.headerBackgroundColor||"#c8c8c8",T=h.headerTextColor||"#000";if(a.call(this),this.internal.__cell__.printHeaders=I,this.internal.__cell__.margins=C,this.internal.__cell__.table_font_size=k,this.internal.__cell__.padding=w,this.internal.__cell__.headerBackgroundColor=L,this.internal.__cell__.headerTextColor=T,this.setFontSize(k),u==null)v=x=Object.keys(m[0]),y=x.map(function(){return"left"});else if(Array.isArray(u)&&Xt(u[0])==="object")for(x=u.map(function(H){return H.name}),v=u.map(function(H){return H.prompt||H.name||""}),y=u.map(function(H){return H.align||"left"}),p=0;p<u.length;p+=1)O[u[p].name]=u[p].width*(19.049976/25.4);else Array.isArray(u)&&typeof u[0]=="string"&&(v=x=u,y=x.map(function(){return"left"}));if(S||Array.isArray(u)&&typeof u[0]=="string")for(p=0;p<x.length;p+=1){for(E[j=x[p]]=m.map(function(H){return H[j]}),this.setFont(void 0,"bold"),M.push(this.getTextDimensions(v[p],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),g=E[j],this.setFont(void 0,"normal"),b=0;b<g.length;b+=1)M.push(this.getTextDimensions(g[b],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);O[j]=Math.max.apply(null,M)+w+w,M=[]}if(I){var W={};for(p=0;p<x.length;p+=1)W[x[p]]={},W[x[p]].text=v[p],W[x[p]].align=y[p];var V=l.call(this,W,O);P=x.map(function(H){return new i(c,d,O[H],V,W[H].text,void 0,W[H].align)}),this.setTableHeaderRow(P),this.printHeaderRow(1,!1)}var _=u.reduce(function(H,q){return H[q.name]=q.align,H},{});for(p=0;p<m.length;p+=1){"rowStart"in h&&h.rowStart instanceof Function&&h.rowStart({row:p,data:m[p]},this);var B=l.call(this,m[p],O);for(b=0;b<x.length;b+=1){var U=m[p][x[b]];"cellStart"in h&&h.cellStart instanceof Function&&h.cellStart({row:p,col:b,data:U},this),o.call(this,new i(c,d,O[x[b]],B,U,p+2,_[x[b]]))}}return this.internal.__cell__.table_x=c,this.internal.__cell__.table_y=d,this};var l=function(c,d){var m=this.internal.__cell__.padding,u=this.internal.__cell__.table_font_size,h=this.internal.scaleFactor;return Object.keys(c).map(function(p){var g=c[p];return this.splitTextToSize(g.hasOwnProperty("text")?g.text:g,d[p]-m-m)},this).map(function(p){return this.getLineHeightFactor()*p.length*u/h+m+m},this).reduce(function(p,g){return Math.max(p,g)},0)};e.setTableHeaderRow=function(c){s.call(this),this.internal.__cell__.tableHeaderRow=c},e.printHeaderRow=function(c,d){if(s.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var m;if(n=!0,typeof this.internal.__cell__.headerFunction=="function"){var u=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new i(u[0],u[1],u[2],u[3],void 0,-1)}this.setFont(void 0,"bold");for(var h=[],p=0;p<this.internal.__cell__.tableHeaderRow.length;p+=1){m=this.internal.__cell__.tableHeaderRow[p].clone(),d&&(m.y=this.internal.__cell__.margins.top||0,h.push(m)),m.lineNumber=c;var g=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),o.call(this,m),this.setTextColor(g)}h.length>0&&this.setTableHeaderRow(h),this.setFont(void 0,"normal"),n=!1}}(wt.API);var yE={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},bE=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],j1=vE(bE),jE=[100,200,300,400,500,600,700,800,900],$$=vE(jE);function w1(e){var r=e.family.replace(/"|'/g,"").toLowerCase(),n=function(i){return yE[i=i||"normal"]?i:"normal"}(e.style),s=function(i){if(!i)return 400;if(typeof i=="number")return i>=100&&i<=900&&i%100==0?i:400;if(/^\d00$/.test(i))return parseInt(i);switch(i){case"bold":return 700;case"normal":default:return 400}}(e.weight),a=function(i){return typeof j1[i=i||"normal"]=="number"?i:"normal"}(e.stretch);return{family:r,style:n,weight:s,stretch:a,src:e.src||[],ref:e.ref||{name:r,style:[a,n,s].join(" ")}}}function b5(e,r,n,s){var a;for(a=n;a>=0&&a<r.length;a+=s)if(e[r[a]])return e[r[a]];for(a=n;a>=0&&a<r.length;a-=s)if(e[r[a]])return e[r[a]]}var U$={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},j5={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function w5(e){return[e.stretch,e.style,e.weight,e.family].join(" ")}function V$(e,r,n){for(var s=(n=n||{}).defaultFontFamily||"times",a=Object.assign({},U$,n.genericFontFamilies||{}),i=null,o=null,l=0;l<r.length;++l)if(a[(i=w1(r[l])).family]&&(i.family=a[i.family]),e.hasOwnProperty(i.family)){o=e[i.family];break}if(!(o=o||e[s]))throw new Error("Could not find a font-family for the rule '"+w5(i)+"' and default family '"+s+"'.");if(o=function(c,d){if(d[c])return d[c];var m=j1[c],u=m<=j1.normal?-1:1,h=b5(d,bE,m,u);if(!h)throw new Error("Could not find a matching font-stretch value for "+c);return h}(i.stretch,o),o=function(c,d){if(d[c])return d[c];for(var m=yE[c],u=0;u<m.length;++u)if(d[m[u]])return d[m[u]];throw new Error("Could not find a matching font-style for "+c)}(i.style,o),!(o=function(c,d){if(d[c])return d[c];if(c===400&&d[500])return d[500];if(c===500&&d[400])return d[400];var m=$$[c],u=b5(d,jE,m,c<400?-1:1);if(!u)throw new Error("Could not find a matching font-weight for value "+c);return u}(i.weight,o)))throw new Error("Failed to resolve a font for the rule '"+w5(i)+"'.");return o}function N5(e){return e.trimLeft()}function W$(e,r){for(var n=0;n<e.length;){if(e.charAt(n)===r)return[e.substring(0,n),e.substring(n+1)];n+=1}return null}function q$(e){var r=e.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return r===null?null:[r[0],e.substring(r[0].length)]}var bh,S5,C5,Bv=["times"];(function(e){var r,n,s,a,i,o,l,c,d,m=function(R){return R=R||{},this.isStrokeTransparent=R.isStrokeTransparent||!1,this.strokeOpacity=R.strokeOpacity||1,this.strokeStyle=R.strokeStyle||"#000000",this.fillStyle=R.fillStyle||"#000000",this.isFillTransparent=R.isFillTransparent||!1,this.fillOpacity=R.fillOpacity||1,this.font=R.font||"10px sans-serif",this.textBaseline=R.textBaseline||"alphabetic",this.textAlign=R.textAlign||"left",this.lineWidth=R.lineWidth||1,this.lineJoin=R.lineJoin||"miter",this.lineCap=R.lineCap||"butt",this.path=R.path||[],this.transform=R.transform!==void 0?R.transform.clone():new c,this.globalCompositeOperation=R.globalCompositeOperation||"normal",this.globalAlpha=R.globalAlpha||1,this.clip_path=R.clip_path||[],this.currentPoint=R.currentPoint||new o,this.miterLimit=R.miterLimit||10,this.lastPoint=R.lastPoint||new o,this.lineDashOffset=R.lineDashOffset||0,this.lineDash=R.lineDash||[],this.margin=R.margin||[0,0,0,0],this.prevPageLastElemOffset=R.prevPageLastElemOffset||0,this.ignoreClearRect=typeof R.ignoreClearRect!="boolean"||R.ignoreClearRect,this};e.events.push(["initialized",function(){this.context2d=new u(this),r=this.internal.f2,n=this.internal.getCoordinateString,s=this.internal.getVerticalCoordinateString,a=this.internal.getHorizontalCoordinate,i=this.internal.getVerticalCoordinate,o=this.internal.Point,l=this.internal.Rectangle,c=this.internal.Matrix,d=new m}]);var u=function(R){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var $=R;Object.defineProperty(this,"pdf",{get:function(){return $}});var G=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return G},set:function(ie){G=!!ie}});var X=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return X},set:function(ie){X=!!ie}});var Z=0;Object.defineProperty(this,"posX",{get:function(){return Z},set:function(ie){isNaN(ie)||(Z=ie)}});var le=0;Object.defineProperty(this,"posY",{get:function(){return le},set:function(ie){isNaN(ie)||(le=ie)}}),Object.defineProperty(this,"margin",{get:function(){return d.margin},set:function(ie){var te;typeof ie=="number"?te=[ie,ie,ie,ie]:((te=new Array(4))[0]=ie[0],te[1]=ie.length>=2?ie[1]:te[0],te[2]=ie.length>=3?ie[2]:te[0],te[3]=ie.length>=4?ie[3]:te[1]),d.margin=te}});var ce=!1;Object.defineProperty(this,"autoPaging",{get:function(){return ce},set:function(ie){ce=ie}});var de=0;Object.defineProperty(this,"lastBreak",{get:function(){return de},set:function(ie){de=ie}});var Se=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Se},set:function(ie){Se=ie}}),Object.defineProperty(this,"ctx",{get:function(){return d},set:function(ie){ie instanceof m&&(d=ie)}}),Object.defineProperty(this,"path",{get:function(){return d.path},set:function(ie){d.path=ie}});var ye=[];Object.defineProperty(this,"ctxStack",{get:function(){return ye},set:function(ie){ye=ie}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(ie){var te;te=h(ie),this.ctx.fillStyle=te.style,this.ctx.isFillTransparent=te.a===0,this.ctx.fillOpacity=te.a,this.pdf.setFillColor(te.r,te.g,te.b,{a:te.a}),this.pdf.setTextColor(te.r,te.g,te.b,{a:te.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(ie){var te=h(ie);this.ctx.strokeStyle=te.style,this.ctx.isStrokeTransparent=te.a===0,this.ctx.strokeOpacity=te.a,te.a===0?this.pdf.setDrawColor(255,255,255):(te.a,this.pdf.setDrawColor(te.r,te.g,te.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(ie){["butt","round","square"].indexOf(ie)!==-1&&(this.ctx.lineCap=ie,this.pdf.setLineCap(ie))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(ie){isNaN(ie)||(this.ctx.lineWidth=ie,this.pdf.setLineWidth(ie))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(ie){["bevel","round","miter"].indexOf(ie)!==-1&&(this.ctx.lineJoin=ie,this.pdf.setLineJoin(ie))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(ie){isNaN(ie)||(this.ctx.miterLimit=ie,this.pdf.setMiterLimit(ie))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(ie){this.ctx.textBaseline=ie}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(ie){["right","end","center","left","start"].indexOf(ie)!==-1&&(this.ctx.textAlign=ie)}});var Ee=null;function Fe(ie,te){if(Ee===null){var Ue=function(_e){var ke=[];return Object.keys(_e).forEach(function(Ve){_e[Ve].forEach(function(Je){var Qe=null;switch(Je){case"bold":Qe={family:Ve,weight:"bold"};break;case"italic":Qe={family:Ve,style:"italic"};break;case"bolditalic":Qe={family:Ve,weight:"bold",style:"italic"};break;case"":case"normal":Qe={family:Ve}}Qe!==null&&(Qe.ref={name:Ve,style:Je},ke.push(Qe))})}),ke}(ie.getFontList());Ee=function(_e){for(var ke={},Ve=0;Ve<_e.length;++Ve){var Je=w1(_e[Ve]),Qe=Je.family,xt=Je.stretch,De=Je.style,We=Je.weight;ke[Qe]=ke[Qe]||{},ke[Qe][xt]=ke[Qe][xt]||{},ke[Qe][xt][De]=ke[Qe][xt][De]||{},ke[Qe][xt][De][We]=Je}return ke}(Ue.concat(te))}return Ee}var he=null;Object.defineProperty(this,"fontFaces",{get:function(){return he},set:function(ie){Ee=null,he=ie}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(ie){var te;if(this.ctx.font=ie,(te=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(ie))!==null){var Ue=te[1],_e=(te[2],te[3]),ke=te[4],Ve=(te[5],te[6]),Je=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(ke)[2];ke=Math.floor(Je==="px"?parseFloat(ke)*this.pdf.internal.scaleFactor:Je==="em"?parseFloat(ke)*this.pdf.getFontSize():parseFloat(ke)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(ke);var Qe=function(yt){var It,Ke,Zt=[],Ot=yt.trim();if(Ot==="")return Bv;if(Ot in j5)return[j5[Ot]];for(;Ot!=="";){switch(Ke=null,It=(Ot=N5(Ot)).charAt(0)){case'"':case"'":Ke=W$(Ot.substring(1),It);break;default:Ke=q$(Ot)}if(Ke===null||(Zt.push(Ke[0]),(Ot=N5(Ke[1]))!==""&&Ot.charAt(0)!==","))return Bv;Ot=Ot.replace(/^,/,"")}return Zt}(Ve);if(this.fontFaces){var xt=V$(Fe(this.pdf,this.fontFaces),Qe.map(function(yt){return{family:yt,stretch:"normal",weight:_e,style:Ue}}));this.pdf.setFont(xt.ref.name,xt.ref.style)}else{var De="";(_e==="bold"||parseInt(_e,10)>=700||Ue==="bold")&&(De="bold"),Ue==="italic"&&(De+="italic"),De.length===0&&(De="normal");for(var We="",st={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},mt=0;mt<Qe.length;mt++){if(this.pdf.internal.getFont(Qe[mt],De,{noFallback:!0,disableWarning:!0})!==void 0){We=Qe[mt];break}if(De==="bolditalic"&&this.pdf.internal.getFont(Qe[mt],"bold",{noFallback:!0,disableWarning:!0})!==void 0)We=Qe[mt],De="bold";else if(this.pdf.internal.getFont(Qe[mt],"normal",{noFallback:!0,disableWarning:!0})!==void 0){We=Qe[mt],De="normal";break}}if(We===""){for(var Nt=0;Nt<Qe.length;Nt++)if(st[Qe[Nt]]){We=st[Qe[Nt]];break}}We=We===""?"Times":We,this.pdf.setFont(We,De)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(ie){this.ctx.globalCompositeOperation=ie}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(ie){this.ctx.globalAlpha=ie}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(ie){this.ctx.lineDashOffset=ie,q.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(ie){this.ctx.lineDash=ie,q.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(ie){this.ctx.ignoreClearRect=!!ie}})};u.prototype.setLineDash=function(R){this.lineDash=R},u.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},u.prototype.fill=function(){E.call(this,"fill",!1)},u.prototype.stroke=function(){E.call(this,"stroke",!1)},u.prototype.beginPath=function(){this.path=[{type:"begin"}]},u.prototype.moveTo=function(R,$){if(isNaN(R)||isNaN($))throw fr.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var G=this.ctx.transform.applyToPoint(new o(R,$));this.path.push({type:"mt",x:G.x,y:G.y}),this.ctx.lastPoint=new o(R,$)},u.prototype.closePath=function(){var R=new o(0,0),$=0;for($=this.path.length-1;$!==-1;$--)if(this.path[$].type==="begin"&&Xt(this.path[$+1])==="object"&&typeof this.path[$+1].x=="number"){R=new o(this.path[$+1].x,this.path[$+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new o(R.x,R.y)},u.prototype.lineTo=function(R,$){if(isNaN(R)||isNaN($))throw fr.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var G=this.ctx.transform.applyToPoint(new o(R,$));this.path.push({type:"lt",x:G.x,y:G.y}),this.ctx.lastPoint=new o(G.x,G.y)},u.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),E.call(this,null,!0)},u.prototype.quadraticCurveTo=function(R,$,G,X){if(isNaN(G)||isNaN(X)||isNaN(R)||isNaN($))throw fr.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var Z=this.ctx.transform.applyToPoint(new o(G,X)),le=this.ctx.transform.applyToPoint(new o(R,$));this.path.push({type:"qct",x1:le.x,y1:le.y,x:Z.x,y:Z.y}),this.ctx.lastPoint=new o(Z.x,Z.y)},u.prototype.bezierCurveTo=function(R,$,G,X,Z,le){if(isNaN(Z)||isNaN(le)||isNaN(R)||isNaN($)||isNaN(G)||isNaN(X))throw fr.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var ce=this.ctx.transform.applyToPoint(new o(Z,le)),de=this.ctx.transform.applyToPoint(new o(R,$)),Se=this.ctx.transform.applyToPoint(new o(G,X));this.path.push({type:"bct",x1:de.x,y1:de.y,x2:Se.x,y2:Se.y,x:ce.x,y:ce.y}),this.ctx.lastPoint=new o(ce.x,ce.y)},u.prototype.arc=function(R,$,G,X,Z,le){if(isNaN(R)||isNaN($)||isNaN(G)||isNaN(X)||isNaN(Z))throw fr.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(le=!!le,!this.ctx.transform.isIdentity){var ce=this.ctx.transform.applyToPoint(new o(R,$));R=ce.x,$=ce.y;var de=this.ctx.transform.applyToPoint(new o(0,G)),Se=this.ctx.transform.applyToPoint(new o(0,0));G=Math.sqrt(Math.pow(de.x-Se.x,2)+Math.pow(de.y-Se.y,2))}Math.abs(Z-X)>=2*Math.PI&&(X=0,Z=2*Math.PI),this.path.push({type:"arc",x:R,y:$,radius:G,startAngle:X,endAngle:Z,counterclockwise:le})},u.prototype.arcTo=function(R,$,G,X,Z){throw new Error("arcTo not implemented.")},u.prototype.rect=function(R,$,G,X){if(isNaN(R)||isNaN($)||isNaN(G)||isNaN(X))throw fr.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(R,$),this.lineTo(R+G,$),this.lineTo(R+G,$+X),this.lineTo(R,$+X),this.lineTo(R,$),this.lineTo(R+G,$),this.lineTo(R,$)},u.prototype.fillRect=function(R,$,G,X){if(isNaN(R)||isNaN($)||isNaN(G)||isNaN(X))throw fr.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!p.call(this)){var Z={};this.lineCap!=="butt"&&(Z.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(Z.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(R,$,G,X),this.fill(),Z.hasOwnProperty("lineCap")&&(this.lineCap=Z.lineCap),Z.hasOwnProperty("lineJoin")&&(this.lineJoin=Z.lineJoin)}},u.prototype.strokeRect=function(R,$,G,X){if(isNaN(R)||isNaN($)||isNaN(G)||isNaN(X))throw fr.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");g.call(this)||(this.beginPath(),this.rect(R,$,G,X),this.stroke())},u.prototype.clearRect=function(R,$,G,X){if(isNaN(R)||isNaN($)||isNaN(G)||isNaN(X))throw fr.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(R,$,G,X))},u.prototype.save=function(R){R=typeof R!="boolean"||R;for(var $=this.pdf.internal.getCurrentPageInfo().pageNumber,G=0;G<this.pdf.internal.getNumberOfPages();G++)this.pdf.setPage(G+1),this.pdf.internal.out("q");if(this.pdf.setPage($),R){this.ctx.fontSize=this.pdf.internal.getFontSize();var X=new m(this.ctx);this.ctxStack.push(this.ctx),this.ctx=X}},u.prototype.restore=function(R){R=typeof R!="boolean"||R;for(var $=this.pdf.internal.getCurrentPageInfo().pageNumber,G=0;G<this.pdf.internal.getNumberOfPages();G++)this.pdf.setPage(G+1),this.pdf.internal.out("Q");this.pdf.setPage($),R&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},u.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var h=function(R){var $,G,X,Z;if(R.isCanvasGradient===!0&&(R=R.getColor()),!R)return{r:0,g:0,b:0,a:0,style:R};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(R))$=0,G=0,X=0,Z=0;else{var le=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(R);if(le!==null)$=parseInt(le[1]),G=parseInt(le[2]),X=parseInt(le[3]),Z=1;else if((le=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(R))!==null)$=parseInt(le[1]),G=parseInt(le[2]),X=parseInt(le[3]),Z=parseFloat(le[4]);else{if(Z=1,typeof R=="string"&&R.charAt(0)!=="#"){var ce=new mE(R);R=ce.ok?ce.toHex():"#000000"}R.length===4?($=R.substring(1,2),$+=$,G=R.substring(2,3),G+=G,X=R.substring(3,4),X+=X):($=R.substring(1,3),G=R.substring(3,5),X=R.substring(5,7)),$=parseInt($,16),G=parseInt(G,16),X=parseInt(X,16)}}return{r:$,g:G,b:X,a:Z,style:R}},p=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},g=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};u.prototype.fillText=function(R,$,G,X){if(isNaN($)||isNaN(G)||typeof R!="string")throw fr.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(X=isNaN(X)?void 0:X,!p.call(this)){var Z=B(this.ctx.transform.rotation),le=this.ctx.transform.scaleX;w.call(this,{text:R,x:$,y:G,scale:le,angle:Z,align:this.textAlign,maxWidth:X})}},u.prototype.strokeText=function(R,$,G,X){if(isNaN($)||isNaN(G)||typeof R!="string")throw fr.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!g.call(this)){X=isNaN(X)?void 0:X;var Z=B(this.ctx.transform.rotation),le=this.ctx.transform.scaleX;w.call(this,{text:R,x:$,y:G,scale:le,renderingMode:"stroke",angle:Z,align:this.textAlign,maxWidth:X})}},u.prototype.measureText=function(R){if(typeof R!="string")throw fr.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var $=this.pdf,G=this.pdf.internal.scaleFactor,X=$.internal.getFontSize(),Z=$.getStringUnitWidth(R)*X/$.internal.scaleFactor,le=function(ce){var de=(ce=ce||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return de}}),this};return new le({width:Z*=Math.round(96*G/72*1e4)/1e4})},u.prototype.scale=function(R,$){if(isNaN(R)||isNaN($))throw fr.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var G=new c(R,0,0,$,0,0);this.ctx.transform=this.ctx.transform.multiply(G)},u.prototype.rotate=function(R){if(isNaN(R))throw fr.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var $=new c(Math.cos(R),Math.sin(R),-Math.sin(R),Math.cos(R),0,0);this.ctx.transform=this.ctx.transform.multiply($)},u.prototype.translate=function(R,$){if(isNaN(R)||isNaN($))throw fr.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var G=new c(1,0,0,1,R,$);this.ctx.transform=this.ctx.transform.multiply(G)},u.prototype.transform=function(R,$,G,X,Z,le){if(isNaN(R)||isNaN($)||isNaN(G)||isNaN(X)||isNaN(Z)||isNaN(le))throw fr.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var ce=new c(R,$,G,X,Z,le);this.ctx.transform=this.ctx.transform.multiply(ce)},u.prototype.setTransform=function(R,$,G,X,Z,le){R=isNaN(R)?1:R,$=isNaN($)?0:$,G=isNaN(G)?0:G,X=isNaN(X)?1:X,Z=isNaN(Z)?0:Z,le=isNaN(le)?0:le,this.ctx.transform=new c(R,$,G,X,Z,le)};var b=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};u.prototype.drawImage=function(R,$,G,X,Z,le,ce,de,Se){var ye=this.pdf.getImageProperties(R),Ee=1,Fe=1,he=1,ie=1;X!==void 0&&de!==void 0&&(he=de/X,ie=Se/Z,Ee=ye.width/X*de/X,Fe=ye.height/Z*Se/Z),le===void 0&&(le=$,ce=G,$=0,G=0),X!==void 0&&de===void 0&&(de=X,Se=Z),X===void 0&&de===void 0&&(de=ye.width,Se=ye.height);for(var te,Ue=this.ctx.transform.decompose(),_e=B(Ue.rotate.shx),ke=new c,Ve=(ke=(ke=(ke=ke.multiply(Ue.translate)).multiply(Ue.skew)).multiply(Ue.scale)).applyToRectangle(new l(le-$*he,ce-G*ie,X*Ee,Z*Fe)),Je=j.call(this,Ve),Qe=[],xt=0;xt<Je.length;xt+=1)Qe.indexOf(Je[xt])===-1&&Qe.push(Je[xt]);if(y(Qe),this.autoPaging)for(var De=Qe[0],We=Qe[Qe.length-1],st=De;st<We+1;st++){this.pdf.setPage(st);var mt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Nt=st===1?this.posY+this.margin[0]:this.margin[0],yt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],It=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Ke=st===1?0:yt+(st-2)*It;if(this.ctx.clip_path.length!==0){var Zt=this.path;te=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=v(te,this.posX+this.margin[3],-Ke+Nt+this.ctx.prevPageLastElemOffset),O.call(this,"fill",!0),this.path=Zt}var Ot=JSON.parse(JSON.stringify(Ve));Ot=v([Ot],this.posX+this.margin[3],-Ke+Nt+this.ctx.prevPageLastElemOffset)[0];var an=(st>De||st<We)&&b.call(this);an&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],mt,It,null).clip().discardPath()),this.pdf.addImage(R,"JPEG",Ot.x,Ot.y,Ot.w,Ot.h,null,null,_e),an&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(R,"JPEG",Ve.x,Ve.y,Ve.w,Ve.h,null,null,_e)};var j=function(R,$,G){var X=[];$=$||this.pdf.internal.pageSize.width,G=G||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var Z=this.posY+this.ctx.prevPageLastElemOffset;switch(R.type){default:case"mt":case"lt":X.push(Math.floor((R.y+Z)/G)+1);break;case"arc":X.push(Math.floor((R.y+Z-R.radius)/G)+1),X.push(Math.floor((R.y+Z+R.radius)/G)+1);break;case"qct":var le=U(this.ctx.lastPoint.x,this.ctx.lastPoint.y,R.x1,R.y1,R.x,R.y);X.push(Math.floor((le.y+Z)/G)+1),X.push(Math.floor((le.y+le.h+Z)/G)+1);break;case"bct":var ce=H(this.ctx.lastPoint.x,this.ctx.lastPoint.y,R.x1,R.y1,R.x2,R.y2,R.x,R.y);X.push(Math.floor((ce.y+Z)/G)+1),X.push(Math.floor((ce.y+ce.h+Z)/G)+1);break;case"rect":X.push(Math.floor((R.y+Z)/G)+1),X.push(Math.floor((R.y+R.h+Z)/G)+1)}for(var de=0;de<X.length;de+=1)for(;this.pdf.internal.getNumberOfPages()<X[de];)x.call(this);return X},x=function(){var R=this.fillStyle,$=this.strokeStyle,G=this.font,X=this.lineCap,Z=this.lineWidth,le=this.lineJoin;this.pdf.addPage(),this.fillStyle=R,this.strokeStyle=$,this.font=G,this.lineCap=X,this.lineWidth=Z,this.lineJoin=le},v=function(R,$,G){for(var X=0;X<R.length;X++)switch(R[X].type){case"bct":R[X].x2+=$,R[X].y2+=G;case"qct":R[X].x1+=$,R[X].y1+=G;case"mt":case"lt":case"arc":default:R[X].x+=$,R[X].y+=G}return R},y=function(R){return R.sort(function($,G){return $-G})},E=function(R,$){for(var G,X,Z=this.fillStyle,le=this.strokeStyle,ce=this.lineCap,de=this.lineWidth,Se=Math.abs(de*this.ctx.transform.scaleX),ye=this.lineJoin,Ee=JSON.parse(JSON.stringify(this.path)),Fe=JSON.parse(JSON.stringify(this.path)),he=[],ie=0;ie<Fe.length;ie++)if(Fe[ie].x!==void 0)for(var te=j.call(this,Fe[ie]),Ue=0;Ue<te.length;Ue+=1)he.indexOf(te[Ue])===-1&&he.push(te[Ue]);for(var _e=0;_e<he.length;_e++)for(;this.pdf.internal.getNumberOfPages()<he[_e];)x.call(this);if(y(he),this.autoPaging)for(var ke=he[0],Ve=he[he.length-1],Je=ke;Je<Ve+1;Je++){this.pdf.setPage(Je),this.fillStyle=Z,this.strokeStyle=le,this.lineCap=ce,this.lineWidth=Se,this.lineJoin=ye;var Qe=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],xt=Je===1?this.posY+this.margin[0]:this.margin[0],De=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],We=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],st=Je===1?0:De+(Je-2)*We;if(this.ctx.clip_path.length!==0){var mt=this.path;G=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=v(G,this.posX+this.margin[3],-st+xt+this.ctx.prevPageLastElemOffset),O.call(this,R,!0),this.path=mt}if(X=JSON.parse(JSON.stringify(Ee)),this.path=v(X,this.posX+this.margin[3],-st+xt+this.ctx.prevPageLastElemOffset),$===!1||Je===0){var Nt=(Je>ke||Je<Ve)&&b.call(this);Nt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Qe,We,null).clip().discardPath()),O.call(this,R,$),Nt&&this.pdf.restoreGraphicsState()}this.lineWidth=de}else this.lineWidth=Se,O.call(this,R,$),this.lineWidth=de;this.path=Ee},O=function(R,$){if((R!=="stroke"||$||!g.call(this))&&(R==="stroke"||$||!p.call(this))){for(var G,X,Z=[],le=this.path,ce=0;ce<le.length;ce++){var de=le[ce];switch(de.type){case"begin":Z.push({begin:!0});break;case"close":Z.push({close:!0});break;case"mt":Z.push({start:de,deltas:[],abs:[]});break;case"lt":var Se=Z.length;if(le[ce-1]&&!isNaN(le[ce-1].x)&&(G=[de.x-le[ce-1].x,de.y-le[ce-1].y],Se>0)){for(;Se>=0;Se--)if(Z[Se-1].close!==!0&&Z[Se-1].begin!==!0){Z[Se-1].deltas.push(G),Z[Se-1].abs.push(de);break}}break;case"bct":G=[de.x1-le[ce-1].x,de.y1-le[ce-1].y,de.x2-le[ce-1].x,de.y2-le[ce-1].y,de.x-le[ce-1].x,de.y-le[ce-1].y],Z[Z.length-1].deltas.push(G);break;case"qct":var ye=le[ce-1].x+2/3*(de.x1-le[ce-1].x),Ee=le[ce-1].y+2/3*(de.y1-le[ce-1].y),Fe=de.x+2/3*(de.x1-de.x),he=de.y+2/3*(de.y1-de.y),ie=de.x,te=de.y;G=[ye-le[ce-1].x,Ee-le[ce-1].y,Fe-le[ce-1].x,he-le[ce-1].y,ie-le[ce-1].x,te-le[ce-1].y],Z[Z.length-1].deltas.push(G);break;case"arc":Z.push({deltas:[],abs:[],arc:!0}),Array.isArray(Z[Z.length-1].abs)&&Z[Z.length-1].abs.push(de)}}X=$?null:R==="stroke"?"stroke":"fill";for(var Ue=!1,_e=0;_e<Z.length;_e++)if(Z[_e].arc)for(var ke=Z[_e].abs,Ve=0;Ve<ke.length;Ve++){var Je=ke[Ve];Je.type==="arc"?S.call(this,Je.x,Je.y,Je.radius,Je.startAngle,Je.endAngle,Je.counterclockwise,void 0,$,!Ue):L.call(this,Je.x,Je.y),Ue=!0}else if(Z[_e].close===!0)this.pdf.internal.out("h"),Ue=!1;else if(Z[_e].begin!==!0){var Qe=Z[_e].start.x,xt=Z[_e].start.y;T.call(this,Z[_e].deltas,Qe,xt),Ue=!0}X&&I.call(this,X),$&&k.call(this)}},M=function(R){var $=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,G=$*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return R-G;case"top":return R+$-G;case"hanging":return R+$-2*G;case"middle":return R+$/2-G;case"ideographic":return R;case"alphabetic":default:return R}},P=function(R){return R+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};u.prototype.createLinearGradient=function(){var R=function(){};return R.colorStops=[],R.addColorStop=function($,G){this.colorStops.push([$,G])},R.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},R.isCanvasGradient=!0,R},u.prototype.createPattern=function(){return this.createLinearGradient()},u.prototype.createRadialGradient=function(){return this.createLinearGradient()};var S=function(R,$,G,X,Z,le,ce,de,Se){for(var ye=V.call(this,G,X,Z,le),Ee=0;Ee<ye.length;Ee++){var Fe=ye[Ee];Ee===0&&(Se?C.call(this,Fe.x1+R,Fe.y1+$):L.call(this,Fe.x1+R,Fe.y1+$)),W.call(this,R,$,Fe.x2,Fe.y2,Fe.x3,Fe.y3,Fe.x4,Fe.y4)}de?k.call(this):I.call(this,ce)},I=function(R){switch(R){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},k=function(){this.pdf.clip(),this.pdf.discardPath()},C=function(R,$){this.pdf.internal.out(n(R)+" "+s($)+" m")},w=function(R){var $;switch(R.align){case"right":case"end":$="right";break;case"center":$="center";break;case"left":case"start":default:$="left"}var G=this.pdf.getTextDimensions(R.text),X=M.call(this,R.y),Z=P.call(this,X)-G.h,le=this.ctx.transform.applyToPoint(new o(R.x,X)),ce=this.ctx.transform.decompose(),de=new c;de=(de=(de=de.multiply(ce.translate)).multiply(ce.skew)).multiply(ce.scale);for(var Se,ye,Ee,Fe=this.ctx.transform.applyToRectangle(new l(R.x,X,G.w,G.h)),he=de.applyToRectangle(new l(R.x,Z,G.w,G.h)),ie=j.call(this,he),te=[],Ue=0;Ue<ie.length;Ue+=1)te.indexOf(ie[Ue])===-1&&te.push(ie[Ue]);if(y(te),this.autoPaging)for(var _e=te[0],ke=te[te.length-1],Ve=_e;Ve<ke+1;Ve++){this.pdf.setPage(Ve);var Je=Ve===1?this.posY+this.margin[0]:this.margin[0],Qe=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],xt=this.pdf.internal.pageSize.height-this.margin[2],De=xt-this.margin[0],We=this.pdf.internal.pageSize.width-this.margin[1],st=We-this.margin[3],mt=Ve===1?0:Qe+(Ve-2)*De;if(this.ctx.clip_path.length!==0){var Nt=this.path;Se=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=v(Se,this.posX+this.margin[3],-1*mt+Je),O.call(this,"fill",!0),this.path=Nt}var yt=v([JSON.parse(JSON.stringify(he))],this.posX+this.margin[3],-mt+Je+this.ctx.prevPageLastElemOffset)[0];R.scale>=.01&&(ye=this.pdf.internal.getFontSize(),this.pdf.setFontSize(ye*R.scale),Ee=this.lineWidth,this.lineWidth=Ee*R.scale);var It=this.autoPaging!=="text";if(It||yt.y+yt.h<=xt){if(It||yt.y>=Je&&yt.x<=We){var Ke=It?R.text:this.pdf.splitTextToSize(R.text,R.maxWidth||We-yt.x)[0],Zt=v([JSON.parse(JSON.stringify(Fe))],this.posX+this.margin[3],-mt+Je+this.ctx.prevPageLastElemOffset)[0],Ot=It&&(Ve>_e||Ve<ke)&&b.call(this);Ot&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],st,De,null).clip().discardPath()),this.pdf.text(Ke,Zt.x,Zt.y,{angle:R.angle,align:$,renderingMode:R.renderingMode}),Ot&&this.pdf.restoreGraphicsState()}}else yt.y<xt&&(this.ctx.prevPageLastElemOffset+=xt-yt.y);R.scale>=.01&&(this.pdf.setFontSize(ye),this.lineWidth=Ee)}else R.scale>=.01&&(ye=this.pdf.internal.getFontSize(),this.pdf.setFontSize(ye*R.scale),Ee=this.lineWidth,this.lineWidth=Ee*R.scale),this.pdf.text(R.text,le.x+this.posX,le.y+this.posY,{angle:R.angle,align:$,renderingMode:R.renderingMode,maxWidth:R.maxWidth}),R.scale>=.01&&(this.pdf.setFontSize(ye),this.lineWidth=Ee)},L=function(R,$,G,X){G=G||0,X=X||0,this.pdf.internal.out(n(R+G)+" "+s($+X)+" l")},T=function(R,$,G){return this.pdf.lines(R,$,G,null,null)},W=function(R,$,G,X,Z,le,ce,de){this.pdf.internal.out([r(a(G+R)),r(i(X+$)),r(a(Z+R)),r(i(le+$)),r(a(ce+R)),r(i(de+$)),"c"].join(" "))},V=function(R,$,G,X){for(var Z=2*Math.PI,le=Math.PI/2;$>G;)$-=Z;var ce=Math.abs(G-$);ce<Z&&X&&(ce=Z-ce);for(var de=[],Se=X?-1:1,ye=$;ce>1e-5;){var Ee=ye+Se*Math.min(ce,le);de.push(_.call(this,R,ye,Ee)),ce-=Math.abs(Ee-ye),ye=Ee}return de},_=function(R,$,G){var X=(G-$)/2,Z=R*Math.cos(X),le=R*Math.sin(X),ce=Z,de=-le,Se=ce*ce+de*de,ye=Se+ce*Z+de*le,Ee=4/3*(Math.sqrt(2*Se*ye)-ye)/(ce*le-de*Z),Fe=ce-Ee*de,he=de+Ee*ce,ie=Fe,te=-he,Ue=X+$,_e=Math.cos(Ue),ke=Math.sin(Ue);return{x1:R*Math.cos($),y1:R*Math.sin($),x2:Fe*_e-he*ke,y2:Fe*ke+he*_e,x3:ie*_e-te*ke,y3:ie*ke+te*_e,x4:R*Math.cos(G),y4:R*Math.sin(G)}},B=function(R){return 180*R/Math.PI},U=function(R,$,G,X,Z,le){var ce=R+.5*(G-R),de=$+.5*(X-$),Se=Z+.5*(G-Z),ye=le+.5*(X-le),Ee=Math.min(R,Z,ce,Se),Fe=Math.max(R,Z,ce,Se),he=Math.min($,le,de,ye),ie=Math.max($,le,de,ye);return new l(Ee,he,Fe-Ee,ie-he)},H=function(R,$,G,X,Z,le,ce,de){var Se,ye,Ee,Fe,he,ie,te,Ue,_e,ke,Ve,Je,Qe,xt,De=G-R,We=X-$,st=Z-G,mt=le-X,Nt=ce-Z,yt=de-le;for(ye=0;ye<41;ye++)_e=(te=(Ee=R+(Se=ye/40)*De)+Se*((he=G+Se*st)-Ee))+Se*(he+Se*(Z+Se*Nt-he)-te),ke=(Ue=(Fe=$+Se*We)+Se*((ie=X+Se*mt)-Fe))+Se*(ie+Se*(le+Se*yt-ie)-Ue),ye==0?(Ve=_e,Je=ke,Qe=_e,xt=ke):(Ve=Math.min(Ve,_e),Je=Math.min(Je,ke),Qe=Math.max(Qe,_e),xt=Math.max(xt,ke));return new l(Math.round(Ve),Math.round(Je),Math.round(Qe-Ve),Math.round(xt-Je))},q=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var R,$,G=(R=this.ctx.lineDash,$=this.ctx.lineDashOffset,JSON.stringify({lineDash:R,lineDashOffset:$}));this.prevLineDash!==G&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=G)}}})(wt.API),function(e){var r=function(i){var o,l,c,d,m,u,h,p,g,b;for(l=[],c=0,d=(i+=o="\0\0\0\0".slice(i.length%4||4)).length;d>c;c+=4)(m=(i.charCodeAt(c)<<24)+(i.charCodeAt(c+1)<<16)+(i.charCodeAt(c+2)<<8)+i.charCodeAt(c+3))!==0?(u=(m=((m=((m=((m=(m-(b=m%85))/85)-(g=m%85))/85)-(p=m%85))/85)-(h=m%85))/85)%85,l.push(u+33,h+33,p+33,g+33,b+33)):l.push(122);return function(j,x){for(var v=x;v>0;v--)j.pop()}(l,o.length),String.fromCharCode.apply(String,l)+"~>"},n=function(i){var o,l,c,d,m,u=String,h="length",p=255,g="charCodeAt",b="slice",j="replace";for(i[b](-2),i=i[b](0,-2)[j](/\s/g,"")[j]("z","!!!!!"),c=[],d=0,m=(i+=o="uuuuu"[b](i[h]%5||5))[h];m>d;d+=5)l=52200625*(i[g](d)-33)+614125*(i[g](d+1)-33)+7225*(i[g](d+2)-33)+85*(i[g](d+3)-33)+(i[g](d+4)-33),c.push(p&l>>24,p&l>>16,p&l>>8,p&l);return function(x,v){for(var y=v;y>0;y--)x.pop()}(c,o[h]),u.fromCharCode.apply(u,c)},s=function(i){var o=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((i=i.replace(/\s/g,"")).indexOf(">")!==-1&&(i=i.substr(0,i.indexOf(">"))),i.length%2&&(i+="0"),o.test(i)===!1)return"";for(var l="",c=0;c<i.length;c+=2)l+=String.fromCharCode("0x"+(i[c]+i[c+1]));return l},a=function(i){for(var o=new Uint8Array(i.length),l=i.length;l--;)o[l]=i.charCodeAt(l);return i=(o=x1(o)).reduce(function(c,d){return c+String.fromCharCode(d)},"")};e.processDataByFilters=function(i,o){var l=0,c=i||"",d=[];for(typeof(o=o||[])=="string"&&(o=[o]),l=0;l<o.length;l+=1)switch(o[l]){case"ASCII85Decode":case"/ASCII85Decode":c=n(c),d.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":c=r(c),d.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":c=s(c),d.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":c=c.split("").map(function(m){return("0"+m.charCodeAt().toString(16)).slice(-2)}).join("")+">",d.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":c=a(c),d.push("/FlateDecode");break;default:throw new Error('The filter: "'+o[l]+'" is not implemented')}return{data:c,reverseChain:d.reverse().join(" ")}}}(wt.API),function(e){e.loadFile=function(r,n,s){return function(a,i,o){i=i!==!1,o=typeof o=="function"?o:function(){};var l=void 0;try{l=function(c,d,m){var u=new XMLHttpRequest,h=0,p=function(g){var b=g.length,j=[],x=String.fromCharCode;for(h=0;h<b;h+=1)j.push(x(255&g.charCodeAt(h)));return j.join("")};if(u.open("GET",c,!d),u.overrideMimeType("text/plain; charset=x-user-defined"),d===!1&&(u.onload=function(){u.status===200?m(p(this.responseText)):m(void 0)}),u.send(null),d&&u.status===200)return p(u.responseText)}(a,i,o)}catch{}return l}(r,n,s)},e.loadImageFile=e.loadFile}(wt.API),function(e){function r(){return(At.html2canvas?Promise.resolve(At.html2canvas):u1(()=>import("./html2canvas.esm-e0a7d97b.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load html2canvas: "+o))}).then(function(o){return o.default?o.default:o})}function n(){return(At.DOMPurify?Promise.resolve(At.DOMPurify):u1(()=>import("./purify.es-2de9db7f.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load dompurify: "+o))}).then(function(o){return o.default?o.default:o})}var s=function(o){var l=Xt(o);return l==="undefined"?"undefined":l==="string"||o instanceof String?"string":l==="number"||o instanceof Number?"number":l==="function"||o instanceof Function?"function":o&&o.constructor===Array?"array":o&&o.nodeType===1?"element":l==="object"?"object":"unknown"},a=function(o,l){var c=document.createElement(o);for(var d in l.className&&(c.className=l.className),l.innerHTML&&l.dompurify&&(c.innerHTML=l.dompurify.sanitize(l.innerHTML)),l.style)c.style[d]=l.style[d];return c},i=function o(l){var c=Object.assign(o.convert(Promise.resolve()),JSON.parse(JSON.stringify(o.template))),d=o.convert(Promise.resolve(),c);return d=(d=d.setProgress(1,o,1,[o])).set(l)};(i.prototype=Object.create(Promise.prototype)).constructor=i,i.convert=function(o,l){return o.__proto__=l||i.prototype,o},i.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},i.prototype.from=function(o,l){return this.then(function(){switch(l=l||function(c){switch(s(c)){case"string":return"string";case"element":return c.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(o)){case"string":return this.then(n).then(function(c){return this.set({src:a("div",{innerHTML:o,dompurify:c})})});case"element":return this.set({src:o});case"canvas":return this.set({canvas:o});case"img":return this.set({img:o});default:return this.error("Unknown source type.")}})},i.prototype.to=function(o){switch(o){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},i.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var o={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},l=function c(d,m){for(var u=d.nodeType===3?document.createTextNode(d.nodeValue):d.cloneNode(!1),h=d.firstChild;h;h=h.nextSibling)m!==!0&&h.nodeType===1&&h.nodeName==="SCRIPT"||u.appendChild(c(h,m));return d.nodeType===1&&(d.nodeName==="CANVAS"?(u.width=d.width,u.height=d.height,u.getContext("2d").drawImage(d,0,0)):d.nodeName!=="TEXTAREA"&&d.nodeName!=="SELECT"||(u.value=d.value),u.addEventListener("load",function(){u.scrollTop=d.scrollTop,u.scrollLeft=d.scrollLeft},!0)),u}(this.prop.src,this.opt.html2canvas.javascriptEnabled);l.tagName==="BODY"&&(o.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=a("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=a("div",{className:"html2pdf__container",style:o}),this.prop.container.appendChild(l),this.prop.container.firstChild.appendChild(a("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},i.prototype.toCanvas=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(r).then(function(l){var c=Object.assign({},this.opt.html2canvas);return delete c.onrendered,l(this.prop.container,c)}).then(function(l){(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},i.prototype.toContext2d=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(r).then(function(l){var c=this.opt.jsPDF,d=this.opt.fontFaces,m=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,u=Object.assign({async:!0,allowTaint:!0,scale:m,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete u.onrendered,c.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,c.context2d.posX=this.opt.x,c.context2d.posY=this.opt.y,c.context2d.margin=this.opt.margin,c.context2d.fontFaces=d,d)for(var h=0;h<d.length;++h){var p=d[h],g=p.src.find(function(b){return b.format==="truetype"});g&&c.addFont(g.url,p.ref.name,p.ref.style)}return u.windowHeight=u.windowHeight||0,u.windowHeight=u.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):u.windowHeight,c.context2d.save(!0),l(this.prop.container,u)}).then(function(l){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},i.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var o=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=o})},i.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},i.prototype.output=function(o,l,c){return(c=c||"pdf").toLowerCase()==="img"||c.toLowerCase()==="image"?this.outputImg(o,l):this.outputPdf(o,l)},i.prototype.outputPdf=function(o,l){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(o,l)})},i.prototype.outputImg=function(o){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(o){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+o+'" is not supported.'}})},i.prototype.save=function(o){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(o?{filename:o}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},i.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},i.prototype.set=function(o){if(s(o)!=="object")return this;var l=Object.keys(o||{}).map(function(c){if(c in i.template.prop)return function(){this.prop[c]=o[c]};switch(c){case"margin":return this.setMargin.bind(this,o.margin);case"jsPDF":return function(){return this.opt.jsPDF=o.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,o.pageSize);default:return function(){this.opt[c]=o[c]}}},this);return this.then(function(){return this.thenList(l)})},i.prototype.get=function(o,l){return this.then(function(){var c=o in i.template.prop?this.prop[o]:this.opt[o];return l?l(c):c})},i.prototype.setMargin=function(o){return this.then(function(){switch(s(o)){case"number":o=[o,o,o,o];case"array":if(o.length===2&&(o=[o[0],o[1],o[0],o[1]]),o.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=o}).then(this.setPageSize)},i.prototype.setPageSize=function(o){function l(c,d){return Math.floor(c*d/72*96)}return this.then(function(){(o=o||wt.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(o.inner={width:o.width-this.opt.margin[1]-this.opt.margin[3],height:o.height-this.opt.margin[0]-this.opt.margin[2]},o.inner.px={width:l(o.inner.width,o.k),height:l(o.inner.height,o.k)},o.inner.ratio=o.inner.height/o.inner.width),this.prop.pageSize=o})},i.prototype.setProgress=function(o,l,c,d){return o!=null&&(this.progress.val=o),l!=null&&(this.progress.state=l),c!=null&&(this.progress.n=c),d!=null&&(this.progress.stack=d),this.progress.ratio=this.progress.val/this.progress.state,this},i.prototype.updateProgress=function(o,l,c,d){return this.setProgress(o?this.progress.val+o:null,l||null,c?this.progress.n+c:null,d?this.progress.stack.concat(d):null)},i.prototype.then=function(o,l){var c=this;return this.thenCore(o,l,function(d,m){return c.updateProgress(null,null,1,[d]),Promise.prototype.then.call(this,function(u){return c.updateProgress(null,d),u}).then(d,m).then(function(u){return c.updateProgress(1),u})})},i.prototype.thenCore=function(o,l,c){c=c||Promise.prototype.then,o&&(o=o.bind(this)),l&&(l=l.bind(this));var d=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:i.convert(Object.assign({},this),Promise.prototype),m=c.call(d,o,l);return i.convert(m,this.__proto__)},i.prototype.thenExternal=function(o,l){return Promise.prototype.then.call(this,o,l)},i.prototype.thenList=function(o){var l=this;return o.forEach(function(c){l=l.thenCore(c)}),l},i.prototype.catch=function(o){o&&(o=o.bind(this));var l=Promise.prototype.catch.call(this,o);return i.convert(l,this)},i.prototype.catchExternal=function(o){return Promise.prototype.catch.call(this,o)},i.prototype.error=function(o){return this.then(function(){throw new Error(o)})},i.prototype.using=i.prototype.set,i.prototype.saveAs=i.prototype.save,i.prototype.export=i.prototype.output,i.prototype.run=i.prototype.then,wt.getPageSize=function(o,l,c){if(Xt(o)==="object"){var d=o;o=d.orientation,l=d.unit||l,c=d.format||c}l=l||"mm",c=c||"a4",o=(""+(o||"P")).toLowerCase();var m,u=(""+c).toLowerCase(),h={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(l){case"pt":m=1;break;case"mm":m=72/25.4;break;case"cm":m=72/2.54;break;case"in":m=72;break;case"px":m=.75;break;case"pc":case"em":m=12;break;case"ex":m=6;break;default:throw"Invalid unit: "+l}var p,g=0,b=0;if(h.hasOwnProperty(u))g=h[u][1]/m,b=h[u][0]/m;else try{g=c[1],b=c[0]}catch{throw new Error("Invalid format: "+c)}if(o==="p"||o==="portrait")o="p",b>g&&(p=b,b=g,g=p);else{if(o!=="l"&&o!=="landscape")throw"Invalid orientation: "+o;o="l",g>b&&(p=b,b=g,g=p)}return{width:b,height:g,unit:l,k:m,orientation:o}},e.html=function(o,l){(l=l||{}).callback=l.callback||function(){},l.html2canvas=l.html2canvas||{},l.html2canvas.canvas=l.html2canvas.canvas||this.canvas,l.jsPDF=l.jsPDF||this,l.fontFaces=l.fontFaces?l.fontFaces.map(w1):null;var c=new i(l);return l.worker?c:c.from(o).doCallback()}}(wt.API),wt.API.addJS=function(e){return C5=e,this.internal.events.subscribe("postPutResources",function(){bh=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(bh+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),S5=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+C5+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){bh!==void 0&&S5!==void 0&&this.internal.out("/Names <</JavaScript "+bh+" 0 R>>")}),this},function(e){var r;e.events.push(["postPutResources",function(){var n=this,s=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var a=n.outline.render().split(/\r\n/),i=0;i<a.length;i++){var o=a[i],l=s.exec(o);if(l!=null){var c=l[1];n.internal.newObjectDeferredBegin(c,!1)}n.internal.write(o)}if(this.outline.createNamedDestinations){var d=this.internal.pages.length,m=[];for(i=0;i<d;i++){var u=n.internal.newObject();m.push(u);var h=n.internal.getPageInfo(i+1);n.internal.write("<< /D["+h.objId+" 0 R /XYZ null null null]>> endobj")}var p=n.internal.newObject();for(n.internal.write("<< /Names [ "),i=0;i<m.length;i++)n.internal.write("(page_"+(i+1)+")"+m[i]+" 0 R");n.internal.write(" ] >>","endobj"),r=n.internal.newObject(),n.internal.write("<< /Dests "+p+" 0 R"),n.internal.write(">>","endobj")}}]),e.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+r+" 0 R"))}]),e.events.push(["initialized",function(){var n=this;n.outline={createNamedDestinations:!1,root:{children:[]}},n.outline.add=function(s,a,i){var o={title:a,options:i,children:[]};return s==null&&(s=this.root),s.children.push(o),o},n.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=n,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},n.outline.genIds_r=function(s){s.id=n.internal.newObjectDeferred();for(var a=0;a<s.children.length;a++)this.genIds_r(s.children[a])},n.outline.renderRoot=function(s){this.objStart(s),this.line("/Type /Outlines"),s.children.length>0&&(this.line("/First "+this.makeRef(s.children[0])),this.line("/Last "+this.makeRef(s.children[s.children.length-1]))),this.line("/Count "+this.count_r({count:0},s)),this.objEnd()},n.outline.renderItems=function(s){for(var a=this.ctx.pdf.internal.getVerticalCoordinateString,i=0;i<s.children.length;i++){var o=s.children[i];this.objStart(o),this.line("/Title "+this.makeString(o.title)),this.line("/Parent "+this.makeRef(s)),i>0&&this.line("/Prev "+this.makeRef(s.children[i-1])),i<s.children.length-1&&this.line("/Next "+this.makeRef(s.children[i+1])),o.children.length>0&&(this.line("/First "+this.makeRef(o.children[0])),this.line("/Last "+this.makeRef(o.children[o.children.length-1])));var l=this.count=this.count_r({count:0},o);if(l>0&&this.line("/Count "+l),o.options&&o.options.pageNumber){var c=n.internal.getPageInfo(o.options.pageNumber);this.line("/Dest ["+c.objId+" 0 R /XYZ 0 "+a(0)+" 0]")}this.objEnd()}for(var d=0;d<s.children.length;d++)this.renderItems(s.children[d])},n.outline.line=function(s){this.ctx.val+=s+`\r
`},n.outline.makeRef=function(s){return s.id+" 0 R"},n.outline.makeString=function(s){return"("+n.internal.pdfEscape(s)+")"},n.outline.objStart=function(s){this.ctx.val+=`\r
`+s.id+` 0 obj\r
<<\r
`},n.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},n.outline.count_r=function(s,a){for(var i=0;i<a.children.length;i++)s.count++,this.count_r(s,a.children[i]);return s.count}}])}(wt.API),function(e){var r=[192,193,194,195,196,197,198,199];e.processJPEG=function(n,s,a,i,o,l){var c,d=this.decode.DCT_DECODE,m=null;if(typeof n=="string"||this.__addimage__.isArrayBuffer(n)||this.__addimage__.isArrayBufferView(n)){switch(n=o||n,n=this.__addimage__.isArrayBuffer(n)?new Uint8Array(n):n,(c=function(u){for(var h,p=256*u.charCodeAt(4)+u.charCodeAt(5),g=u.length,b={width:0,height:0,numcomponents:1},j=4;j<g;j+=2){if(j+=p,r.indexOf(u.charCodeAt(j+1))!==-1){h=256*u.charCodeAt(j+5)+u.charCodeAt(j+6),b={width:256*u.charCodeAt(j+7)+u.charCodeAt(j+8),height:h,numcomponents:u.charCodeAt(j+9)};break}p=256*u.charCodeAt(j+2)+u.charCodeAt(j+3)}return b}(n=this.__addimage__.isArrayBufferView(n)?this.__addimage__.arrayBufferToBinaryString(n):n)).numcomponents){case 1:l=this.color_spaces.DEVICE_GRAY;break;case 4:l=this.color_spaces.DEVICE_CMYK;break;case 3:l=this.color_spaces.DEVICE_RGB}m={data:n,width:c.width,height:c.height,colorSpace:l,bitsPerComponent:8,filter:d,index:s,alias:a}}return m}}(wt.API);var Fc,jh,A5,E5,I5,H$=function(){var e,r,n;function s(i){var o,l,c,d,m,u,h,p,g,b,j,x,v,y;for(this.data=i,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},u=null;;){switch(o=this.readUInt32(),g=(function(){var E,O;for(O=[],E=0;E<4;++E)O.push(String.fromCharCode(this.data[this.pos++]));return O}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(o);break;case"fcTL":u&&this.animation.frames.push(u),this.pos+=4,u={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},m=this.readUInt16(),d=this.readUInt16()||100,u.delay=1e3*m/d,u.disposeOp=this.data[this.pos++],u.blendOp=this.data[this.pos++],u.data=[];break;case"IDAT":case"fdAT":for(g==="fdAT"&&(this.pos+=4,o-=4),i=(u!=null?u.data:void 0)||this.imgData,x=0;0<=o?x<o:x>o;0<=o?++x:--x)i.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(c=this.palette.length/3,this.transparency.indexed=this.read(o),this.transparency.indexed.length>c)throw new Error("More transparent colors than palette size");if((b=c-this.transparency.indexed.length)>0)for(v=0;0<=b?v<b:v>b;0<=b?++v:--v)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(o)[0];break;case 2:this.transparency.rgb=this.read(o)}break;case"tEXt":h=(j=this.read(o)).indexOf(0),p=String.fromCharCode.apply(String,j.slice(0,h)),this.text[p]=String.fromCharCode.apply(String,j.slice(h+1));break;case"IEND":return u&&this.animation.frames.push(u),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=(y=this.colorType)===4||y===6,l=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*l,this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=o}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}s.prototype.read=function(i){var o,l;for(l=[],o=0;0<=i?o<i:o>i;0<=i?++o:--o)l.push(this.data[this.pos++]);return l},s.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},s.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},s.prototype.decodePixels=function(i){var o=this.pixelBitlength/8,l=new Uint8Array(this.width*this.height*o),c=0,d=this;if(i==null&&(i=this.imgData),i.length===0)return new Uint8Array(0);function m(u,h,p,g){var b,j,x,v,y,E,O,M,P,S,I,k,C,w,L,T,W,V,_,B,U,H=Math.ceil((d.width-u)/p),q=Math.ceil((d.height-h)/g),R=d.width==H&&d.height==q;for(w=o*H,k=R?l:new Uint8Array(w*q),E=i.length,C=0,j=0;C<q&&c<E;){switch(i[c++]){case 0:for(v=W=0;W<w;v=W+=1)k[j++]=i[c++];break;case 1:for(v=V=0;V<w;v=V+=1)b=i[c++],y=v<o?0:k[j-o],k[j++]=(b+y)%256;break;case 2:for(v=_=0;_<w;v=_+=1)b=i[c++],x=(v-v%o)/o,L=C&&k[(C-1)*w+x*o+v%o],k[j++]=(L+b)%256;break;case 3:for(v=B=0;B<w;v=B+=1)b=i[c++],x=(v-v%o)/o,y=v<o?0:k[j-o],L=C&&k[(C-1)*w+x*o+v%o],k[j++]=(b+Math.floor((y+L)/2))%256;break;case 4:for(v=U=0;U<w;v=U+=1)b=i[c++],x=(v-v%o)/o,y=v<o?0:k[j-o],C===0?L=T=0:(L=k[(C-1)*w+x*o+v%o],T=x&&k[(C-1)*w+(x-1)*o+v%o]),O=y+L-T,M=Math.abs(O-y),S=Math.abs(O-L),I=Math.abs(O-T),P=M<=S&&M<=I?y:S<=I?L:T,k[j++]=(b+P)%256;break;default:throw new Error("Invalid filter algorithm: "+i[c-1])}if(!R){var $=((h+C*g)*d.width+u)*o,G=C*w;for(v=0;v<H;v+=1){for(var X=0;X<o;X+=1)l[$++]=k[G++];$+=(p-1)*o}}C++}}return i=N$(i),d.interlaceMethod==1?(m(0,0,8,8),m(4,0,8,8),m(0,4,4,8),m(2,0,4,4),m(0,2,2,4),m(1,0,2,2),m(0,1,1,2)):m(0,0,1,1),l},s.prototype.decodePalette=function(){var i,o,l,c,d,m,u,h,p;for(l=this.palette,m=this.transparency.indexed||[],d=new Uint8Array((m.length||0)+l.length),c=0,i=0,o=u=0,h=l.length;u<h;o=u+=3)d[c++]=l[o],d[c++]=l[o+1],d[c++]=l[o+2],d[c++]=(p=m[i++])!=null?p:255;return d},s.prototype.copyToImageData=function(i,o){var l,c,d,m,u,h,p,g,b,j,x;if(c=this.colors,b=null,l=this.hasAlphaChannel,this.palette.length&&(b=(x=this._decodedPalette)!=null?x:this._decodedPalette=this.decodePalette(),c=4,l=!0),g=(d=i.data||i).length,u=b||o,m=h=0,c===1)for(;m<g;)p=b?4*o[m/4]:h,j=u[p++],d[m++]=j,d[m++]=j,d[m++]=j,d[m++]=l?u[p++]:255,h=p;else for(;m<g;)p=b?4*o[m/4]:h,d[m++]=u[p++],d[m++]=u[p++],d[m++]=u[p++],d[m++]=l?u[p++]:255,h=p},s.prototype.decode=function(){var i;return i=new Uint8Array(this.width*this.height*4),this.copyToImageData(i,this.decodePixels()),i};var a=function(){if(Object.prototype.toString.call(At)==="[object Window]"){try{r=At.document.createElement("canvas"),n=r.getContext("2d")}catch{return!1}return!0}return!1};return a(),e=function(i){var o;if(a()===!0)return n.width=i.width,n.height=i.height,n.clearRect(0,0,i.width,i.height),n.putImageData(i,0,0),(o=new Image).src=r.toDataURL(),o;throw new Error("This method requires a Browser with Canvas-capability.")},s.prototype.decodeFrames=function(i){var o,l,c,d,m,u,h,p;if(this.animation){for(p=[],l=m=0,u=(h=this.animation.frames).length;m<u;l=++m)o=h[l],c=i.createImageData(o.width,o.height),d=this.decodePixels(new Uint8Array(o.data)),this.copyToImageData(c,d),o.imageData=c,p.push(o.image=e(c));return p}},s.prototype.renderFrame=function(i,o){var l,c,d;return l=(c=this.animation.frames)[o],d=c[o-1],o===0&&i.clearRect(0,0,this.width,this.height),(d!=null?d.disposeOp:void 0)===1?i.clearRect(d.xOffset,d.yOffset,d.width,d.height):(d!=null?d.disposeOp:void 0)===2&&i.putImageData(d.imageData,d.xOffset,d.yOffset),l.blendOp===0&&i.clearRect(l.xOffset,l.yOffset,l.width,l.height),i.drawImage(l.image,l.xOffset,l.yOffset)},s.prototype.animate=function(i){var o,l,c,d,m,u,h=this;return l=0,u=this.animation,d=u.numFrames,c=u.frames,m=u.numPlays,(o=function(){var p,g;if(p=l++%d,g=c[p],h.renderFrame(i,p),d>1&&l/d<m)return h.animation._timeout=setTimeout(o,g.delay)})()},s.prototype.stopAnimation=function(){var i;return clearTimeout((i=this.animation)!=null?i._timeout:void 0)},s.prototype.render=function(i){var o,l;return i._png&&i._png.stopAnimation(),i._png=this,i.width=this.width,i.height=this.height,o=i.getContext("2d"),this.animation?(this.decodeFrames(o),this.animate(o)):(l=o.createImageData(this.width,this.height),this.copyToImageData(l,this.decodePixels()),o.putImageData(l,0,0))},s}();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function G$(e){var r=0;if(e[r++]!==71||e[r++]!==73||e[r++]!==70||e[r++]!==56||(e[r++]+1&253)!=56||e[r++]!==97)throw new Error("Invalid GIF 87a/89a header.");var n=e[r++]|e[r++]<<8,s=e[r++]|e[r++]<<8,a=e[r++],i=a>>7,o=1<<(7&a)+1;e[r++],e[r++];var l=null,c=null;i&&(l=r,c=o,r+=3*o);var d=!0,m=[],u=0,h=null,p=0,g=null;for(this.width=n,this.height=s;d&&r<e.length;)switch(e[r++]){case 33:switch(e[r++]){case 255:if(e[r]!==11||e[r+1]==78&&e[r+2]==69&&e[r+3]==84&&e[r+4]==83&&e[r+5]==67&&e[r+6]==65&&e[r+7]==80&&e[r+8]==69&&e[r+9]==50&&e[r+10]==46&&e[r+11]==48&&e[r+12]==3&&e[r+13]==1&&e[r+16]==0)r+=14,g=e[r++]|e[r++]<<8,r++;else for(r+=12;;){if(!((C=e[r++])>=0))throw Error("Invalid block size");if(C===0)break;r+=C}break;case 249:if(e[r++]!==4||e[r+4]!==0)throw new Error("Invalid graphics extension block.");var b=e[r++];u=e[r++]|e[r++]<<8,h=e[r++],!(1&b)&&(h=null),p=b>>2&7,r++;break;case 254:for(;;){if(!((C=e[r++])>=0))throw Error("Invalid block size");if(C===0)break;r+=C}break;default:throw new Error("Unknown graphic control label: 0x"+e[r-1].toString(16))}break;case 44:var j=e[r++]|e[r++]<<8,x=e[r++]|e[r++]<<8,v=e[r++]|e[r++]<<8,y=e[r++]|e[r++]<<8,E=e[r++],O=E>>6&1,M=1<<(7&E)+1,P=l,S=c,I=!1;E>>7&&(I=!0,P=r,S=M,r+=3*M);var k=r;for(r++;;){var C;if(!((C=e[r++])>=0))throw Error("Invalid block size");if(C===0)break;r+=C}m.push({x:j,y:x,width:v,height:y,has_local_palette:I,palette_offset:P,palette_size:S,data_offset:k,data_length:r-k,transparent_index:h,interlaced:!!O,delay:u,disposal:p});break;case 59:d=!1;break;default:throw new Error("Unknown gif block: 0x"+e[r-1].toString(16))}this.numFrames=function(){return m.length},this.loopCount=function(){return g},this.frameInfo=function(w){if(w<0||w>=m.length)throw new Error("Frame index out of range.");return m[w]},this.decodeAndBlitFrameBGRA=function(w,L){var T=this.frameInfo(w),W=T.width*T.height,V=new Uint8Array(W);P5(e,T.data_offset,V,W);var _=T.palette_offset,B=T.transparent_index;B===null&&(B=256);var U=T.width,H=n-U,q=U,R=4*(T.y*n+T.x),$=4*((T.y+T.height)*n+T.x),G=R,X=4*H;T.interlaced===!0&&(X+=4*n*7);for(var Z=8,le=0,ce=V.length;le<ce;++le){var de=V[le];if(q===0&&(q=U,(G+=X)>=$&&(X=4*H+4*n*(Z-1),G=R+(U+H)*(Z<<1),Z>>=1)),de===B)G+=4;else{var Se=e[_+3*de],ye=e[_+3*de+1],Ee=e[_+3*de+2];L[G++]=Ee,L[G++]=ye,L[G++]=Se,L[G++]=255}--q}},this.decodeAndBlitFrameRGBA=function(w,L){var T=this.frameInfo(w),W=T.width*T.height,V=new Uint8Array(W);P5(e,T.data_offset,V,W);var _=T.palette_offset,B=T.transparent_index;B===null&&(B=256);var U=T.width,H=n-U,q=U,R=4*(T.y*n+T.x),$=4*((T.y+T.height)*n+T.x),G=R,X=4*H;T.interlaced===!0&&(X+=4*n*7);for(var Z=8,le=0,ce=V.length;le<ce;++le){var de=V[le];if(q===0&&(q=U,(G+=X)>=$&&(X=4*H+4*n*(Z-1),G=R+(U+H)*(Z<<1),Z>>=1)),de===B)G+=4;else{var Se=e[_+3*de],ye=e[_+3*de+1],Ee=e[_+3*de+2];L[G++]=Se,L[G++]=ye,L[G++]=Ee,L[G++]=255}--q}}}function P5(e,r,n,s){for(var a=e[r++],i=1<<a,o=i+1,l=o+1,c=a+1,d=(1<<c)-1,m=0,u=0,h=0,p=e[r++],g=new Int32Array(4096),b=null;;){for(;m<16&&p!==0;)u|=e[r++]<<m,m+=8,p===1?p=e[r++]:--p;if(m<c)break;var j=u&d;if(u>>=c,m-=c,j!==i){if(j===o)break;for(var x=j<l?j:b,v=0,y=x;y>i;)y=g[y]>>8,++v;var E=y;if(h+v+(x!==j?1:0)>s)return void fr.log("Warning, gif stream longer than expected.");n[h++]=E;var O=h+=v;for(x!==j&&(n[h++]=E),y=x;v--;)y=g[y],n[--O]=255&y,y>>=8;b!==null&&l<4096&&(g[l++]=b<<8|E,l>=d+1&&c<12&&(++c,d=d<<1|1)),b=j}else l=o+1,d=(1<<(c=a+1))-1,b=null}return h!==s&&fr.log("Warning, gif stream shorter than expected."),n}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function zv(e){var r,n,s,a,i,o=Math.floor,l=new Array(64),c=new Array(64),d=new Array(64),m=new Array(64),u=new Array(65535),h=new Array(65535),p=new Array(64),g=new Array(64),b=[],j=0,x=7,v=new Array(64),y=new Array(64),E=new Array(64),O=new Array(256),M=new Array(2048),P=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],S=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],I=[0,1,2,3,4,5,6,7,8,9,10,11],k=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],C=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],w=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],L=[0,1,2,3,4,5,6,7,8,9,10,11],T=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],W=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function V(R,$){for(var G=0,X=0,Z=new Array,le=1;le<=16;le++){for(var ce=1;ce<=R[le];ce++)Z[$[X]]=[],Z[$[X]][0]=G,Z[$[X]][1]=le,X++,G++;G*=2}return Z}function _(R){for(var $=R[0],G=R[1]-1;G>=0;)$&1<<G&&(j|=1<<x),G--,--x<0&&(j==255?(B(255),B(0)):B(j),x=7,j=0)}function B(R){b.push(R)}function U(R){B(R>>8&255),B(255&R)}function H(R,$,G,X,Z){for(var le,ce=Z[0],de=Z[240],Se=function(ke,Ve){var Je,Qe,xt,De,We,st,mt,Nt,yt,It,Ke=0;for(yt=0;yt<8;++yt){Je=ke[Ke],Qe=ke[Ke+1],xt=ke[Ke+2],De=ke[Ke+3],We=ke[Ke+4],st=ke[Ke+5],mt=ke[Ke+6];var Zt=Je+(Nt=ke[Ke+7]),Ot=Je-Nt,an=Qe+mt,er=Qe-mt,ur=xt+st,is=xt-st,Ht=De+We,vi=De-We,Rr=Zt+Ht,ma=Zt-Ht,yi=an+ur,Fr=an-ur;ke[Ke]=Rr+yi,ke[Ke+4]=Rr-yi;var Tt=.707106781*(Fr+ma);ke[Ke+2]=ma+Tt,ke[Ke+6]=ma-Tt;var sr=.382683433*((Rr=vi+is)-(Fr=er+Ot)),sl=.5411961*Rr+sr,Sn=1.306562965*Fr+sr,Va=.707106781*(yi=is+er),Wa=Ot+Va,Ct=Ot-Va;ke[Ke+5]=Ct+sl,ke[Ke+3]=Ct-sl,ke[Ke+1]=Wa+Sn,ke[Ke+7]=Wa-Sn,Ke+=8}for(Ke=0,yt=0;yt<8;++yt){Je=ke[Ke],Qe=ke[Ke+8],xt=ke[Ke+16],De=ke[Ke+24],We=ke[Ke+32],st=ke[Ke+40],mt=ke[Ke+48];var pa=Je+(Nt=ke[Ke+56]),qa=Je-Nt,os=Qe+mt,on=Qe-mt,en=xt+st,Ns=xt-st,ec=De+We,bi=De-We,ha=pa+ec,fa=pa-ec,xa=os+en,Ha=os-en;ke[Ke]=ha+xa,ke[Ke+32]=ha-xa;var Hs=.707106781*(Ha+fa);ke[Ke+16]=fa+Hs,ke[Ke+48]=fa-Hs;var Ga=.382683433*((ha=bi+Ns)-(Ha=on+qa)),al=.5411961*ha+Ga,tc=1.306562965*Ha+Ga,rc=.707106781*(xa=Ns+on),nc=qa+rc,sc=qa-rc;ke[Ke+40]=sc+al,ke[Ke+24]=sc-al,ke[Ke+8]=nc+tc,ke[Ke+56]=nc-tc,Ke++}for(yt=0;yt<64;++yt)It=ke[yt]*Ve[yt],p[yt]=It>0?It+.5|0:It-.5|0;return p}(R,$),ye=0;ye<64;++ye)g[P[ye]]=Se[ye];var Ee=g[0]-G;G=g[0],Ee==0?_(X[0]):(_(X[h[le=32767+Ee]]),_(u[le]));for(var Fe=63;Fe>0&&g[Fe]==0;)Fe--;if(Fe==0)return _(ce),G;for(var he,ie=1;ie<=Fe;){for(var te=ie;g[ie]==0&&ie<=Fe;)++ie;var Ue=ie-te;if(Ue>=16){he=Ue>>4;for(var _e=1;_e<=he;++_e)_(de);Ue&=15}le=32767+g[ie],_(Z[(Ue<<4)+h[le]]),_(u[le]),ie++}return Fe!=63&&_(ce),G}function q(R){R=Math.min(Math.max(R,1),100),i!=R&&(function($){for(var G=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],X=0;X<64;X++){var Z=o((G[X]*$+50)/100);Z=Math.min(Math.max(Z,1),255),l[P[X]]=Z}for(var le=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],ce=0;ce<64;ce++){var de=o((le[ce]*$+50)/100);de=Math.min(Math.max(de,1),255),c[P[ce]]=de}for(var Se=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],ye=0,Ee=0;Ee<8;Ee++)for(var Fe=0;Fe<8;Fe++)d[ye]=1/(l[P[ye]]*Se[Ee]*Se[Fe]*8),m[ye]=1/(c[P[ye]]*Se[Ee]*Se[Fe]*8),ye++}(R<50?Math.floor(5e3/R):Math.floor(200-2*R)),i=R)}this.encode=function(R,$){$&&q($),b=new Array,j=0,x=7,U(65496),U(65504),U(16),B(74),B(70),B(73),B(70),B(0),B(1),B(1),B(0),U(1),U(1),B(0),B(0),function(){U(65499),U(132),B(0);for(var Qe=0;Qe<64;Qe++)B(l[Qe]);B(1);for(var xt=0;xt<64;xt++)B(c[xt])}(),function(Qe,xt){U(65472),U(17),B(8),U(xt),U(Qe),B(3),B(1),B(17),B(0),B(2),B(17),B(1),B(3),B(17),B(1)}(R.width,R.height),function(){U(65476),U(418),B(0);for(var Qe=0;Qe<16;Qe++)B(S[Qe+1]);for(var xt=0;xt<=11;xt++)B(I[xt]);B(16);for(var De=0;De<16;De++)B(k[De+1]);for(var We=0;We<=161;We++)B(C[We]);B(1);for(var st=0;st<16;st++)B(w[st+1]);for(var mt=0;mt<=11;mt++)B(L[mt]);B(17);for(var Nt=0;Nt<16;Nt++)B(T[Nt+1]);for(var yt=0;yt<=161;yt++)B(W[yt])}(),U(65498),U(12),B(3),B(1),B(0),B(2),B(17),B(3),B(17),B(0),B(63),B(0);var G=0,X=0,Z=0;j=0,x=7,this.encode.displayName="_encode_";for(var le,ce,de,Se,ye,Ee,Fe,he,ie,te=R.data,Ue=R.width,_e=R.height,ke=4*Ue,Ve=0;Ve<_e;){for(le=0;le<ke;){for(ye=ke*Ve+le,Fe=-1,he=0,ie=0;ie<64;ie++)Ee=ye+(he=ie>>3)*ke+(Fe=4*(7&ie)),Ve+he>=_e&&(Ee-=ke*(Ve+1+he-_e)),le+Fe>=ke&&(Ee-=le+Fe-ke+4),ce=te[Ee++],de=te[Ee++],Se=te[Ee++],v[ie]=(M[ce]+M[de+256>>0]+M[Se+512>>0]>>16)-128,y[ie]=(M[ce+768>>0]+M[de+1024>>0]+M[Se+1280>>0]>>16)-128,E[ie]=(M[ce+1280>>0]+M[de+1536>>0]+M[Se+1792>>0]>>16)-128;G=H(v,d,G,r,s),X=H(y,m,X,n,a),Z=H(E,m,Z,n,a),le+=32}Ve+=8}if(x>=0){var Je=[];Je[1]=x+1,Je[0]=(1<<x+1)-1,_(Je)}return U(65497),new Uint8Array(b)},e=e||50,function(){for(var R=String.fromCharCode,$=0;$<256;$++)O[$]=R($)}(),r=V(S,I),n=V(w,L),s=V(k,C),a=V(T,W),function(){for(var R=1,$=2,G=1;G<=15;G++){for(var X=R;X<$;X++)h[32767+X]=G,u[32767+X]=[],u[32767+X][1]=G,u[32767+X][0]=X;for(var Z=-($-1);Z<=-R;Z++)h[32767+Z]=G,u[32767+Z]=[],u[32767+Z][1]=G,u[32767+Z][0]=$-1+Z;R<<=1,$<<=1}}(),function(){for(var R=0;R<256;R++)M[R]=19595*R,M[R+256>>0]=38470*R,M[R+512>>0]=7471*R+32768,M[R+768>>0]=-11059*R,M[R+1024>>0]=-21709*R,M[R+1280>>0]=32768*R+8421375,M[R+1536>>0]=-27439*R,M[R+1792>>0]=-5329*R}(),q(e)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function Ca(e,r){if(this.pos=0,this.buffer=e,this.datav=new DataView(e.buffer),this.is_with_alpha=!!r,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function D5(e){function r(S){if(!S)throw Error("assert :P")}function n(S,I,k){for(var C=0;4>C;C++)if(S[I+C]!=k.charCodeAt(C))return!0;return!1}function s(S,I,k,C,w){for(var L=0;L<w;L++)S[I+L]=k[C+L]}function a(S,I,k,C){for(var w=0;w<C;w++)S[I+w]=k}function i(S){return new Int32Array(S)}function o(S,I){for(var k=[],C=0;C<S;C++)k.push(new I);return k}function l(S,I){var k=[];return function C(w,L,T){for(var W=T[L],V=0;V<W&&(w.push(T.length>L+1?[]:new I),!(T.length<L+1));V++)C(w[V],L+1,T)}(k,0,S),k}var c=function(){var S=this;function I(f,N){for(var F=1<<N-1>>>0;f&F;)F>>>=1;return F?(f&F-1)+F:f}function k(f,N,F,z,Q){r(!(z%F));do f[N+(z-=F)]=Q;while(0<z)}function C(f,N,F,z,Q){if(r(2328>=Q),512>=Q)var K=i(512);else if((K=i(Q))==null)return 0;return function(J,ee,re,ae,fe,Ce){var Ae,we,Be=ee,Pe=1<<re,xe=i(16),ge=i(16);for(r(fe!=0),r(ae!=null),r(J!=null),r(0<re),we=0;we<fe;++we){if(15<ae[we])return 0;++xe[ae[we]]}if(xe[0]==fe)return 0;for(ge[1]=0,Ae=1;15>Ae;++Ae){if(xe[Ae]>1<<Ae)return 0;ge[Ae+1]=ge[Ae]+xe[Ae]}for(we=0;we<fe;++we)Ae=ae[we],0<ae[we]&&(Ce[ge[Ae]++]=we);if(ge[15]==1)return(ae=new w).g=0,ae.value=Ce[0],k(J,Be,1,Pe,ae),Pe;var Oe,$e=-1,Me=Pe-1,dt=0,et=1,St=1,at=1<<re;for(we=0,Ae=1,fe=2;Ae<=re;++Ae,fe<<=1){if(et+=St<<=1,0>(St-=xe[Ae]))return 0;for(;0<xe[Ae];--xe[Ae])(ae=new w).g=Ae,ae.value=Ce[we++],k(J,Be+dt,fe,at,ae),dt=I(dt,Ae)}for(Ae=re+1,fe=2;15>=Ae;++Ae,fe<<=1){if(et+=St<<=1,0>(St-=xe[Ae]))return 0;for(;0<xe[Ae];--xe[Ae]){if(ae=new w,(dt&Me)!=$e){for(Be+=at,Oe=1<<($e=Ae)-re;15>$e&&!(0>=(Oe-=xe[$e]));)++$e,Oe<<=1;Pe+=at=1<<(Oe=$e-re),J[ee+($e=dt&Me)].g=Oe+re,J[ee+$e].value=Be-ee-$e}ae.g=Ae-re,ae.value=Ce[we++],k(J,Be+(dt>>re),fe,at,ae),dt=I(dt,Ae)}}return et!=2*ge[15]-1?0:Pe}(f,N,F,z,Q,K)}function w(){this.value=this.g=0}function L(){this.value=this.g=0}function T(){this.G=o(5,w),this.H=i(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=o(Cn,L)}function W(f,N,F,z){r(f!=null),r(N!=null),r(2147483648>z),f.Ca=254,f.I=0,f.b=-8,f.Ka=0,f.oa=N,f.pa=F,f.Jd=N,f.Yc=F+z,f.Zc=4<=z?F+z-4+1:F,le(f)}function V(f,N){for(var F=0;0<N--;)F|=de(f,128)<<N;return F}function _(f,N){var F=V(f,N);return ce(f)?-F:F}function B(f,N,F,z){var Q,K=0;for(r(f!=null),r(N!=null),r(4294967288>z),f.Sb=z,f.Ra=0,f.u=0,f.h=0,4<z&&(z=4),Q=0;Q<z;++Q)K+=N[F+Q]<<8*Q;f.Ra=K,f.bb=z,f.oa=N,f.pa=F}function U(f){for(;8<=f.u&&f.bb<f.Sb;)f.Ra>>>=8,f.Ra+=f.oa[f.pa+f.bb]<<yc-8>>>0,++f.bb,f.u-=8;G(f)&&(f.h=1,f.u=0)}function H(f,N){if(r(0<=N),!f.h&&N<=vc){var F=$(f)&gc[N];return f.u+=N,U(f),F}return f.h=1,f.u=0}function q(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function R(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function $(f){return f.Ra>>>(f.u&yc-1)>>>0}function G(f){return r(f.bb<=f.Sb),f.h||f.bb==f.Sb&&f.u>yc}function X(f,N){f.u=N,f.h=G(f)}function Z(f){f.u>=Zd&&(r(f.u>=Zd),U(f))}function le(f){r(f!=null&&f.oa!=null),f.pa<f.Zc?(f.I=(f.oa[f.pa++]|f.I<<8)>>>0,f.b+=8):(r(f!=null&&f.oa!=null),f.pa<f.Yc?(f.b+=8,f.I=f.oa[f.pa++]|f.I<<8):f.Ka?f.b=0:(f.I<<=8,f.b+=8,f.Ka=1))}function ce(f){return V(f,1)}function de(f,N){var F=f.Ca;0>f.b&&le(f);var z=f.b,Q=F*N>>>8,K=(f.I>>>z>Q)+0;for(K?(F-=Q,f.I-=Q+1<<z>>>0):F=Q+1,z=F,Q=0;256<=z;)Q+=8,z>>=8;return z=7^Q+cs[z],f.b-=z,f.Ca=(F<<z)-1,K}function Se(f,N,F){f[N+0]=F>>24&255,f[N+1]=F>>16&255,f[N+2]=F>>8&255,f[N+3]=F>>0&255}function ye(f,N){return f[N+0]<<0|f[N+1]<<8}function Ee(f,N){return ye(f,N)|f[N+2]<<16}function Fe(f,N){return ye(f,N)|ye(f,N+2)<<16}function he(f,N){var F=1<<N;return r(f!=null),r(0<N),f.X=i(F),f.X==null?0:(f.Mb=32-N,f.Xa=N,1)}function ie(f,N){r(f!=null),r(N!=null),r(f.Xa==N.Xa),s(N.X,0,f.X,0,1<<N.Xa)}function te(){this.X=[],this.Xa=this.Mb=0}function Ue(f,N,F,z){r(F!=null),r(z!=null);var Q=F[0],K=z[0];return Q==0&&(Q=(f*K+N/2)/N),K==0&&(K=(N*Q+f/2)/f),0>=Q||0>=K?0:(F[0]=Q,z[0]=K,1)}function _e(f,N){return f+(1<<N)-1>>>N}function ke(f,N){return((4278255360&f)+(4278255360&N)>>>0&4278255360)+((16711935&f)+(16711935&N)>>>0&16711935)>>>0}function Ve(f,N){S[N]=function(F,z,Q,K,J,ee,re){var ae;for(ae=0;ae<J;++ae){var fe=S[f](ee[re+ae-1],Q,K+ae);ee[re+ae]=ke(F[z+ae],fe)}}}function Je(){this.ud=this.hd=this.jd=0}function Qe(f,N){return((4278124286&(f^N))>>>1)+(f&N)>>>0}function xt(f){return 0<=f&&256>f?f:0>f?0:255<f?255:void 0}function De(f,N){return xt(f+(f-N+.5>>1))}function We(f,N,F){return Math.abs(N-F)-Math.abs(f-F)}function st(f,N,F,z,Q,K,J){for(z=K[J-1],F=0;F<Q;++F)K[J+F]=z=ke(f[N+F],z)}function mt(f,N,F,z,Q){var K;for(K=0;K<F;++K){var J=f[N+K],ee=J>>8&255,re=16711935&(re=(re=16711935&J)+((ee<<16)+ee));z[Q+K]=(4278255360&J)+re>>>0}}function Nt(f,N){N.jd=f>>0&255,N.hd=f>>8&255,N.ud=f>>16&255}function yt(f,N,F,z,Q,K){var J;for(J=0;J<z;++J){var ee=N[F+J],re=ee>>>8,ae=ee,fe=255&(fe=(fe=ee>>>16)+((f.jd<<24>>24)*(re<<24>>24)>>>5));ae=255&(ae=(ae=ae+((f.hd<<24>>24)*(re<<24>>24)>>>5))+((f.ud<<24>>24)*(fe<<24>>24)>>>5)),Q[K+J]=(4278255360&ee)+(fe<<16)+ae}}function It(f,N,F,z,Q){S[N]=function(K,J,ee,re,ae,fe,Ce,Ae,we){for(re=Ce;re<Ae;++re)for(Ce=0;Ce<we;++Ce)ae[fe++]=Q(ee[z(K[J++])])},S[f]=function(K,J,ee,re,ae,fe,Ce){var Ae=8>>K.b,we=K.Ea,Be=K.K[0],Pe=K.w;if(8>Ae)for(K=(1<<K.b)-1,Pe=(1<<Ae)-1;J<ee;++J){var xe,ge=0;for(xe=0;xe<we;++xe)xe&K||(ge=z(re[ae++])),fe[Ce++]=Q(Be[ge&Pe]),ge>>=Ae}else S["VP8LMapColor"+F](re,ae,Be,Pe,fe,Ce,J,ee,we)}}function Ke(f,N,F,z,Q){for(F=N+F;N<F;){var K=f[N++];z[Q++]=K>>16&255,z[Q++]=K>>8&255,z[Q++]=K>>0&255}}function Zt(f,N,F,z,Q){for(F=N+F;N<F;){var K=f[N++];z[Q++]=K>>16&255,z[Q++]=K>>8&255,z[Q++]=K>>0&255,z[Q++]=K>>24&255}}function Ot(f,N,F,z,Q){for(F=N+F;N<F;){var K=(J=f[N++])>>16&240|J>>12&15,J=J>>0&240|J>>28&15;z[Q++]=K,z[Q++]=J}}function an(f,N,F,z,Q){for(F=N+F;N<F;){var K=(J=f[N++])>>16&248|J>>13&7,J=J>>5&224|J>>3&31;z[Q++]=K,z[Q++]=J}}function er(f,N,F,z,Q){for(F=N+F;N<F;){var K=f[N++];z[Q++]=K>>0&255,z[Q++]=K>>8&255,z[Q++]=K>>16&255}}function ur(f,N,F,z,Q,K){if(K==0)for(F=N+F;N<F;)Se(z,((K=f[N++])[0]>>24|K[1]>>8&65280|K[2]<<8&16711680|K[3]<<24)>>>0),Q+=32;else s(z,Q,f,N,F)}function is(f,N){S[N][0]=S[f+"0"],S[N][1]=S[f+"1"],S[N][2]=S[f+"2"],S[N][3]=S[f+"3"],S[N][4]=S[f+"4"],S[N][5]=S[f+"5"],S[N][6]=S[f+"6"],S[N][7]=S[f+"7"],S[N][8]=S[f+"8"],S[N][9]=S[f+"9"],S[N][10]=S[f+"10"],S[N][11]=S[f+"11"],S[N][12]=S[f+"12"],S[N][13]=S[f+"13"],S[N][14]=S[f+"0"],S[N][15]=S[f+"0"]}function Ht(f){return f==pg||f==hg||f==Ap||f==fg}function vi(){this.eb=[],this.size=this.A=this.fb=0}function Rr(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function ma(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new vi,this.f.kb=new Rr,this.sd=null}function yi(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Fr(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Tt(f){return alert("todo:WebPSamplerProcessPlane"),f.T}function sr(f,N){var F=f.T,z=N.ba.f.RGBA,Q=z.eb,K=z.fb+f.ka*z.A,J=Xs[N.ba.S],ee=f.y,re=f.O,ae=f.f,fe=f.N,Ce=f.ea,Ae=f.W,we=N.cc,Be=N.dc,Pe=N.Mc,xe=N.Nc,ge=f.ka,Oe=f.ka+f.T,$e=f.U,Me=$e+1>>1;for(ge==0?J(ee,re,null,null,ae,fe,Ce,Ae,ae,fe,Ce,Ae,Q,K,null,null,$e):(J(N.ec,N.fc,ee,re,we,Be,Pe,xe,ae,fe,Ce,Ae,Q,K-z.A,Q,K,$e),++F);ge+2<Oe;ge+=2)we=ae,Be=fe,Pe=Ce,xe=Ae,fe+=f.Rc,Ae+=f.Rc,K+=2*z.A,J(ee,(re+=2*f.fa)-f.fa,ee,re,we,Be,Pe,xe,ae,fe,Ce,Ae,Q,K-z.A,Q,K,$e);return re+=f.fa,f.j+Oe<f.o?(s(N.ec,N.fc,ee,re,$e),s(N.cc,N.dc,ae,fe,Me),s(N.Mc,N.Nc,Ce,Ae,Me),F--):1&Oe||J(ee,re,null,null,ae,fe,Ce,Ae,ae,fe,Ce,Ae,Q,K+z.A,null,null,$e),F}function sl(f,N,F){var z=f.F,Q=[f.J];if(z!=null){var K=f.U,J=N.ba.S,ee=J==Cp||J==Ap;N=N.ba.f.RGBA;var re=[0],ae=f.ka;re[0]=f.T,f.Kb&&(ae==0?--re[0]:(--ae,Q[0]-=f.width),f.j+f.ka+f.T==f.o&&(re[0]=f.o-f.j-ae));var fe=N.eb;ae=N.fb+ae*N.A,f=vr(z,Q[0],f.width,K,re,fe,ae+(ee?0:3),N.A),r(F==re),f&&Ht(J)&&Ks(fe,ae,ee,K,re,N.A)}return 0}function Sn(f){var N=f.ma,F=N.ba.S,z=11>F,Q=F==Np||F==Sp||F==Cp||F==mg||F==12||Ht(F);if(N.memory=null,N.Ib=null,N.Jb=null,N.Nd=null,!Jd(N.Oa,f,Q?11:12))return 0;if(Q&&Ht(F)&&qe(),f.da)alert("todo:use_scaling");else{if(z){if(N.Ib=Tt,f.Kb){if(F=f.U+1>>1,N.memory=i(f.U+2*F),N.memory==null)return 0;N.ec=N.memory,N.fc=0,N.cc=N.ec,N.dc=N.fc+f.U,N.Mc=N.cc,N.Nc=N.dc+F,N.Ib=sr,qe()}}else alert("todo:EmitYUV");Q&&(N.Jb=sl,z&&Ne())}if(z&&!O2){for(f=0;256>f;++f)UE[f]=89858*(f-128)+Ip>>Ep,qE[f]=-22014*(f-128)+Ip,WE[f]=-45773*(f-128),VE[f]=113618*(f-128)+Ip>>Ep;for(f=iu;f<vg;++f)N=76283*(f-16)+Ip>>Ep,HE[f-iu]=Ss(N,255),GE[f-iu]=Ss(N+8>>4,15);O2=1}return 1}function Va(f){var N=f.ma,F=f.U,z=f.T;return r(!(1&f.ka)),0>=F||0>=z?0:(F=N.Ib(f,N),N.Jb!=null&&N.Jb(f,N,F),N.Dc+=F,1)}function Wa(f){f.ma.memory=null}function Ct(f,N,F,z){return H(f,8)!=47?0:(N[0]=H(f,14)+1,F[0]=H(f,14)+1,z[0]=H(f,1),H(f,3)!=0?0:!f.h)}function pa(f,N){if(4>f)return f+1;var F=f-2>>1;return(2+(1&f)<<F)+H(N,F)+1}function qa(f,N){return 120<N?N-120:1<=(F=((F=IE[N-1])>>4)*f+(8-(15&F)))?F:1;var F}function os(f,N,F){var z=$(F),Q=f[N+=255&z].g-8;return 0<Q&&(X(F,F.u+8),z=$(F),N+=f[N].value,N+=z&(1<<Q)-1),X(F,F.u+f[N].g),f[N].value}function on(f,N,F){return F.g+=f.g,F.value+=f.value<<N>>>0,r(8>=F.g),f.g}function en(f,N,F){var z=f.xc;return r((N=z==0?0:f.vc[f.md*(F>>z)+(N>>z)])<f.Wb),f.Ya[N]}function Ns(f,N,F,z){var Q=f.ab,K=f.c*N,J=f.C;N=J+N;var ee=F,re=z;for(z=f.Ta,F=f.Ua;0<Q--;){var ae=f.gc[Q],fe=J,Ce=N,Ae=ee,we=re,Be=(re=z,ee=F,ae.Ea);switch(r(fe<Ce),r(Ce<=ae.nc),ae.hc){case 2:xp(Ae,we,(Ce-fe)*Be,re,ee);break;case 0:var Pe=fe,xe=Ce,ge=re,Oe=ee,$e=(at=ae).Ea;Pe==0&&(dg(Ae,we,null,null,1,ge,Oe),st(Ae,we+1,0,0,$e-1,ge,Oe+1),we+=$e,Oe+=$e,++Pe);for(var Me=1<<at.b,dt=Me-1,et=_e($e,at.b),St=at.K,at=at.w+(Pe>>at.b)*et;Pe<xe;){var tr=St,ar=at,Yt=1;for(eu(Ae,we,ge,Oe-$e,1,ge,Oe);Yt<$e;){var $t=(Yt&~dt)+Me;$t>$e&&($t=$e),(0,Zi[tr[ar++]>>8&15])(Ae,we+ +Yt,ge,Oe+Yt-$e,$t-Yt,ge,Oe+Yt),Yt=$t}we+=$e,Oe+=$e,++Pe&dt||(at+=et)}Ce!=ae.nc&&s(re,ee-Be,re,ee+(Ce-fe-1)*Be,Be);break;case 1:for(Be=Ae,xe=we,$e=(Ae=ae.Ea)-(Oe=Ae&~(ge=(we=1<<ae.b)-1)),Pe=_e(Ae,ae.b),Me=ae.K,ae=ae.w+(fe>>ae.b)*Pe;fe<Ce;){for(dt=Me,et=ae,St=new Je,at=xe+Oe,tr=xe+Ae;xe<at;)Nt(dt[et++],St),dl(St,Be,xe,we,re,ee),xe+=we,ee+=we;xe<tr&&(Nt(dt[et++],St),dl(St,Be,xe,$e,re,ee),xe+=$e,ee+=$e),++fe&ge||(ae+=Pe)}break;case 3:if(Ae==re&&we==ee&&0<ae.b){for(xe=re,Ae=Be=ee+(Ce-fe)*Be-(Oe=(Ce-fe)*_e(ae.Ea,ae.b)),we=re,ge=ee,Pe=[],Oe=($e=Oe)-1;0<=Oe;--Oe)Pe[Oe]=we[ge+Oe];for(Oe=$e-1;0<=Oe;--Oe)xe[Ae+Oe]=Pe[Oe];Gs(ae,fe,Ce,re,Be,re,ee)}else Gs(ae,fe,Ce,Ae,we,re,ee)}ee=z,re=F}re!=F&&s(z,F,ee,re,K)}function ec(f,N){var F=f.V,z=f.Ba+f.c*f.C,Q=N-f.C;if(r(N<=f.l.o),r(16>=Q),0<Q){var K=f.l,J=f.Ta,ee=f.Ua,re=K.width;if(Ns(f,Q,F,z),Q=ee=[ee],r((F=f.C)<(z=N)),r(K.v<K.va),z>K.o&&(z=K.o),F<K.j){var ae=K.j-F;F=K.j,Q[0]+=ae*re}if(F>=z?F=0:(Q[0]+=4*K.v,K.ka=F-K.j,K.U=K.va-K.v,K.T=z-F,F=1),F){if(ee=ee[0],11>(F=f.ca).S){var fe=F.f.RGBA,Ce=(z=F.S,Q=K.U,K=K.T,ae=fe.eb,fe.A),Ae=K;for(fe=fe.fb+f.Ma*fe.A;0<Ae--;){var we=J,Be=ee,Pe=Q,xe=ae,ge=fe;switch(z){case wp:ds(we,Be,Pe,xe,ge);break;case Np:Xn(we,Be,Pe,xe,ge);break;case pg:Xn(we,Be,Pe,xe,ge),Ks(xe,ge,0,Pe,1,0);break;case E2:Si(we,Be,Pe,xe,ge);break;case Sp:ur(we,Be,Pe,xe,ge,1);break;case hg:ur(we,Be,Pe,xe,ge,1),Ks(xe,ge,0,Pe,1,0);break;case Cp:ur(we,Be,Pe,xe,ge,0);break;case Ap:ur(we,Be,Pe,xe,ge,0),Ks(xe,ge,1,Pe,1,0);break;case mg:eo(we,Be,Pe,xe,ge);break;case fg:eo(we,Be,Pe,xe,ge),gr(xe,ge,Pe,1,0);break;case I2:Ni(we,Be,Pe,xe,ge);break;default:r(0)}ee+=re,fe+=Ce}f.Ma+=K}else alert("todo:EmitRescaledRowsYUVA");r(f.Ma<=F.height)}}f.C=N,r(f.C<=f.i)}function bi(f){var N;if(0<f.ua)return 0;for(N=0;N<f.Wb;++N){var F=f.Ya[N].G,z=f.Ya[N].H;if(0<F[1][z[1]+0].g||0<F[2][z[2]+0].g||0<F[3][z[3]+0].g)return 0}return 1}function ha(f,N,F,z,Q,K){if(f.Z!=0){var J=f.qd,ee=f.rd;for(r(so[f.Z]!=null);N<F;++N)so[f.Z](J,ee,z,Q,z,Q,K),J=z,ee=Q,Q+=K;f.qd=J,f.rd=ee}}function fa(f,N){var F=f.l.ma,z=F.Z==0||F.Z==1?f.l.j:f.C;if(z=f.C<z?z:f.C,r(N<=f.l.o),N>z){var Q=f.l.width,K=F.ca,J=F.tb+Q*z,ee=f.V,re=f.Ba+f.c*z,ae=f.gc;r(f.ab==1),r(ae[0].hc==3),gp(ae[0],z,N,ee,re,K,J),ha(F,z,N,K,J,Q)}f.C=f.Ma=N}function xa(f,N,F,z,Q,K,J){var ee=f.$/z,re=f.$%z,ae=f.m,fe=f.s,Ce=F+f.$,Ae=Ce;Q=F+z*Q;var we=F+z*K,Be=280+fe.ua,Pe=f.Pb?ee:16777216,xe=0<fe.ua?fe.Wa:null,ge=fe.wc,Oe=Ce<we?en(fe,re,ee):null;r(f.C<K),r(we<=Q);var $e=!1;e:for(;;){for(;$e||Ce<we;){var Me=0;if(ee>=Pe){var dt=Ce-F;r((Pe=f).Pb),Pe.wd=Pe.m,Pe.xd=dt,0<Pe.s.ua&&ie(Pe.s.Wa,Pe.s.vb),Pe=ee+DE}if(re&ge||(Oe=en(fe,re,ee)),r(Oe!=null),Oe.Qb&&(N[Ce]=Oe.qb,$e=!0),!$e)if(Z(ae),Oe.jc){Me=ae,dt=N;var et=Ce,St=Oe.pd[$(Me)&Cn-1];r(Oe.jc),256>St.g?(X(Me,Me.u+St.g),dt[et]=St.value,Me=0):(X(Me,Me.u+St.g-256),r(256<=St.value),Me=St.value),Me==0&&($e=!0)}else Me=os(Oe.G[0],Oe.H[0],ae);if(ae.h)break;if($e||256>Me){if(!$e)if(Oe.nd)N[Ce]=(Oe.qb|Me<<8)>>>0;else{if(Z(ae),$e=os(Oe.G[1],Oe.H[1],ae),Z(ae),dt=os(Oe.G[2],Oe.H[2],ae),et=os(Oe.G[3],Oe.H[3],ae),ae.h)break;N[Ce]=(et<<24|$e<<16|Me<<8|dt)>>>0}if($e=!1,++Ce,++re>=z&&(re=0,++ee,J!=null&&ee<=K&&!(ee%16)&&J(f,ee),xe!=null))for(;Ae<Ce;)Me=N[Ae++],xe.X[(506832829*Me&4294967295)>>>xe.Mb]=Me}else if(280>Me){if(Me=pa(Me-256,ae),dt=os(Oe.G[4],Oe.H[4],ae),Z(ae),dt=qa(z,dt=pa(dt,ae)),ae.h)break;if(Ce-F<dt||Q-Ce<Me)break e;for(et=0;et<Me;++et)N[Ce+et]=N[Ce+et-dt];for(Ce+=Me,re+=Me;re>=z;)re-=z,++ee,J!=null&&ee<=K&&!(ee%16)&&J(f,ee);if(r(Ce<=Q),re&ge&&(Oe=en(fe,re,ee)),xe!=null)for(;Ae<Ce;)Me=N[Ae++],xe.X[(506832829*Me&4294967295)>>>xe.Mb]=Me}else{if(!(Me<Be))break e;for($e=Me-280,r(xe!=null);Ae<Ce;)Me=N[Ae++],xe.X[(506832829*Me&4294967295)>>>xe.Mb]=Me;Me=Ce,r(!($e>>>(dt=xe).Xa)),N[Me]=dt.X[$e],$e=!0}$e||r(ae.h==G(ae))}if(f.Pb&&ae.h&&Ce<Q)r(f.m.h),f.a=5,f.m=f.wd,f.$=f.xd,0<f.s.ua&&ie(f.s.vb,f.s.Wa);else{if(ae.h)break e;J!=null&&J(f,ee>K?K:ee),f.a=0,f.$=Ce-F}return 1}return f.a=3,0}function Ha(f){r(f!=null),f.vc=null,f.yc=null,f.Ya=null;var N=f.Wa;N!=null&&(N.X=null),f.vb=null,r(f!=null)}function Hs(){var f=new cg;return f==null?null:(f.a=0,f.xb=k2,is("Predictor","VP8LPredictors"),is("Predictor","VP8LPredictors_C"),is("PredictorAdd","VP8LPredictorsAdd"),is("PredictorAdd","VP8LPredictorsAdd_C"),xp=mt,dl=yt,ds=Ke,Xn=Zt,eo=Ot,Ni=an,Si=er,S.VP8LMapColor32b=bc,S.VP8LMapColor8b=vp,f)}function Ga(f,N,F,z,Q){var K=1,J=[f],ee=[N],re=z.m,ae=z.s,fe=null,Ce=0;e:for(;;){if(F)for(;K&&H(re,1);){var Ae=J,we=ee,Be=z,Pe=1,xe=Be.m,ge=Be.gc[Be.ab],Oe=H(xe,2);if(Be.Oc&1<<Oe)K=0;else{switch(Be.Oc|=1<<Oe,ge.hc=Oe,ge.Ea=Ae[0],ge.nc=we[0],ge.K=[null],++Be.ab,r(4>=Be.ab),Oe){case 0:case 1:ge.b=H(xe,3)+2,Pe=Ga(_e(ge.Ea,ge.b),_e(ge.nc,ge.b),0,Be,ge.K),ge.K=ge.K[0];break;case 3:var $e,Me=H(xe,8)+1,dt=16<Me?0:4<Me?1:2<Me?2:3;if(Ae[0]=_e(ge.Ea,dt),ge.b=dt,$e=Pe=Ga(Me,1,0,Be,ge.K)){var et,St=Me,at=ge,tr=1<<(8>>at.b),ar=i(tr);if(ar==null)$e=0;else{var Yt=at.K[0],$t=at.w;for(ar[0]=at.K[0][0],et=1;et<1*St;++et)ar[et]=ke(Yt[$t+et],ar[et-1]);for(;et<4*tr;++et)ar[et]=0;at.K[0]=null,at.K[0]=ar,$e=1}}Pe=$e;break;case 2:break;default:r(0)}K=Pe}}if(J=J[0],ee=ee[0],K&&H(re,1)&&!(K=1<=(Ce=H(re,4))&&11>=Ce)){z.a=3;break e}var pr;if(pr=K)t:{var mr,Mt,rn,us=z,nn=J,ms=ee,ir=Ce,As=F,Es=us.m,fn=us.s,An=[null],es=1,Zs=0,Ja=PE[ir];r:for(;;){if(As&&H(Es,1)){var xn=H(Es,3)+2,Ii=_e(nn,xn),fl=_e(ms,xn),Cc=Ii*fl;if(!Ga(Ii,fl,0,us,An))break r;for(An=An[0],fn.xc=xn,mr=0;mr<Cc;++mr){var ao=An[mr]>>8&65535;An[mr]=ao,ao>=es&&(es=ao+1)}}if(Es.h)break r;for(Mt=0;5>Mt;++Mt){var Or=P2[Mt];!Mt&&0<ir&&(Or+=1<<ir),Zs<Or&&(Zs=Or)}var yg=o(es*Ja,w),z2=es,$2=o(z2,T);if($2==null)var Dp=null;else r(65536>=z2),Dp=$2;var ou=i(Zs);if(Dp==null||ou==null||yg==null){us.a=1;break r}var kp=yg;for(mr=rn=0;mr<es;++mr){var ja=Dp[mr],Ac=ja.G,Ec=ja.H,U2=0,Tp=1,V2=0;for(Mt=0;5>Mt;++Mt){Or=P2[Mt],Ac[Mt]=kp,Ec[Mt]=rn,!Mt&&0<ir&&(Or+=1<<ir);s:{var Lp,bg=Or,Rp=us,lu=ou,KE=kp,JE=rn,jg=0,io=Rp.m,XE=H(io,1);if(a(lu,0,0,bg),XE){var ZE=H(io,1)+1,e6=H(io,1),W2=H(io,e6==0?1:8);lu[W2]=1,ZE==2&&(lu[W2=H(io,8)]=1);var Fp=1}else{var q2=i(19),H2=H(io,4)+4;if(19<H2){Rp.a=3;var _p=0;break s}for(Lp=0;Lp<H2;++Lp)q2[EE[Lp]]=H(io,3);var wg=void 0,cu=void 0,G2=Rp,t6=q2,Op=bg,Q2=lu,Ng=0,oo=G2.m,Y2=8,K2=o(128,w);n:for(;C(K2,0,7,t6,19);){if(H(oo,1)){var r6=2+2*H(oo,3);if((wg=2+H(oo,r6))>Op)break n}else wg=Op;for(cu=0;cu<Op&&wg--;){Z(oo);var J2=K2[0+(127&$(oo))];X(oo,oo.u+J2.g);var Ic=J2.value;if(16>Ic)Q2[cu++]=Ic,Ic!=0&&(Y2=Ic);else{var n6=Ic==16,X2=Ic-16,s6=CE[X2],Z2=H(oo,SE[X2])+s6;if(cu+Z2>Op)break n;for(var a6=n6?Y2:0;0<Z2--;)Q2[cu++]=a6}}Ng=1;break n}Ng||(G2.a=3),Fp=Ng}(Fp=Fp&&!io.h)&&(jg=C(KE,JE,8,lu,bg)),Fp&&jg!=0?_p=jg:(Rp.a=3,_p=0)}if(_p==0)break r;if(Tp&&AE[Mt]==1&&(Tp=kp[rn].g==0),U2+=kp[rn].g,rn+=_p,3>=Mt){var du,Sg=ou[0];for(du=1;du<Or;++du)ou[du]>Sg&&(Sg=ou[du]);V2+=Sg}}if(ja.nd=Tp,ja.Qb=0,Tp&&(ja.qb=(Ac[3][Ec[3]+0].value<<24|Ac[1][Ec[1]+0].value<<16|Ac[2][Ec[2]+0].value)>>>0,U2==0&&256>Ac[0][Ec[0]+0].value&&(ja.Qb=1,ja.qb+=Ac[0][Ec[0]+0].value<<8)),ja.jc=!ja.Qb&&6>V2,ja.jc){var Mp,Pi=ja;for(Mp=0;Mp<Cn;++Mp){var lo=Mp,co=Pi.pd[lo],Bp=Pi.G[0][Pi.H[0]+lo];256<=Bp.value?(co.g=Bp.g+256,co.value=Bp.value):(co.g=0,co.value=0,lo>>=on(Bp,8,co),lo>>=on(Pi.G[1][Pi.H[1]+lo],16,co),lo>>=on(Pi.G[2][Pi.H[2]+lo],0,co),on(Pi.G[3][Pi.H[3]+lo],24,co))}}}fn.vc=An,fn.Wb=es,fn.Ya=Dp,fn.yc=yg,pr=1;break t}pr=0}if(!(K=pr)){z.a=3;break e}if(0<Ce){if(ae.ua=1<<Ce,!he(ae.Wa,Ce)){z.a=1,K=0;break e}}else ae.ua=0;var Cg=z,eb=J,i6=ee,Ag=Cg.s,Eg=Ag.xc;if(Cg.c=eb,Cg.i=i6,Ag.md=_e(eb,Eg),Ag.wc=Eg==0?-1:(1<<Eg)-1,F){z.xb=OE;break e}if((fe=i(J*ee))==null){z.a=1,K=0;break e}K=(K=xa(z,fe,0,J,ee,ee,null))&&!re.h;break e}return K?(Q!=null?Q[0]=fe:(r(fe==null),r(F)),z.$=0,F||Ha(ae)):Ha(ae),K}function al(f,N){var F=f.c*f.i,z=F+N+16*N;return r(f.c<=N),f.V=i(z),f.V==null?(f.Ta=null,f.Ua=0,f.a=1,0):(f.Ta=f.V,f.Ua=f.Ba+F+N,1)}function tc(f,N){var F=f.C,z=N-F,Q=f.V,K=f.Ba+f.c*F;for(r(N<=f.l.o);0<z;){var J=16<z?16:z,ee=f.l.ma,re=f.l.width,ae=re*J,fe=ee.ca,Ce=ee.tb+re*F,Ae=f.Ta,we=f.Ua;Ns(f,J,Q,K),qr(Ae,we,fe,Ce,ae),ha(ee,F,F+J,fe,Ce,re),z-=J,Q+=J*f.c,F+=J}r(F==N),f.C=f.Ma=N}function rc(){this.ub=this.yd=this.td=this.Rb=0}function nc(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function sc(){this.Fb=this.Bb=this.Cb=0,this.Zb=i(4),this.Lb=i(4)}function Km(){this.Yb=function(){var f=[];return function N(F,z,Q){for(var K=Q[z],J=0;J<K&&(F.push(Q.length>z+1?[]:0),!(Q.length<z+1));J++)N(F[J],z+1,Q)}(f,0,[3,11]),f}()}function zx(){this.jb=i(3),this.Wc=l([4,8],Km),this.Xc=l([4,17],Km)}function $x(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new i(4),this.od=new i(4)}function ac(){this.ld=this.La=this.dd=this.tc=0}function Jm(){this.Na=this.la=0}function Ux(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Fd(){this.ad=i(384),this.Za=0,this.Ob=i(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Vx(){this.uc=this.M=this.Nb=0,this.wa=Array(new ac),this.Y=0,this.ya=Array(new Fd),this.aa=0,this.l=new ic}function Xm(){this.y=i(16),this.f=i(8),this.ea=i(8)}function Wx(){this.cb=this.a=0,this.sc="",this.m=new q,this.Od=new rc,this.Kc=new nc,this.ed=new $x,this.Qa=new sc,this.Ic=this.$c=this.Aa=0,this.D=new Vx,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=o(8,q),this.ia=0,this.pb=o(4,Ux),this.Pa=new zx,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Xm),this.Hd=0,this.rb=Array(new Jm),this.sb=0,this.wa=Array(new ac),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Fd),this.L=this.aa=0,this.gd=l([4,2],ac),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function ic(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function qx(){var f=new Wx;return f!=null&&(f.a=0,f.sc="OK",f.cb=0,f.Xb=0,au||(au=tp)),f}function Vr(f,N,F){return f.a==0&&(f.a=N,f.sc=F,f.cb=0),0}function Zm(f,N,F){return 3<=F&&f[N+0]==157&&f[N+1]==1&&f[N+2]==42}function ep(f,N){if(f==null)return 0;if(f.a=0,f.sc="OK",N==null)return Vr(f,2,"null VP8Io passed to VP8GetHeaders()");var F=N.data,z=N.w,Q=N.ha;if(4>Q)return Vr(f,7,"Truncated header.");var K=F[z+0]|F[z+1]<<8|F[z+2]<<16,J=f.Od;if(J.Rb=!(1&K),J.td=K>>1&7,J.yd=K>>4&1,J.ub=K>>5,3<J.td)return Vr(f,3,"Incorrect keyframe parameters.");if(!J.yd)return Vr(f,4,"Frame not displayable.");z+=3,Q-=3;var ee=f.Kc;if(J.Rb){if(7>Q)return Vr(f,7,"cannot parse picture header");if(!Zm(F,z,Q))return Vr(f,3,"Bad code word");ee.c=16383&(F[z+4]<<8|F[z+3]),ee.Td=F[z+4]>>6,ee.i=16383&(F[z+6]<<8|F[z+5]),ee.Ud=F[z+6]>>6,z+=7,Q-=7,f.za=ee.c+15>>4,f.Ub=ee.i+15>>4,N.width=ee.c,N.height=ee.i,N.Da=0,N.j=0,N.v=0,N.va=N.width,N.o=N.height,N.da=0,N.ib=N.width,N.hb=N.height,N.U=N.width,N.T=N.height,a((K=f.Pa).jb,0,255,K.jb.length),r((K=f.Qa)!=null),K.Cb=0,K.Bb=0,K.Fb=1,a(K.Zb,0,0,K.Zb.length),a(K.Lb,0,0,K.Lb)}if(J.ub>Q)return Vr(f,7,"bad partition length");W(K=f.m,F,z,J.ub),z+=J.ub,Q-=J.ub,J.Rb&&(ee.Ld=ce(K),ee.Kd=ce(K)),ee=f.Qa;var re,ae=f.Pa;if(r(K!=null),r(ee!=null),ee.Cb=ce(K),ee.Cb){if(ee.Bb=ce(K),ce(K)){for(ee.Fb=ce(K),re=0;4>re;++re)ee.Zb[re]=ce(K)?_(K,7):0;for(re=0;4>re;++re)ee.Lb[re]=ce(K)?_(K,6):0}if(ee.Bb)for(re=0;3>re;++re)ae.jb[re]=ce(K)?V(K,8):255}else ee.Bb=0;if(K.Ka)return Vr(f,3,"cannot parse segment header");if((ee=f.ed).zd=ce(K),ee.Tb=V(K,6),ee.wb=V(K,3),ee.Pc=ce(K),ee.Pc&&ce(K)){for(ae=0;4>ae;++ae)ce(K)&&(ee.vd[ae]=_(K,6));for(ae=0;4>ae;++ae)ce(K)&&(ee.od[ae]=_(K,6))}if(f.L=ee.Tb==0?0:ee.zd?1:2,K.Ka)return Vr(f,3,"cannot parse filter header");var fe=Q;if(Q=re=z,z=re+fe,ee=fe,f.Xb=(1<<V(f.m,2))-1,fe<3*(ae=f.Xb))F=7;else{for(re+=3*ae,ee-=3*ae,fe=0;fe<ae;++fe){var Ce=F[Q+0]|F[Q+1]<<8|F[Q+2]<<16;Ce>ee&&(Ce=ee),W(f.Jc[+fe],F,re,Ce),re+=Ce,ee-=Ce,Q+=3}W(f.Jc[+ae],F,re,ee),F=re<z?0:5}if(F!=0)return Vr(f,F,"cannot parse partitions");for(F=V(re=f.m,7),Q=ce(re)?_(re,4):0,z=ce(re)?_(re,4):0,ee=ce(re)?_(re,4):0,ae=ce(re)?_(re,4):0,re=ce(re)?_(re,4):0,fe=f.Qa,Ce=0;4>Ce;++Ce){if(fe.Cb){var Ae=fe.Zb[Ce];fe.Fb||(Ae+=F)}else{if(0<Ce){f.pb[Ce]=f.pb[0];continue}Ae=F}var we=f.pb[Ce];we.Sc[0]=xg[Ss(Ae+Q,127)],we.Sc[1]=gg[Ss(Ae+0,127)],we.Eb[0]=2*xg[Ss(Ae+z,127)],we.Eb[1]=101581*gg[Ss(Ae+ee,127)]>>16,8>we.Eb[1]&&(we.Eb[1]=8),we.Qc[0]=xg[Ss(Ae+ae,117)],we.Qc[1]=gg[Ss(Ae+re,127)],we.lc=Ae+re}if(!J.Rb)return Vr(f,4,"Not a key frame.");for(ce(K),J=f.Pa,F=0;4>F;++F){for(Q=0;8>Q;++Q)for(z=0;3>z;++z)for(ee=0;11>ee;++ee)ae=de(K,FE[F][Q][z][ee])?V(K,8):LE[F][Q][z][ee],J.Wc[F][Q].Yb[z][ee]=ae;for(Q=0;17>Q;++Q)J.Xc[F][Q]=J.Wc[F][_E[Q]]}return f.kc=ce(K),f.kc&&(f.Bd=V(K,8)),f.cb=1}function tp(f,N,F,z,Q,K,J){var ee=N[Q].Yb[F];for(F=0;16>Q;++Q){if(!de(f,ee[F+0]))return Q;for(;!de(f,ee[F+1]);)if(ee=N[++Q].Yb[0],F=0,Q==16)return 16;var re=N[Q+1].Yb;if(de(f,ee[F+2])){var ae=f,fe=0;if(de(ae,(Ae=ee)[(Ce=F)+3]))if(de(ae,Ae[Ce+6])){for(ee=0,Ce=2*(fe=de(ae,Ae[Ce+8]))+(Ae=de(ae,Ae[Ce+9+fe])),fe=0,Ae=kE[Ce];Ae[ee];++ee)fe+=fe+de(ae,Ae[ee]);fe+=3+(8<<Ce)}else de(ae,Ae[Ce+7])?(fe=7+2*de(ae,165),fe+=de(ae,145)):fe=5+de(ae,159);else fe=de(ae,Ae[Ce+4])?3+de(ae,Ae[Ce+5]):2;ee=re[2]}else fe=1,ee=re[1];re=J+TE[Q],0>(ae=f).b&&le(ae);var Ce,Ae=ae.b,we=(Ce=ae.Ca>>1)-(ae.I>>Ae)>>31;--ae.b,ae.Ca+=we,ae.Ca|=1,ae.I-=(Ce+1&we)<<Ae,K[re]=((fe^we)-we)*z[(0<Q)+0]}return 16}function _d(f){var N=f.rb[f.sb-1];N.la=0,N.Na=0,a(f.zc,0,0,f.zc.length),f.ja=0}function Hx(f,N){if(f==null)return 0;if(N==null)return Vr(f,2,"NULL VP8Io parameter in VP8Decode().");if(!f.cb&&!ep(f,N))return 0;if(r(f.cb),N.ac==null||N.ac(N)){N.ob&&(f.L=0);var F=Pp[f.L];if(f.L==2?(f.yb=0,f.zb=0):(f.yb=N.v-F>>4,f.zb=N.j-F>>4,0>f.yb&&(f.yb=0),0>f.zb&&(f.zb=0)),f.Va=N.o+15+F>>4,f.Hb=N.va+15+F>>4,f.Hb>f.za&&(f.Hb=f.za),f.Va>f.Ub&&(f.Va=f.Ub),0<f.L){var z=f.ed;for(F=0;4>F;++F){var Q;if(f.Qa.Cb){var K=f.Qa.Lb[F];f.Qa.Fb||(K+=z.Tb)}else K=z.Tb;for(Q=0;1>=Q;++Q){var J=f.gd[F][Q],ee=K;if(z.Pc&&(ee+=z.vd[0],Q&&(ee+=z.od[0])),0<(ee=0>ee?0:63<ee?63:ee)){var re=ee;0<z.wb&&(re=4<z.wb?re>>2:re>>1)>9-z.wb&&(re=9-z.wb),1>re&&(re=1),J.dd=re,J.tc=2*ee+re,J.ld=40<=ee?2:15<=ee?1:0}else J.tc=0;J.La=Q}}}F=0}else Vr(f,6,"Frame setup failed"),F=f.a;if(F=F==0){if(F){f.$c=0,0<f.Aa||(f.Ic=YE);e:{F=f.Ic,z=4*(re=f.za);var ae=32*re,fe=re+1,Ce=0<f.L?re*(0<f.Aa?2:1):0,Ae=(f.Aa==2?2:1)*re;if((J=z+832+(Q=3*(16*F+Pp[f.L])/2*ae)+(K=f.Fa!=null&&0<f.Fa.length?f.Kc.c*f.Kc.i:0))!=J)F=0;else{if(J>f.Vb){if(f.Vb=0,f.Ec=i(J),f.Fc=0,f.Ec==null){F=Vr(f,1,"no memory during frame initialization.");break e}f.Vb=J}J=f.Ec,ee=f.Fc,f.Ac=J,f.Bc=ee,ee+=z,f.Gd=o(ae,Xm),f.Hd=0,f.rb=o(fe+1,Jm),f.sb=1,f.wa=Ce?o(Ce,ac):null,f.Y=0,f.D.Nb=0,f.D.wa=f.wa,f.D.Y=f.Y,0<f.Aa&&(f.D.Y+=re),r(!0),f.oc=J,f.pc=ee,ee+=832,f.ya=o(Ae,Fd),f.aa=0,f.D.ya=f.ya,f.D.aa=f.aa,f.Aa==2&&(f.D.aa+=re),f.R=16*re,f.B=8*re,re=(ae=Pp[f.L])*f.R,ae=ae/2*f.B,f.sa=J,f.ta=ee+re,f.qa=f.sa,f.ra=f.ta+16*F*f.R+ae,f.Ha=f.qa,f.Ia=f.ra+8*F*f.B+ae,f.$c=0,ee+=Q,f.mb=K?J:null,f.nb=K?ee:null,r(ee+K<=f.Fc+f.Vb),_d(f),a(f.Ac,f.Bc,0,z),F=1}}if(F){if(N.ka=0,N.y=f.sa,N.O=f.ta,N.f=f.qa,N.N=f.ra,N.ea=f.Ha,N.Vd=f.Ia,N.fa=f.R,N.Rc=f.B,N.F=null,N.J=0,!bp){for(F=-255;255>=F;++F)ln[255+F]=0>F?-F:F;for(F=-1020;1020>=F;++F)Ai[1020+F]=-128>F?-128:127<F?127:F;for(F=-112;112>=F;++F)su[112+F]=-16>F?-16:15<F?15:F;for(F=-255;510>=F;++F)Sc[255+F]=0>F?0:255<F?255:F;bp=1}jc=Yx,Ci=Gx,tu=np,Zn=Qx,Qs=sp,Wr=rp,wc=Ud,yp=ll,ru=lg,ul=Vd,ml=og,to=mc,pl=Wd,Nc=pp,hl=mp,ro=Ya,nu=wi,Ys=ig,ba[0]=Qa,ba[1]=Kx,ba[2]=eg,ba[3]=tg,ba[4]=op,ba[5]=dc,ba[6]=lp,ba[7]=Bd,ba[8]=ng,ba[9]=rg,no[0]=ap,no[1]=Xx,no[2]=ji,no[3]=lc,no[4]=On,no[5]=Zx,no[6]=ip,Ei[0]=Ki,Ei[1]=Jx,Ei[2]=sg,Ei[3]=zd,Ei[4]=ol,Ei[5]=ag,Ei[6]=$d,F=1}else F=0}F&&(F=function(we,Be){for(we.M=0;we.M<we.Va;++we.M){var Pe,xe=we.Jc[we.M&we.Xb],ge=we.m,Oe=we;for(Pe=0;Pe<Oe.za;++Pe){var $e=ge,Me=Oe,dt=Me.Ac,et=Me.Bc+4*Pe,St=Me.zc,at=Me.ya[Me.aa+Pe];if(Me.Qa.Bb?at.$b=de($e,Me.Pa.jb[0])?2+de($e,Me.Pa.jb[2]):de($e,Me.Pa.jb[1]):at.$b=0,Me.kc&&(at.Ad=de($e,Me.Bd)),at.Za=!de($e,145)+0,at.Za){var tr=at.Ob,ar=0;for(Me=0;4>Me;++Me){var Yt,$t=St[0+Me];for(Yt=0;4>Yt;++Yt){$t=RE[dt[et+Yt]][$t];for(var pr=D2[de($e,$t[0])];0<pr;)pr=D2[2*pr+de($e,$t[pr])];$t=-pr,dt[et+Yt]=$t}s(tr,ar,dt,et,4),ar+=4,St[0+Me]=$t}}else $t=de($e,156)?de($e,128)?1:3:de($e,163)?2:0,at.Ob[0]=$t,a(dt,et,$t,4),a(St,0,$t,4);at.Dd=de($e,142)?de($e,114)?de($e,183)?1:3:2:0}if(Oe.m.Ka)return Vr(we,7,"Premature end-of-partition0 encountered.");for(;we.ja<we.za;++we.ja){if(Oe=xe,$e=(ge=we).rb[ge.sb-1],dt=ge.rb[ge.sb+ge.ja],Pe=ge.ya[ge.aa+ge.ja],et=ge.kc?Pe.Ad:0)$e.la=dt.la=0,Pe.Za||($e.Na=dt.Na=0),Pe.Hc=0,Pe.Gc=0,Pe.ia=0;else{var mr,Mt;if($e=dt,dt=Oe,et=ge.Pa.Xc,St=ge.ya[ge.aa+ge.ja],at=ge.pb[St.$b],Me=St.ad,tr=0,ar=ge.rb[ge.sb-1],$t=Yt=0,a(Me,tr,0,384),St.Za)var rn=0,us=et[3];else{pr=i(16);var nn=$e.Na+ar.Na;if(nn=au(dt,et[1],nn,at.Eb,0,pr,0),$e.Na=ar.Na=(0<nn)+0,1<nn)jc(pr,0,Me,tr);else{var ms=pr[0]+3>>3;for(pr=0;256>pr;pr+=16)Me[tr+pr]=ms}rn=1,us=et[0]}var ir=15&$e.la,As=15&ar.la;for(pr=0;4>pr;++pr){var Es=1&As;for(ms=Mt=0;4>ms;++ms)ir=ir>>1|(Es=(nn=au(dt,us,nn=Es+(1&ir),at.Sc,rn,Me,tr))>rn)<<7,Mt=Mt<<2|(3<nn?3:1<nn?2:Me[tr+0]!=0),tr+=16;ir>>=4,As=As>>1|Es<<7,Yt=(Yt<<8|Mt)>>>0}for(us=ir,rn=As>>4,mr=0;4>mr;mr+=2){for(Mt=0,ir=$e.la>>4+mr,As=ar.la>>4+mr,pr=0;2>pr;++pr){for(Es=1&As,ms=0;2>ms;++ms)nn=Es+(1&ir),ir=ir>>1|(Es=0<(nn=au(dt,et[2],nn,at.Qc,0,Me,tr)))<<3,Mt=Mt<<2|(3<nn?3:1<nn?2:Me[tr+0]!=0),tr+=16;ir>>=2,As=As>>1|Es<<5}$t|=Mt<<4*mr,us|=ir<<4<<mr,rn|=(240&As)<<mr}$e.la=us,ar.la=rn,St.Hc=Yt,St.Gc=$t,St.ia=43690&$t?0:at.ia,et=!(Yt|$t)}if(0<ge.L&&(ge.wa[ge.Y+ge.ja]=ge.gd[Pe.$b][Pe.Za],ge.wa[ge.Y+ge.ja].La|=!et),Oe.Ka)return Vr(we,7,"Premature end-of-file encountered.")}if(_d(we),ge=Be,Oe=1,Pe=(xe=we).D,$e=0<xe.L&&xe.M>=xe.zb&&xe.M<=xe.Va,xe.Aa==0)e:{if(Pe.M=xe.M,Pe.uc=$e,Kd(xe,Pe),Oe=1,Pe=(Mt=xe.D).Nb,$e=($t=Pp[xe.L])*xe.R,dt=$t/2*xe.B,pr=16*Pe*xe.R,ms=8*Pe*xe.B,et=xe.sa,St=xe.ta-$e+pr,at=xe.qa,Me=xe.ra-dt+ms,tr=xe.Ha,ar=xe.Ia-dt+ms,As=(ir=Mt.M)==0,Yt=ir>=xe.Va-1,xe.Aa==2&&Kd(xe,Mt),Mt.uc)for(Es=(nn=xe).D.M,r(nn.D.uc),Mt=nn.yb;Mt<nn.Hb;++Mt){rn=Mt,us=Es;var fn=(An=(Or=nn).D).Nb;mr=Or.R;var An=An.wa[An.Y+rn],es=Or.sa,Zs=Or.ta+16*fn*mr+16*rn,Ja=An.dd,xn=An.tc;if(xn!=0)if(r(3<=xn),Or.L==1)0<rn&&ro(es,Zs,mr,xn+4),An.La&&Ys(es,Zs,mr,xn),0<us&&hl(es,Zs,mr,xn+4),An.La&&nu(es,Zs,mr,xn);else{var Ii=Or.B,fl=Or.qa,Cc=Or.ra+8*fn*Ii+8*rn,ao=Or.Ha,Or=Or.Ia+8*fn*Ii+8*rn;fn=An.ld,0<rn&&(yp(es,Zs,mr,xn+4,Ja,fn),ul(fl,Cc,ao,Or,Ii,xn+4,Ja,fn)),An.La&&(to(es,Zs,mr,xn,Ja,fn),Nc(fl,Cc,ao,Or,Ii,xn,Ja,fn)),0<us&&(wc(es,Zs,mr,xn+4,Ja,fn),ru(fl,Cc,ao,Or,Ii,xn+4,Ja,fn)),An.La&&(ml(es,Zs,mr,xn,Ja,fn),pl(fl,Cc,ao,Or,Ii,xn,Ja,fn))}}if(xe.ia&&alert("todo:DitherRow"),ge.put!=null){if(Mt=16*ir,ir=16*(ir+1),As?(ge.y=xe.sa,ge.O=xe.ta+pr,ge.f=xe.qa,ge.N=xe.ra+ms,ge.ea=xe.Ha,ge.W=xe.Ia+ms):(Mt-=$t,ge.y=et,ge.O=St,ge.f=at,ge.N=Me,ge.ea=tr,ge.W=ar),Yt||(ir-=$t),ir>ge.o&&(ir=ge.o),ge.F=null,ge.J=null,xe.Fa!=null&&0<xe.Fa.length&&Mt<ir&&(ge.J=Qd(xe,ge,Mt,ir-Mt),ge.F=xe.mb,ge.F==null&&ge.F.length==0)){Oe=Vr(xe,3,"Could not decode alpha data.");break e}Mt<ge.j&&($t=ge.j-Mt,Mt=ge.j,r(!(1&$t)),ge.O+=xe.R*$t,ge.N+=xe.B*($t>>1),ge.W+=xe.B*($t>>1),ge.F!=null&&(ge.J+=ge.width*$t)),Mt<ir&&(ge.O+=ge.v,ge.N+=ge.v>>1,ge.W+=ge.v>>1,ge.F!=null&&(ge.J+=ge.v),ge.ka=Mt-ge.j,ge.U=ge.va-ge.v,ge.T=ir-Mt,Oe=ge.put(ge))}Pe+1!=xe.Ic||Yt||(s(xe.sa,xe.ta-$e,et,St+16*xe.R,$e),s(xe.qa,xe.ra-dt,at,Me+8*xe.B,dt),s(xe.Ha,xe.Ia-dt,tr,ar+8*xe.B,dt))}if(!Oe)return Vr(we,6,"Output aborted.")}return 1}(f,N)),N.bc!=null&&N.bc(N),F&=1}return F?(f.cb=0,F):0}function ga(f,N,F,z,Q){Q=f[N+F+32*z]+(Q>>3),f[N+F+32*z]=-256&Q?0>Q?0:255:Q}function oc(f,N,F,z,Q,K){ga(f,N,0,F,z+Q),ga(f,N,1,F,z+K),ga(f,N,2,F,z-K),ga(f,N,3,F,z-Q)}function ls(f){return(20091*f>>16)+f}function Od(f,N,F,z){var Q,K=0,J=i(16);for(Q=0;4>Q;++Q){var ee=f[N+0]+f[N+8],re=f[N+0]-f[N+8],ae=(35468*f[N+4]>>16)-ls(f[N+12]),fe=ls(f[N+4])+(35468*f[N+12]>>16);J[K+0]=ee+fe,J[K+1]=re+ae,J[K+2]=re-ae,J[K+3]=ee-fe,K+=4,N++}for(Q=K=0;4>Q;++Q)ee=(f=J[K+0]+4)+J[K+8],re=f-J[K+8],ae=(35468*J[K+4]>>16)-ls(J[K+12]),ga(F,z,0,0,ee+(fe=ls(J[K+4])+(35468*J[K+12]>>16))),ga(F,z,1,0,re+ae),ga(F,z,2,0,re-ae),ga(F,z,3,0,ee-fe),K++,z+=32}function rp(f,N,F,z){var Q=f[N+0]+4,K=35468*f[N+4]>>16,J=ls(f[N+4]),ee=35468*f[N+1]>>16;oc(F,z,0,Q+J,f=ls(f[N+1]),ee),oc(F,z,1,Q+K,f,ee),oc(F,z,2,Q-K,f,ee),oc(F,z,3,Q-J,f,ee)}function Gx(f,N,F,z,Q){Od(f,N,F,z),Q&&Od(f,N+16,F,z+4)}function np(f,N,F,z){Ci(f,N+0,F,z,1),Ci(f,N+32,F,z+128,1)}function Qx(f,N,F,z){var Q;for(f=f[N+0]+4,Q=0;4>Q;++Q)for(N=0;4>N;++N)ga(F,z,N,Q,f)}function sp(f,N,F,z){f[N+0]&&Zn(f,N+0,F,z),f[N+16]&&Zn(f,N+16,F,z+4),f[N+32]&&Zn(f,N+32,F,z+128),f[N+48]&&Zn(f,N+48,F,z+128+4)}function Yx(f,N,F,z){var Q,K=i(16);for(Q=0;4>Q;++Q){var J=f[N+0+Q]+f[N+12+Q],ee=f[N+4+Q]+f[N+8+Q],re=f[N+4+Q]-f[N+8+Q],ae=f[N+0+Q]-f[N+12+Q];K[0+Q]=J+ee,K[8+Q]=J-ee,K[4+Q]=ae+re,K[12+Q]=ae-re}for(Q=0;4>Q;++Q)J=(f=K[0+4*Q]+3)+K[3+4*Q],ee=K[1+4*Q]+K[2+4*Q],re=K[1+4*Q]-K[2+4*Q],ae=f-K[3+4*Q],F[z+0]=J+ee>>3,F[z+16]=ae+re>>3,F[z+32]=J-ee>>3,F[z+48]=ae-re>>3,z+=64}function Md(f,N,F){var z,Q=N-32,K=Cs,J=255-f[Q-1];for(z=0;z<F;++z){var ee,re=K,ae=J+f[N-1];for(ee=0;ee<F;++ee)f[N+ee]=re[ae+f[Q+ee]];N+=32}}function Kx(f,N){Md(f,N,4)}function Jx(f,N){Md(f,N,8)}function Xx(f,N){Md(f,N,16)}function ji(f,N){var F;for(F=0;16>F;++F)s(f,N+32*F,f,N-32,16)}function lc(f,N){var F;for(F=16;0<F;--F)a(f,N,f[N-1],16),N+=32}function cc(f,N,F){var z;for(z=0;16>z;++z)a(N,F+32*z,f,16)}function ap(f,N){var F,z=16;for(F=0;16>F;++F)z+=f[N-1+32*F]+f[N+F-32];cc(z>>5,f,N)}function On(f,N){var F,z=8;for(F=0;16>F;++F)z+=f[N-1+32*F];cc(z>>4,f,N)}function Zx(f,N){var F,z=8;for(F=0;16>F;++F)z+=f[N+F-32];cc(z>>4,f,N)}function ip(f,N){cc(128,f,N)}function kt(f,N,F){return f+2*N+F+2>>2}function eg(f,N){var F,z=N-32;for(z=new Uint8Array([kt(f[z-1],f[z+0],f[z+1]),kt(f[z+0],f[z+1],f[z+2]),kt(f[z+1],f[z+2],f[z+3]),kt(f[z+2],f[z+3],f[z+4])]),F=0;4>F;++F)s(f,N+32*F,z,0,z.length)}function tg(f,N){var F=f[N-1],z=f[N-1+32],Q=f[N-1+64],K=f[N-1+96];Se(f,N+0,16843009*kt(f[N-1-32],F,z)),Se(f,N+32,16843009*kt(F,z,Q)),Se(f,N+64,16843009*kt(z,Q,K)),Se(f,N+96,16843009*kt(Q,K,K))}function Qa(f,N){var F,z=4;for(F=0;4>F;++F)z+=f[N+F-32]+f[N-1+32*F];for(z>>=3,F=0;4>F;++F)a(f,N+32*F,z,4)}function op(f,N){var F=f[N-1+0],z=f[N-1+32],Q=f[N-1+64],K=f[N-1-32],J=f[N+0-32],ee=f[N+1-32],re=f[N+2-32],ae=f[N+3-32];f[N+0+96]=kt(z,Q,f[N-1+96]),f[N+1+96]=f[N+0+64]=kt(F,z,Q),f[N+2+96]=f[N+1+64]=f[N+0+32]=kt(K,F,z),f[N+3+96]=f[N+2+64]=f[N+1+32]=f[N+0+0]=kt(J,K,F),f[N+3+64]=f[N+2+32]=f[N+1+0]=kt(ee,J,K),f[N+3+32]=f[N+2+0]=kt(re,ee,J),f[N+3+0]=kt(ae,re,ee)}function lp(f,N){var F=f[N+1-32],z=f[N+2-32],Q=f[N+3-32],K=f[N+4-32],J=f[N+5-32],ee=f[N+6-32],re=f[N+7-32];f[N+0+0]=kt(f[N+0-32],F,z),f[N+1+0]=f[N+0+32]=kt(F,z,Q),f[N+2+0]=f[N+1+32]=f[N+0+64]=kt(z,Q,K),f[N+3+0]=f[N+2+32]=f[N+1+64]=f[N+0+96]=kt(Q,K,J),f[N+3+32]=f[N+2+64]=f[N+1+96]=kt(K,J,ee),f[N+3+64]=f[N+2+96]=kt(J,ee,re),f[N+3+96]=kt(ee,re,re)}function dc(f,N){var F=f[N-1+0],z=f[N-1+32],Q=f[N-1+64],K=f[N-1-32],J=f[N+0-32],ee=f[N+1-32],re=f[N+2-32],ae=f[N+3-32];f[N+0+0]=f[N+1+64]=K+J+1>>1,f[N+1+0]=f[N+2+64]=J+ee+1>>1,f[N+2+0]=f[N+3+64]=ee+re+1>>1,f[N+3+0]=re+ae+1>>1,f[N+0+96]=kt(Q,z,F),f[N+0+64]=kt(z,F,K),f[N+0+32]=f[N+1+96]=kt(F,K,J),f[N+1+32]=f[N+2+96]=kt(K,J,ee),f[N+2+32]=f[N+3+96]=kt(J,ee,re),f[N+3+32]=kt(ee,re,ae)}function Bd(f,N){var F=f[N+0-32],z=f[N+1-32],Q=f[N+2-32],K=f[N+3-32],J=f[N+4-32],ee=f[N+5-32],re=f[N+6-32],ae=f[N+7-32];f[N+0+0]=F+z+1>>1,f[N+1+0]=f[N+0+64]=z+Q+1>>1,f[N+2+0]=f[N+1+64]=Q+K+1>>1,f[N+3+0]=f[N+2+64]=K+J+1>>1,f[N+0+32]=kt(F,z,Q),f[N+1+32]=f[N+0+96]=kt(z,Q,K),f[N+2+32]=f[N+1+96]=kt(Q,K,J),f[N+3+32]=f[N+2+96]=kt(K,J,ee),f[N+3+64]=kt(J,ee,re),f[N+3+96]=kt(ee,re,ae)}function rg(f,N){var F=f[N-1+0],z=f[N-1+32],Q=f[N-1+64],K=f[N-1+96];f[N+0+0]=F+z+1>>1,f[N+2+0]=f[N+0+32]=z+Q+1>>1,f[N+2+32]=f[N+0+64]=Q+K+1>>1,f[N+1+0]=kt(F,z,Q),f[N+3+0]=f[N+1+32]=kt(z,Q,K),f[N+3+32]=f[N+1+64]=kt(Q,K,K),f[N+3+64]=f[N+2+64]=f[N+0+96]=f[N+1+96]=f[N+2+96]=f[N+3+96]=K}function ng(f,N){var F=f[N-1+0],z=f[N-1+32],Q=f[N-1+64],K=f[N-1+96],J=f[N-1-32],ee=f[N+0-32],re=f[N+1-32],ae=f[N+2-32];f[N+0+0]=f[N+2+32]=F+J+1>>1,f[N+0+32]=f[N+2+64]=z+F+1>>1,f[N+0+64]=f[N+2+96]=Q+z+1>>1,f[N+0+96]=K+Q+1>>1,f[N+3+0]=kt(ee,re,ae),f[N+2+0]=kt(J,ee,re),f[N+1+0]=f[N+3+32]=kt(F,J,ee),f[N+1+32]=f[N+3+64]=kt(z,F,J),f[N+1+64]=f[N+3+96]=kt(Q,z,F),f[N+1+96]=kt(K,Q,z)}function sg(f,N){var F;for(F=0;8>F;++F)s(f,N+32*F,f,N-32,8)}function zd(f,N){var F;for(F=0;8>F;++F)a(f,N,f[N-1],8),N+=32}function il(f,N,F){var z;for(z=0;8>z;++z)a(N,F+32*z,f,8)}function Ki(f,N){var F,z=8;for(F=0;8>F;++F)z+=f[N+F-32]+f[N-1+32*F];il(z>>4,f,N)}function ag(f,N){var F,z=4;for(F=0;8>F;++F)z+=f[N+F-32];il(z>>3,f,N)}function ol(f,N){var F,z=4;for(F=0;8>F;++F)z+=f[N-1+32*F];il(z>>3,f,N)}function $d(f,N){il(128,f,N)}function uc(f,N,F){var z=f[N-F],Q=f[N+0],K=3*(Q-z)+ug[1020+f[N-2*F]-f[N+F]],J=jp[112+(K+4>>3)];f[N-F]=Cs[255+z+jp[112+(K+3>>3)]],f[N+0]=Cs[255+Q-J]}function cp(f,N,F,z){var Q=f[N+0],K=f[N+F];return Js[255+f[N-2*F]-f[N-F]]>z||Js[255+K-Q]>z}function dp(f,N,F,z){return 4*Js[255+f[N-F]-f[N+0]]+Js[255+f[N-2*F]-f[N+F]]<=z}function up(f,N,F,z,Q){var K=f[N-3*F],J=f[N-2*F],ee=f[N-F],re=f[N+0],ae=f[N+F],fe=f[N+2*F],Ce=f[N+3*F];return 4*Js[255+ee-re]+Js[255+J-ae]>z?0:Js[255+f[N-4*F]-K]<=Q&&Js[255+K-J]<=Q&&Js[255+J-ee]<=Q&&Js[255+Ce-fe]<=Q&&Js[255+fe-ae]<=Q&&Js[255+ae-re]<=Q}function mp(f,N,F,z){var Q=2*z+1;for(z=0;16>z;++z)dp(f,N+z,F,Q)&&uc(f,N+z,F)}function Ya(f,N,F,z){var Q=2*z+1;for(z=0;16>z;++z)dp(f,N+z*F,1,Q)&&uc(f,N+z*F,1)}function wi(f,N,F,z){var Q;for(Q=3;0<Q;--Q)mp(f,N+=4*F,F,z)}function ig(f,N,F,z){var Q;for(Q=3;0<Q;--Q)Ya(f,N+=4,F,z)}function Ji(f,N,F,z,Q,K,J,ee){for(K=2*K+1;0<Q--;){if(up(f,N,F,K,J))if(cp(f,N,F,ee))uc(f,N,F);else{var re=f,ae=N,fe=F,Ce=re[ae-2*fe],Ae=re[ae-fe],we=re[ae+0],Be=re[ae+fe],Pe=re[ae+2*fe],xe=27*(Oe=ug[1020+3*(we-Ae)+ug[1020+Ce-Be]])+63>>7,ge=18*Oe+63>>7,Oe=9*Oe+63>>7;re[ae-3*fe]=Cs[255+re[ae-3*fe]+Oe],re[ae-2*fe]=Cs[255+Ce+ge],re[ae-fe]=Cs[255+Ae+xe],re[ae+0]=Cs[255+we-xe],re[ae+fe]=Cs[255+Be-ge],re[ae+2*fe]=Cs[255+Pe-Oe]}N+=z}}function va(f,N,F,z,Q,K,J,ee){for(K=2*K+1;0<Q--;){if(up(f,N,F,K,J))if(cp(f,N,F,ee))uc(f,N,F);else{var re=f,ae=N,fe=F,Ce=re[ae-fe],Ae=re[ae+0],we=re[ae+fe],Be=jp[112+((Pe=3*(Ae-Ce))+4>>3)],Pe=jp[112+(Pe+3>>3)],xe=Be+1>>1;re[ae-2*fe]=Cs[255+re[ae-2*fe]+xe],re[ae-fe]=Cs[255+Ce+Pe],re[ae+0]=Cs[255+Ae-Be],re[ae+fe]=Cs[255+we-xe]}N+=z}}function Ud(f,N,F,z,Q,K){Ji(f,N,F,1,16,z,Q,K)}function ll(f,N,F,z,Q,K){Ji(f,N,1,F,16,z,Q,K)}function og(f,N,F,z,Q,K){var J;for(J=3;0<J;--J)va(f,N+=4*F,F,1,16,z,Q,K)}function mc(f,N,F,z,Q,K){var J;for(J=3;0<J;--J)va(f,N+=4,1,F,16,z,Q,K)}function lg(f,N,F,z,Q,K,J,ee){Ji(f,N,Q,1,8,K,J,ee),Ji(F,z,Q,1,8,K,J,ee)}function Vd(f,N,F,z,Q,K,J,ee){Ji(f,N,1,Q,8,K,J,ee),Ji(F,z,1,Q,8,K,J,ee)}function Wd(f,N,F,z,Q,K,J,ee){va(f,N+4*Q,Q,1,8,K,J,ee),va(F,z+4*Q,Q,1,8,K,J,ee)}function pp(f,N,F,z,Q,K,J,ee){va(f,N+4,1,Q,8,K,J,ee),va(F,z+4,1,Q,8,K,J,ee)}function pc(){this.ba=new ma,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Fr,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function qd(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function Hd(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function hp(){this.ua=0,this.Wa=new te,this.vb=new te,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new T,this.yc=new w}function cg(){this.xb=this.a=0,this.l=new ic,this.ca=new ma,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new R,this.Pb=0,this.wd=new R,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new hp,this.ab=0,this.gc=o(4,Hd),this.Oc=0}function hc(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new ic,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function cl(f,N,F,z,Q,K,J){for(f=f==null?0:f[N+0],N=0;N<J;++N)Q[K+N]=f+F[z+N]&255,f=Q[K+N]}function Gd(f,N,F,z,Q,K,J){var ee;if(f==null)cl(null,null,F,z,Q,K,J);else for(ee=0;ee<J;++ee)Q[K+ee]=f[N+ee]+F[z+ee]&255}function Xi(f,N,F,z,Q,K,J){if(f==null)cl(null,null,F,z,Q,K,J);else{var ee,re=f[N+0],ae=re,fe=re;for(ee=0;ee<J;++ee)ae=fe+(re=f[N+ee])-ae,fe=F[z+ee]+(-256&ae?0>ae?0:255:ae)&255,ae=re,Q[K+ee]=fe}}function Qd(f,N,F,z){var Q=N.width,K=N.o;if(r(f!=null&&N!=null),0>F||0>=z||F+z>K)return null;if(!f.Cc){if(f.ga==null){var J;if(f.ga=new hc,(J=f.ga==null)||(J=N.width*N.o,r(f.Gb.length==0),f.Gb=i(J),f.Uc=0,f.Gb==null?J=0:(f.mb=f.Gb,f.nb=f.Uc,f.rc=null,J=1),J=!J),!J){J=f.ga;var ee=f.Fa,re=f.P,ae=f.qc,fe=f.mb,Ce=f.nb,Ae=re+1,we=ae-1,Be=J.l;if(r(ee!=null&&fe!=null&&N!=null),so[0]=null,so[1]=cl,so[2]=Gd,so[3]=Xi,J.ca=fe,J.tb=Ce,J.c=N.width,J.i=N.height,r(0<J.c&&0<J.i),1>=ae)N=0;else if(J.$a=ee[re+0]>>0&3,J.Z=ee[re+0]>>2&3,J.Lc=ee[re+0]>>4&3,re=ee[re+0]>>6&3,0>J.$a||1<J.$a||4<=J.Z||1<J.Lc||re)N=0;else if(Be.put=Va,Be.ac=Sn,Be.bc=Wa,Be.ma=J,Be.width=N.width,Be.height=N.height,Be.Da=N.Da,Be.v=N.v,Be.va=N.va,Be.j=N.j,Be.o=N.o,J.$a)e:{r(J.$a==1),N=Hs();t:for(;;){if(N==null){N=0;break e}if(r(J!=null),J.mc=N,N.c=J.c,N.i=J.i,N.l=J.l,N.l.ma=J,N.l.width=J.c,N.l.height=J.i,N.a=0,B(N.m,ee,Ae,we),!Ga(J.c,J.i,1,N,null)||(N.ab==1&&N.gc[0].hc==3&&bi(N.s)?(J.ic=1,ee=N.c*N.i,N.Ta=null,N.Ua=0,N.V=i(ee),N.Ba=0,N.V==null?(N.a=1,N=0):N=1):(J.ic=0,N=al(N,J.c)),!N))break t;N=1;break e}J.mc=null,N=0}else N=we>=J.c*J.i;J=!N}if(J)return null;f.ga.Lc!=1?f.Ga=0:z=K-F}r(f.ga!=null),r(F+z<=K);e:{if(N=(ee=f.ga).c,K=ee.l.o,ee.$a==0){if(Ae=f.rc,we=f.Vc,Be=f.Fa,re=f.P+1+F*N,ae=f.mb,fe=f.nb+F*N,r(re<=f.P+f.qc),ee.Z!=0)for(r(so[ee.Z]!=null),J=0;J<z;++J)so[ee.Z](Ae,we,Be,re,ae,fe,N),Ae=ae,we=fe,fe+=N,re+=N;else for(J=0;J<z;++J)s(ae,fe,Be,re,N),Ae=ae,we=fe,fe+=N,re+=N;f.rc=Ae,f.Vc=we}else{if(r(ee.mc!=null),N=F+z,r((J=ee.mc)!=null),r(N<=J.i),J.C>=N)N=1;else if(ee.ic||Ne(),ee.ic){ee=J.V,Ae=J.Ba,we=J.c;var Pe=J.i,xe=(Be=1,re=J.$/we,ae=J.$%we,fe=J.m,Ce=J.s,J.$),ge=we*Pe,Oe=we*N,$e=Ce.wc,Me=xe<Oe?en(Ce,ae,re):null;r(xe<=ge),r(N<=Pe),r(bi(Ce));t:for(;;){for(;!fe.h&&xe<Oe;){if(ae&$e||(Me=en(Ce,ae,re)),r(Me!=null),Z(fe),256>(Pe=os(Me.G[0],Me.H[0],fe)))ee[Ae+xe]=Pe,++xe,++ae>=we&&(ae=0,++re<=N&&!(re%16)&&fa(J,re));else{if(!(280>Pe)){Be=0;break t}Pe=pa(Pe-256,fe);var dt,et=os(Me.G[4],Me.H[4],fe);if(Z(fe),!(xe>=(et=qa(we,et=pa(et,fe)))&&ge-xe>=Pe)){Be=0;break t}for(dt=0;dt<Pe;++dt)ee[Ae+xe+dt]=ee[Ae+xe+dt-et];for(xe+=Pe,ae+=Pe;ae>=we;)ae-=we,++re<=N&&!(re%16)&&fa(J,re);xe<Oe&&ae&$e&&(Me=en(Ce,ae,re))}r(fe.h==G(fe))}fa(J,re>N?N:re);break t}!Be||fe.h&&xe<ge?(Be=0,J.a=fe.h?5:3):J.$=xe,N=Be}else N=xa(J,J.V,J.Ba,J.c,J.i,N,tc);if(!N){z=0;break e}}F+z>=K&&(f.Cc=1),z=1}if(!z)return null;if(f.Cc&&((z=f.ga)!=null&&(z.mc=null),f.ga=null,0<f.Ga))return alert("todo:WebPDequantizeLevels"),null}return f.nb+F*Q}function D(f,N,F,z,Q,K){for(;0<Q--;){var J,ee=f,re=N+(F?1:0),ae=f,fe=N+(F?0:3);for(J=0;J<z;++J){var Ce=ae[fe+4*J];Ce!=255&&(Ce*=32897,ee[re+4*J+0]=ee[re+4*J+0]*Ce>>23,ee[re+4*J+1]=ee[re+4*J+1]*Ce>>23,ee[re+4*J+2]=ee[re+4*J+2]*Ce>>23)}N+=K}}function Y(f,N,F,z,Q){for(;0<z--;){var K;for(K=0;K<F;++K){var J=f[N+2*K+0],ee=15&(ae=f[N+2*K+1]),re=4369*ee,ae=(240&ae|ae>>4)*re>>16;f[N+2*K+0]=(240&J|J>>4)*re>>16&240|(15&J|J<<4)*re>>16>>4&15,f[N+2*K+1]=240&ae|ee}N+=Q}}function oe(f,N,F,z,Q,K,J,ee){var re,ae,fe=255;for(ae=0;ae<Q;++ae){for(re=0;re<z;++re){var Ce=f[N+re];K[J+4*re]=Ce,fe&=Ce}N+=F,J+=ee}return fe!=255}function pe(f,N,F,z,Q){var K;for(K=0;K<Q;++K)F[z+K]=f[N+K]>>8}function Ne(){Ks=D,gr=Y,vr=oe,qr=pe}function Le(f,N,F){S[f]=function(z,Q,K,J,ee,re,ae,fe,Ce,Ae,we,Be,Pe,xe,ge,Oe,$e){var Me,dt=$e-1>>1,et=ee[re+0]|ae[fe+0]<<16,St=Ce[Ae+0]|we[Be+0]<<16;r(z!=null);var at=3*et+St+131074>>2;for(N(z[Q+0],255&at,at>>16,Pe,xe),K!=null&&(at=3*St+et+131074>>2,N(K[J+0],255&at,at>>16,ge,Oe)),Me=1;Me<=dt;++Me){var tr=ee[re+Me]|ae[fe+Me]<<16,ar=Ce[Ae+Me]|we[Be+Me]<<16,Yt=et+tr+St+ar+524296,$t=Yt+2*(tr+St)>>3;at=$t+et>>1,et=(Yt=Yt+2*(et+ar)>>3)+tr>>1,N(z[Q+2*Me-1],255&at,at>>16,Pe,xe+(2*Me-1)*F),N(z[Q+2*Me-0],255&et,et>>16,Pe,xe+(2*Me-0)*F),K!=null&&(at=Yt+St>>1,et=$t+ar>>1,N(K[J+2*Me-1],255&at,at>>16,ge,Oe+(2*Me-1)*F),N(K[J+2*Me+0],255&et,et>>16,ge,Oe+(2*Me+0)*F)),et=tr,St=ar}1&$e||(at=3*et+St+131074>>2,N(z[Q+$e-1],255&at,at>>16,Pe,xe+($e-1)*F),K!=null&&(at=3*St+et+131074>>2,N(K[J+$e-1],255&at,at>>16,ge,Oe+($e-1)*F)))}}function qe(){Xs[wp]=ME,Xs[Np]=T2,Xs[E2]=BE,Xs[Sp]=L2,Xs[Cp]=R2,Xs[mg]=F2,Xs[I2]=zE,Xs[pg]=T2,Xs[hg]=L2,Xs[Ap]=R2,Xs[fg]=F2}function lt(f){return f&~$E?0>f?0:255:f>>_2}function jt(f,N){return lt((19077*f>>8)+(26149*N>>8)-14234)}function Ft(f,N,F){return lt((19077*f>>8)-(6419*N>>8)-(13320*F>>8)+8708)}function Lt(f,N){return lt((19077*f>>8)+(33050*N>>8)-17685)}function Gt(f,N,F,z,Q){z[Q+0]=jt(f,F),z[Q+1]=Ft(f,N,F),z[Q+2]=Lt(f,N)}function Er(f,N,F,z,Q){z[Q+0]=Lt(f,N),z[Q+1]=Ft(f,N,F),z[Q+2]=jt(f,F)}function _r(f,N,F,z,Q){var K=Ft(f,N,F);N=K<<3&224|Lt(f,N)>>3,z[Q+0]=248&jt(f,F)|K>>5,z[Q+1]=N}function tn(f,N,F,z,Q){var K=240&Lt(f,N)|15;z[Q+0]=240&jt(f,F)|Ft(f,N,F)>>4,z[Q+1]=K}function Mn(f,N,F,z,Q){z[Q+0]=255,Gt(f,N,F,z,Q+1)}function hn(f,N,F,z,Q){Er(f,N,F,z,Q),z[Q+3]=255}function ya(f,N,F,z,Q){Gt(f,N,F,z,Q),z[Q+3]=255}function Ss(f,N){return 0>f?0:f>N?N:f}function Ka(f,N,F){S[f]=function(z,Q,K,J,ee,re,ae,fe,Ce){for(var Ae=fe+(-2&Ce)*F;fe!=Ae;)N(z[Q+0],K[J+0],ee[re+0],ae,fe),N(z[Q+1],K[J+0],ee[re+0],ae,fe+F),Q+=2,++J,++re,fe+=2*F;1&Ce&&N(z[Q+0],K[J+0],ee[re+0],ae,fe)}}function fp(f,N,F){return F==0?f==0?N==0?6:5:N==0?4:0:F}function Yd(f,N,F,z,Q){switch(f>>>30){case 3:Ci(N,F,z,Q,0);break;case 2:Wr(N,F,z,Q);break;case 1:Zn(N,F,z,Q)}}function Kd(f,N){var F,z,Q=N.M,K=N.Nb,J=f.oc,ee=f.pc+40,re=f.oc,ae=f.pc+584,fe=f.oc,Ce=f.pc+600;for(F=0;16>F;++F)J[ee+32*F-1]=129;for(F=0;8>F;++F)re[ae+32*F-1]=129,fe[Ce+32*F-1]=129;for(0<Q?J[ee-1-32]=re[ae-1-32]=fe[Ce-1-32]=129:(a(J,ee-32-1,127,21),a(re,ae-32-1,127,9),a(fe,Ce-32-1,127,9)),z=0;z<f.za;++z){var Ae=N.ya[N.aa+z];if(0<z){for(F=-1;16>F;++F)s(J,ee+32*F-4,J,ee+32*F+12,4);for(F=-1;8>F;++F)s(re,ae+32*F-4,re,ae+32*F+4,4),s(fe,Ce+32*F-4,fe,Ce+32*F+4,4)}var we=f.Gd,Be=f.Hd+z,Pe=Ae.ad,xe=Ae.Hc;if(0<Q&&(s(J,ee-32,we[Be].y,0,16),s(re,ae-32,we[Be].f,0,8),s(fe,Ce-32,we[Be].ea,0,8)),Ae.Za){var ge=J,Oe=ee-32+16;for(0<Q&&(z>=f.za-1?a(ge,Oe,we[Be].y[15],4):s(ge,Oe,we[Be+1].y,0,4)),F=0;4>F;F++)ge[Oe+128+F]=ge[Oe+256+F]=ge[Oe+384+F]=ge[Oe+0+F];for(F=0;16>F;++F,xe<<=2)ge=J,Oe=ee+M2[F],ba[Ae.Ob[F]](ge,Oe),Yd(xe,Pe,16*+F,ge,Oe)}else if(ge=fp(z,Q,Ae.Ob[0]),no[ge](J,ee),xe!=0)for(F=0;16>F;++F,xe<<=2)Yd(xe,Pe,16*+F,J,ee+M2[F]);for(F=Ae.Gc,ge=fp(z,Q,Ae.Dd),Ei[ge](re,ae),Ei[ge](fe,Ce),xe=Pe,ge=re,Oe=ae,255&(Ae=F>>0)&&(170&Ae?tu(xe,256,ge,Oe):Qs(xe,256,ge,Oe)),Ae=fe,xe=Ce,255&(F>>=8)&&(170&F?tu(Pe,320,Ae,xe):Qs(Pe,320,Ae,xe)),Q<f.Ub-1&&(s(we[Be].y,0,J,ee+480,16),s(we[Be].f,0,re,ae+224,8),s(we[Be].ea,0,fe,Ce+224,8)),F=8*K*f.B,we=f.sa,Be=f.ta+16*z+16*K*f.R,Pe=f.qa,Ae=f.ra+8*z+F,xe=f.Ha,ge=f.Ia+8*z+F,F=0;16>F;++F)s(we,Be+F*f.R,J,ee+32*F,16);for(F=0;8>F;++F)s(Pe,Ae+F*f.B,re,ae+32*F,8),s(xe,ge+F*f.B,fe,Ce+32*F,8)}}function fc(f,N,F,z,Q,K,J,ee,re){var ae=[0],fe=[0],Ce=0,Ae=re!=null?re.kd:0,we=re??new qd;if(f==null||12>F)return 7;we.data=f,we.w=N,we.ha=F,N=[N],F=[F],we.gb=[we.gb];e:{var Be=N,Pe=F,xe=we.gb;if(r(f!=null),r(Pe!=null),r(xe!=null),xe[0]=0,12<=Pe[0]&&!n(f,Be[0],"RIFF")){if(n(f,Be[0]+8,"WEBP")){xe=3;break e}var ge=Fe(f,Be[0]+4);if(12>ge||4294967286<ge){xe=3;break e}if(Ae&&ge>Pe[0]-8){xe=7;break e}xe[0]=ge,Be[0]+=12,Pe[0]-=12}xe=0}if(xe!=0)return xe;for(ge=0<we.gb[0],F=F[0];;){e:{var Oe=f;Pe=N,xe=F;var $e=ae,Me=fe,dt=Be=[0];if((at=Ce=[Ce])[0]=0,8>xe[0])xe=7;else{if(!n(Oe,Pe[0],"VP8X")){if(Fe(Oe,Pe[0]+4)!=10){xe=3;break e}if(18>xe[0]){xe=7;break e}var et=Fe(Oe,Pe[0]+8),St=1+Ee(Oe,Pe[0]+12);if(2147483648<=St*(Oe=1+Ee(Oe,Pe[0]+15))){xe=3;break e}dt!=null&&(dt[0]=et),$e!=null&&($e[0]=St),Me!=null&&(Me[0]=Oe),Pe[0]+=18,xe[0]-=18,at[0]=1}xe=0}}if(Ce=Ce[0],Be=Be[0],xe!=0)return xe;if(Pe=!!(2&Be),!ge&&Ce)return 3;if(K!=null&&(K[0]=!!(16&Be)),J!=null&&(J[0]=Pe),ee!=null&&(ee[0]=0),J=ae[0],Be=fe[0],Ce&&Pe&&re==null){xe=0;break}if(4>F){xe=7;break}if(ge&&Ce||!ge&&!Ce&&!n(f,N[0],"ALPH")){F=[F],we.na=[we.na],we.P=[we.P],we.Sa=[we.Sa];e:{et=f,xe=N,ge=F;var at=we.gb;$e=we.na,Me=we.P,dt=we.Sa,St=22,r(et!=null),r(ge!=null),Oe=xe[0];var tr=ge[0];for(r($e!=null),r(dt!=null),$e[0]=null,Me[0]=null,dt[0]=0;;){if(xe[0]=Oe,ge[0]=tr,8>tr){xe=7;break e}var ar=Fe(et,Oe+4);if(4294967286<ar){xe=3;break e}var Yt=8+ar+1&-2;if(St+=Yt,0<at&&St>at){xe=3;break e}if(!n(et,Oe,"VP8 ")||!n(et,Oe,"VP8L")){xe=0;break e}if(tr[0]<Yt){xe=7;break e}n(et,Oe,"ALPH")||($e[0]=et,Me[0]=Oe+8,dt[0]=ar),Oe+=Yt,tr-=Yt}}if(F=F[0],we.na=we.na[0],we.P=we.P[0],we.Sa=we.Sa[0],xe!=0)break}F=[F],we.Ja=[we.Ja],we.xa=[we.xa];e:if(at=f,xe=N,ge=F,$e=we.gb[0],Me=we.Ja,dt=we.xa,et=xe[0],Oe=!n(at,et,"VP8 "),St=!n(at,et,"VP8L"),r(at!=null),r(ge!=null),r(Me!=null),r(dt!=null),8>ge[0])xe=7;else{if(Oe||St){if(at=Fe(at,et+4),12<=$e&&at>$e-12){xe=3;break e}if(Ae&&at>ge[0]-8){xe=7;break e}Me[0]=at,xe[0]+=8,ge[0]-=8,dt[0]=St}else dt[0]=5<=ge[0]&&at[et+0]==47&&!(at[et+4]>>5),Me[0]=ge[0];xe=0}if(F=F[0],we.Ja=we.Ja[0],we.xa=we.xa[0],N=N[0],xe!=0)break;if(4294967286<we.Ja)return 3;if(ee==null||Pe||(ee[0]=we.xa?2:1),J=[J],Be=[Be],we.xa){if(5>F){xe=7;break}ee=J,Ae=Be,Pe=K,f==null||5>F?f=0:5<=F&&f[N+0]==47&&!(f[N+4]>>5)?(ge=[0],at=[0],$e=[0],B(Me=new R,f,N,F),Ct(Me,ge,at,$e)?(ee!=null&&(ee[0]=ge[0]),Ae!=null&&(Ae[0]=at[0]),Pe!=null&&(Pe[0]=$e[0]),f=1):f=0):f=0}else{if(10>F){xe=7;break}ee=Be,f==null||10>F||!Zm(f,N+3,F-3)?f=0:(Ae=f[N+0]|f[N+1]<<8|f[N+2]<<16,Pe=16383&(f[N+7]<<8|f[N+6]),f=16383&(f[N+9]<<8|f[N+8]),1&Ae||3<(Ae>>1&7)||!(Ae>>4&1)||Ae>>5>=we.Ja||!Pe||!f?f=0:(J&&(J[0]=Pe),ee&&(ee[0]=f),f=1))}if(!f||(J=J[0],Be=Be[0],Ce&&(ae[0]!=J||fe[0]!=Be)))return 3;re!=null&&(re[0]=we,re.offset=N-re.w,r(4294967286>N-re.w),r(re.offset==re.ha-F));break}return xe==0||xe==7&&Ce&&re==null?(K!=null&&(K[0]|=we.na!=null&&0<we.na.length),z!=null&&(z[0]=J),Q!=null&&(Q[0]=Be),0):xe}function Jd(f,N,F){var z=N.width,Q=N.height,K=0,J=0,ee=z,re=Q;if(N.Da=f!=null&&0<f.Da,N.Da&&(ee=f.cd,re=f.bd,K=f.v,J=f.j,11>F||(K&=-2,J&=-2),0>K||0>J||0>=ee||0>=re||K+ee>z||J+re>Q))return 0;if(N.v=K,N.j=J,N.va=K+ee,N.o=J+re,N.U=ee,N.T=re,N.da=f!=null&&0<f.da,N.da){if(!Ue(ee,re,F=[f.ib],K=[f.hb]))return 0;N.ib=F[0],N.hb=K[0]}return N.ob=f!=null&&f.ob,N.Kb=f==null||!f.Sd,N.da&&(N.ob=N.ib<3*z/4&&N.hb<3*Q/4,N.Kb=0),1}function Xd(f){if(f==null)return 2;if(11>f.S){var N=f.f.RGBA;N.fb+=(f.height-1)*N.A,N.A=-N.A}else N=f.f.kb,f=f.height,N.O+=(f-1)*N.fa,N.fa=-N.fa,N.N+=(f-1>>1)*N.Ab,N.Ab=-N.Ab,N.W+=(f-1>>1)*N.Db,N.Db=-N.Db,N.F!=null&&(N.J+=(f-1)*N.lb,N.lb=-N.lb);return 0}function xc(f,N,F,z){if(z==null||0>=f||0>=N)return 2;if(F!=null){if(F.Da){var Q=F.cd,K=F.bd,J=-2&F.v,ee=-2&F.j;if(0>J||0>ee||0>=Q||0>=K||J+Q>f||ee+K>N)return 2;f=Q,N=K}if(F.da){if(!Ue(f,N,Q=[F.ib],K=[F.hb]))return 2;f=Q[0],N=K[0]}}z.width=f,z.height=N;e:{var re=z.width,ae=z.height;if(f=z.S,0>=re||0>=ae||!(f>=wp&&13>f))f=2;else{if(0>=z.Rd&&z.sd==null){J=K=Q=N=0;var fe=(ee=re*B2[f])*ae;if(11>f||(K=(ae+1)/2*(N=(re+1)/2),f==12&&(J=(Q=re)*ae)),(ae=i(fe+2*K+J))==null){f=1;break e}z.sd=ae,11>f?((re=z.f.RGBA).eb=ae,re.fb=0,re.A=ee,re.size=fe):((re=z.f.kb).y=ae,re.O=0,re.fa=ee,re.Fd=fe,re.f=ae,re.N=0+fe,re.Ab=N,re.Cd=K,re.ea=ae,re.W=0+fe+K,re.Db=N,re.Ed=K,f==12&&(re.F=ae,re.J=0+fe+2*K),re.Tc=J,re.lb=Q)}if(N=1,Q=z.S,K=z.width,J=z.height,Q>=wp&&13>Q)if(11>Q)f=z.f.RGBA,N&=(ee=Math.abs(f.A))*(J-1)+K<=f.size,N&=ee>=K*B2[Q],N&=f.eb!=null;else{f=z.f.kb,ee=(K+1)/2,fe=(J+1)/2,re=Math.abs(f.fa),ae=Math.abs(f.Ab);var Ce=Math.abs(f.Db),Ae=Math.abs(f.lb),we=Ae*(J-1)+K;N&=re*(J-1)+K<=f.Fd,N&=ae*(fe-1)+ee<=f.Cd,N=(N&=Ce*(fe-1)+ee<=f.Ed)&re>=K&ae>=ee&Ce>=ee,N&=f.y!=null,N&=f.f!=null,N&=f.ea!=null,Q==12&&(N&=Ae>=K,N&=we<=f.Tc,N&=f.F!=null)}else N=0;f=N?0:2}}return f!=0||F!=null&&F.fd&&(f=Xd(z)),f}var Cn=64,gc=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],vc=24,yc=32,Zd=8,cs=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Ve("Predictor0","PredictorAdd0"),S.Predictor0=function(){return 4278190080},S.Predictor1=function(f){return f},S.Predictor2=function(f,N,F){return N[F+0]},S.Predictor3=function(f,N,F){return N[F+1]},S.Predictor4=function(f,N,F){return N[F-1]},S.Predictor5=function(f,N,F){return Qe(Qe(f,N[F+1]),N[F+0])},S.Predictor6=function(f,N,F){return Qe(f,N[F-1])},S.Predictor7=function(f,N,F){return Qe(f,N[F+0])},S.Predictor8=function(f,N,F){return Qe(N[F-1],N[F+0])},S.Predictor9=function(f,N,F){return Qe(N[F+0],N[F+1])},S.Predictor10=function(f,N,F){return Qe(Qe(f,N[F-1]),Qe(N[F+0],N[F+1]))},S.Predictor11=function(f,N,F){var z=N[F+0];return 0>=We(z>>24&255,f>>24&255,(N=N[F-1])>>24&255)+We(z>>16&255,f>>16&255,N>>16&255)+We(z>>8&255,f>>8&255,N>>8&255)+We(255&z,255&f,255&N)?z:f},S.Predictor12=function(f,N,F){var z=N[F+0];return(xt((f>>24&255)+(z>>24&255)-((N=N[F-1])>>24&255))<<24|xt((f>>16&255)+(z>>16&255)-(N>>16&255))<<16|xt((f>>8&255)+(z>>8&255)-(N>>8&255))<<8|xt((255&f)+(255&z)-(255&N)))>>>0},S.Predictor13=function(f,N,F){var z=N[F-1];return(De((f=Qe(f,N[F+0]))>>24&255,z>>24&255)<<24|De(f>>16&255,z>>16&255)<<16|De(f>>8&255,z>>8&255)<<8|De(f>>0&255,z>>0&255))>>>0};var dg=S.PredictorAdd0;S.PredictorAdd1=st,Ve("Predictor2","PredictorAdd2"),Ve("Predictor3","PredictorAdd3"),Ve("Predictor4","PredictorAdd4"),Ve("Predictor5","PredictorAdd5"),Ve("Predictor6","PredictorAdd6"),Ve("Predictor7","PredictorAdd7"),Ve("Predictor8","PredictorAdd8"),Ve("Predictor9","PredictorAdd9"),Ve("Predictor10","PredictorAdd10"),Ve("Predictor11","PredictorAdd11"),Ve("Predictor12","PredictorAdd12"),Ve("Predictor13","PredictorAdd13");var eu=S.PredictorAdd2;It("ColorIndexInverseTransform","MapARGB","32b",function(f){return f>>8&255},function(f){return f}),It("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(f){return f},function(f){return f>>8&255});var xp,Gs=S.ColorIndexInverseTransform,bc=S.MapARGB,gp=S.VP8LColorIndexInverseTransformAlpha,vp=S.MapAlpha,Zi=S.VP8LPredictorsAdd=[];Zi.length=16,(S.VP8LPredictors=[]).length=16,(S.VP8LPredictorsAdd_C=[]).length=16,(S.VP8LPredictors_C=[]).length=16;var dl,ds,Xn,eo,Ni,Si,jc,Ci,Wr,tu,Zn,Qs,wc,yp,ru,ul,ml,to,pl,Nc,hl,ro,nu,Ys,Ks,gr,vr,qr,ln=i(511),Ai=i(2041),su=i(225),Sc=i(767),bp=0,ug=Ai,jp=su,Cs=Sc,Js=ln,wp=0,Np=1,E2=2,Sp=3,Cp=4,mg=5,I2=6,pg=7,hg=8,Ap=9,fg=10,SE=[2,3,7],CE=[3,3,11],P2=[280,256,256,256,40],AE=[0,1,1,1,0],EE=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],IE=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],PE=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],DE=8,xg=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],gg=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],au=null,kE=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],TE=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],D2=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],LE=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],RE=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],FE=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],_E=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],no=[],ba=[],Ei=[],OE=1,k2=2,so=[],Xs=[];Le("UpsampleRgbLinePair",Gt,3),Le("UpsampleBgrLinePair",Er,3),Le("UpsampleRgbaLinePair",ya,4),Le("UpsampleBgraLinePair",hn,4),Le("UpsampleArgbLinePair",Mn,4),Le("UpsampleRgba4444LinePair",tn,2),Le("UpsampleRgb565LinePair",_r,2);var ME=S.UpsampleRgbLinePair,BE=S.UpsampleBgrLinePair,T2=S.UpsampleRgbaLinePair,L2=S.UpsampleBgraLinePair,R2=S.UpsampleArgbLinePair,F2=S.UpsampleRgba4444LinePair,zE=S.UpsampleRgb565LinePair,Ep=16,Ip=1<<Ep-1,iu=-227,vg=482,_2=6,$E=(256<<_2)-1,O2=0,UE=i(256),VE=i(256),WE=i(256),qE=i(256),HE=i(vg-iu),GE=i(vg-iu);Ka("YuvToRgbRow",Gt,3),Ka("YuvToBgrRow",Er,3),Ka("YuvToRgbaRow",ya,4),Ka("YuvToBgraRow",hn,4),Ka("YuvToArgbRow",Mn,4),Ka("YuvToRgba4444Row",tn,2),Ka("YuvToRgb565Row",_r,2);var M2=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Pp=[0,2,8],QE=[8,7,6,4,4,2,2,2,1,1,1,1],YE=1;this.WebPDecodeRGBA=function(f,N,F,z,Q){var K=Np,J=new pc,ee=new ma;J.ba=ee,ee.S=K,ee.width=[ee.width],ee.height=[ee.height];var re=ee.width,ae=ee.height,fe=new yi;if(fe==null||f==null)var Ce=2;else r(fe!=null),Ce=fc(f,N,F,fe.width,fe.height,fe.Pd,fe.Qd,fe.format,null);if(Ce!=0?re=0:(re!=null&&(re[0]=fe.width[0]),ae!=null&&(ae[0]=fe.height[0]),re=1),re){ee.width=ee.width[0],ee.height=ee.height[0],z!=null&&(z[0]=ee.width),Q!=null&&(Q[0]=ee.height);e:{if(z=new ic,(Q=new qd).data=f,Q.w=N,Q.ha=F,Q.kd=1,N=[0],r(Q!=null),((f=fc(Q.data,Q.w,Q.ha,null,null,null,N,null,Q))==0||f==7)&&N[0]&&(f=4),(N=f)==0){if(r(J!=null),z.data=Q.data,z.w=Q.w+Q.offset,z.ha=Q.ha-Q.offset,z.put=Va,z.ac=Sn,z.bc=Wa,z.ma=J,Q.xa){if((f=Hs())==null){J=1;break e}if(function(Ae,we){var Be=[0],Pe=[0],xe=[0];t:for(;;){if(Ae==null)return 0;if(we==null)return Ae.a=2,0;if(Ae.l=we,Ae.a=0,B(Ae.m,we.data,we.w,we.ha),!Ct(Ae.m,Be,Pe,xe)){Ae.a=3;break t}if(Ae.xb=k2,we.width=Be[0],we.height=Pe[0],!Ga(Be[0],Pe[0],1,Ae,null))break t;return 1}return r(Ae.a!=0),0}(f,z)){if(z=(N=xc(z.width,z.height,J.Oa,J.ba))==0){t:{z=f;r:for(;;){if(z==null){z=0;break t}if(r(z.s.yc!=null),r(z.s.Ya!=null),r(0<z.s.Wb),r((F=z.l)!=null),r((Q=F.ma)!=null),z.xb!=0){if(z.ca=Q.ba,z.tb=Q.tb,r(z.ca!=null),!Jd(Q.Oa,F,Sp)){z.a=2;break r}if(!al(z,F.width)||F.da)break r;if((F.da||Ht(z.ca.S))&&Ne(),11>z.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),z.ca.f.kb.F!=null&&Ne()),z.Pb&&0<z.s.ua&&z.s.vb.X==null&&!he(z.s.vb,z.s.Wa.Xa)){z.a=1;break r}z.xb=0}if(!xa(z,z.V,z.Ba,z.c,z.i,F.o,ec))break r;Q.Dc=z.Ma,z=1;break t}r(z.a!=0),z=0}z=!z}z&&(N=f.a)}else N=f.a}else{if((f=new qx)==null){J=1;break e}if(f.Fa=Q.na,f.P=Q.P,f.qc=Q.Sa,ep(f,z)){if((N=xc(z.width,z.height,J.Oa,J.ba))==0){if(f.Aa=0,F=J.Oa,r((Q=f)!=null),F!=null){if(0<(re=0>(re=F.Md)?0:100<re?255:255*re/100)){for(ae=fe=0;4>ae;++ae)12>(Ce=Q.pb[ae]).lc&&(Ce.ia=re*QE[0>Ce.lc?0:Ce.lc]>>3),fe|=Ce.ia;fe&&(alert("todo:VP8InitRandom"),Q.ia=1)}Q.Ga=F.Id,100<Q.Ga?Q.Ga=100:0>Q.Ga&&(Q.Ga=0)}Hx(f,z)||(N=f.a)}}else N=f.a}N==0&&J.Oa!=null&&J.Oa.fd&&(N=Xd(J.ba))}J=N}K=J!=0?null:11>K?ee.f.RGBA.eb:ee.f.kb.y}else K=null;return K};var B2=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function d(S,I){for(var k="",C=0;C<4;C++)k+=String.fromCharCode(S[I++]);return k}function m(S,I){return(S[I+0]<<0|S[I+1]<<8|S[I+2]<<16)>>>0}function u(S,I){return(S[I+0]<<0|S[I+1]<<8|S[I+2]<<16|S[I+3]<<24)>>>0}new c;var h=[0],p=[0],g=[],b=new c,j=e,x=function(S,I){var k={},C=0,w=!1,L=0,T=0;if(k.frames=[],!function($,G,X,Z){for(var le=0;le<Z;le++)if($[G+le]!=X.charCodeAt(le))return!0;return!1}(S,I,"RIFF",4)){var W,V;for(u(S,I+=4),I+=8;I<S.length;){var _=d(S,I),B=u(S,I+=4);I+=4;var U=B+(1&B);switch(_){case"VP8 ":case"VP8L":k.frames[C]===void 0&&(k.frames[C]={}),(R=k.frames[C]).src_off=w?T:I-8,R.src_size=L+B+8,C++,w&&(w=!1,L=0,T=0);break;case"VP8X":(R=k.header={}).feature_flags=S[I];var H=I+4;R.canvas_width=1+m(S,H),H+=3,R.canvas_height=1+m(S,H),H+=3;break;case"ALPH":w=!0,L=U+8,T=I-8;break;case"ANIM":(R=k.header).bgcolor=u(S,I),H=I+4,R.loop_count=(W=S)[(V=H)+0]<<0|W[V+1]<<8,H+=2;break;case"ANMF":var q,R;(R=k.frames[C]={}).offset_x=2*m(S,I),I+=3,R.offset_y=2*m(S,I),I+=3,R.width=1+m(S,I),I+=3,R.height=1+m(S,I),I+=3,R.duration=m(S,I),I+=3,q=S[I++],R.dispose=1&q,R.blend=q>>1&1}_!="ANMF"&&(I+=U)}return k}}(j,0);x.response=j,x.rgbaoutput=!0,x.dataurl=!1;var v=x.header?x.header:null,y=x.frames?x.frames:null;if(v){v.loop_counter=v.loop_count,h=[v.canvas_height],p=[v.canvas_width];for(var E=0;E<y.length&&y[E].blend!=0;E++);}var O=y[0],M=b.WebPDecodeRGBA(j,O.src_off,O.src_size,p,h);O.rgba=M,O.imgwidth=p[0],O.imgheight=h[0];for(var P=0;P<p[0]*h[0]*4;P++)g[P]=M[P];return this.width=p,this.height=h,this.data=g,this}(function(e){var r=function(){return typeof x1=="function"},n=function(h,p,g,b){var j=4,x=o;switch(b){case e.image_compression.FAST:j=1,x=i;break;case e.image_compression.MEDIUM:j=6,x=l;break;case e.image_compression.SLOW:j=9,x=c}h=s(h,p,g,x);var v=x1(h,{level:j});return e.__addimage__.arrayBufferToBinaryString(v)},s=function(h,p,g,b){for(var j,x,v,y=h.length/p,E=new Uint8Array(h.length+y),O=m(),M=0;M<y;M+=1){if(v=M*p,j=h.subarray(v,v+p),b)E.set(b(j,g,x),v+M);else{for(var P,S=O.length,I=[];P<S;P+=1)I[P]=O[P](j,g,x);var k=u(I.concat());E.set(I[k],v+M)}x=j}return E},a=function(h){var p=Array.apply([],h);return p.unshift(0),p},i=function(h,p){var g,b=[],j=h.length;b[0]=1;for(var x=0;x<j;x+=1)g=h[x-p]||0,b[x+1]=h[x]-g+256&255;return b},o=function(h,p,g){var b,j=[],x=h.length;j[0]=2;for(var v=0;v<x;v+=1)b=g&&g[v]||0,j[v+1]=h[v]-b+256&255;return j},l=function(h,p,g){var b,j,x=[],v=h.length;x[0]=3;for(var y=0;y<v;y+=1)b=h[y-p]||0,j=g&&g[y]||0,x[y+1]=h[y]+256-(b+j>>>1)&255;return x},c=function(h,p,g){var b,j,x,v,y=[],E=h.length;y[0]=4;for(var O=0;O<E;O+=1)b=h[O-p]||0,j=g&&g[O]||0,x=g&&g[O-p]||0,v=d(b,j,x),y[O+1]=h[O]-v+256&255;return y},d=function(h,p,g){if(h===p&&p===g)return h;var b=Math.abs(p-g),j=Math.abs(h-g),x=Math.abs(h+p-g-g);return b<=j&&b<=x?h:j<=x?p:g},m=function(){return[a,i,o,l,c]},u=function(h){var p=h.map(function(g){return g.reduce(function(b,j){return b+Math.abs(j)},0)});return p.indexOf(Math.min.apply(null,p))};e.processPNG=function(h,p,g,b){var j,x,v,y,E,O,M,P,S,I,k,C,w,L,T,W=this.decode.FLATE_DECODE,V="";if(this.__addimage__.isArrayBuffer(h)&&(h=new Uint8Array(h)),this.__addimage__.isArrayBufferView(h)){if(h=(v=new H$(h)).imgData,x=v.bits,j=v.colorSpace,E=v.colors,[4,6].indexOf(v.colorType)!==-1){if(v.bits===8){S=(P=v.pixelBitlength==32?new Uint32Array(v.decodePixels().buffer):v.pixelBitlength==16?new Uint16Array(v.decodePixels().buffer):new Uint8Array(v.decodePixels().buffer)).length,k=new Uint8Array(S*v.colors),I=new Uint8Array(S);var _,B=v.pixelBitlength-v.bits;for(L=0,T=0;L<S;L++){for(w=P[L],_=0;_<B;)k[T++]=w>>>_&255,_+=v.bits;I[L]=w>>>_&255}}if(v.bits===16){S=(P=new Uint32Array(v.decodePixels().buffer)).length,k=new Uint8Array(S*(32/v.pixelBitlength)*v.colors),I=new Uint8Array(S*(32/v.pixelBitlength)),C=v.colors>1,L=0,T=0;for(var U=0;L<S;)w=P[L++],k[T++]=w>>>0&255,C&&(k[T++]=w>>>16&255,w=P[L++],k[T++]=w>>>0&255),I[U++]=w>>>16&255;x=8}b!==e.image_compression.NONE&&r()?(h=n(k,v.width*v.colors,v.colors,b),M=n(I,v.width,1,b)):(h=k,M=I,W=void 0)}if(v.colorType===3&&(j=this.color_spaces.INDEXED,O=v.palette,v.transparency.indexed)){var H=v.transparency.indexed,q=0;for(L=0,S=H.length;L<S;++L)q+=H[L];if((q/=255)===S-1&&H.indexOf(0)!==-1)y=[H.indexOf(0)];else if(q!==S){for(P=v.decodePixels(),I=new Uint8Array(P.length),L=0,S=P.length;L<S;L++)I[L]=H[P[L]];M=n(I,v.width,1)}}var R=function($){var G;switch($){case e.image_compression.FAST:G=11;break;case e.image_compression.MEDIUM:G=13;break;case e.image_compression.SLOW:G=14;break;default:G=12}return G}(b);return W===this.decode.FLATE_DECODE&&(V="/Predictor "+R+" "),V+="/Colors "+E+" /BitsPerComponent "+x+" /Columns "+v.width,(this.__addimage__.isArrayBuffer(h)||this.__addimage__.isArrayBufferView(h))&&(h=this.__addimage__.arrayBufferToBinaryString(h)),(M&&this.__addimage__.isArrayBuffer(M)||this.__addimage__.isArrayBufferView(M))&&(M=this.__addimage__.arrayBufferToBinaryString(M)),{alias:g,data:h,index:p,filter:W,decodeParameters:V,transparency:y,palette:O,sMask:M,predictor:R,width:v.width,height:v.height,bitsPerComponent:x,colorSpace:j}}}})(wt.API),function(e){e.processGIF89A=function(r,n,s,a){var i=new G$(r),o=i.width,l=i.height,c=[];i.decodeAndBlitFrameRGBA(0,c);var d={data:c,width:o,height:l},m=new zv(100).encode(d,100);return e.processJPEG.call(this,m,n,s,a)},e.processGIF87A=e.processGIF89A}(wt.API),Ca.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var e=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(e);for(var r=0;r<e;r++){var n=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0);this.palette[r]={red:a,green:s,blue:n,quad:i}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Ca.prototype.parseBGR=function(){this.pos=this.offset;try{var e="bit"+this.bitPP,r=this.width*this.height*4;this.data=new Uint8Array(r),this[e]()}catch(n){fr.log("bit decode error:"+n)}},Ca.prototype.bit1=function(){var e,r=Math.ceil(this.width/8),n=r%4;for(e=this.height-1;e>=0;e--){for(var s=this.bottom_up?e:this.height-1-e,a=0;a<r;a++)for(var i=this.datav.getUint8(this.pos++,!0),o=s*this.width*4+8*a*4,l=0;l<8&&8*a+l<this.width;l++){var c=this.palette[i>>7-l&1];this.data[o+4*l]=c.blue,this.data[o+4*l+1]=c.green,this.data[o+4*l+2]=c.red,this.data[o+4*l+3]=255}n!==0&&(this.pos+=4-n)}},Ca.prototype.bit4=function(){for(var e=Math.ceil(this.width/2),r=e%4,n=this.height-1;n>=0;n--){for(var s=this.bottom_up?n:this.height-1-n,a=0;a<e;a++){var i=this.datav.getUint8(this.pos++,!0),o=s*this.width*4+2*a*4,l=i>>4,c=15&i,d=this.palette[l];if(this.data[o]=d.blue,this.data[o+1]=d.green,this.data[o+2]=d.red,this.data[o+3]=255,2*a+1>=this.width)break;d=this.palette[c],this.data[o+4]=d.blue,this.data[o+4+1]=d.green,this.data[o+4+2]=d.red,this.data[o+4+3]=255}r!==0&&(this.pos+=4-r)}},Ca.prototype.bit8=function(){for(var e=this.width%4,r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,s=0;s<this.width;s++){var a=this.datav.getUint8(this.pos++,!0),i=n*this.width*4+4*s;if(a<this.palette.length){var o=this.palette[a];this.data[i]=o.red,this.data[i+1]=o.green,this.data[i+2]=o.blue,this.data[i+3]=255}else this.data[i]=255,this.data[i+1]=255,this.data[i+2]=255,this.data[i+3]=255}e!==0&&(this.pos+=4-e)}},Ca.prototype.bit15=function(){for(var e=this.width%3,r=parseInt("11111",2),n=this.height-1;n>=0;n--){for(var s=this.bottom_up?n:this.height-1-n,a=0;a<this.width;a++){var i=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(i&r)/r*255|0,l=(i>>5&r)/r*255|0,c=(i>>10&r)/r*255|0,d=i>>15?255:0,m=s*this.width*4+4*a;this.data[m]=c,this.data[m+1]=l,this.data[m+2]=o,this.data[m+3]=d}this.pos+=e}},Ca.prototype.bit16=function(){for(var e=this.width%3,r=parseInt("11111",2),n=parseInt("111111",2),s=this.height-1;s>=0;s--){for(var a=this.bottom_up?s:this.height-1-s,i=0;i<this.width;i++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var l=(o&r)/r*255|0,c=(o>>5&n)/n*255|0,d=(o>>11)/r*255|0,m=a*this.width*4+4*i;this.data[m]=d,this.data[m+1]=c,this.data[m+2]=l,this.data[m+3]=255}this.pos+=e}},Ca.prototype.bit24=function(){for(var e=this.height-1;e>=0;e--){for(var r=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var s=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=r*this.width*4+4*n;this.data[o]=i,this.data[o+1]=a,this.data[o+2]=s,this.data[o+3]=255}this.pos+=this.width%4}},Ca.prototype.bit32=function(){for(var e=this.height-1;e>=0;e--)for(var r=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var s=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),l=r*this.width*4+4*n;this.data[l]=i,this.data[l+1]=a,this.data[l+2]=s,this.data[l+3]=o}},Ca.prototype.getData=function(){return this.data},function(e){e.processBMP=function(r,n,s,a){var i=new Ca(r,!1),o=i.width,l=i.height,c={data:i.getData(),width:o,height:l},d=new zv(100).encode(c,100);return e.processJPEG.call(this,d,n,s,a)}}(wt.API),D5.prototype.getData=function(){return this.data},function(e){e.processWEBP=function(r,n,s,a){var i=new D5(r),o=i.width,l=i.height,c={data:i.getData(),width:o,height:l},d=new zv(100).encode(c,100);return e.processJPEG.call(this,d,n,s,a)}}(wt.API),wt.API.processRGBA=function(e,r,n){for(var s=e.data,a=s.length,i=new Uint8Array(a/4*3),o=new Uint8Array(a/4),l=0,c=0,d=0;d<a;d+=4){var m=s[d],u=s[d+1],h=s[d+2],p=s[d+3];i[l++]=m,i[l++]=u,i[l++]=h,o[c++]=p}var g=this.__addimage__.arrayBufferToBinaryString(i);return{alpha:this.__addimage__.arrayBufferToBinaryString(o),data:g,index:r,alias:n,colorSpace:"DeviceRGB",bitsPerComponent:8,width:e.width,height:e.height}},wt.API.setLanguage=function(e){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[e]!==void 0&&(this.internal.languageSettings.languageCode=e,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Fc=wt.API,jh=Fc.getCharWidthsArray=function(e,r){var n,s,a=(r=r||{}).font||this.internal.getFont(),i=r.fontSize||this.internal.getFontSize(),o=r.charSpace||this.internal.getCharSpace(),l=r.widths?r.widths:a.metadata.Unicode.widths,c=l.fof?l.fof:1,d=r.kerning?r.kerning:a.metadata.Unicode.kerning,m=d.fof?d.fof:1,u=r.doKerning!==!1,h=0,p=e.length,g=0,b=l[0]||c,j=[];for(n=0;n<p;n++)s=e.charCodeAt(n),typeof a.metadata.widthOfString=="function"?j.push((a.metadata.widthOfGlyph(a.metadata.characterToGlyph(s))+o*(1e3/i)||0)/1e3):(h=u&&Xt(d[s])==="object"&&!isNaN(parseInt(d[s][g],10))?d[s][g]/m:0,j.push((l[s]||b)/c+h)),g=s;return j},A5=Fc.getStringUnitWidth=function(e,r){var n=(r=r||{}).fontSize||this.internal.getFontSize(),s=r.font||this.internal.getFont(),a=r.charSpace||this.internal.getCharSpace();return Fc.processArabic&&(e=Fc.processArabic(e)),typeof s.metadata.widthOfString=="function"?s.metadata.widthOfString(e,n,a)/n:jh.apply(this,arguments).reduce(function(i,o){return i+o},0)},E5=function(e,r,n,s){for(var a=[],i=0,o=e.length,l=0;i!==o&&l+r[i]<n;)l+=r[i],i++;a.push(e.slice(0,i));var c=i;for(l=0;i!==o;)l+r[i]>s&&(a.push(e.slice(c,i)),l=0,c=i),l+=r[i],i++;return c!==i&&a.push(e.slice(c,i)),a},I5=function(e,r,n){n||(n={});var s,a,i,o,l,c,d,m=[],u=[m],h=n.textIndent||0,p=0,g=0,b=e.split(" "),j=jh.apply(this,[" ",n])[0];if(c=n.lineIndent===-1?b[0].length+2:n.lineIndent||0){var x=Array(c).join(" "),v=[];b.map(function(E){(E=E.split(/\s*\n/)).length>1?v=v.concat(E.map(function(O,M){return(M&&O.length?`
`:"")+O})):v.push(E[0])}),b=v,c=A5.apply(this,[x,n])}for(i=0,o=b.length;i<o;i++){var y=0;if(s=b[i],c&&s[0]==`
`&&(s=s.substr(1),y=1),h+p+(g=(a=jh.apply(this,[s,n])).reduce(function(E,O){return E+O},0))>r||y){if(g>r){for(l=E5.apply(this,[s,a,r-(h+p),r]),m.push(l.shift()),m=[l.pop()];l.length;)u.push([l.shift()]);g=a.slice(s.length-(m[0]?m[0].length:0)).reduce(function(E,O){return E+O},0)}else m=[s];u.push(m),h=g+c,p=j}else m.push(s),h+=p+g,p=j}return d=c?function(E,O){return(O?x:"")+E.join(" ")}:function(E){return E.join(" ")},u.map(d)},Fc.splitTextToSize=function(e,r,n){var s,a=(n=n||{}).fontSize||this.internal.getFontSize(),i=(function(m){if(m.widths&&m.kerning)return{widths:m.widths,kerning:m.kerning};var u=this.internal.getFont(m.fontName,m.fontStyle);return u.metadata.Unicode?{widths:u.metadata.Unicode.widths||{0:1},kerning:u.metadata.Unicode.kerning||{}}:{font:u.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,n);s=Array.isArray(e)?e:String(e).split(/\r?\n/);var o=1*this.internal.scaleFactor*r/a;i.textIndent=n.textIndent?1*n.textIndent*this.internal.scaleFactor/a:0,i.lineIndent=n.lineIndent;var l,c,d=[];for(l=0,c=s.length;l<c;l++)d=d.concat(I5.apply(this,[s[l],o,i]));return d},function(e){e.__fontmetrics__=e.__fontmetrics__||{};for(var r="klmnopqrstuvwxyz",n={},s={},a=0;a<r.length;a++)n[r[a]]="0123456789abcdef"[a],s["0123456789abcdef"[a]]=r[a];var i=function(u){return"0x"+parseInt(u,10).toString(16)},o=e.__fontmetrics__.compress=function(u){var h,p,g,b,j=["{"];for(var x in u){if(h=u[x],isNaN(parseInt(x,10))?p="'"+x+"'":(x=parseInt(x,10),p=(p=i(x).slice(2)).slice(0,-1)+s[p.slice(-1)]),typeof h=="number")h<0?(g=i(h).slice(3),b="-"):(g=i(h).slice(2),b=""),g=b+g.slice(0,-1)+s[g.slice(-1)];else{if(Xt(h)!=="object")throw new Error("Don't know what to do with value type "+Xt(h)+".");g=o(h)}j.push(p+g)}return j.push("}"),j.join("")},l=e.__fontmetrics__.uncompress=function(u){if(typeof u!="string")throw new Error("Invalid argument passed to uncompress.");for(var h,p,g,b,j={},x=1,v=j,y=[],E="",O="",M=u.length-1,P=1;P<M;P+=1)(b=u[P])=="'"?h?(g=h.join(""),h=void 0):h=[]:h?h.push(b):b=="{"?(y.push([v,g]),v={},g=void 0):b=="}"?((p=y.pop())[0][p[1]]=v,g=void 0,v=p[0]):b=="-"?x=-1:g===void 0?n.hasOwnProperty(b)?(E+=n[b],g=parseInt(E,16)*x,x=1,E=""):E+=b:n.hasOwnProperty(b)?(O+=n[b],v[g]=parseInt(O,16)*x,x=1,g=void 0,O=""):O+=b;return j},c={codePages:["WinAnsiEncoding"],WinAnsiEncoding:l("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},d={Unicode:{Courier:c,"Courier-Bold":c,"Courier-BoldOblique":c,"Courier-Oblique":c,Helvetica:c,"Helvetica-Bold":c,"Helvetica-BoldOblique":c,"Helvetica-Oblique":c,"Times-Roman":c,"Times-Bold":c,"Times-BoldItalic":c,"Times-Italic":c}},m={Unicode:{"Courier-Oblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":l("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":l("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:l("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:l("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":l("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":l("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};e.events.push(["addFont",function(u){var h=u.font,p=m.Unicode[h.postScriptName];p&&(h.metadata.Unicode={},h.metadata.Unicode.widths=p.widths,h.metadata.Unicode.kerning=p.kerning);var g=d.Unicode[h.postScriptName];g&&(h.metadata.Unicode.encoding=g,h.encoding=g.codePages[0])}])}(wt.API),function(e){var r=function(n){for(var s=n.length,a=new Uint8Array(s),i=0;i<s;i++)a[i]=n.charCodeAt(i);return a};e.API.events.push(["addFont",function(n){var s=void 0,a=n.font,i=n.instance;if(!a.isStandardFont){if(i===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");if(typeof(s=i.existsFileInVFS(a.postScriptName)===!1?i.loadFile(a.postScriptName):i.getFileFromVFS(a.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");(function(o,l){l=/^\x00\x01\x00\x00/.test(l)?r(l):r(Gu(l)),o.metadata=e.API.TTFFont.open(l),o.metadata.Unicode=o.metadata.Unicode||{encoding:{},kerning:{},widths:[]},o.metadata.glyIdsUsed=[0]})(a,s)}}])}(wt),function(e){function r(){return(At.canvg?Promise.resolve(At.canvg):u1(()=>import("./index.es-e9ff6b58.js"),[])).catch(function(n){return Promise.reject(new Error("Could not load canvg: "+n))}).then(function(n){return n.default?n.default:n})}wt.API.addSvgAsImage=function(n,s,a,i,o,l,c,d){if(isNaN(s)||isNaN(a))throw fr.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(i)||isNaN(o))throw fr.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var m=document.createElement("canvas");m.width=i,m.height=o;var u=m.getContext("2d");u.fillStyle="#fff",u.fillRect(0,0,m.width,m.height);var h={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},p=this;return r().then(function(g){return g.fromString(u,n,h)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(g){return g.render(h)}).then(function(){p.addImage(m.toDataURL("image/jpeg",1),s,a,i,o,c,d)})}}(),wt.API.putTotalPages=function(e){var r,n=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(r=new RegExp(e,"g"),n=this.internal.getNumberOfPages()):(r=new RegExp(this.pdfEscape16(e,this.internal.getFont()),"g"),n=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var s=1;s<=this.internal.getNumberOfPages();s++)for(var a=0;a<this.internal.pages[s].length;a++)this.internal.pages[s][a]=this.internal.pages[s][a].replace(r,n);return this},wt.API.viewerPreferences=function(e,r){var n;e=e||{},r=r||!1;var s,a,i,o={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},l=Object.keys(o),c=[],d=0,m=0,u=0;function h(g,b){var j,x=!1;for(j=0;j<g.length;j+=1)g[j]===b&&(x=!0);return x}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(o)),this.internal.viewerpreferences.isSubscribed=!1),n=this.internal.viewerpreferences.configuration,e==="reset"||r===!0){var p=l.length;for(u=0;u<p;u+=1)n[l[u]].value=n[l[u]].defaultValue,n[l[u]].explicitSet=!1}if(Xt(e)==="object"){for(a in e)if(i=e[a],h(l,a)&&i!==void 0){if(n[a].type==="boolean"&&typeof i=="boolean")n[a].value=i;else if(n[a].type==="name"&&h(n[a].valueSet,i))n[a].value=i;else if(n[a].type==="integer"&&Number.isInteger(i))n[a].value=i;else if(n[a].type==="array"){for(d=0;d<i.length;d+=1)if(s=!0,i[d].length===1&&typeof i[d][0]=="number")c.push(String(i[d]-1));else if(i[d].length>1){for(m=0;m<i[d].length;m+=1)typeof i[d][m]!="number"&&(s=!1);s===!0&&c.push([i[d][0]-1,i[d][1]-1].join(" "))}n[a].value="["+c.join(" ")+"]"}else n[a].value=n[a].defaultValue;n[a].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var g,b=[];for(g in n)n[g].explicitSet===!0&&(n[g].type==="name"?b.push("/"+g+" /"+n[g].value):b.push("/"+g+" "+n[g].value));b.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+b.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=n,this},function(e){var r=function(){var s='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',a=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),i=unescape(encodeURIComponent(s)),o=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),l=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),c=unescape(encodeURIComponent("</x:xmpmeta>")),d=i.length+o.length+l.length+a.length+c.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+d+" >>"),this.internal.write("stream"),this.internal.write(a+i+o+l+c),this.internal.write("endstream"),this.internal.write("endobj")},n=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};e.addMetadata=function(s,a){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:s,namespaceuri:a||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",n),this.internal.events.subscribe("postPutResources",r)),this}}(wt.API),function(e){var r=e.API,n=r.pdfEscape16=function(i,o){for(var l,c=o.metadata.Unicode.widths,d=["","0","00","000","0000"],m=[""],u=0,h=i.length;u<h;++u){if(l=o.metadata.characterToGlyph(i.charCodeAt(u)),o.metadata.glyIdsUsed.push(l),o.metadata.toUnicode[l]=i.charCodeAt(u),c.indexOf(l)==-1&&(c.push(l),c.push([parseInt(o.metadata.widthOfGlyph(l),10)])),l=="0")return m.join("");l=l.toString(16),m.push(d[4-l.length],l)}return m.join("")},s=function(i){var o,l,c,d,m,u,h;for(m=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,c=[],u=0,h=(l=Object.keys(i).sort(function(p,g){return p-g})).length;u<h;u++)o=l[u],c.length>=100&&(m+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar`,c=[]),i[o]!==void 0&&i[o]!==null&&typeof i[o].toString=="function"&&(d=("0000"+i[o].toString(16)).slice(-4),o=("0000"+(+o).toString(16)).slice(-4),c.push("<"+o+"><"+d+">"));return c.length&&(m+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar
`),m+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};r.events.push(["putFont",function(i){(function(o){var l=o.font,c=o.out,d=o.newObject,m=o.putStream;if(l.metadata instanceof e.API.TTFFont&&l.encoding==="Identity-H"){for(var u=l.metadata.Unicode.widths,h=l.metadata.subset.encode(l.metadata.glyIdsUsed,1),p="",g=0;g<h.length;g++)p+=String.fromCharCode(h[g]);var b=d();m({data:p,addLength1:!0,objectId:b}),c("endobj");var j=d();m({data:s(l.metadata.toUnicode),addLength1:!0,objectId:j}),c("endobj");var x=d();c("<<"),c("/Type /FontDescriptor"),c("/FontName /"+Mc(l.fontName)),c("/FontFile2 "+b+" 0 R"),c("/FontBBox "+e.API.PDFObject.convert(l.metadata.bbox)),c("/Flags "+l.metadata.flags),c("/StemV "+l.metadata.stemV),c("/ItalicAngle "+l.metadata.italicAngle),c("/Ascent "+l.metadata.ascender),c("/Descent "+l.metadata.decender),c("/CapHeight "+l.metadata.capHeight),c(">>"),c("endobj");var v=d();c("<<"),c("/Type /Font"),c("/BaseFont /"+Mc(l.fontName)),c("/FontDescriptor "+x+" 0 R"),c("/W "+e.API.PDFObject.convert(u)),c("/CIDToGIDMap /Identity"),c("/DW 1000"),c("/Subtype /CIDFontType2"),c("/CIDSystemInfo"),c("<<"),c("/Supplement 0"),c("/Registry (Adobe)"),c("/Ordering ("+l.encoding+")"),c(">>"),c(">>"),c("endobj"),l.objectNumber=d(),c("<<"),c("/Type /Font"),c("/Subtype /Type0"),c("/ToUnicode "+j+" 0 R"),c("/BaseFont /"+Mc(l.fontName)),c("/Encoding /"+l.encoding),c("/DescendantFonts ["+v+" 0 R]"),c(">>"),c("endobj"),l.isAlreadyPutted=!0}})(i)}]),r.events.push(["putFont",function(i){(function(o){var l=o.font,c=o.out,d=o.newObject,m=o.putStream;if(l.metadata instanceof e.API.TTFFont&&l.encoding==="WinAnsiEncoding"){for(var u=l.metadata.rawData,h="",p=0;p<u.length;p++)h+=String.fromCharCode(u[p]);var g=d();m({data:h,addLength1:!0,objectId:g}),c("endobj");var b=d();m({data:s(l.metadata.toUnicode),addLength1:!0,objectId:b}),c("endobj");var j=d();c("<<"),c("/Descent "+l.metadata.decender),c("/CapHeight "+l.metadata.capHeight),c("/StemV "+l.metadata.stemV),c("/Type /FontDescriptor"),c("/FontFile2 "+g+" 0 R"),c("/Flags 96"),c("/FontBBox "+e.API.PDFObject.convert(l.metadata.bbox)),c("/FontName /"+Mc(l.fontName)),c("/ItalicAngle "+l.metadata.italicAngle),c("/Ascent "+l.metadata.ascender),c(">>"),c("endobj"),l.objectNumber=d();for(var x=0;x<l.metadata.hmtx.widths.length;x++)l.metadata.hmtx.widths[x]=parseInt(l.metadata.hmtx.widths[x]*(1e3/l.metadata.head.unitsPerEm));c("<</Subtype/TrueType/Type/Font/ToUnicode "+b+" 0 R/BaseFont/"+Mc(l.fontName)+"/FontDescriptor "+j+" 0 R/Encoding/"+l.encoding+" /FirstChar 29 /LastChar 255 /Widths "+e.API.PDFObject.convert(l.metadata.hmtx.widths)+">>"),c("endobj"),l.isAlreadyPutted=!0}})(i)}]);var a=function(i){var o,l=i.text||"",c=i.x,d=i.y,m=i.options||{},u=i.mutex||{},h=u.pdfEscape,p=u.activeFontKey,g=u.fonts,b=p,j="",x=0,v="",y=g[b].encoding;if(g[b].encoding!=="Identity-H")return{text:l,x:c,y:d,options:m,mutex:u};for(v=l,b=p,Array.isArray(l)&&(v=l[0]),x=0;x<v.length;x+=1)g[b].metadata.hasOwnProperty("cmap")&&(o=g[b].metadata.cmap.unicode.codeMap[v[x].charCodeAt(0)]),o||v[x].charCodeAt(0)<256&&g[b].metadata.hasOwnProperty("Unicode")?j+=v[x]:j+="";var E="";return parseInt(b.slice(1))<14||y==="WinAnsiEncoding"?E=h(j,b).split("").map(function(O){return O.charCodeAt(0).toString(16)}).join(""):y==="Identity-H"&&(E=n(j,g[b])),u.isHex=!0,{text:E,x:c,y:d,options:m,mutex:u}};r.events.push(["postProcessText",function(i){var o=i.text||"",l=[],c={text:o,x:i.x,y:i.y,options:i.options,mutex:i.mutex};if(Array.isArray(o)){var d=0;for(d=0;d<o.length;d+=1)Array.isArray(o[d])&&o[d].length===3?l.push([a(Object.assign({},c,{text:o[d][0]})).text,o[d][1],o[d][2]]):l.push(a(Object.assign({},c,{text:o[d]})).text);i.text=l}else i.text=a(Object.assign({},c,{text:o})).text}])}(wt),function(e){var r=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};e.existsFileInVFS=function(n){return r.call(this),this.internal.vFS[n]!==void 0},e.addFileToVFS=function(n,s){return r.call(this),this.internal.vFS[n]=s,this},e.getFileFromVFS=function(n){return r.call(this),this.internal.vFS[n]!==void 0?this.internal.vFS[n]:null}}(wt.API),function(e){e.__bidiEngine__=e.prototype.__bidiEngine__=function(s){var a,i,o,l,c,d,m,u=r,h=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],p=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],g={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},b={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},j=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],x=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),v=!1,y=0;this.__bidiEngine__={};var E=function(C){var w=C.charCodeAt(),L=w>>8,T=b[L];return T!==void 0?u[256*T+(255&w)]:L===252||L===253?"AL":x.test(L)?"L":L===8?"R":"N"},O=function(C){for(var w,L=0;L<C.length;L++){if((w=E(C.charAt(L)))==="L")return!1;if(w==="R")return!0}return!1},M=function(C,w,L,T){var W,V,_,B,U=w[T];switch(U){case"L":case"R":v=!1;break;case"N":case"AN":break;case"EN":v&&(U="AN");break;case"AL":v=!0,U="R";break;case"WS":U="N";break;case"CS":T<1||T+1>=w.length||(W=L[T-1])!=="EN"&&W!=="AN"||(V=w[T+1])!=="EN"&&V!=="AN"?U="N":v&&(V="AN"),U=V===W?V:"N";break;case"ES":U=(W=T>0?L[T-1]:"B")==="EN"&&T+1<w.length&&w[T+1]==="EN"?"EN":"N";break;case"ET":if(T>0&&L[T-1]==="EN"){U="EN";break}if(v){U="N";break}for(_=T+1,B=w.length;_<B&&w[_]==="ET";)_++;U=_<B&&w[_]==="EN"?"EN":"N";break;case"NSM":if(o&&!l){for(B=w.length,_=T+1;_<B&&w[_]==="NSM";)_++;if(_<B){var H=C[T],q=H>=1425&&H<=2303||H===64286;if(W=w[_],q&&(W==="R"||W==="AL")){U="R";break}}}U=T<1||(W=w[T-1])==="B"?"N":L[T-1];break;case"B":v=!1,a=!0,U=y;break;case"S":i=!0,U="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":v=!1;break;case"BN":U="N"}return U},P=function(C,w,L){var T=C.split("");return L&&S(T,L,{hiLevel:y}),T.reverse(),w&&w.reverse(),T.join("")},S=function(C,w,L){var T,W,V,_,B,U=-1,H=C.length,q=0,R=[],$=y?p:h,G=[];for(v=!1,a=!1,i=!1,W=0;W<H;W++)G[W]=E(C[W]);for(V=0;V<H;V++){if(B=q,R[V]=M(C,G,R,V),T=240&(q=$[B][g[R[V]]]),q&=15,w[V]=_=$[q][5],T>0)if(T===16){for(W=U;W<V;W++)w[W]=1;U=-1}else U=-1;if($[q][6])U===-1&&(U=V);else if(U>-1){for(W=U;W<V;W++)w[W]=_;U=-1}G[V]==="B"&&(w[V]=0),L.hiLevel|=_}i&&function(X,Z,le){for(var ce=0;ce<le;ce++)if(X[ce]==="S"){Z[ce]=y;for(var de=ce-1;de>=0&&X[de]==="WS";de--)Z[de]=y}}(G,w,H)},I=function(C,w,L,T,W){if(!(W.hiLevel<C)){if(C===1&&y===1&&!a)return w.reverse(),void(L&&L.reverse());for(var V,_,B,U,H=w.length,q=0;q<H;){if(T[q]>=C){for(B=q+1;B<H&&T[B]>=C;)B++;for(U=q,_=B-1;U<_;U++,_--)V=w[U],w[U]=w[_],w[_]=V,L&&(V=L[U],L[U]=L[_],L[_]=V);q=B}q++}}},k=function(C,w,L){var T=C.split(""),W={hiLevel:y};return L||(L=[]),S(T,L,W),function(V,_,B){if(B.hiLevel!==0&&m)for(var U,H=0;H<V.length;H++)_[H]===1&&(U=j.indexOf(V[H]))>=0&&(V[H]=j[U+1])}(T,L,W),I(2,T,w,L,W),I(1,T,w,L,W),T.join("")};return this.__bidiEngine__.doBidiReorder=function(C,w,L){if(function(W,V){if(V)for(var _=0;_<W.length;_++)V[_]=_;l===void 0&&(l=O(W)),d===void 0&&(d=O(W))}(C,w),o||!c||d)if(o&&c&&l^d)y=l?1:0,C=P(C,w,L);else if(!o&&c&&d)y=l?1:0,C=k(C,w,L),C=P(C,w);else if(!o||l||c||d){if(o&&!c&&l^d)C=P(C,w),l?(y=0,C=k(C,w,L)):(y=1,C=k(C,w,L),C=P(C,w));else if(o&&l&&!c&&d)y=1,C=k(C,w,L),C=P(C,w);else if(!o&&!c&&l^d){var T=m;l?(y=1,C=k(C,w,L),y=0,m=!1,C=k(C,w,L),m=T):(y=0,C=k(C,w,L),C=P(C,w),y=1,m=!1,C=k(C,w,L),m=T,C=P(C,w))}}else y=0,C=k(C,w,L);else y=l?1:0,C=k(C,w,L);return C},this.__bidiEngine__.setOptions=function(C){C&&(o=C.isInputVisual,c=C.isOutputVisual,l=C.isInputRtl,d=C.isOutputRtl,m=C.isSymmetricSwapping)},this.__bidiEngine__.setOptions(s),this.__bidiEngine__};var r=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],n=new e.__bidiEngine__({isInputVisual:!0});e.API.events.push(["postProcessText",function(s){var a=s.text,i=(s.x,s.y,s.options||{}),o=(s.mutex,i.lang,[]);if(i.isInputVisual=typeof i.isInputVisual!="boolean"||i.isInputVisual,n.setOptions(i),Object.prototype.toString.call(a)==="[object Array]"){var l=0;for(o=[],l=0;l<a.length;l+=1)Object.prototype.toString.call(a[l])==="[object Array]"?o.push([n.doBidiReorder(a[l][0]),a[l][1],a[l][2]]):o.push([n.doBidiReorder(a[l])]);s.text=o}else s.text=n.doBidiReorder(a);n.setOptions({isInputVisual:!0})}])}(wt),wt.API.TTFFont=function(){function e(r){var n;if(this.rawData=r,n=this.contents=new Yo(r),this.contents.pos=4,n.readString(4)==="ttcf")throw new Error("TTCF not supported.");n.pos=0,this.parse(),this.subset=new lU(this),this.registerTTF()}return e.open=function(r){return new e(r)},e.prototype.parse=function(){return this.directory=new Q$(this.contents),this.head=new K$(this),this.name=new tU(this),this.cmap=new wE(this),this.toUnicode={},this.hhea=new J$(this),this.maxp=new rU(this),this.hmtx=new nU(this),this.post=new Z$(this),this.os2=new X$(this),this.loca=new oU(this),this.glyf=new sU(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},e.prototype.registerTTF=function(){var r,n,s,a,i;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var o,l,c,d;for(d=[],o=0,l=(c=this.bbox).length;o<l;o++)r=c[o],d.push(Math.round(r*this.scaleFactor));return d}).call(this),this.stemV=0,this.post.exists?(s=255&(a=this.post.italic_angle),32768&(n=a>>16)&&(n=-(1+(65535^n))),this.italicAngle=+(n+"."+s)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(i=this.familyClass)===1||i===2||i===3||i===4||i===5||i===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},e.prototype.characterToGlyph=function(r){var n;return((n=this.cmap.unicode)!=null?n.codeMap[r]:void 0)||0},e.prototype.widthOfGlyph=function(r){var n;return n=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(r).advance*n},e.prototype.widthOfString=function(r,n,s){var a,i,o,l;for(o=0,i=0,l=(r=""+r).length;0<=l?i<l:i>l;i=0<=l?++i:--i)a=r.charCodeAt(i),o+=this.widthOfGlyph(this.characterToGlyph(a))+s*(1e3/n)||0;return o*(n/1e3)},e.prototype.lineHeight=function(r,n){var s;return n==null&&(n=!1),s=n?this.lineGap:0,(this.ascender+s-this.decender)/1e3*r},e}();var Ua,Yo=function(){function e(r){this.data=r??[],this.pos=0,this.length=this.data.length}return e.prototype.readByte=function(){return this.data[this.pos++]},e.prototype.writeByte=function(r){return this.data[this.pos++]=r},e.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},e.prototype.writeUInt32=function(r){return this.writeByte(r>>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r)},e.prototype.readInt32=function(){var r;return(r=this.readUInt32())>=2147483648?r-4294967296:r},e.prototype.writeInt32=function(r){return r<0&&(r+=4294967296),this.writeUInt32(r)},e.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},e.prototype.writeUInt16=function(r){return this.writeByte(r>>8&255),this.writeByte(255&r)},e.prototype.readInt16=function(){var r;return(r=this.readUInt16())>=32768?r-65536:r},e.prototype.writeInt16=function(r){return r<0&&(r+=65536),this.writeUInt16(r)},e.prototype.readString=function(r){var n,s;for(s=[],n=0;0<=r?n<r:n>r;n=0<=r?++n:--n)s[n]=String.fromCharCode(this.readByte());return s.join("")},e.prototype.writeString=function(r){var n,s,a;for(a=[],n=0,s=r.length;0<=s?n<s:n>s;n=0<=s?++n:--n)a.push(this.writeByte(r.charCodeAt(n)));return a},e.prototype.readShort=function(){return this.readInt16()},e.prototype.writeShort=function(r){return this.writeInt16(r)},e.prototype.readLongLong=function(){var r,n,s,a,i,o,l,c;return r=this.readByte(),n=this.readByte(),s=this.readByte(),a=this.readByte(),i=this.readByte(),o=this.readByte(),l=this.readByte(),c=this.readByte(),128&r?-1*(72057594037927940*(255^r)+281474976710656*(255^n)+1099511627776*(255^s)+4294967296*(255^a)+16777216*(255^i)+65536*(255^o)+256*(255^l)+(255^c)+1):72057594037927940*r+281474976710656*n+1099511627776*s+4294967296*a+16777216*i+65536*o+256*l+c},e.prototype.writeLongLong=function(r){var n,s;return n=Math.floor(r/4294967296),s=4294967295&r,this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n),this.writeByte(s>>24&255),this.writeByte(s>>16&255),this.writeByte(s>>8&255),this.writeByte(255&s)},e.prototype.readInt=function(){return this.readInt32()},e.prototype.writeInt=function(r){return this.writeInt32(r)},e.prototype.read=function(r){var n,s;for(n=[],s=0;0<=r?s<r:s>r;s=0<=r?++s:--s)n.push(this.readByte());return n},e.prototype.write=function(r){var n,s,a,i;for(i=[],s=0,a=r.length;s<a;s++)n=r[s],i.push(this.writeByte(n));return i},e}(),Q$=function(){var e;function r(n){var s,a,i;for(this.scalarType=n.readInt(),this.tableCount=n.readShort(),this.searchRange=n.readShort(),this.entrySelector=n.readShort(),this.rangeShift=n.readShort(),this.tables={},a=0,i=this.tableCount;0<=i?a<i:a>i;a=0<=i?++a:--a)s={tag:n.readString(4),checksum:n.readInt(),offset:n.readInt(),length:n.readInt()},this.tables[s.tag]=s}return r.prototype.encode=function(n){var s,a,i,o,l,c,d,m,u,h,p,g,b;for(b in p=Object.keys(n).length,c=Math.log(2),u=16*Math.floor(Math.log(p)/c),o=Math.floor(u/c),m=16*p-u,(a=new Yo).writeInt(this.scalarType),a.writeShort(p),a.writeShort(u),a.writeShort(o),a.writeShort(m),i=16*p,d=a.pos+i,l=null,g=[],n)for(h=n[b],a.writeString(b),a.writeInt(e(h)),a.writeInt(d),a.writeInt(h.length),g=g.concat(h),b==="head"&&(l=d),d+=h.length;d%4;)g.push(0),d++;return a.write(g),s=2981146554-e(a.data),a.pos=l+8,a.writeUInt32(s),a.data},e=function(n){var s,a,i,o;for(n=NE.call(n);n.length%4;)n.push(0);for(i=new Yo(n),a=0,s=0,o=n.length;s<o;s=s+=4)a+=i.readUInt32();return 4294967295&a},r}(),Y$={}.hasOwnProperty,gi=function(e,r){for(var n in r)Y$.call(r,n)&&(e[n]=r[n]);function s(){this.constructor=e}return s.prototype=r.prototype,e.prototype=new s,e.__super__=r.prototype,e};Ua=function(){function e(r){var n;this.file=r,n=this.file.directory.tables[this.tag],this.exists=!!n,n&&(this.offset=n.offset,this.length=n.length,this.parse(this.file.contents))}return e.prototype.parse=function(){},e.prototype.encode=function(){},e.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},e}();var K$=function(e){function r(){return r.__super__.constructor.apply(this,arguments)}return gi(r,Ua),r.prototype.tag="head",r.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.revision=n.readInt(),this.checkSumAdjustment=n.readInt(),this.magicNumber=n.readInt(),this.flags=n.readShort(),this.unitsPerEm=n.readShort(),this.created=n.readLongLong(),this.modified=n.readLongLong(),this.xMin=n.readShort(),this.yMin=n.readShort(),this.xMax=n.readShort(),this.yMax=n.readShort(),this.macStyle=n.readShort(),this.lowestRecPPEM=n.readShort(),this.fontDirectionHint=n.readShort(),this.indexToLocFormat=n.readShort(),this.glyphDataFormat=n.readShort()},r.prototype.encode=function(n){var s;return(s=new Yo).writeInt(this.version),s.writeInt(this.revision),s.writeInt(this.checkSumAdjustment),s.writeInt(this.magicNumber),s.writeShort(this.flags),s.writeShort(this.unitsPerEm),s.writeLongLong(this.created),s.writeLongLong(this.modified),s.writeShort(this.xMin),s.writeShort(this.yMin),s.writeShort(this.xMax),s.writeShort(this.yMax),s.writeShort(this.macStyle),s.writeShort(this.lowestRecPPEM),s.writeShort(this.fontDirectionHint),s.writeShort(n),s.writeShort(this.glyphDataFormat),s.data},r}(),k5=function(){function e(r,n){var s,a,i,o,l,c,d,m,u,h,p,g,b,j,x,v,y;switch(this.platformID=r.readUInt16(),this.encodingID=r.readShort(),this.offset=n+r.readInt(),u=r.pos,r.pos=this.offset,this.format=r.readUInt16(),this.length=r.readUInt16(),this.language=r.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(c=0;c<256;++c)this.codeMap[c]=r.readByte();break;case 4:for(p=r.readUInt16(),h=p/2,r.pos+=6,i=function(){var E,O;for(O=[],c=E=0;0<=h?E<h:E>h;c=0<=h?++E:--E)O.push(r.readUInt16());return O}(),r.pos+=2,b=function(){var E,O;for(O=[],c=E=0;0<=h?E<h:E>h;c=0<=h?++E:--E)O.push(r.readUInt16());return O}(),d=function(){var E,O;for(O=[],c=E=0;0<=h?E<h:E>h;c=0<=h?++E:--E)O.push(r.readUInt16());return O}(),m=function(){var E,O;for(O=[],c=E=0;0<=h?E<h:E>h;c=0<=h?++E:--E)O.push(r.readUInt16());return O}(),a=(this.length-r.pos+this.offset)/2,l=function(){var E,O;for(O=[],c=E=0;0<=a?E<a:E>a;c=0<=a?++E:--E)O.push(r.readUInt16());return O}(),c=x=0,y=i.length;x<y;c=++x)for(j=i[c],s=v=g=b[c];g<=j?v<=j:v>=j;s=g<=j?++v:--v)m[c]===0?o=s+d[c]:(o=l[m[c]/2+(s-g)-(h-c)]||0)!==0&&(o+=d[c]),this.codeMap[s]=65535&o}r.pos=u}return e.encode=function(r,n){var s,a,i,o,l,c,d,m,u,h,p,g,b,j,x,v,y,E,O,M,P,S,I,k,C,w,L,T,W,V,_,B,U,H,q,R,$,G,X,Z,le,ce,de,Se,ye,Ee;switch(T=new Yo,o=Object.keys(r).sort(function(Fe,he){return Fe-he}),n){case"macroman":for(b=0,j=function(){var Fe=[];for(g=0;g<256;++g)Fe.push(0);return Fe}(),v={0:0},i={},W=0,U=o.length;W<U;W++)v[de=r[a=o[W]]]==null&&(v[de]=++b),i[a]={old:r[a],new:v[r[a]]},j[a]=v[r[a]];return T.writeUInt16(1),T.writeUInt16(0),T.writeUInt32(12),T.writeUInt16(0),T.writeUInt16(262),T.writeUInt16(0),T.write(j),{charMap:i,subtable:T.data,maxGlyphID:b+1};case"unicode":for(w=[],u=[],y=0,v={},s={},x=d=null,V=0,H=o.length;V<H;V++)v[O=r[a=o[V]]]==null&&(v[O]=++y),s[a]={old:O,new:v[O]},l=v[O]-a,x!=null&&l===d||(x&&u.push(x),w.push(a),d=l),x=a;for(x&&u.push(x),u.push(65535),w.push(65535),k=2*(I=w.length),S=2*Math.pow(Math.log(I)/Math.LN2,2),h=Math.log(S/2)/Math.LN2,P=2*I-S,c=[],M=[],p=[],g=_=0,q=w.length;_<q;g=++_){if(C=w[g],m=u[g],C===65535){c.push(0),M.push(0);break}if(C-(L=s[C].new)>=32768)for(c.push(0),M.push(2*(p.length+I-g)),a=B=C;C<=m?B<=m:B>=m;a=C<=m?++B:--B)p.push(s[a].new);else c.push(L-C),M.push(0)}for(T.writeUInt16(3),T.writeUInt16(1),T.writeUInt32(12),T.writeUInt16(4),T.writeUInt16(16+8*I+2*p.length),T.writeUInt16(0),T.writeUInt16(k),T.writeUInt16(S),T.writeUInt16(h),T.writeUInt16(P),le=0,R=u.length;le<R;le++)a=u[le],T.writeUInt16(a);for(T.writeUInt16(0),ce=0,$=w.length;ce<$;ce++)a=w[ce],T.writeUInt16(a);for(Se=0,G=c.length;Se<G;Se++)l=c[Se],T.writeUInt16(l);for(ye=0,X=M.length;ye<X;ye++)E=M[ye],T.writeUInt16(E);for(Ee=0,Z=p.length;Ee<Z;Ee++)b=p[Ee],T.writeUInt16(b);return{charMap:s,subtable:T.data,maxGlyphID:y+1}}},e}(),wE=function(e){function r(){return r.__super__.constructor.apply(this,arguments)}return gi(r,Ua),r.prototype.tag="cmap",r.prototype.parse=function(n){var s,a,i;for(n.pos=this.offset,this.version=n.readUInt16(),i=n.readUInt16(),this.tables=[],this.unicode=null,a=0;0<=i?a<i:a>i;a=0<=i?++a:--a)s=new k5(n,this.offset),this.tables.push(s),s.isUnicode&&this.unicode==null&&(this.unicode=s);return!0},r.encode=function(n,s){var a,i;return s==null&&(s="macroman"),a=k5.encode(n,s),(i=new Yo).writeUInt16(0),i.writeUInt16(1),a.table=i.data.concat(a.subtable),a},r}(),J$=function(e){function r(){return r.__super__.constructor.apply(this,arguments)}return gi(r,Ua),r.prototype.tag="hhea",r.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.ascender=n.readShort(),this.decender=n.readShort(),this.lineGap=n.readShort(),this.advanceWidthMax=n.readShort(),this.minLeftSideBearing=n.readShort(),this.minRightSideBearing=n.readShort(),this.xMaxExtent=n.readShort(),this.caretSlopeRise=n.readShort(),this.caretSlopeRun=n.readShort(),this.caretOffset=n.readShort(),n.pos+=8,this.metricDataFormat=n.readShort(),this.numberOfMetrics=n.readUInt16()},r}(),X$=function(e){function r(){return r.__super__.constructor.apply(this,arguments)}return gi(r,Ua),r.prototype.tag="OS/2",r.prototype.parse=function(n){if(n.pos=this.offset,this.version=n.readUInt16(),this.averageCharWidth=n.readShort(),this.weightClass=n.readUInt16(),this.widthClass=n.readUInt16(),this.type=n.readShort(),this.ySubscriptXSize=n.readShort(),this.ySubscriptYSize=n.readShort(),this.ySubscriptXOffset=n.readShort(),this.ySubscriptYOffset=n.readShort(),this.ySuperscriptXSize=n.readShort(),this.ySuperscriptYSize=n.readShort(),this.ySuperscriptXOffset=n.readShort(),this.ySuperscriptYOffset=n.readShort(),this.yStrikeoutSize=n.readShort(),this.yStrikeoutPosition=n.readShort(),this.familyClass=n.readShort(),this.panose=function(){var s,a;for(a=[],s=0;s<10;++s)a.push(n.readByte());return a}(),this.charRange=function(){var s,a;for(a=[],s=0;s<4;++s)a.push(n.readInt());return a}(),this.vendorID=n.readString(4),this.selection=n.readShort(),this.firstCharIndex=n.readShort(),this.lastCharIndex=n.readShort(),this.version>0&&(this.ascent=n.readShort(),this.descent=n.readShort(),this.lineGap=n.readShort(),this.winAscent=n.readShort(),this.winDescent=n.readShort(),this.codePageRange=function(){var s,a;for(a=[],s=0;s<2;s=++s)a.push(n.readInt());return a}(),this.version>1))return this.xHeight=n.readShort(),this.capHeight=n.readShort(),this.defaultChar=n.readShort(),this.breakChar=n.readShort(),this.maxContext=n.readShort()},r}(),Z$=function(e){function r(){return r.__super__.constructor.apply(this,arguments)}return gi(r,Ua),r.prototype.tag="post",r.prototype.parse=function(n){var s,a,i;switch(n.pos=this.offset,this.format=n.readInt(),this.italicAngle=n.readInt(),this.underlinePosition=n.readShort(),this.underlineThickness=n.readShort(),this.isFixedPitch=n.readInt(),this.minMemType42=n.readInt(),this.maxMemType42=n.readInt(),this.minMemType1=n.readInt(),this.maxMemType1=n.readInt(),this.format){case 65536:break;case 131072:var o;for(a=n.readUInt16(),this.glyphNameIndex=[],o=0;0<=a?o<a:o>a;o=0<=a?++o:--o)this.glyphNameIndex.push(n.readUInt16());for(this.names=[],i=[];n.pos<this.offset+this.length;)s=n.readByte(),i.push(this.names.push(n.readString(s)));return i;case 151552:return a=n.readUInt16(),this.offsets=n.read(a);case 196608:break;case 262144:return this.map=(function(){var l,c,d;for(d=[],o=l=0,c=this.file.maxp.numGlyphs;0<=c?l<c:l>c;o=0<=c?++l:--l)d.push(n.readUInt32());return d}).call(this)}},r}(),eU=function(e,r){this.raw=e,this.length=e.length,this.platformID=r.platformID,this.encodingID=r.encodingID,this.languageID=r.languageID},tU=function(e){function r(){return r.__super__.constructor.apply(this,arguments)}return gi(r,Ua),r.prototype.tag="name",r.prototype.parse=function(n){var s,a,i,o,l,c,d,m,u,h,p;for(n.pos=this.offset,n.readShort(),s=n.readShort(),c=n.readShort(),a=[],o=0;0<=s?o<s:o>s;o=0<=s?++o:--o)a.push({platformID:n.readShort(),encodingID:n.readShort(),languageID:n.readShort(),nameID:n.readShort(),length:n.readShort(),offset:this.offset+c+n.readShort()});for(d={},o=u=0,h=a.length;u<h;o=++u)i=a[o],n.pos=i.offset,m=n.readString(i.length),l=new eU(m,i),d[p=i.nameID]==null&&(d[p]=[]),d[i.nameID].push(l);this.strings=d,this.copyright=d[0],this.fontFamily=d[1],this.fontSubfamily=d[2],this.uniqueSubfamily=d[3],this.fontName=d[4],this.version=d[5];try{this.postscriptName=d[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=d[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=d[7],this.manufacturer=d[8],this.designer=d[9],this.description=d[10],this.vendorUrl=d[11],this.designerUrl=d[12],this.license=d[13],this.licenseUrl=d[14],this.preferredFamily=d[15],this.preferredSubfamily=d[17],this.compatibleFull=d[18],this.sampleText=d[19]},r}(),rU=function(e){function r(){return r.__super__.constructor.apply(this,arguments)}return gi(r,Ua),r.prototype.tag="maxp",r.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.numGlyphs=n.readUInt16(),this.maxPoints=n.readUInt16(),this.maxContours=n.readUInt16(),this.maxCompositePoints=n.readUInt16(),this.maxComponentContours=n.readUInt16(),this.maxZones=n.readUInt16(),this.maxTwilightPoints=n.readUInt16(),this.maxStorage=n.readUInt16(),this.maxFunctionDefs=n.readUInt16(),this.maxInstructionDefs=n.readUInt16(),this.maxStackElements=n.readUInt16(),this.maxSizeOfInstructions=n.readUInt16(),this.maxComponentElements=n.readUInt16(),this.maxComponentDepth=n.readUInt16()},r}(),nU=function(e){function r(){return r.__super__.constructor.apply(this,arguments)}return gi(r,Ua),r.prototype.tag="hmtx",r.prototype.parse=function(n){var s,a,i,o,l,c,d;for(n.pos=this.offset,this.metrics=[],s=0,c=this.file.hhea.numberOfMetrics;0<=c?s<c:s>c;s=0<=c?++s:--s)this.metrics.push({advance:n.readUInt16(),lsb:n.readInt16()});for(i=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var m,u;for(u=[],s=m=0;0<=i?m<i:m>i;s=0<=i?++m:--m)u.push(n.readInt16());return u}(),this.widths=(function(){var m,u,h,p;for(p=[],m=0,u=(h=this.metrics).length;m<u;m++)o=h[m],p.push(o.advance);return p}).call(this),a=this.widths[this.widths.length-1],d=[],s=l=0;0<=i?l<i:l>i;s=0<=i?++l:--l)d.push(this.widths.push(a));return d},r.prototype.forGlyph=function(n){return n in this.metrics?this.metrics[n]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[n-this.metrics.length]}},r}(),NE=[].slice,sU=function(e){function r(){return r.__super__.constructor.apply(this,arguments)}return gi(r,Ua),r.prototype.tag="glyf",r.prototype.parse=function(){return this.cache={}},r.prototype.glyphFor=function(n){var s,a,i,o,l,c,d,m,u,h;return n in this.cache?this.cache[n]:(o=this.file.loca,s=this.file.contents,a=o.indexOf(n),(i=o.lengthOf(n))===0?this.cache[n]=null:(s.pos=this.offset+a,l=(c=new Yo(s.read(i))).readShort(),m=c.readShort(),h=c.readShort(),d=c.readShort(),u=c.readShort(),this.cache[n]=l===-1?new iU(c,m,h,d,u):new aU(c,l,m,h,d,u),this.cache[n]))},r.prototype.encode=function(n,s,a){var i,o,l,c,d;for(l=[],o=[],c=0,d=s.length;c<d;c++)i=n[s[c]],o.push(l.length),i&&(l=l.concat(i.encode(a)));return o.push(l.length),{table:l,offsets:o}},r}(),aU=function(){function e(r,n,s,a,i,o){this.raw=r,this.numberOfContours=n,this.xMin=s,this.yMin=a,this.xMax=i,this.yMax=o,this.compound=!1}return e.prototype.encode=function(){return this.raw.data},e}(),iU=function(){function e(r,n,s,a,i){var o,l;for(this.raw=r,this.xMin=n,this.yMin=s,this.xMax=a,this.yMax=i,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],o=this.raw;l=o.readShort(),this.glyphOffsets.push(o.pos),this.glyphIDs.push(o.readUInt16()),32&l;)o.pos+=1&l?4:2,128&l?o.pos+=8:64&l?o.pos+=4:8&l&&(o.pos+=2)}return e.prototype.encode=function(){var r,n,s;for(n=new Yo(NE.call(this.raw.data)),r=0,s=this.glyphIDs.length;r<s;++r)n.pos=this.glyphOffsets[r];return n.data},e}(),oU=function(e){function r(){return r.__super__.constructor.apply(this,arguments)}return gi(r,Ua),r.prototype.tag="loca",r.prototype.parse=function(n){var s,a;return n.pos=this.offset,s=this.file.head.indexToLocFormat,this.offsets=s===0?(function(){var i,o;for(o=[],a=0,i=this.length;a<i;a+=2)o.push(2*n.readUInt16());return o}).call(this):(function(){var i,o;for(o=[],a=0,i=this.length;a<i;a+=4)o.push(n.readUInt32());return o}).call(this)},r.prototype.indexOf=function(n){return this.offsets[n]},r.prototype.lengthOf=function(n){return this.offsets[n+1]-this.offsets[n]},r.prototype.encode=function(n,s){for(var a=new Uint32Array(this.offsets.length),i=0,o=0,l=0;l<a.length;++l)if(a[l]=i,o<s.length&&s[o]==l){++o,a[l]=i;var c=this.offsets[l],d=this.offsets[l+1]-c;d>0&&(i+=d)}for(var m=new Array(4*a.length),u=0;u<a.length;++u)m[4*u+3]=255&a[u],m[4*u+2]=(65280&a[u])>>8,m[4*u+1]=(16711680&a[u])>>16,m[4*u]=(4278190080&a[u])>>24;return m},r}(),lU=function(){function e(r){this.font=r,this.subset={},this.unicodes={},this.next=33}return e.prototype.generateCmap=function(){var r,n,s,a,i;for(n in a=this.font.cmap.tables[0].codeMap,r={},i=this.subset)s=i[n],r[n]=a[s];return r},e.prototype.glyphsFor=function(r){var n,s,a,i,o,l,c;for(a={},o=0,l=r.length;o<l;o++)a[i=r[o]]=this.font.glyf.glyphFor(i);for(i in n=[],a)(s=a[i])!=null&&s.compound&&n.push.apply(n,s.glyphIDs);if(n.length>0)for(i in c=this.glyphsFor(n))s=c[i],a[i]=s;return a},e.prototype.encode=function(r,n){var s,a,i,o,l,c,d,m,u,h,p,g,b,j,x;for(a in s=wE.encode(this.generateCmap(),"unicode"),o=this.glyphsFor(r),p={0:0},x=s.charMap)p[(c=x[a]).old]=c.new;for(g in h=s.maxGlyphID,o)g in p||(p[g]=h++);return m=function(v){var y,E;for(y in E={},v)E[v[y]]=y;return E}(p),u=Object.keys(m).sort(function(v,y){return v-y}),b=function(){var v,y,E;for(E=[],v=0,y=u.length;v<y;v++)l=u[v],E.push(m[l]);return E}(),i=this.font.glyf.encode(o,b,p),d=this.font.loca.encode(i.offsets,b),j={cmap:this.font.cmap.raw(),glyf:i.table,loca:d,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(n)},this.font.os2.exists&&(j["OS/2"]=this.font.os2.raw()),this.font.directory.encode(j)},e}();wt.API.PDFObject=function(){var e;function r(){}return e=function(n,s){return(Array(s+1).join("0")+n).slice(-s)},r.convert=function(n){var s,a,i,o;if(Array.isArray(n))return"["+function(){var l,c,d;for(d=[],l=0,c=n.length;l<c;l++)s=n[l],d.push(r.convert(s));return d}().join(" ")+"]";if(typeof n=="string")return"/"+n;if(n!=null&&n.isString)return"("+n+")";if(n instanceof Date)return"(D:"+e(n.getUTCFullYear(),4)+e(n.getUTCMonth(),2)+e(n.getUTCDate(),2)+e(n.getUTCHours(),2)+e(n.getUTCMinutes(),2)+e(n.getUTCSeconds(),2)+"Z)";if({}.toString.call(n)==="[object Object]"){for(a in i=["<<"],n)o=n[a],i.push("/"+a+" "+r.convert(o));return i.push(">>"),i.join(`
`)}return""+n},r}();const cU=Object.freeze(Object.defineProperty({__proto__:null,AcroForm:z$,AcroFormAppearance:ft,AcroFormButton:un,AcroFormCheckBox:Ku,AcroFormChoiceField:Rl,AcroFormComboBox:_l,AcroFormEditBox:Qu,AcroFormListBox:Fl,AcroFormPasswordField:Ju,AcroFormPushButton:Yu,AcroFormRadioButton:Ol,AcroFormTextField:zo,GState:Im,ShadingPattern:jo,TilingPattern:Pl,default:wt,jsPDF:wt},Symbol.toStringTag,{value:"Module"}));var dU={exports:{}};const uU=l6(cU);/*!
 * 
 *               jsPDF AutoTable plugin v3.8.4
 *
 *               Copyright (c) 2024 Simon Bengtsson, https://github.com/simonbengtsson/jsPDF-AutoTable
 *               Licensed under the MIT License.
 *               http://opensource.org/licenses/mit-license
 *
 */(function(e,r){(function(s,a){e.exports=a(function(){try{return uU}catch{}}())})(typeof globalThis<"u"?globalThis:typeof wh<"u"?wh:typeof window<"u"?window:typeof self<"u"?self:wh,function(n){return function(){var s={172:function(l,c){var d=this&&this.__extends||function(){var h=function(p,g){return h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,j){b.__proto__=j}||function(b,j){for(var x in j)Object.prototype.hasOwnProperty.call(j,x)&&(b[x]=j[x])},h(p,g)};return function(p,g){if(typeof g!="function"&&g!==null)throw new TypeError("Class extends value "+String(g)+" is not a constructor or null");h(p,g);function b(){this.constructor=p}p.prototype=g===null?Object.create(g):(b.prototype=g.prototype,new b)}}();Object.defineProperty(c,"__esModule",{value:!0}),c.CellHookData=c.HookData=void 0;var m=function(){function h(p,g,b){this.table=g,this.pageNumber=g.pageNumber,this.pageCount=this.pageNumber,this.settings=g.settings,this.cursor=b,this.doc=p.getDocument()}return h}();c.HookData=m;var u=function(h){d(p,h);function p(g,b,j,x,v,y){var E=h.call(this,g,b,y)||this;return E.cell=j,E.row=x,E.column=v,E.section=x.section,E}return p}(m);c.CellHookData=u},340:function(l,c,d){Object.defineProperty(c,"__esModule",{value:!0});var m=d(4),u=d(136),h=d(744),p=d(776),g=d(664),b=d(972);function j(x){x.API.autoTable=function(){for(var v=[],y=0;y<arguments.length;y++)v[y]=arguments[y];var E;v.length===1?E=v[0]:(console.error("Use of deprecated autoTable initiation"),E=v[2]||{},E.columns=v[0],E.body=v[1]);var O=(0,p.parseInput)(this,E),M=(0,b.createTable)(this,O);return(0,g.drawTable)(this,M),this},x.API.lastAutoTable=!1,x.API.previousAutoTable=!1,x.API.autoTable.previous=!1,x.API.autoTableText=function(v,y,E,O){(0,u.default)(v,y,E,O,this)},x.API.autoTableSetDefaults=function(v){return h.DocHandler.setDefaults(v,this),this},x.autoTableSetDefaults=function(v,y){h.DocHandler.setDefaults(v,y)},x.API.autoTableHtmlToJson=function(v,y){var E;if(y===void 0&&(y=!1),typeof window>"u")return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var O=new h.DocHandler(this),M=(0,m.parseHtml)(O,v,window,y,!1),P=M.head,S=M.body,I=((E=P[0])===null||E===void 0?void 0:E.map(function(k){return k.content}))||[];return{columns:I,rows:S,data:S}},x.API.autoTableEndPosY=function(){console.error("Use of deprecated function: autoTableEndPosY. Use doc.lastAutoTable.finalY instead.");var v=this.lastAutoTable;return v&&v.finalY?v.finalY:0},x.API.autoTableAddPageContent=function(v){return console.error("Use of deprecated function: autoTableAddPageContent. Use jsPDF.autoTableSetDefaults({didDrawPage: () => {}}) instead."),x.API.autoTable.globalDefaults||(x.API.autoTable.globalDefaults={}),x.API.autoTable.globalDefaults.addPageContent=v,this},x.API.autoTableAddPage=function(){return console.error("Use of deprecated function: autoTableAddPage. Use doc.addPage()"),this.addPage(),this}}c.default=j},136:function(l,c){Object.defineProperty(c,"__esModule",{value:!0});function d(m,u,h,p,g){p=p||{};var b=1.15,j=g.internal.scaleFactor,x=g.internal.getFontSize()/j,v=g.getLineHeightFactor?g.getLineHeightFactor():b,y=x*v,E=/\r\n|\r|\n/g,O="",M=1;if((p.valign==="middle"||p.valign==="bottom"||p.halign==="center"||p.halign==="right")&&(O=typeof m=="string"?m.split(E):m,M=O.length||1),h+=x*(2-b),p.valign==="middle"?h-=M/2*y:p.valign==="bottom"&&(h-=M*y),p.halign==="center"||p.halign==="right"){var P=x;if(p.halign==="center"&&(P*=.5),O&&M>=1){for(var S=0;S<O.length;S++)g.text(O[S],u-g.getStringUnitWidth(O[S])*P,h),h+=y;return g}u-=g.getStringUnitWidth(m)*P}return p.halign==="justify"?g.text(m,u,h,{maxWidth:p.maxWidth||100,align:"justify"}):g.text(m,u,h),g}c.default=d},420:function(l,c){Object.defineProperty(c,"__esModule",{value:!0}),c.getPageAvailableWidth=c.parseSpacing=c.getFillStyle=c.addTableBorder=c.getStringWidth=void 0;function d(g,b,j){j.applyStyles(b,!0);var x=Array.isArray(g)?g:[g],v=x.map(function(y){return j.getTextWidth(y)}).reduce(function(y,E){return Math.max(y,E)},0);return v}c.getStringWidth=d;function m(g,b,j,x){var v=b.settings.tableLineWidth,y=b.settings.tableLineColor;g.applyStyles({lineWidth:v,lineColor:y});var E=u(v,!1);E&&g.rect(j.x,j.y,b.getWidth(g.pageSize().width),x.y-j.y,E)}c.addTableBorder=m;function u(g,b){var j=g>0,x=b||b===0;return j&&x?"DF":j?"S":x?"F":null}c.getFillStyle=u;function h(g,b){var j,x,v,y;if(g=g||b,Array.isArray(g)){if(g.length>=4)return{top:g[0],right:g[1],bottom:g[2],left:g[3]};if(g.length===3)return{top:g[0],right:g[1],bottom:g[2],left:g[1]};if(g.length===2)return{top:g[0],right:g[1],bottom:g[0],left:g[1]};g.length===1?g=g[0]:g=b}return typeof g=="object"?(typeof g.vertical=="number"&&(g.top=g.vertical,g.bottom=g.vertical),typeof g.horizontal=="number"&&(g.right=g.horizontal,g.left=g.horizontal),{left:(j=g.left)!==null&&j!==void 0?j:b,top:(x=g.top)!==null&&x!==void 0?x:b,right:(v=g.right)!==null&&v!==void 0?v:b,bottom:(y=g.bottom)!==null&&y!==void 0?y:b}):(typeof g!="number"&&(g=b),{top:g,right:g,bottom:g,left:g})}c.parseSpacing=h;function p(g,b){var j=h(b.settings.margin,0);return g.pageSize().width-(j.left+j.right)}c.getPageAvailableWidth=p},796:function(l,c){var d=this&&this.__extends||function(){var p=function(g,b){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(j,x){j.__proto__=x}||function(j,x){for(var v in x)Object.prototype.hasOwnProperty.call(x,v)&&(j[v]=x[v])},p(g,b)};return function(g,b){if(typeof b!="function"&&b!==null)throw new TypeError("Class extends value "+String(b)+" is not a constructor or null");p(g,b);function j(){this.constructor=g}g.prototype=b===null?Object.create(b):(j.prototype=b.prototype,new j)}}();Object.defineProperty(c,"__esModule",{value:!0}),c.getTheme=c.defaultStyles=c.HtmlRowInput=void 0;var m=function(p){d(g,p);function g(b){var j=p.call(this)||this;return j._element=b,j}return g}(Array);c.HtmlRowInput=m;function u(p){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/p,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}}c.defaultStyles=u;function h(p){var g={striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}};return g[p]}c.getTheme=h},903:function(l,c,d){Object.defineProperty(c,"__esModule",{value:!0}),c.parseCss=void 0;var m=d(420);function u(j,x,v,y,E){var O={},M=1.3333333333333333,P=p(x,function(U){return E.getComputedStyle(U).backgroundColor});P!=null&&(O.fillColor=P);var S=p(x,function(U){return E.getComputedStyle(U).color});S!=null&&(O.textColor=S);var I=b(y,v);I&&(O.cellPadding=I);var k="borderTopColor",C=M*v,w=y.borderTopWidth;if(y.borderBottomWidth===w&&y.borderRightWidth===w&&y.borderLeftWidth===w){var L=(parseFloat(w)||0)/C;L&&(O.lineWidth=L)}else O.lineWidth={top:(parseFloat(y.borderTopWidth)||0)/C,right:(parseFloat(y.borderRightWidth)||0)/C,bottom:(parseFloat(y.borderBottomWidth)||0)/C,left:(parseFloat(y.borderLeftWidth)||0)/C},O.lineWidth.top||(O.lineWidth.right?k="borderRightColor":O.lineWidth.bottom?k="borderBottomColor":O.lineWidth.left&&(k="borderLeftColor"));var T=p(x,function(U){return E.getComputedStyle(U)[k]});T!=null&&(O.lineColor=T);var W=["left","right","center","justify"];W.indexOf(y.textAlign)!==-1&&(O.halign=y.textAlign),W=["middle","bottom","top"],W.indexOf(y.verticalAlign)!==-1&&(O.valign=y.verticalAlign);var V=parseInt(y.fontSize||"");isNaN(V)||(O.fontSize=V/M);var _=h(y);_&&(O.fontStyle=_);var B=(y.fontFamily||"").toLowerCase();return j.indexOf(B)!==-1&&(O.font=B),O}c.parseCss=u;function h(j){var x="";return(j.fontWeight==="bold"||j.fontWeight==="bolder"||parseInt(j.fontWeight)>=700)&&(x="bold"),(j.fontStyle==="italic"||j.fontStyle==="oblique")&&(x+="italic"),x}function p(j,x){var v=g(j,x);if(!v)return null;var y=v.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!y||!Array.isArray(y))return null;var E=[parseInt(y[1]),parseInt(y[2]),parseInt(y[3])],O=parseInt(y[4]);return O===0||isNaN(E[0])||isNaN(E[1])||isNaN(E[2])?null:E}function g(j,x){var v=x(j);return v==="rgba(0, 0, 0, 0)"||v==="transparent"||v==="initial"||v==="inherit"?j.parentElement==null?null:g(j.parentElement,x):v}function b(j,x){var v=[j.paddingTop,j.paddingRight,j.paddingBottom,j.paddingLeft],y=96/(72/x),E=(parseInt(j.lineHeight)-parseInt(j.fontSize))/x/2,O=v.map(function(P){return parseInt(P||"0")/y}),M=(0,m.parseSpacing)(O,0);return E>M.top&&(M.top=E),E>M.bottom&&(M.bottom=E),M}},744:function(l,c){Object.defineProperty(c,"__esModule",{value:!0}),c.DocHandler=void 0;var d={},m=function(){function u(h){this.jsPDFDocument=h,this.userStyles={textColor:h.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:h.internal.getFontSize(),fontStyle:h.internal.getFont().fontStyle,font:h.internal.getFont().fontName,lineWidth:h.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:h.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return u.setDefaults=function(h,p){p===void 0&&(p=null),p?p.__autoTableDocumentDefaults=h:d=h},u.unifyColor=function(h){return Array.isArray(h)?h:typeof h=="number"?[h,h,h]:typeof h=="string"?[h]:null},u.prototype.applyStyles=function(h,p){var g,b,j;p===void 0&&(p=!1),h.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(h.fontStyle);var x=this.jsPDFDocument.internal.getFont(),v=x.fontStyle,y=x.fontName;if(h.font&&(y=h.font),h.fontStyle){v=h.fontStyle;var E=this.getFontList()[y];E&&E.indexOf(v)===-1&&(this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(E[0]),v=E[0])}if(this.jsPDFDocument.setFont(y,v),h.fontSize&&this.jsPDFDocument.setFontSize(h.fontSize),!p){var O=u.unifyColor(h.fillColor);O&&(g=this.jsPDFDocument).setFillColor.apply(g,O),O=u.unifyColor(h.textColor),O&&(b=this.jsPDFDocument).setTextColor.apply(b,O),O=u.unifyColor(h.lineColor),O&&(j=this.jsPDFDocument).setDrawColor.apply(j,O),typeof h.lineWidth=="number"&&this.jsPDFDocument.setLineWidth(h.lineWidth)}},u.prototype.splitTextToSize=function(h,p,g){return this.jsPDFDocument.splitTextToSize(h,p,g)},u.prototype.rect=function(h,p,g,b,j){return this.jsPDFDocument.rect(h,p,g,b,j)},u.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},u.prototype.getTextWidth=function(h){return this.jsPDFDocument.getTextWidth(h)},u.prototype.getDocument=function(){return this.jsPDFDocument},u.prototype.setPage=function(h){this.jsPDFDocument.setPage(h)},u.prototype.addPage=function(){return this.jsPDFDocument.addPage()},u.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},u.prototype.getGlobalOptions=function(){return d||{}},u.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},u.prototype.pageSize=function(){var h=this.jsPDFDocument.internal.pageSize;return h.width==null&&(h={width:h.getWidth(),height:h.getHeight()}),h},u.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},u.prototype.getLineHeightFactor=function(){var h=this.jsPDFDocument;return h.getLineHeightFactor?h.getLineHeightFactor():1.15},u.prototype.getLineHeight=function(h){return h/this.scaleFactor()*this.getLineHeightFactor()},u.prototype.pageNumber=function(){var h=this.jsPDFDocument.internal.getCurrentPageInfo();return h?h.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},u}();c.DocHandler=m},4:function(l,c,d){Object.defineProperty(c,"__esModule",{value:!0}),c.parseHtml=void 0;var m=d(903),u=d(796);function h(b,j,x,v,y){var E,O;v===void 0&&(v=!1),y===void 0&&(y=!1);var M;typeof j=="string"?M=x.document.querySelector(j):M=j;var P=Object.keys(b.getFontList()),S=b.scaleFactor(),I=[],k=[],C=[];if(!M)return console.error("Html table could not be found with input: ",j),{head:I,body:k,foot:C};for(var w=0;w<M.rows.length;w++){var L=M.rows[w],T=(O=(E=L==null?void 0:L.parentElement)===null||E===void 0?void 0:E.tagName)===null||O===void 0?void 0:O.toLowerCase(),W=p(P,S,x,L,v,y);W&&(T==="thead"?I.push(W):T==="tfoot"?C.push(W):k.push(W))}return{head:I,body:k,foot:C}}c.parseHtml=h;function p(b,j,x,v,y,E){for(var O=new u.HtmlRowInput(v),M=0;M<v.cells.length;M++){var P=v.cells[M],S=x.getComputedStyle(P);if(y||S.display!=="none"){var I=void 0;E&&(I=(0,m.parseCss)(b,P,j,S,x)),O.push({rowSpan:P.rowSpan,colSpan:P.colSpan,styles:I,_element:P,content:g(P)})}}var k=x.getComputedStyle(v);if(O.length>0&&(y||k.display!=="none"))return O}function g(b){var j=b.cloneNode(!0);return j.innerHTML=j.innerHTML.replace(/\n/g,"").replace(/ +/g," "),j.innerHTML=j.innerHTML.split(/<br.*?>/).map(function(x){return x.trim()}).join(`
`),j.innerText||j.textContent||""}},776:function(l,c,d){Object.defineProperty(c,"__esModule",{value:!0}),c.parseInput=void 0;var m=d(4),u=d(356),h=d(420),p=d(744),g=d(792);function b(M,P){var S=new p.DocHandler(M),I=S.getDocumentOptions(),k=S.getGlobalOptions();(0,g.default)(S,k,I,P);var C=(0,u.assign)({},k,I,P),w;typeof window<"u"&&(w=window);var L=j(k,I,P),T=x(k,I,P),W=v(S,C),V=E(S,C,w);return{id:P.tableId,content:V,hooks:T,styles:L,settings:W}}c.parseInput=b;function j(M,P,S){for(var I={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},k=function(T){if(T==="columnStyles"){var W=M[T],V=P[T],_=S[T];I.columnStyles=(0,u.assign)({},W,V,_)}else{var B=[M,P,S],U=B.map(function(H){return H[T]||{}});I[T]=(0,u.assign)({},U[0],U[1],U[2])}},C=0,w=Object.keys(I);C<w.length;C++){var L=w[C];k(L)}return I}function x(M,P,S){for(var I=[M,P,S],k={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},C=0,w=I;C<w.length;C++){var L=w[C];L.didParseCell&&k.didParseCell.push(L.didParseCell),L.willDrawCell&&k.willDrawCell.push(L.willDrawCell),L.didDrawCell&&k.didDrawCell.push(L.didDrawCell),L.willDrawPage&&k.willDrawPage.push(L.willDrawPage),L.didDrawPage&&k.didDrawPage.push(L.didDrawPage)}return k}function v(M,P){var S,I,k,C,w,L,T,W,V,_,B,U,H=(0,h.parseSpacing)(P.margin,40/M.scaleFactor()),q=(S=y(M,P.startY))!==null&&S!==void 0?S:H.top,R;P.showFoot===!0?R="everyPage":P.showFoot===!1?R="never":R=(I=P.showFoot)!==null&&I!==void 0?I:"everyPage";var $;P.showHead===!0?$="everyPage":P.showHead===!1?$="never":$=(k=P.showHead)!==null&&k!==void 0?k:"everyPage";var G=(C=P.useCss)!==null&&C!==void 0?C:!1,X=P.theme||(G?"plain":"striped"),Z=!!P.horizontalPageBreak,le=(w=P.horizontalPageBreakRepeat)!==null&&w!==void 0?w:null;return{includeHiddenHtml:(L=P.includeHiddenHtml)!==null&&L!==void 0?L:!1,useCss:G,theme:X,startY:q,margin:H,pageBreak:(T=P.pageBreak)!==null&&T!==void 0?T:"auto",rowPageBreak:(W=P.rowPageBreak)!==null&&W!==void 0?W:"auto",tableWidth:(V=P.tableWidth)!==null&&V!==void 0?V:"auto",showHead:$,showFoot:R,tableLineWidth:(_=P.tableLineWidth)!==null&&_!==void 0?_:0,tableLineColor:(B=P.tableLineColor)!==null&&B!==void 0?B:200,horizontalPageBreak:Z,horizontalPageBreakRepeat:le,horizontalPageBreakBehaviour:(U=P.horizontalPageBreakBehaviour)!==null&&U!==void 0?U:"afterAllRows"}}function y(M,P){var S=M.getLastAutoTable(),I=M.scaleFactor(),k=M.pageNumber(),C=!1;if(S&&S.startPageNumber){var w=S.startPageNumber+S.pageNumber-1;C=w===k}return typeof P=="number"?P:(P==null||P===!1)&&C&&(S==null?void 0:S.finalY)!=null?S.finalY+20/I:null}function E(M,P,S){var I=P.head||[],k=P.body||[],C=P.foot||[];if(P.html){var w=P.includeHiddenHtml;if(S){var L=(0,m.parseHtml)(M,P.html,S,w,P.useCss)||{};I=L.head||I,k=L.body||I,C=L.foot||I}else console.error("Cannot parse html in non browser environment")}var T=P.columns||O(I,k,C);return{columns:T,head:I,body:k,foot:C}}function O(M,P,S){var I=M[0]||P[0]||S[0]||[],k=[];return Object.keys(I).filter(function(C){return C!=="_element"}).forEach(function(C){var w=1,L;Array.isArray(I)?L=I[parseInt(C)]:L=I[C],typeof L=="object"&&!Array.isArray(L)&&(w=(L==null?void 0:L.colSpan)||1);for(var T=0;T<w;T++){var W=void 0;Array.isArray(I)?W=k.length:W=C+(T>0?"_".concat(T):"");var V={dataKey:W};k.push(V)}}),k}},792:function(l,c){Object.defineProperty(c,"__esModule",{value:!0});function d(u,h,p,g){for(var b=function(y){y&&typeof y!="object"&&console.error("The options parameter should be of type object, is: "+typeof y),typeof y.extendWidth<"u"&&(y.tableWidth=y.extendWidth?"auto":"wrap",console.error("Use of deprecated option: extendWidth, use tableWidth instead.")),typeof y.margins<"u"&&(typeof y.margin>"u"&&(y.margin=y.margins),console.error("Use of deprecated option: margins, use margin instead.")),y.startY&&typeof y.startY!="number"&&(console.error("Invalid value for startY option",y.startY),delete y.startY),!y.didDrawPage&&(y.afterPageContent||y.beforePageContent||y.afterPageAdd)&&(console.error("The afterPageContent, beforePageContent and afterPageAdd hooks are deprecated. Use didDrawPage instead"),y.didDrawPage=function(C){u.applyStyles(u.userStyles),y.beforePageContent&&y.beforePageContent(C),u.applyStyles(u.userStyles),y.afterPageContent&&y.afterPageContent(C),u.applyStyles(u.userStyles),y.afterPageAdd&&C.pageNumber>1&&C.afterPageAdd(C),u.applyStyles(u.userStyles)}),["createdHeaderCell","drawHeaderRow","drawRow","drawHeaderCell"].forEach(function(C){y[C]&&console.error('The "'.concat(C,'" hook has changed in version 3.0, check the changelog for how to migrate.'))}),[["showFoot","showFooter"],["showHead","showHeader"],["didDrawPage","addPageContent"],["didParseCell","createdCell"],["headStyles","headerStyles"]].forEach(function(C){var w=C[0],L=C[1];y[L]&&(console.error("Use of deprecated option ".concat(L,". Use ").concat(w," instead")),y[w]=y[L])}),[["padding","cellPadding"],["lineHeight","rowHeight"],"fontSize","overflow"].forEach(function(C){var w=typeof C=="string"?C:C[0],L=typeof C=="string"?C:C[1];typeof y[w]<"u"&&(typeof y.styles[L]>"u"&&(y.styles[L]=y[w]),console.error("Use of deprecated option: "+w+", use the style "+L+" instead."))});for(var E=0,O=["styles","bodyStyles","headStyles","footStyles"];E<O.length;E++){var M=O[E];m(y[M]||{})}for(var P=y.columnStyles||{},S=0,I=Object.keys(P);S<I.length;S++){var k=I[S];m(P[k]||{})}},j=0,x=[h,p,g];j<x.length;j++){var v=x[j];b(v)}}c.default=d;function m(u){u.rowHeight?(console.error("Use of deprecated style rowHeight. It is renamed to minCellHeight."),u.minCellHeight||(u.minCellHeight=u.rowHeight)):u.columnWidth&&(console.error("Use of deprecated style columnWidth. It is renamed to cellWidth."),u.cellWidth||(u.cellWidth=u.columnWidth))}},260:function(l,c,d){Object.defineProperty(c,"__esModule",{value:!0}),c.Column=c.Cell=c.Row=c.Table=void 0;var m=d(796),u=d(172),h=d(420),p=function(){function x(v,y){this.pageNumber=1,this.pageCount=1,this.id=v.id,this.settings=v.settings,this.styles=v.styles,this.hooks=v.hooks,this.columns=y.columns,this.head=y.head,this.body=y.body,this.foot=y.foot}return x.prototype.getHeadHeight=function(v){return this.head.reduce(function(y,E){return y+E.getMaxCellHeight(v)},0)},x.prototype.getFootHeight=function(v){return this.foot.reduce(function(y,E){return y+E.getMaxCellHeight(v)},0)},x.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},x.prototype.callCellHooks=function(v,y,E,O,M,P){for(var S=0,I=y;S<I.length;S++){var k=I[S],C=new u.CellHookData(v,this,E,O,M,P),w=k(C)===!1;if(E.text=Array.isArray(E.text)?E.text:[E.text],w)return!1}return!0},x.prototype.callEndPageHooks=function(v,y){v.applyStyles(v.userStyles);for(var E=0,O=this.hooks.didDrawPage;E<O.length;E++){var M=O[E];M(new u.HookData(v,this,y))}},x.prototype.callWillDrawPageHooks=function(v,y){for(var E=0,O=this.hooks.willDrawPage;E<O.length;E++){var M=O[E];M(new u.HookData(v,this,y))}},x.prototype.getWidth=function(v){if(typeof this.settings.tableWidth=="number")return this.settings.tableWidth;if(this.settings.tableWidth==="wrap"){var y=this.columns.reduce(function(O,M){return O+M.wrappedWidth},0);return y}else{var E=this.settings.margin;return v-E.left-E.right}},x}();c.Table=p;var g=function(){function x(v,y,E,O,M){M===void 0&&(M=!1),this.height=0,this.raw=v,v instanceof m.HtmlRowInput&&(this.raw=v._element,this.element=v._element),this.index=y,this.section=E,this.cells=O,this.spansMultiplePages=M}return x.prototype.getMaxCellHeight=function(v){var y=this;return v.reduce(function(E,O){var M;return Math.max(E,((M=y.cells[O.index])===null||M===void 0?void 0:M.height)||0)},0)},x.prototype.hasRowSpan=function(v){var y=this;return v.filter(function(E){var O=y.cells[E.index];return O?O.rowSpan>1:!1}).length>0},x.prototype.canEntireRowFit=function(v,y){return this.getMaxCellHeight(y)<=v},x.prototype.getMinimumRowHeight=function(v,y){var E=this;return v.reduce(function(O,M){var P=E.cells[M.index];if(!P)return 0;var S=y.getLineHeight(P.styles.fontSize),I=P.padding("vertical"),k=I+S;return k>O?k:O},0)},x}();c.Row=g;var b=function(){function x(v,y,E){var O,M;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=y,this.section=E,this.raw=v;var P=v;v!=null&&typeof v=="object"&&!Array.isArray(v)?(this.rowSpan=v.rowSpan||1,this.colSpan=v.colSpan||1,P=(M=(O=v.content)!==null&&O!==void 0?O:v.title)!==null&&M!==void 0?M:v,v._element&&(this.raw=v._element)):(this.rowSpan=1,this.colSpan=1);var S=P!=null?""+P:"",I=/\r\n|\r|\n/g;this.text=S.split(I)}return x.prototype.getTextPos=function(){var v;if(this.styles.valign==="top")v=this.y+this.padding("top");else if(this.styles.valign==="bottom")v=this.y+this.height-this.padding("bottom");else{var y=this.height-this.padding("vertical");v=this.y+y/2+this.padding("top")}var E;if(this.styles.halign==="right")E=this.x+this.width-this.padding("right");else if(this.styles.halign==="center"){var O=this.width-this.padding("horizontal");E=this.x+O/2+this.padding("left")}else E=this.x+this.padding("left");return{x:E,y:v}},x.prototype.getContentHeight=function(v,y){y===void 0&&(y=1.15);var E=Array.isArray(this.text)?this.text.length:1,O=this.styles.fontSize/v*y,M=E*O+this.padding("vertical");return Math.max(M,this.styles.minCellHeight)},x.prototype.padding=function(v){var y=(0,h.parseSpacing)(this.styles.cellPadding,0);return v==="vertical"?y.top+y.bottom:v==="horizontal"?y.left+y.right:y[v]},x}();c.Cell=b;var j=function(){function x(v,y,E){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=v,this.raw=y,this.index=E}return x.prototype.getMaxCustomCellWidth=function(v){for(var y=0,E=0,O=v.allRows();E<O.length;E++){var M=O[E],P=M.cells[this.index];P&&typeof P.styles.cellWidth=="number"&&(y=Math.max(y,P.styles.cellWidth))}return y},x}();c.Column=j},356:function(l,c){Object.defineProperty(c,"__esModule",{value:!0}),c.assign=void 0;function d(m,u,h,p,g){if(m==null)throw new TypeError("Cannot convert undefined or null to object");for(var b=Object(m),j=1;j<arguments.length;j++){var x=arguments[j];if(x!=null)for(var v in x)Object.prototype.hasOwnProperty.call(x,v)&&(b[v]=x[v])}return b}c.assign=d},972:function(l,c,d){Object.defineProperty(c,"__esModule",{value:!0}),c.createTable=void 0;var m=d(744),u=d(260),h=d(324),p=d(796),g=d(356);function b(M,P){var S=new m.DocHandler(M),I=j(P,S.scaleFactor()),k=new u.Table(P,I);return(0,h.calculateWidths)(S,k),S.applyStyles(S.userStyles),k}c.createTable=b;function j(M,P){var S=M.content,I=E(S.columns);if(S.head.length===0){var k=v(I,"head");k&&S.head.push(k)}if(S.foot.length===0){var k=v(I,"foot");k&&S.foot.push(k)}var C=M.settings.theme,w=M.styles;return{columns:I,head:x("head",S.head,I,w,C,P),body:x("body",S.body,I,w,C,P),foot:x("foot",S.foot,I,w,C,P)}}function x(M,P,S,I,k,C){var w={},L=P.map(function(T,W){for(var V=0,_={},B=0,U=0,H=0,q=S;H<q.length;H++){var R=q[H];if(w[R.index]==null||w[R.index].left===0)if(U===0){var $=void 0;Array.isArray(T)?$=T[R.index-B-V]:$=T[R.dataKey];var G={};typeof $=="object"&&!Array.isArray($)&&(G=($==null?void 0:$.styles)||{});var X=O(M,R,W,k,I,C,G),Z=new u.Cell($,X,M);_[R.dataKey]=Z,_[R.index]=Z,U=Z.colSpan-1,w[R.index]={left:Z.rowSpan-1,times:U}}else U--,B++;else w[R.index].left--,U=w[R.index].times,V++}return new u.Row(T,W,M,_)});return L}function v(M,P){var S={};return M.forEach(function(I){if(I.raw!=null){var k=y(P,I.raw);k!=null&&(S[I.dataKey]=k)}}),Object.keys(S).length>0?S:null}function y(M,P){if(M==="head"){if(typeof P=="object")return P.header||P.title||null;if(typeof P=="string"||typeof P=="number")return P}else if(M==="foot"&&typeof P=="object")return P.footer;return null}function E(M){return M.map(function(P,S){var I,k,C;return typeof P=="object"?C=(k=(I=P.dataKey)!==null&&I!==void 0?I:P.key)!==null&&k!==void 0?k:S:C=S,new u.Column(C,P,S)})}function O(M,P,S,I,k,C,w){var L=(0,p.getTheme)(I),T;M==="head"?T=k.headStyles:M==="body"?T=k.bodyStyles:M==="foot"&&(T=k.footStyles);var W=(0,g.assign)({},L.table,L[M],k.styles,T),V=k.columnStyles[P.dataKey]||k.columnStyles[P.index]||{},_=M==="body"?V:{},B=M==="body"&&S%2===0?(0,g.assign)({},L.alternateRow,k.alternateRowStyles):{},U=(0,p.defaultStyles)(C),H=(0,g.assign)({},U,W,B,_);return(0,g.assign)(H,w)}},664:function(l,c,d){Object.defineProperty(c,"__esModule",{value:!0}),c.addPage=c.drawTable=void 0;var m=d(420),u=d(260),h=d(744),p=d(356),g=d(136),b=d(224);function j(V,_){var B=_.settings,U=B.startY,H=B.margin,q={x:H.left,y:U},R=_.getHeadHeight(_.columns)+_.getFootHeight(_.columns),$=U+H.bottom+R;if(B.pageBreak==="avoid"){var G=_.body,X=G.reduce(function(ce,de){return ce+de.height},0);$+=X}var Z=new h.DocHandler(V);(B.pageBreak==="always"||B.startY!=null&&$>Z.pageSize().height)&&(W(Z),q.y=H.top),_.callWillDrawPageHooks(Z,q);var le=(0,p.assign)({},q);_.startPageNumber=Z.pageNumber(),B.horizontalPageBreak?x(Z,_,le,q):(Z.applyStyles(Z.userStyles),(B.showHead==="firstPage"||B.showHead==="everyPage")&&_.head.forEach(function(ce){return k(Z,_,ce,q,_.columns)}),Z.applyStyles(Z.userStyles),_.body.forEach(function(ce,de){var Se=de===_.body.length-1;I(Z,_,ce,Se,le,q,_.columns)}),Z.applyStyles(Z.userStyles),(B.showFoot==="lastPage"||B.showFoot==="everyPage")&&_.foot.forEach(function(ce){return k(Z,_,ce,q,_.columns)})),(0,m.addTableBorder)(Z,_,le,q),_.callEndPageHooks(Z,q),_.finalY=q.y,V.lastAutoTable=_,V.previousAutoTable=_,V.autoTable&&(V.autoTable.previous=_),Z.applyStyles(Z.userStyles)}c.drawTable=j;function x(V,_,B,U){var H=(0,b.calculateAllColumnsCanFitInPage)(V,_),q=_.settings;if(q.horizontalPageBreakBehaviour==="afterAllRows")H.forEach(function(X,Z){V.applyStyles(V.userStyles),Z>0?T(V,_,B,U,X.columns,!0):v(V,_,U,X.columns),y(V,_,B,U,X.columns),O(V,_,U,X.columns)});else for(var R=-1,$=H[0],G=function(){var X=R;if($){V.applyStyles(V.userStyles);var Z=$.columns;R>=0?T(V,_,B,U,Z,!0):v(V,_,U,Z),X=E(V,_,R+1,U,Z),O(V,_,U,Z)}var le=X-R;H.slice(1).forEach(function(ce){V.applyStyles(V.userStyles),T(V,_,B,U,ce.columns,!0),E(V,_,R+1,U,ce.columns,le),O(V,_,U,ce.columns)}),R=X};R<_.body.length-1;)G()}function v(V,_,B,U){var H=_.settings;V.applyStyles(V.userStyles),(H.showHead==="firstPage"||H.showHead==="everyPage")&&_.head.forEach(function(q){return k(V,_,q,B,U)})}function y(V,_,B,U,H){V.applyStyles(V.userStyles),_.body.forEach(function(q,R){var $=R===_.body.length-1;I(V,_,q,$,B,U,H)})}function E(V,_,B,U,H,q){V.applyStyles(V.userStyles),q=q??_.body.length;var R=Math.min(B+q,_.body.length),$=-1;return _.body.slice(B,R).forEach(function(G,X){var Z=B+X===_.body.length-1,le=L(V,_,Z,U);G.canEntireRowFit(le,H)&&(k(V,_,G,U,H),$=B+X)}),$}function O(V,_,B,U){var H=_.settings;V.applyStyles(V.userStyles),(H.showFoot==="lastPage"||H.showFoot==="everyPage")&&_.foot.forEach(function(q){return k(V,_,q,B,U)})}function M(V,_,B){var U=B.getLineHeight(V.styles.fontSize),H=V.padding("vertical"),q=Math.floor((_-H)/U);return Math.max(0,q)}function P(V,_,B,U){var H={};V.spansMultiplePages=!0,V.height=0;for(var q=0,R=0,$=B.columns;R<$.length;R++){var G=$[R],X=V.cells[G.index];if(X){Array.isArray(X.text)||(X.text=[X.text]);var Z=new u.Cell(X.raw,X.styles,X.section);Z=(0,p.assign)(Z,X),Z.text=[];var le=M(X,_,U);X.text.length>le&&(Z.text=X.text.splice(le,X.text.length));var ce=U.scaleFactor(),de=U.getLineHeightFactor();X.contentHeight=X.getContentHeight(ce,de),X.contentHeight>=_&&(X.contentHeight=_,Z.styles.minCellHeight-=_),X.contentHeight>V.height&&(V.height=X.contentHeight),Z.contentHeight=Z.getContentHeight(ce,de),Z.contentHeight>q&&(q=Z.contentHeight),H[G.index]=Z}}var Se=new u.Row(V.raw,-1,V.section,H,!0);Se.height=q;for(var ye=0,Ee=B.columns;ye<Ee.length;ye++){var G=Ee[ye],Z=Se.cells[G.index];Z&&(Z.height=Se.height);var X=V.cells[G.index];X&&(X.height=V.height)}return Se}function S(V,_,B,U){var H=V.pageSize().height,q=U.settings.margin,R=q.top+q.bottom,$=H-R;_.section==="body"&&($-=U.getHeadHeight(U.columns)+U.getFootHeight(U.columns));var G=_.getMinimumRowHeight(U.columns,V),X=G<B;if(G>$)return console.error("Will not be able to print row ".concat(_.index," correctly since it's minimum height is larger than page height")),!0;if(!X)return!1;var Z=_.hasRowSpan(U.columns),le=_.getMaxCellHeight(U.columns)>$;return le?(Z&&console.error("The content of row ".concat(_.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!(Z||U.settings.rowPageBreak==="avoid")}function I(V,_,B,U,H,q,R){var $=L(V,_,U,q);if(B.canEntireRowFit($,R))k(V,_,B,q,R);else if(S(V,B,$,_)){var G=P(B,$,_,V);k(V,_,B,q,R),T(V,_,H,q,R),I(V,_,G,U,H,q,R)}else T(V,_,H,q,R),I(V,_,B,U,H,q,R)}function k(V,_,B,U,H){U.x=_.settings.margin.left;for(var q=0,R=H;q<R.length;q++){var $=R[q],G=B.cells[$.index];if(!G){U.x+=$.width;continue}V.applyStyles(G.styles),G.x=U.x,G.y=U.y;var X=_.callCellHooks(V,_.hooks.willDrawCell,G,B,$,U);if(X===!1){U.x+=$.width;continue}C(V,G,U);var Z=G.getTextPos();(0,g.default)(G.text,Z.x,Z.y,{halign:G.styles.halign,valign:G.styles.valign,maxWidth:Math.ceil(G.width-G.padding("left")-G.padding("right"))},V.getDocument()),_.callCellHooks(V,_.hooks.didDrawCell,G,B,$,U),U.x+=$.width}U.y+=B.height}function C(V,_,B){var U=_.styles;if(V.getDocument().setFillColor(V.getDocument().getFillColor()),typeof U.lineWidth=="number"){var H=(0,m.getFillStyle)(U.lineWidth,U.fillColor);H&&V.rect(_.x,B.y,_.width,_.height,H)}else typeof U.lineWidth=="object"&&(U.fillColor&&V.rect(_.x,B.y,_.width,_.height,"F"),w(V,_,B,U.lineWidth))}function w(V,_,B,U){var H,q,R,$;U.top&&(H=B.x,q=B.y,R=B.x+_.width,$=B.y,U.right&&(R+=.5*U.right),U.left&&(H-=.5*U.left),G(U.top,H,q,R,$)),U.bottom&&(H=B.x,q=B.y+_.height,R=B.x+_.width,$=B.y+_.height,U.right&&(R+=.5*U.right),U.left&&(H-=.5*U.left),G(U.bottom,H,q,R,$)),U.left&&(H=B.x,q=B.y,R=B.x,$=B.y+_.height,U.top&&(q-=.5*U.top),U.bottom&&($+=.5*U.bottom),G(U.left,H,q,R,$)),U.right&&(H=B.x+_.width,q=B.y,R=B.x+_.width,$=B.y+_.height,U.top&&(q-=.5*U.top),U.bottom&&($+=.5*U.bottom),G(U.right,H,q,R,$));function G(X,Z,le,ce,de){V.getDocument().setLineWidth(X),V.getDocument().line(Z,le,ce,de,"S")}}function L(V,_,B,U){var H=_.settings.margin.bottom,q=_.settings.showFoot;return(q==="everyPage"||q==="lastPage"&&B)&&(H+=_.getFootHeight(_.columns)),V.pageSize().height-U.y-H}function T(V,_,B,U,H,q){H===void 0&&(H=[]),q===void 0&&(q=!1),V.applyStyles(V.userStyles),_.settings.showFoot==="everyPage"&&!q&&_.foot.forEach(function($){return k(V,_,$,U,H)}),_.callEndPageHooks(V,U);var R=_.settings.margin;(0,m.addTableBorder)(V,_,B,U),W(V),_.pageNumber++,_.pageCount++,U.x=R.left,U.y=R.top,B.y=R.top,_.callWillDrawPageHooks(V,U),_.settings.showHead==="everyPage"&&(_.head.forEach(function($){return k(V,_,$,U,H)}),V.applyStyles(V.userStyles))}c.addPage=T;function W(V){var _=V.pageNumber();V.setPage(_+1);var B=V.pageNumber();return B===_?(V.addPage(),!0):!1}},224:function(l,c,d){Object.defineProperty(c,"__esModule",{value:!0}),c.calculateAllColumnsCanFitInPage=void 0;var m=d(420);function u(p,g,b){var j;b===void 0&&(b={});var x=(0,m.getPageAvailableWidth)(p,g),v=new Map,y=[],E=[],O=[];g.settings.horizontalPageBreakRepeat,Array.isArray(g.settings.horizontalPageBreakRepeat)?O=g.settings.horizontalPageBreakRepeat:(typeof g.settings.horizontalPageBreakRepeat=="string"||typeof g.settings.horizontalPageBreakRepeat=="number")&&(O=[g.settings.horizontalPageBreakRepeat]),O.forEach(function(I){var k=g.columns.find(function(C){return C.dataKey===I||C.index===I});k&&!v.has(k.index)&&(v.set(k.index,!0),y.push(k.index),E.push(g.columns[k.index]),x-=k.wrappedWidth)});for(var M=!0,P=(j=b==null?void 0:b.start)!==null&&j!==void 0?j:0;P<g.columns.length;){if(v.has(P)){P++;continue}var S=g.columns[P].wrappedWidth;if(M||x>=S)M=!1,y.push(P),E.push(g.columns[P]),x-=S;else break;P++}return{colIndexes:y,columns:E,lastIndex:P-1}}function h(p,g){for(var b=[],j=0;j<g.columns.length;j++){var x=u(p,g,{start:j});x.columns.length&&(b.push(x),j=x.lastIndex)}return b}c.calculateAllColumnsCanFitInPage=h},324:function(l,c,d){Object.defineProperty(c,"__esModule",{value:!0}),c.ellipsize=c.resizeColumns=c.calculateWidths=void 0;var m=d(420);function u(y,E){h(y,E);var O=[],M=0;E.columns.forEach(function(S){var I=S.getMaxCustomCellWidth(E);I?S.width=I:(S.width=S.wrappedWidth,O.push(S)),M+=S.width});var P=E.getWidth(y.pageSize().width)-M;P&&(P=p(O,P,function(S){return Math.max(S.minReadableWidth,S.minWidth)})),P&&(P=p(O,P,function(S){return S.minWidth})),P=Math.abs(P),!E.settings.horizontalPageBreak&&P>.1/y.scaleFactor()&&(P=P<1?P:Math.round(P),console.warn("Of the table content, ".concat(P," units width could not fit page"))),b(E),j(E,y),g(E)}c.calculateWidths=u;function h(y,E){var O=y.scaleFactor(),M=E.settings.horizontalPageBreak,P=(0,m.getPageAvailableWidth)(y,E);E.allRows().forEach(function(S){for(var I=0,k=E.columns;I<k.length;I++){var C=k[I],w=S.cells[C.index];if(w){var L=E.hooks.didParseCell;E.callCellHooks(y,L,w,S,C,null);var T=w.padding("horizontal");w.contentWidth=(0,m.getStringWidth)(w.text,w.styles,y)+T;var W=(0,m.getStringWidth)(w.text.join(" ").split(/[^\S\u00A0]+/),w.styles,y);if(w.minReadableWidth=W+w.padding("horizontal"),typeof w.styles.cellWidth=="number")w.minWidth=w.styles.cellWidth,w.wrappedWidth=w.styles.cellWidth;else if(w.styles.cellWidth==="wrap"||M===!0)w.contentWidth>P?(w.minWidth=P,w.wrappedWidth=P):(w.minWidth=w.contentWidth,w.wrappedWidth=w.contentWidth);else{var V=10/O;w.minWidth=w.styles.minCellWidth||V,w.wrappedWidth=w.contentWidth,w.minWidth>w.wrappedWidth&&(w.wrappedWidth=w.minWidth)}}}}),E.allRows().forEach(function(S){for(var I=0,k=E.columns;I<k.length;I++){var C=k[I],w=S.cells[C.index];if(w&&w.colSpan===1)C.wrappedWidth=Math.max(C.wrappedWidth,w.wrappedWidth),C.minWidth=Math.max(C.minWidth,w.minWidth),C.minReadableWidth=Math.max(C.minReadableWidth,w.minReadableWidth);else{var L=E.styles.columnStyles[C.dataKey]||E.styles.columnStyles[C.index]||{},T=L.cellWidth||L.minCellWidth;T&&typeof T=="number"&&(C.minWidth=T,C.wrappedWidth=T)}w&&(w.colSpan>1&&!C.minWidth&&(C.minWidth=w.minWidth),w.colSpan>1&&!C.wrappedWidth&&(C.wrappedWidth=w.minWidth))}})}function p(y,E,O){for(var M=E,P=y.reduce(function(V,_){return V+_.wrappedWidth},0),S=0;S<y.length;S++){var I=y[S],k=I.wrappedWidth/P,C=M*k,w=I.width+C,L=O(I),T=w<L?L:w;E-=T-I.width,I.width=T}if(E=Math.round(E*1e10)/1e10,E){var W=y.filter(function(V){return E<0?V.width>O(V):!0});W.length&&(E=p(W,E,O))}return E}c.resizeColumns=p;function g(y){for(var E={},O=1,M=y.allRows(),P=0;P<M.length;P++)for(var S=M[P],I=0,k=y.columns;I<k.length;I++){var C=k[I],w=E[C.index];if(O>1)O--,delete S.cells[C.index];else if(w)w.cell.height+=S.height,O=w.cell.colSpan,delete S.cells[C.index],w.left--,w.left<=1&&delete E[C.index];else{var L=S.cells[C.index];if(!L)continue;if(L.height=S.height,L.rowSpan>1){var T=M.length-P,W=L.rowSpan>T?T:L.rowSpan;E[C.index]={cell:L,left:W,row:S}}}}}function b(y){for(var E=y.allRows(),O=0;O<E.length;O++)for(var M=E[O],P=null,S=0,I=0,k=0;k<y.columns.length;k++){var C=y.columns[k];if(I-=1,I>1&&y.columns[k+1])S+=C.width,delete M.cells[C.index];else if(P){var w=P;delete M.cells[C.index],P=null,w.width=C.width+S}else{var w=M.cells[C.index];if(!w)continue;if(I=w.colSpan,S=0,w.colSpan>1){P=w,S+=C.width;continue}w.width=C.width+S}}}function j(y,E){for(var O={count:0,height:0},M=0,P=y.allRows();M<P.length;M++){for(var S=P[M],I=0,k=y.columns;I<k.length;I++){var C=k[I],w=S.cells[C.index];if(w){E.applyStyles(w.styles,!0);var L=w.width-w.padding("horizontal");if(w.styles.overflow==="linebreak")w.text=E.splitTextToSize(w.text,L+1/E.scaleFactor(),{fontSize:w.styles.fontSize});else if(w.styles.overflow==="ellipsize")w.text=x(w.text,L,w.styles,E,"...");else if(w.styles.overflow==="hidden")w.text=x(w.text,L,w.styles,E,"");else if(typeof w.styles.overflow=="function"){var T=w.styles.overflow(w.text,L);typeof T=="string"?w.text=[T]:w.text=T}w.contentHeight=w.getContentHeight(E.scaleFactor(),E.getLineHeightFactor());var W=w.contentHeight/w.rowSpan;w.rowSpan>1&&O.count*O.height<W*w.rowSpan?O={height:W,count:w.rowSpan}:O&&O.count>0&&O.height>W&&(W=O.height),W>S.height&&(S.height=W)}}O.count--}}function x(y,E,O,M,P){return y.map(function(S){return v(S,E,O,M,P)})}c.ellipsize=x;function v(y,E,O,M,P){var S=1e4*M.scaleFactor();if(E=Math.ceil(E*S)/S,E>=(0,m.getStringWidth)(y,O,M))return y;for(;E<(0,m.getStringWidth)(y+P,O,M)&&!(y.length<=1);)y=y.substring(0,y.length-1);return y.trim()+P}},964:function(l){if(typeof n>"u"){var c=new Error("Cannot find module 'undefined'");throw c.code="MODULE_NOT_FOUND",c}l.exports=n}},a={};function i(l){var c=a[l];if(c!==void 0)return c.exports;var d=a[l]={exports:{}};return s[l].call(d.exports,d,d.exports,i),d.exports}var o={};return function(){var l=o;Object.defineProperty(l,"__esModule",{value:!0}),l.Cell=l.Column=l.Row=l.Table=l.CellHookData=l.__drawTable=l.__createTable=l.applyPlugin=void 0;var c=i(340),d=i(776),m=i(664),u=i(972),h=i(260);Object.defineProperty(l,"Table",{enumerable:!0,get:function(){return h.Table}});var p=i(172);Object.defineProperty(l,"CellHookData",{enumerable:!0,get:function(){return p.CellHookData}});var g=i(260);Object.defineProperty(l,"Cell",{enumerable:!0,get:function(){return g.Cell}}),Object.defineProperty(l,"Column",{enumerable:!0,get:function(){return g.Column}}),Object.defineProperty(l,"Row",{enumerable:!0,get:function(){return g.Row}});function b(E){(0,c.default)(E)}l.applyPlugin=b;function j(E,O){var M=(0,d.parseInput)(E,O),P=(0,u.createTable)(E,M);(0,m.drawTable)(E,P)}function x(E,O){var M=(0,d.parseInput)(E,O);return(0,u.createTable)(E,M)}l.__createTable=x;function v(E,O){(0,m.drawTable)(E,O)}l.__drawTable=v;try{var y=i(964);y.jsPDF&&(y=y.jsPDF),b(y)}catch{}l.default=j}(),o}()})})(dU);function mU({ticket:e,onClose:r,onEdit:n}){var p,g,b,j,x,v;const{toast:s}=nr(),[a,i]=A.useState("details"),o=y=>{switch(y){case Vt.OPEN:return"bg-blue-50 text-blue-700 border-blue-200";case Vt.IN_PROGRESS:return"bg-yellow-50 text-yellow-700 border-yellow-200";case Vt.WAITING_PARTS:return"bg-orange-50 text-orange-700 border-orange-200";case Vt.COMPLETED:return"bg-green-50 text-green-700 border-green-200";case Vt.CANCELLED:return"bg-red-50 text-red-700 border-red-200";default:return"bg-gray-50 text-gray-700 border-gray-200"}},l=y=>{switch(y){case wr.LOW:return"bg-green-50 text-green-700 border-green-200";case wr.MEDIUM:return"bg-yellow-50 text-yellow-700 border-yellow-200";case wr.HIGH:return"bg-orange-50 text-orange-700 border-orange-200";case wr.URGENT:return"bg-red-50 text-red-700 border-red-200";default:return"bg-gray-50 text-gray-700 border-gray-200"}},c=y=>{switch(y){case"covered":return"Covered by Warranty";case"partial":return"Partially Covered";case"not_covered":return"Not Covered";case"extended":return"Extended Warranty";case"expired":return"Warranty Expired";default:return"Unknown"}},d=y=>{switch(y){case"covered":return"bg-green-50 text-green-700 border-green-200";case"partial":return"bg-yellow-50 text-yellow-700 border-yellow-200";case"not_covered":return"bg-red-50 text-red-700 border-red-200";case"extended":return"bg-blue-50 text-blue-700 border-blue-200";case"expired":return"bg-orange-50 text-orange-700 border-orange-200";default:return"bg-gray-50 text-gray-700 border-gray-200"}},u=(()=>{const y=e.parts.reduce((O,M)=>O+M.total,0),E=e.labor.reduce((O,M)=>O+M.total,0);return{partsTotal:y,laborTotal:E,grandTotal:y+E}})(),h=()=>{try{const y=new wt;y.setFontSize(20),y.text("Service Ticket",105,15,{align:"center"}),y.setFontSize(12),y.text(`Ticket #: ${e.id}`,20,30),y.text(`Date: ${gt(e.createdAt)}`,20,40),y.text(`Customer: ${e.customerId}`,20,50),y.text(`Status: ${e.status.replace("_"," ")}`,20,60),y.setFontSize(16),y.text("Service Details",20,75),y.setFontSize(12),y.text(`Title: ${e.title}`,20,85);const E=y.splitTextToSize(e.description,170);if(y.text(E,20,95),e.parts.length>0&&(y.setFontSize(16),y.text("Parts",20,120),y.autoTable({startY:125,head:[["Part Number","Description","Quantity","Unit Cost","Total"]],body:e.parts.map(M=>[M.partNumber,M.description,M.quantity,Ie(M.unitCost),Ie(M.total)]),foot:[["","","","Parts Total:",Ie(u.partsTotal)]]})),e.labor.length>0){const M=y.lastAutoTable.finalY||125;y.setFontSize(16),y.text("Labor",20,M+15),y.autoTable({startY:M+20,head:[["Description","Hours","Rate","Total"]],body:e.labor.map(P=>[P.description,P.hours,Ie(P.rate),Ie(P.total)]),foot:[["","","Labor Total:",Ie(u.laborTotal)]]})}const O=y.lastAutoTable.finalY||125;if(y.setFontSize(14),y.text(`Grand Total: ${Ie(u.grandTotal)}`,150,O+20,{align:"right"}),e.notes){y.setFontSize(16),y.text("Notes",20,O+35),y.setFontSize(12);const M=y.splitTextToSize(e.notes,170);y.text(M,20,O+45)}y.save(`service-ticket-${e.id}.pdf`),s({title:"PDF Generated",description:"Service ticket PDF has been downloaded"})}catch(y){console.error("Error generating PDF:",y),s({title:"Error",description:"Failed to generate PDF",variant:"destructive"})}};return t.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:t.jsxs(ue,{className:"w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[t.jsx(be,{children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx(je,{className:"text-xl",children:e.title}),t.jsxs(Ge,{children:["Service Ticket #",e.id]})]}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsxs(ne,{onClick:()=>n(e),size:"sm",children:[t.jsx(Xr,{className:"h-4 w-4 mr-2"}),"Edit Ticket"]}),t.jsx(ne,{variant:"ghost",size:"sm",onClick:r,children:t.jsx(qt,{className:"h-4 w-4"})})]})]})}),t.jsxs(me,{children:[t.jsxs(Zr,{value:a,onValueChange:i,className:"space-y-4",children:[t.jsxs($r,{className:"grid w-full grid-cols-3",children:[t.jsx(it,{value:"details",children:"Details"}),t.jsx(it,{value:"parts-labor",children:"Parts & Labor"}),t.jsx(it,{value:"notes",children:"Notes"})]}),t.jsxs(ct,{value:"details",className:"space-y-6",children:[t.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[t.jsx(Re,{className:ze("ri-badge-status",o(e.status)),children:e.status.replace("_"," ").toUpperCase()}),t.jsxs(Re,{className:ze("ri-badge-status",l(e.priority)),children:[e.priority.toUpperCase()," PRIORITY"]}),((p=e.customFields)==null?void 0:p.warrantyStatus)&&t.jsx(Re,{className:ze("ri-badge-status",d(e.customFields.warrantyStatus)),children:c(e.customFields.warrantyStatus)}),((g=e.customFields)==null?void 0:g.customerAuthorization)&&t.jsx(Re,{className:"bg-green-50 text-green-700 border-green-200",children:"AUTHORIZED"})]}),t.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[t.jsxs("div",{children:[t.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Customer"}),t.jsx("p",{className:"font-medium",children:e.customerId})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Vehicle"}),t.jsx("p",{className:"font-medium",children:e.vehicleId||"No Vehicle"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Assigned To"}),t.jsx("p",{className:"font-medium",children:e.assignedTo||"Unassigned"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Created"}),t.jsx("p",{className:"font-medium",children:gt(e.createdAt)})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Scheduled Date"}),t.jsx("p",{className:"font-medium",children:e.scheduledDate?gt(e.scheduledDate):"Not scheduled"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Estimated Completion"}),t.jsx("p",{className:"font-medium",children:((b=e.customFields)==null?void 0:b.estimatedCompletionDate)||"Not specified"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Description"}),t.jsx("div",{className:"mt-1 p-3 bg-muted/30 rounded-md",children:t.jsx("p",{className:"whitespace-pre-wrap",children:e.description})})]}),t.jsxs("div",{className:"p-3 bg-blue-50 rounded-md",children:[t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx($s,{className:"h-4 w-4 text-blue-600"}),t.jsx("span",{className:"font-medium text-blue-700",children:"Customer Portal Access:"}),t.jsx("span",{className:"text-blue-700",children:((j=e.customFields)==null?void 0:j.customerPortalAccess)!==!1?"Enabled":"Disabled"})]}),t.jsx("p",{className:"text-sm text-blue-600 mt-1",children:((x=e.customFields)==null?void 0:x.customerPortalAccess)!==!1?"Customer can view this ticket in the portal":"Customer cannot view this ticket in the portal"})]})]}),t.jsxs(ct,{value:"parts-labor",className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-semibold mb-3",children:"Parts"}),e.parts.length>0?t.jsxs("div",{className:"space-y-3",children:[e.parts.map(y=>t.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[t.jsxs("div",{className:"flex-1",children:[t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("span",{className:"font-medium",children:y.description}),t.jsx(Re,{variant:"outline",children:y.partNumber})]}),t.jsxs("p",{className:"text-sm text-muted-foreground",children:["Quantity: ",y.quantity,"  ",Ie(y.unitCost)]})]}),t.jsx("div",{className:"font-bold",children:Ie(y.total)})]},y.id)),t.jsx("div",{className:"flex justify-end p-2",children:t.jsxs("span",{className:"font-medium",children:["Parts Total: ",Ie(u.partsTotal)]})})]}):t.jsx("div",{className:"text-center py-6 text-muted-foreground border-2 border-dashed rounded-lg",children:t.jsx("p",{children:"No parts added to this service ticket"})})]}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-semibold mb-3",children:"Labor"}),e.labor.length>0?t.jsxs("div",{className:"space-y-3",children:[e.labor.map(y=>t.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[t.jsxs("div",{className:"flex-1",children:[t.jsx("div",{className:"font-medium",children:y.description}),t.jsxs("p",{className:"text-sm text-muted-foreground",children:[y.hours," hours  ",Ie(y.rate),"/hr"]})]}),t.jsx("div",{className:"font-bold",children:Ie(y.total)})]},y.id)),t.jsx("div",{className:"flex justify-end p-2",children:t.jsxs("span",{className:"font-medium",children:["Labor Total: ",Ie(u.laborTotal)]})})]}):t.jsx("div",{className:"text-center py-6 text-muted-foreground border-2 border-dashed rounded-lg",children:t.jsx("p",{children:"No labor added to this service ticket"})})]}),t.jsx(ue,{className:"bg-muted/30",children:t.jsx(me,{className:"pt-6",children:t.jsxs("div",{className:"space-y-2",children:[t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{children:"Parts Total:"}),t.jsx("span",{children:Ie(u.partsTotal)})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{children:"Labor Total:"}),t.jsx("span",{children:Ie(u.laborTotal)})]}),t.jsxs("div",{className:"flex justify-between text-lg font-bold border-t pt-2",children:[t.jsx("span",{children:"Grand Total:"}),t.jsx("span",{children:Ie(u.grandTotal)})]})]})})})]}),t.jsxs(ct,{value:"notes",className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-semibold mb-3",children:"Customer Notes"}),e.notes?t.jsx("div",{className:"p-3 bg-muted/30 rounded-md",children:t.jsx("p",{className:"whitespace-pre-wrap",children:e.notes})}):t.jsx("div",{className:"text-center py-6 text-muted-foreground border-2 border-dashed rounded-lg",children:t.jsx("p",{children:"No customer notes for this service ticket"})})]}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-semibold mb-3",children:"Technician Notes"}),(v=e.customFields)!=null&&v.technicianNotes?t.jsx("div",{className:"p-3 bg-yellow-50 rounded-md",children:t.jsx("p",{className:"whitespace-pre-wrap text-yellow-800",children:e.customFields.technicianNotes})}):t.jsx("div",{className:"text-center py-6 text-muted-foreground border-2 border-dashed rounded-lg",children:t.jsx("p",{children:"No technician notes for this service ticket"})})]})]})]}),t.jsxs("div",{className:"flex justify-end space-x-3 pt-6 border-t mt-6",children:[t.jsx(ne,{variant:"outline",onClick:r,children:"Close"}),t.jsxs(ne,{variant:"outline",onClick:h,children:[t.jsx(ox,{className:"h-4 w-4 mr-2"}),"Print PDF"]}),t.jsxs(ne,{onClick:()=>n(e),children:[t.jsx(Xr,{className:"h-4 w-4 mr-2"}),"Edit Ticket"]})]})]})]})})}function pU({ticket:e,onClose:r}){var l;const n=c=>{switch(c){case Vt.OPEN:return"bg-blue-50 text-blue-700 border-blue-200";case Vt.IN_PROGRESS:return"bg-yellow-50 text-yellow-700 border-yellow-200";case Vt.WAITING_PARTS:return"bg-orange-50 text-orange-700 border-orange-200";case Vt.COMPLETED:return"bg-green-50 text-green-700 border-green-200";case Vt.CANCELLED:return"bg-red-50 text-red-700 border-red-200";default:return"bg-gray-50 text-gray-700 border-gray-200"}},s=c=>{switch(c){case wr.LOW:return"bg-green-50 text-green-700 border-green-200";case wr.MEDIUM:return"bg-yellow-50 text-yellow-700 border-yellow-200";case wr.HIGH:return"bg-orange-50 text-orange-700 border-orange-200";case wr.URGENT:return"bg-red-50 text-red-700 border-red-200";default:return"bg-gray-50 text-gray-700 border-gray-200"}},i=(()=>{const c=e.parts.reduce((m,u)=>m+u.total,0),d=e.labor.reduce((m,u)=>m+u.total,0);return{partsTotal:c,laborTotal:d,grandTotal:c+d}})(),o=()=>{try{const c=new wt;c.setFontSize(20),c.text("Service Ticket",105,15,{align:"center"}),c.setFontSize(12),c.text(`Ticket #: ${e.id}`,20,30),c.text(`Date: ${gt(e.createdAt)}`,20,40),c.text(`Status: ${e.status.replace("_"," ")}`,20,50),c.setFontSize(16),c.text("Service Details",20,65),c.setFontSize(12),c.text(`Title: ${e.title}`,20,75);const d=c.splitTextToSize(e.description,170);if(c.text(d,20,85),e.parts.length>0&&(c.setFontSize(16),c.text("Parts",20,110),c.autoTable({startY:115,head:[["Description","Quantity","Unit Cost","Total"]],body:e.parts.map(u=>[u.description,u.quantity,Ie(u.unitCost),Ie(u.total)]),foot:[["","","Parts Total:",Ie(i.partsTotal)]]})),e.labor.length>0){const u=c.lastAutoTable.finalY||115;c.setFontSize(16),c.text("Labor",20,u+15),c.autoTable({startY:u+20,head:[["Description","Hours","Rate","Total"]],body:e.labor.map(h=>[h.description,h.hours,Ie(h.rate),Ie(h.total)]),foot:[["","","Labor Total:",Ie(i.laborTotal)]]})}const m=c.lastAutoTable.finalY||115;if(c.setFontSize(14),c.text(`Grand Total: ${Ie(i.grandTotal)}`,150,m+20,{align:"right"}),e.notes){c.setFontSize(16),c.text("Notes",20,m+35),c.setFontSize(12);const u=c.splitTextToSize(e.notes,170);c.text(u,20,m+45)}c.save(`service-ticket-${e.id}.pdf`)}catch(c){console.error("Error generating PDF:",c)}};return t.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:t.jsxs(ue,{className:"w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[t.jsx(be,{children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx(je,{className:"text-xl",children:"Service Ticket"}),t.jsxs(Ge,{children:["Ticket #",e.id]})]}),t.jsx(ne,{variant:"ghost",size:"sm",onClick:r,children:t.jsx(qt,{className:"h-4 w-4"})})]})}),t.jsx(me,{children:t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(Cl,{className:"h-5 w-5 text-blue-600"}),t.jsx("h3",{className:"font-semibold text-blue-700",children:"Customer Portal View"})]}),t.jsx("p",{className:"text-sm text-blue-600 mt-1",children:"This is how your service ticket appears in the customer portal"})]}),t.jsxs("div",{children:[t.jsx("h2",{className:"text-2xl font-bold",children:e.title}),t.jsxs("div",{className:"flex flex-wrap items-center gap-2 mt-2",children:[t.jsx(Re,{className:ze("ri-badge-status",n(e.status)),children:e.status.replace("_"," ").toUpperCase()}),t.jsxs(Re,{className:ze("ri-badge-status",s(e.priority)),children:[e.priority.toUpperCase()," PRIORITY"]})]})]}),t.jsxs(Zr,{defaultValue:"details",className:"space-y-4",children:[t.jsxs($r,{className:"grid w-full grid-cols-3",children:[t.jsx(it,{value:"details",children:"Details"}),t.jsx(it,{value:"parts-labor",children:"Parts & Labor"}),t.jsx(it,{value:"timeline",children:"Timeline"})]}),t.jsxs(ct,{value:"details",className:"space-y-4",children:[t.jsxs(ue,{children:[t.jsx(be,{children:t.jsx(je,{className:"text-lg",children:"Description"})}),t.jsx(me,{children:t.jsx("p",{className:"whitespace-pre-wrap",children:e.description})})]}),t.jsxs(ue,{children:[t.jsx(be,{children:t.jsx(je,{className:"text-lg",children:"Schedule Information"})}),t.jsx(me,{children:t.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[t.jsxs("div",{children:[t.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Created Date"}),t.jsx("p",{className:"font-medium",children:gt(e.createdAt)})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Scheduled Date"}),t.jsx("p",{className:"font-medium",children:e.scheduledDate?gt(e.scheduledDate):"Not scheduled"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Estimated Completion"}),t.jsx("p",{className:"font-medium",children:((l=e.customFields)==null?void 0:l.estimatedCompletionDate)||"Not specified"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Completed Date"}),t.jsx("p",{className:"font-medium",children:e.completedDate?gt(e.completedDate):"Not completed"})]})]})})]}),e.notes&&t.jsxs(ue,{children:[t.jsx(be,{children:t.jsx(je,{className:"text-lg",children:"Notes"})}),t.jsx(me,{children:t.jsx("p",{className:"whitespace-pre-wrap",children:e.notes})})]})]}),t.jsxs(ct,{value:"parts-labor",className:"space-y-6",children:[t.jsxs(ue,{children:[t.jsx(be,{children:t.jsx(je,{className:"text-lg",children:"Parts"})}),t.jsx(me,{children:e.parts.length>0?t.jsxs("div",{className:"space-y-3",children:[e.parts.map(c=>t.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[t.jsxs("div",{className:"flex-1",children:[t.jsx("div",{className:"font-medium",children:c.description}),t.jsxs("p",{className:"text-sm text-muted-foreground",children:["Quantity: ",c.quantity,"  ",Ie(c.unitCost)]})]}),t.jsx("div",{className:"font-bold",children:Ie(c.total)})]},c.id)),t.jsx("div",{className:"flex justify-end p-2",children:t.jsxs("span",{className:"font-medium",children:["Parts Total: ",Ie(i.partsTotal)]})})]}):t.jsx("div",{className:"text-center py-6 text-muted-foreground",children:t.jsx("p",{children:"No parts added to this service ticket"})})})]}),t.jsxs(ue,{children:[t.jsx(be,{children:t.jsx(je,{className:"text-lg",children:"Labor"})}),t.jsx(me,{children:e.labor.length>0?t.jsxs("div",{className:"space-y-3",children:[e.labor.map(c=>t.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[t.jsxs("div",{className:"flex-1",children:[t.jsx("div",{className:"font-medium",children:c.description}),t.jsxs("p",{className:"text-sm text-muted-foreground",children:[c.hours," hours  ",Ie(c.rate),"/hr"]})]}),t.jsx("div",{className:"font-bold",children:Ie(c.total)})]},c.id)),t.jsx("div",{className:"flex justify-end p-2",children:t.jsxs("span",{className:"font-medium",children:["Labor Total: ",Ie(i.laborTotal)]})})]}):t.jsx("div",{className:"text-center py-6 text-muted-foreground",children:t.jsx("p",{children:"No labor added to this service ticket"})})})]}),t.jsx(ue,{className:"bg-muted/30",children:t.jsx(me,{className:"pt-6",children:t.jsxs("div",{className:"space-y-2",children:[t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{children:"Parts Total:"}),t.jsx("span",{children:Ie(i.partsTotal)})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{children:"Labor Total:"}),t.jsx("span",{children:Ie(i.laborTotal)})]}),t.jsxs("div",{className:"flex justify-between text-lg font-bold border-t pt-2",children:[t.jsx("span",{children:"Grand Total:"}),t.jsx("span",{children:Ie(i.grandTotal)})]})]})})})]}),t.jsx(ct,{value:"timeline",className:"space-y-4",children:t.jsxs(ue,{children:[t.jsx(be,{children:t.jsx(je,{className:"text-lg",children:"Service Timeline"})}),t.jsx(me,{children:t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"relative pl-6 pb-6 border-l-2 border-muted",children:[t.jsx("div",{className:"absolute left-[-8px] top-0 w-4 h-4 rounded-full bg-blue-500"}),t.jsx("div",{className:"font-medium",children:"Ticket Created"}),t.jsx("div",{className:"text-sm text-muted-foreground",children:gt(e.createdAt)})]}),e.status!==Vt.OPEN&&t.jsxs("div",{className:"relative pl-6 pb-6 border-l-2 border-muted",children:[t.jsx("div",{className:"absolute left-[-8px] top-0 w-4 h-4 rounded-full bg-yellow-500"}),t.jsx("div",{className:"font-medium",children:"Work Started"}),t.jsx("div",{className:"text-sm text-muted-foreground",children:new Date(e.createdAt.getTime()+864e5).toLocaleDateString()})]}),e.status===Vt.WAITING_PARTS&&t.jsxs("div",{className:"relative pl-6 pb-6 border-l-2 border-muted",children:[t.jsx("div",{className:"absolute left-[-8px] top-0 w-4 h-4 rounded-full bg-orange-500"}),t.jsx("div",{className:"font-medium",children:"Waiting for Parts"}),t.jsx("div",{className:"text-sm text-muted-foreground",children:new Date(e.createdAt.getTime()+1728e5).toLocaleDateString()})]}),e.status===Vt.COMPLETED&&t.jsxs("div",{className:"relative pl-6",children:[t.jsx("div",{className:"absolute left-[-8px] top-0 w-4 h-4 rounded-full bg-green-500"}),t.jsx("div",{className:"font-medium",children:"Service Completed"}),t.jsx("div",{className:"text-sm text-muted-foreground",children:e.completedDate?gt(e.completedDate):"Date not recorded"})]})]})})]})})]}),t.jsxs("div",{className:"flex justify-end space-x-3 pt-6 border-t",children:[t.jsx(ne,{variant:"outline",onClick:r,children:"Close"}),t.jsxs(ne,{variant:"outline",onClick:o,children:[t.jsx(ox,{className:"h-4 w-4 mr-2"}),"Print PDF"]})]})]})})]})})}function hU(){const{tickets:e,createTicket:r,updateTicket:n,deleteTicket:s,updateTicketStatus:a}=o$(),{toast:i}=nr(),[o,l]=A.useState(""),[c,d]=A.useState("all"),[m,u]=A.useState("all"),[h,p]=A.useState(!1),[g,b]=A.useState(!1),[j,x]=A.useState(!1),[v,y]=A.useState(!1),[E,O]=A.useState(null),M=W=>{switch(W){case Vt.OPEN:return"bg-blue-50 text-blue-700 border-blue-200";case Vt.IN_PROGRESS:return"bg-yellow-50 text-yellow-700 border-yellow-200";case Vt.WAITING_PARTS:return"bg-orange-50 text-orange-700 border-orange-200";case Vt.COMPLETED:return"bg-green-50 text-green-700 border-green-200";case Vt.CANCELLED:return"bg-red-50 text-red-700 border-red-200";default:return"bg-gray-50 text-gray-700 border-gray-200"}},P=W=>{switch(W){case wr.LOW:return"bg-green-50 text-green-700 border-green-200";case wr.MEDIUM:return"bg-yellow-50 text-yellow-700 border-yellow-200";case wr.HIGH:return"bg-orange-50 text-orange-700 border-orange-200";case wr.URGENT:return"bg-red-50 text-red-700 border-red-200";default:return"bg-gray-50 text-gray-700 border-gray-200"}},S=e.filter(W=>W.title.toLowerCase().includes(o.toLowerCase())||W.description.toLowerCase().includes(o.toLowerCase())||W.customerId.toLowerCase().includes(o.toLowerCase())||W.id.toLowerCase().includes(o.toLowerCase())).filter(W=>c==="all"||W.status===c).filter(W=>m==="all"||W.priority===m),I=()=>{O(null),p(!0)},k=W=>{O(W),p(!0),b(!1)},C=W=>{O(W),b(!0)},w=W=>{O(W),x(!0)},L=async W=>{try{E?(await n(E.id,W),i({title:"Success",description:"Service ticket updated successfully"})):(await r(W),i({title:"Success",description:"Service ticket created successfully"})),p(!1),O(null)}catch{i({title:"Error",description:`Failed to ${E?"update":"create"} service ticket`,variant:"destructive"})}},T=W=>{i({title:"Customer Added",description:`${W.firstName} ${W.lastName} has been added.`}),O(null),y(!1),p(!0)};return t.jsxs("div",{className:"space-y-8",children:[v&&t.jsx(kd,{onClose:()=>y(!1),onSuccess:T}),h&&t.jsx(l$,{ticket:E||void 0,onSave:L,onCancel:()=>{p(!1),O(null)}}),g&&E&&t.jsx(mU,{ticket:E,onClose:()=>b(!1),onEdit:k}),j&&E&&t.jsx(pU,{ticket:E,onClose:()=>x(!1)}),t.jsx("div",{className:"ri-page-header",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"ri-page-title",children:"Service Operations"}),t.jsx("p",{className:"ri-page-description",children:"Manage service tickets and maintenance schedules"})]}),t.jsxs(ne,{className:"shadow-sm",onClick:I,children:[t.jsx(Et,{className:"h-4 w-4 mr-2"}),"New Service Ticket"]})]})}),t.jsxs("div",{className:"grid gap-4 grid-cols-1 sm:grid-cols-2 lg:grid-cols-4",children:[t.jsxs(ue,{className:"shadow-sm border-0 bg-gradient-to-br from-blue-50 to-blue-100/50",children:[t.jsxs(be,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[t.jsx(je,{className:"text-sm font-medium text-blue-900",children:"Total Tickets"}),t.jsx(Cl,{className:"h-4 w-4 text-blue-600"})]}),t.jsxs(me,{children:[t.jsx("div",{className:"text-2xl font-bold text-blue-900",children:e.length}),t.jsxs("p",{className:"text-xs text-blue-600 flex items-center mt-1",children:[t.jsx(vt,{className:"h-3 w-3 mr-1"}),"All service requests"]})]})]}),t.jsxs(ue,{className:"shadow-sm border-0 bg-gradient-to-br from-yellow-50 to-yellow-100/50",children:[t.jsxs(be,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[t.jsx(je,{className:"text-sm font-medium text-yellow-900",children:"In Progress"}),t.jsx(Cl,{className:"h-4 w-4 text-yellow-600"})]}),t.jsxs(me,{children:[t.jsx("div",{className:"text-2xl font-bold text-yellow-900",children:e.filter(W=>W.status===Vt.IN_PROGRESS).length}),t.jsxs("p",{className:"text-xs text-yellow-600 flex items-center mt-1",children:[t.jsx(cr,{className:"h-3 w-3 mr-1"}),"Currently working"]})]})]}),t.jsxs(ue,{className:"shadow-sm border-0 bg-gradient-to-br from-orange-50 to-orange-100/50",children:[t.jsxs(be,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[t.jsx(je,{className:"text-sm font-medium text-orange-900",children:"Waiting Parts"}),t.jsx(Cl,{className:"h-4 w-4 text-orange-600"})]}),t.jsxs(me,{children:[t.jsx("div",{className:"text-2xl font-bold text-orange-900",children:e.filter(W=>W.status===Vt.WAITING_PARTS).length}),t.jsxs("p",{className:"text-xs text-orange-600 flex items-center mt-1",children:[t.jsx(cr,{className:"h-3 w-3 mr-1"}),"Parts on order"]})]})]}),t.jsxs(ue,{className:"shadow-sm border-0 bg-gradient-to-br from-green-50 to-green-100/50",children:[t.jsxs(be,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[t.jsx(je,{className:"text-sm font-medium text-green-900",children:"Revenue"}),t.jsx(Bt,{className:"h-4 w-4 text-green-600"})]}),t.jsxs(me,{children:[t.jsx("div",{className:"text-2xl font-bold text-green-900",children:Ie(e.reduce((W,V)=>W+V.parts.reduce((_,B)=>_+B.total,0)+V.labor.reduce((_,B)=>_+B.total,0),0))}),t.jsxs("p",{className:"text-xs text-green-600 flex items-center mt-1",children:[t.jsx(vt,{className:"h-3 w-3 mr-1"}),"Service revenue"]})]})]})]}),t.jsxs("div",{className:"flex flex-col lg:flex-row gap-4",children:[t.jsxs("div",{className:"ri-search-bar w-full lg:flex-1",children:[t.jsx(Jn,{className:"ri-search-icon"}),t.jsx(Te,{placeholder:"Search service tickets...",value:o,onChange:W=>l(W.target.value),className:"ri-search-input shadow-sm"})]}),t.jsxs("div",{className:"flex flex-wrap gap-2",children:[t.jsxs(tt,{value:c,onValueChange:d,className:"w-full sm:w-auto",children:[t.jsx(Xe,{className:"w-full sm:w-40",children:t.jsx(rt,{placeholder:"Status"})}),t.jsxs(Ze,{children:[t.jsx(se,{value:"all",children:"All Status"}),t.jsx(se,{value:Vt.OPEN,children:"Open"}),t.jsx(se,{value:Vt.IN_PROGRESS,children:"In Progress"}),t.jsx(se,{value:Vt.WAITING_PARTS,children:"Waiting Parts"}),t.jsx(se,{value:Vt.COMPLETED,children:"Completed"}),t.jsx(se,{value:Vt.CANCELLED,children:"Cancelled"})]})]}),t.jsxs(tt,{value:m,onValueChange:u,className:"w-full sm:w-auto",children:[t.jsx(Xe,{className:"w-full sm:w-40",children:t.jsx(rt,{placeholder:"Priority"})}),t.jsxs(Ze,{children:[t.jsx(se,{value:"all",children:"All Priorities"}),t.jsx(se,{value:wr.LOW,children:"Low"}),t.jsx(se,{value:wr.MEDIUM,children:"Medium"}),t.jsx(se,{value:wr.HIGH,children:"High"}),t.jsx(se,{value:wr.URGENT,children:"Urgent"})]})]}),t.jsxs(ne,{variant:"outline",className:"shadow-sm w-full sm:w-auto",children:[t.jsx(Ws,{className:"h-4 w-4 mr-2"}),"More Filters"]})]})]}),t.jsxs(ue,{className:"shadow-sm",children:[t.jsxs(be,{children:[t.jsx(je,{className:"text-xl",children:"Service Tickets"}),t.jsx(Ge,{children:"Manage service requests and maintenance schedules"})]}),t.jsx(me,{children:t.jsxs("div",{className:"space-y-4",children:[S.map(W=>{var V;return t.jsxs("div",{className:"ri-table-row",children:[t.jsx("div",{className:"flex items-center space-x-4 flex-1",children:t.jsxs("div",{className:"flex-1",children:[t.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[t.jsx("h3",{className:"font-semibold text-foreground",children:W.title}),t.jsx(Re,{className:ze("ri-badge-status",P(W.priority)),children:W.priority.toUpperCase()}),t.jsx(Re,{className:ze("ri-badge-status",M(W.status)),children:W.status.replace("_"," ").toUpperCase()})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm text-muted-foreground",children:[t.jsxs("div",{className:"flex items-center",children:[t.jsx($s,{className:"h-3 w-3 mr-2 text-blue-500"}),t.jsx("span",{className:"font-medium",children:"Customer:"}),t.jsx("span",{className:"ml-1",children:W.customerId})]}),t.jsxs("div",{className:"flex items-center",children:[t.jsx($s,{className:"h-3 w-3 mr-2 text-green-500"}),t.jsx("span",{className:"font-medium",children:"Assigned:"}),t.jsx("span",{className:"ml-1",children:W.assignedTo||"Unassigned"})]}),t.jsxs("div",{className:"flex items-center",children:[t.jsx(zr,{className:"h-3 w-3 mr-2 text-purple-500"}),t.jsx("span",{className:"font-medium",children:"Scheduled:"}),t.jsx("span",{className:"ml-1",children:W.scheduledDate?gt(W.scheduledDate):"Not scheduled"})]}),t.jsxs("div",{className:"flex items-center",children:[t.jsx(cr,{className:"h-3 w-3 mr-2 text-orange-500"}),t.jsx("span",{className:"font-medium",children:"Created:"}),t.jsx("span",{className:"ml-1",children:gt(W.createdAt)})]})]}),t.jsxs("div",{className:"mt-2 bg-muted/30 p-2 rounded-md",children:[t.jsx("p",{className:"text-sm text-muted-foreground",children:W.description}),W.notes&&t.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:[t.jsx("span",{className:"font-medium",children:"Notes:"})," ",W.notes]})]}),t.jsxs("div",{className:"flex items-center space-x-4 mt-3 text-sm",children:[t.jsxs("span",{className:"bg-blue-50 text-blue-700 px-2 py-1 rounded-md",children:[t.jsx("span",{className:"font-medium",children:"Parts:"})," ",Ie(W.parts.reduce((_,B)=>_+B.total,0))]}),t.jsxs("span",{className:"bg-green-50 text-green-700 px-2 py-1 rounded-md",children:[t.jsx("span",{className:"font-medium",children:"Labor:"})," ",Ie(W.labor.reduce((_,B)=>_+B.total,0))]}),t.jsxs("span",{className:"bg-purple-50 text-purple-700 px-2 py-1 rounded-md font-semibold",children:[t.jsx("span",{className:"font-medium",children:"Total:"})," ",Ie(W.parts.reduce((_,B)=>_+B.total,0)+W.labor.reduce((_,B)=>_+B.total,0))]})]})]})}),t.jsxs("div",{className:"ri-action-buttons flex-wrap gap-2 mt-3 md:mt-0",children:[t.jsx(ne,{variant:"outline",size:"sm",className:"shadow-sm text-xs",onClick:()=>C(W),children:"View"}),t.jsx(ne,{variant:"outline",size:"sm",className:"shadow-sm text-xs",onClick:()=>k(W),children:"Edit"}),((V=W.customFields)==null?void 0:V.customerPortalAccess)!==!1&&t.jsx(ne,{variant:"outline",size:"sm",className:"shadow-sm text-xs",onClick:()=>w(W),children:"Customer View"})]})]},W.id)}),S.length===0&&t.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[t.jsx(Cl,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground/50"}),t.jsx("p",{children:"No service tickets found"}),t.jsx("p",{className:"text-sm",children:"Try adjusting your search or filters"})]})]})})]})]})}function fU(){return t.jsx(Fn,{children:t.jsx(Pt,{path:"/*",element:t.jsx(hU,{})})})}function xU(){const[e,r]=A.useState([]),[n,s]=A.useState(!1);A.useEffect(()=>{a()},[]);const a=()=>{const j=vn("renter-insight-deliveries",[{id:"1",customerId:"cust-1",vehicleId:"veh-1",status:Wt.SCHEDULED,scheduledDate:new Date("2024-01-25"),address:{street:"123 Main St",city:"Springfield",state:"IL",zipCode:"62701",country:"USA"},driver:"Driver-001",notes:"Customer prefers morning delivery",customFields:{estimatedTime:"10:00",photos:[]},createdAt:new Date("2024-01-15"),updatedAt:new Date("2024-01-18")},{id:"2",customerId:"cust-2",vehicleId:"veh-2",status:Wt.IN_TRANSIT,scheduledDate:new Date("2024-01-20"),deliveredDate:void 0,address:{street:"456 Oak Ave",city:"Chicago",state:"IL",zipCode:"60601",country:"USA"},driver:"Driver-002",notes:"Call customer 30 minutes before arrival",customFields:{estimatedTime:"14:00",photos:[]},createdAt:new Date("2024-01-12"),updatedAt:new Date("2024-01-20")}]);r(j)},i=j=>{Hr("renter-insight-deliveries",j)};return{deliveries:e,loading:n,getDeliveriesByCustomerId:j=>e.filter(x=>x.customerId===j),getDeliveriesByVehicleId:j=>e.filter(x=>x.vehicleId===j),getDeliveryById:j=>e.find(x=>x.id===j),createDelivery:async j=>{s(!0);try{const x={id:Math.random().toString(36).substr(2,9),customerId:j.customerId||"",vehicleId:j.vehicleId||"",status:j.status||Wt.SCHEDULED,scheduledDate:j.scheduledDate||new Date,deliveredDate:j.deliveredDate,address:j.address||{street:"",city:"",state:"",zipCode:"",country:"USA"},driver:j.driver,notes:j.notes||"",customFields:j.customFields||{},createdAt:new Date,updatedAt:new Date},v=[...e,x];return r(v),i(v),x}finally{s(!1)}},updateDelivery:async(j,x)=>{const v=e.map(y=>y.id===j?{...y,...x,updatedAt:new Date}:y);r(v),i(v)},deleteDelivery:async j=>{const x=e.filter(v=>v.id!==j);r(x),i(x)},updateDeliveryStatus:async(j,x)=>{const v=e.map(y=>{if(y.id===j){const E={...y,status:x,updatedAt:new Date};return x===Wt.DELIVERED&&(E.deliveredDate=new Date),E}return y});r(v),i(v)},assignDriver:async(j,x)=>{const v=e.map(y=>y.id===j?{...y,driver:x,updatedAt:new Date}:y);r(v),i(v)},sendNotification:async(j,x,v)=>{console.log(`Sending ${x} for delivery ${j}:`,v);const y=e.map(E=>{var O;if(E.id===j){const M=((O=E.customFields)==null?void 0:O.notifications)||[];return{...E,customFields:{...E.customFields,notifications:[...M,{id:Math.random().toString(36).substr(2,9),type:x,message:v,sentAt:new Date}]},updatedAt:new Date}}return E});r(y),i(y),await new Promise(E=>setTimeout(E,1e3))},addDeliveryPhoto:async(j,x,v)=>{const y=e.map(E=>{var O;if(E.id===j){const M=((O=E.customFields)==null?void 0:O.photos)||[];return{...E,customFields:{...E.customFields,photos:[...M,{id:Math.random().toString(36).substr(2,9),url:x,caption:v,uploadedAt:new Date}]},updatedAt:new Date}}return E});r(y),i(y),await new Promise(E=>setTimeout(E,1e3))}}}function gU({delivery:e,onSave:r,onCancel:n}){var h,p,g,b,j,x;const{toast:s}=nr(),{vehicles:a}=rl(),{leads:i}=Yi(),[o,l]=A.useState(!1),[c,d]=A.useState({customerId:"",vehicleId:"",status:Wt.SCHEDULED,scheduledDate:new Date,address:{street:"",city:"",state:"",zipCode:"",country:"USA"},driver:"",notes:"",customFields:{}});A.useEffect(()=>{e&&d({...e,scheduledDate:new Date(e.scheduledDate)})},[e]);const m=async v=>{var y,E,O,M;if(v.preventDefault(),!c.customerId||!c.vehicleId||!c.scheduledDate){s({title:"Validation Error",description:"Please fill in all required fields",variant:"destructive"});return}if(!((y=c.address)!=null&&y.street)||!((E=c.address)!=null&&E.city)||!((O=c.address)!=null&&O.state)||!((M=c.address)!=null&&M.zipCode)){s({title:"Validation Error",description:"Please provide a complete delivery address",variant:"destructive"});return}l(!0);try{await r(c),s({title:"Success",description:`Delivery ${e?"updated":"scheduled"} successfully`})}catch{s({title:"Error",description:`Failed to ${e?"update":"schedule"} delivery`,variant:"destructive"})}finally{l(!1)}},u=[{id:"Driver-001",name:"John Smith"},{id:"Driver-002",name:"Sarah Johnson"},{id:"Driver-003",name:"Mike Davis"}];return t.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:t.jsxs(ue,{className:"w-full max-w-2xl max-h-[90vh] overflow-y-auto mx-2 sm:mx-4",children:[t.jsx(be,{children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx(je,{children:e?"Edit Delivery":"Schedule Delivery"}),t.jsx(Ge,{children:e?"Update delivery details":"Schedule a new delivery"})]}),t.jsx(ne,{variant:"ghost",size:"sm",onClick:n,children:t.jsx(qt,{className:"h-4 w-4"})})]})}),t.jsx(me,{children:t.jsxs("form",{onSubmit:m,className:"space-y-6",children:[t.jsxs("div",{className:"space-y-4",children:[t.jsx("h3",{className:"text-lg font-semibold",children:"Delivery Information"}),t.jsxs("div",{className:"grid gap-4 grid-cols-1 md:grid-cols-2",children:[t.jsxs("div",{children:[t.jsx(ve,{htmlFor:"customerId",children:"Customer *"}),t.jsxs(tt,{value:c.customerId,onValueChange:v=>d(y=>({...y,customerId:v})),children:[t.jsx(Xe,{children:t.jsx(rt,{placeholder:"Select customer"})}),t.jsx(Ze,{children:i.map(v=>t.jsxs(se,{value:v.id,children:[v.firstName," ",v.lastName]},v.id))})]})]}),t.jsxs("div",{children:[t.jsx(ve,{htmlFor:"vehicleId",children:"Vehicle *"}),t.jsxs(tt,{value:c.vehicleId,onValueChange:v=>d(y=>({...y,vehicleId:v})),children:[t.jsx(Xe,{children:t.jsx(rt,{placeholder:"Select vehicle"})}),t.jsx(Ze,{children:a.map(v=>t.jsxs(se,{value:v.id,children:[v.year," ",v.make," ",v.model]},v.id))})]})]})]}),t.jsxs("div",{className:"grid gap-4 grid-cols-1 md:grid-cols-2",children:[t.jsxs("div",{children:[t.jsx(ve,{htmlFor:"scheduledDate",children:"Scheduled Date *"}),t.jsx(Te,{id:"scheduledDate",type:"date",value:c.scheduledDate?new Date(c.scheduledDate).toISOString().split("T")[0]:"",onChange:v=>d(y=>({...y,scheduledDate:v.target.value?new Date(v.target.value):void 0}))})]}),t.jsxs("div",{children:[t.jsx(ve,{htmlFor:"status",children:"Status"}),t.jsxs(tt,{value:c.status,onValueChange:v=>d(y=>({...y,status:v})),children:[t.jsx(Xe,{children:t.jsx(rt,{})}),t.jsxs(Ze,{children:[t.jsx(se,{value:Wt.SCHEDULED,children:"Scheduled"}),t.jsx(se,{value:Wt.IN_TRANSIT,children:"In Transit"}),t.jsx(se,{value:Wt.DELIVERED,children:"Delivered"}),t.jsx(se,{value:Wt.CANCELLED,children:"Cancelled"})]})]})]})]}),t.jsxs("div",{children:[t.jsx(ve,{htmlFor:"driver",children:"Assigned Driver"}),t.jsxs(tt,{value:c.driver,onValueChange:v=>d(y=>({...y,driver:v})),children:[t.jsx(Xe,{children:t.jsx(rt,{placeholder:"Select driver"})}),t.jsxs(Ze,{children:[t.jsx(se,{value:"",children:"Unassigned"}),u.map(v=>t.jsx(se,{value:v.id,children:v.name},v.id))]})]})]})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsx("h3",{className:"text-lg font-semibold",children:"Delivery Address"}),t.jsxs("div",{children:[t.jsx(ve,{htmlFor:"street",children:"Street Address *"}),t.jsx(Te,{id:"street",value:((h=c.address)==null?void 0:h.street)||"",onChange:v=>d(y=>({...y,address:{...y.address,street:v.target.value}})),placeholder:"e.g., 123 Main St"})]}),t.jsxs("div",{className:"grid gap-4 grid-cols-1 sm:grid-cols-3",children:[t.jsxs("div",{children:[t.jsx(ve,{htmlFor:"city",children:"City *"}),t.jsx(Te,{id:"city",value:((p=c.address)==null?void 0:p.city)||"",onChange:v=>d(y=>({...y,address:{...y.address,city:v.target.value}})),placeholder:"e.g., Springfield"})]}),t.jsxs("div",{children:[t.jsx(ve,{htmlFor:"state",children:"State *"}),t.jsx(Te,{id:"state",value:((g=c.address)==null?void 0:g.state)||"",onChange:v=>d(y=>({...y,address:{...y.address,state:v.target.value}})),placeholder:"e.g., IL"})]}),t.jsxs("div",{children:[t.jsx(ve,{htmlFor:"zipCode",children:"Zip Code *"}),t.jsx(Te,{id:"zipCode",value:((b=c.address)==null?void 0:b.zipCode)||"",onChange:v=>d(y=>({...y,address:{...y.address,zipCode:v.target.value}})),placeholder:"e.g., 62701"})]})]}),t.jsxs("div",{children:[t.jsx(ve,{htmlFor:"country",children:"Country"}),t.jsx(Te,{id:"country",value:((j=c.address)==null?void 0:j.country)||"USA",onChange:v=>d(y=>({...y,address:{...y.address,country:v.target.value}})),placeholder:"e.g., USA"})]})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsx("h3",{className:"text-lg font-semibold",children:"Additional Information"}),t.jsxs("div",{children:[t.jsx(ve,{htmlFor:"notes",children:"Delivery Notes"}),t.jsx(rr,{id:"notes",value:c.notes,onChange:v=>d(y=>({...y,notes:v.target.value})),placeholder:"Add any special instructions or notes for this delivery",rows:3})]}),t.jsxs("div",{children:[t.jsx(ve,{htmlFor:"estimatedTime",children:"Estimated Delivery Time"}),t.jsx(Te,{id:"estimatedTime",type:"time",value:((x=c.customFields)==null?void 0:x.estimatedTime)||"",onChange:v=>d(y=>({...y,customFields:{...y.customFields,estimatedTime:v.target.value}}))}),t.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Approximate time of day when delivery will occur"})]})]}),t.jsxs("div",{className:"flex flex-col sm:flex-row justify-end space-y-2 sm:space-y-0 sm:space-x-3 pt-6 border-t",children:[t.jsx(ne,{type:"button",variant:"outline",onClick:n,disabled:o,className:"w-full sm:w-auto",children:"Cancel"}),t.jsx(ne,{type:"submit",disabled:o,className:"w-full sm:w-auto",children:o?t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),e?"Updating...":"Scheduling..."]}):t.jsxs(t.Fragment,{children:[t.jsx(js,{className:"h-4 w-4 mr-2"}),e?"Update":"Schedule"," Delivery"]})})]})]})})]})})}function vU({delivery:e}){const r=[{id:"created",title:"Delivery Scheduled",date:e.createdAt,icon:zr,status:"completed",description:`Delivery scheduled for ${gt(e.scheduledDate)}`},{id:"preparation",title:"Preparation",date:new Date(e.createdAt.getTime()+864e5),icon:si,status:e.status!==Wt.SCHEDULED||new Date>new Date(e.createdAt.getTime()+864e5)?"completed":"pending",description:"Vehicle prepared for delivery"},{id:"in_transit",title:"In Transit",date:e.status===Wt.IN_TRANSIT?e.updatedAt:null,icon:si,status:e.status===Wt.IN_TRANSIT||e.status===Wt.DELIVERED?"completed":"pending",description:e.status===Wt.IN_TRANSIT?"Vehicle is on the way to customer":"Waiting to begin transit"},{id:"delivered",title:"Delivered",date:e.deliveredDate,icon:Fs,status:e.status===Wt.DELIVERED?"completed":"pending",description:e.deliveredDate?`Delivered on ${gt(e.deliveredDate)}`:"Pending delivery"}];e.status===Wt.CANCELLED&&r.push({id:"cancelled",title:"Cancelled",date:e.updatedAt,icon:Ta,status:"completed",description:"Delivery was cancelled"});const n=s=>{switch(s){case"completed":return"text-green-500";case"pending":return"text-yellow-500";case"cancelled":return"text-red-500";default:return"text-gray-500"}};return t.jsxs(ue,{className:"shadow-sm",children:[t.jsxs(be,{children:[t.jsxs(je,{className:"text-lg flex items-center",children:[t.jsx(cr,{className:"h-5 w-5 mr-2 text-primary"}),"Delivery Timeline"]}),t.jsx(Ge,{children:"Track the progress of this delivery"})]}),t.jsx(me,{children:t.jsx("div",{className:"space-y-6",children:r.map((s,a)=>{const i=a===r.length-1;return t.jsxs("div",{className:"relative",children:[!i&&t.jsx("div",{className:ze("absolute left-6 top-10 bottom-0 w-px",s.status==="completed"?"bg-green-200":"bg-gray-200")}),t.jsxs("div",{className:"flex items-start space-x-4",children:[t.jsx("div",{className:ze("flex-shrink-0 w-12 h-12 rounded-full flex items-center justify-center",s.status==="completed"?"bg-green-50 border-2 border-green-200":"bg-gray-50 border-2 border-gray-200"),children:t.jsx(s.icon,{className:ze("h-6 w-6",n(s.status))})}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("h4",{className:"font-medium",children:s.title}),t.jsx(Re,{className:ze("text-xs",s.status==="completed"?"bg-green-50 text-green-700 border-green-200":s.status==="pending"?"bg-yellow-50 text-yellow-700 border-yellow-200":"bg-red-50 text-red-700 border-red-200"),children:s.status.toUpperCase()})]}),t.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:s.description}),s.date&&t.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:gt(s.date)})]})]})]},s.id)})})})]})}function yU({delivery:e,onSend:r}){const{toast:n}=nr(),[s,a]=A.useState("email"),[i,o]=A.useState(""),[l,c]=A.useState(!1),[d,m]=A.useState(!0),[u,h]=A.useState(!0),[p,g]=A.useState(!0),b=()=>{let x=`Hello,

Your delivery`;return d&&(x+=` is scheduled for ${gt(e.scheduledDate)}`),u&&(x+=`

Delivery Address:
${e.address.street}
${e.address.city}, ${e.address.state} ${e.address.zipCode}`),p&&(x+=`

You can track your delivery status in our customer portal.`),x+=`

Thank you for choosing our services.

Best regards,
Delivery Team`,x};Dt.useEffect(()=>{o(b())},[d,u,p,e]);const j=async()=>{if(!i.trim()){n({title:"Error",description:"Please enter a message",variant:"destructive"});return}c(!0);try{await r(s,i),n({title:"Success",description:`${s==="email"?"Email":"SMS"} notification sent successfully`})}catch{n({title:"Error",description:`Failed to send ${s==="email"?"email":"SMS"}`,variant:"destructive"})}finally{c(!1)}};return t.jsxs(ue,{className:"shadow-sm",children:[t.jsxs(be,{children:[t.jsxs(je,{className:"text-lg flex items-center",children:[t.jsx(Fo,{className:"h-5 w-5 mr-2 text-primary"}),"Send ETA Notification"]}),t.jsx(Ge,{children:"Notify the customer about their delivery status"})]}),t.jsxs(me,{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx(ve,{children:"Notification Type"}),t.jsxs(tt,{value:s,onValueChange:x=>a(x),children:[t.jsx(Xe,{children:t.jsx(rt,{})}),t.jsxs(Ze,{children:[t.jsx(se,{value:"email",children:t.jsxs("div",{className:"flex items-center",children:[t.jsx(_s,{className:"h-4 w-4 mr-2"}),t.jsx("span",{children:"Email"})]})}),t.jsx(se,{value:"sms",children:t.jsxs("div",{className:"flex items-center",children:[t.jsx(kn,{className:"h-4 w-4 mr-2"}),t.jsx("span",{children:"SMS"})]})})]})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(Tr,{id:"includeETA",checked:d,onCheckedChange:x=>m(!!x)}),t.jsx(ve,{htmlFor:"includeETA",children:"Include ETA"})]}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(Tr,{id:"includeAddress",checked:u,onCheckedChange:x=>h(!!x)}),t.jsx(ve,{htmlFor:"includeAddress",children:"Include Delivery Address"})]}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(Tr,{id:"includeTracking",checked:p,onCheckedChange:x=>g(!!x)}),t.jsx(ve,{htmlFor:"includeTracking",children:"Include Tracking Information"})]})]}),t.jsxs("div",{children:[t.jsx(ve,{children:"Message"}),t.jsx(rr,{value:i,onChange:x=>o(x.target.value),rows:8}),t.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:s==="sms"&&`${i.length} characters (SMS limit: 160 characters per message)`})]}),s==="email"&&t.jsxs("div",{children:[t.jsx(ve,{children:"Recipient Email"}),t.jsx(Te,{value:"customer@example.com",disabled:!0}),t.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Email will be sent to the customer's email address on file"})]}),s==="sms"&&t.jsxs("div",{children:[t.jsx(ve,{children:"Recipient Phone"}),t.jsx(Te,{value:"(555) 123-4567",disabled:!0}),t.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"SMS will be sent to the customer's phone number on file"})]}),t.jsx("div",{className:"flex justify-end",children:t.jsx(ne,{onClick:j,disabled:l,children:l?t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Sending..."]}):t.jsxs(t.Fragment,{children:[t.jsx(Fo,{className:"h-4 w-4 mr-2"}),"Send ",s==="email"?"Email":"SMS"]})})})]})]})}function bU({delivery:e,onPhotoCapture:r}){const{toast:n}=nr(),[s,a]=A.useState(null),[i,o]=A.useState(""),[l,c]=A.useState(!1),{getRootProps:d,getInputProps:m,isDragActive:u}=gx({accept:{"image/*":[]},onDrop:g=>{if(g.length===0)return;const b=g[0],j=URL.createObjectURL(b);a(j),n({title:"Photo Added",description:"Photo has been added. Add a caption and save."})}}),h=async()=>{if(!s){n({title:"Error",description:"Please add a photo first",variant:"destructive"});return}c(!0);try{await r(s,i),a(null),o(""),n({title:"Success",description:"Delivery photo saved successfully"})}catch{n({title:"Error",description:"Failed to save delivery photo",variant:"destructive"})}finally{c(!1)}},p=()=>{a("https://images.pexels.com/photos/2506923/pexels-photo-2506923.jpeg"),n({title:"Photo Captured",description:"Photo has been captured. Add a caption and save."})};return t.jsxs(ue,{className:"shadow-sm",children:[t.jsxs(be,{children:[t.jsxs(je,{className:"text-lg flex items-center",children:[t.jsx(La,{className:"h-5 w-5 mr-2 text-primary"}),"Delivery Photo Verification"]}),t.jsx(Ge,{children:"Capture photos to verify successful delivery"})]}),t.jsxs(me,{className:"space-y-4",children:[s?t.jsxs("div",{className:"relative",children:[t.jsx("img",{src:s,alt:"Delivery verification",className:"w-full h-48 object-cover rounded-md"}),t.jsx(ne,{variant:"destructive",size:"sm",className:"absolute top-2 right-2",onClick:()=>a(null),children:t.jsx(qt,{className:"h-4 w-4"})})]}):t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{...d(),className:`border-2 border-dashed rounded-lg p-6 text-center cursor-pointer transition-colors ${u?"border-primary bg-primary/5":"border-muted hover:border-muted-foreground/50"}`,children:[t.jsx("input",{...m()}),t.jsx(pd,{className:"h-8 w-8 mx-auto mb-2 text-muted-foreground"}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"Drag & drop a photo here, or click to select a file"})]}),t.jsxs("div",{className:"text-center",children:[t.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"- OR -"}),t.jsxs(ne,{onClick:p,children:[t.jsx(La,{className:"h-4 w-4 mr-2"}),"Take Photo"]})]})]}),s&&t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx(ve,{htmlFor:"caption",children:"Photo Caption"}),t.jsx(Te,{id:"caption",value:i,onChange:g=>o(g.target.value),placeholder:"e.g., Vehicle delivered at customer's driveway"})]}),t.jsx(ne,{className:"w-full",onClick:h,disabled:l,children:l?t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Saving..."]}):t.jsxs(t.Fragment,{children:[t.jsx(ky,{className:"h-4 w-4 mr-2"}),"Save Photo"]})})]}),e.customFields.photos&&e.customFields.photos.length>0&&t.jsxs("div",{className:"space-y-2 mt-4",children:[t.jsx("h4",{className:"text-sm font-medium",children:"Saved Photos"}),t.jsx("div",{className:"grid grid-cols-2 gap-2",children:e.customFields.photos.map((g,b)=>t.jsxs("div",{className:"relative",children:[t.jsx("img",{src:g.url,alt:g.caption||`Delivery photo ${b+1}`,className:"w-full h-24 object-cover rounded-md"}),g.caption&&t.jsx("div",{className:"absolute bottom-0 left-0 right-0 bg-black/50 text-white text-xs p-1 truncate",children:g.caption})]},b))})]})]})]})}function jU({delivery:e,onClose:r,onEdit:n,onStatusChange:s,onSendNotification:a,onPhotoCapture:i}){var p;const{toast:o}=nr(),[l,c]=A.useState("details"),d=g=>{switch(g){case Wt.SCHEDULED:return"bg-blue-50 text-blue-700 border-blue-200";case Wt.IN_TRANSIT:return"bg-yellow-50 text-yellow-700 border-yellow-200";case Wt.DELIVERED:return"bg-green-50 text-green-700 border-green-200";case Wt.CANCELLED:return"bg-red-50 text-red-700 border-red-200";default:return"bg-gray-50 text-gray-700 border-gray-200"}},m=async g=>{try{await s(e.id,g),o({title:"Status Updated",description:`Delivery status changed to ${g.replace("_"," ")}`})}catch{o({title:"Error",description:"Failed to update delivery status",variant:"destructive"})}},u=async(g,b)=>{try{await a(e.id,g,b)}catch(j){throw j}},h=async(g,b)=>{try{await i(e.id,g,b)}catch(j){throw j}};return t.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:t.jsxs(ue,{className:"w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[t.jsx(be,{children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx(je,{className:"text-xl",children:"Delivery Details"}),t.jsxs(Ge,{children:["Delivery #",e.id]})]}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsxs(ne,{onClick:()=>n(e),size:"sm",children:[t.jsx(Xr,{className:"h-4 w-4 mr-2"}),"Edit Delivery"]}),t.jsx(ne,{variant:"ghost",size:"sm",onClick:r,children:t.jsx(qt,{className:"h-4 w-4"})})]})]})}),t.jsxs(me,{children:[t.jsxs(Zr,{value:l,onValueChange:c,className:"space-y-4",children:[t.jsxs($r,{className:"grid w-full grid-cols-4",children:[t.jsx(it,{value:"details",children:"Details"}),t.jsx(it,{value:"timeline",children:"Timeline"}),t.jsx(it,{value:"notifications",children:"Notifications"}),t.jsx(it,{value:"photos",children:"Photos"})]}),t.jsxs(ct,{value:"details",className:"space-y-6",children:[t.jsx("div",{className:"flex flex-wrap items-center gap-2",children:t.jsx(Re,{className:ze("ri-badge-status",d(e.status)),children:e.status.replace("_"," ").toUpperCase()})}),t.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[t.jsxs("div",{children:[t.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Customer"}),t.jsx("p",{className:"font-medium",children:e.customerId})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Vehicle"}),t.jsx("p",{className:"font-medium",children:e.vehicleId})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Scheduled Date"}),t.jsx("p",{className:"font-medium",children:gt(e.scheduledDate)})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Delivery Time"}),t.jsx("p",{className:"font-medium",children:((p=e.customFields)==null?void 0:p.estimatedTime)||"Not specified"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Driver"}),t.jsx("p",{className:"font-medium",children:e.driver||"Not assigned"})]}),e.deliveredDate&&t.jsxs("div",{children:[t.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Delivered Date"}),t.jsx("p",{className:"font-medium",children:gt(e.deliveredDate)})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Delivery Address"}),t.jsx("div",{className:"mt-1 p-3 bg-muted/30 rounded-md",children:t.jsxs("p",{className:"font-medium",children:[e.address.street,t.jsx("br",{}),e.address.city,", ",e.address.state," ",e.address.zipCode,t.jsx("br",{}),e.address.country]})})]}),e.notes&&t.jsxs("div",{children:[t.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Notes"}),t.jsx("div",{className:"mt-1 p-3 bg-muted/30 rounded-md",children:t.jsx("p",{className:"whitespace-pre-wrap",children:e.notes})})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx("h3",{className:"text-sm font-medium",children:"Update Status"}),t.jsxs("div",{className:"flex flex-wrap gap-2",children:[t.jsxs(ne,{variant:"outline",size:"sm",disabled:e.status===Wt.SCHEDULED,onClick:()=>m(Wt.SCHEDULED),children:[t.jsx(zr,{className:"h-4 w-4 mr-2"}),"Mark as Scheduled"]}),t.jsxs(ne,{variant:"outline",size:"sm",disabled:e.status===Wt.IN_TRANSIT,onClick:()=>m(Wt.IN_TRANSIT),children:[t.jsx(si,{className:"h-4 w-4 mr-2"}),"Mark as In Transit"]}),t.jsxs(ne,{variant:"outline",size:"sm",disabled:e.status===Wt.DELIVERED,onClick:()=>m(Wt.DELIVERED),children:[t.jsx(hd,{className:"h-4 w-4 mr-2"}),"Mark as Delivered"]}),t.jsxs(ne,{variant:"outline",size:"sm",disabled:e.status===Wt.CANCELLED,onClick:()=>m(Wt.CANCELLED),children:[t.jsx(qt,{className:"h-4 w-4 mr-2"}),"Mark as Cancelled"]})]})]})]}),t.jsx(ct,{value:"timeline",className:"space-y-6",children:t.jsx(vU,{delivery:e})}),t.jsx(ct,{value:"notifications",className:"space-y-6",children:t.jsx(yU,{delivery:e,onSend:u})}),t.jsx(ct,{value:"photos",className:"space-y-6",children:t.jsx(bU,{delivery:e,onPhotoCapture:h})})]}),t.jsxs("div",{className:"flex justify-end space-x-3 pt-6 border-t mt-6",children:[t.jsx(ne,{variant:"outline",onClick:r,children:"Close"}),t.jsxs(ne,{onClick:()=>n(e),children:[t.jsx(Xr,{className:"h-4 w-4 mr-2"}),"Edit Delivery"]})]})]})]})})}function wU(){const{deliveries:e,createDelivery:r,updateDelivery:n,deleteDelivery:s,updateDeliveryStatus:a,sendNotification:i,addDeliveryPhoto:o}=xU();rl();const{toast:l}=nr(),[c,d]=A.useState(""),[m,u]=A.useState(!1),[h,p]=A.useState(!1),[g,b]=A.useState(null),j=I=>{switch(I){case Wt.SCHEDULED:return"bg-blue-50 text-blue-700 border-blue-200";case Wt.IN_TRANSIT:return"bg-yellow-50 text-yellow-700 border-yellow-200";case Wt.DELIVERED:return"bg-green-50 text-green-700 border-green-200";case Wt.CANCELLED:return"bg-red-50 text-red-700 border-red-200";default:return"bg-gray-50 text-gray-700 border-gray-200"}},x=e.filter(I=>I.id.toLowerCase().includes(c.toLowerCase())||I.customerId.toLowerCase().includes(c.toLowerCase())||I.address.city.toLowerCase().includes(c.toLowerCase())),v=()=>{b(null),u(!0)},y=I=>{b(I),u(!0),p(!1)},E=I=>{b(I),p(!0)},O=async I=>{try{g?(await n(g.id,I),l({title:"Success",description:"Delivery updated successfully"})):(await r(I),l({title:"Success",description:"Delivery scheduled successfully"})),u(!1),b(null)}catch{l({title:"Error",description:`Failed to ${g?"update":"schedule"} delivery`,variant:"destructive"})}},M=async(I,k)=>{try{return await a(I,k),!0}catch(C){throw l({title:"Error",description:"Failed to update delivery status",variant:"destructive"}),C}},P=async(I,k,C)=>{try{return await i(I,k,C),!0}catch(w){throw w}},S=async(I,k,C)=>{try{return await o(I,k,C),!0}catch(w){throw w}};return t.jsxs("div",{className:"space-y-8",children:[m&&t.jsx(gU,{delivery:g||void 0,onSave:O,onCancel:()=>{u(!1),b(null)}}),h&&g&&t.jsx(jU,{delivery:g,onClose:()=>p(!1),onEdit:y,onStatusChange:M,onSendNotification:P,onPhotoCapture:S}),t.jsx("div",{className:"ri-page-header",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"ri-page-title",children:"Delivery Tracker"}),t.jsx("p",{className:"ri-page-description",children:"Track home and vehicle deliveries with real-time updates"})]}),t.jsxs(ne,{className:"shadow-sm",onClick:v,children:[t.jsx(Et,{className:"h-4 w-4 mr-2"}),"Schedule Delivery"]})]})}),t.jsxs("div",{className:"ri-stats-grid",children:[t.jsxs(ue,{className:"shadow-sm border-0 bg-gradient-to-br from-blue-50 to-blue-100/50",children:[t.jsxs(be,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[t.jsx(je,{className:"text-sm font-medium text-blue-900",children:"Total Deliveries"}),t.jsx(si,{className:"h-4 w-4 text-blue-600"})]}),t.jsxs(me,{children:[t.jsx("div",{className:"text-2xl font-bold text-blue-900",children:e.length}),t.jsxs("p",{className:"text-xs text-blue-600 flex items-center mt-1",children:[t.jsx(vt,{className:"h-3 w-3 mr-1"}),"All deliveries"]})]})]}),t.jsxs(ue,{className:"shadow-sm border-0 bg-gradient-to-br from-blue-50 to-blue-100/50",children:[t.jsxs(be,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[t.jsx(je,{className:"text-sm font-medium text-blue-900",children:"Scheduled"}),t.jsx(si,{className:"h-4 w-4 text-blue-600"})]}),t.jsxs(me,{children:[t.jsx("div",{className:"text-2xl font-bold text-blue-900",children:e.filter(I=>I.status===Wt.SCHEDULED).length}),t.jsxs("p",{className:"text-xs text-blue-600 flex items-center mt-1",children:[t.jsx(zr,{className:"h-3 w-3 mr-1"}),"Upcoming deliveries"]})]})]}),t.jsxs(ue,{className:"shadow-sm border-0 bg-gradient-to-br from-yellow-50 to-yellow-100/50",children:[t.jsxs(be,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[t.jsx(je,{className:"text-sm font-medium text-yellow-900",children:"In Transit"}),t.jsx(si,{className:"h-4 w-4 text-yellow-600"})]}),t.jsxs(me,{children:[t.jsx("div",{className:"text-2xl font-bold text-yellow-900",children:e.filter(I=>I.status===Wt.IN_TRANSIT).length}),t.jsxs("p",{className:"text-xs text-yellow-600 flex items-center mt-1",children:[t.jsx(si,{className:"h-3 w-3 mr-1"}),"On the road"]})]})]}),t.jsxs(ue,{className:"shadow-sm border-0 bg-gradient-to-br from-green-50 to-green-100/50",children:[t.jsxs(be,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[t.jsx(je,{className:"text-sm font-medium text-green-900",children:"Delivered"}),t.jsx(si,{className:"h-4 w-4 text-green-600"})]}),t.jsxs(me,{children:[t.jsx("div",{className:"text-2xl font-bold text-green-900",children:e.filter(I=>I.status===Wt.DELIVERED).length}),t.jsxs("p",{className:"text-xs text-green-600 flex items-center mt-1",children:[t.jsx(vt,{className:"h-3 w-3 mr-1"}),"Completed"]})]})]}),t.jsxs(ue,{className:"shadow-sm border-0 bg-gradient-to-br from-purple-50 to-purple-100/50",children:[t.jsxs(be,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[t.jsx(je,{className:"text-sm font-medium text-purple-900",children:"Photos"}),t.jsx(La,{className:"h-4 w-4 text-purple-600"})]}),t.jsxs(me,{children:[t.jsx("div",{className:"text-2xl font-bold text-purple-900",children:e.reduce((I,k)=>{var C,w;return I+(((w=(C=k.customFields)==null?void 0:C.photos)==null?void 0:w.length)||0)},0)}),t.jsxs("p",{className:"text-xs text-purple-600 flex items-center mt-1",children:[t.jsx(La,{className:"h-3 w-3 mr-1"}),"Delivery verification"]})]})]})]}),t.jsxs("div",{className:"flex gap-4",children:[t.jsxs("div",{className:"ri-search-bar",children:[t.jsx(Jn,{className:"ri-search-icon"}),t.jsx(Te,{placeholder:"Search deliveries...",value:c,onChange:I=>d(I.target.value),className:"ri-search-input shadow-sm"})]}),t.jsxs(ne,{variant:"outline",className:"shadow-sm",children:[t.jsx(Ws,{className:"h-4 w-4 mr-2"}),"Filter"]})]}),t.jsxs(ue,{className:"shadow-sm",children:[t.jsxs(be,{children:[t.jsx(je,{className:"text-xl",children:"Deliveries"}),t.jsx(Ge,{children:"Track and manage vehicle deliveries"})]}),t.jsx(me,{children:t.jsxs("div",{className:"space-y-4",children:[x.map(I=>{var k,C;return t.jsxs("div",{className:"ri-table-row cursor-pointer",onClick:()=>E(I),children:[t.jsx("div",{className:"flex items-center space-x-4 flex-1",children:t.jsxs("div",{className:"flex-1",children:[t.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[t.jsxs("h3",{className:"font-semibold text-foreground",children:["Delivery #",I.id]}),t.jsx(Re,{className:ze("ri-badge-status",j(I.status)),children:I.status.replace("_"," ").toUpperCase()})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm text-muted-foreground",children:[t.jsxs("div",{className:"flex items-center",children:[t.jsx($s,{className:"h-3 w-3 mr-2 text-blue-500"}),t.jsx("span",{className:"font-medium",children:"Customer:"}),t.jsx("span",{className:"ml-1",children:I.customerId})]}),t.jsxs("div",{className:"flex items-center",children:[t.jsx($s,{className:"h-3 w-3 mr-2 text-green-500"}),t.jsx("span",{className:"font-medium",children:"Driver:"}),t.jsx("span",{className:"ml-1",children:I.driver||"Not assigned"})]}),t.jsxs("div",{className:"flex items-center",children:[t.jsx(zr,{className:"h-3 w-3 mr-2 text-purple-500"}),t.jsx("span",{className:"font-medium",children:"Scheduled:"}),t.jsx("span",{className:"ml-1",children:gt(I.scheduledDate)})]}),I.deliveredDate&&t.jsxs("div",{className:"flex items-center",children:[t.jsx(zr,{className:"h-3 w-3 mr-2 text-green-500"}),t.jsx("span",{className:"font-medium",children:"Delivered:"}),t.jsx("span",{className:"ml-1",children:gt(I.deliveredDate)})]})]}),t.jsx("div",{className:"mt-2 flex items-start",children:t.jsxs("div",{className:"flex items-start bg-muted/30 p-2 rounded-md",children:[t.jsx(hd,{className:"h-3 w-3 mr-2 mt-0.5 text-red-500"}),t.jsxs("span",{className:"text-sm text-muted-foreground",children:[I.address.street,", ",I.address.city,", ",I.address.state," ",I.address.zipCode]})]})}),((k=I.customFields)==null?void 0:k.estimatedTime)&&t.jsxs("div",{className:"mt-2 flex items-center",children:[t.jsx(cr,{className:"h-3 w-3 mr-1 text-blue-500"}),t.jsxs("span",{className:"text-sm text-muted-foreground",children:["Estimated delivery time: ",I.customFields.estimatedTime]})]}),((C=I.customFields)==null?void 0:C.photos)&&I.customFields.photos.length>0&&t.jsxs("div",{className:"mt-2 flex items-center",children:[t.jsx(La,{className:"h-3 w-3 mr-1 text-purple-500"}),t.jsxs("span",{className:"text-sm text-muted-foreground",children:[I.customFields.photos.length," delivery photos"]})]})]})}),t.jsxs("div",{className:"ri-action-buttons",children:[t.jsx(ne,{variant:"outline",size:"sm",className:"shadow-sm",onClick:w=>{w.stopPropagation(),E(I)},children:"View"}),t.jsx(ne,{variant:"outline",size:"sm",className:"shadow-sm",onClick:w=>{w.stopPropagation(),y(I)},children:"Edit"})]})]},I.id)}),x.length===0&&t.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[t.jsx(si,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground/50"}),t.jsx("p",{children:"No deliveries found"}),t.jsx("p",{className:"text-sm",children:"Try adjusting your search or create a new delivery"})]})]})})]})]})}function NU(){return t.jsx(Fn,{children:t.jsx(Pt,{path:"/*",element:t.jsx(wU,{})})})}var Pr=(e=>(e.IN_PROGRESS="in_progress",e.COMPLETED="completed",e.APPROVED="approved",e.REJECTED="rejected",e))(Pr||{}),Qt=(e=>(e.PENDING="pending",e.PASSED="passed",e.FAILED="failed",e.NA="na",e))(Qt||{}),Dn=(e=>(e.LOW="low",e.MEDIUM="medium",e.HIGH="high",e.CRITICAL="critical",e))(Dn||{}),Vh=(e=>(e.OPEN="open",e.IN_PROGRESS="in_progress",e.RESOLVED="resolved",e.VERIFIED="verified",e))(Vh||{}),Dl=(e=>(e.INSPECTOR="inspector",e.MANAGER="manager",e.QUALITY_CONTROL="quality_control",e))(Dl||{});function SU(){const[e,r]=A.useState([]),[n,s]=A.useState([]),[a,i]=A.useState(!1);A.useEffect(()=>{o()},[]);const o=()=>{const C=vn("renter-insight-pdi-templates",[{id:"1",name:"RV Pre-Delivery Inspection",description:"Standard PDI checklist for recreational vehicles",vehicleType:ut.RV,isActive:!0,sections:[{id:"1-1",templateId:"1",name:"Exterior",description:"Exterior inspection items",orderIndex:1,items:[{id:"1-1-1",sectionId:"1-1",name:"Exterior Body Condition",description:"Check for scratches, dents, or damage",itemType:"checkbox",isRequired:!0,orderIndex:1,createdAt:new Date("2024-01-01")},{id:"1-1-2",sectionId:"1-1",name:"Roof Inspection",description:"Check roof seals, vents, and AC units",itemType:"checkbox",isRequired:!0,orderIndex:2,createdAt:new Date("2024-01-01")},{id:"1-1-3",sectionId:"1-1",name:"Exterior Photos",description:"Take photos of all sides of the vehicle",itemType:"photo",isRequired:!0,orderIndex:3,createdAt:new Date("2024-01-01")}],createdAt:new Date("2024-01-01")},{id:"1-2",templateId:"1",name:"Interior",description:"Interior inspection items",orderIndex:2,items:[{id:"1-2-1",sectionId:"1-2",name:"Interior Cleanliness",description:"Verify interior is clean and free of debris",itemType:"checkbox",isRequired:!0,orderIndex:1,createdAt:new Date("2024-01-01")},{id:"1-2-2",sectionId:"1-2",name:"Furniture Condition",description:"Check all furniture for damage or defects",itemType:"checkbox",isRequired:!0,orderIndex:2,createdAt:new Date("2024-01-01")}],createdAt:new Date("2024-01-01")}],createdAt:new Date("2024-01-01"),updatedAt:new Date("2024-01-01")},{id:"2",name:"Motorhome Pre-Delivery Inspection",description:"Comprehensive PDI checklist for motorhomes",vehicleType:ut.MOTORHOME,isActive:!0,sections:[],createdAt:new Date("2024-01-01"),updatedAt:new Date("2024-01-01")}]),w=vn("renter-insight-pdi-inspections",[{id:"1",templateId:"1",vehicleId:"1",inspectorId:"user-001",status:Pr.IN_PROGRESS,startedAt:new Date("2024-01-15"),notes:"Initial inspection for new RV",items:[{id:"1-1",inspectionId:"1",templateItemId:"1-1-1",status:Qt.PASSED,notes:"No exterior damage found",createdAt:new Date("2024-01-15"),updatedAt:new Date("2024-01-15")},{id:"1-2",inspectionId:"1",templateItemId:"1-1-2",status:Qt.FAILED,notes:"Roof seal damaged near AC unit",createdAt:new Date("2024-01-15"),updatedAt:new Date("2024-01-15")}],defects:[{id:"1-1",inspectionId:"1",inspectionItemId:"1-2",title:"Roof Seal Damage",description:"Damaged roof seal near AC unit on passenger side",severity:Dn.MEDIUM,status:Vh.OPEN,assignedTo:"user-002",createdAt:new Date("2024-01-15"),updatedAt:new Date("2024-01-15")}],photos:[{id:"1-1",inspectionId:"1",inspectionItemId:"1-2",defectId:"1-1",url:"https://images.pexels.com/photos/1319515/pexels-photo-1319515.jpeg",caption:"Damaged roof seal",createdAt:new Date("2024-01-15")}],signoffs:[],createdAt:new Date("2024-01-15"),updatedAt:new Date("2024-01-15")}]);r(C),s(w)},l=C=>{Hr("renter-insight-pdi-templates",C)},c=C=>{Hr("renter-insight-pdi-inspections",C)};return{templates:e,inspections:n,loading:a,getTemplatesByVehicleType:C=>e.filter(w=>w.vehicleType===C&&w.isActive),getTemplateById:C=>e.find(w=>w.id===C),createTemplate:async C=>{i(!0);try{const w={id:Math.random().toString(36).substr(2,9),name:C.name||"",description:C.description||"",vehicleType:C.vehicleType||ut.RV,isActive:C.isActive??!0,sections:C.sections||[],createdAt:new Date,updatedAt:new Date},L=[...e,w];return r(L),l(L),w}finally{i(!1)}},updateTemplate:async(C,w)=>{const L=e.map(T=>T.id===C?{...T,...w,updatedAt:new Date}:T);r(L),l(L)},deleteTemplate:async C=>{const w=e.filter(L=>L.id!==C);r(w),l(w)},createTemplateSection:async(C,w)=>{const L=e.find(_=>_.id===C);if(!L)return null;const T={id:Math.random().toString(36).substr(2,9),templateId:C,name:w.name||"",description:w.description||"",orderIndex:w.orderIndex||L.sections.length+1,items:w.items||[],createdAt:new Date},W={...L,sections:[...L.sections,T],updatedAt:new Date},V=e.map(_=>_.id===C?W:_);return r(V),l(V),T},createTemplateItem:async(C,w)=>{const L=e.findIndex(R=>R.sections.some($=>$.id===C));if(L===-1)return null;const T=e[L],W=T.sections.findIndex(R=>R.id===C);if(W===-1)return null;const V=T.sections[W],_={id:Math.random().toString(36).substr(2,9),sectionId:C,name:w.name||"",description:w.description||"",itemType:w.itemType||"checkbox",isRequired:w.isRequired??!0,orderIndex:w.orderIndex||V.items.length+1,createdAt:new Date},B={...V,items:[...V.items,_]},U=[...T.sections];U[W]=B;const H={...T,sections:U,updatedAt:new Date},q=[...e];return q[L]=H,r(q),l(q),_},getInspectionsByVehicleId:C=>n.filter(w=>w.vehicleId===C),getInspectionById:C=>n.find(w=>w.id===C),createInspection:async C=>{i(!0);try{const w=e.find(V=>V.id===C.templateId);if(!w)throw new Error("Template not found");const L=[];w.sections.forEach(V=>{V.items.forEach(_=>{L.push({id:Math.random().toString(36).substr(2,9),inspectionId:"",templateItemId:_.id,templateItem:_,status:Qt.PENDING,createdAt:new Date,updatedAt:new Date})})});const T={id:Math.random().toString(36).substr(2,9),templateId:C.templateId||"",template:w||void 0,vehicleId:C.vehicleId||"",inspectorId:C.inspectorId||"",status:Pr.IN_PROGRESS,startedAt:new Date,notes:C.notes||"",items:[],defects:[],photos:[],signoffs:[],createdAt:new Date,updatedAt:new Date};L.forEach(V=>{V.inspectionId=T.id}),T.items=L;const W=[...n,T];return s(W),c(W),T}finally{i(!1)}},updateInspection:async(C,w)=>{const L=n.map(T=>T.id===C?{...T,...w,updatedAt:new Date}:T);s(L),c(L)},updateInspectionItem:async(C,w,L)=>{const T=n.findIndex(H=>H.id===C);if(T===-1)return;const W=n[T],V=W.items.findIndex(H=>H.id===w);if(V===-1)return;const _=[...W.items];_[V]={..._[V],...L,updatedAt:new Date};const B={...W,items:_,updatedAt:new Date},U=[...n];U[T]=B,s(U),c(U)},completeInspection:async(C,w)=>{const L=n.findIndex(B=>B.id===C);if(L===-1)return;const T=n[L];if(!T.items.every(B=>{const U=e.flatMap(H=>H.sections).flatMap(H=>H.items).find(H=>H.id===B.templateItemId);return!(U!=null&&U.isRequired)||B.status!==Qt.PENDING}))throw new Error("All required items must be completed");const V={...T,status:Pr.COMPLETED,completedAt:new Date,notes:w||T.notes,updatedAt:new Date},_=[...n];_[L]=V,s(_),c(_)},createDefect:async(C,w)=>{const L=n.findIndex(B=>B.id===C);if(L===-1)return null;const T=n[L],W={id:Math.random().toString(36).substr(2,9),inspectionId:C,inspectionItemId:w.inspectionItemId,title:w.title||"",description:w.description||"",severity:w.severity||Dn.MEDIUM,status:Vh.OPEN,assignedTo:w.assignedTo,photos:[],createdAt:new Date,updatedAt:new Date},V={...T,defects:[...T.defects,W],updatedAt:new Date},_=[...n];return _[L]=V,s(_),c(_),W},updateDefect:async(C,w,L)=>{const T=n.findIndex(H=>H.id===C);if(T===-1)return;const W=n[T],V=W.defects.findIndex(H=>H.id===w);if(V===-1)return;const _=[...W.defects];_[V]={..._[V],...L,updatedAt:new Date};const B={...W,defects:_,updatedAt:new Date},U=[...n];U[T]=B,s(U),c(U)},resolveDefect:async(C,w,L)=>{const T=n.findIndex(H=>H.id===C);if(T===-1)return;const W=n[T],V=W.defects.findIndex(H=>H.id===w);if(V===-1)return;const _=[...W.defects];_[V]={..._[V],status:Vh.RESOLVED,resolvedAt:new Date,resolutionNotes:L,updatedAt:new Date};const B={...W,defects:_,updatedAt:new Date},U=[...n];U[T]=B,s(U),c(U)},addPhoto:async(C,w)=>{const L=n.findIndex(B=>B.id===C);if(L===-1)return null;const T=n[L],W={id:Math.random().toString(36).substr(2,9),inspectionId:C,inspectionItemId:w.inspectionItemId,defectId:w.defectId,url:w.url||"",caption:w.caption,createdAt:new Date},V={...T,photos:[...T.photos,W],updatedAt:new Date},_=[...n];return _[L]=V,s(_),c(_),W},addSignoff:async(C,w)=>{const L=n.findIndex(U=>U.id===C);if(L===-1)return null;const T=n[L],W={id:Math.random().toString(36).substr(2,9),inspectionId:C,userId:w.userId||"",role:w.role||Dl.INSPECTOR,signatureUrl:w.signatureUrl,notes:w.notes,signedAt:new Date,createdAt:new Date};let V=T.status;w.role===Dl.MANAGER&&(V=Pr.APPROVED);const _={...T,signoffs:[...T.signoffs,W],status:V,updatedAt:new Date},B=[...n];return B[L]=_,s(B),c(B),W}}}function CU({templates:e,onCreateTemplate:r,onEditTemplate:n,onDeleteTemplate:s,onDuplicateTemplate:a,onViewTemplate:i}){const[o,l]=A.useState(""),[c,d]=A.useState("all"),m=e.filter(h=>{var b;const p=h.name.toLowerCase().includes(o.toLowerCase())||((b=h.description)==null?void 0:b.toLowerCase().includes(o.toLowerCase())),g=c==="all"||h.vehicleType===c;return p&&g}),u=h=>h.replace("_"," ").toUpperCase();return t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[t.jsxs("div",{className:"ri-search-bar flex-1",children:[t.jsx(Jn,{className:"ri-search-icon"}),t.jsx(Te,{placeholder:"Search templates...",value:o,onChange:h=>l(h.target.value),className:"ri-search-input shadow-sm"})]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsxs("select",{value:c,onChange:h=>d(h.target.value),className:"px-3 py-2 rounded-md border border-input bg-background",children:[t.jsx("option",{value:"all",children:"All Types"}),t.jsx("option",{value:"rv",children:"RV"}),t.jsx("option",{value:"motorhome",children:"Motorhome"}),t.jsx("option",{value:"travel_trailer",children:"Travel Trailer"}),t.jsx("option",{value:"fifth_wheel",children:"Fifth Wheel"}),t.jsx("option",{value:"toy_hauler",children:"Toy Hauler"})]}),t.jsxs(ne,{variant:"outline",className:"shadow-sm",children:[t.jsx(Ws,{className:"h-4 w-4 mr-2"}),"Filter"]}),t.jsxs(ne,{onClick:r,className:"shadow-sm",children:[t.jsx(Et,{className:"h-4 w-4 mr-2"}),"New Template"]})]})]}),t.jsxs(ue,{className:"shadow-sm",children:[t.jsxs(be,{children:[t.jsxs(je,{className:"text-xl",children:["PDI Templates (",m.length,")"]}),t.jsx(Ge,{children:"Manage pre-delivery inspection templates for different vehicle types"})]}),t.jsx(me,{children:t.jsxs("div",{className:"space-y-4",children:[m.map(h=>t.jsxs("div",{className:"ri-table-row",children:[t.jsx("div",{className:"flex items-center space-x-4 flex-1",children:t.jsxs("div",{className:"flex-1",children:[t.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[t.jsx("h3",{className:"font-semibold text-foreground",children:h.name}),t.jsx(Re,{variant:"outline",children:u(h.vehicleType)}),h.isActive?t.jsx(Re,{className:"bg-green-50 text-green-700 border-green-200",children:"ACTIVE"}):t.jsx(Re,{className:"bg-gray-50 text-gray-700 border-gray-200",children:"INACTIVE"})]}),t.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:h.description}),t.jsxs("div",{className:"flex items-center space-x-4 text-sm",children:[t.jsxs("span",{className:"flex items-center",children:[t.jsx(U0,{className:"h-3 w-3 mr-1 text-blue-500"}),h.sections.length," sections"]}),t.jsxs("span",{className:"flex items-center",children:[t.jsx(Ey,{className:"h-3 w-3 mr-1 text-green-500"}),h.sections.reduce((p,g)=>p+g.items.length,0)," items"]})]})]})}),t.jsxs("div",{className:"ri-action-buttons",children:[t.jsx(ne,{variant:"outline",size:"sm",className:"shadow-sm",onClick:()=>i(h),children:"View"}),t.jsxs(ne,{variant:"outline",size:"sm",className:"shadow-sm",onClick:()=>n(h),children:[t.jsx(Xr,{className:"h-3 w-3 mr-1"}),"Edit"]}),t.jsxs(ne,{variant:"outline",size:"sm",className:"shadow-sm",onClick:()=>a(h),children:[t.jsx(Py,{className:"h-3 w-3 mr-1"}),"Duplicate"]}),t.jsx(ne,{variant:"outline",size:"sm",className:"shadow-sm text-red-600 hover:text-red-700",onClick:()=>s(h.id),children:t.jsx(bs,{className:"h-3 w-3"})})]})]},h.id)),m.length===0&&t.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[t.jsx(U0,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground/50"}),t.jsx("p",{children:"No templates found"}),t.jsx("p",{className:"text-sm",children:"Create your first template to get started"})]})]})})]})]})}function AU({template:e,onSave:r,onCancel:n}){var C;const{toast:s}=nr(),[a,i]=A.useState(!1),[o,l]=A.useState({name:"",description:"",vehicleType:ut.RV,isActive:!0,sections:[]}),[c,d]=A.useState(!1),[m,u]=A.useState({name:"",description:"",items:[]}),[h,p]=A.useState(null),[g,b]=A.useState(!1),[j,x]=A.useState({name:"",description:"",itemType:"checkbox",isRequired:!0});A.useEffect(()=>{e&&l({...e})},[e]);const v=async w=>{if(w.preventDefault(),!o.name){s({title:"Validation Error",description:"Template name is required",variant:"destructive"});return}if(!o.vehicleType){s({title:"Validation Error",description:"Vehicle type is required",variant:"destructive"});return}if(!o.sections||o.sections.length===0){s({title:"Validation Error",description:"At least one section is required",variant:"destructive"});return}const L=o.sections.filter(T=>!T.items||T.items.length===0);if(L.length>0){s({title:"Validation Error",description:`Section "${L[0].name}" must have at least one item`,variant:"destructive"});return}i(!0);try{await r(o),s({title:"Success",description:`Template ${e?"updated":"created"} successfully`})}catch{s({title:"Error",description:`Failed to ${e?"update":"create"} template`,variant:"destructive"})}finally{i(!1)}},y=()=>{var L;if(!m.name){s({title:"Validation Error",description:"Section name is required",variant:"destructive"});return}const w={id:Math.random().toString(36).substr(2,9),templateId:(e==null?void 0:e.id)||"",name:m.name,description:m.description||"",orderIndex:(((L=o.sections)==null?void 0:L.length)||0)+1,items:[],createdAt:new Date};l(T=>({...T,sections:[...T.sections||[],w]})),u({name:"",description:"",items:[]}),d(!1)},E=w=>{l(L=>{var T;return{...L,sections:((T=L.sections)==null?void 0:T.filter(W=>W.id!==w))||[]}})},O=w=>{const L=[...o.sections||[]],T=L.findIndex(W=>W.id===w);T<=0||([L[T-1],L[T]]=[L[T],L[T-1]],L.forEach((W,V)=>{W.orderIndex=V+1}),l(W=>({...W,sections:L})))},M=w=>{const L=[...o.sections||[]],T=L.findIndex(W=>W.id===w);T===-1||T>=L.length-1||([L[T],L[T+1]]=[L[T+1],L[T]],L.forEach((W,V)=>{W.orderIndex=V+1}),l(W=>({...W,sections:L})))},P=w=>{var _;if(!j.name){s({title:"Validation Error",description:"Item name is required",variant:"destructive"});return}const L=[...o.sections||[]],T=L.findIndex(B=>B.id===w);if(T===-1)return;const W=L[T],V={id:Math.random().toString(36).substr(2,9),sectionId:w,name:j.name,description:j.description||"",itemType:j.itemType||"checkbox",isRequired:j.isRequired??!0,orderIndex:(((_=W.items)==null?void 0:_.length)||0)+1,createdAt:new Date};W.items=[...W.items||[],V],L[T]=W,l(B=>({...B,sections:L})),x({name:"",description:"",itemType:"checkbox",isRequired:!0}),b(!1)},S=(w,L)=>{const T=[...o.sections||[]],W=T.findIndex(_=>_.id===w);if(W===-1)return;const V=T[W];V.items=V.items.filter(_=>_.id!==L),T[W]=V,l(_=>({..._,sections:T}))},I=(w,L)=>{const T=[...o.sections||[]],W=T.findIndex(U=>U.id===w);if(W===-1)return;const V=T[W],_=[...V.items],B=_.findIndex(U=>U.id===L);B<=0||([_[B-1],_[B]]=[_[B],_[B-1]],_.forEach((U,H)=>{U.orderIndex=H+1}),V.items=_,T[W]=V,l(U=>({...U,sections:T})))},k=(w,L)=>{const T=[...o.sections||[]],W=T.findIndex(U=>U.id===w);if(W===-1)return;const V=T[W],_=[...V.items],B=_.findIndex(U=>U.id===L);B===-1||B>=_.length-1||([_[B],_[B+1]]=[_[B+1],_[B]],_.forEach((U,H)=>{U.orderIndex=H+1}),V.items=_,T[W]=V,l(U=>({...U,sections:T})))};return t.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:t.jsxs(ue,{className:"w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[t.jsx(be,{children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx(je,{children:e?"Edit Template":"Create Template"}),t.jsx(Ge,{children:e?"Update PDI template details":"Create a new PDI template"})]}),t.jsx(ne,{variant:"ghost",size:"sm",onClick:n,children:t.jsx(qt,{className:"h-4 w-4"})})]})}),t.jsx(me,{children:t.jsxs("form",{onSubmit:v,className:"space-y-6",children:[t.jsxs("div",{className:"space-y-4",children:[t.jsx("h3",{className:"text-lg font-semibold",children:"Template Information"}),t.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[t.jsxs("div",{children:[t.jsx(ve,{htmlFor:"name",children:"Template Name *"}),t.jsx(Te,{id:"name",value:o.name,onChange:w=>l(L=>({...L,name:w.target.value})),placeholder:"e.g., RV Pre-Delivery Inspection"})]}),t.jsxs("div",{children:[t.jsx(ve,{htmlFor:"vehicleType",children:"Home/Vehicle Type *"}),t.jsxs(tt,{value:o.vehicleType,onValueChange:w=>l(L=>({...L,vehicleType:w})),children:[t.jsx(Xe,{children:t.jsx(rt,{})}),t.jsxs(Ze,{children:[t.jsx(se,{value:ut.RV,children:"RV"}),t.jsx(se,{value:ut.MOTORHOME,children:"Motorhome"}),t.jsx(se,{value:ut.TRAVEL_TRAILER,children:"Travel Trailer"}),t.jsx(se,{value:ut.FIFTH_WHEEL,children:"Fifth Wheel"}),t.jsx(se,{value:ut.TOY_HAULER,children:"Toy Hauler"}),t.jsx(se,{value:ut.SINGLE_WIDE,children:"Single Wide MH"}),t.jsx(se,{value:ut.DOUBLE_WIDE,children:"Double Wide MH"}),t.jsx(se,{value:ut.TRIPLE_WIDE,children:"Triple Wide MH"}),t.jsx(se,{value:ut.PARK_MODEL,children:"Park Model"}),t.jsx(se,{value:ut.MODULAR_HOME,children:"Modular Home"})]})]})]})]}),t.jsxs("div",{children:[t.jsx(ve,{htmlFor:"description",children:"Description"}),t.jsx(rr,{id:"description",value:o.description,onChange:w=>l(L=>({...L,description:w.target.value})),placeholder:"Describe the purpose and scope of this template",rows:3})]}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(Tr,{id:"isActive",checked:o.isActive,onCheckedChange:w=>l(L=>({...L,isActive:!!w}))}),t.jsx(ve,{htmlFor:"isActive",children:"Active template"})]})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("h3",{className:"text-lg font-semibold",children:"Sections"}),t.jsxs(ne,{type:"button",onClick:()=>d(!0),size:"sm",children:[t.jsx(Et,{className:"h-4 w-4 mr-2"}),"Add Section"]})]}),c&&t.jsx(ue,{className:"border-dashed",children:t.jsx(me,{className:"pt-6",children:t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx(ve,{htmlFor:"sectionName",children:"Section Name *"}),t.jsx(Te,{id:"sectionName",value:m.name,onChange:w=>u(L=>({...L,name:w.target.value})),placeholder:"e.g., Exterior Inspection"})]}),t.jsxs("div",{children:[t.jsx(ve,{htmlFor:"sectionDescription",children:"Description"}),t.jsx(rr,{id:"sectionDescription",value:m.description,onChange:w=>u(L=>({...L,description:w.target.value})),placeholder:"Describe this section",rows:2})]}),t.jsxs("div",{className:"flex justify-end space-x-2",children:[t.jsx(ne,{type:"button",variant:"outline",onClick:()=>d(!1),children:"Cancel"}),t.jsx(ne,{type:"button",onClick:y,children:"Add Section"})]})]})})}),t.jsxs("div",{className:"space-y-6",children:[(C=o.sections)==null?void 0:C.map(w=>{var L;return t.jsxs(ue,{className:"shadow-sm",children:[t.jsx(be,{className:"pb-3",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx(je,{className:"text-lg",children:w.name}),w.description&&t.jsx(Ge,{children:w.description})]}),t.jsxs("div",{className:"flex items-center space-x-1",children:[t.jsx(ne,{type:"button",variant:"ghost",size:"sm",onClick:()=>O(w.id),disabled:w.orderIndex<=1,children:t.jsx(_i,{className:"h-4 w-4"})}),t.jsx(ne,{type:"button",variant:"ghost",size:"sm",onClick:()=>M(w.id),disabled:w.orderIndex>=(((L=o.sections)==null?void 0:L.length)||0),children:t.jsx(Fi,{className:"h-4 w-4"})}),t.jsx(ne,{type:"button",variant:"ghost",size:"sm",onClick:()=>E(w.id),children:t.jsx(bs,{className:"h-4 w-4 text-red-500"})})]})]})}),t.jsx(me,{children:t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("h4",{className:"text-sm font-semibold",children:["Items (",w.items.length,")"]}),t.jsxs(ne,{type:"button",size:"sm",variant:"outline",onClick:()=>{p(w.id),b(!0)},children:[t.jsx(Et,{className:"h-3 w-3 mr-1"}),"Add Item"]})]}),g&&h===w.id&&t.jsx(ue,{className:"border-dashed",children:t.jsx(me,{className:"pt-6",children:t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[t.jsxs("div",{children:[t.jsx(ve,{htmlFor:"itemName",children:"Item Name *"}),t.jsx(Te,{id:"itemName",value:j.name,onChange:T=>x(W=>({...W,name:T.target.value})),placeholder:"e.g., Check Exterior Body Condition"})]}),t.jsxs("div",{children:[t.jsx(ve,{htmlFor:"itemType",children:"Item Type"}),t.jsxs(tt,{value:j.itemType,onValueChange:T=>x(W=>({...W,itemType:T})),children:[t.jsx(Xe,{children:t.jsx(rt,{})}),t.jsxs(Ze,{children:[t.jsx(se,{value:"checkbox",children:"Checkbox"}),t.jsx(se,{value:"text",children:"Text Input"}),t.jsx(se,{value:"number",children:"Number Input"}),t.jsx(se,{value:"photo",children:"Photo Upload"})]})]})]})]}),t.jsxs("div",{children:[t.jsx(ve,{htmlFor:"itemDescription",children:"Description"}),t.jsx(rr,{id:"itemDescription",value:j.description,onChange:T=>x(W=>({...W,description:T.target.value})),placeholder:"Describe this inspection item",rows:2})]}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(Tr,{id:"isRequired",checked:j.isRequired,onCheckedChange:T=>x(W=>({...W,isRequired:!!T}))}),t.jsx(ve,{htmlFor:"isRequired",children:"Required item"})]}),t.jsxs("div",{className:"flex justify-end space-x-2",children:[t.jsx(ne,{type:"button",variant:"outline",onClick:()=>{b(!1),p(null)},children:"Cancel"}),t.jsx(ne,{type:"button",onClick:()=>P(w.id),children:"Add Item"})]})]})})}),t.jsxs("div",{className:"space-y-2",children:[w.items.map(T=>t.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[t.jsxs("div",{className:"flex-1",children:[t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("span",{className:"font-medium",children:T.name}),t.jsx(Re,{variant:"outline",className:"text-xs",children:T.itemType}),T.isRequired&&t.jsx(Re,{className:"bg-blue-50 text-blue-700 border-blue-200 text-xs",children:"Required"})]}),T.description&&t.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:T.description})]}),t.jsxs("div",{className:"flex items-center space-x-1",children:[t.jsx(ne,{type:"button",variant:"ghost",size:"sm",onClick:()=>I(w.id,T.id),disabled:T.orderIndex<=1,children:t.jsx(_i,{className:"h-3 w-3"})}),t.jsx(ne,{type:"button",variant:"ghost",size:"sm",onClick:()=>k(w.id,T.id),disabled:T.orderIndex>=w.items.length,children:t.jsx(Fi,{className:"h-3 w-3"})}),t.jsx(ne,{type:"button",variant:"ghost",size:"sm",onClick:()=>S(w.id,T.id),children:t.jsx(bs,{className:"h-3 w-3 text-red-500"})})]})]},T.id)),w.items.length===0&&t.jsxs("div",{className:"text-center py-4 text-sm text-muted-foreground border-2 border-dashed rounded-lg",children:[t.jsx(Ey,{className:"h-8 w-8 mx-auto mb-2 text-muted-foreground/50"}),t.jsx("p",{children:"No items added yet"}),t.jsx("p",{className:"text-xs",children:"Add items to this section"})]})]})]})})]},w.id)}),(!o.sections||o.sections.length===0)&&t.jsxs("div",{className:"text-center py-8 text-muted-foreground border-2 border-dashed rounded-lg",children:[t.jsx(U0,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground/50"}),t.jsx("p",{children:"No sections added yet"}),t.jsx("p",{className:"text-sm",children:"Add sections to organize your checklist"})]})]})]}),t.jsxs("div",{className:"flex justify-end space-x-3 pt-6 border-t",children:[t.jsx(ne,{type:"button",variant:"outline",onClick:n,disabled:a,children:"Cancel"}),t.jsx(ne,{type:"submit",disabled:a,children:a?t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),e?"Updating...":"Creating..."]}):t.jsxs(t.Fragment,{children:[t.jsx(js,{className:"h-4 w-4 mr-2"}),e?"Update":"Create"," Template"]})})]})]})})]})})}function EU({inspections:e,onCreateInspection:r,onViewInspection:n,onContinueInspection:s}){const[a,i]=A.useState(""),[o,l]=A.useState("all"),c=e.filter(u=>{const h=u.id.toLowerCase().includes(a.toLowerCase())||u.vehicleId.toLowerCase().includes(a.toLowerCase()),p=o==="all"||u.status===o;return h&&p}),d=u=>{switch(u){case Pr.IN_PROGRESS:return"bg-yellow-50 text-yellow-700 border-yellow-200";case Pr.COMPLETED:return"bg-blue-50 text-blue-700 border-blue-200";case Pr.APPROVED:return"bg-green-50 text-green-700 border-green-200";case Pr.REJECTED:return"bg-red-50 text-red-700 border-red-200";default:return"bg-gray-50 text-gray-700 border-gray-200"}},m=u=>{switch(u){case Pr.IN_PROGRESS:return t.jsx(cr,{className:"h-4 w-4 text-yellow-500"});case Pr.COMPLETED:return t.jsx(Fs,{className:"h-4 w-4 text-blue-500"});case Pr.APPROVED:return t.jsx(Fs,{className:"h-4 w-4 text-green-500"});case Pr.REJECTED:return t.jsx($u,{className:"h-4 w-4 text-red-500"});default:return t.jsx(cr,{className:"h-4 w-4 text-gray-500"})}};return t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[t.jsxs("div",{className:"ri-search-bar flex-1",children:[t.jsx(Jn,{className:"ri-search-icon"}),t.jsx(Te,{placeholder:"Search inspections...",value:a,onChange:u=>i(u.target.value),className:"ri-search-input shadow-sm"})]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsxs("select",{value:o,onChange:u=>l(u.target.value),className:"px-3 py-2 rounded-md border border-input bg-background",children:[t.jsx("option",{value:"all",children:"All Status"}),t.jsx("option",{value:"in_progress",children:"In Progress"}),t.jsx("option",{value:"completed",children:"Completed"}),t.jsx("option",{value:"approved",children:"Approved"}),t.jsx("option",{value:"rejected",children:"Rejected"})]}),t.jsxs(ne,{variant:"outline",className:"shadow-sm",children:[t.jsx(Ws,{className:"h-4 w-4 mr-2"}),"Filter"]}),t.jsxs(ne,{onClick:r,className:"shadow-sm",children:[t.jsx(Et,{className:"h-4 w-4 mr-2"}),"New Inspection"]})]})]}),t.jsxs(ue,{className:"shadow-sm",children:[t.jsxs(be,{children:[t.jsxs(je,{className:"text-xl",children:["Home/Vehicle PDI Inspections (",c.length,")"]}),t.jsx(Ge,{children:"Manage pre-delivery inspections for homes and vehicles"})]}),t.jsx(me,{children:t.jsxs("div",{className:"space-y-4",children:[c.map(u=>{var h,p,g;return t.jsxs("div",{className:"ri-table-row",children:[t.jsx("div",{className:"flex items-center space-x-4 flex-1",children:t.jsxs("div",{className:"flex-1",children:[t.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[t.jsxs("h3",{className:"font-semibold text-foreground",children:["Inspection #",u.id.substring(0,8)]}),t.jsxs(Re,{className:ze("ri-badge-status",d(u.status)),children:[m(u.status),t.jsx("span",{className:"ml-1",children:u.status.replace("_"," ").toUpperCase()})]})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm text-muted-foreground",children:[t.jsxs("div",{children:[t.jsx("span",{className:"font-medium",children:"Vehicle:"}),t.jsxs("span",{className:"ml-1",children:[(h=u.vehicle)==null?void 0:h.make," ",(p=u.vehicle)==null?void 0:p.model," (",u.vehicleId,")"]})]}),t.jsxs("div",{children:[t.jsx("span",{className:"font-medium",children:"Inspector:"}),t.jsx("span",{className:"ml-1",children:((g=u.inspector)==null?void 0:g.name)||u.inspectorId})]}),t.jsxs("div",{children:[t.jsx("span",{className:"font-medium",children:"Started:"}),t.jsx("span",{className:"ml-1",children:gt(u.startedAt)})]}),u.completedAt&&t.jsxs("div",{children:[t.jsx("span",{className:"font-medium",children:"Completed:"}),t.jsx("span",{className:"ml-1",children:gt(u.completedAt)})]})]}),t.jsxs("div",{className:"flex items-center space-x-4 mt-2 text-sm",children:[t.jsxs("span",{className:"flex items-center",children:[t.jsx(Fs,{className:"h-3 w-3 mr-1 text-green-500"}),u.items.filter(b=>b.status==="passed").length," passed"]}),t.jsxs("span",{className:"flex items-center",children:[t.jsx($u,{className:"h-3 w-3 mr-1 text-red-500"}),u.items.filter(b=>b.status==="failed").length," failed"]}),t.jsxs("span",{className:"flex items-center",children:[t.jsx(cr,{className:"h-3 w-3 mr-1 text-yellow-500"}),u.items.filter(b=>b.status==="pending").length," pending"]})]}),u.defects.length>0&&t.jsx("div",{className:"mt-2 bg-red-50 p-2 rounded-md",children:t.jsxs("p",{className:"text-sm text-red-700 flex items-center",children:[t.jsx($u,{className:"h-3 w-3 mr-1"}),u.defects.length," defect",u.defects.length!==1?"s":""," found"]})})]})}),t.jsx("div",{className:"ri-action-buttons",children:u.status===Pr.IN_PROGRESS?t.jsxs(ne,{variant:"outline",size:"sm",className:"shadow-sm",onClick:()=>s(u),children:[t.jsx(Wl,{className:"h-3 w-3 mr-1"}),"Continue"]}):t.jsxs(ne,{variant:"outline",size:"sm",className:"shadow-sm",onClick:()=>n(u),children:[t.jsx(tl,{className:"h-3 w-3 mr-1"}),"View"]})})]},u.id)}),c.length===0&&t.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[t.jsx(Wl,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground/50"}),t.jsx("p",{children:"No inspections found"}),t.jsx("p",{className:"text-sm",children:"Create your first inspection to get started"})]})]})})]})]})}function IU({inspection:e,vehicles:r,onSave:n,onComplete:s,onUpdateItem:a,onAddDefect:i,onAddPhoto:o,onCancel:l}){var U;const{toast:c}=nr(),[d,m]=A.useState(!1),[u,h]=A.useState("checklist"),[p,g]=A.useState(e.notes||""),[b,j]=A.useState(!1),[x,v]=A.useState(null),[y,E]=A.useState({title:"",description:"",severity:Dn.MEDIUM}),[O,M]=A.useState(!1),[P,S]=A.useState("");A.useEffect(()=>{g(e.notes||"")},[e]);const{getRootProps:I,getInputProps:k}=gx({accept:{"image/*":[]},onDrop:H=>{if(H.length===0)return;const q=H[0],R=URL.createObjectURL(q);W(R)}}),C=async()=>{m(!0);try{await n({notes:p}),c({title:"Success",description:"Inspection saved successfully"})}catch{c({title:"Error",description:"Failed to save inspection",variant:"destructive"})}finally{m(!1)}},w=async()=>{const H=e.items.filter(q=>{const R=q.templateItem;return(R==null?void 0:R.isRequired)&&q.status===Qt.PENDING});if(H.length>0){c({title:"Incomplete Inspection",description:`${H.length} required items are still pending`,variant:"destructive"});return}m(!0);try{await s(e.id,p),c({title:"Success",description:"Inspection completed successfully"}),l()}catch{c({title:"Error",description:"Failed to complete inspection",variant:"destructive"})}finally{m(!1)}},L=async(H,q,R,$)=>{try{await a(e.id,H,{status:q,value:R,notes:$}),q===Qt.FAILED&&(v(H),j(!0))}catch{c({title:"Error",description:"Failed to update item",variant:"destructive"})}},T=async()=>{if(!y.title||!y.description){c({title:"Validation Error",description:"Title and description are required",variant:"destructive"});return}try{await i(e.id,{...y,inspectionItemId:x||void 0}),E({title:"",description:"",severity:Dn.MEDIUM}),v(null),j(!1),c({title:"Success",description:"Defect added successfully"})}catch{c({title:"Error",description:"Failed to add defect",variant:"destructive"})}},W=async H=>{try{await o(e.id,{url:H,inspectionItemId:x||void 0,caption:P}),S(""),M(!1),c({title:"Success",description:"Photo added successfully"})}catch{c({title:"Error",description:"Failed to add photo",variant:"destructive"})}},V=H=>{switch(H){case Qt.PENDING:return"bg-yellow-50 text-yellow-700 border-yellow-200";case Qt.PASSED:return"bg-green-50 text-green-700 border-green-200";case Qt.FAILED:return"bg-red-50 text-red-700 border-red-200";case Qt.NA:return"bg-gray-50 text-gray-700 border-gray-200";default:return"bg-gray-50 text-gray-700 border-gray-200"}},_=H=>{switch(H){case Dn.LOW:return"bg-blue-50 text-blue-700 border-blue-200";case Dn.MEDIUM:return"bg-yellow-50 text-yellow-700 border-yellow-200";case Dn.HIGH:return"bg-orange-50 text-orange-700 border-orange-200";case Dn.CRITICAL:return"bg-red-50 text-red-700 border-red-200";default:return"bg-gray-50 text-gray-700 border-gray-200"}},B=r.find(H=>H.id===e.vehicleId);return t.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:t.jsxs(ue,{className:"w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[t.jsx(be,{children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx(je,{children:"PDI Inspection"}),t.jsx(Ge,{children:B?`${B.year} ${B.make} ${B.model}`:e.vehicleId})]}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(Re,{className:ze("ri-badge-status",e.status===Pr.IN_PROGRESS?"bg-yellow-50 text-yellow-700 border-yellow-200":e.status===Pr.COMPLETED?"bg-blue-50 text-blue-700 border-blue-200":e.status===Pr.APPROVED?"bg-green-50 text-green-700 border-green-200":"bg-red-50 text-red-700 border-red-200"),children:e.status.replace("_"," ").toUpperCase()}),t.jsx(ne,{variant:"ghost",size:"sm",onClick:l,children:t.jsx(qt,{className:"h-4 w-4"})})]})]})}),t.jsx(me,{children:t.jsxs(Zr,{value:u,onValueChange:h,className:"space-y-4",children:[t.jsxs($r,{className:"grid w-full grid-cols-3",children:[t.jsx(it,{value:"checklist",children:"Checklist"}),t.jsxs(it,{value:"defects",children:["Defects",e.defects.length>0&&t.jsx(Re,{className:"ml-2 bg-red-50 text-red-700 border-red-200",children:e.defects.length})]}),t.jsxs(it,{value:"photos",children:["Photos",e.photos.length>0&&t.jsx(Re,{className:"ml-2 bg-blue-50 text-blue-700 border-blue-200",children:e.photos.length})]})]}),t.jsxs(ct,{value:"checklist",className:"space-y-6",children:[b&&t.jsxs(ue,{className:"border-2 border-red-200",children:[t.jsxs(be,{className:"bg-red-50",children:[t.jsxs(je,{className:"text-lg text-red-700 flex items-center",children:[t.jsx(Ta,{className:"h-5 w-5 mr-2"}),"Report Defect"]}),t.jsx(Ge,{className:"text-red-600",children:"Record details about the issue found"})]}),t.jsxs(me,{className:"pt-6 space-y-4",children:[t.jsxs("div",{children:[t.jsx(ve,{htmlFor:"defectTitle",children:"Defect Title *"}),t.jsx(Te,{id:"defectTitle",value:y.title,onChange:H=>E(q=>({...q,title:H.target.value})),placeholder:"e.g., Damaged Roof Seal"})]}),t.jsxs("div",{children:[t.jsx(ve,{htmlFor:"defectDescription",children:"Description *"}),t.jsx(rr,{id:"defectDescription",value:y.description,onChange:H=>E(q=>({...q,description:H.target.value})),placeholder:"Describe the defect in detail",rows:3})]}),t.jsxs("div",{children:[t.jsx(ve,{htmlFor:"defectSeverity",children:"Severity"}),t.jsxs(tt,{value:y.severity,onValueChange:H=>E(q=>({...q,severity:H})),children:[t.jsx(Xe,{children:t.jsx(rt,{})}),t.jsxs(Ze,{children:[t.jsx(se,{value:Dn.LOW,children:"Low"}),t.jsx(se,{value:Dn.MEDIUM,children:"Medium"}),t.jsx(se,{value:Dn.HIGH,children:"High"}),t.jsx(se,{value:Dn.CRITICAL,children:"Critical"})]})]})]}),t.jsxs("div",{className:"flex justify-end space-x-2",children:[t.jsx(ne,{type:"button",variant:"outline",onClick:()=>{j(!1),v(null)},children:"Cancel"}),t.jsx(ne,{type:"button",onClick:T,children:"Add Defect"})]})]})]}),O&&t.jsxs(ue,{className:"border-2 border-blue-200",children:[t.jsxs(be,{className:"bg-blue-50",children:[t.jsxs(je,{className:"text-lg text-blue-700 flex items-center",children:[t.jsx(La,{className:"h-5 w-5 mr-2"}),"Add Photo"]}),t.jsx(Ge,{className:"text-blue-600",children:"Upload a photo for documentation"})]}),t.jsxs(me,{className:"pt-6 space-y-4",children:[t.jsxs("div",{...I(),className:"border-2 border-dashed rounded-lg p-6 text-center cursor-pointer hover:bg-muted/10",children:[t.jsx("input",{...k()}),t.jsx(pd,{className:"h-8 w-8 mx-auto mb-2 text-muted-foreground"}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"Drag & drop an image here, or click to select a file"})]}),t.jsxs("div",{children:[t.jsx(ve,{htmlFor:"photoCaption",children:"Caption (Optional)"}),t.jsx(Te,{id:"photoCaption",value:P,onChange:H=>S(H.target.value),placeholder:"e.g., Front view of vehicle"})]}),t.jsxs("div",{className:"flex justify-end space-x-2",children:[t.jsx(ne,{type:"button",variant:"outline",onClick:()=>{M(!1),v(null),S("")},children:"Cancel"}),t.jsx(ne,{type:"button",onClick:()=>{W("https://images.pexels.com/photos/1319515/pexels-photo-1319515.jpeg")},children:"Simulate Upload"})]})]})]}),(U=e.template)==null?void 0:U.sections.map(H=>t.jsxs("div",{className:"space-y-4",children:[t.jsx("h3",{className:"text-lg font-semibold",children:H.name}),H.description&&t.jsx("p",{className:"text-sm text-muted-foreground",children:H.description}),t.jsx("div",{className:"space-y-3",children:H.items.map(q=>{const R=e.items.find($=>$.templateItemId===q.id);return R?t.jsx(ue,{className:"shadow-sm",children:t.jsx(me,{className:"p-4",children:t.jsxs("div",{className:"flex items-start justify-between",children:[t.jsxs("div",{className:"flex-1",children:[t.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[t.jsx("h4",{className:"font-medium",children:q.name}),q.isRequired&&t.jsx(Re,{className:"bg-blue-50 text-blue-700 border-blue-200 text-xs",children:"Required"}),t.jsx(Re,{className:ze("ri-badge-status text-xs",V(R.status)),children:R.status.toUpperCase()})]}),q.description&&t.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:q.description}),q.itemType==="text"&&t.jsx("div",{className:"mb-3",children:t.jsx(Te,{value:R.value||"",onChange:$=>L(R.id,Qt.PASSED,$.target.value),placeholder:"Enter text"})}),q.itemType==="number"&&t.jsx("div",{className:"mb-3",children:t.jsx(Te,{type:"number",value:R.value||"",onChange:$=>L(R.id,Qt.PASSED,$.target.value),placeholder:"Enter number"})}),q.itemType==="photo"&&t.jsxs("div",{className:"mb-3",children:[t.jsxs(ne,{variant:"outline",size:"sm",onClick:()=>{v(R.id),M(!0)},children:[t.jsx(La,{className:"h-4 w-4 mr-2"}),"Add Photo"]}),e.photos.filter($=>$.inspectionItemId===R.id).length>0&&t.jsx("div",{className:"grid grid-cols-3 gap-2 mt-2",children:e.photos.filter($=>$.inspectionItemId===R.id).map($=>t.jsxs("div",{className:"relative",children:[t.jsx("img",{src:$.url,alt:$.caption||"Inspection photo",className:"h-20 w-full object-cover rounded-md"}),$.caption&&t.jsx("div",{className:"absolute bottom-0 left-0 right-0 bg-black/50 text-white text-xs p-1 truncate",children:$.caption})]},$.id))})]}),R.notes&&t.jsx("div",{className:"mb-3 p-2 bg-muted/30 rounded-md",children:t.jsxs("p",{className:"text-sm text-muted-foreground",children:[t.jsx("span",{className:"font-medium",children:"Notes:"})," ",R.notes]})}),R.status!==Qt.PENDING&&t.jsx("div",{className:"mb-3",children:t.jsx(rr,{value:R.notes||"",onChange:$=>L(R.id,R.status,R.value,$.target.value),placeholder:"Add notes (optional)",rows:2})})]}),q.itemType==="checkbox"&&t.jsxs("div",{className:"flex items-center space-x-2 ml-4",children:[t.jsxs(ne,{variant:R.status===Qt.PASSED?"default":"outline",size:"sm",onClick:()=>L(R.id,Qt.PASSED),className:R.status===Qt.PASSED?"":"border-green-200 text-green-700",children:[t.jsx(Fs,{className:"h-4 w-4 mr-1"}),"Pass"]}),t.jsxs(ne,{variant:R.status===Qt.FAILED?"default":"outline",size:"sm",onClick:()=>L(R.id,Qt.FAILED),className:R.status===Qt.FAILED?"":"border-red-200 text-red-700",children:[t.jsx(Uu,{className:"h-4 w-4 mr-1"}),"Fail"]}),t.jsx(ne,{variant:R.status===Qt.NA?"default":"outline",size:"sm",onClick:()=>L(R.id,Qt.NA),className:R.status===Qt.NA?"":"border-gray-200 text-gray-700",children:"N/A"})]})]})})},q.id):null})})]},H.id)),t.jsxs("div",{className:"space-y-4 pt-6 border-t",children:[t.jsxs("div",{children:[t.jsx(ve,{htmlFor:"inspectionNotes",children:"Inspection Notes"}),t.jsx(rr,{id:"inspectionNotes",value:p,onChange:H=>g(H.target.value),placeholder:"Add general notes about this inspection",rows:3})]}),t.jsxs("div",{className:"flex justify-end space-x-3",children:[t.jsx(ne,{type:"button",variant:"outline",onClick:l,disabled:d,children:"Cancel"}),t.jsxs(ne,{type:"button",onClick:C,disabled:d,children:[t.jsx(js,{className:"h-4 w-4 mr-2"}),"Save Progress"]}),t.jsxs(ne,{type:"button",onClick:w,disabled:d||e.status!=="in_progress",children:[t.jsx(Wl,{className:"h-4 w-4 mr-2"}),"Complete Inspection"]})]})]})]}),t.jsxs(ct,{value:"defects",className:"space-y-4",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("h3",{className:"text-lg font-semibold",children:"Defects"}),t.jsxs(ne,{size:"sm",onClick:()=>{v(null),j(!0)},children:[t.jsx(Et,{className:"h-4 w-4 mr-2"}),"Add Defect"]})]}),e.defects.length===0?t.jsxs("div",{className:"text-center py-8 text-muted-foreground border-2 border-dashed rounded-lg",children:[t.jsx(Ta,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground/50"}),t.jsx("p",{children:"No defects reported"}),t.jsx("p",{className:"text-sm",children:"Add defects when issues are found"})]}):t.jsx("div",{className:"space-y-4",children:e.defects.map(H=>t.jsxs(ue,{className:"shadow-sm",children:[t.jsx(be,{className:"pb-3",children:t.jsx("div",{className:"flex items-center justify-between",children:t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("h4",{className:"font-semibold",children:H.title}),t.jsx(Re,{className:ze("ri-badge-status",_(H.severity)),children:H.severity.toUpperCase()}),t.jsx(Re,{className:H.status==="open"?"bg-red-50 text-red-700 border-red-200":H.status==="in_progress"?"bg-yellow-50 text-yellow-700 border-yellow-200":H.status==="resolved"?"bg-blue-50 text-blue-700 border-blue-200":"bg-green-50 text-green-700 border-green-200",children:H.status.replace("_"," ").toUpperCase()})]})})}),t.jsxs(me,{children:[t.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:H.description}),e.photos.filter(q=>q.defectId===H.id).length>0&&t.jsxs("div",{className:"mb-4",children:[t.jsx("h5",{className:"text-sm font-medium mb-2",children:"Photos"}),t.jsx("div",{className:"grid grid-cols-3 gap-2",children:e.photos.filter(q=>q.defectId===H.id).map(q=>t.jsxs("div",{className:"relative",children:[t.jsx("img",{src:q.url,alt:q.caption||"Defect photo",className:"h-24 w-full object-cover rounded-md"}),q.caption&&t.jsx("div",{className:"absolute bottom-0 left-0 right-0 bg-black/50 text-white text-xs p-1 truncate",children:q.caption})]},q.id))})]}),t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("div",{className:"text-sm text-muted-foreground",children:H.assignedTo?t.jsxs("span",{children:["Assigned to: ",H.assignedTo]}):t.jsx("span",{children:"Unassigned"})}),t.jsx("div",{className:"flex space-x-2",children:t.jsxs(ne,{variant:"outline",size:"sm",onClick:()=>{v(null),M(!0)},children:[t.jsx(La,{className:"h-3 w-3 mr-1"}),"Add Photo"]})})]})]})]},H.id))})]}),t.jsxs(ct,{value:"photos",className:"space-y-4",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("h3",{className:"text-lg font-semibold",children:"Photos"}),t.jsxs(ne,{size:"sm",onClick:()=>{v(null),M(!0)},children:[t.jsx(La,{className:"h-4 w-4 mr-2"}),"Add Photo"]})]}),e.photos.length===0?t.jsxs("div",{className:"text-center py-8 text-muted-foreground border-2 border-dashed rounded-lg",children:[t.jsx(pd,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground/50"}),t.jsx("p",{children:"No photos added"}),t.jsx("p",{className:"text-sm",children:"Add photos to document the inspection"})]}):t.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:e.photos.map(H=>t.jsxs("div",{className:"relative",children:[t.jsx("img",{src:H.url,alt:H.caption||"Inspection photo",className:"h-40 w-full object-cover rounded-md"}),H.caption&&t.jsx("div",{className:"absolute bottom-0 left-0 right-0 bg-black/50 text-white p-2 truncate",children:H.caption})]},H.id))})]})]})})]})})}function PU({inspection:e,vehicles:r,onAddSignoff:n,onClose:s}){var M,P;const{toast:a}=nr(),[i,o]=A.useState("summary"),[l,c]=A.useState(!1),[d,m]=A.useState(""),[u,h]=A.useState(Dl.INSPECTOR),p=async()=>{try{await n(e.id,{role:u,notes:d,signatureUrl:"https://via.placeholder.com/200x100?text=Signature"}),c(!1),m(""),a({title:"Success",description:"Signoff added successfully"})}catch{a({title:"Error",description:"Failed to add signoff",variant:"destructive"})}},g=S=>{switch(S){case Qt.PENDING:return"bg-yellow-50 text-yellow-700 border-yellow-200";case Qt.PASSED:return"bg-green-50 text-green-700 border-green-200";case Qt.FAILED:return"bg-red-50 text-red-700 border-red-200";case Qt.NA:return"bg-gray-50 text-gray-700 border-gray-200";default:return"bg-gray-50 text-gray-700 border-gray-200"}},b=S=>{switch(S){case Dn.LOW:return"bg-blue-50 text-blue-700 border-blue-200";case Dn.MEDIUM:return"bg-yellow-50 text-yellow-700 border-yellow-200";case Dn.HIGH:return"bg-orange-50 text-orange-700 border-orange-200";case Dn.CRITICAL:return"bg-red-50 text-red-700 border-red-200";default:return"bg-gray-50 text-gray-700 border-gray-200"}},j=r.find(S=>S.id===e.vehicleId),x=e.items.filter(S=>S.status===Qt.PASSED).length,v=e.items.filter(S=>S.status===Qt.FAILED).length,y=e.items.filter(S=>S.status===Qt.NA).length,E=e.items.length,O=Math.round((x+v+y)/E*100);return t.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:t.jsxs(ue,{className:"w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[t.jsx(be,{children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx(je,{children:"PDI Inspection Report"}),t.jsx(Ge,{children:j?`${j.year} ${j.make} ${j.model}`:e.vehicleId})]}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(Re,{className:ze("ri-badge-status",e.status===Pr.IN_PROGRESS?"bg-yellow-50 text-yellow-700 border-yellow-200":e.status===Pr.COMPLETED?"bg-blue-50 text-blue-700 border-blue-200":e.status===Pr.APPROVED?"bg-green-50 text-green-700 border-green-200":"bg-red-50 text-red-700 border-red-200"),children:e.status.replace("_"," ").toUpperCase()}),t.jsx(ne,{variant:"ghost",size:"sm",onClick:s,children:t.jsx(qt,{className:"h-4 w-4"})})]})]})}),t.jsx(me,{children:t.jsxs(Zr,{value:i,onValueChange:o,className:"space-y-4",children:[t.jsxs($r,{className:"grid w-full grid-cols-4",children:[t.jsx(it,{value:"summary",children:"Summary"}),t.jsx(it,{value:"checklist",children:"Checklist"}),t.jsxs(it,{value:"defects",children:["Defects",e.defects.length>0&&t.jsx(Re,{className:"ml-2 bg-red-50 text-red-700 border-red-200",children:e.defects.length})]}),t.jsxs(it,{value:"signoffs",children:["Signoffs",e.signoffs.length>0&&t.jsx(Re,{className:"ml-2 bg-green-50 text-green-700 border-green-200",children:e.signoffs.length})]})]}),t.jsxs(ct,{value:"summary",className:"space-y-6",children:[t.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[t.jsxs(ue,{className:"shadow-sm",children:[t.jsx(be,{children:t.jsx(je,{className:"text-lg",children:"Inspection Details"})}),t.jsx(me,{children:t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"Status"}),t.jsx("p",{className:"font-medium",children:e.status.replace("_"," ")})]}),t.jsxs("div",{children:[t.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"Inspector"}),t.jsx("p",{className:"font-medium",children:((M=e.inspector)==null?void 0:M.name)||e.inspectorId})]}),t.jsxs("div",{children:[t.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"Started"}),t.jsx("p",{className:"font-medium",children:gt(e.startedAt)})]}),e.completedAt&&t.jsxs("div",{children:[t.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"Completed"}),t.jsx("p",{className:"font-medium",children:gt(e.completedAt)})]})]}),e.notes&&t.jsxs("div",{children:[t.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"Notes"}),t.jsx("p",{className:"text-sm mt-1 p-3 bg-muted/30 rounded-md",children:e.notes})]})]})})]}),t.jsxs(ue,{className:"shadow-sm",children:[t.jsx(be,{children:t.jsx(je,{className:"text-lg",children:"Inspection Results"})}),t.jsx(me,{children:t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-sm font-medium",children:"Completion"}),t.jsxs("span",{className:"text-sm font-bold",children:[O,"%"]})]}),t.jsx("div",{className:"w-full bg-muted rounded-full h-2.5",children:t.jsx("div",{className:"bg-primary h-2.5 rounded-full",style:{width:`${O}%`}})}),t.jsxs("div",{className:"grid grid-cols-3 gap-2 text-center",children:[t.jsxs("div",{className:"p-3 bg-green-50 rounded-lg",children:[t.jsx("div",{className:"text-lg font-bold text-green-700",children:x}),t.jsx("p",{className:"text-xs text-green-600",children:"Passed"})]}),t.jsxs("div",{className:"p-3 bg-red-50 rounded-lg",children:[t.jsx("div",{className:"text-lg font-bold text-red-700",children:v}),t.jsx("p",{className:"text-xs text-red-600",children:"Failed"})]}),t.jsxs("div",{className:"p-3 bg-gray-50 rounded-lg",children:[t.jsx("div",{className:"text-lg font-bold text-gray-700",children:y}),t.jsx("p",{className:"text-xs text-gray-600",children:"N/A"})]})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-sm font-medium",children:"Defects"}),t.jsx("span",{className:"text-sm font-bold text-red-600",children:e.defects.length})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-sm font-medium",children:"Photos"}),t.jsx("span",{className:"text-sm font-bold",children:e.photos.length})]})]})})]})]}),t.jsxs("div",{className:"flex justify-end space-x-3",children:[t.jsx(ne,{variant:"outline",onClick:s,children:"Close"}),t.jsxs(ne,{variant:"outline",children:[t.jsx(ox,{className:"h-4 w-4 mr-2"}),"Print Report"]}),t.jsxs(ne,{variant:"outline",children:[t.jsx(Wo,{className:"h-4 w-4 mr-2"}),"Export PDF"]}),e.status==="completed"&&t.jsxs(ne,{onClick:()=>c(!0),children:[t.jsx(ah,{className:"h-4 w-4 mr-2"}),"Add Signoff"]})]})]}),t.jsx(ct,{value:"checklist",className:"space-y-6",children:(P=e.template)==null?void 0:P.sections.map(S=>t.jsxs("div",{className:"space-y-4",children:[t.jsx("h3",{className:"text-lg font-semibold",children:S.name}),S.description&&t.jsx("p",{className:"text-sm text-muted-foreground",children:S.description}),t.jsx("div",{className:"space-y-3",children:S.items.map(I=>{const k=e.items.find(C=>C.templateItemId===I.id);return k?t.jsx(ue,{className:"shadow-sm",children:t.jsx(me,{className:"p-4",children:t.jsxs("div",{className:"flex items-start justify-between",children:[t.jsxs("div",{className:"flex-1",children:[t.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[t.jsx("h4",{className:"font-medium",children:I.name}),I.isRequired&&t.jsx(Re,{className:"bg-blue-50 text-blue-700 border-blue-200 text-xs",children:"Required"}),t.jsx(Re,{className:ze("ri-badge-status text-xs",g(k.status)),children:k.status.toUpperCase()})]}),I.description&&t.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:I.description}),k.value&&t.jsx("div",{className:"mb-2 p-2 bg-muted/30 rounded-md",children:t.jsxs("p",{className:"text-sm",children:[t.jsx("span",{className:"font-medium",children:"Value:"})," ",k.value]})}),k.notes&&t.jsx("div",{className:"mb-2 p-2 bg-muted/30 rounded-md",children:t.jsxs("p",{className:"text-sm text-muted-foreground",children:[t.jsx("span",{className:"font-medium",children:"Notes:"})," ",k.notes]})}),e.photos.filter(C=>C.inspectionItemId===k.id).length>0&&t.jsxs("div",{className:"mt-2",children:[t.jsx("h5",{className:"text-sm font-medium mb-1",children:"Photos"}),t.jsx("div",{className:"grid grid-cols-3 gap-2",children:e.photos.filter(C=>C.inspectionItemId===k.id).map(C=>t.jsxs("div",{className:"relative",children:[t.jsx("img",{src:C.url,alt:C.caption||"Inspection photo",className:"h-20 w-full object-cover rounded-md"}),C.caption&&t.jsx("div",{className:"absolute bottom-0 left-0 right-0 bg-black/50 text-white text-xs p-1 truncate",children:C.caption})]},C.id))})]}),e.defects.filter(C=>C.inspectionItemId===k.id).length>0&&t.jsxs("div",{className:"mt-2",children:[t.jsx("h5",{className:"text-sm font-medium mb-1 text-red-600",children:"Defects"}),e.defects.filter(C=>C.inspectionItemId===k.id).map(C=>t.jsxs("div",{className:"p-2 bg-red-50 rounded-md mb-2",children:[t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("span",{className:"font-medium text-red-700",children:C.title}),t.jsx(Re,{className:ze("ri-badge-status text-xs",b(C.severity)),children:C.severity.toUpperCase()})]}),t.jsx("p",{className:"text-sm text-red-600 mt-1",children:C.description})]},C.id))]})]}),t.jsxs("div",{className:"ml-4",children:[k.status===Qt.PASSED&&t.jsx(Fs,{className:"h-6 w-6 text-green-500"}),k.status===Qt.FAILED&&t.jsx(Uu,{className:"h-6 w-6 text-red-500"}),k.status===Qt.PENDING&&t.jsx(cr,{className:"h-6 w-6 text-yellow-500"}),k.status===Qt.NA&&t.jsx("span",{className:"text-sm font-medium text-gray-500",children:"N/A"})]})]})})},I.id):null})})]},S.id))}),t.jsxs(ct,{value:"defects",className:"space-y-4",children:[t.jsx("h3",{className:"text-lg font-semibold",children:"Defects"}),e.defects.length===0?t.jsxs("div",{className:"text-center py-8 text-muted-foreground border-2 border-dashed rounded-lg",children:[t.jsx(Fs,{className:"h-12 w-12 mx-auto mb-4 text-green-500"}),t.jsx("p",{children:"No defects reported"}),t.jsx("p",{className:"text-sm",children:"This vehicle passed inspection without issues"})]}):t.jsx("div",{className:"space-y-4",children:e.defects.map(S=>t.jsxs(ue,{className:"shadow-sm",children:[t.jsx(be,{className:"pb-3",children:t.jsx("div",{className:"flex items-center justify-between",children:t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("h4",{className:"font-semibold",children:S.title}),t.jsx(Re,{className:ze("ri-badge-status",b(S.severity)),children:S.severity.toUpperCase()}),t.jsx(Re,{className:S.status==="open"?"bg-red-50 text-red-700 border-red-200":S.status==="in_progress"?"bg-yellow-50 text-yellow-700 border-yellow-200":S.status==="resolved"?"bg-blue-50 text-blue-700 border-blue-200":"bg-green-50 text-green-700 border-green-200",children:S.status.replace("_"," ").toUpperCase()})]})})}),t.jsxs(me,{children:[t.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:S.description}),e.photos.filter(I=>I.defectId===S.id).length>0&&t.jsxs("div",{className:"mb-4",children:[t.jsx("h5",{className:"text-sm font-medium mb-2",children:"Photos"}),t.jsx("div",{className:"grid grid-cols-3 gap-2",children:e.photos.filter(I=>I.defectId===S.id).map(I=>t.jsxs("div",{className:"relative",children:[t.jsx("img",{src:I.url,alt:I.caption||"Defect photo",className:"h-24 w-full object-cover rounded-md"}),I.caption&&t.jsx("div",{className:"absolute bottom-0 left-0 right-0 bg-black/50 text-white text-xs p-1 truncate",children:I.caption})]},I.id))})]}),t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("div",{className:"text-sm text-muted-foreground",children:S.assignedTo?t.jsxs("span",{children:["Assigned to: ",S.assignedTo]}):t.jsx("span",{children:"Unassigned"})}),S.resolvedAt&&t.jsxs("div",{className:"text-sm text-green-600",children:["Resolved: ",gt(S.resolvedAt)]})]}),S.resolutionNotes&&t.jsx("div",{className:"mt-3 p-2 bg-blue-50 rounded-md",children:t.jsxs("p",{className:"text-sm text-blue-700",children:[t.jsx("span",{className:"font-medium",children:"Resolution:"})," ",S.resolutionNotes]})})]})]},S.id))})]}),t.jsxs(ct,{value:"signoffs",className:"space-y-4",children:[l&&t.jsxs(ue,{className:"border-2 border-green-200 mb-6",children:[t.jsxs(be,{className:"bg-green-50",children:[t.jsxs(je,{className:"text-lg text-green-700 flex items-center",children:[t.jsx(ah,{className:"h-5 w-5 mr-2"}),"Add Signoff"]}),t.jsx(Ge,{className:"text-green-600",children:"Sign off on the completed inspection"})]}),t.jsxs(me,{className:"pt-6 space-y-4",children:[t.jsxs("div",{children:[t.jsx(ve,{htmlFor:"signoffRole",children:"Role"}),t.jsxs("select",{id:"signoffRole",value:u,onChange:S=>h(S.target.value),className:"w-full p-2 border rounded-md",children:[t.jsx("option",{value:Dl.INSPECTOR,children:"Inspector"}),t.jsx("option",{value:Dl.MANAGER,children:"Manager"}),t.jsx("option",{value:Dl.QUALITY_CONTROL,children:"Quality Control"})]})]}),t.jsxs("div",{children:[t.jsx(ve,{htmlFor:"signoffNotes",children:"Notes (Optional)"}),t.jsx(rr,{id:"signoffNotes",value:d,onChange:S=>m(S.target.value),placeholder:"Add any notes about this signoff",rows:3})]}),t.jsxs("div",{className:"border-2 border-dashed rounded-lg p-6 text-center",children:[t.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Signature Capture"}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"In a real app, this would be a signature pad"})]}),t.jsxs("div",{className:"flex justify-end space-x-2",children:[t.jsx(ne,{type:"button",variant:"outline",onClick:()=>{c(!1),m("")},children:"Cancel"}),t.jsx(ne,{type:"button",onClick:p,children:"Add Signoff"})]})]})]}),t.jsx("h3",{className:"text-lg font-semibold",children:"Signoffs"}),e.signoffs.length===0?t.jsxs("div",{className:"text-center py-8 text-muted-foreground border-2 border-dashed rounded-lg",children:[t.jsx(ah,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground/50"}),t.jsx("p",{children:"No signoffs yet"}),t.jsx("p",{className:"text-sm",children:"Add signoffs to approve the inspection"})]}):t.jsx("div",{className:"space-y-4",children:e.signoffs.map(S=>{var I;return t.jsx(ue,{className:"shadow-sm",children:t.jsx(me,{className:"p-4",children:t.jsxs("div",{className:"flex items-start justify-between",children:[t.jsxs("div",{className:"flex-1",children:[t.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[t.jsx("h4",{className:"font-medium",children:((I=S.user)==null?void 0:I.name)||S.userId}),t.jsx(Re,{className:"bg-blue-50 text-blue-700 border-blue-200",children:S.role.replace("_"," ").toUpperCase()})]}),t.jsxs("p",{className:"text-sm text-muted-foreground mb-2",children:["Signed: ",gt(S.signedAt)]}),S.notes&&t.jsx("p",{className:"text-sm text-muted-foreground p-2 bg-muted/30 rounded-md",children:S.notes})]}),t.jsx("div",{className:"ml-4",children:S.signatureUrl?t.jsx("img",{src:S.signatureUrl,alt:"Signature",className:"h-12 object-contain"}):t.jsx("div",{className:"h-12 w-32 border-2 border-dashed rounded flex items-center justify-center",children:t.jsx("span",{className:"text-xs text-muted-foreground",children:"No signature"})})})]})})},S.id)})}),e.status==="completed"&&!l&&t.jsx("div",{className:"flex justify-end mt-4",children:t.jsxs(ne,{onClick:()=>c(!0),children:[t.jsx(ah,{className:"h-4 w-4 mr-2"}),"Add Signoff"]})})]})]})})]})})}function DU({templates:e,vehicles:r,currentUserId:n,onCreateInspection:s,onCancel:a}){const{toast:i}=nr(),[o,l]=A.useState(!1),[c,d]=A.useState(""),[m,u]=A.useState(""),[h,p]=A.useState(""),[g,b]=A.useState([]);A.useEffect(()=>{if(c){const x=r.find(v=>v.id===c);if(x){const v=x.type,y=e.filter(E=>E.isActive&&E.vehicleType===v);b(y),y.length===1?u(y[0].id):u("")}}else b([]),u("")},[c,e,r]);const j=async x=>{if(x.preventDefault(),!c){i({title:"Validation Error",description:"Please select a vehicle",variant:"destructive"});return}if(!m){i({title:"Validation Error",description:"Please select a template",variant:"destructive"});return}l(!0);try{await s({templateId:m,vehicleId:c,inspectorId:n,notes:h}),i({title:"Success",description:"Inspection created successfully"})}catch{i({title:"Error",description:"Failed to create inspection",variant:"destructive"})}finally{l(!1)}};return t.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:t.jsxs(ue,{className:"w-full max-w-md mx-2 sm:mx-4",children:[t.jsx(be,{children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx(je,{children:"New PDI Inspection"}),t.jsx(Ge,{children:"Create a new pre-delivery inspection"})]}),t.jsx(ne,{variant:"ghost",size:"sm",onClick:a,children:t.jsx(qt,{className:"h-4 w-4"})})]})}),t.jsx(me,{children:t.jsxs("form",{onSubmit:j,className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx(ve,{htmlFor:"vehicle",children:"Vehicle *"}),t.jsxs(tt,{value:c,onValueChange:d,children:[t.jsx(Xe,{children:t.jsx(rt,{placeholder:"Select a home/vehicle"})}),t.jsx(Ze,{children:r.map(x=>t.jsxs(se,{value:x.id,children:[x.year," ",x.make," ",x.model," - ",x.vin]},x.id))})]})]}),t.jsxs("div",{children:[t.jsx(ve,{htmlFor:"template",children:"Inspection Template *"}),t.jsxs(tt,{value:m,onValueChange:u,disabled:g.length===0,children:[t.jsx(Xe,{children:t.jsx(rt,{placeholder:g.length===0?"Select a home/vehicle first":"Select a template"})}),t.jsx(Ze,{children:g.map(x=>t.jsx(se,{value:x.id,children:x.name},x.id))})]}),g.length===0&&c&&t.jsx("p",{className:"text-xs text-red-500 mt-1",children:"No templates available for this vehicle type"})]}),t.jsxs("div",{children:[t.jsx(ve,{htmlFor:"notes",children:"Notes (Optional)"}),t.jsx(rr,{id:"notes",value:h,onChange:x=>p(x.target.value),placeholder:"Add any initial notes about this inspection",rows:3})]}),t.jsxs("div",{className:"flex flex-col sm:flex-row justify-end space-y-2 sm:space-y-0 sm:space-x-3 pt-4",children:[t.jsx(ne,{type:"button",variant:"outline",onClick:a,disabled:o,className:"w-full sm:w-auto",children:"Cancel"}),t.jsx(ne,{type:"submit",disabled:o||!c||!m,className:"w-full sm:w-auto",children:o?t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Creating..."]}):t.jsxs(t.Fragment,{children:[t.jsx(Wl,{className:"h-4 w-4 mr-2"}),"Start Inspection"]})})]})]})})]})})}function T5(){const{templates:e,inspections:r,createTemplate:n,updateTemplate:s,deleteTemplate:a,createInspection:i,updateInspection:o,updateInspectionItem:l,completeInspection:c,createDefect:d,addPhoto:m,addSignoff:u}=SU(),{vehicles:h}=rl(),{user:p}=_m(),{toast:g}=nr(),[b,j]=A.useState("inspections"),[x,v]=A.useState(!1),[y,E]=A.useState(!1),[O,M]=A.useState(!1),[P,S]=A.useState(!1),[I,k]=A.useState(null),[C,w]=A.useState(null),L=()=>{k(null),v(!0)},T=te=>{k(te),v(!0)},W=te=>{k(te),v(!0)},V=async te=>{if(window.confirm("Are you sure you want to delete this template?"))try{await a(te),g({title:"Success",description:"Template deleted successfully"})}catch{g({title:"Error",description:"Failed to delete template",variant:"destructive"})}},_=async te=>{try{const Ue={...te,id:void 0,name:`${te.name} (Copy)`};await n(Ue),g({title:"Success",description:"Template duplicated successfully"})}catch{g({title:"Error",description:"Failed to duplicate template",variant:"destructive"})}},B=async te=>{try{I?await s(I.id,te):await n(te),v(!1),k(null)}catch{g({title:"Error",description:`Failed to ${I?"update":"create"} template`,variant:"destructive"})}},U=()=>{M(!0)},H=async te=>{try{const Ue=await i(te);M(!1),w(Ue),E(!0)}catch{g({title:"Error",description:"Failed to create inspection",variant:"destructive"})}},q=te=>{w(te),S(!0)},R=te=>{w(te),E(!0)},$=async te=>{if(C)try{await o(C.id,te),g({title:"Success",description:"Inspection saved successfully"})}catch{g({title:"Error",description:"Failed to save inspection",variant:"destructive"})}},G=async(te,Ue)=>{try{await c(te,Ue),E(!1),w(null),g({title:"Success",description:"Inspection completed successfully"})}catch{g({title:"Error",description:"Failed to complete inspection",variant:"destructive"})}},X=async(te,Ue,_e)=>{try{await l(te,Ue,_e)}catch{g({title:"Error",description:"Failed to update item",variant:"destructive"})}},Z=async(te,Ue)=>{try{await d(te,Ue)}catch{g({title:"Error",description:"Failed to add defect",variant:"destructive"})}},le=async(te,Ue)=>{try{await m(te,Ue)}catch{g({title:"Error",description:"Failed to add photo",variant:"destructive"})}},ce=async(te,Ue)=>{try{await u(te,{...Ue,userId:(p==null?void 0:p.id)||"current-user"})}catch{g({title:"Error",description:"Failed to add signoff",variant:"destructive"})}},de=e.length,Se=e.filter(te=>te.isActive).length,ye=r.length,Ee=r.filter(te=>te.status===Pr.COMPLETED||te.status===Pr.APPROVED).length,Fe=r.filter(te=>te.status===Pr.IN_PROGRESS).length,he=r.reduce((te,Ue)=>te+Ue.defects.length,0),ie=r.reduce((te,Ue)=>te+Ue.defects.filter(_e=>_e.status==="open"||_e.status==="in_progress").length,0);return r.reduce((te,Ue)=>te+Ue.photos.length,0),t.jsxs("div",{className:"space-y-8",children:[x&&t.jsx(AU,{template:I||void 0,onSave:B,onCancel:()=>{v(!1),k(null)}}),O&&t.jsx(DU,{templates:e,vehicles:h,currentUserId:(p==null?void 0:p.id)||"current-user",onCreateInspection:H,onCancel:()=>M(!1)}),y&&C&&t.jsx(IU,{inspection:C,vehicles:h,onSave:$,onComplete:G,onUpdateItem:X,onAddDefect:Z,onAddPhoto:le,onCancel:()=>{E(!1),w(null)}}),P&&C&&t.jsx(PU,{inspection:C,vehicles:h,onAddSignoff:ce,onClose:()=>{S(!1),w(null)}}),t.jsx("div",{className:"ri-page-header",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"ri-page-title",children:"PDI Checklist - Home/Vehicle"}),t.jsx("p",{className:"ri-page-description",children:"Manage pre-delivery inspections and quality control for homes and vehicles"})]}),t.jsxs(ne,{className:"shadow-sm",onClick:U,children:[t.jsx(Et,{className:"h-4 w-4 mr-2"}),"New Inspection"]})]})}),t.jsxs("div",{className:"ri-stats-grid",children:[t.jsxs(ue,{className:"shadow-sm border-0 bg-gradient-to-br from-blue-50 to-blue-100/50",children:[t.jsxs(be,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[t.jsx(je,{className:"text-sm font-medium text-blue-900",children:"Inspections"}),t.jsx(Wl,{className:"h-4 w-4 text-blue-600"})]}),t.jsxs(me,{children:[t.jsx("div",{className:"text-2xl font-bold text-blue-900",children:ye}),t.jsxs("p",{className:"text-xs text-blue-600 flex items-center mt-1",children:[t.jsx(vt,{className:"h-3 w-3 mr-1"}),Ee," completed"]})]})]}),t.jsxs(ue,{className:"shadow-sm border-0 bg-gradient-to-br from-yellow-50 to-yellow-100/50",children:[t.jsxs(be,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[t.jsx(je,{className:"text-sm font-medium text-yellow-900",children:"In Progress"}),t.jsx(Wl,{className:"h-4 w-4 text-yellow-600"})]}),t.jsxs(me,{children:[t.jsx("div",{className:"text-2xl font-bold text-yellow-900",children:Fe}),t.jsxs("p",{className:"text-xs text-yellow-600 flex items-center mt-1",children:[t.jsx(vt,{className:"h-3 w-3 mr-1"}),"Active inspections"]})]})]}),t.jsxs(ue,{className:"shadow-sm border-0 bg-gradient-to-br from-red-50 to-red-100/50",children:[t.jsxs(be,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[t.jsx(je,{className:"text-sm font-medium text-red-900",children:"Open Defects"}),t.jsx(Ta,{className:"h-4 w-4 text-red-600"})]}),t.jsxs(me,{children:[t.jsx("div",{className:"text-2xl font-bold text-red-900",children:ie}),t.jsxs("p",{className:"text-xs text-red-600 flex items-center mt-1",children:[t.jsx(vt,{className:"h-3 w-3 mr-1"}),he," total defects"]})]})]}),t.jsxs(ue,{className:"shadow-sm border-0 bg-gradient-to-br from-green-50 to-green-100/50",children:[t.jsxs(be,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[t.jsx(je,{className:"text-sm font-medium text-green-900",children:"Templates"}),t.jsx(Ey,{className:"h-4 w-4 text-green-600"})]}),t.jsxs(me,{children:[t.jsx("div",{className:"text-2xl font-bold text-green-900",children:de}),t.jsxs("p",{className:"text-xs text-green-600 flex items-center mt-1",children:[t.jsx(vt,{className:"h-3 w-3 mr-1"}),Se," active"]})]})]})]}),t.jsxs(Zr,{value:b,onValueChange:j,className:"space-y-6",children:[t.jsxs($r,{className:"grid w-full grid-cols-2",children:[t.jsx(it,{value:"inspections",children:"Inspections"}),t.jsx(it,{value:"templates",children:"Templates"})]}),t.jsx(ct,{value:"inspections",children:t.jsx(EU,{inspections:r,onCreateInspection:U,onViewInspection:q,onContinueInspection:R})}),t.jsx(ct,{value:"templates",children:t.jsx(CU,{templates:e,onCreateTemplate:L,onEditTemplate:T,onDeleteTemplate:V,onDuplicateTemplate:_,onViewTemplate:W})})]})]})}function kU(){return t.jsxs(Fn,{children:[t.jsx(Pt,{path:"/",element:t.jsx(T5,{})}),t.jsx(Pt,{path:"/*",element:t.jsx(T5,{})})]})}const TU=[{id:"1",salesPersonId:"sales-001",dealId:"deal-001",type:Il.PERCENTAGE,rate:.05,amount:6875,status:ri.APPROVED,paidDate:new Date("2024-01-20"),notes:"Commission for Georgetown sale",customFields:{},createdAt:new Date("2024-01-18"),updatedAt:new Date("2024-01-20")},{id:"2",salesPersonId:"sales-002",dealId:"deal-002",type:Il.FLAT,rate:0,amount:2500,status:ri.PENDING,notes:"Flat commission for service contract",customFields:{},createdAt:new Date("2024-01-15"),updatedAt:new Date("2024-01-15")}];function L5(){const[e]=A.useState(TU),[r,n]=A.useState(""),s=o=>{switch(o){case ri.PENDING:return"bg-yellow-50 text-yellow-700 border-yellow-200";case ri.APPROVED:return"bg-blue-50 text-blue-700 border-blue-200";case ri.PAID:return"bg-green-50 text-green-700 border-green-200";case ri.CANCELLED:return"bg-red-50 text-red-700 border-red-200";default:return"bg-gray-50 text-gray-700 border-gray-200"}},a=o=>{switch(o){case Il.FLAT:return"bg-blue-50 text-blue-700 border-blue-200";case Il.PERCENTAGE:return"bg-green-50 text-green-700 border-green-200";case Il.TIERED:return"bg-purple-50 text-purple-700 border-purple-200";default:return"bg-gray-50 text-gray-700 border-gray-200"}},i=e.filter(o=>o.id.toLowerCase().includes(r.toLowerCase())||o.salesPersonId.toLowerCase().includes(r.toLowerCase())||o.dealId.toLowerCase().includes(r.toLowerCase()));return t.jsxs("div",{className:"space-y-8",children:[t.jsx("div",{className:"ri-page-header",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"ri-page-title",children:"Commission Engine"}),t.jsx("p",{className:"ri-page-description",children:"Manage sales commissions and payouts"})]}),t.jsxs(ne,{className:"shadow-sm",children:[t.jsx(Et,{className:"h-4 w-4 mr-2"}),"New Commission"]})]})}),t.jsxs("div",{className:"ri-stats-grid",children:[t.jsxs(ue,{className:"shadow-sm border-0 bg-gradient-to-br from-blue-50 to-blue-100/50",children:[t.jsxs(be,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[t.jsx(je,{className:"text-sm font-medium text-blue-900",children:"Total Commissions"}),t.jsx(Bt,{className:"h-4 w-4 text-blue-600"})]}),t.jsxs(me,{children:[t.jsx("div",{className:"text-2xl font-bold text-blue-900",children:e.length}),t.jsxs("p",{className:"text-xs text-blue-600 flex items-center mt-1",children:[t.jsx(vt,{className:"h-3 w-3 mr-1"}),"All commissions"]})]})]}),t.jsxs(ue,{className:"shadow-sm border-0 bg-gradient-to-br from-yellow-50 to-yellow-100/50",children:[t.jsxs(be,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[t.jsx(je,{className:"text-sm font-medium text-yellow-900",children:"Pending"}),t.jsx(Bt,{className:"h-4 w-4 text-yellow-600"})]}),t.jsxs(me,{children:[t.jsx("div",{className:"text-2xl font-bold text-yellow-900",children:e.filter(o=>o.status===ri.PENDING).length}),t.jsxs("p",{className:"text-xs text-yellow-600 flex items-center mt-1",children:[t.jsx(zr,{className:"h-3 w-3 mr-1"}),"Awaiting approval"]})]})]}),t.jsxs(ue,{className:"shadow-sm border-0 bg-gradient-to-br from-green-50 to-green-100/50",children:[t.jsxs(be,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[t.jsx(je,{className:"text-sm font-medium text-green-900",children:"Paid This Month"}),t.jsx(Bt,{className:"h-4 w-4 text-green-600"})]}),t.jsxs(me,{children:[t.jsx("div",{className:"text-2xl font-bold text-green-900",children:Ie(e.filter(o=>o.status===ri.PAID).reduce((o,l)=>o+l.amount,0))}),t.jsxs("p",{className:"text-xs text-green-600 flex items-center mt-1",children:[t.jsx(vt,{className:"h-3 w-3 mr-1"}),"Paid out"]})]})]}),t.jsxs(ue,{className:"shadow-sm border-0 bg-gradient-to-br from-purple-50 to-purple-100/50",children:[t.jsxs(be,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[t.jsx(je,{className:"text-sm font-medium text-purple-900",children:"Total Value"}),t.jsx(Bt,{className:"h-4 w-4 text-purple-600"})]}),t.jsxs(me,{children:[t.jsx("div",{className:"text-2xl font-bold text-purple-900",children:Ie(e.reduce((o,l)=>o+l.amount,0))}),t.jsxs("p",{className:"text-xs text-purple-600 flex items-center mt-1",children:[t.jsx(vt,{className:"h-3 w-3 mr-1"}),"Total commission value"]})]})]})]}),t.jsxs("div",{className:"flex gap-4",children:[t.jsxs("div",{className:"ri-search-bar",children:[t.jsx(Jn,{className:"ri-search-icon"}),t.jsx(Te,{placeholder:"Search commissions...",value:r,onChange:o=>n(o.target.value),className:"ri-search-input shadow-sm"})]}),t.jsxs(ne,{variant:"outline",className:"shadow-sm",children:[t.jsx(Ws,{className:"h-4 w-4 mr-2"}),"Filter"]})]}),t.jsxs(ue,{className:"shadow-sm",children:[t.jsxs(be,{children:[t.jsx(je,{className:"text-xl",children:"Commissions"}),t.jsx(Ge,{children:"Track and manage sales commissions"})]}),t.jsx(me,{children:t.jsx("div",{className:"space-y-4",children:i.map(o=>t.jsxs("div",{className:"ri-table-row",children:[t.jsx("div",{className:"flex items-center space-x-4 flex-1",children:t.jsxs("div",{className:"flex-1",children:[t.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[t.jsxs("h3",{className:"font-semibold text-foreground",children:["Commission #",o.id]}),t.jsx(Re,{className:ze("ri-badge-status",a(o.type)),children:o.type.toUpperCase()}),t.jsx(Re,{className:ze("ri-badge-status",s(o.status)),children:o.status.toUpperCase()})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm text-muted-foreground",children:[t.jsxs("div",{className:"flex items-center",children:[t.jsx($s,{className:"h-3 w-3 mr-2 text-blue-500"}),t.jsx("span",{className:"font-medium",children:"Sales Person:"}),t.jsx("span",{className:"ml-1",children:o.salesPersonId})]}),t.jsxs("div",{className:"flex items-center",children:[t.jsx(vt,{className:"h-3 w-3 mr-2 text-green-500"}),t.jsx("span",{className:"font-medium",children:"Deal:"}),t.jsx("span",{className:"ml-1",children:o.dealId})]}),t.jsxs("div",{className:"flex items-center",children:[t.jsx(Bt,{className:"h-3 w-3 mr-2 text-purple-500"}),t.jsx("span",{className:"font-medium",children:"Amount:"}),t.jsx("span",{className:"ml-1 font-bold text-primary",children:Ie(o.amount)})]}),t.jsxs("div",{className:"flex items-center",children:[t.jsx(zr,{className:"h-3 w-3 mr-2 text-orange-500"}),t.jsx("span",{className:"font-medium",children:"Created:"}),t.jsx("span",{className:"ml-1",children:gt(o.createdAt)})]})]}),o.type===Il.PERCENTAGE&&t.jsx("div",{className:"mt-2 bg-green-50 p-2 rounded-md",children:t.jsxs("span",{className:"text-sm text-green-700",children:[t.jsx("span",{className:"font-medium",children:"Rate:"})," ",(o.rate*100).toFixed(2),"%"]})}),o.paidDate&&t.jsx("div",{className:"mt-2 bg-blue-50 p-2 rounded-md",children:t.jsxs("span",{className:"text-sm text-blue-700",children:[t.jsx("span",{className:"font-medium",children:"Paid Date:"})," ",gt(o.paidDate)]})}),o.notes&&t.jsx("div",{className:"mt-2 bg-muted/30 p-2 rounded-md",children:t.jsxs("p",{className:"text-sm text-muted-foreground",children:[t.jsx("span",{className:"font-medium",children:"Notes:"})," ",o.notes]})})]})}),t.jsxs("div",{className:"ri-action-buttons",children:[t.jsx(ne,{variant:"outline",size:"sm",className:"shadow-sm",children:"View"}),t.jsx(ne,{variant:"outline",size:"sm",className:"shadow-sm",children:"Edit"}),o.status===ri.PENDING&&t.jsx(ne,{variant:"outline",size:"sm",className:"shadow-sm",children:"Approve"})]})]},o.id))})})]})]})}function LU(){return t.jsxs(Fn,{children:[t.jsx(Pt,{path:"/",element:t.jsx(L5,{})}),t.jsx(Pt,{path:"/*",element:t.jsx(L5,{})})]})}const RU=[{id:"1",name:"John Smith",email:"john.smith@email.com",status:"active",lastLogin:new Date("2024-01-18"),vehicleCount:1,serviceTickets:2,invoices:3},{id:"2",name:"Sarah Johnson",email:"sarah.j@email.com",status:"active",lastLogin:new Date("2024-01-16"),vehicleCount:1,serviceTickets:0,invoices:1}];function R5(){const[e]=A.useState(RU),[r,n]=A.useState(""),s=i=>{switch(i){case"active":return"bg-green-50 text-green-700 border-green-200";case"inactive":return"bg-gray-50 text-gray-700 border-gray-200";case"suspended":return"bg-red-50 text-red-700 border-red-200";default:return"bg-gray-50 text-gray-700 border-gray-200"}},a=e.filter(i=>i.name.toLowerCase().includes(r.toLowerCase())||i.email.toLowerCase().includes(r.toLowerCase()));return t.jsxs("div",{className:"space-y-8",children:[t.jsx("div",{className:"ri-page-header",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"ri-page-title",children:"Client Portal"}),t.jsx("p",{className:"ri-page-description",children:"Manage customer portal access and self-service features"})]}),t.jsxs(ne,{className:"shadow-sm",children:[t.jsx(Et,{className:"h-4 w-4 mr-2"}),"Add Portal User"]})]})}),t.jsxs("div",{className:"ri-stats-grid",children:[t.jsxs(ue,{className:"shadow-sm border-0 bg-gradient-to-br from-blue-50 to-blue-100/50",children:[t.jsxs(be,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[t.jsx(je,{className:"text-sm font-medium text-blue-900",children:"Portal Users"}),t.jsx(ku,{className:"h-4 w-4 text-blue-600"})]}),t.jsxs(me,{children:[t.jsx("div",{className:"text-2xl font-bold text-blue-900",children:e.length}),t.jsxs("p",{className:"text-xs text-blue-600 flex items-center mt-1",children:[t.jsx(vt,{className:"h-3 w-3 mr-1"}),"Total registered users"]})]})]}),t.jsxs(ue,{className:"shadow-sm border-0 bg-gradient-to-br from-green-50 to-green-100/50",children:[t.jsxs(be,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[t.jsx(je,{className:"text-sm font-medium text-green-900",children:"Active Users"}),t.jsx(ku,{className:"h-4 w-4 text-green-600"})]}),t.jsxs(me,{children:[t.jsx("div",{className:"text-2xl font-bold text-green-900",children:e.filter(i=>i.status==="active").length}),t.jsxs("p",{className:"text-xs text-green-600 flex items-center mt-1",children:[t.jsx(Ti,{className:"h-3 w-3 mr-1"}),"Currently active"]})]})]}),t.jsxs(ue,{className:"shadow-sm border-0 bg-gradient-to-br from-purple-50 to-purple-100/50",children:[t.jsxs(be,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[t.jsx(je,{className:"text-sm font-medium text-purple-900",children:"Monthly Logins"}),t.jsx(ku,{className:"h-4 w-4 text-purple-600"})]}),t.jsxs(me,{children:[t.jsx("div",{className:"text-2xl font-bold text-purple-900",children:"247"}),t.jsxs("p",{className:"text-xs text-purple-600 flex items-center mt-1",children:[t.jsx(vt,{className:"h-3 w-3 mr-1"}),"+18% from last month"]})]})]}),t.jsxs(ue,{className:"shadow-sm border-0 bg-gradient-to-br from-orange-50 to-orange-100/50",children:[t.jsxs(be,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[t.jsx(je,{className:"text-sm font-medium text-orange-900",children:"Support Tickets"}),t.jsx(kn,{className:"h-4 w-4 text-orange-600"})]}),t.jsxs(me,{children:[t.jsx("div",{className:"text-2xl font-bold text-orange-900",children:"12"}),t.jsxs("p",{className:"text-xs text-orange-600 flex items-center mt-1",children:[t.jsx(kn,{className:"h-3 w-3 mr-1"}),"This month"]})]})]})]}),t.jsxs("div",{className:"ri-content-grid",children:[t.jsxs(ue,{className:"shadow-sm",children:[t.jsxs(be,{children:[t.jsx(je,{className:"text-xl",children:"Portal Features"}),t.jsx(Ge,{children:"Available self-service features for customers"})]}),t.jsx(me,{children:t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg hover:bg-accent/50 transition-colors",children:[t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx(tl,{className:"h-8 w-8 text-blue-500 bg-blue-50 p-2 rounded-lg"}),t.jsxs("div",{children:[t.jsx("p",{className:"font-semibold",children:"Vehicle Information"}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"View vehicle details and documentation"})]})]}),t.jsx(Re,{className:"bg-green-50 text-green-700 border-green-200",children:"Active"})]}),t.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg hover:bg-accent/50 transition-colors",children:[t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx(kn,{className:"h-8 w-8 text-purple-500 bg-purple-50 p-2 rounded-lg"}),t.jsxs("div",{children:[t.jsx("p",{className:"font-semibold",children:"Service Requests"}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"Submit and track service tickets"})]})]}),t.jsx(Re,{className:"bg-green-50 text-green-700 border-green-200",children:"Active"})]}),t.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg hover:bg-accent/50 transition-colors",children:[t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx(gm,{className:"h-8 w-8 text-green-500 bg-green-50 p-2 rounded-lg"}),t.jsxs("div",{children:[t.jsx("p",{className:"font-semibold",children:"Account Management"}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"Update profile and preferences"})]})]}),t.jsx(Re,{className:"bg-green-50 text-green-700 border-green-200",children:"Active"})]}),t.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg hover:bg-accent/50 transition-colors",children:[t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx(ku,{className:"h-8 w-8 text-orange-500 bg-orange-50 p-2 rounded-lg"}),t.jsxs("div",{children:[t.jsx("p",{className:"font-semibold",children:"Document Library"}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"Access manuals and warranties"})]})]}),t.jsx(Re,{className:"bg-yellow-50 text-yellow-700 border-yellow-200",children:"Coming Soon"})]})]})})]}),t.jsxs(ue,{className:"shadow-sm",children:[t.jsxs(be,{children:[t.jsx(je,{className:"text-xl",children:"Recent Activity"}),t.jsx(Ge,{children:"Latest portal user activities"})]}),t.jsx(me,{children:t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"flex items-start space-x-3 p-3 bg-blue-50 rounded-lg",children:[t.jsx("div",{className:"flex-shrink-0",children:t.jsx("div",{className:"h-2 w-2 bg-blue-500 rounded-full mt-2"})}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsx("p",{className:"text-sm font-medium text-blue-900",children:"John Smith logged in"}),t.jsx("p",{className:"text-xs text-blue-600 mt-1",children:"2 hours ago"})]})]}),t.jsxs("div",{className:"flex items-start space-x-3 p-3 bg-green-50 rounded-lg",children:[t.jsx("div",{className:"flex-shrink-0",children:t.jsx("div",{className:"h-2 w-2 bg-green-500 rounded-full mt-2"})}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsx("p",{className:"text-sm font-medium text-green-900",children:"Sarah Johnson submitted service request"}),t.jsx("p",{className:"text-xs text-green-600 mt-1",children:"4 hours ago"})]})]}),t.jsxs("div",{className:"flex items-start space-x-3 p-3 bg-purple-50 rounded-lg",children:[t.jsx("div",{className:"flex-shrink-0",children:t.jsx("div",{className:"h-2 w-2 bg-purple-500 rounded-full mt-2"})}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsx("p",{className:"text-sm font-medium text-purple-900",children:"Mike Davis updated profile"}),t.jsx("p",{className:"text-xs text-purple-600 mt-1",children:"1 day ago"})]})]})]})})]})]}),t.jsxs("div",{className:"flex gap-4",children:[t.jsxs("div",{className:"ri-search-bar",children:[t.jsx(Jn,{className:"ri-search-icon"}),t.jsx(Te,{placeholder:"Search portal users...",value:r,onChange:i=>n(i.target.value),className:"ri-search-input shadow-sm"})]}),t.jsxs(ne,{variant:"outline",className:"shadow-sm",children:[t.jsx(Ws,{className:"h-4 w-4 mr-2"}),"Filter"]})]}),t.jsxs(ue,{className:"shadow-sm",children:[t.jsxs(be,{children:[t.jsx(je,{className:"text-xl",children:"Portal Users"}),t.jsx(Ge,{children:"Manage customer portal access and permissions"})]}),t.jsx(me,{children:t.jsx("div",{className:"space-y-4",children:a.map(i=>t.jsxs("div",{className:"ri-table-row",children:[t.jsx("div",{className:"flex items-center space-x-4 flex-1",children:t.jsxs("div",{className:"flex-1",children:[t.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[t.jsx("h3",{className:"font-semibold text-foreground",children:i.name}),t.jsx(Re,{className:ze("ri-badge-status",s(i.status)),children:i.status.toUpperCase()})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm text-muted-foreground",children:[t.jsxs("div",{children:[t.jsx("span",{className:"font-medium",children:"Email:"}),t.jsx("span",{className:"ml-1",children:i.email})]}),t.jsxs("div",{children:[t.jsx("span",{className:"font-medium",children:"Last Login:"}),t.jsx("span",{className:"ml-1",children:i.lastLogin.toLocaleDateString()})]}),t.jsxs("div",{children:[t.jsx("span",{className:"font-medium",children:"Vehicles:"}),t.jsx("span",{className:"ml-1",children:i.vehicleCount})]}),t.jsxs("div",{children:[t.jsx("span",{className:"font-medium",children:"Service Tickets:"}),t.jsx("span",{className:"ml-1",children:i.serviceTickets})]})]})]})}),t.jsxs("div",{className:"ri-action-buttons",children:[t.jsxs(ne,{variant:"outline",size:"sm",className:"shadow-sm",children:[t.jsx(pn,{className:"h-3 w-3 mr-1"}),"Manage"]}),t.jsxs(ne,{variant:"outline",size:"sm",className:"shadow-sm",children:[t.jsx(gm,{className:"h-3 w-3 mr-1"}),"Settings"]})]})]},i.id))})})]})]})}function FU(){return t.jsxs(Fn,{children:[t.jsx(Pt,{path:"/",element:t.jsx(R5,{})}),t.jsx(Pt,{path:"/*",element:t.jsx(R5,{})})]})}const _U=[{id:"1",customerId:"cust-1",number:"INV-2024-001",items:[{id:"1",description:"2024 Forest River Georgetown",quantity:1,unitPrice:125e3,total:125e3},{id:"2",description:"Extended Warranty",quantity:1,unitPrice:2500,total:2500}],subtotal:127500,tax:10200,total:137700,status:ra.PAID,dueDate:new Date("2024-02-15"),paidDate:new Date("2024-01-20"),paymentMethod:"Credit Card",notes:"Payment received via Zego",customFields:{},createdAt:new Date("2024-01-15"),updatedAt:new Date("2024-01-20")},{id:"2",customerId:"cust-2",number:"INV-2024-002",items:[{id:"3",description:"Service - AC Repair",quantity:1,unitPrice:620,total:620}],subtotal:620,tax:49.6,total:669.6,status:ra.SENT,dueDate:new Date("2024-02-20"),notes:"Service invoice for AC repair",customFields:{},createdAt:new Date("2024-01-12"),updatedAt:new Date("2024-01-18")}],OU=[{id:"1",invoiceId:"1",amount:137700,method:"CREDIT_CARD",status:"COMPLETED",transactionId:"txn_1234567890",processedDate:new Date("2024-01-20"),notes:"Processed via Zego payment gateway",customFields:{},createdAt:new Date("2024-01-20"),updatedAt:new Date("2024-01-20")}];function F5(){const[e]=A.useState(_U);A.useState(OU);const[r,n]=A.useState(""),s=i=>{switch(i){case ra.DRAFT:return"bg-gray-50 text-gray-700 border-gray-200";case ra.SENT:return"bg-blue-50 text-blue-700 border-blue-200";case ra.VIEWED:return"bg-yellow-50 text-yellow-700 border-yellow-200";case ra.PAID:return"bg-green-50 text-green-700 border-green-200";case ra.OVERDUE:return"bg-red-50 text-red-700 border-red-200";case ra.CANCELLED:return"bg-gray-50 text-gray-700 border-gray-200";default:return"bg-gray-50 text-gray-700 border-gray-200"}},a=e.filter(i=>i.number.toLowerCase().includes(r.toLowerCase())||i.customerId.toLowerCase().includes(r.toLowerCase()));return t.jsxs("div",{className:"space-y-8",children:[t.jsx("div",{className:"ri-page-header",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"ri-page-title",children:"Invoice & Payments"}),t.jsx("p",{className:"ri-page-description",children:"Manage invoices and process payments via Zego integration"})]}),t.jsxs(ne,{className:"shadow-sm",children:[t.jsx(Et,{className:"h-4 w-4 mr-2"}),"New Invoice"]})]})}),t.jsxs("div",{className:"ri-stats-grid",children:[t.jsxs(ue,{className:"shadow-sm border-0 bg-gradient-to-br from-blue-50 to-blue-100/50",children:[t.jsxs(be,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[t.jsx(je,{className:"text-sm font-medium text-blue-900",children:"Total Invoices"}),t.jsx(_h,{className:"h-4 w-4 text-blue-600"})]}),t.jsxs(me,{children:[t.jsx("div",{className:"text-2xl font-bold text-blue-900",children:e.length}),t.jsxs("p",{className:"text-xs text-blue-600 flex items-center mt-1",children:[t.jsx(vt,{className:"h-3 w-3 mr-1"}),"All invoices"]})]})]}),t.jsxs(ue,{className:"shadow-sm border-0 bg-gradient-to-br from-orange-50 to-orange-100/50",children:[t.jsxs(be,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[t.jsx(je,{className:"text-sm font-medium text-orange-900",children:"Outstanding"}),t.jsx(_h,{className:"h-4 w-4 text-orange-600"})]}),t.jsxs(me,{children:[t.jsx("div",{className:"text-2xl font-bold text-orange-900",children:Ie(e.filter(i=>i.status!==ra.PAID).reduce((i,o)=>i+o.total,0))}),t.jsxs("p",{className:"text-xs text-orange-600 flex items-center mt-1",children:[t.jsx(Bt,{className:"h-3 w-3 mr-1"}),"Unpaid invoices"]})]})]}),t.jsxs(ue,{className:"shadow-sm border-0 bg-gradient-to-br from-green-50 to-green-100/50",children:[t.jsxs(be,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[t.jsx(je,{className:"text-sm font-medium text-green-900",children:"Paid This Month"}),t.jsx(_h,{className:"h-4 w-4 text-green-600"})]}),t.jsxs(me,{children:[t.jsx("div",{className:"text-2xl font-bold text-green-900",children:Ie(e.filter(i=>i.status===ra.PAID).reduce((i,o)=>i+o.total,0))}),t.jsxs("p",{className:"text-xs text-green-600 flex items-center mt-1",children:[t.jsx(vt,{className:"h-3 w-3 mr-1"}),"Revenue collected"]})]})]}),t.jsxs(ue,{className:"shadow-sm border-0 bg-gradient-to-br from-purple-50 to-purple-100/50",children:[t.jsxs(be,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[t.jsx(je,{className:"text-sm font-medium text-purple-900",children:"Payment Success Rate"}),t.jsx(vf,{className:"h-4 w-4 text-purple-600"})]}),t.jsxs(me,{children:[t.jsx("div",{className:"text-2xl font-bold text-purple-900",children:"98.5%"}),t.jsxs("p",{className:"text-xs text-purple-600 flex items-center mt-1",children:[t.jsx(vt,{className:"h-3 w-3 mr-1"}),"Excellent rate"]})]})]})]}),t.jsxs(ue,{className:"shadow-sm border-0 bg-gradient-to-br from-blue-50 to-blue-100/50",children:[t.jsxs(be,{children:[t.jsxs(je,{className:"flex items-center space-x-2 text-blue-900",children:[t.jsx(vf,{className:"h-5 w-5 text-blue-600"}),t.jsx("span",{children:"Zego Payment Integration"})]}),t.jsx(Ge,{className:"text-blue-700",children:"Seamlessly process payments and send payment requests to customers"})]}),t.jsx(me,{children:t.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[t.jsxs("div",{className:"text-center p-4 bg-white/50 rounded-lg",children:[t.jsx("div",{className:"text-2xl font-bold text-blue-600",children:"99.9%"}),t.jsx("p",{className:"text-sm text-blue-700",children:"Uptime"})]}),t.jsxs("div",{className:"text-center p-4 bg-white/50 rounded-lg",children:[t.jsx("div",{className:"text-2xl font-bold text-blue-600",children:"2.9%"}),t.jsx("p",{className:"text-sm text-blue-700",children:"Processing Fee"})]}),t.jsxs("div",{className:"text-center p-4 bg-white/50 rounded-lg",children:[t.jsx("div",{className:"text-2xl font-bold text-blue-600",children:"24/7"}),t.jsx("p",{className:"text-sm text-blue-700",children:"Support"})]})]})})]}),t.jsxs("div",{className:"flex gap-4",children:[t.jsxs("div",{className:"ri-search-bar",children:[t.jsx(Jn,{className:"ri-search-icon"}),t.jsx(Te,{placeholder:"Search invoices...",value:r,onChange:i=>n(i.target.value),className:"ri-search-input shadow-sm"})]}),t.jsxs(ne,{variant:"outline",className:"shadow-sm",children:[t.jsx(Ws,{className:"h-4 w-4 mr-2"}),"Filter"]})]}),t.jsxs(ue,{className:"shadow-sm",children:[t.jsxs(be,{children:[t.jsx(je,{className:"text-xl",children:"Invoices"}),t.jsx(Ge,{children:"Manage invoices and track payments"})]}),t.jsx(me,{children:t.jsx("div",{className:"space-y-4",children:a.map(i=>t.jsxs("div",{className:"ri-table-row",children:[t.jsx("div",{className:"flex items-center space-x-4 flex-1",children:t.jsxs("div",{className:"flex-1",children:[t.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[t.jsx("h3",{className:"font-semibold text-foreground",children:i.number}),t.jsx(Re,{className:ze("ri-badge-status",s(i.status)),children:i.status.toUpperCase()})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm text-muted-foreground",children:[t.jsxs("div",{children:[t.jsx("span",{className:"font-medium",children:"Customer:"}),t.jsx("span",{className:"ml-1",children:i.customerId})]}),t.jsxs("div",{children:[t.jsx("span",{className:"font-medium",children:"Total:"}),t.jsx("span",{className:"ml-1 font-bold text-primary",children:Ie(i.total)})]}),t.jsxs("div",{children:[t.jsx("span",{className:"font-medium",children:"Due Date:"}),t.jsx("span",{className:"ml-1",children:gt(i.dueDate)})]}),i.paidDate&&t.jsxs("div",{children:[t.jsx("span",{className:"font-medium",children:"Paid Date:"}),t.jsx("span",{className:"ml-1",children:gt(i.paidDate)})]})]}),t.jsxs("div",{className:"mt-2 bg-muted/30 p-2 rounded-md",children:[t.jsxs("p",{className:"text-sm text-muted-foreground",children:[i.items.length," item(s) - ",i.notes]}),i.paymentMethod&&t.jsxs("p",{className:"text-sm text-muted-foreground",children:[t.jsx("span",{className:"font-medium",children:"Payment Method:"})," ",i.paymentMethod]})]})]})}),t.jsxs("div",{className:"ri-action-buttons",children:[t.jsxs(ne,{variant:"outline",size:"sm",className:"shadow-sm",children:[t.jsx(tl,{className:"h-3 w-3 mr-1"}),"View"]}),t.jsxs(ne,{variant:"outline",size:"sm",className:"shadow-sm",children:[t.jsx(Wo,{className:"h-3 w-3 mr-1"}),"PDF"]}),i.status!==ra.PAID&&t.jsxs(ne,{variant:"outline",size:"sm",className:"shadow-sm",children:[t.jsx(Fo,{className:"h-3 w-3 mr-1"}),"Send Payment Request"]})]})]},i.id))})})]})]})}function MU(){return t.jsxs(Fn,{children:[t.jsx(Pt,{path:"/",element:t.jsx(F5,{})}),t.jsx(Pt,{path:"/*",element:t.jsx(F5,{})})]})}function _5(){const{tenant:e,customFields:r,updateTenantSettings:n,addCustomField:s,updateCustomField:a,deleteCustomField:i}=J4(),[o,l]=A.useState("general"),c=[{id:"general",name:"General",icon:$0},{id:"branding",name:"Branding",icon:_k},{id:"users",name:"Users",icon:pn},{id:"custom-fields",name:"Custom Fields",icon:gm}],d=async()=>{console.log("Saving settings...")},m=()=>t.jsxs("div",{className:"space-y-6",children:[t.jsxs(ue,{className:"shadow-sm",children:[t.jsxs(be,{children:[t.jsx(je,{className:"text-xl",children:"Company Information"}),t.jsx(Ge,{children:"Basic information about your dealership"})]}),t.jsx(me,{className:"space-y-4",children:t.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[t.jsxs("div",{children:[t.jsx("label",{className:"text-sm font-medium text-foreground",children:"Company Name"}),t.jsx(Te,{defaultValue:e==null?void 0:e.name,className:"mt-1 shadow-sm"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-sm font-medium text-foreground",children:"Domain"}),t.jsx(Te,{defaultValue:e==null?void 0:e.domain,className:"mt-1 shadow-sm"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-sm font-medium text-foreground",children:"Timezone"}),t.jsx(Te,{defaultValue:e==null?void 0:e.settings.timezone,className:"mt-1 shadow-sm"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-sm font-medium text-foreground",children:"Currency"}),t.jsx(Te,{defaultValue:e==null?void 0:e.settings.currency,className:"mt-1 shadow-sm"})]})]})})]}),t.jsxs(ue,{className:"shadow-sm",children:[t.jsxs(be,{children:[t.jsx(je,{className:"text-xl",children:"Business Hours"}),t.jsx(Ge,{children:"Set your dealership operating hours"})]}),t.jsx(me,{children:t.jsx("div",{className:"space-y-4",children:(e==null?void 0:e.settings.businessHours)&&Object.entries(e.settings.businessHours).map(([g,b])=>t.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/30 rounded-lg",children:[t.jsx("div",{className:"w-24 capitalize font-medium",children:g}),t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx(Te,{type:"time",defaultValue:b.open,disabled:b.closed,className:"w-32 shadow-sm"}),t.jsx("span",{className:"text-muted-foreground",children:"to"}),t.jsx(Te,{type:"time",defaultValue:b.close,disabled:b.closed,className:"w-32 shadow-sm"}),t.jsxs("label",{className:"flex items-center space-x-2",children:[t.jsx("input",{type:"checkbox",defaultChecked:b.closed,className:"rounded"}),t.jsx("span",{className:"text-sm",children:"Closed"})]})]})]},g))})})]})]}),u=()=>t.jsxs(ue,{className:"shadow-sm",children:[t.jsxs(be,{children:[t.jsx(je,{className:"text-xl",children:"Branding & Appearance"}),t.jsx(Ge,{children:"Customize your dealership's visual identity"})]}),t.jsx(me,{className:"space-y-4",children:t.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[t.jsxs("div",{children:[t.jsx("label",{className:"text-sm font-medium text-foreground",children:"Primary Color"}),t.jsxs("div",{className:"flex items-center space-x-2 mt-1",children:[t.jsx(Te,{type:"color",defaultValue:e==null?void 0:e.branding.primaryColor,className:"w-16 h-10 shadow-sm"}),t.jsx(Te,{defaultValue:e==null?void 0:e.branding.primaryColor,className:"shadow-sm"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-sm font-medium text-foreground",children:"Secondary Color"}),t.jsxs("div",{className:"flex items-center space-x-2 mt-1",children:[t.jsx(Te,{type:"color",defaultValue:e==null?void 0:e.branding.secondaryColor,className:"w-16 h-10 shadow-sm"}),t.jsx(Te,{defaultValue:e==null?void 0:e.branding.secondaryColor,className:"shadow-sm"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-sm font-medium text-foreground",children:"Font Family"}),t.jsx(Te,{defaultValue:e==null?void 0:e.branding.fontFamily,className:"mt-1 shadow-sm"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-sm font-medium text-foreground",children:"Logo URL"}),t.jsx(Te,{defaultValue:(e==null?void 0:e.branding.logo)||"",placeholder:"https://...",className:"mt-1 shadow-sm"})]})]})})]}),h=()=>t.jsxs(ue,{className:"shadow-sm",children:[t.jsxs(be,{children:[t.jsx(je,{className:"text-xl",children:"User Management"}),t.jsx(Ge,{children:"Manage user accounts and permissions"})]}),t.jsxs(me,{children:[t.jsxs("div",{className:"flex justify-between items-center mb-6",children:[t.jsx("p",{className:"text-sm text-muted-foreground",children:"Manage users, roles, and permissions for your dealership"}),t.jsxs(ne,{className:"shadow-sm",children:[t.jsx(Et,{className:"h-4 w-4 mr-2"}),"Add User"]})]}),t.jsx("div",{className:"space-y-4",children:t.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg hover:bg-accent/50 transition-colors",children:[t.jsxs("div",{children:[t.jsx("h4",{className:"font-semibold",children:"Admin User"}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"admin@renterinsight.com"})]}),t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx(Re,{className:"bg-blue-50 text-blue-700 border-blue-200",children:"Admin"}),t.jsx(ne,{variant:"outline",size:"sm",className:"shadow-sm",children:t.jsx(Xr,{className:"h-3 w-3"})})]})]})})]})]}),p=()=>t.jsxs(ue,{className:"shadow-sm",children:[t.jsxs(be,{children:[t.jsx(je,{className:"text-xl",children:"Custom Fields"}),t.jsx(Ge,{children:"Add custom fields to capture additional information"})]}),t.jsxs(me,{children:[t.jsxs("div",{className:"flex justify-between items-center mb-6",children:[t.jsx("p",{className:"text-sm text-muted-foreground",children:"Create custom fields for leads, vehicles, and other entities"}),t.jsxs(ne,{className:"shadow-sm",children:[t.jsx(Et,{className:"h-4 w-4 mr-2"}),"Add Custom Field"]})]}),t.jsxs("div",{className:"space-y-4",children:[r.map(g=>t.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg hover:bg-accent/50 transition-colors",children:[t.jsxs("div",{children:[t.jsx("h4",{className:"font-semibold",children:g.name}),t.jsxs("p",{className:"text-sm text-muted-foreground",children:[g.module," - ",g.section," - ",g.type,g.required&&t.jsx(Re,{className:"ml-2 bg-orange-50 text-orange-700 border-orange-200",variant:"secondary",children:"Required"})]})]}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(ne,{variant:"outline",size:"sm",className:"shadow-sm",children:t.jsx(Xr,{className:"h-3 w-3"})}),t.jsx(ne,{variant:"outline",size:"sm",className:"shadow-sm",children:t.jsx(bs,{className:"h-3 w-3"})})]})]},g.id)),r.length===0&&t.jsx("div",{className:"text-center py-12 text-muted-foreground bg-muted/30 rounded-lg",children:"No custom fields configured yet"})]})]})]});return t.jsxs("div",{className:"space-y-8",children:[t.jsx("div",{className:"ri-page-header",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"ri-page-title",children:"Company Settings"}),t.jsx("p",{className:"ri-page-description",children:"Configure your dealership settings and preferences"})]}),t.jsxs(ne,{onClick:d,className:"shadow-sm",children:[t.jsx(js,{className:"h-4 w-4 mr-2"}),"Save Changes"]})]})}),t.jsx("div",{className:"border-b",children:t.jsx("nav",{className:"-mb-px flex space-x-8",children:c.map(g=>t.jsxs("button",{onClick:()=>l(g.id),className:ze("flex items-center space-x-2 py-3 px-1 border-b-2 font-medium text-sm transition-colors",o===g.id?"border-primary text-primary":"border-transparent text-muted-foreground hover:text-foreground hover:border-gray-300"),children:[t.jsx(g.icon,{className:"h-4 w-4"}),t.jsx("span",{children:g.name})]},g.id))})}),t.jsxs("div",{children:[o==="general"&&m(),o==="branding"&&u(),o==="users"&&h(),o==="custom-fields"&&p()]})]})}function BU(){return t.jsxs(Fn,{children:[t.jsx(Pt,{path:"/",element:t.jsx(_5,{})}),t.jsx(Pt,{path:"/*",element:t.jsx(_5,{})})]})}const zU=[{id:"1",name:"Demo RV Dealership",domain:"demo.renterinsight.com",status:"active",users:5,createdAt:new Date("2024-01-01"),lastActivity:new Date("2024-01-20")},{id:"2",name:"Sunshine RV Center",domain:"sunshine.renterinsight.com",status:"active",users:12,createdAt:new Date("2023-12-15"),lastActivity:new Date("2024-01-19")}],_c={totalTenants:2,activeTenants:2,totalUsers:17,systemUptime:"99.9%",avgResponseTime:"120ms",errorRate:"0.1%"};function O5(){const{hasRole:e}=_m(),[r]=A.useState(zU),[n,s]=A.useState("");if(!e(Wu.ADMIN))return t.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:t.jsx(ue,{className:"w-full max-w-md shadow-sm",children:t.jsxs(be,{className:"text-center",children:[t.jsx(Ta,{className:"h-12 w-12 text-orange-500 mx-auto mb-4"}),t.jsx(je,{children:"Access Denied"}),t.jsx(Ge,{children:"You don't have permission to access the Platform Admin area."})]})})});const a=o=>{switch(o){case"active":return"bg-green-50 text-green-700 border-green-200";case"inactive":return"bg-gray-50 text-gray-700 border-gray-200";case"suspended":return"bg-red-50 text-red-700 border-red-200";default:return"bg-gray-50 text-gray-700 border-gray-200"}},i=r.filter(o=>o.name.toLowerCase().includes(n.toLowerCase())||o.domain.toLowerCase().includes(n.toLowerCase()));return t.jsxs("div",{className:"space-y-8",children:[t.jsx("div",{className:"ri-page-header",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"ri-page-title",children:"Platform Admin"}),t.jsx("p",{className:"ri-page-description",children:"System administration and tenant management"})]}),t.jsxs(ne,{className:"shadow-sm",children:[t.jsx(Et,{className:"h-4 w-4 mr-2"}),"Add Tenant"]})]})}),t.jsxs("div",{className:"grid gap-4 md:grid-cols-3 lg:grid-cols-6",children:[t.jsxs(ue,{className:"shadow-sm border-0 bg-gradient-to-br from-blue-50 to-blue-100/50",children:[t.jsxs(be,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[t.jsx(je,{className:"text-sm font-medium text-blue-900",children:"Total Tenants"}),t.jsx($0,{className:"h-4 w-4 text-blue-600"})]}),t.jsxs(me,{children:[t.jsx("div",{className:"text-2xl font-bold text-blue-900",children:_c.totalTenants}),t.jsxs("p",{className:"text-xs text-blue-600 flex items-center mt-1",children:[t.jsx(vt,{className:"h-3 w-3 mr-1"}),"All tenants"]})]})]}),t.jsxs(ue,{className:"shadow-sm border-0 bg-gradient-to-br from-green-50 to-green-100/50",children:[t.jsxs(be,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[t.jsx(je,{className:"text-sm font-medium text-green-900",children:"Active Tenants"}),t.jsx($0,{className:"h-4 w-4 text-green-600"})]}),t.jsxs(me,{children:[t.jsx("div",{className:"text-2xl font-bold text-green-900",children:_c.activeTenants}),t.jsxs("p",{className:"text-xs text-green-600 flex items-center mt-1",children:[t.jsx(Ti,{className:"h-3 w-3 mr-1"}),"Currently active"]})]})]}),t.jsxs(ue,{className:"shadow-sm border-0 bg-gradient-to-br from-purple-50 to-purple-100/50",children:[t.jsxs(be,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[t.jsx(je,{className:"text-sm font-medium text-purple-900",children:"Total Users"}),t.jsx(pn,{className:"h-4 w-4 text-purple-600"})]}),t.jsxs(me,{children:[t.jsx("div",{className:"text-2xl font-bold text-purple-900",children:_c.totalUsers}),t.jsxs("p",{className:"text-xs text-purple-600 flex items-center mt-1",children:[t.jsx(pn,{className:"h-3 w-3 mr-1"}),"All users"]})]})]}),t.jsxs(ue,{className:"shadow-sm border-0 bg-gradient-to-br from-green-50 to-green-100/50",children:[t.jsxs(be,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[t.jsx(je,{className:"text-sm font-medium text-green-900",children:"System Uptime"}),t.jsx(Ti,{className:"h-4 w-4 text-green-600"})]}),t.jsxs(me,{children:[t.jsx("div",{className:"text-2xl font-bold text-green-900",children:_c.systemUptime}),t.jsxs("p",{className:"text-xs text-green-600 flex items-center mt-1",children:[t.jsx(Ti,{className:"h-3 w-3 mr-1"}),"Excellent"]})]})]}),t.jsxs(ue,{className:"shadow-sm border-0 bg-gradient-to-br from-blue-50 to-blue-100/50",children:[t.jsxs(be,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[t.jsx(je,{className:"text-sm font-medium text-blue-900",children:"Avg Response"}),t.jsx(Ti,{className:"h-4 w-4 text-blue-600"})]}),t.jsxs(me,{children:[t.jsx("div",{className:"text-2xl font-bold text-blue-900",children:_c.avgResponseTime}),t.jsxs("p",{className:"text-xs text-blue-600 flex items-center mt-1",children:[t.jsx(vt,{className:"h-3 w-3 mr-1"}),"Fast response"]})]})]}),t.jsxs(ue,{className:"shadow-sm border-0 bg-gradient-to-br from-green-50 to-green-100/50",children:[t.jsxs(be,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[t.jsx(je,{className:"text-sm font-medium text-green-900",children:"Error Rate"}),t.jsx(Ti,{className:"h-4 w-4 text-green-600"})]}),t.jsxs(me,{children:[t.jsx("div",{className:"text-2xl font-bold text-green-900",children:_c.errorRate}),t.jsxs("p",{className:"text-xs text-green-600 flex items-center mt-1",children:[t.jsx(Ti,{className:"h-3 w-3 mr-1"}),"Very low"]})]})]})]}),t.jsxs(ue,{className:"shadow-sm",children:[t.jsxs(be,{children:[t.jsx(je,{className:"text-xl",children:"System Health"}),t.jsx(Ge,{children:"Real-time system status and health metrics"})]}),t.jsx(me,{children:t.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[t.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-green-50 rounded-lg",children:[t.jsx("div",{className:"h-3 w-3 bg-green-500 rounded-full"}),t.jsx("span",{className:"text-sm font-medium text-green-900",children:"Database: Healthy"})]}),t.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-green-50 rounded-lg",children:[t.jsx("div",{className:"h-3 w-3 bg-green-500 rounded-full"}),t.jsx("span",{className:"text-sm font-medium text-green-900",children:"API Services: Operational"})]}),t.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-green-50 rounded-lg",children:[t.jsx("div",{className:"h-3 w-3 bg-green-500 rounded-full"}),t.jsx("span",{className:"text-sm font-medium text-green-900",children:"Payment Gateway: Connected"})]}),t.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-green-50 rounded-lg",children:[t.jsx("div",{className:"h-3 w-3 bg-green-500 rounded-full"}),t.jsx("span",{className:"text-sm font-medium text-green-900",children:"Email Service: Active"})]}),t.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-green-50 rounded-lg",children:[t.jsx("div",{className:"h-3 w-3 bg-green-500 rounded-full"}),t.jsx("span",{className:"text-sm font-medium text-green-900",children:"File Storage: Available"})]}),t.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-green-50 rounded-lg",children:[t.jsx("div",{className:"h-3 w-3 bg-green-500 rounded-full"}),t.jsx("span",{className:"text-sm font-medium text-green-900",children:"Backup System: Running"})]})]})})]}),t.jsxs("div",{className:"flex gap-4",children:[t.jsxs("div",{className:"ri-search-bar",children:[t.jsx(Jn,{className:"ri-search-icon"}),t.jsx(Te,{placeholder:"Search tenants...",value:n,onChange:o=>s(o.target.value),className:"ri-search-input shadow-sm"})]}),t.jsxs(ne,{variant:"outline",className:"shadow-sm",children:[t.jsx(Ws,{className:"h-4 w-4 mr-2"}),"Filter"]})]}),t.jsxs(ue,{className:"shadow-sm",children:[t.jsxs(be,{children:[t.jsx(je,{className:"text-xl",children:"Tenant Management"}),t.jsx(Ge,{children:"Manage dealership tenants and their configurations"})]}),t.jsx(me,{children:t.jsx("div",{className:"space-y-4",children:i.map(o=>t.jsxs("div",{className:"ri-table-row",children:[t.jsx("div",{className:"flex items-center space-x-4 flex-1",children:t.jsxs("div",{className:"flex-1",children:[t.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[t.jsx("h3",{className:"font-semibold text-foreground",children:o.name}),t.jsx(Re,{className:ze("ri-badge-status",a(o.status)),children:o.status.toUpperCase()})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm text-muted-foreground",children:[t.jsxs("div",{children:[t.jsx("span",{className:"font-medium",children:"Domain:"}),t.jsx("span",{className:"ml-1",children:o.domain})]}),t.jsxs("div",{children:[t.jsx("span",{className:"font-medium",children:"Users:"}),t.jsx("span",{className:"ml-1",children:o.users})]}),t.jsxs("div",{children:[t.jsx("span",{className:"font-medium",children:"Created:"}),t.jsx("span",{className:"ml-1",children:o.createdAt.toLocaleDateString()})]}),t.jsxs("div",{children:[t.jsx("span",{className:"font-medium",children:"Last Activity:"}),t.jsx("span",{className:"ml-1",children:o.lastActivity.toLocaleDateString()})]})]})]})}),t.jsxs("div",{className:"ri-action-buttons",children:[t.jsxs(ne,{variant:"outline",size:"sm",className:"shadow-sm",children:[t.jsx(O4,{className:"h-3 w-3 mr-1"}),"Manage"]}),t.jsxs(ne,{variant:"outline",size:"sm",className:"shadow-sm",children:[t.jsx(Ti,{className:"h-3 w-3 mr-1"}),"Monitor"]})]})]},o.id))})})]})]})}function $U(){return t.jsxs(Fn,{children:[t.jsx(Pt,{path:"/",element:t.jsx(O5,{})}),t.jsx(Pt,{path:"/*",element:t.jsx(O5,{})})]})}const UU=[{id:"1",name:"Monthly Sales Report",type:Ds.SALES,module:"sales",filters:[],columns:[],data:[],generatedAt:new Date("2024-01-20"),generatedBy:"admin"},{id:"2",name:"Inventory Valuation",type:Ds.INVENTORY,module:"inventory",filters:[],columns:[],data:[],generatedAt:new Date("2024-01-19"),generatedBy:"manager"},{id:"3",name:"Service Revenue Analysis",type:Ds.SERVICE,module:"service",filters:[],columns:[],data:[],generatedAt:new Date("2024-01-18"),generatedBy:"admin"}],M5=[{id:"sales-summary",name:"Sales Summary",description:"Overview of sales performance and metrics",type:Ds.SALES,icon:Bt,color:"from-green-50 to-green-100/50"},{id:"inventory-report",name:"Inventory Report",description:"Current inventory levels and valuation",type:Ds.INVENTORY,icon:Qn,color:"from-blue-50 to-blue-100/50"},{id:"customer-analysis",name:"Customer Analysis",description:"Customer demographics and behavior insights",type:Ds.CUSTOM,icon:pn,color:"from-purple-50 to-purple-100/50"},{id:"financial-overview",name:"Financial Overview",description:"Revenue, expenses, and profitability analysis",type:Ds.FINANCIAL,icon:vt,color:"from-orange-50 to-orange-100/50"}];function B5(){const[e]=A.useState(UU),[r,n]=A.useState(""),s=i=>{switch(i){case Ds.SALES:return"bg-green-50 text-green-700 border-green-200";case Ds.INVENTORY:return"bg-blue-50 text-blue-700 border-blue-200";case Ds.SERVICE:return"bg-purple-50 text-purple-700 border-purple-200";case Ds.FINANCIAL:return"bg-orange-50 text-orange-700 border-orange-200";case Ds.CUSTOM:return"bg-gray-50 text-gray-700 border-gray-200";default:return"bg-gray-50 text-gray-700 border-gray-200"}},a=e.filter(i=>i.name.toLowerCase().includes(r.toLowerCase())||i.type.toLowerCase().includes(r.toLowerCase()));return t.jsxs("div",{className:"space-y-8",children:[t.jsx("div",{className:"ri-page-header",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"ri-page-title",children:"Reporting Suite"}),t.jsx("p",{className:"ri-page-description",children:"Generate insights and analytics for your dealership"})]}),t.jsxs(ne,{className:"shadow-sm",children:[t.jsx(Et,{className:"h-4 w-4 mr-2"}),"Create Report"]})]})}),t.jsxs("div",{className:"ri-stats-grid",children:[t.jsxs(ue,{className:"shadow-sm border-0 bg-gradient-to-br from-blue-50 to-blue-100/50",children:[t.jsxs(be,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[t.jsx(je,{className:"text-sm font-medium text-blue-900",children:"Total Reports"}),t.jsx(ka,{className:"h-4 w-4 text-blue-600"})]}),t.jsxs(me,{children:[t.jsx("div",{className:"text-2xl font-bold text-blue-900",children:e.length}),t.jsxs("p",{className:"text-xs text-blue-600 flex items-center mt-1",children:[t.jsx(vt,{className:"h-3 w-3 mr-1"}),"All reports"]})]})]}),t.jsxs(ue,{className:"shadow-sm border-0 bg-gradient-to-br from-green-50 to-green-100/50",children:[t.jsxs(be,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[t.jsx(je,{className:"text-sm font-medium text-green-900",children:"This Month"}),t.jsx(ka,{className:"h-4 w-4 text-green-600"})]}),t.jsxs(me,{children:[t.jsx("div",{className:"text-2xl font-bold text-green-900",children:e.filter(i=>i.generatedAt.getMonth()===new Date().getMonth()).length}),t.jsxs("p",{className:"text-xs text-green-600 flex items-center mt-1",children:[t.jsx(vt,{className:"h-3 w-3 mr-1"}),"Generated this month"]})]})]}),t.jsxs(ue,{className:"shadow-sm border-0 bg-gradient-to-br from-purple-50 to-purple-100/50",children:[t.jsxs(be,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[t.jsx(je,{className:"text-sm font-medium text-purple-900",children:"Scheduled"}),t.jsx(ka,{className:"h-4 w-4 text-purple-600"})]}),t.jsxs(me,{children:[t.jsx("div",{className:"text-2xl font-bold text-purple-900",children:"5"}),t.jsxs("p",{className:"text-xs text-purple-600 flex items-center mt-1",children:[t.jsx(ka,{className:"h-3 w-3 mr-1"}),"Automated reports"]})]})]}),t.jsxs(ue,{className:"shadow-sm border-0 bg-gradient-to-br from-orange-50 to-orange-100/50",children:[t.jsxs(be,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[t.jsx(je,{className:"text-sm font-medium text-orange-900",children:"Templates"}),t.jsx(ka,{className:"h-4 w-4 text-orange-600"})]}),t.jsxs(me,{children:[t.jsx("div",{className:"text-2xl font-bold text-orange-900",children:M5.length}),t.jsxs("p",{className:"text-xs text-orange-600 flex items-center mt-1",children:[t.jsx(ka,{className:"h-3 w-3 mr-1"}),"Available templates"]})]})]})]}),t.jsxs(ue,{className:"shadow-sm",children:[t.jsxs(be,{children:[t.jsx(je,{className:"text-xl",children:"Report Templates"}),t.jsx(Ge,{children:"Quick start templates for common reports"})]}),t.jsx(me,{children:t.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:M5.map(i=>t.jsx(ue,{className:ze("overflow-hidden shadow-sm hover:shadow-md transition-shadow cursor-pointer border-0 bg-gradient-to-br",i.color),children:t.jsxs(me,{className:"p-6",children:[t.jsxs("div",{className:"flex items-center space-x-3 mb-3",children:[t.jsx(i.icon,{className:"h-8 w-8 text-primary"}),t.jsxs("div",{children:[t.jsx("h3",{className:"font-semibold text-foreground",children:i.name}),t.jsx(Re,{className:ze("ri-badge-status mt-1",s(i.type)),children:i.type.toUpperCase()})]})]}),t.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:i.description}),t.jsx(ne,{size:"sm",className:"w-full shadow-sm",children:"Generate Report"})]})},i.id))})})]}),t.jsxs("div",{className:"flex gap-4",children:[t.jsxs("div",{className:"ri-search-bar",children:[t.jsx(Jn,{className:"ri-search-icon"}),t.jsx(Te,{placeholder:"Search reports...",value:r,onChange:i=>n(i.target.value),className:"ri-search-input shadow-sm"})]}),t.jsxs(ne,{variant:"outline",className:"shadow-sm",children:[t.jsx(Ws,{className:"h-4 w-4 mr-2"}),"Filter"]})]}),t.jsxs(ue,{className:"shadow-sm",children:[t.jsxs(be,{children:[t.jsx(je,{className:"text-xl",children:"Generated Reports"}),t.jsx(Ge,{children:"View and manage your generated reports"})]}),t.jsx(me,{children:t.jsx("div",{className:"space-y-4",children:a.map(i=>t.jsxs("div",{className:"ri-table-row",children:[t.jsx("div",{className:"flex items-center space-x-4 flex-1",children:t.jsxs("div",{className:"flex-1",children:[t.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[t.jsx("h3",{className:"font-semibold text-foreground",children:i.name}),t.jsx(Re,{className:ze("ri-badge-status",s(i.type)),children:i.type.toUpperCase()})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm text-muted-foreground",children:[t.jsxs("div",{children:[t.jsx("span",{className:"font-medium",children:"Module:"}),t.jsx("span",{className:"ml-1",children:i.module})]}),t.jsxs("div",{children:[t.jsx("span",{className:"font-medium",children:"Generated By:"}),t.jsx("span",{className:"ml-1",children:i.generatedBy})]}),t.jsxs("div",{children:[t.jsx("span",{className:"font-medium",children:"Generated:"}),t.jsx("span",{className:"ml-1",children:gt(i.generatedAt)})]}),t.jsxs("div",{children:[t.jsx("span",{className:"font-medium",children:"Records:"}),t.jsx("span",{className:"ml-1",children:i.data.length})]})]})]})}),t.jsxs("div",{className:"ri-action-buttons",children:[t.jsxs(ne,{variant:"outline",size:"sm",className:"shadow-sm",children:[t.jsx(tl,{className:"h-3 w-3 mr-1"}),"View"]}),t.jsxs(ne,{variant:"outline",size:"sm",className:"shadow-sm",children:[t.jsx(Wo,{className:"h-3 w-3 mr-1"}),"Export"]})]})]},i.id))})})]})]})}function VU(){return t.jsxs(Fn,{children:[t.jsx(Pt,{path:"/",element:t.jsx(B5,{})}),t.jsx(Pt,{path:"/*",element:t.jsx(B5,{})})]})}function WU(){return t.jsx(TT,{defaultTheme:"light",storageKey:"renter-insight-theme",children:t.jsx(IT,{children:t.jsx(DD,{children:t.jsx(PT,{children:t.jsxs("div",{className:"min-h-screen bg-background",children:[t.jsxs(Fn,{children:[t.jsx(Pt,{path:"/login",element:t.jsx(s8,{})}),t.jsx(Pt,{path:"/*",element:t.jsx(a8,{children:t.jsx(OT,{children:t.jsxs(Fn,{children:[t.jsx(Pt,{path:"/",element:t.jsx(n8,{})}),t.jsx(Pt,{path:"/crm/*",element:t.jsx(eF,{})}),t.jsx(Pt,{path:"/inventory/*",element:t.jsx(s_,{})}),t.jsx(Pt,{path:"/deals/*",element:t.jsx(s$,{})}),t.jsx(Pt,{path:"/finance/*",element:t.jsx(m_,{})}),t.jsx(Pt,{path:"/quotes/*",element:t.jsx(o_,{})}),t.jsx(Pt,{path:"/agreements/*",element:t.jsx(i$,{})}),t.jsx(Pt,{path:"/service/*",element:t.jsx(fU,{})}),t.jsx(Pt,{path:"/pdi/*",element:t.jsx(kU,{})}),t.jsx(Pt,{path:"/delivery/*",element:t.jsx(NU,{})}),t.jsx(Pt,{path:"/commissions/*",element:t.jsx(LU,{})}),t.jsx(Pt,{path:"/portal/*",element:t.jsx(FU,{})}),t.jsx(Pt,{path:"/invoices/*",element:t.jsx(MU,{})}),t.jsx(Pt,{path:"/settings/*",element:t.jsx(BU,{})}),t.jsx(Pt,{path:"/admin/*",element:t.jsx($U,{})}),t.jsx(Pt,{path:"/reports/*",element:t.jsx(VU,{})})]})})})})]}),t.jsx(ET,{})]})})})})})}$v.createRoot(document.getElementById("root")).render(t.jsx(WU,{}));export{x_ as _,wh as c,Pm as g};
